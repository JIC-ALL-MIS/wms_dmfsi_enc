const a0_0x254bc5=a0_0x5e0d;function a0_0x5e0d(_0x3099d3,_0x9fcb5e){const _0x15f3b6=a0_0x15f3();return a0_0x5e0d=function(_0x5e0de2,_0x181cbb){_0x5e0de2=_0x5e0de2-0xd4;let _0x325840=_0x15f3b6[_0x5e0de2];return _0x325840;},a0_0x5e0d(_0x3099d3,_0x9fcb5e);}(function(_0x3f066,_0x2b9a59){const _0x5dedd7=a0_0x5e0d,_0x5ff2f6=_0x3f066();while(!![]){try{const _0x4e2be8=parseInt(_0x5dedd7(0x110))/0x1*(parseInt(_0x5dedd7(0x115))/0x2)+-parseInt(_0x5dedd7(0xda))/0x3+parseInt(_0x5dedd7(0xe9))/0x4*(-parseInt(_0x5dedd7(0x111))/0x5)+parseInt(_0x5dedd7(0xeb))/0x6+-parseInt(_0x5dedd7(0x101))/0x7+-parseInt(_0x5dedd7(0xe1))/0x8*(parseInt(_0x5dedd7(0xe6))/0x9)+parseInt(_0x5dedd7(0x108))/0xa*(parseInt(_0x5dedd7(0xfb))/0xb);if(_0x4e2be8===_0x2b9a59)break;else _0x5ff2f6['push'](_0x5ff2f6['shift']());}catch(_0x352129){_0x5ff2f6['push'](_0x5ff2f6['shift']());}}}(a0_0x15f3,0x93407));const express=require('express'),app=express(),router=express[a0_0x254bc5(0xd6)](),auth=require(a0_0x254bc5(0xd5)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require(a0_0x254bc5(0xe8)),users=require('../public/language/languages.json');function a0_0x15f3(){const _0x226a71=['$return_sale.sale_qty','$sale_product','$total_price','render','index','10Hprtpz','language','Chinese','length','json','/raw_out_line','Raw\x20Materials','$from_warehouse','242859PXcKQP','185QmQzlG','errors','/raw_line','Portuguese','4qUqhhe','$product','../middleware/auth','Router','/raw_trf_line','$product.product_name','Arabic\x20(ae)','3027159xHShAK','aggregate','warehouse_category','$return_sale','$product.quantity','$return_product.return_qty','$to_warehouse','91216laoclm','Hindi','$product.to_quantity','Finished\x20Goods','Arabic','351gegXMn','success','../models/all_models','19036iTmtAb','$sale_product.quantity','4991550RASrsQ','French','flash','findOne','user','English','get','/raw_adj_line','/rm_chart','/fg_trf_line','$total_amount','/fg_out_line','exports','/index','$date','German','19263563JJMCLe','Spanish','email','find','$return_product','True','5851433rvfixG','$product.adjust_qty'];a0_0x15f3=function(){return _0x226a71;};return a0_0x15f3();}router[a0_0x254bc5(0xf1)](a0_0x254bc5(0xf8),auth,async(_0x4dfc26,_0x2a06cc)=>{const _0x3afdc1=a0_0x254bc5;try{const {username:_0x41e8bf,email:_0x55ed48,role:_0x574864}=_0x4dfc26[_0x3afdc1(0xef)],_0x7a7082=_0x4dfc26['user'];var _0x231e83;if(_0x7a7082[_0x3afdc1(0xdc)]==_0x3afdc1(0x10e)){const _0x389f17=await product[_0x3afdc1(0xfe)]({'product_category':_0x3afdc1(0x10e)});_0x231e83=_0x389f17[_0x3afdc1(0x10b)];}else{if(_0x7a7082[_0x3afdc1(0xdc)]==_0x3afdc1(0xe4)){const _0x5837ce=await product[_0x3afdc1(0xfe)]({'product_category':_0x3afdc1(0xe4)});_0x231e83=_0x5837ce[_0x3afdc1(0x10b)];}else{const _0x132404=await product[_0x3afdc1(0xfe)]();_0x231e83=_0x132404[_0x3afdc1(0x10b)];}}const _0x360144=await profile[_0x3afdc1(0xee)]({'email':_0x7a7082[_0x3afdc1(0xfd)]}),_0x4ad5f0=await master_shop[_0x3afdc1(0xfe)](),_0x3da4df=await sales['aggregate']([{'$group':{'_id':null,'total_price':{'$sum':_0x3afdc1(0x105)}}}]),_0x4051e9=await sales[_0x3afdc1(0xdb)]([{'$unwind':'$sale_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x3afdc1(0xea)}}}]),_0x444c64=await sales_return['aggregate']([{'$group':{'_id':null,'total':{'$sum':_0x3afdc1(0xf5)}}}]),_0x300dae=await sales_return['aggregate']([{'$unwind':_0x3afdc1(0xdd)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x3afdc1(0x103)}}}]),_0x5da915=await purchases[_0x3afdc1(0xdb)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x3afdc1(0xf5)}}}]),_0x2f9aa6=await purchases_return['aggregate']([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x168d32=await purchases_return[_0x3afdc1(0xdb)]([{'$unwind':_0x3afdc1(0xff)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x3afdc1(0xdf)}}}]),_0x2d721c=await purchases[_0x3afdc1(0xdb)]([{'$unwind':_0x3afdc1(0xd4)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$product.quantity'}}}]),_0x22d60d=await purchases[_0x3afdc1(0xdb)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x2620a1=await sales[_0x3afdc1(0xdb)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x25500a=await transfers[_0x3afdc1(0xdb)]([{'$unwind':'$product'},{'$group':{'_id':_0x3afdc1(0xd8),'fromWarehouse':{'$first':_0x3afdc1(0x10f)},'toWareHouse':{'$first':_0x3afdc1(0xe0)},'FromtotalQuantity':{'$sum':'$product.from_quantity'},'TototalQuantity':{'$sum':_0x3afdc1(0xe3)}}}]),_0x2b1035=await categories['find'](),_0x23849a=await product[_0x3afdc1(0xfe)](),_0x1595d5=await suppliers['find'](),_0x14c256=await customer[_0x3afdc1(0xfe)]();if(_0x4ad5f0[0x0][_0x3afdc1(0x109)]=='English\x20(US)')var _0x39b64c=users[_0x3afdc1(0xf0)];else{if(_0x4ad5f0[0x0][_0x3afdc1(0x109)]==_0x3afdc1(0xe2))var _0x39b64c=users[_0x3afdc1(0xe2)];else{if(_0x4ad5f0[0x0][_0x3afdc1(0x109)]==_0x3afdc1(0xfa))var _0x39b64c=users[_0x3afdc1(0xfa)];else{if(_0x4ad5f0[0x0][_0x3afdc1(0x109)]==_0x3afdc1(0xfc))var _0x39b64c=users[_0x3afdc1(0xfc)];else{if(_0x4ad5f0[0x0][_0x3afdc1(0x109)]=='French')var _0x39b64c=users[_0x3afdc1(0xec)];else{if(_0x4ad5f0[0x0][_0x3afdc1(0x109)]=='Portuguese\x20(BR)')var _0x39b64c=users[_0x3afdc1(0x114)];else{if(_0x4ad5f0[0x0][_0x3afdc1(0x109)]==_0x3afdc1(0x10a))var _0x39b64c=users[_0x3afdc1(0x10a)];else{if(_0x4ad5f0[0x0][_0x3afdc1(0x109)]==_0x3afdc1(0xd9))var _0x39b64c=users[_0x3afdc1(0xe5)];}}}}}}}_0x2a06cc[_0x3afdc1(0x106)](_0x3afdc1(0x107),{'success':_0x4dfc26[_0x3afdc1(0xed)](_0x3afdc1(0xe7)),'errors':_0x4dfc26['flash'](_0x3afdc1(0x112)),'role':_0x7a7082,'profile':_0x360144,'sale':_0x3da4df[0x0],'sales_return':_0x444c64[0x0],'purchases':_0x5da915[0x0],'purchases_return':_0x2f9aa6[0x0],'purchases_table':_0x22d60d,'sales_table':_0x2620a1,'categories':_0x2b1035[_0x3afdc1(0x10b)],'product':_0x23849a['length'],'suppliers':_0x1595d5['length'],'customer':_0x14c256[_0x3afdc1(0x10b)],'master_shop':_0x4ad5f0,'language':_0x39b64c,'sale_QTY':_0x4051e9[0x0],'purchases_QTY':_0x2d721c[0x0],'sales_return_QTY':_0x300dae[0x0],'purchases_return_QTY':_0x168d32[0x0],'transfer_table':_0x25500a,'product_cnt':_0x231e83});}catch(_0x366346){console['log'](_0x366346);}}),router[a0_0x254bc5(0xf1)](a0_0x254bc5(0x113),auth,async(_0x5056f9,_0x544b24)=>{const _0x18c251=a0_0x254bc5;try{const _0x5865ad=await purchases[_0x18c251(0xdb)]([{'$unwind':_0x18c251(0xd4)},{'$group':{'_id':_0x18c251(0xf9),'totalQuantity':{'$sum':'$product.quantity'},'date':{'$first':_0x18c251(0xf9)}}},{'$sort':{'date':0x1}}]);_0x544b24[_0x18c251(0x10c)](_0x5865ad);}catch(_0x47fe30){_0x544b24[_0x18c251(0x10c)](_0x47fe30);}}),router['get'](a0_0x254bc5(0x10d),auth,async(_0x32c2b8,_0x5699ab)=>{const _0x38f1b7=a0_0x254bc5;try{const _0x1f0121=await sales[_0x38f1b7(0xdb)]([{'$match':{'finalize':_0x38f1b7(0x100)}},{'$unwind':_0x38f1b7(0x104)},{'$group':{'_id':_0x38f1b7(0xf9),'totalQuantity':{'$sum':_0x38f1b7(0xea)},'date':{'$first':_0x38f1b7(0xf9)}}},{'$sort':{'date':0x1}}]);_0x5699ab[_0x38f1b7(0x10c)](_0x1f0121);}catch(_0x5b5ebb){_0x5699ab[_0x38f1b7(0x10c)](_0x5b5ebb);}}),router['get'](a0_0x254bc5(0xf2),auth,async(_0x111868,_0x490c66)=>{const _0x31218a=a0_0x254bc5;try{const _0x26e5e0=await adjustment[_0x31218a(0xdb)]([{'$match':{'finalize':_0x31218a(0x100)}},{'$unwind':_0x31218a(0xd4)},{'$group':{'_id':_0x31218a(0xf9),'totalQuantity':{'$sum':_0x31218a(0x102)},'date':{'$first':_0x31218a(0xf9)}}},{'$sort':{'date':0x1}}]);_0x490c66[_0x31218a(0x10c)](_0x26e5e0);}catch(_0x5c8f3b){_0x490c66[_0x31218a(0x10c)](_0x5c8f3b);}}),router[a0_0x254bc5(0xf1)](a0_0x254bc5(0xd7),auth,async(_0x292164,_0x2ef91a)=>{const _0x23786=a0_0x254bc5;try{const _0x4242ef=await transfers[_0x23786(0xdb)]([{'$match':{'finalize':_0x23786(0x100)}},{'$unwind':'$product'},{'$group':{'_id':_0x23786(0xf9),'totalQuantity':{'$sum':_0x23786(0xe3)},'date':{'$first':_0x23786(0xf9)}}},{'$sort':{'date':0x1}}]);_0x2ef91a[_0x23786(0x10c)](_0x4242ef);}catch(_0x1379e4){_0x2ef91a['json'](_0x1379e4);}}),router['get']('/fg_line',auth,async(_0x1aa24d,_0x52ae32)=>{const _0x36bd95=a0_0x254bc5;try{const _0xdaa61=await purchases_finished[_0x36bd95(0xdb)]([{'$unwind':_0x36bd95(0xd4)},{'$group':{'_id':_0x36bd95(0xf9),'totalQuantity':{'$sum':'$product.quantity'},'date':{'$first':_0x36bd95(0xf9)}}},{'$sort':{'date':0x1}}]);_0x52ae32[_0x36bd95(0x10c)](_0xdaa61);}catch(_0x47d2e3){_0x52ae32[_0x36bd95(0x10c)](_0x47d2e3);}}),router[a0_0x254bc5(0xf1)](a0_0x254bc5(0xf6),auth,async(_0x4cfc9c,_0xbe8379)=>{const _0x4ca10e=a0_0x254bc5;try{const _0x53d902=await sales_finished[_0x4ca10e(0xdb)]([{'$match':{'finalize':_0x4ca10e(0x100)}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x4ca10e(0xf9),'totalQuantity':{'$sum':_0x4ca10e(0xea)},'date':{'$first':_0x4ca10e(0xf9)}}},{'$sort':{'date':0x1}}]);_0xbe8379['json'](_0x53d902);}catch(_0xd3a7e8){_0xbe8379['json'](_0xd3a7e8);}}),router[a0_0x254bc5(0xf1)]('/fg_adj_line',auth,async(_0x17c3ec,_0x1bbee5)=>{const _0x4eca90=a0_0x254bc5;try{const _0x270807=await adjustment_finished[_0x4eca90(0xdb)]([{'$match':{'finalize':_0x4eca90(0x100)}},{'$unwind':_0x4eca90(0xd4)},{'$group':{'_id':_0x4eca90(0xf9),'totalQuantity':{'$sum':_0x4eca90(0x102)},'date':{'$first':_0x4eca90(0xf9)}}},{'$sort':{'date':0x1}}]);_0x1bbee5[_0x4eca90(0x10c)](_0x270807);}catch(_0x5ea3c1){_0x1bbee5[_0x4eca90(0x10c)](_0x5ea3c1);}}),router[a0_0x254bc5(0xf1)](a0_0x254bc5(0xf4),auth,async(_0x4a597c,_0x9745a2)=>{const _0x20d021=a0_0x254bc5;try{const _0x3a2b52=await transfers_finished[_0x20d021(0xdb)]([{'$match':{'finalize':_0x20d021(0x100)}},{'$unwind':_0x20d021(0xd4)},{'$group':{'_id':_0x20d021(0xf9),'totalQuantity':{'$sum':_0x20d021(0xe3)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x9745a2[_0x20d021(0x10c)](_0x3a2b52);}catch(_0x29bc16){_0x9745a2[_0x20d021(0x10c)](_0x29bc16);}}),router[a0_0x254bc5(0xf1)](a0_0x254bc5(0xf3),auth,async(_0x3c1f42,_0x598db9)=>{const _0x988775=a0_0x254bc5;try{const _0x418eee=await purchases[_0x988775(0xdb)]([{'$unwind':'$product'},{'$group':{'_id':_0x988775(0xf9),'totalQuantity':{'$sum':_0x988775(0xde)},'date':{'$first':_0x988775(0xf9)}}},{'$sort':{'date':0x1}}]),_0xf68a50=await sales[_0x988775(0xdb)]([{'$match':{'finalize':_0x988775(0x100)}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x988775(0xf9),'totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':_0x988775(0xf9)}}},{'$sort':{'date':0x1}}]),_0xda31fb=await adjustment[_0x988775(0xdb)]([{'$match':{'finalize':_0x988775(0x100)}},{'$unwind':'$product'},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x988775(0x102)},'date':{'$first':_0x988775(0xf9)}}},{'$sort':{'date':0x1}}]),_0x358d5e=await transfers[_0x988775(0xdb)]([{'$match':{'finalize':_0x988775(0x100)}},{'$unwind':_0x988775(0xd4)},{'$group':{'_id':_0x988775(0xf9),'totalQuantity':{'$sum':_0x988775(0xe3)},'date':{'$first':_0x988775(0xf9)}}},{'$sort':{'date':0x1}}]);_0x598db9['json']({'purchases':_0x418eee,'sales':_0xf68a50,'adjustment':_0xda31fb,'transfer':_0x358d5e});}catch(_0xeb6fd8){_0x598db9[_0x988775(0x10c)](_0xeb6fd8);}}),router[a0_0x254bc5(0xf1)]('/fg_chart',auth,async(_0xb1f5b4,_0x5c0498)=>{const _0x2e835e=a0_0x254bc5;try{const _0x552357=await product[_0x2e835e(0xfe)]({'product_category':_0x2e835e(0xe4)});_0x5c0498[_0x2e835e(0x10c)]({'count':_0x552357[_0x2e835e(0x10b)]});}catch(_0x57e881){_0x5c0498['json'](_0x57e881);}}),module[a0_0x254bc5(0xf7)]=router;