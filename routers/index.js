const a0_0x1530b4=a0_0x3ce0;function a0_0x3ce0(_0xeb1c2a,_0x44f6e4){const _0x1af8b2=a0_0x1af8();return a0_0x3ce0=function(_0x3ce0a4,_0x2090c2){_0x3ce0a4=_0x3ce0a4-0x1b2;let _0x2b432b=_0x1af8b2[_0x3ce0a4];return _0x2b432b;},a0_0x3ce0(_0xeb1c2a,_0x44f6e4);}(function(_0xfbc654,_0x3540a3){const _0x597cc0=a0_0x3ce0,_0x558c34=_0xfbc654();while(!![]){try{const _0x37de85=parseInt(_0x597cc0(0x1b8))/0x1*(parseInt(_0x597cc0(0x1cb))/0x2)+parseInt(_0x597cc0(0x1e5))/0x3+-parseInt(_0x597cc0(0x1e3))/0x4+parseInt(_0x597cc0(0x1cc))/0x5*(parseInt(_0x597cc0(0x1c8))/0x6)+parseInt(_0x597cc0(0x1e4))/0x7+parseInt(_0x597cc0(0x1c4))/0x8+-parseInt(_0x597cc0(0x1e6))/0x9;if(_0x37de85===_0x3540a3)break;else _0x558c34['push'](_0x558c34['shift']());}catch(_0x213a55){_0x558c34['push'](_0x558c34['shift']());}}}(a0_0x1af8,0xb022c));function a0_0x1af8(){const _0x2ba911=['$product.to_quantity','/raw_trf_line','3040528wnsZZo','Portuguese','/raw_out_line','Finished\x20Goods','1041186vLNXVM','$sale_product','warehouse_category','20mfNmWJ','35yjEAse','$product','Router','../models/all_models','/fg_line','English\x20(US)','$total_amount','French','$product.adjust_qty','index','Spanish','findOne','$to_warehouse','Chinese','German','$product.product_name','length','$product.from_quantity','../middleware/auth','log','flash','aggregate','email','3459264wPBbjo','4877320UaJtUK','4019736BAxXEb','19181673KKWEQg','/fg_out_line','language','/rm_chart','errors','/fg_chart','$total_price','$sale_product.quantity','exports','json','find','$product.quantity','/fg_trf_line','success','$return_product','/index','8611tzbiXt','Hindi','/raw_line','user','get','True','English','/fg_adj_line','Raw\x20Materials','$date'];a0_0x1af8=function(){return _0x2ba911;};return a0_0x1af8();}const express=require('express'),app=express(),router=express[a0_0x1530b4(0x1ce)](),auth=require(a0_0x1530b4(0x1de)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require(a0_0x1530b4(0x1cf)),users=require('../public/language/languages.json');router[a0_0x1530b4(0x1bc)](a0_0x1530b4(0x1b7),auth,async(_0xf38159,_0x856479)=>{const _0x21f4ce=a0_0x1530b4;try{const {username:_0x5bcc15,email:_0xe6176c,role:_0x56631c}=_0xf38159[_0x21f4ce(0x1bb)],_0x4b0d79=_0xf38159[_0x21f4ce(0x1bb)];var _0x11aa32;if(_0x4b0d79[_0x21f4ce(0x1ca)]=='Raw\x20Materials'){const _0x452352=await product['find']({'product_category':_0x21f4ce(0x1c0)});_0x11aa32=_0x452352[_0x21f4ce(0x1dc)];}else{if(_0x4b0d79[_0x21f4ce(0x1ca)]==_0x21f4ce(0x1c7)){const _0x4aff21=await product[_0x21f4ce(0x1b2)]({'product_category':'Finished\x20Goods'});_0x11aa32=_0x4aff21[_0x21f4ce(0x1dc)];}else{const _0x489d78=await product[_0x21f4ce(0x1b2)]();_0x11aa32=_0x489d78[_0x21f4ce(0x1dc)];}}const _0x56214c=await profile[_0x21f4ce(0x1d7)]({'email':_0x4b0d79[_0x21f4ce(0x1e2)]}),_0x597036=await master_shop[_0x21f4ce(0x1b2)](),_0x5c68ef=await sales[_0x21f4ce(0x1e1)]([{'$group':{'_id':null,'total_price':{'$sum':_0x21f4ce(0x1ec)}}}]),_0x5db48f=await sales[_0x21f4ce(0x1e1)]([{'$unwind':_0x21f4ce(0x1c9)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x21f4ce(0x1ed)}}}]),_0x401abd=await sales_return[_0x21f4ce(0x1e1)]([{'$group':{'_id':null,'total':{'$sum':_0x21f4ce(0x1d2)}}}]),_0x556b07=await sales_return['aggregate']([{'$unwind':'$return_sale'},{'$group':{'_id':null,'totalQuantity':{'$sum':'$return_sale.sale_qty'}}}]),_0x51157e=await purchases['aggregate']([{'$group':{'_id':null,'total_amount':{'$sum':_0x21f4ce(0x1d2)}}}]),_0x1e401f=await purchases_return[_0x21f4ce(0x1e1)]([{'$group':{'_id':null,'total':{'$sum':_0x21f4ce(0x1d2)}}}]),_0x4fa99a=await purchases_return[_0x21f4ce(0x1e1)]([{'$unwind':_0x21f4ce(0x1b6)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$return_product.return_qty'}}}]),_0x4abb7b=await purchases['aggregate']([{'$unwind':_0x21f4ce(0x1cd)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x21f4ce(0x1b3)}}}]),_0x41208d=await purchases[_0x21f4ce(0x1e1)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x2463b5=await sales[_0x21f4ce(0x1e1)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x27f4ba=await transfers['aggregate']([{'$unwind':_0x21f4ce(0x1cd)},{'$group':{'_id':_0x21f4ce(0x1db),'fromWarehouse':{'$first':'$from_warehouse'},'toWareHouse':{'$first':_0x21f4ce(0x1d8)},'FromtotalQuantity':{'$sum':_0x21f4ce(0x1dd)},'TototalQuantity':{'$sum':_0x21f4ce(0x1c2)}}}]),_0x451247=await categories[_0x21f4ce(0x1b2)](),_0x3936d0=await product[_0x21f4ce(0x1b2)](),_0x1f61d3=await suppliers[_0x21f4ce(0x1b2)](),_0x396486=await customer[_0x21f4ce(0x1b2)]();if(_0x597036[0x0][_0x21f4ce(0x1e8)]==_0x21f4ce(0x1d1))var _0x458447=users[_0x21f4ce(0x1be)];else{if(_0x597036[0x0][_0x21f4ce(0x1e8)]=='Hindi')var _0x458447=users[_0x21f4ce(0x1b9)];else{if(_0x597036[0x0][_0x21f4ce(0x1e8)]==_0x21f4ce(0x1da))var _0x458447=users[_0x21f4ce(0x1da)];else{if(_0x597036[0x0][_0x21f4ce(0x1e8)]==_0x21f4ce(0x1d6))var _0x458447=users['Spanish'];else{if(_0x597036[0x0]['language']==_0x21f4ce(0x1d3))var _0x458447=users['French'];else{if(_0x597036[0x0]['language']=='Portuguese\x20(BR)')var _0x458447=users[_0x21f4ce(0x1c5)];else{if(_0x597036[0x0][_0x21f4ce(0x1e8)]=='Chinese')var _0x458447=users[_0x21f4ce(0x1d9)];else{if(_0x597036[0x0][_0x21f4ce(0x1e8)]=='Arabic\x20(ae)')var _0x458447=users['Arabic'];}}}}}}}_0x856479['render'](_0x21f4ce(0x1d5),{'success':_0xf38159['flash'](_0x21f4ce(0x1b5)),'errors':_0xf38159[_0x21f4ce(0x1e0)](_0x21f4ce(0x1ea)),'role':_0x4b0d79,'profile':_0x56214c,'sale':_0x5c68ef[0x0],'sales_return':_0x401abd[0x0],'purchases':_0x51157e[0x0],'purchases_return':_0x1e401f[0x0],'purchases_table':_0x41208d,'sales_table':_0x2463b5,'categories':_0x451247[_0x21f4ce(0x1dc)],'product':_0x3936d0[_0x21f4ce(0x1dc)],'suppliers':_0x1f61d3[_0x21f4ce(0x1dc)],'customer':_0x396486[_0x21f4ce(0x1dc)],'master_shop':_0x597036,'language':_0x458447,'sale_QTY':_0x5db48f[0x0],'purchases_QTY':_0x4abb7b[0x0],'sales_return_QTY':_0x556b07[0x0],'purchases_return_QTY':_0x4fa99a[0x0],'transfer_table':_0x27f4ba,'product_cnt':_0x11aa32});}catch(_0xc4bfec){console[_0x21f4ce(0x1df)](_0xc4bfec);}}),router[a0_0x1530b4(0x1bc)](a0_0x1530b4(0x1ba),auth,async(_0xf9a43b,_0x26d819)=>{const _0x4b10e4=a0_0x1530b4;try{const _0x550a68=await purchases[_0x4b10e4(0x1e1)]([{'$unwind':_0x4b10e4(0x1cd)},{'$group':{'_id':_0x4b10e4(0x1c1),'totalQuantity':{'$sum':_0x4b10e4(0x1b3)},'date':{'$first':_0x4b10e4(0x1c1)}}},{'$sort':{'date':0x1}}]);_0x26d819[_0x4b10e4(0x1ef)](_0x550a68);}catch(_0x66d259){_0x26d819[_0x4b10e4(0x1ef)](_0x66d259);}}),router[a0_0x1530b4(0x1bc)](a0_0x1530b4(0x1c6),auth,async(_0x2afbf3,_0xdca45c)=>{const _0x1ae065=a0_0x1530b4;try{const _0x27c507=await sales[_0x1ae065(0x1e1)]([{'$match':{'finalize':_0x1ae065(0x1bd)}},{'$unwind':_0x1ae065(0x1c9)},{'$group':{'_id':_0x1ae065(0x1c1),'totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':_0x1ae065(0x1c1)}}},{'$sort':{'date':0x1}}]);_0xdca45c[_0x1ae065(0x1ef)](_0x27c507);}catch(_0x2fb495){_0xdca45c[_0x1ae065(0x1ef)](_0x2fb495);}}),router[a0_0x1530b4(0x1bc)]('/raw_adj_line',auth,async(_0xdd5fc7,_0x57d5da)=>{const _0x572508=a0_0x1530b4;try{const _0x446c0b=await adjustment[_0x572508(0x1e1)]([{'$match':{'finalize':_0x572508(0x1bd)}},{'$unwind':_0x572508(0x1cd)},{'$group':{'_id':'$date','totalQuantity':{'$sum':'$product.adjust_qty'},'date':{'$first':_0x572508(0x1c1)}}},{'$sort':{'date':0x1}}]);_0x57d5da['json'](_0x446c0b);}catch(_0x1fba9c){_0x57d5da['json'](_0x1fba9c);}}),router['get'](a0_0x1530b4(0x1c3),auth,async(_0x49bc89,_0x3706ca)=>{const _0x3fa556=a0_0x1530b4;try{const _0xfb3a47=await transfers[_0x3fa556(0x1e1)]([{'$match':{'finalize':_0x3fa556(0x1bd)}},{'$unwind':_0x3fa556(0x1cd)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x3fa556(0x1c2)},'date':{'$first':_0x3fa556(0x1c1)}}},{'$sort':{'date':0x1}}]);_0x3706ca[_0x3fa556(0x1ef)](_0xfb3a47);}catch(_0x5752c3){_0x3706ca[_0x3fa556(0x1ef)](_0x5752c3);}}),router[a0_0x1530b4(0x1bc)](a0_0x1530b4(0x1d0),auth,async(_0x295873,_0x55e09b)=>{const _0x1899a2=a0_0x1530b4;try{const _0x101760=await purchases_finished[_0x1899a2(0x1e1)]([{'$unwind':_0x1899a2(0x1cd)},{'$group':{'_id':_0x1899a2(0x1c1),'totalQuantity':{'$sum':_0x1899a2(0x1b3)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x55e09b[_0x1899a2(0x1ef)](_0x101760);}catch(_0xbba52e){_0x55e09b[_0x1899a2(0x1ef)](_0xbba52e);}}),router['get'](a0_0x1530b4(0x1e7),auth,async(_0xc133f7,_0x281590)=>{const _0xbdbc0f=a0_0x1530b4;try{const _0x489b48=await sales_finished[_0xbdbc0f(0x1e1)]([{'$match':{'finalize':_0xbdbc0f(0x1bd)}},{'$unwind':_0xbdbc0f(0x1c9)},{'$group':{'_id':_0xbdbc0f(0x1c1),'totalQuantity':{'$sum':_0xbdbc0f(0x1ed)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x281590[_0xbdbc0f(0x1ef)](_0x489b48);}catch(_0x16f686){_0x281590['json'](_0x16f686);}}),router['get'](a0_0x1530b4(0x1bf),auth,async(_0x5c6311,_0x2f8a6e)=>{const _0xd24bdd=a0_0x1530b4;try{const _0x24c7e9=await adjustment_finished[_0xd24bdd(0x1e1)]([{'$match':{'finalize':_0xd24bdd(0x1bd)}},{'$unwind':_0xd24bdd(0x1cd)},{'$group':{'_id':_0xd24bdd(0x1c1),'totalQuantity':{'$sum':_0xd24bdd(0x1d4)},'date':{'$first':_0xd24bdd(0x1c1)}}},{'$sort':{'date':0x1}}]);_0x2f8a6e['json'](_0x24c7e9);}catch(_0x2ebbc7){_0x2f8a6e[_0xd24bdd(0x1ef)](_0x2ebbc7);}}),router[a0_0x1530b4(0x1bc)](a0_0x1530b4(0x1b4),auth,async(_0x5a32d8,_0x2705b7)=>{const _0x5941cb=a0_0x1530b4;try{const _0x2b5b20=await transfers_finished[_0x5941cb(0x1e1)]([{'$match':{'finalize':'True'}},{'$unwind':_0x5941cb(0x1cd)},{'$group':{'_id':_0x5941cb(0x1c1),'totalQuantity':{'$sum':_0x5941cb(0x1c2)},'date':{'$first':_0x5941cb(0x1c1)}}},{'$sort':{'date':0x1}}]);_0x2705b7[_0x5941cb(0x1ef)](_0x2b5b20);}catch(_0x896fa){_0x2705b7[_0x5941cb(0x1ef)](_0x896fa);}}),router[a0_0x1530b4(0x1bc)](a0_0x1530b4(0x1e9),auth,async(_0x2c2f2c,_0x45b136)=>{const _0x5d59ba=a0_0x1530b4;try{const _0x17550e=await purchases[_0x5d59ba(0x1e1)]([{'$unwind':_0x5d59ba(0x1cd)},{'$group':{'_id':_0x5d59ba(0x1c1),'totalQuantity':{'$sum':'$product.quantity'},'date':{'$first':_0x5d59ba(0x1c1)}}},{'$sort':{'date':0x1}}]),_0x749a9d=await sales[_0x5d59ba(0x1e1)]([{'$match':{'finalize':_0x5d59ba(0x1bd)}},{'$unwind':_0x5d59ba(0x1c9)},{'$group':{'_id':_0x5d59ba(0x1c1),'totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':_0x5d59ba(0x1c1)}}},{'$sort':{'date':0x1}}]),_0x10f00a=await adjustment[_0x5d59ba(0x1e1)]([{'$match':{'finalize':_0x5d59ba(0x1bd)}},{'$unwind':'$product'},{'$group':{'_id':_0x5d59ba(0x1c1),'totalQuantity':{'$sum':_0x5d59ba(0x1d4)},'date':{'$first':_0x5d59ba(0x1c1)}}},{'$sort':{'date':0x1}}]),_0x7ab73e=await transfers[_0x5d59ba(0x1e1)]([{'$match':{'finalize':'True'}},{'$unwind':'$product'},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x5d59ba(0x1c2)},'date':{'$first':_0x5d59ba(0x1c1)}}},{'$sort':{'date':0x1}}]);_0x45b136[_0x5d59ba(0x1ef)]({'purchases':_0x17550e,'sales':_0x749a9d,'adjustment':_0x10f00a,'transfer':_0x7ab73e});}catch(_0x249acf){_0x45b136[_0x5d59ba(0x1ef)](_0x249acf);}}),router[a0_0x1530b4(0x1bc)](a0_0x1530b4(0x1eb),auth,async(_0x211e52,_0x266316)=>{const _0x24e2e1=a0_0x1530b4;try{const _0x370a24=await product[_0x24e2e1(0x1b2)]({'product_category':_0x24e2e1(0x1c7)});_0x266316[_0x24e2e1(0x1ef)]({'count':_0x370a24[_0x24e2e1(0x1dc)]});}catch(_0x58440c){_0x266316[_0x24e2e1(0x1ef)](_0x58440c);}}),module[a0_0x1530b4(0x1ee)]=router;