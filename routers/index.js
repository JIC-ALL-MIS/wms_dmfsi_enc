const a0_0x54aed7=a0_0x564e;function a0_0x564e(_0x5ca9b9,_0x30c673){const _0x3869f4=a0_0x3869();return a0_0x564e=function(_0x564eda,_0xa9e714){_0x564eda=_0x564eda-0x102;let _0x16787c=_0x3869f4[_0x564eda];return _0x16787c;},a0_0x564e(_0x5ca9b9,_0x30c673);}function a0_0x3869(){const _0x4b7ba8=['findOne','language','json','user','index','$product.adjust_qty','Spanish','length','336kWDwHF','$from_warehouse','Hindi','$sale_product','French','/rm_chart','German','8869284NxkBEz','express','$to_warehouse','../public/language/languages.json','success','Portuguese\x20(BR)','$product.to_quantity','exports','486717EvJUHV','../middleware/auth','/fg_line','English\x20(US)','$total_amount','166558FTCEFg','True','find','$return_sale.sale_qty','$product.from_quantity','3052POwBEt','$product.product_name','$return_sale','$date','$product.quantity','$sale_product.quantity','6747000ReFTsc','$total_price','warehouse_category','$product','/raw_out_line','Raw\x20Materials','get','4905yiVAVp','Chinese','3277466cOeWIn','English','aggregate','/raw_adj_line','Arabic\x20(ae)','/raw_trf_line','757351qABHWh','/fg_out_line','/raw_line','/fg_adj_line','/fg_chart','log','Arabic','$return_product','/fg_trf_line'];a0_0x3869=function(){return _0x4b7ba8;};return a0_0x3869();}(function(_0x3ec1f0,_0x252b26){const _0x282069=a0_0x564e,_0x6ec2c3=_0x3ec1f0();while(!![]){try{const _0x294c57=-parseInt(_0x282069(0x133))/0x1+parseInt(_0x282069(0x12d))/0x2+parseInt(_0x282069(0x114))/0x3+parseInt(_0x282069(0x11e))/0x4*(parseInt(_0x282069(0x12b))/0x5)+parseInt(_0x282069(0x124))/0x6+parseInt(_0x282069(0x119))/0x7*(-parseInt(_0x282069(0x105))/0x8)+-parseInt(_0x282069(0x10c))/0x9;if(_0x294c57===_0x252b26)break;else _0x6ec2c3['push'](_0x6ec2c3['shift']());}catch(_0x549f01){_0x6ec2c3['push'](_0x6ec2c3['shift']());}}}(a0_0x3869,0xe37d8));const express=require(a0_0x54aed7(0x10d)),app=express(),router=express['Router'](),auth=require(a0_0x54aed7(0x115)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require('../models/all_models'),users=require(a0_0x54aed7(0x10f));router[a0_0x54aed7(0x12a)]('/index',auth,async(_0x35a08f,_0x5a00f3)=>{const _0x3133f8=a0_0x54aed7;try{const {username:_0x2ac167,email:_0x1d9989,role:_0xdf4791}=_0x35a08f[_0x3133f8(0x13f)],_0x22568f=_0x35a08f['user'];var _0x17dd7f;if(_0x22568f[_0x3133f8(0x126)]=='Raw\x20Materials'){const _0x3918e5=await product[_0x3133f8(0x11b)]({'product_category':_0x3133f8(0x129)});_0x17dd7f=_0x3918e5[_0x3133f8(0x104)];}else{if(_0x22568f[_0x3133f8(0x126)]=='Finished\x20Goods'){const _0x2199cf=await product['find']({'product_category':'Finished\x20Goods'});_0x17dd7f=_0x2199cf[_0x3133f8(0x104)];}else{const _0x4d1045=await product['find']();_0x17dd7f=_0x4d1045['length'];}}const _0x3da3a9=await profile[_0x3133f8(0x13c)]({'email':_0x22568f['email']}),_0x40c823=await master_shop[_0x3133f8(0x11b)](),_0x12bfd6=await sales['aggregate']([{'$group':{'_id':null,'total_price':{'$sum':_0x3133f8(0x125)}}}]),_0x22c75e=await sales[_0x3133f8(0x12f)]([{'$unwind':_0x3133f8(0x108)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x3133f8(0x123)}}}]),_0x56d371=await sales_return[_0x3133f8(0x12f)]([{'$group':{'_id':null,'total':{'$sum':_0x3133f8(0x118)}}}]),_0x23aedb=await sales_return[_0x3133f8(0x12f)]([{'$unwind':_0x3133f8(0x120)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x3133f8(0x11c)}}}]),_0x3c4475=await purchases[_0x3133f8(0x12f)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x3133f8(0x118)}}}]),_0x1cd3f4=await purchases_return[_0x3133f8(0x12f)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x3dd873=await purchases_return[_0x3133f8(0x12f)]([{'$unwind':_0x3133f8(0x13a)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$return_product.return_qty'}}}]),_0x46ffe5=await purchases[_0x3133f8(0x12f)]([{'$unwind':_0x3133f8(0x127)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x3133f8(0x122)}}}]),_0x4cdc70=await purchases[_0x3133f8(0x12f)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x1d3b31=await sales[_0x3133f8(0x12f)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x33834f=await transfers[_0x3133f8(0x12f)]([{'$unwind':_0x3133f8(0x127)},{'$group':{'_id':_0x3133f8(0x11f),'fromWarehouse':{'$first':_0x3133f8(0x106)},'toWareHouse':{'$first':_0x3133f8(0x10e)},'FromtotalQuantity':{'$sum':_0x3133f8(0x11d)},'TototalQuantity':{'$sum':_0x3133f8(0x112)}}}]),_0x54479c=await categories['find'](),_0x3d25dc=await product['find'](),_0x367909=await suppliers[_0x3133f8(0x11b)](),_0x1fa133=await customer[_0x3133f8(0x11b)]();if(_0x40c823[0x0][_0x3133f8(0x13d)]==_0x3133f8(0x117))var _0x4455bf=users[_0x3133f8(0x12e)];else{if(_0x40c823[0x0][_0x3133f8(0x13d)]==_0x3133f8(0x107))var _0x4455bf=users[_0x3133f8(0x107)];else{if(_0x40c823[0x0]['language']==_0x3133f8(0x10b))var _0x4455bf=users['German'];else{if(_0x40c823[0x0][_0x3133f8(0x13d)]==_0x3133f8(0x103))var _0x4455bf=users[_0x3133f8(0x103)];else{if(_0x40c823[0x0][_0x3133f8(0x13d)]=='French')var _0x4455bf=users[_0x3133f8(0x109)];else{if(_0x40c823[0x0][_0x3133f8(0x13d)]==_0x3133f8(0x111))var _0x4455bf=users['Portuguese'];else{if(_0x40c823[0x0]['language']==_0x3133f8(0x12c))var _0x4455bf=users[_0x3133f8(0x12c)];else{if(_0x40c823[0x0][_0x3133f8(0x13d)]==_0x3133f8(0x131))var _0x4455bf=users[_0x3133f8(0x139)];}}}}}}}_0x5a00f3['render'](_0x3133f8(0x140),{'success':_0x35a08f['flash'](_0x3133f8(0x110)),'errors':_0x35a08f['flash']('errors'),'role':_0x22568f,'profile':_0x3da3a9,'sale':_0x12bfd6[0x0],'sales_return':_0x56d371[0x0],'purchases':_0x3c4475[0x0],'purchases_return':_0x1cd3f4[0x0],'purchases_table':_0x4cdc70,'sales_table':_0x1d3b31,'categories':_0x54479c[_0x3133f8(0x104)],'product':_0x3d25dc[_0x3133f8(0x104)],'suppliers':_0x367909[_0x3133f8(0x104)],'customer':_0x1fa133[_0x3133f8(0x104)],'master_shop':_0x40c823,'language':_0x4455bf,'sale_QTY':_0x22c75e[0x0],'purchases_QTY':_0x46ffe5[0x0],'sales_return_QTY':_0x23aedb[0x0],'purchases_return_QTY':_0x3dd873[0x0],'transfer_table':_0x33834f,'product_cnt':_0x17dd7f});}catch(_0x4d24d4){console[_0x3133f8(0x138)](_0x4d24d4);}}),router[a0_0x54aed7(0x12a)](a0_0x54aed7(0x135),auth,async(_0x2f44fa,_0x5f359a)=>{const _0x5c877c=a0_0x54aed7;try{const _0x3d4b04=await purchases[_0x5c877c(0x12f)]([{'$unwind':_0x5c877c(0x127)},{'$group':{'_id':_0x5c877c(0x121),'totalQuantity':{'$sum':_0x5c877c(0x122)},'date':{'$first':_0x5c877c(0x121)}}},{'$sort':{'date':0x1}}]);_0x5f359a[_0x5c877c(0x13e)](_0x3d4b04);}catch(_0x209863){_0x5f359a[_0x5c877c(0x13e)](_0x209863);}}),router[a0_0x54aed7(0x12a)](a0_0x54aed7(0x128),auth,async(_0x4d7eee,_0x335376)=>{const _0x46952f=a0_0x54aed7;try{const _0x2fb039=await sales[_0x46952f(0x12f)]([{'$match':{'finalize':_0x46952f(0x11a)}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x46952f(0x121),'totalQuantity':{'$sum':_0x46952f(0x123)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x335376[_0x46952f(0x13e)](_0x2fb039);}catch(_0x308050){_0x335376['json'](_0x308050);}}),router['get'](a0_0x54aed7(0x130),auth,async(_0x29e91a,_0x5be72f)=>{const _0x298015=a0_0x54aed7;try{const _0x148d1f=await adjustment[_0x298015(0x12f)]([{'$match':{'finalize':_0x298015(0x11a)}},{'$unwind':'$product'},{'$group':{'_id':_0x298015(0x121),'totalQuantity':{'$sum':'$product.adjust_qty'},'date':{'$first':_0x298015(0x121)}}},{'$sort':{'date':0x1}}]);_0x5be72f[_0x298015(0x13e)](_0x148d1f);}catch(_0x11d1e4){_0x5be72f[_0x298015(0x13e)](_0x11d1e4);}}),router[a0_0x54aed7(0x12a)](a0_0x54aed7(0x132),auth,async(_0x30d17c,_0x2f7eb4)=>{const _0x2126ac=a0_0x54aed7;try{const _0x12580c=await transfers[_0x2126ac(0x12f)]([{'$match':{'finalize':_0x2126ac(0x11a)}},{'$unwind':_0x2126ac(0x127)},{'$group':{'_id':_0x2126ac(0x121),'totalQuantity':{'$sum':_0x2126ac(0x112)},'date':{'$first':_0x2126ac(0x121)}}},{'$sort':{'date':0x1}}]);_0x2f7eb4['json'](_0x12580c);}catch(_0x275c5f){_0x2f7eb4[_0x2126ac(0x13e)](_0x275c5f);}}),router[a0_0x54aed7(0x12a)](a0_0x54aed7(0x116),auth,async(_0x10c942,_0x344620)=>{const _0xa4dbe4=a0_0x54aed7;try{const _0x3e1c43=await purchases_finished[_0xa4dbe4(0x12f)]([{'$unwind':_0xa4dbe4(0x127)},{'$group':{'_id':_0xa4dbe4(0x121),'totalQuantity':{'$sum':'$product.quantity'},'date':{'$first':_0xa4dbe4(0x121)}}},{'$sort':{'date':0x1}}]);_0x344620[_0xa4dbe4(0x13e)](_0x3e1c43);}catch(_0x1753ad){_0x344620[_0xa4dbe4(0x13e)](_0x1753ad);}}),router['get'](a0_0x54aed7(0x134),auth,async(_0x186561,_0x96f652)=>{const _0x1b96b6=a0_0x54aed7;try{const _0x1b250f=await sales_finished[_0x1b96b6(0x12f)]([{'$match':{'finalize':_0x1b96b6(0x11a)}},{'$unwind':_0x1b96b6(0x108)},{'$group':{'_id':_0x1b96b6(0x121),'totalQuantity':{'$sum':_0x1b96b6(0x123)},'date':{'$first':_0x1b96b6(0x121)}}},{'$sort':{'date':0x1}}]);_0x96f652[_0x1b96b6(0x13e)](_0x1b250f);}catch(_0x118d70){_0x96f652['json'](_0x118d70);}}),router[a0_0x54aed7(0x12a)](a0_0x54aed7(0x136),auth,async(_0x32dd9c,_0x190dff)=>{const _0x36e903=a0_0x54aed7;try{const _0x3f4316=await adjustment_finished[_0x36e903(0x12f)]([{'$match':{'finalize':'True'}},{'$unwind':'$product'},{'$group':{'_id':_0x36e903(0x121),'totalQuantity':{'$sum':_0x36e903(0x102)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x190dff[_0x36e903(0x13e)](_0x3f4316);}catch(_0x413fb6){_0x190dff[_0x36e903(0x13e)](_0x413fb6);}}),router[a0_0x54aed7(0x12a)](a0_0x54aed7(0x13b),auth,async(_0x3d0f0b,_0x317202)=>{const _0x122564=a0_0x54aed7;try{const _0x19cfe4=await transfers_finished[_0x122564(0x12f)]([{'$match':{'finalize':_0x122564(0x11a)}},{'$unwind':_0x122564(0x127)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x122564(0x112)},'date':{'$first':_0x122564(0x121)}}},{'$sort':{'date':0x1}}]);_0x317202[_0x122564(0x13e)](_0x19cfe4);}catch(_0x43c9e9){_0x317202[_0x122564(0x13e)](_0x43c9e9);}}),router[a0_0x54aed7(0x12a)](a0_0x54aed7(0x10a),auth,async(_0xee42f4,_0x15d9af)=>{const _0x2be2c3=a0_0x54aed7;try{const _0xd29775=await purchases[_0x2be2c3(0x12f)]([{'$unwind':_0x2be2c3(0x127)},{'$group':{'_id':_0x2be2c3(0x121),'totalQuantity':{'$sum':_0x2be2c3(0x122)},'date':{'$first':_0x2be2c3(0x121)}}},{'$sort':{'date':0x1}}]),_0x2a6c60=await sales[_0x2be2c3(0x12f)]([{'$match':{'finalize':_0x2be2c3(0x11a)}},{'$unwind':_0x2be2c3(0x108)},{'$group':{'_id':'$date','totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]),_0x2404af=await adjustment['aggregate']([{'$match':{'finalize':_0x2be2c3(0x11a)}},{'$unwind':_0x2be2c3(0x127)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x2be2c3(0x102)},'date':{'$first':_0x2be2c3(0x121)}}},{'$sort':{'date':0x1}}]),_0x25bdab=await transfers['aggregate']([{'$match':{'finalize':_0x2be2c3(0x11a)}},{'$unwind':_0x2be2c3(0x127)},{'$group':{'_id':_0x2be2c3(0x121),'totalQuantity':{'$sum':_0x2be2c3(0x112)},'date':{'$first':_0x2be2c3(0x121)}}},{'$sort':{'date':0x1}}]);_0x15d9af['json']({'purchases':_0xd29775,'sales':_0x2a6c60,'adjustment':_0x2404af,'transfer':_0x25bdab});}catch(_0x4b6d7c){_0x15d9af['json'](_0x4b6d7c);}}),router[a0_0x54aed7(0x12a)](a0_0x54aed7(0x137),auth,async(_0x50a202,_0x37ee93)=>{const _0x485416=a0_0x54aed7;try{const _0x5dd453=await product[_0x485416(0x11b)]({'product_category':'Finished\x20Goods'});_0x37ee93[_0x485416(0x13e)]({'count':_0x5dd453[_0x485416(0x104)]});}catch(_0x7a1201){_0x37ee93[_0x485416(0x13e)](_0x7a1201);}}),module[a0_0x54aed7(0x113)]=router;