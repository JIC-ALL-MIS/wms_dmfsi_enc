const a0_0xd3c79e=a0_0x388c;(function(_0x2a1e33,_0x4abc3d){const _0x7a6c67=a0_0x388c,_0x313ea1=_0x2a1e33();while(!![]){try{const _0x11e452=-parseInt(_0x7a6c67(0x162))/0x1*(-parseInt(_0x7a6c67(0x176))/0x2)+parseInt(_0x7a6c67(0x178))/0x3+parseInt(_0x7a6c67(0x164))/0x4+parseInt(_0x7a6c67(0x159))/0x5*(parseInt(_0x7a6c67(0x182))/0x6)+parseInt(_0x7a6c67(0x15f))/0x7*(-parseInt(_0x7a6c67(0x173))/0x8)+-parseInt(_0x7a6c67(0x16e))/0x9+-parseInt(_0x7a6c67(0x15d))/0xa;if(_0x11e452===_0x4abc3d)break;else _0x313ea1['push'](_0x313ea1['shift']());}catch(_0x36a452){_0x313ea1['push'](_0x313ea1['shift']());}}}(a0_0xbced,0xdca70));function a0_0x388c(_0xaa252b,_0x4232d3){const _0xbcedf4=a0_0xbced();return a0_0x388c=function(_0x388c00,_0xcc625f){_0x388c00=_0x388c00-0x145;let _0x32d0e3=_0xbcedf4[_0x388c00];return _0x32d0e3;},a0_0x388c(_0xaa252b,_0x4232d3);}const express=require(a0_0xd3c79e(0x17e)),app=express(),router=express[a0_0xd3c79e(0x16c)](),auth=require('../middleware/auth'),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require(a0_0xd3c79e(0x15a)),users=require(a0_0xd3c79e(0x156));router[a0_0xd3c79e(0x14d)](a0_0xd3c79e(0x169),auth,async(_0x2cbd1b,_0x4c35ad)=>{const _0x162920=a0_0xd3c79e;try{const {username:_0x3a7155,email:_0x30cfe4,role:_0x1c34e9}=_0x2cbd1b[_0x162920(0x148)],_0x1f6747=_0x2cbd1b[_0x162920(0x148)];var _0x247f55;if(_0x1f6747[_0x162920(0x16a)]==_0x162920(0x16d)){const _0x4acd08=await product[_0x162920(0x161)]({'product_category':'Raw\x20Materials'});_0x247f55=_0x4acd08[_0x162920(0x158)];}else{if(_0x1f6747[_0x162920(0x16a)]==_0x162920(0x17a)){const _0x29b80a=await product['find']({'product_category':_0x162920(0x17a)});_0x247f55=_0x29b80a['length'];}else{const _0x538b9b=await product[_0x162920(0x161)]();_0x247f55=_0x538b9b['length'];}}const _0x362e42=await profile[_0x162920(0x154)]({'email':_0x1f6747['email']}),_0x1dc1e9=await master_shop[_0x162920(0x161)](),_0x385811=await sales[_0x162920(0x171)]([{'$group':{'_id':null,'total_price':{'$sum':_0x162920(0x155)}}}]),_0x5b5b80=await sales[_0x162920(0x171)]([{'$unwind':_0x162920(0x17c)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x162920(0x166)}}}]),_0x5ca4fe=await sales_return['aggregate']([{'$group':{'_id':null,'total':{'$sum':_0x162920(0x172)}}}]),_0x38f1cd=await sales_return[_0x162920(0x171)]([{'$unwind':_0x162920(0x149)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x162920(0x17d)}}}]),_0x58907f=await purchases[_0x162920(0x171)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x162920(0x172)}}}]),_0x4b9ac0=await purchases_return[_0x162920(0x171)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x32fb4c=await purchases_return[_0x162920(0x171)]([{'$unwind':'$return_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x162920(0x151)}}}]),_0x4cc339=await purchases[_0x162920(0x171)]([{'$unwind':_0x162920(0x16b)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x162920(0x14b)}}}]),_0x2c2bd3=await purchases[_0x162920(0x171)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x354970=await sales[_0x162920(0x171)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x4a8c16=await transfers['aggregate']([{'$unwind':_0x162920(0x16b)},{'$group':{'_id':'$product.product_name','fromWarehouse':{'$first':_0x162920(0x14a)},'toWareHouse':{'$first':_0x162920(0x174)},'FromtotalQuantity':{'$sum':_0x162920(0x175)},'TototalQuantity':{'$sum':_0x162920(0x14c)}}}]),_0x3d0514=await categories[_0x162920(0x161)](),_0x24850d=await product[_0x162920(0x161)](),_0x5d742b=await suppliers['find'](),_0x45ad8a=await customer[_0x162920(0x161)]();if(_0x1dc1e9[0x0]['language']==_0x162920(0x179))var _0x261aa2=users['English'];else{if(_0x1dc1e9[0x0]['language']==_0x162920(0x15c))var _0x261aa2=users[_0x162920(0x15c)];else{if(_0x1dc1e9[0x0][_0x162920(0x150)]=='German')var _0x261aa2=users['German'];else{if(_0x1dc1e9[0x0][_0x162920(0x150)]==_0x162920(0x146))var _0x261aa2=users[_0x162920(0x146)];else{if(_0x1dc1e9[0x0]['language']==_0x162920(0x15b))var _0x261aa2=users[_0x162920(0x15b)];else{if(_0x1dc1e9[0x0][_0x162920(0x150)]==_0x162920(0x170))var _0x261aa2=users[_0x162920(0x157)];else{if(_0x1dc1e9[0x0][_0x162920(0x150)]==_0x162920(0x181))var _0x261aa2=users[_0x162920(0x181)];else{if(_0x1dc1e9[0x0][_0x162920(0x150)]==_0x162920(0x177))var _0x261aa2=users[_0x162920(0x160)];}}}}}}}_0x4c35ad[_0x162920(0x147)](_0x162920(0x14f),{'success':_0x2cbd1b['flash'](_0x162920(0x165)),'errors':_0x2cbd1b[_0x162920(0x168)](_0x162920(0x145)),'role':_0x1f6747,'profile':_0x362e42,'sale':_0x385811[0x0],'sales_return':_0x5ca4fe[0x0],'purchases':_0x58907f[0x0],'purchases_return':_0x4b9ac0[0x0],'purchases_table':_0x2c2bd3,'sales_table':_0x354970,'categories':_0x3d0514[_0x162920(0x158)],'product':_0x24850d[_0x162920(0x158)],'suppliers':_0x5d742b[_0x162920(0x158)],'customer':_0x45ad8a[_0x162920(0x158)],'master_shop':_0x1dc1e9,'language':_0x261aa2,'sale_QTY':_0x5b5b80[0x0],'purchases_QTY':_0x4cc339[0x0],'sales_return_QTY':_0x38f1cd[0x0],'purchases_return_QTY':_0x32fb4c[0x0],'transfer_table':_0x4a8c16,'product_cnt':_0x247f55});}catch(_0x2ca30f){console[_0x162920(0x153)](_0x2ca30f);}}),router['get']('/raw_line',auth,async(_0x4efd02,_0x468357)=>{const _0x594daf=a0_0xd3c79e;try{const _0x25dd7c=await purchases[_0x594daf(0x171)]([{'$unwind':_0x594daf(0x16b)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x594daf(0x14b)},'date':{'$first':_0x594daf(0x16f)}}},{'$sort':{'date':0x1}}]);_0x468357[_0x594daf(0x167)](_0x25dd7c);}catch(_0x34590c){_0x468357[_0x594daf(0x167)](_0x34590c);}}),router[a0_0xd3c79e(0x14d)](a0_0xd3c79e(0x17f),auth,async(_0x72e0d4,_0x4e5146)=>{const _0x38312f=a0_0xd3c79e;try{const _0x11d31d=await sales[_0x38312f(0x171)]([{'$match':{'finalize':_0x38312f(0x15e)}},{'$unwind':_0x38312f(0x17c)},{'$group':{'_id':_0x38312f(0x16f),'totalQuantity':{'$sum':_0x38312f(0x166)},'date':{'$first':_0x38312f(0x16f)}}},{'$sort':{'date':0x1}}]);_0x4e5146[_0x38312f(0x167)](_0x11d31d);}catch(_0x2e9951){_0x4e5146[_0x38312f(0x167)](_0x2e9951);}}),router[a0_0xd3c79e(0x14d)]('/raw_adj_line',auth,async(_0x3b3693,_0x2305cb)=>{const _0x1c6c5d=a0_0xd3c79e;try{const _0x1852f5=await adjustment[_0x1c6c5d(0x171)]([{'$match':{'finalize':_0x1c6c5d(0x15e)}},{'$unwind':'$product'},{'$group':{'_id':_0x1c6c5d(0x16f),'totalQuantity':{'$sum':'$product.adjust_qty'},'date':{'$first':_0x1c6c5d(0x16f)}}},{'$sort':{'date':0x1}}]);_0x2305cb[_0x1c6c5d(0x167)](_0x1852f5);}catch(_0x153ac0){_0x2305cb['json'](_0x153ac0);}}),router['get']('/raw_trf_line',auth,async(_0x4fdbaf,_0x19f1f2)=>{const _0x1b312c=a0_0xd3c79e;try{const _0x40c583=await transfers[_0x1b312c(0x171)]([{'$match':{'finalize':_0x1b312c(0x15e)}},{'$unwind':'$product'},{'$group':{'_id':_0x1b312c(0x16f),'totalQuantity':{'$sum':_0x1b312c(0x14c)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x19f1f2['json'](_0x40c583);}catch(_0x38fefd){_0x19f1f2[_0x1b312c(0x167)](_0x38fefd);}}),router[a0_0xd3c79e(0x14d)]('/fg_line',auth,async(_0x2c21e0,_0x107125)=>{const _0x52b1ab=a0_0xd3c79e;try{const _0x39cae4=await purchases_finished[_0x52b1ab(0x171)]([{'$unwind':_0x52b1ab(0x16b)},{'$group':{'_id':'$date','totalQuantity':{'$sum':'$product.quantity'},'date':{'$first':_0x52b1ab(0x16f)}}},{'$sort':{'date':0x1}}]);_0x107125[_0x52b1ab(0x167)](_0x39cae4);}catch(_0x182754){_0x107125[_0x52b1ab(0x167)](_0x182754);}}),router[a0_0xd3c79e(0x14d)]('/fg_out_line',auth,async(_0x2d4c48,_0x4bc598)=>{const _0xe5e959=a0_0xd3c79e;try{const _0x3450ed=await sales_finished[_0xe5e959(0x171)]([{'$match':{'finalize':'True'}},{'$unwind':_0xe5e959(0x17c)},{'$group':{'_id':'$date','totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':_0xe5e959(0x16f)}}},{'$sort':{'date':0x1}}]);_0x4bc598[_0xe5e959(0x167)](_0x3450ed);}catch(_0x27d13d){_0x4bc598['json'](_0x27d13d);}}),router[a0_0xd3c79e(0x14d)](a0_0xd3c79e(0x163),auth,async(_0x4b5d65,_0x566423)=>{const _0x1ae3e3=a0_0xd3c79e;try{const _0x3e1cf3=await adjustment_finished[_0x1ae3e3(0x171)]([{'$match':{'finalize':'True'}},{'$unwind':_0x1ae3e3(0x16b)},{'$group':{'_id':_0x1ae3e3(0x16f),'totalQuantity':{'$sum':_0x1ae3e3(0x14e)},'date':{'$first':_0x1ae3e3(0x16f)}}},{'$sort':{'date':0x1}}]);_0x566423[_0x1ae3e3(0x167)](_0x3e1cf3);}catch(_0x53924b){_0x566423[_0x1ae3e3(0x167)](_0x53924b);}}),router[a0_0xd3c79e(0x14d)]('/fg_trf_line',auth,async(_0x4647ad,_0x2a14b8)=>{const _0x3b6f57=a0_0xd3c79e;try{const _0x1545bf=await transfers_finished[_0x3b6f57(0x171)]([{'$match':{'finalize':_0x3b6f57(0x15e)}},{'$unwind':_0x3b6f57(0x16b)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x3b6f57(0x14c)},'date':{'$first':_0x3b6f57(0x16f)}}},{'$sort':{'date':0x1}}]);_0x2a14b8[_0x3b6f57(0x167)](_0x1545bf);}catch(_0x468337){_0x2a14b8[_0x3b6f57(0x167)](_0x468337);}}),router[a0_0xd3c79e(0x14d)](a0_0xd3c79e(0x152),auth,async(_0x4f9fd3,_0x181b9d)=>{const _0x3424e1=a0_0xd3c79e;try{const _0x9bb39e=await purchases[_0x3424e1(0x171)]([{'$unwind':'$product'},{'$group':{'_id':_0x3424e1(0x16f),'totalQuantity':{'$sum':'$product.quantity'},'date':{'$first':_0x3424e1(0x16f)}}},{'$sort':{'date':0x1}}]),_0x346792=await sales[_0x3424e1(0x171)]([{'$match':{'finalize':'True'}},{'$unwind':_0x3424e1(0x17c)},{'$group':{'_id':_0x3424e1(0x16f),'totalQuantity':{'$sum':_0x3424e1(0x166)},'date':{'$first':_0x3424e1(0x16f)}}},{'$sort':{'date':0x1}}]),_0x5d206c=await adjustment[_0x3424e1(0x171)]([{'$match':{'finalize':_0x3424e1(0x15e)}},{'$unwind':_0x3424e1(0x16b)},{'$group':{'_id':'$date','totalQuantity':{'$sum':'$product.adjust_qty'},'date':{'$first':_0x3424e1(0x16f)}}},{'$sort':{'date':0x1}}]),_0x8a46c=await transfers[_0x3424e1(0x171)]([{'$match':{'finalize':'True'}},{'$unwind':_0x3424e1(0x16b)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x3424e1(0x14c)},'date':{'$first':_0x3424e1(0x16f)}}},{'$sort':{'date':0x1}}]);_0x181b9d['json']({'purchases':_0x9bb39e,'sales':_0x346792,'adjustment':_0x5d206c,'transfer':_0x8a46c});}catch(_0x2d3286){_0x181b9d[_0x3424e1(0x167)](_0x2d3286);}}),router[a0_0xd3c79e(0x14d)](a0_0xd3c79e(0x17b),auth,async(_0x2dc773,_0x5006aa)=>{const _0x166997=a0_0xd3c79e;try{const _0x116283=await product[_0x166997(0x161)]({'product_category':'Finished\x20Goods'});_0x5006aa[_0x166997(0x167)]({'count':_0x116283[_0x166997(0x158)]});}catch(_0x2a3b73){_0x5006aa['json'](_0x2a3b73);}}),module[a0_0xd3c79e(0x180)]=router;function a0_0xbced(){const _0x1e0a20=['$product.to_quantity','get','$product.adjust_qty','index','language','$return_product.return_qty','/rm_chart','log','findOne','$total_price','../public/language/languages.json','Portuguese','length','2305ecnwNa','../models/all_models','French','Hindi','4543880iMtjPq','True','49OQEzKI','Arabic','find','281rqBuSd','/fg_adj_line','720624dJLSSY','success','$sale_product.quantity','json','flash','/index','warehouse_category','$product','Router','Raw\x20Materials','8161884SdNxLK','$date','Portuguese\x20(BR)','aggregate','$total_amount','683752SVYwPt','$to_warehouse','$product.from_quantity','3002TcBxCZ','Arabic\x20(ae)','3480219FtuRos','English\x20(US)','Finished\x20Goods','/fg_chart','$sale_product','$return_sale.sale_qty','express','/raw_out_line','exports','Chinese','14334yYTHjF','errors','Spanish','render','user','$return_sale','$from_warehouse','$product.quantity'];a0_0xbced=function(){return _0x1e0a20;};return a0_0xbced();}