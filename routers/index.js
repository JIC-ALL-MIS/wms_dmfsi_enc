const a0_0x57b220=a0_0x2751;function a0_0x2751(_0x1c3070,_0x355c74){const _0x372f87=a0_0x372f();return a0_0x2751=function(_0x275184,_0x1996fc){_0x275184=_0x275184-0xf2;let _0x1ef2dd=_0x372f87[_0x275184];return _0x1ef2dd;},a0_0x2751(_0x1c3070,_0x355c74);}(function(_0xa1ed07,_0xc9157a){const _0x290d04=a0_0x2751,_0x540157=_0xa1ed07();while(!![]){try{const _0x5f59fc=parseInt(_0x290d04(0x10c))/0x1*(-parseInt(_0x290d04(0x115))/0x2)+-parseInt(_0x290d04(0x104))/0x3*(-parseInt(_0x290d04(0x112))/0x4)+parseInt(_0x290d04(0x110))/0x5+-parseInt(_0x290d04(0x11d))/0x6*(parseInt(_0x290d04(0x111))/0x7)+-parseInt(_0x290d04(0xf6))/0x8+-parseInt(_0x290d04(0x102))/0x9+parseInt(_0x290d04(0x11e))/0xa*(parseInt(_0x290d04(0x103))/0xb);if(_0x5f59fc===_0xc9157a)break;else _0x540157['push'](_0x540157['shift']());}catch(_0x37b87a){_0x540157['push'](_0x540157['shift']());}}}(a0_0x372f,0x67e79));const express=require('express'),app=express(),router=express[a0_0x57b220(0x105)](),auth=require(a0_0x57b220(0xf8)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require(a0_0x57b220(0x101)),users=require(a0_0x57b220(0x11f));function a0_0x372f(){const _0x56b57e=['success','9210KbKCrz','220JYAugz','../public/language/languages.json','True','$product.quantity','/raw_out_line','index','Finished\x20Goods','$product.to_quantity','find','Hindi','flash','warehouse_category','English','German','/raw_line','English\x20(US)','$sale_product.quantity','errors','1010448oHAIMI','/raw_adj_line','../middleware/auth','Arabic\x20(ae)','/fg_trf_line','language','Portuguese\x20(BR)','/fg_adj_line','/rm_chart','length','Chinese','../models/all_models','2011473jpvbyq','428219JvMRrI','574131znAJoX','Router','Raw\x20Materials','json','Spanish','/fg_chart','$date','render','571BLtFPN','get','French','/fg_out_line','319110IewMVD','1036lkjaxa','4vTbXdn','aggregate','/fg_line','382OUeVFF','exports','$product.adjust_qty','log','user','$product','$sale_product'];a0_0x372f=function(){return _0x56b57e;};return a0_0x372f();}router[a0_0x57b220(0x10d)]('/index',auth,async(_0xd6bab6,_0x20c19d)=>{const _0x47b9be=a0_0x57b220;try{const {username:_0x2f0189,email:_0xb0422,role:_0x262013}=_0xd6bab6['user'],_0x54892b=_0xd6bab6[_0x47b9be(0x119)];var _0x14414c;if(_0x54892b[_0x47b9be(0x129)]==_0x47b9be(0x106)){const _0x2271e9=await product[_0x47b9be(0x126)]({'product_category':_0x47b9be(0x106)});_0x14414c=_0x2271e9[_0x47b9be(0xff)];}else{if(_0x54892b[_0x47b9be(0x129)]==_0x47b9be(0x124)){const _0xc365b1=await product[_0x47b9be(0x126)]({'product_category':_0x47b9be(0x124)});_0x14414c=_0xc365b1[_0x47b9be(0xff)];}else{const _0x46ad4a=await product[_0x47b9be(0x126)]();_0x14414c=_0x46ad4a[_0x47b9be(0xff)];}}const _0x191e75=await profile['findOne']({'email':_0x54892b['email']}),_0x2d35dd=await master_shop[_0x47b9be(0x126)]();if(_0x2d35dd[0x0][_0x47b9be(0xfb)]==_0x47b9be(0xf3))var _0x1a43cc=users[_0x47b9be(0x12a)];else{if(_0x2d35dd[0x0]['language']==_0x47b9be(0x127))var _0x1a43cc=users[_0x47b9be(0x127)];else{if(_0x2d35dd[0x0][_0x47b9be(0xfb)]==_0x47b9be(0x12b))var _0x1a43cc=users[_0x47b9be(0x12b)];else{if(_0x2d35dd[0x0][_0x47b9be(0xfb)]==_0x47b9be(0x108))var _0x1a43cc=users[_0x47b9be(0x108)];else{if(_0x2d35dd[0x0][_0x47b9be(0xfb)]==_0x47b9be(0x10e))var _0x1a43cc=users[_0x47b9be(0x10e)];else{if(_0x2d35dd[0x0]['language']==_0x47b9be(0xfc))var _0x1a43cc=users['Portuguese'];else{if(_0x2d35dd[0x0][_0x47b9be(0xfb)]==_0x47b9be(0x100))var _0x1a43cc=users[_0x47b9be(0x100)];else{if(_0x2d35dd[0x0]['language']==_0x47b9be(0xf9))var _0x1a43cc=users['Arabic'];}}}}}}}_0x20c19d[_0x47b9be(0x10b)](_0x47b9be(0x123),{'success':_0xd6bab6['flash'](_0x47b9be(0x11c)),'errors':_0xd6bab6[_0x47b9be(0x128)](_0x47b9be(0xf5)),'role':_0x54892b,'profile':_0x191e75,'master_shop':_0x2d35dd,'language':_0x1a43cc});}catch(_0x9d7934){console[_0x47b9be(0x118)](_0x9d7934);}}),router['get'](a0_0x57b220(0xf2),auth,async(_0x31064d,_0x3a35a6)=>{const _0x5d0c8a=a0_0x57b220;try{const _0x21942d=await purchases[_0x5d0c8a(0x113)]([{'$unwind':_0x5d0c8a(0x11a)},{'$group':{'_id':_0x5d0c8a(0x10a),'totalQuantity':{'$sum':'$product.quantity'},'date':{'$first':_0x5d0c8a(0x10a)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x3a35a6[_0x5d0c8a(0x107)](_0x21942d);}catch(_0x28fc4a){_0x3a35a6[_0x5d0c8a(0x107)](_0x28fc4a);}}),router[a0_0x57b220(0x10d)](a0_0x57b220(0x122),auth,async(_0x16340b,_0x46d1ec)=>{const _0x45edbd=a0_0x57b220;try{const _0x1db156=await sales[_0x45edbd(0x113)]([{'$match':{'finalize':'True'}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x45edbd(0x10a),'totalQuantity':{'$sum':_0x45edbd(0xf4)},'date':{'$first':_0x45edbd(0x10a)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x46d1ec[_0x45edbd(0x107)](_0x1db156);}catch(_0x27d3b3){_0x46d1ec['json'](_0x27d3b3);}}),router['get'](a0_0x57b220(0xf7),auth,async(_0x763565,_0x370c88)=>{const _0x17db80=a0_0x57b220;try{const _0x43f55d=await adjustment[_0x17db80(0x113)]([{'$match':{'finalize':_0x17db80(0x120)}},{'$unwind':_0x17db80(0x11a)},{'$group':{'_id':_0x17db80(0x10a),'totalQuantity':{'$sum':_0x17db80(0x117)},'date':{'$first':_0x17db80(0x10a)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x370c88[_0x17db80(0x107)](_0x43f55d);}catch(_0x44a9f0){_0x370c88['json'](_0x44a9f0);}}),router[a0_0x57b220(0x10d)]('/raw_trf_line',auth,async(_0x334ed7,_0x14a3e4)=>{const _0x1e5a28=a0_0x57b220;try{const _0x1f6a72=await transfers[_0x1e5a28(0x113)]([{'$match':{'finalize':_0x1e5a28(0x120)}},{'$unwind':_0x1e5a28(0x11a)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x1e5a28(0x125)},'date':{'$first':'$date'}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x14a3e4[_0x1e5a28(0x107)](_0x1f6a72);}catch(_0xd848bb){_0x14a3e4[_0x1e5a28(0x107)](_0xd848bb);}}),router[a0_0x57b220(0x10d)](a0_0x57b220(0x114),auth,async(_0x34a446,_0x2a7844)=>{const _0x9370c=a0_0x57b220;try{const _0x2f4b29=await purchases_finished['aggregate']([{'$unwind':'$product'},{'$group':{'_id':_0x9370c(0x10a),'totalQuantity':{'$sum':'$product.quantity'},'date':{'$first':'$date'}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x2a7844['json'](_0x2f4b29);}catch(_0xaa465){_0x2a7844[_0x9370c(0x107)](_0xaa465);}}),router[a0_0x57b220(0x10d)](a0_0x57b220(0x10f),auth,async(_0x5531e2,_0x3c6db8)=>{const _0x177610=a0_0x57b220;try{const _0x330afd=await sales_finished['aggregate']([{'$match':{'finalize':_0x177610(0x120)}},{'$unwind':_0x177610(0x11b)},{'$group':{'_id':_0x177610(0x10a),'totalQuantity':{'$sum':_0x177610(0xf4)},'date':{'$first':'$date'}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x3c6db8['json'](_0x330afd);}catch(_0x33d3eb){_0x3c6db8[_0x177610(0x107)](_0x33d3eb);}}),router[a0_0x57b220(0x10d)](a0_0x57b220(0xfd),auth,async(_0x323022,_0x2dd67b)=>{const _0x3d9149=a0_0x57b220;try{const _0x13000a=await adjustment_finished[_0x3d9149(0x113)]([{'$match':{'finalize':_0x3d9149(0x120)}},{'$unwind':_0x3d9149(0x11a)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x3d9149(0x117)},'date':{'$first':_0x3d9149(0x10a)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x2dd67b[_0x3d9149(0x107)](_0x13000a);}catch(_0x582ba5){_0x2dd67b[_0x3d9149(0x107)](_0x582ba5);}}),router[a0_0x57b220(0x10d)](a0_0x57b220(0xfa),auth,async(_0x34fde0,_0x556b9d)=>{const _0x3ad483=a0_0x57b220;try{const _0x374819=await transfers_finished[_0x3ad483(0x113)]([{'$match':{'finalize':'True'}},{'$unwind':_0x3ad483(0x11a)},{'$group':{'_id':_0x3ad483(0x10a),'totalQuantity':{'$sum':_0x3ad483(0x125)},'date':{'$first':_0x3ad483(0x10a)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x556b9d[_0x3ad483(0x107)](_0x374819);}catch(_0x9fa50e){_0x556b9d[_0x3ad483(0x107)](_0x9fa50e);}}),router[a0_0x57b220(0x10d)](a0_0x57b220(0xfe),auth,async(_0x5ccf03,_0x56d65a)=>{const _0x5e8999=a0_0x57b220;try{const _0x51114a=await purchases[_0x5e8999(0x113)]([{'$unwind':_0x5e8999(0x11a)},{'$group':{'_id':_0x5e8999(0x10a),'totalQuantity':{'$sum':_0x5e8999(0x121)},'date':{'$first':_0x5e8999(0x10a)}}},{'$sort':{'date':0x1}}]),_0x2be5dd=await sales['aggregate']([{'$match':{'finalize':_0x5e8999(0x120)}},{'$unwind':_0x5e8999(0x11b)},{'$group':{'_id':_0x5e8999(0x10a),'totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':_0x5e8999(0x10a)}}},{'$sort':{'date':0x1}}]),_0x4ba8d5=await adjustment[_0x5e8999(0x113)]([{'$match':{'finalize':_0x5e8999(0x120)}},{'$unwind':_0x5e8999(0x11a)},{'$group':{'_id':_0x5e8999(0x10a),'totalQuantity':{'$sum':_0x5e8999(0x117)},'date':{'$first':_0x5e8999(0x10a)}}},{'$sort':{'date':0x1}}]),_0x7d968b=await transfers[_0x5e8999(0x113)]([{'$match':{'finalize':_0x5e8999(0x120)}},{'$unwind':_0x5e8999(0x11a)},{'$group':{'_id':_0x5e8999(0x10a),'totalQuantity':{'$sum':_0x5e8999(0x125)},'date':{'$first':_0x5e8999(0x10a)}}},{'$sort':{'date':0x1}}]);_0x56d65a['json']({'purchases':_0x51114a,'sales':_0x2be5dd,'adjustment':_0x4ba8d5,'transfer':_0x7d968b});}catch(_0x3680b4){_0x56d65a[_0x5e8999(0x107)](_0x3680b4);}}),router[a0_0x57b220(0x10d)](a0_0x57b220(0x109),auth,async(_0x15780f,_0x1ae07a)=>{const _0x40ffa6=a0_0x57b220;try{const _0x41fc50=await product[_0x40ffa6(0x126)]({'product_category':_0x40ffa6(0x124)});_0x1ae07a[_0x40ffa6(0x107)]({'count':_0x41fc50[_0x40ffa6(0xff)]});}catch(_0x5582cb){_0x1ae07a[_0x40ffa6(0x107)](_0x5582cb);}}),module[a0_0x57b220(0x116)]=router;