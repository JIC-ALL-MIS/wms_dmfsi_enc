const a0_0x4fc91e=a0_0x5216;function a0_0x3729(){const _0x5b7c70=['42475026uXxMVI','Raw\x20Materials','True','$return_product.return_qty','Arabic','Hindi','/fg_adj_line','English','exports','json','/rm_chart','../models/all_models','$total_price','user','$product','$product.adjust_qty','findOne','Router','German','length','$sale_product','$to_warehouse','errors','get','6179411HfijMT','$total_amount','English\x20(US)','2217276HcQHqN','/raw_line','5580IzLDcN','$date','10041870qlYsCt','Chinese','212yqIFkR','$product.product_name','1jQkZbe','email','/index','2183515iBnelV','/raw_out_line','find','Finished\x20Goods','warehouse_category','language','$return_product','$return_sale.sale_qty','../middleware/auth','express','6UAiyww','$product.quantity','/fg_line','$return_sale','flash','Portuguese','/raw_adj_line','French','/fg_chart','../public/language/languages.json','Portuguese\x20(BR)','$sale_product.quantity','$product.to_quantity','2031208achUDm','Spanish','Arabic\x20(ae)','32dgShrd','aggregate'];a0_0x3729=function(){return _0x5b7c70;};return a0_0x3729();}function a0_0x5216(_0x9246fc,_0x300c05){const _0x37292f=a0_0x3729();return a0_0x5216=function(_0x521695,_0x4a1a89){_0x521695=_0x521695-0x1dc;let _0x488df3=_0x37292f[_0x521695];return _0x488df3;},a0_0x5216(_0x9246fc,_0x300c05);}(function(_0x3626e,_0x2e6482){const _0x4d5674=a0_0x5216,_0x2e0ef7=_0x3626e();while(!![]){try{const _0x5ed945=-parseInt(_0x4d5674(0x21c))/0x1*(parseInt(_0x4d5674(0x1f4))/0x2)+parseInt(_0x4d5674(0x216))/0x3*(parseInt(_0x4d5674(0x21a))/0x4)+-parseInt(_0x4d5674(0x1dd))/0x5*(-parseInt(_0x4d5674(0x1e7))/0x6)+-parseInt(_0x4d5674(0x211))/0x7+parseInt(_0x4d5674(0x1f7))/0x8*(-parseInt(_0x4d5674(0x214))/0x9)+-parseInt(_0x4d5674(0x218))/0xa+parseInt(_0x4d5674(0x1f9))/0xb;if(_0x5ed945===_0x2e6482)break;else _0x2e0ef7['push'](_0x2e0ef7['shift']());}catch(_0x5126f9){_0x2e0ef7['push'](_0x2e0ef7['shift']());}}}(a0_0x3729,0x7c2d5));const express=require(a0_0x4fc91e(0x1e6)),app=express(),router=express[a0_0x4fc91e(0x20a)](),auth=require(a0_0x4fc91e(0x1e5)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require(a0_0x4fc91e(0x204)),users=require(a0_0x4fc91e(0x1f0));router['get'](a0_0x4fc91e(0x1dc),auth,async(_0x113724,_0x3bb340)=>{const _0x57eeb5=a0_0x4fc91e;try{const {username:_0x1813b8,email:_0x5dfb43,role:_0x65f600}=_0x113724[_0x57eeb5(0x206)],_0x4a9ba0=_0x113724[_0x57eeb5(0x206)];var _0xe9ff9e;if(_0x4a9ba0['warehouse_category']==_0x57eeb5(0x1fa)){const _0x233e35=await product[_0x57eeb5(0x1df)]({'product_category':_0x57eeb5(0x1fa)});_0xe9ff9e=_0x233e35[_0x57eeb5(0x20c)];}else{if(_0x4a9ba0[_0x57eeb5(0x1e1)]==_0x57eeb5(0x1e0)){const _0x17e586=await product[_0x57eeb5(0x1df)]({'product_category':_0x57eeb5(0x1e0)});_0xe9ff9e=_0x17e586[_0x57eeb5(0x20c)];}else{const _0x378f01=await product[_0x57eeb5(0x1df)]();_0xe9ff9e=_0x378f01['length'];}}const _0x3d4ef5=await profile[_0x57eeb5(0x209)]({'email':_0x4a9ba0[_0x57eeb5(0x21d)]}),_0x2b7999=await master_shop[_0x57eeb5(0x1df)](),_0x4b6f11=await sales[_0x57eeb5(0x1f8)]([{'$group':{'_id':null,'total_price':{'$sum':_0x57eeb5(0x205)}}}]),_0x144638=await sales[_0x57eeb5(0x1f8)]([{'$unwind':_0x57eeb5(0x20d)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x57eeb5(0x1f2)}}}]),_0x69b20e=await sales_return[_0x57eeb5(0x1f8)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x33db9b=await sales_return[_0x57eeb5(0x1f8)]([{'$unwind':_0x57eeb5(0x1ea)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x57eeb5(0x1e4)}}}]),_0x274cfe=await purchases[_0x57eeb5(0x1f8)]([{'$group':{'_id':null,'total_amount':{'$sum':'$total_amount'}}}]),_0x59b865=await purchases_return[_0x57eeb5(0x1f8)]([{'$group':{'_id':null,'total':{'$sum':_0x57eeb5(0x212)}}}]),_0x5c95be=await purchases_return[_0x57eeb5(0x1f8)]([{'$unwind':_0x57eeb5(0x1e3)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x57eeb5(0x1fc)}}}]),_0x3524b2=await purchases[_0x57eeb5(0x1f8)]([{'$unwind':_0x57eeb5(0x207)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x57eeb5(0x1e8)}}}]),_0x4ed1c0=await purchases['aggregate']([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x167bc5=await sales[_0x57eeb5(0x1f8)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x2363d4=await transfers['aggregate']([{'$unwind':'$product'},{'$group':{'_id':_0x57eeb5(0x21b),'fromWarehouse':{'$first':'$from_warehouse'},'toWareHouse':{'$first':_0x57eeb5(0x20e)},'FromtotalQuantity':{'$sum':'$product.from_quantity'},'TototalQuantity':{'$sum':_0x57eeb5(0x1f3)}}}]),_0xba8160=await categories[_0x57eeb5(0x1df)](),_0x1c02ac=await product[_0x57eeb5(0x1df)](),_0xe3f5d=await suppliers['find'](),_0x1d216e=await customer[_0x57eeb5(0x1df)]();if(_0x2b7999[0x0][_0x57eeb5(0x1e2)]==_0x57eeb5(0x213))var _0x3fdf7e=users[_0x57eeb5(0x200)];else{if(_0x2b7999[0x0][_0x57eeb5(0x1e2)]==_0x57eeb5(0x1fe))var _0x3fdf7e=users['Hindi'];else{if(_0x2b7999[0x0][_0x57eeb5(0x1e2)]=='German')var _0x3fdf7e=users[_0x57eeb5(0x20b)];else{if(_0x2b7999[0x0][_0x57eeb5(0x1e2)]=='Spanish')var _0x3fdf7e=users[_0x57eeb5(0x1f5)];else{if(_0x2b7999[0x0]['language']==_0x57eeb5(0x1ee))var _0x3fdf7e=users['French'];else{if(_0x2b7999[0x0][_0x57eeb5(0x1e2)]==_0x57eeb5(0x1f1))var _0x3fdf7e=users[_0x57eeb5(0x1ec)];else{if(_0x2b7999[0x0]['language']==_0x57eeb5(0x219))var _0x3fdf7e=users[_0x57eeb5(0x219)];else{if(_0x2b7999[0x0]['language']==_0x57eeb5(0x1f6))var _0x3fdf7e=users[_0x57eeb5(0x1fd)];}}}}}}}_0x3bb340['render']('index',{'success':_0x113724['flash']('success'),'errors':_0x113724[_0x57eeb5(0x1eb)](_0x57eeb5(0x20f)),'role':_0x4a9ba0,'profile':_0x3d4ef5,'sale':_0x4b6f11[0x0],'sales_return':_0x69b20e[0x0],'purchases':_0x274cfe[0x0],'purchases_return':_0x59b865[0x0],'purchases_table':_0x4ed1c0,'sales_table':_0x167bc5,'categories':_0xba8160[_0x57eeb5(0x20c)],'product':_0x1c02ac[_0x57eeb5(0x20c)],'suppliers':_0xe3f5d[_0x57eeb5(0x20c)],'customer':_0x1d216e['length'],'master_shop':_0x2b7999,'language':_0x3fdf7e,'sale_QTY':_0x144638[0x0],'purchases_QTY':_0x3524b2[0x0],'sales_return_QTY':_0x33db9b[0x0],'purchases_return_QTY':_0x5c95be[0x0],'transfer_table':_0x2363d4,'product_cnt':_0xe9ff9e});}catch(_0x294970){console['log'](_0x294970);}}),router[a0_0x4fc91e(0x210)](a0_0x4fc91e(0x215),auth,async(_0x216a38,_0x3e2010)=>{const _0x37a55b=a0_0x4fc91e;try{const _0x59836b=await purchases['aggregate']([{'$unwind':'$product'},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x37a55b(0x1e8)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x3e2010[_0x37a55b(0x202)](_0x59836b);}catch(_0x5e192b){_0x3e2010['json'](_0x5e192b);}}),router['get'](a0_0x4fc91e(0x1de),auth,async(_0x24923e,_0x202d08)=>{const _0x244fd1=a0_0x4fc91e;try{const _0x448c4b=await sales['aggregate']([{'$match':{'finalize':_0x244fd1(0x1fb)}},{'$unwind':_0x244fd1(0x20d)},{'$group':{'_id':'$date','totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':_0x244fd1(0x217)}}},{'$sort':{'date':0x1}}]);_0x202d08[_0x244fd1(0x202)](_0x448c4b);}catch(_0x40d9fa){_0x202d08[_0x244fd1(0x202)](_0x40d9fa);}}),router['get'](a0_0x4fc91e(0x1ed),auth,async(_0x23edc4,_0x262040)=>{const _0x1180d8=a0_0x4fc91e;try{const _0x5e1ea2=await adjustment[_0x1180d8(0x1f8)]([{'$match':{'finalize':_0x1180d8(0x1fb)}},{'$unwind':_0x1180d8(0x207)},{'$group':{'_id':_0x1180d8(0x217),'totalQuantity':{'$sum':_0x1180d8(0x208)},'date':{'$first':_0x1180d8(0x217)}}},{'$sort':{'date':0x1}}]);_0x262040[_0x1180d8(0x202)](_0x5e1ea2);}catch(_0x384265){_0x262040['json'](_0x384265);}}),router[a0_0x4fc91e(0x210)]('/raw_trf_line',auth,async(_0x34faab,_0x4ba9c9)=>{const _0xc849cf=a0_0x4fc91e;try{const _0x166c5a=await transfers[_0xc849cf(0x1f8)]([{'$match':{'finalize':_0xc849cf(0x1fb)}},{'$unwind':_0xc849cf(0x207)},{'$group':{'_id':'$date','totalQuantity':{'$sum':'$product.to_quantity'},'date':{'$first':_0xc849cf(0x217)}}},{'$sort':{'date':0x1}}]);_0x4ba9c9[_0xc849cf(0x202)](_0x166c5a);}catch(_0x331da8){_0x4ba9c9[_0xc849cf(0x202)](_0x331da8);}}),router[a0_0x4fc91e(0x210)](a0_0x4fc91e(0x1e9),auth,async(_0x1bf3a5,_0x1961fd)=>{const _0x27045a=a0_0x4fc91e;try{const _0x33c65f=await purchases_finished[_0x27045a(0x1f8)]([{'$unwind':_0x27045a(0x207)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x27045a(0x1e8)},'date':{'$first':_0x27045a(0x217)}}},{'$sort':{'date':0x1}}]);_0x1961fd[_0x27045a(0x202)](_0x33c65f);}catch(_0x220bb1){_0x1961fd[_0x27045a(0x202)](_0x220bb1);}}),router['get']('/fg_out_line',auth,async(_0x2960df,_0x166516)=>{const _0x5e48e2=a0_0x4fc91e;try{const _0x4abcdf=await sales_finished[_0x5e48e2(0x1f8)]([{'$match':{'finalize':_0x5e48e2(0x1fb)}},{'$unwind':'$sale_product'},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x5e48e2(0x1f2)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x166516[_0x5e48e2(0x202)](_0x4abcdf);}catch(_0x532d0a){_0x166516['json'](_0x532d0a);}}),router[a0_0x4fc91e(0x210)](a0_0x4fc91e(0x1ff),auth,async(_0x2850c8,_0x1970ef)=>{const _0x1f6e19=a0_0x4fc91e;try{const _0x3737bb=await adjustment_finished[_0x1f6e19(0x1f8)]([{'$match':{'finalize':'True'}},{'$unwind':_0x1f6e19(0x207)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x1f6e19(0x208)},'date':{'$first':_0x1f6e19(0x217)}}},{'$sort':{'date':0x1}}]);_0x1970ef[_0x1f6e19(0x202)](_0x3737bb);}catch(_0x17ae1f){_0x1970ef[_0x1f6e19(0x202)](_0x17ae1f);}}),router[a0_0x4fc91e(0x210)]('/fg_trf_line',auth,async(_0xc3bb02,_0x2cc0d1)=>{const _0x59d752=a0_0x4fc91e;try{const _0x110670=await transfers_finished['aggregate']([{'$match':{'finalize':_0x59d752(0x1fb)}},{'$unwind':'$product'},{'$group':{'_id':_0x59d752(0x217),'totalQuantity':{'$sum':_0x59d752(0x1f3)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x2cc0d1[_0x59d752(0x202)](_0x110670);}catch(_0xdb3ea9){_0x2cc0d1[_0x59d752(0x202)](_0xdb3ea9);}}),router[a0_0x4fc91e(0x210)](a0_0x4fc91e(0x203),auth,async(_0x1a1201,_0xf88ad8)=>{const _0x37b6cc=a0_0x4fc91e;try{const _0x123cd3=await purchases[_0x37b6cc(0x1f8)]([{'$unwind':_0x37b6cc(0x207)},{'$group':{'_id':_0x37b6cc(0x217),'totalQuantity':{'$sum':_0x37b6cc(0x1e8)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]),_0x5e1043=await sales[_0x37b6cc(0x1f8)]([{'$match':{'finalize':_0x37b6cc(0x1fb)}},{'$unwind':_0x37b6cc(0x20d)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x37b6cc(0x1f2)},'date':{'$first':_0x37b6cc(0x217)}}},{'$sort':{'date':0x1}}]),_0x179b45=await adjustment[_0x37b6cc(0x1f8)]([{'$match':{'finalize':_0x37b6cc(0x1fb)}},{'$unwind':'$product'},{'$group':{'_id':_0x37b6cc(0x217),'totalQuantity':{'$sum':_0x37b6cc(0x208)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]),_0x1d170f=await transfers['aggregate']([{'$match':{'finalize':_0x37b6cc(0x1fb)}},{'$unwind':_0x37b6cc(0x207)},{'$group':{'_id':_0x37b6cc(0x217),'totalQuantity':{'$sum':_0x37b6cc(0x1f3)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0xf88ad8[_0x37b6cc(0x202)]({'purchases':_0x123cd3,'sales':_0x5e1043,'adjustment':_0x179b45,'transfer':_0x1d170f});}catch(_0x293c62){_0xf88ad8[_0x37b6cc(0x202)](_0x293c62);}}),router['get'](a0_0x4fc91e(0x1ef),auth,async(_0x977788,_0x192acd)=>{const _0x5a1622=a0_0x4fc91e;try{const _0x4be67e=await product[_0x5a1622(0x1df)]({'product_category':_0x5a1622(0x1e0)});_0x192acd['json']({'count':_0x4be67e[_0x5a1622(0x20c)]});}catch(_0x5ab327){_0x192acd[_0x5a1622(0x202)](_0x5ab327);}}),module[a0_0x4fc91e(0x201)]=router;