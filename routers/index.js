const a0_0x34924b=a0_0x55aa;function a0_0x55aa(_0x52a97d,_0x4ad225){const _0x4d2081=a0_0x4d20();return a0_0x55aa=function(_0x55aa5d,_0x2e0724){_0x55aa5d=_0x55aa5d-0xc4;let _0xf85d46=_0x4d2081[_0x55aa5d];return _0xf85d46;},a0_0x55aa(_0x52a97d,_0x4ad225);}(function(_0x3b1b76,_0x85c924){const _0x525fb8=a0_0x55aa,_0x51388f=_0x3b1b76();while(!![]){try{const _0x1e2e2a=parseInt(_0x525fb8(0xe0))/0x1*(parseInt(_0x525fb8(0xcb))/0x2)+-parseInt(_0x525fb8(0xf0))/0x3*(parseInt(_0x525fb8(0xca))/0x4)+parseInt(_0x525fb8(0xcc))/0x5+-parseInt(_0x525fb8(0xfe))/0x6+-parseInt(_0x525fb8(0xfc))/0x7+parseInt(_0x525fb8(0xdc))/0x8+-parseInt(_0x525fb8(0xcd))/0x9*(-parseInt(_0x525fb8(0xc8))/0xa);if(_0x1e2e2a===_0x85c924)break;else _0x51388f['push'](_0x51388f['shift']());}catch(_0x5212c9){_0x51388f['push'](_0x51388f['shift']());}}}(a0_0x4d20,0x52a3d));function a0_0x4d20(){const _0x292cb4=['English\x20(US)','/fg_out_line','/fg_line','$total_price','$sale_product','$sale_product.quantity','Spanish','9CmUXMY','$product.quantity','get','index','express','Arabic','length','Chinese','Portuguese','$from_warehouse','Arabic\x20(ae)','Hindi','2110696ORwoXy','find','2175624bZkEAY','$product','/rm_chart','Finished\x20Goods','$product.from_quantity','French','$return_product.return_qty','German','warehouse_category','550LXQzec','Router','887728zBPMeE','2Kpgydr','2837705AjjJjJ','54603yLevjU','log','$product.to_quantity','$product.product_name','$return_sale','aggregate','/fg_trf_line','$total_amount','json','True','success','../public/language/languages.json','English','Portuguese\x20(BR)','/raw_line','1168272WHtBma','$to_warehouse','findOne','errors','621161nfqrDL','user','$return_product','exports','language','../middleware/auth','$date','flash','$product.adjust_qty'];a0_0x4d20=function(){return _0x292cb4;};return a0_0x4d20();}const express=require(a0_0x34924b(0xf4)),app=express(),router=express[a0_0x34924b(0xc9)](),auth=require(a0_0x34924b(0xe5)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require('../models/all_models'),users=require(a0_0x34924b(0xd8));router[a0_0x34924b(0xf2)]('/index',auth,async(_0x204d48,_0x1b5710)=>{const _0x4df515=a0_0x34924b;try{const {username:_0x6ee146,email:_0xc80585,role:_0x13f34f}=_0x204d48['user'],_0x865ac=_0x204d48[_0x4df515(0xe1)];var _0x4e3359;if(_0x865ac[_0x4df515(0xc7)]=='Raw\x20Materials'){const _0x3b7871=await product[_0x4df515(0xfd)]({'product_category':'Raw\x20Materials'});_0x4e3359=_0x3b7871['length'];}else{if(_0x865ac[_0x4df515(0xc7)]=='Finished\x20Goods'){const _0xae90d6=await product[_0x4df515(0xfd)]({'product_category':_0x4df515(0x101)});_0x4e3359=_0xae90d6['length'];}else{const _0x153f7e=await product[_0x4df515(0xfd)]();_0x4e3359=_0x153f7e[_0x4df515(0xf6)];}}const _0x57c172=await profile[_0x4df515(0xde)]({'email':_0x865ac['email']}),_0x3ef0dd=await master_shop[_0x4df515(0xfd)](),_0x2e2d03=await sales['aggregate']([{'$group':{'_id':null,'total_price':{'$sum':_0x4df515(0xec)}}}]),_0x3a0542=await sales['aggregate']([{'$unwind':_0x4df515(0xed)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x4df515(0xee)}}}]),_0x2b44bd=await sales_return[_0x4df515(0xd2)]([{'$group':{'_id':null,'total':{'$sum':_0x4df515(0xd4)}}}]),_0x4831aa=await sales_return[_0x4df515(0xd2)]([{'$unwind':_0x4df515(0xd1)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$return_sale.sale_qty'}}}]),_0x4215cd=await purchases[_0x4df515(0xd2)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x4df515(0xd4)}}}]),_0x3bcbac=await purchases_return[_0x4df515(0xd2)]([{'$group':{'_id':null,'total':{'$sum':_0x4df515(0xd4)}}}]),_0x189b1f=await purchases_return['aggregate']([{'$unwind':_0x4df515(0xe2)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x4df515(0xc5)}}}]),_0x5149cb=await purchases[_0x4df515(0xd2)]([{'$unwind':_0x4df515(0xff)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x4df515(0xf1)}}}]),_0x437b4f=await purchases[_0x4df515(0xd2)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x487400=await sales[_0x4df515(0xd2)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x40b5a2=await transfers[_0x4df515(0xd2)]([{'$unwind':_0x4df515(0xff)},{'$group':{'_id':_0x4df515(0xd0),'fromWarehouse':{'$first':_0x4df515(0xf9)},'toWareHouse':{'$first':_0x4df515(0xdd)},'FromtotalQuantity':{'$sum':_0x4df515(0x102)},'TototalQuantity':{'$sum':_0x4df515(0xcf)}}}]),_0x5ba032=await categories[_0x4df515(0xfd)](),_0x3a57f9=await product[_0x4df515(0xfd)](),_0xed4a69=await suppliers['find'](),_0x4a878c=await customer[_0x4df515(0xfd)]();if(_0x3ef0dd[0x0][_0x4df515(0xe4)]==_0x4df515(0xe9))var _0x2d0925=users[_0x4df515(0xd9)];else{if(_0x3ef0dd[0x0]['language']==_0x4df515(0xfb))var _0x2d0925=users[_0x4df515(0xfb)];else{if(_0x3ef0dd[0x0][_0x4df515(0xe4)]==_0x4df515(0xc6))var _0x2d0925=users[_0x4df515(0xc6)];else{if(_0x3ef0dd[0x0]['language']==_0x4df515(0xef))var _0x2d0925=users[_0x4df515(0xef)];else{if(_0x3ef0dd[0x0][_0x4df515(0xe4)]==_0x4df515(0xc4))var _0x2d0925=users[_0x4df515(0xc4)];else{if(_0x3ef0dd[0x0][_0x4df515(0xe4)]==_0x4df515(0xda))var _0x2d0925=users[_0x4df515(0xf8)];else{if(_0x3ef0dd[0x0][_0x4df515(0xe4)]=='Chinese')var _0x2d0925=users[_0x4df515(0xf7)];else{if(_0x3ef0dd[0x0]['language']==_0x4df515(0xfa))var _0x2d0925=users[_0x4df515(0xf5)];}}}}}}}_0x1b5710['render'](_0x4df515(0xf3),{'success':_0x204d48[_0x4df515(0xe7)](_0x4df515(0xd7)),'errors':_0x204d48[_0x4df515(0xe7)](_0x4df515(0xdf)),'role':_0x865ac,'profile':_0x57c172,'sale':_0x2e2d03[0x0],'sales_return':_0x2b44bd[0x0],'purchases':_0x4215cd[0x0],'purchases_return':_0x3bcbac[0x0],'purchases_table':_0x437b4f,'sales_table':_0x487400,'categories':_0x5ba032[_0x4df515(0xf6)],'product':_0x3a57f9[_0x4df515(0xf6)],'suppliers':_0xed4a69[_0x4df515(0xf6)],'customer':_0x4a878c[_0x4df515(0xf6)],'master_shop':_0x3ef0dd,'language':_0x2d0925,'sale_QTY':_0x3a0542[0x0],'purchases_QTY':_0x5149cb[0x0],'sales_return_QTY':_0x4831aa[0x0],'purchases_return_QTY':_0x189b1f[0x0],'transfer_table':_0x40b5a2,'product_cnt':_0x4e3359});}catch(_0x6630d3){console[_0x4df515(0xce)](_0x6630d3);}}),router[a0_0x34924b(0xf2)](a0_0x34924b(0xdb),auth,async(_0x5d29d8,_0x4d6b43)=>{const _0x38eeec=a0_0x34924b;try{const _0x5936b7=await purchases['aggregate']([{'$unwind':_0x38eeec(0xff)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x38eeec(0xf1)},'date':{'$first':_0x38eeec(0xe6)}}},{'$sort':{'date':0x1}}]);_0x4d6b43[_0x38eeec(0xd5)](_0x5936b7);}catch(_0x40be09){_0x4d6b43[_0x38eeec(0xd5)](_0x40be09);}}),router[a0_0x34924b(0xf2)]('/raw_out_line',auth,async(_0x1d2bb1,_0x18cde5)=>{const _0x1c5bea=a0_0x34924b;try{const _0x948993=await sales[_0x1c5bea(0xd2)]([{'$match':{'finalize':_0x1c5bea(0xd6)}},{'$unwind':_0x1c5bea(0xed)},{'$group':{'_id':_0x1c5bea(0xe6),'totalQuantity':{'$sum':_0x1c5bea(0xee)},'date':{'$first':_0x1c5bea(0xe6)}}},{'$sort':{'date':0x1}}]);_0x18cde5[_0x1c5bea(0xd5)](_0x948993);}catch(_0x308c9c){_0x18cde5['json'](_0x308c9c);}}),router[a0_0x34924b(0xf2)]('/raw_adj_line',auth,async(_0x3df0dd,_0x3738a1)=>{const _0x256174=a0_0x34924b;try{const _0x48b072=await adjustment[_0x256174(0xd2)]([{'$match':{'finalize':'True'}},{'$unwind':_0x256174(0xff)},{'$group':{'_id':_0x256174(0xe6),'totalQuantity':{'$sum':_0x256174(0xe8)},'date':{'$first':_0x256174(0xe6)}}},{'$sort':{'date':0x1}}]);_0x3738a1[_0x256174(0xd5)](_0x48b072);}catch(_0x4f3370){_0x3738a1['json'](_0x4f3370);}}),router['get']('/raw_trf_line',auth,async(_0x109f3c,_0xc3ebd3)=>{const _0x53d059=a0_0x34924b;try{const _0x1b9a85=await transfers[_0x53d059(0xd2)]([{'$match':{'finalize':_0x53d059(0xd6)}},{'$unwind':_0x53d059(0xff)},{'$group':{'_id':_0x53d059(0xe6),'totalQuantity':{'$sum':_0x53d059(0xcf)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0xc3ebd3[_0x53d059(0xd5)](_0x1b9a85);}catch(_0x367a49){_0xc3ebd3['json'](_0x367a49);}}),router['get'](a0_0x34924b(0xeb),auth,async(_0x43d060,_0x588d79)=>{const _0xf5967d=a0_0x34924b;try{const _0x373b9b=await purchases_finished[_0xf5967d(0xd2)]([{'$unwind':_0xf5967d(0xff)},{'$group':{'_id':_0xf5967d(0xe6),'totalQuantity':{'$sum':_0xf5967d(0xf1)},'date':{'$first':_0xf5967d(0xe6)}}},{'$sort':{'date':0x1}}]);_0x588d79[_0xf5967d(0xd5)](_0x373b9b);}catch(_0x102617){_0x588d79['json'](_0x102617);}}),router[a0_0x34924b(0xf2)](a0_0x34924b(0xea),auth,async(_0x3e633c,_0x56e902)=>{const _0x46c710=a0_0x34924b;try{const _0x44f50b=await sales_finished['aggregate']([{'$match':{'finalize':_0x46c710(0xd6)}},{'$unwind':_0x46c710(0xed)},{'$group':{'_id':_0x46c710(0xe6),'totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x56e902['json'](_0x44f50b);}catch(_0x29391e){_0x56e902[_0x46c710(0xd5)](_0x29391e);}}),router[a0_0x34924b(0xf2)]('/fg_adj_line',auth,async(_0x286b05,_0x45478b)=>{const _0x3fb9c6=a0_0x34924b;try{const _0x46a8c4=await adjustment_finished[_0x3fb9c6(0xd2)]([{'$match':{'finalize':_0x3fb9c6(0xd6)}},{'$unwind':_0x3fb9c6(0xff)},{'$group':{'_id':_0x3fb9c6(0xe6),'totalQuantity':{'$sum':_0x3fb9c6(0xe8)},'date':{'$first':_0x3fb9c6(0xe6)}}},{'$sort':{'date':0x1}}]);_0x45478b[_0x3fb9c6(0xd5)](_0x46a8c4);}catch(_0x105131){_0x45478b['json'](_0x105131);}}),router[a0_0x34924b(0xf2)](a0_0x34924b(0xd3),auth,async(_0x404cc2,_0xf3335d)=>{const _0x3340ec=a0_0x34924b;try{const _0x33b0d3=await transfers_finished['aggregate']([{'$match':{'finalize':_0x3340ec(0xd6)}},{'$unwind':'$product'},{'$group':{'_id':_0x3340ec(0xe6),'totalQuantity':{'$sum':_0x3340ec(0xcf)},'date':{'$first':_0x3340ec(0xe6)}}},{'$sort':{'date':0x1}}]);_0xf3335d[_0x3340ec(0xd5)](_0x33b0d3);}catch(_0x1e5413){_0xf3335d[_0x3340ec(0xd5)](_0x1e5413);}}),router['get'](a0_0x34924b(0x100),auth,async(_0x3da381,_0x5c70b7)=>{const _0x37d648=a0_0x34924b;try{const _0x356c8e=await purchases[_0x37d648(0xd2)]([{'$unwind':_0x37d648(0xff)},{'$group':{'_id':_0x37d648(0xe6),'totalQuantity':{'$sum':'$product.quantity'},'date':{'$first':_0x37d648(0xe6)}}},{'$sort':{'date':0x1}}]),_0xe2641a=await sales[_0x37d648(0xd2)]([{'$match':{'finalize':_0x37d648(0xd6)}},{'$unwind':_0x37d648(0xed)},{'$group':{'_id':_0x37d648(0xe6),'totalQuantity':{'$sum':_0x37d648(0xee)},'date':{'$first':_0x37d648(0xe6)}}},{'$sort':{'date':0x1}}]),_0x550b1d=await adjustment[_0x37d648(0xd2)]([{'$match':{'finalize':'True'}},{'$unwind':_0x37d648(0xff)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x37d648(0xe8)},'date':{'$first':_0x37d648(0xe6)}}},{'$sort':{'date':0x1}}]),_0x4a1663=await transfers['aggregate']([{'$match':{'finalize':_0x37d648(0xd6)}},{'$unwind':_0x37d648(0xff)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x37d648(0xcf)},'date':{'$first':_0x37d648(0xe6)}}},{'$sort':{'date':0x1}}]);_0x5c70b7[_0x37d648(0xd5)]({'purchases':_0x356c8e,'sales':_0xe2641a,'adjustment':_0x550b1d,'transfer':_0x4a1663});}catch(_0x5b92d7){_0x5c70b7[_0x37d648(0xd5)](_0x5b92d7);}}),router[a0_0x34924b(0xf2)]('/fg_chart',auth,async(_0xa266c4,_0x33f831)=>{const _0x35995f=a0_0x34924b;try{const _0x2f9e7b=await product[_0x35995f(0xfd)]({'product_category':'Finished\x20Goods'});_0x33f831['json']({'count':_0x2f9e7b[_0x35995f(0xf6)]});}catch(_0x3e46c0){_0x33f831['json'](_0x3e46c0);}}),module[a0_0x34924b(0xe3)]=router;