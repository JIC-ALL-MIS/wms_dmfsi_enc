const a0_0x37c6a7=a0_0x31e9;(function(_0x206963,_0x112398){const _0x1c05e5=a0_0x31e9,_0x3ef153=_0x206963();while(!![]){try{const _0x40509d=-parseInt(_0x1c05e5(0x183))/0x1+-parseInt(_0x1c05e5(0x18f))/0x2*(parseInt(_0x1c05e5(0x18c))/0x3)+-parseInt(_0x1c05e5(0x18a))/0x4*(-parseInt(_0x1c05e5(0x18d))/0x5)+-parseInt(_0x1c05e5(0x176))/0x6*(-parseInt(_0x1c05e5(0x19b))/0x7)+-parseInt(_0x1c05e5(0x17d))/0x8+parseInt(_0x1c05e5(0x173))/0x9+parseInt(_0x1c05e5(0x194))/0xa;if(_0x40509d===_0x112398)break;else _0x3ef153['push'](_0x3ef153['shift']());}catch(_0x1b68a6){_0x3ef153['push'](_0x3ef153['shift']());}}}(a0_0x4d1b,0xafeb7));function a0_0x31e9(_0x198d77,_0x4b4c66){const _0x4d1b20=a0_0x4d1b();return a0_0x31e9=function(_0x31e906,_0x42c52c){_0x31e906=_0x31e906-0x16b;let _0x2b0b67=_0x4d1b20[_0x31e906];return _0x2b0b67;},a0_0x31e9(_0x198d77,_0x4b4c66);}const express=require('express'),app=express(),router=express[a0_0x37c6a7(0x16b)](),auth=require('../middleware/auth'),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require('../models/all_models'),users=require('../public/language/languages.json');router[a0_0x37c6a7(0x181)](a0_0x37c6a7(0x174),auth,async(_0x353509,_0x4ed095)=>{const _0x5416b7=a0_0x37c6a7;try{const {username:_0x1bf78c,email:_0x5a1163,role:_0x5e9513}=_0x353509[_0x5416b7(0x175)],_0x498e7e=_0x353509[_0x5416b7(0x175)];var _0x16abe2;if(_0x498e7e[_0x5416b7(0x17e)]==_0x5416b7(0x172)){const _0xacbde4=await product[_0x5416b7(0x19e)]({'product_category':_0x5416b7(0x172)});_0x16abe2=_0xacbde4[_0x5416b7(0x195)];}else{if(_0x498e7e['warehouse_category']==_0x5416b7(0x190)){const _0x69b169=await product[_0x5416b7(0x19e)]({'product_category':_0x5416b7(0x190)});_0x16abe2=_0x69b169['length'];}else{const _0x16cab8=await product[_0x5416b7(0x19e)]();_0x16abe2=_0x16cab8[_0x5416b7(0x195)];}}const _0x4ae891=await profile[_0x5416b7(0x180)]({'email':_0x498e7e[_0x5416b7(0x198)]}),_0x11c367=await master_shop['find']();if(_0x11c367[0x0][_0x5416b7(0x192)]=='English\x20(US)')var _0x932461=users[_0x5416b7(0x19d)];else{if(_0x11c367[0x0][_0x5416b7(0x192)]==_0x5416b7(0x171))var _0x932461=users[_0x5416b7(0x171)];else{if(_0x11c367[0x0][_0x5416b7(0x192)]=='German')var _0x932461=users[_0x5416b7(0x182)];else{if(_0x11c367[0x0][_0x5416b7(0x192)]==_0x5416b7(0x186))var _0x932461=users[_0x5416b7(0x186)];else{if(_0x11c367[0x0][_0x5416b7(0x192)]==_0x5416b7(0x17f))var _0x932461=users['French'];else{if(_0x11c367[0x0][_0x5416b7(0x192)]==_0x5416b7(0x191))var _0x932461=users['Portuguese'];else{if(_0x11c367[0x0][_0x5416b7(0x192)]==_0x5416b7(0x177))var _0x932461=users[_0x5416b7(0x177)];else{if(_0x11c367[0x0]['language']==_0x5416b7(0x188))var _0x932461=users[_0x5416b7(0x196)];}}}}}}}_0x4ed095[_0x5416b7(0x17a)](_0x5416b7(0x17c),{'success':_0x353509['flash'](_0x5416b7(0x16c)),'errors':_0x353509[_0x5416b7(0x16d)](_0x5416b7(0x16f)),'role':_0x498e7e,'profile':_0x4ae891,'master_shop':_0x11c367,'language':_0x932461});}catch(_0x4b6221){console[_0x5416b7(0x18b)](_0x4b6221);}}),router[a0_0x37c6a7(0x181)](a0_0x37c6a7(0x170),auth,async(_0x589109,_0x33e03a)=>{const _0x3c18e2=a0_0x37c6a7;try{const _0x1ea203=await purchases[_0x3c18e2(0x178)]([{'$unwind':_0x3c18e2(0x197)},{'$group':{'_id':_0x3c18e2(0x187),'totalQuantity':{'$sum':_0x3c18e2(0x18e)},'date':{'$first':_0x3c18e2(0x187)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x33e03a[_0x3c18e2(0x16e)](_0x1ea203);}catch(_0x3b6039){_0x33e03a[_0x3c18e2(0x16e)](_0x3b6039);}}),router[a0_0x37c6a7(0x181)]('/raw_out_line',auth,async(_0x573cd3,_0x16bfc1)=>{const _0x352ae7=a0_0x37c6a7;try{const _0x4566e3=await sales[_0x352ae7(0x178)]([{'$match':{'finalize':_0x352ae7(0x179)}},{'$unwind':_0x352ae7(0x189)},{'$group':{'_id':_0x352ae7(0x187),'totalQuantity':{'$sum':_0x352ae7(0x19a)},'date':{'$first':_0x352ae7(0x187)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x16bfc1[_0x352ae7(0x16e)](_0x4566e3);}catch(_0x314820){_0x16bfc1[_0x352ae7(0x16e)](_0x314820);}}),router['get'](a0_0x37c6a7(0x184),auth,async(_0x5abd8b,_0x27b784)=>{const _0x5f4ca5=a0_0x37c6a7;try{const _0x58ff7d=await adjustment[_0x5f4ca5(0x178)]([{'$match':{'finalize':'True'}},{'$unwind':_0x5f4ca5(0x197)},{'$group':{'_id':_0x5f4ca5(0x187),'totalQuantity':{'$sum':_0x5f4ca5(0x19c)},'date':{'$first':_0x5f4ca5(0x187)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x27b784[_0x5f4ca5(0x16e)](_0x58ff7d);}catch(_0x487988){_0x27b784[_0x5f4ca5(0x16e)](_0x487988);}}),router[a0_0x37c6a7(0x181)]('/raw_trf_line',auth,async(_0xe01981,_0x2d5e50)=>{const _0x5980c2=a0_0x37c6a7;try{const _0x34320f=await transfers[_0x5980c2(0x178)]([{'$match':{'finalize':_0x5980c2(0x179)}},{'$unwind':_0x5980c2(0x197)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x5980c2(0x19f)},'date':{'$first':_0x5980c2(0x187)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x2d5e50[_0x5980c2(0x16e)](_0x34320f);}catch(_0x2d8156){_0x2d5e50[_0x5980c2(0x16e)](_0x2d8156);}}),router['get']('/fg_line',auth,async(_0x48eb9d,_0x4d8018)=>{const _0x170616=a0_0x37c6a7;try{const _0x52ba86=await purchases_finished['aggregate']([{'$unwind':_0x170616(0x197)},{'$group':{'_id':_0x170616(0x187),'totalQuantity':{'$sum':_0x170616(0x18e)},'date':{'$first':_0x170616(0x187)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x4d8018[_0x170616(0x16e)](_0x52ba86);}catch(_0xda6ec3){_0x4d8018[_0x170616(0x16e)](_0xda6ec3);}}),router['get']('/fg_out_line',auth,async(_0x44b040,_0x10c8b4)=>{const _0x2ac03c=a0_0x37c6a7;try{const _0x1c8f3b=await sales_finished[_0x2ac03c(0x178)]([{'$match':{'finalize':_0x2ac03c(0x179)}},{'$unwind':_0x2ac03c(0x189)},{'$group':{'_id':_0x2ac03c(0x187),'totalQuantity':{'$sum':_0x2ac03c(0x19a)},'date':{'$first':_0x2ac03c(0x187)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x10c8b4[_0x2ac03c(0x16e)](_0x1c8f3b);}catch(_0x228f7e){_0x10c8b4[_0x2ac03c(0x16e)](_0x228f7e);}}),router['get']('/fg_adj_line',auth,async(_0x130cd7,_0x4477ed)=>{const _0x4d6762=a0_0x37c6a7;try{const _0x47baf8=await adjustment_finished[_0x4d6762(0x178)]([{'$match':{'finalize':_0x4d6762(0x179)}},{'$unwind':_0x4d6762(0x197)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x4d6762(0x19c)},'date':{'$first':_0x4d6762(0x187)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x4477ed[_0x4d6762(0x16e)](_0x47baf8);}catch(_0x429c89){_0x4477ed['json'](_0x429c89);}}),router[a0_0x37c6a7(0x181)](a0_0x37c6a7(0x199),auth,async(_0x28c26a,_0x4e0c01)=>{const _0x118c38=a0_0x37c6a7;try{const _0x3f3b5c=await transfers_finished['aggregate']([{'$match':{'finalize':_0x118c38(0x179)}},{'$unwind':_0x118c38(0x197)},{'$group':{'_id':_0x118c38(0x187),'totalQuantity':{'$sum':_0x118c38(0x19f)},'date':{'$first':_0x118c38(0x187)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x4e0c01[_0x118c38(0x16e)](_0x3f3b5c);}catch(_0x1171c7){_0x4e0c01['json'](_0x1171c7);}}),router[a0_0x37c6a7(0x181)](a0_0x37c6a7(0x17b),auth,async(_0x3916f7,_0x5707e4)=>{const _0x29ac91=a0_0x37c6a7;try{const _0x1f5ea7=await purchases['aggregate']([{'$unwind':_0x29ac91(0x197)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x29ac91(0x18e)},'date':{'$first':_0x29ac91(0x187)}}},{'$sort':{'date':0x1}}]),_0x4d5718=await sales[_0x29ac91(0x178)]([{'$match':{'finalize':'True'}},{'$unwind':_0x29ac91(0x189)},{'$group':{'_id':_0x29ac91(0x187),'totalQuantity':{'$sum':_0x29ac91(0x19a)},'date':{'$first':_0x29ac91(0x187)}}},{'$sort':{'date':0x1}}]),_0x2d5eac=await adjustment[_0x29ac91(0x178)]([{'$match':{'finalize':_0x29ac91(0x179)}},{'$unwind':_0x29ac91(0x197)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x29ac91(0x19c)},'date':{'$first':_0x29ac91(0x187)}}},{'$sort':{'date':0x1}}]),_0x19a609=await transfers[_0x29ac91(0x178)]([{'$match':{'finalize':'True'}},{'$unwind':_0x29ac91(0x197)},{'$group':{'_id':_0x29ac91(0x187),'totalQuantity':{'$sum':_0x29ac91(0x19f)},'date':{'$first':_0x29ac91(0x187)}}},{'$sort':{'date':0x1}}]);_0x5707e4[_0x29ac91(0x16e)]({'purchases':_0x1f5ea7,'sales':_0x4d5718,'adjustment':_0x2d5eac,'transfer':_0x19a609});}catch(_0x2e20f1){_0x5707e4[_0x29ac91(0x16e)](_0x2e20f1);}}),router[a0_0x37c6a7(0x181)](a0_0x37c6a7(0x193),auth,async(_0x3a7d50,_0x5c2338)=>{const _0x2f5082=a0_0x37c6a7;try{const _0x2b7701=await product[_0x2f5082(0x19e)]({'product_category':'Finished\x20Goods'});_0x5c2338['json']({'count':_0x2b7701[_0x2f5082(0x195)]});}catch(_0x1d2d76){_0x5c2338['json'](_0x1d2d76);}}),module[a0_0x37c6a7(0x185)]=router;function a0_0x4d1b(){const _0x14f135=['errors','/raw_line','Hindi','Raw\x20Materials','4792329JAFwgx','/index','user','6PCfcKe','Chinese','aggregate','True','render','/rm_chart','index','5897424PtbhKz','warehouse_category','French','findOne','get','German','1100270WQIweW','/raw_adj_line','exports','Spanish','$date','Arabic\x20(ae)','$sale_product','2332828uDsvvb','log','156486dOkQbf','5UPxtgD','$product.quantity','46CVDJKx','Finished\x20Goods','Portuguese\x20(BR)','language','/fg_chart','19937640fVygOK','length','Arabic','$product','email','/fg_trf_line','$sale_product.quantity','4538023VyvtPW','$product.adjust_qty','English','find','$product.to_quantity','Router','success','flash','json'];a0_0x4d1b=function(){return _0x14f135;};return a0_0x4d1b();}