const a0_0x377588=a0_0x3d47;(function(_0x5eed37,_0x5da739){const _0x53c9e2=a0_0x3d47,_0x2fbb57=_0x5eed37();while(!![]){try{const _0x388dba=parseInt(_0x53c9e2(0xec))/0x1+-parseInt(_0x53c9e2(0xdb))/0x2+parseInt(_0x53c9e2(0xc2))/0x3+-parseInt(_0x53c9e2(0xcc))/0x4*(parseInt(_0x53c9e2(0xf0))/0x5)+-parseInt(_0x53c9e2(0xe3))/0x6+parseInt(_0x53c9e2(0xde))/0x7*(-parseInt(_0x53c9e2(0xd2))/0x8)+parseInt(_0x53c9e2(0xd3))/0x9;if(_0x388dba===_0x5da739)break;else _0x2fbb57['push'](_0x2fbb57['shift']());}catch(_0x2245a2){_0x2fbb57['push'](_0x2fbb57['shift']());}}}(a0_0x6123,0xc84e7));function a0_0x3d47(_0x49f95e,_0x182fc0){const _0x612380=a0_0x6123();return a0_0x3d47=function(_0x3d472d,_0x406e6f){_0x3d472d=_0x3d472d-0xc1;let _0x3eb47f=_0x612380[_0x3d472d];return _0x3eb47f;},a0_0x3d47(_0x49f95e,_0x182fc0);}const express=require('express'),app=express(),router=express[a0_0x377588(0xef)](),auth=require(a0_0x377588(0xd8)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require('../models/all_models'),users=require(a0_0x377588(0xc3));function a0_0x6123(){const _0x2a982d=['$date','/index','/fg_out_line','$return_sale','1396866KHQRcs','/raw_out_line','json','flash','$to_warehouse','log','True','Spanish','$sale_product','323941iMpNbk','German','$product','Router','55BgPMDO','$product.quantity','$return_product.return_qty','$total_amount','/fg_chart','Finished\x20Goods','$product.to_quantity','/fg_trf_line','exports','$return_sale.sale_qty','length','$product.product_name','$product.adjust_qty','index','warehouse_category','errors','2244942wTAQeK','../public/language/languages.json','Portuguese\x20(BR)','get','/raw_line','Raw\x20Materials','$sale_product.quantity','English\x20(US)','$return_product','$total_price','494660MRPULU','French','findOne','Arabic\x20(ae)','English','Hindi','986504cXovse','15049593Hzotqd','find','language','aggregate','/rm_chart','../middleware/auth','/raw_adj_line','$product.from_quantity','415076JfDyDW','Portuguese','/fg_adj_line','7oqGfzW'];a0_0x6123=function(){return _0x2a982d;};return a0_0x6123();}router[a0_0x377588(0xc5)](a0_0x377588(0xe0),auth,async(_0x22a161,_0x1e837c)=>{const _0x539157=a0_0x377588;try{const {username:_0x81a5c4,email:_0x4af35f,role:_0x41533c}=_0x22a161['user'],_0x4d53ea=_0x22a161['user'];var _0x1577e3;if(_0x4d53ea[_0x539157(0xfe)]==_0x539157(0xc7)){const _0x32ab44=await product['find']({'product_category':_0x539157(0xc7)});_0x1577e3=_0x32ab44[_0x539157(0xfa)];}else{if(_0x4d53ea[_0x539157(0xfe)]==_0x539157(0xf5)){const _0x2a8991=await product[_0x539157(0xd4)]({'product_category':_0x539157(0xf5)});_0x1577e3=_0x2a8991[_0x539157(0xfa)];}else{const _0x25199a=await product[_0x539157(0xd4)]();_0x1577e3=_0x25199a['length'];}}const _0x36ea36=await profile[_0x539157(0xce)]({'email':_0x4d53ea['email']}),_0xbb7edf=await master_shop[_0x539157(0xd4)](),_0x11375c=await sales[_0x539157(0xd6)]([{'$group':{'_id':null,'total_price':{'$sum':_0x539157(0xcb)}}}]),_0x8a04c2=await sales[_0x539157(0xd6)]([{'$unwind':_0x539157(0xeb)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x539157(0xc8)}}}]),_0x530af9=await sales_return[_0x539157(0xd6)]([{'$group':{'_id':null,'total':{'$sum':_0x539157(0xf3)}}}]),_0x35218a=await sales_return['aggregate']([{'$unwind':_0x539157(0xe2)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x539157(0xf9)}}}]),_0x496ae4=await purchases[_0x539157(0xd6)]([{'$group':{'_id':null,'total_amount':{'$sum':'$total_amount'}}}]),_0x3d7470=await purchases_return[_0x539157(0xd6)]([{'$group':{'_id':null,'total':{'$sum':_0x539157(0xf3)}}}]),_0x4ca548=await purchases_return[_0x539157(0xd6)]([{'$unwind':_0x539157(0xca)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x539157(0xf2)}}}]),_0x591899=await purchases[_0x539157(0xd6)]([{'$unwind':'$product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x539157(0xf1)}}}]),_0x511339=await purchases[_0x539157(0xd6)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x3da302=await sales[_0x539157(0xd6)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x516dcc=await transfers[_0x539157(0xd6)]([{'$unwind':_0x539157(0xee)},{'$group':{'_id':_0x539157(0xfb),'fromWarehouse':{'$first':'$from_warehouse'},'toWareHouse':{'$first':_0x539157(0xe7)},'FromtotalQuantity':{'$sum':_0x539157(0xda)},'TototalQuantity':{'$sum':_0x539157(0xf6)}}}]),_0x9e7d1c=await categories[_0x539157(0xd4)](),_0x20def9=await product[_0x539157(0xd4)](),_0x3c1d8d=await suppliers[_0x539157(0xd4)](),_0x3f01bb=await customer[_0x539157(0xd4)]();if(_0xbb7edf[0x0][_0x539157(0xd5)]==_0x539157(0xc9))var _0x524705=users[_0x539157(0xd0)];else{if(_0xbb7edf[0x0][_0x539157(0xd5)]==_0x539157(0xd1))var _0x524705=users[_0x539157(0xd1)];else{if(_0xbb7edf[0x0][_0x539157(0xd5)]=='German')var _0x524705=users[_0x539157(0xed)];else{if(_0xbb7edf[0x0]['language']==_0x539157(0xea))var _0x524705=users[_0x539157(0xea)];else{if(_0xbb7edf[0x0]['language']==_0x539157(0xcd))var _0x524705=users['French'];else{if(_0xbb7edf[0x0][_0x539157(0xd5)]==_0x539157(0xc4))var _0x524705=users[_0x539157(0xdc)];else{if(_0xbb7edf[0x0][_0x539157(0xd5)]=='Chinese')var _0x524705=users['Chinese'];else{if(_0xbb7edf[0x0]['language']==_0x539157(0xcf))var _0x524705=users['Arabic'];}}}}}}}_0x1e837c['render'](_0x539157(0xfd),{'success':_0x22a161[_0x539157(0xe6)]('success'),'errors':_0x22a161['flash'](_0x539157(0xc1)),'role':_0x4d53ea,'profile':_0x36ea36,'sale':_0x11375c[0x0],'sales_return':_0x530af9[0x0],'purchases':_0x496ae4[0x0],'purchases_return':_0x3d7470[0x0],'purchases_table':_0x511339,'sales_table':_0x3da302,'categories':_0x9e7d1c['length'],'product':_0x20def9[_0x539157(0xfa)],'suppliers':_0x3c1d8d[_0x539157(0xfa)],'customer':_0x3f01bb[_0x539157(0xfa)],'master_shop':_0xbb7edf,'language':_0x524705,'sale_QTY':_0x8a04c2[0x0],'purchases_QTY':_0x591899[0x0],'sales_return_QTY':_0x35218a[0x0],'purchases_return_QTY':_0x4ca548[0x0],'transfer_table':_0x516dcc,'product_cnt':_0x1577e3});}catch(_0x4b4a2c){console[_0x539157(0xe8)](_0x4b4a2c);}}),router['get'](a0_0x377588(0xc6),auth,async(_0x3435ec,_0x283cd7)=>{const _0x32cea1=a0_0x377588;try{const _0x487966=await purchases[_0x32cea1(0xd6)]([{'$unwind':_0x32cea1(0xee)},{'$group':{'_id':_0x32cea1(0xdf),'totalQuantity':{'$sum':'$product.quantity'},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x283cd7[_0x32cea1(0xe5)](_0x487966);}catch(_0x3885c4){_0x283cd7['json'](_0x3885c4);}}),router[a0_0x377588(0xc5)](a0_0x377588(0xe4),auth,async(_0x29033d,_0x39c13f)=>{const _0x311ca6=a0_0x377588;try{const _0x32c545=await sales[_0x311ca6(0xd6)]([{'$match':{'finalize':_0x311ca6(0xe9)}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x311ca6(0xdf),'totalQuantity':{'$sum':_0x311ca6(0xc8)},'date':{'$first':_0x311ca6(0xdf)}}},{'$sort':{'date':0x1}}]);_0x39c13f['json'](_0x32c545);}catch(_0x53dd29){_0x39c13f[_0x311ca6(0xe5)](_0x53dd29);}}),router[a0_0x377588(0xc5)](a0_0x377588(0xd9),auth,async(_0xd3bb2c,_0x3832c0)=>{const _0x275aa0=a0_0x377588;try{const _0x5b473d=await adjustment[_0x275aa0(0xd6)]([{'$match':{'finalize':'True'}},{'$unwind':'$product'},{'$group':{'_id':_0x275aa0(0xdf),'totalQuantity':{'$sum':_0x275aa0(0xfc)},'date':{'$first':_0x275aa0(0xdf)}}},{'$sort':{'date':0x1}}]);_0x3832c0['json'](_0x5b473d);}catch(_0x6a15cf){_0x3832c0[_0x275aa0(0xe5)](_0x6a15cf);}}),router[a0_0x377588(0xc5)]('/raw_trf_line',auth,async(_0x3683ad,_0x1c3281)=>{const _0x24d688=a0_0x377588;try{const _0x5cab22=await transfers['aggregate']([{'$match':{'finalize':_0x24d688(0xe9)}},{'$unwind':_0x24d688(0xee)},{'$group':{'_id':'$date','totalQuantity':{'$sum':'$product.to_quantity'},'date':{'$first':_0x24d688(0xdf)}}},{'$sort':{'date':0x1}}]);_0x1c3281[_0x24d688(0xe5)](_0x5cab22);}catch(_0x3e38a8){_0x1c3281['json'](_0x3e38a8);}}),router[a0_0x377588(0xc5)]('/fg_line',auth,async(_0x53a51d,_0x5678f3)=>{const _0x1ba0cb=a0_0x377588;try{const _0x3b956d=await purchases_finished['aggregate']([{'$unwind':_0x1ba0cb(0xee)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x1ba0cb(0xf1)},'date':{'$first':_0x1ba0cb(0xdf)}}},{'$sort':{'date':0x1}}]);_0x5678f3[_0x1ba0cb(0xe5)](_0x3b956d);}catch(_0x26650f){_0x5678f3[_0x1ba0cb(0xe5)](_0x26650f);}}),router[a0_0x377588(0xc5)](a0_0x377588(0xe1),auth,async(_0x157055,_0x56c507)=>{const _0x27dfcd=a0_0x377588;try{const _0x385337=await sales_finished[_0x27dfcd(0xd6)]([{'$match':{'finalize':_0x27dfcd(0xe9)}},{'$unwind':_0x27dfcd(0xeb)},{'$group':{'_id':_0x27dfcd(0xdf),'totalQuantity':{'$sum':_0x27dfcd(0xc8)},'date':{'$first':_0x27dfcd(0xdf)}}},{'$sort':{'date':0x1}}]);_0x56c507[_0x27dfcd(0xe5)](_0x385337);}catch(_0x465f43){_0x56c507[_0x27dfcd(0xe5)](_0x465f43);}}),router[a0_0x377588(0xc5)](a0_0x377588(0xdd),auth,async(_0xa9c470,_0xff8569)=>{const _0x195af4=a0_0x377588;try{const _0x21d906=await adjustment_finished[_0x195af4(0xd6)]([{'$match':{'finalize':_0x195af4(0xe9)}},{'$unwind':'$product'},{'$group':{'_id':_0x195af4(0xdf),'totalQuantity':{'$sum':_0x195af4(0xfc)},'date':{'$first':_0x195af4(0xdf)}}},{'$sort':{'date':0x1}}]);_0xff8569[_0x195af4(0xe5)](_0x21d906);}catch(_0x3507d0){_0xff8569[_0x195af4(0xe5)](_0x3507d0);}}),router[a0_0x377588(0xc5)](a0_0x377588(0xf7),auth,async(_0x4df18e,_0x4b6d6c)=>{const _0x2250b9=a0_0x377588;try{const _0x4e911a=await transfers_finished[_0x2250b9(0xd6)]([{'$match':{'finalize':_0x2250b9(0xe9)}},{'$unwind':'$product'},{'$group':{'_id':_0x2250b9(0xdf),'totalQuantity':{'$sum':_0x2250b9(0xf6)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x4b6d6c[_0x2250b9(0xe5)](_0x4e911a);}catch(_0x100d3e){_0x4b6d6c[_0x2250b9(0xe5)](_0x100d3e);}}),router['get'](a0_0x377588(0xd7),auth,async(_0xe43155,_0x6684cc)=>{const _0x29162e=a0_0x377588;try{const _0x8bd418=await purchases[_0x29162e(0xd6)]([{'$unwind':_0x29162e(0xee)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x29162e(0xf1)},'date':{'$first':_0x29162e(0xdf)}}},{'$sort':{'date':0x1}}]),_0x28a075=await sales[_0x29162e(0xd6)]([{'$match':{'finalize':_0x29162e(0xe9)}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x29162e(0xdf),'totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':_0x29162e(0xdf)}}},{'$sort':{'date':0x1}}]),_0xa0d589=await adjustment[_0x29162e(0xd6)]([{'$match':{'finalize':'True'}},{'$unwind':_0x29162e(0xee)},{'$group':{'_id':_0x29162e(0xdf),'totalQuantity':{'$sum':'$product.adjust_qty'},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]),_0xb5a74d=await transfers['aggregate']([{'$match':{'finalize':_0x29162e(0xe9)}},{'$unwind':_0x29162e(0xee)},{'$group':{'_id':_0x29162e(0xdf),'totalQuantity':{'$sum':_0x29162e(0xf6)},'date':{'$first':_0x29162e(0xdf)}}},{'$sort':{'date':0x1}}]);_0x6684cc[_0x29162e(0xe5)]({'purchases':_0x8bd418,'sales':_0x28a075,'adjustment':_0xa0d589,'transfer':_0xb5a74d});}catch(_0x2dcd54){_0x6684cc[_0x29162e(0xe5)](_0x2dcd54);}}),router[a0_0x377588(0xc5)](a0_0x377588(0xf4),auth,async(_0x16bdf0,_0x13b662)=>{const _0xc1a8d4=a0_0x377588;try{const _0x178a24=await product[_0xc1a8d4(0xd4)]({'product_category':'Finished\x20Goods'});_0x13b662[_0xc1a8d4(0xe5)]({'count':_0x178a24[_0xc1a8d4(0xfa)]});}catch(_0x19f38f){_0x13b662[_0xc1a8d4(0xe5)](_0x19f38f);}}),module[a0_0x377588(0xf8)]=router;