function a0_0x3644(_0x562f9e,_0xadba96){const _0x5e8f6d=a0_0x5e8f();return a0_0x3644=function(_0x364408,_0x5b0b9a){_0x364408=_0x364408-0x1bd;let _0x2fd21f=_0x5e8f6d[_0x364408];return _0x2fd21f;},a0_0x3644(_0x562f9e,_0xadba96);}const a0_0x40c0c8=a0_0x3644;(function(_0x1c4985,_0x36f08d){const _0x4705ad=a0_0x3644,_0x24972c=_0x1c4985();while(!![]){try{const _0x363b32=parseInt(_0x4705ad(0x1d4))/0x1*(-parseInt(_0x4705ad(0x1bf))/0x2)+parseInt(_0x4705ad(0x1c1))/0x3*(-parseInt(_0x4705ad(0x1da))/0x4)+parseInt(_0x4705ad(0x1d5))/0x5+-parseInt(_0x4705ad(0x1c9))/0x6+parseInt(_0x4705ad(0x1ef))/0x7*(parseInt(_0x4705ad(0x1cd))/0x8)+parseInt(_0x4705ad(0x1c5))/0x9*(-parseInt(_0x4705ad(0x1d1))/0xa)+parseInt(_0x4705ad(0x1d7))/0xb;if(_0x363b32===_0x36f08d)break;else _0x24972c['push'](_0x24972c['shift']());}catch(_0x235a93){_0x24972c['push'](_0x24972c['shift']());}}}(a0_0x5e8f,0xefc9a));function a0_0x5e8f(){const _0x1a0292=['$product.quantity','index','English','French','$total_amount','$sale_product.quantity','language','find','$product.to_quantity','103593ToMvsV','$total_price','/raw_out_line','Chinese','26614RySVIH','Spanish','18EmDWtD','$sale_product','json','$product.product_name','15914682LAeVok','errors','$product.adjust_qty','/fg_out_line','11049786jcmcFM','express','Portuguese\x20(BR)','render','912XIWoQn','Arabic\x20(ae)','flash','Hindi','10HadJbg','$product','length','137jgdQAn','9212545NhyHEV','/fg_adj_line','39584831fZxiUC','German','$product.from_quantity','475372bohqwD','log','../public/language/languages.json','True','English\x20(US)','Router','../models/all_models','$date','aggregate','get','user','$return_sale.sale_qty'];a0_0x5e8f=function(){return _0x1a0292;};return a0_0x5e8f();}const express=require(a0_0x40c0c8(0x1ca)),app=express(),router=express[a0_0x40c0c8(0x1df)](),auth=require('../middleware/auth'),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require(a0_0x40c0c8(0x1e0)),users=require(a0_0x40c0c8(0x1dc));router[a0_0x40c0c8(0x1e3)]('/index',auth,async(_0xe50b5c,_0x5f0b0a)=>{const _0x3f32f7=a0_0x40c0c8;try{const {username:_0x397aaa,email:_0x30879f,role:_0x1be023}=_0xe50b5c[_0x3f32f7(0x1e4)],_0x4d7972=_0xe50b5c[_0x3f32f7(0x1e4)],_0x2c9141=await profile['findOne']({'email':_0x4d7972['email']}),_0x3c6615=await master_shop[_0x3f32f7(0x1ed)](),_0x547717=await sales['aggregate']([{'$group':{'_id':null,'total_price':{'$sum':_0x3f32f7(0x1f0)}}}]),_0x340264=await sales[_0x3f32f7(0x1e2)]([{'$unwind':_0x3f32f7(0x1c2)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x3f32f7(0x1eb)}}}]),_0x4f897c=await sales_return['aggregate']([{'$group':{'_id':null,'total':{'$sum':_0x3f32f7(0x1ea)}}}]),_0xd3fcc7=await sales_return['aggregate']([{'$unwind':'$return_sale'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x3f32f7(0x1e5)}}}]),_0x302359=await purchases[_0x3f32f7(0x1e2)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x3f32f7(0x1ea)}}}]),_0x4b39a3=await purchases_return[_0x3f32f7(0x1e2)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x2a1a65=await purchases_return[_0x3f32f7(0x1e2)]([{'$unwind':'$return_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':'$return_product.return_qty'}}}]),_0x72c9c6=await purchases[_0x3f32f7(0x1e2)]([{'$unwind':'$product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x3f32f7(0x1e6)}}}]),_0x4395fb=await purchases[_0x3f32f7(0x1e2)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x578232=await sales[_0x3f32f7(0x1e2)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x357beb=await transfers[_0x3f32f7(0x1e2)]([{'$unwind':_0x3f32f7(0x1d2)},{'$group':{'_id':_0x3f32f7(0x1c4),'fromWarehouse':{'$first':'$from_warehouse'},'toWareHouse':{'$first':'$to_warehouse'},'FromtotalQuantity':{'$sum':_0x3f32f7(0x1d9)},'TototalQuantity':{'$sum':'$product.to_quantity'}}}]),_0x5f0e5a=await categories[_0x3f32f7(0x1ed)](),_0x5c84d2=await product[_0x3f32f7(0x1ed)](),_0x33b4f0=await suppliers[_0x3f32f7(0x1ed)](),_0x334fa9=await customer[_0x3f32f7(0x1ed)]();if(_0x3c6615[0x0][_0x3f32f7(0x1ec)]==_0x3f32f7(0x1de))var _0x411bd6=users[_0x3f32f7(0x1e8)];else{if(_0x3c6615[0x0][_0x3f32f7(0x1ec)]==_0x3f32f7(0x1d0))var _0x411bd6=users[_0x3f32f7(0x1d0)];else{if(_0x3c6615[0x0][_0x3f32f7(0x1ec)]==_0x3f32f7(0x1d8))var _0x411bd6=users[_0x3f32f7(0x1d8)];else{if(_0x3c6615[0x0][_0x3f32f7(0x1ec)]==_0x3f32f7(0x1c0))var _0x411bd6=users[_0x3f32f7(0x1c0)];else{if(_0x3c6615[0x0][_0x3f32f7(0x1ec)]==_0x3f32f7(0x1e9))var _0x411bd6=users[_0x3f32f7(0x1e9)];else{if(_0x3c6615[0x0][_0x3f32f7(0x1ec)]==_0x3f32f7(0x1cb))var _0x411bd6=users['Portuguese'];else{if(_0x3c6615[0x0][_0x3f32f7(0x1ec)]==_0x3f32f7(0x1be))var _0x411bd6=users[_0x3f32f7(0x1be)];else{if(_0x3c6615[0x0]['language']==_0x3f32f7(0x1ce))var _0x411bd6=users['Arabic'];}}}}}}}_0x5f0b0a[_0x3f32f7(0x1cc)](_0x3f32f7(0x1e7),{'success':_0xe50b5c[_0x3f32f7(0x1cf)]('success'),'errors':_0xe50b5c[_0x3f32f7(0x1cf)](_0x3f32f7(0x1c6)),'role':_0x4d7972,'profile':_0x2c9141,'sale':_0x547717[0x0],'sales_return':_0x4f897c[0x0],'purchases':_0x302359[0x0],'purchases_return':_0x4b39a3[0x0],'purchases_table':_0x4395fb,'sales_table':_0x578232,'categories':_0x5f0e5a[_0x3f32f7(0x1d3)],'product':_0x5c84d2['length'],'suppliers':_0x33b4f0['length'],'customer':_0x334fa9[_0x3f32f7(0x1d3)],'master_shop':_0x3c6615,'language':_0x411bd6,'sale_QTY':_0x340264[0x0],'purchases_QTY':_0x72c9c6[0x0],'sales_return_QTY':_0xd3fcc7[0x0],'purchases_return_QTY':_0x2a1a65[0x0],'transfer_table':_0x357beb});}catch(_0x28e26d){console[_0x3f32f7(0x1db)](_0x28e26d);}}),router[a0_0x40c0c8(0x1e3)]('/raw_line',auth,async(_0x3c58f6,_0x272d2c)=>{const _0x55775b=a0_0x40c0c8;try{const _0x2b44e5=await purchases[_0x55775b(0x1e2)]([{'$unwind':_0x55775b(0x1d2)},{'$group':{'_id':_0x55775b(0x1e1),'totalQuantity':{'$sum':'$product.quantity'},'date':{'$first':_0x55775b(0x1e1)}}},{'$sort':{'date':0x1}}]);_0x272d2c[_0x55775b(0x1c3)](_0x2b44e5);}catch(_0xfb5da4){_0x272d2c[_0x55775b(0x1c3)](_0xfb5da4);}}),router[a0_0x40c0c8(0x1e3)](a0_0x40c0c8(0x1bd),auth,async(_0x26e7ca,_0x9f487c)=>{const _0xeef43b=a0_0x40c0c8;try{const _0x328aa5=await sales[_0xeef43b(0x1e2)]([{'$match':{'finalize':_0xeef43b(0x1dd)}},{'$unwind':'$sale_product'},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0xeef43b(0x1eb)},'date':{'$first':_0xeef43b(0x1e1)}}},{'$sort':{'date':0x1}}]);_0x9f487c[_0xeef43b(0x1c3)](_0x328aa5);}catch(_0x49f976){_0x9f487c[_0xeef43b(0x1c3)](_0x49f976);}}),router[a0_0x40c0c8(0x1e3)]('/raw_adj_line',auth,async(_0x3ec4ec,_0x52bba7)=>{const _0x344286=a0_0x40c0c8;try{const _0x295c1b=await adjustment[_0x344286(0x1e2)]([{'$match':{'finalize':'True'}},{'$unwind':'$product'},{'$group':{'_id':_0x344286(0x1e1),'totalQuantity':{'$sum':_0x344286(0x1c7)},'date':{'$first':_0x344286(0x1e1)}}},{'$sort':{'date':0x1}}]);_0x52bba7['json'](_0x295c1b);}catch(_0x5b247f){_0x52bba7[_0x344286(0x1c3)](_0x5b247f);}}),router[a0_0x40c0c8(0x1e3)]('/raw_trf_line',auth,async(_0x10652c,_0x570478)=>{const _0x2e22b6=a0_0x40c0c8;try{const _0x22e886=await transfers['aggregate']([{'$match':{'finalize':_0x2e22b6(0x1dd)}},{'$unwind':'$product'},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x2e22b6(0x1ee)},'date':{'$first':_0x2e22b6(0x1e1)}}},{'$sort':{'date':0x1}}]);_0x570478[_0x2e22b6(0x1c3)](_0x22e886);}catch(_0x23bb80){_0x570478['json'](_0x23bb80);}}),router[a0_0x40c0c8(0x1e3)]('/fg_line',auth,async(_0xe2edc9,_0x5895ff)=>{const _0x3b8d54=a0_0x40c0c8;try{const _0x43cec3=await purchases_finished[_0x3b8d54(0x1e2)]([{'$unwind':_0x3b8d54(0x1d2)},{'$group':{'_id':_0x3b8d54(0x1e1),'totalQuantity':{'$sum':_0x3b8d54(0x1e6)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x5895ff[_0x3b8d54(0x1c3)](_0x43cec3);}catch(_0x33ec98){_0x5895ff[_0x3b8d54(0x1c3)](_0x33ec98);}}),router[a0_0x40c0c8(0x1e3)](a0_0x40c0c8(0x1c8),auth,async(_0x106080,_0x44356d)=>{const _0x2520e0=a0_0x40c0c8;try{const _0x148010=await sales_finished[_0x2520e0(0x1e2)]([{'$match':{'finalize':'True'}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x2520e0(0x1e1),'totalQuantity':{'$sum':_0x2520e0(0x1eb)},'date':{'$first':_0x2520e0(0x1e1)}}},{'$sort':{'date':0x1}}]);_0x44356d['json'](_0x148010);}catch(_0xfb6201){_0x44356d['json'](_0xfb6201);}}),router[a0_0x40c0c8(0x1e3)](a0_0x40c0c8(0x1d6),auth,async(_0x37592d,_0x136843)=>{const _0x53c428=a0_0x40c0c8;try{const _0x535e59=await adjustment_finished[_0x53c428(0x1e2)]([{'$match':{'finalize':_0x53c428(0x1dd)}},{'$unwind':'$product'},{'$group':{'_id':_0x53c428(0x1e1),'totalQuantity':{'$sum':_0x53c428(0x1c7)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x136843[_0x53c428(0x1c3)](_0x535e59);}catch(_0x4dec8a){_0x136843[_0x53c428(0x1c3)](_0x4dec8a);}}),router[a0_0x40c0c8(0x1e3)]('/fg_trf_line',auth,async(_0x11f424,_0x433ff7)=>{const _0x53d081=a0_0x40c0c8;try{const _0x3cfb66=await transfers_finished['aggregate']([{'$match':{'finalize':'True'}},{'$unwind':_0x53d081(0x1d2)},{'$group':{'_id':_0x53d081(0x1e1),'totalQuantity':{'$sum':_0x53d081(0x1ee)},'date':{'$first':_0x53d081(0x1e1)}}},{'$sort':{'date':0x1}}]);_0x433ff7[_0x53d081(0x1c3)](_0x3cfb66);}catch(_0x1726e7){_0x433ff7[_0x53d081(0x1c3)](_0x1726e7);}}),module['exports']=router;