function a0_0x3a8e(){const _0x189711=['1321252CJJMaZ','$return_product.return_qty','log','errors','$total_amount','710434qzghEa','language','flash','$product.from_quantity','role_data','3077910qNFldy','../public/language/languages.json','Hindi','$return_sale','English\x20(US)','user','Portuguese','Router','Arabic\x20(ae)','exports','profile_data','$sale_product','French','$total_price','Portuguese\x20(BR)','length','$sale_product.quantity','find','aggregate','Arabic','$product','German','$product.product_name','$return_product','18081NYALBw','5yecZCk','6392snaUil','1170246tGMlDF','890770dmFBtJ','3591560bACgDi','English','success','get','$to_warehouse'];a0_0x3a8e=function(){return _0x189711;};return a0_0x3a8e();}const a0_0x37fbb7=a0_0x15a1;function a0_0x15a1(_0x223af4,_0x12ba92){const _0x3a8e4e=a0_0x3a8e();return a0_0x15a1=function(_0x15a165,_0x4e4ed1){_0x15a165=_0x15a165-0xe9;let _0x5057d8=_0x3a8e4e[_0x15a165];return _0x5057d8;},a0_0x15a1(_0x223af4,_0x12ba92);}(function(_0x1e224d,_0x38b920){const _0x22c6af=a0_0x15a1,_0x2840dd=_0x1e224d();while(!![]){try{const _0x6645c5=-parseInt(_0x22c6af(0x10f))/0x1+-parseInt(_0x22c6af(0x104))/0x2+-parseInt(_0x22c6af(0x103))/0x3+parseInt(_0x22c6af(0x10a))/0x4+parseInt(_0x22c6af(0x101))/0x5*(-parseInt(_0x22c6af(0x114))/0x6)+parseInt(_0x22c6af(0x105))/0x7+-parseInt(_0x22c6af(0x102))/0x8*(-parseInt(_0x22c6af(0x100))/0x9);if(_0x6645c5===_0x38b920)break;else _0x2840dd['push'](_0x2840dd['shift']());}catch(_0x133bba){_0x2840dd['push'](_0x2840dd['shift']());}}}(a0_0x3a8e,0x5f242));const express=require('express'),app=express(),router=express[a0_0x37fbb7(0xef)](),auth=require('../middleware/auth'),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers}=require('../models/all_models'),users=require(a0_0x37fbb7(0xe9));router[a0_0x37fbb7(0x108)]('/index',auth,async(_0x15f3cf,_0x555bef)=>{const _0x403fce=a0_0x37fbb7;try{const {username:_0x1bb56b,email:_0x357c0e,role:_0x7a3af9}=_0x15f3cf[_0x403fce(0xed)],_0x3d0718=_0x15f3cf['user'];console[_0x403fce(0x10c)](_0x403fce(0x113),_0x3d0718);const _0xff205c=await profile['findOne']({'email':_0x3d0718['email']});console[_0x403fce(0x10c)](_0x403fce(0xf2),_0xff205c);const _0x221076=await master_shop[_0x403fce(0xf9)]();console[_0x403fce(0x10c)]('master',_0x221076);const _0x44aab8=await sales[_0x403fce(0xfa)]([{'$group':{'_id':null,'total_price':{'$sum':_0x403fce(0xf5)}}}]),_0x2e9c4c=await sales[_0x403fce(0xfa)]([{'$unwind':_0x403fce(0xf3)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x403fce(0xf8)}}}]),_0x13ca11=await sales_return[_0x403fce(0xfa)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x441517=await sales_return[_0x403fce(0xfa)]([{'$unwind':_0x403fce(0xeb)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$return_sale.sale_qty'}}}]),_0x212eaf=await purchases[_0x403fce(0xfa)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x403fce(0x10e)}}}]),_0x1bc650=await purchases_return[_0x403fce(0xfa)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x4ea32f=await purchases_return[_0x403fce(0xfa)]([{'$unwind':_0x403fce(0xff)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x403fce(0x10b)}}}]),_0x3f5bac=await purchases[_0x403fce(0xfa)]([{'$unwind':_0x403fce(0xfc)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$product.quantity'}}}]),_0x7a9171=await purchases['aggregate']([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x3ad70c=await sales[_0x403fce(0xfa)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x2ea506=await transfers['aggregate']([{'$unwind':_0x403fce(0xfc)},{'$group':{'_id':_0x403fce(0xfe),'fromWarehouse':{'$first':'$from_warehouse'},'toWareHouse':{'$first':_0x403fce(0x109)},'FromtotalQuantity':{'$sum':_0x403fce(0x112)},'TototalQuantity':{'$sum':'$product.to_quantity'}}}]),_0x1c9b86=await categories[_0x403fce(0xf9)](),_0x28a00a=await product['find'](),_0x5196f9=await suppliers[_0x403fce(0xf9)](),_0x1f85bb=await customer['find']();console[_0x403fce(0x10c)](_0x1f85bb['length']);if(_0x221076[0x0][_0x403fce(0x110)]==_0x403fce(0xec)){var _0x49c354=users[_0x403fce(0x106)];console['log'](_0x49c354);}else{if(_0x221076[0x0][_0x403fce(0x110)]==_0x403fce(0xea))var _0x49c354=users[_0x403fce(0xea)];else{if(_0x221076[0x0][_0x403fce(0x110)]==_0x403fce(0xfd))var _0x49c354=users[_0x403fce(0xfd)];else{if(_0x221076[0x0][_0x403fce(0x110)]=='Spanish')var _0x49c354=users['Spanish'];else{if(_0x221076[0x0]['language']=='French')var _0x49c354=users[_0x403fce(0xf4)];else{if(_0x221076[0x0][_0x403fce(0x110)]==_0x403fce(0xf6))var _0x49c354=users[_0x403fce(0xee)];else{if(_0x221076[0x0][_0x403fce(0x110)]=='Chinese')var _0x49c354=users['Chinese'];else{if(_0x221076[0x0][_0x403fce(0x110)]==_0x403fce(0xf0))var _0x49c354=users[_0x403fce(0xfb)];}}}}}}}_0x555bef['render']('index',{'success':_0x15f3cf['flash'](_0x403fce(0x107)),'errors':_0x15f3cf[_0x403fce(0x111)](_0x403fce(0x10d)),'role':_0x3d0718,'profile':_0xff205c,'sale':_0x44aab8[0x0],'sales_return':_0x13ca11[0x0],'purchases':_0x212eaf[0x0],'purchases_return':_0x1bc650[0x0],'purchases_table':_0x7a9171,'sales_table':_0x3ad70c,'categories':_0x1c9b86['length'],'product':_0x28a00a[_0x403fce(0xf7)],'suppliers':_0x5196f9['length'],'customer':_0x1f85bb[_0x403fce(0xf7)],'master_shop':_0x221076,'language':_0x49c354,'sale_QTY':_0x2e9c4c[0x0],'purchases_QTY':_0x3f5bac[0x0],'sales_return_QTY':_0x441517[0x0],'purchases_return_QTY':_0x4ea32f[0x0],'transfer_table':_0x2ea506});}catch(_0x1a7d0c){console[_0x403fce(0x10c)](_0x1a7d0c);}}),module[a0_0x37fbb7(0xf1)]=router;