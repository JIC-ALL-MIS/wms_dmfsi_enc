const a0_0x5272d4=a0_0x6853;(function(_0x2924cc,_0x2909af){const _0x3f3897=a0_0x6853,_0x466d1=_0x2924cc();while(!![]){try{const _0x43998c=-parseInt(_0x3f3897(0xdc))/0x1+parseInt(_0x3f3897(0xc1))/0x2+-parseInt(_0x3f3897(0xd8))/0x3+parseInt(_0x3f3897(0xd7))/0x4+-parseInt(_0x3f3897(0xfb))/0x5+-parseInt(_0x3f3897(0xbf))/0x6+parseInt(_0x3f3897(0xe2))/0x7;if(_0x43998c===_0x2909af)break;else _0x466d1['push'](_0x466d1['shift']());}catch(_0x405c54){_0x466d1['push'](_0x466d1['shift']());}}}(a0_0x5493,0x3b391));const express=require(a0_0x5272d4(0xf8)),app=express(),router=express[a0_0x5272d4(0xe3)](),auth=require(a0_0x5272d4(0xfd)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require(a0_0x5272d4(0xfa)),users=require(a0_0x5272d4(0xf3));function a0_0x5493(){const _0x22a4f1=['json','Chinese','flash','$return_product.return_qty','errors','length','/raw_trf_line','Spanish','aggregate','French','$product.adjust_qty','$product','/fg_out_line','find','Arabic','../public/language/languages.json','/raw_line','$product.to_quantity','/fg_adj_line','English\x20(US)','express','/rm_chart','../models/all_models','1397985UHABEG','success','../middleware/auth','$date','/raw_out_line','1540104JPLuWc','$from_warehouse','160802BpSakV','$product.quantity','/fg_trf_line','/fg_chart','Hindi','Finished\x20Goods','email','findOne','warehouse_category','$total_amount','log','Arabic\x20(ae)','/raw_adj_line','Portuguese','/fg_line','exports','user','index','$sale_product','render','$product.product_name','True','1390612lSTXPA','603852quyiFb','German','language','$return_sale.sale_qty','12571eaCJiu','$sale_product.quantity','$return_sale','get','Raw\x20Materials','$to_warehouse','3952613OlaLfG','Router'];a0_0x5493=function(){return _0x22a4f1;};return a0_0x5493();}function a0_0x6853(_0x5b9cbb,_0x2d2f0d){const _0x549304=a0_0x5493();return a0_0x6853=function(_0x68534e,_0x508ede){_0x68534e=_0x68534e-0xbd;let _0x1da52a=_0x549304[_0x68534e];return _0x1da52a;},a0_0x6853(_0x5b9cbb,_0x2d2f0d);}router['get']('/index',auth,async(_0x4071b5,_0x2a4f8f)=>{const _0x493a24=a0_0x5272d4;try{const {username:_0x4f61c5,email:_0x5e7d6c,role:_0x36b72b}=_0x4071b5[_0x493a24(0xd1)],_0x241632=_0x4071b5[_0x493a24(0xd1)];var _0x351019;if(_0x241632[_0x493a24(0xc9)]==_0x493a24(0xe0)){const _0x58a2f9=await product[_0x493a24(0xf1)]({'product_category':'Raw\x20Materials'});_0x351019=_0x58a2f9['length'];}else{if(_0x241632[_0x493a24(0xc9)]=='Finished\x20Goods'){const _0x25dc1a=await product[_0x493a24(0xf1)]({'product_category':_0x493a24(0xc6)});_0x351019=_0x25dc1a['length'];}else{const _0x52ef7=await product[_0x493a24(0xf1)]();_0x351019=_0x52ef7['length'];}}const _0x4549d1=await profile[_0x493a24(0xc8)]({'email':_0x241632[_0x493a24(0xc7)]}),_0x366e48=await master_shop[_0x493a24(0xf1)](),_0x101b33=await sales['aggregate']([{'$group':{'_id':null,'total_price':{'$sum':'$total_price'}}}]),_0x3ca519=await sales['aggregate']([{'$unwind':_0x493a24(0xd3)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$sale_product.quantity'}}}]),_0x1f4132=await sales_return[_0x493a24(0xec)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x69d7c5=await sales_return[_0x493a24(0xec)]([{'$unwind':_0x493a24(0xde)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x493a24(0xdb)}}}]),_0x56d33c=await purchases[_0x493a24(0xec)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x493a24(0xca)}}}]),_0xe250f6=await purchases_return[_0x493a24(0xec)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x397d4c=await purchases_return[_0x493a24(0xec)]([{'$unwind':'$return_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x493a24(0xe7)}}}]),_0x126dcc=await purchases[_0x493a24(0xec)]([{'$unwind':_0x493a24(0xef)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x493a24(0xc2)}}}]),_0xf21997=await purchases[_0x493a24(0xec)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x1ec8c0=await sales[_0x493a24(0xec)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x830310=await transfers[_0x493a24(0xec)]([{'$unwind':'$product'},{'$group':{'_id':_0x493a24(0xd5),'fromWarehouse':{'$first':_0x493a24(0xc0)},'toWareHouse':{'$first':_0x493a24(0xe1)},'FromtotalQuantity':{'$sum':'$product.from_quantity'},'TototalQuantity':{'$sum':_0x493a24(0xf5)}}}]),_0x4947f1=await categories[_0x493a24(0xf1)](),_0x92e356=await product[_0x493a24(0xf1)](),_0x1294f0=await suppliers[_0x493a24(0xf1)](),_0x157ebf=await customer[_0x493a24(0xf1)]();if(_0x366e48[0x0]['language']==_0x493a24(0xf7))var _0x24e1f1=users['English'];else{if(_0x366e48[0x0][_0x493a24(0xda)]==_0x493a24(0xc5))var _0x24e1f1=users[_0x493a24(0xc5)];else{if(_0x366e48[0x0]['language']==_0x493a24(0xd9))var _0x24e1f1=users['German'];else{if(_0x366e48[0x0][_0x493a24(0xda)]==_0x493a24(0xeb))var _0x24e1f1=users[_0x493a24(0xeb)];else{if(_0x366e48[0x0]['language']=='French')var _0x24e1f1=users[_0x493a24(0xed)];else{if(_0x366e48[0x0]['language']=='Portuguese\x20(BR)')var _0x24e1f1=users[_0x493a24(0xce)];else{if(_0x366e48[0x0][_0x493a24(0xda)]==_0x493a24(0xe5))var _0x24e1f1=users['Chinese'];else{if(_0x366e48[0x0][_0x493a24(0xda)]==_0x493a24(0xcc))var _0x24e1f1=users[_0x493a24(0xf2)];}}}}}}}_0x2a4f8f[_0x493a24(0xd4)](_0x493a24(0xd2),{'success':_0x4071b5[_0x493a24(0xe6)](_0x493a24(0xfc)),'errors':_0x4071b5[_0x493a24(0xe6)](_0x493a24(0xe8)),'role':_0x241632,'profile':_0x4549d1,'sale':_0x101b33[0x0],'sales_return':_0x1f4132[0x0],'purchases':_0x56d33c[0x0],'purchases_return':_0xe250f6[0x0],'purchases_table':_0xf21997,'sales_table':_0x1ec8c0,'categories':_0x4947f1[_0x493a24(0xe9)],'product':_0x92e356[_0x493a24(0xe9)],'suppliers':_0x1294f0[_0x493a24(0xe9)],'customer':_0x157ebf[_0x493a24(0xe9)],'master_shop':_0x366e48,'language':_0x24e1f1,'sale_QTY':_0x3ca519[0x0],'purchases_QTY':_0x126dcc[0x0],'sales_return_QTY':_0x69d7c5[0x0],'purchases_return_QTY':_0x397d4c[0x0],'transfer_table':_0x830310,'product_cnt':_0x351019});}catch(_0x385c0c){console[_0x493a24(0xcb)](_0x385c0c);}}),router['get'](a0_0x5272d4(0xf4),auth,async(_0x552ad9,_0x52c0a7)=>{const _0x3289c4=a0_0x5272d4;try{const _0x4081ba=await purchases['aggregate']([{'$unwind':'$product'},{'$group':{'_id':_0x3289c4(0xbd),'totalQuantity':{'$sum':_0x3289c4(0xc2)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x52c0a7['json'](_0x4081ba);}catch(_0x3ace08){_0x52c0a7[_0x3289c4(0xe4)](_0x3ace08);}}),router[a0_0x5272d4(0xdf)](a0_0x5272d4(0xbe),auth,async(_0x510b1c,_0x6a27bd)=>{const _0x15b44a=a0_0x5272d4;try{const _0x3ecb35=await sales[_0x15b44a(0xec)]([{'$match':{'finalize':_0x15b44a(0xd6)}},{'$unwind':_0x15b44a(0xd3)},{'$group':{'_id':_0x15b44a(0xbd),'totalQuantity':{'$sum':_0x15b44a(0xdd)},'date':{'$first':_0x15b44a(0xbd)}}},{'$sort':{'date':0x1}}]);_0x6a27bd[_0x15b44a(0xe4)](_0x3ecb35);}catch(_0x1dc8e2){_0x6a27bd['json'](_0x1dc8e2);}}),router[a0_0x5272d4(0xdf)](a0_0x5272d4(0xcd),auth,async(_0x40d800,_0x5447a0)=>{const _0x448e8=a0_0x5272d4;try{const _0x298937=await adjustment[_0x448e8(0xec)]([{'$match':{'finalize':'True'}},{'$unwind':_0x448e8(0xef)},{'$group':{'_id':_0x448e8(0xbd),'totalQuantity':{'$sum':_0x448e8(0xee)},'date':{'$first':_0x448e8(0xbd)}}},{'$sort':{'date':0x1}}]);_0x5447a0[_0x448e8(0xe4)](_0x298937);}catch(_0x5b12aa){_0x5447a0[_0x448e8(0xe4)](_0x5b12aa);}}),router[a0_0x5272d4(0xdf)](a0_0x5272d4(0xea),auth,async(_0x5b48a6,_0x458dc8)=>{const _0x288a4f=a0_0x5272d4;try{const _0x2c14a1=await transfers[_0x288a4f(0xec)]([{'$match':{'finalize':_0x288a4f(0xd6)}},{'$unwind':'$product'},{'$group':{'_id':_0x288a4f(0xbd),'totalQuantity':{'$sum':_0x288a4f(0xf5)},'date':{'$first':_0x288a4f(0xbd)}}},{'$sort':{'date':0x1}}]);_0x458dc8[_0x288a4f(0xe4)](_0x2c14a1);}catch(_0x47ce60){_0x458dc8[_0x288a4f(0xe4)](_0x47ce60);}}),router[a0_0x5272d4(0xdf)](a0_0x5272d4(0xcf),auth,async(_0x3e8a6b,_0x4adbd5)=>{const _0x15d016=a0_0x5272d4;try{const _0x379c34=await purchases_finished['aggregate']([{'$unwind':_0x15d016(0xef)},{'$group':{'_id':_0x15d016(0xbd),'totalQuantity':{'$sum':_0x15d016(0xc2)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x4adbd5[_0x15d016(0xe4)](_0x379c34);}catch(_0x5b6006){_0x4adbd5[_0x15d016(0xe4)](_0x5b6006);}}),router['get'](a0_0x5272d4(0xf0),auth,async(_0x32a07c,_0x2a0e41)=>{const _0x4883ef=a0_0x5272d4;try{const _0x44f841=await sales_finished[_0x4883ef(0xec)]([{'$match':{'finalize':'True'}},{'$unwind':_0x4883ef(0xd3)},{'$group':{'_id':_0x4883ef(0xbd),'totalQuantity':{'$sum':_0x4883ef(0xdd)},'date':{'$first':_0x4883ef(0xbd)}}},{'$sort':{'date':0x1}}]);_0x2a0e41[_0x4883ef(0xe4)](_0x44f841);}catch(_0x3cf7d5){_0x2a0e41[_0x4883ef(0xe4)](_0x3cf7d5);}}),router['get'](a0_0x5272d4(0xf6),auth,async(_0x13b781,_0x5f1dca)=>{const _0x5db1f5=a0_0x5272d4;try{const _0x318233=await adjustment_finished[_0x5db1f5(0xec)]([{'$match':{'finalize':'True'}},{'$unwind':_0x5db1f5(0xef)},{'$group':{'_id':_0x5db1f5(0xbd),'totalQuantity':{'$sum':'$product.adjust_qty'},'date':{'$first':_0x5db1f5(0xbd)}}},{'$sort':{'date':0x1}}]);_0x5f1dca[_0x5db1f5(0xe4)](_0x318233);}catch(_0x5dee02){_0x5f1dca[_0x5db1f5(0xe4)](_0x5dee02);}}),router[a0_0x5272d4(0xdf)](a0_0x5272d4(0xc3),auth,async(_0x4e7a36,_0x214c9a)=>{const _0x1910ee=a0_0x5272d4;try{const _0x44e93c=await transfers_finished[_0x1910ee(0xec)]([{'$match':{'finalize':_0x1910ee(0xd6)}},{'$unwind':_0x1910ee(0xef)},{'$group':{'_id':_0x1910ee(0xbd),'totalQuantity':{'$sum':_0x1910ee(0xf5)},'date':{'$first':_0x1910ee(0xbd)}}},{'$sort':{'date':0x1}}]);_0x214c9a['json'](_0x44e93c);}catch(_0xfb6b72){_0x214c9a['json'](_0xfb6b72);}}),router[a0_0x5272d4(0xdf)](a0_0x5272d4(0xf9),auth,async(_0x48cecb,_0x1d8f91)=>{const _0x280c41=a0_0x5272d4;try{const _0x48eff9=await purchases['aggregate']([{'$unwind':_0x280c41(0xef)},{'$group':{'_id':_0x280c41(0xbd),'totalQuantity':{'$sum':_0x280c41(0xc2)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]),_0x34a0fe=await sales['aggregate']([{'$match':{'finalize':_0x280c41(0xd6)}},{'$unwind':_0x280c41(0xd3)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x280c41(0xdd)},'date':{'$first':_0x280c41(0xbd)}}},{'$sort':{'date':0x1}}]),_0x33d3db=await adjustment[_0x280c41(0xec)]([{'$match':{'finalize':_0x280c41(0xd6)}},{'$unwind':_0x280c41(0xef)},{'$group':{'_id':_0x280c41(0xbd),'totalQuantity':{'$sum':_0x280c41(0xee)},'date':{'$first':_0x280c41(0xbd)}}},{'$sort':{'date':0x1}}]),_0x21abf9=await transfers[_0x280c41(0xec)]([{'$match':{'finalize':_0x280c41(0xd6)}},{'$unwind':_0x280c41(0xef)},{'$group':{'_id':_0x280c41(0xbd),'totalQuantity':{'$sum':'$product.to_quantity'},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x1d8f91[_0x280c41(0xe4)]({'purchases':_0x48eff9,'sales':_0x34a0fe,'adjustment':_0x33d3db,'transfer':_0x21abf9});}catch(_0x77c1c1){_0x1d8f91[_0x280c41(0xe4)](_0x77c1c1);}}),router[a0_0x5272d4(0xdf)](a0_0x5272d4(0xc4),auth,async(_0x1ebf97,_0x4d61ac)=>{const _0x13d239=a0_0x5272d4;try{const _0x5f4b4d=await product[_0x13d239(0xf1)]({'product_category':_0x13d239(0xc6)});_0x4d61ac['json']({'count':_0x5f4b4d['length']});}catch(_0x4f5fe6){_0x4d61ac[_0x13d239(0xe4)](_0x4f5fe6);}}),module[a0_0x5272d4(0xd0)]=router;