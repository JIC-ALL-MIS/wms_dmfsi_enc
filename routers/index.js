const a0_0x56649e=a0_0x269a;function a0_0x20be(){const _0x49d223=['/fg_adj_line','/raw_adj_line','$date','German','$product.to_quantity','$sale_product','Spanish','True','aggregate','Raw\x20Materials','language','$sale_product.quantity','../models/all_models','9108WofOSI','/raw_line','../middleware/auth','/fg_trf_line','7XumcCG','$product','English','Arabic','/raw_trf_line','/fg_out_line','Hindi','26752jfrfmP','../public/language/languages.json','warehouse_category','4634035FuKmeC','/fg_line','English\x20(US)','findOne','/raw_out_line','3186652oLVyqk','$product.adjust_qty','$total_amount','$total_price','$return_sale.sale_qty','json','express','Router','get','Arabic\x20(ae)','errors','flash','6309714Qgyzxj','$return_product.return_qty','/fg_chart','user','2249524dLIXDI','log','find','474915tiQCTl','$product.from_quantity','$product.quantity','1295009bbGRBD','/index','Portuguese\x20(BR)','Chinese','length','$product.product_name','Finished\x20Goods'];a0_0x20be=function(){return _0x49d223;};return a0_0x20be();}(function(_0x43498a,_0x5f49c8){const _0x38077a=a0_0x269a,_0x527d00=_0x43498a();while(!![]){try{const _0x1c9e27=-parseInt(_0x38077a(0x87))/0x1+parseInt(_0x38077a(0x71))/0x2+-parseInt(_0x38077a(0x84))/0x3+-parseInt(_0x38077a(0x81))/0x4+-parseInt(_0x38077a(0x6c))/0x5+-parseInt(_0x38077a(0x7d))/0x6*(parseInt(_0x38077a(0x9f))/0x7)+-parseInt(_0x38077a(0x69))/0x8*(-parseInt(_0x38077a(0x9b))/0x9);if(_0x1c9e27===_0x5f49c8)break;else _0x527d00['push'](_0x527d00['shift']());}catch(_0x565615){_0x527d00['push'](_0x527d00['shift']());}}}(a0_0x20be,0xf0125));const express=require(a0_0x56649e(0x77)),app=express(),router=express[a0_0x56649e(0x78)](),auth=require(a0_0x56649e(0x9d)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require(a0_0x56649e(0x9a)),users=require(a0_0x56649e(0x6a));function a0_0x269a(_0x127143,_0x626e1f){const _0x20be92=a0_0x20be();return a0_0x269a=function(_0x269ab0,_0x40c5a5){_0x269ab0=_0x269ab0-0x65;let _0xd2910f=_0x20be92[_0x269ab0];return _0xd2910f;},a0_0x269a(_0x127143,_0x626e1f);}router['get'](a0_0x56649e(0x88),auth,async(_0x2a6e72,_0x27cc5e)=>{const _0x1dff4f=a0_0x56649e;try{const {username:_0x1dcf75,email:_0x2c2a11,role:_0x3cf6d6}=_0x2a6e72['user'],_0x7c46b8=_0x2a6e72[_0x1dff4f(0x80)];var _0x2fa7f5;if(_0x7c46b8[_0x1dff4f(0x6b)]==_0x1dff4f(0x97)){const _0x3dae8b=await product[_0x1dff4f(0x83)]({'product_category':_0x1dff4f(0x97)});_0x2fa7f5=_0x3dae8b[_0x1dff4f(0x8b)];}else{if(_0x7c46b8['warehouse_category']=='Finished\x20Goods'){const _0x500ae4=await product[_0x1dff4f(0x83)]({'product_category':_0x1dff4f(0x8d)});_0x2fa7f5=_0x500ae4[_0x1dff4f(0x8b)];}else{const _0x1e9143=await product['find']();_0x2fa7f5=_0x1e9143[_0x1dff4f(0x8b)];}}const _0x3388c1=await profile[_0x1dff4f(0x6f)]({'email':_0x7c46b8['email']}),_0x2024a7=await master_shop['find'](),_0x415aec=await sales[_0x1dff4f(0x96)]([{'$group':{'_id':null,'total_price':{'$sum':_0x1dff4f(0x74)}}}]),_0xe86b6f=await sales[_0x1dff4f(0x96)]([{'$unwind':_0x1dff4f(0x93)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x1dff4f(0x99)}}}]),_0x4c8c19=await sales_return['aggregate']([{'$group':{'_id':null,'total':{'$sum':_0x1dff4f(0x73)}}}]),_0x2e4638=await sales_return[_0x1dff4f(0x96)]([{'$unwind':'$return_sale'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x1dff4f(0x75)}}}]),_0x1d15be=await purchases[_0x1dff4f(0x96)]([{'$group':{'_id':null,'total_amount':{'$sum':'$total_amount'}}}]),_0x31c1e4=await purchases_return[_0x1dff4f(0x96)]([{'$group':{'_id':null,'total':{'$sum':_0x1dff4f(0x73)}}}]),_0x311775=await purchases_return[_0x1dff4f(0x96)]([{'$unwind':'$return_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x1dff4f(0x7e)}}}]),_0x9d249c=await purchases[_0x1dff4f(0x96)]([{'$unwind':_0x1dff4f(0xa0)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x1dff4f(0x86)}}}]),_0x24540c=await purchases[_0x1dff4f(0x96)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x4b19be=await sales[_0x1dff4f(0x96)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0xa22fff=await transfers[_0x1dff4f(0x96)]([{'$unwind':_0x1dff4f(0xa0)},{'$group':{'_id':_0x1dff4f(0x8c),'fromWarehouse':{'$first':'$from_warehouse'},'toWareHouse':{'$first':'$to_warehouse'},'FromtotalQuantity':{'$sum':_0x1dff4f(0x85)},'TototalQuantity':{'$sum':_0x1dff4f(0x92)}}}]),_0xf37d7a=await categories[_0x1dff4f(0x83)](),_0x811cd6=await product[_0x1dff4f(0x83)](),_0xbe94a0=await suppliers['find'](),_0x26ee89=await customer[_0x1dff4f(0x83)]();if(_0x2024a7[0x0][_0x1dff4f(0x98)]==_0x1dff4f(0x6e))var _0x8f5541=users[_0x1dff4f(0xa1)];else{if(_0x2024a7[0x0][_0x1dff4f(0x98)]==_0x1dff4f(0x68))var _0x8f5541=users[_0x1dff4f(0x68)];else{if(_0x2024a7[0x0]['language']==_0x1dff4f(0x91))var _0x8f5541=users[_0x1dff4f(0x91)];else{if(_0x2024a7[0x0][_0x1dff4f(0x98)]==_0x1dff4f(0x94))var _0x8f5541=users[_0x1dff4f(0x94)];else{if(_0x2024a7[0x0][_0x1dff4f(0x98)]=='French')var _0x8f5541=users['French'];else{if(_0x2024a7[0x0][_0x1dff4f(0x98)]==_0x1dff4f(0x89))var _0x8f5541=users['Portuguese'];else{if(_0x2024a7[0x0]['language']==_0x1dff4f(0x8a))var _0x8f5541=users[_0x1dff4f(0x8a)];else{if(_0x2024a7[0x0][_0x1dff4f(0x98)]==_0x1dff4f(0x7a))var _0x8f5541=users[_0x1dff4f(0x65)];}}}}}}}_0x27cc5e['render']('index',{'success':_0x2a6e72['flash']('success'),'errors':_0x2a6e72[_0x1dff4f(0x7c)](_0x1dff4f(0x7b)),'role':_0x7c46b8,'profile':_0x3388c1,'sale':_0x415aec[0x0],'sales_return':_0x4c8c19[0x0],'purchases':_0x1d15be[0x0],'purchases_return':_0x31c1e4[0x0],'purchases_table':_0x24540c,'sales_table':_0x4b19be,'categories':_0xf37d7a['length'],'product':_0x811cd6[_0x1dff4f(0x8b)],'suppliers':_0xbe94a0[_0x1dff4f(0x8b)],'customer':_0x26ee89[_0x1dff4f(0x8b)],'master_shop':_0x2024a7,'language':_0x8f5541,'sale_QTY':_0xe86b6f[0x0],'purchases_QTY':_0x9d249c[0x0],'sales_return_QTY':_0x2e4638[0x0],'purchases_return_QTY':_0x311775[0x0],'transfer_table':_0xa22fff,'product_cnt':_0x2fa7f5});}catch(_0x469aeb){console[_0x1dff4f(0x82)](_0x469aeb);}}),router[a0_0x56649e(0x79)](a0_0x56649e(0x9c),auth,async(_0x11eb9f,_0x251b06)=>{const _0x580b60=a0_0x56649e;try{const _0xd644a0=await purchases[_0x580b60(0x96)]([{'$unwind':_0x580b60(0xa0)},{'$group':{'_id':_0x580b60(0x90),'totalQuantity':{'$sum':_0x580b60(0x86)},'date':{'$first':_0x580b60(0x90)}}},{'$sort':{'date':0x1}}]);_0x251b06[_0x580b60(0x76)](_0xd644a0);}catch(_0x37ae2e){_0x251b06[_0x580b60(0x76)](_0x37ae2e);}}),router[a0_0x56649e(0x79)](a0_0x56649e(0x70),auth,async(_0x33bd36,_0x2c10e3)=>{const _0x2eaf62=a0_0x56649e;try{const _0x52c2b1=await sales[_0x2eaf62(0x96)]([{'$match':{'finalize':'True'}},{'$unwind':_0x2eaf62(0x93)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x2eaf62(0x99)},'date':{'$first':_0x2eaf62(0x90)}}},{'$sort':{'date':0x1}}]);_0x2c10e3[_0x2eaf62(0x76)](_0x52c2b1);}catch(_0x360434){_0x2c10e3[_0x2eaf62(0x76)](_0x360434);}}),router[a0_0x56649e(0x79)](a0_0x56649e(0x8f),auth,async(_0x52a22a,_0x1cf345)=>{const _0x186e0f=a0_0x56649e;try{const _0x4cb73f=await adjustment[_0x186e0f(0x96)]([{'$match':{'finalize':'True'}},{'$unwind':_0x186e0f(0xa0)},{'$group':{'_id':_0x186e0f(0x90),'totalQuantity':{'$sum':_0x186e0f(0x72)},'date':{'$first':_0x186e0f(0x90)}}},{'$sort':{'date':0x1}}]);_0x1cf345[_0x186e0f(0x76)](_0x4cb73f);}catch(_0x20d3df){_0x1cf345['json'](_0x20d3df);}}),router['get'](a0_0x56649e(0x66),auth,async(_0x56ab62,_0x4c1882)=>{const _0x26d9fc=a0_0x56649e;try{const _0x37916e=await transfers[_0x26d9fc(0x96)]([{'$match':{'finalize':_0x26d9fc(0x95)}},{'$unwind':'$product'},{'$group':{'_id':_0x26d9fc(0x90),'totalQuantity':{'$sum':_0x26d9fc(0x92)},'date':{'$first':_0x26d9fc(0x90)}}},{'$sort':{'date':0x1}}]);_0x4c1882[_0x26d9fc(0x76)](_0x37916e);}catch(_0xeb5e34){_0x4c1882[_0x26d9fc(0x76)](_0xeb5e34);}}),router['get'](a0_0x56649e(0x6d),auth,async(_0x436fbd,_0x271460)=>{const _0x4ace69=a0_0x56649e;try{const _0x30368e=await purchases_finished[_0x4ace69(0x96)]([{'$unwind':_0x4ace69(0xa0)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x4ace69(0x86)},'date':{'$first':_0x4ace69(0x90)}}},{'$sort':{'date':0x1}}]);_0x271460[_0x4ace69(0x76)](_0x30368e);}catch(_0x265317){_0x271460[_0x4ace69(0x76)](_0x265317);}}),router[a0_0x56649e(0x79)](a0_0x56649e(0x67),auth,async(_0x3fafcf,_0x360981)=>{const _0x1e4b89=a0_0x56649e;try{const _0x1a2ce5=await sales_finished[_0x1e4b89(0x96)]([{'$match':{'finalize':_0x1e4b89(0x95)}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x1e4b89(0x90),'totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':_0x1e4b89(0x90)}}},{'$sort':{'date':0x1}}]);_0x360981[_0x1e4b89(0x76)](_0x1a2ce5);}catch(_0x1a7d50){_0x360981[_0x1e4b89(0x76)](_0x1a7d50);}}),router['get'](a0_0x56649e(0x8e),auth,async(_0x14873c,_0x241d6e)=>{const _0x509418=a0_0x56649e;try{const _0xe1aa88=await adjustment_finished[_0x509418(0x96)]([{'$match':{'finalize':_0x509418(0x95)}},{'$unwind':_0x509418(0xa0)},{'$group':{'_id':_0x509418(0x90),'totalQuantity':{'$sum':_0x509418(0x72)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x241d6e[_0x509418(0x76)](_0xe1aa88);}catch(_0xe1d1a6){_0x241d6e['json'](_0xe1d1a6);}}),router[a0_0x56649e(0x79)](a0_0x56649e(0x9e),auth,async(_0x1687de,_0x3fc975)=>{const _0x3941e5=a0_0x56649e;try{const _0x2de613=await transfers_finished[_0x3941e5(0x96)]([{'$match':{'finalize':_0x3941e5(0x95)}},{'$unwind':_0x3941e5(0xa0)},{'$group':{'_id':'$date','totalQuantity':{'$sum':'$product.to_quantity'},'date':{'$first':_0x3941e5(0x90)}}},{'$sort':{'date':0x1}}]);_0x3fc975['json'](_0x2de613);}catch(_0x118952){_0x3fc975['json'](_0x118952);}}),router[a0_0x56649e(0x79)]('/rm_chart',auth,async(_0x3250de,_0xd897fb)=>{const _0x450d2a=a0_0x56649e;try{const _0x266905=await purchases['aggregate']([{'$unwind':_0x450d2a(0xa0)},{'$group':{'_id':_0x450d2a(0x90),'totalQuantity':{'$sum':_0x450d2a(0x86)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]),_0x6b5b58=await sales[_0x450d2a(0x96)]([{'$match':{'finalize':_0x450d2a(0x95)}},{'$unwind':_0x450d2a(0x93)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x450d2a(0x99)},'date':{'$first':_0x450d2a(0x90)}}},{'$sort':{'date':0x1}}]),_0x54b16c=await adjustment[_0x450d2a(0x96)]([{'$match':{'finalize':_0x450d2a(0x95)}},{'$unwind':_0x450d2a(0xa0)},{'$group':{'_id':_0x450d2a(0x90),'totalQuantity':{'$sum':'$product.adjust_qty'},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]),_0x52f23d=await transfers[_0x450d2a(0x96)]([{'$match':{'finalize':'True'}},{'$unwind':'$product'},{'$group':{'_id':_0x450d2a(0x90),'totalQuantity':{'$sum':_0x450d2a(0x92)},'date':{'$first':_0x450d2a(0x90)}}},{'$sort':{'date':0x1}}]);_0xd897fb[_0x450d2a(0x76)]({'purchases':_0x266905,'sales':_0x6b5b58,'adjustment':_0x54b16c,'transfer':_0x52f23d});}catch(_0x4a972e){_0xd897fb['json'](_0x4a972e);}}),router['get'](a0_0x56649e(0x7f),auth,async(_0x1e172b,_0x397549)=>{const _0x21fc2f=a0_0x56649e;try{const _0x518a94=await product['find']({'product_category':_0x21fc2f(0x8d)});_0x397549[_0x21fc2f(0x76)]({'count':_0x518a94['length']});}catch(_0x994cd7){_0x397549[_0x21fc2f(0x76)](_0x994cd7);}}),module['exports']=router;