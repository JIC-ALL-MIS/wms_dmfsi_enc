const a0_0x54bef9=a0_0x22e3;(function(_0x486a37,_0x273a0a){const _0x184351=a0_0x22e3,_0x144e73=_0x486a37();while(!![]){try{const _0x18f03c=-parseInt(_0x184351(0xea))/0x1*(parseInt(_0x184351(0xfe))/0x2)+-parseInt(_0x184351(0xdf))/0x3*(parseInt(_0x184351(0xfc))/0x4)+parseInt(_0x184351(0x100))/0x5+-parseInt(_0x184351(0x107))/0x6*(-parseInt(_0x184351(0xf0))/0x7)+-parseInt(_0x184351(0xe9))/0x8*(-parseInt(_0x184351(0xf1))/0x9)+-parseInt(_0x184351(0xfa))/0xa+parseInt(_0x184351(0xdb))/0xb;if(_0x18f03c===_0x273a0a)break;else _0x144e73['push'](_0x144e73['shift']());}catch(_0x4870e2){_0x144e73['push'](_0x144e73['shift']());}}}(a0_0x5e3a,0xb58a3));function a0_0x22e3(_0x41d61b,_0x51da49){const _0x5e3a49=a0_0x5e3a();return a0_0x22e3=function(_0x22e3e6,_0x463e28){_0x22e3e6=_0x22e3e6-0xd9;let _0x443a02=_0x5e3a49[_0x22e3e6];return _0x443a02;},a0_0x22e3(_0x41d61b,_0x51da49);}function a0_0x5e3a(){const _0x8ea620=['$product.from_quantity','1151175VPFljZ','email','render','length','Router','$total_price','$return_sale','259878EVEmId','$product','express','$to_warehouse','Arabic\x20(ae)','aggregate','$return_product.return_qty','7280394xTSVqQ','success','index','get','9XalLbi','$product.product_name','Portuguese','German','$product.to_quantity','Spanish','Portuguese\x20(BR)','errors','$product.quantity','log','8NNTbzz','123658iUGmAu','English\x20(US)','../middleware/auth','$total_amount','$sale_product','French','98EhCCCC','12478311SNJflr','language','flash','English','Arabic','Chinese','user','find','../public/language/languages.json','12327160XCpSiK','/index','1046652mEnDVD','$from_warehouse','2TYQVto'];a0_0x5e3a=function(){return _0x8ea620;};return a0_0x5e3a();}const express=require(a0_0x54bef9(0x109)),app=express(),router=express[a0_0x54bef9(0x104)](),auth=require(a0_0x54bef9(0xec)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers}=require('../models/all_models'),users=require(a0_0x54bef9(0xf9));router[a0_0x54bef9(0xde)](a0_0x54bef9(0xfb),auth,async(_0x4b2b45,_0x1ac040)=>{const _0x611d8a=a0_0x54bef9;try{const {username:_0x842f31,email:_0xe00e20,role:_0x3a2e5a}=_0x4b2b45[_0x611d8a(0xf7)],_0x5c9146=_0x4b2b45[_0x611d8a(0xf7)];console[_0x611d8a(0xe8)]('role_data',_0x5c9146);const _0x12c67a=await profile['findOne']({'email':_0x5c9146[_0x611d8a(0x101)]});console[_0x611d8a(0xe8)]('profile_data',_0x12c67a);const _0xab19a6=await master_shop[_0x611d8a(0xf8)]();console[_0x611d8a(0xe8)]('master',_0xab19a6);const _0x378d53=await sales[_0x611d8a(0xd9)]([{'$group':{'_id':null,'total_price':{'$sum':_0x611d8a(0x105)}}}]),_0x309f26=await sales[_0x611d8a(0xd9)]([{'$unwind':_0x611d8a(0xee)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$sale_product.quantity'}}}]),_0x3c3b3e=await sales_return[_0x611d8a(0xd9)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x4ab75f=await sales_return[_0x611d8a(0xd9)]([{'$unwind':_0x611d8a(0x106)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$return_sale.sale_qty'}}}]),_0x36d8b1=await purchases['aggregate']([{'$group':{'_id':null,'total_amount':{'$sum':_0x611d8a(0xed)}}}]),_0x1f661f=await purchases_return[_0x611d8a(0xd9)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x118bd2=await purchases_return[_0x611d8a(0xd9)]([{'$unwind':'$return_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x611d8a(0xda)}}}]),_0x48fd3b=await purchases[_0x611d8a(0xd9)]([{'$unwind':_0x611d8a(0x108)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x611d8a(0xe7)}}}]),_0x19280c=await purchases[_0x611d8a(0xd9)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x1ef814=await sales['aggregate']([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0xc72b96=await transfers[_0x611d8a(0xd9)]([{'$unwind':_0x611d8a(0x108)},{'$group':{'_id':_0x611d8a(0xe0),'fromWarehouse':{'$first':_0x611d8a(0xfd)},'toWareHouse':{'$first':_0x611d8a(0x10a)},'FromtotalQuantity':{'$sum':_0x611d8a(0xff)},'TototalQuantity':{'$sum':_0x611d8a(0xe3)}}}]),_0x2b1deb=await categories['find'](),_0x523784=await product[_0x611d8a(0xf8)](),_0x50577c=await suppliers[_0x611d8a(0xf8)](),_0x4df651=await customer[_0x611d8a(0xf8)]();console[_0x611d8a(0xe8)](_0x4df651[_0x611d8a(0x103)]);if(_0xab19a6[0x0]['language']==_0x611d8a(0xeb)){var _0x24feb3=users[_0x611d8a(0xf4)];console[_0x611d8a(0xe8)](_0x24feb3);}else{if(_0xab19a6[0x0]['language']=='Hindi')var _0x24feb3=users['Hindi'];else{if(_0xab19a6[0x0][_0x611d8a(0xf2)]==_0x611d8a(0xe2))var _0x24feb3=users['German'];else{if(_0xab19a6[0x0]['language']==_0x611d8a(0xe4))var _0x24feb3=users['Spanish'];else{if(_0xab19a6[0x0][_0x611d8a(0xf2)]==_0x611d8a(0xef))var _0x24feb3=users[_0x611d8a(0xef)];else{if(_0xab19a6[0x0][_0x611d8a(0xf2)]==_0x611d8a(0xe5))var _0x24feb3=users[_0x611d8a(0xe1)];else{if(_0xab19a6[0x0]['language']==_0x611d8a(0xf6))var _0x24feb3=users[_0x611d8a(0xf6)];else{if(_0xab19a6[0x0][_0x611d8a(0xf2)]==_0x611d8a(0x10b))var _0x24feb3=users[_0x611d8a(0xf5)];}}}}}}}_0x1ac040[_0x611d8a(0x102)](_0x611d8a(0xdd),{'success':_0x4b2b45[_0x611d8a(0xf3)](_0x611d8a(0xdc)),'errors':_0x4b2b45[_0x611d8a(0xf3)](_0x611d8a(0xe6)),'role':_0x5c9146,'profile':_0x12c67a,'sale':_0x378d53[0x0],'sales_return':_0x3c3b3e[0x0],'purchases':_0x36d8b1[0x0],'purchases_return':_0x1f661f[0x0],'purchases_table':_0x19280c,'sales_table':_0x1ef814,'categories':_0x2b1deb['length'],'product':_0x523784[_0x611d8a(0x103)],'suppliers':_0x50577c[_0x611d8a(0x103)],'customer':_0x4df651['length'],'master_shop':_0xab19a6,'language':_0x24feb3,'sale_QTY':_0x309f26[0x0],'purchases_QTY':_0x48fd3b[0x0],'sales_return_QTY':_0x4ab75f[0x0],'purchases_return_QTY':_0x118bd2[0x0],'transfer_table':_0xc72b96});}catch(_0x4929ce){console['log'](_0x4929ce);}}),module['exports']=router;