const a0_0x5ef08c=a0_0x112c;(function(_0x3aa10f,_0x32c309){const _0x2d848c=a0_0x112c,_0x265580=_0x3aa10f();while(!![]){try{const _0xa040aa=parseInt(_0x2d848c(0x92))/0x1*(parseInt(_0x2d848c(0xa5))/0x2)+-parseInt(_0x2d848c(0xa9))/0x3*(-parseInt(_0x2d848c(0x83))/0x4)+parseInt(_0x2d848c(0x93))/0x5+parseInt(_0x2d848c(0x84))/0x6+parseInt(_0x2d848c(0xa3))/0x7+parseInt(_0x2d848c(0x9a))/0x8+-parseInt(_0x2d848c(0x80))/0x9;if(_0xa040aa===_0x32c309)break;else _0x265580['push'](_0x265580['shift']());}catch(_0x20b695){_0x265580['push'](_0x265580['shift']());}}}(a0_0x5f48,0xaea6a));function a0_0x5f48(){const _0x50755d=['aggregate','language','$return_product.return_qty','34584255fxdaxK','French','Hindi','60604iYgbwy','7117374gCtece','English\x20(US)','exports','$total_amount','$total_price','errors','master','find','express','$return_product','log','$from_warehouse','../models/all_models','Router','64aauIFp','4949170DHQmkh','Arabic','email','$to_warehouse','render','Spanish','index','6454472cOvRtw','profile_data','success','$product.quantity','../middleware/auth','$product.from_quantity','Arabic\x20(ae)','English','$product','3302649tlCNUk','German','1338ADRQAk','user','$return_sale.sale_qty','../public/language/languages.json','210EgzJVx','length','flash','findOne'];a0_0x5f48=function(){return _0x50755d;};return a0_0x5f48();}function a0_0x112c(_0x620411,_0x58f1c7){const _0x5f481b=a0_0x5f48();return a0_0x112c=function(_0x112c47,_0x3625b8){_0x112c47=_0x112c47-0x7e;let _0x2fc7d9=_0x5f481b[_0x112c47];return _0x2fc7d9;},a0_0x112c(_0x620411,_0x58f1c7);}const express=require(a0_0x5ef08c(0x8c)),app=express(),router=express[a0_0x5ef08c(0x91)](),auth=require(a0_0x5ef08c(0x9e)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers}=require(a0_0x5ef08c(0x90)),users=require(a0_0x5ef08c(0xa8));router['get']('/index',auth,async(_0x4774da,_0x1e2505)=>{const _0x3b8307=a0_0x5ef08c;try{const {username:_0x48e96e,email:_0x474928,role:_0x4db763}=_0x4774da[_0x3b8307(0xa6)],_0x2c19d8=_0x4774da['user'];console[_0x3b8307(0x8e)]('role_data',_0x2c19d8);const _0x5155db=await profile[_0x3b8307(0xac)]({'email':_0x2c19d8[_0x3b8307(0x95)]});console[_0x3b8307(0x8e)](_0x3b8307(0x9b),_0x5155db);const _0x34ea2b=await master_shop[_0x3b8307(0x8b)]();console[_0x3b8307(0x8e)](_0x3b8307(0x8a),_0x34ea2b);const _0x545b2b=await sales[_0x3b8307(0xad)]([{'$group':{'_id':null,'total_price':{'$sum':_0x3b8307(0x88)}}}]),_0xcf56f=await sales[_0x3b8307(0xad)]([{'$unwind':'$sale_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':'$sale_product.quantity'}}}]),_0x1a912d=await sales_return['aggregate']([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x5af900=await sales_return[_0x3b8307(0xad)]([{'$unwind':'$return_sale'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x3b8307(0xa7)}}}]),_0x22332b=await purchases[_0x3b8307(0xad)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x3b8307(0x87)}}}]),_0x1b5d48=await purchases_return[_0x3b8307(0xad)]([{'$group':{'_id':null,'total':{'$sum':_0x3b8307(0x87)}}}]),_0x35d621=await purchases_return['aggregate']([{'$unwind':_0x3b8307(0x8d)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x3b8307(0x7f)}}}]),_0x4f1d93=await purchases[_0x3b8307(0xad)]([{'$unwind':_0x3b8307(0xa2)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x3b8307(0x9d)}}}]),_0x3cf4e8=await purchases[_0x3b8307(0xad)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x5e87da=await sales[_0x3b8307(0xad)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x372c13=await transfers[_0x3b8307(0xad)]([{'$unwind':'$product'},{'$group':{'_id':'$product.product_name','fromWarehouse':{'$first':_0x3b8307(0x8f)},'toWareHouse':{'$first':_0x3b8307(0x96)},'FromtotalQuantity':{'$sum':_0x3b8307(0x9f)},'TototalQuantity':{'$sum':'$product.to_quantity'}}}]),_0x3302c0=await categories['find'](),_0x1a56bd=await product[_0x3b8307(0x8b)](),_0x19c635=await suppliers['find'](),_0x2accda=await customer[_0x3b8307(0x8b)]();console[_0x3b8307(0x8e)](_0x2accda[_0x3b8307(0xaa)]);if(_0x34ea2b[0x0][_0x3b8307(0x7e)]==_0x3b8307(0x85)){var _0x2ec616=users[_0x3b8307(0xa1)];console['log'](_0x2ec616);}else{if(_0x34ea2b[0x0][_0x3b8307(0x7e)]==_0x3b8307(0x82))var _0x2ec616=users['Hindi'];else{if(_0x34ea2b[0x0][_0x3b8307(0x7e)]=='German')var _0x2ec616=users[_0x3b8307(0xa4)];else{if(_0x34ea2b[0x0][_0x3b8307(0x7e)]==_0x3b8307(0x98))var _0x2ec616=users['Spanish'];else{if(_0x34ea2b[0x0][_0x3b8307(0x7e)]=='French')var _0x2ec616=users[_0x3b8307(0x81)];else{if(_0x34ea2b[0x0]['language']=='Portuguese\x20(BR)')var _0x2ec616=users['Portuguese'];else{if(_0x34ea2b[0x0][_0x3b8307(0x7e)]=='Chinese')var _0x2ec616=users['Chinese'];else{if(_0x34ea2b[0x0][_0x3b8307(0x7e)]==_0x3b8307(0xa0))var _0x2ec616=users[_0x3b8307(0x94)];}}}}}}}_0x1e2505[_0x3b8307(0x97)](_0x3b8307(0x99),{'success':_0x4774da[_0x3b8307(0xab)](_0x3b8307(0x9c)),'errors':_0x4774da[_0x3b8307(0xab)](_0x3b8307(0x89)),'role':_0x2c19d8,'profile':_0x5155db,'sale':_0x545b2b[0x0],'sales_return':_0x1a912d[0x0],'purchases':_0x22332b[0x0],'purchases_return':_0x1b5d48[0x0],'purchases_table':_0x3cf4e8,'sales_table':_0x5e87da,'categories':_0x3302c0[_0x3b8307(0xaa)],'product':_0x1a56bd['length'],'suppliers':_0x19c635[_0x3b8307(0xaa)],'customer':_0x2accda[_0x3b8307(0xaa)],'master_shop':_0x34ea2b,'language':_0x2ec616,'sale_QTY':_0xcf56f[0x0],'purchases_QTY':_0x4f1d93[0x0],'sales_return_QTY':_0x5af900[0x0],'purchases_return_QTY':_0x35d621[0x0],'transfer_table':_0x372c13});}catch(_0x33faed){console[_0x3b8307(0x8e)](_0x33faed);}}),module[a0_0x5ef08c(0x86)]=router;