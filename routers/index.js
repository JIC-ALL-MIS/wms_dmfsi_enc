const a0_0x42b624=a0_0x5160;(function(_0x3332e9,_0x1dc33f){const _0x29a3cd=a0_0x5160,_0x1973b7=_0x3332e9();while(!![]){try{const _0x56d50a=parseInt(_0x29a3cd(0x14d))/0x1+parseInt(_0x29a3cd(0x128))/0x2+parseInt(_0x29a3cd(0x124))/0x3*(parseInt(_0x29a3cd(0x140))/0x4)+parseInt(_0x29a3cd(0x12d))/0x5*(parseInt(_0x29a3cd(0x14c))/0x6)+parseInt(_0x29a3cd(0x12c))/0x7+parseInt(_0x29a3cd(0x12b))/0x8+-parseInt(_0x29a3cd(0x129))/0x9;if(_0x56d50a===_0x1dc33f)break;else _0x1973b7['push'](_0x1973b7['shift']());}catch(_0x320ba8){_0x1973b7['push'](_0x1973b7['shift']());}}}(a0_0x57d8,0x774a6));function a0_0x5160(_0x31c943,_0x38016a){const _0x57d842=a0_0x57d8();return a0_0x5160=function(_0x5160a7,_0x3ce70f){_0x5160a7=_0x5160a7-0x119;let _0x529906=_0x57d842[_0x5160a7];return _0x529906;},a0_0x5160(_0x31c943,_0x38016a);}const express=require(a0_0x42b624(0x14e)),app=express(),router=express[a0_0x42b624(0x135)](),auth=require(a0_0x42b624(0x157)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require(a0_0x42b624(0x130)),users=require(a0_0x42b624(0x139));function a0_0x57d8(){const _0x327bf0=['192237BaLCWk','express','index','get','English','/fg_trf_line','/rm_chart','True','$from_warehouse','$sale_product','../middleware/auth','$product.to_quantity','German','$total_price','language','Finished\x20Goods','/raw_trf_line','length','$to_warehouse','$date','findOne','$return_sale.sale_qty','log','$return_product.return_qty','$sale_product.quantity','1504446GvRfJf','$product.product_name','Spanish','Arabic','969510UoRPOa','20778147pvWKrx','warehouse_category','4251824keRWPW','6710417Acukmw','643570jygBam','find','$product.adjust_qty','../models/all_models','French','English\x20(US)','/fg_out_line','flash','Router','Hindi','Arabic\x20(ae)','$product.quantity','../public/language/languages.json','$product','email','$return_sale','$return_product','Portuguese','render','4KShZhT','/raw_line','/raw_out_line','/index','$product.from_quantity','/fg_line','$total_amount','aggregate','json','Raw\x20Materials','user','/raw_adj_line','6wgjISb'];a0_0x57d8=function(){return _0x327bf0;};return a0_0x57d8();}router['get'](a0_0x42b624(0x143),auth,async(_0x312c97,_0xd5bd89)=>{const _0x488931=a0_0x42b624;try{const {username:_0xd01845,email:_0x58035b,role:_0x9726b7}=_0x312c97[_0x488931(0x14a)],_0xf4f4e5=_0x312c97[_0x488931(0x14a)];var _0x54c468;if(_0xf4f4e5['warehouse_category']==_0x488931(0x149)){const _0x2b28e5=await product[_0x488931(0x12e)]({'product_category':_0x488931(0x149)});_0x54c468=_0x2b28e5[_0x488931(0x11c)];}else{if(_0xf4f4e5[_0x488931(0x12a)]==_0x488931(0x11a)){const _0x3a7204=await product[_0x488931(0x12e)]({'product_category':'Finished\x20Goods'});_0x54c468=_0x3a7204[_0x488931(0x11c)];}else{const _0x4c91f3=await product['find']();_0x54c468=_0x4c91f3[_0x488931(0x11c)];}}const _0x608e39=await profile[_0x488931(0x11f)]({'email':_0xf4f4e5[_0x488931(0x13b)]}),_0x579b50=await master_shop[_0x488931(0x12e)](),_0x22dc65=await sales[_0x488931(0x147)]([{'$group':{'_id':null,'total_price':{'$sum':_0x488931(0x15a)}}}]),_0x4d96ec=await sales[_0x488931(0x147)]([{'$unwind':_0x488931(0x156)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$sale_product.quantity'}}}]),_0x578e1a=await sales_return[_0x488931(0x147)]([{'$group':{'_id':null,'total':{'$sum':_0x488931(0x146)}}}]),_0x220729=await sales_return[_0x488931(0x147)]([{'$unwind':_0x488931(0x13c)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x488931(0x120)}}}]),_0x556229=await purchases[_0x488931(0x147)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x488931(0x146)}}}]),_0x5e7f1e=await purchases_return[_0x488931(0x147)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x5ae0ee=await purchases_return[_0x488931(0x147)]([{'$unwind':_0x488931(0x13d)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x488931(0x122)}}}]),_0x459237=await purchases['aggregate']([{'$unwind':_0x488931(0x13a)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x488931(0x138)}}}]),_0x318fe2=await purchases[_0x488931(0x147)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x1656fe=await sales['aggregate']([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x32c8da=await transfers[_0x488931(0x147)]([{'$unwind':_0x488931(0x13a)},{'$group':{'_id':_0x488931(0x125),'fromWarehouse':{'$first':_0x488931(0x155)},'toWareHouse':{'$first':_0x488931(0x11d)},'FromtotalQuantity':{'$sum':_0x488931(0x144)},'TototalQuantity':{'$sum':'$product.to_quantity'}}}]),_0x19b129=await categories[_0x488931(0x12e)](),_0x4378dd=await product[_0x488931(0x12e)](),_0x5363e0=await suppliers['find'](),_0x52698a=await customer[_0x488931(0x12e)]();if(_0x579b50[0x0][_0x488931(0x119)]==_0x488931(0x132))var _0x3d549b=users[_0x488931(0x151)];else{if(_0x579b50[0x0][_0x488931(0x119)]=='Hindi')var _0x3d549b=users[_0x488931(0x136)];else{if(_0x579b50[0x0][_0x488931(0x119)]==_0x488931(0x159))var _0x3d549b=users[_0x488931(0x159)];else{if(_0x579b50[0x0][_0x488931(0x119)]=='Spanish')var _0x3d549b=users[_0x488931(0x126)];else{if(_0x579b50[0x0][_0x488931(0x119)]=='French')var _0x3d549b=users[_0x488931(0x131)];else{if(_0x579b50[0x0][_0x488931(0x119)]=='Portuguese\x20(BR)')var _0x3d549b=users[_0x488931(0x13e)];else{if(_0x579b50[0x0][_0x488931(0x119)]=='Chinese')var _0x3d549b=users['Chinese'];else{if(_0x579b50[0x0]['language']==_0x488931(0x137))var _0x3d549b=users[_0x488931(0x127)];}}}}}}}_0xd5bd89[_0x488931(0x13f)](_0x488931(0x14f),{'success':_0x312c97[_0x488931(0x134)]('success'),'errors':_0x312c97['flash']('errors'),'role':_0xf4f4e5,'profile':_0x608e39,'sale':_0x22dc65[0x0],'sales_return':_0x578e1a[0x0],'purchases':_0x556229[0x0],'purchases_return':_0x5e7f1e[0x0],'purchases_table':_0x318fe2,'sales_table':_0x1656fe,'categories':_0x19b129[_0x488931(0x11c)],'product':_0x4378dd[_0x488931(0x11c)],'suppliers':_0x5363e0[_0x488931(0x11c)],'customer':_0x52698a[_0x488931(0x11c)],'master_shop':_0x579b50,'language':_0x3d549b,'sale_QTY':_0x4d96ec[0x0],'purchases_QTY':_0x459237[0x0],'sales_return_QTY':_0x220729[0x0],'purchases_return_QTY':_0x5ae0ee[0x0],'transfer_table':_0x32c8da,'product_cnt':_0x54c468});}catch(_0x24d635){console[_0x488931(0x121)](_0x24d635);}}),router['get'](a0_0x42b624(0x141),auth,async(_0x4273a4,_0x4a085b)=>{const _0x49d325=a0_0x42b624;try{const _0x554dee=await purchases[_0x49d325(0x147)]([{'$unwind':_0x49d325(0x13a)},{'$group':{'_id':_0x49d325(0x11e),'totalQuantity':{'$sum':'$product.quantity'},'date':{'$first':_0x49d325(0x11e)}}},{'$sort':{'date':0x1}}]);_0x4a085b[_0x49d325(0x148)](_0x554dee);}catch(_0x37817a){_0x4a085b[_0x49d325(0x148)](_0x37817a);}}),router[a0_0x42b624(0x150)](a0_0x42b624(0x142),auth,async(_0x498479,_0x188030)=>{const _0x280a80=a0_0x42b624;try{const _0x17f904=await sales[_0x280a80(0x147)]([{'$match':{'finalize':_0x280a80(0x154)}},{'$unwind':_0x280a80(0x156)},{'$group':{'_id':_0x280a80(0x11e),'totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x188030[_0x280a80(0x148)](_0x17f904);}catch(_0x3656f3){_0x188030[_0x280a80(0x148)](_0x3656f3);}}),router['get'](a0_0x42b624(0x14b),auth,async(_0x34cabb,_0x3e38b3)=>{const _0x46277a=a0_0x42b624;try{const _0x4d0140=await adjustment[_0x46277a(0x147)]([{'$match':{'finalize':_0x46277a(0x154)}},{'$unwind':_0x46277a(0x13a)},{'$group':{'_id':_0x46277a(0x11e),'totalQuantity':{'$sum':_0x46277a(0x12f)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x3e38b3['json'](_0x4d0140);}catch(_0x4b35a9){_0x3e38b3[_0x46277a(0x148)](_0x4b35a9);}}),router['get'](a0_0x42b624(0x11b),auth,async(_0x4bfb54,_0x35761a)=>{const _0x15b28d=a0_0x42b624;try{const _0x306a79=await transfers[_0x15b28d(0x147)]([{'$match':{'finalize':_0x15b28d(0x154)}},{'$unwind':_0x15b28d(0x13a)},{'$group':{'_id':_0x15b28d(0x11e),'totalQuantity':{'$sum':_0x15b28d(0x158)},'date':{'$first':_0x15b28d(0x11e)}}},{'$sort':{'date':0x1}}]);_0x35761a[_0x15b28d(0x148)](_0x306a79);}catch(_0x390715){_0x35761a[_0x15b28d(0x148)](_0x390715);}}),router['get'](a0_0x42b624(0x145),auth,async(_0x1a83a6,_0x4e1f61)=>{const _0x403b10=a0_0x42b624;try{const _0x182ca0=await purchases_finished[_0x403b10(0x147)]([{'$unwind':_0x403b10(0x13a)},{'$group':{'_id':_0x403b10(0x11e),'totalQuantity':{'$sum':'$product.quantity'},'date':{'$first':_0x403b10(0x11e)}}},{'$sort':{'date':0x1}}]);_0x4e1f61[_0x403b10(0x148)](_0x182ca0);}catch(_0x45e91a){_0x4e1f61[_0x403b10(0x148)](_0x45e91a);}}),router[a0_0x42b624(0x150)](a0_0x42b624(0x133),auth,async(_0x3894ca,_0x119bb0)=>{const _0x12ca8e=a0_0x42b624;try{const _0x2b47e0=await sales_finished[_0x12ca8e(0x147)]([{'$match':{'finalize':_0x12ca8e(0x154)}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x12ca8e(0x11e),'totalQuantity':{'$sum':_0x12ca8e(0x123)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x119bb0[_0x12ca8e(0x148)](_0x2b47e0);}catch(_0x46cc99){_0x119bb0[_0x12ca8e(0x148)](_0x46cc99);}}),router[a0_0x42b624(0x150)]('/fg_adj_line',auth,async(_0x2b5610,_0x399fb7)=>{const _0x27e0f2=a0_0x42b624;try{const _0x54a249=await adjustment_finished[_0x27e0f2(0x147)]([{'$match':{'finalize':_0x27e0f2(0x154)}},{'$unwind':_0x27e0f2(0x13a)},{'$group':{'_id':_0x27e0f2(0x11e),'totalQuantity':{'$sum':_0x27e0f2(0x12f)},'date':{'$first':_0x27e0f2(0x11e)}}},{'$sort':{'date':0x1}}]);_0x399fb7[_0x27e0f2(0x148)](_0x54a249);}catch(_0x3097dc){_0x399fb7['json'](_0x3097dc);}}),router['get'](a0_0x42b624(0x152),auth,async(_0x2cb445,_0x34ce36)=>{const _0x5671c3=a0_0x42b624;try{const _0x68b5a3=await transfers_finished['aggregate']([{'$match':{'finalize':_0x5671c3(0x154)}},{'$unwind':_0x5671c3(0x13a)},{'$group':{'_id':_0x5671c3(0x11e),'totalQuantity':{'$sum':_0x5671c3(0x158)},'date':{'$first':_0x5671c3(0x11e)}}},{'$sort':{'date':0x1}}]);_0x34ce36[_0x5671c3(0x148)](_0x68b5a3);}catch(_0x1439e1){_0x34ce36['json'](_0x1439e1);}}),router[a0_0x42b624(0x150)](a0_0x42b624(0x153),auth,async(_0x2ed06a,_0x30cecb)=>{const _0x273b79=a0_0x42b624;try{const _0x333d93=await purchases[_0x273b79(0x147)]([{'$unwind':_0x273b79(0x13a)},{'$group':{'_id':_0x273b79(0x11e),'totalQuantity':{'$sum':_0x273b79(0x138)},'date':{'$first':_0x273b79(0x11e)}}},{'$sort':{'date':0x1}}]),_0x30ced9=await sales[_0x273b79(0x147)]([{'$match':{'finalize':_0x273b79(0x154)}},{'$unwind':_0x273b79(0x156)},{'$group':{'_id':_0x273b79(0x11e),'totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':_0x273b79(0x11e)}}},{'$sort':{'date':0x1}}]),_0x1529c3=await adjustment[_0x273b79(0x147)]([{'$match':{'finalize':'True'}},{'$unwind':_0x273b79(0x13a)},{'$group':{'_id':_0x273b79(0x11e),'totalQuantity':{'$sum':_0x273b79(0x12f)},'date':{'$first':_0x273b79(0x11e)}}},{'$sort':{'date':0x1}}]),_0x3c75c6=await transfers[_0x273b79(0x147)]([{'$match':{'finalize':'True'}},{'$unwind':_0x273b79(0x13a)},{'$group':{'_id':_0x273b79(0x11e),'totalQuantity':{'$sum':_0x273b79(0x158)},'date':{'$first':_0x273b79(0x11e)}}},{'$sort':{'date':0x1}}]);_0x30cecb[_0x273b79(0x148)]({'purchases':_0x333d93,'sales':_0x30ced9,'adjustment':_0x1529c3,'transfer':_0x3c75c6});}catch(_0x14646c){_0x30cecb[_0x273b79(0x148)](_0x14646c);}}),router[a0_0x42b624(0x150)]('/fg_chart',auth,async(_0x2a3092,_0x20689d)=>{const _0x1c194a=a0_0x42b624;try{const _0x319f16=await product[_0x1c194a(0x12e)]({'product_category':_0x1c194a(0x11a)});_0x20689d[_0x1c194a(0x148)]({'count':_0x319f16[_0x1c194a(0x11c)]});}catch(_0x320c85){_0x20689d[_0x1c194a(0x148)](_0x320c85);}}),module['exports']=router;