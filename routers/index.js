const a0_0x105899=a0_0x2e5b;function a0_0x2e5b(_0x26ef82,_0xcbfa3e){const _0x12df63=a0_0x12df();return a0_0x2e5b=function(_0x2e5b2f,_0x29d8b6){_0x2e5b2f=_0x2e5b2f-0x17c;let _0x5f1c19=_0x12df63[_0x2e5b2f];return _0x5f1c19;},a0_0x2e5b(_0x26ef82,_0xcbfa3e);}function a0_0x12df(){const _0x399322=['express','3423WcCEqV','../public/language/languages.json','$product.quantity','Spanish','../middleware/auth','email','../models/all_models','$return_sale','aggregate','146673usgvlA','user','297010mtuhaj','Chinese','errors','$return_product.return_qty','log','33pXoITE','Hindi','warehouse_category','/fg_out_line','/raw_line','335938zCwTzH','$product.to_quantity','json','2399952dZAmPm','1545IqLFJR','Portuguese\x20(BR)','$product','1926988iHMBjm','German','$sale_product','/fg_line','$product.from_quantity','English','$return_product','flash','French','/raw_adj_line','Raw\x20Materials','/fg_adj_line','$return_sale.sale_qty','get','/fg_trf_line','language','$to_warehouse','find','English\x20(US)','/rm_chart','$product.adjust_qty','$product.product_name','Finished\x20Goods','Portuguese','$total_amount','$date','664PAKFth','length','1420nhoqIa','32tcfRCI','True','/raw_trf_line','success','$sale_product.quantity'];a0_0x12df=function(){return _0x399322;};return a0_0x12df();}(function(_0x5b7045,_0x2e9549){const _0x3fb7a1=a0_0x2e5b,_0x2fade2=_0x5b7045();while(!![]){try{const _0x112249=parseInt(_0x3fb7a1(0x191))/0x1+-parseInt(_0x3fb7a1(0x1b2))/0x2*(parseInt(_0x3fb7a1(0x17c))/0x3)+parseInt(_0x3fb7a1(0x1b4))/0x4*(parseInt(_0x3fb7a1(0x195))/0x5)+parseInt(_0x3fb7a1(0x194))/0x6+-parseInt(_0x3fb7a1(0x198))/0x7+parseInt(_0x3fb7a1(0x1b5))/0x8*(-parseInt(_0x3fb7a1(0x185))/0x9)+-parseInt(_0x3fb7a1(0x187))/0xa*(-parseInt(_0x3fb7a1(0x18c))/0xb);if(_0x112249===_0x2e9549)break;else _0x2fade2['push'](_0x2fade2['shift']());}catch(_0x52774c){_0x2fade2['push'](_0x2fade2['shift']());}}}(a0_0x12df,0x34994));const express=require(a0_0x105899(0x1ba)),app=express(),router=express['Router'](),auth=require(a0_0x105899(0x180)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require(a0_0x105899(0x182)),users=require(a0_0x105899(0x17d));router[a0_0x105899(0x1a5)]('/index',auth,async(_0x1bc9ab,_0x4f39fd)=>{const _0x5e9bf9=a0_0x105899;try{const {username:_0x48c613,email:_0x558410,role:_0x149c61}=_0x1bc9ab[_0x5e9bf9(0x186)],_0x458602=_0x1bc9ab[_0x5e9bf9(0x186)];var _0x33871c;if(_0x458602['warehouse_category']=='Raw\x20Materials'){const _0x4ba451=await product[_0x5e9bf9(0x1a9)]({'product_category':_0x5e9bf9(0x1a2)});_0x33871c=_0x4ba451['length'];}else{if(_0x458602[_0x5e9bf9(0x18e)]==_0x5e9bf9(0x1ae)){const _0x5b6410=await product['find']({'product_category':_0x5e9bf9(0x1ae)});_0x33871c=_0x5b6410['length'];}else{const _0x23249b=await product[_0x5e9bf9(0x1a9)]();_0x33871c=_0x23249b['length'];}}const _0x13464e=await profile['findOne']({'email':_0x458602[_0x5e9bf9(0x181)]}),_0x1de631=await master_shop['find'](),_0x15fe35=await sales[_0x5e9bf9(0x184)]([{'$group':{'_id':null,'total_price':{'$sum':'$total_price'}}}]),_0x59e513=await sales[_0x5e9bf9(0x184)]([{'$unwind':_0x5e9bf9(0x19a)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x5e9bf9(0x1b9)}}}]),_0x417132=await sales_return[_0x5e9bf9(0x184)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x4bdc4b=await sales_return['aggregate']([{'$unwind':_0x5e9bf9(0x183)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x5e9bf9(0x1a4)}}}]),_0x883687=await purchases[_0x5e9bf9(0x184)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x5e9bf9(0x1b0)}}}]),_0x4de875=await purchases_return[_0x5e9bf9(0x184)]([{'$group':{'_id':null,'total':{'$sum':_0x5e9bf9(0x1b0)}}}]),_0x2cb81a=await purchases_return[_0x5e9bf9(0x184)]([{'$unwind':_0x5e9bf9(0x19e)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x5e9bf9(0x18a)}}}]),_0x1e8f5b=await purchases[_0x5e9bf9(0x184)]([{'$unwind':_0x5e9bf9(0x197)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x5e9bf9(0x17e)}}}]),_0x5768c7=await purchases[_0x5e9bf9(0x184)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x4d4b3b=await sales[_0x5e9bf9(0x184)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x6aabae=await transfers[_0x5e9bf9(0x184)]([{'$unwind':'$product'},{'$group':{'_id':_0x5e9bf9(0x1ad),'fromWarehouse':{'$first':'$from_warehouse'},'toWareHouse':{'$first':_0x5e9bf9(0x1a8)},'FromtotalQuantity':{'$sum':_0x5e9bf9(0x19c)},'TototalQuantity':{'$sum':_0x5e9bf9(0x192)}}}]),_0x5714d3=await categories['find'](),_0x1e2d21=await product[_0x5e9bf9(0x1a9)](),_0x5616d9=await suppliers[_0x5e9bf9(0x1a9)](),_0x1f3094=await customer['find']();if(_0x1de631[0x0][_0x5e9bf9(0x1a7)]==_0x5e9bf9(0x1aa))var _0xa0a067=users[_0x5e9bf9(0x19d)];else{if(_0x1de631[0x0][_0x5e9bf9(0x1a7)]==_0x5e9bf9(0x18d))var _0xa0a067=users[_0x5e9bf9(0x18d)];else{if(_0x1de631[0x0]['language']=='German')var _0xa0a067=users[_0x5e9bf9(0x199)];else{if(_0x1de631[0x0]['language']==_0x5e9bf9(0x17f))var _0xa0a067=users[_0x5e9bf9(0x17f)];else{if(_0x1de631[0x0][_0x5e9bf9(0x1a7)]=='French')var _0xa0a067=users[_0x5e9bf9(0x1a0)];else{if(_0x1de631[0x0][_0x5e9bf9(0x1a7)]==_0x5e9bf9(0x196))var _0xa0a067=users[_0x5e9bf9(0x1af)];else{if(_0x1de631[0x0]['language']=='Chinese')var _0xa0a067=users[_0x5e9bf9(0x188)];else{if(_0x1de631[0x0][_0x5e9bf9(0x1a7)]=='Arabic\x20(ae)')var _0xa0a067=users['Arabic'];}}}}}}}_0x4f39fd['render']('index',{'success':_0x1bc9ab[_0x5e9bf9(0x19f)](_0x5e9bf9(0x1b8)),'errors':_0x1bc9ab[_0x5e9bf9(0x19f)](_0x5e9bf9(0x189)),'role':_0x458602,'profile':_0x13464e,'sale':_0x15fe35[0x0],'sales_return':_0x417132[0x0],'purchases':_0x883687[0x0],'purchases_return':_0x4de875[0x0],'purchases_table':_0x5768c7,'sales_table':_0x4d4b3b,'categories':_0x5714d3[_0x5e9bf9(0x1b3)],'product':_0x1e2d21[_0x5e9bf9(0x1b3)],'suppliers':_0x5616d9[_0x5e9bf9(0x1b3)],'customer':_0x1f3094['length'],'master_shop':_0x1de631,'language':_0xa0a067,'sale_QTY':_0x59e513[0x0],'purchases_QTY':_0x1e8f5b[0x0],'sales_return_QTY':_0x4bdc4b[0x0],'purchases_return_QTY':_0x2cb81a[0x0],'transfer_table':_0x6aabae,'product_cnt':_0x33871c});}catch(_0x156185){console[_0x5e9bf9(0x18b)](_0x156185);}}),router[a0_0x105899(0x1a5)](a0_0x105899(0x190),auth,async(_0x8e5de4,_0x561d6c)=>{const _0x1e6350=a0_0x105899;try{const _0x36debc=await purchases[_0x1e6350(0x184)]([{'$unwind':_0x1e6350(0x197)},{'$group':{'_id':_0x1e6350(0x1b1),'totalQuantity':{'$sum':_0x1e6350(0x17e)},'date':{'$first':_0x1e6350(0x1b1)}}},{'$sort':{'date':0x1}}]);_0x561d6c['json'](_0x36debc);}catch(_0x85a20d){_0x561d6c[_0x1e6350(0x193)](_0x85a20d);}}),router['get']('/raw_out_line',auth,async(_0x286002,_0x36b319)=>{const _0x2587d8=a0_0x105899;try{const _0x3530b0=await sales[_0x2587d8(0x184)]([{'$match':{'finalize':_0x2587d8(0x1b6)}},{'$unwind':_0x2587d8(0x19a)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x2587d8(0x1b9)},'date':{'$first':_0x2587d8(0x1b1)}}},{'$sort':{'date':0x1}}]);_0x36b319[_0x2587d8(0x193)](_0x3530b0);}catch(_0x4ce93d){_0x36b319['json'](_0x4ce93d);}}),router[a0_0x105899(0x1a5)](a0_0x105899(0x1a1),auth,async(_0x31ada6,_0x30d43e)=>{const _0xb7115c=a0_0x105899;try{const _0x4510cf=await adjustment[_0xb7115c(0x184)]([{'$match':{'finalize':_0xb7115c(0x1b6)}},{'$unwind':'$product'},{'$group':{'_id':_0xb7115c(0x1b1),'totalQuantity':{'$sum':'$product.adjust_qty'},'date':{'$first':_0xb7115c(0x1b1)}}},{'$sort':{'date':0x1}}]);_0x30d43e[_0xb7115c(0x193)](_0x4510cf);}catch(_0x30671a){_0x30d43e[_0xb7115c(0x193)](_0x30671a);}}),router[a0_0x105899(0x1a5)](a0_0x105899(0x1b7),auth,async(_0x27b013,_0x1d1316)=>{const _0xc89b80=a0_0x105899;try{const _0x5bbf80=await transfers[_0xc89b80(0x184)]([{'$match':{'finalize':_0xc89b80(0x1b6)}},{'$unwind':_0xc89b80(0x197)},{'$group':{'_id':_0xc89b80(0x1b1),'totalQuantity':{'$sum':_0xc89b80(0x192)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x1d1316[_0xc89b80(0x193)](_0x5bbf80);}catch(_0x4e850d){_0x1d1316[_0xc89b80(0x193)](_0x4e850d);}}),router[a0_0x105899(0x1a5)](a0_0x105899(0x19b),auth,async(_0xc5dd84,_0x3230c3)=>{const _0x16844b=a0_0x105899;try{const _0x1946c1=await purchases_finished[_0x16844b(0x184)]([{'$unwind':_0x16844b(0x197)},{'$group':{'_id':_0x16844b(0x1b1),'totalQuantity':{'$sum':_0x16844b(0x17e)},'date':{'$first':_0x16844b(0x1b1)}}},{'$sort':{'date':0x1}}]);_0x3230c3[_0x16844b(0x193)](_0x1946c1);}catch(_0x5c5d9f){_0x3230c3['json'](_0x5c5d9f);}}),router[a0_0x105899(0x1a5)](a0_0x105899(0x18f),auth,async(_0x5e2146,_0x21eac4)=>{const _0x4e0c53=a0_0x105899;try{const _0x1447b6=await sales_finished[_0x4e0c53(0x184)]([{'$match':{'finalize':_0x4e0c53(0x1b6)}},{'$unwind':_0x4e0c53(0x19a)},{'$group':{'_id':_0x4e0c53(0x1b1),'totalQuantity':{'$sum':_0x4e0c53(0x1b9)},'date':{'$first':_0x4e0c53(0x1b1)}}},{'$sort':{'date':0x1}}]);_0x21eac4[_0x4e0c53(0x193)](_0x1447b6);}catch(_0x1552fa){_0x21eac4[_0x4e0c53(0x193)](_0x1552fa);}}),router[a0_0x105899(0x1a5)](a0_0x105899(0x1a3),auth,async(_0x1bf0c4,_0x5c7fe3)=>{const _0x50eb37=a0_0x105899;try{const _0x1e41d1=await adjustment_finished[_0x50eb37(0x184)]([{'$match':{'finalize':_0x50eb37(0x1b6)}},{'$unwind':_0x50eb37(0x197)},{'$group':{'_id':_0x50eb37(0x1b1),'totalQuantity':{'$sum':_0x50eb37(0x1ac)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x5c7fe3[_0x50eb37(0x193)](_0x1e41d1);}catch(_0x1c4b25){_0x5c7fe3['json'](_0x1c4b25);}}),router['get'](a0_0x105899(0x1a6),auth,async(_0x94e526,_0x2d3834)=>{const _0x13344d=a0_0x105899;try{const _0x2071c0=await transfers_finished[_0x13344d(0x184)]([{'$match':{'finalize':_0x13344d(0x1b6)}},{'$unwind':_0x13344d(0x197)},{'$group':{'_id':_0x13344d(0x1b1),'totalQuantity':{'$sum':_0x13344d(0x192)},'date':{'$first':_0x13344d(0x1b1)}}},{'$sort':{'date':0x1}}]);_0x2d3834[_0x13344d(0x193)](_0x2071c0);}catch(_0x431837){_0x2d3834[_0x13344d(0x193)](_0x431837);}}),router[a0_0x105899(0x1a5)](a0_0x105899(0x1ab),auth,async(_0x246db1,_0x7c1f91)=>{const _0x2eaa41=a0_0x105899;try{const _0xe0b2a8=await purchases[_0x2eaa41(0x184)]([{'$unwind':_0x2eaa41(0x197)},{'$group':{'_id':_0x2eaa41(0x1b1),'totalQuantity':{'$sum':_0x2eaa41(0x17e)},'date':{'$first':_0x2eaa41(0x1b1)}}},{'$sort':{'date':0x1}}]),_0x3efe19=await sales[_0x2eaa41(0x184)]([{'$match':{'finalize':_0x2eaa41(0x1b6)}},{'$unwind':_0x2eaa41(0x19a)},{'$group':{'_id':_0x2eaa41(0x1b1),'totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':_0x2eaa41(0x1b1)}}},{'$sort':{'date':0x1}}]),_0x2cd248=await adjustment[_0x2eaa41(0x184)]([{'$match':{'finalize':'True'}},{'$unwind':'$product'},{'$group':{'_id':_0x2eaa41(0x1b1),'totalQuantity':{'$sum':_0x2eaa41(0x1ac)},'date':{'$first':_0x2eaa41(0x1b1)}}},{'$sort':{'date':0x1}}]),_0x7c769d=await transfers[_0x2eaa41(0x184)]([{'$match':{'finalize':'True'}},{'$unwind':'$product'},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0x2eaa41(0x192)},'date':{'$first':_0x2eaa41(0x1b1)}}},{'$sort':{'date':0x1}}]);_0x7c1f91[_0x2eaa41(0x193)]({'purchases':_0xe0b2a8,'sales':_0x3efe19,'adjustment':_0x2cd248,'transfer':_0x7c769d});}catch(_0x2bffd6){_0x7c1f91[_0x2eaa41(0x193)](_0x2bffd6);}}),router[a0_0x105899(0x1a5)]('/fg_chart',auth,async(_0x3ae21f,_0x7e5314)=>{const _0xd4d836=a0_0x105899;try{const _0x246c10=await product['find']({'product_category':_0xd4d836(0x1ae)});_0x7e5314['json']({'count':_0x246c10[_0xd4d836(0x1b3)]});}catch(_0x102a87){_0x7e5314[_0xd4d836(0x193)](_0x102a87);}}),module['exports']=router;