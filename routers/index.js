const a0_0x2ee2bb=a0_0x1ae0;function a0_0x1ae0(_0xca155a,_0x4db654){const _0x14beb7=a0_0x14be();return a0_0x1ae0=function(_0x1ae0fd,_0x4f5d38){_0x1ae0fd=_0x1ae0fd-0xbf;let _0x5e79be=_0x14beb7[_0x1ae0fd];return _0x5e79be;},a0_0x1ae0(_0xca155a,_0x4db654);}(function(_0x1b3671,_0x419ba3){const _0x4d03ba=a0_0x1ae0,_0x28f6e7=_0x1b3671();while(!![]){try{const _0x1d6daa=-parseInt(_0x4d03ba(0xcc))/0x1*(-parseInt(_0x4d03ba(0xfa))/0x2)+-parseInt(_0x4d03ba(0xfb))/0x3+-parseInt(_0x4d03ba(0xf7))/0x4+-parseInt(_0x4d03ba(0xdc))/0x5*(-parseInt(_0x4d03ba(0xc1))/0x6)+-parseInt(_0x4d03ba(0xd5))/0x7+parseInt(_0x4d03ba(0xe3))/0x8+parseInt(_0x4d03ba(0xe1))/0x9*(parseInt(_0x4d03ba(0xda))/0xa);if(_0x1d6daa===_0x419ba3)break;else _0x28f6e7['push'](_0x28f6e7['shift']());}catch(_0x1082eb){_0x28f6e7['push'](_0x28f6e7['shift']());}}}(a0_0x14be,0xb4f29));function a0_0x14be(){const _0x40cd37=['French','json','English','$product.quantity','94596RZyEmy','/raw_line','user','$product.to_quantity','aggregate','$return_sale.sale_qty','warehouse_category','$return_product.return_qty','index','render','Raw\x20Materials','57287CFSGfo','success','language','get','length','$sale_product.quantity','log','Hindi','express','6710116amGAwW','find','$product','$product.adjust_qty','/index','230KQgRNx','German','335qcTncB','Arabic','Spanish','Portuguese','$date','354447ihxNJA','Chinese','8294816VosgkS','/fg_out_line','$product.product_name','/fg_chart','True','flash','/fg_adj_line','English\x20(US)','email','$from_warehouse','../middleware/auth','$return_sale','$sale_product','$return_product','Arabic\x20(ae)','/rm_chart','findOne','Router','exports','Finished\x20Goods','3671664RBzKFh','../models/all_models','/fg_trf_line','2TcynJf','1315815WNgxWO','errors','$total_amount'];a0_0x14be=function(){return _0x40cd37;};return a0_0x14be();}const express=require(a0_0x2ee2bb(0xd4)),app=express(),router=express[a0_0x2ee2bb(0xf4)](),auth=require(a0_0x2ee2bb(0xed)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require(a0_0x2ee2bb(0xf8)),users=require('../public/language/languages.json');router['get'](a0_0x2ee2bb(0xd9),auth,async(_0x321d8c,_0x5630a9)=>{const _0x193c84=a0_0x2ee2bb;try{const {username:_0x3f76b5,email:_0x57a0ef,role:_0x78ab79}=_0x321d8c[_0x193c84(0xc3)],_0x3e84f9=_0x321d8c[_0x193c84(0xc3)];var _0x15a38a;if(_0x3e84f9[_0x193c84(0xc7)]=='Raw\x20Materials'){const _0x19cdd1=await product[_0x193c84(0xd6)]({'product_category':_0x193c84(0xcb)});_0x15a38a=_0x19cdd1['length'];}else{if(_0x3e84f9['warehouse_category']==_0x193c84(0xf6)){const _0x28ed8a=await product[_0x193c84(0xd6)]({'product_category':'Finished\x20Goods'});_0x15a38a=_0x28ed8a[_0x193c84(0xd0)];}else{const _0x5c0a9c=await product[_0x193c84(0xd6)]();_0x15a38a=_0x5c0a9c['length'];}}const _0x37da5f=await profile[_0x193c84(0xf3)]({'email':_0x3e84f9[_0x193c84(0xeb)]}),_0x6a214d=await master_shop[_0x193c84(0xd6)](),_0x4008e3=await sales['aggregate']([{'$group':{'_id':null,'total_price':{'$sum':'$total_price'}}}]),_0x241956=await sales[_0x193c84(0xc5)]([{'$unwind':_0x193c84(0xef)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x193c84(0xd1)}}}]),_0x316c91=await sales_return[_0x193c84(0xc5)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x3683dd=await sales_return['aggregate']([{'$unwind':_0x193c84(0xee)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x193c84(0xc6)}}}]),_0xdb60da=await purchases[_0x193c84(0xc5)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x193c84(0xfd)}}}]),_0x513c56=await purchases_return['aggregate']([{'$group':{'_id':null,'total':{'$sum':_0x193c84(0xfd)}}}]),_0x20c163=await purchases_return['aggregate']([{'$unwind':_0x193c84(0xf0)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x193c84(0xc8)}}}]),_0x4b31fa=await purchases[_0x193c84(0xc5)]([{'$unwind':_0x193c84(0xd7)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x193c84(0xc0)}}}]),_0x50ae2d=await purchases[_0x193c84(0xc5)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x58f80c=await sales[_0x193c84(0xc5)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x3cb1a7=await transfers[_0x193c84(0xc5)]([{'$unwind':'$product'},{'$group':{'_id':_0x193c84(0xe5),'fromWarehouse':{'$first':_0x193c84(0xec)},'toWareHouse':{'$first':'$to_warehouse'},'FromtotalQuantity':{'$sum':'$product.from_quantity'},'TototalQuantity':{'$sum':'$product.to_quantity'}}}]),_0x268218=await categories[_0x193c84(0xd6)](),_0x2e91cc=await product[_0x193c84(0xd6)](),_0x512b34=await suppliers[_0x193c84(0xd6)](),_0x350f01=await customer[_0x193c84(0xd6)]();if(_0x6a214d[0x0][_0x193c84(0xce)]==_0x193c84(0xea))var _0x48541a=users[_0x193c84(0xbf)];else{if(_0x6a214d[0x0][_0x193c84(0xce)]==_0x193c84(0xd3))var _0x48541a=users[_0x193c84(0xd3)];else{if(_0x6a214d[0x0][_0x193c84(0xce)]==_0x193c84(0xdb))var _0x48541a=users[_0x193c84(0xdb)];else{if(_0x6a214d[0x0][_0x193c84(0xce)]==_0x193c84(0xde))var _0x48541a=users[_0x193c84(0xde)];else{if(_0x6a214d[0x0][_0x193c84(0xce)]=='French')var _0x48541a=users[_0x193c84(0xfe)];else{if(_0x6a214d[0x0][_0x193c84(0xce)]=='Portuguese\x20(BR)')var _0x48541a=users[_0x193c84(0xdf)];else{if(_0x6a214d[0x0][_0x193c84(0xce)]=='Chinese')var _0x48541a=users[_0x193c84(0xe2)];else{if(_0x6a214d[0x0][_0x193c84(0xce)]==_0x193c84(0xf1))var _0x48541a=users[_0x193c84(0xdd)];}}}}}}}_0x5630a9[_0x193c84(0xca)](_0x193c84(0xc9),{'success':_0x321d8c[_0x193c84(0xe8)](_0x193c84(0xcd)),'errors':_0x321d8c['flash'](_0x193c84(0xfc)),'role':_0x3e84f9,'profile':_0x37da5f,'sale':_0x4008e3[0x0],'sales_return':_0x316c91[0x0],'purchases':_0xdb60da[0x0],'purchases_return':_0x513c56[0x0],'purchases_table':_0x50ae2d,'sales_table':_0x58f80c,'categories':_0x268218['length'],'product':_0x2e91cc[_0x193c84(0xd0)],'suppliers':_0x512b34[_0x193c84(0xd0)],'customer':_0x350f01['length'],'master_shop':_0x6a214d,'language':_0x48541a,'sale_QTY':_0x241956[0x0],'purchases_QTY':_0x4b31fa[0x0],'sales_return_QTY':_0x3683dd[0x0],'purchases_return_QTY':_0x20c163[0x0],'transfer_table':_0x3cb1a7,'product_cnt':_0x15a38a});}catch(_0x21b0d0){console[_0x193c84(0xd2)](_0x21b0d0);}}),router[a0_0x2ee2bb(0xcf)](a0_0x2ee2bb(0xc2),auth,async(_0x58bab9,_0x280fee)=>{const _0x97c0cc=a0_0x2ee2bb;try{const _0x23bbf6=await purchases[_0x97c0cc(0xc5)]([{'$unwind':_0x97c0cc(0xd7)},{'$group':{'_id':'$date','totalQuantity':{'$sum':'$product.quantity'},'date':{'$first':_0x97c0cc(0xe0)}}},{'$sort':{'date':0x1}}]);_0x280fee['json'](_0x23bbf6);}catch(_0x1a652f){_0x280fee[_0x97c0cc(0xff)](_0x1a652f);}}),router[a0_0x2ee2bb(0xcf)]('/raw_out_line',auth,async(_0x101a7a,_0x5f134e)=>{const _0x43f91a=a0_0x2ee2bb;try{const _0x2253ba=await sales[_0x43f91a(0xc5)]([{'$match':{'finalize':_0x43f91a(0xe7)}},{'$unwind':_0x43f91a(0xef)},{'$group':{'_id':_0x43f91a(0xe0),'totalQuantity':{'$sum':_0x43f91a(0xd1)},'date':{'$first':_0x43f91a(0xe0)}}},{'$sort':{'date':0x1}}]);_0x5f134e[_0x43f91a(0xff)](_0x2253ba);}catch(_0x430ab0){_0x5f134e[_0x43f91a(0xff)](_0x430ab0);}}),router['get']('/raw_adj_line',auth,async(_0x27dd63,_0x5d5197)=>{const _0x22895=a0_0x2ee2bb;try{const _0x52391b=await adjustment[_0x22895(0xc5)]([{'$match':{'finalize':_0x22895(0xe7)}},{'$unwind':_0x22895(0xd7)},{'$group':{'_id':_0x22895(0xe0),'totalQuantity':{'$sum':'$product.adjust_qty'},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x5d5197[_0x22895(0xff)](_0x52391b);}catch(_0x3bac8f){_0x5d5197[_0x22895(0xff)](_0x3bac8f);}}),router[a0_0x2ee2bb(0xcf)]('/raw_trf_line',auth,async(_0x4dd74f,_0x316599)=>{const _0x560464=a0_0x2ee2bb;try{const _0x2bf8bc=await transfers[_0x560464(0xc5)]([{'$match':{'finalize':'True'}},{'$unwind':'$product'},{'$group':{'_id':_0x560464(0xe0),'totalQuantity':{'$sum':_0x560464(0xc4)},'date':{'$first':_0x560464(0xe0)}}},{'$sort':{'date':0x1}}]);_0x316599['json'](_0x2bf8bc);}catch(_0x5bc28b){_0x316599[_0x560464(0xff)](_0x5bc28b);}}),router[a0_0x2ee2bb(0xcf)]('/fg_line',auth,async(_0x5dd17f,_0x278ba6)=>{const _0x2bbed8=a0_0x2ee2bb;try{const _0x45d323=await purchases_finished[_0x2bbed8(0xc5)]([{'$unwind':_0x2bbed8(0xd7)},{'$group':{'_id':_0x2bbed8(0xe0),'totalQuantity':{'$sum':_0x2bbed8(0xc0)},'date':{'$first':_0x2bbed8(0xe0)}}},{'$sort':{'date':0x1}}]);_0x278ba6['json'](_0x45d323);}catch(_0x4869bf){_0x278ba6[_0x2bbed8(0xff)](_0x4869bf);}}),router[a0_0x2ee2bb(0xcf)](a0_0x2ee2bb(0xe4),auth,async(_0x55039f,_0x432e0f)=>{const _0x85c28c=a0_0x2ee2bb;try{const _0x47f98d=await sales_finished[_0x85c28c(0xc5)]([{'$match':{'finalize':_0x85c28c(0xe7)}},{'$unwind':_0x85c28c(0xef)},{'$group':{'_id':'$date','totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':_0x85c28c(0xe0)}}},{'$sort':{'date':0x1}}]);_0x432e0f[_0x85c28c(0xff)](_0x47f98d);}catch(_0x32d466){_0x432e0f[_0x85c28c(0xff)](_0x32d466);}}),router['get'](a0_0x2ee2bb(0xe9),auth,async(_0x6ff64b,_0x4e0501)=>{const _0x157124=a0_0x2ee2bb;try{const _0x411e11=await adjustment_finished[_0x157124(0xc5)]([{'$match':{'finalize':_0x157124(0xe7)}},{'$unwind':_0x157124(0xd7)},{'$group':{'_id':_0x157124(0xe0),'totalQuantity':{'$sum':_0x157124(0xd8)},'date':{'$first':_0x157124(0xe0)}}},{'$sort':{'date':0x1}}]);_0x4e0501[_0x157124(0xff)](_0x411e11);}catch(_0x11d9b2){_0x4e0501[_0x157124(0xff)](_0x11d9b2);}}),router[a0_0x2ee2bb(0xcf)](a0_0x2ee2bb(0xf9),auth,async(_0x57bc81,_0x5b49d1)=>{const _0x477910=a0_0x2ee2bb;try{const _0x2c6797=await transfers_finished['aggregate']([{'$match':{'finalize':_0x477910(0xe7)}},{'$unwind':_0x477910(0xd7)},{'$group':{'_id':_0x477910(0xe0),'totalQuantity':{'$sum':_0x477910(0xc4)},'date':{'$first':_0x477910(0xe0)}}},{'$sort':{'date':0x1}}]);_0x5b49d1['json'](_0x2c6797);}catch(_0x5ef14d){_0x5b49d1[_0x477910(0xff)](_0x5ef14d);}}),router['get'](a0_0x2ee2bb(0xf2),auth,async(_0x113d3a,_0x1d5e40)=>{const _0xb8c6b7=a0_0x2ee2bb;try{const _0x3e9f6f=await purchases[_0xb8c6b7(0xc5)]([{'$unwind':_0xb8c6b7(0xd7)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0xb8c6b7(0xc0)},'date':{'$first':_0xb8c6b7(0xe0)}}},{'$sort':{'date':0x1}}]),_0x285f2c=await sales[_0xb8c6b7(0xc5)]([{'$match':{'finalize':_0xb8c6b7(0xe7)}},{'$unwind':_0xb8c6b7(0xef)},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0xb8c6b7(0xd1)},'date':{'$first':_0xb8c6b7(0xe0)}}},{'$sort':{'date':0x1}}]),_0x100307=await adjustment[_0xb8c6b7(0xc5)]([{'$match':{'finalize':_0xb8c6b7(0xe7)}},{'$unwind':_0xb8c6b7(0xd7)},{'$group':{'_id':_0xb8c6b7(0xe0),'totalQuantity':{'$sum':_0xb8c6b7(0xd8)},'date':{'$first':_0xb8c6b7(0xe0)}}},{'$sort':{'date':0x1}}]),_0x245436=await transfers[_0xb8c6b7(0xc5)]([{'$match':{'finalize':_0xb8c6b7(0xe7)}},{'$unwind':_0xb8c6b7(0xd7)},{'$group':{'_id':_0xb8c6b7(0xe0),'totalQuantity':{'$sum':_0xb8c6b7(0xc4)},'date':{'$first':_0xb8c6b7(0xe0)}}},{'$sort':{'date':0x1}}]);_0x1d5e40[_0xb8c6b7(0xff)]({'purchases':_0x3e9f6f,'sales':_0x285f2c,'adjustment':_0x100307,'transfer':_0x245436});}catch(_0x42d1c0){_0x1d5e40[_0xb8c6b7(0xff)](_0x42d1c0);}}),router[a0_0x2ee2bb(0xcf)](a0_0x2ee2bb(0xe6),auth,async(_0x1d8eec,_0x238e16)=>{const _0x1514a4=a0_0x2ee2bb;try{const _0x53b20f=await product['find']({'product_category':_0x1514a4(0xf6)});_0x238e16[_0x1514a4(0xff)]({'count':_0x53b20f[_0x1514a4(0xd0)]});}catch(_0x120ee3){_0x238e16[_0x1514a4(0xff)](_0x120ee3);}}),module[a0_0x2ee2bb(0xf5)]=router;