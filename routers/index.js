const a0_0x8934bf=a0_0x3641;function a0_0x94b1(){const _0x40dd9c=['11608404QQTpWh','json','English','1573737rRkcAU','$date','get','$product.from_quantity','find','../models/all_models','6muygPU','$return_product.return_qty','flash','$return_sale.sale_qty','4LmHYvM','100wBJdve','Arabic\x20(ae)','../middleware/auth','45070kELPKm','$product','user','German','$product.quantity','$sale_product.quantity','779848ulHPws','../public/language/languages.json','4139358evjsWz','log','language','$from_warehouse','render','Hindi','13pYYeVF','Spanish','aggregate','Arabic','email','7645981zKeOSg','148gwREhs','French','length','$return_product','success','9QpITRQ','Portuguese','findOne','$total_amount','$total_price','Portuguese\x20(BR)','/raw_line','Chinese','258946PSwCwW','$return_sale'];a0_0x94b1=function(){return _0x40dd9c;};return a0_0x94b1();}(function(_0x17c265,_0x1a6839){const _0x28caf8=a0_0x3641,_0x2a1c3f=_0x17c265();while(!![]){try{const _0x5f36a3=-parseInt(_0x28caf8(0xdb))/0x1*(-parseInt(_0x28caf8(0xcc))/0x2)+parseInt(_0x28caf8(0xe7))/0x3+parseInt(_0x28caf8(0xf3))/0x4*(parseInt(_0x28caf8(0xdf))/0x5)+parseInt(_0x28caf8(0xd7))/0x6*(-parseInt(_0x28caf8(0xf2))/0x7)+parseInt(_0x28caf8(0xe5))/0x8*(parseInt(_0x28caf8(0xf8))/0x9)+parseInt(_0x28caf8(0xdc))/0xa*(-parseInt(_0x28caf8(0xd1))/0xb)+-parseInt(_0x28caf8(0xce))/0xc*(-parseInt(_0x28caf8(0xed))/0xd);if(_0x5f36a3===_0x1a6839)break;else _0x2a1c3f['push'](_0x2a1c3f['shift']());}catch(_0x4ad140){_0x2a1c3f['push'](_0x2a1c3f['shift']());}}}(a0_0x94b1,0xbcbe3));function a0_0x3641(_0x480528,_0x22c957){const _0x94b1db=a0_0x94b1();return a0_0x3641=function(_0x3641a9,_0x33f739){_0x3641a9=_0x3641a9-0xc5;let _0x1b5934=_0x94b1db[_0x3641a9];return _0x1b5934;},a0_0x3641(_0x480528,_0x22c957);}const express=require('express'),app=express(),router=express['Router'](),auth=require(a0_0x8934bf(0xde)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers}=require(a0_0x8934bf(0xd6)),users=require(a0_0x8934bf(0xe6));router[a0_0x8934bf(0xd3)]('/index',auth,async(_0x23bdab,_0x4b56be)=>{const _0x4d9013=a0_0x8934bf;try{const {username:_0x51ca72,email:_0x28a2f3,role:_0x141435}=_0x23bdab[_0x4d9013(0xe1)],_0x54a0d6=_0x23bdab[_0x4d9013(0xe1)],_0x54ae58=await profile[_0x4d9013(0xc6)]({'email':_0x54a0d6[_0x4d9013(0xf1)]}),_0x172b10=await master_shop[_0x4d9013(0xd5)](),_0x466da2=await sales[_0x4d9013(0xef)]([{'$group':{'_id':null,'total_price':{'$sum':_0x4d9013(0xc8)}}}]),_0x57ade3=await sales['aggregate']([{'$unwind':'$sale_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x4d9013(0xe4)}}}]),_0x418fc8=await sales_return['aggregate']([{'$group':{'_id':null,'total':{'$sum':_0x4d9013(0xc7)}}}]),_0x242f22=await sales_return[_0x4d9013(0xef)]([{'$unwind':_0x4d9013(0xcd)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x4d9013(0xda)}}}]),_0x8ec93f=await purchases[_0x4d9013(0xef)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x4d9013(0xc7)}}}]),_0x4c7b76=await purchases_return[_0x4d9013(0xef)]([{'$group':{'_id':null,'total':{'$sum':_0x4d9013(0xc7)}}}]),_0x11c7cb=await purchases_return['aggregate']([{'$unwind':_0x4d9013(0xf6)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x4d9013(0xd8)}}}]),_0x3171ac=await purchases[_0x4d9013(0xef)]([{'$unwind':_0x4d9013(0xe0)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x4d9013(0xe3)}}}]),_0x4aed8f=await purchases[_0x4d9013(0xef)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x4ac770=await sales[_0x4d9013(0xef)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x5d166d=await transfers['aggregate']([{'$unwind':'$product'},{'$group':{'_id':'$product.product_name','fromWarehouse':{'$first':_0x4d9013(0xea)},'toWareHouse':{'$first':'$to_warehouse'},'FromtotalQuantity':{'$sum':_0x4d9013(0xd4)},'TototalQuantity':{'$sum':'$product.to_quantity'}}}]),_0x55ea40=await categories['find'](),_0x2bbafc=await product['find'](),_0x73fe8a=await suppliers['find'](),_0x1736fc=await customer['find']();if(_0x172b10[0x0][_0x4d9013(0xe9)]=='English\x20(US)')var _0x2a39a2=users[_0x4d9013(0xd0)];else{if(_0x172b10[0x0][_0x4d9013(0xe9)]==_0x4d9013(0xec))var _0x2a39a2=users[_0x4d9013(0xec)];else{if(_0x172b10[0x0][_0x4d9013(0xe9)]==_0x4d9013(0xe2))var _0x2a39a2=users['German'];else{if(_0x172b10[0x0][_0x4d9013(0xe9)]==_0x4d9013(0xee))var _0x2a39a2=users['Spanish'];else{if(_0x172b10[0x0]['language']==_0x4d9013(0xf4))var _0x2a39a2=users[_0x4d9013(0xf4)];else{if(_0x172b10[0x0][_0x4d9013(0xe9)]==_0x4d9013(0xc9))var _0x2a39a2=users[_0x4d9013(0xc5)];else{if(_0x172b10[0x0][_0x4d9013(0xe9)]==_0x4d9013(0xcb))var _0x2a39a2=users[_0x4d9013(0xcb)];else{if(_0x172b10[0x0]['language']==_0x4d9013(0xdd))var _0x2a39a2=users[_0x4d9013(0xf0)];}}}}}}}_0x4b56be[_0x4d9013(0xeb)]('index',{'success':_0x23bdab[_0x4d9013(0xd9)](_0x4d9013(0xf7)),'errors':_0x23bdab['flash']('errors'),'role':_0x54a0d6,'profile':_0x54ae58,'sale':_0x466da2[0x0],'sales_return':_0x418fc8[0x0],'purchases':_0x8ec93f[0x0],'purchases_return':_0x4c7b76[0x0],'purchases_table':_0x4aed8f,'sales_table':_0x4ac770,'categories':_0x55ea40[_0x4d9013(0xf5)],'product':_0x2bbafc['length'],'suppliers':_0x73fe8a[_0x4d9013(0xf5)],'customer':_0x1736fc['length'],'master_shop':_0x172b10,'language':_0x2a39a2,'sale_QTY':_0x57ade3[0x0],'purchases_QTY':_0x3171ac[0x0],'sales_return_QTY':_0x242f22[0x0],'purchases_return_QTY':_0x11c7cb[0x0],'transfer_table':_0x5d166d});}catch(_0x3354b3){console[_0x4d9013(0xe8)](_0x3354b3);}}),router[a0_0x8934bf(0xd3)](a0_0x8934bf(0xca),auth,async(_0x4ccc49,_0x541c23)=>{const _0x4f0773=a0_0x8934bf;try{const _0x321e0b=await purchases['aggregate']([{'$unwind':_0x4f0773(0xe0)},{'$group':{'_id':_0x4f0773(0xd2),'totalQuantity':{'$sum':_0x4f0773(0xe3)},'date':{'$first':_0x4f0773(0xd2)}}}]);_0x541c23[_0x4f0773(0xcf)](_0x321e0b);}catch(_0x54ff68){_0x541c23[_0x4f0773(0xcf)](_0x54ff68);}}),module['exports']=router;