const a0_0x41960e=a0_0x17e5;function a0_0xb006(){const _0xee38c5=['role_data','1072840pNcAiI','72444hpwiMq','success','$return_product','length','Hindi','$return_sale','errors','Router','Arabic','../models/all_models','user','render','$product.quantity','exports','../middleware/auth','$to_warehouse','../public/language/languages.json','/index','French','Spanish','2829204WmKMQO','flash','$return_sale.sale_qty','Portuguese\x20(BR)','Arabic\x20(ae)','$total_price','find','English\x20(US)','2778NjWwYP','get','21ZQlxCa','16577352vOenRh','aggregate','$total_amount','2407426RkOKmZ','email','3205nEqtKA','profile_data','$return_product.return_qty','log','$from_warehouse','$product.product_name','index','9266584xlRnLD','Chinese','English','$product.to_quantity','German','language','Portuguese'];a0_0xb006=function(){return _0xee38c5;};return a0_0xb006();}(function(_0x3494be,_0xbce381){const _0x4dfb2b=a0_0x17e5,_0x224b2a=_0x3494be();while(!![]){try{const _0x21f73d=-parseInt(_0x4dfb2b(0x15b))/0x1*(-parseInt(_0x4dfb2b(0x13d))/0x2)+parseInt(_0x4dfb2b(0x151))/0x3+-parseInt(_0x4dfb2b(0x13c))/0x4+parseInt(_0x4dfb2b(0x161))/0x5*(-parseInt(_0x4dfb2b(0x159))/0x6)+parseInt(_0x4dfb2b(0x15f))/0x7+parseInt(_0x4dfb2b(0x168))/0x8+-parseInt(_0x4dfb2b(0x15c))/0x9;if(_0x21f73d===_0xbce381)break;else _0x224b2a['push'](_0x224b2a['shift']());}catch(_0x330708){_0x224b2a['push'](_0x224b2a['shift']());}}}(a0_0xb006,0xc314a));function a0_0x17e5(_0x2f507c,_0x4a9e89){const _0xb0066=a0_0xb006();return a0_0x17e5=function(_0x17e57e,_0x5a2816){_0x17e57e=_0x17e57e-0x13a;let _0x58875e=_0xb0066[_0x17e57e];return _0x58875e;},a0_0x17e5(_0x2f507c,_0x4a9e89);}const express=require('express'),app=express(),router=express[a0_0x41960e(0x144)](),auth=require(a0_0x41960e(0x14b)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers}=require(a0_0x41960e(0x146)),users=require(a0_0x41960e(0x14d));router[a0_0x41960e(0x15a)](a0_0x41960e(0x14e),auth,async(_0x591833,_0x1b25ab)=>{const _0x350164=a0_0x41960e;try{const {username:_0x4a1697,email:_0x3f2936,role:_0x67f1c0}=_0x591833[_0x350164(0x147)],_0x4110d2=_0x591833[_0x350164(0x147)];console[_0x350164(0x164)](_0x350164(0x13b),_0x4110d2);const _0xe2b13e=await profile['findOne']({'email':_0x4110d2[_0x350164(0x160)]});console[_0x350164(0x164)](_0x350164(0x162),_0xe2b13e);const _0x45c719=await master_shop[_0x350164(0x157)]();console[_0x350164(0x164)]('master',_0x45c719);const _0x516a49=await sales['aggregate']([{'$group':{'_id':null,'total_price':{'$sum':_0x350164(0x156)}}}]),_0x115c63=await sales[_0x350164(0x15d)]([{'$unwind':'$sale_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':'$sale_product.quantity'}}}]),_0x2112d2=await sales_return[_0x350164(0x15d)]([{'$group':{'_id':null,'total':{'$sum':_0x350164(0x15e)}}}]),_0x1a3d1d=await sales_return[_0x350164(0x15d)]([{'$unwind':_0x350164(0x142)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x350164(0x153)}}}]),_0x512c05=await purchases['aggregate']([{'$group':{'_id':null,'total_amount':{'$sum':_0x350164(0x15e)}}}]),_0x4d18a5=await purchases_return[_0x350164(0x15d)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x5c1fcc=await purchases_return[_0x350164(0x15d)]([{'$unwind':_0x350164(0x13f)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x350164(0x163)}}}]),_0x38c9bc=await purchases[_0x350164(0x15d)]([{'$unwind':'$product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x350164(0x149)}}}]),_0x357032=await purchases[_0x350164(0x15d)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x1b3c28=await sales['aggregate']([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x498354=await transfers[_0x350164(0x15d)]([{'$unwind':'$product'},{'$group':{'_id':_0x350164(0x166),'fromWarehouse':{'$first':_0x350164(0x165)},'toWareHouse':{'$first':_0x350164(0x14c)},'FromtotalQuantity':{'$sum':'$product.from_quantity'},'TototalQuantity':{'$sum':_0x350164(0x16b)}}}]),_0xcc77c0=await categories['find'](),_0x389cac=await product[_0x350164(0x157)](),_0xa1655b=await suppliers['find'](),_0x46c88b=await customer[_0x350164(0x157)]();console[_0x350164(0x164)](_0x46c88b[_0x350164(0x140)]);if(_0x45c719[0x0][_0x350164(0x16d)]==_0x350164(0x158)){var _0x39962b=users[_0x350164(0x16a)];console['log'](_0x39962b);}else{if(_0x45c719[0x0][_0x350164(0x16d)]==_0x350164(0x141))var _0x39962b=users[_0x350164(0x141)];else{if(_0x45c719[0x0][_0x350164(0x16d)]==_0x350164(0x16c))var _0x39962b=users[_0x350164(0x16c)];else{if(_0x45c719[0x0]['language']==_0x350164(0x150))var _0x39962b=users['Spanish'];else{if(_0x45c719[0x0][_0x350164(0x16d)]==_0x350164(0x14f))var _0x39962b=users[_0x350164(0x14f)];else{if(_0x45c719[0x0][_0x350164(0x16d)]==_0x350164(0x154))var _0x39962b=users[_0x350164(0x13a)];else{if(_0x45c719[0x0][_0x350164(0x16d)]=='Chinese')var _0x39962b=users[_0x350164(0x169)];else{if(_0x45c719[0x0][_0x350164(0x16d)]==_0x350164(0x155))var _0x39962b=users[_0x350164(0x145)];}}}}}}}_0x1b25ab[_0x350164(0x148)](_0x350164(0x167),{'success':_0x591833[_0x350164(0x152)](_0x350164(0x13e)),'errors':_0x591833[_0x350164(0x152)](_0x350164(0x143)),'role':_0x4110d2,'profile':_0xe2b13e,'sale':_0x516a49[0x0],'sales_return':_0x2112d2[0x0],'purchases':_0x512c05[0x0],'purchases_return':_0x4d18a5[0x0],'purchases_table':_0x357032,'sales_table':_0x1b3c28,'categories':_0xcc77c0['length'],'product':_0x389cac[_0x350164(0x140)],'suppliers':_0xa1655b[_0x350164(0x140)],'customer':_0x46c88b['length'],'master_shop':_0x45c719,'language':_0x39962b,'sale_QTY':_0x115c63[0x0],'purchases_QTY':_0x38c9bc[0x0],'sales_return_QTY':_0x1a3d1d[0x0],'purchases_return_QTY':_0x5c1fcc[0x0],'transfer_table':_0x498354});}catch(_0x206b0d){console[_0x350164(0x164)](_0x206b0d);}}),module[a0_0x41960e(0x14a)]=router;