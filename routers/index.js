const a0_0x3abda8=a0_0xe850;(function(_0x598441,_0x425566){const _0x51cce8=a0_0xe850,_0x444079=_0x598441();while(!![]){try{const _0x92aacf=-parseInt(_0x51cce8(0x8a))/0x1+parseInt(_0x51cce8(0x9e))/0x2+parseInt(_0x51cce8(0xa1))/0x3+-parseInt(_0x51cce8(0xba))/0x4*(-parseInt(_0x51cce8(0x82))/0x5)+parseInt(_0x51cce8(0x9b))/0x6*(-parseInt(_0x51cce8(0x8b))/0x7)+parseInt(_0x51cce8(0x98))/0x8+-parseInt(_0x51cce8(0xb3))/0x9;if(_0x92aacf===_0x425566)break;else _0x444079['push'](_0x444079['shift']());}catch(_0x356bf5){_0x444079['push'](_0x444079['shift']());}}}(a0_0x2a29,0x6123e));function a0_0x2a29(){const _0x17269f=['338272DXBSEJ','$sale_product.extenders_spmx_qty','/spmx_line','369306xgREZw','$product.quantity','Hindi','warehouse_category','/raw_line','Raw\x20Materials','flash','$product','$product.spicemix_spmx','$date','../public/language/languages.json','Arabic','$product.curing_spmx','$product.curing_spmx_qty','$product.extenders_spmx','$sale_product','/fg_adj_line','French','2979567EJvOpa','Finished\x20Goods','Portuguese','Portuguese\x20(BR)','findOne','/fg_trf_line','json','9148NJMizG','Spanish','/rm_chart','English\x20(US)','find','$product.to_quantity','/raw_trf_line','$sale_product.curing_spmx_qty','get','$sale_product.quantity','290rORELM','True','$product.extenders_spmx_qty','$sale_product.extenders_spmx','log','length','exports','language','91601QCvEKy','1057tzFZEL','$product.spicemix_spmx_qty','/fg_line','/fg_out_line','$product.adjust_qty','render','errors','aggregate','../middleware/auth','user','Router','$sale_product.spicemix_spmx','email','3794696gzjzRe','Arabic\x20(ae)','success','3126ODHYyW','../models/all_models','SPMX'];a0_0x2a29=function(){return _0x17269f;};return a0_0x2a29();}const express=require('express'),app=express(),router=express[a0_0x3abda8(0x95)](),auth=require(a0_0x3abda8(0x93)),{profile,sales,purchases_spmx,sales_spmx,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require(a0_0x3abda8(0x9c)),users=require(a0_0x3abda8(0xab));function a0_0xe850(_0x4181bb,_0x4a1d72){const _0x2a2970=a0_0x2a29();return a0_0xe850=function(_0xe85025,_0x2ba893){_0xe85025=_0xe85025-0x7a;let _0x5d8182=_0x2a2970[_0xe85025];return _0x5d8182;},a0_0xe850(_0x4181bb,_0x4a1d72);}router[a0_0x3abda8(0x80)]('/index',auth,async(_0xb7a3e1,_0x593114)=>{const _0x58340f=a0_0x3abda8;try{const {username:_0x66f393,email:_0x19a952,role:_0x607593}=_0xb7a3e1[_0x58340f(0x94)],_0x3654c5=_0xb7a3e1[_0x58340f(0x94)];var _0x40fb14;if(_0x3654c5[_0x58340f(0xa4)]==_0x58340f(0xa6)){const _0x5d1ac0=await product[_0x58340f(0x7c)]({'product_category':_0x58340f(0xa6)});_0x40fb14=_0x5d1ac0[_0x58340f(0x87)];}else{if(_0x3654c5[_0x58340f(0xa4)]==_0x58340f(0xb4)){const _0x2051d8=await product[_0x58340f(0x7c)]({'product_category':_0x58340f(0xb4)});_0x40fb14=_0x2051d8[_0x58340f(0x87)];}else{if(_0x3654c5['warehouse_category']==_0x58340f(0x9d)){const _0x49af87=await product['find']({'product_category':'SPMX'});_0x40fb14=_0x49af87[_0x58340f(0x87)];}else{const _0x1e52dc=await product[_0x58340f(0x7c)]();_0x40fb14=_0x1e52dc[_0x58340f(0x87)];}}}const _0x395582=await profile[_0x58340f(0xb7)]({'email':_0x3654c5[_0x58340f(0x97)]}),_0x726305=await master_shop[_0x58340f(0x7c)]();if(_0x726305[0x0][_0x58340f(0x89)]==_0x58340f(0x7b))var _0x3b8d95=users['English'];else{if(_0x726305[0x0][_0x58340f(0x89)]=='Hindi')var _0x3b8d95=users[_0x58340f(0xa3)];else{if(_0x726305[0x0][_0x58340f(0x89)]=='German')var _0x3b8d95=users['German'];else{if(_0x726305[0x0][_0x58340f(0x89)]==_0x58340f(0xbb))var _0x3b8d95=users[_0x58340f(0xbb)];else{if(_0x726305[0x0]['language']==_0x58340f(0xb2))var _0x3b8d95=users[_0x58340f(0xb2)];else{if(_0x726305[0x0][_0x58340f(0x89)]==_0x58340f(0xb6))var _0x3b8d95=users[_0x58340f(0xb5)];else{if(_0x726305[0x0][_0x58340f(0x89)]=='Chinese')var _0x3b8d95=users['Chinese'];else{if(_0x726305[0x0][_0x58340f(0x89)]==_0x58340f(0x99))var _0x3b8d95=users[_0x58340f(0xac)];}}}}}}}_0x593114[_0x58340f(0x90)]('index',{'success':_0xb7a3e1[_0x58340f(0xa7)](_0x58340f(0x9a)),'errors':_0xb7a3e1[_0x58340f(0xa7)](_0x58340f(0x91)),'role':_0x3654c5,'profile':_0x395582,'master_shop':_0x726305,'language':_0x3b8d95});}catch(_0x1f855e){console[_0x58340f(0x86)](_0x1f855e);}}),router[a0_0x3abda8(0x80)](a0_0x3abda8(0xa5),auth,async(_0x3c81af,_0x1734bb)=>{const _0x19d992=a0_0x3abda8;try{const _0x55493e=await purchases[_0x19d992(0x92)]([{'$unwind':_0x19d992(0xa8)},{'$group':{'_id':_0x19d992(0xaa),'totalQuantity':{'$sum':_0x19d992(0xa2)},'date':{'$first':_0x19d992(0xaa)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x1734bb[_0x19d992(0xb9)](_0x55493e);}catch(_0x56b689){_0x1734bb['json'](_0x56b689);}}),router[a0_0x3abda8(0x80)]('/raw_out_line',auth,async(_0x5b98d9,_0x17c7af)=>{const _0x5d2210=a0_0x3abda8;try{const _0x54de24=await sales['aggregate']([{'$match':{'finalize':_0x5d2210(0x83)}},{'$unwind':_0x5d2210(0xb0)},{'$group':{'_id':_0x5d2210(0xaa),'totalQuantity':{'$sum':_0x5d2210(0x81)},'date':{'$first':'$date'}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x17c7af[_0x5d2210(0xb9)](_0x54de24);}catch(_0x1d1612){_0x17c7af[_0x5d2210(0xb9)](_0x1d1612);}}),router['get']('/raw_adj_line',auth,async(_0x3ffb5d,_0x4677c)=>{const _0x4f95cb=a0_0x3abda8;try{const _0x507c8b=await adjustment[_0x4f95cb(0x92)]([{'$match':{'finalize':_0x4f95cb(0x83)}},{'$unwind':_0x4f95cb(0xa8)},{'$group':{'_id':_0x4f95cb(0xaa),'totalQuantity':{'$sum':_0x4f95cb(0x8f)},'date':{'$first':_0x4f95cb(0xaa)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x4677c['json'](_0x507c8b);}catch(_0x354aa5){_0x4677c[_0x4f95cb(0xb9)](_0x354aa5);}}),router[a0_0x3abda8(0x80)](a0_0x3abda8(0x7e),auth,async(_0x249e67,_0x22439c)=>{const _0x5903dc=a0_0x3abda8;try{const _0x5ea4c3=await transfers[_0x5903dc(0x92)]([{'$match':{'finalize':_0x5903dc(0x83)}},{'$unwind':_0x5903dc(0xa8)},{'$group':{'_id':_0x5903dc(0xaa),'totalQuantity':{'$sum':_0x5903dc(0x7d)},'date':{'$first':_0x5903dc(0xaa)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x22439c[_0x5903dc(0xb9)](_0x5ea4c3);}catch(_0x459e5d){_0x22439c['json'](_0x459e5d);}}),router[a0_0x3abda8(0x80)](a0_0x3abda8(0x8d),auth,async(_0x2e9d87,_0x4eb203)=>{const _0x4bb3fb=a0_0x3abda8;try{const _0x1adbe7=await purchases_finished['aggregate']([{'$unwind':'$product'},{'$group':{'_id':_0x4bb3fb(0xaa),'totalQuantity':{'$sum':_0x4bb3fb(0xa2)},'date':{'$first':'$date'}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x4eb203[_0x4bb3fb(0xb9)](_0x1adbe7);}catch(_0x52828f){_0x4eb203[_0x4bb3fb(0xb9)](_0x52828f);}}),router[a0_0x3abda8(0x80)](a0_0x3abda8(0x8e),auth,async(_0x449701,_0x128c7d)=>{const _0x1303c0=a0_0x3abda8;try{const _0x5506c0=await sales_finished[_0x1303c0(0x92)]([{'$match':{'finalize':'True'}},{'$unwind':_0x1303c0(0xb0)},{'$group':{'_id':_0x1303c0(0xaa),'totalQuantity':{'$sum':_0x1303c0(0x81)},'date':{'$first':_0x1303c0(0xaa)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x128c7d['json'](_0x5506c0);}catch(_0x2378a7){_0x128c7d[_0x1303c0(0xb9)](_0x2378a7);}}),router[a0_0x3abda8(0x80)](a0_0x3abda8(0xb1),auth,async(_0x73e9bb,_0x4e8faa)=>{const _0x4230bc=a0_0x3abda8;try{const _0x4d9646=await adjustment_finished[_0x4230bc(0x92)]([{'$match':{'finalize':'True'}},{'$unwind':_0x4230bc(0xa8)},{'$group':{'_id':_0x4230bc(0xaa),'totalQuantity':{'$sum':_0x4230bc(0x8f)},'date':{'$first':_0x4230bc(0xaa)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x4e8faa[_0x4230bc(0xb9)](_0x4d9646);}catch(_0x4487d3){_0x4e8faa[_0x4230bc(0xb9)](_0x4487d3);}}),router[a0_0x3abda8(0x80)](a0_0x3abda8(0xb8),auth,async(_0x192aaf,_0x59061a)=>{const _0xba7d0b=a0_0x3abda8;try{const _0x467439=await transfers_finished[_0xba7d0b(0x92)]([{'$match':{'finalize':_0xba7d0b(0x83)}},{'$unwind':_0xba7d0b(0xa8)},{'$group':{'_id':_0xba7d0b(0xaa),'totalQuantity':{'$sum':_0xba7d0b(0x7d)},'date':{'$first':_0xba7d0b(0xaa)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x59061a[_0xba7d0b(0xb9)](_0x467439);}catch(_0x42b27a){_0x59061a[_0xba7d0b(0xb9)](_0x42b27a);}}),router[a0_0x3abda8(0x80)](a0_0x3abda8(0x7a),auth,async(_0x3de64d,_0xa44161)=>{const _0x3cfb79=a0_0x3abda8;try{const _0x2d16dd=await purchases['aggregate']([{'$unwind':_0x3cfb79(0xa8)},{'$group':{'_id':_0x3cfb79(0xaa),'totalQuantity':{'$sum':_0x3cfb79(0xa2)},'date':{'$first':_0x3cfb79(0xaa)}}},{'$sort':{'date':0x1}}]),_0x3ab2b6=await sales['aggregate']([{'$match':{'finalize':_0x3cfb79(0x83)}},{'$unwind':_0x3cfb79(0xb0)},{'$group':{'_id':_0x3cfb79(0xaa),'totalQuantity':{'$sum':'$sale_product.quantity'},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]),_0x562052=await adjustment['aggregate']([{'$match':{'finalize':_0x3cfb79(0x83)}},{'$unwind':_0x3cfb79(0xa8)},{'$group':{'_id':_0x3cfb79(0xaa),'totalQuantity':{'$sum':_0x3cfb79(0x8f)},'date':{'$first':_0x3cfb79(0xaa)}}},{'$sort':{'date':0x1}}]),_0x3df086=await transfers['aggregate']([{'$match':{'finalize':_0x3cfb79(0x83)}},{'$unwind':_0x3cfb79(0xa8)},{'$group':{'_id':_0x3cfb79(0xaa),'totalQuantity':{'$sum':_0x3cfb79(0x7d)},'date':{'$first':_0x3cfb79(0xaa)}}},{'$sort':{'date':0x1}}]);_0xa44161[_0x3cfb79(0xb9)]({'purchases':_0x2d16dd,'sales':_0x3ab2b6,'adjustment':_0x562052,'transfer':_0x3df086});}catch(_0x42a4b3){_0xa44161[_0x3cfb79(0xb9)](_0x42a4b3);}}),router[a0_0x3abda8(0x80)]('/fg_chart',auth,async(_0x5bc5df,_0x22d187)=>{const _0x2d5e07=a0_0x3abda8;try{const _0x3bf782=await product[_0x2d5e07(0x7c)]({'product_category':_0x2d5e07(0xb4)});_0x22d187[_0x2d5e07(0xb9)]({'count':_0x3bf782['length']});}catch(_0x5c1a56){_0x22d187[_0x2d5e07(0xb9)](_0x5c1a56);}}),router['get'](a0_0x3abda8(0xa0),auth,async(_0x529f33,_0x1b9242)=>{const _0x15d487=a0_0x3abda8;try{const _0x502ea8=await purchases_spmx['aggregate']([{'$unwind':_0x15d487(0xa8)},{'$group':{'_id':_0x15d487(0xaa),'spicemix_spmx_qty':{'$sum':_0x15d487(0x8c)},'extenders_spmx_qty':{'$sum':_0x15d487(0x84)},'curing_spmx_qty':{'$sum':_0x15d487(0xae)},'spicemix_spmx':{'$first':_0x15d487(0xa9)},'extenders_spmx':{'$first':_0x15d487(0xaf)},'curing_spmx':{'$first':_0x15d487(0xad)},'date':{'$first':_0x15d487(0xaa)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x1b9242['json'](_0x502ea8);}catch(_0x4a993a){_0x1b9242[_0x15d487(0xb9)](_0x4a993a);}}),router[a0_0x3abda8(0x80)]('/spmx_out_line',auth,async(_0x57286f,_0x2fa813)=>{const _0x345eed=a0_0x3abda8;try{const _0xd05191=await sales_spmx[_0x345eed(0x92)]([{'$unwind':_0x345eed(0xb0)},{'$group':{'_id':_0x345eed(0xaa),'spicemix_spmx_qty':{'$sum':'$sale_product.spicemix_spmx_qty'},'extenders_spmx_qty':{'$sum':_0x345eed(0x9f)},'curing_spmx_qty':{'$sum':_0x345eed(0x7f)},'spicemix_spmx':{'$first':_0x345eed(0x96)},'extenders_spmx':{'$first':_0x345eed(0x85)},'curing_spmx':{'$first':'$sale_product.curing_spmx'},'date':{'$first':_0x345eed(0xaa)}}},{'$sort':{'date':-0x1}},{'$limit':0x14},{'$sort':{'date':0x1}}]);_0x2fa813[_0x345eed(0xb9)](_0xd05191);}catch(_0x171bfe){_0x2fa813[_0x345eed(0xb9)](_0x171bfe);}}),module[a0_0x3abda8(0x88)]=router;