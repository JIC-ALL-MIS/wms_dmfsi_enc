const a0_0x5cdb18=a0_0x3521;function a0_0x9978(){const _0x238cc6=['Portuguese','$product','user','1415519cEBdfj','$to_warehouse','2pHISvr','$product.from_quantity','flash','master','Chinese','$total_price','../middleware/auth','$from_warehouse','/index','render','$return_product.return_qty','$product.to_quantity','8LGssvU','135431GNMGRE','success','Arabic\x20(ae)','Hindi','findOne','French','length','Portuguese\x20(BR)','aggregate','118630ICpCCL','language','German','errors','$return_sale.sale_qty','3018198oxxxAu','email','Router','Spanish','549auLoAR','exports','$product.product_name','English','find','$sale_product','798804wERIQn','$product.quantity','$return_product','6288864MsmJgL','1652140CQIxJx','index','log'];a0_0x9978=function(){return _0x238cc6;};return a0_0x9978();}(function(_0x85f9e8,_0x59ab12){const _0x56771c=a0_0x3521,_0x34d538=_0x85f9e8();while(!![]){try{const _0x4300a0=parseInt(_0x56771c(0x1f0))/0x1*(parseInt(_0x56771c(0x214))/0x2)+parseInt(_0x56771c(0x208))/0x3*(-parseInt(_0x56771c(0x1ef))/0x4)+-parseInt(_0x56771c(0x20c))/0x5+-parseInt(_0x56771c(0x1fe))/0x6+parseInt(_0x56771c(0x212))/0x7+parseInt(_0x56771c(0x20b))/0x8+-parseInt(_0x56771c(0x202))/0x9*(-parseInt(_0x56771c(0x1f9))/0xa);if(_0x4300a0===_0x59ab12)break;else _0x34d538['push'](_0x34d538['shift']());}catch(_0x4bcfdc){_0x34d538['push'](_0x34d538['shift']());}}}(a0_0x9978,0x7587a));const express=require('express'),app=express(),router=express[a0_0x5cdb18(0x200)](),auth=require(a0_0x5cdb18(0x21a)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers}=require('../models/all_models'),users=require('../public/language/languages.json');function a0_0x3521(_0x35fcef,_0x44432b){const _0x997872=a0_0x9978();return a0_0x3521=function(_0x3521bf,_0x360be2){_0x3521bf=_0x3521bf-0x1eb;let _0x19f5f7=_0x997872[_0x3521bf];return _0x19f5f7;},a0_0x3521(_0x35fcef,_0x44432b);}router['get'](a0_0x5cdb18(0x1eb),auth,async(_0x5f03ac,_0x4dc4c0)=>{const _0x4a4c83=a0_0x5cdb18;try{const {username:_0x5199cc,email:_0xd2f5b9,role:_0xa066fa}=_0x5f03ac[_0x4a4c83(0x211)],_0x112871=_0x5f03ac[_0x4a4c83(0x211)];console[_0x4a4c83(0x20e)]('role_data',_0x112871);const _0x34f512=await profile[_0x4a4c83(0x1f4)]({'email':_0x112871[_0x4a4c83(0x1ff)]});console[_0x4a4c83(0x20e)]('profile_data',_0x34f512);const _0x507b6e=await master_shop[_0x4a4c83(0x206)]();console[_0x4a4c83(0x20e)](_0x4a4c83(0x217),_0x507b6e);const _0x5e3ae3=await sales['aggregate']([{'$group':{'_id':null,'total_price':{'$sum':_0x4a4c83(0x219)}}}]),_0x28ad6c=await sales[_0x4a4c83(0x1f8)]([{'$unwind':_0x4a4c83(0x207)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$sale_product.quantity'}}}]),_0xfc7f76=await sales_return[_0x4a4c83(0x1f8)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0xab0978=await sales_return[_0x4a4c83(0x1f8)]([{'$unwind':'$return_sale'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x4a4c83(0x1fd)}}}]),_0x3ae0f1=await purchases[_0x4a4c83(0x1f8)]([{'$group':{'_id':null,'total_amount':{'$sum':'$total_amount'}}}]),_0x1743e3=await purchases_return[_0x4a4c83(0x1f8)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x12bba1=await purchases_return[_0x4a4c83(0x1f8)]([{'$unwind':_0x4a4c83(0x20a)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x4a4c83(0x1ed)}}}]),_0xeb2852=await purchases[_0x4a4c83(0x1f8)]([{'$unwind':_0x4a4c83(0x210)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x4a4c83(0x209)}}}]),_0x1e65a9=await purchases[_0x4a4c83(0x1f8)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x5f541f=await sales[_0x4a4c83(0x1f8)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x2f003d=await transfers['aggregate']([{'$unwind':'$product'},{'$group':{'_id':_0x4a4c83(0x204),'fromWarehouse':{'$first':_0x4a4c83(0x21b)},'toWareHouse':{'$first':_0x4a4c83(0x213)},'FromtotalQuantity':{'$sum':_0x4a4c83(0x215)},'TototalQuantity':{'$sum':_0x4a4c83(0x1ee)}}}]),_0xca9e86=await categories[_0x4a4c83(0x206)](),_0xacc772=await product[_0x4a4c83(0x206)](),_0x4d9f53=await suppliers[_0x4a4c83(0x206)](),_0x389df7=await customer[_0x4a4c83(0x206)]();console[_0x4a4c83(0x20e)](_0x389df7[_0x4a4c83(0x1f6)]);if(_0x507b6e[0x0][_0x4a4c83(0x1fa)]=='English\x20(US)'){var _0x8789c=users[_0x4a4c83(0x205)];console[_0x4a4c83(0x20e)](_0x8789c);}else{if(_0x507b6e[0x0][_0x4a4c83(0x1fa)]=='Hindi')var _0x8789c=users[_0x4a4c83(0x1f3)];else{if(_0x507b6e[0x0][_0x4a4c83(0x1fa)]=='German')var _0x8789c=users[_0x4a4c83(0x1fb)];else{if(_0x507b6e[0x0][_0x4a4c83(0x1fa)]==_0x4a4c83(0x201))var _0x8789c=users[_0x4a4c83(0x201)];else{if(_0x507b6e[0x0][_0x4a4c83(0x1fa)]=='French')var _0x8789c=users[_0x4a4c83(0x1f5)];else{if(_0x507b6e[0x0][_0x4a4c83(0x1fa)]==_0x4a4c83(0x1f7))var _0x8789c=users[_0x4a4c83(0x20f)];else{if(_0x507b6e[0x0][_0x4a4c83(0x1fa)]==_0x4a4c83(0x218))var _0x8789c=users[_0x4a4c83(0x218)];else{if(_0x507b6e[0x0][_0x4a4c83(0x1fa)]==_0x4a4c83(0x1f2))var _0x8789c=users['Arabic'];}}}}}}}_0x4dc4c0[_0x4a4c83(0x1ec)](_0x4a4c83(0x20d),{'success':_0x5f03ac[_0x4a4c83(0x216)](_0x4a4c83(0x1f1)),'errors':_0x5f03ac['flash'](_0x4a4c83(0x1fc)),'role':_0x112871,'profile':_0x34f512,'sale':_0x5e3ae3[0x0],'sales_return':_0xfc7f76[0x0],'purchases':_0x3ae0f1[0x0],'purchases_return':_0x1743e3[0x0],'purchases_table':_0x1e65a9,'sales_table':_0x5f541f,'categories':_0xca9e86[_0x4a4c83(0x1f6)],'product':_0xacc772[_0x4a4c83(0x1f6)],'suppliers':_0x4d9f53[_0x4a4c83(0x1f6)],'customer':_0x389df7[_0x4a4c83(0x1f6)],'master_shop':_0x507b6e,'language':_0x8789c,'sale_QTY':_0x28ad6c[0x0],'purchases_QTY':_0xeb2852[0x0],'sales_return_QTY':_0xab0978[0x0],'purchases_return_QTY':_0x12bba1[0x0],'transfer_table':_0x2f003d});}catch(_0x44666d){console[_0x4a4c83(0x20e)](_0x44666d);}}),module[a0_0x5cdb18(0x203)]=router;