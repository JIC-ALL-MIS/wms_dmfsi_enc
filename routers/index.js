const a0_0x42e1dc=a0_0x1984;function a0_0x1984(_0x3eab3e,_0x1052f5){const _0x36570d=a0_0x3657();return a0_0x1984=function(_0x198465,_0x4d5d9b){_0x198465=_0x198465-0x19e;let _0x451be3=_0x36570d[_0x198465];return _0x451be3;},a0_0x1984(_0x3eab3e,_0x1052f5);}function a0_0x3657(){const _0x5d2984=['French','3047820QFUJnF','user','flash','get','errors','Hindi','$return_sale','Portuguese\x20(BR)','log','$from_warehouse','$product.product_name','success','$to_warehouse','12358976fVTGiL','index','8746998gROOtV','Chinese','Spanish','../middleware/auth','role_data','length','aggregate','/index','$return_sale.sale_qty','36DZviYo','Arabic\x20(ae)','render','English\x20(US)','$product.to_quantity','find','language','exports','678968OvUvYq','1nTakWS','email','4BGYhDk','7871430wAnkEX','$total_price','German','Arabic','Portuguese','profile_data','2534982USofhv','$total_amount','English','../public/language/languages.json','3145568oNkjZb','$product'];a0_0x3657=function(){return _0x5d2984;};return a0_0x3657();}(function(_0x2732e0,_0x515bf7){const _0xe8f78e=a0_0x1984,_0x34e2ee=_0x2732e0();while(!![]){try{const _0x173d4e=parseInt(_0xe8f78e(0x19e))/0x1*(parseInt(_0xe8f78e(0x1ce))/0x2)+parseInt(_0xe8f78e(0x1a7))/0x3*(parseInt(_0xe8f78e(0x1a0))/0x4)+-parseInt(_0xe8f78e(0x1ae))/0x5+-parseInt(_0xe8f78e(0x1bd))/0x6+-parseInt(_0xe8f78e(0x1bb))/0x7+parseInt(_0xe8f78e(0x1ab))/0x8+parseInt(_0xe8f78e(0x1c6))/0x9*(parseInt(_0xe8f78e(0x1a1))/0xa);if(_0x173d4e===_0x515bf7)break;else _0x34e2ee['push'](_0x34e2ee['shift']());}catch(_0x54846b){_0x34e2ee['push'](_0x34e2ee['shift']());}}}(a0_0x3657,0xda161));const express=require('express'),app=express(),router=express['Router'](),auth=require(a0_0x42e1dc(0x1c0)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers}=require('../models/all_models'),users=require(a0_0x42e1dc(0x1aa));router[a0_0x42e1dc(0x1b1)](a0_0x42e1dc(0x1c4),auth,async(_0x453468,_0x5ab915)=>{const _0x16c65c=a0_0x42e1dc;try{const {username:_0x3fb201,email:_0x18eb6b,role:_0x3b3369}=_0x453468[_0x16c65c(0x1af)],_0x4df004=_0x453468[_0x16c65c(0x1af)];console[_0x16c65c(0x1b6)](_0x16c65c(0x1c1),_0x4df004);const _0x9a4792=await profile['findOne']({'email':_0x4df004[_0x16c65c(0x19f)]});console[_0x16c65c(0x1b6)](_0x16c65c(0x1a6),_0x9a4792);const _0x43f891=await master_shop[_0x16c65c(0x1cb)]();console[_0x16c65c(0x1b6)]('master',_0x43f891);const _0x4a0c3b=await sales['aggregate']([{'$group':{'_id':null,'total_price':{'$sum':_0x16c65c(0x1a2)}}}]),_0x492b2f=await sales['aggregate']([{'$unwind':'$sale_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':'$sale_product.quantity'}}}]),_0x53c567=await sales_return[_0x16c65c(0x1c3)]([{'$group':{'_id':null,'total':{'$sum':_0x16c65c(0x1a8)}}}]),_0x341cfd=await sales_return['aggregate']([{'$unwind':_0x16c65c(0x1b4)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0x16c65c(0x1c5)}}}]),_0x72df0a=await purchases[_0x16c65c(0x1c3)]([{'$group':{'_id':null,'total_amount':{'$sum':_0x16c65c(0x1a8)}}}]),_0x55b373=await purchases_return['aggregate']([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x58e0ad=await purchases_return['aggregate']([{'$unwind':'$return_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':'$return_product.return_qty'}}}]),_0x33b1a6=await purchases[_0x16c65c(0x1c3)]([{'$unwind':_0x16c65c(0x1ac)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$product.quantity'}}}]),_0x2f210a=await purchases[_0x16c65c(0x1c3)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x4da93c=await sales[_0x16c65c(0x1c3)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x6dad7d=await transfers[_0x16c65c(0x1c3)]([{'$unwind':_0x16c65c(0x1ac)},{'$group':{'_id':_0x16c65c(0x1b8),'fromWarehouse':{'$first':_0x16c65c(0x1b7)},'toWareHouse':{'$first':_0x16c65c(0x1ba)},'FromtotalQuantity':{'$sum':'$product.from_quantity'},'TototalQuantity':{'$sum':_0x16c65c(0x1ca)}}}]),_0x20b342=await categories[_0x16c65c(0x1cb)](),_0x4cd938=await product[_0x16c65c(0x1cb)](),_0x150a33=await suppliers[_0x16c65c(0x1cb)](),_0xa7d629=await customer['find']();console[_0x16c65c(0x1b6)](_0xa7d629[_0x16c65c(0x1c2)]);if(_0x43f891[0x0][_0x16c65c(0x1cc)]==_0x16c65c(0x1c9)){var _0x232bdb=users[_0x16c65c(0x1a9)];console[_0x16c65c(0x1b6)](_0x232bdb);}else{if(_0x43f891[0x0][_0x16c65c(0x1cc)]==_0x16c65c(0x1b3))var _0x232bdb=users[_0x16c65c(0x1b3)];else{if(_0x43f891[0x0][_0x16c65c(0x1cc)]==_0x16c65c(0x1a3))var _0x232bdb=users['German'];else{if(_0x43f891[0x0][_0x16c65c(0x1cc)]==_0x16c65c(0x1bf))var _0x232bdb=users[_0x16c65c(0x1bf)];else{if(_0x43f891[0x0][_0x16c65c(0x1cc)]==_0x16c65c(0x1ad))var _0x232bdb=users[_0x16c65c(0x1ad)];else{if(_0x43f891[0x0][_0x16c65c(0x1cc)]==_0x16c65c(0x1b5))var _0x232bdb=users[_0x16c65c(0x1a5)];else{if(_0x43f891[0x0][_0x16c65c(0x1cc)]==_0x16c65c(0x1be))var _0x232bdb=users[_0x16c65c(0x1be)];else{if(_0x43f891[0x0]['language']==_0x16c65c(0x1c7))var _0x232bdb=users[_0x16c65c(0x1a4)];}}}}}}}_0x5ab915[_0x16c65c(0x1c8)](_0x16c65c(0x1bc),{'success':_0x453468[_0x16c65c(0x1b0)](_0x16c65c(0x1b9)),'errors':_0x453468[_0x16c65c(0x1b0)](_0x16c65c(0x1b2)),'role':_0x4df004,'profile':_0x9a4792,'sale':_0x4a0c3b[0x0],'sales_return':_0x53c567[0x0],'purchases':_0x72df0a[0x0],'purchases_return':_0x55b373[0x0],'purchases_table':_0x2f210a,'sales_table':_0x4da93c,'categories':_0x20b342[_0x16c65c(0x1c2)],'product':_0x4cd938['length'],'suppliers':_0x150a33['length'],'customer':_0xa7d629[_0x16c65c(0x1c2)],'master_shop':_0x43f891,'language':_0x232bdb,'sale_QTY':_0x492b2f[0x0],'purchases_QTY':_0x33b1a6[0x0],'sales_return_QTY':_0x341cfd[0x0],'purchases_return_QTY':_0x58e0ad[0x0],'transfer_table':_0x6dad7d});}catch(_0x45a0c4){console[_0x16c65c(0x1b6)](_0x45a0c4);}}),module[a0_0x42e1dc(0x1cd)]=router;