const a0_0x42bfa4=a0_0x1e28;(function(_0x1d08f7,_0x87f955){const _0x38c086=a0_0x1e28,_0x1ceea1=_0x1d08f7();while(!![]){try{const _0x151e52=parseInt(_0x38c086(0x95))/0x1*(parseInt(_0x38c086(0x86))/0x2)+parseInt(_0x38c086(0x72))/0x3+-parseInt(_0x38c086(0x6e))/0x4+-parseInt(_0x38c086(0x75))/0x5+parseInt(_0x38c086(0x93))/0x6+-parseInt(_0x38c086(0x8c))/0x7+-parseInt(_0x38c086(0x8d))/0x8*(-parseInt(_0x38c086(0x80))/0x9);if(_0x151e52===_0x87f955)break;else _0x1ceea1['push'](_0x1ceea1['shift']());}catch(_0xee133f){_0x1ceea1['push'](_0x1ceea1['shift']());}}}(a0_0x3d89,0x57878));function a0_0x1e28(_0x4de65c,_0x150068){const _0x3d891b=a0_0x3d89();return a0_0x1e28=function(_0x1e2833,_0x66ecac){_0x1e2833=_0x1e2833-0x6a;let _0x4ffcaf=_0x3d891b[_0x1e2833];return _0x4ffcaf;},a0_0x1e28(_0x4de65c,_0x150068);}function a0_0x3d89(){const _0x2538a9=['express','394016KqbJmQ','5095784eVSxVR','email','$product','find','$return_sale','Chinese','43446Yzwmhd','$product.to_quantity','151DcwGqb','aggregate','Portuguese','language','$total_amount','English','role_data','user','2506924JPxTuP','$sale_product.quantity','French','$product.product_name','648741TtQGGX','flash','German','626505sipAlr','Arabic\x20(ae)','$from_warehouse','log','$sale_product','length','success','$return_product.return_qty','/index','$return_product','Portuguese\x20(BR)','9wsMJUs','../public/language/languages.json','get','$total_price','Spanish','$to_warehouse','4058cVPImE','$product.from_quantity','Router','index','$return_sale.sale_qty'];a0_0x3d89=function(){return _0x2538a9;};return a0_0x3d89();}const express=require(a0_0x42bfa4(0x8b)),app=express(),router=express[a0_0x42bfa4(0x88)](),auth=require('../middleware/auth'),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers}=require('../models/all_models'),users=require(a0_0x42bfa4(0x81));router[a0_0x42bfa4(0x82)](a0_0x42bfa4(0x7d),auth,async(_0x285cfb,_0xa6d01e)=>{const _0xc68781=a0_0x42bfa4;try{const {username:_0x3b8d62,email:_0x1e1d8d,role:_0x1cd6f2}=_0x285cfb[_0xc68781(0x6d)],_0x353d72=_0x285cfb['user'];console[_0xc68781(0x78)](_0xc68781(0x6c),_0x353d72);const _0x170aff=await profile['findOne']({'email':_0x353d72[_0xc68781(0x8e)]});console[_0xc68781(0x78)]('profile_data',_0x170aff);const _0x3bf512=await master_shop[_0xc68781(0x90)]();console[_0xc68781(0x78)]('master',_0x3bf512);const _0x5e260b=await sales[_0xc68781(0x96)]([{'$group':{'_id':null,'total_price':{'$sum':_0xc68781(0x83)}}}]),_0x1d4375=await sales[_0xc68781(0x96)]([{'$unwind':_0xc68781(0x79)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0xc68781(0x6f)}}}]),_0x2c4540=await sales_return[_0xc68781(0x96)]([{'$group':{'_id':null,'total':{'$sum':_0xc68781(0x6a)}}}]),_0x430e0c=await sales_return['aggregate']([{'$unwind':_0xc68781(0x91)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0xc68781(0x8a)}}}]),_0x396166=await purchases[_0xc68781(0x96)]([{'$group':{'_id':null,'total_amount':{'$sum':_0xc68781(0x6a)}}}]),_0x23555a=await purchases_return[_0xc68781(0x96)]([{'$group':{'_id':null,'total':{'$sum':'$total_amount'}}}]),_0x447619=await purchases_return['aggregate']([{'$unwind':_0xc68781(0x7e)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0xc68781(0x7c)}}}]),_0x4e8ada=await purchases['aggregate']([{'$unwind':_0xc68781(0x8f)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$product.quantity'}}}]),_0x450a30=await purchases['aggregate']([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x55b454=await sales[_0xc68781(0x96)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x5bcac1=await transfers['aggregate']([{'$unwind':'$product'},{'$group':{'_id':_0xc68781(0x71),'fromWarehouse':{'$first':_0xc68781(0x77)},'toWareHouse':{'$first':_0xc68781(0x85)},'FromtotalQuantity':{'$sum':_0xc68781(0x87)},'TototalQuantity':{'$sum':_0xc68781(0x94)}}}]),_0x225159=await categories[_0xc68781(0x90)](),_0x287bf6=await product[_0xc68781(0x90)](),_0x4e7bd9=await suppliers[_0xc68781(0x90)](),_0x574f13=await customer[_0xc68781(0x90)]();console[_0xc68781(0x78)](_0x574f13[_0xc68781(0x7a)]);if(_0x3bf512[0x0][_0xc68781(0x98)]=='English\x20(US)'){var _0x157a0f=users[_0xc68781(0x6b)];console[_0xc68781(0x78)](_0x157a0f);}else{if(_0x3bf512[0x0][_0xc68781(0x98)]=='Hindi')var _0x157a0f=users['Hindi'];else{if(_0x3bf512[0x0][_0xc68781(0x98)]=='German')var _0x157a0f=users[_0xc68781(0x74)];else{if(_0x3bf512[0x0][_0xc68781(0x98)]==_0xc68781(0x84))var _0x157a0f=users[_0xc68781(0x84)];else{if(_0x3bf512[0x0]['language']=='French')var _0x157a0f=users[_0xc68781(0x70)];else{if(_0x3bf512[0x0][_0xc68781(0x98)]==_0xc68781(0x7f))var _0x157a0f=users[_0xc68781(0x97)];else{if(_0x3bf512[0x0]['language']=='Chinese')var _0x157a0f=users[_0xc68781(0x92)];else{if(_0x3bf512[0x0][_0xc68781(0x98)]==_0xc68781(0x76))var _0x157a0f=users['Arabic'];}}}}}}}_0xa6d01e['render'](_0xc68781(0x89),{'success':_0x285cfb[_0xc68781(0x73)](_0xc68781(0x7b)),'errors':_0x285cfb[_0xc68781(0x73)]('errors'),'role':_0x353d72,'profile':_0x170aff,'sale':_0x5e260b[0x0],'sales_return':_0x2c4540[0x0],'purchases':_0x396166[0x0],'purchases_return':_0x23555a[0x0],'purchases_table':_0x450a30,'sales_table':_0x55b454,'categories':_0x225159[_0xc68781(0x7a)],'product':_0x287bf6[_0xc68781(0x7a)],'suppliers':_0x4e7bd9[_0xc68781(0x7a)],'customer':_0x574f13[_0xc68781(0x7a)],'master_shop':_0x3bf512,'language':_0x157a0f,'sale_QTY':_0x1d4375[0x0],'purchases_QTY':_0x4e8ada[0x0],'sales_return_QTY':_0x430e0c[0x0],'purchases_return_QTY':_0x447619[0x0],'transfer_table':_0x5bcac1});}catch(_0x27c4c0){console[_0xc68781(0x78)](_0x27c4c0);}}),module['exports']=router;