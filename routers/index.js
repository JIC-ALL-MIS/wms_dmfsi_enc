const a0_0x8d546c=a0_0xfd16;(function(_0x701378,_0x4e77e3){const _0x5a5b15=a0_0xfd16,_0x4bbc3c=_0x701378();while(!![]){try{const _0x48a342=parseInt(_0x5a5b15(0x144))/0x1+-parseInt(_0x5a5b15(0x114))/0x2*(-parseInt(_0x5a5b15(0x14a))/0x3)+parseInt(_0x5a5b15(0x126))/0x4+parseInt(_0x5a5b15(0x123))/0x5+parseInt(_0x5a5b15(0x11d))/0x6*(-parseInt(_0x5a5b15(0x148))/0x7)+-parseInt(_0x5a5b15(0x142))/0x8*(parseInt(_0x5a5b15(0x127))/0x9)+-parseInt(_0x5a5b15(0x149))/0xa*(parseInt(_0x5a5b15(0x110))/0xb);if(_0x48a342===_0x4e77e3)break;else _0x4bbc3c['push'](_0x4bbc3c['shift']());}catch(_0x43bf26){_0x4bbc3c['push'](_0x4bbc3c['shift']());}}}(a0_0x310a,0xe28f1));function a0_0xfd16(_0x343732,_0x467587){const _0x310a63=a0_0x310a();return a0_0xfd16=function(_0xfd1669,_0x4b295c){_0xfd1669=_0xfd1669-0x10d;let _0x3d92f2=_0x310a63[_0xfd1669];return _0x3d92f2;},a0_0xfd16(_0x343732,_0x467587);}const express=require('express'),app=express(),router=express[a0_0x8d546c(0x10f)](),auth=require(a0_0x8d546c(0x141)),{profile,sales,sales_return,purchases,purchases_return,categories,product,suppliers,customer,master_shop,transfers,adjustment,purchases_finished,sales_finished,adjustment_finished,transfers_finished}=require(a0_0x8d546c(0x121)),users=require(a0_0x8d546c(0x12b));function a0_0x310a(){const _0x5eb194=['find','/fg_adj_line','$sale_product.quantity','$date','findOne','$total_amount','10079034yUArsR','Raw\x20Materials','/raw_out_line','/fg_line','../models/all_models','exports','8649235wxXnxU','$sale_product','$return_product.return_qty','3779064EmEBwX','44433courJO','user','language','aggregate','../public/language/languages.json','English\x20(US)','Arabic\x20(ae)','render','log','success','$product.quantity','True','length','$product.from_quantity','Spanish','$product.to_quantity','json','Hindi','/rm_chart','/raw_line','$return_sale','index','flash','Arabic','$product.adjust_qty','get','../middleware/auth','1000tDLHBw','Portuguese','745744DYSWsg','German','/fg_chart','/raw_trf_line','7AdxUMO','40tGtede','42BdqUQM','Finished\x20Goods','$product.product_name','/raw_adj_line','French','Router','965723yfBtxW','$return_sale.sale_qty','$product','English','22252vlabyV','/fg_trf_line','$to_warehouse'];a0_0x310a=function(){return _0x5eb194;};return a0_0x310a();}router['get']('/index',auth,async(_0x28282d,_0x49540e)=>{const _0xa31314=a0_0x8d546c;try{const {username:_0x1ba5f9,email:_0x5d2118,role:_0x2b7a96}=_0x28282d[_0xa31314(0x128)],_0x2fcd66=_0x28282d[_0xa31314(0x128)];var _0x1b35cb;if(_0x2fcd66['warehouse_category']==_0xa31314(0x11e)){const _0x11e7a4=await product[_0xa31314(0x117)]({'product_category':_0xa31314(0x11e)});_0x1b35cb=_0x11e7a4[_0xa31314(0x133)];}else{if(_0x2fcd66['warehouse_category']==_0xa31314(0x14b)){const _0x1e631d=await product[_0xa31314(0x117)]({'product_category':_0xa31314(0x14b)});_0x1b35cb=_0x1e631d[_0xa31314(0x133)];}else{const _0x31c271=await product[_0xa31314(0x117)]();_0x1b35cb=_0x31c271['length'];}}const _0x3ed700=await profile[_0xa31314(0x11b)]({'email':_0x2fcd66['email']}),_0x9d737e=await master_shop[_0xa31314(0x117)](),_0x4e34e9=await sales['aggregate']([{'$group':{'_id':null,'total_price':{'$sum':'$total_price'}}}]),_0x3139f1=await sales[_0xa31314(0x12a)]([{'$unwind':_0xa31314(0x124)},{'$group':{'_id':null,'totalQuantity':{'$sum':'$sale_product.quantity'}}}]),_0x3447c3=await sales_return['aggregate']([{'$group':{'_id':null,'total':{'$sum':_0xa31314(0x11c)}}}]),_0x32c583=await sales_return[_0xa31314(0x12a)]([{'$unwind':_0xa31314(0x13b)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0xa31314(0x111)}}}]),_0x16a444=await purchases[_0xa31314(0x12a)]([{'$group':{'_id':null,'total_amount':{'$sum':'$total_amount'}}}]),_0x1895da=await purchases_return['aggregate']([{'$group':{'_id':null,'total':{'$sum':_0xa31314(0x11c)}}}]),_0x3b1391=await purchases_return[_0xa31314(0x12a)]([{'$unwind':'$return_product'},{'$group':{'_id':null,'totalQuantity':{'$sum':_0xa31314(0x125)}}}]),_0x51c7b1=await purchases[_0xa31314(0x12a)]([{'$unwind':_0xa31314(0x112)},{'$group':{'_id':null,'totalQuantity':{'$sum':_0xa31314(0x131)}}}]),_0xd4a837=await purchases['aggregate']([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x25969d=await sales[_0xa31314(0x12a)]([{'$sort':{'invoice':-0x1}},{'$limit':0x5},{'$sort':{'invoice':0x1}}]),_0x15d232=await transfers[_0xa31314(0x12a)]([{'$unwind':_0xa31314(0x112)},{'$group':{'_id':_0xa31314(0x14c),'fromWarehouse':{'$first':'$from_warehouse'},'toWareHouse':{'$first':_0xa31314(0x116)},'FromtotalQuantity':{'$sum':_0xa31314(0x134)},'TototalQuantity':{'$sum':_0xa31314(0x136)}}}]),_0x5010b4=await categories['find'](),_0x1d6c2f=await product[_0xa31314(0x117)](),_0x38bf61=await suppliers[_0xa31314(0x117)](),_0x378565=await customer[_0xa31314(0x117)]();if(_0x9d737e[0x0][_0xa31314(0x129)]==_0xa31314(0x12c))var _0x19d985=users[_0xa31314(0x113)];else{if(_0x9d737e[0x0][_0xa31314(0x129)]=='Hindi')var _0x19d985=users[_0xa31314(0x138)];else{if(_0x9d737e[0x0][_0xa31314(0x129)]==_0xa31314(0x145))var _0x19d985=users[_0xa31314(0x145)];else{if(_0x9d737e[0x0][_0xa31314(0x129)]=='Spanish')var _0x19d985=users[_0xa31314(0x135)];else{if(_0x9d737e[0x0][_0xa31314(0x129)]==_0xa31314(0x10e))var _0x19d985=users['French'];else{if(_0x9d737e[0x0][_0xa31314(0x129)]=='Portuguese\x20(BR)')var _0x19d985=users[_0xa31314(0x143)];else{if(_0x9d737e[0x0][_0xa31314(0x129)]=='Chinese')var _0x19d985=users['Chinese'];else{if(_0x9d737e[0x0]['language']==_0xa31314(0x12d))var _0x19d985=users[_0xa31314(0x13e)];}}}}}}}_0x49540e[_0xa31314(0x12e)](_0xa31314(0x13c),{'success':_0x28282d[_0xa31314(0x13d)](_0xa31314(0x130)),'errors':_0x28282d[_0xa31314(0x13d)]('errors'),'role':_0x2fcd66,'profile':_0x3ed700,'sale':_0x4e34e9[0x0],'sales_return':_0x3447c3[0x0],'purchases':_0x16a444[0x0],'purchases_return':_0x1895da[0x0],'purchases_table':_0xd4a837,'sales_table':_0x25969d,'categories':_0x5010b4[_0xa31314(0x133)],'product':_0x1d6c2f[_0xa31314(0x133)],'suppliers':_0x38bf61[_0xa31314(0x133)],'customer':_0x378565[_0xa31314(0x133)],'master_shop':_0x9d737e,'language':_0x19d985,'sale_QTY':_0x3139f1[0x0],'purchases_QTY':_0x51c7b1[0x0],'sales_return_QTY':_0x32c583[0x0],'purchases_return_QTY':_0x3b1391[0x0],'transfer_table':_0x15d232,'product_cnt':_0x1b35cb});}catch(_0x7ef56b){console[_0xa31314(0x12f)](_0x7ef56b);}}),router[a0_0x8d546c(0x140)](a0_0x8d546c(0x13a),auth,async(_0x4917a3,_0x231ea9)=>{const _0x38a3b=a0_0x8d546c;try{const _0xcb546c=await purchases[_0x38a3b(0x12a)]([{'$unwind':_0x38a3b(0x112)},{'$group':{'_id':_0x38a3b(0x11a),'totalQuantity':{'$sum':_0x38a3b(0x131)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x231ea9[_0x38a3b(0x137)](_0xcb546c);}catch(_0x4b34f4){_0x231ea9[_0x38a3b(0x137)](_0x4b34f4);}}),router[a0_0x8d546c(0x140)](a0_0x8d546c(0x11f),auth,async(_0x489d73,_0x2b5557)=>{const _0xd2bd41=a0_0x8d546c;try{const _0x4f2a56=await sales['aggregate']([{'$match':{'finalize':_0xd2bd41(0x132)}},{'$unwind':_0xd2bd41(0x124)},{'$group':{'_id':_0xd2bd41(0x11a),'totalQuantity':{'$sum':_0xd2bd41(0x119)},'date':{'$first':_0xd2bd41(0x11a)}}},{'$sort':{'date':0x1}}]);_0x2b5557[_0xd2bd41(0x137)](_0x4f2a56);}catch(_0x14b6e3){_0x2b5557[_0xd2bd41(0x137)](_0x14b6e3);}}),router[a0_0x8d546c(0x140)](a0_0x8d546c(0x10d),auth,async(_0x22844c,_0x32af13)=>{const _0x43573d=a0_0x8d546c;try{const _0x5d91cf=await adjustment['aggregate']([{'$match':{'finalize':'True'}},{'$unwind':_0x43573d(0x112)},{'$group':{'_id':_0x43573d(0x11a),'totalQuantity':{'$sum':_0x43573d(0x13f)},'date':{'$first':_0x43573d(0x11a)}}},{'$sort':{'date':0x1}}]);_0x32af13[_0x43573d(0x137)](_0x5d91cf);}catch(_0x560455){_0x32af13[_0x43573d(0x137)](_0x560455);}}),router[a0_0x8d546c(0x140)](a0_0x8d546c(0x147),auth,async(_0x51dccf,_0x878c48)=>{const _0x50ea81=a0_0x8d546c;try{const _0x2b5cbe=await transfers[_0x50ea81(0x12a)]([{'$match':{'finalize':_0x50ea81(0x132)}},{'$unwind':'$product'},{'$group':{'_id':_0x50ea81(0x11a),'totalQuantity':{'$sum':_0x50ea81(0x136)},'date':{'$first':_0x50ea81(0x11a)}}},{'$sort':{'date':0x1}}]);_0x878c48[_0x50ea81(0x137)](_0x2b5cbe);}catch(_0x5de03d){_0x878c48['json'](_0x5de03d);}}),router['get'](a0_0x8d546c(0x120),auth,async(_0x1eaa30,_0x1d6ee1)=>{const _0x472350=a0_0x8d546c;try{const _0xd184e9=await purchases_finished[_0x472350(0x12a)]([{'$unwind':_0x472350(0x112)},{'$group':{'_id':_0x472350(0x11a),'totalQuantity':{'$sum':_0x472350(0x131)},'date':{'$first':_0x472350(0x11a)}}},{'$sort':{'date':0x1}}]);_0x1d6ee1[_0x472350(0x137)](_0xd184e9);}catch(_0x2a9cbf){_0x1d6ee1[_0x472350(0x137)](_0x2a9cbf);}}),router[a0_0x8d546c(0x140)]('/fg_out_line',auth,async(_0x4d1668,_0xed390b)=>{const _0xf26ff1=a0_0x8d546c;try{const _0x29f179=await sales_finished[_0xf26ff1(0x12a)]([{'$match':{'finalize':'True'}},{'$unwind':'$sale_product'},{'$group':{'_id':'$date','totalQuantity':{'$sum':_0xf26ff1(0x119)},'date':{'$first':_0xf26ff1(0x11a)}}},{'$sort':{'date':0x1}}]);_0xed390b[_0xf26ff1(0x137)](_0x29f179);}catch(_0x4c879c){_0xed390b[_0xf26ff1(0x137)](_0x4c879c);}}),router['get'](a0_0x8d546c(0x118),auth,async(_0x5cd7c1,_0x131a05)=>{const _0x7a695b=a0_0x8d546c;try{const _0x1e2916=await adjustment_finished[_0x7a695b(0x12a)]([{'$match':{'finalize':_0x7a695b(0x132)}},{'$unwind':_0x7a695b(0x112)},{'$group':{'_id':_0x7a695b(0x11a),'totalQuantity':{'$sum':_0x7a695b(0x13f)},'date':{'$first':_0x7a695b(0x11a)}}},{'$sort':{'date':0x1}}]);_0x131a05[_0x7a695b(0x137)](_0x1e2916);}catch(_0x3419d4){_0x131a05['json'](_0x3419d4);}}),router['get'](a0_0x8d546c(0x115),auth,async(_0x149242,_0x159624)=>{const _0x523203=a0_0x8d546c;try{const _0x5e9617=await transfers_finished['aggregate']([{'$match':{'finalize':'True'}},{'$unwind':_0x523203(0x112)},{'$group':{'_id':_0x523203(0x11a),'totalQuantity':{'$sum':_0x523203(0x136)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]);_0x159624[_0x523203(0x137)](_0x5e9617);}catch(_0x5c110e){_0x159624[_0x523203(0x137)](_0x5c110e);}}),router[a0_0x8d546c(0x140)](a0_0x8d546c(0x139),auth,async(_0x4469ad,_0x16373b)=>{const _0x46fd38=a0_0x8d546c;try{const _0x484509=await purchases['aggregate']([{'$unwind':_0x46fd38(0x112)},{'$group':{'_id':_0x46fd38(0x11a),'totalQuantity':{'$sum':_0x46fd38(0x131)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]),_0x338318=await sales[_0x46fd38(0x12a)]([{'$match':{'finalize':_0x46fd38(0x132)}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x46fd38(0x11a),'totalQuantity':{'$sum':_0x46fd38(0x119)},'date':{'$first':_0x46fd38(0x11a)}}},{'$sort':{'date':0x1}}]),_0x54c9aa=await adjustment['aggregate']([{'$match':{'finalize':_0x46fd38(0x132)}},{'$unwind':'$product'},{'$group':{'_id':_0x46fd38(0x11a),'totalQuantity':{'$sum':_0x46fd38(0x13f)},'date':{'$first':'$date'}}},{'$sort':{'date':0x1}}]),_0x463f84=await transfers[_0x46fd38(0x12a)]([{'$match':{'finalize':_0x46fd38(0x132)}},{'$unwind':_0x46fd38(0x112)},{'$group':{'_id':_0x46fd38(0x11a),'totalQuantity':{'$sum':_0x46fd38(0x136)},'date':{'$first':_0x46fd38(0x11a)}}},{'$sort':{'date':0x1}}]);_0x16373b[_0x46fd38(0x137)]({'purchases':_0x484509,'sales':_0x338318,'adjustment':_0x54c9aa,'transfer':_0x463f84});}catch(_0x299d24){_0x16373b[_0x46fd38(0x137)](_0x299d24);}}),router[a0_0x8d546c(0x140)](a0_0x8d546c(0x146),auth,async(_0x345185,_0x42fc52)=>{const _0x3e17c8=a0_0x8d546c;try{const _0x5b6d12=await product[_0x3e17c8(0x117)]({'product_category':_0x3e17c8(0x14b)});_0x42fc52['json']({'count':_0x5b6d12[_0x3e17c8(0x133)]});}catch(_0x2e8206){_0x42fc52[_0x3e17c8(0x137)](_0x2e8206);}}),module[a0_0x8d546c(0x122)]=router;