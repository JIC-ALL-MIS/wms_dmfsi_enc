const a0_0x96e6b3=a0_0x4482;(function(_0x2e08c1,_0x1e7951){const _0x380f38=a0_0x4482,_0x5c4856=_0x2e08c1();while(!![]){try{const _0x1f2d92=parseInt(_0x380f38(0xc2))/0x1+-parseInt(_0x380f38(0xdb))/0x2+-parseInt(_0x380f38(0xde))/0x3+parseInt(_0x380f38(0xd1))/0x4+parseInt(_0x380f38(0xc3))/0x5+parseInt(_0x380f38(0xd6))/0x6*(parseInt(_0x380f38(0xd0))/0x7)+parseInt(_0x380f38(0xcd))/0x8;if(_0x1f2d92===_0x1e7951)break;else _0x5c4856['push'](_0x5c4856['shift']());}catch(_0x71054d){_0x5c4856['push'](_0x5c4856['shift']());}}}(a0_0x2bb7,0x19d1c));const express=require(a0_0x96e6b3(0xc5)),app=express(),router=express[a0_0x96e6b3(0xe3)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings,purchases_finished}=require(a0_0x96e6b3(0xcc));function a0_0x4482(_0x1eccf9,_0xa29bb8){const _0x2bb7f7=a0_0x2bb7();return a0_0x4482=function(_0x448254,_0x1d4600){_0x448254=_0x448254-0xc0;let _0x1053cf=_0x2bb7f7[_0x448254];return _0x1053cf;},a0_0x4482(_0x1eccf9,_0xa29bb8);}function a0_0x2bb7(){const _0x4805d2=['120544umJduY','json','updateMany','success','table\x20page','6TFULQC','/warehouse_monitor','flash','get','$name','407858vylYLm','message','INCF-69565374','559209jmIibD','$address','14800005047429','\x20documents\x20updated','exports','Router','status','$product_details.product_stock','66898AsDKQa','730280hupoHS','modifiedCount','express','INCF-52068316','aggregate','$product_details','$product_details.product_name','$product.quantity','$invoice','../../models/all_models','1673592TdKDRO','errors','$product_details._id','306593rueebS'];a0_0x2bb7=function(){return _0x4805d2;};return a0_0x2bb7();}router['get']('/negative',async(_0x1d04ea,_0x1f2f66)=>{const _0x598c8e=a0_0x96e6b3;try{const _0x4eb003=await warehouse[_0x598c8e(0xd3)]({'product_details.product_stock':{'$lt':0x0}},{'$mul':{'product_details.$[elem].product_stock':-0x1}},{'arrayFilters':[{'elem.product_stock':{'$lt':0x0}}]});_0x1f2f66[_0x598c8e(0xd2)]({'status':_0x4eb003[_0x598c8e(0xc4)]+_0x598c8e(0xe1)});}catch(_0x257eff){console['log']('table\x20page',_0x257eff),_0x1f2f66['status'](0xc8)[_0x598c8e(0xd2)]({'message':_0x257eff[_0x598c8e(0xdc)]});}}),router[a0_0x96e6b3(0xd9)]('/checking',async(_0x15447e,_0x5c5898)=>{const _0x4ada01=a0_0x96e6b3;try{const _0x5dc2c6=await warehouse[_0x4ada01(0xc7)]([{'$unwind':'$product_details'},{'$match':{'product_details.invoice':_0x4ada01(0xc6),'product_details.primary_code':_0x4ada01(0xe0)}},{'$group':{'_id':{'name':'$name','room':'$room'},'products':{'$push':_0x4ada01(0xc8)}}}]);_0x5c5898['json'](_0x5dc2c6);}catch(_0x4a2166){console['log'](_0x4ada01(0xd5),_0x4a2166),_0x5c5898[_0x4ada01(0xc0)](0xc8)['json']({'message':_0x4a2166[_0x4ada01(0xdc)]});}}),router[a0_0x96e6b3(0xd9)](a0_0x96e6b3(0xd7),async(_0x5ee7fc,_0x417cc6)=>{const _0x4952b2=a0_0x96e6b3;_0x417cc6['render']('monitor',{'success':_0x5ee7fc[_0x4952b2(0xd8)](_0x4952b2(0xd4)),'errors':_0x5ee7fc[_0x4952b2(0xd8)](_0x4952b2(0xce))});}),router[a0_0x96e6b3(0xd9)]('/join',async(_0x4f960a,_0x519487)=>{const _0x107a45=a0_0x96e6b3,_0xee3094=await purchases_finished['aggregate']([{'$match':{'invoice':_0x107a45(0xdd)}},{'$lookup':{'from':'warehouses','let':{'invoice':_0x107a45(0xcb)},'pipeline':[{'$unwind':_0x107a45(0xc8)},{'$match':{'$expr':{'$eq':['$$invoice','$product_details.invoice']}}},{'$project':{'_id':_0x107a45(0xcf),'product_name':_0x107a45(0xc9),'product_code':'$product_details.product_code','quantity_purchased':_0x107a45(0xca),'quantity_available':_0x107a45(0xc1),'warehouse_name':_0x107a45(0xda),'warehouse_address':_0x107a45(0xdf)}}],'as':'warehouse_data'}}]);_0x519487['json'](_0xee3094);}),module[a0_0x96e6b3(0xe2)]=router;