function a0_0x3e6a(){const _0x1c503f=['table\x20page','monitor','$to_warehouse','errors','warehouses','1070189NFhilF','14408440YGOhRa','4985215DWLZWN','render','$sale_product','$product_details','_id','$sale_product.product_code','$warehouse_name','$product.id_transaction_id','$product_details.invoice','data_transfer','$invoice','status','$sale_product.invoice','$product_details.product_code','valueOf','14800005047429','9333804sCrkWH','invoice','../../models/all_models','$sale_product.quantity','get','Router','/checking','$product_details._id','updateMany','map','$room','modifiedCount','3185812WZutVg','$name','success','10475658AczECk','4ubUjgV','\x20documents\x20updated','/negative','length','$product.to_quantity','exports','data_sales','log','message','$product.invoice','$product._id','aggregate','warehouse_data','/join','$product','json','$product.to_room_name','$product_details.product_name','8XwdhhR','INCF-52068316','2IpoLEU','$product.room_names','$product_details.product_stock','push','data_adjustment','4608741LRYIEO','$sale_product.id_transaction_from','$product.id_transaction_from','all','flash','/warehouse_monitor','express'];a0_0x3e6a=function(){return _0x1c503f;};return a0_0x3e6a();}const a0_0x7155ae=a0_0x14aa;function a0_0x14aa(_0x266193,_0x3a06cb){const _0x3e6a62=a0_0x3e6a();return a0_0x14aa=function(_0x14aab7,_0x48c73a){_0x14aab7=_0x14aab7-0x111;let _0x2a5c40=_0x3e6a62[_0x14aab7];return _0x2a5c40;},a0_0x14aa(_0x266193,_0x3a06cb);}(function(_0x44897a,_0x20d92e){const _0x1a7b9f=a0_0x14aa,_0x5d2bd9=_0x44897a();while(!![]){try{const _0x462e95=-parseInt(_0x1a7b9f(0x126))/0x1*(parseInt(_0x1a7b9f(0x115))/0x2)+parseInt(_0x1a7b9f(0x11a))/0x3+-parseInt(_0x1a7b9f(0x148))/0x4*(parseInt(_0x1a7b9f(0x128))/0x5)+parseInt(_0x1a7b9f(0x138))/0x6+-parseInt(_0x1a7b9f(0x144))/0x7+-parseInt(_0x1a7b9f(0x113))/0x8*(parseInt(_0x1a7b9f(0x147))/0x9)+parseInt(_0x1a7b9f(0x127))/0xa;if(_0x462e95===_0x20d92e)break;else _0x5d2bd9['push'](_0x5d2bd9['shift']());}catch(_0x3c6870){_0x5d2bd9['push'](_0x5d2bd9['shift']());}}}(a0_0x3e6a,0xcea4f));const express=require(a0_0x7155ae(0x120)),app=express(),router=express[a0_0x7155ae(0x13d)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings,purchases_finished,sales_finished,adjustment_finished,transfers,transfers_finished,sales,adjustment}=require(a0_0x7155ae(0x13a));router['get'](a0_0x7155ae(0x14a),async(_0x2f818b,_0x3befaa)=>{const _0x24677e=a0_0x7155ae;try{const _0x2779a4=await warehouse[_0x24677e(0x140)]({'product_details.product_stock':{'$lt':0x0}},{'$mul':{'product_details.$[elem].product_stock':-0x1}},{'arrayFilters':[{'elem.product_stock':{'$lt':0x0}}]});_0x3befaa[_0x24677e(0x157)]({'status':_0x2779a4[_0x24677e(0x143)]+_0x24677e(0x149)});}catch(_0x5a318a){console[_0x24677e(0x14f)](_0x24677e(0x121),_0x5a318a),_0x3befaa['status'](0xc8)[_0x24677e(0x157)]({'message':_0x5a318a[_0x24677e(0x150)]});}}),router['get'](a0_0x7155ae(0x13e),async(_0x3679ec,_0x3dcf07)=>{const _0x194f9a=a0_0x7155ae;try{const _0x50a7f1=await warehouse['aggregate']([{'$unwind':_0x194f9a(0x12b)},{'$match':{'product_details.invoice':_0x194f9a(0x114),'product_details.primary_code':_0x194f9a(0x137)}},{'$group':{'_id':{'name':_0x194f9a(0x145),'room':_0x194f9a(0x142)},'products':{'$push':_0x194f9a(0x12b)}}}]);_0x3dcf07[_0x194f9a(0x157)](_0x50a7f1);}catch(_0x35f888){console[_0x194f9a(0x14f)](_0x194f9a(0x121),_0x35f888),_0x3dcf07[_0x194f9a(0x133)](0xc8)[_0x194f9a(0x157)]({'message':_0x35f888['message']});}}),router[a0_0x7155ae(0x13c)](a0_0x7155ae(0x11f),async(_0x4f1b03,_0x46839d)=>{const _0x1793e6=a0_0x7155ae;_0x46839d[_0x1793e6(0x129)](_0x1793e6(0x122),{'success':_0x4f1b03[_0x1793e6(0x11e)](_0x1793e6(0x146)),'errors':_0x4f1b03['flash'](_0x1793e6(0x124))});}),router[a0_0x7155ae(0x13c)](a0_0x7155ae(0x155),async(_0x2ee130,_0x56531e)=>{const _0x3bedf5=a0_0x7155ae;var _0x2b153b=await purchases[_0x3bedf5(0x153)]([{'$lookup':{'from':_0x3bedf5(0x125),'let':{'invoice':_0x3bedf5(0x132)},'pipeline':[{'$unwind':_0x3bedf5(0x12b)},{'$match':{'$expr':{'$eq':['$$invoice',_0x3bedf5(0x130)]}}},{'$project':{'_id':_0x3bedf5(0x13f),'product_name':_0x3bedf5(0x112),'product_code':_0x3bedf5(0x135),'quantity_available':_0x3bedf5(0x117),'warehouse_name':_0x3bedf5(0x145),'warehouse_room':_0x3bedf5(0x142),'invoice':_0x3bedf5(0x130)}}],'as':'warehouse_data'}}]);_0x2b153b[_0x3bedf5(0x14e)]={},await Promise[_0x3bedf5(0x11d)](_0x2b153b[_0x3bedf5(0x141)](async _0x5f5cbe=>{const _0x351aa5=_0x3bedf5;_0x2b153b[_0x351aa5(0x14e)][_0x5f5cbe['invoice']]=[],await Promise[_0x351aa5(0x11d)](_0x5f5cbe[_0x351aa5(0x154)][_0x351aa5(0x141)](async _0xa13683=>{const _0x5213b2=_0x351aa5,_0x31032f=await sales[_0x5213b2(0x153)]([{'$unwind':_0x5213b2(0x12a)},{'$match':{'sale_product.id_transaction_from':_0xa13683[_0x5213b2(0x12c)][_0x5213b2(0x136)](),'sale_product.invoice':_0xa13683['invoice']}},{'$project':{'_id':'$sale_product._id','product_name':'$sale_product.product_name','product_code':_0x5213b2(0x12d),'quantity_available':_0x5213b2(0x13b),'warehouse_name':_0x5213b2(0x12e),'warehouse_room':'$sale_product.room_name','product_invoice':_0x5213b2(0x134),'invoice':'$invoice','id_transaction_from':_0x5213b2(0x11b)}}]);_0x31032f[_0x5213b2(0x14b)]>0x0&&_0x2b153b[_0x5213b2(0x14e)][_0x5f5cbe[_0x5213b2(0x139)]][_0x5213b2(0x118)](..._0x31032f);}));})),_0x2b153b[_0x3bedf5(0x14e)]=_0x2b153b[_0x3bedf5(0x14e)],_0x2b153b[_0x3bedf5(0x119)]={},await Promise['all'](_0x2b153b[_0x3bedf5(0x141)](async _0x52a918=>{const _0x1957e7=_0x3bedf5;_0x2b153b[_0x1957e7(0x119)][_0x52a918[_0x1957e7(0x139)]]=[],await Promise[_0x1957e7(0x11d)](_0x52a918[_0x1957e7(0x154)][_0x1957e7(0x141)](async _0x5d8b78=>{const _0x31ee05=_0x1957e7,_0x1864ad=await adjustment[_0x31ee05(0x153)]([{'$unwind':_0x31ee05(0x156)},{'$match':{'product.id_transaction_from':_0x5d8b78[_0x31ee05(0x12c)]['valueOf'](),'product.invoice':_0x5d8b78['invoice']}},{'$project':{'_id':_0x31ee05(0x152),'product_name':'$product.product_name','product_code':'$product.product_code','quantity_available':'$product.new_adjust_qty','warehouse_name':_0x31ee05(0x12e),'warehouse_room':_0x31ee05(0x116),'product_invoice':_0x31ee05(0x151),'invoice':_0x31ee05(0x132),'id_transaction_from':_0x31ee05(0x11c)}}]);_0x1864ad[_0x31ee05(0x14b)]>0x0&&_0x2b153b[_0x31ee05(0x119)][_0x52a918['invoice']][_0x31ee05(0x118)](..._0x1864ad);}));})),_0x2b153b[_0x3bedf5(0x131)]={},await Promise[_0x3bedf5(0x11d)](_0x2b153b[_0x3bedf5(0x141)](async _0x4f69e3=>{const _0xcc07ca=_0x3bedf5;_0x2b153b['data_transfer'][_0x4f69e3['invoice']]=[],await Promise[_0xcc07ca(0x11d)](_0x4f69e3['warehouse_data'][_0xcc07ca(0x141)](async _0x1d81e7=>{const _0x1fc9f8=_0xcc07ca,_0x2e59e3=await transfers[_0x1fc9f8(0x153)]([{'$unwind':_0x1fc9f8(0x156)},{'$match':{'product.id_transaction_id':_0x1d81e7['_id'][_0x1fc9f8(0x136)](),'product.To_invoice':_0x1d81e7[_0x1fc9f8(0x139)]}},{'$project':{'_id':_0x1fc9f8(0x152),'product_name':'$product.product_name','product_code':'$product.product_code','quantity_available':_0x1fc9f8(0x14c),'warehouse_name':_0x1fc9f8(0x123),'warehouse_room':_0x1fc9f8(0x116),'product_invoice':_0x1fc9f8(0x111),'invoice':_0x1fc9f8(0x132),'id_transaction_id':_0x1fc9f8(0x12f)}}]);console[_0x1fc9f8(0x14f)](_0x2e59e3),_0x2e59e3[_0x1fc9f8(0x14b)]>0x0&&_0x2b153b[_0x1fc9f8(0x131)][_0x4f69e3[_0x1fc9f8(0x139)]][_0x1fc9f8(0x118)](..._0x2e59e3);}));})),_0x56531e[_0x3bedf5(0x157)]({'purchases_warehouse':_0x2b153b,'data_sales':_0x2b153b[_0x3bedf5(0x14e)],'data_adjustment':_0x2b153b['data_adjustment'],'data_transfer':_0x2b153b[_0x3bedf5(0x131)]});}),module[a0_0x7155ae(0x14d)]=router;