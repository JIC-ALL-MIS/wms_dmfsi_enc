function a0_0x59eb(){const _0x22c808=['1605968WvoreX','/negative','aggregate','$product_details','1oTqKjI','INCF-52068316','message','get','485870IFtDLo','/checking','89451LzQpks','6HNvVMw','Router','exports','$room','\x20documents\x20updated','table\x20page','27276300PxDDFM','2414955EaLtiQ','express','6392064hcunbw','28239oVcNCb','modifiedCount','status','updateMany','104FMtyyw','log','json'];a0_0x59eb=function(){return _0x22c808;};return a0_0x59eb();}const a0_0x370547=a0_0x52d1;(function(_0x59ed37,_0x5e021e){const _0x17b47a=a0_0x52d1,_0x4136d8=_0x59ed37();while(!![]){try{const _0x445758=parseInt(_0x17b47a(0x203))/0x1*(-parseInt(_0x17b47a(0x1eb))/0x2)+parseInt(_0x17b47a(0x1f8))/0x3*(-parseInt(_0x17b47a(0x1fc))/0x4)+-parseInt(_0x17b47a(0x1f5))/0x5*(parseInt(_0x17b47a(0x1ee))/0x6)+-parseInt(_0x17b47a(0x1ff))/0x7+-parseInt(_0x17b47a(0x1f7))/0x8+-parseInt(_0x17b47a(0x1ed))/0x9+parseInt(_0x17b47a(0x1f4))/0xa;if(_0x445758===_0x5e021e)break;else _0x4136d8['push'](_0x4136d8['shift']());}catch(_0x1d64d5){_0x4136d8['push'](_0x4136d8['shift']());}}}(a0_0x59eb,0xaf703));const express=require(a0_0x370547(0x1f6)),app=express(),router=express[a0_0x370547(0x1ef)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require('../../models/all_models');function a0_0x52d1(_0x341537,_0x3f3c04){const _0x59eb27=a0_0x59eb();return a0_0x52d1=function(_0x52d134,_0x421599){_0x52d134=_0x52d134-0x1e9;let _0x1dbfe5=_0x59eb27[_0x52d134];return _0x1dbfe5;},a0_0x52d1(_0x341537,_0x3f3c04);}router[a0_0x370547(0x1ea)](a0_0x370547(0x200),async(_0x9edc0e,_0x377373)=>{const _0x19df5f=a0_0x370547;try{const _0x4008c7=await warehouse[_0x19df5f(0x1fb)]({'product_details.product_stock':{'$lt':0x0}},{'$mul':{'product_details.$[elem].product_stock':-0x1}},{'arrayFilters':[{'elem.product_stock':{'$lt':0x0}}]});_0x377373[_0x19df5f(0x1fe)]({'status':_0x4008c7[_0x19df5f(0x1f9)]+_0x19df5f(0x1f2)});}catch(_0x14467e){console[_0x19df5f(0x1fd)]('table\x20page',_0x14467e),_0x377373[_0x19df5f(0x1fa)](0xc8)[_0x19df5f(0x1fe)]({'message':_0x14467e[_0x19df5f(0x1e9)]});}}),router[a0_0x370547(0x1ea)](a0_0x370547(0x1ec),async(_0x1830eb,_0x2f4d11)=>{const _0x5339e4=a0_0x370547;try{const _0x34510d=await warehouse[_0x5339e4(0x201)]([{'$unwind':'$product_details'},{'$match':{'product_details.invoice':_0x5339e4(0x204),'product_details.primary_code':'14800005047429'}},{'$group':{'_id':{'name':'$name','room':_0x5339e4(0x1f1)},'products':{'$push':_0x5339e4(0x202)}}}]);_0x2f4d11['json'](_0x34510d);}catch(_0x2dcf59){console[_0x5339e4(0x1fd)](_0x5339e4(0x1f3),_0x2dcf59),_0x2f4d11[_0x5339e4(0x1fa)](0xc8)[_0x5339e4(0x1fe)]({'message':_0x2dcf59[_0x5339e4(0x1e9)]});}}),module[a0_0x370547(0x1f0)]=router;