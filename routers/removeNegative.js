const a0_0x1ddc0d=a0_0x3d53;function a0_0x3d53(_0x466a6b,_0x6512df){const _0x4cf9b6=a0_0x4cf9();return a0_0x3d53=function(_0x3d53d8,_0x5928f7){_0x3d53d8=_0x3d53d8-0x113;let _0x1019fd=_0x4cf9b6[_0x3d53d8];return _0x1019fd;},a0_0x3d53(_0x466a6b,_0x6512df);}(function(_0x2bd28b,_0xe4b720){const _0x527b05=a0_0x3d53,_0x248e6d=_0x2bd28b();while(!![]){try{const _0x42ce6d=-parseInt(_0x527b05(0x119))/0x1*(-parseInt(_0x527b05(0x127))/0x2)+-parseInt(_0x527b05(0x121))/0x3+-parseInt(_0x527b05(0x125))/0x4*(-parseInt(_0x527b05(0x11c))/0x5)+-parseInt(_0x527b05(0x114))/0x6*(-parseInt(_0x527b05(0x131))/0x7)+-parseInt(_0x527b05(0x12d))/0x8+-parseInt(_0x527b05(0x128))/0x9*(parseInt(_0x527b05(0x11b))/0xa)+-parseInt(_0x527b05(0x11a))/0xb;if(_0x42ce6d===_0xe4b720)break;else _0x248e6d['push'](_0x248e6d['shift']());}catch(_0x3184ae){_0x248e6d['push'](_0x248e6d['shift']());}}}(a0_0x4cf9,0xec3c7));function a0_0x4cf9(){const _0x20af76=['log','13306SOuYAC','1197ZnblWB','INCF-52068316','aggregate','get','$name','2014424NhIDbV','../../models/all_models','14800005047429','/negative','154amruJa','/warehouse_monitor','/checking','390306AHPZbd','flash','render','table\x20page','modifiedCount','185rOTvLe','341275VkdlOu','61610gmUhrC','859555kcLkwa','updateMany','$product_details','status','message','3323388wYKSvR','json','success','\x20documents\x20updated','12wLXMOy'];a0_0x4cf9=function(){return _0x20af76;};return a0_0x4cf9();}const express=require('express'),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x1ddc0d(0x12e));router[a0_0x1ddc0d(0x12b)](a0_0x1ddc0d(0x130),async(_0x2135f9,_0x50771e)=>{const _0x21d0e5=a0_0x1ddc0d;try{const _0x207c4b=await warehouse[_0x21d0e5(0x11d)]({'product_details.product_stock':{'$lt':0x0}},{'$mul':{'product_details.$[elem].product_stock':-0x1}},{'arrayFilters':[{'elem.product_stock':{'$lt':0x0}}]});_0x50771e[_0x21d0e5(0x122)]({'status':_0x207c4b[_0x21d0e5(0x118)]+_0x21d0e5(0x124)});}catch(_0x159688){console[_0x21d0e5(0x126)](_0x21d0e5(0x117),_0x159688),_0x50771e[_0x21d0e5(0x11f)](0xc8)[_0x21d0e5(0x122)]({'message':_0x159688[_0x21d0e5(0x120)]});}}),router[a0_0x1ddc0d(0x12b)](a0_0x1ddc0d(0x113),async(_0x2b3154,_0x29e11a)=>{const _0x51acd0=a0_0x1ddc0d;try{const _0x357b4f=await warehouse[_0x51acd0(0x12a)]([{'$unwind':_0x51acd0(0x11e)},{'$match':{'product_details.invoice':_0x51acd0(0x129),'product_details.primary_code':_0x51acd0(0x12f)}},{'$group':{'_id':{'name':_0x51acd0(0x12c),'room':'$room'},'products':{'$push':'$product_details'}}}]);_0x29e11a['json'](_0x357b4f);}catch(_0xb8b7){console['log'](_0x51acd0(0x117),_0xb8b7),_0x29e11a[_0x51acd0(0x11f)](0xc8)[_0x51acd0(0x122)]({'message':_0xb8b7[_0x51acd0(0x120)]});}}),router[a0_0x1ddc0d(0x12b)](a0_0x1ddc0d(0x132),async(_0x3d86dd,_0x1e4e2e)=>{const _0xa9a4dd=a0_0x1ddc0d;_0x1e4e2e[_0xa9a4dd(0x116)]('monitor',{'success':_0x3d86dd[_0xa9a4dd(0x115)](_0xa9a4dd(0x123)),'errors':_0x3d86dd[_0xa9a4dd(0x115)]('errors')});}),module['exports']=router;