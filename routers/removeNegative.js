const a0_0x28fd38=a0_0x35cf;(function(_0x33219e,_0x1c9dd5){const _0x5067e2=a0_0x35cf,_0x40ab7d=_0x33219e();while(!![]){try{const _0x43ce24=parseInt(_0x5067e2(0xa5))/0x1*(parseInt(_0x5067e2(0x9c))/0x2)+parseInt(_0x5067e2(0xad))/0x3+-parseInt(_0x5067e2(0xa6))/0x4+parseInt(_0x5067e2(0x9e))/0x5*(-parseInt(_0x5067e2(0xae))/0x6)+parseInt(_0x5067e2(0xac))/0x7+parseInt(_0x5067e2(0xa3))/0x8+-parseInt(_0x5067e2(0xa8))/0x9;if(_0x43ce24===_0x1c9dd5)break;else _0x40ab7d['push'](_0x40ab7d['shift']());}catch(_0x180fe0){_0x40ab7d['push'](_0x40ab7d['shift']());}}}(a0_0x3630,0xcf018));const express=require('express'),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x28fd38(0xa1));function a0_0x3630(){const _0x11f798=['271958MWZfow','1997408VnIwfD','json','16813332pKmWWy','log','$room','get','8943480iuCSHu','3451359rEOYSr','12AtLLFw','status','/checking','table\x20page','$name','/negative','4xpukdi','modifiedCount','459035ReuNEz','updateMany','14800005047429','../../models/all_models','message','3416008rmCFIH','exports'];a0_0x3630=function(){return _0x11f798;};return a0_0x3630();}function a0_0x35cf(_0x2634af,_0x47ac30){const _0x3630b3=a0_0x3630();return a0_0x35cf=function(_0x35cf15,_0x17cd33){_0x35cf15=_0x35cf15-0x9c;let _0x165842=_0x3630b3[_0x35cf15];return _0x165842;},a0_0x35cf(_0x2634af,_0x47ac30);}router[a0_0x28fd38(0xab)](a0_0x28fd38(0xb3),async(_0x7fe8b4,_0xd70670)=>{const _0x5ab292=a0_0x28fd38;try{const _0x1705d2=await warehouse[_0x5ab292(0x9f)]({'product_details.product_stock':{'$lt':0x0}},{'$mul':{'product_details.$[elem].product_stock':-0x1}},{'arrayFilters':[{'elem.product_stock':{'$lt':0x0}}]});_0xd70670[_0x5ab292(0xa7)]({'status':_0x1705d2[_0x5ab292(0x9d)]+'\x20documents\x20updated'});}catch(_0x13a3e4){console[_0x5ab292(0xa9)]('table\x20page',_0x13a3e4),_0xd70670[_0x5ab292(0xaf)](0xc8)['json']({'message':_0x13a3e4[_0x5ab292(0xa2)]});}}),router['get'](a0_0x28fd38(0xb0),async(_0x18106b,_0x52f472)=>{const _0x3ce26c=a0_0x28fd38;try{const _0x515ffd=await warehouse['aggregate']([{'$unwind':'$product_details'},{'$match':{'product_details.invoice':'INCF-52068316','product_details.primary_code':_0x3ce26c(0xa0)}},{'$group':{'_id':{'name':_0x3ce26c(0xb2),'room':_0x3ce26c(0xaa)},'products':{'$push':'$product_details'}}}]);_0x52f472[_0x3ce26c(0xa7)](_0x515ffd);}catch(_0x554ff4){console[_0x3ce26c(0xa9)](_0x3ce26c(0xb1),_0x554ff4),_0x52f472[_0x3ce26c(0xaf)](0xc8)['json']({'message':_0x554ff4[_0x3ce26c(0xa2)]});}}),module[a0_0x28fd38(0xa4)]=router;