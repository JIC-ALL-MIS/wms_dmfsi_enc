const a0_0x2455b8=a0_0x4bc5;(function(_0x53d9db,_0x185e69){const _0x1b68c1=a0_0x4bc5,_0x126986=_0x53d9db();while(!![]){try{const _0x80c65e=parseInt(_0x1b68c1(0xd4))/0x1*(-parseInt(_0x1b68c1(0xa9))/0x2)+parseInt(_0x1b68c1(0x98))/0x3+-parseInt(_0x1b68c1(0xa6))/0x4+-parseInt(_0x1b68c1(0xce))/0x5*(parseInt(_0x1b68c1(0xcd))/0x6)+-parseInt(_0x1b68c1(0xc9))/0x7*(parseInt(_0x1b68c1(0xaa))/0x8)+parseInt(_0x1b68c1(0xa4))/0x9+parseInt(_0x1b68c1(0xc8))/0xa*(parseInt(_0x1b68c1(0xd5))/0xb);if(_0x80c65e===_0x185e69)break;else _0x126986['push'](_0x126986['shift']());}catch(_0x4990f3){_0x126986['push'](_0x126986['shift']());}}}(a0_0x1e76,0x242d3));function a0_0x4bc5(_0x37bb27,_0x5af0a7){const _0x1e7606=a0_0x1e76();return a0_0x4bc5=function(_0x4bc5f9,_0x292430){_0x4bc5f9=_0x4bc5f9-0x98;let _0x40b0c2=_0x1e7606[_0x4bc5f9];return _0x40b0c2;},a0_0x4bc5(_0x37bb27,_0x5af0a7);}const express=require(a0_0x2455b8(0xd2)),app=express(),router=express[a0_0x2455b8(0xc0)](),bcrypt=require(a0_0x2455b8(0xad)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x2455b8(0xae)),auth=require(a0_0x2455b8(0xb1)),users=require(a0_0x2455b8(0xb6));router['get'](a0_0x2455b8(0xca),auth,async(_0x522e7c,_0x470acd)=>{const _0x3c2197=a0_0x2455b8;try{const {username:_0x58b7f1,email:_0x326415,role:_0x20b41a}=_0x522e7c[_0x3c2197(0xbb)],_0xb4acb6=_0x522e7c['user'],_0x1f341b=await profile[_0x3c2197(0xa0)]({'email':_0xb4acb6[_0x3c2197(0xbf)]}),_0x4bd7b5=await master_shop[_0x3c2197(0xc7)]();console[_0x3c2197(0xac)](_0x3c2197(0x9e),_0x4bd7b5),warehouse_data=await warehouse[_0x3c2197(0xa1)]([{'$match':{'status':_0x3c2197(0xb7)}},{'$group':{'_id':_0x3c2197(0xc4),'name':{'$first':_0x3c2197(0xc4)}}}]);const _0x5e55ae=await staff[_0x3c2197(0xc7)]();console[_0x3c2197(0xac)](_0x5e55ae);if(_0x4bd7b5[0x0]['language']==_0x3c2197(0xb9)){var _0x2610cd=users[_0x3c2197(0xcc)];console['log'](_0x2610cd);}else{if(_0x4bd7b5[0x0]['language']==_0x3c2197(0x99))var _0x2610cd=users[_0x3c2197(0x99)];else{if(_0x4bd7b5[0x0][_0x3c2197(0xd3)]==_0x3c2197(0xa2))var _0x2610cd=users['German'];else{if(_0x4bd7b5[0x0][_0x3c2197(0xd3)]==_0x3c2197(0xd0))var _0x2610cd=users[_0x3c2197(0xd0)];else{if(_0x4bd7b5[0x0][_0x3c2197(0xd3)]==_0x3c2197(0xc3))var _0x2610cd=users[_0x3c2197(0xc3)];else{if(_0x4bd7b5[0x0][_0x3c2197(0xd3)]=='Portuguese\x20(BR)')var _0x2610cd=users[_0x3c2197(0xcb)];else{if(_0x4bd7b5[0x0]['language']==_0x3c2197(0xd1))var _0x2610cd=users[_0x3c2197(0xd1)];else{if(_0x4bd7b5[0x0]['language']==_0x3c2197(0x9b))var _0x2610cd=users[_0x3c2197(0xc6)];}}}}}}}let _0x2d0cd5=[_0x3c2197(0xb4),_0x3c2197(0xb0)];_0x470acd[_0x3c2197(0xbe)](_0x3c2197(0xab),{'success':_0x522e7c['flash'](_0x3c2197(0xa5)),'errors':_0x522e7c[_0x3c2197(0xb8)](_0x3c2197(0xb5)),'role':_0xb4acb6,'profile':_0x1f341b,'master_shop':_0x4bd7b5,'user':_0x5e55ae,'language':_0x2610cd,'warehouse':warehouse_data,'warehouse_cat':_0x2d0cd5});}catch(_0x8244c1){console[_0x3c2197(0xac)](_0x8244c1);}}),router[a0_0x2455b8(0xa3)](a0_0x2455b8(0xca),auth,async(_0x10b431,_0x4cdcfc)=>{const _0x282341=a0_0x2455b8;try{const {name:_0x274897,email:_0x326bae,mobile:_0x51fc69,password:_0x2920bb,status:_0x437a4f,warehouse:_0x140ec5,position:_0x10c253,warehouse_cat:_0x484427}=_0x10b431[_0x282341(0xb3)],_0x25985a=await bcrypt[_0x282341(0xd7)](_0x2920bb,0xa),_0xf6964e=new staff({'name':_0x274897,'email':_0x326bae,'mobile':_0x51fc69,'status':_0x437a4f,'warehouse':_0x140ec5,'position':_0x10c253,'warehouse_category':_0x484427}),_0x48f57f=await staff['findOne']({'email':_0x326bae});console[_0x282341(0xac)](_0x48f57f);if(_0x48f57f)return _0x10b431['flash']('errors',_0x282341(0xcf)+_0x326bae+_0x282341(0xbd)),_0x4cdcfc[_0x282341(0xc5)](_0x282341(0xc2)),![];const _0x5efd75=await _0xf6964e['save'](),_0x2de3be=new sing_up({'name':_0x274897,'email':_0x326bae,'password':_0x25985a,'role':_0x282341(0xab)}),_0x39f6b1=await _0x2de3be[_0x282341(0x9a)](),_0xef00cf=new profile({'firstname':_0x274897,'email':_0x326bae}),_0x1f9e4c=await _0xef00cf[_0x282341(0x9a)]();_0x10b431['flash'](_0x282341(0xa5),_0x274897+'\x20is\x20add\x20successfully'),_0x4cdcfc[_0x282341(0xc5)](_0x282341(0xa7));}catch(_0x2dae97){console[_0x282341(0xac)](_0x2dae97);}}),router[a0_0x2455b8(0xbc)](a0_0x2455b8(0x9f),auth,async(_0x4a343e,_0xf1a167)=>{const _0xdc6d32=a0_0x2455b8;try{const _0xfabb7b=_0x4a343e['params']['id'],_0x3fcb98=await master_shop[_0xdc6d32(0xc7)](),_0x45b99c=await staff[_0xdc6d32(0xd6)](_0xfabb7b);if(_0x3fcb98[0x0][_0xdc6d32(0xd3)]==_0xdc6d32(0xb9)){var _0x4ed75f=users['English'];console['log'](_0x4ed75f);}else{if(_0x3fcb98[0x0][_0xdc6d32(0xd3)]==_0xdc6d32(0x99))var _0x4ed75f=users[_0xdc6d32(0x99)];else{if(_0x3fcb98[0x0][_0xdc6d32(0xd3)]==_0xdc6d32(0xa2))var _0x4ed75f=users[_0xdc6d32(0xa2)];else{if(_0x3fcb98[0x0]['language']==_0xdc6d32(0xd0))var _0x4ed75f=users['Spanish'];else{if(_0x3fcb98[0x0][_0xdc6d32(0xd3)]==_0xdc6d32(0xc3))var _0x4ed75f=users[_0xdc6d32(0xc3)];else{if(_0x3fcb98[0x0][_0xdc6d32(0xd3)]==_0xdc6d32(0x9d))var _0x4ed75f=users['Portuguese'];else{if(_0x3fcb98[0x0][_0xdc6d32(0xd3)]=='Chinese')var _0x4ed75f=users[_0xdc6d32(0xd1)];else{if(_0x3fcb98[0x0]['language']==_0xdc6d32(0x9b))var _0x4ed75f=users[_0xdc6d32(0xc6)];}}}}}}}let _0xd6582a=[_0xdc6d32(0xb4),'Finished\x20Goods'];_0xf1a167[_0xdc6d32(0xbe)]('staff',{'success':_0x4a343e[_0xdc6d32(0xb8)]('success'),'errors':_0x4a343e[_0xdc6d32(0xb8)]('errors'),'master_shop':_0x3fcb98,'user':_0x45b99c,'language':_0x4ed75f,'warehouse_cat':_0xd6582a});}catch(_0x2e3358){console[_0xdc6d32(0xac)](_0x2e3358);}}),router['post'](a0_0x2455b8(0x9f),auth,async(_0x5b3cbf,_0x379960)=>{const _0x52266e=a0_0x2455b8;try{const _0x12959a=_0x5b3cbf['params']['id'],_0x38eebb=await staff[_0x52266e(0xd6)](_0x12959a),{name:_0x4a753e,email:_0x1749da,mobile:_0x48676d,password:_0x4dbdaf,status:_0x3d1d12,warehouse:_0x595b52,position:_0x4391e4,warehouse_cat:_0x5971c2}=_0x5b3cbf['body'];_0x38eebb['name']=_0x4a753e,_0x38eebb['email']=_0x1749da,_0x38eebb['mobile']=_0x48676d,_0x38eebb[_0x52266e(0xaf)]=_0x4dbdaf,_0x38eebb['status']=_0x3d1d12,_0x38eebb[_0x52266e(0xba)]=_0x595b52,_0x38eebb[_0x52266e(0xb2)]=_0x4391e4,_0x38eebb[_0x52266e(0x9c)]=_0x5971c2;const _0x436e7f=await _0x38eebb[_0x52266e(0x9a)](),_0x10ad18=await profile[_0x52266e(0xa0)]({'email':_0x1749da});_0x10ad18[_0x52266e(0xc1)]=_0x4a753e,_0x10ad18[_0x52266e(0xbf)]=_0x1749da,await _0x10ad18['save'](),_0x5b3cbf[_0x52266e(0xb8)](_0x52266e(0xa5),'staff\x20data\x20update\x20successfully'),_0x379960[_0x52266e(0xc5)]('/staff/view');}catch(_0x18444c){console[_0x52266e(0xac)](_0x18444c),_0x379960['status'](0xc8)['json'](_0x18444c);}}),module[a0_0x2455b8(0xa8)]=router;function a0_0x1e76(){const _0x4e7291=['English\x20(US)','warehouse','user','get','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','render','email','Router','firstname','back','French','$name','redirect','Arabic','find','5623330GnCerZ','309106uVYqXd','/view','Portuguese','English','6Cllrzr','887090YvmuNv','Email\x20','Spanish','Chinese','express','language','6MURcAZ','11MyPQla','findById','hash','675930IWXdpc','Hindi','save','Arabic\x20(ae)','warehouse_category','Portuguese\x20(BR)','master','/view/:id','findOne','aggregate','German','post','69876BzAUGD','success','1141944nkVTuX','/staff/view','exports','46722bvICga','8oKbLzZ','staff','log','bcryptjs','../models/all_models','password','Finished\x20Goods','../middleware/auth','position','body','Raw\x20Materials','errors','../public/language/languages.json','Enabled','flash'];a0_0x1e76=function(){return _0x4e7291;};return a0_0x1e76();}