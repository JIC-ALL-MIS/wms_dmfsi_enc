const a0_0x122278=a0_0x3360;function a0_0x5893(){const _0x5a32a4=['user','json','4LHkjim','18HpMEVo','Spanish','errors','99QHvbcj','params','988883WlBJdx','51906YSuavX','6HOjQmB','exports','status','English','$name','findById','firstname','save','226576dZgEmV','aggregate','../middleware/auth','password','log','flash','Arabic','staff\x20data\x20update\x20successfully','Hindi','back','English\x20(US)','58960muTtgy','position','/view','/view/:id','language','Arabic\x20(ae)','express','render','hash','Router','Portuguese','../models/all_models','get','1699888DGmlWZ','master','871765qpORbN','195844tHfUqi','bcryptjs','warehouse','Email\x20','/staff/view','Raw\x20Materials','Finished\x20Goods','../public/language/languages.json','findOne','German','redirect','\x20is\x20add\x20successfully','find','name','Portuguese\x20(BR)','Chinese','warehouse_category','body','post','staff','Enabled','French','success'];a0_0x5893=function(){return _0x5a32a4;};return a0_0x5893();}function a0_0x3360(_0x5a0ce2,_0x541dc3){const _0x589370=a0_0x5893();return a0_0x3360=function(_0x336052,_0x2ca63f){_0x336052=_0x336052-0x6a;let _0x3d02b4=_0x589370[_0x336052];return _0x3d02b4;},a0_0x3360(_0x5a0ce2,_0x541dc3);}(function(_0x49b658,_0x2029e4){const _0xbd659f=a0_0x3360,_0x4f22a2=_0x49b658();while(!![]){try{const _0x590c62=-parseInt(_0xbd659f(0x97))/0x1+-parseInt(_0xbd659f(0x8e))/0x2*(-parseInt(_0xbd659f(0x88))/0x3)+-parseInt(_0xbd659f(0x87))/0x4*(-parseInt(_0xbd659f(0x6d))/0x5)+parseInt(_0xbd659f(0x8f))/0x6*(parseInt(_0xbd659f(0x8d))/0x7)+-parseInt(_0xbd659f(0x6b))/0x8+-parseInt(_0xbd659f(0x8b))/0x9*(-parseInt(_0xbd659f(0xa2))/0xa)+parseInt(_0xbd659f(0x6e))/0xb;if(_0x590c62===_0x2029e4)break;else _0x4f22a2['push'](_0x4f22a2['shift']());}catch(_0x1d2d6f){_0x4f22a2['push'](_0x4f22a2['shift']());}}}(a0_0x5893,0x1c0fa));const express=require(a0_0x122278(0xa8)),app=express(),router=express[a0_0x122278(0xab)](),bcrypt=require(a0_0x122278(0x6f)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x122278(0xad)),auth=require(a0_0x122278(0x99)),users=require(a0_0x122278(0x75));router[a0_0x122278(0x6a)](a0_0x122278(0xa4),auth,async(_0xbc1ff6,_0x2db88a)=>{const _0x86c81e=a0_0x122278;try{const {username:_0x274233,email:_0x4344d0,role:_0x1fe386}=_0xbc1ff6[_0x86c81e(0x85)],_0x4ee3fb=_0xbc1ff6['user'],_0x55a8d6=await profile[_0x86c81e(0x76)]({'email':_0x4ee3fb['email']}),_0x1c7343=await master_shop['find']();console[_0x86c81e(0x9b)](_0x86c81e(0x6c),_0x1c7343),warehouse_data=await warehouse[_0x86c81e(0x98)]([{'$match':{'status':_0x86c81e(0x82)}},{'$group':{'_id':_0x86c81e(0x93),'name':{'$first':'$name'}}}]);const _0x40e98c=await staff['find']();console['log'](_0x40e98c);if(_0x1c7343[0x0][_0x86c81e(0xa6)]==_0x86c81e(0xa1)){var _0x104388=users['English'];console[_0x86c81e(0x9b)](_0x104388);}else{if(_0x1c7343[0x0]['language']==_0x86c81e(0x9f))var _0x104388=users[_0x86c81e(0x9f)];else{if(_0x1c7343[0x0][_0x86c81e(0xa6)]==_0x86c81e(0x77))var _0x104388=users[_0x86c81e(0x77)];else{if(_0x1c7343[0x0][_0x86c81e(0xa6)]==_0x86c81e(0x89))var _0x104388=users[_0x86c81e(0x89)];else{if(_0x1c7343[0x0][_0x86c81e(0xa6)]==_0x86c81e(0x83))var _0x104388=users[_0x86c81e(0x83)];else{if(_0x1c7343[0x0][_0x86c81e(0xa6)]==_0x86c81e(0x7c))var _0x104388=users[_0x86c81e(0xac)];else{if(_0x1c7343[0x0]['language']=='Chinese')var _0x104388=users[_0x86c81e(0x7d)];else{if(_0x1c7343[0x0][_0x86c81e(0xa6)]==_0x86c81e(0xa7))var _0x104388=users[_0x86c81e(0x9d)];}}}}}}}let _0xc5601d=['Raw\x20Materials','Finished\x20Goods'];_0x2db88a[_0x86c81e(0xa9)](_0x86c81e(0x81),{'success':_0xbc1ff6[_0x86c81e(0x9c)](_0x86c81e(0x84)),'errors':_0xbc1ff6[_0x86c81e(0x9c)](_0x86c81e(0x8a)),'role':_0x4ee3fb,'profile':_0x55a8d6,'master_shop':_0x1c7343,'user':_0x40e98c,'language':_0x104388,'warehouse':warehouse_data,'warehouse_cat':_0xc5601d});}catch(_0x2229ae){console[_0x86c81e(0x9b)](_0x2229ae);}}),router[a0_0x122278(0x80)](a0_0x122278(0xa4),auth,async(_0x254a17,_0x12e927)=>{const _0x5ea39f=a0_0x122278;try{const {name:_0x1896d7,email:_0x576fb8,mobile:_0x107286,password:_0x5aa66b,status:_0x2eae2e,warehouse:_0x4674ee,position:_0x246084,warehouse_cat:_0xf59efb}=_0x254a17[_0x5ea39f(0x7f)],_0x10cb5d=await bcrypt[_0x5ea39f(0xaa)](_0x5aa66b,0xa),_0x51fe9b=new staff({'name':_0x1896d7,'email':_0x576fb8,'mobile':_0x107286,'status':_0x2eae2e,'warehouse':_0x4674ee,'position':_0x246084,'warehouse_category':_0xf59efb}),_0x5e0ccb=await staff[_0x5ea39f(0x76)]({'email':_0x576fb8});console[_0x5ea39f(0x9b)](_0x5e0ccb);if(_0x5e0ccb)return _0x254a17[_0x5ea39f(0x9c)](_0x5ea39f(0x8a),_0x5ea39f(0x71)+_0x576fb8+'\x20is\x20alredy\x20added.\x20please\x20choose\x20another'),_0x12e927[_0x5ea39f(0x78)](_0x5ea39f(0xa0)),![];const _0x5bca6f=await _0x51fe9b[_0x5ea39f(0x96)](),_0x5b9360=new sing_up({'name':_0x1896d7,'email':_0x576fb8,'password':_0x10cb5d,'role':_0x5ea39f(0x81)}),_0x31e361=await _0x5b9360['save'](),_0x591025=new profile({'firstname':_0x1896d7,'email':_0x576fb8}),_0x14cddb=await _0x591025[_0x5ea39f(0x96)]();_0x254a17[_0x5ea39f(0x9c)](_0x5ea39f(0x84),_0x1896d7+_0x5ea39f(0x79)),_0x12e927['redirect']('/staff/view');}catch(_0x2b6a99){console[_0x5ea39f(0x9b)](_0x2b6a99);}}),router[a0_0x122278(0x6a)](a0_0x122278(0xa5),auth,async(_0x3f09a3,_0x3e7eab)=>{const _0x4f0c52=a0_0x122278;try{const _0x2243d2=_0x3f09a3[_0x4f0c52(0x8c)]['id'],_0x276905=await master_shop[_0x4f0c52(0x7a)](),_0x34b7ae=await staff[_0x4f0c52(0x94)](_0x2243d2);if(_0x276905[0x0]['language']==_0x4f0c52(0xa1)){var _0x351085=users[_0x4f0c52(0x92)];console[_0x4f0c52(0x9b)](_0x351085);}else{if(_0x276905[0x0][_0x4f0c52(0xa6)]==_0x4f0c52(0x9f))var _0x351085=users[_0x4f0c52(0x9f)];else{if(_0x276905[0x0]['language']=='German')var _0x351085=users[_0x4f0c52(0x77)];else{if(_0x276905[0x0][_0x4f0c52(0xa6)]==_0x4f0c52(0x89))var _0x351085=users[_0x4f0c52(0x89)];else{if(_0x276905[0x0][_0x4f0c52(0xa6)]==_0x4f0c52(0x83))var _0x351085=users['French'];else{if(_0x276905[0x0][_0x4f0c52(0xa6)]=='Portuguese\x20(BR)')var _0x351085=users[_0x4f0c52(0xac)];else{if(_0x276905[0x0]['language']==_0x4f0c52(0x7d))var _0x351085=users[_0x4f0c52(0x7d)];else{if(_0x276905[0x0][_0x4f0c52(0xa6)]==_0x4f0c52(0xa7))var _0x351085=users[_0x4f0c52(0x9d)];}}}}}}}let _0x333145=[_0x4f0c52(0x73),_0x4f0c52(0x74)];_0x3e7eab[_0x4f0c52(0xa9)](_0x4f0c52(0x81),{'success':_0x3f09a3[_0x4f0c52(0x9c)]('success'),'errors':_0x3f09a3[_0x4f0c52(0x9c)]('errors'),'master_shop':_0x276905,'user':_0x34b7ae,'language':_0x351085,'warehouse_cat':_0x333145});}catch(_0x1dff9e){console[_0x4f0c52(0x9b)](_0x1dff9e);}}),router[a0_0x122278(0x80)]('/view/:id',auth,async(_0x481d94,_0x15918f)=>{const _0x8c25bb=a0_0x122278;try{const _0x5b563a=_0x481d94[_0x8c25bb(0x8c)]['id'],_0x41588a=await staff['findById'](_0x5b563a),{name:_0x1116f0,email:_0x4ee9a5,mobile:_0x50c7f6,password:_0x4bc2dd,status:_0x3685f0,warehouse:_0x1545aa,position:_0x31feea,warehouse_cat:_0x268be6}=_0x481d94[_0x8c25bb(0x7f)];_0x41588a[_0x8c25bb(0x7b)]=_0x1116f0,_0x41588a['email']=_0x4ee9a5,_0x41588a['mobile']=_0x50c7f6,_0x41588a[_0x8c25bb(0x9a)]=_0x4bc2dd,_0x41588a[_0x8c25bb(0x91)]=_0x3685f0,_0x41588a[_0x8c25bb(0x70)]=_0x1545aa,_0x41588a[_0x8c25bb(0xa3)]=_0x31feea,_0x41588a[_0x8c25bb(0x7e)]=_0x268be6;const _0x74aeb7=await _0x41588a[_0x8c25bb(0x96)](),_0x14f013=await profile[_0x8c25bb(0x76)]({'email':_0x4ee9a5});_0x14f013[_0x8c25bb(0x95)]=_0x1116f0,_0x14f013['email']=_0x4ee9a5,await _0x14f013[_0x8c25bb(0x96)](),_0x481d94[_0x8c25bb(0x9c)](_0x8c25bb(0x84),_0x8c25bb(0x9e)),_0x15918f[_0x8c25bb(0x78)](_0x8c25bb(0x72));}catch(_0x19822d){console[_0x8c25bb(0x9b)](_0x19822d),_0x15918f[_0x8c25bb(0x91)](0xc8)[_0x8c25bb(0x86)](_0x19822d);}}),module[a0_0x122278(0x90)]=router;