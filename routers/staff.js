const a0_0x2fb1cc=a0_0x1e83;function a0_0x2a4d(){const _0x3e0641=['German','68790xQWMBx','1109160chSrvl','/staff/view','language','666972IEcBJw','save','1301622SSOpUz','email','findById','../middleware/auth','errors','$name','\x20is\x20add\x20successfully','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Finished\x20Goods','mobile','exports','2417AeRnvM','body','Spanish','74wWpyFR','user','/view/:id','../public/language/languages.json','log','staff\x20data\x20update\x20successfully','findOne','Enabled','198sfElvy','Router','Arabic','name','aggregate','Portuguese','staff','warehouse_category','success','English\x20(US)','../models/all_models','express','Raw\x20Materials','get','English','444192wDagYy','4560mwgwgI','/view','redirect','post','json','find','Arabic\x20(ae)','flash','Email\x20','Hindi','688TgeRoj','render','Chinese','French','bcryptjs','master'];a0_0x2a4d=function(){return _0x3e0641;};return a0_0x2a4d();}(function(_0x256710,_0x1d5bef){const _0xfa442e=a0_0x1e83,_0x5e9829=_0x256710();while(!![]){try{const _0x2b60e4=-parseInt(_0xfa442e(0x161))/0x1*(parseInt(_0xfa442e(0x164))/0x2)+parseInt(_0xfa442e(0x191))/0x3+parseInt(_0xfa442e(0x186))/0x4*(-parseInt(_0xfa442e(0x17c))/0x5)+parseInt(_0xfa442e(0x17b))/0x6+-parseInt(_0xfa442e(0x193))/0x7+parseInt(_0xfa442e(0x18e))/0x8+parseInt(_0xfa442e(0x16c))/0x9*(parseInt(_0xfa442e(0x18d))/0xa);if(_0x2b60e4===_0x1d5bef)break;else _0x5e9829['push'](_0x5e9829['shift']());}catch(_0x479076){_0x5e9829['push'](_0x5e9829['shift']());}}}(a0_0x2a4d,0x259f4));function a0_0x1e83(_0x78788b,_0x513c34){const _0x2a4d11=a0_0x2a4d();return a0_0x1e83=function(_0x1e8365,_0x3dd2f4){_0x1e8365=_0x1e8365-0x158;let _0x4c1e4b=_0x2a4d11[_0x1e8365];return _0x4c1e4b;},a0_0x1e83(_0x78788b,_0x513c34);}const express=require(a0_0x2fb1cc(0x177)),app=express(),router=express[a0_0x2fb1cc(0x16d)](),bcrypt=require(a0_0x2fb1cc(0x18a)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x2fb1cc(0x176)),auth=require(a0_0x2fb1cc(0x159)),users=require(a0_0x2fb1cc(0x167));router[a0_0x2fb1cc(0x179)](a0_0x2fb1cc(0x17d),auth,async(_0x1ff836,_0x22cf65)=>{const _0x105e68=a0_0x2fb1cc;try{const {username:_0x51b293,email:_0x207e68,role:_0x3dd26a}=_0x1ff836[_0x105e68(0x165)],_0x190302=_0x1ff836[_0x105e68(0x165)],_0x11261f=await profile['findOne']({'email':_0x190302['email']}),_0x2c07b6=await master_shop[_0x105e68(0x181)]();console['log'](_0x105e68(0x18b),_0x2c07b6),warehouse_data=await warehouse[_0x105e68(0x170)]([{'$match':{'status':_0x105e68(0x16b)}},{'$group':{'_id':'$name','name':{'$first':_0x105e68(0x15b)}}}]);const _0xefde25=await staff[_0x105e68(0x181)]();console['log'](_0xefde25);if(_0x2c07b6[0x0][_0x105e68(0x190)]==_0x105e68(0x175)){var _0x59acc6=users[_0x105e68(0x17a)];console[_0x105e68(0x168)](_0x59acc6);}else{if(_0x2c07b6[0x0][_0x105e68(0x190)]==_0x105e68(0x185))var _0x59acc6=users['Hindi'];else{if(_0x2c07b6[0x0][_0x105e68(0x190)]==_0x105e68(0x18c))var _0x59acc6=users[_0x105e68(0x18c)];else{if(_0x2c07b6[0x0][_0x105e68(0x190)]==_0x105e68(0x163))var _0x59acc6=users[_0x105e68(0x163)];else{if(_0x2c07b6[0x0]['language']==_0x105e68(0x189))var _0x59acc6=users['French'];else{if(_0x2c07b6[0x0]['language']=='Portuguese\x20(BR)')var _0x59acc6=users[_0x105e68(0x171)];else{if(_0x2c07b6[0x0][_0x105e68(0x190)]=='Chinese')var _0x59acc6=users[_0x105e68(0x188)];else{if(_0x2c07b6[0x0][_0x105e68(0x190)]==_0x105e68(0x182))var _0x59acc6=users[_0x105e68(0x16e)];}}}}}}}let _0x2ff481=['Raw\x20Materials','Finished\x20Goods'];_0x22cf65['render'](_0x105e68(0x172),{'success':_0x1ff836[_0x105e68(0x183)]('success'),'errors':_0x1ff836[_0x105e68(0x183)](_0x105e68(0x15a)),'role':_0x190302,'profile':_0x11261f,'master_shop':_0x2c07b6,'user':_0xefde25,'language':_0x59acc6,'warehouse':warehouse_data,'warehouse_cat':_0x2ff481});}catch(_0x19b1ef){console[_0x105e68(0x168)](_0x19b1ef);}}),router[a0_0x2fb1cc(0x17f)](a0_0x2fb1cc(0x17d),auth,async(_0x4e5ef1,_0x1f8667)=>{const _0x121774=a0_0x2fb1cc;try{const {name:_0x253258,email:_0x1fda02,mobile:_0x1960fe,password:_0x469b1c,status:_0x571877,warehouse:_0xe22cf8,position:_0x3d697b,warehouse_cat:_0x129623}=_0x4e5ef1[_0x121774(0x162)],_0x486185=await bcrypt['hash'](_0x469b1c,0xa),_0x3a91b7=new staff({'name':_0x253258,'email':_0x1fda02,'mobile':_0x1960fe,'status':_0x571877,'warehouse':_0xe22cf8,'position':_0x3d697b,'warehouse_category':_0x129623}),_0xb32c64=await staff['findOne']({'email':_0x1fda02});console[_0x121774(0x168)](_0xb32c64);if(_0xb32c64)return _0x4e5ef1[_0x121774(0x183)](_0x121774(0x15a),_0x121774(0x184)+_0x1fda02+_0x121774(0x15d)),_0x1f8667[_0x121774(0x17e)]('back'),![];const _0x13821c=await _0x3a91b7[_0x121774(0x192)](),_0x1e9a62=new sing_up({'name':_0x253258,'email':_0x1fda02,'password':_0x486185,'role':_0x121774(0x172)}),_0x554efb=await _0x1e9a62[_0x121774(0x192)](),_0xc76dfa=new profile({'firstname':_0x253258,'email':_0x1fda02}),_0x20f9e3=await _0xc76dfa[_0x121774(0x192)]();_0x4e5ef1[_0x121774(0x183)](_0x121774(0x174),_0x253258+_0x121774(0x15c)),_0x1f8667[_0x121774(0x17e)](_0x121774(0x18f));}catch(_0x41717b){console[_0x121774(0x168)](_0x41717b);}}),router[a0_0x2fb1cc(0x179)]('/view/:id',auth,async(_0x2f0218,_0x326026)=>{const _0x2e3e3b=a0_0x2fb1cc;try{const _0x340d2d=_0x2f0218['params']['id'],_0x2d49dd=await master_shop[_0x2e3e3b(0x181)](),_0x38b5bf=await staff[_0x2e3e3b(0x158)](_0x340d2d);if(_0x2d49dd[0x0][_0x2e3e3b(0x190)]==_0x2e3e3b(0x175)){var _0x4b31dd=users[_0x2e3e3b(0x17a)];console[_0x2e3e3b(0x168)](_0x4b31dd);}else{if(_0x2d49dd[0x0]['language']==_0x2e3e3b(0x185))var _0x4b31dd=users[_0x2e3e3b(0x185)];else{if(_0x2d49dd[0x0][_0x2e3e3b(0x190)]==_0x2e3e3b(0x18c))var _0x4b31dd=users[_0x2e3e3b(0x18c)];else{if(_0x2d49dd[0x0][_0x2e3e3b(0x190)]==_0x2e3e3b(0x163))var _0x4b31dd=users[_0x2e3e3b(0x163)];else{if(_0x2d49dd[0x0][_0x2e3e3b(0x190)]==_0x2e3e3b(0x189))var _0x4b31dd=users[_0x2e3e3b(0x189)];else{if(_0x2d49dd[0x0][_0x2e3e3b(0x190)]=='Portuguese\x20(BR)')var _0x4b31dd=users[_0x2e3e3b(0x171)];else{if(_0x2d49dd[0x0][_0x2e3e3b(0x190)]=='Chinese')var _0x4b31dd=users['Chinese'];else{if(_0x2d49dd[0x0][_0x2e3e3b(0x190)]==_0x2e3e3b(0x182))var _0x4b31dd=users[_0x2e3e3b(0x16e)];}}}}}}}let _0x216546=[_0x2e3e3b(0x178),_0x2e3e3b(0x15e)];_0x326026[_0x2e3e3b(0x187)](_0x2e3e3b(0x172),{'success':_0x2f0218[_0x2e3e3b(0x183)]('success'),'errors':_0x2f0218[_0x2e3e3b(0x183)](_0x2e3e3b(0x15a)),'master_shop':_0x2d49dd,'user':_0x38b5bf,'language':_0x4b31dd,'warehouse_cat':_0x216546});}catch(_0x532f64){console[_0x2e3e3b(0x168)](_0x532f64);}}),router[a0_0x2fb1cc(0x17f)](a0_0x2fb1cc(0x166),auth,async(_0x57f1d1,_0x2a4f58)=>{const _0x590a81=a0_0x2fb1cc;try{const _0x1e2c5d=_0x57f1d1['params']['id'],_0x368a60=await staff['findById'](_0x1e2c5d),{name:_0x14e268,email:_0x17ee81,mobile:_0x51fbe0,password:_0x2dab24,status:_0x2300c9,warehouse:_0x27e54d,position:_0x5a9bcf,warehouse_cat:_0x2f929a}=_0x57f1d1[_0x590a81(0x162)];_0x368a60[_0x590a81(0x16f)]=_0x14e268,_0x368a60['email']=_0x17ee81,_0x368a60[_0x590a81(0x15f)]=_0x51fbe0,_0x368a60['password']=_0x2dab24,_0x368a60['status']=_0x2300c9,_0x368a60['warehouse']=_0x27e54d,_0x368a60['position']=_0x5a9bcf,_0x368a60[_0x590a81(0x173)]=_0x2f929a;const _0x1ad34a=await _0x368a60[_0x590a81(0x192)](),_0x470770=await profile[_0x590a81(0x16a)]({'email':_0x17ee81});_0x470770['firstname']=_0x14e268,_0x470770[_0x590a81(0x194)]=_0x17ee81,await _0x470770[_0x590a81(0x192)](),_0x57f1d1[_0x590a81(0x183)]('success',_0x590a81(0x169)),_0x2a4f58[_0x590a81(0x17e)](_0x590a81(0x18f));}catch(_0x53b348){console[_0x590a81(0x168)](_0x53b348),_0x2a4f58['status'](0xc8)[_0x590a81(0x180)](_0x53b348);}}),module[a0_0x2fb1cc(0x160)]=router;