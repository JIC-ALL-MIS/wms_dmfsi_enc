const a0_0x3365d8=a0_0x29d0;function a0_0x29d0(_0x404dee,_0x41d423){const _0x40434c=a0_0x4043();return a0_0x29d0=function(_0x29d0fc,_0x4ba3f4){_0x29d0fc=_0x29d0fc-0x10f;let _0x48716a=_0x40434c[_0x29d0fc];return _0x48716a;},a0_0x29d0(_0x404dee,_0x41d423);}(function(_0x13c10a,_0xc2c48){const _0x14a94a=a0_0x29d0,_0x424751=_0x13c10a();while(!![]){try{const _0x209280=-parseInt(_0x14a94a(0x142))/0x1+-parseInt(_0x14a94a(0x125))/0x2+parseInt(_0x14a94a(0x13a))/0x3+parseInt(_0x14a94a(0x119))/0x4+-parseInt(_0x14a94a(0x14a))/0x5*(-parseInt(_0x14a94a(0x12b))/0x6)+-parseInt(_0x14a94a(0x124))/0x7*(-parseInt(_0x14a94a(0x11e))/0x8)+-parseInt(_0x14a94a(0x145))/0x9*(parseInt(_0x14a94a(0x148))/0xa);if(_0x209280===_0xc2c48)break;else _0x424751['push'](_0x424751['shift']());}catch(_0x302328){_0x424751['push'](_0x424751['shift']());}}}(a0_0x4043,0x70b0d));const express=require(a0_0x3365d8(0x113)),app=express(),router=express[a0_0x3365d8(0x114)](),bcrypt=require(a0_0x3365d8(0x13b)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require('../models/all_models'),auth=require(a0_0x3365d8(0x147)),users=require(a0_0x3365d8(0x120));router[a0_0x3365d8(0x121)](a0_0x3365d8(0x11c),auth,async(_0x4d2c10,_0x33cbd8)=>{const _0x213ef8=a0_0x3365d8;try{const {username:_0x3163f8,email:_0x68b6b9,role:_0x697647}=_0x4d2c10[_0x213ef8(0x11f)],_0x1874f6=_0x4d2c10[_0x213ef8(0x11f)],_0x207dbc=await profile[_0x213ef8(0x140)]({'email':_0x1874f6['email']}),_0x19eb83=await master_shop[_0x213ef8(0x12d)]();console['log'](_0x213ef8(0x122),_0x19eb83),warehouse_data=await warehouse[_0x213ef8(0x117)]([{'$match':{'status':_0x213ef8(0x131)}},{'$group':{'_id':_0x213ef8(0x110),'name':{'$first':'$name'}}}]);const _0x5ab669=await staff[_0x213ef8(0x12d)]();console[_0x213ef8(0x14e)](_0x5ab669);if(_0x19eb83[0x0][_0x213ef8(0x14f)]=='English\x20(US)'){var _0x44efc4=users['English'];console['log'](_0x44efc4);}else{if(_0x19eb83[0x0][_0x213ef8(0x14f)]=='Hindi')var _0x44efc4=users[_0x213ef8(0x12f)];else{if(_0x19eb83[0x0]['language']==_0x213ef8(0x13f))var _0x44efc4=users[_0x213ef8(0x13f)];else{if(_0x19eb83[0x0][_0x213ef8(0x14f)]==_0x213ef8(0x11a))var _0x44efc4=users[_0x213ef8(0x11a)];else{if(_0x19eb83[0x0]['language']==_0x213ef8(0x127))var _0x44efc4=users['French'];else{if(_0x19eb83[0x0][_0x213ef8(0x14f)]==_0x213ef8(0x123))var _0x44efc4=users[_0x213ef8(0x13c)];else{if(_0x19eb83[0x0][_0x213ef8(0x14f)]==_0x213ef8(0x136))var _0x44efc4=users[_0x213ef8(0x136)];else{if(_0x19eb83[0x0][_0x213ef8(0x14f)]=='Arabic\x20(ae)')var _0x44efc4=users[_0x213ef8(0x139)];}}}}}}}let _0x4fcbc2=[_0x213ef8(0x150),_0x213ef8(0x13d)];_0x33cbd8[_0x213ef8(0x137)](_0x213ef8(0x128),{'success':_0x4d2c10[_0x213ef8(0x151)](_0x213ef8(0x141)),'errors':_0x4d2c10[_0x213ef8(0x151)]('errors'),'role':_0x1874f6,'profile':_0x207dbc,'master_shop':_0x19eb83,'user':_0x5ab669,'language':_0x44efc4,'warehouse':warehouse_data,'warehouse_cat':_0x4fcbc2});}catch(_0x17db59){console[_0x213ef8(0x14e)](_0x17db59);}}),router[a0_0x3365d8(0x12a)](a0_0x3365d8(0x11c),auth,async(_0x4c94ab,_0x2d3657)=>{const _0x559d3d=a0_0x3365d8;try{const {name:_0x39529a,email:_0x233ce,mobile:_0x4ae607,password:_0x40d3e5,status:_0x59d26f,warehouse:_0x26f54e,position:_0x200dfb,warehouse_cat:_0x285023}=_0x4c94ab[_0x559d3d(0x132)],_0x18ef78=await bcrypt[_0x559d3d(0x144)](_0x40d3e5,0xa),_0x3a1210=new staff({'name':_0x39529a,'email':_0x233ce,'mobile':_0x4ae607,'status':_0x59d26f,'warehouse':_0x26f54e,'position':_0x200dfb,'warehouse_category':_0x285023}),_0x4736ca=await staff[_0x559d3d(0x140)]({'email':_0x233ce});console[_0x559d3d(0x14e)](_0x4736ca);if(_0x4736ca)return _0x4c94ab[_0x559d3d(0x151)](_0x559d3d(0x143),_0x559d3d(0x11b)+_0x233ce+_0x559d3d(0x112)),_0x2d3657['redirect'](_0x559d3d(0x133)),![];const _0x118fd2=await _0x3a1210[_0x559d3d(0x10f)](),_0x56eddc=new sing_up({'name':_0x39529a,'email':_0x233ce,'password':_0x18ef78,'role':'staff'}),_0x4d10e7=await _0x56eddc['save'](),_0x4ad28a=new profile({'firstname':_0x39529a,'email':_0x233ce}),_0x241710=await _0x4ad28a[_0x559d3d(0x10f)]();_0x4c94ab['flash']('success',_0x39529a+_0x559d3d(0x135)),_0x2d3657['redirect'](_0x559d3d(0x126));}catch(_0x346806){console[_0x559d3d(0x14e)](_0x346806);}}),router[a0_0x3365d8(0x121)](a0_0x3365d8(0x116),auth,async(_0x3451d1,_0x78a514)=>{const _0x103700=a0_0x3365d8;try{const _0x116131=_0x3451d1['params']['id'],_0x2fa1a6=await master_shop[_0x103700(0x12d)](),_0x351801=await staff[_0x103700(0x149)](_0x116131);if(_0x2fa1a6[0x0][_0x103700(0x14f)]=='English\x20(US)'){var _0x5efd1c=users[_0x103700(0x11d)];console['log'](_0x5efd1c);}else{if(_0x2fa1a6[0x0][_0x103700(0x14f)]=='Hindi')var _0x5efd1c=users[_0x103700(0x12f)];else{if(_0x2fa1a6[0x0]['language']==_0x103700(0x13f))var _0x5efd1c=users[_0x103700(0x13f)];else{if(_0x2fa1a6[0x0]['language']=='Spanish')var _0x5efd1c=users[_0x103700(0x11a)];else{if(_0x2fa1a6[0x0]['language']==_0x103700(0x127))var _0x5efd1c=users[_0x103700(0x127)];else{if(_0x2fa1a6[0x0]['language']=='Portuguese\x20(BR)')var _0x5efd1c=users[_0x103700(0x13c)];else{if(_0x2fa1a6[0x0][_0x103700(0x14f)]==_0x103700(0x136))var _0x5efd1c=users['Chinese'];else{if(_0x2fa1a6[0x0][_0x103700(0x14f)]==_0x103700(0x12c))var _0x5efd1c=users[_0x103700(0x139)];}}}}}}}let _0x3f5bdf=[_0x103700(0x150),_0x103700(0x13d)];_0x78a514[_0x103700(0x137)]('staff',{'success':_0x3451d1[_0x103700(0x151)](_0x103700(0x141)),'errors':_0x3451d1[_0x103700(0x151)]('errors'),'master_shop':_0x2fa1a6,'user':_0x351801,'language':_0x5efd1c,'warehouse_cat':_0x3f5bdf});}catch(_0x1f8abe){console['log'](_0x1f8abe);}}),router[a0_0x3365d8(0x12a)]('/view/:id',auth,async(_0x300d3f,_0x318a13)=>{const _0xe9d46b=a0_0x3365d8;try{const _0x557687=_0x300d3f[_0xe9d46b(0x129)]['id'],_0x67f89e=await staff['findById'](_0x557687),{name:_0x1ea62b,email:_0x407c3a,mobile:_0x12e461,password:_0x1c138d,status:_0x2c2d7e,warehouse:_0x166249,position:_0x248f1c,warehouse_cat:_0x114be0}=_0x300d3f['body'];_0x67f89e[_0xe9d46b(0x118)]=_0x1ea62b,_0x67f89e[_0xe9d46b(0x13e)]=_0x407c3a,_0x67f89e[_0xe9d46b(0x134)]=_0x12e461,_0x67f89e['password']=_0x1c138d,_0x67f89e[_0xe9d46b(0x130)]=_0x2c2d7e,_0x67f89e[_0xe9d46b(0x14d)]=_0x166249,_0x67f89e[_0xe9d46b(0x12e)]=_0x248f1c,_0x67f89e[_0xe9d46b(0x111)]=_0x114be0;const _0x1ea2dc=await _0x67f89e['save'](),_0x5349af=await profile[_0xe9d46b(0x140)]({'email':_0x407c3a});_0x5349af[_0xe9d46b(0x14c)]=_0x1ea62b,_0x5349af[_0xe9d46b(0x13e)]=_0x407c3a,await _0x5349af[_0xe9d46b(0x10f)](),_0x300d3f['flash'](_0xe9d46b(0x141),_0xe9d46b(0x146)),_0x318a13[_0xe9d46b(0x14b)](_0xe9d46b(0x126));}catch(_0x351b91){console['log'](_0x351b91),_0x318a13[_0xe9d46b(0x130)](0xc8)[_0xe9d46b(0x115)](_0x351b91);}}),module[a0_0x3365d8(0x138)]=router;function a0_0x4043(){const _0x352f74=['status','Enabled','body','back','mobile','\x20is\x20add\x20successfully','Chinese','render','exports','Arabic','839574MiTvcz','bcryptjs','Portuguese','Finished\x20Goods','email','German','findOne','success','513543HJthdo','errors','hash','9Hoovng','staff\x20data\x20update\x20successfully','../middleware/auth','6661390XExSbz','findById','1465FsETbQ','redirect','firstname','warehouse','log','language','Raw\x20Materials','flash','save','$name','warehouse_category','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','express','Router','json','/view/:id','aggregate','name','1295072wUIFjj','Spanish','Email\x20','/view','English','7147744DHKtQE','user','../public/language/languages.json','get','master','Portuguese\x20(BR)','7EeJqSx','1536466vlllKd','/staff/view','French','staff','params','post','18684wMyBCP','Arabic\x20(ae)','find','position','Hindi'];a0_0x4043=function(){return _0x352f74;};return a0_0x4043();}