const a0_0xb87e05=a0_0x36b9;(function(_0xe975f4,_0x5e2074){const _0x1cbdcc=a0_0x36b9,_0x5b82e7=_0xe975f4();while(!![]){try{const _0x3f9f38=parseInt(_0x1cbdcc(0x1bd))/0x1+-parseInt(_0x1cbdcc(0x1bf))/0x2+-parseInt(_0x1cbdcc(0x1ca))/0x3+-parseInt(_0x1cbdcc(0x1c0))/0x4*(parseInt(_0x1cbdcc(0x1d5))/0x5)+parseInt(_0x1cbdcc(0x1b5))/0x6+-parseInt(_0x1cbdcc(0x1ce))/0x7+parseInt(_0x1cbdcc(0x1b3))/0x8;if(_0x3f9f38===_0x5e2074)break;else _0x5b82e7['push'](_0x5b82e7['shift']());}catch(_0x5293fd){_0x5b82e7['push'](_0x5b82e7['shift']());}}}(a0_0x289d,0x30287));const express=require(a0_0xb87e05(0x1cd)),app=express(),router=express[a0_0xb87e05(0x1cc)](),bcrypt=require('bcryptjs'),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0xb87e05(0x1be)),auth=require('../middleware/auth'),users=require('../public/language/languages.json');function a0_0x289d(){const _0x5de0f6=['Arabic\x20(ae)','Router','express','2070929vjsvRv','errors','render','/view/:id','warehouse','staff','English\x20(US)','343025mcedpi','Enabled','Raw\x20Materials','post','French','redirect','Portuguese','exports','success','hash','Chinese','Portuguese\x20(BR)','email','\x20is\x20add\x20successfully','firstname','back','aggregate','Finished\x20Goods','Arabic','get','params','language','flash','1861432uqjkgM','findById','2311650pIGJwS','staff\x20data\x20update\x20successfully','mobile','English','log','Hindi','German','$name','356090yDEvVr','../models/all_models','72250GPSbQn','4gFeoMa','password','body','name','Spanish','find','save','status','warehouse_category','/staff/view','1128636tbFQja'];a0_0x289d=function(){return _0x5de0f6;};return a0_0x289d();}function a0_0x36b9(_0x371ec9,_0x2a91de){const _0x289ddf=a0_0x289d();return a0_0x36b9=function(_0x36b9b0,_0x47ec8a){_0x36b9b0=_0x36b9b0-0x1ae;let _0x575388=_0x289ddf[_0x36b9b0];return _0x575388;},a0_0x36b9(_0x371ec9,_0x2a91de);}router[a0_0xb87e05(0x1af)]('/view',auth,async(_0x367ce7,_0x546572)=>{const _0x24788b=a0_0xb87e05;try{const {username:_0x4647e6,email:_0x5c6829,role:_0x4c4def}=_0x367ce7['user'],_0x2c8d25=_0x367ce7['user'],_0x8f39cd=await profile['findOne']({'email':_0x2c8d25[_0x24788b(0x1e1)]}),_0x2c59e8=await master_shop['find']();console[_0x24788b(0x1b9)]('master',_0x2c59e8),warehouse_data=await warehouse[_0x24788b(0x1e5)]([{'$match':{'status':_0x24788b(0x1d6)}},{'$group':{'_id':_0x24788b(0x1bc),'name':{'$first':'$name'}}}]);const _0x3c17d3=await staff[_0x24788b(0x1c5)]();console[_0x24788b(0x1b9)](_0x3c17d3);if(_0x2c59e8[0x0][_0x24788b(0x1b1)]==_0x24788b(0x1d4)){var _0x83d807=users[_0x24788b(0x1b8)];console[_0x24788b(0x1b9)](_0x83d807);}else{if(_0x2c59e8[0x0]['language']=='Hindi')var _0x83d807=users[_0x24788b(0x1ba)];else{if(_0x2c59e8[0x0][_0x24788b(0x1b1)]=='German')var _0x83d807=users[_0x24788b(0x1bb)];else{if(_0x2c59e8[0x0]['language']=='Spanish')var _0x83d807=users[_0x24788b(0x1c4)];else{if(_0x2c59e8[0x0]['language']==_0x24788b(0x1d9))var _0x83d807=users[_0x24788b(0x1d9)];else{if(_0x2c59e8[0x0][_0x24788b(0x1b1)]==_0x24788b(0x1e0))var _0x83d807=users[_0x24788b(0x1db)];else{if(_0x2c59e8[0x0][_0x24788b(0x1b1)]==_0x24788b(0x1df))var _0x83d807=users[_0x24788b(0x1df)];else{if(_0x2c59e8[0x0][_0x24788b(0x1b1)]==_0x24788b(0x1cb))var _0x83d807=users[_0x24788b(0x1ae)];}}}}}}}let _0x448fc1=[_0x24788b(0x1d7),_0x24788b(0x1e6)];_0x546572[_0x24788b(0x1d0)](_0x24788b(0x1d3),{'success':_0x367ce7[_0x24788b(0x1b2)]('success'),'errors':_0x367ce7[_0x24788b(0x1b2)]('errors'),'role':_0x2c8d25,'profile':_0x8f39cd,'master_shop':_0x2c59e8,'user':_0x3c17d3,'language':_0x83d807,'warehouse':warehouse_data,'warehouse_cat':_0x448fc1});}catch(_0x7455ee){console[_0x24788b(0x1b9)](_0x7455ee);}}),router[a0_0xb87e05(0x1d8)]('/view',auth,async(_0x30ad28,_0x22fc7b)=>{const _0x11d405=a0_0xb87e05;try{const {name:_0x29f46b,email:_0x4375f8,mobile:_0x31d6c0,password:_0x13b3ee,status:_0x5fb520,warehouse:_0x5d79d2,position:_0x1e1cc6,warehouse_cat:_0x2f1a1e}=_0x30ad28[_0x11d405(0x1c2)],_0x26bbb1=await bcrypt[_0x11d405(0x1de)](_0x13b3ee,0xa),_0x12e6d7=new staff({'name':_0x29f46b,'email':_0x4375f8,'mobile':_0x31d6c0,'status':_0x5fb520,'warehouse':_0x5d79d2,'position':_0x1e1cc6,'warehouse_category':_0x2f1a1e}),_0x29c0d4=await staff['findOne']({'email':_0x4375f8});console[_0x11d405(0x1b9)](_0x29c0d4);if(_0x29c0d4)return _0x30ad28[_0x11d405(0x1b2)](_0x11d405(0x1cf),'Email\x20'+_0x4375f8+'\x20is\x20alredy\x20added.\x20please\x20choose\x20another'),_0x22fc7b[_0x11d405(0x1da)](_0x11d405(0x1e4)),![];const _0xc2d6b1=await _0x12e6d7[_0x11d405(0x1c6)](),_0x3da177=new sing_up({'name':_0x29f46b,'email':_0x4375f8,'password':_0x26bbb1,'role':'staff'}),_0x4e476a=await _0x3da177[_0x11d405(0x1c6)](),_0x2f8db8=new profile({'firstname':_0x29f46b,'email':_0x4375f8}),_0x11d08d=await _0x2f8db8[_0x11d405(0x1c6)]();_0x30ad28[_0x11d405(0x1b2)](_0x11d405(0x1dd),_0x29f46b+_0x11d405(0x1e2)),_0x22fc7b[_0x11d405(0x1da)](_0x11d405(0x1c9));}catch(_0x3a3c44){console['log'](_0x3a3c44);}}),router[a0_0xb87e05(0x1af)](a0_0xb87e05(0x1d1),auth,async(_0x221bfe,_0x22db70)=>{const _0x49cb98=a0_0xb87e05;try{const _0x73f847=_0x221bfe[_0x49cb98(0x1b0)]['id'],_0x2cbc47=await master_shop['find'](),_0x47b295=await staff[_0x49cb98(0x1b4)](_0x73f847);if(_0x2cbc47[0x0][_0x49cb98(0x1b1)]==_0x49cb98(0x1d4)){var _0x17af33=users[_0x49cb98(0x1b8)];console[_0x49cb98(0x1b9)](_0x17af33);}else{if(_0x2cbc47[0x0]['language']==_0x49cb98(0x1ba))var _0x17af33=users[_0x49cb98(0x1ba)];else{if(_0x2cbc47[0x0][_0x49cb98(0x1b1)]==_0x49cb98(0x1bb))var _0x17af33=users[_0x49cb98(0x1bb)];else{if(_0x2cbc47[0x0][_0x49cb98(0x1b1)]=='Spanish')var _0x17af33=users['Spanish'];else{if(_0x2cbc47[0x0][_0x49cb98(0x1b1)]==_0x49cb98(0x1d9))var _0x17af33=users['French'];else{if(_0x2cbc47[0x0][_0x49cb98(0x1b1)]==_0x49cb98(0x1e0))var _0x17af33=users[_0x49cb98(0x1db)];else{if(_0x2cbc47[0x0][_0x49cb98(0x1b1)]=='Chinese')var _0x17af33=users[_0x49cb98(0x1df)];else{if(_0x2cbc47[0x0][_0x49cb98(0x1b1)]==_0x49cb98(0x1cb))var _0x17af33=users[_0x49cb98(0x1ae)];}}}}}}}let _0x10beb9=[_0x49cb98(0x1d7),_0x49cb98(0x1e6)];_0x22db70[_0x49cb98(0x1d0)]('staff',{'success':_0x221bfe['flash']('success'),'errors':_0x221bfe['flash'](_0x49cb98(0x1cf)),'master_shop':_0x2cbc47,'user':_0x47b295,'language':_0x17af33,'warehouse_cat':_0x10beb9});}catch(_0x456a21){console[_0x49cb98(0x1b9)](_0x456a21);}}),router[a0_0xb87e05(0x1d8)](a0_0xb87e05(0x1d1),auth,async(_0x481f61,_0x411a9e)=>{const _0x455c36=a0_0xb87e05;try{const _0x22eb50=_0x481f61['params']['id'],_0x43dfd0=await staff[_0x455c36(0x1b4)](_0x22eb50),{name:_0x362ca8,email:_0x34aa75,mobile:_0x367190,password:_0x3118ae,status:_0x4164e3,warehouse:_0x17116a,position:_0x476af4,warehouse_cat:_0x3d0186}=_0x481f61['body'];_0x43dfd0[_0x455c36(0x1c3)]=_0x362ca8,_0x43dfd0[_0x455c36(0x1e1)]=_0x34aa75,_0x43dfd0[_0x455c36(0x1b7)]=_0x367190,_0x43dfd0[_0x455c36(0x1c1)]=_0x3118ae,_0x43dfd0['status']=_0x4164e3,_0x43dfd0[_0x455c36(0x1d2)]=_0x17116a,_0x43dfd0['position']=_0x476af4,_0x43dfd0[_0x455c36(0x1c8)]=_0x3d0186;const _0x55f040=await _0x43dfd0['save'](),_0x2b873b=await profile['findOne']({'email':_0x34aa75});_0x2b873b[_0x455c36(0x1e3)]=_0x362ca8,_0x2b873b['email']=_0x34aa75,await _0x2b873b['save'](),_0x481f61[_0x455c36(0x1b2)](_0x455c36(0x1dd),_0x455c36(0x1b6)),_0x411a9e[_0x455c36(0x1da)](_0x455c36(0x1c9));}catch(_0x4dd4ae){console[_0x455c36(0x1b9)](_0x4dd4ae),_0x411a9e[_0x455c36(0x1c7)](0xc8)['json'](_0x4dd4ae);}}),module[a0_0xb87e05(0x1dc)]=router;