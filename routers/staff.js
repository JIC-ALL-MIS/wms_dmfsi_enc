const a0_0x15728f=a0_0x2e76;function a0_0x2e76(_0x2727ce,_0x1f51d2){const _0x27dd19=a0_0x27dd();return a0_0x2e76=function(_0x2e7615,_0x8151fb){_0x2e7615=_0x2e7615-0x16a;let _0x3d067a=_0x27dd19[_0x2e7615];return _0x3d067a;},a0_0x2e76(_0x2727ce,_0x1f51d2);}(function(_0x5bb420,_0x3d06d9){const _0x2ff188=a0_0x2e76,_0x31e114=_0x5bb420();while(!![]){try{const _0x11dddd=parseInt(_0x2ff188(0x171))/0x1*(-parseInt(_0x2ff188(0x187))/0x2)+-parseInt(_0x2ff188(0x186))/0x3*(parseInt(_0x2ff188(0x1ad))/0x4)+parseInt(_0x2ff188(0x1a7))/0x5*(-parseInt(_0x2ff188(0x18a))/0x6)+-parseInt(_0x2ff188(0x19e))/0x7+-parseInt(_0x2ff188(0x18b))/0x8*(parseInt(_0x2ff188(0x193))/0x9)+parseInt(_0x2ff188(0x18d))/0xa*(parseInt(_0x2ff188(0x184))/0xb)+-parseInt(_0x2ff188(0x16a))/0xc*(-parseInt(_0x2ff188(0x17a))/0xd);if(_0x11dddd===_0x3d06d9)break;else _0x31e114['push'](_0x31e114['shift']());}catch(_0x5a7a73){_0x31e114['push'](_0x31e114['shift']());}}}(a0_0x27dd,0x675a5));const express=require(a0_0x15728f(0x185)),app=express(),router=express[a0_0x15728f(0x179)](),bcrypt=require(a0_0x15728f(0x196)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x15728f(0x18c)),auth=require(a0_0x15728f(0x17c)),users=require(a0_0x15728f(0x1a8));router[a0_0x15728f(0x16f)](a0_0x15728f(0x181),auth,async(_0x1938f8,_0x21f5b9)=>{const _0xb61e6e=a0_0x15728f;try{const {username:_0x4c1abc,email:_0x4a21bf,role:_0x18499c}=_0x1938f8[_0xb61e6e(0x189)],_0x132074=_0x1938f8[_0xb61e6e(0x189)],_0x1ece11=await profile[_0xb61e6e(0x16e)]({'email':_0x132074[_0xb61e6e(0x17e)]}),_0x102330=await master_shop[_0xb61e6e(0x183)]();console[_0xb61e6e(0x19c)](_0xb61e6e(0x16c),_0x102330),warehouse_data=await warehouse[_0xb61e6e(0x19d)]([{'$match':{'status':_0xb61e6e(0x178)}},{'$group':{'_id':_0xb61e6e(0x192),'name':{'$first':'$name'}}}]);const _0x5b37f7=await staff[_0xb61e6e(0x183)]();console[_0xb61e6e(0x19c)](_0x5b37f7);if(_0x102330[0x0][_0xb61e6e(0x180)]==_0xb61e6e(0x197)){var _0x2d6240=users[_0xb61e6e(0x175)];console['log'](_0x2d6240);}else{if(_0x102330[0x0]['language']==_0xb61e6e(0x194))var _0x2d6240=users[_0xb61e6e(0x194)];else{if(_0x102330[0x0][_0xb61e6e(0x180)]==_0xb61e6e(0x172))var _0x2d6240=users[_0xb61e6e(0x172)];else{if(_0x102330[0x0][_0xb61e6e(0x180)]==_0xb61e6e(0x19f))var _0x2d6240=users[_0xb61e6e(0x19f)];else{if(_0x102330[0x0][_0xb61e6e(0x180)]==_0xb61e6e(0x188))var _0x2d6240=users[_0xb61e6e(0x188)];else{if(_0x102330[0x0]['language']==_0xb61e6e(0x1a6))var _0x2d6240=users['Portuguese'];else{if(_0x102330[0x0][_0xb61e6e(0x180)]=='Chinese')var _0x2d6240=users['Chinese'];else{if(_0x102330[0x0][_0xb61e6e(0x180)]=='Arabic\x20(ae)')var _0x2d6240=users[_0xb61e6e(0x18f)];}}}}}}}let _0x37bd7d=[_0xb61e6e(0x16b),'Finished\x20Goods'];_0x21f5b9[_0xb61e6e(0x19a)](_0xb61e6e(0x176),{'success':_0x1938f8[_0xb61e6e(0x198)](_0xb61e6e(0x191)),'errors':_0x1938f8[_0xb61e6e(0x198)]('errors'),'role':_0x132074,'profile':_0x1ece11,'master_shop':_0x102330,'user':_0x5b37f7,'language':_0x2d6240,'warehouse':warehouse_data,'warehouse_cat':_0x37bd7d});}catch(_0x1ed8bc){console[_0xb61e6e(0x19c)](_0x1ed8bc);}}),router['post']('/view',auth,async(_0x47b818,_0x363216)=>{const _0x21270f=a0_0x15728f;try{const {name:_0x3e3e09,email:_0x57eb62,mobile:_0x336cd0,password:_0x243294,status:_0x745c32,warehouse:_0x2653c9,position:_0x42c056,warehouse_cat:_0x478e08}=_0x47b818['body'],_0x4de482=await bcrypt['hash'](_0x243294,0xa),_0x5a2c6a=new staff({'name':_0x3e3e09,'email':_0x57eb62,'mobile':_0x336cd0,'status':_0x745c32,'warehouse':_0x2653c9,'position':_0x42c056,'warehouse_category':_0x478e08}),_0x2fbfa6=await staff[_0x21270f(0x16e)]({'email':_0x57eb62});console[_0x21270f(0x19c)](_0x2fbfa6);if(_0x2fbfa6)return _0x47b818[_0x21270f(0x198)]('errors',_0x21270f(0x17b)+_0x57eb62+'\x20is\x20alredy\x20added.\x20please\x20choose\x20another'),_0x363216[_0x21270f(0x1aa)](_0x21270f(0x1a2)),![];const _0x45b2a7=await _0x5a2c6a['save'](),_0x364a61=new sing_up({'name':_0x3e3e09,'email':_0x57eb62,'password':_0x4de482,'role':'staff'}),_0x58cc98=await _0x364a61['save'](),_0x41a186=new profile({'firstname':_0x3e3e09,'email':_0x57eb62}),_0x519b76=await _0x41a186['save']();_0x47b818[_0x21270f(0x198)](_0x21270f(0x191),_0x3e3e09+'\x20is\x20add\x20successfully'),_0x363216[_0x21270f(0x1aa)](_0x21270f(0x1a3));}catch(_0x5183c7){console[_0x21270f(0x19c)](_0x5183c7);}}),router[a0_0x15728f(0x16f)](a0_0x15728f(0x177),auth,async(_0x2d1b98,_0x30b74f)=>{const _0x19cf99=a0_0x15728f;try{const _0x476eb5=_0x2d1b98[_0x19cf99(0x174)]['id'],_0x40a603=await master_shop[_0x19cf99(0x183)](),_0x2e22a8=await staff['findById'](_0x476eb5);if(_0x40a603[0x0][_0x19cf99(0x180)]==_0x19cf99(0x197)){var _0x4b152b=users[_0x19cf99(0x175)];console[_0x19cf99(0x19c)](_0x4b152b);}else{if(_0x40a603[0x0][_0x19cf99(0x180)]=='Hindi')var _0x4b152b=users[_0x19cf99(0x194)];else{if(_0x40a603[0x0]['language']==_0x19cf99(0x172))var _0x4b152b=users[_0x19cf99(0x172)];else{if(_0x40a603[0x0]['language']==_0x19cf99(0x19f))var _0x4b152b=users[_0x19cf99(0x19f)];else{if(_0x40a603[0x0][_0x19cf99(0x180)]==_0x19cf99(0x188))var _0x4b152b=users['French'];else{if(_0x40a603[0x0][_0x19cf99(0x180)]=='Portuguese\x20(BR)')var _0x4b152b=users[_0x19cf99(0x190)];else{if(_0x40a603[0x0][_0x19cf99(0x180)]==_0x19cf99(0x1ab))var _0x4b152b=users[_0x19cf99(0x1ab)];else{if(_0x40a603[0x0]['language']=='Arabic\x20(ae)')var _0x4b152b=users[_0x19cf99(0x18f)];}}}}}}}let _0x22bfde=[_0x19cf99(0x16b),_0x19cf99(0x195)];_0x30b74f[_0x19cf99(0x19a)](_0x19cf99(0x176),{'success':_0x2d1b98['flash'](_0x19cf99(0x191)),'errors':_0x2d1b98[_0x19cf99(0x198)](_0x19cf99(0x17d)),'master_shop':_0x40a603,'user':_0x2e22a8,'language':_0x4b152b,'warehouse_cat':_0x22bfde});}catch(_0x3c2e70){console[_0x19cf99(0x19c)](_0x3c2e70);}}),router['post'](a0_0x15728f(0x177),auth,async(_0x5bebbd,_0x1bc86f)=>{const _0x1d26bb=a0_0x15728f;try{const _0x16b75b=_0x5bebbd[_0x1d26bb(0x174)]['id'],_0x125161=await staff[_0x1d26bb(0x173)](_0x16b75b),{name:_0x4078ca,email:_0x7e4e20,mobile:_0x590519,password:_0x1fa2e8,status:_0x5cdb5b,warehouse:_0x5abcf9,position:_0xd52b51,warehouse_cat:_0x27d51d}=_0x5bebbd[_0x1d26bb(0x1a9)];_0x125161[_0x1d26bb(0x17f)]=_0x4078ca,_0x125161[_0x1d26bb(0x17e)]=_0x7e4e20,_0x125161[_0x1d26bb(0x1a0)]=_0x590519,_0x125161[_0x1d26bb(0x16d)]=_0x1fa2e8,_0x125161[_0x1d26bb(0x1a1)]=_0x5cdb5b,_0x125161[_0x1d26bb(0x182)]=_0x5abcf9,_0x125161[_0x1d26bb(0x1ac)]=_0xd52b51,_0x125161[_0x1d26bb(0x1a5)]=_0x27d51d;const _0x28d606=await _0x125161[_0x1d26bb(0x170)](),_0x37e3e2=await profile['findOne']({'email':_0x7e4e20});_0x37e3e2[_0x1d26bb(0x199)]=_0x4078ca,_0x37e3e2[_0x1d26bb(0x17e)]=_0x7e4e20,await _0x37e3e2[_0x1d26bb(0x170)](),_0x5bebbd[_0x1d26bb(0x198)]('success',_0x1d26bb(0x1a4)),_0x1bc86f[_0x1d26bb(0x1aa)](_0x1d26bb(0x1a3));}catch(_0x450883){console[_0x1d26bb(0x19c)](_0x450883),_0x1bc86f[_0x1d26bb(0x1a1)](0xc8)[_0x1d26bb(0x18e)](_0x450883);}}),module[a0_0x15728f(0x19b)]=router;function a0_0x27dd(){const _0x26eb0b=['params','English','staff','/view/:id','Enabled','Router','13DNSQRd','Email\x20','../middleware/auth','errors','email','name','language','/view','warehouse','find','19679cbuoQl','express','1584OrWVSK','52EBrTQg','French','user','6AAYRYC','24ooNNmk','../models/all_models','140NDNBxA','json','Arabic','Portuguese','success','$name','1244961mgbirS','Hindi','Finished\x20Goods','bcryptjs','English\x20(US)','flash','firstname','render','exports','log','aggregate','4420094HvBKSJ','Spanish','mobile','status','back','/staff/view','staff\x20data\x20update\x20successfully','warehouse_category','Portuguese\x20(BR)','2952535uEQwOD','../public/language/languages.json','body','redirect','Chinese','position','1576BlPheD','32472348lgbPmk','Raw\x20Materials','master','password','findOne','get','save','17799EmOOxt','German','findById'];a0_0x27dd=function(){return _0x26eb0b;};return a0_0x27dd();}