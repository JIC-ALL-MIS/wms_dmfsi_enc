const a0_0x5d0e9b=a0_0x2fe9;function a0_0x5242(){const _0x43dc9e=['Enabled','findOne','French','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','render','2919968ytAxvY','Router','475167lrvBWX','name','errors','1967268UYMKrl','Portuguese','14633244rvegGV','aggregate','Portuguese\x20(BR)','10YKFpWt','status','findById','email','Arabic\x20(ae)','8DeTxmJ','staff\x20data\x20update\x20successfully','success','log','save','Hindi','body','5415767ZJziFY','params','/view','../public/language/languages.json','password','hash','redirect','../models/all_models','master','json','Arabic','exports','back','3179526ynrGTG','post','Spanish','staff','English','Chinese','$name','mobile','\x20is\x20add\x20successfully','firstname','777826AECcbv','Raw\x20Materials','get','position','German','/staff/view','user','find','flash','Finished\x20Goods','warehouse_category','../middleware/auth','/view/:id','language','express','English\x20(US)'];a0_0x5242=function(){return _0x43dc9e;};return a0_0x5242();}(function(_0x12ad78,_0x25f392){const _0xecc6c=a0_0x2fe9,_0xed0c6b=_0x12ad78();while(!![]){try{const _0x3ae59f=parseInt(_0xecc6c(0x143))/0x1+parseInt(_0xecc6c(0x16e))/0x2+-parseInt(_0xecc6c(0x164))/0x3+-parseInt(_0xecc6c(0x141))/0x4*(-parseInt(_0xecc6c(0x14b))/0x5)+parseInt(_0xecc6c(0x146))/0x6+parseInt(_0xecc6c(0x157))/0x7*(parseInt(_0xecc6c(0x150))/0x8)+-parseInt(_0xecc6c(0x148))/0x9;if(_0x3ae59f===_0x25f392)break;else _0xed0c6b['push'](_0xed0c6b['shift']());}catch(_0x475274){_0xed0c6b['push'](_0xed0c6b['shift']());}}}(a0_0x5242,0xb4a19));const express=require(a0_0x5d0e9b(0x17c)),app=express(),router=express[a0_0x5d0e9b(0x142)](),bcrypt=require('bcryptjs'),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x5d0e9b(0x15e)),auth=require(a0_0x5d0e9b(0x179)),users=require(a0_0x5d0e9b(0x15a));function a0_0x2fe9(_0x5c7b16,_0x2d38db){const _0x5242b4=a0_0x5242();return a0_0x2fe9=function(_0x2fe956,_0x277569){_0x2fe956=_0x2fe956-0x13e;let _0x22395a=_0x5242b4[_0x2fe956];return _0x22395a;},a0_0x2fe9(_0x5c7b16,_0x2d38db);}router['get'](a0_0x5d0e9b(0x159),auth,async(_0x32d4d8,_0x44e99f)=>{const _0x59998d=a0_0x5d0e9b;try{const {username:_0x2bfd1b,email:_0x3e1e93,role:_0x179c31}=_0x32d4d8[_0x59998d(0x174)],_0x17920d=_0x32d4d8[_0x59998d(0x174)],_0x3e630c=await profile[_0x59998d(0x17f)]({'email':_0x17920d[_0x59998d(0x14e)]}),_0x6a4baf=await master_shop[_0x59998d(0x175)]();console[_0x59998d(0x153)](_0x59998d(0x15f),_0x6a4baf),warehouse_data=await warehouse[_0x59998d(0x149)]([{'$match':{'status':_0x59998d(0x17e)}},{'$group':{'_id':'$name','name':{'$first':_0x59998d(0x16a)}}}]);const _0x4740bc=await staff[_0x59998d(0x175)]();console[_0x59998d(0x153)](_0x4740bc);if(_0x6a4baf[0x0][_0x59998d(0x17b)]==_0x59998d(0x17d)){var _0x23c500=users[_0x59998d(0x168)];console[_0x59998d(0x153)](_0x23c500);}else{if(_0x6a4baf[0x0][_0x59998d(0x17b)]==_0x59998d(0x155))var _0x23c500=users[_0x59998d(0x155)];else{if(_0x6a4baf[0x0][_0x59998d(0x17b)]==_0x59998d(0x172))var _0x23c500=users[_0x59998d(0x172)];else{if(_0x6a4baf[0x0][_0x59998d(0x17b)]==_0x59998d(0x166))var _0x23c500=users[_0x59998d(0x166)];else{if(_0x6a4baf[0x0]['language']==_0x59998d(0x13e))var _0x23c500=users['French'];else{if(_0x6a4baf[0x0][_0x59998d(0x17b)]==_0x59998d(0x14a))var _0x23c500=users[_0x59998d(0x147)];else{if(_0x6a4baf[0x0][_0x59998d(0x17b)]==_0x59998d(0x169))var _0x23c500=users['Chinese'];else{if(_0x6a4baf[0x0][_0x59998d(0x17b)]==_0x59998d(0x14f))var _0x23c500=users[_0x59998d(0x161)];}}}}}}}let _0x2a1f3=[_0x59998d(0x16f),_0x59998d(0x177)];_0x44e99f['render'](_0x59998d(0x167),{'success':_0x32d4d8['flash'](_0x59998d(0x152)),'errors':_0x32d4d8[_0x59998d(0x176)](_0x59998d(0x145)),'role':_0x17920d,'profile':_0x3e630c,'master_shop':_0x6a4baf,'user':_0x4740bc,'language':_0x23c500,'warehouse':warehouse_data,'warehouse_cat':_0x2a1f3});}catch(_0x1691ea){console['log'](_0x1691ea);}}),router['post'](a0_0x5d0e9b(0x159),auth,async(_0x46f114,_0x2d9756)=>{const _0x2bb5e0=a0_0x5d0e9b;try{const {name:_0x45b28b,email:_0x4ee4e3,mobile:_0x3fd5b7,password:_0x1ea195,status:_0x85c984,warehouse:_0x5ee117,position:_0x80e65d,warehouse_cat:_0x261534}=_0x46f114['body'],_0x13d33f=await bcrypt[_0x2bb5e0(0x15c)](_0x1ea195,0xa),_0x593efd=new staff({'name':_0x45b28b,'email':_0x4ee4e3,'mobile':_0x3fd5b7,'status':_0x85c984,'warehouse':_0x5ee117,'position':_0x80e65d,'warehouse_category':_0x261534}),_0x5e345c=await staff['findOne']({'email':_0x4ee4e3});console[_0x2bb5e0(0x153)](_0x5e345c);if(_0x5e345c)return _0x46f114['flash'](_0x2bb5e0(0x145),'Email\x20'+_0x4ee4e3+_0x2bb5e0(0x13f)),_0x2d9756[_0x2bb5e0(0x15d)](_0x2bb5e0(0x163)),![];const _0x509d04=await _0x593efd[_0x2bb5e0(0x154)](),_0x246f78=new sing_up({'name':_0x45b28b,'email':_0x4ee4e3,'password':_0x13d33f,'role':_0x2bb5e0(0x167)}),_0x32b842=await _0x246f78['save'](),_0x49cef1=new profile({'firstname':_0x45b28b,'email':_0x4ee4e3}),_0x11e2d9=await _0x49cef1[_0x2bb5e0(0x154)]();_0x46f114[_0x2bb5e0(0x176)](_0x2bb5e0(0x152),_0x45b28b+_0x2bb5e0(0x16c)),_0x2d9756[_0x2bb5e0(0x15d)]('/staff/view');}catch(_0x4ce8ce){console['log'](_0x4ce8ce);}}),router[a0_0x5d0e9b(0x170)](a0_0x5d0e9b(0x17a),auth,async(_0x2ac93a,_0x5ac8f2)=>{const _0x2f9978=a0_0x5d0e9b;try{const _0x49a5be=_0x2ac93a[_0x2f9978(0x158)]['id'],_0x28ecf7=await master_shop[_0x2f9978(0x175)](),_0x5648f3=await staff[_0x2f9978(0x14d)](_0x49a5be);if(_0x28ecf7[0x0][_0x2f9978(0x17b)]=='English\x20(US)'){var _0x2349a2=users[_0x2f9978(0x168)];console['log'](_0x2349a2);}else{if(_0x28ecf7[0x0][_0x2f9978(0x17b)]==_0x2f9978(0x155))var _0x2349a2=users['Hindi'];else{if(_0x28ecf7[0x0]['language']==_0x2f9978(0x172))var _0x2349a2=users['German'];else{if(_0x28ecf7[0x0][_0x2f9978(0x17b)]==_0x2f9978(0x166))var _0x2349a2=users[_0x2f9978(0x166)];else{if(_0x28ecf7[0x0][_0x2f9978(0x17b)]==_0x2f9978(0x13e))var _0x2349a2=users[_0x2f9978(0x13e)];else{if(_0x28ecf7[0x0][_0x2f9978(0x17b)]==_0x2f9978(0x14a))var _0x2349a2=users[_0x2f9978(0x147)];else{if(_0x28ecf7[0x0][_0x2f9978(0x17b)]==_0x2f9978(0x169))var _0x2349a2=users['Chinese'];else{if(_0x28ecf7[0x0][_0x2f9978(0x17b)]=='Arabic\x20(ae)')var _0x2349a2=users['Arabic'];}}}}}}}let _0x387649=[_0x2f9978(0x16f),_0x2f9978(0x177)];_0x5ac8f2[_0x2f9978(0x140)](_0x2f9978(0x167),{'success':_0x2ac93a[_0x2f9978(0x176)](_0x2f9978(0x152)),'errors':_0x2ac93a[_0x2f9978(0x176)](_0x2f9978(0x145)),'master_shop':_0x28ecf7,'user':_0x5648f3,'language':_0x2349a2,'warehouse_cat':_0x387649});}catch(_0x325026){console[_0x2f9978(0x153)](_0x325026);}}),router[a0_0x5d0e9b(0x165)]('/view/:id',auth,async(_0x44ec5d,_0x554a44)=>{const _0x663c6=a0_0x5d0e9b;try{const _0x486c58=_0x44ec5d['params']['id'],_0x328830=await staff[_0x663c6(0x14d)](_0x486c58),{name:_0x1add52,email:_0x54339e,mobile:_0x46d42d,password:_0x48933a,status:_0x546c67,warehouse:_0x12f0cf,position:_0x28ed17,warehouse_cat:_0x108be2}=_0x44ec5d[_0x663c6(0x156)];_0x328830[_0x663c6(0x144)]=_0x1add52,_0x328830[_0x663c6(0x14e)]=_0x54339e,_0x328830[_0x663c6(0x16b)]=_0x46d42d,_0x328830[_0x663c6(0x15b)]=_0x48933a,_0x328830['status']=_0x546c67,_0x328830['warehouse']=_0x12f0cf,_0x328830[_0x663c6(0x171)]=_0x28ed17,_0x328830[_0x663c6(0x178)]=_0x108be2;const _0x5a0e00=await _0x328830[_0x663c6(0x154)](),_0x36aed8=await profile[_0x663c6(0x17f)]({'email':_0x54339e});_0x36aed8[_0x663c6(0x16d)]=_0x1add52,_0x36aed8['email']=_0x54339e,await _0x36aed8['save'](),_0x44ec5d[_0x663c6(0x176)](_0x663c6(0x152),_0x663c6(0x151)),_0x554a44[_0x663c6(0x15d)](_0x663c6(0x173));}catch(_0x111bb6){console['log'](_0x111bb6),_0x554a44[_0x663c6(0x14c)](0xc8)[_0x663c6(0x160)](_0x111bb6);}}),module[a0_0x5d0e9b(0x162)]=router;