const a0_0x5aed95=a0_0x29ea;(function(_0x29a162,_0x49ec38){const _0x5be78a=a0_0x29ea,_0x5b418b=_0x29a162();while(!![]){try{const _0x45fca3=-parseInt(_0x5be78a(0x1fc))/0x1*(parseInt(_0x5be78a(0x1d8))/0x2)+-parseInt(_0x5be78a(0x1ea))/0x3+parseInt(_0x5be78a(0x201))/0x4+parseInt(_0x5be78a(0x1d5))/0x5*(-parseInt(_0x5be78a(0x1ee))/0x6)+parseInt(_0x5be78a(0x1f8))/0x7+-parseInt(_0x5be78a(0x1d1))/0x8*(-parseInt(_0x5be78a(0x1d2))/0x9)+-parseInt(_0x5be78a(0x1e4))/0xa;if(_0x45fca3===_0x49ec38)break;else _0x5b418b['push'](_0x5b418b['shift']());}catch(_0x331488){_0x5b418b['push'](_0x5b418b['shift']());}}}(a0_0x358c,0x55f94));function a0_0x29ea(_0x41ded8,_0x3ab0f9){const _0x358cd1=a0_0x358c();return a0_0x29ea=function(_0x29ead2,_0x2fb9ed){_0x29ead2=_0x29ead2-0x1c6;let _0x14a7bc=_0x358cd1[_0x29ead2];return _0x14a7bc;},a0_0x29ea(_0x41ded8,_0x3ab0f9);}const express=require(a0_0x5aed95(0x1f4)),app=express(),router=express[a0_0x5aed95(0x1ff)](),bcrypt=require(a0_0x5aed95(0x1f0)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x5aed95(0x1e0)),auth=require(a0_0x5aed95(0x200)),users=require(a0_0x5aed95(0x1f5));router[a0_0x5aed95(0x1f6)]('/view',auth,async(_0x1a55a6,_0x3b8363)=>{const _0x317372=a0_0x5aed95;try{const {username:_0x141989,email:_0x106df0,role:_0x1b0d61}=_0x1a55a6[_0x317372(0x1c9)],_0xf28bb6=_0x1a55a6[_0x317372(0x1c9)],_0x345ce2=await profile[_0x317372(0x1dc)]({'email':_0xf28bb6[_0x317372(0x1e1)]}),_0xfa1f81=await master_shop[_0x317372(0x1e2)]();console[_0x317372(0x1e5)]('master',_0xfa1f81),warehouse_data=await warehouse[_0x317372(0x1cd)]([{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x317372(0x1d7),'name':{'$first':_0x317372(0x1d7)}}}]);const _0x5e58b7=await staff[_0x317372(0x1e2)]();console['log'](_0x5e58b7);if(_0xfa1f81[0x0][_0x317372(0x1fe)]==_0x317372(0x1da)){var _0x3f24db=users['English'];console[_0x317372(0x1e5)](_0x3f24db);}else{if(_0xfa1f81[0x0]['language']=='Hindi')var _0x3f24db=users[_0x317372(0x1ce)];else{if(_0xfa1f81[0x0][_0x317372(0x1fe)]==_0x317372(0x1d4))var _0x3f24db=users[_0x317372(0x1d4)];else{if(_0xfa1f81[0x0]['language']==_0x317372(0x1fb))var _0x3f24db=users[_0x317372(0x1fb)];else{if(_0xfa1f81[0x0][_0x317372(0x1fe)]==_0x317372(0x1f9))var _0x3f24db=users['French'];else{if(_0xfa1f81[0x0][_0x317372(0x1fe)]==_0x317372(0x1ec))var _0x3f24db=users['Portuguese'];else{if(_0xfa1f81[0x0][_0x317372(0x1fe)]==_0x317372(0x1c6))var _0x3f24db=users[_0x317372(0x1c6)];else{if(_0xfa1f81[0x0]['language']==_0x317372(0x1ef))var _0x3f24db=users[_0x317372(0x1d6)];}}}}}}}let _0x3bfe4b=['Raw\x20Materials',_0x317372(0x1f3)];_0x3b8363['render']('staff',{'success':_0x1a55a6['flash'](_0x317372(0x1d9)),'errors':_0x1a55a6[_0x317372(0x1db)](_0x317372(0x1e9)),'role':_0xf28bb6,'profile':_0x345ce2,'master_shop':_0xfa1f81,'user':_0x5e58b7,'language':_0x3f24db,'warehouse':warehouse_data,'warehouse_cat':_0x3bfe4b});}catch(_0x12adf6){console[_0x317372(0x1e5)](_0x12adf6);}}),router[a0_0x5aed95(0x1d3)]('/view',auth,async(_0x571303,_0x4100c0)=>{const _0x3bcfd1=a0_0x5aed95;try{const {name:_0x24722d,email:_0x3d9b27,mobile:_0x2c7e22,password:_0x33cef4,status:_0x483439,warehouse:_0x3c325b,position:_0x3442dd,warehouse_cat:_0x2081f8}=_0x571303[_0x3bcfd1(0x1e6)],_0x1bbb41=await bcrypt[_0x3bcfd1(0x1ca)](_0x33cef4,0xa),_0x48e4b7=new staff({'name':_0x24722d,'email':_0x3d9b27,'mobile':_0x2c7e22,'status':_0x483439,'warehouse':_0x3c325b,'position':_0x3442dd,'warehouse_category':_0x2081f8}),_0x241382=await staff['findOne']({'email':_0x3d9b27});console[_0x3bcfd1(0x1e5)](_0x241382);if(_0x241382)return _0x571303[_0x3bcfd1(0x1db)](_0x3bcfd1(0x1e9),_0x3bcfd1(0x1fd)+_0x3d9b27+_0x3bcfd1(0x1df)),_0x4100c0[_0x3bcfd1(0x1cc)]('back'),![];const _0x45a0db=await _0x48e4b7['save'](),_0xa69b4=new sing_up({'name':_0x24722d,'email':_0x3d9b27,'password':_0x1bbb41,'role':'staff'}),_0x3da1f8=await _0xa69b4[_0x3bcfd1(0x1c7)](),_0x4f002b=new profile({'firstname':_0x24722d,'email':_0x3d9b27}),_0x30a76a=await _0x4f002b['save']();_0x571303[_0x3bcfd1(0x1db)](_0x3bcfd1(0x1d9),_0x24722d+'\x20is\x20add\x20successfully'),_0x4100c0[_0x3bcfd1(0x1cc)](_0x3bcfd1(0x1eb));}catch(_0x2a7c6c){console[_0x3bcfd1(0x1e5)](_0x2a7c6c);}}),router[a0_0x5aed95(0x1f6)]('/view/:id',auth,async(_0x48cd87,_0x4f6a52)=>{const _0x401873=a0_0x5aed95;try{const _0x42e2b1=_0x48cd87[_0x401873(0x1cb)]['id'],_0x529cf3=await master_shop[_0x401873(0x1e2)](),_0x530e6c=await staff[_0x401873(0x1c8)](_0x42e2b1);if(_0x529cf3[0x0][_0x401873(0x1fe)]==_0x401873(0x1da)){var _0x124ee3=users['English'];console[_0x401873(0x1e5)](_0x124ee3);}else{if(_0x529cf3[0x0]['language']==_0x401873(0x1ce))var _0x124ee3=users[_0x401873(0x1ce)];else{if(_0x529cf3[0x0][_0x401873(0x1fe)]=='German')var _0x124ee3=users[_0x401873(0x1d4)];else{if(_0x529cf3[0x0][_0x401873(0x1fe)]==_0x401873(0x1fb))var _0x124ee3=users[_0x401873(0x1fb)];else{if(_0x529cf3[0x0][_0x401873(0x1fe)]=='French')var _0x124ee3=users[_0x401873(0x1f9)];else{if(_0x529cf3[0x0][_0x401873(0x1fe)]=='Portuguese\x20(BR)')var _0x124ee3=users['Portuguese'];else{if(_0x529cf3[0x0][_0x401873(0x1fe)]==_0x401873(0x1c6))var _0x124ee3=users[_0x401873(0x1c6)];else{if(_0x529cf3[0x0][_0x401873(0x1fe)]==_0x401873(0x1ef))var _0x124ee3=users['Arabic'];}}}}}}}let _0x106c60=[_0x401873(0x1dd),'Finished\x20Goods'];_0x4f6a52[_0x401873(0x1ed)](_0x401873(0x1f7),{'success':_0x48cd87[_0x401873(0x1db)](_0x401873(0x1d9)),'errors':_0x48cd87['flash']('errors'),'master_shop':_0x529cf3,'user':_0x530e6c,'language':_0x124ee3,'warehouse_cat':_0x106c60});}catch(_0x2a8626){console[_0x401873(0x1e5)](_0x2a8626);}}),router['post'](a0_0x5aed95(0x1e7),auth,async(_0x4720ee,_0x8c4919)=>{const _0x4bd344=a0_0x5aed95;try{const _0x25b031=_0x4720ee['params']['id'],_0x3f4206=await staff[_0x4bd344(0x1c8)](_0x25b031),{name:_0x1d330c,email:_0x540b96,mobile:_0x399f02,password:_0x52c3ca,status:_0x1d755a,warehouse:_0x52f75a,position:_0x323ce7,warehouse_cat:_0x5695c7}=_0x4720ee['body'];_0x3f4206[_0x4bd344(0x1e8)]=_0x1d330c,_0x3f4206[_0x4bd344(0x1e1)]=_0x540b96,_0x3f4206[_0x4bd344(0x1de)]=_0x399f02,_0x3f4206[_0x4bd344(0x1e3)]=_0x52c3ca,_0x3f4206[_0x4bd344(0x1f2)]=_0x1d755a,_0x3f4206['warehouse']=_0x52f75a,_0x3f4206['position']=_0x323ce7,_0x3f4206[_0x4bd344(0x1cf)]=_0x5695c7;const _0x17ee64=await _0x3f4206['save'](),_0x1c286e=await profile[_0x4bd344(0x1dc)]({'email':_0x540b96});_0x1c286e[_0x4bd344(0x1d0)]=_0x1d330c,_0x1c286e[_0x4bd344(0x1e1)]=_0x540b96,await _0x1c286e[_0x4bd344(0x1c7)](),_0x4720ee[_0x4bd344(0x1db)](_0x4bd344(0x1d9),'staff\x20data\x20update\x20successfully'),_0x8c4919[_0x4bd344(0x1cc)]('/staff/view');}catch(_0x5bda53){console[_0x4bd344(0x1e5)](_0x5bda53),_0x8c4919[_0x4bd344(0x1f2)](0xc8)[_0x4bd344(0x1fa)](_0x5bda53);}}),module[a0_0x5aed95(0x1f1)]=router;function a0_0x358c(){const _0x909c5=['/staff/view','Portuguese\x20(BR)','render','552SqFcwV','Arabic\x20(ae)','bcryptjs','exports','status','Finished\x20Goods','express','../public/language/languages.json','get','staff','3161277raagpV','French','json','Spanish','1nmpXVt','Email\x20','language','Router','../middleware/auth','1212456LJLVJM','Chinese','save','findById','user','hash','params','redirect','aggregate','Hindi','warehouse_category','firstname','224emgxZq','192978iICXCD','post','German','9905fOHXTm','Arabic','$name','59344oulhDj','success','English\x20(US)','flash','findOne','Raw\x20Materials','mobile','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','../models/all_models','email','find','password','3011290ruiAAR','log','body','/view/:id','name','errors','1469700HYnxdf'];a0_0x358c=function(){return _0x909c5;};return a0_0x358c();}