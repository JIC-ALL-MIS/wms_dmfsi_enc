const a0_0x44f0a7=a0_0x393a;(function(_0x55a199,_0x56e195){const _0x474c33=a0_0x393a,_0x112f6a=_0x55a199();while(!![]){try{const _0x2dde17=-parseInt(_0x474c33(0x1fa))/0x1+-parseInt(_0x474c33(0x203))/0x2*(-parseInt(_0x474c33(0x219))/0x3)+parseInt(_0x474c33(0x1f4))/0x4*(-parseInt(_0x474c33(0x1ee))/0x5)+-parseInt(_0x474c33(0x1f8))/0x6*(-parseInt(_0x474c33(0x1eb))/0x7)+-parseInt(_0x474c33(0x1f7))/0x8+parseInt(_0x474c33(0x1ed))/0x9+parseInt(_0x474c33(0x20c))/0xa;if(_0x2dde17===_0x56e195)break;else _0x112f6a['push'](_0x112f6a['shift']());}catch(_0x35a2aa){_0x112f6a['push'](_0x112f6a['shift']());}}}(a0_0xd7eb,0xe52ad));function a0_0xd7eb(){const _0x491e9e=['staff\x20data\x20update\x20successfully','../middleware/auth','6887810iUZvnP','master','Spanish','email','body','aggregate','bcryptjs','Email\x20','warehouse','findOne','render','Portuguese\x20(BR)','$name','538395pRJGMD','name','German','position','../public/language/languages.json','Enabled','password','post','get','express','/staff/view','save','French','warehouse_category','user','errors','flash','Chinese','\x20is\x20add\x20successfully','157416eZXsRR','English','13114971bRbFgS','683335ucpmNA','log','English\x20(US)','success','../models/all_models','Finished\x20Goods','52fWecxx','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Hindi','3820760KmVWiB','126BmUAxq','Portuguese','143173DOVJFK','language','/view','staff','params','status','Arabic','findById','back','8VPQzvq','find','redirect','firstname','Arabic\x20(ae)','mobile','/view/:id'];a0_0xd7eb=function(){return _0x491e9e;};return a0_0xd7eb();}const express=require(a0_0x44f0a7(0x1e1)),app=express(),router=express['Router'](),bcrypt=require(a0_0x44f0a7(0x212)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x44f0a7(0x1f2)),auth=require(a0_0x44f0a7(0x20b)),users=require(a0_0x44f0a7(0x1dc));function a0_0x393a(_0x5065bd,_0xcb9517){const _0xd7ebfa=a0_0xd7eb();return a0_0x393a=function(_0x393a61,_0x26d1d1){_0x393a61=_0x393a61-0x1da;let _0x8dd398=_0xd7ebfa[_0x393a61];return _0x8dd398;},a0_0x393a(_0x5065bd,_0xcb9517);}router[a0_0x44f0a7(0x1e0)](a0_0x44f0a7(0x1fc),auth,async(_0xe9227d,_0x1f1fc4)=>{const _0x17f4e9=a0_0x44f0a7;try{const {username:_0x3dd667,email:_0xb37344,role:_0x47f5c2}=_0xe9227d[_0x17f4e9(0x1e6)],_0x1e3daa=_0xe9227d[_0x17f4e9(0x1e6)],_0xd2083f=await profile[_0x17f4e9(0x215)]({'email':_0x1e3daa[_0x17f4e9(0x20f)]}),_0x4cfdbf=await master_shop[_0x17f4e9(0x204)]();console[_0x17f4e9(0x1ef)](_0x17f4e9(0x20d),_0x4cfdbf),warehouse_data=await warehouse[_0x17f4e9(0x211)]([{'$match':{'status':_0x17f4e9(0x1dd)}},{'$group':{'_id':_0x17f4e9(0x218),'name':{'$first':'$name'}}}]);const _0x4b2242=await staff[_0x17f4e9(0x204)]();console['log'](_0x4b2242);if(_0x4cfdbf[0x0][_0x17f4e9(0x1fb)]==_0x17f4e9(0x1f0)){var _0x5d19d1=users[_0x17f4e9(0x1ec)];console[_0x17f4e9(0x1ef)](_0x5d19d1);}else{if(_0x4cfdbf[0x0][_0x17f4e9(0x1fb)]==_0x17f4e9(0x1f6))var _0x5d19d1=users[_0x17f4e9(0x1f6)];else{if(_0x4cfdbf[0x0][_0x17f4e9(0x1fb)]=='German')var _0x5d19d1=users['German'];else{if(_0x4cfdbf[0x0][_0x17f4e9(0x1fb)]=='Spanish')var _0x5d19d1=users[_0x17f4e9(0x20e)];else{if(_0x4cfdbf[0x0][_0x17f4e9(0x1fb)]==_0x17f4e9(0x1e4))var _0x5d19d1=users['French'];else{if(_0x4cfdbf[0x0][_0x17f4e9(0x1fb)]==_0x17f4e9(0x217))var _0x5d19d1=users[_0x17f4e9(0x1f9)];else{if(_0x4cfdbf[0x0]['language']==_0x17f4e9(0x1e9))var _0x5d19d1=users[_0x17f4e9(0x1e9)];else{if(_0x4cfdbf[0x0][_0x17f4e9(0x1fb)]=='Arabic\x20(ae)')var _0x5d19d1=users[_0x17f4e9(0x200)];}}}}}}}let _0x320a9d=['Raw\x20Materials',_0x17f4e9(0x1f3)];_0x1f1fc4[_0x17f4e9(0x216)]('staff',{'success':_0xe9227d[_0x17f4e9(0x1e8)](_0x17f4e9(0x1f1)),'errors':_0xe9227d[_0x17f4e9(0x1e8)](_0x17f4e9(0x1e7)),'role':_0x1e3daa,'profile':_0xd2083f,'master_shop':_0x4cfdbf,'user':_0x4b2242,'language':_0x5d19d1,'warehouse':warehouse_data,'warehouse_cat':_0x320a9d});}catch(_0x1b5152){console[_0x17f4e9(0x1ef)](_0x1b5152);}}),router[a0_0x44f0a7(0x1df)]('/view',auth,async(_0x18b888,_0x195653)=>{const _0x2b616c=a0_0x44f0a7;try{const {name:_0x5cccc3,email:_0x23964f,mobile:_0x2d005c,password:_0x15d4b5,status:_0x4782be,warehouse:_0x3bba11,position:_0x4c2168,warehouse_cat:_0x4f493a}=_0x18b888['body'],_0x2802b1=await bcrypt['hash'](_0x15d4b5,0xa),_0x494a10=new staff({'name':_0x5cccc3,'email':_0x23964f,'mobile':_0x2d005c,'status':_0x4782be,'warehouse':_0x3bba11,'position':_0x4c2168,'warehouse_category':_0x4f493a}),_0xc2955a=await staff[_0x2b616c(0x215)]({'email':_0x23964f});console['log'](_0xc2955a);if(_0xc2955a)return _0x18b888[_0x2b616c(0x1e8)]('errors',_0x2b616c(0x213)+_0x23964f+_0x2b616c(0x1f5)),_0x195653[_0x2b616c(0x205)](_0x2b616c(0x202)),![];const _0x334a09=await _0x494a10[_0x2b616c(0x1e3)](),_0x528e68=new sing_up({'name':_0x5cccc3,'email':_0x23964f,'password':_0x2802b1,'role':'staff'}),_0x23d884=await _0x528e68['save'](),_0x38a868=new profile({'firstname':_0x5cccc3,'email':_0x23964f}),_0x897a35=await _0x38a868[_0x2b616c(0x1e3)]();_0x18b888[_0x2b616c(0x1e8)](_0x2b616c(0x1f1),_0x5cccc3+_0x2b616c(0x1ea)),_0x195653[_0x2b616c(0x205)](_0x2b616c(0x1e2));}catch(_0x1d8a5f){console[_0x2b616c(0x1ef)](_0x1d8a5f);}}),router['get'](a0_0x44f0a7(0x209),auth,async(_0x50d692,_0x40a13a)=>{const _0x5ae58f=a0_0x44f0a7;try{const _0x2ac272=_0x50d692['params']['id'],_0x25cb82=await master_shop['find'](),_0x1ca600=await staff[_0x5ae58f(0x201)](_0x2ac272);if(_0x25cb82[0x0][_0x5ae58f(0x1fb)]==_0x5ae58f(0x1f0)){var _0xca924f=users[_0x5ae58f(0x1ec)];console[_0x5ae58f(0x1ef)](_0xca924f);}else{if(_0x25cb82[0x0]['language']==_0x5ae58f(0x1f6))var _0xca924f=users['Hindi'];else{if(_0x25cb82[0x0][_0x5ae58f(0x1fb)]=='German')var _0xca924f=users[_0x5ae58f(0x1da)];else{if(_0x25cb82[0x0][_0x5ae58f(0x1fb)]==_0x5ae58f(0x20e))var _0xca924f=users[_0x5ae58f(0x20e)];else{if(_0x25cb82[0x0][_0x5ae58f(0x1fb)]==_0x5ae58f(0x1e4))var _0xca924f=users[_0x5ae58f(0x1e4)];else{if(_0x25cb82[0x0][_0x5ae58f(0x1fb)]==_0x5ae58f(0x217))var _0xca924f=users[_0x5ae58f(0x1f9)];else{if(_0x25cb82[0x0][_0x5ae58f(0x1fb)]==_0x5ae58f(0x1e9))var _0xca924f=users[_0x5ae58f(0x1e9)];else{if(_0x25cb82[0x0][_0x5ae58f(0x1fb)]==_0x5ae58f(0x207))var _0xca924f=users['Arabic'];}}}}}}}let _0x2b0909=['Raw\x20Materials',_0x5ae58f(0x1f3)];_0x40a13a['render'](_0x5ae58f(0x1fd),{'success':_0x50d692[_0x5ae58f(0x1e8)](_0x5ae58f(0x1f1)),'errors':_0x50d692[_0x5ae58f(0x1e8)](_0x5ae58f(0x1e7)),'master_shop':_0x25cb82,'user':_0x1ca600,'language':_0xca924f,'warehouse_cat':_0x2b0909});}catch(_0x16b24e){console[_0x5ae58f(0x1ef)](_0x16b24e);}}),router[a0_0x44f0a7(0x1df)](a0_0x44f0a7(0x209),auth,async(_0x57cc63,_0x11c462)=>{const _0x203a6d=a0_0x44f0a7;try{const _0x47a1d4=_0x57cc63[_0x203a6d(0x1fe)]['id'],_0x2fe836=await staff[_0x203a6d(0x201)](_0x47a1d4),{name:_0x2cd748,email:_0x5de045,mobile:_0x426fdf,password:_0x7984f8,status:_0x3ecd99,warehouse:_0x500ed9,position:_0x3d9bf5,warehouse_cat:_0x3771e2}=_0x57cc63[_0x203a6d(0x210)];_0x2fe836[_0x203a6d(0x21a)]=_0x2cd748,_0x2fe836[_0x203a6d(0x20f)]=_0x5de045,_0x2fe836[_0x203a6d(0x208)]=_0x426fdf,_0x2fe836[_0x203a6d(0x1de)]=_0x7984f8,_0x2fe836[_0x203a6d(0x1ff)]=_0x3ecd99,_0x2fe836[_0x203a6d(0x214)]=_0x500ed9,_0x2fe836[_0x203a6d(0x1db)]=_0x3d9bf5,_0x2fe836[_0x203a6d(0x1e5)]=_0x3771e2;const _0x40d6b3=await _0x2fe836[_0x203a6d(0x1e3)](),_0x4e464d=await profile[_0x203a6d(0x215)]({'email':_0x5de045});_0x4e464d[_0x203a6d(0x206)]=_0x2cd748,_0x4e464d['email']=_0x5de045,await _0x4e464d[_0x203a6d(0x1e3)](),_0x57cc63[_0x203a6d(0x1e8)](_0x203a6d(0x1f1),_0x203a6d(0x20a)),_0x11c462[_0x203a6d(0x205)](_0x203a6d(0x1e2));}catch(_0x56e7c1){console[_0x203a6d(0x1ef)](_0x56e7c1),_0x11c462[_0x203a6d(0x1ff)](0xc8)['json'](_0x56e7c1);}}),module['exports']=router;