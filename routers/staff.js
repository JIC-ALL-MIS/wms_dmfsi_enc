const a0_0x3b47a5=a0_0x4ac9;function a0_0x4ac9(_0x30208a,_0x29a3e2){const _0x5a4502=a0_0x5a45();return a0_0x4ac9=function(_0x4ac938,_0x23017d){_0x4ac938=_0x4ac938-0xb9;let _0x26590c=_0x5a4502[_0x4ac938];return _0x26590c;},a0_0x4ac9(_0x30208a,_0x29a3e2);}(function(_0x9df472,_0x950d67){const _0x45c2e5=a0_0x4ac9,_0x3e1c36=_0x9df472();while(!![]){try{const _0x402ea1=parseInt(_0x45c2e5(0xde))/0x1*(parseInt(_0x45c2e5(0xf0))/0x2)+-parseInt(_0x45c2e5(0xd4))/0x3*(-parseInt(_0x45c2e5(0xe9))/0x4)+parseInt(_0x45c2e5(0xbd))/0x5+parseInt(_0x45c2e5(0xcf))/0x6+-parseInt(_0x45c2e5(0xcc))/0x7*(-parseInt(_0x45c2e5(0xf2))/0x8)+parseInt(_0x45c2e5(0xdf))/0x9+-parseInt(_0x45c2e5(0xee))/0xa;if(_0x402ea1===_0x950d67)break;else _0x3e1c36['push'](_0x3e1c36['shift']());}catch(_0x6edb6d){_0x3e1c36['push'](_0x3e1c36['shift']());}}}(a0_0x5a45,0x7fda2));const express=require(a0_0x3b47a5(0xe5)),app=express(),router=express[a0_0x3b47a5(0xc0)](),bcrypt=require(a0_0x3b47a5(0xe1)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x3b47a5(0xd0)),auth=require(a0_0x3b47a5(0xc8)),users=require(a0_0x3b47a5(0xcd));function a0_0x5a45(){const _0x38eb46=['6NXQJBf','477603wlGCzD','findOne','bcryptjs','findById','position','save','express','English\x20(US)','render','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','68nNTvSI','Chinese','back','/staff/view','$name','23697410BtwlhT','params','61302xgEyTS','Raw\x20Materials','8VjYasS','Portuguese','redirect','Email\x20','language','German','flash','English','2171960EeHzaG','Arabic','/view','Router','success','French','body','hash','errors','/view/:id','post','../middleware/auth','email','\x20is\x20add\x20successfully','log','2569469PaexeP','../public/language/languages.json','warehouse','6032088azFLWq','../models/all_models','staff','aggregate','get','149937kvtbsU','Finished\x20Goods','master','find','staff\x20data\x20update\x20successfully','Arabic\x20(ae)','status','Spanish','password','Hindi'];a0_0x5a45=function(){return _0x38eb46;};return a0_0x5a45();}router['get'](a0_0x3b47a5(0xbf),auth,async(_0x5d31f6,_0x18c963)=>{const _0x336405=a0_0x3b47a5;try{const {username:_0x34d847,email:_0x318042,role:_0x3312f9}=_0x5d31f6['user'],_0x2655d2=_0x5d31f6['user'],_0x5b4a1b=await profile[_0x336405(0xe0)]({'email':_0x2655d2[_0x336405(0xc9)]}),_0xc0389e=await master_shop['find']();console['log'](_0x336405(0xd6),_0xc0389e),warehouse_data=await warehouse[_0x336405(0xd2)]([{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x336405(0xed),'name':{'$first':_0x336405(0xed)}}}]);const _0x4ecb9b=await staff[_0x336405(0xd7)]();console[_0x336405(0xcb)](_0x4ecb9b);if(_0xc0389e[0x0][_0x336405(0xb9)]==_0x336405(0xe6)){var _0x5d8bac=users[_0x336405(0xbc)];console[_0x336405(0xcb)](_0x5d8bac);}else{if(_0xc0389e[0x0][_0x336405(0xb9)]==_0x336405(0xdd))var _0x5d8bac=users['Hindi'];else{if(_0xc0389e[0x0]['language']==_0x336405(0xba))var _0x5d8bac=users[_0x336405(0xba)];else{if(_0xc0389e[0x0][_0x336405(0xb9)]==_0x336405(0xdb))var _0x5d8bac=users[_0x336405(0xdb)];else{if(_0xc0389e[0x0][_0x336405(0xb9)]=='French')var _0x5d8bac=users[_0x336405(0xc2)];else{if(_0xc0389e[0x0]['language']=='Portuguese\x20(BR)')var _0x5d8bac=users[_0x336405(0xf3)];else{if(_0xc0389e[0x0][_0x336405(0xb9)]==_0x336405(0xea))var _0x5d8bac=users[_0x336405(0xea)];else{if(_0xc0389e[0x0][_0x336405(0xb9)]==_0x336405(0xd9))var _0x5d8bac=users[_0x336405(0xbe)];}}}}}}}let _0x313ab9=['Raw\x20Materials','Finished\x20Goods'];_0x18c963[_0x336405(0xe7)]('staff',{'success':_0x5d31f6[_0x336405(0xbb)]('success'),'errors':_0x5d31f6[_0x336405(0xbb)](_0x336405(0xc5)),'role':_0x2655d2,'profile':_0x5b4a1b,'master_shop':_0xc0389e,'user':_0x4ecb9b,'language':_0x5d8bac,'warehouse':warehouse_data,'warehouse_cat':_0x313ab9});}catch(_0x5d1f86){console['log'](_0x5d1f86);}}),router['post'](a0_0x3b47a5(0xbf),auth,async(_0x5ca6ed,_0x1ffa18)=>{const _0x23a81c=a0_0x3b47a5;try{const {name:_0x12d7b1,email:_0x5f1101,mobile:_0x5d2624,password:_0x1c3a72,status:_0x18ca1d,warehouse:_0x346122,position:_0x24d6f5,warehouse_cat:_0x2c7559}=_0x5ca6ed[_0x23a81c(0xc3)],_0x632089=await bcrypt[_0x23a81c(0xc4)](_0x1c3a72,0xa),_0x44578d=new staff({'name':_0x12d7b1,'email':_0x5f1101,'mobile':_0x5d2624,'status':_0x18ca1d,'warehouse':_0x346122,'position':_0x24d6f5,'warehouse_category':_0x2c7559}),_0x4e02d8=await staff[_0x23a81c(0xe0)]({'email':_0x5f1101});console[_0x23a81c(0xcb)](_0x4e02d8);if(_0x4e02d8)return _0x5ca6ed['flash']('errors',_0x23a81c(0xf5)+_0x5f1101+_0x23a81c(0xe8)),_0x1ffa18[_0x23a81c(0xf4)](_0x23a81c(0xeb)),![];const _0x1962da=await _0x44578d[_0x23a81c(0xe4)](),_0x1e179a=new sing_up({'name':_0x12d7b1,'email':_0x5f1101,'password':_0x632089,'role':'staff'}),_0x3164f6=await _0x1e179a[_0x23a81c(0xe4)](),_0x11fef4=new profile({'firstname':_0x12d7b1,'email':_0x5f1101}),_0x3e95ec=await _0x11fef4[_0x23a81c(0xe4)]();_0x5ca6ed[_0x23a81c(0xbb)](_0x23a81c(0xc1),_0x12d7b1+_0x23a81c(0xca)),_0x1ffa18[_0x23a81c(0xf4)]('/staff/view');}catch(_0x5272ba){console[_0x23a81c(0xcb)](_0x5272ba);}}),router[a0_0x3b47a5(0xd3)](a0_0x3b47a5(0xc6),auth,async(_0x5877f8,_0x4e4b53)=>{const _0x3f4425=a0_0x3b47a5;try{const _0xcc1111=_0x5877f8['params']['id'],_0x2187bf=await master_shop[_0x3f4425(0xd7)](),_0x417aa2=await staff[_0x3f4425(0xe2)](_0xcc1111);if(_0x2187bf[0x0]['language']=='English\x20(US)'){var _0x57c451=users[_0x3f4425(0xbc)];console['log'](_0x57c451);}else{if(_0x2187bf[0x0][_0x3f4425(0xb9)]==_0x3f4425(0xdd))var _0x57c451=users[_0x3f4425(0xdd)];else{if(_0x2187bf[0x0]['language']==_0x3f4425(0xba))var _0x57c451=users[_0x3f4425(0xba)];else{if(_0x2187bf[0x0]['language']==_0x3f4425(0xdb))var _0x57c451=users[_0x3f4425(0xdb)];else{if(_0x2187bf[0x0][_0x3f4425(0xb9)]==_0x3f4425(0xc2))var _0x57c451=users[_0x3f4425(0xc2)];else{if(_0x2187bf[0x0][_0x3f4425(0xb9)]=='Portuguese\x20(BR)')var _0x57c451=users[_0x3f4425(0xf3)];else{if(_0x2187bf[0x0][_0x3f4425(0xb9)]==_0x3f4425(0xea))var _0x57c451=users[_0x3f4425(0xea)];else{if(_0x2187bf[0x0]['language']==_0x3f4425(0xd9))var _0x57c451=users[_0x3f4425(0xbe)];}}}}}}}let _0x5ecd3b=[_0x3f4425(0xf1),_0x3f4425(0xd5)];_0x4e4b53[_0x3f4425(0xe7)](_0x3f4425(0xd1),{'success':_0x5877f8[_0x3f4425(0xbb)](_0x3f4425(0xc1)),'errors':_0x5877f8[_0x3f4425(0xbb)](_0x3f4425(0xc5)),'master_shop':_0x2187bf,'user':_0x417aa2,'language':_0x57c451,'warehouse_cat':_0x5ecd3b});}catch(_0x139a81){console[_0x3f4425(0xcb)](_0x139a81);}}),router[a0_0x3b47a5(0xc7)](a0_0x3b47a5(0xc6),auth,async(_0x3b1224,_0x2ed067)=>{const _0x16371a=a0_0x3b47a5;try{const _0x281bca=_0x3b1224[_0x16371a(0xef)]['id'],_0x1db4af=await staff[_0x16371a(0xe2)](_0x281bca),{name:_0x1756c7,email:_0x42fdaa,mobile:_0x3dfbe2,password:_0x702e3f,status:_0x51d343,warehouse:_0x112c2d,position:_0x3c247e,warehouse_cat:_0xc1ae72}=_0x3b1224[_0x16371a(0xc3)];_0x1db4af['name']=_0x1756c7,_0x1db4af[_0x16371a(0xc9)]=_0x42fdaa,_0x1db4af['mobile']=_0x3dfbe2,_0x1db4af[_0x16371a(0xdc)]=_0x702e3f,_0x1db4af[_0x16371a(0xda)]=_0x51d343,_0x1db4af[_0x16371a(0xce)]=_0x112c2d,_0x1db4af[_0x16371a(0xe3)]=_0x3c247e,_0x1db4af['warehouse_category']=_0xc1ae72;const _0x1d6884=await _0x1db4af[_0x16371a(0xe4)](),_0x37faae=await profile[_0x16371a(0xe0)]({'email':_0x42fdaa});_0x37faae['firstname']=_0x1756c7,_0x37faae[_0x16371a(0xc9)]=_0x42fdaa,await _0x37faae[_0x16371a(0xe4)](),_0x3b1224[_0x16371a(0xbb)](_0x16371a(0xc1),_0x16371a(0xd8)),_0x2ed067['redirect'](_0x16371a(0xec));}catch(_0x58350b){console[_0x16371a(0xcb)](_0x58350b),_0x2ed067['status'](0xc8)['json'](_0x58350b);}}),module['exports']=router;