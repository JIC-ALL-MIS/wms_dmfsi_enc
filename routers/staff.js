const a0_0x581732=a0_0x2a89;function a0_0x530b(){const _0x198e0b=['body','status','email','firstname','22820290RrAMvD','success','language','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Spanish','params','get','German','8lBzCkz','warehouse','master','English','Arabic','findOne','name','English\x20(US)','875387oKWJUl','/view/:id','/view','2777427QApctu','Hindi','log','1197378fJAwOY','render','../models/all_models','470qMPomB','post','13516Mrsynf','Chinese','Email\x20','mobile','express','save','hash','Raw\x20Materials','flash','user','Portuguese\x20(BR)','redirect','$name','7734209iOiBKu','Portuguese','warehouse_category','find','staff','aggregate','3347391nYaiEY','errors','password','Finished\x20Goods','findById','2PKovIk','French','/staff/view'];a0_0x530b=function(){return _0x198e0b;};return a0_0x530b();}(function(_0x4fc67b,_0x56c068){const _0x365a41=a0_0x2a89,_0xaac91=_0x4fc67b();while(!![]){try{const _0x13d0c7=parseInt(_0x365a41(0x119))/0x1+-parseInt(_0x365a41(0x102))/0x2*(-parseInt(_0x365a41(0xfd))/0x3)+-parseInt(_0x365a41(0x124))/0x4*(-parseInt(_0x365a41(0x122))/0x5)+-parseInt(_0x365a41(0x11f))/0x6+parseInt(_0x365a41(0x131))/0x7+parseInt(_0x365a41(0x111))/0x8*(-parseInt(_0x365a41(0x11c))/0x9)+-parseInt(_0x365a41(0x109))/0xa;if(_0x13d0c7===_0x56c068)break;else _0xaac91['push'](_0xaac91['shift']());}catch(_0x39e326){_0xaac91['push'](_0xaac91['shift']());}}}(a0_0x530b,0x9838e));function a0_0x2a89(_0x1ebea0,_0x439d88){const _0x530bb2=a0_0x530b();return a0_0x2a89=function(_0x2a89a5,_0x33a0c0){_0x2a89a5=_0x2a89a5-0xfa;let _0x14ff4e=_0x530bb2[_0x2a89a5];return _0x14ff4e;},a0_0x2a89(_0x1ebea0,_0x439d88);}const express=require(a0_0x581732(0x128)),app=express(),router=express['Router'](),bcrypt=require('bcryptjs'),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x581732(0x121)),auth=require('../middleware/auth'),users=require('../public/language/languages.json');router[a0_0x581732(0x10f)](a0_0x581732(0x11b),auth,async(_0x4f9e5b,_0x2dea87)=>{const _0x3b6454=a0_0x581732;try{const {username:_0x1923f8,email:_0x4c3f32,role:_0x1ba2f1}=_0x4f9e5b[_0x3b6454(0x12d)],_0x230dba=_0x4f9e5b[_0x3b6454(0x12d)],_0x3ac596=await profile[_0x3b6454(0x116)]({'email':_0x230dba['email']}),_0x3a4c7c=await master_shop[_0x3b6454(0xfa)]();console['log'](_0x3b6454(0x113),_0x3a4c7c),warehouse_data=await warehouse[_0x3b6454(0xfc)]([{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x3b6454(0x130),'name':{'$first':_0x3b6454(0x130)}}}]);const _0x940340=await staff[_0x3b6454(0xfa)]();console[_0x3b6454(0x11e)](_0x940340);if(_0x3a4c7c[0x0][_0x3b6454(0x10b)]=='English\x20(US)'){var _0x16bc33=users[_0x3b6454(0x114)];console['log'](_0x16bc33);}else{if(_0x3a4c7c[0x0][_0x3b6454(0x10b)]==_0x3b6454(0x11d))var _0x16bc33=users[_0x3b6454(0x11d)];else{if(_0x3a4c7c[0x0]['language']==_0x3b6454(0x110))var _0x16bc33=users[_0x3b6454(0x110)];else{if(_0x3a4c7c[0x0][_0x3b6454(0x10b)]==_0x3b6454(0x10d))var _0x16bc33=users[_0x3b6454(0x10d)];else{if(_0x3a4c7c[0x0]['language']==_0x3b6454(0x103))var _0x16bc33=users[_0x3b6454(0x103)];else{if(_0x3a4c7c[0x0][_0x3b6454(0x10b)]==_0x3b6454(0x12e))var _0x16bc33=users[_0x3b6454(0x132)];else{if(_0x3a4c7c[0x0]['language']==_0x3b6454(0x125))var _0x16bc33=users[_0x3b6454(0x125)];else{if(_0x3a4c7c[0x0]['language']=='Arabic\x20(ae)')var _0x16bc33=users['Arabic'];}}}}}}}let _0x283aa3=[_0x3b6454(0x12b),_0x3b6454(0x100)];_0x2dea87[_0x3b6454(0x120)](_0x3b6454(0xfb),{'success':_0x4f9e5b[_0x3b6454(0x12c)]('success'),'errors':_0x4f9e5b[_0x3b6454(0x12c)](_0x3b6454(0xfe)),'role':_0x230dba,'profile':_0x3ac596,'master_shop':_0x3a4c7c,'user':_0x940340,'language':_0x16bc33,'warehouse':warehouse_data,'warehouse_cat':_0x283aa3});}catch(_0x1b436e){console[_0x3b6454(0x11e)](_0x1b436e);}}),router[a0_0x581732(0x123)](a0_0x581732(0x11b),auth,async(_0x59363b,_0x259378)=>{const _0x98c4b6=a0_0x581732;try{const {name:_0x77d0b5,email:_0x341e7c,mobile:_0x30f172,password:_0x42fca1,status:_0x3c66c6,warehouse:_0x3df0ed,position:_0x97d751,warehouse_cat:_0x460a6d}=_0x59363b['body'],_0x334b41=await bcrypt[_0x98c4b6(0x12a)](_0x42fca1,0xa),_0x4edfc7=new staff({'name':_0x77d0b5,'email':_0x341e7c,'mobile':_0x30f172,'status':_0x3c66c6,'warehouse':_0x3df0ed,'position':_0x97d751,'warehouse_category':_0x460a6d}),_0x16aa60=await staff['findOne']({'email':_0x341e7c});console[_0x98c4b6(0x11e)](_0x16aa60);if(_0x16aa60)return _0x59363b[_0x98c4b6(0x12c)](_0x98c4b6(0xfe),_0x98c4b6(0x126)+_0x341e7c+_0x98c4b6(0x10c)),_0x259378[_0x98c4b6(0x12f)]('back'),![];const _0x14513d=await _0x4edfc7[_0x98c4b6(0x129)](),_0x53650e=new sing_up({'name':_0x77d0b5,'email':_0x341e7c,'password':_0x334b41,'role':_0x98c4b6(0xfb)}),_0x4051fd=await _0x53650e[_0x98c4b6(0x129)](),_0x4da27b=new profile({'firstname':_0x77d0b5,'email':_0x341e7c}),_0x328317=await _0x4da27b[_0x98c4b6(0x129)]();_0x59363b[_0x98c4b6(0x12c)](_0x98c4b6(0x10a),_0x77d0b5+'\x20is\x20add\x20successfully'),_0x259378['redirect']('/staff/view');}catch(_0x147879){console[_0x98c4b6(0x11e)](_0x147879);}}),router['get'](a0_0x581732(0x11a),auth,async(_0x464399,_0x3da23e)=>{const _0x2f8c08=a0_0x581732;try{const _0x3ab6a3=_0x464399[_0x2f8c08(0x10e)]['id'],_0x31af5b=await master_shop['find'](),_0x27dc6d=await staff[_0x2f8c08(0x101)](_0x3ab6a3);if(_0x31af5b[0x0][_0x2f8c08(0x10b)]==_0x2f8c08(0x118)){var _0x3b0a52=users[_0x2f8c08(0x114)];console[_0x2f8c08(0x11e)](_0x3b0a52);}else{if(_0x31af5b[0x0][_0x2f8c08(0x10b)]==_0x2f8c08(0x11d))var _0x3b0a52=users[_0x2f8c08(0x11d)];else{if(_0x31af5b[0x0][_0x2f8c08(0x10b)]=='German')var _0x3b0a52=users[_0x2f8c08(0x110)];else{if(_0x31af5b[0x0][_0x2f8c08(0x10b)]==_0x2f8c08(0x10d))var _0x3b0a52=users[_0x2f8c08(0x10d)];else{if(_0x31af5b[0x0][_0x2f8c08(0x10b)]==_0x2f8c08(0x103))var _0x3b0a52=users[_0x2f8c08(0x103)];else{if(_0x31af5b[0x0][_0x2f8c08(0x10b)]=='Portuguese\x20(BR)')var _0x3b0a52=users[_0x2f8c08(0x132)];else{if(_0x31af5b[0x0][_0x2f8c08(0x10b)]==_0x2f8c08(0x125))var _0x3b0a52=users['Chinese'];else{if(_0x31af5b[0x0][_0x2f8c08(0x10b)]=='Arabic\x20(ae)')var _0x3b0a52=users[_0x2f8c08(0x115)];}}}}}}}let _0x477c13=[_0x2f8c08(0x12b),_0x2f8c08(0x100)];_0x3da23e[_0x2f8c08(0x120)](_0x2f8c08(0xfb),{'success':_0x464399[_0x2f8c08(0x12c)](_0x2f8c08(0x10a)),'errors':_0x464399[_0x2f8c08(0x12c)](_0x2f8c08(0xfe)),'master_shop':_0x31af5b,'user':_0x27dc6d,'language':_0x3b0a52,'warehouse_cat':_0x477c13});}catch(_0x364023){console[_0x2f8c08(0x11e)](_0x364023);}}),router[a0_0x581732(0x123)]('/view/:id',auth,async(_0x5955d3,_0x19b87f)=>{const _0x415b3c=a0_0x581732;try{const _0x583a18=_0x5955d3[_0x415b3c(0x10e)]['id'],_0x90f8a2=await staff[_0x415b3c(0x101)](_0x583a18),{name:_0x4075ab,email:_0x3cbe19,mobile:_0x1baf33,password:_0x1c5a4e,status:_0x383142,warehouse:_0x43a1a8,position:_0x3fbdbc,warehouse_cat:_0x3d18ac}=_0x5955d3[_0x415b3c(0x105)];_0x90f8a2[_0x415b3c(0x117)]=_0x4075ab,_0x90f8a2[_0x415b3c(0x107)]=_0x3cbe19,_0x90f8a2[_0x415b3c(0x127)]=_0x1baf33,_0x90f8a2[_0x415b3c(0xff)]=_0x1c5a4e,_0x90f8a2['status']=_0x383142,_0x90f8a2[_0x415b3c(0x112)]=_0x43a1a8,_0x90f8a2['position']=_0x3fbdbc,_0x90f8a2[_0x415b3c(0x133)]=_0x3d18ac;const _0x361311=await _0x90f8a2[_0x415b3c(0x129)](),_0x399f46=await profile[_0x415b3c(0x116)]({'email':_0x3cbe19});_0x399f46[_0x415b3c(0x108)]=_0x4075ab,_0x399f46[_0x415b3c(0x107)]=_0x3cbe19,await _0x399f46[_0x415b3c(0x129)](),_0x5955d3[_0x415b3c(0x12c)](_0x415b3c(0x10a),'staff\x20data\x20update\x20successfully'),_0x19b87f[_0x415b3c(0x12f)](_0x415b3c(0x104));}catch(_0x174c52){console[_0x415b3c(0x11e)](_0x174c52),_0x19b87f[_0x415b3c(0x106)](0xc8)['json'](_0x174c52);}}),module['exports']=router;