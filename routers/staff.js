const a0_0xdbbb95=a0_0x2754;(function(_0x30d48d,_0x3c66df){const _0x23da66=a0_0x2754,_0x26ef00=_0x30d48d();while(!![]){try{const _0x2ff7ed=parseInt(_0x23da66(0x1fd))/0x1+-parseInt(_0x23da66(0x1ee))/0x2+-parseInt(_0x23da66(0x208))/0x3+parseInt(_0x23da66(0x1f6))/0x4+parseInt(_0x23da66(0x201))/0x5*(parseInt(_0x23da66(0x1e6))/0x6)+parseInt(_0x23da66(0x1f0))/0x7*(-parseInt(_0x23da66(0x1e2))/0x8)+parseInt(_0x23da66(0x1f4))/0x9;if(_0x2ff7ed===_0x3c66df)break;else _0x26ef00['push'](_0x26ef00['shift']());}catch(_0xcfcec8){_0x26ef00['push'](_0x26ef00['shift']());}}}(a0_0x2618,0x8a5ac));function a0_0x2754(_0x44b984,_0x2f45e6){const _0x2618b0=a0_0x2618();return a0_0x2754=function(_0x27548a,_0x519c0c){_0x27548a=_0x27548a-0x1d2;let _0x225f94=_0x2618b0[_0x27548a];return _0x225f94;},a0_0x2754(_0x44b984,_0x2f45e6);}const express=require(a0_0xdbbb95(0x1fa)),app=express(),router=express['Router'](),bcrypt=require(a0_0xdbbb95(0x1e7)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0xdbbb95(0x205)),auth=require(a0_0xdbbb95(0x1eb)),users=require(a0_0xdbbb95(0x1e5));function a0_0x2618(){const _0x639834=['French','status','Hindi','position','master','success','Email\x20','render','Portuguese','user','40ysSQIJ','Portuguese\x20(BR)','staff\x20data\x20update\x20successfully','../public/language/languages.json','195666ylsRuS','bcryptjs','Enabled','log','redirect','../middleware/auth','warehouse_category','/view','663490kwZXQP','Raw\x20Materials','1570989PRjUSK','Finished\x20Goods','Arabic\x20(ae)','/staff/view','6321294mwcMlS','English\x20(US)','1351492hclIBK','exports','back','staff','express','\x20is\x20add\x20successfully','email','212377HYiFuP','/view/:id','post','aggregate','170cYmopY','firstname','language','body','../models/all_models','Spanish','findById','1022430dswCRJ','English','Arabic','German','name','flash','save','get','Chinese','find','findOne','hash','errors'];a0_0x2618=function(){return _0x639834;};return a0_0x2618();}router[a0_0xdbbb95(0x1d2)]('/view',auth,async(_0x4add61,_0x3d2057)=>{const _0xefa730=a0_0xdbbb95;try{const {username:_0x5b3292,email:_0x4192c6,role:_0x2d6309}=_0x4add61[_0xefa730(0x1e1)],_0x48c5b3=_0x4add61[_0xefa730(0x1e1)],_0x457f76=await profile['findOne']({'email':_0x48c5b3[_0xefa730(0x1fc)]}),_0x7cf85c=await master_shop[_0xefa730(0x1d4)]();console['log'](_0xefa730(0x1dc),_0x7cf85c),warehouse_data=await warehouse[_0xefa730(0x200)]([{'$match':{'status':_0xefa730(0x1e8)}},{'$group':{'_id':'$name','name':{'$first':'$name'}}}]);const _0x4c17af=await staff[_0xefa730(0x1d4)]();console[_0xefa730(0x1e9)](_0x4c17af);if(_0x7cf85c[0x0][_0xefa730(0x203)]==_0xefa730(0x1f5)){var _0x2a18a9=users['English'];console[_0xefa730(0x1e9)](_0x2a18a9);}else{if(_0x7cf85c[0x0][_0xefa730(0x203)]==_0xefa730(0x1da))var _0x2a18a9=users[_0xefa730(0x1da)];else{if(_0x7cf85c[0x0][_0xefa730(0x203)]==_0xefa730(0x20b))var _0x2a18a9=users[_0xefa730(0x20b)];else{if(_0x7cf85c[0x0]['language']==_0xefa730(0x206))var _0x2a18a9=users['Spanish'];else{if(_0x7cf85c[0x0]['language']==_0xefa730(0x1d8))var _0x2a18a9=users['French'];else{if(_0x7cf85c[0x0][_0xefa730(0x203)]=='Portuguese\x20(BR)')var _0x2a18a9=users['Portuguese'];else{if(_0x7cf85c[0x0][_0xefa730(0x203)]=='Chinese')var _0x2a18a9=users[_0xefa730(0x1d3)];else{if(_0x7cf85c[0x0]['language']=='Arabic\x20(ae)')var _0x2a18a9=users[_0xefa730(0x20a)];}}}}}}}let _0x26473c=[_0xefa730(0x1ef),_0xefa730(0x1f1)];_0x3d2057['render'](_0xefa730(0x1f9),{'success':_0x4add61[_0xefa730(0x20d)](_0xefa730(0x1dd)),'errors':_0x4add61[_0xefa730(0x20d)](_0xefa730(0x1d7)),'role':_0x48c5b3,'profile':_0x457f76,'master_shop':_0x7cf85c,'user':_0x4c17af,'language':_0x2a18a9,'warehouse':warehouse_data,'warehouse_cat':_0x26473c});}catch(_0x32755a){console[_0xefa730(0x1e9)](_0x32755a);}}),router[a0_0xdbbb95(0x1ff)](a0_0xdbbb95(0x1ed),auth,async(_0x15f375,_0x1fa1a8)=>{const _0x461eb7=a0_0xdbbb95;try{const {name:_0x1f073e,email:_0x387836,mobile:_0x1f8f9e,password:_0x21f8b6,status:_0x175454,warehouse:_0x5cd2fe,position:_0x373c03,warehouse_cat:_0x11009f}=_0x15f375[_0x461eb7(0x204)],_0x5b6150=await bcrypt[_0x461eb7(0x1d6)](_0x21f8b6,0xa),_0x57c0a9=new staff({'name':_0x1f073e,'email':_0x387836,'mobile':_0x1f8f9e,'status':_0x175454,'warehouse':_0x5cd2fe,'position':_0x373c03,'warehouse_category':_0x11009f}),_0x27afdd=await staff['findOne']({'email':_0x387836});console['log'](_0x27afdd);if(_0x27afdd)return _0x15f375[_0x461eb7(0x20d)](_0x461eb7(0x1d7),_0x461eb7(0x1de)+_0x387836+'\x20is\x20alredy\x20added.\x20please\x20choose\x20another'),_0x1fa1a8['redirect'](_0x461eb7(0x1f8)),![];const _0x143e5a=await _0x57c0a9[_0x461eb7(0x20e)](),_0x2f1464=new sing_up({'name':_0x1f073e,'email':_0x387836,'password':_0x5b6150,'role':_0x461eb7(0x1f9)}),_0x551d96=await _0x2f1464[_0x461eb7(0x20e)](),_0x401592=new profile({'firstname':_0x1f073e,'email':_0x387836}),_0x2debe1=await _0x401592[_0x461eb7(0x20e)]();_0x15f375[_0x461eb7(0x20d)](_0x461eb7(0x1dd),_0x1f073e+_0x461eb7(0x1fb)),_0x1fa1a8[_0x461eb7(0x1ea)](_0x461eb7(0x1f3));}catch(_0x3e58be){console[_0x461eb7(0x1e9)](_0x3e58be);}}),router[a0_0xdbbb95(0x1d2)](a0_0xdbbb95(0x1fe),auth,async(_0x1431b6,_0x23c827)=>{const _0x3e0843=a0_0xdbbb95;try{const _0x465687=_0x1431b6['params']['id'],_0x2641d1=await master_shop[_0x3e0843(0x1d4)](),_0x19f9ec=await staff['findById'](_0x465687);if(_0x2641d1[0x0][_0x3e0843(0x203)]==_0x3e0843(0x1f5)){var _0x4ee589=users[_0x3e0843(0x209)];console[_0x3e0843(0x1e9)](_0x4ee589);}else{if(_0x2641d1[0x0][_0x3e0843(0x203)]==_0x3e0843(0x1da))var _0x4ee589=users['Hindi'];else{if(_0x2641d1[0x0][_0x3e0843(0x203)]==_0x3e0843(0x20b))var _0x4ee589=users[_0x3e0843(0x20b)];else{if(_0x2641d1[0x0][_0x3e0843(0x203)]==_0x3e0843(0x206))var _0x4ee589=users[_0x3e0843(0x206)];else{if(_0x2641d1[0x0][_0x3e0843(0x203)]==_0x3e0843(0x1d8))var _0x4ee589=users[_0x3e0843(0x1d8)];else{if(_0x2641d1[0x0]['language']==_0x3e0843(0x1e3))var _0x4ee589=users[_0x3e0843(0x1e0)];else{if(_0x2641d1[0x0][_0x3e0843(0x203)]==_0x3e0843(0x1d3))var _0x4ee589=users['Chinese'];else{if(_0x2641d1[0x0]['language']==_0x3e0843(0x1f2))var _0x4ee589=users[_0x3e0843(0x20a)];}}}}}}}let _0x1c8492=['Raw\x20Materials',_0x3e0843(0x1f1)];_0x23c827[_0x3e0843(0x1df)](_0x3e0843(0x1f9),{'success':_0x1431b6[_0x3e0843(0x20d)](_0x3e0843(0x1dd)),'errors':_0x1431b6['flash'](_0x3e0843(0x1d7)),'master_shop':_0x2641d1,'user':_0x19f9ec,'language':_0x4ee589,'warehouse_cat':_0x1c8492});}catch(_0x2c41e4){console[_0x3e0843(0x1e9)](_0x2c41e4);}}),router[a0_0xdbbb95(0x1ff)](a0_0xdbbb95(0x1fe),auth,async(_0x407f6f,_0x3648ed)=>{const _0x4f97af=a0_0xdbbb95;try{const _0x166569=_0x407f6f['params']['id'],_0x34a41f=await staff[_0x4f97af(0x207)](_0x166569),{name:_0x47b872,email:_0x449b4e,mobile:_0x58f604,password:_0x281f25,status:_0x4917cd,warehouse:_0x372ebd,position:_0x1412f0,warehouse_cat:_0x25541c}=_0x407f6f[_0x4f97af(0x204)];_0x34a41f[_0x4f97af(0x20c)]=_0x47b872,_0x34a41f['email']=_0x449b4e,_0x34a41f['mobile']=_0x58f604,_0x34a41f['password']=_0x281f25,_0x34a41f[_0x4f97af(0x1d9)]=_0x4917cd,_0x34a41f['warehouse']=_0x372ebd,_0x34a41f[_0x4f97af(0x1db)]=_0x1412f0,_0x34a41f[_0x4f97af(0x1ec)]=_0x25541c;const _0x5ef33a=await _0x34a41f[_0x4f97af(0x20e)](),_0xed1a5=await profile[_0x4f97af(0x1d5)]({'email':_0x449b4e});_0xed1a5[_0x4f97af(0x202)]=_0x47b872,_0xed1a5[_0x4f97af(0x1fc)]=_0x449b4e,await _0xed1a5[_0x4f97af(0x20e)](),_0x407f6f['flash'](_0x4f97af(0x1dd),_0x4f97af(0x1e4)),_0x3648ed[_0x4f97af(0x1ea)](_0x4f97af(0x1f3));}catch(_0x2501d5){console['log'](_0x2501d5),_0x3648ed[_0x4f97af(0x1d9)](0xc8)['json'](_0x2501d5);}}),module[a0_0xdbbb95(0x1f7)]=router;