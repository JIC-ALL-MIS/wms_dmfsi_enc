function a0_0x3782(){const _0x3c0a8c=['Email\x20','Router','warehouse_category','success','12818nSnTtU','566238IIuvQt','/staff/view','../public/language/languages.json','errors','1345392jDFiFF','exports','log','render','English','flash','name','body','Portuguese\x20(BR)','1126175tnpSQa','find','position','Portuguese','get','status','language','params','5013432FxxvOf','/view/:id','Arabic\x20(ae)','English\x20(US)','Enabled','save','post','firstname','German','Arabic','aggregate','staff\x20data\x20update\x20successfully','redirect','19kieMmN','findById','$name','French','600754YAROUv','master','hash','/view','Spanish','Finished\x20Goods','findOne','Hindi','user','Raw\x20Materials','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','staff','bcryptjs','json','104958PFvTcu','Chinese','email'];a0_0x3782=function(){return _0x3c0a8c;};return a0_0x3782();}const a0_0x2c85c5=a0_0x3c79;(function(_0x46decf,_0x2b7457){const _0x49f9c1=a0_0x3c79,_0x2dc0b4=_0x46decf();while(!![]){try{const _0x105acb=-parseInt(_0x49f9c1(0x1b9))/0x1*(parseInt(_0x49f9c1(0x196))/0x2)+parseInt(_0x49f9c1(0x197))/0x3+-parseInt(_0x49f9c1(0x19b))/0x4+-parseInt(_0x49f9c1(0x1a4))/0x5+-parseInt(_0x49f9c1(0x1cb))/0x6+parseInt(_0x49f9c1(0x1bd))/0x7+parseInt(_0x49f9c1(0x1ac))/0x8;if(_0x105acb===_0x2b7457)break;else _0x2dc0b4['push'](_0x2dc0b4['shift']());}catch(_0x28ba2b){_0x2dc0b4['push'](_0x2dc0b4['shift']());}}}(a0_0x3782,0x30ed0));const express=require('express'),app=express(),router=express[a0_0x2c85c5(0x193)](),bcrypt=require(a0_0x2c85c5(0x1c9)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require('../models/all_models'),auth=require('../middleware/auth'),users=require(a0_0x2c85c5(0x199));function a0_0x3c79(_0x1b025e,_0x3f15f9){const _0x37823e=a0_0x3782();return a0_0x3c79=function(_0x3c793b,_0x45084a){_0x3c793b=_0x3c793b-0x191;let _0x4a7f6f=_0x37823e[_0x3c793b];return _0x4a7f6f;},a0_0x3c79(_0x1b025e,_0x3f15f9);}router[a0_0x2c85c5(0x1a8)](a0_0x2c85c5(0x1c0),auth,async(_0x397c59,_0x74c780)=>{const _0x4ef62f=a0_0x2c85c5;try{const {username:_0x53b326,email:_0x1628da,role:_0x53e8d9}=_0x397c59[_0x4ef62f(0x1c5)],_0x3287cd=_0x397c59['user'],_0x2b70e6=await profile[_0x4ef62f(0x1c3)]({'email':_0x3287cd[_0x4ef62f(0x191)]}),_0x1b293d=await master_shop[_0x4ef62f(0x1a5)]();console['log'](_0x4ef62f(0x1be),_0x1b293d),warehouse_data=await warehouse[_0x4ef62f(0x1b6)]([{'$match':{'status':_0x4ef62f(0x1b0)}},{'$group':{'_id':_0x4ef62f(0x1bb),'name':{'$first':_0x4ef62f(0x1bb)}}}]);const _0x860a8a=await staff[_0x4ef62f(0x1a5)]();console[_0x4ef62f(0x19d)](_0x860a8a);if(_0x1b293d[0x0][_0x4ef62f(0x1aa)]==_0x4ef62f(0x1af)){var _0x332b40=users[_0x4ef62f(0x19f)];console[_0x4ef62f(0x19d)](_0x332b40);}else{if(_0x1b293d[0x0]['language']==_0x4ef62f(0x1c4))var _0x332b40=users[_0x4ef62f(0x1c4)];else{if(_0x1b293d[0x0]['language']==_0x4ef62f(0x1b4))var _0x332b40=users[_0x4ef62f(0x1b4)];else{if(_0x1b293d[0x0][_0x4ef62f(0x1aa)]==_0x4ef62f(0x1c1))var _0x332b40=users[_0x4ef62f(0x1c1)];else{if(_0x1b293d[0x0][_0x4ef62f(0x1aa)]==_0x4ef62f(0x1bc))var _0x332b40=users[_0x4ef62f(0x1bc)];else{if(_0x1b293d[0x0]['language']==_0x4ef62f(0x1a3))var _0x332b40=users['Portuguese'];else{if(_0x1b293d[0x0][_0x4ef62f(0x1aa)]==_0x4ef62f(0x1cc))var _0x332b40=users[_0x4ef62f(0x1cc)];else{if(_0x1b293d[0x0]['language']==_0x4ef62f(0x1ae))var _0x332b40=users['Arabic'];}}}}}}}let _0x185e6b=[_0x4ef62f(0x1c6),_0x4ef62f(0x1c2)];_0x74c780[_0x4ef62f(0x19e)]('staff',{'success':_0x397c59[_0x4ef62f(0x1a0)]('success'),'errors':_0x397c59[_0x4ef62f(0x1a0)]('errors'),'role':_0x3287cd,'profile':_0x2b70e6,'master_shop':_0x1b293d,'user':_0x860a8a,'language':_0x332b40,'warehouse':warehouse_data,'warehouse_cat':_0x185e6b});}catch(_0x5c0463){console[_0x4ef62f(0x19d)](_0x5c0463);}}),router[a0_0x2c85c5(0x1b2)](a0_0x2c85c5(0x1c0),auth,async(_0x37a678,_0x4c6f02)=>{const _0x1cd3a8=a0_0x2c85c5;try{const {name:_0xd7a824,email:_0x1b8b8e,mobile:_0x85e6c0,password:_0x17daf0,status:_0x10504f,warehouse:_0x460f4b,position:_0x300d53,warehouse_cat:_0xd04de8}=_0x37a678['body'],_0xc3a0d8=await bcrypt[_0x1cd3a8(0x1bf)](_0x17daf0,0xa),_0x468081=new staff({'name':_0xd7a824,'email':_0x1b8b8e,'mobile':_0x85e6c0,'status':_0x10504f,'warehouse':_0x460f4b,'position':_0x300d53,'warehouse_category':_0xd04de8}),_0x2e90fd=await staff[_0x1cd3a8(0x1c3)]({'email':_0x1b8b8e});console[_0x1cd3a8(0x19d)](_0x2e90fd);if(_0x2e90fd)return _0x37a678[_0x1cd3a8(0x1a0)]('errors',_0x1cd3a8(0x192)+_0x1b8b8e+_0x1cd3a8(0x1c7)),_0x4c6f02['redirect']('back'),![];const _0x360bf6=await _0x468081['save'](),_0x1b0563=new sing_up({'name':_0xd7a824,'email':_0x1b8b8e,'password':_0xc3a0d8,'role':'staff'}),_0x2da43c=await _0x1b0563[_0x1cd3a8(0x1b1)](),_0x10252a=new profile({'firstname':_0xd7a824,'email':_0x1b8b8e}),_0x425ff1=await _0x10252a[_0x1cd3a8(0x1b1)]();_0x37a678[_0x1cd3a8(0x1a0)](_0x1cd3a8(0x195),_0xd7a824+'\x20is\x20add\x20successfully'),_0x4c6f02[_0x1cd3a8(0x1b8)](_0x1cd3a8(0x198));}catch(_0x37767d){console[_0x1cd3a8(0x19d)](_0x37767d);}}),router['get'](a0_0x2c85c5(0x1ad),auth,async(_0x2aa015,_0xa7f570)=>{const _0x31fae7=a0_0x2c85c5;try{const _0x7abbba=_0x2aa015[_0x31fae7(0x1ab)]['id'],_0x1edcd5=await master_shop['find'](),_0x3a1a1b=await staff[_0x31fae7(0x1ba)](_0x7abbba);if(_0x1edcd5[0x0]['language']=='English\x20(US)'){var _0x2bc1dd=users[_0x31fae7(0x19f)];console['log'](_0x2bc1dd);}else{if(_0x1edcd5[0x0][_0x31fae7(0x1aa)]==_0x31fae7(0x1c4))var _0x2bc1dd=users['Hindi'];else{if(_0x1edcd5[0x0][_0x31fae7(0x1aa)]==_0x31fae7(0x1b4))var _0x2bc1dd=users['German'];else{if(_0x1edcd5[0x0]['language']==_0x31fae7(0x1c1))var _0x2bc1dd=users[_0x31fae7(0x1c1)];else{if(_0x1edcd5[0x0][_0x31fae7(0x1aa)]=='French')var _0x2bc1dd=users[_0x31fae7(0x1bc)];else{if(_0x1edcd5[0x0]['language']==_0x31fae7(0x1a3))var _0x2bc1dd=users[_0x31fae7(0x1a7)];else{if(_0x1edcd5[0x0]['language']==_0x31fae7(0x1cc))var _0x2bc1dd=users[_0x31fae7(0x1cc)];else{if(_0x1edcd5[0x0]['language']==_0x31fae7(0x1ae))var _0x2bc1dd=users[_0x31fae7(0x1b5)];}}}}}}}let _0x1ed68c=[_0x31fae7(0x1c6),'Finished\x20Goods'];_0xa7f570[_0x31fae7(0x19e)](_0x31fae7(0x1c8),{'success':_0x2aa015[_0x31fae7(0x1a0)](_0x31fae7(0x195)),'errors':_0x2aa015[_0x31fae7(0x1a0)](_0x31fae7(0x19a)),'master_shop':_0x1edcd5,'user':_0x3a1a1b,'language':_0x2bc1dd,'warehouse_cat':_0x1ed68c});}catch(_0x37feb8){console[_0x31fae7(0x19d)](_0x37feb8);}}),router['post'](a0_0x2c85c5(0x1ad),auth,async(_0x43e649,_0x39452d)=>{const _0x17e2d3=a0_0x2c85c5;try{const _0x4f19c5=_0x43e649[_0x17e2d3(0x1ab)]['id'],_0x4f1cb6=await staff[_0x17e2d3(0x1ba)](_0x4f19c5),{name:_0x3529a6,email:_0xc7072c,mobile:_0x2d546f,password:_0x1edb2f,status:_0x1f2866,warehouse:_0x4c67c4,position:_0x6b9941,warehouse_cat:_0x115616}=_0x43e649[_0x17e2d3(0x1a2)];_0x4f1cb6[_0x17e2d3(0x1a1)]=_0x3529a6,_0x4f1cb6[_0x17e2d3(0x191)]=_0xc7072c,_0x4f1cb6['mobile']=_0x2d546f,_0x4f1cb6['password']=_0x1edb2f,_0x4f1cb6[_0x17e2d3(0x1a9)]=_0x1f2866,_0x4f1cb6['warehouse']=_0x4c67c4,_0x4f1cb6[_0x17e2d3(0x1a6)]=_0x6b9941,_0x4f1cb6[_0x17e2d3(0x194)]=_0x115616;const _0x52637b=await _0x4f1cb6[_0x17e2d3(0x1b1)](),_0x136ac6=await profile[_0x17e2d3(0x1c3)]({'email':_0xc7072c});_0x136ac6[_0x17e2d3(0x1b3)]=_0x3529a6,_0x136ac6[_0x17e2d3(0x191)]=_0xc7072c,await _0x136ac6[_0x17e2d3(0x1b1)](),_0x43e649[_0x17e2d3(0x1a0)](_0x17e2d3(0x195),_0x17e2d3(0x1b7)),_0x39452d[_0x17e2d3(0x1b8)](_0x17e2d3(0x198));}catch(_0x518a26){console[_0x17e2d3(0x19d)](_0x518a26),_0x39452d['status'](0xc8)[_0x17e2d3(0x1ca)](_0x518a26);}}),module[a0_0x2c85c5(0x19c)]=router;