const a0_0x43130b=a0_0x50d9;(function(_0xd78974,_0x2cec83){const _0x3caadd=a0_0x50d9,_0x50b65c=_0xd78974();while(!![]){try{const _0xad27f8=parseInt(_0x3caadd(0x17e))/0x1+-parseInt(_0x3caadd(0x19d))/0x2+-parseInt(_0x3caadd(0x19b))/0x3+-parseInt(_0x3caadd(0x1a1))/0x4*(parseInt(_0x3caadd(0x196))/0x5)+parseInt(_0x3caadd(0x181))/0x6+parseInt(_0x3caadd(0x16c))/0x7*(parseInt(_0x3caadd(0x1a4))/0x8)+parseInt(_0x3caadd(0x19a))/0x9;if(_0xad27f8===_0x2cec83)break;else _0x50b65c['push'](_0x50b65c['shift']());}catch(_0x4ef739){_0x50b65c['push'](_0x50b65c['shift']());}}}(a0_0x13a0,0x60a85));const express=require(a0_0x43130b(0x171)),app=express(),router=express[a0_0x43130b(0x194)](),bcrypt=require(a0_0x43130b(0x170)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x43130b(0x172)),auth=require(a0_0x43130b(0x195)),users=require(a0_0x43130b(0x16d));function a0_0x50d9(_0x373251,_0x369a56){const _0x13a03e=a0_0x13a0();return a0_0x50d9=function(_0x50d9aa,_0x30ea07){_0x50d9aa=_0x50d9aa-0x167;let _0x4bc9d5=_0x13a03e[_0x50d9aa];return _0x4bc9d5;},a0_0x50d9(_0x373251,_0x369a56);}function a0_0x13a0(){const _0x8690ab=['post','success','50144OdhiDh','status','firstname','Arabic\x20(ae)','findById','params','406gDCKlq','../public/language/languages.json','Arabic','Portuguese\x20(BR)','bcryptjs','express','../models/all_models','name','Hindi','warehouse','back','findOne','Raw\x20Materials','user','Spanish','English','language','email','162870bALibz','Portuguese','hash','259620ECCRvO','errors','aggregate','$name','redirect','render','json','\x20is\x20add\x20successfully','save','flash','body','English\x20(US)','warehouse_category','get','French','staff','Email\x20','master','German','Router','../middleware/auth','363935spEbfW','Chinese','find','log','13428063yUzndT','1988553vUgAna','/view','841270hdFkCv','/view/:id','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Finished\x20Goods','32BaZfOW'];a0_0x13a0=function(){return _0x8690ab;};return a0_0x13a0();}router[a0_0x43130b(0x18e)](a0_0x43130b(0x19c),auth,async(_0x4c565a,_0x2bfec1)=>{const _0x1f22ca=a0_0x43130b;try{const {username:_0x2e5556,email:_0x117a24,role:_0x492333}=_0x4c565a[_0x1f22ca(0x179)],_0x56a687=_0x4c565a[_0x1f22ca(0x179)],_0x387ca9=await profile[_0x1f22ca(0x177)]({'email':_0x56a687['email']}),_0x1cf233=await master_shop[_0x1f22ca(0x198)]();console[_0x1f22ca(0x199)](_0x1f22ca(0x192),_0x1cf233),warehouse_data=await warehouse[_0x1f22ca(0x183)]([{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x1f22ca(0x184),'name':{'$first':_0x1f22ca(0x184)}}}]);const _0x7d087f=await staff[_0x1f22ca(0x198)]();console[_0x1f22ca(0x199)](_0x7d087f);if(_0x1cf233[0x0][_0x1f22ca(0x17c)]==_0x1f22ca(0x18c)){var _0x8ef6c6=users[_0x1f22ca(0x17b)];console[_0x1f22ca(0x199)](_0x8ef6c6);}else{if(_0x1cf233[0x0][_0x1f22ca(0x17c)]==_0x1f22ca(0x174))var _0x8ef6c6=users[_0x1f22ca(0x174)];else{if(_0x1cf233[0x0][_0x1f22ca(0x17c)]=='German')var _0x8ef6c6=users['German'];else{if(_0x1cf233[0x0]['language']==_0x1f22ca(0x17a))var _0x8ef6c6=users[_0x1f22ca(0x17a)];else{if(_0x1cf233[0x0]['language']==_0x1f22ca(0x18f))var _0x8ef6c6=users[_0x1f22ca(0x18f)];else{if(_0x1cf233[0x0][_0x1f22ca(0x17c)]==_0x1f22ca(0x16f))var _0x8ef6c6=users[_0x1f22ca(0x17f)];else{if(_0x1cf233[0x0]['language']==_0x1f22ca(0x197))var _0x8ef6c6=users[_0x1f22ca(0x197)];else{if(_0x1cf233[0x0][_0x1f22ca(0x17c)]==_0x1f22ca(0x169))var _0x8ef6c6=users[_0x1f22ca(0x16e)];}}}}}}}let _0x419954=[_0x1f22ca(0x178),_0x1f22ca(0x1a0)];_0x2bfec1[_0x1f22ca(0x186)](_0x1f22ca(0x190),{'success':_0x4c565a[_0x1f22ca(0x18a)](_0x1f22ca(0x1a3)),'errors':_0x4c565a[_0x1f22ca(0x18a)](_0x1f22ca(0x182)),'role':_0x56a687,'profile':_0x387ca9,'master_shop':_0x1cf233,'user':_0x7d087f,'language':_0x8ef6c6,'warehouse':warehouse_data,'warehouse_cat':_0x419954});}catch(_0x3bee18){console[_0x1f22ca(0x199)](_0x3bee18);}}),router[a0_0x43130b(0x1a2)](a0_0x43130b(0x19c),auth,async(_0x4c3619,_0x154d5c)=>{const _0x34a69a=a0_0x43130b;try{const {name:_0x161556,email:_0xbfc959,mobile:_0x1a03c7,password:_0x241de9,status:_0x15ad9a,warehouse:_0x56ab35,position:_0x7e7059,warehouse_cat:_0x21c214}=_0x4c3619[_0x34a69a(0x18b)],_0x5c80ce=await bcrypt[_0x34a69a(0x180)](_0x241de9,0xa),_0x38a44d=new staff({'name':_0x161556,'email':_0xbfc959,'mobile':_0x1a03c7,'status':_0x15ad9a,'warehouse':_0x56ab35,'position':_0x7e7059,'warehouse_category':_0x21c214}),_0x20ed82=await staff[_0x34a69a(0x177)]({'email':_0xbfc959});console['log'](_0x20ed82);if(_0x20ed82)return _0x4c3619['flash']('errors',_0x34a69a(0x191)+_0xbfc959+_0x34a69a(0x19f)),_0x154d5c['redirect'](_0x34a69a(0x176)),![];const _0xe2fb0d=await _0x38a44d[_0x34a69a(0x189)](),_0x33c11f=new sing_up({'name':_0x161556,'email':_0xbfc959,'password':_0x5c80ce,'role':_0x34a69a(0x190)}),_0x550d72=await _0x33c11f[_0x34a69a(0x189)](),_0x47efd7=new profile({'firstname':_0x161556,'email':_0xbfc959}),_0x12e830=await _0x47efd7[_0x34a69a(0x189)]();_0x4c3619[_0x34a69a(0x18a)]('success',_0x161556+_0x34a69a(0x188)),_0x154d5c[_0x34a69a(0x185)]('/staff/view');}catch(_0x650ebb){console[_0x34a69a(0x199)](_0x650ebb);}}),router[a0_0x43130b(0x18e)](a0_0x43130b(0x19e),auth,async(_0x4fb99d,_0x385294)=>{const _0x59871b=a0_0x43130b;try{const _0x571cc3=_0x4fb99d[_0x59871b(0x16b)]['id'],_0x5c75ac=await master_shop[_0x59871b(0x198)](),_0x3e2184=await staff[_0x59871b(0x16a)](_0x571cc3);if(_0x5c75ac[0x0][_0x59871b(0x17c)]==_0x59871b(0x18c)){var _0x41b802=users[_0x59871b(0x17b)];console[_0x59871b(0x199)](_0x41b802);}else{if(_0x5c75ac[0x0][_0x59871b(0x17c)]==_0x59871b(0x174))var _0x41b802=users['Hindi'];else{if(_0x5c75ac[0x0][_0x59871b(0x17c)]==_0x59871b(0x193))var _0x41b802=users[_0x59871b(0x193)];else{if(_0x5c75ac[0x0][_0x59871b(0x17c)]==_0x59871b(0x17a))var _0x41b802=users[_0x59871b(0x17a)];else{if(_0x5c75ac[0x0][_0x59871b(0x17c)]==_0x59871b(0x18f))var _0x41b802=users['French'];else{if(_0x5c75ac[0x0][_0x59871b(0x17c)]==_0x59871b(0x16f))var _0x41b802=users[_0x59871b(0x17f)];else{if(_0x5c75ac[0x0][_0x59871b(0x17c)]==_0x59871b(0x197))var _0x41b802=users[_0x59871b(0x197)];else{if(_0x5c75ac[0x0][_0x59871b(0x17c)]==_0x59871b(0x169))var _0x41b802=users['Arabic'];}}}}}}}let _0x3745e8=[_0x59871b(0x178),_0x59871b(0x1a0)];_0x385294['render'](_0x59871b(0x190),{'success':_0x4fb99d[_0x59871b(0x18a)](_0x59871b(0x1a3)),'errors':_0x4fb99d[_0x59871b(0x18a)]('errors'),'master_shop':_0x5c75ac,'user':_0x3e2184,'language':_0x41b802,'warehouse_cat':_0x3745e8});}catch(_0x3acdc1){console[_0x59871b(0x199)](_0x3acdc1);}}),router['post'](a0_0x43130b(0x19e),auth,async(_0x562328,_0x5cc79b)=>{const _0x42feaf=a0_0x43130b;try{const _0x5e1d8a=_0x562328['params']['id'],_0x2804f7=await staff[_0x42feaf(0x16a)](_0x5e1d8a),{name:_0x597f58,email:_0x21a6f7,mobile:_0x2468c5,password:_0xd3533a,status:_0x199154,warehouse:_0x316cb7,position:_0x1fb352,warehouse_cat:_0x3e07dd}=_0x562328[_0x42feaf(0x18b)];_0x2804f7[_0x42feaf(0x173)]=_0x597f58,_0x2804f7[_0x42feaf(0x17d)]=_0x21a6f7,_0x2804f7['mobile']=_0x2468c5,_0x2804f7['password']=_0xd3533a,_0x2804f7['status']=_0x199154,_0x2804f7[_0x42feaf(0x175)]=_0x316cb7,_0x2804f7['position']=_0x1fb352,_0x2804f7[_0x42feaf(0x18d)]=_0x3e07dd;const _0x329c0e=await _0x2804f7[_0x42feaf(0x189)](),_0x420607=await profile[_0x42feaf(0x177)]({'email':_0x21a6f7});_0x420607[_0x42feaf(0x168)]=_0x597f58,_0x420607['email']=_0x21a6f7,await _0x420607[_0x42feaf(0x189)](),_0x562328['flash']('success','staff\x20data\x20update\x20successfully'),_0x5cc79b[_0x42feaf(0x185)]('/staff/view');}catch(_0x4f6332){console[_0x42feaf(0x199)](_0x4f6332),_0x5cc79b[_0x42feaf(0x167)](0xc8)[_0x42feaf(0x187)](_0x4f6332);}}),module['exports']=router;