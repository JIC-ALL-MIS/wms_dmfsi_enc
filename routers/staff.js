const a0_0x341449=a0_0x25b9;(function(_0x2e1cee,_0x4e4622){const _0x34c74d=a0_0x25b9,_0x3bd32f=_0x2e1cee();while(!![]){try{const _0x4706cd=parseInt(_0x34c74d(0x15e))/0x1*(parseInt(_0x34c74d(0x148))/0x2)+-parseInt(_0x34c74d(0x151))/0x3+parseInt(_0x34c74d(0x14b))/0x4+-parseInt(_0x34c74d(0x154))/0x5+parseInt(_0x34c74d(0x146))/0x6*(-parseInt(_0x34c74d(0x15a))/0x7)+-parseInt(_0x34c74d(0x145))/0x8*(-parseInt(_0x34c74d(0x137))/0x9)+parseInt(_0x34c74d(0x159))/0xa;if(_0x4706cd===_0x4e4622)break;else _0x3bd32f['push'](_0x3bd32f['shift']());}catch(_0x3160d6){_0x3bd32f['push'](_0x3bd32f['shift']());}}}(a0_0x33b9,0x6a0d6));const express=require(a0_0x341449(0x156)),app=express(),router=express[a0_0x341449(0x167)](),bcrypt=require(a0_0x341449(0x135)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require('../models/all_models'),auth=require(a0_0x341449(0x143)),users=require(a0_0x341449(0x14e));function a0_0x33b9(){const _0x554458=['Finished\x20Goods','log','mobile','German','bcryptjs','Arabic\x20(ae)','612qdOYfm','findById','\x20is\x20add\x20successfully','$name','Arabic','/view/:id','redirect','errors','Chinese','hash','findOne','success','../middleware/auth','staff','56648sppxYm','6zsfkqU','render','306294OuQdHb','email','/view','245684vIQMoW','Spanish','/staff/view','../public/language/languages.json','find','Hindi','2341905DeNLuB','firstname','language','2244370lBnCxR','English\x20(US)','express','password','status','7171410BvBECu','1461313PgmpAs','name','Raw\x20Materials','master','4wHhpXm','post','aggregate','Portuguese','flash','get','save','body','Email\x20','Router','warehouse','French','English','warehouse_category','params','staff\x20data\x20update\x20successfully'];a0_0x33b9=function(){return _0x554458;};return a0_0x33b9();}function a0_0x25b9(_0x4376ca,_0xd8997){const _0x33b9ce=a0_0x33b9();return a0_0x25b9=function(_0x25b99e,_0xd92288){_0x25b99e=_0x25b99e-0x133;let _0x3ac523=_0x33b9ce[_0x25b99e];return _0x3ac523;},a0_0x25b9(_0x4376ca,_0xd8997);}router[a0_0x341449(0x163)](a0_0x341449(0x14a),auth,async(_0xe825f,_0x5ada06)=>{const _0x2ceeb9=a0_0x341449;try{const {username:_0x3d1cce,email:_0x4be353,role:_0x2e318f}=_0xe825f['user'],_0x477cac=_0xe825f['user'],_0x401370=await profile['findOne']({'email':_0x477cac[_0x2ceeb9(0x149)]}),_0x1d0ff9=await master_shop[_0x2ceeb9(0x14f)]();console[_0x2ceeb9(0x16f)](_0x2ceeb9(0x15d),_0x1d0ff9),warehouse_data=await warehouse[_0x2ceeb9(0x160)]([{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x2ceeb9(0x13a),'name':{'$first':'$name'}}}]);const _0x452836=await staff[_0x2ceeb9(0x14f)]();console[_0x2ceeb9(0x16f)](_0x452836);if(_0x1d0ff9[0x0][_0x2ceeb9(0x153)]==_0x2ceeb9(0x155)){var _0x1754bb=users[_0x2ceeb9(0x16a)];console['log'](_0x1754bb);}else{if(_0x1d0ff9[0x0]['language']=='Hindi')var _0x1754bb=users[_0x2ceeb9(0x150)];else{if(_0x1d0ff9[0x0][_0x2ceeb9(0x153)]==_0x2ceeb9(0x134))var _0x1754bb=users['German'];else{if(_0x1d0ff9[0x0][_0x2ceeb9(0x153)]==_0x2ceeb9(0x14c))var _0x1754bb=users[_0x2ceeb9(0x14c)];else{if(_0x1d0ff9[0x0][_0x2ceeb9(0x153)]==_0x2ceeb9(0x169))var _0x1754bb=users[_0x2ceeb9(0x169)];else{if(_0x1d0ff9[0x0][_0x2ceeb9(0x153)]=='Portuguese\x20(BR)')var _0x1754bb=users[_0x2ceeb9(0x161)];else{if(_0x1d0ff9[0x0][_0x2ceeb9(0x153)]==_0x2ceeb9(0x13f))var _0x1754bb=users[_0x2ceeb9(0x13f)];else{if(_0x1d0ff9[0x0]['language']==_0x2ceeb9(0x136))var _0x1754bb=users['Arabic'];}}}}}}}let _0x39919e=['Raw\x20Materials',_0x2ceeb9(0x16e)];_0x5ada06['render'](_0x2ceeb9(0x144),{'success':_0xe825f[_0x2ceeb9(0x162)](_0x2ceeb9(0x142)),'errors':_0xe825f['flash'](_0x2ceeb9(0x13e)),'role':_0x477cac,'profile':_0x401370,'master_shop':_0x1d0ff9,'user':_0x452836,'language':_0x1754bb,'warehouse':warehouse_data,'warehouse_cat':_0x39919e});}catch(_0x1f141d){console[_0x2ceeb9(0x16f)](_0x1f141d);}}),router[a0_0x341449(0x15f)](a0_0x341449(0x14a),auth,async(_0x5d2874,_0x344acb)=>{const _0x1c02c5=a0_0x341449;try{const {name:_0x59408d,email:_0x1a9474,mobile:_0x29f8c0,password:_0xe2913f,status:_0x1d9e74,warehouse:_0x4ef390,position:_0x42f3f0,warehouse_cat:_0xa9fe02}=_0x5d2874[_0x1c02c5(0x165)],_0x4881c6=await bcrypt[_0x1c02c5(0x140)](_0xe2913f,0xa),_0x20ea56=new staff({'name':_0x59408d,'email':_0x1a9474,'mobile':_0x29f8c0,'status':_0x1d9e74,'warehouse':_0x4ef390,'position':_0x42f3f0,'warehouse_category':_0xa9fe02}),_0x226712=await staff[_0x1c02c5(0x141)]({'email':_0x1a9474});console[_0x1c02c5(0x16f)](_0x226712);if(_0x226712)return _0x5d2874['flash'](_0x1c02c5(0x13e),_0x1c02c5(0x166)+_0x1a9474+'\x20is\x20alredy\x20added.\x20please\x20choose\x20another'),_0x344acb[_0x1c02c5(0x13d)]('back'),![];const _0x5045f4=await _0x20ea56[_0x1c02c5(0x164)](),_0x2f2f1b=new sing_up({'name':_0x59408d,'email':_0x1a9474,'password':_0x4881c6,'role':_0x1c02c5(0x144)}),_0xdd0f0=await _0x2f2f1b['save'](),_0x338aac=new profile({'firstname':_0x59408d,'email':_0x1a9474}),_0x48994d=await _0x338aac[_0x1c02c5(0x164)]();_0x5d2874[_0x1c02c5(0x162)](_0x1c02c5(0x142),_0x59408d+_0x1c02c5(0x139)),_0x344acb[_0x1c02c5(0x13d)](_0x1c02c5(0x14d));}catch(_0x512323){console['log'](_0x512323);}}),router[a0_0x341449(0x163)]('/view/:id',auth,async(_0x4d024d,_0x1677ee)=>{const _0x189bed=a0_0x341449;try{const _0x5918ab=_0x4d024d[_0x189bed(0x16c)]['id'],_0xe22ca8=await master_shop['find'](),_0x55cf7f=await staff[_0x189bed(0x138)](_0x5918ab);if(_0xe22ca8[0x0]['language']==_0x189bed(0x155)){var _0x3019b5=users[_0x189bed(0x16a)];console[_0x189bed(0x16f)](_0x3019b5);}else{if(_0xe22ca8[0x0][_0x189bed(0x153)]==_0x189bed(0x150))var _0x3019b5=users[_0x189bed(0x150)];else{if(_0xe22ca8[0x0][_0x189bed(0x153)]==_0x189bed(0x134))var _0x3019b5=users[_0x189bed(0x134)];else{if(_0xe22ca8[0x0][_0x189bed(0x153)]==_0x189bed(0x14c))var _0x3019b5=users[_0x189bed(0x14c)];else{if(_0xe22ca8[0x0][_0x189bed(0x153)]==_0x189bed(0x169))var _0x3019b5=users[_0x189bed(0x169)];else{if(_0xe22ca8[0x0][_0x189bed(0x153)]=='Portuguese\x20(BR)')var _0x3019b5=users[_0x189bed(0x161)];else{if(_0xe22ca8[0x0][_0x189bed(0x153)]==_0x189bed(0x13f))var _0x3019b5=users[_0x189bed(0x13f)];else{if(_0xe22ca8[0x0]['language']==_0x189bed(0x136))var _0x3019b5=users[_0x189bed(0x13b)];}}}}}}}let _0x502ccc=[_0x189bed(0x15c),_0x189bed(0x16e)];_0x1677ee[_0x189bed(0x147)]('staff',{'success':_0x4d024d['flash'](_0x189bed(0x142)),'errors':_0x4d024d[_0x189bed(0x162)](_0x189bed(0x13e)),'master_shop':_0xe22ca8,'user':_0x55cf7f,'language':_0x3019b5,'warehouse_cat':_0x502ccc});}catch(_0x3e4ecb){console['log'](_0x3e4ecb);}}),router['post'](a0_0x341449(0x13c),auth,async(_0x1cc7d1,_0x1315e1)=>{const _0x24bce1=a0_0x341449;try{const _0x426a60=_0x1cc7d1[_0x24bce1(0x16c)]['id'],_0x3abdf0=await staff[_0x24bce1(0x138)](_0x426a60),{name:_0x39800e,email:_0x510aec,mobile:_0x7d2f97,password:_0x2e23db,status:_0x612ba8,warehouse:_0x2896c3,position:_0x31ae9d,warehouse_cat:_0x47bfa8}=_0x1cc7d1[_0x24bce1(0x165)];_0x3abdf0[_0x24bce1(0x15b)]=_0x39800e,_0x3abdf0['email']=_0x510aec,_0x3abdf0[_0x24bce1(0x133)]=_0x7d2f97,_0x3abdf0[_0x24bce1(0x157)]=_0x2e23db,_0x3abdf0[_0x24bce1(0x158)]=_0x612ba8,_0x3abdf0[_0x24bce1(0x168)]=_0x2896c3,_0x3abdf0['position']=_0x31ae9d,_0x3abdf0[_0x24bce1(0x16b)]=_0x47bfa8;const _0x443cd6=await _0x3abdf0[_0x24bce1(0x164)](),_0x35ebb2=await profile['findOne']({'email':_0x510aec});_0x35ebb2[_0x24bce1(0x152)]=_0x39800e,_0x35ebb2[_0x24bce1(0x149)]=_0x510aec,await _0x35ebb2[_0x24bce1(0x164)](),_0x1cc7d1[_0x24bce1(0x162)](_0x24bce1(0x142),_0x24bce1(0x16d)),_0x1315e1['redirect'](_0x24bce1(0x14d));}catch(_0x16e2a0){console['log'](_0x16e2a0),_0x1315e1['status'](0xc8)['json'](_0x16e2a0);}}),module['exports']=router;