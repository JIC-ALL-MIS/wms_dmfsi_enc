const a0_0x4ffacd=a0_0xd194;(function(_0x53c42a,_0x33a1e5){const _0x2a8150=a0_0xd194,_0x134381=_0x53c42a();while(!![]){try{const _0x5a7953=parseInt(_0x2a8150(0xea))/0x1*(-parseInt(_0x2a8150(0xc0))/0x2)+-parseInt(_0x2a8150(0xbf))/0x3+parseInt(_0x2a8150(0xc4))/0x4*(-parseInt(_0x2a8150(0xd2))/0x5)+parseInt(_0x2a8150(0xbb))/0x6+parseInt(_0x2a8150(0xe0))/0x7*(parseInt(_0x2a8150(0xd8))/0x8)+-parseInt(_0x2a8150(0xd1))/0x9*(-parseInt(_0x2a8150(0xde))/0xa)+parseInt(_0x2a8150(0xe8))/0xb;if(_0x5a7953===_0x33a1e5)break;else _0x134381['push'](_0x134381['shift']());}catch(_0x44bd06){_0x134381['push'](_0x134381['shift']());}}}(a0_0x4ab4,0x77c0f));function a0_0xd194(_0x2b0fdf,_0x197c3b){const _0x4ab497=a0_0x4ab4();return a0_0xd194=function(_0xd19449,_0x45c70f){_0xd19449=_0xd19449-0xb4;let _0x488d88=_0x4ab497[_0xd19449];return _0x488d88;},a0_0xd194(_0x2b0fdf,_0x197c3b);}function a0_0x4ab4(){const _0x54490e=['4cEhmIo','express','Portuguese\x20(BR)','/view','Portuguese','firstname','Arabic','staff','exports','\x20is\x20add\x20successfully','redirect','staff\x20data\x20update\x20successfully','language','81351RqfrSZ','2506705WJnsIV','English\x20(US)','json','findOne','Email\x20','name','10856kaZTEH','Hindi','$name','findById','post','English','630fUBapB','Enabled','616FZcvQU','body','log','email','Arabic\x20(ae)','success','position','/view/:id','19314658eGBMUJ','../public/language/languages.json','33496xGDjRk','French','German','aggregate','../models/all_models','warehouse','params','render','Raw\x20Materials','status','user','get','flash','errors','Finished\x20Goods','/staff/view','321102XMOFgw','Router','Spanish','find','2710464vMjUrQ','36xntrJu','Chinese','save','\x20is\x20alredy\x20added.\x20please\x20choose\x20another'];a0_0x4ab4=function(){return _0x54490e;};return a0_0x4ab4();}const express=require(a0_0x4ffacd(0xc5)),app=express(),router=express[a0_0x4ffacd(0xbc)](),bcrypt=require('bcryptjs'),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x4ffacd(0xee)),auth=require('../middleware/auth'),users=require(a0_0x4ffacd(0xe9));router[a0_0x4ffacd(0xb6)](a0_0x4ffacd(0xc7),auth,async(_0x81176a,_0x14d127)=>{const _0x3a6cd3=a0_0x4ffacd;try{const {username:_0x44efcd,email:_0x3b93e6,role:_0x27d258}=_0x81176a['user'],_0xf081f5=_0x81176a[_0x3a6cd3(0xb5)],_0x3425a5=await profile['findOne']({'email':_0xf081f5['email']}),_0x35097f=await master_shop[_0x3a6cd3(0xbe)]();console['log']('master',_0x35097f),warehouse_data=await warehouse[_0x3a6cd3(0xed)]([{'$match':{'status':_0x3a6cd3(0xdf)}},{'$group':{'_id':_0x3a6cd3(0xda),'name':{'$first':'$name'}}}]);const _0x4329e8=await staff['find']();console[_0x3a6cd3(0xe2)](_0x4329e8);if(_0x35097f[0x0]['language']==_0x3a6cd3(0xd3)){var _0x23c0c2=users[_0x3a6cd3(0xdd)];console['log'](_0x23c0c2);}else{if(_0x35097f[0x0]['language']==_0x3a6cd3(0xd9))var _0x23c0c2=users[_0x3a6cd3(0xd9)];else{if(_0x35097f[0x0][_0x3a6cd3(0xd0)]==_0x3a6cd3(0xec))var _0x23c0c2=users[_0x3a6cd3(0xec)];else{if(_0x35097f[0x0][_0x3a6cd3(0xd0)]==_0x3a6cd3(0xbd))var _0x23c0c2=users[_0x3a6cd3(0xbd)];else{if(_0x35097f[0x0][_0x3a6cd3(0xd0)]==_0x3a6cd3(0xeb))var _0x23c0c2=users[_0x3a6cd3(0xeb)];else{if(_0x35097f[0x0][_0x3a6cd3(0xd0)]==_0x3a6cd3(0xc6))var _0x23c0c2=users[_0x3a6cd3(0xc8)];else{if(_0x35097f[0x0]['language']==_0x3a6cd3(0xc1))var _0x23c0c2=users[_0x3a6cd3(0xc1)];else{if(_0x35097f[0x0][_0x3a6cd3(0xd0)]==_0x3a6cd3(0xe4))var _0x23c0c2=users[_0x3a6cd3(0xca)];}}}}}}}let _0x203d4a=[_0x3a6cd3(0xf2),_0x3a6cd3(0xb9)];_0x14d127[_0x3a6cd3(0xf1)]('staff',{'success':_0x81176a[_0x3a6cd3(0xb7)]('success'),'errors':_0x81176a[_0x3a6cd3(0xb7)](_0x3a6cd3(0xb8)),'role':_0xf081f5,'profile':_0x3425a5,'master_shop':_0x35097f,'user':_0x4329e8,'language':_0x23c0c2,'warehouse':warehouse_data,'warehouse_cat':_0x203d4a});}catch(_0x580627){console['log'](_0x580627);}}),router[a0_0x4ffacd(0xdc)](a0_0x4ffacd(0xc7),auth,async(_0x1b2665,_0x3726c5)=>{const _0x47689e=a0_0x4ffacd;try{const {name:_0x775ad1,email:_0x2d717f,mobile:_0x2567a8,password:_0x243811,status:_0x42403c,warehouse:_0x342928,position:_0x4ba330,warehouse_cat:_0x47a8e0}=_0x1b2665[_0x47689e(0xe1)],_0x1fefd4=await bcrypt['hash'](_0x243811,0xa),_0x55f765=new staff({'name':_0x775ad1,'email':_0x2d717f,'mobile':_0x2567a8,'status':_0x42403c,'warehouse':_0x342928,'position':_0x4ba330,'warehouse_category':_0x47a8e0}),_0x25cbc1=await staff['findOne']({'email':_0x2d717f});console['log'](_0x25cbc1);if(_0x25cbc1)return _0x1b2665[_0x47689e(0xb7)](_0x47689e(0xb8),_0x47689e(0xd6)+_0x2d717f+_0x47689e(0xc3)),_0x3726c5['redirect']('back'),![];const _0x58c5ec=await _0x55f765[_0x47689e(0xc2)](),_0x42115b=new sing_up({'name':_0x775ad1,'email':_0x2d717f,'password':_0x1fefd4,'role':_0x47689e(0xcb)}),_0x24b823=await _0x42115b[_0x47689e(0xc2)](),_0x2efd7c=new profile({'firstname':_0x775ad1,'email':_0x2d717f}),_0x1fee2d=await _0x2efd7c[_0x47689e(0xc2)]();_0x1b2665[_0x47689e(0xb7)](_0x47689e(0xe5),_0x775ad1+_0x47689e(0xcd)),_0x3726c5[_0x47689e(0xce)](_0x47689e(0xba));}catch(_0x49c40f){console[_0x47689e(0xe2)](_0x49c40f);}}),router[a0_0x4ffacd(0xb6)](a0_0x4ffacd(0xe7),auth,async(_0x5fc0f9,_0x1aa7d8)=>{const _0x5f1ae5=a0_0x4ffacd;try{const _0x13dbea=_0x5fc0f9[_0x5f1ae5(0xf0)]['id'],_0x5574d1=await master_shop[_0x5f1ae5(0xbe)](),_0x47ed27=await staff[_0x5f1ae5(0xdb)](_0x13dbea);if(_0x5574d1[0x0]['language']==_0x5f1ae5(0xd3)){var _0x424a2b=users[_0x5f1ae5(0xdd)];console[_0x5f1ae5(0xe2)](_0x424a2b);}else{if(_0x5574d1[0x0][_0x5f1ae5(0xd0)]==_0x5f1ae5(0xd9))var _0x424a2b=users[_0x5f1ae5(0xd9)];else{if(_0x5574d1[0x0][_0x5f1ae5(0xd0)]==_0x5f1ae5(0xec))var _0x424a2b=users[_0x5f1ae5(0xec)];else{if(_0x5574d1[0x0][_0x5f1ae5(0xd0)]=='Spanish')var _0x424a2b=users[_0x5f1ae5(0xbd)];else{if(_0x5574d1[0x0][_0x5f1ae5(0xd0)]=='French')var _0x424a2b=users['French'];else{if(_0x5574d1[0x0][_0x5f1ae5(0xd0)]==_0x5f1ae5(0xc6))var _0x424a2b=users[_0x5f1ae5(0xc8)];else{if(_0x5574d1[0x0]['language']==_0x5f1ae5(0xc1))var _0x424a2b=users[_0x5f1ae5(0xc1)];else{if(_0x5574d1[0x0]['language']==_0x5f1ae5(0xe4))var _0x424a2b=users['Arabic'];}}}}}}}let _0x21f029=[_0x5f1ae5(0xf2),'Finished\x20Goods'];_0x1aa7d8[_0x5f1ae5(0xf1)]('staff',{'success':_0x5fc0f9[_0x5f1ae5(0xb7)](_0x5f1ae5(0xe5)),'errors':_0x5fc0f9['flash'](_0x5f1ae5(0xb8)),'master_shop':_0x5574d1,'user':_0x47ed27,'language':_0x424a2b,'warehouse_cat':_0x21f029});}catch(_0x34ef15){console[_0x5f1ae5(0xe2)](_0x34ef15);}}),router['post'](a0_0x4ffacd(0xe7),auth,async(_0x1bfb48,_0xb68454)=>{const _0x460e2f=a0_0x4ffacd;try{const _0x1d0333=_0x1bfb48[_0x460e2f(0xf0)]['id'],_0x34c854=await staff[_0x460e2f(0xdb)](_0x1d0333),{name:_0xfed4d9,email:_0x101570,mobile:_0x2002de,password:_0x12e575,status:_0xaa75b3,warehouse:_0x495526,position:_0x2bdf9f,warehouse_cat:_0x3d95d9}=_0x1bfb48[_0x460e2f(0xe1)];_0x34c854[_0x460e2f(0xd7)]=_0xfed4d9,_0x34c854['email']=_0x101570,_0x34c854['mobile']=_0x2002de,_0x34c854['password']=_0x12e575,_0x34c854[_0x460e2f(0xb4)]=_0xaa75b3,_0x34c854[_0x460e2f(0xef)]=_0x495526,_0x34c854[_0x460e2f(0xe6)]=_0x2bdf9f,_0x34c854['warehouse_category']=_0x3d95d9;const _0x4c5d4c=await _0x34c854[_0x460e2f(0xc2)](),_0x5e31d5=await profile[_0x460e2f(0xd5)]({'email':_0x101570});_0x5e31d5[_0x460e2f(0xc9)]=_0xfed4d9,_0x5e31d5[_0x460e2f(0xe3)]=_0x101570,await _0x5e31d5[_0x460e2f(0xc2)](),_0x1bfb48['flash'](_0x460e2f(0xe5),_0x460e2f(0xcf)),_0xb68454['redirect']('/staff/view');}catch(_0x4d7940){console[_0x460e2f(0xe2)](_0x4d7940),_0xb68454['status'](0xc8)[_0x460e2f(0xd4)](_0x4d7940);}}),module[a0_0x4ffacd(0xcc)]=router;