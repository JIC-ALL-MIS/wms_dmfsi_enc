const a0_0x15109e=a0_0x23b4;function a0_0x23b4(_0x3475b5,_0x4f4d9a){const _0x5cc957=a0_0x5cc9();return a0_0x23b4=function(_0x23b4d2,_0x23d0e0){_0x23b4d2=_0x23b4d2-0x159;let _0x168829=_0x5cc957[_0x23b4d2];return _0x168829;},a0_0x23b4(_0x3475b5,_0x4f4d9a);}function a0_0x5cc9(){const _0x5b0133=['../public/language/languages.json','10efmrPc','1179952zLnptf','flash','39180xzsCtH','body','47716JSlUSZ','findById','Spanish','15aAclws','findOne','save','29544KiUofD','language','\x20is\x20add\x20successfully','351259XLcUyN','redirect','status','render','errors','Portuguese\x20(BR)','Finished\x20Goods','../middleware/auth','English\x20(US)','exports','306pTXGmo','params','staff','email','Chinese','174054ZEYSpF','35gOuUeA','post','Arabic','master','French','Portuguese','Raw\x20Materials','5296478VBlahQ','json','Router','find','/staff/view','name','hash','$name','Enabled','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','user','bcryptjs','Arabic\x20(ae)','log','German','aggregate','/view','success','warehouse','English','warehouse_category','express','Hindi','password'];a0_0x5cc9=function(){return _0x5b0133;};return a0_0x5cc9();}(function(_0x207018,_0x24e39d){const _0x5a281d=a0_0x23b4,_0x1f114e=_0x207018();while(!![]){try{const _0x562978=-parseInt(_0x5a281d(0x16a))/0x1+-parseInt(_0x5a281d(0x167))/0x2*(parseInt(_0x5a281d(0x164))/0x3)+-parseInt(_0x5a281d(0x161))/0x4*(-parseInt(_0x5a281d(0x15c))/0x5)+-parseInt(_0x5a281d(0x179))/0x6*(-parseInt(_0x5a281d(0x17a))/0x7)+parseInt(_0x5a281d(0x15d))/0x8+parseInt(_0x5a281d(0x174))/0x9*(-parseInt(_0x5a281d(0x15f))/0xa)+parseInt(_0x5a281d(0x181))/0xb;if(_0x562978===_0x24e39d)break;else _0x1f114e['push'](_0x1f114e['shift']());}catch(_0x564c41){_0x1f114e['push'](_0x1f114e['shift']());}}}(a0_0x5cc9,0x3a7cc));const express=require(a0_0x15109e(0x196)),app=express(),router=express[a0_0x15109e(0x183)](),bcrypt=require(a0_0x15109e(0x18c)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require('../models/all_models'),auth=require(a0_0x15109e(0x171)),users=require(a0_0x15109e(0x15b));router['get'](a0_0x15109e(0x191),auth,async(_0x1dc755,_0x8ab3aa)=>{const _0x46eefb=a0_0x15109e;try{const {username:_0x3d6465,email:_0x4c3dac,role:_0x3063bd}=_0x1dc755['user'],_0x2e61a6=_0x1dc755[_0x46eefb(0x18b)],_0x18bd91=await profile[_0x46eefb(0x165)]({'email':_0x2e61a6['email']}),_0x3cfa64=await master_shop[_0x46eefb(0x184)]();console[_0x46eefb(0x18e)](_0x46eefb(0x17d),_0x3cfa64),warehouse_data=await warehouse[_0x46eefb(0x190)]([{'$match':{'status':_0x46eefb(0x189)}},{'$group':{'_id':_0x46eefb(0x188),'name':{'$first':_0x46eefb(0x188)}}}]);const _0x17973c=await staff['find']();console['log'](_0x17973c);if(_0x3cfa64[0x0]['language']==_0x46eefb(0x172)){var _0x24ea4f=users[_0x46eefb(0x194)];console[_0x46eefb(0x18e)](_0x24ea4f);}else{if(_0x3cfa64[0x0][_0x46eefb(0x168)]==_0x46eefb(0x159))var _0x24ea4f=users[_0x46eefb(0x159)];else{if(_0x3cfa64[0x0]['language']==_0x46eefb(0x18f))var _0x24ea4f=users[_0x46eefb(0x18f)];else{if(_0x3cfa64[0x0][_0x46eefb(0x168)]==_0x46eefb(0x163))var _0x24ea4f=users[_0x46eefb(0x163)];else{if(_0x3cfa64[0x0][_0x46eefb(0x168)]==_0x46eefb(0x17e))var _0x24ea4f=users['French'];else{if(_0x3cfa64[0x0][_0x46eefb(0x168)]==_0x46eefb(0x16f))var _0x24ea4f=users[_0x46eefb(0x17f)];else{if(_0x3cfa64[0x0]['language']==_0x46eefb(0x178))var _0x24ea4f=users[_0x46eefb(0x178)];else{if(_0x3cfa64[0x0]['language']==_0x46eefb(0x18d))var _0x24ea4f=users[_0x46eefb(0x17c)];}}}}}}}let _0x49d990=[_0x46eefb(0x180),_0x46eefb(0x170)];_0x8ab3aa[_0x46eefb(0x16d)]('staff',{'success':_0x1dc755[_0x46eefb(0x15e)](_0x46eefb(0x192)),'errors':_0x1dc755[_0x46eefb(0x15e)](_0x46eefb(0x16e)),'role':_0x2e61a6,'profile':_0x18bd91,'master_shop':_0x3cfa64,'user':_0x17973c,'language':_0x24ea4f,'warehouse':warehouse_data,'warehouse_cat':_0x49d990});}catch(_0x543b0c){console['log'](_0x543b0c);}}),router['post']('/view',auth,async(_0x11e79b,_0x16d4fa)=>{const _0x30b8c2=a0_0x15109e;try{const {name:_0xd73840,email:_0x5e367b,mobile:_0x10fc54,password:_0x2e37cf,status:_0x174516,warehouse:_0x15e510,position:_0x285741,warehouse_cat:_0xc0ee9}=_0x11e79b['body'],_0x3afc82=await bcrypt[_0x30b8c2(0x187)](_0x2e37cf,0xa),_0x1115d7=new staff({'name':_0xd73840,'email':_0x5e367b,'mobile':_0x10fc54,'status':_0x174516,'warehouse':_0x15e510,'position':_0x285741,'warehouse_category':_0xc0ee9}),_0x3c1859=await staff['findOne']({'email':_0x5e367b});console[_0x30b8c2(0x18e)](_0x3c1859);if(_0x3c1859)return _0x11e79b['flash'](_0x30b8c2(0x16e),'Email\x20'+_0x5e367b+_0x30b8c2(0x18a)),_0x16d4fa[_0x30b8c2(0x16b)]('back'),![];const _0x56674a=await _0x1115d7[_0x30b8c2(0x166)](),_0x1c2829=new sing_up({'name':_0xd73840,'email':_0x5e367b,'password':_0x3afc82,'role':_0x30b8c2(0x176)}),_0x540536=await _0x1c2829['save'](),_0x483829=new profile({'firstname':_0xd73840,'email':_0x5e367b}),_0x16f444=await _0x483829[_0x30b8c2(0x166)]();_0x11e79b[_0x30b8c2(0x15e)](_0x30b8c2(0x192),_0xd73840+_0x30b8c2(0x169)),_0x16d4fa['redirect'](_0x30b8c2(0x185));}catch(_0x18ca3f){console['log'](_0x18ca3f);}}),router['get']('/view/:id',auth,async(_0x264431,_0x6ce43c)=>{const _0x47ff92=a0_0x15109e;try{const _0x2df528=_0x264431['params']['id'],_0x4763a5=await master_shop[_0x47ff92(0x184)](),_0xcc69a=await staff['findById'](_0x2df528);if(_0x4763a5[0x0][_0x47ff92(0x168)]==_0x47ff92(0x172)){var _0x1919fd=users[_0x47ff92(0x194)];console[_0x47ff92(0x18e)](_0x1919fd);}else{if(_0x4763a5[0x0][_0x47ff92(0x168)]=='Hindi')var _0x1919fd=users['Hindi'];else{if(_0x4763a5[0x0][_0x47ff92(0x168)]==_0x47ff92(0x18f))var _0x1919fd=users[_0x47ff92(0x18f)];else{if(_0x4763a5[0x0][_0x47ff92(0x168)]==_0x47ff92(0x163))var _0x1919fd=users[_0x47ff92(0x163)];else{if(_0x4763a5[0x0][_0x47ff92(0x168)]==_0x47ff92(0x17e))var _0x1919fd=users[_0x47ff92(0x17e)];else{if(_0x4763a5[0x0][_0x47ff92(0x168)]==_0x47ff92(0x16f))var _0x1919fd=users[_0x47ff92(0x17f)];else{if(_0x4763a5[0x0]['language']=='Chinese')var _0x1919fd=users[_0x47ff92(0x178)];else{if(_0x4763a5[0x0][_0x47ff92(0x168)]==_0x47ff92(0x18d))var _0x1919fd=users[_0x47ff92(0x17c)];}}}}}}}let _0x4ae096=[_0x47ff92(0x180),'Finished\x20Goods'];_0x6ce43c['render']('staff',{'success':_0x264431['flash'](_0x47ff92(0x192)),'errors':_0x264431[_0x47ff92(0x15e)]('errors'),'master_shop':_0x4763a5,'user':_0xcc69a,'language':_0x1919fd,'warehouse_cat':_0x4ae096});}catch(_0x338840){console['log'](_0x338840);}}),router[a0_0x15109e(0x17b)]('/view/:id',auth,async(_0xd60433,_0x21fb80)=>{const _0x3173fe=a0_0x15109e;try{const _0x2f6ff7=_0xd60433[_0x3173fe(0x175)]['id'],_0x1b5035=await staff[_0x3173fe(0x162)](_0x2f6ff7),{name:_0x1093ac,email:_0x369885,mobile:_0x3b4e05,password:_0xf678e7,status:_0x5257c0,warehouse:_0x2a173c,position:_0x2cba1d,warehouse_cat:_0x10402a}=_0xd60433[_0x3173fe(0x160)];_0x1b5035[_0x3173fe(0x186)]=_0x1093ac,_0x1b5035[_0x3173fe(0x177)]=_0x369885,_0x1b5035['mobile']=_0x3b4e05,_0x1b5035[_0x3173fe(0x15a)]=_0xf678e7,_0x1b5035[_0x3173fe(0x16c)]=_0x5257c0,_0x1b5035[_0x3173fe(0x193)]=_0x2a173c,_0x1b5035['position']=_0x2cba1d,_0x1b5035[_0x3173fe(0x195)]=_0x10402a;const _0x331b2f=await _0x1b5035[_0x3173fe(0x166)](),_0x58fd89=await profile[_0x3173fe(0x165)]({'email':_0x369885});_0x58fd89['firstname']=_0x1093ac,_0x58fd89[_0x3173fe(0x177)]=_0x369885,await _0x58fd89['save'](),_0xd60433[_0x3173fe(0x15e)]('success','staff\x20data\x20update\x20successfully'),_0x21fb80[_0x3173fe(0x16b)](_0x3173fe(0x185));}catch(_0x485d9a){console[_0x3173fe(0x18e)](_0x485d9a),_0x21fb80['status'](0xc8)[_0x3173fe(0x182)](_0x485d9a);}}),module[a0_0x15109e(0x173)]=router;