const a0_0x111723=a0_0x423b;function a0_0x423b(_0x4022ec,_0x27291f){const _0x4b7d57=a0_0x4b7d();return a0_0x423b=function(_0x423ba8,_0x6590ed){_0x423ba8=_0x423ba8-0x1cc;let _0x5727bb=_0x4b7d57[_0x423ba8];return _0x5727bb;},a0_0x423b(_0x4022ec,_0x27291f);}(function(_0x13b8b8,_0x1adacf){const _0x461bb9=a0_0x423b,_0x2f55a0=_0x13b8b8();while(!![]){try{const _0x555ab7=-parseInt(_0x461bb9(0x1f7))/0x1*(-parseInt(_0x461bb9(0x1d5))/0x2)+-parseInt(_0x461bb9(0x1dd))/0x3*(parseInt(_0x461bb9(0x1f6))/0x4)+parseInt(_0x461bb9(0x1ff))/0x5+parseInt(_0x461bb9(0x1f0))/0x6*(parseInt(_0x461bb9(0x1fd))/0x7)+parseInt(_0x461bb9(0x1ea))/0x8*(parseInt(_0x461bb9(0x1cf))/0x9)+-parseInt(_0x461bb9(0x1e7))/0xa+-parseInt(_0x461bb9(0x201))/0xb;if(_0x555ab7===_0x1adacf)break;else _0x2f55a0['push'](_0x2f55a0['shift']());}catch(_0x57fdb4){_0x2f55a0['push'](_0x2f55a0['shift']());}}}(a0_0x4b7d,0x91045));function a0_0x4b7d(){const _0x175d31=['1183116BfygLh','French','English','find','Arabic','findById','/view','firstname','exports','873umQPBb','status','hash','Spanish','save','Finished\x20Goods','2jCZUCe','errors','staff','user','bcryptjs','$name','render','email','111JiwRjz','Portuguese\x20(BR)','mobile','flash','Router','findOne','get','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','body','Arabic\x20(ae)','1245790tcAoxw','German','/staff/view','70400apXekT','\x20is\x20add\x20successfully','Raw\x20Materials','Hindi','language','Chinese','228ucvCQL','/view/:id','json','log','name','success','74696MNiULs','52091srxGNR','warehouse','params','../public/language/languages.json','aggregate','English\x20(US)','66290vuEsMt','post','1257555KXEquh','redirect'];a0_0x4b7d=function(){return _0x175d31;};return a0_0x4b7d();}const express=require('express'),app=express(),router=express[a0_0x111723(0x1e1)](),bcrypt=require(a0_0x111723(0x1d9)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require('../models/all_models'),auth=require('../middleware/auth'),users=require(a0_0x111723(0x1fa));router['get'](a0_0x111723(0x1cc),auth,async(_0x51e650,_0x3720a0)=>{const _0x4f3ae6=a0_0x111723;try{const {username:_0x1f349c,email:_0x540473,role:_0x4396c1}=_0x51e650[_0x4f3ae6(0x1d8)],_0x4c6b91=_0x51e650['user'],_0x2cd307=await profile[_0x4f3ae6(0x1e2)]({'email':_0x4c6b91[_0x4f3ae6(0x1dc)]}),_0x402af6=await master_shop['find']();console[_0x4f3ae6(0x1f3)]('master',_0x402af6),warehouse_data=await warehouse[_0x4f3ae6(0x1fb)]([{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x4f3ae6(0x1da),'name':{'$first':_0x4f3ae6(0x1da)}}}]);const _0x5b1741=await staff[_0x4f3ae6(0x204)]();console[_0x4f3ae6(0x1f3)](_0x5b1741);if(_0x402af6[0x0][_0x4f3ae6(0x1ee)]==_0x4f3ae6(0x1fc)){var _0x5a444c=users[_0x4f3ae6(0x203)];console['log'](_0x5a444c);}else{if(_0x402af6[0x0][_0x4f3ae6(0x1ee)]==_0x4f3ae6(0x1ed))var _0x5a444c=users['Hindi'];else{if(_0x402af6[0x0]['language']==_0x4f3ae6(0x1e8))var _0x5a444c=users[_0x4f3ae6(0x1e8)];else{if(_0x402af6[0x0][_0x4f3ae6(0x1ee)]=='Spanish')var _0x5a444c=users[_0x4f3ae6(0x1d2)];else{if(_0x402af6[0x0][_0x4f3ae6(0x1ee)]==_0x4f3ae6(0x202))var _0x5a444c=users[_0x4f3ae6(0x202)];else{if(_0x402af6[0x0][_0x4f3ae6(0x1ee)]==_0x4f3ae6(0x1de))var _0x5a444c=users['Portuguese'];else{if(_0x402af6[0x0][_0x4f3ae6(0x1ee)]==_0x4f3ae6(0x1ef))var _0x5a444c=users[_0x4f3ae6(0x1ef)];else{if(_0x402af6[0x0][_0x4f3ae6(0x1ee)]==_0x4f3ae6(0x1e6))var _0x5a444c=users[_0x4f3ae6(0x205)];}}}}}}}let _0x2cfabd=['Raw\x20Materials',_0x4f3ae6(0x1d4)];_0x3720a0[_0x4f3ae6(0x1db)]('staff',{'success':_0x51e650['flash']('success'),'errors':_0x51e650['flash'](_0x4f3ae6(0x1d6)),'role':_0x4c6b91,'profile':_0x2cd307,'master_shop':_0x402af6,'user':_0x5b1741,'language':_0x5a444c,'warehouse':warehouse_data,'warehouse_cat':_0x2cfabd});}catch(_0x5d7a80){console[_0x4f3ae6(0x1f3)](_0x5d7a80);}}),router['post'](a0_0x111723(0x1cc),auth,async(_0x5b9828,_0x4b9a9c)=>{const _0xd39298=a0_0x111723;try{const {name:_0x3d8a77,email:_0x5a02ab,mobile:_0x5572d9,password:_0x471967,status:_0x233cc4,warehouse:_0x3c6468,position:_0x345196,warehouse_cat:_0x414a02}=_0x5b9828[_0xd39298(0x1e5)],_0x3d586b=await bcrypt[_0xd39298(0x1d1)](_0x471967,0xa),_0xb38eb1=new staff({'name':_0x3d8a77,'email':_0x5a02ab,'mobile':_0x5572d9,'status':_0x233cc4,'warehouse':_0x3c6468,'position':_0x345196,'warehouse_category':_0x414a02}),_0x7995b1=await staff[_0xd39298(0x1e2)]({'email':_0x5a02ab});console[_0xd39298(0x1f3)](_0x7995b1);if(_0x7995b1)return _0x5b9828[_0xd39298(0x1e0)](_0xd39298(0x1d6),'Email\x20'+_0x5a02ab+_0xd39298(0x1e4)),_0x4b9a9c[_0xd39298(0x200)]('back'),![];const _0x4ebef4=await _0xb38eb1[_0xd39298(0x1d3)](),_0x1f9100=new sing_up({'name':_0x3d8a77,'email':_0x5a02ab,'password':_0x3d586b,'role':_0xd39298(0x1d7)}),_0xa72c38=await _0x1f9100[_0xd39298(0x1d3)](),_0x448487=new profile({'firstname':_0x3d8a77,'email':_0x5a02ab}),_0x5d96c3=await _0x448487[_0xd39298(0x1d3)]();_0x5b9828[_0xd39298(0x1e0)](_0xd39298(0x1f5),_0x3d8a77+_0xd39298(0x1eb)),_0x4b9a9c[_0xd39298(0x200)](_0xd39298(0x1e9));}catch(_0x5d2156){console[_0xd39298(0x1f3)](_0x5d2156);}}),router[a0_0x111723(0x1e3)](a0_0x111723(0x1f1),auth,async(_0x3ee39d,_0x1b5f9b)=>{const _0xf76732=a0_0x111723;try{const _0x13a37e=_0x3ee39d[_0xf76732(0x1f9)]['id'],_0x5c529f=await master_shop['find'](),_0x35a597=await staff[_0xf76732(0x206)](_0x13a37e);if(_0x5c529f[0x0][_0xf76732(0x1ee)]=='English\x20(US)'){var _0x1e90da=users[_0xf76732(0x203)];console[_0xf76732(0x1f3)](_0x1e90da);}else{if(_0x5c529f[0x0]['language']=='Hindi')var _0x1e90da=users[_0xf76732(0x1ed)];else{if(_0x5c529f[0x0][_0xf76732(0x1ee)]=='German')var _0x1e90da=users[_0xf76732(0x1e8)];else{if(_0x5c529f[0x0][_0xf76732(0x1ee)]=='Spanish')var _0x1e90da=users[_0xf76732(0x1d2)];else{if(_0x5c529f[0x0][_0xf76732(0x1ee)]=='French')var _0x1e90da=users[_0xf76732(0x202)];else{if(_0x5c529f[0x0]['language']==_0xf76732(0x1de))var _0x1e90da=users['Portuguese'];else{if(_0x5c529f[0x0][_0xf76732(0x1ee)]==_0xf76732(0x1ef))var _0x1e90da=users[_0xf76732(0x1ef)];else{if(_0x5c529f[0x0][_0xf76732(0x1ee)]=='Arabic\x20(ae)')var _0x1e90da=users['Arabic'];}}}}}}}let _0x57690c=[_0xf76732(0x1ec),_0xf76732(0x1d4)];_0x1b5f9b[_0xf76732(0x1db)](_0xf76732(0x1d7),{'success':_0x3ee39d[_0xf76732(0x1e0)](_0xf76732(0x1f5)),'errors':_0x3ee39d[_0xf76732(0x1e0)]('errors'),'master_shop':_0x5c529f,'user':_0x35a597,'language':_0x1e90da,'warehouse_cat':_0x57690c});}catch(_0x20c130){console['log'](_0x20c130);}}),router[a0_0x111723(0x1fe)]('/view/:id',auth,async(_0x50b263,_0x2587b1)=>{const _0x5af06a=a0_0x111723;try{const _0x451df6=_0x50b263[_0x5af06a(0x1f9)]['id'],_0x42fee4=await staff[_0x5af06a(0x206)](_0x451df6),{name:_0x245cf2,email:_0x145849,mobile:_0x3e6e1b,password:_0x17dd3c,status:_0x24a9ae,warehouse:_0xb0b89d,position:_0x173ecd,warehouse_cat:_0x4bc258}=_0x50b263[_0x5af06a(0x1e5)];_0x42fee4[_0x5af06a(0x1f4)]=_0x245cf2,_0x42fee4[_0x5af06a(0x1dc)]=_0x145849,_0x42fee4[_0x5af06a(0x1df)]=_0x3e6e1b,_0x42fee4['password']=_0x17dd3c,_0x42fee4[_0x5af06a(0x1d0)]=_0x24a9ae,_0x42fee4[_0x5af06a(0x1f8)]=_0xb0b89d,_0x42fee4['position']=_0x173ecd,_0x42fee4['warehouse_category']=_0x4bc258;const _0x2550d5=await _0x42fee4[_0x5af06a(0x1d3)](),_0x1ef528=await profile[_0x5af06a(0x1e2)]({'email':_0x145849});_0x1ef528[_0x5af06a(0x1cd)]=_0x245cf2,_0x1ef528[_0x5af06a(0x1dc)]=_0x145849,await _0x1ef528[_0x5af06a(0x1d3)](),_0x50b263[_0x5af06a(0x1e0)](_0x5af06a(0x1f5),'staff\x20data\x20update\x20successfully'),_0x2587b1[_0x5af06a(0x200)](_0x5af06a(0x1e9));}catch(_0xcd5128){console[_0x5af06a(0x1f3)](_0xcd5128),_0x2587b1[_0x5af06a(0x1d0)](0xc8)[_0x5af06a(0x1f2)](_0xcd5128);}}),module[a0_0x111723(0x1ce)]=router;