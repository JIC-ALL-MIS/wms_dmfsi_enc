const a0_0x2701ab=a0_0x233d;(function(_0x2e840e,_0xd1253b){const _0x5c3953=a0_0x233d,_0x3e06df=_0x2e840e();while(!![]){try{const _0x2dfac0=-parseInt(_0x5c3953(0x19d))/0x1+-parseInt(_0x5c3953(0x1a7))/0x2*(parseInt(_0x5c3953(0x1be))/0x3)+-parseInt(_0x5c3953(0x1c9))/0x4*(parseInt(_0x5c3953(0x1ae))/0x5)+parseInt(_0x5c3953(0x1db))/0x6*(-parseInt(_0x5c3953(0x1b1))/0x7)+-parseInt(_0x5c3953(0x1d3))/0x8+parseInt(_0x5c3953(0x1a5))/0x9+parseInt(_0x5c3953(0x1d9))/0xa;if(_0x2dfac0===_0xd1253b)break;else _0x3e06df['push'](_0x3e06df['shift']());}catch(_0x44f0d5){_0x3e06df['push'](_0x3e06df['shift']());}}}(a0_0x4c81,0xd3636));const express=require(a0_0x2701ab(0x1a2)),app=express(),router=express[a0_0x2701ab(0x1a4)](),bcrypt=require(a0_0x2701ab(0x1c7)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x2701ab(0x1d5)),auth=require('../middleware/auth'),users=require(a0_0x2701ab(0x1ac));function a0_0x4c81(){const _0x10245c=['back','success','express','findOne','Router','15190353IubURc','params','6MtAeKV','Hindi','$name','flash','get','../public/language/languages.json','Enabled','5uobTyb','Finished\x20Goods','Portuguese\x20(BR)','3745469IqFwYY','json','Arabic\x20(ae)','exports','\x20is\x20add\x20successfully','/view','master','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','/staff/view','staff\x20data\x20update\x20successfully','name','warehouse_category','Spanish','1678059aGXVGT','Arabic','warehouse','German','Chinese','staff','aggregate','email','language','bcryptjs','find','3208696ekYHbs','save','Email\x20','firstname','errors','log','Raw\x20Materials','status','redirect','French','9814984EYBUjb','hash','../models/all_models','English','render','post','43599210IQZhip','mobile','12ofbQTL','Portuguese','/view/:id','English\x20(US)','404652WFtAYo','position','user'];a0_0x4c81=function(){return _0x10245c;};return a0_0x4c81();}function a0_0x233d(_0x3d8c64,_0x2f0077){const _0x4c81da=a0_0x4c81();return a0_0x233d=function(_0x233d81,_0x1ca7a6){_0x233d81=_0x233d81-0x19c;let _0x22540f=_0x4c81da[_0x233d81];return _0x22540f;},a0_0x233d(_0x3d8c64,_0x2f0077);}router[a0_0x2701ab(0x1ab)](a0_0x2701ab(0x1b6),auth,async(_0x3bd2b2,_0x4ef442)=>{const _0x440abe=a0_0x2701ab;try{const {username:_0x14cc49,email:_0x622e52,role:_0x135706}=_0x3bd2b2[_0x440abe(0x19f)],_0x1a154a=_0x3bd2b2['user'],_0x33bf8f=await profile[_0x440abe(0x1a3)]({'email':_0x1a154a[_0x440abe(0x1c5)]}),_0x29789c=await master_shop['find']();console['log'](_0x440abe(0x1b7),_0x29789c),warehouse_data=await warehouse[_0x440abe(0x1c4)]([{'$match':{'status':_0x440abe(0x1ad)}},{'$group':{'_id':_0x440abe(0x1a9),'name':{'$first':_0x440abe(0x1a9)}}}]);const _0x77c32=await staff[_0x440abe(0x1c8)]();console[_0x440abe(0x1ce)](_0x77c32);if(_0x29789c[0x0][_0x440abe(0x1c6)]==_0x440abe(0x19c)){var _0x36d0c1=users[_0x440abe(0x1d6)];console[_0x440abe(0x1ce)](_0x36d0c1);}else{if(_0x29789c[0x0][_0x440abe(0x1c6)]==_0x440abe(0x1a8))var _0x36d0c1=users[_0x440abe(0x1a8)];else{if(_0x29789c[0x0]['language']==_0x440abe(0x1c1))var _0x36d0c1=users[_0x440abe(0x1c1)];else{if(_0x29789c[0x0][_0x440abe(0x1c6)]=='Spanish')var _0x36d0c1=users['Spanish'];else{if(_0x29789c[0x0]['language']==_0x440abe(0x1d2))var _0x36d0c1=users['French'];else{if(_0x29789c[0x0]['language']==_0x440abe(0x1b0))var _0x36d0c1=users[_0x440abe(0x1dc)];else{if(_0x29789c[0x0][_0x440abe(0x1c6)]==_0x440abe(0x1c2))var _0x36d0c1=users[_0x440abe(0x1c2)];else{if(_0x29789c[0x0][_0x440abe(0x1c6)]=='Arabic\x20(ae)')var _0x36d0c1=users[_0x440abe(0x1bf)];}}}}}}}let _0x208570=[_0x440abe(0x1cf),_0x440abe(0x1af)];_0x4ef442[_0x440abe(0x1d7)](_0x440abe(0x1c3),{'success':_0x3bd2b2[_0x440abe(0x1aa)](_0x440abe(0x1a1)),'errors':_0x3bd2b2['flash'](_0x440abe(0x1cd)),'role':_0x1a154a,'profile':_0x33bf8f,'master_shop':_0x29789c,'user':_0x77c32,'language':_0x36d0c1,'warehouse':warehouse_data,'warehouse_cat':_0x208570});}catch(_0x35273b){console[_0x440abe(0x1ce)](_0x35273b);}}),router['post'](a0_0x2701ab(0x1b6),auth,async(_0x255f25,_0x2a46ef)=>{const _0x336606=a0_0x2701ab;try{const {name:_0x58edb6,email:_0x405fbe,mobile:_0x18554f,password:_0x2963ea,status:_0x4fa03e,warehouse:_0x191fe6,position:_0x203a1c,warehouse_cat:_0x11c29e}=_0x255f25['body'],_0x1933a7=await bcrypt[_0x336606(0x1d4)](_0x2963ea,0xa),_0x5a4eb7=new staff({'name':_0x58edb6,'email':_0x405fbe,'mobile':_0x18554f,'status':_0x4fa03e,'warehouse':_0x191fe6,'position':_0x203a1c,'warehouse_category':_0x11c29e}),_0x1a53ab=await staff[_0x336606(0x1a3)]({'email':_0x405fbe});console[_0x336606(0x1ce)](_0x1a53ab);if(_0x1a53ab)return _0x255f25['flash'](_0x336606(0x1cd),_0x336606(0x1cb)+_0x405fbe+_0x336606(0x1b8)),_0x2a46ef[_0x336606(0x1d1)](_0x336606(0x1a0)),![];const _0x59f664=await _0x5a4eb7[_0x336606(0x1ca)](),_0x6ee033=new sing_up({'name':_0x58edb6,'email':_0x405fbe,'password':_0x1933a7,'role':'staff'}),_0x1d7d5a=await _0x6ee033['save'](),_0x2ba1ac=new profile({'firstname':_0x58edb6,'email':_0x405fbe}),_0x3ecdb3=await _0x2ba1ac[_0x336606(0x1ca)]();_0x255f25[_0x336606(0x1aa)](_0x336606(0x1a1),_0x58edb6+_0x336606(0x1b5)),_0x2a46ef[_0x336606(0x1d1)](_0x336606(0x1b9));}catch(_0x4b7d24){console[_0x336606(0x1ce)](_0x4b7d24);}}),router[a0_0x2701ab(0x1ab)](a0_0x2701ab(0x1dd),auth,async(_0x27d282,_0x4aeb64)=>{const _0x1eac74=a0_0x2701ab;try{const _0x5d3613=_0x27d282[_0x1eac74(0x1a6)]['id'],_0x106e47=await master_shop[_0x1eac74(0x1c8)](),_0x426dcb=await staff['findById'](_0x5d3613);if(_0x106e47[0x0][_0x1eac74(0x1c6)]==_0x1eac74(0x19c)){var _0x3eb2c9=users[_0x1eac74(0x1d6)];console[_0x1eac74(0x1ce)](_0x3eb2c9);}else{if(_0x106e47[0x0][_0x1eac74(0x1c6)]=='Hindi')var _0x3eb2c9=users[_0x1eac74(0x1a8)];else{if(_0x106e47[0x0][_0x1eac74(0x1c6)]=='German')var _0x3eb2c9=users[_0x1eac74(0x1c1)];else{if(_0x106e47[0x0]['language']==_0x1eac74(0x1bd))var _0x3eb2c9=users[_0x1eac74(0x1bd)];else{if(_0x106e47[0x0][_0x1eac74(0x1c6)]==_0x1eac74(0x1d2))var _0x3eb2c9=users['French'];else{if(_0x106e47[0x0][_0x1eac74(0x1c6)]==_0x1eac74(0x1b0))var _0x3eb2c9=users['Portuguese'];else{if(_0x106e47[0x0][_0x1eac74(0x1c6)]==_0x1eac74(0x1c2))var _0x3eb2c9=users[_0x1eac74(0x1c2)];else{if(_0x106e47[0x0][_0x1eac74(0x1c6)]==_0x1eac74(0x1b3))var _0x3eb2c9=users['Arabic'];}}}}}}}let _0x432722=['Raw\x20Materials',_0x1eac74(0x1af)];_0x4aeb64[_0x1eac74(0x1d7)]('staff',{'success':_0x27d282['flash'](_0x1eac74(0x1a1)),'errors':_0x27d282['flash'](_0x1eac74(0x1cd)),'master_shop':_0x106e47,'user':_0x426dcb,'language':_0x3eb2c9,'warehouse_cat':_0x432722});}catch(_0x4e51fc){console[_0x1eac74(0x1ce)](_0x4e51fc);}}),router[a0_0x2701ab(0x1d8)]('/view/:id',auth,async(_0x3a0464,_0x441305)=>{const _0x3e9c1=a0_0x2701ab;try{const _0x5d74a7=_0x3a0464[_0x3e9c1(0x1a6)]['id'],_0x1329d5=await staff['findById'](_0x5d74a7),{name:_0x2b24cc,email:_0x5a5217,mobile:_0x44a744,password:_0x5aed05,status:_0x175b12,warehouse:_0x5b7736,position:_0x139f50,warehouse_cat:_0x582c74}=_0x3a0464['body'];_0x1329d5[_0x3e9c1(0x1bb)]=_0x2b24cc,_0x1329d5[_0x3e9c1(0x1c5)]=_0x5a5217,_0x1329d5[_0x3e9c1(0x1da)]=_0x44a744,_0x1329d5['password']=_0x5aed05,_0x1329d5[_0x3e9c1(0x1d0)]=_0x175b12,_0x1329d5[_0x3e9c1(0x1c0)]=_0x5b7736,_0x1329d5[_0x3e9c1(0x19e)]=_0x139f50,_0x1329d5[_0x3e9c1(0x1bc)]=_0x582c74;const _0x43a90c=await _0x1329d5[_0x3e9c1(0x1ca)](),_0x5f18d0=await profile['findOne']({'email':_0x5a5217});_0x5f18d0[_0x3e9c1(0x1cc)]=_0x2b24cc,_0x5f18d0[_0x3e9c1(0x1c5)]=_0x5a5217,await _0x5f18d0[_0x3e9c1(0x1ca)](),_0x3a0464[_0x3e9c1(0x1aa)](_0x3e9c1(0x1a1),_0x3e9c1(0x1ba)),_0x441305['redirect'](_0x3e9c1(0x1b9));}catch(_0x9df68){console[_0x3e9c1(0x1ce)](_0x9df68),_0x441305[_0x3e9c1(0x1d0)](0xc8)[_0x3e9c1(0x1b2)](_0x9df68);}}),module[a0_0x2701ab(0x1b4)]=router;