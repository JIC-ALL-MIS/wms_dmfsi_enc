const a0_0x11db26=a0_0x693d;(function(_0x1c1b15,_0x42dd09){const _0x5cdd39=a0_0x693d,_0x464119=_0x1c1b15();while(!![]){try{const _0x58bd32=parseInt(_0x5cdd39(0x20e))/0x1*(parseInt(_0x5cdd39(0x21d))/0x2)+parseInt(_0x5cdd39(0x214))/0x3+-parseInt(_0x5cdd39(0x1fd))/0x4*(parseInt(_0x5cdd39(0x1f7))/0x5)+-parseInt(_0x5cdd39(0x206))/0x6+parseInt(_0x5cdd39(0x1f6))/0x7+parseInt(_0x5cdd39(0x1f5))/0x8*(-parseInt(_0x5cdd39(0x1fe))/0x9)+-parseInt(_0x5cdd39(0x20f))/0xa;if(_0x58bd32===_0x42dd09)break;else _0x464119['push'](_0x464119['shift']());}catch(_0x1f406f){_0x464119['push'](_0x464119['shift']());}}}(a0_0x1dbd,0x3b6a8));function a0_0x693d(_0x24a246,_0x3d03d0){const _0x1dbd7c=a0_0x1dbd();return a0_0x693d=function(_0x693d0c,_0x1c3045){_0x693d0c=_0x693d0c-0x1f1;let _0x1e4892=_0x1dbd7c[_0x693d0c];return _0x1e4892;},a0_0x693d(_0x24a246,_0x3d03d0);}function a0_0x1dbd(){const _0x933946=['Finished\x20Goods','bcryptjs','French','Portuguese','mobile','/view','warehouse_category','/staff/view','Spanish','Router','success','body','English\x20(US)','Raw\x20Materials','password','66232ArHgMi','2976561FUQVFT','90040AmKsoR','json','\x20is\x20add\x20successfully','redirect','../public/language/languages.json','save','4DyNfEE','81ToxSUI','Enabled','$name','language','errors','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','findOne','firstname','1698222cMunOy','Chinese','German','status','find','back','Email\x20','Arabic\x20(ae)','181919ARchHu','329650xIXYKU','Portuguese\x20(BR)','/view/:id','get','English','134241QoBYAT','staff','params','../models/all_models','../middleware/auth','email','Arabic','log','flash','2IbhxdM','master','Hindi'];a0_0x1dbd=function(){return _0x933946;};return a0_0x1dbd();}const express=require('express'),app=express(),router=express[a0_0x11db26(0x229)](),bcrypt=require(a0_0x11db26(0x221)),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x11db26(0x217)),auth=require(a0_0x11db26(0x218)),users=require(a0_0x11db26(0x1fb));router[a0_0x11db26(0x212)](a0_0x11db26(0x225),auth,async(_0x12bda4,_0x147bf3)=>{const _0x320813=a0_0x11db26;try{const {username:_0xc4238b,email:_0x46d180,role:_0x584e93}=_0x12bda4['user'],_0x5b1b63=_0x12bda4['user'],_0x39c4e4=await profile['findOne']({'email':_0x5b1b63[_0x320813(0x219)]}),_0x4dbd84=await master_shop[_0x320813(0x20a)]();console[_0x320813(0x21b)](_0x320813(0x21e),_0x4dbd84),warehouse_data=await warehouse['aggregate']([{'$match':{'status':_0x320813(0x1ff)}},{'$group':{'_id':_0x320813(0x200),'name':{'$first':'$name'}}}]);const _0x594a6d=await staff[_0x320813(0x20a)]();console[_0x320813(0x21b)](_0x594a6d);if(_0x4dbd84[0x0][_0x320813(0x201)]=='English\x20(US)'){var _0x35063c=users[_0x320813(0x213)];console[_0x320813(0x21b)](_0x35063c);}else{if(_0x4dbd84[0x0][_0x320813(0x201)]==_0x320813(0x21f))var _0x35063c=users[_0x320813(0x21f)];else{if(_0x4dbd84[0x0]['language']==_0x320813(0x208))var _0x35063c=users['German'];else{if(_0x4dbd84[0x0]['language']=='Spanish')var _0x35063c=users['Spanish'];else{if(_0x4dbd84[0x0][_0x320813(0x201)]=='French')var _0x35063c=users[_0x320813(0x222)];else{if(_0x4dbd84[0x0][_0x320813(0x201)]==_0x320813(0x210))var _0x35063c=users[_0x320813(0x223)];else{if(_0x4dbd84[0x0]['language']==_0x320813(0x207))var _0x35063c=users[_0x320813(0x207)];else{if(_0x4dbd84[0x0][_0x320813(0x201)]=='Arabic\x20(ae)')var _0x35063c=users[_0x320813(0x21a)];}}}}}}}let _0x1994e5=[_0x320813(0x1f3),_0x320813(0x220)];_0x147bf3['render']('staff',{'success':_0x12bda4[_0x320813(0x21c)](_0x320813(0x22a)),'errors':_0x12bda4[_0x320813(0x21c)]('errors'),'role':_0x5b1b63,'profile':_0x39c4e4,'master_shop':_0x4dbd84,'user':_0x594a6d,'language':_0x35063c,'warehouse':warehouse_data,'warehouse_cat':_0x1994e5});}catch(_0xa71e91){console[_0x320813(0x21b)](_0xa71e91);}}),router['post']('/view',auth,async(_0x4554be,_0x52ef85)=>{const _0x3cb4ba=a0_0x11db26;try{const {name:_0x5f20c3,email:_0x10de5f,mobile:_0x311055,password:_0x4dc050,status:_0x45aa60,warehouse:_0x19c736,position:_0xe9350a,warehouse_cat:_0x913c01}=_0x4554be[_0x3cb4ba(0x1f1)],_0x274bf8=await bcrypt['hash'](_0x4dc050,0xa),_0x93ded2=new staff({'name':_0x5f20c3,'email':_0x10de5f,'mobile':_0x311055,'status':_0x45aa60,'warehouse':_0x19c736,'position':_0xe9350a,'warehouse_category':_0x913c01}),_0x4bc2f8=await staff[_0x3cb4ba(0x204)]({'email':_0x10de5f});console['log'](_0x4bc2f8);if(_0x4bc2f8)return _0x4554be[_0x3cb4ba(0x21c)](_0x3cb4ba(0x202),_0x3cb4ba(0x20c)+_0x10de5f+_0x3cb4ba(0x203)),_0x52ef85[_0x3cb4ba(0x1fa)](_0x3cb4ba(0x20b)),![];const _0xbf42b4=await _0x93ded2[_0x3cb4ba(0x1fc)](),_0x4ec181=new sing_up({'name':_0x5f20c3,'email':_0x10de5f,'password':_0x274bf8,'role':'staff'}),_0x2afb93=await _0x4ec181[_0x3cb4ba(0x1fc)](),_0x55338c=new profile({'firstname':_0x5f20c3,'email':_0x10de5f}),_0x3acfbd=await _0x55338c[_0x3cb4ba(0x1fc)]();_0x4554be[_0x3cb4ba(0x21c)](_0x3cb4ba(0x22a),_0x5f20c3+_0x3cb4ba(0x1f9)),_0x52ef85[_0x3cb4ba(0x1fa)]('/staff/view');}catch(_0x587522){console[_0x3cb4ba(0x21b)](_0x587522);}}),router[a0_0x11db26(0x212)](a0_0x11db26(0x211),auth,async(_0x374552,_0x2f94f3)=>{const _0x5e1866=a0_0x11db26;try{const _0x43b2d2=_0x374552[_0x5e1866(0x216)]['id'],_0x37d795=await master_shop[_0x5e1866(0x20a)](),_0x499ee9=await staff['findById'](_0x43b2d2);if(_0x37d795[0x0][_0x5e1866(0x201)]==_0x5e1866(0x1f2)){var _0x4591c0=users['English'];console[_0x5e1866(0x21b)](_0x4591c0);}else{if(_0x37d795[0x0][_0x5e1866(0x201)]==_0x5e1866(0x21f))var _0x4591c0=users[_0x5e1866(0x21f)];else{if(_0x37d795[0x0][_0x5e1866(0x201)]==_0x5e1866(0x208))var _0x4591c0=users[_0x5e1866(0x208)];else{if(_0x37d795[0x0]['language']=='Spanish')var _0x4591c0=users[_0x5e1866(0x228)];else{if(_0x37d795[0x0]['language']=='French')var _0x4591c0=users[_0x5e1866(0x222)];else{if(_0x37d795[0x0][_0x5e1866(0x201)]==_0x5e1866(0x210))var _0x4591c0=users[_0x5e1866(0x223)];else{if(_0x37d795[0x0][_0x5e1866(0x201)]==_0x5e1866(0x207))var _0x4591c0=users[_0x5e1866(0x207)];else{if(_0x37d795[0x0][_0x5e1866(0x201)]==_0x5e1866(0x20d))var _0x4591c0=users['Arabic'];}}}}}}}let _0x37e204=['Raw\x20Materials',_0x5e1866(0x220)];_0x2f94f3['render'](_0x5e1866(0x215),{'success':_0x374552[_0x5e1866(0x21c)]('success'),'errors':_0x374552[_0x5e1866(0x21c)]('errors'),'master_shop':_0x37d795,'user':_0x499ee9,'language':_0x4591c0,'warehouse_cat':_0x37e204});}catch(_0x31b485){console['log'](_0x31b485);}}),router['post'](a0_0x11db26(0x211),auth,async(_0x2e5db8,_0x2ccd74)=>{const _0x17361a=a0_0x11db26;try{const _0x43d9b1=_0x2e5db8['params']['id'],_0x4fbf52=await staff['findById'](_0x43d9b1),{name:_0xc08501,email:_0x4d70ed,mobile:_0x409fc3,password:_0x476aa9,status:_0x2d9860,warehouse:_0x289222,position:_0x102f28,warehouse_cat:_0x59af2d}=_0x2e5db8[_0x17361a(0x1f1)];_0x4fbf52['name']=_0xc08501,_0x4fbf52['email']=_0x4d70ed,_0x4fbf52[_0x17361a(0x224)]=_0x409fc3,_0x4fbf52[_0x17361a(0x1f4)]=_0x476aa9,_0x4fbf52['status']=_0x2d9860,_0x4fbf52['warehouse']=_0x289222,_0x4fbf52['position']=_0x102f28,_0x4fbf52[_0x17361a(0x226)]=_0x59af2d;const _0x1b08fa=await _0x4fbf52[_0x17361a(0x1fc)](),_0x39c586=await profile['findOne']({'email':_0x4d70ed});_0x39c586[_0x17361a(0x205)]=_0xc08501,_0x39c586[_0x17361a(0x219)]=_0x4d70ed,await _0x39c586['save'](),_0x2e5db8[_0x17361a(0x21c)](_0x17361a(0x22a),'staff\x20data\x20update\x20successfully'),_0x2ccd74[_0x17361a(0x1fa)](_0x17361a(0x227));}catch(_0x515486){console[_0x17361a(0x21b)](_0x515486),_0x2ccd74[_0x17361a(0x209)](0xc8)[_0x17361a(0x1f8)](_0x515486);}}),module['exports']=router;