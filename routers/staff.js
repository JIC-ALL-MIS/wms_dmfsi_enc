const a0_0x190baf=a0_0x521d;function a0_0x2969(){const _0x4cd77a=['Router','staff\x20data\x20update\x20successfully','French','../public/language/languages.json','Enabled','Spanish','English\x20(US)','/staff/view','get','4ifoOmh','Email\x20','json','Arabic\x20(ae)','Chinese','status','1212935YpSwOE','hash','findById','Portuguese\x20(BR)','language','warehouse','name','flash','express','staff','success','master','../models/all_models','English','\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Hindi','post','\x20is\x20add\x20successfully','user','/view/:id','save','log','5664442WuJHnm','/view','../middleware/auth','Portuguese','13852071tidOBH','find','email','redirect','back','mobile','body','Raw\x20Materials','German','36780prEHYV','50tGbraa','238575rEVTaS','Finished\x20Goods','firstname','errors','render','password','8602712UtmwSK','7092876gWgtCN','warehouse_category','aggregate','params'];a0_0x2969=function(){return _0x4cd77a;};return a0_0x2969();}(function(_0x1c4298,_0x20a667){const _0x39c703=a0_0x521d,_0xd334ea=_0x1c4298();while(!![]){try{const _0x4bbdad=-parseInt(_0x39c703(0xdc))/0x1+-parseInt(_0x39c703(0xdb))/0x2*(-parseInt(_0x39c703(0xda))/0x3)+-parseInt(_0x39c703(0xf0))/0x4*(parseInt(_0x39c703(0xf6))/0x5)+parseInt(_0x39c703(0xe3))/0x6+-parseInt(_0x39c703(0x10c))/0x7+-parseInt(_0x39c703(0xe2))/0x8+parseInt(_0x39c703(0x110))/0x9;if(_0x4bbdad===_0x20a667)break;else _0xd334ea['push'](_0xd334ea['shift']());}catch(_0x4a416b){_0xd334ea['push'](_0xd334ea['shift']());}}}(a0_0x2969,0xa1a2a));function a0_0x521d(_0x222437,_0x4e49ab){const _0x2969fb=a0_0x2969();return a0_0x521d=function(_0x521dbb,_0x13a859){_0x521dbb=_0x521dbb-0xd3;let _0x5ce965=_0x2969fb[_0x521dbb];return _0x5ce965;},a0_0x521d(_0x222437,_0x4e49ab);}const express=require(a0_0x190baf(0xfe)),app=express(),router=express[a0_0x190baf(0xe7)](),bcrypt=require('bcryptjs'),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x190baf(0x102)),auth=require(a0_0x190baf(0x10e)),users=require(a0_0x190baf(0xea));router['get']('/view',auth,async(_0x4dec5d,_0x3533e5)=>{const _0xc1c04c=a0_0x190baf;try{const {username:_0x3d00d3,email:_0x52542d,role:_0x2dd029}=_0x4dec5d[_0xc1c04c(0x108)],_0x44041d=_0x4dec5d['user'],_0x1183cb=await profile['findOne']({'email':_0x44041d[_0xc1c04c(0xd3)]}),_0x5d02c3=await master_shop['find']();console[_0xc1c04c(0x10b)](_0xc1c04c(0x101),_0x5d02c3),warehouse_data=await warehouse[_0xc1c04c(0xe5)]([{'$match':{'status':_0xc1c04c(0xeb)}},{'$group':{'_id':'$name','name':{'$first':'$name'}}}]);const _0x4c0598=await staff[_0xc1c04c(0x111)]();console[_0xc1c04c(0x10b)](_0x4c0598);if(_0x5d02c3[0x0][_0xc1c04c(0xfa)]==_0xc1c04c(0xed)){var _0x10cc0d=users['English'];console[_0xc1c04c(0x10b)](_0x10cc0d);}else{if(_0x5d02c3[0x0][_0xc1c04c(0xfa)]==_0xc1c04c(0x105))var _0x10cc0d=users[_0xc1c04c(0x105)];else{if(_0x5d02c3[0x0]['language']==_0xc1c04c(0xd9))var _0x10cc0d=users[_0xc1c04c(0xd9)];else{if(_0x5d02c3[0x0][_0xc1c04c(0xfa)]=='Spanish')var _0x10cc0d=users['Spanish'];else{if(_0x5d02c3[0x0][_0xc1c04c(0xfa)]=='French')var _0x10cc0d=users['French'];else{if(_0x5d02c3[0x0][_0xc1c04c(0xfa)]==_0xc1c04c(0xf9))var _0x10cc0d=users[_0xc1c04c(0x10f)];else{if(_0x5d02c3[0x0][_0xc1c04c(0xfa)]==_0xc1c04c(0xf4))var _0x10cc0d=users[_0xc1c04c(0xf4)];else{if(_0x5d02c3[0x0]['language']==_0xc1c04c(0xf3))var _0x10cc0d=users['Arabic'];}}}}}}}let _0x1410cf=[_0xc1c04c(0xd8),_0xc1c04c(0xdd)];_0x3533e5[_0xc1c04c(0xe0)](_0xc1c04c(0xff),{'success':_0x4dec5d['flash'](_0xc1c04c(0x100)),'errors':_0x4dec5d[_0xc1c04c(0xfd)](_0xc1c04c(0xdf)),'role':_0x44041d,'profile':_0x1183cb,'master_shop':_0x5d02c3,'user':_0x4c0598,'language':_0x10cc0d,'warehouse':warehouse_data,'warehouse_cat':_0x1410cf});}catch(_0x49fd52){console['log'](_0x49fd52);}}),router[a0_0x190baf(0x106)](a0_0x190baf(0x10d),auth,async(_0x30a3c4,_0x18d48b)=>{const _0x27df83=a0_0x190baf;try{const {name:_0x1bcada,email:_0xbe4437,mobile:_0x25f63e,password:_0xb5ecd2,status:_0x13bcd3,warehouse:_0x19512e,position:_0x53e0f1,warehouse_cat:_0x11c04b}=_0x30a3c4[_0x27df83(0xd7)],_0x151e9f=await bcrypt[_0x27df83(0xf7)](_0xb5ecd2,0xa),_0x3cddff=new staff({'name':_0x1bcada,'email':_0xbe4437,'mobile':_0x25f63e,'status':_0x13bcd3,'warehouse':_0x19512e,'position':_0x53e0f1,'warehouse_category':_0x11c04b}),_0x6e5661=await staff['findOne']({'email':_0xbe4437});console[_0x27df83(0x10b)](_0x6e5661);if(_0x6e5661)return _0x30a3c4[_0x27df83(0xfd)](_0x27df83(0xdf),_0x27df83(0xf1)+_0xbe4437+_0x27df83(0x104)),_0x18d48b[_0x27df83(0xd4)](_0x27df83(0xd5)),![];const _0x79d18e=await _0x3cddff[_0x27df83(0x10a)](),_0x5c2952=new sing_up({'name':_0x1bcada,'email':_0xbe4437,'password':_0x151e9f,'role':_0x27df83(0xff)}),_0x2013e1=await _0x5c2952['save'](),_0x23df74=new profile({'firstname':_0x1bcada,'email':_0xbe4437}),_0x98bc57=await _0x23df74[_0x27df83(0x10a)]();_0x30a3c4[_0x27df83(0xfd)](_0x27df83(0x100),_0x1bcada+_0x27df83(0x107)),_0x18d48b[_0x27df83(0xd4)](_0x27df83(0xee));}catch(_0x489607){console[_0x27df83(0x10b)](_0x489607);}}),router[a0_0x190baf(0xef)]('/view/:id',auth,async(_0x58d938,_0xeb3a93)=>{const _0x453c3c=a0_0x190baf;try{const _0x56a90c=_0x58d938[_0x453c3c(0xe6)]['id'],_0x79c5ae=await master_shop[_0x453c3c(0x111)](),_0x25f8bc=await staff[_0x453c3c(0xf8)](_0x56a90c);if(_0x79c5ae[0x0][_0x453c3c(0xfa)]==_0x453c3c(0xed)){var _0x29c7d6=users[_0x453c3c(0x103)];console['log'](_0x29c7d6);}else{if(_0x79c5ae[0x0]['language']==_0x453c3c(0x105))var _0x29c7d6=users[_0x453c3c(0x105)];else{if(_0x79c5ae[0x0][_0x453c3c(0xfa)]==_0x453c3c(0xd9))var _0x29c7d6=users[_0x453c3c(0xd9)];else{if(_0x79c5ae[0x0]['language']==_0x453c3c(0xec))var _0x29c7d6=users[_0x453c3c(0xec)];else{if(_0x79c5ae[0x0][_0x453c3c(0xfa)]==_0x453c3c(0xe9))var _0x29c7d6=users['French'];else{if(_0x79c5ae[0x0]['language']=='Portuguese\x20(BR)')var _0x29c7d6=users['Portuguese'];else{if(_0x79c5ae[0x0]['language']==_0x453c3c(0xf4))var _0x29c7d6=users[_0x453c3c(0xf4)];else{if(_0x79c5ae[0x0][_0x453c3c(0xfa)]==_0x453c3c(0xf3))var _0x29c7d6=users['Arabic'];}}}}}}}let _0xc5a993=[_0x453c3c(0xd8),'Finished\x20Goods'];_0xeb3a93[_0x453c3c(0xe0)](_0x453c3c(0xff),{'success':_0x58d938[_0x453c3c(0xfd)](_0x453c3c(0x100)),'errors':_0x58d938['flash'](_0x453c3c(0xdf)),'master_shop':_0x79c5ae,'user':_0x25f8bc,'language':_0x29c7d6,'warehouse_cat':_0xc5a993});}catch(_0x595604){console['log'](_0x595604);}}),router[a0_0x190baf(0x106)](a0_0x190baf(0x109),auth,async(_0x792d1,_0x1f4a89)=>{const _0x17a154=a0_0x190baf;try{const _0x484b5c=_0x792d1[_0x17a154(0xe6)]['id'],_0x1132dd=await staff[_0x17a154(0xf8)](_0x484b5c),{name:_0x44de9a,email:_0x216eb8,mobile:_0x1a6c68,password:_0xc6788c,status:_0x1ade93,warehouse:_0x4d150c,position:_0x132694,warehouse_cat:_0x4d648b}=_0x792d1[_0x17a154(0xd7)];_0x1132dd[_0x17a154(0xfc)]=_0x44de9a,_0x1132dd[_0x17a154(0xd3)]=_0x216eb8,_0x1132dd[_0x17a154(0xd6)]=_0x1a6c68,_0x1132dd[_0x17a154(0xe1)]=_0xc6788c,_0x1132dd[_0x17a154(0xf5)]=_0x1ade93,_0x1132dd[_0x17a154(0xfb)]=_0x4d150c,_0x1132dd['position']=_0x132694,_0x1132dd[_0x17a154(0xe4)]=_0x4d648b;const _0x8a3ac3=await _0x1132dd[_0x17a154(0x10a)](),_0x278bfa=await profile['findOne']({'email':_0x216eb8});_0x278bfa[_0x17a154(0xde)]=_0x44de9a,_0x278bfa[_0x17a154(0xd3)]=_0x216eb8,await _0x278bfa[_0x17a154(0x10a)](),_0x792d1[_0x17a154(0xfd)](_0x17a154(0x100),_0x17a154(0xe8)),_0x1f4a89[_0x17a154(0xd4)](_0x17a154(0xee));}catch(_0x22852f){console[_0x17a154(0x10b)](_0x22852f),_0x1f4a89[_0x17a154(0xf5)](0xc8)[_0x17a154(0xf2)](_0x22852f);}}),module['exports']=router;