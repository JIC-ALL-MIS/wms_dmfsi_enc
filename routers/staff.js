const a0_0x2a1dba=a0_0x4dcd;(function(_0xb9475f,_0x42505f){const _0x334af2=a0_0x4dcd,_0x3073d0=_0xb9475f();while(!![]){try{const _0x1d9a6c=parseInt(_0x334af2(0x161))/0x1*(parseInt(_0x334af2(0x174))/0x2)+-parseInt(_0x334af2(0x168))/0x3+parseInt(_0x334af2(0x172))/0x4*(-parseInt(_0x334af2(0x167))/0x5)+parseInt(_0x334af2(0x160))/0x6*(parseInt(_0x334af2(0x16f))/0x7)+parseInt(_0x334af2(0x16c))/0x8*(parseInt(_0x334af2(0x180))/0x9)+-parseInt(_0x334af2(0x185))/0xa*(-parseInt(_0x334af2(0x18e))/0xb)+parseInt(_0x334af2(0x17c))/0xc*(parseInt(_0x334af2(0x194))/0xd);if(_0x1d9a6c===_0x42505f)break;else _0x3073d0['push'](_0x3073d0['shift']());}catch(_0x4f8e2e){_0x3073d0['push'](_0x3073d0['shift']());}}}(a0_0x1889,0x8c620));const express=require(a0_0x2a1dba(0x193)),app=express(),router=express[a0_0x2a1dba(0x177)](),bcrypt=require('bcryptjs'),{profile,master_shop,sing_up,categories,brands,units,product,warehouse,staff}=require(a0_0x2a1dba(0x18f)),auth=require(a0_0x2a1dba(0x178)),users=require(a0_0x2a1dba(0x192));function a0_0x4dcd(_0x14af3f,_0x595d61){const _0x188994=a0_0x1889();return a0_0x4dcd=function(_0x4dcd7c,_0xb25ebf){_0x4dcd7c=_0x4dcd7c-0x15f;let _0x549503=_0x188994[_0x4dcd7c];return _0x549503;},a0_0x4dcd(_0x14af3f,_0x595d61);}function a0_0x1889(){const _0x1204db=['French','firstname','render','29249sdIika','../models/all_models','Arabic\x20(ae)','Email\x20','../public/language/languages.json','express','185107BaZbgf','params','English','English\x20(US)','/view/:id','Portuguese\x20(BR)','master','Enabled','mobile','find','Spanish','user','19830eBITYV','1MNQHzG','exports','/staff/view','aggregate','Raw\x20Materials','language','235XYQruY','1544316bGzonR','Hindi','status','success','4968rDPOQq','Portuguese','Finished\x20Goods','532vUGfsy','save','/view','41020FWgUdu','findById','1610242YbHFmR','errors','log','Router','../middleware/auth','body','Arabic','Chinese','72cPtXio','password','German','json','1107Qmafwn','$name','flash','post','get','1330CtwCfQ','redirect','hash','position','back','\x20is\x20add\x20successfully'];a0_0x1889=function(){return _0x1204db;};return a0_0x1889();}router[a0_0x2a1dba(0x184)]('/view',auth,async(_0x48121f,_0x22aa23)=>{const _0x14dfc0=a0_0x2a1dba;try{const {username:_0x44bd89,email:_0x381970,role:_0x104227}=_0x48121f[_0x14dfc0(0x15f)],_0x11a4a5=_0x48121f[_0x14dfc0(0x15f)],_0x1dfb8c=await profile['findOne']({'email':_0x11a4a5['email']}),_0x4bdd40=await master_shop[_0x14dfc0(0x19d)]();console[_0x14dfc0(0x176)](_0x14dfc0(0x19a),_0x4bdd40),warehouse_data=await warehouse[_0x14dfc0(0x164)]([{'$match':{'status':_0x14dfc0(0x19b)}},{'$group':{'_id':'$name','name':{'$first':_0x14dfc0(0x181)}}}]);const _0x2626da=await staff['find']();console[_0x14dfc0(0x176)](_0x2626da);if(_0x4bdd40[0x0][_0x14dfc0(0x166)]=='English\x20(US)'){var _0x317fa1=users[_0x14dfc0(0x196)];console[_0x14dfc0(0x176)](_0x317fa1);}else{if(_0x4bdd40[0x0][_0x14dfc0(0x166)]==_0x14dfc0(0x169))var _0x317fa1=users[_0x14dfc0(0x169)];else{if(_0x4bdd40[0x0][_0x14dfc0(0x166)]==_0x14dfc0(0x17e))var _0x317fa1=users[_0x14dfc0(0x17e)];else{if(_0x4bdd40[0x0][_0x14dfc0(0x166)]==_0x14dfc0(0x19e))var _0x317fa1=users[_0x14dfc0(0x19e)];else{if(_0x4bdd40[0x0][_0x14dfc0(0x166)]==_0x14dfc0(0x18b))var _0x317fa1=users[_0x14dfc0(0x18b)];else{if(_0x4bdd40[0x0][_0x14dfc0(0x166)]==_0x14dfc0(0x199))var _0x317fa1=users['Portuguese'];else{if(_0x4bdd40[0x0][_0x14dfc0(0x166)]==_0x14dfc0(0x17b))var _0x317fa1=users[_0x14dfc0(0x17b)];else{if(_0x4bdd40[0x0][_0x14dfc0(0x166)]==_0x14dfc0(0x190))var _0x317fa1=users[_0x14dfc0(0x17a)];}}}}}}}let _0x1a9828=[_0x14dfc0(0x165),'Finished\x20Goods'];_0x22aa23[_0x14dfc0(0x18d)]('staff',{'success':_0x48121f[_0x14dfc0(0x182)](_0x14dfc0(0x16b)),'errors':_0x48121f[_0x14dfc0(0x182)](_0x14dfc0(0x175)),'role':_0x11a4a5,'profile':_0x1dfb8c,'master_shop':_0x4bdd40,'user':_0x2626da,'language':_0x317fa1,'warehouse':warehouse_data,'warehouse_cat':_0x1a9828});}catch(_0x2fc814){console['log'](_0x2fc814);}}),router[a0_0x2a1dba(0x183)](a0_0x2a1dba(0x171),auth,async(_0x59938c,_0x3dae03)=>{const _0x3f94d5=a0_0x2a1dba;try{const {name:_0x32430d,email:_0x3dc146,mobile:_0x3fcbc7,password:_0x5cb4c6,status:_0x2d9fc6,warehouse:_0x403654,position:_0x4f6b10,warehouse_cat:_0x5b9834}=_0x59938c[_0x3f94d5(0x179)],_0x7aec36=await bcrypt[_0x3f94d5(0x187)](_0x5cb4c6,0xa),_0x4bdec9=new staff({'name':_0x32430d,'email':_0x3dc146,'mobile':_0x3fcbc7,'status':_0x2d9fc6,'warehouse':_0x403654,'position':_0x4f6b10,'warehouse_category':_0x5b9834}),_0x120fd8=await staff['findOne']({'email':_0x3dc146});console[_0x3f94d5(0x176)](_0x120fd8);if(_0x120fd8)return _0x59938c[_0x3f94d5(0x182)](_0x3f94d5(0x175),_0x3f94d5(0x191)+_0x3dc146+'\x20is\x20alredy\x20added.\x20please\x20choose\x20another'),_0x3dae03[_0x3f94d5(0x186)](_0x3f94d5(0x189)),![];const _0x38d5e8=await _0x4bdec9[_0x3f94d5(0x170)](),_0x373494=new sing_up({'name':_0x32430d,'email':_0x3dc146,'password':_0x7aec36,'role':'staff'}),_0x3ac9d6=await _0x373494['save'](),_0x594640=new profile({'firstname':_0x32430d,'email':_0x3dc146}),_0x1c1651=await _0x594640[_0x3f94d5(0x170)]();_0x59938c[_0x3f94d5(0x182)](_0x3f94d5(0x16b),_0x32430d+_0x3f94d5(0x18a)),_0x3dae03[_0x3f94d5(0x186)](_0x3f94d5(0x163));}catch(_0x13d0c5){console[_0x3f94d5(0x176)](_0x13d0c5);}}),router['get'](a0_0x2a1dba(0x198),auth,async(_0x51e3ed,_0x4ce9d5)=>{const _0x5edc46=a0_0x2a1dba;try{const _0x1fdda1=_0x51e3ed[_0x5edc46(0x195)]['id'],_0x105e01=await master_shop[_0x5edc46(0x19d)](),_0x7880d5=await staff[_0x5edc46(0x173)](_0x1fdda1);if(_0x105e01[0x0][_0x5edc46(0x166)]==_0x5edc46(0x197)){var _0x388720=users[_0x5edc46(0x196)];console[_0x5edc46(0x176)](_0x388720);}else{if(_0x105e01[0x0][_0x5edc46(0x166)]==_0x5edc46(0x169))var _0x388720=users[_0x5edc46(0x169)];else{if(_0x105e01[0x0]['language']==_0x5edc46(0x17e))var _0x388720=users[_0x5edc46(0x17e)];else{if(_0x105e01[0x0][_0x5edc46(0x166)]==_0x5edc46(0x19e))var _0x388720=users[_0x5edc46(0x19e)];else{if(_0x105e01[0x0][_0x5edc46(0x166)]==_0x5edc46(0x18b))var _0x388720=users[_0x5edc46(0x18b)];else{if(_0x105e01[0x0][_0x5edc46(0x166)]==_0x5edc46(0x199))var _0x388720=users[_0x5edc46(0x16d)];else{if(_0x105e01[0x0][_0x5edc46(0x166)]=='Chinese')var _0x388720=users['Chinese'];else{if(_0x105e01[0x0][_0x5edc46(0x166)]=='Arabic\x20(ae)')var _0x388720=users[_0x5edc46(0x17a)];}}}}}}}let _0x2f3aac=[_0x5edc46(0x165),_0x5edc46(0x16e)];_0x4ce9d5['render']('staff',{'success':_0x51e3ed['flash']('success'),'errors':_0x51e3ed[_0x5edc46(0x182)](_0x5edc46(0x175)),'master_shop':_0x105e01,'user':_0x7880d5,'language':_0x388720,'warehouse_cat':_0x2f3aac});}catch(_0x3ebd64){console['log'](_0x3ebd64);}}),router[a0_0x2a1dba(0x183)](a0_0x2a1dba(0x198),auth,async(_0x473393,_0x479e0e)=>{const _0x549a42=a0_0x2a1dba;try{const _0x3d67da=_0x473393[_0x549a42(0x195)]['id'],_0x55f37c=await staff[_0x549a42(0x173)](_0x3d67da),{name:_0xa53937,email:_0x2d430f,mobile:_0x5f0cad,password:_0x4799b4,status:_0x4e2d69,warehouse:_0x2de7fe,position:_0x4bbb0b,warehouse_cat:_0x44a811}=_0x473393[_0x549a42(0x179)];_0x55f37c['name']=_0xa53937,_0x55f37c['email']=_0x2d430f,_0x55f37c[_0x549a42(0x19c)]=_0x5f0cad,_0x55f37c[_0x549a42(0x17d)]=_0x4799b4,_0x55f37c['status']=_0x4e2d69,_0x55f37c['warehouse']=_0x2de7fe,_0x55f37c[_0x549a42(0x188)]=_0x4bbb0b,_0x55f37c['warehouse_category']=_0x44a811;const _0x1b6522=await _0x55f37c[_0x549a42(0x170)](),_0x1027e0=await profile['findOne']({'email':_0x2d430f});_0x1027e0[_0x549a42(0x18c)]=_0xa53937,_0x1027e0['email']=_0x2d430f,await _0x1027e0[_0x549a42(0x170)](),_0x473393[_0x549a42(0x182)](_0x549a42(0x16b),'staff\x20data\x20update\x20successfully'),_0x479e0e[_0x549a42(0x186)](_0x549a42(0x163));}catch(_0x47a557){console['log'](_0x47a557),_0x479e0e[_0x549a42(0x16a)](0xc8)[_0x549a42(0x17f)](_0x47a557);}}),module[a0_0x2a1dba(0x162)]=router;