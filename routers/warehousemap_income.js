function a0_0x2050(){const _0x211e80=['user','Spanish','render','18KvVMlU','product','$product_details.product_name','1550547mdufir','$product_details.product_stock','$product_details.floorlevel','status','Hindi','$product_code','$production_date','1966360GVqlAP','role','$_id.product','express','Finished\x20Goods','$name','../models/all_models','Arabic\x20(ae)','$expiry_date','exports','Arabic','$product_details.product_code','$product_details.batch_code','/MapData2','../public/language/languages.json','body','2130976hgSJve','Enabled','flash','3438ToUfgO','toLocaleString','findOne','Router','All','$product_details.bay','55930ZAIAWX','get','$batch_code','email','message','/Rooms_data3','/Rooms_data2','pack','$product_details','German','English','json','errors','1334110Dgubov','Portuguese\x20(BR)','$product_details.production_date','$count','log','timezone','$$product.product_quantity','en-US','/view','post','$product_details.bin','QA\x20Warehouse','$product_details.expiry_date','$_id.type','$products','Chinese','English\x20(US)','aggregate','$room','Rack\x20A','/Rooms_data','DRY\x20STORAGE','find','language','67750hBMUir','multer','$_id.bay','French','$_id','warehouse','49MYNLFW','$product_details.type','752856HvCCCC','timezones-list'];a0_0x2050=function(){return _0x211e80;};return a0_0x2050();}const a0_0x587d83=a0_0x499e;function a0_0x499e(_0x120434,_0x1c61e1){const _0x205084=a0_0x2050();return a0_0x499e=function(_0x499e22,_0x4be1ea){_0x499e22=_0x499e22-0x1d5;let _0xec540c=_0x205084[_0x499e22];return _0xec540c;},a0_0x499e(_0x120434,_0x1c61e1);}(function(_0x451e73,_0x91abe0){const _0x5cf077=a0_0x499e,_0x43925f=_0x451e73();while(!![]){try{const _0x1b14a2=-parseInt(_0x5cf077(0x218))/0x1+-parseInt(_0x5cf077(0x1ea))/0x2+parseInt(_0x5cf077(0x228))/0x3+parseInt(_0x5cf077(0x1da))/0x4+parseInt(_0x5cf077(0x200))/0x5*(-parseInt(_0x5cf077(0x225))/0x6)+-parseInt(_0x5cf077(0x21e))/0x7*(parseInt(_0x5cf077(0x220))/0x8)+parseInt(_0x5cf077(0x1ed))/0x9*(parseInt(_0x5cf077(0x1f3))/0xa);if(_0x1b14a2===_0x91abe0)break;else _0x43925f['push'](_0x43925f['shift']());}catch(_0x22022b){_0x43925f['push'](_0x43925f['shift']());}}}(a0_0x2050,0x86e40));const express=require(a0_0x587d83(0x1dd)),app=express(),router=express[a0_0x587d83(0x1f0)](),multer=require(a0_0x587d83(0x219)),{profile,master_shop,email_settings,warehouse,purchases,staff}=require(a0_0x587d83(0x1e0)),auth=require('../middleware/auth');var timezones=require(a0_0x587d83(0x221));const users=require(a0_0x587d83(0x1e8));router[a0_0x587d83(0x1f4)](a0_0x587d83(0x208),auth,async(_0x990101,_0x3db13d)=>{const _0x268284=a0_0x587d83;try{const {username:_0x3b29d8,email:_0x15dd1b,role:_0x48733e}=_0x990101[_0x268284(0x222)],_0x4193fb=_0x990101['user'],_0x11533d=await profile[_0x268284(0x1ef)]({'email':_0x4193fb[_0x268284(0x1f6)]}),_0x50821e=await master_shop[_0x268284(0x216)]();console[_0x268284(0x204)]('master',_0x50821e);let _0x30e70d;if(_0x4193fb[_0x268284(0x1db)]=='staff'){const _0x22435e=await staff['findOne']({'email':_0x4193fb['email']});_0x30e70d=await warehouse[_0x268284(0x211)]([{'$match':{'status':_0x268284(0x1eb),'name':_0x22435e[_0x268284(0x21d)]}},{'$group':{'_id':'$name','name':{'$first':_0x268284(0x1df)}}}]);}else _0x30e70d=await warehouse['aggregate']([{'$match':{'status':_0x268284(0x1eb)}},{'$group':{'_id':_0x268284(0x1df),'name':{'$first':'$name'}}}]);const _0x5c4bf7=new Date()[_0x268284(0x1ee)](_0x268284(0x207),{'timeZone':_0x50821e[0x0]['timezone']});console[_0x268284(0x204)](_0x268284(0x205),_0x5c4bf7);if(_0x50821e[0x0][_0x268284(0x217)]==_0x268284(0x210)){var _0x1ac64b=users[_0x268284(0x1fd)];console['log'](_0x1ac64b);}else{if(_0x50821e[0x0]['language']==_0x268284(0x1d7))var _0x1ac64b=users[_0x268284(0x1d7)];else{if(_0x50821e[0x0]['language']==_0x268284(0x1fc))var _0x1ac64b=users[_0x268284(0x1fc)];else{if(_0x50821e[0x0][_0x268284(0x217)]==_0x268284(0x223))var _0x1ac64b=users['Spanish'];else{if(_0x50821e[0x0][_0x268284(0x217)]==_0x268284(0x21b))var _0x1ac64b=users[_0x268284(0x21b)];else{if(_0x50821e[0x0]['language']==_0x268284(0x201))var _0x1ac64b=users['Portuguese'];else{if(_0x50821e[0x0][_0x268284(0x217)]==_0x268284(0x20f))var _0x1ac64b=users[_0x268284(0x20f)];else{if(_0x50821e[0x0]['language']==_0x268284(0x1e1))var _0x1ac64b=users[_0x268284(0x1e4)];}}}}}}}_0x3db13d[_0x268284(0x224)]('warehousemap_incoming',{'success':_0x990101[_0x268284(0x1ec)]('success'),'errors':_0x990101[_0x268284(0x1ec)](_0x268284(0x1ff)),'role':_0x4193fb,'profile':_0x11533d,'master_shop':_0x50821e,'timezones':timezones,'language':_0x1ac64b,'warehouse':_0x30e70d});}catch(_0x58b5da){console[_0x268284(0x204)](_0x58b5da),_0x3db13d[_0x268284(0x1d6)](0xc8)[_0x268284(0x1fe)]({'message':_0x58b5da[_0x268284(0x1f7)]});}}),router[a0_0x587d83(0x209)]('/MapData',async(_0xcd57bf,_0x59755f)=>{const _0x44ad15=a0_0x587d83,{warehouseNew:_0x505e57,rooms:_0x3e3ef9,Type:_0x153559}=_0xcd57bf[_0x44ad15(0x1e9)],_0x45b9fb=await warehouse[_0x44ad15(0x211)]([{'$unwind':_0x44ad15(0x1fb)},{'$match':{'name':_0x505e57,'room':_0x3e3ef9,'product_details.type':_0x153559}},{'$group':{'_id':{'bay':_0x44ad15(0x1f2),'bin':_0x44ad15(0x20a),'type':_0x44ad15(0x21f),'floorlevel':_0x44ad15(0x1d5)},'products':{'$push':{'product_name':_0x44ad15(0x227),'product_quantity':_0x44ad15(0x229),'product_code':_0x44ad15(0x1e5)}},'totalQuantity':{'$sum':{'$cond':{'if':{'$gt':[_0x44ad15(0x229),0x0]},'then':_0x44ad15(0x229),'else':0x0}}}}},{'$project':{'_id':0x0,'bay':'$_id.bay','bin':'$_id.bin','type':_0x44ad15(0x20d),'floorlevel':'$_id.floorlevel','products':{'$filter':{'input':_0x44ad15(0x20e),'as':_0x44ad15(0x226),'cond':{'$gt':[_0x44ad15(0x206),0x0]}}},'totalQuantity':0x1}}]);_0x59755f[_0x44ad15(0x1fe)](_0x45b9fb);}),router['post'](a0_0x587d83(0x1e7),async(_0x581746,_0x2b8e23)=>{const _0x1a940f=a0_0x587d83,{warehouseNew:_0x34c490,rooms:_0x183108,room_cat:_0xeb61f5}=_0x581746[_0x1a940f(0x1e9)];let _0x2868a2;if(_0xeb61f5==_0x1a940f(0x1f1))_0x2868a2=await warehouse[_0x1a940f(0x211)]([{'$unwind':_0x1a940f(0x1fb)},{'$match':{'name':_0x34c490}},{'$group':{'_id':{'bay':_0x1a940f(0x1f2),'product':_0x1a940f(0x227),'expiry':_0x1a940f(0x20c)},'count':{'$sum':_0x1a940f(0x229)},'production_date':{'$first':_0x1a940f(0x202)},'expiry_date':{'$first':'$product_details.expiry_date'},'batch_code':{'$first':_0x1a940f(0x1e6)},'product_code':{'$first':_0x1a940f(0x1e5)}}},{'$group':{'_id':_0x1a940f(0x21a),'products':{'$push':{'product':_0x1a940f(0x1dc),'quantity':_0x1a940f(0x203),'production_date':_0x1a940f(0x1d9),'expiry_date':_0x1a940f(0x1e2),'batch_code':_0x1a940f(0x1f5),'product_code':_0x1a940f(0x1d8)}},'totalQuantity':{'$sum':'$count'}}},{'$match':{'totalQuantity':{'$gt':0x0}}},{'$project':{'_id':0x0,'bay':_0x1a940f(0x21c),'products':0x1,'totalQuantity':0x1}}]),console[_0x1a940f(0x204)](_0xeb61f5);else{}_0x2b8e23['json'](_0x2868a2);}),router[a0_0x587d83(0x209)](a0_0x587d83(0x214),async(_0x6dcd39,_0x21b399)=>{const _0x4d117a=a0_0x587d83;try{const {warehouse_name:_0x12ce57,A:_0x1514d9,B:_0x1a5c82}=_0x6dcd39[_0x4d117a(0x1e9)];var _0x357d98='';_0x1514d9=='raw'?_0x1a5c82==_0x4d117a(0x1fa)?_0x357d98=[{'$match':{'name':_0x12ce57,'status':_0x4d117a(0x1eb),'room':_0x4d117a(0x213)}},{'$group':{'_id':_0x4d117a(0x21c),'room_name':{'$first':_0x4d117a(0x212)}}},{'$sort':{'room_name':0x1}}]:_0x357d98=[{'$match':{'name':_0x12ce57,'status':_0x4d117a(0x1eb)}},{'$group':{'_id':_0x4d117a(0x21c),'room_name':{'$first':_0x4d117a(0x212)}}},{'$sort':{'room_name':0x1}}]:_0x357d98=[{'$match':{'name':_0x12ce57,'status':_0x4d117a(0x1eb)}},{'$group':{'_id':'$_id','room_name':{'$first':_0x4d117a(0x212)}}},{'$sort':{'room_name':0x1}}];const _0x4644e2=await warehouse[_0x4d117a(0x211)](_0x357d98);_0x21b399[_0x4d117a(0x1d6)](0xc8)['json'](_0x4644e2);}catch(_0x7015ac){_0x21b399[_0x4d117a(0x1d6)](0x190)[_0x4d117a(0x1fe)]({'errorMessage':_0x7015ac[_0x4d117a(0x1f7)]});}}),router[a0_0x587d83(0x209)](a0_0x587d83(0x1f9),async(_0x29adc8,_0x14ffe2)=>{const _0x1a093d=a0_0x587d83;try{const {warehouse_name:_0x2770a1,cat:_0x4a9a4c,valNew:_0x55cb71}=_0x29adc8[_0x1a093d(0x1e9)];var _0x386504='',_0x2162b2='';if(_0x4a9a4c=='Raw\x20Materials')_0x386504='Return\x20Goods',_0x55cb71==_0x1a093d(0x1fa)?_0x2162b2=[{'$match':{'status':_0x1a093d(0x1eb),'warehouse_category':_0x4a9a4c,'name':{'$ne':_0x386504},'name':_0x1a093d(0x215)}},{'$group':{'_id':_0x1a093d(0x1df),'room_name':{'$first':_0x1a093d(0x1df)}}},{'$sort':{'room_name':0x1}}]:_0x2162b2=[{'$match':{'status':'Enabled','warehouse_category':_0x4a9a4c,'name':{'$ne':_0x386504}}},{'$group':{'_id':'$name','room_name':{'$first':'$name'}}},{'$sort':{'room_name':0x1}}];else _0x4a9a4c==_0x1a093d(0x1de)?(_0x386504=_0x1a093d(0x20b),_0x2162b2=[{'$match':{'status':_0x1a093d(0x1eb),'warehouse_category':_0x4a9a4c,'name':{'$ne':_0x386504}}},{'$group':{'_id':_0x1a093d(0x1df),'room_name':{'$first':_0x1a093d(0x1df)}}},{'$sort':{'room_name':0x1}}]):_0x2162b2=[{'$match':{'status':'Enabled'}},{'$group':{'_id':'$name','room_name':{'$first':'$name'}}},{'$sort':{'room_name':0x1}}];const _0x335bf8=await warehouse[_0x1a093d(0x211)](_0x2162b2);_0x14ffe2[_0x1a093d(0x1d6)](0xc8)['json'](_0x335bf8);}catch(_0x7e7854){_0x14ffe2[_0x1a093d(0x1d6)](0x190)[_0x1a093d(0x1fe)]({'errorMessage':_0x7e7854['message']}),console[_0x1a093d(0x204)](_0x7e7854);}}),router[a0_0x587d83(0x209)](a0_0x587d83(0x1f8),async(_0x4e15b8,_0x3e2cbe)=>{const _0x26e1e0=a0_0x587d83;try{const {warehouse_name:_0x1ca88f,cat:_0x186864}=_0x4e15b8[_0x26e1e0(0x1e9)],_0x1ae0f3=await warehouse['aggregate']([{'$match':{'status':_0x26e1e0(0x1eb),'warehouse_category':_0x186864,'name':_0x1ca88f}},{'$group':{'_id':'$room','room_name':{'$first':_0x26e1e0(0x212)}}},{'$sort':{'room_name':0x1}}]);_0x3e2cbe[_0x26e1e0(0x1d6)](0xc8)[_0x26e1e0(0x1fe)](_0x1ae0f3);}catch(_0x429f3b){_0x3e2cbe['status'](0x190)[_0x26e1e0(0x1fe)]({'errorMessage':_0x429f3b['message']});}}),module[a0_0x587d83(0x1e3)]=router;