function a0_0x3ac5(){const _0x4af1d5=['Raw\x20Materials','exports','/MapData','$_id.type','$product_details.floorlevel','Arabic\x20(ae)','$product_details.production_date','$_id','Portuguese','2315608jtzPsD','../middleware/auth','$product_details.product_name','language','3498363oGddhp','French','toLocaleString','$_id.product','All','/Rooms_data3','raw','get','message','../public/language/languages.json','1198255sAVSBd','warehousemap_incoming','express','$product_details','en-US','flash','findOne','German','Spanish','render','Portuguese\x20(BR)','email','90092wZqUAk','/MapData2','multer','find','42tXtuOO','body','$count','log','6333mvnsjZ','../models/all_models','json','timezone','Enabled','/Rooms_data','errors','1431348pYMcOh','/view','$room','role','$_id.floorlevel','$product_details.expiry_date','$product_details.bay','Chinese','$product_details.type','$production_date','Router','$product_details.batch_code','post','$product_details.product_code','$_id.bay','DRY\x20STORAGE','master','aggregate','user','Hindi','staff','$$product.product_quantity','$batch_code','QA\x20Warehouse','/Rooms_data2','$name','$product_details.bin','Finished\x20Goods','$product_details.product_stock','status','product','pack','24TLOTae','success','287021jwqEHH','Arabic'];a0_0x3ac5=function(){return _0x4af1d5;};return a0_0x3ac5();}const a0_0x5ff735=a0_0x56be;(function(_0x55ff2b,_0x4636f2){const _0x3b2e6b=a0_0x56be,_0x502f29=_0x55ff2b();while(!![]){try{const _0x2e8645=parseInt(_0x3b2e6b(0x207))/0x1+-parseInt(_0x3b2e6b(0x1e0))/0x2*(parseInt(_0x3b2e6b(0x20f))/0x3)+parseInt(_0x3b2e6b(0x216))/0x4+parseInt(_0x3b2e6b(0x1fb))/0x5+-parseInt(_0x3b2e6b(0x20b))/0x6*(parseInt(_0x3b2e6b(0x1e2))/0x7)+parseInt(_0x3b2e6b(0x1ed))/0x8+-parseInt(_0x3b2e6b(0x1f1))/0x9;if(_0x2e8645===_0x4636f2)break;else _0x502f29['push'](_0x502f29['shift']());}catch(_0x5793ce){_0x502f29['push'](_0x502f29['shift']());}}}(a0_0x3ac5,0x43603));const express=require(a0_0x5ff735(0x1fd)),app=express(),router=express[a0_0x5ff735(0x220)](),multer=require(a0_0x5ff735(0x209)),{profile,master_shop,email_settings,warehouse,purchases,staff}=require(a0_0x5ff735(0x210)),auth=require(a0_0x5ff735(0x1ee));var timezones=require('timezones-list');function a0_0x56be(_0x337c35,_0xf8dd8d){const _0x3ac5f5=a0_0x3ac5();return a0_0x56be=function(_0x56be54,_0x4da672){_0x56be54=_0x56be54-0x1cc;let _0x383c22=_0x3ac5f5[_0x56be54];return _0x383c22;},a0_0x56be(_0x337c35,_0xf8dd8d);}const users=require(a0_0x5ff735(0x1fa));router[a0_0x5ff735(0x1f8)](a0_0x5ff735(0x217),auth,async(_0x214e28,_0x102c30)=>{const _0x54d2e5=a0_0x5ff735;try{const {username:_0x4dd630,email:_0x17e737,role:_0x225189}=_0x214e28['user'],_0x2ea4c5=_0x214e28[_0x54d2e5(0x1d2)],_0x1d41de=await profile[_0x54d2e5(0x201)]({'email':_0x2ea4c5['email']}),_0x451197=await master_shop[_0x54d2e5(0x20a)]();console[_0x54d2e5(0x20e)](_0x54d2e5(0x1d0),_0x451197);let _0x50e567;if(_0x2ea4c5[_0x54d2e5(0x219)]==_0x54d2e5(0x1d4)){const _0x5f562e=await staff[_0x54d2e5(0x201)]({'email':_0x2ea4c5[_0x54d2e5(0x206)]});_0x50e567=await warehouse[_0x54d2e5(0x1d1)]([{'$match':{'status':'Enabled','name':_0x5f562e['warehouse']}},{'$group':{'_id':_0x54d2e5(0x1d9),'name':{'$first':'$name'}}}]);}else _0x50e567=await warehouse[_0x54d2e5(0x1d1)]([{'$match':{'status':_0x54d2e5(0x213)}},{'$group':{'_id':_0x54d2e5(0x1d9),'name':{'$first':_0x54d2e5(0x1d9)}}}]);const _0x22e59f=new Date()[_0x54d2e5(0x1f3)](_0x54d2e5(0x1ff),{'timeZone':_0x451197[0x0][_0x54d2e5(0x212)]});console[_0x54d2e5(0x20e)](_0x54d2e5(0x212),_0x22e59f);if(_0x451197[0x0][_0x54d2e5(0x1f0)]=='English\x20(US)'){var _0x5b1822=users['English'];console[_0x54d2e5(0x20e)](_0x5b1822);}else{if(_0x451197[0x0][_0x54d2e5(0x1f0)]=='Hindi')var _0x5b1822=users[_0x54d2e5(0x1d3)];else{if(_0x451197[0x0][_0x54d2e5(0x1f0)]=='German')var _0x5b1822=users[_0x54d2e5(0x202)];else{if(_0x451197[0x0]['language']==_0x54d2e5(0x203))var _0x5b1822=users[_0x54d2e5(0x203)];else{if(_0x451197[0x0][_0x54d2e5(0x1f0)]==_0x54d2e5(0x1f2))var _0x5b1822=users['French'];else{if(_0x451197[0x0][_0x54d2e5(0x1f0)]==_0x54d2e5(0x205))var _0x5b1822=users[_0x54d2e5(0x1ec)];else{if(_0x451197[0x0]['language']=='Chinese')var _0x5b1822=users[_0x54d2e5(0x21d)];else{if(_0x451197[0x0][_0x54d2e5(0x1f0)]==_0x54d2e5(0x1e9))var _0x5b1822=users[_0x54d2e5(0x1e3)];}}}}}}}_0x102c30[_0x54d2e5(0x204)](_0x54d2e5(0x1fc),{'success':_0x214e28[_0x54d2e5(0x200)](_0x54d2e5(0x1e1)),'errors':_0x214e28[_0x54d2e5(0x200)](_0x54d2e5(0x215)),'role':_0x2ea4c5,'profile':_0x1d41de,'master_shop':_0x451197,'timezones':timezones,'language':_0x5b1822,'warehouse':_0x50e567});}catch(_0x3542b5){console['log'](_0x3542b5),_0x102c30['status'](0xc8)[_0x54d2e5(0x211)]({'message':_0x3542b5[_0x54d2e5(0x1f9)]});}}),router[a0_0x5ff735(0x1cc)](a0_0x5ff735(0x1e6),async(_0x3e943a,_0x57c14b)=>{const _0x46b8d1=a0_0x5ff735,{warehouseNew:_0x1be523,rooms:_0x5f3644,Type:_0x21cfc7}=_0x3e943a[_0x46b8d1(0x20c)],_0x2daa45=await warehouse[_0x46b8d1(0x1d1)]([{'$unwind':'$product_details'},{'$match':{'name':_0x1be523,'room':_0x5f3644,'product_details.type':_0x21cfc7}},{'$group':{'_id':{'bay':'$product_details.bay','bin':_0x46b8d1(0x1da),'type':_0x46b8d1(0x21e),'floorlevel':_0x46b8d1(0x1e8)},'products':{'$push':{'product_name':'$product_details.product_name','product_quantity':_0x46b8d1(0x1dc),'product_code':_0x46b8d1(0x1cd)}},'totalQuantity':{'$sum':{'$cond':{'if':{'$gt':[_0x46b8d1(0x1dc),0x0]},'then':_0x46b8d1(0x1dc),'else':0x0}}}}},{'$project':{'_id':0x0,'bay':_0x46b8d1(0x1ce),'bin':'$_id.bin','type':_0x46b8d1(0x1e7),'floorlevel':_0x46b8d1(0x21a),'products':{'$filter':{'input':'$products','as':_0x46b8d1(0x1de),'cond':{'$gt':[_0x46b8d1(0x1d5),0x0]}}},'totalQuantity':0x1}}]);_0x57c14b[_0x46b8d1(0x211)](_0x2daa45);}),router[a0_0x5ff735(0x1cc)](a0_0x5ff735(0x208),async(_0x450abd,_0x569d37)=>{const _0x15133c=a0_0x5ff735,{warehouseNew:_0x3b09df,rooms:_0x118070,room_cat:_0x689915}=_0x450abd[_0x15133c(0x20c)];let _0x5e35cd;if(_0x689915==_0x15133c(0x1f5))_0x5e35cd=await warehouse[_0x15133c(0x1d1)]([{'$unwind':_0x15133c(0x1fe)},{'$match':{'name':_0x3b09df}},{'$group':{'_id':{'bay':_0x15133c(0x21c),'product':_0x15133c(0x1ef),'expiry':_0x15133c(0x21b)},'count':{'$sum':_0x15133c(0x1dc)},'production_date':{'$first':_0x15133c(0x1ea)},'expiry_date':{'$first':_0x15133c(0x21b)},'batch_code':{'$first':_0x15133c(0x221)},'product_code':{'$first':_0x15133c(0x1cd)}}},{'$group':{'_id':_0x15133c(0x1ce),'products':{'$push':{'product':_0x15133c(0x1f4),'quantity':_0x15133c(0x20d),'production_date':_0x15133c(0x21f),'expiry_date':'$expiry_date','batch_code':_0x15133c(0x1d6),'product_code':'$product_code'}},'totalQuantity':{'$sum':_0x15133c(0x20d)}}},{'$match':{'totalQuantity':{'$gt':0x0}}},{'$project':{'_id':0x0,'bay':_0x15133c(0x1eb),'products':0x1,'totalQuantity':0x1}}]),console[_0x15133c(0x20e)](_0x689915);else{}_0x569d37[_0x15133c(0x211)](_0x5e35cd);}),router[a0_0x5ff735(0x1cc)](a0_0x5ff735(0x214),async(_0x2eaa5e,_0x4078b1)=>{const _0x42063c=a0_0x5ff735;try{const {warehouse_name:_0x4310b8,A:_0x499826,B:_0x162a1d}=_0x2eaa5e[_0x42063c(0x20c)];var _0x22280e='';_0x499826==_0x42063c(0x1f7)?_0x162a1d==_0x42063c(0x1df)?_0x22280e=[{'$match':{'name':_0x4310b8,'status':_0x42063c(0x213),'room':'Rack\x20A'}},{'$group':{'_id':'$_id','room_name':{'$first':_0x42063c(0x218)}}},{'$sort':{'room_name':0x1}}]:_0x22280e=[{'$match':{'name':_0x4310b8,'status':_0x42063c(0x213)}},{'$group':{'_id':_0x42063c(0x1eb),'room_name':{'$first':_0x42063c(0x218)}}},{'$sort':{'room_name':0x1}}]:_0x22280e=[{'$match':{'name':_0x4310b8,'status':_0x42063c(0x213)}},{'$group':{'_id':_0x42063c(0x1eb),'room_name':{'$first':_0x42063c(0x218)}}},{'$sort':{'room_name':0x1}}];const _0x30b8de=await warehouse['aggregate'](_0x22280e);_0x4078b1[_0x42063c(0x1dd)](0xc8)[_0x42063c(0x211)](_0x30b8de);}catch(_0x348204){_0x4078b1[_0x42063c(0x1dd)](0x190)['json']({'errorMessage':_0x348204['message']});}}),router[a0_0x5ff735(0x1cc)](a0_0x5ff735(0x1d8),async(_0x322564,_0x37516b)=>{const _0x4f8047=a0_0x5ff735;try{const {warehouse_name:_0x2e953d,cat:_0x43232b,valNew:_0x5db312}=_0x322564[_0x4f8047(0x20c)];var _0x49577e='',_0x7555e8='';if(_0x43232b==_0x4f8047(0x1e4))_0x49577e='Return\x20Goods',_0x5db312==_0x4f8047(0x1df)?_0x7555e8=[{'$match':{'status':_0x4f8047(0x213),'warehouse_category':_0x43232b,'name':{'$ne':_0x49577e},'name':_0x4f8047(0x1cf)}},{'$group':{'_id':_0x4f8047(0x1d9),'room_name':{'$first':_0x4f8047(0x1d9)}}},{'$sort':{'room_name':0x1}}]:_0x7555e8=[{'$match':{'status':'Enabled','warehouse_category':_0x43232b,'name':{'$ne':_0x49577e}}},{'$group':{'_id':_0x4f8047(0x1d9),'room_name':{'$first':_0x4f8047(0x1d9)}}},{'$sort':{'room_name':0x1}}];else _0x43232b==_0x4f8047(0x1db)?(_0x49577e=_0x4f8047(0x1d7),_0x7555e8=[{'$match':{'status':_0x4f8047(0x213),'warehouse_category':_0x43232b,'name':{'$ne':_0x49577e}}},{'$group':{'_id':_0x4f8047(0x1d9),'room_name':{'$first':_0x4f8047(0x1d9)}}},{'$sort':{'room_name':0x1}}]):_0x7555e8=[{'$match':{'status':_0x4f8047(0x213)}},{'$group':{'_id':_0x4f8047(0x1d9),'room_name':{'$first':'$name'}}},{'$sort':{'room_name':0x1}}];const _0x575e06=await warehouse[_0x4f8047(0x1d1)](_0x7555e8);_0x37516b[_0x4f8047(0x1dd)](0xc8)['json'](_0x575e06);}catch(_0x383c17){_0x37516b[_0x4f8047(0x1dd)](0x190)[_0x4f8047(0x211)]({'errorMessage':_0x383c17['message']}),console['log'](_0x383c17);}}),router[a0_0x5ff735(0x1cc)](a0_0x5ff735(0x1f6),async(_0x19b338,_0x24da03)=>{const _0x324e6e=a0_0x5ff735;try{const {warehouse_name:_0xc257c4,cat:_0x9ee07b}=_0x19b338['body'],_0x1cdf2e=await warehouse[_0x324e6e(0x1d1)]([{'$match':{'status':_0x324e6e(0x213),'warehouse_category':_0x9ee07b,'name':_0xc257c4}},{'$group':{'_id':'$room','room_name':{'$first':_0x324e6e(0x218)}}},{'$sort':{'room_name':0x1}}]);_0x24da03[_0x324e6e(0x1dd)](0xc8)[_0x324e6e(0x211)](_0x1cdf2e);}catch(_0x300888){_0x24da03[_0x324e6e(0x1dd)](0x190)[_0x324e6e(0x211)]({'errorMessage':_0x300888[_0x324e6e(0x1f9)]});}}),module[a0_0x5ff735(0x1e5)]=router;