function a0_0x3714(_0x2c342d,_0x14467f){const _0x55e5cf=a0_0x55e5();return a0_0x3714=function(_0x37143d,_0x270171){_0x37143d=_0x37143d-0x17e;let _0x339892=_0x55e5cf[_0x37143d];return _0x339892;},a0_0x3714(_0x2c342d,_0x14467f);}const a0_0x2943a1=a0_0x3714;(function(_0x133998,_0x5d55f9){const _0x5a8986=a0_0x3714,_0x30543e=_0x133998();while(!![]){try{const _0x5df8bc=parseInt(_0x5a8986(0x1b2))/0x1*(-parseInt(_0x5a8986(0x1ae))/0x2)+-parseInt(_0x5a8986(0x1aa))/0x3*(parseInt(_0x5a8986(0x1be))/0x4)+-parseInt(_0x5a8986(0x1bf))/0x5+parseInt(_0x5a8986(0x1ab))/0x6+parseInt(_0x5a8986(0x182))/0x7+-parseInt(_0x5a8986(0x1a2))/0x8*(-parseInt(_0x5a8986(0x186))/0x9)+parseInt(_0x5a8986(0x1c4))/0xa*(-parseInt(_0x5a8986(0x1b8))/0xb);if(_0x5df8bc===_0x5d55f9)break;else _0x30543e['push'](_0x30543e['shift']());}catch(_0x3ffe7a){_0x30543e['push'](_0x30543e['shift']());}}}(a0_0x55e5,0x5e229));const express=require(a0_0x2943a1(0x18b)),app=express(),router=express['Router'](),multer=require('multer'),{profile,master_shop,email_settings,warehouse,purchases,staff}=require(a0_0x2943a1(0x19e)),auth=require(a0_0x2943a1(0x188));function a0_0x55e5(){const _0x368596=['raw','111PeTsfI','2088636GmhskF','aggregate','Raw\x20Materials','2BoVbaL','All','flash','$product_details.product_name','341338hMJxlN','Enabled','English','French','post','user','11pxHyuX','language','product','$product_details.floorlevel','role','German','23252ejPrPb','838220TdFsPl','body','$product_details.expiry_date','/Rooms_data2','get','1083080hHlRAw','timezone','$production_date','/view','Arabic','$_id.bay','Hindi','email','en-US','$product_code','find','$product_details.bay','warehousemap_incoming','4510415IWbLpx','QA\x20Warehouse','message','$product_details.bin','2029473LgYMBo','pack','../middleware/auth','$$product.product_quantity','$_id.bin','express','/MapData2','$_id','$product_details','$count','staff','$expiry_date','timezones-list','/Rooms_data','$room','exports','Finished\x20Goods','$_id.type','Spanish','warehouse','json','findOne','/Rooms_data3','errors','../models/all_models','log','status','Arabic\x20(ae)','8ETDZTA','$product_details.batch_code','Portuguese','success','Chinese','$product_details.product_stock','$name'];a0_0x55e5=function(){return _0x368596;};return a0_0x55e5();}var timezones=require(a0_0x2943a1(0x192));const users=require('../public/language/languages.json');router[a0_0x2943a1(0x1c3)](a0_0x2943a1(0x1c7),auth,async(_0xd9be86,_0x985204)=>{const _0x178d1b=a0_0x2943a1;try{const {username:_0x5a365f,email:_0x1e7a70,role:_0x4e8b01}=_0xd9be86['user'],_0x34eda2=_0xd9be86[_0x178d1b(0x1b7)],_0xe9bf9c=await profile[_0x178d1b(0x19b)]({'email':_0x34eda2[_0x178d1b(0x1cb)]}),_0x2cc240=await master_shop[_0x178d1b(0x17f)]();console[_0x178d1b(0x19f)]('master',_0x2cc240);let _0x11d687;if(_0x34eda2[_0x178d1b(0x1bc)]==_0x178d1b(0x190)){const _0x24f5ef=await staff[_0x178d1b(0x19b)]({'email':_0x34eda2['email']});_0x11d687=await warehouse['aggregate']([{'$match':{'status':_0x178d1b(0x1b3),'name':_0x24f5ef[_0x178d1b(0x199)]}},{'$group':{'_id':_0x178d1b(0x1a8),'name':{'$first':_0x178d1b(0x1a8)}}}]);}else _0x11d687=await warehouse[_0x178d1b(0x1ac)]([{'$match':{'status':_0x178d1b(0x1b3)}},{'$group':{'_id':_0x178d1b(0x1a8),'name':{'$first':_0x178d1b(0x1a8)}}}]);const _0x575113=new Date()['toLocaleString'](_0x178d1b(0x1cc),{'timeZone':_0x2cc240[0x0][_0x178d1b(0x1c5)]});console[_0x178d1b(0x19f)](_0x178d1b(0x1c5),_0x575113);if(_0x2cc240[0x0]['language']=='English\x20(US)'){var _0x77f793=users[_0x178d1b(0x1b4)];console[_0x178d1b(0x19f)](_0x77f793);}else{if(_0x2cc240[0x0]['language']==_0x178d1b(0x1ca))var _0x77f793=users[_0x178d1b(0x1ca)];else{if(_0x2cc240[0x0]['language']==_0x178d1b(0x1bd))var _0x77f793=users[_0x178d1b(0x1bd)];else{if(_0x2cc240[0x0][_0x178d1b(0x1b9)]==_0x178d1b(0x198))var _0x77f793=users['Spanish'];else{if(_0x2cc240[0x0][_0x178d1b(0x1b9)]==_0x178d1b(0x1b5))var _0x77f793=users[_0x178d1b(0x1b5)];else{if(_0x2cc240[0x0][_0x178d1b(0x1b9)]=='Portuguese\x20(BR)')var _0x77f793=users[_0x178d1b(0x1a4)];else{if(_0x2cc240[0x0][_0x178d1b(0x1b9)]==_0x178d1b(0x1a6))var _0x77f793=users[_0x178d1b(0x1a6)];else{if(_0x2cc240[0x0][_0x178d1b(0x1b9)]==_0x178d1b(0x1a1))var _0x77f793=users[_0x178d1b(0x1c8)];}}}}}}}_0x985204['render'](_0x178d1b(0x181),{'success':_0xd9be86[_0x178d1b(0x1b0)](_0x178d1b(0x1a5)),'errors':_0xd9be86['flash'](_0x178d1b(0x19d)),'role':_0x34eda2,'profile':_0xe9bf9c,'master_shop':_0x2cc240,'timezones':timezones,'language':_0x77f793,'warehouse':_0x11d687});}catch(_0x13e1b2){console['log'](_0x13e1b2),_0x985204[_0x178d1b(0x1a0)](0xc8)[_0x178d1b(0x19a)]({'message':_0x13e1b2[_0x178d1b(0x184)]});}}),router[a0_0x2943a1(0x1b6)]('/MapData',async(_0x5befb5,_0x1f96a1)=>{const _0xc8ab2c=a0_0x2943a1,{warehouseNew:_0x44eba2,rooms:_0x579ac2,Type:_0x285bf7}=_0x5befb5[_0xc8ab2c(0x1c0)],_0x48d171=await warehouse[_0xc8ab2c(0x1ac)]([{'$unwind':_0xc8ab2c(0x18e)},{'$match':{'name':_0x44eba2,'room':_0x579ac2,'product_details.type':_0x285bf7}},{'$group':{'_id':{'bay':_0xc8ab2c(0x180),'bin':_0xc8ab2c(0x185),'type':'$product_details.type','floorlevel':_0xc8ab2c(0x1bb)},'products':{'$push':{'product_name':_0xc8ab2c(0x1b1),'product_quantity':_0xc8ab2c(0x1a7),'product_code':'$product_details.product_code'}},'totalQuantity':{'$sum':{'$cond':{'if':{'$gt':[_0xc8ab2c(0x1a7),0x0]},'then':_0xc8ab2c(0x1a7),'else':0x0}}}}},{'$project':{'_id':0x0,'bay':'$_id.bay','bin':_0xc8ab2c(0x18a),'type':_0xc8ab2c(0x197),'floorlevel':'$_id.floorlevel','products':{'$filter':{'input':'$products','as':_0xc8ab2c(0x1ba),'cond':{'$gt':[_0xc8ab2c(0x189),0x0]}}},'totalQuantity':0x1}}]);_0x1f96a1[_0xc8ab2c(0x19a)](_0x48d171);}),router[a0_0x2943a1(0x1b6)](a0_0x2943a1(0x18c),async(_0x171471,_0x2aca59)=>{const _0x444cae=a0_0x2943a1,{warehouseNew:_0x42598e,rooms:_0x5f2abc,room_cat:_0x1b86df}=_0x171471[_0x444cae(0x1c0)];let _0x2bc341;if(_0x1b86df==_0x444cae(0x1af))_0x2bc341=await warehouse[_0x444cae(0x1ac)]([{'$unwind':_0x444cae(0x18e)},{'$match':{'name':_0x42598e}},{'$group':{'_id':{'bay':_0x444cae(0x180),'product':_0x444cae(0x1b1),'expiry':_0x444cae(0x1c1)},'count':{'$sum':'$product_details.product_stock'},'production_date':{'$first':'$product_details.production_date'},'expiry_date':{'$first':_0x444cae(0x1c1)},'batch_code':{'$first':_0x444cae(0x1a3)},'product_code':{'$first':'$product_details.product_code'}}},{'$group':{'_id':_0x444cae(0x1c9),'products':{'$push':{'product':'$_id.product','quantity':'$count','production_date':_0x444cae(0x1c6),'expiry_date':_0x444cae(0x191),'batch_code':'$batch_code','product_code':_0x444cae(0x17e)}},'totalQuantity':{'$sum':_0x444cae(0x18f)}}},{'$match':{'totalQuantity':{'$gt':0x0}}},{'$project':{'_id':0x0,'bay':_0x444cae(0x18d),'products':0x1,'totalQuantity':0x1}}]),console['log'](_0x1b86df);else{}_0x2aca59[_0x444cae(0x19a)](_0x2bc341);}),router[a0_0x2943a1(0x1b6)](a0_0x2943a1(0x193),async(_0x113ea8,_0x4d763f)=>{const _0x6d78da=a0_0x2943a1;try{const {warehouse_name:_0xfee000,A:_0x2e4895,B:_0x558d65}=_0x113ea8[_0x6d78da(0x1c0)];var _0x217851='';_0x2e4895==_0x6d78da(0x1a9)?_0x558d65==_0x6d78da(0x187)?_0x217851=[{'$match':{'name':_0xfee000,'status':_0x6d78da(0x1b3),'room':'Rack\x20A'}},{'$group':{'_id':_0x6d78da(0x18d),'room_name':{'$first':_0x6d78da(0x194)}}},{'$sort':{'room_name':0x1}}]:_0x217851=[{'$match':{'name':_0xfee000,'status':_0x6d78da(0x1b3)}},{'$group':{'_id':'$_id','room_name':{'$first':_0x6d78da(0x194)}}},{'$sort':{'room_name':0x1}}]:_0x217851=[{'$match':{'name':_0xfee000,'status':'Enabled'}},{'$group':{'_id':_0x6d78da(0x18d),'room_name':{'$first':_0x6d78da(0x194)}}},{'$sort':{'room_name':0x1}}];const _0x585f06=await warehouse['aggregate'](_0x217851);_0x4d763f[_0x6d78da(0x1a0)](0xc8)[_0x6d78da(0x19a)](_0x585f06);}catch(_0x1b4bc9){_0x4d763f[_0x6d78da(0x1a0)](0x190)[_0x6d78da(0x19a)]({'errorMessage':_0x1b4bc9[_0x6d78da(0x184)]});}}),router[a0_0x2943a1(0x1b6)](a0_0x2943a1(0x1c2),async(_0x55f4bb,_0x43c34f)=>{const _0x4c0f31=a0_0x2943a1;try{const {warehouse_name:_0x2a1cb8,cat:_0x15094,valNew:_0x390308}=_0x55f4bb[_0x4c0f31(0x1c0)];var _0x5ca34b='',_0x26868d='';if(_0x15094==_0x4c0f31(0x1ad))_0x5ca34b='Return\x20Goods',_0x390308==_0x4c0f31(0x187)?_0x26868d=[{'$match':{'status':_0x4c0f31(0x1b3),'warehouse_category':_0x15094,'name':{'$ne':_0x5ca34b},'name':'DRY\x20STORAGE'}},{'$group':{'_id':_0x4c0f31(0x1a8),'room_name':{'$first':_0x4c0f31(0x1a8)}}},{'$sort':{'room_name':0x1}}]:_0x26868d=[{'$match':{'status':_0x4c0f31(0x1b3),'warehouse_category':_0x15094,'name':{'$ne':_0x5ca34b}}},{'$group':{'_id':_0x4c0f31(0x1a8),'room_name':{'$first':_0x4c0f31(0x1a8)}}},{'$sort':{'room_name':0x1}}];else _0x15094==_0x4c0f31(0x196)?(_0x5ca34b=_0x4c0f31(0x183),_0x26868d=[{'$match':{'status':_0x4c0f31(0x1b3),'warehouse_category':_0x15094,'name':{'$ne':_0x5ca34b}}},{'$group':{'_id':_0x4c0f31(0x1a8),'room_name':{'$first':_0x4c0f31(0x1a8)}}},{'$sort':{'room_name':0x1}}]):_0x26868d=[{'$match':{'status':_0x4c0f31(0x1b3)}},{'$group':{'_id':_0x4c0f31(0x1a8),'room_name':{'$first':_0x4c0f31(0x1a8)}}},{'$sort':{'room_name':0x1}}];const _0x3c8325=await warehouse[_0x4c0f31(0x1ac)](_0x26868d);_0x43c34f[_0x4c0f31(0x1a0)](0xc8)[_0x4c0f31(0x19a)](_0x3c8325);}catch(_0x598a57){_0x43c34f[_0x4c0f31(0x1a0)](0x190)['json']({'errorMessage':_0x598a57['message']}),console[_0x4c0f31(0x19f)](_0x598a57);}}),router[a0_0x2943a1(0x1b6)](a0_0x2943a1(0x19c),async(_0x505a2d,_0x4c3872)=>{const _0x146717=a0_0x2943a1;try{const {warehouse_name:_0x222c07,cat:_0x4ae3de}=_0x505a2d['body'],_0x15bba8=await warehouse[_0x146717(0x1ac)]([{'$match':{'status':_0x146717(0x1b3),'warehouse_category':_0x4ae3de,'name':_0x222c07}},{'$group':{'_id':_0x146717(0x194),'room_name':{'$first':_0x146717(0x194)}}},{'$sort':{'room_name':0x1}}]);_0x4c3872[_0x146717(0x1a0)](0xc8)['json'](_0x15bba8);}catch(_0x11223c){_0x4c3872['status'](0x190)[_0x146717(0x19a)]({'errorMessage':_0x11223c[_0x146717(0x184)]});}}),module[a0_0x2943a1(0x195)]=router;