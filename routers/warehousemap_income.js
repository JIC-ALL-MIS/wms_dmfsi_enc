function a0_0xab34(){const _0x375528=['Chinese','$_id','$product_details.bin','$batch_code','email','aggregate','$product_details.product_code','$$product.product_quantity','find','post','Hindi','1316271mYOdBw','English','$product_code','language','$product_details.product_name','$name','Enabled','$count','message','$product_details.expiry_date','Spanish','pack','$_id.product','timezone','raw','../middleware/auth','8802gNYibc','8GgzufP','$_id.bin','$product_details.production_date','1359nsKHQo','flash','warehousemap_incoming','/view','3114492lUUAku','success','$product_details','exports','body','staff','14938uHJSVT','/Rooms_data2','/MapData2','Router','$product_details.batch_code','get','user','$_id.bay','$_id.floorlevel','Portuguese','French','English\x20(US)','2ORZBQe','findOne','/Rooms_data3','toLocaleString','QA\x20Warehouse','$products','$expiry_date','role','8796vQYLVc','$product_details.bay','../models/all_models','json','$product_details.product_stock','3845RjujWt','timezones-list','DRY\x20STORAGE','Raw\x20Materials','status','$production_date','All','3311819LuwCBA','$room','Arabic\x20(ae)','4470MUYKxy','log','/MapData','render','726864ooILUU','en-US'];a0_0xab34=function(){return _0x375528;};return a0_0xab34();}const a0_0x2f7abf=a0_0x5cbe;(function(_0x2062f2,_0x159bca){const _0x1b312f=a0_0x5cbe,_0x2c493a=_0x2062f2();while(!![]){try{const _0x232c50=parseInt(_0x1b312f(0x113))/0x1+-parseInt(_0x1b312f(0xf8))/0x2*(parseInt(_0x1b312f(0xce))/0x3)+parseInt(_0x1b312f(0xe6))/0x4+-parseInt(_0x1b312f(0x105))/0x5*(-parseInt(_0x1b312f(0xde))/0x6)+-parseInt(_0x1b312f(0x10c))/0x7*(parseInt(_0x1b312f(0xdf))/0x8)+-parseInt(_0x1b312f(0xe2))/0x9*(parseInt(_0x1b312f(0x10f))/0xa)+-parseInt(_0x1b312f(0xec))/0xb*(parseInt(_0x1b312f(0x100))/0xc);if(_0x232c50===_0x159bca)break;else _0x2c493a['push'](_0x2c493a['shift']());}catch(_0x8cf99e){_0x2c493a['push'](_0x2c493a['shift']());}}}(a0_0xab34,0xa0d89));function a0_0x5cbe(_0x178ee9,_0x3862f5){const _0xab34f7=a0_0xab34();return a0_0x5cbe=function(_0x5cbebf,_0x29cddf){_0x5cbebf=_0x5cbebf-0xc8;let _0x42d498=_0xab34f7[_0x5cbebf];return _0x42d498;},a0_0x5cbe(_0x178ee9,_0x3862f5);}const express=require('express'),app=express(),router=express[a0_0x2f7abf(0xef)](),multer=require('multer'),{profile,master_shop,email_settings,warehouse,purchases,staff}=require(a0_0x2f7abf(0x102)),auth=require(a0_0x2f7abf(0xdd));var timezones=require(a0_0x2f7abf(0x106));const users=require('../public/language/languages.json');router[a0_0x2f7abf(0xf1)](a0_0x2f7abf(0xe5),auth,async(_0xb945ab,_0xf5583)=>{const _0xccce12=a0_0x2f7abf;try{const {username:_0x1f7144,email:_0x3756f3,role:_0x47aead}=_0xb945ab[_0xccce12(0xf2)],_0x7b2a34=_0xb945ab[_0xccce12(0xf2)],_0x544c36=await profile[_0xccce12(0xf9)]({'email':_0x7b2a34[_0xccce12(0x119)]}),_0x144b5d=await master_shop[_0xccce12(0xcb)]();console[_0xccce12(0x110)]('master',_0x144b5d);let _0x2a12fa;if(_0x7b2a34[_0xccce12(0xff)]==_0xccce12(0xeb)){const _0x84a89d=await staff[_0xccce12(0xf9)]({'email':_0x7b2a34[_0xccce12(0x119)]});_0x2a12fa=await warehouse[_0xccce12(0xc8)]([{'$match':{'status':_0xccce12(0xd4),'name':_0x84a89d['warehouse']}},{'$group':{'_id':_0xccce12(0xd3),'name':{'$first':'$name'}}}]);}else _0x2a12fa=await warehouse['aggregate']([{'$match':{'status':_0xccce12(0xd4)}},{'$group':{'_id':_0xccce12(0xd3),'name':{'$first':'$name'}}}]);const _0x1407a3=new Date()[_0xccce12(0xfb)](_0xccce12(0x114),{'timeZone':_0x144b5d[0x0]['timezone']});console['log'](_0xccce12(0xdb),_0x1407a3);if(_0x144b5d[0x0][_0xccce12(0xd1)]==_0xccce12(0xf7)){var _0x2a231f=users[_0xccce12(0xcf)];console[_0xccce12(0x110)](_0x2a231f);}else{if(_0x144b5d[0x0][_0xccce12(0xd1)]==_0xccce12(0xcd))var _0x2a231f=users['Hindi'];else{if(_0x144b5d[0x0][_0xccce12(0xd1)]=='German')var _0x2a231f=users['German'];else{if(_0x144b5d[0x0]['language']==_0xccce12(0xd8))var _0x2a231f=users[_0xccce12(0xd8)];else{if(_0x144b5d[0x0][_0xccce12(0xd1)]=='French')var _0x2a231f=users[_0xccce12(0xf6)];else{if(_0x144b5d[0x0][_0xccce12(0xd1)]=='Portuguese\x20(BR)')var _0x2a231f=users[_0xccce12(0xf5)];else{if(_0x144b5d[0x0][_0xccce12(0xd1)]==_0xccce12(0x115))var _0x2a231f=users[_0xccce12(0x115)];else{if(_0x144b5d[0x0]['language']==_0xccce12(0x10e))var _0x2a231f=users['Arabic'];}}}}}}}_0xf5583[_0xccce12(0x112)](_0xccce12(0xe4),{'success':_0xb945ab[_0xccce12(0xe3)](_0xccce12(0xe7)),'errors':_0xb945ab[_0xccce12(0xe3)]('errors'),'role':_0x7b2a34,'profile':_0x544c36,'master_shop':_0x144b5d,'timezones':timezones,'language':_0x2a231f,'warehouse':_0x2a12fa});}catch(_0x511e6a){console[_0xccce12(0x110)](_0x511e6a),_0xf5583[_0xccce12(0x109)](0xc8)[_0xccce12(0x103)]({'message':_0x511e6a[_0xccce12(0xd6)]});}}),router[a0_0x2f7abf(0xcc)](a0_0x2f7abf(0x111),async(_0x35bb38,_0x4afba3)=>{const _0xf30ef=a0_0x2f7abf,{warehouseNew:_0x28cff7,rooms:_0x2b53a5,Type:_0x16e583}=_0x35bb38[_0xf30ef(0xea)],_0x41ee33=await warehouse[_0xf30ef(0xc8)]([{'$unwind':_0xf30ef(0xe8)},{'$match':{'name':_0x28cff7,'room':_0x2b53a5,'product_details.type':_0x16e583}},{'$group':{'_id':{'bay':_0xf30ef(0x101),'bin':_0xf30ef(0x117),'type':'$product_details.type','floorlevel':'$product_details.floorlevel'},'products':{'$push':{'product_name':_0xf30ef(0xd2),'product_quantity':_0xf30ef(0x104),'product_code':_0xf30ef(0xc9)}},'totalQuantity':{'$sum':{'$cond':{'if':{'$gt':[_0xf30ef(0x104),0x0]},'then':_0xf30ef(0x104),'else':0x0}}}}},{'$project':{'_id':0x0,'bay':_0xf30ef(0xf3),'bin':_0xf30ef(0xe0),'type':'$_id.type','floorlevel':_0xf30ef(0xf4),'products':{'$filter':{'input':_0xf30ef(0xfd),'as':'product','cond':{'$gt':[_0xf30ef(0xca),0x0]}}},'totalQuantity':0x1}}]);_0x4afba3[_0xf30ef(0x103)](_0x41ee33);}),router['post'](a0_0x2f7abf(0xee),async(_0x571de3,_0x307217)=>{const _0x380958=a0_0x2f7abf,{warehouseNew:_0x2b1025,rooms:_0x5ebdfc,room_cat:_0x1bf945}=_0x571de3[_0x380958(0xea)];let _0x1cf084;if(_0x1bf945==_0x380958(0x10b))_0x1cf084=await warehouse['aggregate']([{'$unwind':_0x380958(0xe8)},{'$match':{'name':_0x2b1025}},{'$group':{'_id':{'bay':_0x380958(0x101),'product':_0x380958(0xd2),'expiry':_0x380958(0xd7)},'count':{'$sum':_0x380958(0x104)},'production_date':{'$first':_0x380958(0xe1)},'expiry_date':{'$first':_0x380958(0xd7)},'batch_code':{'$first':_0x380958(0xf0)},'product_code':{'$first':_0x380958(0xc9)}}},{'$group':{'_id':_0x380958(0xf3),'products':{'$push':{'product':_0x380958(0xda),'quantity':_0x380958(0xd5),'production_date':_0x380958(0x10a),'expiry_date':_0x380958(0xfe),'batch_code':_0x380958(0x118),'product_code':_0x380958(0xd0)}},'totalQuantity':{'$sum':_0x380958(0xd5)}}},{'$match':{'totalQuantity':{'$gt':0x0}}},{'$project':{'_id':0x0,'bay':_0x380958(0x116),'products':0x1,'totalQuantity':0x1}}]),console['log'](_0x1bf945);else{}_0x307217['json'](_0x1cf084);}),router[a0_0x2f7abf(0xcc)]('/Rooms_data',async(_0x10b9eb,_0x4e7be5)=>{const _0x73a8be=a0_0x2f7abf;try{const {warehouse_name:_0x5f3030,A:_0x5d8c93,B:_0x3c6cdf}=_0x10b9eb[_0x73a8be(0xea)];var _0x484a5b='';_0x5d8c93==_0x73a8be(0xdc)?_0x3c6cdf==_0x73a8be(0xd9)?_0x484a5b=[{'$match':{'name':_0x5f3030,'status':'Enabled','room':'Rack\x20A'}},{'$group':{'_id':_0x73a8be(0x116),'room_name':{'$first':_0x73a8be(0x10d)}}},{'$sort':{'room_name':0x1}}]:_0x484a5b=[{'$match':{'name':_0x5f3030,'status':'Enabled'}},{'$group':{'_id':_0x73a8be(0x116),'room_name':{'$first':_0x73a8be(0x10d)}}},{'$sort':{'room_name':0x1}}]:_0x484a5b=[{'$match':{'name':_0x5f3030,'status':_0x73a8be(0xd4)}},{'$group':{'_id':'$_id','room_name':{'$first':_0x73a8be(0x10d)}}},{'$sort':{'room_name':0x1}}];const _0x3b2d4a=await warehouse['aggregate'](_0x484a5b);_0x4e7be5[_0x73a8be(0x109)](0xc8)[_0x73a8be(0x103)](_0x3b2d4a);}catch(_0x264aff){_0x4e7be5['status'](0x190)[_0x73a8be(0x103)]({'errorMessage':_0x264aff[_0x73a8be(0xd6)]});}}),router[a0_0x2f7abf(0xcc)](a0_0x2f7abf(0xed),async(_0xbe9932,_0x3e9e32)=>{const _0x5ba41d=a0_0x2f7abf;try{const {warehouse_name:_0x95bf0,cat:_0x58e708,valNew:_0x317083}=_0xbe9932[_0x5ba41d(0xea)];var _0x274342='',_0x16a3c4='';if(_0x58e708==_0x5ba41d(0x108))_0x274342='Return\x20Goods',_0x317083==_0x5ba41d(0xd9)?_0x16a3c4=[{'$match':{'status':'Enabled','warehouse_category':_0x58e708,'name':{'$ne':_0x274342},'name':_0x5ba41d(0x107)}},{'$group':{'_id':_0x5ba41d(0xd3),'room_name':{'$first':_0x5ba41d(0xd3)}}},{'$sort':{'room_name':0x1}}]:_0x16a3c4=[{'$match':{'status':_0x5ba41d(0xd4),'warehouse_category':_0x58e708,'name':{'$ne':_0x274342}}},{'$group':{'_id':_0x5ba41d(0xd3),'room_name':{'$first':_0x5ba41d(0xd3)}}},{'$sort':{'room_name':0x1}}];else _0x58e708=='Finished\x20Goods'?(_0x274342=_0x5ba41d(0xfc),_0x16a3c4=[{'$match':{'status':_0x5ba41d(0xd4),'warehouse_category':_0x58e708,'name':{'$ne':_0x274342}}},{'$group':{'_id':_0x5ba41d(0xd3),'room_name':{'$first':_0x5ba41d(0xd3)}}},{'$sort':{'room_name':0x1}}]):_0x16a3c4=[{'$match':{'status':_0x5ba41d(0xd4)}},{'$group':{'_id':'$name','room_name':{'$first':'$name'}}},{'$sort':{'room_name':0x1}}];const _0x24e3bb=await warehouse[_0x5ba41d(0xc8)](_0x16a3c4);_0x3e9e32[_0x5ba41d(0x109)](0xc8)[_0x5ba41d(0x103)](_0x24e3bb);}catch(_0x2826d5){_0x3e9e32[_0x5ba41d(0x109)](0x190)[_0x5ba41d(0x103)]({'errorMessage':_0x2826d5[_0x5ba41d(0xd6)]}),console[_0x5ba41d(0x110)](_0x2826d5);}}),router[a0_0x2f7abf(0xcc)](a0_0x2f7abf(0xfa),async(_0x29c5e9,_0x4a3ab3)=>{const _0x64aa43=a0_0x2f7abf;try{const {warehouse_name:_0x555e69,cat:_0x59652b}=_0x29c5e9[_0x64aa43(0xea)],_0x9ddcb2=await warehouse[_0x64aa43(0xc8)]([{'$match':{'status':_0x64aa43(0xd4),'warehouse_category':_0x59652b,'name':_0x555e69}},{'$group':{'_id':_0x64aa43(0x10d),'room_name':{'$first':'$room'}}},{'$sort':{'room_name':0x1}}]);_0x4a3ab3[_0x64aa43(0x109)](0xc8)[_0x64aa43(0x103)](_0x9ddcb2);}catch(_0x1fb95d){_0x4a3ab3[_0x64aa43(0x109)](0x190)['json']({'errorMessage':_0x1fb95d[_0x64aa43(0xd6)]});}}),module[a0_0x2f7abf(0xe9)]=router;