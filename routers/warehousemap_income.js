function a0_0x5c31(){const _0x3f2589=['$product_details.expiry_date','Portuguese','3896136fBLYLc','$expiry_date','Arabic\x20(ae)','product','timezone','language','$product_details.bin','French','toLocaleString','aggregate','log','Raw\x20Materials','$_id.bay','post','flash','$_id.type','$product_details.product_name','English\x20(US)','$_id.product','English','$batch_code','$product_details.product_code','70QkGUOc','Hindi','user','Chinese','/MapData','$product_details.product_stock','warehousemap_incoming','timezones-list','22312tQiWFL','$product_details','22042AqlMCg','exports','/MapData2','/Rooms_data','$product_details.batch_code','email','$product_details.bay','4335468LIEAxm','errors','German','Arabic','pack','$name','1542lzlfVp','/Rooms_data3','success','body','36467464nvEQff','$room','Router','238GNZScY','$product_details.production_date','Spanish','Finished\x20Goods','$production_date','json','raw','findOne','$product_details.type','$products','multer','/Rooms_data2','get','find','5030lCXicR','warehouse','role','$_id','$product_details.floorlevel','staff','Enabled','express','154CDrJVm','../models/all_models','$count','Rack\x20A','1987821BeqTli','DRY\x20STORAGE','status','message','/view'];a0_0x5c31=function(){return _0x3f2589;};return a0_0x5c31();}const a0_0x44da22=a0_0x292e;(function(_0x53e2a5,_0xeb3da6){const _0x518567=a0_0x292e,_0x3c6ed6=_0x53e2a5();while(!![]){try{const _0x11b435=-parseInt(_0x518567(0x134))/0x1*(-parseInt(_0x518567(0x109))/0x2)+-parseInt(_0x518567(0x114))/0x3+-parseInt(_0x518567(0x13b))/0x4+parseInt(_0x518567(0x156))/0x5*(-parseInt(_0x518567(0x141))/0x6)+-parseInt(_0x518567(0x148))/0x7*(-parseInt(_0x518567(0x132))/0x8)+parseInt(_0x518567(0x10d))/0x9*(-parseInt(_0x518567(0x12a))/0xa)+parseInt(_0x518567(0x145))/0xb;if(_0x11b435===_0xeb3da6)break;else _0x3c6ed6['push'](_0x3c6ed6['shift']());}catch(_0x368a7b){_0x3c6ed6['push'](_0x3c6ed6['shift']());}}}(a0_0x5c31,0xe0a10));const express=require(a0_0x44da22(0x108)),app=express(),router=express[a0_0x44da22(0x147)](),multer=require(a0_0x44da22(0x152)),{profile,master_shop,email_settings,warehouse,purchases,staff}=require(a0_0x44da22(0x10a)),auth=require('../middleware/auth');var timezones=require(a0_0x44da22(0x131));function a0_0x292e(_0x49eba4,_0x3bf010){const _0x5c318a=a0_0x5c31();return a0_0x292e=function(_0x292e51,_0x11e258){_0x292e51=_0x292e51-0x108;let _0x3ae8aa=_0x5c318a[_0x292e51];return _0x3ae8aa;},a0_0x292e(_0x49eba4,_0x3bf010);}const users=require('../public/language/languages.json');router[a0_0x44da22(0x154)](a0_0x44da22(0x111),auth,async(_0x4c48a3,_0x1a185f)=>{const _0x2bc2e9=a0_0x44da22;try{const {username:_0x3b27aa,email:_0x438f96,role:_0x3490ac}=_0x4c48a3[_0x2bc2e9(0x12c)],_0x7fdc70=_0x4c48a3['user'],_0x3926a2=await profile[_0x2bc2e9(0x14f)]({'email':_0x7fdc70[_0x2bc2e9(0x139)]}),_0x55f3cd=await master_shop[_0x2bc2e9(0x155)]();console[_0x2bc2e9(0x11e)]('master',_0x55f3cd);let _0xd1466d;if(_0x7fdc70[_0x2bc2e9(0x158)]==_0x2bc2e9(0x15b)){const _0x25a1ac=await staff[_0x2bc2e9(0x14f)]({'email':_0x7fdc70[_0x2bc2e9(0x139)]});_0xd1466d=await warehouse[_0x2bc2e9(0x11d)]([{'$match':{'status':_0x2bc2e9(0x15c),'name':_0x25a1ac[_0x2bc2e9(0x157)]}},{'$group':{'_id':'$name','name':{'$first':'$name'}}}]);}else _0xd1466d=await warehouse[_0x2bc2e9(0x11d)]([{'$match':{'status':_0x2bc2e9(0x15c)}},{'$group':{'_id':_0x2bc2e9(0x140),'name':{'$first':'$name'}}}]);const _0x43684a=new Date()[_0x2bc2e9(0x11c)]('en-US',{'timeZone':_0x55f3cd[0x0]['timezone']});console[_0x2bc2e9(0x11e)](_0x2bc2e9(0x118),_0x43684a);if(_0x55f3cd[0x0]['language']==_0x2bc2e9(0x125)){var _0x207f6c=users[_0x2bc2e9(0x127)];console[_0x2bc2e9(0x11e)](_0x207f6c);}else{if(_0x55f3cd[0x0][_0x2bc2e9(0x119)]==_0x2bc2e9(0x12b))var _0x207f6c=users[_0x2bc2e9(0x12b)];else{if(_0x55f3cd[0x0][_0x2bc2e9(0x119)]=='German')var _0x207f6c=users[_0x2bc2e9(0x13d)];else{if(_0x55f3cd[0x0]['language']==_0x2bc2e9(0x14a))var _0x207f6c=users['Spanish'];else{if(_0x55f3cd[0x0][_0x2bc2e9(0x119)]==_0x2bc2e9(0x11b))var _0x207f6c=users[_0x2bc2e9(0x11b)];else{if(_0x55f3cd[0x0][_0x2bc2e9(0x119)]=='Portuguese\x20(BR)')var _0x207f6c=users[_0x2bc2e9(0x113)];else{if(_0x55f3cd[0x0][_0x2bc2e9(0x119)]==_0x2bc2e9(0x12d))var _0x207f6c=users['Chinese'];else{if(_0x55f3cd[0x0][_0x2bc2e9(0x119)]==_0x2bc2e9(0x116))var _0x207f6c=users[_0x2bc2e9(0x13e)];}}}}}}}_0x1a185f['render'](_0x2bc2e9(0x130),{'success':_0x4c48a3[_0x2bc2e9(0x122)](_0x2bc2e9(0x143)),'errors':_0x4c48a3['flash'](_0x2bc2e9(0x13c)),'role':_0x7fdc70,'profile':_0x3926a2,'master_shop':_0x55f3cd,'timezones':timezones,'language':_0x207f6c,'warehouse':_0xd1466d});}catch(_0x3ab0e3){console[_0x2bc2e9(0x11e)](_0x3ab0e3),_0x1a185f[_0x2bc2e9(0x10f)](0xc8)[_0x2bc2e9(0x14d)]({'message':_0x3ab0e3[_0x2bc2e9(0x110)]});}}),router['post'](a0_0x44da22(0x12e),async(_0x2c6b26,_0x1aa9d1)=>{const _0xfe85b9=a0_0x44da22,{warehouseNew:_0x520f1e,rooms:_0x23d16b,Type:_0x5c6d84}=_0x2c6b26[_0xfe85b9(0x144)],_0x27fc53=await warehouse[_0xfe85b9(0x11d)]([{'$unwind':_0xfe85b9(0x133)},{'$match':{'name':_0x520f1e,'room':_0x23d16b,'product_details.type':_0x5c6d84}},{'$group':{'_id':{'bay':_0xfe85b9(0x13a),'bin':_0xfe85b9(0x11a),'type':_0xfe85b9(0x150),'floorlevel':_0xfe85b9(0x15a)},'products':{'$push':{'product_name':_0xfe85b9(0x124),'product_quantity':_0xfe85b9(0x12f),'product_code':_0xfe85b9(0x129)}},'totalQuantity':{'$sum':{'$cond':{'if':{'$gt':[_0xfe85b9(0x12f),0x0]},'then':_0xfe85b9(0x12f),'else':0x0}}}}},{'$project':{'_id':0x0,'bay':_0xfe85b9(0x120),'bin':'$_id.bin','type':_0xfe85b9(0x123),'floorlevel':'$_id.floorlevel','products':{'$filter':{'input':_0xfe85b9(0x151),'as':_0xfe85b9(0x117),'cond':{'$gt':['$$product.product_quantity',0x0]}}},'totalQuantity':0x1}}]);_0x1aa9d1[_0xfe85b9(0x14d)](_0x27fc53);}),router['post'](a0_0x44da22(0x136),async(_0x79bd83,_0x42eff1)=>{const _0x11d330=a0_0x44da22,{warehouseNew:_0x150fa6,rooms:_0x48d3ec,room_cat:_0x3eee60}=_0x79bd83[_0x11d330(0x144)];let _0x203ced;if(_0x3eee60=='All')_0x203ced=await warehouse['aggregate']([{'$unwind':_0x11d330(0x133)},{'$match':{'name':_0x150fa6}},{'$group':{'_id':{'bay':_0x11d330(0x13a),'product':_0x11d330(0x124),'expiry':_0x11d330(0x112)},'count':{'$sum':_0x11d330(0x12f)},'production_date':{'$first':_0x11d330(0x149)},'expiry_date':{'$first':_0x11d330(0x112)},'batch_code':{'$first':_0x11d330(0x138)},'product_code':{'$first':_0x11d330(0x129)}}},{'$group':{'_id':_0x11d330(0x120),'products':{'$push':{'product':_0x11d330(0x126),'quantity':_0x11d330(0x10b),'production_date':_0x11d330(0x14c),'expiry_date':_0x11d330(0x115),'batch_code':_0x11d330(0x128),'product_code':'$product_code'}},'totalQuantity':{'$sum':_0x11d330(0x10b)}}},{'$match':{'totalQuantity':{'$gt':0x0}}},{'$project':{'_id':0x0,'bay':_0x11d330(0x159),'products':0x1,'totalQuantity':0x1}}]),console[_0x11d330(0x11e)](_0x3eee60);else{}_0x42eff1[_0x11d330(0x14d)](_0x203ced);}),router['post'](a0_0x44da22(0x137),async(_0x224554,_0x4d4e58)=>{const _0x1ceb8a=a0_0x44da22;try{const {warehouse_name:_0x1a04d1,A:_0x482228,B:_0x50abdf}=_0x224554[_0x1ceb8a(0x144)];var _0x3dc418='';_0x482228==_0x1ceb8a(0x14e)?_0x50abdf==_0x1ceb8a(0x13f)?_0x3dc418=[{'$match':{'name':_0x1a04d1,'status':'Enabled','room':_0x1ceb8a(0x10c)}},{'$group':{'_id':'$_id','room_name':{'$first':_0x1ceb8a(0x146)}}},{'$sort':{'room_name':0x1}}]:_0x3dc418=[{'$match':{'name':_0x1a04d1,'status':_0x1ceb8a(0x15c)}},{'$group':{'_id':'$_id','room_name':{'$first':'$room'}}},{'$sort':{'room_name':0x1}}]:_0x3dc418=[{'$match':{'name':_0x1a04d1,'status':_0x1ceb8a(0x15c)}},{'$group':{'_id':_0x1ceb8a(0x159),'room_name':{'$first':_0x1ceb8a(0x146)}}},{'$sort':{'room_name':0x1}}];const _0x5ac7fc=await warehouse[_0x1ceb8a(0x11d)](_0x3dc418);_0x4d4e58['status'](0xc8)[_0x1ceb8a(0x14d)](_0x5ac7fc);}catch(_0x735303){_0x4d4e58[_0x1ceb8a(0x10f)](0x190)[_0x1ceb8a(0x14d)]({'errorMessage':_0x735303[_0x1ceb8a(0x110)]});}}),router[a0_0x44da22(0x121)](a0_0x44da22(0x153),async(_0x47165f,_0x12c0b)=>{const _0x4c0971=a0_0x44da22;try{const {warehouse_name:_0xeae5e8,cat:_0x366143,valNew:_0x123058}=_0x47165f[_0x4c0971(0x144)];var _0x5e4a86='',_0x409c72='';if(_0x366143==_0x4c0971(0x11f))_0x5e4a86='Return\x20Goods',_0x123058=='pack'?_0x409c72=[{'$match':{'status':_0x4c0971(0x15c),'warehouse_category':_0x366143,'name':{'$ne':_0x5e4a86},'name':_0x4c0971(0x10e)}},{'$group':{'_id':_0x4c0971(0x140),'room_name':{'$first':'$name'}}},{'$sort':{'room_name':0x1}}]:_0x409c72=[{'$match':{'status':_0x4c0971(0x15c),'warehouse_category':_0x366143,'name':{'$ne':_0x5e4a86}}},{'$group':{'_id':_0x4c0971(0x140),'room_name':{'$first':'$name'}}},{'$sort':{'room_name':0x1}}];else _0x366143==_0x4c0971(0x14b)?(_0x5e4a86='QA\x20Warehouse',_0x409c72=[{'$match':{'status':_0x4c0971(0x15c),'warehouse_category':_0x366143,'name':{'$ne':_0x5e4a86}}},{'$group':{'_id':'$name','room_name':{'$first':'$name'}}},{'$sort':{'room_name':0x1}}]):_0x409c72=[{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x4c0971(0x140),'room_name':{'$first':_0x4c0971(0x140)}}},{'$sort':{'room_name':0x1}}];const _0x21d6ec=await warehouse[_0x4c0971(0x11d)](_0x409c72);_0x12c0b[_0x4c0971(0x10f)](0xc8)['json'](_0x21d6ec);}catch(_0x95cc9){_0x12c0b[_0x4c0971(0x10f)](0x190)[_0x4c0971(0x14d)]({'errorMessage':_0x95cc9[_0x4c0971(0x110)]}),console[_0x4c0971(0x11e)](_0x95cc9);}}),router[a0_0x44da22(0x121)](a0_0x44da22(0x142),async(_0x2497bb,_0x4269d2)=>{const _0x107859=a0_0x44da22;try{const {warehouse_name:_0x333f36,cat:_0x421317}=_0x2497bb['body'],_0x317561=await warehouse[_0x107859(0x11d)]([{'$match':{'status':'Enabled','warehouse_category':_0x421317,'name':_0x333f36}},{'$group':{'_id':_0x107859(0x146),'room_name':{'$first':_0x107859(0x146)}}},{'$sort':{'room_name':0x1}}]);_0x4269d2[_0x107859(0x10f)](0xc8)[_0x107859(0x14d)](_0x317561);}catch(_0x104a9e){_0x4269d2['status'](0x190)['json']({'errorMessage':_0x104a9e[_0x107859(0x110)]});}}),module[a0_0x44da22(0x135)]=router;