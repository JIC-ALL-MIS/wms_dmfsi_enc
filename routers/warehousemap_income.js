function a0_0x40de(_0x389f64,_0x38db8f){const _0x5cb7f0=a0_0x5cb7();return a0_0x40de=function(_0x40de23,_0x3567a9){_0x40de23=_0x40de23-0x68;let _0x19609d=_0x5cb7f0[_0x40de23];return _0x19609d;},a0_0x40de(_0x389f64,_0x38db8f);}const a0_0x92dd69=a0_0x40de;(function(_0x2de629,_0x45fdc2){const _0x1b972e=a0_0x40de,_0x4d8c95=_0x2de629();while(!![]){try{const _0x48005a=parseInt(_0x1b972e(0xa7))/0x1+-parseInt(_0x1b972e(0x7d))/0x2+-parseInt(_0x1b972e(0x7c))/0x3+parseInt(_0x1b972e(0x94))/0x4+-parseInt(_0x1b972e(0xa3))/0x5*(-parseInt(_0x1b972e(0x85))/0x6)+parseInt(_0x1b972e(0x88))/0x7+parseInt(_0x1b972e(0xb7))/0x8*(-parseInt(_0x1b972e(0xb1))/0x9);if(_0x48005a===_0x45fdc2)break;else _0x4d8c95['push'](_0x4d8c95['shift']());}catch(_0x24e5f6){_0x4d8c95['push'](_0x4d8c95['shift']());}}}(a0_0x5cb7,0x1a053));function a0_0x5cb7(){const _0x7d5296=['$product_details.product_name','user','$product_details.expiry_date','log','585600Pfstlb','body','/Rooms_data','express','Spanish','role','German','json','$_id.bay','Arabic','exports','$product_details.floorlevel','../models/all_models','find','English','7120BNKEzg','$name','$product_details','/MapData2','187238IabWxo','Enabled','/MapData','timezone','post','Portuguese','Chinese','Arabic\x20(ae)','Finished\x20Goods','success','921978gGfBfG','../middleware/auth','French','aggregate','$product_details.batch_code','product','24cMFcSf','message','$batch_code','English\x20(US)','pack','master','$product_details.bay','warehouse','$_id','$product_details.type','Rack\x20A','$production_date','$product_details.product_stock','Hindi','findOne','email','/view','toLocaleString','errors','$product_code','/Rooms_data3','384066rKGdID','110936TPXtGz','DRY\x20STORAGE','multer','language','$_id.floorlevel','$_id.type','$room','$_id.bin','246AwhxKX','../public/language/languages.json','Return\x20Goods','1437611wjdgQR','flash','raw','$$product.product_quantity','All','status','$_id.product','en-US'];a0_0x5cb7=function(){return _0x7d5296;};return a0_0x5cb7();}const express=require(a0_0x92dd69(0x97)),app=express(),router=express['Router'](),multer=require(a0_0x92dd69(0x7f)),{profile,master_shop,email_settings,warehouse,purchases,staff}=require(a0_0x92dd69(0xa0)),auth=require(a0_0x92dd69(0xb2));var timezones=require('timezones-list');const users=require(a0_0x92dd69(0x86));router['get'](a0_0x92dd69(0x77),auth,async(_0x468878,_0x4d5bad)=>{const _0x242b77=a0_0x92dd69;try{const {username:_0x195893,email:_0xf7671b,role:_0x265737}=_0x468878[_0x242b77(0x91)],_0x5227b8=_0x468878[_0x242b77(0x91)],_0x46de49=await profile[_0x242b77(0x75)]({'email':_0x5227b8[_0x242b77(0x76)]}),_0x4b9676=await master_shop[_0x242b77(0xa1)]();console[_0x242b77(0x93)](_0x242b77(0x6c),_0x4b9676);let _0x48a146;if(_0x5227b8[_0x242b77(0x99)]=='staff'){const _0x437a8c=await staff[_0x242b77(0x75)]({'email':_0x5227b8[_0x242b77(0x76)]});_0x48a146=await warehouse[_0x242b77(0xb4)]([{'$match':{'status':_0x242b77(0xa8),'name':_0x437a8c[_0x242b77(0x6e)]}},{'$group':{'_id':_0x242b77(0xa4),'name':{'$first':'$name'}}}]);}else _0x48a146=await warehouse[_0x242b77(0xb4)]([{'$match':{'status':_0x242b77(0xa8)}},{'$group':{'_id':_0x242b77(0xa4),'name':{'$first':_0x242b77(0xa4)}}}]);const _0x3f782e=new Date()[_0x242b77(0x78)](_0x242b77(0x8f),{'timeZone':_0x4b9676[0x0]['timezone']});console[_0x242b77(0x93)](_0x242b77(0xaa),_0x3f782e);if(_0x4b9676[0x0][_0x242b77(0x80)]==_0x242b77(0x6a)){var _0x1f2680=users[_0x242b77(0xa2)];console['log'](_0x1f2680);}else{if(_0x4b9676[0x0][_0x242b77(0x80)]==_0x242b77(0x74))var _0x1f2680=users[_0x242b77(0x74)];else{if(_0x4b9676[0x0]['language']==_0x242b77(0x9a))var _0x1f2680=users['German'];else{if(_0x4b9676[0x0][_0x242b77(0x80)]==_0x242b77(0x98))var _0x1f2680=users[_0x242b77(0x98)];else{if(_0x4b9676[0x0][_0x242b77(0x80)]==_0x242b77(0xb3))var _0x1f2680=users[_0x242b77(0xb3)];else{if(_0x4b9676[0x0][_0x242b77(0x80)]=='Portuguese\x20(BR)')var _0x1f2680=users[_0x242b77(0xac)];else{if(_0x4b9676[0x0][_0x242b77(0x80)]==_0x242b77(0xad))var _0x1f2680=users[_0x242b77(0xad)];else{if(_0x4b9676[0x0][_0x242b77(0x80)]==_0x242b77(0xae))var _0x1f2680=users[_0x242b77(0x9d)];}}}}}}}_0x4d5bad['render']('warehousemap_incoming',{'success':_0x468878[_0x242b77(0x89)](_0x242b77(0xb0)),'errors':_0x468878[_0x242b77(0x89)](_0x242b77(0x79)),'role':_0x5227b8,'profile':_0x46de49,'master_shop':_0x4b9676,'timezones':timezones,'language':_0x1f2680,'warehouse':_0x48a146});}catch(_0x467b10){console[_0x242b77(0x93)](_0x467b10),_0x4d5bad[_0x242b77(0x8d)](0xc8)['json']({'message':_0x467b10['message']});}}),router[a0_0x92dd69(0xab)](a0_0x92dd69(0xa9),async(_0x77ba3e,_0x32adde)=>{const _0x42032a=a0_0x92dd69,{warehouseNew:_0x43b086,rooms:_0x25a190,Type:_0x39dc1c}=_0x77ba3e['body'],_0x128eea=await warehouse[_0x42032a(0xb4)]([{'$unwind':_0x42032a(0xa5)},{'$match':{'name':_0x43b086,'room':_0x25a190,'product_details.type':_0x39dc1c}},{'$group':{'_id':{'bay':_0x42032a(0x6d),'bin':'$product_details.bin','type':_0x42032a(0x70),'floorlevel':_0x42032a(0x9f)},'products':{'$push':{'product_name':_0x42032a(0x90),'product_quantity':_0x42032a(0x73),'product_code':'$product_details.product_code'}},'totalQuantity':{'$sum':{'$cond':{'if':{'$gt':[_0x42032a(0x73),0x0]},'then':'$product_details.product_stock','else':0x0}}}}},{'$project':{'_id':0x0,'bay':'$_id.bay','bin':_0x42032a(0x84),'type':_0x42032a(0x82),'floorlevel':_0x42032a(0x81),'products':{'$filter':{'input':'$products','as':_0x42032a(0xb6),'cond':{'$gt':[_0x42032a(0x8b),0x0]}}},'totalQuantity':0x1}}]);_0x32adde['json'](_0x128eea);}),router[a0_0x92dd69(0xab)](a0_0x92dd69(0xa6),async(_0x4f706b,_0x36125a)=>{const _0x5707fa=a0_0x92dd69,{warehouseNew:_0x9e088d,rooms:_0x64c992,room_cat:_0x1789b3}=_0x4f706b['body'];let _0x459d9a;if(_0x1789b3==_0x5707fa(0x8c))_0x459d9a=await warehouse[_0x5707fa(0xb4)]([{'$unwind':'$product_details'},{'$match':{'name':_0x9e088d}},{'$group':{'_id':{'bay':_0x5707fa(0x6d),'product':'$product_details.product_name','expiry':_0x5707fa(0x92)},'count':{'$sum':_0x5707fa(0x73)},'production_date':{'$first':'$product_details.production_date'},'expiry_date':{'$first':_0x5707fa(0x92)},'batch_code':{'$first':_0x5707fa(0xb5)},'product_code':{'$first':'$product_details.product_code'}}},{'$group':{'_id':_0x5707fa(0x9c),'products':{'$push':{'product':_0x5707fa(0x8e),'quantity':'$count','production_date':_0x5707fa(0x72),'expiry_date':'$expiry_date','batch_code':_0x5707fa(0x69),'product_code':_0x5707fa(0x7a)}},'totalQuantity':{'$sum':'$count'}}},{'$match':{'totalQuantity':{'$gt':0x0}}},{'$project':{'_id':0x0,'bay':_0x5707fa(0x6f),'products':0x1,'totalQuantity':0x1}}]),console[_0x5707fa(0x93)](_0x1789b3);else{}_0x36125a[_0x5707fa(0x9b)](_0x459d9a);}),router[a0_0x92dd69(0xab)](a0_0x92dd69(0x96),async(_0x5e5d16,_0x3de21d)=>{const _0x3000b8=a0_0x92dd69;try{const {warehouse_name:_0x371ada,A:_0x2e016f,B:_0x42c306}=_0x5e5d16['body'];var _0x2ae314='';_0x2e016f==_0x3000b8(0x8a)?_0x42c306==_0x3000b8(0x6b)?_0x2ae314=[{'$match':{'name':_0x371ada,'status':'Enabled','room':_0x3000b8(0x71)}},{'$group':{'_id':_0x3000b8(0x6f),'room_name':{'$first':_0x3000b8(0x83)}}},{'$sort':{'room_name':0x1}}]:_0x2ae314=[{'$match':{'name':_0x371ada,'status':'Enabled'}},{'$group':{'_id':_0x3000b8(0x6f),'room_name':{'$first':_0x3000b8(0x83)}}},{'$sort':{'room_name':0x1}}]:_0x2ae314=[{'$match':{'name':_0x371ada,'status':_0x3000b8(0xa8)}},{'$group':{'_id':_0x3000b8(0x6f),'room_name':{'$first':_0x3000b8(0x83)}}},{'$sort':{'room_name':0x1}}];const _0x28a30d=await warehouse[_0x3000b8(0xb4)](_0x2ae314);_0x3de21d[_0x3000b8(0x8d)](0xc8)[_0x3000b8(0x9b)](_0x28a30d);}catch(_0x1f5aa4){_0x3de21d[_0x3000b8(0x8d)](0x190)[_0x3000b8(0x9b)]({'errorMessage':_0x1f5aa4[_0x3000b8(0x68)]});}}),router['post']('/Rooms_data2',async(_0x3faa70,_0x3b31cd)=>{const _0x5188d3=a0_0x92dd69;try{const {warehouse_name:_0x259769,cat:_0x34b1b3,valNew:_0x4ec0b7}=_0x3faa70[_0x5188d3(0x95)];var _0x49626a='',_0x40af5e='';if(_0x34b1b3=='Raw\x20Materials')_0x49626a=_0x5188d3(0x87),_0x4ec0b7=='pack'?_0x40af5e=[{'$match':{'status':_0x5188d3(0xa8),'warehouse_category':_0x34b1b3,'name':{'$ne':_0x49626a},'name':_0x5188d3(0x7e)}},{'$group':{'_id':_0x5188d3(0xa4),'room_name':{'$first':_0x5188d3(0xa4)}}},{'$sort':{'room_name':0x1}}]:_0x40af5e=[{'$match':{'status':'Enabled','warehouse_category':_0x34b1b3,'name':{'$ne':_0x49626a}}},{'$group':{'_id':_0x5188d3(0xa4),'room_name':{'$first':_0x5188d3(0xa4)}}},{'$sort':{'room_name':0x1}}];else _0x34b1b3==_0x5188d3(0xaf)?(_0x49626a='QA\x20Warehouse',_0x40af5e=[{'$match':{'status':'Enabled','warehouse_category':_0x34b1b3,'name':{'$ne':_0x49626a}}},{'$group':{'_id':_0x5188d3(0xa4),'room_name':{'$first':_0x5188d3(0xa4)}}},{'$sort':{'room_name':0x1}}]):_0x40af5e=[{'$match':{'status':_0x5188d3(0xa8)}},{'$group':{'_id':_0x5188d3(0xa4),'room_name':{'$first':_0x5188d3(0xa4)}}},{'$sort':{'room_name':0x1}}];const _0x1924f3=await warehouse['aggregate'](_0x40af5e);_0x3b31cd[_0x5188d3(0x8d)](0xc8)['json'](_0x1924f3);}catch(_0x2c0e98){_0x3b31cd[_0x5188d3(0x8d)](0x190)[_0x5188d3(0x9b)]({'errorMessage':_0x2c0e98[_0x5188d3(0x68)]}),console[_0x5188d3(0x93)](_0x2c0e98);}}),router[a0_0x92dd69(0xab)](a0_0x92dd69(0x7b),async(_0xca3a6f,_0x25a170)=>{const _0x4366af=a0_0x92dd69;try{const {warehouse_name:_0x53649d,cat:_0x24a320}=_0xca3a6f[_0x4366af(0x95)],_0x407d4c=await warehouse['aggregate']([{'$match':{'status':_0x4366af(0xa8),'warehouse_category':_0x24a320,'name':_0x53649d}},{'$group':{'_id':_0x4366af(0x83),'room_name':{'$first':_0x4366af(0x83)}}},{'$sort':{'room_name':0x1}}]);_0x25a170[_0x4366af(0x8d)](0xc8)['json'](_0x407d4c);}catch(_0x1cbe0d){_0x25a170['status'](0x190)[_0x4366af(0x9b)]({'errorMessage':_0x1cbe0d[_0x4366af(0x68)]});}}),module[a0_0x92dd69(0x9e)]=router;