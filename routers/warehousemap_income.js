function a0_0x2963(){const _0x275960=['flash','findOne','$_id.bay','success','log','$_id.type','387BHHhGl','$product_details_spmx.extenders_spmx_qty','DRY\x20STORAGE','../models/all_models','$name','Hindi','$batch_code','8LLVXnn','$product_details_spmx','Arabic\x20(ae)','$product_details_spmx.spicemix_spmx','post','$product_details_spmx.category_spmx','$$product.product_quantity','Portuguese','$product_details.type','$_id','email','Chinese','timezone','$product_details.expiry_date','Return\x20Goods','4239736IEuvQe','json','SPMX','user','105978RMBHPw','/MapData2','$product_details.bay','../middleware/auth','Rack\x20A','message','$product_details_spmx.spicemix_spmx_qty','233420jxIRza','2115490xetHQt','aggregate','$product_details_spmx.product_code','Router','French','German','status','product','$_id.floorlevel','$count','$product_details.floorlevel','$product_details.product_stock','multer','$product_details','Portuguese\x20(BR)','2549344jdlYip','timezones-list','/Rooms_data','$room','raw','/MapData','Enabled','pack','$product_details.production_date','find','exports','body','staff','role','$product_details_spmx.extenders_spmx','language','$product_details.product_name','warehousemap_incoming','384792MlaKXA','$_id.product','$product_details_spmx.curing_spmx_qty','$product_details.batch_code','$expiry_date','1522800WvnPPM','English\x20(US)','6MuBkEh','Spanish','$production_date','/view','$_id.bin','$product_details.product_code','/Rooms_data2','en-US'];a0_0x2963=function(){return _0x275960;};return a0_0x2963();}const a0_0x4b15db=a0_0x382f;(function(_0x32e8ae,_0x45296e){const _0x492933=a0_0x382f,_0x509ecb=_0x32e8ae();while(!![]){try{const _0x4abbef=parseInt(_0x492933(0x96))/0x1+parseInt(_0x492933(0xb2))/0x2*(-parseInt(_0x492933(0xc5))/0x3)+parseInt(_0x492933(0x9b))/0x4+-parseInt(_0x492933(0xcd))/0x5*(parseInt(_0x492933(0x9d))/0x6)+-parseInt(_0x492933(0xdc))/0x7+-parseInt(_0x492933(0xc1))/0x8+-parseInt(_0x492933(0xab))/0x9*(-parseInt(_0x492933(0xcc))/0xa);if(_0x4abbef===_0x45296e)break;else _0x509ecb['push'](_0x509ecb['shift']());}catch(_0x59c063){_0x509ecb['push'](_0x509ecb['shift']());}}}(a0_0x2963,0x4bd6d));const express=require('express'),app=express(),router=express[a0_0x4b15db(0xd0)](),multer=require(a0_0x4b15db(0xd9)),{profile,master_shop,email_settings,warehouse,purchases,staff}=require(a0_0x4b15db(0xae)),auth=require(a0_0x4b15db(0xc8));var timezones=require(a0_0x4b15db(0xdd));const users=require('../public/language/languages.json');function a0_0x382f(_0x54199a,_0xcba084){const _0x2963b4=a0_0x2963();return a0_0x382f=function(_0x382fcc,_0xa982b2){_0x382fcc=_0x382fcc-0x94;let _0x18fc2a=_0x2963b4[_0x382fcc];return _0x18fc2a;},a0_0x382f(_0x54199a,_0xcba084);}router['get'](a0_0x4b15db(0xa0),auth,async(_0x35e710,_0x51f9bd)=>{const _0x351bb3=a0_0x4b15db;try{const {username:_0x32cfdf,email:_0x383789,role:_0x247336}=_0x35e710['user'],_0x1a4dc5=_0x35e710[_0x351bb3(0xc4)],_0x477894=await profile[_0x351bb3(0xa6)]({'email':_0x1a4dc5[_0x351bb3(0xbc)]}),_0xb212c8=await master_shop[_0x351bb3(0xe5)]();let _0x1617c6;if(_0x1a4dc5[_0x351bb3(0xe9)]==_0x351bb3(0xe8)){const _0x1549a4=await staff['findOne']({'email':_0x1a4dc5[_0x351bb3(0xbc)]});_0x1617c6=await warehouse[_0x351bb3(0xce)]([{'$match':{'status':_0x351bb3(0xe2),'name':_0x1549a4['warehouse']}},{'$group':{'_id':_0x351bb3(0xaf),'name':{'$first':_0x351bb3(0xaf)}}}]);}else _0x1617c6=await warehouse[_0x351bb3(0xce)]([{'$match':{'status':_0x351bb3(0xe2)}},{'$group':{'_id':_0x351bb3(0xaf),'name':{'$first':'$name'}}}]);const _0x4df7d5=new Date()['toLocaleString'](_0x351bb3(0xa4),{'timeZone':_0xb212c8[0x0][_0x351bb3(0xbe)]});if(_0xb212c8[0x0][_0x351bb3(0xeb)]==_0x351bb3(0x9c))var _0x4d6cbe=users['English'];else{if(_0xb212c8[0x0][_0x351bb3(0xeb)]==_0x351bb3(0xb0))var _0x4d6cbe=users['Hindi'];else{if(_0xb212c8[0x0][_0x351bb3(0xeb)]==_0x351bb3(0xd2))var _0x4d6cbe=users[_0x351bb3(0xd2)];else{if(_0xb212c8[0x0][_0x351bb3(0xeb)]==_0x351bb3(0x9e))var _0x4d6cbe=users[_0x351bb3(0x9e)];else{if(_0xb212c8[0x0]['language']==_0x351bb3(0xd1))var _0x4d6cbe=users['French'];else{if(_0xb212c8[0x0][_0x351bb3(0xeb)]==_0x351bb3(0xdb))var _0x4d6cbe=users[_0x351bb3(0xb9)];else{if(_0xb212c8[0x0]['language']==_0x351bb3(0xbd))var _0x4d6cbe=users[_0x351bb3(0xbd)];else{if(_0xb212c8[0x0][_0x351bb3(0xeb)]==_0x351bb3(0xb4))var _0x4d6cbe=users['Arabic'];}}}}}}}_0x51f9bd['render'](_0x351bb3(0x95),{'success':_0x35e710[_0x351bb3(0xa5)](_0x351bb3(0xa8)),'errors':_0x35e710[_0x351bb3(0xa5)]('errors'),'role':_0x1a4dc5,'profile':_0x477894,'master_shop':_0xb212c8,'timezones':timezones,'language':_0x4d6cbe,'warehouse':_0x1617c6});}catch(_0x2e14e7){console['log'](_0x2e14e7),_0x51f9bd[_0x351bb3(0xd3)](0xc8)[_0x351bb3(0xc2)]({'message':_0x2e14e7[_0x351bb3(0xca)]});}}),router[a0_0x4b15db(0xb6)](a0_0x4b15db(0xe1),async(_0x1eac59,_0xb1c373)=>{const _0x1f2fbe=a0_0x4b15db,{warehouseNew:_0x561b6b,rooms:_0x410ff8,Type:_0x1e5b16}=_0x1eac59[_0x1f2fbe(0xe7)],_0x4ba156=await warehouse[_0x1f2fbe(0xce)]([{'$unwind':_0x1f2fbe(0xda)},{'$match':{'name':_0x561b6b,'room':_0x410ff8,'product_details.type':_0x1e5b16}},{'$group':{'_id':{'bay':'$product_details.bay','bin':'$product_details.bin','type':_0x1f2fbe(0xba),'floorlevel':_0x1f2fbe(0xd7)},'products':{'$push':{'product_name':'$product_details.product_name','product_quantity':_0x1f2fbe(0xd8),'product_code':_0x1f2fbe(0xa2)}},'totalQuantity':{'$sum':{'$cond':{'if':{'$gt':[_0x1f2fbe(0xd8),0x0]},'then':_0x1f2fbe(0xd8),'else':0x0}}}}},{'$project':{'_id':0x0,'bay':'$_id.bay','bin':_0x1f2fbe(0xa1),'type':_0x1f2fbe(0xaa),'floorlevel':_0x1f2fbe(0xd5),'products':{'$filter':{'input':'$products','as':_0x1f2fbe(0xd4),'cond':{'$gt':[_0x1f2fbe(0xb8),0x0]}}},'totalQuantity':0x1}}]);_0xb1c373['json'](_0x4ba156);}),router[a0_0x4b15db(0xb6)](a0_0x4b15db(0xc6),async(_0x513e5e,_0x34c56c)=>{const _0x4cb95d=a0_0x4b15db,{warehouseNew:_0x3ebfc4,rooms:_0xa1ba6b,room_cat:_0x365cab,process_cat:_0x96b9b8}=_0x513e5e['body'];let _0x399997;if(_0x365cab=='All')_0x96b9b8==_0x4cb95d(0xc3)?_0x399997=await warehouse['aggregate']([{'$unwind':_0x4cb95d(0xb3)},{'$match':{'name':_0x3ebfc4}},{'$group':{'_id':_0x4cb95d(0xcf),'spicemix_spmx':{'$first':_0x4cb95d(0xb5)},'extenders_spmx':{'$first':_0x4cb95d(0xea)},'curing_spmx':{'$first':'$product_details_spmx.curing_spmx'},'spicemix_spmx_qty':{'$sum':_0x4cb95d(0xcb)},'extenders_spmx_qty':{'$sum':_0x4cb95d(0xac)},'curing_spmx_qty':{'$sum':_0x4cb95d(0x98)},'unit_spmx':{'$first':'$product_details_spmx.unit_spmx'},'brand_spmx':{'$first':'$product_details_spmx.brand_spmx'},'category_spmx':{'$first':_0x4cb95d(0xb7)}}}]):_0x399997=await warehouse[_0x4cb95d(0xce)]([{'$unwind':_0x4cb95d(0xda)},{'$match':{'name':_0x3ebfc4,'product_details.product_stock':{'$gt':0x0}}},{'$group':{'_id':{'bay':_0x4cb95d(0xc7),'product':_0x4cb95d(0x94),'expiry':_0x4cb95d(0xbf)},'count':{'$sum':_0x4cb95d(0xd8)},'production_date':{'$first':_0x4cb95d(0xe4)},'expiry_date':{'$first':'$product_details.expiry_date'},'batch_code':{'$first':_0x4cb95d(0x99)},'product_code':{'$first':'$product_details.product_code'}}},{'$group':{'_id':_0x4cb95d(0xa7),'products':{'$push':{'product':_0x4cb95d(0x97),'quantity':_0x4cb95d(0xd6),'production_date':_0x4cb95d(0x9f),'expiry_date':_0x4cb95d(0x9a),'batch_code':_0x4cb95d(0xb1),'product_code':'$product_code'}},'totalQuantity':{'$sum':_0x4cb95d(0xd6)}}},{'$match':{'totalQuantity':{'$gt':0x0}}},{'$project':{'_id':0x0,'bay':_0x4cb95d(0xbb),'products':0x1,'totalQuantity':0x1}}]),console[_0x4cb95d(0xa9)](_0x365cab);else{}console['log'](_0x399997),_0x34c56c[_0x4cb95d(0xc2)](_0x399997);}),router[a0_0x4b15db(0xb6)](a0_0x4b15db(0xde),async(_0x591a5a,_0x503b46)=>{const _0x2bdf1f=a0_0x4b15db;try{const {warehouse_name:_0xc9fc54,A:_0x154650,B:_0x4bbb9c}=_0x591a5a[_0x2bdf1f(0xe7)];var _0x5775ae='';_0x154650==_0x2bdf1f(0xe0)?_0x4bbb9c==_0x2bdf1f(0xe3)?_0x5775ae=[{'$match':{'name':_0xc9fc54,'status':_0x2bdf1f(0xe2),'room':_0x2bdf1f(0xc9)}},{'$group':{'_id':_0x2bdf1f(0xbb),'room_name':{'$first':_0x2bdf1f(0xdf)}}},{'$sort':{'room_name':0x1}}]:_0x5775ae=[{'$match':{'name':_0xc9fc54,'status':_0x2bdf1f(0xe2)}},{'$group':{'_id':'$_id','room_name':{'$first':_0x2bdf1f(0xdf)}}},{'$sort':{'room_name':0x1}}]:_0x5775ae=[{'$match':{'name':_0xc9fc54,'status':'Enabled'}},{'$group':{'_id':_0x2bdf1f(0xbb),'room_name':{'$first':_0x2bdf1f(0xdf)}}},{'$sort':{'room_name':0x1}}];const _0x1029b8=await warehouse[_0x2bdf1f(0xce)](_0x5775ae);_0x503b46[_0x2bdf1f(0xd3)](0xc8)[_0x2bdf1f(0xc2)](_0x1029b8);}catch(_0x52ff8f){_0x503b46[_0x2bdf1f(0xd3)](0x190)[_0x2bdf1f(0xc2)]({'errorMessage':_0x52ff8f[_0x2bdf1f(0xca)]});}}),router[a0_0x4b15db(0xb6)](a0_0x4b15db(0xa3),async(_0x44a809,_0x1a5baa)=>{const _0x188c88=a0_0x4b15db;try{const {warehouse_name:_0x360484,cat:_0x1aa37f,valNew:_0x118ea8}=_0x44a809[_0x188c88(0xe7)];console[_0x188c88(0xa9)](_0x44a809[_0x188c88(0xe7)]);var _0x3849c3='',_0xe24f18='';if(_0x1aa37f=='Raw\x20Materials')_0x3849c3=_0x188c88(0xc0),_0x118ea8==_0x188c88(0xe3)?_0xe24f18=[{'$match':{'status':_0x188c88(0xe2),'warehouse_category':_0x1aa37f,'name':{'$ne':_0x3849c3},'name':_0x188c88(0xad)}},{'$group':{'_id':_0x188c88(0xaf),'room_name':{'$first':'$name'}}},{'$sort':{'room_name':0x1}}]:_0xe24f18=[{'$match':{'status':_0x188c88(0xe2),'warehouse_category':_0x1aa37f,'name':{'$ne':_0x3849c3}}},{'$group':{'_id':_0x188c88(0xaf),'room_name':{'$first':_0x188c88(0xaf)}}},{'$sort':{'room_name':0x1}}];else{if(_0x1aa37f=='Finished\x20Goods')_0x3849c3='QA\x20Warehouse',_0xe24f18=[{'$match':{'status':_0x188c88(0xe2),'warehouse_category':_0x1aa37f,'name':{'$ne':_0x3849c3}}},{'$group':{'_id':_0x188c88(0xaf),'room_name':{'$first':'$name'}}},{'$sort':{'room_name':0x1}}];else _0x1aa37f==_0x188c88(0xc3)?_0xe24f18=[{'$match':{'status':_0x188c88(0xe2),'warehouse_category':_0x1aa37f,'name':{'$ne':_0x3849c3}}},{'$group':{'_id':_0x188c88(0xaf),'room_name':{'$first':_0x188c88(0xaf)}}},{'$sort':{'room_name':0x1}}]:_0xe24f18=[{'$match':{'status':_0x188c88(0xe2)}},{'$group':{'_id':_0x188c88(0xaf),'room_name':{'$first':'$name'}}},{'$sort':{'room_name':0x1}}];}const _0x260ea=await warehouse[_0x188c88(0xce)](_0xe24f18);_0x1a5baa[_0x188c88(0xd3)](0xc8)[_0x188c88(0xc2)](_0x260ea);}catch(_0x488619){_0x1a5baa['status'](0x190)['json']({'errorMessage':_0x488619['message']}),console[_0x188c88(0xa9)](_0x488619);}}),router['post']('/Rooms_data3',async(_0x5541d3,_0x56a642)=>{const _0x41562d=a0_0x4b15db;try{const {warehouse_name:_0xa37ff4,cat:_0x372762}=_0x5541d3[_0x41562d(0xe7)],_0x5a606d=await warehouse[_0x41562d(0xce)]([{'$match':{'status':_0x41562d(0xe2),'warehouse_category':_0x372762,'name':_0xa37ff4}},{'$group':{'_id':'$room','room_name':{'$first':'$room'}}},{'$sort':{'room_name':0x1}}]);_0x56a642['status'](0xc8)[_0x41562d(0xc2)](_0x5a606d);}catch(_0x2285d5){_0x56a642[_0x41562d(0xd3)](0x190)[_0x41562d(0xc2)]({'errorMessage':_0x2285d5[_0x41562d(0xca)]});}}),module[a0_0x4b15db(0xe6)]=router;