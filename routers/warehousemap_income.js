function a0_0x300f(){const _0x359574=['../middleware/auth','exports','Portuguese\x20(BR)','42UpNFso','Spanish','$products','English\x20(US)','French','Arabic','/MapData2','../models/all_models','errors','$product_details.product_name','$product_details','$_id','$product_details.product_code','17740qVwbIz','$production_date','express','warehousemap_incoming','success','Rack\x20A','timezones-list','Finished\x20Goods','$name','Return\x20Goods','1059fJflKy','473446IvkAVw','findOne','en-US','262700JIMMYO','Raw\x20Materials','English','$_id.bin','/Rooms_data','DRY\x20STORAGE','get','1698129ZMEJHD','/view','raw','$product_details.batch_code','Hindi','$room','$product_details.expiry_date','/MapData','log','$count','multer','$product_details.bay','Enabled','13704104GyVmPm','$product_details.product_stock','language','Arabic\x20(ae)','message','$$product.product_quantity','post','json','$_id.product','8595yjwxMm','$product_details.bin','QA\x20Warehouse','staff','$product_code','product','../public/language/languages.json','/Rooms_data3','German','7370216EpSumv','find','pack','3850onECgK','timezone','$_id.floorlevel','status','Chinese','$product_details.floorlevel','email','$product_details.type','body','render','aggregate'];a0_0x300f=function(){return _0x359574;};return a0_0x300f();}const a0_0x2b6a19=a0_0x1de4;(function(_0x56113d,_0xda27f){const _0x4422fd=a0_0x1de4,_0x22fce4=_0x56113d();while(!![]){try{const _0x182c66=parseInt(_0x4422fd(0x11e))/0x1+-parseInt(_0x4422fd(0x114))/0x2+parseInt(_0x4422fd(0x113))/0x3*(parseInt(_0x4422fd(0x109))/0x4)+parseInt(_0x4422fd(0x117))/0x5*(parseInt(_0x4422fd(0xfc))/0x6)+-parseInt(_0x4422fd(0xeb))/0x7+-parseInt(_0x4422fd(0x12b))/0x8+-parseInt(_0x4422fd(0xe2))/0x9*(-parseInt(_0x4422fd(0xee))/0xa);if(_0x182c66===_0xda27f)break;else _0x22fce4['push'](_0x22fce4['shift']());}catch(_0x24464f){_0x22fce4['push'](_0x22fce4['shift']());}}}(a0_0x300f,0xf34a3));const express=require(a0_0x2b6a19(0x10b)),app=express(),router=express['Router'](),multer=require(a0_0x2b6a19(0x128)),{profile,master_shop,email_settings,warehouse,purchases,staff}=require(a0_0x2b6a19(0x103)),auth=require(a0_0x2b6a19(0xf9));var timezones=require(a0_0x2b6a19(0x10f));function a0_0x1de4(_0x23029b,_0x106116){const _0x300f45=a0_0x300f();return a0_0x1de4=function(_0x1de4ac,_0x2c265e){_0x1de4ac=_0x1de4ac-0xe0;let _0x4dba77=_0x300f45[_0x1de4ac];return _0x4dba77;},a0_0x1de4(_0x23029b,_0x106116);}const users=require(a0_0x2b6a19(0xe8));router[a0_0x2b6a19(0x11d)](a0_0x2b6a19(0x11f),auth,async(_0x5944a2,_0x336a23)=>{const _0x16ee9e=a0_0x2b6a19;try{const {username:_0x48093b,email:_0x23d798,role:_0x52d07a}=_0x5944a2['user'],_0x577da4=_0x5944a2['user'],_0x386d9e=await profile[_0x16ee9e(0x115)]({'email':_0x577da4[_0x16ee9e(0xf4)]}),_0x375764=await master_shop[_0x16ee9e(0xec)]();console[_0x16ee9e(0x126)]('master',_0x375764);let _0x424eff;if(_0x577da4['role']==_0x16ee9e(0xe5)){const _0x3b012c=await staff[_0x16ee9e(0x115)]({'email':_0x577da4[_0x16ee9e(0xf4)]});_0x424eff=await warehouse[_0x16ee9e(0xf8)]([{'$match':{'status':_0x16ee9e(0x12a),'name':_0x3b012c['warehouse']}},{'$group':{'_id':_0x16ee9e(0x111),'name':{'$first':'$name'}}}]);}else _0x424eff=await warehouse[_0x16ee9e(0xf8)]([{'$match':{'status':_0x16ee9e(0x12a)}},{'$group':{'_id':'$name','name':{'$first':_0x16ee9e(0x111)}}}]);const _0x333889=new Date()['toLocaleString'](_0x16ee9e(0x116),{'timeZone':_0x375764[0x0][_0x16ee9e(0xef)]});console[_0x16ee9e(0x126)](_0x16ee9e(0xef),_0x333889);if(_0x375764[0x0][_0x16ee9e(0x12d)]==_0x16ee9e(0xff)){var _0x1cc923=users[_0x16ee9e(0x119)];console[_0x16ee9e(0x126)](_0x1cc923);}else{if(_0x375764[0x0][_0x16ee9e(0x12d)]==_0x16ee9e(0x122))var _0x1cc923=users[_0x16ee9e(0x122)];else{if(_0x375764[0x0][_0x16ee9e(0x12d)]==_0x16ee9e(0xea))var _0x1cc923=users[_0x16ee9e(0xea)];else{if(_0x375764[0x0][_0x16ee9e(0x12d)]==_0x16ee9e(0xfd))var _0x1cc923=users[_0x16ee9e(0xfd)];else{if(_0x375764[0x0][_0x16ee9e(0x12d)]==_0x16ee9e(0x100))var _0x1cc923=users['French'];else{if(_0x375764[0x0][_0x16ee9e(0x12d)]==_0x16ee9e(0xfb))var _0x1cc923=users['Portuguese'];else{if(_0x375764[0x0]['language']==_0x16ee9e(0xf2))var _0x1cc923=users[_0x16ee9e(0xf2)];else{if(_0x375764[0x0][_0x16ee9e(0x12d)]==_0x16ee9e(0x12e))var _0x1cc923=users[_0x16ee9e(0x101)];}}}}}}}_0x336a23[_0x16ee9e(0xf7)](_0x16ee9e(0x10c),{'success':_0x5944a2['flash'](_0x16ee9e(0x10d)),'errors':_0x5944a2['flash'](_0x16ee9e(0x104)),'role':_0x577da4,'profile':_0x386d9e,'master_shop':_0x375764,'timezones':timezones,'language':_0x1cc923,'warehouse':_0x424eff});}catch(_0x2daf17){console[_0x16ee9e(0x126)](_0x2daf17),_0x336a23[_0x16ee9e(0xf1)](0xc8)['json']({'message':_0x2daf17[_0x16ee9e(0x12f)]});}}),router['post'](a0_0x2b6a19(0x125),async(_0x2bff7f,_0x4f6d65)=>{const _0x2d6b52=a0_0x2b6a19,{warehouseNew:_0x1a4ceb,rooms:_0x5f0f24,Type:_0x36aafb}=_0x2bff7f[_0x2d6b52(0xf6)],_0x3fcde7=await warehouse['aggregate']([{'$unwind':_0x2d6b52(0x106)},{'$match':{'name':_0x1a4ceb,'room':_0x5f0f24,'product_details.type':_0x36aafb}},{'$group':{'_id':{'bay':_0x2d6b52(0x129),'bin':_0x2d6b52(0xe3),'type':_0x2d6b52(0xf5),'floorlevel':_0x2d6b52(0xf3)},'products':{'$push':{'product_name':_0x2d6b52(0x105),'product_quantity':_0x2d6b52(0x12c),'product_code':_0x2d6b52(0x108)}},'totalQuantity':{'$sum':{'$cond':{'if':{'$gt':[_0x2d6b52(0x12c),0x0]},'then':_0x2d6b52(0x12c),'else':0x0}}}}},{'$project':{'_id':0x0,'bay':'$_id.bay','bin':_0x2d6b52(0x11a),'type':'$_id.type','floorlevel':_0x2d6b52(0xf0),'products':{'$filter':{'input':_0x2d6b52(0xfe),'as':_0x2d6b52(0xe7),'cond':{'$gt':[_0x2d6b52(0x130),0x0]}}},'totalQuantity':0x1}}]);_0x4f6d65['json'](_0x3fcde7);}),router['post'](a0_0x2b6a19(0x102),async(_0xa4515a,_0x27e89d)=>{const _0x51aa3d=a0_0x2b6a19,{warehouseNew:_0x16c3bd,rooms:_0x3e6db7,room_cat:_0x336551}=_0xa4515a[_0x51aa3d(0xf6)];let _0x3ffc56;if(_0x336551=='All')_0x3ffc56=await warehouse[_0x51aa3d(0xf8)]([{'$unwind':'$product_details'},{'$match':{'name':_0x16c3bd}},{'$group':{'_id':{'bay':_0x51aa3d(0x129),'product':'$product_details.product_name','expiry':_0x51aa3d(0x124)},'count':{'$sum':_0x51aa3d(0x12c)},'production_date':{'$first':'$product_details.production_date'},'expiry_date':{'$first':_0x51aa3d(0x124)},'batch_code':{'$first':_0x51aa3d(0x121)},'product_code':{'$first':_0x51aa3d(0x108)}}},{'$group':{'_id':'$_id.bay','products':{'$push':{'product':_0x51aa3d(0xe1),'quantity':_0x51aa3d(0x127),'production_date':_0x51aa3d(0x10a),'expiry_date':'$expiry_date','batch_code':'$batch_code','product_code':_0x51aa3d(0xe6)}},'totalQuantity':{'$sum':_0x51aa3d(0x127)}}},{'$match':{'totalQuantity':{'$gt':0x0}}},{'$project':{'_id':0x0,'bay':'$_id','products':0x1,'totalQuantity':0x1}}]),console['log'](_0x336551);else{}_0x27e89d['json'](_0x3ffc56);}),router['post'](a0_0x2b6a19(0x11b),async(_0x150603,_0x38b08c)=>{const _0x52edf1=a0_0x2b6a19;try{const {warehouse_name:_0xbe6069,A:_0x562a74,B:_0x54cb3f}=_0x150603[_0x52edf1(0xf6)];var _0x3b52da='';_0x562a74==_0x52edf1(0x120)?_0x54cb3f==_0x52edf1(0xed)?_0x3b52da=[{'$match':{'name':_0xbe6069,'status':_0x52edf1(0x12a),'room':_0x52edf1(0x10e)}},{'$group':{'_id':_0x52edf1(0x107),'room_name':{'$first':_0x52edf1(0x123)}}},{'$sort':{'room_name':0x1}}]:_0x3b52da=[{'$match':{'name':_0xbe6069,'status':_0x52edf1(0x12a)}},{'$group':{'_id':'$_id','room_name':{'$first':'$room'}}},{'$sort':{'room_name':0x1}}]:_0x3b52da=[{'$match':{'name':_0xbe6069,'status':_0x52edf1(0x12a)}},{'$group':{'_id':'$_id','room_name':{'$first':_0x52edf1(0x123)}}},{'$sort':{'room_name':0x1}}];const _0x3d664c=await warehouse[_0x52edf1(0xf8)](_0x3b52da);_0x38b08c[_0x52edf1(0xf1)](0xc8)[_0x52edf1(0xe0)](_0x3d664c);}catch(_0x4426f6){_0x38b08c[_0x52edf1(0xf1)](0x190)['json']({'errorMessage':_0x4426f6['message']});}}),router[a0_0x2b6a19(0x131)]('/Rooms_data2',async(_0x4a4527,_0x40f39b)=>{const _0x5bc2fc=a0_0x2b6a19;try{const {warehouse_name:_0x56a2de,cat:_0x109ee1,valNew:_0x145bd7}=_0x4a4527['body'];var _0x209165='',_0x27db30='';if(_0x109ee1==_0x5bc2fc(0x118))_0x209165=_0x5bc2fc(0x112),_0x145bd7==_0x5bc2fc(0xed)?_0x27db30=[{'$match':{'status':_0x5bc2fc(0x12a),'warehouse_category':_0x109ee1,'name':{'$ne':_0x209165},'name':_0x5bc2fc(0x11c)}},{'$group':{'_id':_0x5bc2fc(0x111),'room_name':{'$first':_0x5bc2fc(0x111)}}},{'$sort':{'room_name':0x1}}]:_0x27db30=[{'$match':{'status':_0x5bc2fc(0x12a),'warehouse_category':_0x109ee1,'name':{'$ne':_0x209165}}},{'$group':{'_id':'$name','room_name':{'$first':_0x5bc2fc(0x111)}}},{'$sort':{'room_name':0x1}}];else _0x109ee1==_0x5bc2fc(0x110)?(_0x209165=_0x5bc2fc(0xe4),_0x27db30=[{'$match':{'status':_0x5bc2fc(0x12a),'warehouse_category':_0x109ee1,'name':{'$ne':_0x209165}}},{'$group':{'_id':_0x5bc2fc(0x111),'room_name':{'$first':'$name'}}},{'$sort':{'room_name':0x1}}]):_0x27db30=[{'$match':{'status':'Enabled'}},{'$group':{'_id':_0x5bc2fc(0x111),'room_name':{'$first':_0x5bc2fc(0x111)}}},{'$sort':{'room_name':0x1}}];const _0x549326=await warehouse[_0x5bc2fc(0xf8)](_0x27db30);_0x40f39b[_0x5bc2fc(0xf1)](0xc8)[_0x5bc2fc(0xe0)](_0x549326);}catch(_0xb5471a){_0x40f39b[_0x5bc2fc(0xf1)](0x190)[_0x5bc2fc(0xe0)]({'errorMessage':_0xb5471a[_0x5bc2fc(0x12f)]}),console[_0x5bc2fc(0x126)](_0xb5471a);}}),router[a0_0x2b6a19(0x131)](a0_0x2b6a19(0xe9),async(_0x400a73,_0x47a419)=>{const _0x1a30d8=a0_0x2b6a19;try{const {warehouse_name:_0x404d42,cat:_0x51c6ab}=_0x400a73['body'],_0x3df92a=await warehouse[_0x1a30d8(0xf8)]([{'$match':{'status':_0x1a30d8(0x12a),'warehouse_category':_0x51c6ab,'name':_0x404d42}},{'$group':{'_id':_0x1a30d8(0x123),'room_name':{'$first':_0x1a30d8(0x123)}}},{'$sort':{'room_name':0x1}}]);_0x47a419['status'](0xc8)[_0x1a30d8(0xe0)](_0x3df92a);}catch(_0x2f29a1){_0x47a419[_0x1a30d8(0xf1)](0x190)[_0x1a30d8(0xe0)]({'errorMessage':_0x2f29a1[_0x1a30d8(0x12f)]});}}),module[a0_0x2b6a19(0xfa)]=router;