function a0_0xeb9f(){const _0xfca25d=['product','status','warehousemap_incoming','$product_details.type','179225mqYLbE','$count','$production_date','success','/Rooms_data','message','3476868OoTDAF','$room','/MapData','$product_details.product_stock','email','English\x20(US)','body','Enabled','$products','9dZrQtX','log','Spanish','Finished\x20Goods','timezone','$product_details.product_code','../public/language/languages.json','$_id.bin','Portuguese\x20(BR)','$_id','language','$product_details.batch_code','Return\x20Goods','8DzYWWS','$_id.bay','post','get','express','English','$product_details.expiry_date','/Rooms_data2','$product_details.bin','German','$_id.product','4188765kVDWjO','110904qdnCZB','$name','$$product.product_quantity','warehouse','1174796sajhKw','55hriikX','role','raw','aggregate','3270290ISXhWo','Arabic\x20(ae)','Hindi','DRY\x20STORAGE','/MapData2','$expiry_date','$product_details.bay','/view','/Rooms_data3','French','8483808mIvvYb','QA\x20Warehouse','$batch_code','toLocaleString','$_id.floorlevel','en-US','Rack\x20A','findOne','Portuguese','../middleware/auth','json','find','$product_code','multer','$product_details','Chinese','pack','flash','exports','$product_details.production_date'];a0_0xeb9f=function(){return _0xfca25d;};return a0_0xeb9f();}const a0_0x24d39e=a0_0x2f53;(function(_0x2dcfc9,_0x2e8534){const _0xf76355=a0_0x2f53,_0x3499df=_0x2dcfc9();while(!![]){try{const _0x533ea1=-parseInt(_0xf76355(0x194))/0x1*(parseInt(_0xf76355(0x1b0))/0x2)+-parseInt(_0xf76355(0x19a))/0x3+parseInt(_0xf76355(0x1c0))/0x4+-parseInt(_0xf76355(0x1c1))/0x5*(-parseInt(_0xf76355(0x1bc))/0x6)+parseInt(_0xf76355(0x1bb))/0x7+parseInt(_0xf76355(0x17c))/0x8+parseInt(_0xf76355(0x1a3))/0x9*(parseInt(_0xf76355(0x1c5))/0xa);if(_0x533ea1===_0x2e8534)break;else _0x3499df['push'](_0x3499df['shift']());}catch(_0x55cbd3){_0x3499df['push'](_0x3499df['shift']());}}}(a0_0xeb9f,0x9435b));const express=require(a0_0x24d39e(0x1b4)),app=express(),router=express['Router'](),multer=require(a0_0x24d39e(0x189)),{profile,master_shop,email_settings,warehouse,purchases,staff}=require('../models/all_models'),auth=require(a0_0x24d39e(0x185));function a0_0x2f53(_0x34aa3a,_0x491cba){const _0xeb9f9d=a0_0xeb9f();return a0_0x2f53=function(_0x2f5336,_0x520b8b){_0x2f5336=_0x2f5336-0x17a;let _0x27b5f5=_0xeb9f9d[_0x2f5336];return _0x27b5f5;},a0_0x2f53(_0x34aa3a,_0x491cba);}var timezones=require('timezones-list');const users=require(a0_0x24d39e(0x1a9));router[a0_0x24d39e(0x1b3)](a0_0x24d39e(0x1cc),auth,async(_0x39d45b,_0x22363b)=>{const _0x11035d=a0_0x24d39e;try{const {username:_0x573763,email:_0x3676a5,role:_0x3717b4}=_0x39d45b['user'],_0x551371=_0x39d45b['user'],_0x4540df=await profile['findOne']({'email':_0x551371[_0x11035d(0x19e)]}),_0x4be990=await master_shop[_0x11035d(0x187)]();console[_0x11035d(0x1a4)]('master',_0x4be990);let _0x4bc870;if(_0x551371[_0x11035d(0x1c2)]=='staff'){const _0x1cba3e=await staff[_0x11035d(0x183)]({'email':_0x551371['email']});_0x4bc870=await warehouse[_0x11035d(0x1c4)]([{'$match':{'status':'Enabled','name':_0x1cba3e[_0x11035d(0x1bf)]}},{'$group':{'_id':_0x11035d(0x1bd),'name':{'$first':_0x11035d(0x1bd)}}}]);}else _0x4bc870=await warehouse[_0x11035d(0x1c4)]([{'$match':{'status':_0x11035d(0x1a1)}},{'$group':{'_id':_0x11035d(0x1bd),'name':{'$first':_0x11035d(0x1bd)}}}]);const _0x2905cb=new Date()[_0x11035d(0x17f)](_0x11035d(0x181),{'timeZone':_0x4be990[0x0][_0x11035d(0x1a7)]});console[_0x11035d(0x1a4)](_0x11035d(0x1a7),_0x2905cb);if(_0x4be990[0x0]['language']==_0x11035d(0x19f)){var _0x40036d=users[_0x11035d(0x1b5)];console[_0x11035d(0x1a4)](_0x40036d);}else{if(_0x4be990[0x0][_0x11035d(0x1ad)]==_0x11035d(0x1c7))var _0x40036d=users['Hindi'];else{if(_0x4be990[0x0][_0x11035d(0x1ad)]==_0x11035d(0x1b9))var _0x40036d=users[_0x11035d(0x1b9)];else{if(_0x4be990[0x0][_0x11035d(0x1ad)]==_0x11035d(0x1a5))var _0x40036d=users['Spanish'];else{if(_0x4be990[0x0][_0x11035d(0x1ad)]==_0x11035d(0x17b))var _0x40036d=users[_0x11035d(0x17b)];else{if(_0x4be990[0x0]['language']==_0x11035d(0x1ab))var _0x40036d=users[_0x11035d(0x184)];else{if(_0x4be990[0x0][_0x11035d(0x1ad)]==_0x11035d(0x18b))var _0x40036d=users[_0x11035d(0x18b)];else{if(_0x4be990[0x0][_0x11035d(0x1ad)]==_0x11035d(0x1c6))var _0x40036d=users['Arabic'];}}}}}}}_0x22363b['render'](_0x11035d(0x192),{'success':_0x39d45b[_0x11035d(0x18d)](_0x11035d(0x197)),'errors':_0x39d45b['flash']('errors'),'role':_0x551371,'profile':_0x4540df,'master_shop':_0x4be990,'timezones':timezones,'language':_0x40036d,'warehouse':_0x4bc870});}catch(_0x2bd925){console['log'](_0x2bd925),_0x22363b['status'](0xc8)[_0x11035d(0x186)]({'message':_0x2bd925[_0x11035d(0x199)]});}}),router[a0_0x24d39e(0x1b2)](a0_0x24d39e(0x19c),async(_0x23ff47,_0x1fab35)=>{const _0x306559=a0_0x24d39e,{warehouseNew:_0x495b21,rooms:_0x12447e,Type:_0x2b8d47}=_0x23ff47['body'],_0x52768=await warehouse[_0x306559(0x1c4)]([{'$unwind':_0x306559(0x18a)},{'$match':{'name':_0x495b21,'room':_0x12447e,'product_details.type':_0x2b8d47}},{'$group':{'_id':{'bay':'$product_details.bay','bin':_0x306559(0x1b8),'type':_0x306559(0x193),'floorlevel':'$product_details.floorlevel'},'products':{'$push':{'product_name':'$product_details.product_name','product_quantity':_0x306559(0x19d),'product_code':_0x306559(0x1a8)}},'totalQuantity':{'$sum':{'$cond':{'if':{'$gt':[_0x306559(0x19d),0x0]},'then':'$product_details.product_stock','else':0x0}}}}},{'$project':{'_id':0x0,'bay':_0x306559(0x1b1),'bin':_0x306559(0x1aa),'type':'$_id.type','floorlevel':_0x306559(0x180),'products':{'$filter':{'input':_0x306559(0x1a2),'as':_0x306559(0x190),'cond':{'$gt':[_0x306559(0x1be),0x0]}}},'totalQuantity':0x1}}]);_0x1fab35[_0x306559(0x186)](_0x52768);}),router['post'](a0_0x24d39e(0x1c9),async(_0x514f7a,_0x3282f6)=>{const _0x368216=a0_0x24d39e,{warehouseNew:_0x3e44e7,rooms:_0x24f95d,room_cat:_0x18177f}=_0x514f7a[_0x368216(0x1a0)];let _0x50144b;if(_0x18177f=='All')_0x50144b=await warehouse[_0x368216(0x1c4)]([{'$unwind':_0x368216(0x18a)},{'$match':{'name':_0x3e44e7}},{'$group':{'_id':{'bay':_0x368216(0x1cb),'product':'$product_details.product_name','expiry':'$product_details.expiry_date'},'count':{'$sum':_0x368216(0x19d)},'production_date':{'$first':_0x368216(0x18f)},'expiry_date':{'$first':_0x368216(0x1b6)},'batch_code':{'$first':_0x368216(0x1ae)},'product_code':{'$first':_0x368216(0x1a8)}}},{'$group':{'_id':_0x368216(0x1b1),'products':{'$push':{'product':_0x368216(0x1ba),'quantity':_0x368216(0x195),'production_date':_0x368216(0x196),'expiry_date':_0x368216(0x1ca),'batch_code':_0x368216(0x17e),'product_code':_0x368216(0x188)}},'totalQuantity':{'$sum':_0x368216(0x195)}}},{'$match':{'totalQuantity':{'$gt':0x0}}},{'$project':{'_id':0x0,'bay':_0x368216(0x1ac),'products':0x1,'totalQuantity':0x1}}]),console[_0x368216(0x1a4)](_0x18177f);else{}_0x3282f6[_0x368216(0x186)](_0x50144b);}),router[a0_0x24d39e(0x1b2)](a0_0x24d39e(0x198),async(_0x86a1e8,_0x5431c3)=>{const _0x1e8ac2=a0_0x24d39e;try{const {warehouse_name:_0x321b71,A:_0x2d62d4,B:_0x46f3dc}=_0x86a1e8[_0x1e8ac2(0x1a0)];var _0x134ed7='';_0x2d62d4==_0x1e8ac2(0x1c3)?_0x46f3dc==_0x1e8ac2(0x18c)?_0x134ed7=[{'$match':{'name':_0x321b71,'status':'Enabled','room':_0x1e8ac2(0x182)}},{'$group':{'_id':_0x1e8ac2(0x1ac),'room_name':{'$first':'$room'}}},{'$sort':{'room_name':0x1}}]:_0x134ed7=[{'$match':{'name':_0x321b71,'status':'Enabled'}},{'$group':{'_id':'$_id','room_name':{'$first':'$room'}}},{'$sort':{'room_name':0x1}}]:_0x134ed7=[{'$match':{'name':_0x321b71,'status':_0x1e8ac2(0x1a1)}},{'$group':{'_id':'$_id','room_name':{'$first':'$room'}}},{'$sort':{'room_name':0x1}}];const _0x43644f=await warehouse[_0x1e8ac2(0x1c4)](_0x134ed7);_0x5431c3[_0x1e8ac2(0x191)](0xc8)[_0x1e8ac2(0x186)](_0x43644f);}catch(_0x5dc5e8){_0x5431c3[_0x1e8ac2(0x191)](0x190)[_0x1e8ac2(0x186)]({'errorMessage':_0x5dc5e8[_0x1e8ac2(0x199)]});}}),router['post'](a0_0x24d39e(0x1b7),async(_0x4db5e5,_0x207adb)=>{const _0x498915=a0_0x24d39e;try{const {warehouse_name:_0xd0d7f0,cat:_0x27a846,valNew:_0x499461}=_0x4db5e5[_0x498915(0x1a0)];var _0x4c37b4='',_0x20da21='';if(_0x27a846=='Raw\x20Materials')_0x4c37b4=_0x498915(0x1af),_0x499461==_0x498915(0x18c)?_0x20da21=[{'$match':{'status':_0x498915(0x1a1),'warehouse_category':_0x27a846,'name':{'$ne':_0x4c37b4},'name':_0x498915(0x1c8)}},{'$group':{'_id':_0x498915(0x1bd),'room_name':{'$first':_0x498915(0x1bd)}}},{'$sort':{'room_name':0x1}}]:_0x20da21=[{'$match':{'status':_0x498915(0x1a1),'warehouse_category':_0x27a846,'name':{'$ne':_0x4c37b4}}},{'$group':{'_id':_0x498915(0x1bd),'room_name':{'$first':_0x498915(0x1bd)}}},{'$sort':{'room_name':0x1}}];else _0x27a846==_0x498915(0x1a6)?(_0x4c37b4=_0x498915(0x17d),_0x20da21=[{'$match':{'status':_0x498915(0x1a1),'warehouse_category':_0x27a846,'name':{'$ne':_0x4c37b4}}},{'$group':{'_id':'$name','room_name':{'$first':_0x498915(0x1bd)}}},{'$sort':{'room_name':0x1}}]):_0x20da21=[{'$match':{'status':_0x498915(0x1a1)}},{'$group':{'_id':'$name','room_name':{'$first':_0x498915(0x1bd)}}},{'$sort':{'room_name':0x1}}];const _0x2bc5ac=await warehouse[_0x498915(0x1c4)](_0x20da21);_0x207adb['status'](0xc8)[_0x498915(0x186)](_0x2bc5ac);}catch(_0x546486){_0x207adb[_0x498915(0x191)](0x190)[_0x498915(0x186)]({'errorMessage':_0x546486[_0x498915(0x199)]}),console[_0x498915(0x1a4)](_0x546486);}}),router[a0_0x24d39e(0x1b2)](a0_0x24d39e(0x17a),async(_0x20a8dd,_0x136ed3)=>{const _0x280f4b=a0_0x24d39e;try{const {warehouse_name:_0x4bc6c1,cat:_0x4fc0a6}=_0x20a8dd[_0x280f4b(0x1a0)],_0x4ea48c=await warehouse[_0x280f4b(0x1c4)]([{'$match':{'status':'Enabled','warehouse_category':_0x4fc0a6,'name':_0x4bc6c1}},{'$group':{'_id':_0x280f4b(0x19b),'room_name':{'$first':_0x280f4b(0x19b)}}},{'$sort':{'room_name':0x1}}]);_0x136ed3[_0x280f4b(0x191)](0xc8)[_0x280f4b(0x186)](_0x4ea48c);}catch(_0x294bd2){_0x136ed3[_0x280f4b(0x191)](0x190)[_0x280f4b(0x186)]({'errorMessage':_0x294bd2['message']});}}),module[a0_0x24d39e(0x18e)]=router;