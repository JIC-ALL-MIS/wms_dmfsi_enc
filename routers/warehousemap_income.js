function a0_0x24f8(_0x5f6cc5,_0x513a43){const _0x25ab1a=a0_0x25ab();return a0_0x24f8=function(_0x24f865,_0x8e36e){_0x24f865=_0x24f865-0x15d;let _0x1a8ec4=_0x25ab1a[_0x24f865];return _0x1a8ec4;},a0_0x24f8(_0x5f6cc5,_0x513a43);}const a0_0x45b483=a0_0x24f8;(function(_0x2d6616,_0x4c1512){const _0x376087=a0_0x24f8,_0x2161ae=_0x2d6616();while(!![]){try{const _0xbf3a5e=-parseInt(_0x376087(0x172))/0x1*(-parseInt(_0x376087(0x181))/0x2)+-parseInt(_0x376087(0x1a0))/0x3+parseInt(_0x376087(0x1b3))/0x4+-parseInt(_0x376087(0x1ad))/0x5*(parseInt(_0x376087(0x163))/0x6)+-parseInt(_0x376087(0x19b))/0x7+-parseInt(_0x376087(0x196))/0x8*(parseInt(_0x376087(0x175))/0x9)+parseInt(_0x376087(0x190))/0xa;if(_0xbf3a5e===_0x4c1512)break;else _0x2161ae['push'](_0x2161ae['shift']());}catch(_0x257b94){_0x2161ae['push'](_0x2161ae['shift']());}}}(a0_0x25ab,0x8e95c));const express=require(a0_0x45b483(0x197)),app=express(),router=express[a0_0x45b483(0x183)](),multer=require(a0_0x45b483(0x188)),{profile,master_shop,email_settings,warehouse,purchases,staff}=require(a0_0x45b483(0x170)),auth=require(a0_0x45b483(0x16f));var timezones=require(a0_0x45b483(0x194));const users=require(a0_0x45b483(0x182));router[a0_0x45b483(0x15e)](a0_0x45b483(0x1a4),auth,async(_0x53b974,_0x3caba4)=>{const _0x445548=a0_0x45b483;try{const {username:_0x351bd3,email:_0x567cf4,role:_0x4c9f2f}=_0x53b974['user'],_0x3a3049=_0x53b974[_0x445548(0x191)],_0x784663=await profile[_0x445548(0x16b)]({'email':_0x3a3049['email']}),_0x1e470d=await master_shop[_0x445548(0x17f)]();let _0xb87012;if(_0x3a3049[_0x445548(0x16c)]=='staff'){const _0xef6ae9=await staff[_0x445548(0x16b)]({'email':_0x3a3049[_0x445548(0x15d)]});_0xb87012=await warehouse[_0x445548(0x193)]([{'$match':{'status':_0x445548(0x1a3),'name':_0xef6ae9[_0x445548(0x1b9)]}},{'$group':{'_id':_0x445548(0x189),'name':{'$first':_0x445548(0x189)}}}]);}else _0xb87012=await warehouse[_0x445548(0x193)]([{'$match':{'status':_0x445548(0x1a3)}},{'$group':{'_id':_0x445548(0x189),'name':{'$first':'$name'}}}]);const _0x41c5a1=new Date()[_0x445548(0x195)](_0x445548(0x177),{'timeZone':_0x1e470d[0x0]['timezone']});if(_0x1e470d[0x0]['language']==_0x445548(0x1ab))var _0x7d5bf6=users[_0x445548(0x1b7)];else{if(_0x1e470d[0x0]['language']==_0x445548(0x176))var _0x7d5bf6=users[_0x445548(0x176)];else{if(_0x1e470d[0x0]['language']=='German')var _0x7d5bf6=users[_0x445548(0x19c)];else{if(_0x1e470d[0x0][_0x445548(0x178)]==_0x445548(0x1bb))var _0x7d5bf6=users[_0x445548(0x1bb)];else{if(_0x1e470d[0x0][_0x445548(0x178)]=='French')var _0x7d5bf6=users[_0x445548(0x173)];else{if(_0x1e470d[0x0][_0x445548(0x178)]==_0x445548(0x18a))var _0x7d5bf6=users[_0x445548(0x17d)];else{if(_0x1e470d[0x0][_0x445548(0x178)]=='Chinese')var _0x7d5bf6=users[_0x445548(0x1a9)];else{if(_0x1e470d[0x0][_0x445548(0x178)]==_0x445548(0x16d))var _0x7d5bf6=users['Arabic'];}}}}}}}_0x3caba4[_0x445548(0x1ba)](_0x445548(0x18f),{'success':_0x53b974['flash'](_0x445548(0x18d)),'errors':_0x53b974[_0x445548(0x167)](_0x445548(0x169)),'role':_0x3a3049,'profile':_0x784663,'master_shop':_0x1e470d,'timezones':timezones,'language':_0x7d5bf6,'warehouse':_0xb87012});}catch(_0x54b31a){console[_0x445548(0x1b2)](_0x54b31a),_0x3caba4[_0x445548(0x179)](0xc8)['json']({'message':_0x54b31a[_0x445548(0x162)]});}}),router['post'](a0_0x45b483(0x192),async(_0x2e8452,_0x245d2f)=>{const _0x1d900b=a0_0x45b483,{warehouseNew:_0x5efc9c,rooms:_0x303e4e,Type:_0x3f8317}=_0x2e8452[_0x1d900b(0x1af)],_0xd33f96=await warehouse[_0x1d900b(0x193)]([{'$unwind':_0x1d900b(0x199)},{'$match':{'name':_0x5efc9c,'room':_0x303e4e,'product_details.type':_0x3f8317}},{'$group':{'_id':{'bay':_0x1d900b(0x18b),'bin':_0x1d900b(0x1a7),'type':_0x1d900b(0x166),'floorlevel':'$product_details.floorlevel'},'products':{'$push':{'product_name':_0x1d900b(0x198),'product_quantity':_0x1d900b(0x184),'product_code':_0x1d900b(0x19d)}},'totalQuantity':{'$sum':{'$cond':{'if':{'$gt':[_0x1d900b(0x184),0x0]},'then':_0x1d900b(0x184),'else':0x0}}}}},{'$project':{'_id':0x0,'bay':_0x1d900b(0x185),'bin':_0x1d900b(0x1b4),'type':'$_id.type','floorlevel':'$_id.floorlevel','products':{'$filter':{'input':_0x1d900b(0x16a),'as':_0x1d900b(0x1b0),'cond':{'$gt':[_0x1d900b(0x19f),0x0]}}},'totalQuantity':0x1}}]);_0x245d2f['json'](_0xd33f96);}),router['post'](a0_0x45b483(0x18c),async(_0x43121e,_0x20ba54)=>{const _0x22dda3=a0_0x45b483,{warehouseNew:_0x3edde3,rooms:_0x3f2ae1,room_cat:_0x4f85b1,process_cat:_0x57ef62}=_0x43121e['body'];let _0x3a7ce5;if(_0x4f85b1==_0x22dda3(0x16e))_0x57ef62==_0x22dda3(0x1ac)?_0x3a7ce5=await warehouse[_0x22dda3(0x193)]([{'$unwind':'$product_details_spmx'},{'$match':{'name':_0x3edde3}},{'$group':{'_id':_0x22dda3(0x1a2),'spicemix_spmx':{'$first':_0x22dda3(0x19a)},'extenders_spmx':{'$first':'$product_details_spmx.extenders_spmx'},'curing_spmx':{'$first':_0x22dda3(0x1b5)},'spicemix_spmx_qty':{'$sum':_0x22dda3(0x15f)},'extenders_spmx_qty':{'$sum':_0x22dda3(0x1a8)},'curing_spmx_qty':{'$sum':_0x22dda3(0x174)},'unit_spmx':{'$first':'$product_details_spmx.unit_spmx'},'brand_spmx':{'$first':_0x22dda3(0x19e)},'category_spmx':{'$first':_0x22dda3(0x1b8)}}}]):_0x3a7ce5=await warehouse[_0x22dda3(0x193)]([{'$unwind':_0x22dda3(0x199)},{'$match':{'name':_0x3edde3}},{'$group':{'_id':{'bay':_0x22dda3(0x18b),'product':_0x22dda3(0x198),'expiry':_0x22dda3(0x164)},'count':{'$sum':_0x22dda3(0x184)},'production_date':{'$first':_0x22dda3(0x17b)},'expiry_date':{'$first':_0x22dda3(0x164)},'batch_code':{'$first':_0x22dda3(0x17e)},'product_code':{'$first':_0x22dda3(0x19d)}}},{'$group':{'_id':_0x22dda3(0x185),'products':{'$push':{'product':_0x22dda3(0x1b6),'quantity':_0x22dda3(0x160),'production_date':_0x22dda3(0x1a6),'expiry_date':_0x22dda3(0x187),'batch_code':_0x22dda3(0x168),'product_code':_0x22dda3(0x186)}},'totalQuantity':{'$sum':_0x22dda3(0x160)}}},{'$match':{'totalQuantity':{'$gt':0x0}}},{'$project':{'_id':0x0,'bay':_0x22dda3(0x1bc),'products':0x1,'totalQuantity':0x1}}]),console[_0x22dda3(0x1b2)](_0x4f85b1);else{}console[_0x22dda3(0x1b2)](_0x3a7ce5),_0x20ba54['json'](_0x3a7ce5);}),router['post'](a0_0x45b483(0x180),async(_0x1060ad,_0x21c3da)=>{const _0x3f9a6c=a0_0x45b483;try{const {warehouse_name:_0x1eab43,A:_0x2ace13,B:_0x235cbd}=_0x1060ad[_0x3f9a6c(0x1af)];var _0x1dd098='';_0x2ace13=='raw'?_0x235cbd==_0x3f9a6c(0x1a1)?_0x1dd098=[{'$match':{'name':_0x1eab43,'status':_0x3f9a6c(0x1a3),'room':_0x3f9a6c(0x18e)}},{'$group':{'_id':_0x3f9a6c(0x1bc),'room_name':{'$first':_0x3f9a6c(0x17c)}}},{'$sort':{'room_name':0x1}}]:_0x1dd098=[{'$match':{'name':_0x1eab43,'status':_0x3f9a6c(0x1a3)}},{'$group':{'_id':'$_id','room_name':{'$first':_0x3f9a6c(0x17c)}}},{'$sort':{'room_name':0x1}}]:_0x1dd098=[{'$match':{'name':_0x1eab43,'status':_0x3f9a6c(0x1a3)}},{'$group':{'_id':_0x3f9a6c(0x1bc),'room_name':{'$first':_0x3f9a6c(0x17c)}}},{'$sort':{'room_name':0x1}}];const _0x2579d6=await warehouse[_0x3f9a6c(0x193)](_0x1dd098);_0x21c3da[_0x3f9a6c(0x179)](0xc8)[_0x3f9a6c(0x1a5)](_0x2579d6);}catch(_0x10966f){_0x21c3da[_0x3f9a6c(0x179)](0x190)['json']({'errorMessage':_0x10966f[_0x3f9a6c(0x162)]});}}),router[a0_0x45b483(0x17a)](a0_0x45b483(0x1ae),async(_0x19ce18,_0x27555f)=>{const _0x550d4c=a0_0x45b483;try{const {warehouse_name:_0x134743,cat:_0x53c8b1,valNew:_0x4c1b81}=_0x19ce18[_0x550d4c(0x1af)];console[_0x550d4c(0x1b2)](_0x19ce18[_0x550d4c(0x1af)]);var _0x5159d0='',_0x13601d='';if(_0x53c8b1=='Raw\x20Materials')_0x5159d0='Return\x20Goods',_0x4c1b81=='pack'?_0x13601d=[{'$match':{'status':_0x550d4c(0x1a3),'warehouse_category':_0x53c8b1,'name':{'$ne':_0x5159d0},'name':_0x550d4c(0x171)}},{'$group':{'_id':_0x550d4c(0x189),'room_name':{'$first':_0x550d4c(0x189)}}},{'$sort':{'room_name':0x1}}]:_0x13601d=[{'$match':{'status':_0x550d4c(0x1a3),'warehouse_category':_0x53c8b1,'name':{'$ne':_0x5159d0}}},{'$group':{'_id':_0x550d4c(0x189),'room_name':{'$first':_0x550d4c(0x189)}}},{'$sort':{'room_name':0x1}}];else{if(_0x53c8b1==_0x550d4c(0x1b1))_0x5159d0=_0x550d4c(0x165),_0x13601d=[{'$match':{'status':_0x550d4c(0x1a3),'warehouse_category':_0x53c8b1,'name':{'$ne':_0x5159d0}}},{'$group':{'_id':'$name','room_name':{'$first':'$name'}}},{'$sort':{'room_name':0x1}}];else _0x53c8b1==_0x550d4c(0x1ac)?_0x13601d=[{'$match':{'status':'Enabled','warehouse_category':_0x53c8b1,'name':{'$ne':_0x5159d0}}},{'$group':{'_id':_0x550d4c(0x189),'room_name':{'$first':_0x550d4c(0x189)}}},{'$sort':{'room_name':0x1}}]:_0x13601d=[{'$match':{'status':_0x550d4c(0x1a3)}},{'$group':{'_id':_0x550d4c(0x189),'room_name':{'$first':_0x550d4c(0x189)}}},{'$sort':{'room_name':0x1}}];}const _0x2116a3=await warehouse[_0x550d4c(0x193)](_0x13601d);_0x27555f[_0x550d4c(0x179)](0xc8)[_0x550d4c(0x1a5)](_0x2116a3);}catch(_0x3b6461){_0x27555f[_0x550d4c(0x179)](0x190)['json']({'errorMessage':_0x3b6461[_0x550d4c(0x162)]}),console[_0x550d4c(0x1b2)](_0x3b6461);}}),router[a0_0x45b483(0x17a)](a0_0x45b483(0x1aa),async(_0x4c84fa,_0x36fb50)=>{const _0x2789d6=a0_0x45b483;try{const {warehouse_name:_0x25b8e8,cat:_0x39723e}=_0x4c84fa[_0x2789d6(0x1af)],_0x42ffeb=await warehouse[_0x2789d6(0x193)]([{'$match':{'status':_0x2789d6(0x1a3),'warehouse_category':_0x39723e,'name':_0x25b8e8}},{'$group':{'_id':'$room','room_name':{'$first':'$room'}}},{'$sort':{'room_name':0x1}}]);_0x36fb50[_0x2789d6(0x179)](0xc8)[_0x2789d6(0x1a5)](_0x42ffeb);}catch(_0x56fb30){_0x36fb50[_0x2789d6(0x179)](0x190)[_0x2789d6(0x1a5)]({'errorMessage':_0x56fb30[_0x2789d6(0x162)]});}}),module[a0_0x45b483(0x161)]=router;function a0_0x25ab(){const _0x2d676b=['$_id.product','English','$product_details_spmx.category_spmx','warehouse','render','Spanish','$_id','email','get','$product_details_spmx.spicemix_spmx_qty','$count','exports','message','17592wbLTCq','$product_details.expiry_date','QA\x20Warehouse','$product_details.type','flash','$batch_code','errors','$products','findOne','role','Arabic\x20(ae)','All','../middleware/auth','../models/all_models','DRY\x20STORAGE','32583mwzHnG','French','$product_details_spmx.curing_spmx_qty','36657BtwqzX','Hindi','en-US','language','status','post','$product_details.production_date','$room','Portuguese','$product_details.batch_code','find','/Rooms_data','50RVsVaX','../public/language/languages.json','Router','$product_details.product_stock','$_id.bay','$product_code','$expiry_date','multer','$name','Portuguese\x20(BR)','$product_details.bay','/MapData2','success','Rack\x20A','warehousemap_incoming','6651000NDCdcr','user','/MapData','aggregate','timezones-list','toLocaleString','808yoaOqM','express','$product_details.product_name','$product_details','$product_details_spmx.spicemix_spmx','2088702VHxcSV','German','$product_details.product_code','$product_details_spmx.brand_spmx','$$product.product_quantity','168534tYvbMR','pack','$product_details_spmx.product_code','Enabled','/view','json','$production_date','$product_details.bin','$product_details_spmx.extenders_spmx_qty','Chinese','/Rooms_data3','English\x20(US)','SPMX','1985lxAMwT','/Rooms_data2','body','product','Finished\x20Goods','log','4137176TUDhNP','$_id.bin','$product_details_spmx.curing_spmx'];a0_0x25ab=function(){return _0x2d676b;};return a0_0x25ab();}