var a0_0x411903=a0_0x5352;(function(_0x599241,_0x231327){var _0x4b329a=a0_0x5352,_0x2a0790=_0x599241();while(!![]){try{var _0x20cacf=-parseInt(_0x4b329a(0xbc))/0x1*(parseInt(_0x4b329a(0xb8))/0x2)+-parseInt(_0x4b329a(0xb0))/0x3+parseInt(_0x4b329a(0x99))/0x4*(-parseInt(_0x4b329a(0x9d))/0x5)+-parseInt(_0x4b329a(0xa9))/0x6+parseInt(_0x4b329a(0xb3))/0x7+parseInt(_0x4b329a(0xc2))/0x8+parseInt(_0x4b329a(0xbb))/0x9;if(_0x20cacf===_0x231327)break;else _0x2a0790['push'](_0x2a0790['shift']());}catch(_0x3d54ca){_0x2a0790['push'](_0x2a0790['shift']());}}}(a0_0x20ff,0xceec4));function a0_0x5352(_0x18c68a,_0x5e2b90){var _0x20ff33=a0_0x20ff();return a0_0x5352=function(_0x5352be,_0x2929f1){_0x5352be=_0x5352be-0x8b;var _0x438325=_0x20ff33[_0x5352be];return _0x438325;},a0_0x5352(_0x18c68a,_0x5e2b90);}function a0_0x20ff(){var _0x2a2f62=['../middleware/auth','/view/warehouse/:id','stock_report','product_details.bin_name','74ipbjUs','French','Finished\x20Goods','31030515zNFgGO','43244BdMsIE','German','Router','$product_details.product_name','Spanish','/view','1582960MvGCJN','English\x20(US)','products','$product_docs.sku','/Reports','$product_docs.brand','user','find','findOne','All','../public/language/languages.json','post','Arabic','Chinese','params','/Reports_product','$product_details','Arabic\x20(ae)','warehouse_data','$product_docs','body','name','$product_docs.category','English','4nRSpCV','Portuguese','product_docs','log','2586065mzPrGo','$product_details.product_stock','Portuguese\x20(BR)','status','Hindi','master','product_details.rak_name','get','aggregate','exports','flash','email','9046452gZyquv','/view/product/:id','ssd','role_data','language','111','json','2415234DyPRIe','success','Raw\x20Materials','11423384xJiDWz'];a0_0x20ff=function(){return _0x2a2f62;};return a0_0x20ff();}const express=require('express'),app=express(),router=express[a0_0x411903(0xbe)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require('../models/all_models'),auth=require(a0_0x411903(0xb4)),users=require(a0_0x411903(0x8b));router['get'](a0_0x411903(0xc1),auth,async(_0x326283,_0x5bbe99)=>{var _0x25b5db=a0_0x411903;try{const _0x41753e=_0x326283['user'];console['log'](_0x25b5db(0xac),_0x326283[_0x25b5db(0xc8)]);const _0x5b3a64=await profile['findOne']({'email':_0x41753e[_0x25b5db(0xa8)]}),_0x536800=await master_shop[_0x25b5db(0xc9)]();console[_0x25b5db(0x9c)](_0x25b5db(0xa2),_0x536800);const _0x401fea=await warehouse[_0x25b5db(0xc9)]({}),_0xb1d56f=await product['find']({});if(_0x536800[0x0][_0x25b5db(0xad)]==_0x25b5db(0xc3)){var _0x3a5533=users[_0x25b5db(0x98)];console[_0x25b5db(0x9c)](_0x3a5533);}else{if(_0x536800[0x0]['language']==_0x25b5db(0xa1))var _0x3a5533=users[_0x25b5db(0xa1)];else{if(_0x536800[0x0][_0x25b5db(0xad)]==_0x25b5db(0xbd))var _0x3a5533=users[_0x25b5db(0xbd)];else{if(_0x536800[0x0][_0x25b5db(0xad)]==_0x25b5db(0xc0))var _0x3a5533=users[_0x25b5db(0xc0)];else{if(_0x536800[0x0][_0x25b5db(0xad)]==_0x25b5db(0xb9))var _0x3a5533=users[_0x25b5db(0xb9)];else{if(_0x536800[0x0][_0x25b5db(0xad)]==_0x25b5db(0x9f))var _0x3a5533=users[_0x25b5db(0x9a)];else{if(_0x536800[0x0]['language']==_0x25b5db(0x8e))var _0x3a5533=users[_0x25b5db(0x8e)];else{if(_0x536800[0x0][_0x25b5db(0xad)]==_0x25b5db(0x92))var _0x3a5533=users[_0x25b5db(0x8d)];}}}}}}}_0x5bbe99['render'](_0x25b5db(0xb6),{'success':_0x326283[_0x25b5db(0xa7)](_0x25b5db(0xb1)),'errors':_0x326283['flash']('errors'),'role':_0x41753e,'profile':_0x5b3a64,'master_shop':_0x536800,'warehouse':_0x401fea,'product':_0xb1d56f,'warehouse_doc':[],'product_doc':[],'language':_0x3a5533});}catch(_0x14d79f){console['log'](_0x14d79f);}}),router[a0_0x411903(0xa4)]('/view/:id',auth,async(_0x3b6c3d,_0x128df2)=>{var _0x26d243=a0_0x411903;try{const _0x3b73e5=await master_shop[_0x26d243(0xc9)]();console[_0x26d243(0x9c)](_0x26d243(0xa2),_0x3b73e5);if(_0x3b6c3d[_0x26d243(0x8f)]['id']=='warehouse'){const _0x5d49db=await warehouse[_0x26d243(0xc9)]();console[_0x26d243(0x9c)](_0x5d49db);if(_0x3b73e5[0x0][_0x26d243(0xad)]==_0x26d243(0xc3)){var _0x3907fa=users['English'];console[_0x26d243(0x9c)](_0x3907fa);}else{if(_0x3b73e5[0x0][_0x26d243(0xad)]==_0x26d243(0xa1))var _0x3907fa=users['Hindi'];else{if(_0x3b73e5[0x0][_0x26d243(0xad)]=='German')var _0x3907fa=users[_0x26d243(0xbd)];else{if(_0x3b73e5[0x0]['language']==_0x26d243(0xc0))var _0x3907fa=users['Spanish'];else{if(_0x3b73e5[0x0][_0x26d243(0xad)]==_0x26d243(0xb9))var _0x3907fa=users[_0x26d243(0xb9)];else{if(_0x3b73e5[0x0]['language']==_0x26d243(0x9f))var _0x3907fa=users[_0x26d243(0x9a)];else{if(_0x3b73e5[0x0][_0x26d243(0xad)]==_0x26d243(0x8e))var _0x3907fa=users[_0x26d243(0x8e)];else{if(_0x3b73e5[0x0][_0x26d243(0xad)]==_0x26d243(0x92))var _0x3907fa=users[_0x26d243(0x8d)];}}}}}}}_0x128df2[_0x26d243(0xa0)](0xc8)['json']({'data':_0x5d49db,'language':_0x3907fa['warehouse']});}else{const _0x89b353=await product[_0x26d243(0xc9)]();console[_0x26d243(0x9c)](_0x26d243(0xae),_0x89b353);if(_0x3b73e5[0x0][_0x26d243(0xad)]==_0x26d243(0xc3)){var _0x3907fa=users[_0x26d243(0x98)];console[_0x26d243(0x9c)](_0x3907fa);}else{if(_0x3b73e5[0x0]['language']=='Hindi')var _0x3907fa=users[_0x26d243(0xa1)];else{if(_0x3b73e5[0x0][_0x26d243(0xad)]==_0x26d243(0xbd))var _0x3907fa=users[_0x26d243(0xbd)];else{if(_0x3b73e5[0x0][_0x26d243(0xad)]=='Spanish')var _0x3907fa=users[_0x26d243(0xc0)];else{if(_0x3b73e5[0x0][_0x26d243(0xad)]==_0x26d243(0xb9))var _0x3907fa=users['French'];else{if(_0x3b73e5[0x0]['language']==_0x26d243(0x9f))var _0x3907fa=users[_0x26d243(0x9a)];else{if(_0x3b73e5[0x0][_0x26d243(0xad)]==_0x26d243(0x8e))var _0x3907fa=users[_0x26d243(0x8e)];else{if(_0x3b73e5[0x0][_0x26d243(0xad)]==_0x26d243(0x92))var _0x3907fa=users[_0x26d243(0x8d)];}}}}}}}_0x128df2[_0x26d243(0xa0)](0xc8)[_0x26d243(0xaf)]({'data':_0x89b353,'language':_0x3907fa[_0x26d243(0xc4)]});}}catch(_0x4d6051){console[_0x26d243(0x9c)](_0x4d6051);}}),router[a0_0x411903(0xa4)](a0_0x411903(0xb5),auth,async(_0x474f05,_0x1acaf0)=>{var _0x24a0cc=a0_0x411903;try{const _0x25f4f4=_0x474f05[_0x24a0cc(0x8f)]['id'];console[_0x24a0cc(0x9c)](_0x25f4f4);const _0x295385=await master_shop[_0x24a0cc(0xc9)]();console[_0x24a0cc(0x9c)](_0x24a0cc(0xa2),_0x295385);const _0x793b34=await warehouse[_0x24a0cc(0xa5)]([{'$match':{'name':_0x25f4f4}},{'$unwind':_0x24a0cc(0x91)},{'$lookup':{'from':_0x24a0cc(0xc4),'localField':'product_details.product_name','foreignField':_0x24a0cc(0x96),'as':_0x24a0cc(0x9b)}},{'$unwind':_0x24a0cc(0x94)},{'$project':{'name':0x1,'product_name':_0x24a0cc(0xbf),'product_stock':_0x24a0cc(0x9e),'category':_0x24a0cc(0x97),'brand':_0x24a0cc(0xc7),'sku':_0x24a0cc(0xc5),'unit':'$product_docs.unit','rak':_0x24a0cc(0xa3),'bin':_0x24a0cc(0xb7)}}]);console[_0x24a0cc(0x9c)](_0x793b34);if(_0x295385[0x0][_0x24a0cc(0xad)]==_0x24a0cc(0xc3)){var _0x2381f6=users[_0x24a0cc(0x98)];console[_0x24a0cc(0x9c)](_0x2381f6);}else{if(_0x295385[0x0][_0x24a0cc(0xad)]==_0x24a0cc(0xa1))var _0x2381f6=users[_0x24a0cc(0xa1)];else{if(_0x295385[0x0]['language']=='German')var _0x2381f6=users[_0x24a0cc(0xbd)];else{if(_0x295385[0x0][_0x24a0cc(0xad)]==_0x24a0cc(0xc0))var _0x2381f6=users[_0x24a0cc(0xc0)];else{if(_0x295385[0x0][_0x24a0cc(0xad)]==_0x24a0cc(0xb9))var _0x2381f6=users[_0x24a0cc(0xb9)];else{if(_0x295385[0x0][_0x24a0cc(0xad)]==_0x24a0cc(0x9f))var _0x2381f6=users[_0x24a0cc(0x9a)];else{if(_0x295385[0x0][_0x24a0cc(0xad)]==_0x24a0cc(0x8e))var _0x2381f6=users[_0x24a0cc(0x8e)];else{if(_0x295385[0x0][_0x24a0cc(0xad)]==_0x24a0cc(0x92))var _0x2381f6=users['Arabic'];}}}}}}}_0x1acaf0['status'](0xc8)[_0x24a0cc(0xaf)]({'data':_0x793b34,'language':_0x2381f6});}catch(_0x5d66a9){console['log'](_0x5d66a9);}}),router[a0_0x411903(0xa4)](a0_0x411903(0xaa),auth,async(_0x5aff60,_0xb30759)=>{var _0x5be919=a0_0x411903;try{const _0x37d64d=_0x5aff60[_0x5be919(0x8f)]['id'];console[_0x5be919(0x9c)](_0x37d64d);const _0x4a4ea9=await master_shop['find']();console[_0x5be919(0x9c)](_0x5be919(0xa2),_0x4a4ea9);const _0x51d986=await product[_0x5be919(0xca)]({'name':_0x37d64d});console[_0x5be919(0x9c)]('product_data',_0x51d986);const _0x246986=await warehouse['aggregate']([{'$unwind':'$product_details'},{'$match':{'product_details.product_name':_0x37d64d}},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x5be919(0x9e)}}]);console[_0x5be919(0x9c)](_0x5be919(0x93),_0x246986);if(_0x4a4ea9[0x0][_0x5be919(0xad)]==_0x5be919(0xc3)){var _0x95d416=users['English'];console[_0x5be919(0x9c)](_0x95d416);}else{if(_0x4a4ea9[0x0][_0x5be919(0xad)]==_0x5be919(0xa1))var _0x95d416=users['Hindi'];else{if(_0x4a4ea9[0x0]['language']=='German')var _0x95d416=users[_0x5be919(0xbd)];else{if(_0x4a4ea9[0x0]['language']==_0x5be919(0xc0))var _0x95d416=users['Spanish'];else{if(_0x4a4ea9[0x0][_0x5be919(0xad)]==_0x5be919(0xb9))var _0x95d416=users[_0x5be919(0xb9)];else{if(_0x4a4ea9[0x0]['language']=='Portuguese\x20(BR)')var _0x95d416=users[_0x5be919(0x9a)];else{if(_0x4a4ea9[0x0][_0x5be919(0xad)]==_0x5be919(0x8e))var _0x95d416=users[_0x5be919(0x8e)];else{if(_0x4a4ea9[0x0][_0x5be919(0xad)]==_0x5be919(0x92))var _0x95d416=users[_0x5be919(0x8d)];}}}}}}}_0xb30759['status'](0xc8)[_0x5be919(0xaf)]({'product_data':_0x51d986,'warehouse_data':_0x246986,'language':_0x95d416});}catch(_0x2dffe6){console['log'](_0x2dffe6);}}),router[a0_0x411903(0x8c)](a0_0x411903(0xc6),async(_0x3d9385,_0x452393)=>{var _0x461cd1=a0_0x411903;const {warehouseNew:_0x30d8f1,rooms:_0x1725b7,Type:_0x1cf6d3,process_cat:_0x149ca6,room_cat:_0x389c16}=_0x3d9385[_0x461cd1(0x95)];let _0x4cafed;console['log'](_0x3d9385[_0x461cd1(0x95)]);if(_0x149ca6=='raw')_0x4cafed=await warehouse['aggregate']([{'$match':{'name':_0x30d8f1,'room':_0x1725b7,'warehouse_category':_0x461cd1(0xb2)}},{'$unwind':_0x461cd1(0x91)},{'$match':{'product_details.type':_0x1cf6d3,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x149ca6=='finish'?_0x1725b7==_0x461cd1(0xcb)?_0x4cafed=await warehouse['aggregate']([{'$match':{'name':_0x30d8f1,'warehouse_category':_0x461cd1(0xba)}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x4cafed=await warehouse[_0x461cd1(0xa5)]([{'$match':{'name':_0x30d8f1,'room':_0x1725b7,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0x461cd1(0x91)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x461cd1(0x9c)](_0x461cd1(0xab)),Include=[{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x4cafed=await warehouse['aggregate'](Include));_0x452393[_0x461cd1(0xaf)](_0x4cafed);}),router['post'](a0_0x411903(0x90),async(_0x41eae2,_0x808527)=>{var _0x1c9975=a0_0x411903;const {warehouseNew:_0x5a7a72,rooms:_0x599b4c,Type:_0x14c2cb,process_cat:_0x13e8ab,room_cat:_0x4836b6}=_0x41eae2['body'],_0x109c59=await product[_0x1c9975(0xc9)]();_0x808527['json'](_0x109c59);}),module[a0_0x411903(0xa6)]=router;