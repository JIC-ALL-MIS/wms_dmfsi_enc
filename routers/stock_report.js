var a0_0x21abb1=a0_0x285a;function a0_0xdafe(){var _0x33033d=['Raw\x20Materials','Router','../middleware/auth','get','user','/view/:id','findOne','Chinese','/view','flash','product_docs','4pQtWQG','params','$product_docs','post','body','Hindi','product_details.bin_name','aggregate','Spanish','find','French','exports','133936zSsIrC','finish','errors','/Reports_product','9rdbYEQ','$product_details.product_stock','5094730qxkXZS','role_data','4768737HfmDwP','ssd','7516404bbOTGG','product_details.product_name','1657218nwOLUb','language','warehouse','name','$product_docs.category','render','$product_docs.unit','All','English','master','English\x20(US)','log','product_data','2346254NLsuJK','Portuguese','112iaFtKW','raw','Arabic','status','8204975zazNPA','../models/all_models','Arabic\x20(ae)','German','json','Finished\x20Goods','product_details.rak_name','Portuguese\x20(BR)','products','stock_report','$product_details','$product_details.product_name','$product_docs.brand','success'];a0_0xdafe=function(){return _0x33033d;};return a0_0xdafe();}function a0_0x285a(_0x574a82,_0x4af29f){var _0xdafee2=a0_0xdafe();return a0_0x285a=function(_0x285a39,_0x687cc){_0x285a39=_0x285a39-0x82;var _0x389709=_0xdafee2[_0x285a39];return _0x389709;},a0_0x285a(_0x574a82,_0x4af29f);}(function(_0x1b514e,_0x26d58c){var _0x446444=a0_0x285a,_0x384825=_0x1b514e();while(!![]){try{var _0x13830a=-parseInt(_0x446444(0xc1))/0x1+parseInt(_0x446444(0x8a))/0x2+-parseInt(_0x446444(0xbd))/0x3*(-parseInt(_0x446444(0xa9))/0x4)+-parseInt(_0x446444(0x90))/0x5+parseInt(_0x446444(0xbf))/0x6+-parseInt(_0x446444(0x8c))/0x7*(parseInt(_0x446444(0xb5))/0x8)+parseInt(_0x446444(0xb9))/0x9*(parseInt(_0x446444(0xbb))/0xa);if(_0x13830a===_0x26d58c)break;else _0x384825['push'](_0x384825['shift']());}catch(_0x482d42){_0x384825['push'](_0x384825['shift']());}}}(a0_0xdafe,0xea16c));const express=require('express'),app=express(),router=express[a0_0x21abb1(0x9f)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x21abb1(0x91)),auth=require(a0_0x21abb1(0xa0)),users=require('../public/language/languages.json');router['get'](a0_0x21abb1(0xa6),auth,async(_0x2b747c,_0x14b902)=>{var _0x3fce6e=a0_0x21abb1;try{const _0xf64bfe=_0x2b747c[_0x3fce6e(0xa2)];console[_0x3fce6e(0x88)](_0x3fce6e(0xbc),_0x2b747c['user']);const _0x3d1760=await profile['findOne']({'email':_0xf64bfe['email']}),_0x53747f=await master_shop[_0x3fce6e(0xb2)]();console[_0x3fce6e(0x88)](_0x3fce6e(0x86),_0x53747f);const _0x4a8ad3=await warehouse[_0x3fce6e(0xb2)]({}),_0x332d9f=await product[_0x3fce6e(0xb2)]({});if(_0x53747f[0x0][_0x3fce6e(0xc2)]==_0x3fce6e(0x87)){var _0x212c6e=users[_0x3fce6e(0x85)];console['log'](_0x212c6e);}else{if(_0x53747f[0x0][_0x3fce6e(0xc2)]==_0x3fce6e(0xae))var _0x212c6e=users['Hindi'];else{if(_0x53747f[0x0]['language']=='German')var _0x212c6e=users[_0x3fce6e(0x93)];else{if(_0x53747f[0x0][_0x3fce6e(0xc2)]=='Spanish')var _0x212c6e=users[_0x3fce6e(0xb1)];else{if(_0x53747f[0x0]['language']=='French')var _0x212c6e=users[_0x3fce6e(0xb3)];else{if(_0x53747f[0x0][_0x3fce6e(0xc2)]==_0x3fce6e(0x97))var _0x212c6e=users[_0x3fce6e(0x8b)];else{if(_0x53747f[0x0][_0x3fce6e(0xc2)]==_0x3fce6e(0xa5))var _0x212c6e=users['Chinese'];else{if(_0x53747f[0x0][_0x3fce6e(0xc2)]=='Arabic\x20(ae)')var _0x212c6e=users['Arabic'];}}}}}}}_0x14b902[_0x3fce6e(0x82)](_0x3fce6e(0x99),{'success':_0x2b747c[_0x3fce6e(0xa7)](_0x3fce6e(0x9d)),'errors':_0x2b747c[_0x3fce6e(0xa7)](_0x3fce6e(0xb7)),'role':_0xf64bfe,'profile':_0x3d1760,'master_shop':_0x53747f,'warehouse':_0x4a8ad3,'product':_0x332d9f,'warehouse_doc':[],'product_doc':[],'language':_0x212c6e});}catch(_0x1eb773){console['log'](_0x1eb773);}}),router[a0_0x21abb1(0xa1)](a0_0x21abb1(0xa3),auth,async(_0x44232a,_0x1ddef5)=>{var _0x33b057=a0_0x21abb1;try{const _0x3ddc29=await master_shop['find']();console[_0x33b057(0x88)](_0x33b057(0x86),_0x3ddc29);if(_0x44232a[_0x33b057(0xaa)]['id']==_0x33b057(0xc3)){const _0x1a470a=await warehouse['find']();console['log'](_0x1a470a);if(_0x3ddc29[0x0][_0x33b057(0xc2)]=='English\x20(US)'){var _0x1744b3=users[_0x33b057(0x85)];console[_0x33b057(0x88)](_0x1744b3);}else{if(_0x3ddc29[0x0]['language']==_0x33b057(0xae))var _0x1744b3=users[_0x33b057(0xae)];else{if(_0x3ddc29[0x0][_0x33b057(0xc2)]=='German')var _0x1744b3=users[_0x33b057(0x93)];else{if(_0x3ddc29[0x0][_0x33b057(0xc2)]==_0x33b057(0xb1))var _0x1744b3=users[_0x33b057(0xb1)];else{if(_0x3ddc29[0x0][_0x33b057(0xc2)]==_0x33b057(0xb3))var _0x1744b3=users[_0x33b057(0xb3)];else{if(_0x3ddc29[0x0][_0x33b057(0xc2)]==_0x33b057(0x97))var _0x1744b3=users[_0x33b057(0x8b)];else{if(_0x3ddc29[0x0][_0x33b057(0xc2)]==_0x33b057(0xa5))var _0x1744b3=users[_0x33b057(0xa5)];else{if(_0x3ddc29[0x0][_0x33b057(0xc2)]==_0x33b057(0x92))var _0x1744b3=users[_0x33b057(0x8e)];}}}}}}}_0x1ddef5[_0x33b057(0x8f)](0xc8)[_0x33b057(0x94)]({'data':_0x1a470a,'language':_0x1744b3[_0x33b057(0xc3)]});}else{const _0x39887f=await product[_0x33b057(0xb2)]();console['log']('111',_0x39887f);if(_0x3ddc29[0x0][_0x33b057(0xc2)]==_0x33b057(0x87)){var _0x1744b3=users[_0x33b057(0x85)];console[_0x33b057(0x88)](_0x1744b3);}else{if(_0x3ddc29[0x0]['language']==_0x33b057(0xae))var _0x1744b3=users['Hindi'];else{if(_0x3ddc29[0x0][_0x33b057(0xc2)]==_0x33b057(0x93))var _0x1744b3=users['German'];else{if(_0x3ddc29[0x0]['language']==_0x33b057(0xb1))var _0x1744b3=users['Spanish'];else{if(_0x3ddc29[0x0][_0x33b057(0xc2)]=='French')var _0x1744b3=users[_0x33b057(0xb3)];else{if(_0x3ddc29[0x0][_0x33b057(0xc2)]==_0x33b057(0x97))var _0x1744b3=users['Portuguese'];else{if(_0x3ddc29[0x0][_0x33b057(0xc2)]==_0x33b057(0xa5))var _0x1744b3=users[_0x33b057(0xa5)];else{if(_0x3ddc29[0x0][_0x33b057(0xc2)]==_0x33b057(0x92))var _0x1744b3=users[_0x33b057(0x8e)];}}}}}}}_0x1ddef5[_0x33b057(0x8f)](0xc8)[_0x33b057(0x94)]({'data':_0x39887f,'language':_0x1744b3[_0x33b057(0x98)]});}}catch(_0x2878e4){console[_0x33b057(0x88)](_0x2878e4);}}),router[a0_0x21abb1(0xa1)]('/view/warehouse/:id',auth,async(_0x2d879b,_0x54cb6a)=>{var _0x1bbbca=a0_0x21abb1;try{const _0x31e248=_0x2d879b[_0x1bbbca(0xaa)]['id'];console[_0x1bbbca(0x88)](_0x31e248);const _0x1008c7=await master_shop['find']();console[_0x1bbbca(0x88)](_0x1bbbca(0x86),_0x1008c7);const _0x4ce9e3=await warehouse[_0x1bbbca(0xb0)]([{'$match':{'name':_0x31e248}},{'$unwind':_0x1bbbca(0x9a)},{'$lookup':{'from':_0x1bbbca(0x98),'localField':_0x1bbbca(0xc0),'foreignField':_0x1bbbca(0xc4),'as':_0x1bbbca(0xa8)}},{'$unwind':_0x1bbbca(0xab)},{'$project':{'name':0x1,'product_name':_0x1bbbca(0x9b),'product_stock':_0x1bbbca(0xba),'category':_0x1bbbca(0xc5),'brand':_0x1bbbca(0x9c),'sku':'$product_docs.sku','unit':_0x1bbbca(0x83),'rak':_0x1bbbca(0x96),'bin':_0x1bbbca(0xaf)}}]);console[_0x1bbbca(0x88)](_0x4ce9e3);if(_0x1008c7[0x0][_0x1bbbca(0xc2)]==_0x1bbbca(0x87)){var _0x3add45=users[_0x1bbbca(0x85)];console[_0x1bbbca(0x88)](_0x3add45);}else{if(_0x1008c7[0x0][_0x1bbbca(0xc2)]==_0x1bbbca(0xae))var _0x3add45=users['Hindi'];else{if(_0x1008c7[0x0]['language']==_0x1bbbca(0x93))var _0x3add45=users[_0x1bbbca(0x93)];else{if(_0x1008c7[0x0][_0x1bbbca(0xc2)]==_0x1bbbca(0xb1))var _0x3add45=users[_0x1bbbca(0xb1)];else{if(_0x1008c7[0x0][_0x1bbbca(0xc2)]=='French')var _0x3add45=users[_0x1bbbca(0xb3)];else{if(_0x1008c7[0x0]['language']==_0x1bbbca(0x97))var _0x3add45=users[_0x1bbbca(0x8b)];else{if(_0x1008c7[0x0][_0x1bbbca(0xc2)]==_0x1bbbca(0xa5))var _0x3add45=users[_0x1bbbca(0xa5)];else{if(_0x1008c7[0x0][_0x1bbbca(0xc2)]==_0x1bbbca(0x92))var _0x3add45=users[_0x1bbbca(0x8e)];}}}}}}}_0x54cb6a[_0x1bbbca(0x8f)](0xc8)[_0x1bbbca(0x94)]({'data':_0x4ce9e3,'language':_0x3add45});}catch(_0x28ea51){console['log'](_0x28ea51);}}),router[a0_0x21abb1(0xa1)]('/view/product/:id',auth,async(_0x2f78e5,_0x2ff4b2)=>{var _0x2d78d3=a0_0x21abb1;try{const _0x2240ea=_0x2f78e5[_0x2d78d3(0xaa)]['id'];console[_0x2d78d3(0x88)](_0x2240ea);const _0x3d353b=await master_shop['find']();console[_0x2d78d3(0x88)]('master',_0x3d353b);const _0x3550b2=await product[_0x2d78d3(0xa4)]({'name':_0x2240ea});console[_0x2d78d3(0x88)](_0x2d78d3(0x89),_0x3550b2);const _0xd32f12=await warehouse[_0x2d78d3(0xb0)]([{'$unwind':_0x2d78d3(0x9a)},{'$match':{'product_details.product_name':_0x2240ea}},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':'$product_details.product_stock'}}]);console[_0x2d78d3(0x88)]('warehouse_data',_0xd32f12);if(_0x3d353b[0x0][_0x2d78d3(0xc2)]==_0x2d78d3(0x87)){var _0x5f5871=users[_0x2d78d3(0x85)];console[_0x2d78d3(0x88)](_0x5f5871);}else{if(_0x3d353b[0x0][_0x2d78d3(0xc2)]==_0x2d78d3(0xae))var _0x5f5871=users[_0x2d78d3(0xae)];else{if(_0x3d353b[0x0][_0x2d78d3(0xc2)]==_0x2d78d3(0x93))var _0x5f5871=users[_0x2d78d3(0x93)];else{if(_0x3d353b[0x0]['language']==_0x2d78d3(0xb1))var _0x5f5871=users[_0x2d78d3(0xb1)];else{if(_0x3d353b[0x0][_0x2d78d3(0xc2)]==_0x2d78d3(0xb3))var _0x5f5871=users[_0x2d78d3(0xb3)];else{if(_0x3d353b[0x0]['language']==_0x2d78d3(0x97))var _0x5f5871=users[_0x2d78d3(0x8b)];else{if(_0x3d353b[0x0][_0x2d78d3(0xc2)]==_0x2d78d3(0xa5))var _0x5f5871=users[_0x2d78d3(0xa5)];else{if(_0x3d353b[0x0][_0x2d78d3(0xc2)]==_0x2d78d3(0x92))var _0x5f5871=users['Arabic'];}}}}}}}_0x2ff4b2[_0x2d78d3(0x8f)](0xc8)[_0x2d78d3(0x94)]({'product_data':_0x3550b2,'warehouse_data':_0xd32f12,'language':_0x5f5871});}catch(_0x3fedd4){console[_0x2d78d3(0x88)](_0x3fedd4);}}),router[a0_0x21abb1(0xac)]('/Reports',async(_0x490dc0,_0x2b8aca)=>{var _0x39d731=a0_0x21abb1;const {warehouseNew:_0x249809,rooms:_0x1aa785,Type:_0x1172a8,process_cat:_0xa888b0,room_cat:_0x15b3ce}=_0x490dc0[_0x39d731(0xad)];let _0x5baac1;console[_0x39d731(0x88)](_0x490dc0['body']);if(_0xa888b0==_0x39d731(0x8d))_0x5baac1=await warehouse[_0x39d731(0xb0)]([{'$match':{'name':_0x249809,'room':_0x1aa785,'warehouse_category':_0x39d731(0x9e)}},{'$unwind':_0x39d731(0x9a)},{'$match':{'product_details.type':_0x1172a8,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0xa888b0==_0x39d731(0xb6)?_0x1aa785==_0x39d731(0x84)?_0x5baac1=await warehouse['aggregate']([{'$match':{'name':_0x249809,'warehouse_category':_0x39d731(0x95)}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x5baac1=await warehouse[_0x39d731(0xb0)]([{'$match':{'name':_0x249809,'room':_0x1aa785,'warehouse_category':_0x39d731(0x95)}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x39d731(0x88)](_0x39d731(0xbe)),Include=[{'$unwind':_0x39d731(0x9a)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x5baac1=await warehouse['aggregate'](Include));_0x2b8aca[_0x39d731(0x94)](_0x5baac1);}),router[a0_0x21abb1(0xac)](a0_0x21abb1(0xb8),async(_0x43efca,_0x31cd7d)=>{var _0xdaca67=a0_0x21abb1;const {warehouseNew:_0x1b12c9,rooms:_0x576b6d,Type:_0x2a088c,process_cat:_0x2aebc9,room_cat:_0x5616a3}=_0x43efca[_0xdaca67(0xad)],_0x2e4d51=await product[_0xdaca67(0xb2)]();_0x31cd7d[_0xdaca67(0x94)](_0x2e4d51);}),module[a0_0x21abb1(0xb4)]=router;