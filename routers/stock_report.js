function a0_0x3f91(){var _0x4a654b=['$product_docs.unit','warehouse','English\x20(US)','raw','body','find','$product_docs.brand','English','../middleware/auth','3161600rzwUoW','$product_docs.sku','3051510KyCDDQ','Raw\x20Materials','warehouse_data','$product_details.product_name','flash','9886BLICxy','params','$product_details','products','ssd','exports','Spanish','log','Finished\x20Goods','aggregate','7BqrbTa','name','errors','215UlvwjR','/Reports_product','740064moqoaN','/view','Arabic\x20(ae)','product_details.product_name','Hindi','json','Arabic','product_details.bin_name','post','1911879CzUZuJ','product_data','$product_details.product_stock','German','success','French','../models/all_models','$product_docs','master','111','Portuguese\x20(BR)','findOne','get','role_data','status','email','product_details.rak_name','user','43zgyBSg','/Reports','finish','16Bvjdug','20356JMOtoW','/view/:id','language','../public/language/languages.json','2092062CLOiHI','Portuguese','Chinese','All'];a0_0x3f91=function(){return _0x4a654b;};return a0_0x3f91();}var a0_0x233273=a0_0x4698;function a0_0x4698(_0x597a90,_0x3aa749){var _0x3f911e=a0_0x3f91();return a0_0x4698=function(_0x469804,_0x32776d){_0x469804=_0x469804-0x126;var _0x290aec=_0x3f911e[_0x469804];return _0x290aec;},a0_0x4698(_0x597a90,_0x3aa749);}(function(_0xb28b68,_0x2e1df4){var _0x364a5a=a0_0x4698,_0x4685e6=_0xb28b68();while(!![]){try{var _0x23904f=parseInt(_0x364a5a(0x134))/0x1*(parseInt(_0x364a5a(0x150))/0x2)+-parseInt(_0x364a5a(0x15f))/0x3+-parseInt(_0x364a5a(0x138))/0x4*(-parseInt(_0x364a5a(0x15d))/0x5)+parseInt(_0x364a5a(0x13c))/0x6*(-parseInt(_0x364a5a(0x15a))/0x7)+parseInt(_0x364a5a(0x137))/0x8*(parseInt(_0x364a5a(0x168))/0x9)+-parseInt(_0x364a5a(0x149))/0xa+parseInt(_0x364a5a(0x14b))/0xb;if(_0x23904f===_0x2e1df4)break;else _0x4685e6['push'](_0x4685e6['shift']());}catch(_0x42583a){_0x4685e6['push'](_0x4685e6['shift']());}}}(a0_0x3f91,0x363ab));const express=require('express'),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x233273(0x128)),auth=require(a0_0x233273(0x148)),users=require(a0_0x233273(0x13b));router[a0_0x233273(0x12e)](a0_0x233273(0x160),auth,async(_0x268db6,_0x3a8d26)=>{var _0xdec127=a0_0x233273;try{const _0x256f85=_0x268db6['user'];console['log'](_0xdec127(0x12f),_0x268db6[_0xdec127(0x133)]);const _0x56224a=await profile[_0xdec127(0x12d)]({'email':_0x256f85[_0xdec127(0x131)]}),_0x464eea=await master_shop['find']();console['log'](_0xdec127(0x12a),_0x464eea);const _0x319588=await warehouse['find']({}),_0x49bd46=await product['find']({});if(_0x464eea[0x0]['language']==_0xdec127(0x142)){var _0x10e568=users[_0xdec127(0x147)];console[_0xdec127(0x157)](_0x10e568);}else{if(_0x464eea[0x0]['language']==_0xdec127(0x163))var _0x10e568=users[_0xdec127(0x163)];else{if(_0x464eea[0x0][_0xdec127(0x13a)]==_0xdec127(0x16b))var _0x10e568=users[_0xdec127(0x16b)];else{if(_0x464eea[0x0][_0xdec127(0x13a)]==_0xdec127(0x156))var _0x10e568=users['Spanish'];else{if(_0x464eea[0x0][_0xdec127(0x13a)]==_0xdec127(0x127))var _0x10e568=users[_0xdec127(0x127)];else{if(_0x464eea[0x0][_0xdec127(0x13a)]=='Portuguese\x20(BR)')var _0x10e568=users['Portuguese'];else{if(_0x464eea[0x0]['language']==_0xdec127(0x13e))var _0x10e568=users[_0xdec127(0x13e)];else{if(_0x464eea[0x0][_0xdec127(0x13a)]==_0xdec127(0x161))var _0x10e568=users[_0xdec127(0x165)];}}}}}}}_0x3a8d26['render']('stock_report',{'success':_0x268db6[_0xdec127(0x14f)](_0xdec127(0x126)),'errors':_0x268db6['flash'](_0xdec127(0x15c)),'role':_0x256f85,'profile':_0x56224a,'master_shop':_0x464eea,'warehouse':_0x319588,'product':_0x49bd46,'warehouse_doc':[],'product_doc':[],'language':_0x10e568});}catch(_0x5b8f14){console['log'](_0x5b8f14);}}),router[a0_0x233273(0x12e)](a0_0x233273(0x139),auth,async(_0x36d524,_0x1d56b8)=>{var _0x3953c6=a0_0x233273;try{const _0xc9cdd4=await master_shop[_0x3953c6(0x145)]();console[_0x3953c6(0x157)]('master',_0xc9cdd4);if(_0x36d524[_0x3953c6(0x151)]['id']==_0x3953c6(0x141)){const _0x3e5faa=await warehouse[_0x3953c6(0x145)]();console['log'](_0x3e5faa);if(_0xc9cdd4[0x0]['language']==_0x3953c6(0x142)){var _0x1762e1=users[_0x3953c6(0x147)];console[_0x3953c6(0x157)](_0x1762e1);}else{if(_0xc9cdd4[0x0][_0x3953c6(0x13a)]==_0x3953c6(0x163))var _0x1762e1=users[_0x3953c6(0x163)];else{if(_0xc9cdd4[0x0][_0x3953c6(0x13a)]==_0x3953c6(0x16b))var _0x1762e1=users[_0x3953c6(0x16b)];else{if(_0xc9cdd4[0x0][_0x3953c6(0x13a)]=='Spanish')var _0x1762e1=users[_0x3953c6(0x156)];else{if(_0xc9cdd4[0x0][_0x3953c6(0x13a)]==_0x3953c6(0x127))var _0x1762e1=users[_0x3953c6(0x127)];else{if(_0xc9cdd4[0x0][_0x3953c6(0x13a)]==_0x3953c6(0x12c))var _0x1762e1=users['Portuguese'];else{if(_0xc9cdd4[0x0][_0x3953c6(0x13a)]=='Chinese')var _0x1762e1=users[_0x3953c6(0x13e)];else{if(_0xc9cdd4[0x0][_0x3953c6(0x13a)]==_0x3953c6(0x161))var _0x1762e1=users['Arabic'];}}}}}}}_0x1d56b8[_0x3953c6(0x130)](0xc8)[_0x3953c6(0x164)]({'data':_0x3e5faa,'language':_0x1762e1[_0x3953c6(0x141)]});}else{const _0x2aca4=await product[_0x3953c6(0x145)]();console[_0x3953c6(0x157)](_0x3953c6(0x12b),_0x2aca4);if(_0xc9cdd4[0x0]['language']==_0x3953c6(0x142)){var _0x1762e1=users[_0x3953c6(0x147)];console['log'](_0x1762e1);}else{if(_0xc9cdd4[0x0][_0x3953c6(0x13a)]==_0x3953c6(0x163))var _0x1762e1=users['Hindi'];else{if(_0xc9cdd4[0x0]['language']==_0x3953c6(0x16b))var _0x1762e1=users[_0x3953c6(0x16b)];else{if(_0xc9cdd4[0x0][_0x3953c6(0x13a)]==_0x3953c6(0x156))var _0x1762e1=users['Spanish'];else{if(_0xc9cdd4[0x0]['language']==_0x3953c6(0x127))var _0x1762e1=users[_0x3953c6(0x127)];else{if(_0xc9cdd4[0x0][_0x3953c6(0x13a)]=='Portuguese\x20(BR)')var _0x1762e1=users[_0x3953c6(0x13d)];else{if(_0xc9cdd4[0x0]['language']==_0x3953c6(0x13e))var _0x1762e1=users[_0x3953c6(0x13e)];else{if(_0xc9cdd4[0x0][_0x3953c6(0x13a)]=='Arabic\x20(ae)')var _0x1762e1=users[_0x3953c6(0x165)];}}}}}}}_0x1d56b8[_0x3953c6(0x130)](0xc8)[_0x3953c6(0x164)]({'data':_0x2aca4,'language':_0x1762e1[_0x3953c6(0x153)]});}}catch(_0x401c3f){console['log'](_0x401c3f);}}),router[a0_0x233273(0x12e)]('/view/warehouse/:id',auth,async(_0x459400,_0x456fc7)=>{var _0x14bda9=a0_0x233273;try{const _0x16abc9=_0x459400[_0x14bda9(0x151)]['id'];console[_0x14bda9(0x157)](_0x16abc9);const _0x379bc3=await master_shop['find']();console[_0x14bda9(0x157)]('master',_0x379bc3);const _0x5840b8=await warehouse[_0x14bda9(0x159)]([{'$match':{'name':_0x16abc9}},{'$unwind':'$product_details'},{'$lookup':{'from':_0x14bda9(0x153),'localField':_0x14bda9(0x162),'foreignField':_0x14bda9(0x15b),'as':'product_docs'}},{'$unwind':_0x14bda9(0x129)},{'$project':{'name':0x1,'product_name':_0x14bda9(0x14e),'product_stock':'$product_details.product_stock','category':'$product_docs.category','brand':_0x14bda9(0x146),'sku':_0x14bda9(0x14a),'unit':_0x14bda9(0x140),'rak':_0x14bda9(0x132),'bin':_0x14bda9(0x166)}}]);console[_0x14bda9(0x157)](_0x5840b8);if(_0x379bc3[0x0]['language']=='English\x20(US)'){var _0x2ab024=users[_0x14bda9(0x147)];console[_0x14bda9(0x157)](_0x2ab024);}else{if(_0x379bc3[0x0][_0x14bda9(0x13a)]=='Hindi')var _0x2ab024=users['Hindi'];else{if(_0x379bc3[0x0][_0x14bda9(0x13a)]==_0x14bda9(0x16b))var _0x2ab024=users['German'];else{if(_0x379bc3[0x0]['language']==_0x14bda9(0x156))var _0x2ab024=users['Spanish'];else{if(_0x379bc3[0x0][_0x14bda9(0x13a)]==_0x14bda9(0x127))var _0x2ab024=users[_0x14bda9(0x127)];else{if(_0x379bc3[0x0][_0x14bda9(0x13a)]==_0x14bda9(0x12c))var _0x2ab024=users[_0x14bda9(0x13d)];else{if(_0x379bc3[0x0][_0x14bda9(0x13a)]==_0x14bda9(0x13e))var _0x2ab024=users[_0x14bda9(0x13e)];else{if(_0x379bc3[0x0]['language']==_0x14bda9(0x161))var _0x2ab024=users['Arabic'];}}}}}}}_0x456fc7[_0x14bda9(0x130)](0xc8)['json']({'data':_0x5840b8,'language':_0x2ab024});}catch(_0x462e49){console['log'](_0x462e49);}}),router[a0_0x233273(0x12e)]('/view/product/:id',auth,async(_0x349b7b,_0x5b3705)=>{var _0x52fc0e=a0_0x233273;try{const _0x201dd8=_0x349b7b[_0x52fc0e(0x151)]['id'];console[_0x52fc0e(0x157)](_0x201dd8);const _0x35882a=await master_shop[_0x52fc0e(0x145)]();console[_0x52fc0e(0x157)](_0x52fc0e(0x12a),_0x35882a);const _0x412e57=await product[_0x52fc0e(0x12d)]({'name':_0x201dd8});console['log'](_0x52fc0e(0x169),_0x412e57);const _0x38e7b0=await warehouse[_0x52fc0e(0x159)]([{'$unwind':'$product_details'},{'$match':{'product_details.product_name':_0x201dd8}},{'$project':{'name':0x1,'product_name':_0x52fc0e(0x14e),'product_stock':_0x52fc0e(0x16a)}}]);console[_0x52fc0e(0x157)](_0x52fc0e(0x14d),_0x38e7b0);if(_0x35882a[0x0][_0x52fc0e(0x13a)]==_0x52fc0e(0x142)){var _0x34c25f=users[_0x52fc0e(0x147)];console[_0x52fc0e(0x157)](_0x34c25f);}else{if(_0x35882a[0x0][_0x52fc0e(0x13a)]=='Hindi')var _0x34c25f=users[_0x52fc0e(0x163)];else{if(_0x35882a[0x0][_0x52fc0e(0x13a)]=='German')var _0x34c25f=users['German'];else{if(_0x35882a[0x0]['language']==_0x52fc0e(0x156))var _0x34c25f=users[_0x52fc0e(0x156)];else{if(_0x35882a[0x0]['language']=='French')var _0x34c25f=users[_0x52fc0e(0x127)];else{if(_0x35882a[0x0]['language']=='Portuguese\x20(BR)')var _0x34c25f=users['Portuguese'];else{if(_0x35882a[0x0]['language']=='Chinese')var _0x34c25f=users[_0x52fc0e(0x13e)];else{if(_0x35882a[0x0][_0x52fc0e(0x13a)]=='Arabic\x20(ae)')var _0x34c25f=users[_0x52fc0e(0x165)];}}}}}}}_0x5b3705[_0x52fc0e(0x130)](0xc8)['json']({'product_data':_0x412e57,'warehouse_data':_0x38e7b0,'language':_0x34c25f});}catch(_0x3acef3){console[_0x52fc0e(0x157)](_0x3acef3);}}),router[a0_0x233273(0x167)](a0_0x233273(0x135),async(_0x429e09,_0x3239d8)=>{var _0x4aaecc=a0_0x233273;const {warehouseNew:_0x1def11,rooms:_0x3c4504,Type:_0x2f82a2,process_cat:_0x278069,room_cat:_0xd15bfb}=_0x429e09['body'];let _0x459ae;console[_0x4aaecc(0x157)](_0x429e09[_0x4aaecc(0x144)]);if(_0x278069==_0x4aaecc(0x143))_0x459ae=await warehouse['aggregate']([{'$match':{'name':_0x1def11,'room':_0x3c4504,'warehouse_category':_0x4aaecc(0x14c)}},{'$unwind':_0x4aaecc(0x152)},{'$match':{'product_details.type':_0x2f82a2,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x278069==_0x4aaecc(0x136)?_0x3c4504==_0x4aaecc(0x13f)?_0x459ae=await warehouse[_0x4aaecc(0x159)]([{'$match':{'name':_0x1def11,'warehouse_category':_0x4aaecc(0x158)}},{'$unwind':_0x4aaecc(0x152)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x459ae=await warehouse[_0x4aaecc(0x159)]([{'$match':{'name':_0x1def11,'room':_0x3c4504,'warehouse_category':_0x4aaecc(0x158)}},{'$unwind':_0x4aaecc(0x152)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console['log'](_0x4aaecc(0x154)),Include=[{'$unwind':_0x4aaecc(0x152)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x459ae=await warehouse[_0x4aaecc(0x159)](Include));_0x3239d8[_0x4aaecc(0x164)](_0x459ae);}),router['post'](a0_0x233273(0x15e),async(_0x47df18,_0x259647)=>{var _0x221e09=a0_0x233273;const {warehouseNew:_0x476a76,rooms:_0x5f3661,Type:_0x1cbc7c,process_cat:_0x249ab4,room_cat:_0x571677}=_0x47df18['body'],_0x59d4f3=await product['find']();_0x259647[_0x221e09(0x164)](_0x59d4f3);}),module[a0_0x233273(0x155)]=router;