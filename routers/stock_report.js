var a0_0x2fcd5d=a0_0x2639;function a0_0x2639(_0x4585f2,_0x3429f7){var _0x3cb655=a0_0x3cb6();return a0_0x2639=function(_0x263902,_0x513f5e){_0x263902=_0x263902-0x196;var _0x59722c=_0x3cb655[_0x263902];return _0x59722c;},a0_0x2639(_0x4585f2,_0x3429f7);}(function(_0x269eac,_0x1afad1){var _0x137a80=a0_0x2639,_0x2de735=_0x269eac();while(!![]){try{var _0x52b6a7=-parseInt(_0x137a80(0x1ba))/0x1*(parseInt(_0x137a80(0x1c4))/0x2)+-parseInt(_0x137a80(0x1d8))/0x3*(-parseInt(_0x137a80(0x1c1))/0x4)+parseInt(_0x137a80(0x1a6))/0x5+-parseInt(_0x137a80(0x196))/0x6+parseInt(_0x137a80(0x19d))/0x7+-parseInt(_0x137a80(0x19a))/0x8+parseInt(_0x137a80(0x1a8))/0x9*(parseInt(_0x137a80(0x1a2))/0xa);if(_0x52b6a7===_0x1afad1)break;else _0x2de735['push'](_0x2de735['shift']());}catch(_0x57bfac){_0x2de735['push'](_0x2de735['shift']());}}}(a0_0x3cb6,0x37401));const express=require(a0_0x2fcd5d(0x1d4)),app=express(),router=express[a0_0x2fcd5d(0x1d9)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x2fcd5d(0x1b8)),auth=require(a0_0x2fcd5d(0x1c5)),users=require(a0_0x2fcd5d(0x198));router[a0_0x2fcd5d(0x19e)](a0_0x2fcd5d(0x1b6),auth,async(_0x59ba16,_0x4d1e70)=>{var _0x2faa57=a0_0x2fcd5d;try{const _0x3003b7=_0x59ba16[_0x2faa57(0x1ce)];console[_0x2faa57(0x1cf)](_0x2faa57(0x1d7),_0x59ba16[_0x2faa57(0x1ce)]);const _0x21d881=await profile[_0x2faa57(0x1be)]({'email':_0x3003b7[_0x2faa57(0x1a1)]}),_0xb028cc=await master_shop[_0x2faa57(0x1a4)]();console['log'](_0x2faa57(0x1ad),_0xb028cc);const _0x22444f=await warehouse[_0x2faa57(0x1a4)]({}),_0xc19b4c=await product[_0x2faa57(0x1a4)]({});if(_0xb028cc[0x0][_0x2faa57(0x1b0)]==_0x2faa57(0x1cb)){var _0x30cafe=users[_0x2faa57(0x1d2)];console[_0x2faa57(0x1cf)](_0x30cafe);}else{if(_0xb028cc[0x0][_0x2faa57(0x1b0)]==_0x2faa57(0x1d6))var _0x30cafe=users['Hindi'];else{if(_0xb028cc[0x0][_0x2faa57(0x1b0)]==_0x2faa57(0x1b2))var _0x30cafe=users[_0x2faa57(0x1b2)];else{if(_0xb028cc[0x0]['language']==_0x2faa57(0x19b))var _0x30cafe=users[_0x2faa57(0x19b)];else{if(_0xb028cc[0x0]['language']==_0x2faa57(0x1a3))var _0x30cafe=users[_0x2faa57(0x1a3)];else{if(_0xb028cc[0x0][_0x2faa57(0x1b0)]==_0x2faa57(0x1b3))var _0x30cafe=users['Portuguese'];else{if(_0xb028cc[0x0][_0x2faa57(0x1b0)]==_0x2faa57(0x1c6))var _0x30cafe=users['Chinese'];else{if(_0xb028cc[0x0][_0x2faa57(0x1b0)]==_0x2faa57(0x1c3))var _0x30cafe=users['Arabic'];}}}}}}}_0x4d1e70[_0x2faa57(0x199)]('stock_report',{'success':_0x59ba16['flash'](_0x2faa57(0x1b7)),'errors':_0x59ba16['flash'](_0x2faa57(0x1a9)),'role':_0x3003b7,'profile':_0x21d881,'master_shop':_0xb028cc,'warehouse':_0x22444f,'product':_0xc19b4c,'warehouse_doc':[],'product_doc':[],'language':_0x30cafe});}catch(_0x1b74f0){console[_0x2faa57(0x1cf)](_0x1b74f0);}}),router['get'](a0_0x2fcd5d(0x1aa),auth,async(_0x897bf1,_0x234921)=>{var _0x317679=a0_0x2fcd5d;try{const _0x5d83e4=await master_shop['find']();console[_0x317679(0x1cf)]('master',_0x5d83e4);if(_0x897bf1[_0x317679(0x19c)]['id']==_0x317679(0x1c8)){const _0x4dbd36=await warehouse[_0x317679(0x1a4)]();console['log'](_0x4dbd36);if(_0x5d83e4[0x0][_0x317679(0x1b0)]=='English\x20(US)'){var _0x38db58=users['English'];console[_0x317679(0x1cf)](_0x38db58);}else{if(_0x5d83e4[0x0][_0x317679(0x1b0)]==_0x317679(0x1d6))var _0x38db58=users[_0x317679(0x1d6)];else{if(_0x5d83e4[0x0][_0x317679(0x1b0)]==_0x317679(0x1b2))var _0x38db58=users[_0x317679(0x1b2)];else{if(_0x5d83e4[0x0][_0x317679(0x1b0)]==_0x317679(0x19b))var _0x38db58=users[_0x317679(0x19b)];else{if(_0x5d83e4[0x0][_0x317679(0x1b0)]==_0x317679(0x1a3))var _0x38db58=users[_0x317679(0x1a3)];else{if(_0x5d83e4[0x0][_0x317679(0x1b0)]==_0x317679(0x1b3))var _0x38db58=users[_0x317679(0x1ab)];else{if(_0x5d83e4[0x0][_0x317679(0x1b0)]==_0x317679(0x1c6))var _0x38db58=users[_0x317679(0x1c6)];else{if(_0x5d83e4[0x0]['language']=='Arabic\x20(ae)')var _0x38db58=users[_0x317679(0x1b9)];}}}}}}}_0x234921[_0x317679(0x1af)](0xc8)[_0x317679(0x1bf)]({'data':_0x4dbd36,'language':_0x38db58['warehouse']});}else{const _0x55b68a=await product[_0x317679(0x1a4)]();console['log'](_0x317679(0x1c9),_0x55b68a);if(_0x5d83e4[0x0][_0x317679(0x1b0)]=='English\x20(US)'){var _0x38db58=users[_0x317679(0x1d2)];console[_0x317679(0x1cf)](_0x38db58);}else{if(_0x5d83e4[0x0][_0x317679(0x1b0)]==_0x317679(0x1d6))var _0x38db58=users['Hindi'];else{if(_0x5d83e4[0x0][_0x317679(0x1b0)]==_0x317679(0x1b2))var _0x38db58=users[_0x317679(0x1b2)];else{if(_0x5d83e4[0x0][_0x317679(0x1b0)]==_0x317679(0x19b))var _0x38db58=users[_0x317679(0x19b)];else{if(_0x5d83e4[0x0]['language']==_0x317679(0x1a3))var _0x38db58=users[_0x317679(0x1a3)];else{if(_0x5d83e4[0x0][_0x317679(0x1b0)]==_0x317679(0x1b3))var _0x38db58=users['Portuguese'];else{if(_0x5d83e4[0x0]['language']==_0x317679(0x1c6))var _0x38db58=users['Chinese'];else{if(_0x5d83e4[0x0][_0x317679(0x1b0)]==_0x317679(0x1c3))var _0x38db58=users[_0x317679(0x1b9)];}}}}}}}_0x234921[_0x317679(0x1af)](0xc8)[_0x317679(0x1bf)]({'data':_0x55b68a,'language':_0x38db58[_0x317679(0x1c0)]});}}catch(_0x68fa6f){console[_0x317679(0x1cf)](_0x68fa6f);}}),router[a0_0x2fcd5d(0x19e)](a0_0x2fcd5d(0x1b1),auth,async(_0x524bc6,_0x4eaa97)=>{var _0x39a85d=a0_0x2fcd5d;try{const _0x5ac4ff=_0x524bc6['params']['id'];console[_0x39a85d(0x1cf)](_0x5ac4ff);const _0x4fb7a5=await master_shop[_0x39a85d(0x1a4)]();console[_0x39a85d(0x1cf)](_0x39a85d(0x1ad),_0x4fb7a5);const _0x214ef4=await warehouse[_0x39a85d(0x1d0)]([{'$match':{'name':_0x5ac4ff}},{'$unwind':'$product_details'},{'$lookup':{'from':_0x39a85d(0x1c0),'localField':_0x39a85d(0x1bc),'foreignField':_0x39a85d(0x1c2),'as':_0x39a85d(0x1b5)}},{'$unwind':_0x39a85d(0x1d5)},{'$project':{'name':0x1,'product_name':_0x39a85d(0x197),'product_stock':_0x39a85d(0x1c7),'category':_0x39a85d(0x1cd),'brand':_0x39a85d(0x1ae),'sku':_0x39a85d(0x1a7),'unit':'$product_docs.unit','rak':_0x39a85d(0x19f),'bin':_0x39a85d(0x1b4)}}]);console[_0x39a85d(0x1cf)](_0x214ef4);if(_0x4fb7a5[0x0]['language']==_0x39a85d(0x1cb)){var _0x44b0dd=users['English'];console['log'](_0x44b0dd);}else{if(_0x4fb7a5[0x0][_0x39a85d(0x1b0)]==_0x39a85d(0x1d6))var _0x44b0dd=users['Hindi'];else{if(_0x4fb7a5[0x0]['language']==_0x39a85d(0x1b2))var _0x44b0dd=users[_0x39a85d(0x1b2)];else{if(_0x4fb7a5[0x0][_0x39a85d(0x1b0)]==_0x39a85d(0x19b))var _0x44b0dd=users[_0x39a85d(0x19b)];else{if(_0x4fb7a5[0x0][_0x39a85d(0x1b0)]=='French')var _0x44b0dd=users['French'];else{if(_0x4fb7a5[0x0][_0x39a85d(0x1b0)]=='Portuguese\x20(BR)')var _0x44b0dd=users[_0x39a85d(0x1ab)];else{if(_0x4fb7a5[0x0][_0x39a85d(0x1b0)]=='Chinese')var _0x44b0dd=users[_0x39a85d(0x1c6)];else{if(_0x4fb7a5[0x0][_0x39a85d(0x1b0)]==_0x39a85d(0x1c3))var _0x44b0dd=users[_0x39a85d(0x1b9)];}}}}}}}_0x4eaa97['status'](0xc8)['json']({'data':_0x214ef4,'language':_0x44b0dd});}catch(_0x953fc){console[_0x39a85d(0x1cf)](_0x953fc);}}),router[a0_0x2fcd5d(0x19e)]('/view/product/:id',auth,async(_0x3c9497,_0x3599de)=>{var _0x1975b5=a0_0x2fcd5d;try{const _0x178489=_0x3c9497[_0x1975b5(0x19c)]['id'];console[_0x1975b5(0x1cf)](_0x178489);const _0x350336=await master_shop[_0x1975b5(0x1a4)]();console[_0x1975b5(0x1cf)](_0x1975b5(0x1ad),_0x350336);const _0x435818=await product[_0x1975b5(0x1be)]({'name':_0x178489});console[_0x1975b5(0x1cf)](_0x1975b5(0x1d3),_0x435818);const _0x592216=await warehouse[_0x1975b5(0x1d0)]([{'$unwind':_0x1975b5(0x1a5)},{'$match':{'product_details.product_name':_0x178489}},{'$project':{'name':0x1,'product_name':_0x1975b5(0x197),'product_stock':_0x1975b5(0x1c7)}}]);console[_0x1975b5(0x1cf)](_0x1975b5(0x1ca),_0x592216);if(_0x350336[0x0][_0x1975b5(0x1b0)]==_0x1975b5(0x1cb)){var _0x4e3cfd=users[_0x1975b5(0x1d2)];console[_0x1975b5(0x1cf)](_0x4e3cfd);}else{if(_0x350336[0x0][_0x1975b5(0x1b0)]==_0x1975b5(0x1d6))var _0x4e3cfd=users[_0x1975b5(0x1d6)];else{if(_0x350336[0x0][_0x1975b5(0x1b0)]==_0x1975b5(0x1b2))var _0x4e3cfd=users[_0x1975b5(0x1b2)];else{if(_0x350336[0x0][_0x1975b5(0x1b0)]==_0x1975b5(0x19b))var _0x4e3cfd=users[_0x1975b5(0x19b)];else{if(_0x350336[0x0][_0x1975b5(0x1b0)]==_0x1975b5(0x1a3))var _0x4e3cfd=users[_0x1975b5(0x1a3)];else{if(_0x350336[0x0][_0x1975b5(0x1b0)]==_0x1975b5(0x1b3))var _0x4e3cfd=users[_0x1975b5(0x1ab)];else{if(_0x350336[0x0][_0x1975b5(0x1b0)]=='Chinese')var _0x4e3cfd=users[_0x1975b5(0x1c6)];else{if(_0x350336[0x0]['language']==_0x1975b5(0x1c3))var _0x4e3cfd=users[_0x1975b5(0x1b9)];}}}}}}}_0x3599de[_0x1975b5(0x1af)](0xc8)[_0x1975b5(0x1bf)]({'product_data':_0x435818,'warehouse_data':_0x592216,'language':_0x4e3cfd});}catch(_0x1452ba){console[_0x1975b5(0x1cf)](_0x1452ba);}}),router['post']('/Reports',async(_0x4b459c,_0x12ac86)=>{var _0x476e99=a0_0x2fcd5d;const {warehouseNew:_0x3f682d,rooms:_0x544f67,Type:_0x39835b,process_cat:_0xa7266b,room_cat:_0x45c349}=_0x4b459c[_0x476e99(0x1a0)];let _0x12477f;console['log'](_0x4b459c[_0x476e99(0x1a0)]);if(_0xa7266b==_0x476e99(0x1d1))_0x12477f=await warehouse[_0x476e99(0x1d0)]([{'$match':{'name':_0x3f682d,'room':_0x544f67,'warehouse_category':'Raw\x20Materials'}},{'$unwind':'$product_details'},{'$match':{'product_details.type':_0x39835b,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0xa7266b==_0x476e99(0x1ac)?_0x544f67=='All'?_0x12477f=await warehouse[_0x476e99(0x1d0)]([{'$match':{'name':_0x3f682d,'warehouse_category':_0x476e99(0x1bd)}},{'$unwind':_0x476e99(0x1a5)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x12477f=await warehouse[_0x476e99(0x1d0)]([{'$match':{'name':_0x3f682d,'room':_0x544f67,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0x476e99(0x1a5)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x476e99(0x1cf)](_0x476e99(0x1bb)),Include=[{'$unwind':_0x476e99(0x1a5)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x12477f=await warehouse['aggregate'](Include));_0x12ac86['json'](_0x12477f);}),router['post'](a0_0x2fcd5d(0x1cc),async(_0x38827a,_0x1a27a5)=>{var _0x430d06=a0_0x2fcd5d;const {warehouseNew:_0x5844d4,rooms:_0x337b18,Type:_0x5ce7a2,process_cat:_0x43dc66,room_cat:_0x18bd3c}=_0x38827a[_0x430d06(0x1a0)],_0x23a038=await product[_0x430d06(0x1a4)]();_0x1a27a5[_0x430d06(0x1bf)](_0x23a038);}),module['exports']=router;function a0_0x3cb6(){var _0x5d1839=['Chinese','$product_details.product_stock','warehouse','111','warehouse_data','English\x20(US)','/Reports_product','$product_docs.category','user','log','aggregate','raw','English','product_data','express','$product_docs','Hindi','role_data','55950vdvnSJ','Router','534090HrdoTI','$product_details.product_name','../public/language/languages.json','render','3102200kqrDRO','Spanish','params','467096fzuXrH','get','product_details.rak_name','body','email','3362170yyBUmS','French','find','$product_details','747775PuhwgE','$product_docs.sku','9RrWMMv','errors','/view/:id','Portuguese','finish','master','$product_docs.brand','status','language','/view/warehouse/:id','German','Portuguese\x20(BR)','product_details.bin_name','product_docs','/view','success','../models/all_models','Arabic','10911jCQmze','ssd','product_details.product_name','Finished\x20Goods','findOne','json','products','44uaYxTs','name','Arabic\x20(ae)','10TfGmCF','../middleware/auth'];a0_0x3cb6=function(){return _0x5d1839;};return a0_0x3cb6();}