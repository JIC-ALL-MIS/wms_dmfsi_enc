var a0_0x4b4e5b=a0_0x54f9;(function(_0x387f7b,_0x34e4c9){var _0x38fe89=a0_0x54f9,_0x2f3cd6=_0x387f7b();while(!![]){try{var _0x5273d3=-parseInt(_0x38fe89(0x21d))/0x1+-parseInt(_0x38fe89(0x20b))/0x2*(parseInt(_0x38fe89(0x22d))/0x3)+parseInt(_0x38fe89(0x224))/0x4*(parseInt(_0x38fe89(0x1fe))/0x5)+-parseInt(_0x38fe89(0x21c))/0x6+parseInt(_0x38fe89(0x223))/0x7+parseInt(_0x38fe89(0x204))/0x8+parseInt(_0x38fe89(0x1f5))/0x9;if(_0x5273d3===_0x34e4c9)break;else _0x2f3cd6['push'](_0x2f3cd6['shift']());}catch(_0x4fed35){_0x2f3cd6['push'](_0x2f3cd6['shift']());}}}(a0_0x4376,0xd530e));function a0_0x4376(){var _0x47d504=['Spanish','name','2411748GeRigZ','172215FKuAcb','Portuguese','../models/all_models','product_data','post','flash','1587985pGurTY','13276cpQEIs','warehouse_data','stock_report','master','English\x20(US)','German','$product_docs.sku','finish','Arabic','4890CKByKb','product_details.rak_name','Raw\x20Materials','$product_docs.category','111','../middleware/auth','Router','express','5089212MDqFAb','body','get','params','aggregate','/Reports','French','products','$product_docs.unit','285FAILEx','findOne','raw','status','$product_details','log','8330296ltIfWa','warehouse','Hindi','$product_details.product_stock','find','ssd','success','706HqKMBt','errors','/view/product/:id','Portuguese\x20(BR)','language','Finished\x20Goods','product_details.product_name','user','Chinese','Arabic\x20(ae)','$product_details.product_name','/view/warehouse/:id','json','product_details.bin_name','English'];a0_0x4376=function(){return _0x47d504;};return a0_0x4376();}function a0_0x54f9(_0x5e563b,_0x970b46){var _0x437654=a0_0x4376();return a0_0x54f9=function(_0x54f990,_0x169cf7){_0x54f990=_0x54f990-0x1f3;var _0x23347c=_0x437654[_0x54f990];return _0x23347c;},a0_0x54f9(_0x5e563b,_0x970b46);}const express=require(a0_0x4b4e5b(0x1f4)),app=express(),router=express[a0_0x4b4e5b(0x1f3)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x4b4e5b(0x21f)),auth=require(a0_0x4b4e5b(0x232)),users=require('../public/language/languages.json');router[a0_0x4b4e5b(0x1f7)]('/view',auth,async(_0x3032f4,_0xc8b29f)=>{var _0x360746=a0_0x4b4e5b;try{const _0x581029=_0x3032f4[_0x360746(0x212)];console[_0x360746(0x203)]('role_data',_0x3032f4[_0x360746(0x212)]);const _0x1fc98c=await profile['findOne']({'email':_0x581029['email']}),_0x56f5ca=await master_shop[_0x360746(0x208)]();console[_0x360746(0x203)](_0x360746(0x227),_0x56f5ca);const _0x2e5ef9=await warehouse['find']({}),_0x1414f3=await product[_0x360746(0x208)]({});if(_0x56f5ca[0x0][_0x360746(0x20f)]==_0x360746(0x228)){var _0x15086d=users[_0x360746(0x219)];console[_0x360746(0x203)](_0x15086d);}else{if(_0x56f5ca[0x0][_0x360746(0x20f)]==_0x360746(0x206))var _0x15086d=users[_0x360746(0x206)];else{if(_0x56f5ca[0x0][_0x360746(0x20f)]==_0x360746(0x229))var _0x15086d=users[_0x360746(0x229)];else{if(_0x56f5ca[0x0][_0x360746(0x20f)]==_0x360746(0x21a))var _0x15086d=users[_0x360746(0x21a)];else{if(_0x56f5ca[0x0][_0x360746(0x20f)]==_0x360746(0x1fb))var _0x15086d=users['French'];else{if(_0x56f5ca[0x0][_0x360746(0x20f)]==_0x360746(0x20e))var _0x15086d=users['Portuguese'];else{if(_0x56f5ca[0x0][_0x360746(0x20f)]==_0x360746(0x213))var _0x15086d=users[_0x360746(0x213)];else{if(_0x56f5ca[0x0][_0x360746(0x20f)]==_0x360746(0x214))var _0x15086d=users[_0x360746(0x22c)];}}}}}}}_0xc8b29f['render'](_0x360746(0x226),{'success':_0x3032f4[_0x360746(0x222)](_0x360746(0x20a)),'errors':_0x3032f4[_0x360746(0x222)](_0x360746(0x20c)),'role':_0x581029,'profile':_0x1fc98c,'master_shop':_0x56f5ca,'warehouse':_0x2e5ef9,'product':_0x1414f3,'warehouse_doc':[],'product_doc':[],'language':_0x15086d});}catch(_0x10b6ce){console[_0x360746(0x203)](_0x10b6ce);}}),router['get']('/view/:id',auth,async(_0x3368c6,_0x51afe9)=>{var _0x4d2dff=a0_0x4b4e5b;try{const _0x534249=await master_shop[_0x4d2dff(0x208)]();console['log'](_0x4d2dff(0x227),_0x534249);if(_0x3368c6[_0x4d2dff(0x1f8)]['id']=='warehouse'){const _0x175bf5=await warehouse[_0x4d2dff(0x208)]();console[_0x4d2dff(0x203)](_0x175bf5);if(_0x534249[0x0]['language']==_0x4d2dff(0x228)){var _0x2531e2=users[_0x4d2dff(0x219)];console['log'](_0x2531e2);}else{if(_0x534249[0x0][_0x4d2dff(0x20f)]==_0x4d2dff(0x206))var _0x2531e2=users['Hindi'];else{if(_0x534249[0x0][_0x4d2dff(0x20f)]==_0x4d2dff(0x229))var _0x2531e2=users[_0x4d2dff(0x229)];else{if(_0x534249[0x0]['language']==_0x4d2dff(0x21a))var _0x2531e2=users['Spanish'];else{if(_0x534249[0x0][_0x4d2dff(0x20f)]==_0x4d2dff(0x1fb))var _0x2531e2=users['French'];else{if(_0x534249[0x0][_0x4d2dff(0x20f)]==_0x4d2dff(0x20e))var _0x2531e2=users[_0x4d2dff(0x21e)];else{if(_0x534249[0x0][_0x4d2dff(0x20f)]=='Chinese')var _0x2531e2=users[_0x4d2dff(0x213)];else{if(_0x534249[0x0]['language']==_0x4d2dff(0x214))var _0x2531e2=users[_0x4d2dff(0x22c)];}}}}}}}_0x51afe9[_0x4d2dff(0x201)](0xc8)[_0x4d2dff(0x217)]({'data':_0x175bf5,'language':_0x2531e2[_0x4d2dff(0x205)]});}else{const _0x1ea12a=await product[_0x4d2dff(0x208)]();console[_0x4d2dff(0x203)](_0x4d2dff(0x231),_0x1ea12a);if(_0x534249[0x0][_0x4d2dff(0x20f)]=='English\x20(US)'){var _0x2531e2=users[_0x4d2dff(0x219)];console['log'](_0x2531e2);}else{if(_0x534249[0x0][_0x4d2dff(0x20f)]==_0x4d2dff(0x206))var _0x2531e2=users[_0x4d2dff(0x206)];else{if(_0x534249[0x0]['language']==_0x4d2dff(0x229))var _0x2531e2=users[_0x4d2dff(0x229)];else{if(_0x534249[0x0][_0x4d2dff(0x20f)]==_0x4d2dff(0x21a))var _0x2531e2=users[_0x4d2dff(0x21a)];else{if(_0x534249[0x0][_0x4d2dff(0x20f)]==_0x4d2dff(0x1fb))var _0x2531e2=users['French'];else{if(_0x534249[0x0][_0x4d2dff(0x20f)]==_0x4d2dff(0x20e))var _0x2531e2=users[_0x4d2dff(0x21e)];else{if(_0x534249[0x0][_0x4d2dff(0x20f)]=='Chinese')var _0x2531e2=users[_0x4d2dff(0x213)];else{if(_0x534249[0x0][_0x4d2dff(0x20f)]==_0x4d2dff(0x214))var _0x2531e2=users['Arabic'];}}}}}}}_0x51afe9[_0x4d2dff(0x201)](0xc8)[_0x4d2dff(0x217)]({'data':_0x1ea12a,'language':_0x2531e2[_0x4d2dff(0x1fc)]});}}catch(_0x25dc56){console[_0x4d2dff(0x203)](_0x25dc56);}}),router[a0_0x4b4e5b(0x1f7)](a0_0x4b4e5b(0x216),auth,async(_0x48cbbe,_0x2601e7)=>{var _0x1d11dc=a0_0x4b4e5b;try{const _0x1b8ee0=_0x48cbbe[_0x1d11dc(0x1f8)]['id'];console[_0x1d11dc(0x203)](_0x1b8ee0);const _0x30e0b9=await master_shop[_0x1d11dc(0x208)]();console[_0x1d11dc(0x203)](_0x1d11dc(0x227),_0x30e0b9);const _0x5c9796=await warehouse[_0x1d11dc(0x1f9)]([{'$match':{'name':_0x1b8ee0}},{'$unwind':_0x1d11dc(0x202)},{'$lookup':{'from':_0x1d11dc(0x1fc),'localField':_0x1d11dc(0x211),'foreignField':_0x1d11dc(0x21b),'as':'product_docs'}},{'$unwind':'$product_docs'},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x1d11dc(0x207),'category':_0x1d11dc(0x230),'brand':'$product_docs.brand','sku':_0x1d11dc(0x22a),'unit':_0x1d11dc(0x1fd),'rak':_0x1d11dc(0x22e),'bin':_0x1d11dc(0x218)}}]);console[_0x1d11dc(0x203)](_0x5c9796);if(_0x30e0b9[0x0][_0x1d11dc(0x20f)]=='English\x20(US)'){var _0x33d78d=users[_0x1d11dc(0x219)];console[_0x1d11dc(0x203)](_0x33d78d);}else{if(_0x30e0b9[0x0][_0x1d11dc(0x20f)]==_0x1d11dc(0x206))var _0x33d78d=users[_0x1d11dc(0x206)];else{if(_0x30e0b9[0x0][_0x1d11dc(0x20f)]==_0x1d11dc(0x229))var _0x33d78d=users['German'];else{if(_0x30e0b9[0x0]['language']==_0x1d11dc(0x21a))var _0x33d78d=users[_0x1d11dc(0x21a)];else{if(_0x30e0b9[0x0][_0x1d11dc(0x20f)]==_0x1d11dc(0x1fb))var _0x33d78d=users[_0x1d11dc(0x1fb)];else{if(_0x30e0b9[0x0][_0x1d11dc(0x20f)]==_0x1d11dc(0x20e))var _0x33d78d=users['Portuguese'];else{if(_0x30e0b9[0x0][_0x1d11dc(0x20f)]==_0x1d11dc(0x213))var _0x33d78d=users['Chinese'];else{if(_0x30e0b9[0x0][_0x1d11dc(0x20f)]==_0x1d11dc(0x214))var _0x33d78d=users[_0x1d11dc(0x22c)];}}}}}}}_0x2601e7[_0x1d11dc(0x201)](0xc8)[_0x1d11dc(0x217)]({'data':_0x5c9796,'language':_0x33d78d});}catch(_0x5eb4d0){console[_0x1d11dc(0x203)](_0x5eb4d0);}}),router['get'](a0_0x4b4e5b(0x20d),auth,async(_0xf6bc02,_0x5229fe)=>{var _0xdf81e1=a0_0x4b4e5b;try{const _0x21e1a3=_0xf6bc02[_0xdf81e1(0x1f8)]['id'];console[_0xdf81e1(0x203)](_0x21e1a3);const _0x3638d9=await master_shop[_0xdf81e1(0x208)]();console[_0xdf81e1(0x203)](_0xdf81e1(0x227),_0x3638d9);const _0x30d065=await product[_0xdf81e1(0x1ff)]({'name':_0x21e1a3});console[_0xdf81e1(0x203)](_0xdf81e1(0x220),_0x30d065);const _0xfb67c5=await warehouse[_0xdf81e1(0x1f9)]([{'$unwind':_0xdf81e1(0x202)},{'$match':{'product_details.product_name':_0x21e1a3}},{'$project':{'name':0x1,'product_name':_0xdf81e1(0x215),'product_stock':_0xdf81e1(0x207)}}]);console[_0xdf81e1(0x203)](_0xdf81e1(0x225),_0xfb67c5);if(_0x3638d9[0x0]['language']==_0xdf81e1(0x228)){var _0x1f7c7a=users[_0xdf81e1(0x219)];console['log'](_0x1f7c7a);}else{if(_0x3638d9[0x0][_0xdf81e1(0x20f)]==_0xdf81e1(0x206))var _0x1f7c7a=users[_0xdf81e1(0x206)];else{if(_0x3638d9[0x0]['language']==_0xdf81e1(0x229))var _0x1f7c7a=users['German'];else{if(_0x3638d9[0x0][_0xdf81e1(0x20f)]=='Spanish')var _0x1f7c7a=users[_0xdf81e1(0x21a)];else{if(_0x3638d9[0x0][_0xdf81e1(0x20f)]==_0xdf81e1(0x1fb))var _0x1f7c7a=users[_0xdf81e1(0x1fb)];else{if(_0x3638d9[0x0][_0xdf81e1(0x20f)]==_0xdf81e1(0x20e))var _0x1f7c7a=users['Portuguese'];else{if(_0x3638d9[0x0][_0xdf81e1(0x20f)]==_0xdf81e1(0x213))var _0x1f7c7a=users['Chinese'];else{if(_0x3638d9[0x0][_0xdf81e1(0x20f)]==_0xdf81e1(0x214))var _0x1f7c7a=users[_0xdf81e1(0x22c)];}}}}}}}_0x5229fe[_0xdf81e1(0x201)](0xc8)[_0xdf81e1(0x217)]({'product_data':_0x30d065,'warehouse_data':_0xfb67c5,'language':_0x1f7c7a});}catch(_0x1461d9){console['log'](_0x1461d9);}}),router['post'](a0_0x4b4e5b(0x1fa),async(_0x5ba948,_0x515875)=>{var _0x29228c=a0_0x4b4e5b;const {warehouseNew:_0x21ff1e,rooms:_0x56aacd,Type:_0x5706d8,process_cat:_0x11686c,room_cat:_0x47adf0}=_0x5ba948['body'];let _0x52f76d;console[_0x29228c(0x203)](_0x5ba948[_0x29228c(0x1f6)]);if(_0x11686c==_0x29228c(0x200))_0x52f76d=await warehouse[_0x29228c(0x1f9)]([{'$match':{'name':_0x21ff1e,'room':_0x56aacd,'warehouse_category':_0x29228c(0x22f)}},{'$unwind':_0x29228c(0x202)},{'$match':{'product_details.type':_0x5706d8,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x11686c==_0x29228c(0x22b)?_0x56aacd=='All'?_0x52f76d=await warehouse[_0x29228c(0x1f9)]([{'$match':{'name':_0x21ff1e,'warehouse_category':_0x29228c(0x210)}},{'$unwind':_0x29228c(0x202)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x52f76d=await warehouse[_0x29228c(0x1f9)]([{'$match':{'name':_0x21ff1e,'room':_0x56aacd,'warehouse_category':_0x29228c(0x210)}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x29228c(0x203)](_0x29228c(0x209)),Include=[{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x52f76d=await warehouse[_0x29228c(0x1f9)](Include));_0x515875[_0x29228c(0x217)](_0x52f76d);}),router[a0_0x4b4e5b(0x221)]('/Reports_product',async(_0x2e1b66,_0x27856e)=>{var _0x5916fb=a0_0x4b4e5b;const {warehouseNew:_0x505bb0,rooms:_0x21f078,Type:_0x189f7d,process_cat:_0xf78e76,room_cat:_0x16fb6d}=_0x2e1b66[_0x5916fb(0x1f6)],_0x394da5=await product['find']();_0x27856e[_0x5916fb(0x217)](_0x394da5);}),module['exports']=router;