var a0_0x151d8c=a0_0x57c5;function a0_0x57c5(_0x237587,_0x1225c3){var _0x3dda11=a0_0x3dda();return a0_0x57c5=function(_0x57c5ce,_0x2370e1){_0x57c5ce=_0x57c5ce-0x1cd;var _0x41be1d=_0x3dda11[_0x57c5ce];return _0x41be1d;},a0_0x57c5(_0x237587,_0x1225c3);}function a0_0x3dda(){var _0x29c2d2=['$product_docs.category','/view','flash','exports','Arabic','body','5718942QTrPMW','French','$product_details.product_name','8538SBrsrv','298DJwCcO','10olPKeJ','111','8436wUryoh','Raw\x20Materials','Spanish','$product_details.product_stock','../public/language/languages.json','$product_docs.unit','10512848jbCyNS','Arabic\x20(ae)','master','/view/product/:id','user','log','status','ssd','finish','product_data','render','post','Hindi','Portuguese\x20(BR)','760JghjcW','get','German','$product_details','$product_docs','../models/all_models','419090TUDYqN','Chinese','/view/warehouse/:id','Finished\x20Goods','English','warehouse','Portuguese','raw','find','aggregate','findOne','products','role_data','json','$product_docs.brand','name','language','6662380IVJhQe','errors','$product_docs.sku','English\x20(US)','product_docs','14189517XoiOiE','product_details.product_name','success','params'];a0_0x3dda=function(){return _0x29c2d2;};return a0_0x3dda();}(function(_0x3b0382,_0x2730ad){var _0x5d3347=a0_0x57c5,_0x36e16a=_0x3b0382();while(!![]){try{var _0xb8ea8e=-parseInt(_0x5d3347(0x20c))/0x1*(parseInt(_0x5d3347(0x20d))/0x2)+parseInt(_0x5d3347(0x1cf))/0x3*(-parseInt(_0x5d3347(0x1e3))/0x4)+parseInt(_0x5d3347(0x1fa))/0x5+parseInt(_0x5d3347(0x209))/0x6+-parseInt(_0x5d3347(0x1e9))/0x7+-parseInt(_0x5d3347(0x1d5))/0x8+parseInt(_0x5d3347(0x1ff))/0x9*(parseInt(_0x5d3347(0x1cd))/0xa);if(_0xb8ea8e===_0x2730ad)break;else _0x36e16a['push'](_0x36e16a['shift']());}catch(_0x2dbfd0){_0x36e16a['push'](_0x36e16a['shift']());}}}(a0_0x3dda,0xa6764));const express=require('express'),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x151d8c(0x1e8)),auth=require('../middleware/auth'),users=require(a0_0x151d8c(0x1d3));router['get'](a0_0x151d8c(0x204),auth,async(_0x9122e9,_0x4ead4e)=>{var _0x5ece7b=a0_0x151d8c;try{const _0x188197=_0x9122e9[_0x5ece7b(0x1d9)];console[_0x5ece7b(0x1da)](_0x5ece7b(0x1f5),_0x9122e9[_0x5ece7b(0x1d9)]);const _0x3c6877=await profile[_0x5ece7b(0x1f3)]({'email':_0x188197['email']}),_0x39823f=await master_shop[_0x5ece7b(0x1f1)]();console['log'](_0x5ece7b(0x1d7),_0x39823f);const _0x378d30=await warehouse[_0x5ece7b(0x1f1)]({}),_0x536744=await product['find']({});if(_0x39823f[0x0]['language']==_0x5ece7b(0x1fd)){var _0x4d8ca4=users[_0x5ece7b(0x1ed)];console['log'](_0x4d8ca4);}else{if(_0x39823f[0x0]['language']==_0x5ece7b(0x1e1))var _0x4d8ca4=users[_0x5ece7b(0x1e1)];else{if(_0x39823f[0x0][_0x5ece7b(0x1f9)]==_0x5ece7b(0x1e5))var _0x4d8ca4=users[_0x5ece7b(0x1e5)];else{if(_0x39823f[0x0][_0x5ece7b(0x1f9)]==_0x5ece7b(0x1d1))var _0x4d8ca4=users[_0x5ece7b(0x1d1)];else{if(_0x39823f[0x0][_0x5ece7b(0x1f9)]==_0x5ece7b(0x20a))var _0x4d8ca4=users[_0x5ece7b(0x20a)];else{if(_0x39823f[0x0][_0x5ece7b(0x1f9)]==_0x5ece7b(0x1e2))var _0x4d8ca4=users[_0x5ece7b(0x1ef)];else{if(_0x39823f[0x0][_0x5ece7b(0x1f9)]==_0x5ece7b(0x1ea))var _0x4d8ca4=users['Chinese'];else{if(_0x39823f[0x0][_0x5ece7b(0x1f9)]==_0x5ece7b(0x1d6))var _0x4d8ca4=users[_0x5ece7b(0x207)];}}}}}}}_0x4ead4e[_0x5ece7b(0x1df)]('stock_report',{'success':_0x9122e9[_0x5ece7b(0x205)](_0x5ece7b(0x201)),'errors':_0x9122e9[_0x5ece7b(0x205)](_0x5ece7b(0x1fb)),'role':_0x188197,'profile':_0x3c6877,'master_shop':_0x39823f,'warehouse':_0x378d30,'product':_0x536744,'warehouse_doc':[],'product_doc':[],'language':_0x4d8ca4});}catch(_0x8cd71c){console[_0x5ece7b(0x1da)](_0x8cd71c);}}),router[a0_0x151d8c(0x1e4)]('/view/:id',auth,async(_0x613f7,_0x3533b1)=>{var _0x2d5b6d=a0_0x151d8c;try{const _0x28838f=await master_shop['find']();console[_0x2d5b6d(0x1da)]('master',_0x28838f);if(_0x613f7[_0x2d5b6d(0x202)]['id']==_0x2d5b6d(0x1ee)){const _0x9eefaf=await warehouse[_0x2d5b6d(0x1f1)]();console['log'](_0x9eefaf);if(_0x28838f[0x0][_0x2d5b6d(0x1f9)]==_0x2d5b6d(0x1fd)){var _0x3fa10f=users[_0x2d5b6d(0x1ed)];console[_0x2d5b6d(0x1da)](_0x3fa10f);}else{if(_0x28838f[0x0]['language']==_0x2d5b6d(0x1e1))var _0x3fa10f=users[_0x2d5b6d(0x1e1)];else{if(_0x28838f[0x0][_0x2d5b6d(0x1f9)]==_0x2d5b6d(0x1e5))var _0x3fa10f=users[_0x2d5b6d(0x1e5)];else{if(_0x28838f[0x0][_0x2d5b6d(0x1f9)]==_0x2d5b6d(0x1d1))var _0x3fa10f=users[_0x2d5b6d(0x1d1)];else{if(_0x28838f[0x0][_0x2d5b6d(0x1f9)]==_0x2d5b6d(0x20a))var _0x3fa10f=users['French'];else{if(_0x28838f[0x0]['language']==_0x2d5b6d(0x1e2))var _0x3fa10f=users['Portuguese'];else{if(_0x28838f[0x0][_0x2d5b6d(0x1f9)]==_0x2d5b6d(0x1ea))var _0x3fa10f=users[_0x2d5b6d(0x1ea)];else{if(_0x28838f[0x0][_0x2d5b6d(0x1f9)]==_0x2d5b6d(0x1d6))var _0x3fa10f=users[_0x2d5b6d(0x207)];}}}}}}}_0x3533b1[_0x2d5b6d(0x1db)](0xc8)[_0x2d5b6d(0x1f6)]({'data':_0x9eefaf,'language':_0x3fa10f[_0x2d5b6d(0x1ee)]});}else{const _0x526642=await product['find']();console[_0x2d5b6d(0x1da)](_0x2d5b6d(0x1ce),_0x526642);if(_0x28838f[0x0][_0x2d5b6d(0x1f9)]==_0x2d5b6d(0x1fd)){var _0x3fa10f=users[_0x2d5b6d(0x1ed)];console[_0x2d5b6d(0x1da)](_0x3fa10f);}else{if(_0x28838f[0x0][_0x2d5b6d(0x1f9)]==_0x2d5b6d(0x1e1))var _0x3fa10f=users[_0x2d5b6d(0x1e1)];else{if(_0x28838f[0x0][_0x2d5b6d(0x1f9)]==_0x2d5b6d(0x1e5))var _0x3fa10f=users[_0x2d5b6d(0x1e5)];else{if(_0x28838f[0x0][_0x2d5b6d(0x1f9)]==_0x2d5b6d(0x1d1))var _0x3fa10f=users[_0x2d5b6d(0x1d1)];else{if(_0x28838f[0x0]['language']==_0x2d5b6d(0x20a))var _0x3fa10f=users[_0x2d5b6d(0x20a)];else{if(_0x28838f[0x0][_0x2d5b6d(0x1f9)]==_0x2d5b6d(0x1e2))var _0x3fa10f=users['Portuguese'];else{if(_0x28838f[0x0][_0x2d5b6d(0x1f9)]==_0x2d5b6d(0x1ea))var _0x3fa10f=users['Chinese'];else{if(_0x28838f[0x0][_0x2d5b6d(0x1f9)]=='Arabic\x20(ae)')var _0x3fa10f=users[_0x2d5b6d(0x207)];}}}}}}}_0x3533b1[_0x2d5b6d(0x1db)](0xc8)[_0x2d5b6d(0x1f6)]({'data':_0x526642,'language':_0x3fa10f[_0x2d5b6d(0x1f4)]});}}catch(_0x5ed72b){console['log'](_0x5ed72b);}}),router[a0_0x151d8c(0x1e4)](a0_0x151d8c(0x1eb),auth,async(_0x21f965,_0x52dadb)=>{var _0x2ef94b=a0_0x151d8c;try{const _0x426008=_0x21f965[_0x2ef94b(0x202)]['id'];console[_0x2ef94b(0x1da)](_0x426008);const _0x5bc9e8=await master_shop['find']();console[_0x2ef94b(0x1da)](_0x2ef94b(0x1d7),_0x5bc9e8);const _0x38ed9c=await warehouse[_0x2ef94b(0x1f2)]([{'$match':{'name':_0x426008}},{'$unwind':_0x2ef94b(0x1e6)},{'$lookup':{'from':_0x2ef94b(0x1f4),'localField':_0x2ef94b(0x200),'foreignField':_0x2ef94b(0x1f8),'as':_0x2ef94b(0x1fe)}},{'$unwind':_0x2ef94b(0x1e7)},{'$project':{'name':0x1,'product_name':_0x2ef94b(0x20b),'product_stock':_0x2ef94b(0x1d2),'category':_0x2ef94b(0x203),'brand':_0x2ef94b(0x1f7),'sku':_0x2ef94b(0x1fc),'unit':_0x2ef94b(0x1d4),'rak':'product_details.rak_name','bin':'product_details.bin_name'}}]);console['log'](_0x38ed9c);if(_0x5bc9e8[0x0][_0x2ef94b(0x1f9)]=='English\x20(US)'){var _0x4316a4=users[_0x2ef94b(0x1ed)];console['log'](_0x4316a4);}else{if(_0x5bc9e8[0x0][_0x2ef94b(0x1f9)]==_0x2ef94b(0x1e1))var _0x4316a4=users[_0x2ef94b(0x1e1)];else{if(_0x5bc9e8[0x0][_0x2ef94b(0x1f9)]==_0x2ef94b(0x1e5))var _0x4316a4=users['German'];else{if(_0x5bc9e8[0x0][_0x2ef94b(0x1f9)]==_0x2ef94b(0x1d1))var _0x4316a4=users[_0x2ef94b(0x1d1)];else{if(_0x5bc9e8[0x0][_0x2ef94b(0x1f9)]==_0x2ef94b(0x20a))var _0x4316a4=users[_0x2ef94b(0x20a)];else{if(_0x5bc9e8[0x0][_0x2ef94b(0x1f9)]=='Portuguese\x20(BR)')var _0x4316a4=users[_0x2ef94b(0x1ef)];else{if(_0x5bc9e8[0x0][_0x2ef94b(0x1f9)]==_0x2ef94b(0x1ea))var _0x4316a4=users[_0x2ef94b(0x1ea)];else{if(_0x5bc9e8[0x0][_0x2ef94b(0x1f9)]==_0x2ef94b(0x1d6))var _0x4316a4=users[_0x2ef94b(0x207)];}}}}}}}_0x52dadb[_0x2ef94b(0x1db)](0xc8)['json']({'data':_0x38ed9c,'language':_0x4316a4});}catch(_0x4550ed){console['log'](_0x4550ed);}}),router[a0_0x151d8c(0x1e4)](a0_0x151d8c(0x1d8),auth,async(_0x331743,_0x2aacf9)=>{var _0x2b1d82=a0_0x151d8c;try{const _0x4914d3=_0x331743[_0x2b1d82(0x202)]['id'];console[_0x2b1d82(0x1da)](_0x4914d3);const _0xa32ed=await master_shop[_0x2b1d82(0x1f1)]();console['log'](_0x2b1d82(0x1d7),_0xa32ed);const _0x384388=await product['findOne']({'name':_0x4914d3});console[_0x2b1d82(0x1da)](_0x2b1d82(0x1de),_0x384388);const _0x36ccd9=await warehouse['aggregate']([{'$unwind':_0x2b1d82(0x1e6)},{'$match':{'product_details.product_name':_0x4914d3}},{'$project':{'name':0x1,'product_name':_0x2b1d82(0x20b),'product_stock':_0x2b1d82(0x1d2)}}]);console['log']('warehouse_data',_0x36ccd9);if(_0xa32ed[0x0][_0x2b1d82(0x1f9)]==_0x2b1d82(0x1fd)){var _0x22811a=users[_0x2b1d82(0x1ed)];console['log'](_0x22811a);}else{if(_0xa32ed[0x0][_0x2b1d82(0x1f9)]==_0x2b1d82(0x1e1))var _0x22811a=users[_0x2b1d82(0x1e1)];else{if(_0xa32ed[0x0][_0x2b1d82(0x1f9)]=='German')var _0x22811a=users[_0x2b1d82(0x1e5)];else{if(_0xa32ed[0x0][_0x2b1d82(0x1f9)]=='Spanish')var _0x22811a=users[_0x2b1d82(0x1d1)];else{if(_0xa32ed[0x0][_0x2b1d82(0x1f9)]==_0x2b1d82(0x20a))var _0x22811a=users[_0x2b1d82(0x20a)];else{if(_0xa32ed[0x0]['language']==_0x2b1d82(0x1e2))var _0x22811a=users[_0x2b1d82(0x1ef)];else{if(_0xa32ed[0x0][_0x2b1d82(0x1f9)]==_0x2b1d82(0x1ea))var _0x22811a=users['Chinese'];else{if(_0xa32ed[0x0][_0x2b1d82(0x1f9)]==_0x2b1d82(0x1d6))var _0x22811a=users[_0x2b1d82(0x207)];}}}}}}}_0x2aacf9[_0x2b1d82(0x1db)](0xc8)[_0x2b1d82(0x1f6)]({'product_data':_0x384388,'warehouse_data':_0x36ccd9,'language':_0x22811a});}catch(_0x4a2188){console[_0x2b1d82(0x1da)](_0x4a2188);}}),router[a0_0x151d8c(0x1e0)]('/Reports',async(_0x5c1bfe,_0x2d4fa5)=>{var _0x1e249a=a0_0x151d8c;const {warehouseNew:_0xd91dc5,rooms:_0x18a97b,Type:_0x5c9878,process_cat:_0x5589e8,room_cat:_0x5cad4e}=_0x5c1bfe[_0x1e249a(0x208)];let _0x5a9d83;console[_0x1e249a(0x1da)](_0x5c1bfe['body']);if(_0x5589e8==_0x1e249a(0x1f0))_0x5a9d83=await warehouse[_0x1e249a(0x1f2)]([{'$match':{'name':_0xd91dc5,'room':_0x18a97b,'warehouse_category':_0x1e249a(0x1d0)}},{'$unwind':_0x1e249a(0x1e6)},{'$match':{'product_details.type':_0x5c9878,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x5589e8==_0x1e249a(0x1dd)?_0x18a97b=='All'?_0x5a9d83=await warehouse[_0x1e249a(0x1f2)]([{'$match':{'name':_0xd91dc5,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0x1e249a(0x1e6)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x5a9d83=await warehouse[_0x1e249a(0x1f2)]([{'$match':{'name':_0xd91dc5,'room':_0x18a97b,'warehouse_category':_0x1e249a(0x1ec)}},{'$unwind':_0x1e249a(0x1e6)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console['log'](_0x1e249a(0x1dc)),Include=[{'$unwind':_0x1e249a(0x1e6)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x5a9d83=await warehouse[_0x1e249a(0x1f2)](Include));_0x2d4fa5[_0x1e249a(0x1f6)](_0x5a9d83);}),router[a0_0x151d8c(0x1e0)]('/Reports_product',async(_0x4a5d19,_0x2838c1)=>{var _0x30a3df=a0_0x151d8c;const {warehouseNew:_0x21d05d,rooms:_0x55d005,Type:_0x3a3d49,process_cat:_0x47096d,room_cat:_0xf2c326}=_0x4a5d19['body'],_0xb1f156=await product[_0x30a3df(0x1f1)]();_0x2838c1[_0x30a3df(0x1f6)](_0xb1f156);}),module[a0_0x151d8c(0x206)]=router;