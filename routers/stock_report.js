var a0_0x7c3e5d=a0_0x85da;function a0_0x10d1(){var _0x42b536=['success','ssd','warehouse_data','/Reports','finish','status','711VyRmEp','$product_docs','Arabic\x20(ae)','get','product_docs','77HJctGl','111','English','aggregate','$product_docs.sku','Portuguese\x20(BR)','exports','stock_report','/view/warehouse/:id','$product_details','Portuguese','log','products','post','email','/Reports_product','6BoVNAF','user','English\x20(US)','Router','121851WjDPFk','$product_details.product_stock','6805FXHqaa','/view','4075190nAtXIg','params','name','45080FDPPep','product_details.bin_name','$product_docs.category','German','Raw\x20Materials','$product_docs.unit','Hindi','French','$product_docs.brand','master','4KTrwGv','product_details.product_name','find','language','../public/language/languages.json','/view/product/:id','378790DGzaws','json','Chinese','332tZmXGt','errors','28382484xfkOYU','product_data','Spanish','91490iEzDUn','flash','Arabic','body'];a0_0x10d1=function(){return _0x42b536;};return a0_0x10d1();}(function(_0x13f27e,_0x26e413){var _0xce8dfb=a0_0x85da,_0x3651d3=_0x13f27e();while(!![]){try{var _0x460e67=-parseInt(_0xce8dfb(0xa2))/0x1*(parseInt(_0xce8dfb(0xba))/0x2)+-parseInt(_0xce8dfb(0xa0))/0x3*(parseInt(_0xce8dfb(0xb1))/0x4)+-parseInt(_0xce8dfb(0xbf))/0x5+parseInt(_0xce8dfb(0x9c))/0x6*(-parseInt(_0xce8dfb(0xa4))/0x7)+parseInt(_0xce8dfb(0xa7))/0x8*(parseInt(_0xce8dfb(0xc9))/0x9)+-parseInt(_0xce8dfb(0xb7))/0xa*(parseInt(_0xce8dfb(0xce))/0xb)+parseInt(_0xce8dfb(0xbc))/0xc;if(_0x460e67===_0x26e413)break;else _0x3651d3['push'](_0x3651d3['shift']());}catch(_0x404265){_0x3651d3['push'](_0x3651d3['shift']());}}}(a0_0x10d1,0xbd168));const express=require('express'),app=express(),router=express[a0_0x7c3e5d(0x9f)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require('../models/all_models'),auth=require('../middleware/auth'),users=require(a0_0x7c3e5d(0xb5));function a0_0x85da(_0x17b54f,_0x5a2e75){var _0x10d1f7=a0_0x10d1();return a0_0x85da=function(_0x85da19,_0x6f69c5){_0x85da19=_0x85da19-0x90;var _0x5d5bbf=_0x10d1f7[_0x85da19];return _0x5d5bbf;},a0_0x85da(_0x17b54f,_0x5a2e75);}router[a0_0x7c3e5d(0xcc)](a0_0x7c3e5d(0xa3),auth,async(_0x42bf02,_0x2e076d)=>{var _0x44cb71=a0_0x7c3e5d;try{const _0x3cabad=_0x42bf02['user'];console['log']('role_data',_0x42bf02[_0x44cb71(0x9d)]);const _0x195551=await profile['findOne']({'email':_0x3cabad[_0x44cb71(0x9a)]}),_0x3ccb59=await master_shop[_0x44cb71(0xb3)]();console['log'](_0x44cb71(0xb0),_0x3ccb59);const _0x5a1189=await warehouse[_0x44cb71(0xb3)]({}),_0x1fd7f9=await product[_0x44cb71(0xb3)]({});if(_0x3ccb59[0x0][_0x44cb71(0xb4)]==_0x44cb71(0x9e)){var _0x55893e=users[_0x44cb71(0xd0)];console[_0x44cb71(0x97)](_0x55893e);}else{if(_0x3ccb59[0x0][_0x44cb71(0xb4)]=='Hindi')var _0x55893e=users[_0x44cb71(0xad)];else{if(_0x3ccb59[0x0][_0x44cb71(0xb4)]==_0x44cb71(0xaa))var _0x55893e=users[_0x44cb71(0xaa)];else{if(_0x3ccb59[0x0][_0x44cb71(0xb4)]==_0x44cb71(0xbe))var _0x55893e=users[_0x44cb71(0xbe)];else{if(_0x3ccb59[0x0][_0x44cb71(0xb4)]==_0x44cb71(0xae))var _0x55893e=users[_0x44cb71(0xae)];else{if(_0x3ccb59[0x0][_0x44cb71(0xb4)]==_0x44cb71(0x91))var _0x55893e=users[_0x44cb71(0x96)];else{if(_0x3ccb59[0x0][_0x44cb71(0xb4)]==_0x44cb71(0xb9))var _0x55893e=users['Chinese'];else{if(_0x3ccb59[0x0][_0x44cb71(0xb4)]==_0x44cb71(0xcb))var _0x55893e=users['Arabic'];}}}}}}}_0x2e076d['render'](_0x44cb71(0x93),{'success':_0x42bf02[_0x44cb71(0xc0)](_0x44cb71(0xc3)),'errors':_0x42bf02[_0x44cb71(0xc0)](_0x44cb71(0xbb)),'role':_0x3cabad,'profile':_0x195551,'master_shop':_0x3ccb59,'warehouse':_0x5a1189,'product':_0x1fd7f9,'warehouse_doc':[],'product_doc':[],'language':_0x55893e});}catch(_0x34bf2c){console['log'](_0x34bf2c);}}),router[a0_0x7c3e5d(0xcc)]('/view/:id',auth,async(_0x408ea8,_0x7b2192)=>{var _0x9938f2=a0_0x7c3e5d;try{const _0x1e2196=await master_shop[_0x9938f2(0xb3)]();console[_0x9938f2(0x97)]('master',_0x1e2196);if(_0x408ea8[_0x9938f2(0xa5)]['id']=='warehouse'){const _0x36bd74=await warehouse[_0x9938f2(0xb3)]();console[_0x9938f2(0x97)](_0x36bd74);if(_0x1e2196[0x0][_0x9938f2(0xb4)]=='English\x20(US)'){var _0x141d72=users['English'];console[_0x9938f2(0x97)](_0x141d72);}else{if(_0x1e2196[0x0][_0x9938f2(0xb4)]=='Hindi')var _0x141d72=users['Hindi'];else{if(_0x1e2196[0x0][_0x9938f2(0xb4)]==_0x9938f2(0xaa))var _0x141d72=users['German'];else{if(_0x1e2196[0x0]['language']==_0x9938f2(0xbe))var _0x141d72=users[_0x9938f2(0xbe)];else{if(_0x1e2196[0x0][_0x9938f2(0xb4)]==_0x9938f2(0xae))var _0x141d72=users[_0x9938f2(0xae)];else{if(_0x1e2196[0x0][_0x9938f2(0xb4)]=='Portuguese\x20(BR)')var _0x141d72=users[_0x9938f2(0x96)];else{if(_0x1e2196[0x0][_0x9938f2(0xb4)]=='Chinese')var _0x141d72=users[_0x9938f2(0xb9)];else{if(_0x1e2196[0x0]['language']==_0x9938f2(0xcb))var _0x141d72=users['Arabic'];}}}}}}}_0x7b2192[_0x9938f2(0xc8)](0xc8)[_0x9938f2(0xb8)]({'data':_0x36bd74,'language':_0x141d72['warehouse']});}else{const _0x5d31c9=await product[_0x9938f2(0xb3)]();console[_0x9938f2(0x97)](_0x9938f2(0xcf),_0x5d31c9);if(_0x1e2196[0x0][_0x9938f2(0xb4)]==_0x9938f2(0x9e)){var _0x141d72=users[_0x9938f2(0xd0)];console[_0x9938f2(0x97)](_0x141d72);}else{if(_0x1e2196[0x0][_0x9938f2(0xb4)]=='Hindi')var _0x141d72=users[_0x9938f2(0xad)];else{if(_0x1e2196[0x0]['language']==_0x9938f2(0xaa))var _0x141d72=users['German'];else{if(_0x1e2196[0x0][_0x9938f2(0xb4)]==_0x9938f2(0xbe))var _0x141d72=users[_0x9938f2(0xbe)];else{if(_0x1e2196[0x0][_0x9938f2(0xb4)]=='French')var _0x141d72=users['French'];else{if(_0x1e2196[0x0]['language']=='Portuguese\x20(BR)')var _0x141d72=users[_0x9938f2(0x96)];else{if(_0x1e2196[0x0][_0x9938f2(0xb4)]=='Chinese')var _0x141d72=users[_0x9938f2(0xb9)];else{if(_0x1e2196[0x0][_0x9938f2(0xb4)]==_0x9938f2(0xcb))var _0x141d72=users[_0x9938f2(0xc1)];}}}}}}}_0x7b2192[_0x9938f2(0xc8)](0xc8)['json']({'data':_0x5d31c9,'language':_0x141d72[_0x9938f2(0x98)]});}}catch(_0x58b9b7){console[_0x9938f2(0x97)](_0x58b9b7);}}),router[a0_0x7c3e5d(0xcc)](a0_0x7c3e5d(0x94),auth,async(_0x38e567,_0x313dbd)=>{var _0x1c4379=a0_0x7c3e5d;try{const _0x140574=_0x38e567[_0x1c4379(0xa5)]['id'];console[_0x1c4379(0x97)](_0x140574);const _0x3ce8ea=await master_shop[_0x1c4379(0xb3)]();console[_0x1c4379(0x97)]('master',_0x3ce8ea);const _0x9a3f9c=await warehouse[_0x1c4379(0xd1)]([{'$match':{'name':_0x140574}},{'$unwind':_0x1c4379(0x95)},{'$lookup':{'from':_0x1c4379(0x98),'localField':_0x1c4379(0xb2),'foreignField':_0x1c4379(0xa6),'as':_0x1c4379(0xcd)}},{'$unwind':_0x1c4379(0xca)},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x1c4379(0xa1),'category':_0x1c4379(0xa9),'brand':_0x1c4379(0xaf),'sku':_0x1c4379(0x90),'unit':_0x1c4379(0xac),'rak':'product_details.rak_name','bin':_0x1c4379(0xa8)}}]);console[_0x1c4379(0x97)](_0x9a3f9c);if(_0x3ce8ea[0x0][_0x1c4379(0xb4)]==_0x1c4379(0x9e)){var _0x32dbf2=users[_0x1c4379(0xd0)];console['log'](_0x32dbf2);}else{if(_0x3ce8ea[0x0][_0x1c4379(0xb4)]==_0x1c4379(0xad))var _0x32dbf2=users[_0x1c4379(0xad)];else{if(_0x3ce8ea[0x0][_0x1c4379(0xb4)]==_0x1c4379(0xaa))var _0x32dbf2=users['German'];else{if(_0x3ce8ea[0x0][_0x1c4379(0xb4)]==_0x1c4379(0xbe))var _0x32dbf2=users['Spanish'];else{if(_0x3ce8ea[0x0][_0x1c4379(0xb4)]==_0x1c4379(0xae))var _0x32dbf2=users['French'];else{if(_0x3ce8ea[0x0][_0x1c4379(0xb4)]==_0x1c4379(0x91))var _0x32dbf2=users[_0x1c4379(0x96)];else{if(_0x3ce8ea[0x0][_0x1c4379(0xb4)]==_0x1c4379(0xb9))var _0x32dbf2=users[_0x1c4379(0xb9)];else{if(_0x3ce8ea[0x0][_0x1c4379(0xb4)]==_0x1c4379(0xcb))var _0x32dbf2=users[_0x1c4379(0xc1)];}}}}}}}_0x313dbd['status'](0xc8)[_0x1c4379(0xb8)]({'data':_0x9a3f9c,'language':_0x32dbf2});}catch(_0x2cdb2e){console[_0x1c4379(0x97)](_0x2cdb2e);}}),router[a0_0x7c3e5d(0xcc)](a0_0x7c3e5d(0xb6),auth,async(_0x23f463,_0x76a9fb)=>{var _0x3f151d=a0_0x7c3e5d;try{const _0x380104=_0x23f463['params']['id'];console[_0x3f151d(0x97)](_0x380104);const _0x976d29=await master_shop[_0x3f151d(0xb3)]();console[_0x3f151d(0x97)](_0x3f151d(0xb0),_0x976d29);const _0x1dd2e3=await product['findOne']({'name':_0x380104});console['log'](_0x3f151d(0xbd),_0x1dd2e3);const _0x4dab12=await warehouse['aggregate']([{'$unwind':_0x3f151d(0x95)},{'$match':{'product_details.product_name':_0x380104}},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x3f151d(0xa1)}}]);console[_0x3f151d(0x97)](_0x3f151d(0xc5),_0x4dab12);if(_0x976d29[0x0][_0x3f151d(0xb4)]==_0x3f151d(0x9e)){var _0x4bd5b2=users[_0x3f151d(0xd0)];console['log'](_0x4bd5b2);}else{if(_0x976d29[0x0][_0x3f151d(0xb4)]==_0x3f151d(0xad))var _0x4bd5b2=users[_0x3f151d(0xad)];else{if(_0x976d29[0x0][_0x3f151d(0xb4)]==_0x3f151d(0xaa))var _0x4bd5b2=users[_0x3f151d(0xaa)];else{if(_0x976d29[0x0][_0x3f151d(0xb4)]=='Spanish')var _0x4bd5b2=users['Spanish'];else{if(_0x976d29[0x0][_0x3f151d(0xb4)]==_0x3f151d(0xae))var _0x4bd5b2=users[_0x3f151d(0xae)];else{if(_0x976d29[0x0][_0x3f151d(0xb4)]=='Portuguese\x20(BR)')var _0x4bd5b2=users['Portuguese'];else{if(_0x976d29[0x0]['language']==_0x3f151d(0xb9))var _0x4bd5b2=users['Chinese'];else{if(_0x976d29[0x0]['language']==_0x3f151d(0xcb))var _0x4bd5b2=users[_0x3f151d(0xc1)];}}}}}}}_0x76a9fb[_0x3f151d(0xc8)](0xc8)[_0x3f151d(0xb8)]({'product_data':_0x1dd2e3,'warehouse_data':_0x4dab12,'language':_0x4bd5b2});}catch(_0x3f2c84){console[_0x3f151d(0x97)](_0x3f2c84);}}),router['post'](a0_0x7c3e5d(0xc6),async(_0x177a4e,_0xa8fb5d)=>{var _0xda418c=a0_0x7c3e5d;const {warehouseNew:_0x2d07dd,rooms:_0x3f7172,Type:_0x38b55d,process_cat:_0x25f73f,room_cat:_0x15f099}=_0x177a4e[_0xda418c(0xc2)];let _0x33e8c4;console[_0xda418c(0x97)](_0x177a4e[_0xda418c(0xc2)]);if(_0x25f73f=='raw')_0x33e8c4=await warehouse[_0xda418c(0xd1)]([{'$match':{'name':_0x2d07dd,'room':_0x3f7172,'warehouse_category':_0xda418c(0xab)}},{'$unwind':_0xda418c(0x95)},{'$match':{'product_details.type':_0x38b55d,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x25f73f==_0xda418c(0xc7)?_0x3f7172=='All'?_0x33e8c4=await warehouse[_0xda418c(0xd1)]([{'$match':{'name':_0x2d07dd,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0xda418c(0x95)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x33e8c4=await warehouse[_0xda418c(0xd1)]([{'$match':{'name':_0x2d07dd,'room':_0x3f7172,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0xda418c(0x95)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0xda418c(0x97)](_0xda418c(0xc4)),Include=[{'$unwind':_0xda418c(0x95)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x33e8c4=await warehouse[_0xda418c(0xd1)](Include));_0xa8fb5d[_0xda418c(0xb8)](_0x33e8c4);}),router[a0_0x7c3e5d(0x99)](a0_0x7c3e5d(0x9b),async(_0x1d0fd8,_0x1e451a)=>{var _0x358e72=a0_0x7c3e5d;const {warehouseNew:_0x404c46,rooms:_0x1d3137,Type:_0x373b73,process_cat:_0x336bbe,room_cat:_0x32610b}=_0x1d0fd8[_0x358e72(0xc2)],_0x25237c=await product[_0x358e72(0xb3)]();_0x1e451a['json'](_0x25237c);}),module[a0_0x7c3e5d(0x92)]=router;