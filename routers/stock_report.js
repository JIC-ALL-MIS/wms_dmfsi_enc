var a0_0x4862e1=a0_0x3b2c;(function(_0x4d2cbb,_0x52a3d4){var _0x173981=a0_0x3b2c,_0x788a19=_0x4d2cbb();while(!![]){try{var _0x234fd1=parseInt(_0x173981(0x1bb))/0x1*(-parseInt(_0x173981(0x1aa))/0x2)+-parseInt(_0x173981(0x1e0))/0x3*(-parseInt(_0x173981(0x1e1))/0x4)+-parseInt(_0x173981(0x1cc))/0x5*(-parseInt(_0x173981(0x1c4))/0x6)+-parseInt(_0x173981(0x1d7))/0x7*(-parseInt(_0x173981(0x1a8))/0x8)+parseInt(_0x173981(0x1c1))/0x9*(parseInt(_0x173981(0x1be))/0xa)+-parseInt(_0x173981(0x1c2))/0xb+-parseInt(_0x173981(0x1ca))/0xc;if(_0x234fd1===_0x52a3d4)break;else _0x788a19['push'](_0x788a19['shift']());}catch(_0x1a4122){_0x788a19['push'](_0x788a19['shift']());}}}(a0_0x35a4,0x599ed));const express=require(a0_0x4862e1(0x1ab)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x4862e1(0x1d1)),auth=require(a0_0x4862e1(0x1e8)),users=require('../public/language/languages.json');router[a0_0x4862e1(0x1dc)](a0_0x4862e1(0x1b2),auth,async(_0x31b7de,_0x460139)=>{var _0x26f4ec=a0_0x4862e1;try{const _0x2e4a91=_0x31b7de[_0x26f4ec(0x1b8)];console['log']('role_data',_0x31b7de['user']);const _0x2e0c8e=await profile['findOne']({'email':_0x2e4a91['email']}),_0x5bf02d=await master_shop[_0x26f4ec(0x1d3)]();console[_0x26f4ec(0x1d8)](_0x26f4ec(0x1de),_0x5bf02d);const _0x343647=await warehouse[_0x26f4ec(0x1d3)]({}),_0x1b5ac8=await product[_0x26f4ec(0x1d3)]({});if(_0x5bf02d[0x0]['language']==_0x26f4ec(0x1b6)){var _0x4bfbbd=users['English'];console[_0x26f4ec(0x1d8)](_0x4bfbbd);}else{if(_0x5bf02d[0x0][_0x26f4ec(0x1c8)]==_0x26f4ec(0x1da))var _0x4bfbbd=users[_0x26f4ec(0x1da)];else{if(_0x5bf02d[0x0][_0x26f4ec(0x1c8)]==_0x26f4ec(0x1e6))var _0x4bfbbd=users['German'];else{if(_0x5bf02d[0x0][_0x26f4ec(0x1c8)]=='Spanish')var _0x4bfbbd=users[_0x26f4ec(0x1bc)];else{if(_0x5bf02d[0x0][_0x26f4ec(0x1c8)]==_0x26f4ec(0x1ad))var _0x4bfbbd=users[_0x26f4ec(0x1ad)];else{if(_0x5bf02d[0x0]['language']=='Portuguese\x20(BR)')var _0x4bfbbd=users[_0x26f4ec(0x1cf)];else{if(_0x5bf02d[0x0][_0x26f4ec(0x1c8)]==_0x26f4ec(0x1b1))var _0x4bfbbd=users['Chinese'];else{if(_0x5bf02d[0x0][_0x26f4ec(0x1c8)]==_0x26f4ec(0x1b3))var _0x4bfbbd=users[_0x26f4ec(0x1c9)];}}}}}}}_0x460139[_0x26f4ec(0x1ce)](_0x26f4ec(0x1a9),{'success':_0x31b7de['flash']('success'),'errors':_0x31b7de[_0x26f4ec(0x1ba)](_0x26f4ec(0x1c7)),'role':_0x2e4a91,'profile':_0x2e0c8e,'master_shop':_0x5bf02d,'warehouse':_0x343647,'product':_0x1b5ac8,'warehouse_doc':[],'product_doc':[],'language':_0x4bfbbd});}catch(_0x11398f){console[_0x26f4ec(0x1d8)](_0x11398f);}}),router[a0_0x4862e1(0x1dc)]('/view/:id',auth,async(_0x34cfb8,_0xb1daef)=>{var _0x372b8f=a0_0x4862e1;try{const _0x574689=await master_shop[_0x372b8f(0x1d3)]();console['log'](_0x372b8f(0x1de),_0x574689);if(_0x34cfb8[_0x372b8f(0x1ae)]['id']=='warehouse'){const _0x2879a5=await warehouse[_0x372b8f(0x1d3)]();console[_0x372b8f(0x1d8)](_0x2879a5);if(_0x574689[0x0]['language']==_0x372b8f(0x1b6)){var _0x20ceca=users[_0x372b8f(0x1d9)];console[_0x372b8f(0x1d8)](_0x20ceca);}else{if(_0x574689[0x0][_0x372b8f(0x1c8)]==_0x372b8f(0x1da))var _0x20ceca=users[_0x372b8f(0x1da)];else{if(_0x574689[0x0][_0x372b8f(0x1c8)]=='German')var _0x20ceca=users['German'];else{if(_0x574689[0x0][_0x372b8f(0x1c8)]==_0x372b8f(0x1bc))var _0x20ceca=users[_0x372b8f(0x1bc)];else{if(_0x574689[0x0][_0x372b8f(0x1c8)]==_0x372b8f(0x1ad))var _0x20ceca=users['French'];else{if(_0x574689[0x0][_0x372b8f(0x1c8)]==_0x372b8f(0x1ac))var _0x20ceca=users['Portuguese'];else{if(_0x574689[0x0][_0x372b8f(0x1c8)]==_0x372b8f(0x1b1))var _0x20ceca=users[_0x372b8f(0x1b1)];else{if(_0x574689[0x0][_0x372b8f(0x1c8)]=='Arabic\x20(ae)')var _0x20ceca=users['Arabic'];}}}}}}}_0xb1daef[_0x372b8f(0x1e7)](0xc8)['json']({'data':_0x2879a5,'language':_0x20ceca[_0x372b8f(0x1cd)]});}else{const _0x135844=await product[_0x372b8f(0x1d3)]();console['log']('111',_0x135844);if(_0x574689[0x0]['language']==_0x372b8f(0x1b6)){var _0x20ceca=users[_0x372b8f(0x1d9)];console[_0x372b8f(0x1d8)](_0x20ceca);}else{if(_0x574689[0x0][_0x372b8f(0x1c8)]==_0x372b8f(0x1da))var _0x20ceca=users[_0x372b8f(0x1da)];else{if(_0x574689[0x0][_0x372b8f(0x1c8)]==_0x372b8f(0x1e6))var _0x20ceca=users[_0x372b8f(0x1e6)];else{if(_0x574689[0x0]['language']==_0x372b8f(0x1bc))var _0x20ceca=users[_0x372b8f(0x1bc)];else{if(_0x574689[0x0]['language']==_0x372b8f(0x1ad))var _0x20ceca=users[_0x372b8f(0x1ad)];else{if(_0x574689[0x0][_0x372b8f(0x1c8)]==_0x372b8f(0x1ac))var _0x20ceca=users[_0x372b8f(0x1cf)];else{if(_0x574689[0x0][_0x372b8f(0x1c8)]==_0x372b8f(0x1b1))var _0x20ceca=users[_0x372b8f(0x1b1)];else{if(_0x574689[0x0]['language']==_0x372b8f(0x1b3))var _0x20ceca=users[_0x372b8f(0x1c9)];}}}}}}}_0xb1daef['status'](0xc8)[_0x372b8f(0x1c6)]({'data':_0x135844,'language':_0x20ceca[_0x372b8f(0x1e5)]});}}catch(_0x1ee374){console[_0x372b8f(0x1d8)](_0x1ee374);}}),router[a0_0x4862e1(0x1dc)](a0_0x4862e1(0x1b5),auth,async(_0x1abb97,_0x201da2)=>{var _0x119849=a0_0x4862e1;try{const _0x425702=_0x1abb97[_0x119849(0x1ae)]['id'];console['log'](_0x425702);const _0x2b4606=await master_shop[_0x119849(0x1d3)]();console[_0x119849(0x1d8)](_0x119849(0x1de),_0x2b4606);const _0x27c4d3=await warehouse[_0x119849(0x1d4)]([{'$match':{'name':_0x425702}},{'$unwind':_0x119849(0x1d0)},{'$lookup':{'from':'products','localField':_0x119849(0x1dd),'foreignField':_0x119849(0x1d5),'as':_0x119849(0x1db)}},{'$unwind':_0x119849(0x1df)},{'$project':{'name':0x1,'product_name':_0x119849(0x1e2),'product_stock':_0x119849(0x1d6),'category':_0x119849(0x1c5),'brand':_0x119849(0x1cb),'sku':_0x119849(0x1b9),'unit':_0x119849(0x1b7),'rak':_0x119849(0x1c0),'bin':_0x119849(0x1e3)}}]);console[_0x119849(0x1d8)](_0x27c4d3);if(_0x2b4606[0x0][_0x119849(0x1c8)]==_0x119849(0x1b6)){var _0x2d69d1=users[_0x119849(0x1d9)];console[_0x119849(0x1d8)](_0x2d69d1);}else{if(_0x2b4606[0x0][_0x119849(0x1c8)]==_0x119849(0x1da))var _0x2d69d1=users[_0x119849(0x1da)];else{if(_0x2b4606[0x0][_0x119849(0x1c8)]=='German')var _0x2d69d1=users['German'];else{if(_0x2b4606[0x0][_0x119849(0x1c8)]=='Spanish')var _0x2d69d1=users[_0x119849(0x1bc)];else{if(_0x2b4606[0x0][_0x119849(0x1c8)]==_0x119849(0x1ad))var _0x2d69d1=users[_0x119849(0x1ad)];else{if(_0x2b4606[0x0]['language']=='Portuguese\x20(BR)')var _0x2d69d1=users['Portuguese'];else{if(_0x2b4606[0x0][_0x119849(0x1c8)]==_0x119849(0x1b1))var _0x2d69d1=users['Chinese'];else{if(_0x2b4606[0x0]['language']==_0x119849(0x1b3))var _0x2d69d1=users[_0x119849(0x1c9)];}}}}}}}_0x201da2[_0x119849(0x1e7)](0xc8)[_0x119849(0x1c6)]({'data':_0x27c4d3,'language':_0x2d69d1});}catch(_0x4b5dbb){console[_0x119849(0x1d8)](_0x4b5dbb);}}),router[a0_0x4862e1(0x1dc)]('/view/product/:id',auth,async(_0x43ebc7,_0x6b206b)=>{var _0x2cf07e=a0_0x4862e1;try{const _0x5d71a5=_0x43ebc7[_0x2cf07e(0x1ae)]['id'];console[_0x2cf07e(0x1d8)](_0x5d71a5);const _0x2b2bbc=await master_shop[_0x2cf07e(0x1d3)]();console[_0x2cf07e(0x1d8)]('master',_0x2b2bbc);const _0x4ae714=await product['findOne']({'name':_0x5d71a5});console[_0x2cf07e(0x1d8)](_0x2cf07e(0x1bd),_0x4ae714);const _0x8205a3=await warehouse['aggregate']([{'$unwind':_0x2cf07e(0x1d0)},{'$match':{'product_details.product_name':_0x5d71a5}},{'$project':{'name':0x1,'product_name':_0x2cf07e(0x1e2),'product_stock':'$product_details.product_stock'}}]);console[_0x2cf07e(0x1d8)]('warehouse_data',_0x8205a3);if(_0x2b2bbc[0x0][_0x2cf07e(0x1c8)]=='English\x20(US)'){var _0x3ef54=users[_0x2cf07e(0x1d9)];console[_0x2cf07e(0x1d8)](_0x3ef54);}else{if(_0x2b2bbc[0x0][_0x2cf07e(0x1c8)]==_0x2cf07e(0x1da))var _0x3ef54=users['Hindi'];else{if(_0x2b2bbc[0x0][_0x2cf07e(0x1c8)]==_0x2cf07e(0x1e6))var _0x3ef54=users[_0x2cf07e(0x1e6)];else{if(_0x2b2bbc[0x0][_0x2cf07e(0x1c8)]==_0x2cf07e(0x1bc))var _0x3ef54=users[_0x2cf07e(0x1bc)];else{if(_0x2b2bbc[0x0][_0x2cf07e(0x1c8)]==_0x2cf07e(0x1ad))var _0x3ef54=users[_0x2cf07e(0x1ad)];else{if(_0x2b2bbc[0x0][_0x2cf07e(0x1c8)]==_0x2cf07e(0x1ac))var _0x3ef54=users[_0x2cf07e(0x1cf)];else{if(_0x2b2bbc[0x0][_0x2cf07e(0x1c8)]==_0x2cf07e(0x1b1))var _0x3ef54=users[_0x2cf07e(0x1b1)];else{if(_0x2b2bbc[0x0][_0x2cf07e(0x1c8)]==_0x2cf07e(0x1b3))var _0x3ef54=users[_0x2cf07e(0x1c9)];}}}}}}}_0x6b206b[_0x2cf07e(0x1e7)](0xc8)[_0x2cf07e(0x1c6)]({'product_data':_0x4ae714,'warehouse_data':_0x8205a3,'language':_0x3ef54});}catch(_0x3ea9cc){console[_0x2cf07e(0x1d8)](_0x3ea9cc);}}),router[a0_0x4862e1(0x1b0)](a0_0x4862e1(0x1b4),async(_0x4beaf9,_0x364fba)=>{var _0x3c62c8=a0_0x4862e1;const {warehouseNew:_0x435da2,rooms:_0x5847c2,Type:_0xedb9d3,process_cat:_0x53c0ef,room_cat:_0x556567}=_0x4beaf9[_0x3c62c8(0x1d2)];let _0x2a7379;console[_0x3c62c8(0x1d8)](_0x4beaf9['body']);if(_0x53c0ef==_0x3c62c8(0x1bf))_0x2a7379=await warehouse[_0x3c62c8(0x1d4)]([{'$match':{'name':_0x435da2,'room':_0x5847c2,'warehouse_category':_0x3c62c8(0x1c3)}},{'$unwind':_0x3c62c8(0x1d0)},{'$match':{'product_details.type':_0xedb9d3,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x53c0ef=='finish'?_0x5847c2=='All'?_0x2a7379=await warehouse[_0x3c62c8(0x1d4)]([{'$match':{'name':_0x435da2,'warehouse_category':_0x3c62c8(0x1af)}},{'$unwind':_0x3c62c8(0x1d0)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x2a7379=await warehouse['aggregate']([{'$match':{'name':_0x435da2,'room':_0x5847c2,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0x3c62c8(0x1d0)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x3c62c8(0x1d8)]('ssd'),Include=[{'$unwind':_0x3c62c8(0x1d0)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x2a7379=await warehouse['aggregate'](Include));_0x364fba[_0x3c62c8(0x1c6)](_0x2a7379);}),router[a0_0x4862e1(0x1b0)](a0_0x4862e1(0x1e9),async(_0x55a211,_0x599c9c)=>{var _0x4ee55f=a0_0x4862e1;const {warehouseNew:_0x2c47bd,rooms:_0x3e1589,Type:_0x327c38,process_cat:_0x5e24d8,room_cat:_0x198261}=_0x55a211[_0x4ee55f(0x1d2)],_0x4666ae=await product[_0x4ee55f(0x1d3)]();_0x599c9c[_0x4ee55f(0x1c6)](_0x4666ae);}),module[a0_0x4862e1(0x1e4)]=router;function a0_0x3b2c(_0x3fac6f,_0x2dc5b0){var _0x35a4b3=a0_0x35a4();return a0_0x3b2c=function(_0x3b2c04,_0x43f203){_0x3b2c04=_0x3b2c04-0x1a8;var _0x1f2da9=_0x35a4b3[_0x3b2c04];return _0x1f2da9;},a0_0x3b2c(_0x3fac6f,_0x2dc5b0);}function a0_0x35a4(){var _0x1104f8=['Portuguese','$product_details','../models/all_models','body','find','aggregate','name','$product_details.product_stock','7AivymV','log','English','Hindi','product_docs','get','product_details.product_name','master','$product_docs','1503aarJtY','168Dgsldy','$product_details.product_name','product_details.bin_name','exports','products','German','status','../middleware/auth','/Reports_product','3777080pAmIze','stock_report','258904jiMycq','express','Portuguese\x20(BR)','French','params','Finished\x20Goods','post','Chinese','/view','Arabic\x20(ae)','/Reports','/view/warehouse/:id','English\x20(US)','$product_docs.unit','user','$product_docs.sku','flash','1ufhgWD','Spanish','product_data','59380aezaVF','raw','product_details.rak_name','225WrWbHo','4832652iPiKll','Raw\x20Materials','1106652VCzIRa','$product_docs.category','json','errors','language','Arabic','3109008hXAGnc','$product_docs.brand','15uPkKCu','warehouse','render'];a0_0x35a4=function(){return _0x1104f8;};return a0_0x35a4();}