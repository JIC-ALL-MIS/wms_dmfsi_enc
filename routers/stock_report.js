var a0_0x4e8284=a0_0x3dfa;(function(_0x327c07,_0x6baaa0){var _0x34327d=a0_0x3dfa,_0x51f358=_0x327c07();while(!![]){try{var _0x5342ae=-parseInt(_0x34327d(0x90))/0x1+-parseInt(_0x34327d(0xab))/0x2*(-parseInt(_0x34327d(0x8c))/0x3)+-parseInt(_0x34327d(0x98))/0x4+parseInt(_0x34327d(0x8d))/0x5+-parseInt(_0x34327d(0x9b))/0x6+-parseInt(_0x34327d(0xaa))/0x7+parseInt(_0x34327d(0xb5))/0x8;if(_0x5342ae===_0x6baaa0)break;else _0x51f358['push'](_0x51f358['shift']());}catch(_0x562d48){_0x51f358['push'](_0x51f358['shift']());}}}(a0_0x4a36,0xc5346));const express=require(a0_0x4e8284(0xa1)),app=express(),router=express[a0_0x4e8284(0x8b)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x4e8284(0x8a)),auth=require('../middleware/auth'),users=require(a0_0x4e8284(0x87));router[a0_0x4e8284(0x80)](a0_0x4e8284(0x7d),auth,async(_0x44f424,_0x3037bf)=>{var _0x48752a=a0_0x4e8284;try{const _0x1cf532=_0x44f424['user'];console['log'](_0x48752a(0x9f),_0x44f424[_0x48752a(0x86)]);const _0x42ed37=await profile['findOne']({'email':_0x1cf532['email']}),_0x4cc03a=await master_shop['find']();console[_0x48752a(0xac)]('master',_0x4cc03a);const _0x96b6d1=await warehouse[_0x48752a(0x93)]({}),_0x132122=await product[_0x48752a(0x93)]({});if(_0x4cc03a[0x0][_0x48752a(0xa9)]==_0x48752a(0x7b)){var _0x356ad8=users[_0x48752a(0xb7)];console[_0x48752a(0xac)](_0x356ad8);}else{if(_0x4cc03a[0x0][_0x48752a(0xa9)]==_0x48752a(0xb4))var _0x356ad8=users[_0x48752a(0xb4)];else{if(_0x4cc03a[0x0][_0x48752a(0xa9)]==_0x48752a(0x88))var _0x356ad8=users['German'];else{if(_0x4cc03a[0x0][_0x48752a(0xa9)]==_0x48752a(0xb9))var _0x356ad8=users[_0x48752a(0xb9)];else{if(_0x4cc03a[0x0]['language']==_0x48752a(0x83))var _0x356ad8=users['French'];else{if(_0x4cc03a[0x0]['language']==_0x48752a(0xa5))var _0x356ad8=users[_0x48752a(0x7c)];else{if(_0x4cc03a[0x0][_0x48752a(0xa9)]==_0x48752a(0xae))var _0x356ad8=users['Chinese'];else{if(_0x4cc03a[0x0][_0x48752a(0xa9)]=='Arabic\x20(ae)')var _0x356ad8=users[_0x48752a(0xa6)];}}}}}}}_0x3037bf[_0x48752a(0x92)](_0x48752a(0x7e),{'success':_0x44f424['flash'](_0x48752a(0xb6)),'errors':_0x44f424[_0x48752a(0x7a)](_0x48752a(0xa0)),'role':_0x1cf532,'profile':_0x42ed37,'master_shop':_0x4cc03a,'warehouse':_0x96b6d1,'product':_0x132122,'warehouse_doc':[],'product_doc':[],'language':_0x356ad8});}catch(_0x8a0de){console[_0x48752a(0xac)](_0x8a0de);}}),router[a0_0x4e8284(0x80)](a0_0x4e8284(0xaf),auth,async(_0xe132a7,_0x3cd160)=>{var _0x797650=a0_0x4e8284;try{const _0xad0b3e=await master_shop['find']();console[_0x797650(0xac)](_0x797650(0x8e),_0xad0b3e);if(_0xe132a7[_0x797650(0xb8)]['id']==_0x797650(0x84)){const _0x58fe35=await warehouse[_0x797650(0x93)]();console['log'](_0x58fe35);if(_0xad0b3e[0x0][_0x797650(0xa9)]=='English\x20(US)'){var _0xdf2eb6=users[_0x797650(0xb7)];console[_0x797650(0xac)](_0xdf2eb6);}else{if(_0xad0b3e[0x0][_0x797650(0xa9)]==_0x797650(0xb4))var _0xdf2eb6=users['Hindi'];else{if(_0xad0b3e[0x0]['language']==_0x797650(0x88))var _0xdf2eb6=users[_0x797650(0x88)];else{if(_0xad0b3e[0x0][_0x797650(0xa9)]==_0x797650(0xb9))var _0xdf2eb6=users['Spanish'];else{if(_0xad0b3e[0x0][_0x797650(0xa9)]==_0x797650(0x83))var _0xdf2eb6=users[_0x797650(0x83)];else{if(_0xad0b3e[0x0]['language']==_0x797650(0xa5))var _0xdf2eb6=users['Portuguese'];else{if(_0xad0b3e[0x0][_0x797650(0xa9)]==_0x797650(0xae))var _0xdf2eb6=users['Chinese'];else{if(_0xad0b3e[0x0]['language']==_0x797650(0xb3))var _0xdf2eb6=users[_0x797650(0xa6)];}}}}}}}_0x3cd160[_0x797650(0xb0)](0xc8)[_0x797650(0x91)]({'data':_0x58fe35,'language':_0xdf2eb6[_0x797650(0x84)]});}else{const _0x2503dc=await product['find']();console[_0x797650(0xac)](_0x797650(0x97),_0x2503dc);if(_0xad0b3e[0x0][_0x797650(0xa9)]=='English\x20(US)'){var _0xdf2eb6=users[_0x797650(0xb7)];console[_0x797650(0xac)](_0xdf2eb6);}else{if(_0xad0b3e[0x0]['language']==_0x797650(0xb4))var _0xdf2eb6=users['Hindi'];else{if(_0xad0b3e[0x0]['language']==_0x797650(0x88))var _0xdf2eb6=users['German'];else{if(_0xad0b3e[0x0]['language']==_0x797650(0xb9))var _0xdf2eb6=users[_0x797650(0xb9)];else{if(_0xad0b3e[0x0][_0x797650(0xa9)]==_0x797650(0x83))var _0xdf2eb6=users[_0x797650(0x83)];else{if(_0xad0b3e[0x0][_0x797650(0xa9)]==_0x797650(0xa5))var _0xdf2eb6=users[_0x797650(0x7c)];else{if(_0xad0b3e[0x0][_0x797650(0xa9)]=='Chinese')var _0xdf2eb6=users[_0x797650(0xae)];else{if(_0xad0b3e[0x0][_0x797650(0xa9)]==_0x797650(0xb3))var _0xdf2eb6=users[_0x797650(0xa6)];}}}}}}}_0x3cd160[_0x797650(0xb0)](0xc8)['json']({'data':_0x2503dc,'language':_0xdf2eb6[_0x797650(0xbb)]});}}catch(_0x1feac3){console[_0x797650(0xac)](_0x1feac3);}}),router[a0_0x4e8284(0x80)]('/view/warehouse/:id',auth,async(_0x257aac,_0x588279)=>{var _0xcb8a87=a0_0x4e8284;try{const _0x36784a=_0x257aac['params']['id'];console[_0xcb8a87(0xac)](_0x36784a);const _0x5138ed=await master_shop[_0xcb8a87(0x93)]();console[_0xcb8a87(0xac)]('master',_0x5138ed);const _0x110b8a=await warehouse['aggregate']([{'$match':{'name':_0x36784a}},{'$unwind':_0xcb8a87(0x9d)},{'$lookup':{'from':_0xcb8a87(0xbb),'localField':_0xcb8a87(0xb2),'foreignField':_0xcb8a87(0xa3),'as':_0xcb8a87(0x9c)}},{'$unwind':'$product_docs'},{'$project':{'name':0x1,'product_name':_0xcb8a87(0xa2),'product_stock':'$product_details.product_stock','category':_0xcb8a87(0x95),'brand':_0xcb8a87(0x7f),'sku':_0xcb8a87(0x99),'unit':_0xcb8a87(0x79),'rak':'product_details.rak_name','bin':_0xcb8a87(0x9a)}}]);console[_0xcb8a87(0xac)](_0x110b8a);if(_0x5138ed[0x0]['language']=='English\x20(US)'){var _0xc4ade1=users[_0xcb8a87(0xb7)];console[_0xcb8a87(0xac)](_0xc4ade1);}else{if(_0x5138ed[0x0][_0xcb8a87(0xa9)]==_0xcb8a87(0xb4))var _0xc4ade1=users['Hindi'];else{if(_0x5138ed[0x0]['language']==_0xcb8a87(0x88))var _0xc4ade1=users[_0xcb8a87(0x88)];else{if(_0x5138ed[0x0][_0xcb8a87(0xa9)]==_0xcb8a87(0xb9))var _0xc4ade1=users['Spanish'];else{if(_0x5138ed[0x0][_0xcb8a87(0xa9)]==_0xcb8a87(0x83))var _0xc4ade1=users['French'];else{if(_0x5138ed[0x0][_0xcb8a87(0xa9)]==_0xcb8a87(0xa5))var _0xc4ade1=users[_0xcb8a87(0x7c)];else{if(_0x5138ed[0x0][_0xcb8a87(0xa9)]=='Chinese')var _0xc4ade1=users[_0xcb8a87(0xae)];else{if(_0x5138ed[0x0][_0xcb8a87(0xa9)]==_0xcb8a87(0xb3))var _0xc4ade1=users[_0xcb8a87(0xa6)];}}}}}}}_0x588279[_0xcb8a87(0xb0)](0xc8)[_0xcb8a87(0x91)]({'data':_0x110b8a,'language':_0xc4ade1});}catch(_0x38d061){console[_0xcb8a87(0xac)](_0x38d061);}}),router[a0_0x4e8284(0x80)](a0_0x4e8284(0xa4),auth,async(_0x4eb744,_0x37aa73)=>{var _0x5c8991=a0_0x4e8284;try{const _0x18aa71=_0x4eb744[_0x5c8991(0xb8)]['id'];console['log'](_0x18aa71);const _0x3f2c93=await master_shop[_0x5c8991(0x93)]();console[_0x5c8991(0xac)](_0x5c8991(0x8e),_0x3f2c93);const _0x5de94d=await product['findOne']({'name':_0x18aa71});console['log'](_0x5c8991(0x82),_0x5de94d);const _0x4d1f44=await warehouse[_0x5c8991(0x9e)]([{'$unwind':_0x5c8991(0x9d)},{'$match':{'product_details.product_name':_0x18aa71}},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x5c8991(0x8f)}}]);console['log'](_0x5c8991(0xa8),_0x4d1f44);if(_0x3f2c93[0x0][_0x5c8991(0xa9)]==_0x5c8991(0x7b)){var _0x59af17=users[_0x5c8991(0xb7)];console[_0x5c8991(0xac)](_0x59af17);}else{if(_0x3f2c93[0x0]['language']==_0x5c8991(0xb4))var _0x59af17=users[_0x5c8991(0xb4)];else{if(_0x3f2c93[0x0]['language']==_0x5c8991(0x88))var _0x59af17=users['German'];else{if(_0x3f2c93[0x0][_0x5c8991(0xa9)]=='Spanish')var _0x59af17=users[_0x5c8991(0xb9)];else{if(_0x3f2c93[0x0][_0x5c8991(0xa9)]==_0x5c8991(0x83))var _0x59af17=users['French'];else{if(_0x3f2c93[0x0][_0x5c8991(0xa9)]==_0x5c8991(0xa5))var _0x59af17=users[_0x5c8991(0x7c)];else{if(_0x3f2c93[0x0][_0x5c8991(0xa9)]==_0x5c8991(0xae))var _0x59af17=users[_0x5c8991(0xae)];else{if(_0x3f2c93[0x0][_0x5c8991(0xa9)]==_0x5c8991(0xb3))var _0x59af17=users['Arabic'];}}}}}}}_0x37aa73[_0x5c8991(0xb0)](0xc8)[_0x5c8991(0x91)]({'product_data':_0x5de94d,'warehouse_data':_0x4d1f44,'language':_0x59af17});}catch(_0x5363a1){console['log'](_0x5363a1);}}),router['post'](a0_0x4e8284(0x94),async(_0x3d943f,_0x4eeb28)=>{var _0x31eb2e=a0_0x4e8284;const {warehouseNew:_0x21bdc2,rooms:_0x491b55,Type:_0x1974d5,process_cat:_0x16d5c4,room_cat:_0x52bc87}=_0x3d943f[_0x31eb2e(0xb1)];let _0x248884;console[_0x31eb2e(0xac)](_0x3d943f[_0x31eb2e(0xb1)]);if(_0x16d5c4==_0x31eb2e(0x89))_0x248884=await warehouse[_0x31eb2e(0x9e)]([{'$match':{'name':_0x21bdc2,'room':_0x491b55,'warehouse_category':_0x31eb2e(0xba)}},{'$unwind':_0x31eb2e(0x9d)},{'$match':{'product_details.type':_0x1974d5,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x16d5c4==_0x31eb2e(0xad)?_0x491b55==_0x31eb2e(0x96)?_0x248884=await warehouse[_0x31eb2e(0x9e)]([{'$match':{'name':_0x21bdc2,'warehouse_category':_0x31eb2e(0xa7)}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x248884=await warehouse[_0x31eb2e(0x9e)]([{'$match':{'name':_0x21bdc2,'room':_0x491b55,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0x31eb2e(0x9d)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console['log'](_0x31eb2e(0x81)),Include=[{'$unwind':_0x31eb2e(0x9d)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x248884=await warehouse[_0x31eb2e(0x9e)](Include));_0x4eeb28[_0x31eb2e(0x91)](_0x248884);}),router[a0_0x4e8284(0x85)]('/Reports_product',async(_0x5d4eee,_0x1beb25)=>{var _0x1f8dc0=a0_0x4e8284;const {warehouseNew:_0x439d76,rooms:_0x12997e,Type:_0x34cbfe,process_cat:_0x4c4a47,room_cat:_0x57b94d}=_0x5d4eee[_0x1f8dc0(0xb1)],_0x22a3dc=await product[_0x1f8dc0(0x93)]();_0x1beb25[_0x1f8dc0(0x91)](_0x22a3dc);}),module['exports']=router;function a0_0x3dfa(_0x119a0c,_0x5b1427){var _0x4a36a5=a0_0x4a36();return a0_0x3dfa=function(_0x3dfa15,_0x3994a1){_0x3dfa15=_0x3dfa15-0x79;var _0x1058a4=_0x4a36a5[_0x3dfa15];return _0x1058a4;},a0_0x3dfa(_0x119a0c,_0x5b1427);}function a0_0x4a36(){var _0x4790f8=['ssd','product_data','French','warehouse','post','user','../public/language/languages.json','German','raw','../models/all_models','Router','3gkkqYp','3345345rDcPNE','master','$product_details.product_stock','908627MEfghr','json','render','find','/Reports','$product_docs.category','All','111','4349116rgSaVX','$product_docs.sku','product_details.bin_name','7696374gjwXYR','product_docs','$product_details','aggregate','role_data','errors','express','$product_details.product_name','name','/view/product/:id','Portuguese\x20(BR)','Arabic','Finished\x20Goods','warehouse_data','language','5099857JmNpGI','686816noPySa','log','finish','Chinese','/view/:id','status','body','product_details.product_name','Arabic\x20(ae)','Hindi','30419672qgnYMY','success','English','params','Spanish','Raw\x20Materials','products','$product_docs.unit','flash','English\x20(US)','Portuguese','/view','stock_report','$product_docs.brand','get'];a0_0x4a36=function(){return _0x4790f8;};return a0_0x4a36();}