var a0_0x9cc32c=a0_0x57fc;(function(_0x1133a4,_0x5e3dca){var _0x58947d=a0_0x57fc,_0x374807=_0x1133a4();while(!![]){try{var _0x31b108=-parseInt(_0x58947d(0x84))/0x1*(parseInt(_0x58947d(0x9c))/0x2)+-parseInt(_0x58947d(0x75))/0x3+-parseInt(_0x58947d(0x8f))/0x4*(-parseInt(_0x58947d(0x7a))/0x5)+-parseInt(_0x58947d(0xae))/0x6+-parseInt(_0x58947d(0xa3))/0x7+parseInt(_0x58947d(0x6e))/0x8*(-parseInt(_0x58947d(0x92))/0x9)+parseInt(_0x58947d(0x82))/0xa;if(_0x31b108===_0x5e3dca)break;else _0x374807['push'](_0x374807['shift']());}catch(_0x34054d){_0x374807['push'](_0x374807['shift']());}}}(a0_0x4fdf,0xa6ebd));const express=require(a0_0x9cc32c(0x8c)),app=express(),router=express[a0_0x9cc32c(0x94)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x9cc32c(0xa2)),auth=require(a0_0x9cc32c(0x7f)),users=require(a0_0x9cc32c(0x74));router['get'](a0_0x9cc32c(0x69),auth,async(_0x5b5a5a,_0x31ae2e)=>{var _0x2e305c=a0_0x9cc32c;try{const _0x961a0=_0x5b5a5a[_0x2e305c(0x71)];console[_0x2e305c(0x87)](_0x2e305c(0x98),_0x5b5a5a[_0x2e305c(0x71)]);const _0x416b08=await profile['findOne']({'email':_0x961a0[_0x2e305c(0x6d)]}),_0x24d131=await master_shop[_0x2e305c(0x79)]();console['log'](_0x2e305c(0x6a),_0x24d131);const _0x51d83b=await warehouse['find']({}),_0x486f28=await product['find']({});if(_0x24d131[0x0][_0x2e305c(0xa6)]=='English\x20(US)'){var _0x59acb5=users[_0x2e305c(0x9b)];console[_0x2e305c(0x87)](_0x59acb5);}else{if(_0x24d131[0x0]['language']==_0x2e305c(0x6c))var _0x59acb5=users[_0x2e305c(0x6c)];else{if(_0x24d131[0x0][_0x2e305c(0xa6)]=='German')var _0x59acb5=users['German'];else{if(_0x24d131[0x0][_0x2e305c(0xa6)]=='Spanish')var _0x59acb5=users[_0x2e305c(0x77)];else{if(_0x24d131[0x0][_0x2e305c(0xa6)]==_0x2e305c(0x9a))var _0x59acb5=users['French'];else{if(_0x24d131[0x0][_0x2e305c(0xa6)]==_0x2e305c(0x8e))var _0x59acb5=users['Portuguese'];else{if(_0x24d131[0x0][_0x2e305c(0xa6)]==_0x2e305c(0x88))var _0x59acb5=users[_0x2e305c(0x88)];else{if(_0x24d131[0x0]['language']==_0x2e305c(0x93))var _0x59acb5=users['Arabic'];}}}}}}}_0x31ae2e[_0x2e305c(0xa9)](_0x2e305c(0x8a),{'success':_0x5b5a5a[_0x2e305c(0x73)](_0x2e305c(0x86)),'errors':_0x5b5a5a[_0x2e305c(0x73)](_0x2e305c(0x7d)),'role':_0x961a0,'profile':_0x416b08,'master_shop':_0x24d131,'warehouse':_0x51d83b,'product':_0x486f28,'warehouse_doc':[],'product_doc':[],'language':_0x59acb5});}catch(_0x4570cf){console[_0x2e305c(0x87)](_0x4570cf);}}),router[a0_0x9cc32c(0x95)](a0_0x9cc32c(0x9d),auth,async(_0x2b0acb,_0x187222)=>{var _0x9c402b=a0_0x9cc32c;try{const _0x1dba4b=await master_shop[_0x9c402b(0x79)]();console[_0x9c402b(0x87)](_0x9c402b(0x6a),_0x1dba4b);if(_0x2b0acb[_0x9c402b(0x68)]['id']==_0x9c402b(0x72)){const _0x1180fa=await warehouse[_0x9c402b(0x79)]();console[_0x9c402b(0x87)](_0x1180fa);if(_0x1dba4b[0x0]['language']==_0x9c402b(0xac)){var _0x5daeab=users[_0x9c402b(0x9b)];console[_0x9c402b(0x87)](_0x5daeab);}else{if(_0x1dba4b[0x0][_0x9c402b(0xa6)]=='Hindi')var _0x5daeab=users[_0x9c402b(0x6c)];else{if(_0x1dba4b[0x0][_0x9c402b(0xa6)]==_0x9c402b(0x7e))var _0x5daeab=users[_0x9c402b(0x7e)];else{if(_0x1dba4b[0x0][_0x9c402b(0xa6)]==_0x9c402b(0x77))var _0x5daeab=users[_0x9c402b(0x77)];else{if(_0x1dba4b[0x0][_0x9c402b(0xa6)]==_0x9c402b(0x9a))var _0x5daeab=users[_0x9c402b(0x9a)];else{if(_0x1dba4b[0x0][_0x9c402b(0xa6)]==_0x9c402b(0x8e))var _0x5daeab=users['Portuguese'];else{if(_0x1dba4b[0x0]['language']==_0x9c402b(0x88))var _0x5daeab=users[_0x9c402b(0x88)];else{if(_0x1dba4b[0x0][_0x9c402b(0xa6)]==_0x9c402b(0x93))var _0x5daeab=users[_0x9c402b(0x9f)];}}}}}}}_0x187222[_0x9c402b(0x89)](0xc8)[_0x9c402b(0x83)]({'data':_0x1180fa,'language':_0x5daeab[_0x9c402b(0x72)]});}else{const _0x27f189=await product[_0x9c402b(0x79)]();console[_0x9c402b(0x87)]('111',_0x27f189);if(_0x1dba4b[0x0][_0x9c402b(0xa6)]==_0x9c402b(0xac)){var _0x5daeab=users['English'];console[_0x9c402b(0x87)](_0x5daeab);}else{if(_0x1dba4b[0x0][_0x9c402b(0xa6)]==_0x9c402b(0x6c))var _0x5daeab=users['Hindi'];else{if(_0x1dba4b[0x0][_0x9c402b(0xa6)]=='German')var _0x5daeab=users['German'];else{if(_0x1dba4b[0x0][_0x9c402b(0xa6)]==_0x9c402b(0x77))var _0x5daeab=users['Spanish'];else{if(_0x1dba4b[0x0][_0x9c402b(0xa6)]==_0x9c402b(0x9a))var _0x5daeab=users[_0x9c402b(0x9a)];else{if(_0x1dba4b[0x0][_0x9c402b(0xa6)]==_0x9c402b(0x8e))var _0x5daeab=users['Portuguese'];else{if(_0x1dba4b[0x0][_0x9c402b(0xa6)]=='Chinese')var _0x5daeab=users['Chinese'];else{if(_0x1dba4b[0x0][_0x9c402b(0xa6)]==_0x9c402b(0x93))var _0x5daeab=users[_0x9c402b(0x9f)];}}}}}}}_0x187222[_0x9c402b(0x89)](0xc8)['json']({'data':_0x27f189,'language':_0x5daeab[_0x9c402b(0x97)]});}}catch(_0x47ee2f){console[_0x9c402b(0x87)](_0x47ee2f);}}),router[a0_0x9cc32c(0x95)]('/view/warehouse/:id',auth,async(_0x59f551,_0x8cbdcd)=>{var _0x16e82=a0_0x9cc32c;try{const _0x10648d=_0x59f551['params']['id'];console['log'](_0x10648d);const _0x384427=await master_shop[_0x16e82(0x79)]();console[_0x16e82(0x87)](_0x16e82(0x6a),_0x384427);const _0x342dce=await warehouse['aggregate']([{'$match':{'name':_0x10648d}},{'$unwind':_0x16e82(0x80)},{'$lookup':{'from':_0x16e82(0x97),'localField':_0x16e82(0x96),'foreignField':_0x16e82(0xa0),'as':_0x16e82(0x7b)}},{'$unwind':_0x16e82(0xa7)},{'$project':{'name':0x1,'product_name':_0x16e82(0x76),'product_stock':_0x16e82(0x70),'category':'$product_docs.category','brand':_0x16e82(0x8d),'sku':_0x16e82(0x6b),'unit':_0x16e82(0x9e),'rak':_0x16e82(0x78),'bin':_0x16e82(0xaa)}}]);console[_0x16e82(0x87)](_0x342dce);if(_0x384427[0x0][_0x16e82(0xa6)]==_0x16e82(0xac)){var _0x3fad46=users[_0x16e82(0x9b)];console[_0x16e82(0x87)](_0x3fad46);}else{if(_0x384427[0x0][_0x16e82(0xa6)]==_0x16e82(0x6c))var _0x3fad46=users[_0x16e82(0x6c)];else{if(_0x384427[0x0][_0x16e82(0xa6)]==_0x16e82(0x7e))var _0x3fad46=users[_0x16e82(0x7e)];else{if(_0x384427[0x0][_0x16e82(0xa6)]==_0x16e82(0x77))var _0x3fad46=users['Spanish'];else{if(_0x384427[0x0][_0x16e82(0xa6)]==_0x16e82(0x9a))var _0x3fad46=users['French'];else{if(_0x384427[0x0]['language']==_0x16e82(0x8e))var _0x3fad46=users['Portuguese'];else{if(_0x384427[0x0][_0x16e82(0xa6)]==_0x16e82(0x88))var _0x3fad46=users[_0x16e82(0x88)];else{if(_0x384427[0x0][_0x16e82(0xa6)]==_0x16e82(0x93))var _0x3fad46=users['Arabic'];}}}}}}}_0x8cbdcd[_0x16e82(0x89)](0xc8)['json']({'data':_0x342dce,'language':_0x3fad46});}catch(_0x3e4fc7){console['log'](_0x3e4fc7);}}),router['get']('/view/product/:id',auth,async(_0x55ab33,_0x26da30)=>{var _0xa3de0=a0_0x9cc32c;try{const _0x1020ab=_0x55ab33['params']['id'];console['log'](_0x1020ab);const _0x16dd83=await master_shop['find']();console[_0xa3de0(0x87)]('master',_0x16dd83);const _0x4cf650=await product[_0xa3de0(0xa8)]({'name':_0x1020ab});console[_0xa3de0(0x87)](_0xa3de0(0x81),_0x4cf650);const _0x43ff6f=await warehouse[_0xa3de0(0x99)]([{'$unwind':_0xa3de0(0x80)},{'$match':{'product_details.product_name':_0x1020ab}},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0xa3de0(0x70)}}]);console['log'](_0xa3de0(0x85),_0x43ff6f);if(_0x16dd83[0x0]['language']==_0xa3de0(0xac)){var _0x47db24=users[_0xa3de0(0x9b)];console[_0xa3de0(0x87)](_0x47db24);}else{if(_0x16dd83[0x0]['language']=='Hindi')var _0x47db24=users[_0xa3de0(0x6c)];else{if(_0x16dd83[0x0]['language']=='German')var _0x47db24=users[_0xa3de0(0x7e)];else{if(_0x16dd83[0x0]['language']=='Spanish')var _0x47db24=users[_0xa3de0(0x77)];else{if(_0x16dd83[0x0]['language']==_0xa3de0(0x9a))var _0x47db24=users['French'];else{if(_0x16dd83[0x0][_0xa3de0(0xa6)]==_0xa3de0(0x8e))var _0x47db24=users[_0xa3de0(0xa4)];else{if(_0x16dd83[0x0][_0xa3de0(0xa6)]==_0xa3de0(0x88))var _0x47db24=users[_0xa3de0(0x88)];else{if(_0x16dd83[0x0][_0xa3de0(0xa6)]=='Arabic\x20(ae)')var _0x47db24=users[_0xa3de0(0x9f)];}}}}}}}_0x26da30[_0xa3de0(0x89)](0xc8)[_0xa3de0(0x83)]({'product_data':_0x4cf650,'warehouse_data':_0x43ff6f,'language':_0x47db24});}catch(_0x226135){console[_0xa3de0(0x87)](_0x226135);}}),router[a0_0x9cc32c(0xa5)](a0_0x9cc32c(0x6f),async(_0x17cc58,_0xc1449e)=>{var _0x38b063=a0_0x9cc32c;const {warehouseNew:_0x4e6ed7,rooms:_0x482f80,Type:_0x4ee025,process_cat:_0x1e1991,room_cat:_0x8f62fb}=_0x17cc58[_0x38b063(0xad)];let _0x520077;console['log'](_0x17cc58['body']);if(_0x1e1991=='raw')_0x520077=await warehouse[_0x38b063(0x99)]([{'$match':{'name':_0x4e6ed7,'room':_0x482f80,'warehouse_category':_0x38b063(0x91)}},{'$unwind':'$product_details'},{'$match':{'product_details.type':_0x4ee025,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x1e1991==_0x38b063(0x7c)?_0x482f80=='All'?_0x520077=await warehouse[_0x38b063(0x99)]([{'$match':{'name':_0x4e6ed7,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0x38b063(0x80)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x520077=await warehouse[_0x38b063(0x99)]([{'$match':{'name':_0x4e6ed7,'room':_0x482f80,'warehouse_category':_0x38b063(0x90)}},{'$unwind':_0x38b063(0x80)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x38b063(0x87)](_0x38b063(0xa1)),Include=[{'$unwind':_0x38b063(0x80)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x520077=await warehouse[_0x38b063(0x99)](Include));_0xc1449e[_0x38b063(0x83)](_0x520077);}),router[a0_0x9cc32c(0xa5)](a0_0x9cc32c(0xab),async(_0x9c8830,_0x5124dd)=>{var _0x308ef8=a0_0x9cc32c;const {warehouseNew:_0x556b2d,rooms:_0x3f0208,Type:_0x24a30c,process_cat:_0x52d4ed,room_cat:_0x4919c0}=_0x9c8830['body'],_0x27c422=await product[_0x308ef8(0x79)]();_0x5124dd[_0x308ef8(0x83)](_0x27c422);}),module[a0_0x9cc32c(0x8b)]=router;function a0_0x57fc(_0x395280,_0x2f8507){var _0x4fdf84=a0_0x4fdf();return a0_0x57fc=function(_0x57fc95,_0x45fb7b){_0x57fc95=_0x57fc95-0x68;var _0x1415b0=_0x4fdf84[_0x57fc95];return _0x1415b0;},a0_0x57fc(_0x395280,_0x2f8507);}function a0_0x4fdf(){var _0x3ecb1d=['237035kCjlMl','product_docs','finish','errors','German','../middleware/auth','$product_details','product_data','40331400cRmmrH','json','293WyajIP','warehouse_data','success','log','Chinese','status','stock_report','exports','express','$product_docs.brand','Portuguese\x20(BR)','16AJkdbd','Finished\x20Goods','Raw\x20Materials','848214rhJzpK','Arabic\x20(ae)','Router','get','product_details.product_name','products','role_data','aggregate','French','English','4714NgWzKg','/view/:id','$product_docs.unit','Arabic','name','ssd','../models/all_models','9321060yxYWZq','Portuguese','post','language','$product_docs','findOne','render','product_details.bin_name','/Reports_product','English\x20(US)','body','3244710PWOuUv','params','/view','master','$product_docs.sku','Hindi','email','48mlflKU','/Reports','$product_details.product_stock','user','warehouse','flash','../public/language/languages.json','1231851HRLCAG','$product_details.product_name','Spanish','product_details.rak_name','find'];a0_0x4fdf=function(){return _0x3ecb1d;};return a0_0x4fdf();}