var a0_0xc70e56=a0_0x5d16;function a0_0x5d16(_0x2fb0cd,_0x30591c){var _0x534efd=a0_0x534e();return a0_0x5d16=function(_0x5d1609,_0x29d8d1){_0x5d1609=_0x5d1609-0x131;var _0x1f4f32=_0x534efd[_0x5d1609];return _0x1f4f32;},a0_0x5d16(_0x2fb0cd,_0x30591c);}(function(_0x46e9d5,_0x43a9d8){var _0x289ebc=a0_0x5d16,_0x3c6f46=_0x46e9d5();while(!![]){try{var _0xa9931c=-parseInt(_0x289ebc(0x141))/0x1*(-parseInt(_0x289ebc(0x152))/0x2)+-parseInt(_0x289ebc(0x139))/0x3+parseInt(_0x289ebc(0x151))/0x4*(-parseInt(_0x289ebc(0x156))/0x5)+parseInt(_0x289ebc(0x146))/0x6+-parseInt(_0x289ebc(0x13d))/0x7*(-parseInt(_0x289ebc(0x161))/0x8)+-parseInt(_0x289ebc(0x167))/0x9+-parseInt(_0x289ebc(0x162))/0xa*(-parseInt(_0x289ebc(0x137))/0xb);if(_0xa9931c===_0x43a9d8)break;else _0x3c6f46['push'](_0x3c6f46['shift']());}catch(_0x3004bf){_0x3c6f46['push'](_0x3c6f46['shift']());}}}(a0_0x534e,0x7a933));const express=require('express'),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0xc70e56(0x132)),auth=require(a0_0xc70e56(0x170)),users=require('../public/language/languages.json');function a0_0x534e(){var _0x39d30b=['5MPMzAv','/Reports','params','flash','All','status','$product_docs.unit','json','/view','Hindi','/Reports_product','3224UUboMV','80JXkjTN','user','errors','English\x20(US)','Chinese','1086930FwPeoU','findOne','111','/view/warehouse/:id','ssd','get','French','products','body','../middleware/auth','raw','role_data','render','email','exports','../models/all_models','product_details.bin_name','master','$product_docs.sku','Finished\x20Goods','182061dWUrLu','aggregate','1451712ADJekw','Portuguese','$product_details.product_stock','Arabic\x20(ae)','7273nTecMq','Arabic','warehouse_data','success','588043SLUXRg','Portuguese\x20(BR)','English','product_details.rak_name','find','5202822MfeKrX','name','post','/view/product/:id','German','Spanish','$product_details.product_name','log','$product_details','product_details.product_name','$product_docs.brand','3598256aVQoKQ','2VLLuui','Raw\x20Materials','language','/view/:id'];a0_0x534e=function(){return _0x39d30b;};return a0_0x534e();}router[a0_0xc70e56(0x16c)](a0_0xc70e56(0x15e),auth,async(_0x2beecc,_0x534605)=>{var _0x4afecd=a0_0xc70e56;try{const _0x104b43=_0x2beecc[_0x4afecd(0x163)];console['log'](_0x4afecd(0x172),_0x2beecc[_0x4afecd(0x163)]);const _0x3c1e58=await profile['findOne']({'email':_0x104b43[_0x4afecd(0x174)]}),_0x4e9198=await master_shop[_0x4afecd(0x145)]();console['log'](_0x4afecd(0x134),_0x4e9198);const _0xd0e32b=await warehouse['find']({}),_0x209224=await product[_0x4afecd(0x145)]({});if(_0x4e9198[0x0][_0x4afecd(0x154)]==_0x4afecd(0x165)){var _0x4ce74d=users[_0x4afecd(0x143)];console[_0x4afecd(0x14d)](_0x4ce74d);}else{if(_0x4e9198[0x0][_0x4afecd(0x154)]==_0x4afecd(0x15f))var _0x4ce74d=users[_0x4afecd(0x15f)];else{if(_0x4e9198[0x0][_0x4afecd(0x154)]==_0x4afecd(0x14a))var _0x4ce74d=users['German'];else{if(_0x4e9198[0x0][_0x4afecd(0x154)]==_0x4afecd(0x14b))var _0x4ce74d=users[_0x4afecd(0x14b)];else{if(_0x4e9198[0x0][_0x4afecd(0x154)]==_0x4afecd(0x16d))var _0x4ce74d=users[_0x4afecd(0x16d)];else{if(_0x4e9198[0x0][_0x4afecd(0x154)]=='Portuguese\x20(BR)')var _0x4ce74d=users[_0x4afecd(0x13a)];else{if(_0x4e9198[0x0][_0x4afecd(0x154)]=='Chinese')var _0x4ce74d=users['Chinese'];else{if(_0x4e9198[0x0][_0x4afecd(0x154)]==_0x4afecd(0x13c))var _0x4ce74d=users[_0x4afecd(0x13e)];}}}}}}}_0x534605[_0x4afecd(0x173)]('stock_report',{'success':_0x2beecc[_0x4afecd(0x159)](_0x4afecd(0x140)),'errors':_0x2beecc[_0x4afecd(0x159)](_0x4afecd(0x164)),'role':_0x104b43,'profile':_0x3c1e58,'master_shop':_0x4e9198,'warehouse':_0xd0e32b,'product':_0x209224,'warehouse_doc':[],'product_doc':[],'language':_0x4ce74d});}catch(_0x1fd966){console[_0x4afecd(0x14d)](_0x1fd966);}}),router['get'](a0_0xc70e56(0x155),auth,async(_0x53711e,_0x598d52)=>{var _0xf56257=a0_0xc70e56;try{const _0x543551=await master_shop[_0xf56257(0x145)]();console[_0xf56257(0x14d)](_0xf56257(0x134),_0x543551);if(_0x53711e[_0xf56257(0x158)]['id']=='warehouse'){const _0x38f21c=await warehouse['find']();console[_0xf56257(0x14d)](_0x38f21c);if(_0x543551[0x0][_0xf56257(0x154)]==_0xf56257(0x165)){var _0x45452d=users['English'];console[_0xf56257(0x14d)](_0x45452d);}else{if(_0x543551[0x0][_0xf56257(0x154)]==_0xf56257(0x15f))var _0x45452d=users[_0xf56257(0x15f)];else{if(_0x543551[0x0][_0xf56257(0x154)]==_0xf56257(0x14a))var _0x45452d=users[_0xf56257(0x14a)];else{if(_0x543551[0x0][_0xf56257(0x154)]==_0xf56257(0x14b))var _0x45452d=users[_0xf56257(0x14b)];else{if(_0x543551[0x0][_0xf56257(0x154)]==_0xf56257(0x16d))var _0x45452d=users[_0xf56257(0x16d)];else{if(_0x543551[0x0]['language']==_0xf56257(0x142))var _0x45452d=users[_0xf56257(0x13a)];else{if(_0x543551[0x0][_0xf56257(0x154)]==_0xf56257(0x166))var _0x45452d=users[_0xf56257(0x166)];else{if(_0x543551[0x0][_0xf56257(0x154)]=='Arabic\x20(ae)')var _0x45452d=users[_0xf56257(0x13e)];}}}}}}}_0x598d52[_0xf56257(0x15b)](0xc8)['json']({'data':_0x38f21c,'language':_0x45452d['warehouse']});}else{const _0x4d8f85=await product[_0xf56257(0x145)]();console['log'](_0xf56257(0x169),_0x4d8f85);if(_0x543551[0x0][_0xf56257(0x154)]==_0xf56257(0x165)){var _0x45452d=users[_0xf56257(0x143)];console['log'](_0x45452d);}else{if(_0x543551[0x0][_0xf56257(0x154)]==_0xf56257(0x15f))var _0x45452d=users[_0xf56257(0x15f)];else{if(_0x543551[0x0][_0xf56257(0x154)]=='German')var _0x45452d=users['German'];else{if(_0x543551[0x0][_0xf56257(0x154)]=='Spanish')var _0x45452d=users[_0xf56257(0x14b)];else{if(_0x543551[0x0][_0xf56257(0x154)]==_0xf56257(0x16d))var _0x45452d=users[_0xf56257(0x16d)];else{if(_0x543551[0x0][_0xf56257(0x154)]==_0xf56257(0x142))var _0x45452d=users[_0xf56257(0x13a)];else{if(_0x543551[0x0][_0xf56257(0x154)]==_0xf56257(0x166))var _0x45452d=users[_0xf56257(0x166)];else{if(_0x543551[0x0][_0xf56257(0x154)]==_0xf56257(0x13c))var _0x45452d=users[_0xf56257(0x13e)];}}}}}}}_0x598d52[_0xf56257(0x15b)](0xc8)['json']({'data':_0x4d8f85,'language':_0x45452d[_0xf56257(0x16e)]});}}catch(_0x39ef98){console[_0xf56257(0x14d)](_0x39ef98);}}),router['get'](a0_0xc70e56(0x16a),auth,async(_0x34cab9,_0x24fc04)=>{var _0x30249c=a0_0xc70e56;try{const _0x456bec=_0x34cab9[_0x30249c(0x158)]['id'];console['log'](_0x456bec);const _0x1c3f4b=await master_shop[_0x30249c(0x145)]();console[_0x30249c(0x14d)]('master',_0x1c3f4b);const _0x2cee82=await warehouse['aggregate']([{'$match':{'name':_0x456bec}},{'$unwind':_0x30249c(0x14e)},{'$lookup':{'from':_0x30249c(0x16e),'localField':_0x30249c(0x14f),'foreignField':_0x30249c(0x147),'as':'product_docs'}},{'$unwind':'$product_docs'},{'$project':{'name':0x1,'product_name':_0x30249c(0x14c),'product_stock':_0x30249c(0x13b),'category':'$product_docs.category','brand':_0x30249c(0x150),'sku':_0x30249c(0x135),'unit':_0x30249c(0x15c),'rak':_0x30249c(0x144),'bin':_0x30249c(0x133)}}]);console[_0x30249c(0x14d)](_0x2cee82);if(_0x1c3f4b[0x0][_0x30249c(0x154)]==_0x30249c(0x165)){var _0x3720e6=users[_0x30249c(0x143)];console[_0x30249c(0x14d)](_0x3720e6);}else{if(_0x1c3f4b[0x0][_0x30249c(0x154)]==_0x30249c(0x15f))var _0x3720e6=users[_0x30249c(0x15f)];else{if(_0x1c3f4b[0x0][_0x30249c(0x154)]==_0x30249c(0x14a))var _0x3720e6=users[_0x30249c(0x14a)];else{if(_0x1c3f4b[0x0][_0x30249c(0x154)]==_0x30249c(0x14b))var _0x3720e6=users[_0x30249c(0x14b)];else{if(_0x1c3f4b[0x0][_0x30249c(0x154)]==_0x30249c(0x16d))var _0x3720e6=users[_0x30249c(0x16d)];else{if(_0x1c3f4b[0x0]['language']=='Portuguese\x20(BR)')var _0x3720e6=users[_0x30249c(0x13a)];else{if(_0x1c3f4b[0x0][_0x30249c(0x154)]==_0x30249c(0x166))var _0x3720e6=users[_0x30249c(0x166)];else{if(_0x1c3f4b[0x0][_0x30249c(0x154)]==_0x30249c(0x13c))var _0x3720e6=users[_0x30249c(0x13e)];}}}}}}}_0x24fc04[_0x30249c(0x15b)](0xc8)['json']({'data':_0x2cee82,'language':_0x3720e6});}catch(_0x105d2f){console[_0x30249c(0x14d)](_0x105d2f);}}),router[a0_0xc70e56(0x16c)](a0_0xc70e56(0x149),auth,async(_0x507907,_0x32b0fb)=>{var _0x3b110b=a0_0xc70e56;try{const _0x459c1c=_0x507907[_0x3b110b(0x158)]['id'];console[_0x3b110b(0x14d)](_0x459c1c);const _0x53ea84=await master_shop['find']();console[_0x3b110b(0x14d)]('master',_0x53ea84);const _0x542135=await product[_0x3b110b(0x168)]({'name':_0x459c1c});console[_0x3b110b(0x14d)]('product_data',_0x542135);const _0x2e3a5b=await warehouse[_0x3b110b(0x138)]([{'$unwind':_0x3b110b(0x14e)},{'$match':{'product_details.product_name':_0x459c1c}},{'$project':{'name':0x1,'product_name':_0x3b110b(0x14c),'product_stock':'$product_details.product_stock'}}]);console[_0x3b110b(0x14d)](_0x3b110b(0x13f),_0x2e3a5b);if(_0x53ea84[0x0][_0x3b110b(0x154)]==_0x3b110b(0x165)){var _0x46df55=users[_0x3b110b(0x143)];console['log'](_0x46df55);}else{if(_0x53ea84[0x0][_0x3b110b(0x154)]=='Hindi')var _0x46df55=users[_0x3b110b(0x15f)];else{if(_0x53ea84[0x0][_0x3b110b(0x154)]==_0x3b110b(0x14a))var _0x46df55=users[_0x3b110b(0x14a)];else{if(_0x53ea84[0x0][_0x3b110b(0x154)]=='Spanish')var _0x46df55=users[_0x3b110b(0x14b)];else{if(_0x53ea84[0x0][_0x3b110b(0x154)]==_0x3b110b(0x16d))var _0x46df55=users['French'];else{if(_0x53ea84[0x0][_0x3b110b(0x154)]==_0x3b110b(0x142))var _0x46df55=users[_0x3b110b(0x13a)];else{if(_0x53ea84[0x0]['language']=='Chinese')var _0x46df55=users[_0x3b110b(0x166)];else{if(_0x53ea84[0x0]['language']==_0x3b110b(0x13c))var _0x46df55=users[_0x3b110b(0x13e)];}}}}}}}_0x32b0fb[_0x3b110b(0x15b)](0xc8)[_0x3b110b(0x15d)]({'product_data':_0x542135,'warehouse_data':_0x2e3a5b,'language':_0x46df55});}catch(_0x37a393){console[_0x3b110b(0x14d)](_0x37a393);}}),router[a0_0xc70e56(0x148)](a0_0xc70e56(0x157),async(_0x4f6ecd,_0x3b7a55)=>{var _0x354ada=a0_0xc70e56;const {warehouseNew:_0x1c4ed4,rooms:_0x209fb6,Type:_0x3a1432,process_cat:_0x2fd314,room_cat:_0x54bdf1}=_0x4f6ecd[_0x354ada(0x16f)];let _0x5e9c9c;console['log'](_0x4f6ecd[_0x354ada(0x16f)]);if(_0x2fd314==_0x354ada(0x171))_0x5e9c9c=await warehouse['aggregate']([{'$match':{'name':_0x1c4ed4,'room':_0x209fb6,'warehouse_category':_0x354ada(0x153)}},{'$unwind':_0x354ada(0x14e)},{'$match':{'product_details.type':_0x3a1432,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x2fd314=='finish'?_0x209fb6==_0x354ada(0x15a)?_0x5e9c9c=await warehouse[_0x354ada(0x138)]([{'$match':{'name':_0x1c4ed4,'warehouse_category':_0x354ada(0x136)}},{'$unwind':_0x354ada(0x14e)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x5e9c9c=await warehouse[_0x354ada(0x138)]([{'$match':{'name':_0x1c4ed4,'room':_0x209fb6,'warehouse_category':'Finished\x20Goods'}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x354ada(0x14d)](_0x354ada(0x16b)),Include=[{'$unwind':_0x354ada(0x14e)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x5e9c9c=await warehouse[_0x354ada(0x138)](Include));_0x3b7a55[_0x354ada(0x15d)](_0x5e9c9c);}),router['post'](a0_0xc70e56(0x160),async(_0x1354f5,_0x3f0893)=>{var _0x1326bc=a0_0xc70e56;const {warehouseNew:_0x3415d1,rooms:_0x285f21,Type:_0x588f23,process_cat:_0x50385e,room_cat:_0x5f4416}=_0x1354f5[_0x1326bc(0x16f)],_0x4438ec=await product[_0x1326bc(0x145)]();_0x3f0893[_0x1326bc(0x15d)](_0x4438ec);}),module[a0_0xc70e56(0x131)]=router;