var a0_0x155a8f=a0_0x1824;(function(_0x5527a7,_0x3da02d){var _0x624d48=a0_0x1824,_0x1cd8c0=_0x5527a7();while(!![]){try{var _0x42e6ec=-parseInt(_0x624d48(0x115))/0x1*(parseInt(_0x624d48(0x147))/0x2)+-parseInt(_0x624d48(0x12c))/0x3+-parseInt(_0x624d48(0x143))/0x4*(parseInt(_0x624d48(0x112))/0x5)+parseInt(_0x624d48(0x12e))/0x6+-parseInt(_0x624d48(0x114))/0x7+-parseInt(_0x624d48(0x134))/0x8+parseInt(_0x624d48(0x14d))/0x9;if(_0x42e6ec===_0x3da02d)break;else _0x1cd8c0['push'](_0x1cd8c0['shift']());}catch(_0x305b00){_0x1cd8c0['push'](_0x1cd8c0['shift']());}}}(a0_0x5956,0x6f966));const express=require(a0_0x155a8f(0x11b)),app=express(),router=express[a0_0x155a8f(0x12f)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require('../models/all_models'),auth=require(a0_0x155a8f(0x118)),users=require(a0_0x155a8f(0x14a));function a0_0x1824(_0x152ad3,_0xb1bbc5){var _0x595603=a0_0x5956();return a0_0x1824=function(_0x182473,_0x5d8c97){_0x182473=_0x182473-0x112;var _0x4d3b0=_0x595603[_0x182473];return _0x4d3b0;},a0_0x1824(_0x152ad3,_0xb1bbc5);}router[a0_0x155a8f(0x130)](a0_0x155a8f(0x113),auth,async(_0x1fb2d2,_0x23ea3f)=>{var _0x263f97=a0_0x155a8f;try{const _0x368458=_0x1fb2d2[_0x263f97(0x136)];console[_0x263f97(0x12b)]('role_data',_0x1fb2d2[_0x263f97(0x136)]);const _0x3651a3=await profile[_0x263f97(0x149)]({'email':_0x368458[_0x263f97(0x151)]}),_0x312a75=await master_shop[_0x263f97(0x13e)]();console[_0x263f97(0x12b)](_0x263f97(0x135),_0x312a75);const _0x55c662=await warehouse['find']({}),_0x1a02ba=await product['find']({});if(_0x312a75[0x0][_0x263f97(0x120)]==_0x263f97(0x133)){var _0x2c20d2=users[_0x263f97(0x152)];console['log'](_0x2c20d2);}else{if(_0x312a75[0x0][_0x263f97(0x120)]==_0x263f97(0x14e))var _0x2c20d2=users['Hindi'];else{if(_0x312a75[0x0]['language']==_0x263f97(0x11d))var _0x2c20d2=users['German'];else{if(_0x312a75[0x0][_0x263f97(0x120)]==_0x263f97(0x137))var _0x2c20d2=users[_0x263f97(0x137)];else{if(_0x312a75[0x0][_0x263f97(0x120)]==_0x263f97(0x116))var _0x2c20d2=users[_0x263f97(0x116)];else{if(_0x312a75[0x0][_0x263f97(0x120)]==_0x263f97(0x13f))var _0x2c20d2=users[_0x263f97(0x13c)];else{if(_0x312a75[0x0][_0x263f97(0x120)]==_0x263f97(0x145))var _0x2c20d2=users[_0x263f97(0x145)];else{if(_0x312a75[0x0][_0x263f97(0x120)]==_0x263f97(0x148))var _0x2c20d2=users['Arabic'];}}}}}}}_0x23ea3f['render']('stock_report',{'success':_0x1fb2d2[_0x263f97(0x142)](_0x263f97(0x11c)),'errors':_0x1fb2d2[_0x263f97(0x142)](_0x263f97(0x121)),'role':_0x368458,'profile':_0x3651a3,'master_shop':_0x312a75,'warehouse':_0x55c662,'product':_0x1a02ba,'warehouse_doc':[],'product_doc':[],'language':_0x2c20d2});}catch(_0x13fe55){console[_0x263f97(0x12b)](_0x13fe55);}}),router['get'](a0_0x155a8f(0x11e),auth,async(_0x2d8789,_0x5cb170)=>{var _0x2d6170=a0_0x155a8f;try{const _0x2fc528=await master_shop[_0x2d6170(0x13e)]();console['log'](_0x2d6170(0x135),_0x2fc528);if(_0x2d8789[_0x2d6170(0x117)]['id']=='warehouse'){const _0x115e1e=await warehouse[_0x2d6170(0x13e)]();console[_0x2d6170(0x12b)](_0x115e1e);if(_0x2fc528[0x0][_0x2d6170(0x120)]=='English\x20(US)'){var _0x46ba9f=users[_0x2d6170(0x152)];console[_0x2d6170(0x12b)](_0x46ba9f);}else{if(_0x2fc528[0x0]['language']=='Hindi')var _0x46ba9f=users['Hindi'];else{if(_0x2fc528[0x0][_0x2d6170(0x120)]==_0x2d6170(0x11d))var _0x46ba9f=users[_0x2d6170(0x11d)];else{if(_0x2fc528[0x0][_0x2d6170(0x120)]==_0x2d6170(0x137))var _0x46ba9f=users[_0x2d6170(0x137)];else{if(_0x2fc528[0x0][_0x2d6170(0x120)]==_0x2d6170(0x116))var _0x46ba9f=users[_0x2d6170(0x116)];else{if(_0x2fc528[0x0][_0x2d6170(0x120)]==_0x2d6170(0x13f))var _0x46ba9f=users['Portuguese'];else{if(_0x2fc528[0x0][_0x2d6170(0x120)]==_0x2d6170(0x145))var _0x46ba9f=users[_0x2d6170(0x145)];else{if(_0x2fc528[0x0][_0x2d6170(0x120)]=='Arabic\x20(ae)')var _0x46ba9f=users['Arabic'];}}}}}}}_0x5cb170[_0x2d6170(0x119)](0xc8)[_0x2d6170(0x141)]({'data':_0x115e1e,'language':_0x46ba9f['warehouse']});}else{const _0x5f289c=await product[_0x2d6170(0x13e)]();console[_0x2d6170(0x12b)](_0x2d6170(0x139),_0x5f289c);if(_0x2fc528[0x0][_0x2d6170(0x120)]==_0x2d6170(0x133)){var _0x46ba9f=users['English'];console[_0x2d6170(0x12b)](_0x46ba9f);}else{if(_0x2fc528[0x0][_0x2d6170(0x120)]==_0x2d6170(0x14e))var _0x46ba9f=users[_0x2d6170(0x14e)];else{if(_0x2fc528[0x0]['language']==_0x2d6170(0x11d))var _0x46ba9f=users[_0x2d6170(0x11d)];else{if(_0x2fc528[0x0]['language']=='Spanish')var _0x46ba9f=users[_0x2d6170(0x137)];else{if(_0x2fc528[0x0][_0x2d6170(0x120)]=='French')var _0x46ba9f=users[_0x2d6170(0x116)];else{if(_0x2fc528[0x0][_0x2d6170(0x120)]==_0x2d6170(0x13f))var _0x46ba9f=users[_0x2d6170(0x13c)];else{if(_0x2fc528[0x0][_0x2d6170(0x120)]=='Chinese')var _0x46ba9f=users[_0x2d6170(0x145)];else{if(_0x2fc528[0x0][_0x2d6170(0x120)]==_0x2d6170(0x148))var _0x46ba9f=users[_0x2d6170(0x14c)];}}}}}}}_0x5cb170[_0x2d6170(0x119)](0xc8)[_0x2d6170(0x141)]({'data':_0x5f289c,'language':_0x46ba9f[_0x2d6170(0x153)]});}}catch(_0x26ca30){console[_0x2d6170(0x12b)](_0x26ca30);}}),router[a0_0x155a8f(0x130)](a0_0x155a8f(0x122),auth,async(_0x385989,_0x4ef9a0)=>{var _0x4cb845=a0_0x155a8f;try{const _0x221a85=_0x385989[_0x4cb845(0x117)]['id'];console[_0x4cb845(0x12b)](_0x221a85);const _0x3f9a91=await master_shop[_0x4cb845(0x13e)]();console[_0x4cb845(0x12b)](_0x4cb845(0x135),_0x3f9a91);const _0xbec015=await warehouse[_0x4cb845(0x150)]([{'$match':{'name':_0x221a85}},{'$unwind':_0x4cb845(0x12d)},{'$lookup':{'from':_0x4cb845(0x153),'localField':_0x4cb845(0x146),'foreignField':_0x4cb845(0x14b),'as':_0x4cb845(0x132)}},{'$unwind':'$product_docs'},{'$project':{'name':0x1,'product_name':_0x4cb845(0x128),'product_stock':_0x4cb845(0x14f),'category':_0x4cb845(0x131),'brand':_0x4cb845(0x123),'sku':_0x4cb845(0x127),'unit':_0x4cb845(0x126),'rak':'product_details.rak_name','bin':_0x4cb845(0x138)}}]);console[_0x4cb845(0x12b)](_0xbec015);if(_0x3f9a91[0x0][_0x4cb845(0x120)]==_0x4cb845(0x133)){var _0x45681b=users[_0x4cb845(0x152)];console[_0x4cb845(0x12b)](_0x45681b);}else{if(_0x3f9a91[0x0][_0x4cb845(0x120)]==_0x4cb845(0x14e))var _0x45681b=users[_0x4cb845(0x14e)];else{if(_0x3f9a91[0x0][_0x4cb845(0x120)]==_0x4cb845(0x11d))var _0x45681b=users[_0x4cb845(0x11d)];else{if(_0x3f9a91[0x0][_0x4cb845(0x120)]==_0x4cb845(0x137))var _0x45681b=users[_0x4cb845(0x137)];else{if(_0x3f9a91[0x0][_0x4cb845(0x120)]=='French')var _0x45681b=users[_0x4cb845(0x116)];else{if(_0x3f9a91[0x0][_0x4cb845(0x120)]==_0x4cb845(0x13f))var _0x45681b=users[_0x4cb845(0x13c)];else{if(_0x3f9a91[0x0][_0x4cb845(0x120)]==_0x4cb845(0x145))var _0x45681b=users[_0x4cb845(0x145)];else{if(_0x3f9a91[0x0][_0x4cb845(0x120)]=='Arabic\x20(ae)')var _0x45681b=users[_0x4cb845(0x14c)];}}}}}}}_0x4ef9a0[_0x4cb845(0x119)](0xc8)[_0x4cb845(0x141)]({'data':_0xbec015,'language':_0x45681b});}catch(_0x1abdcc){console['log'](_0x1abdcc);}}),router[a0_0x155a8f(0x130)](a0_0x155a8f(0x129),auth,async(_0x249800,_0xa3f93c)=>{var _0x21a882=a0_0x155a8f;try{const _0x2c67bc=_0x249800[_0x21a882(0x117)]['id'];console[_0x21a882(0x12b)](_0x2c67bc);const _0x2d1730=await master_shop[_0x21a882(0x13e)]();console['log'](_0x21a882(0x135),_0x2d1730);const _0x3f1968=await product[_0x21a882(0x149)]({'name':_0x2c67bc});console[_0x21a882(0x12b)](_0x21a882(0x13a),_0x3f1968);const _0xb8fda9=await warehouse[_0x21a882(0x150)]([{'$unwind':_0x21a882(0x12d)},{'$match':{'product_details.product_name':_0x2c67bc}},{'$project':{'name':0x1,'product_name':_0x21a882(0x128),'product_stock':_0x21a882(0x14f)}}]);console['log'](_0x21a882(0x13b),_0xb8fda9);if(_0x2d1730[0x0][_0x21a882(0x120)]==_0x21a882(0x133)){var _0x4f98aa=users[_0x21a882(0x152)];console[_0x21a882(0x12b)](_0x4f98aa);}else{if(_0x2d1730[0x0][_0x21a882(0x120)]==_0x21a882(0x14e))var _0x4f98aa=users[_0x21a882(0x14e)];else{if(_0x2d1730[0x0]['language']==_0x21a882(0x11d))var _0x4f98aa=users['German'];else{if(_0x2d1730[0x0][_0x21a882(0x120)]==_0x21a882(0x137))var _0x4f98aa=users[_0x21a882(0x137)];else{if(_0x2d1730[0x0][_0x21a882(0x120)]==_0x21a882(0x116))var _0x4f98aa=users[_0x21a882(0x116)];else{if(_0x2d1730[0x0][_0x21a882(0x120)]==_0x21a882(0x13f))var _0x4f98aa=users[_0x21a882(0x13c)];else{if(_0x2d1730[0x0][_0x21a882(0x120)]==_0x21a882(0x145))var _0x4f98aa=users['Chinese'];else{if(_0x2d1730[0x0]['language']=='Arabic\x20(ae)')var _0x4f98aa=users['Arabic'];}}}}}}}_0xa3f93c['status'](0xc8)[_0x21a882(0x141)]({'product_data':_0x3f1968,'warehouse_data':_0xb8fda9,'language':_0x4f98aa});}catch(_0x3e7915){console[_0x21a882(0x12b)](_0x3e7915);}}),router[a0_0x155a8f(0x13d)](a0_0x155a8f(0x140),async(_0x45208b,_0x40f8ac)=>{var _0x4cef12=a0_0x155a8f;const {warehouseNew:_0x304ef5,rooms:_0xcdea23,Type:_0x54f63b,process_cat:_0x3acb0a,room_cat:_0x4a6a66}=_0x45208b[_0x4cef12(0x11f)];let _0x1e560c;console[_0x4cef12(0x12b)](_0x45208b[_0x4cef12(0x11f)]);if(_0x3acb0a=='raw')_0x1e560c=await warehouse[_0x4cef12(0x150)]([{'$match':{'name':_0x304ef5,'room':_0xcdea23,'warehouse_category':_0x4cef12(0x144)}},{'$unwind':'$product_details'},{'$match':{'product_details.type':_0x54f63b,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x3acb0a==_0x4cef12(0x125)?_0xcdea23=='All'?_0x1e560c=await warehouse['aggregate']([{'$match':{'name':_0x304ef5,'warehouse_category':_0x4cef12(0x12a)}},{'$unwind':_0x4cef12(0x12d)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x1e560c=await warehouse[_0x4cef12(0x150)]([{'$match':{'name':_0x304ef5,'room':_0xcdea23,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0x4cef12(0x12d)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x4cef12(0x12b)](_0x4cef12(0x11a)),Include=[{'$unwind':_0x4cef12(0x12d)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x1e560c=await warehouse[_0x4cef12(0x150)](Include));_0x40f8ac['json'](_0x1e560c);}),router[a0_0x155a8f(0x13d)](a0_0x155a8f(0x124),async(_0x4e86ce,_0x39b09b)=>{var _0x1128a1=a0_0x155a8f;const {warehouseNew:_0x5ee733,rooms:_0x5ebc4c,Type:_0x3f4269,process_cat:_0xb6c16,room_cat:_0x559179}=_0x4e86ce['body'],_0x6bb2da=await product['find']();_0x39b09b[_0x1128a1(0x141)](_0x6bb2da);}),module['exports']=router;function a0_0x5956(){var _0x484038=['find','Portuguese\x20(BR)','/Reports','json','flash','4ioiznq','Raw\x20Materials','Chinese','product_details.product_name','2CnGijW','Arabic\x20(ae)','findOne','../public/language/languages.json','name','Arabic','19391985OPqmKM','Hindi','$product_details.product_stock','aggregate','email','English','products','802465gvxhpI','/view','4765922ibMJIF','477218ULiARd','French','params','../middleware/auth','status','ssd','express','success','German','/view/:id','body','language','errors','/view/warehouse/:id','$product_docs.brand','/Reports_product','finish','$product_docs.unit','$product_docs.sku','$product_details.product_name','/view/product/:id','Finished\x20Goods','log','1430337SKPKBF','$product_details','5131806EpkteO','Router','get','$product_docs.category','product_docs','English\x20(US)','6060544VBWaCj','master','user','Spanish','product_details.bin_name','111','product_data','warehouse_data','Portuguese','post'];a0_0x5956=function(){return _0x484038;};return a0_0x5956();}