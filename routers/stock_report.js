var a0_0x5e5b45=a0_0x2702;(function(_0x113220,_0x407e51){var _0x37b12d=a0_0x2702,_0x58c376=_0x113220();while(!![]){try{var _0x2dae96=-parseInt(_0x37b12d(0x139))/0x1+parseInt(_0x37b12d(0x12d))/0x2+parseInt(_0x37b12d(0x13e))/0x3+parseInt(_0x37b12d(0x129))/0x4+-parseInt(_0x37b12d(0x11c))/0x5+-parseInt(_0x37b12d(0x147))/0x6+-parseInt(_0x37b12d(0x135))/0x7*(-parseInt(_0x37b12d(0x11e))/0x8);if(_0x2dae96===_0x407e51)break;else _0x58c376['push'](_0x58c376['shift']());}catch(_0x207070){_0x58c376['push'](_0x58c376['shift']());}}}(a0_0x5945,0x2f9b2));function a0_0x2702(_0x571cfe,_0x17ad0e){var _0x5945e0=a0_0x5945();return a0_0x2702=function(_0x270221,_0x507a18){_0x270221=_0x270221-0x10d;var _0x1e6c95=_0x5945e0[_0x270221];return _0x1e6c95;},a0_0x2702(_0x571cfe,_0x17ad0e);}const express=require(a0_0x5e5b45(0x126)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x5e5b45(0x11a)),auth=require(a0_0x5e5b45(0x131)),users=require(a0_0x5e5b45(0x140));function a0_0x5945(){var _0x3b6bfd=['/view/:id','/view','French','Arabic','findOne','post','Hindi','status','stock_report','$product_details.product_stock','Portuguese\x20(BR)','get','user','params','$product_details','Finished\x20Goods','name','../models/all_models','product_data','1921170hXtroU','product_details.product_name','10680kQgOoi','flash','email','Spanish','/view/product/:id','language','Portuguese','warehouse','express','log','aggregate','635828xIfuaa','product_details.bin_name','master','ssd','78814hkrfaA','warehouse_data','English','All','../middleware/auth','German','$product_details.product_name','Chinese','3997lWQtNF','Raw\x20Materials','111','$product_docs.unit','258158wAIQWF','raw','/view/warehouse/:id','exports','find','596301gcmcfw','Arabic\x20(ae)','../public/language/languages.json','English\x20(US)','body','errors','render','$product_docs.category','json','1932180xJUzBf'];a0_0x5945=function(){return _0x3b6bfd;};return a0_0x5945();}router[a0_0x5e5b45(0x114)](a0_0x5e5b45(0x149),auth,async(_0x5cbce9,_0x2b2f00)=>{var _0x33da91=a0_0x5e5b45;try{const _0x4aa7b6=_0x5cbce9[_0x33da91(0x115)];console[_0x33da91(0x127)]('role_data',_0x5cbce9[_0x33da91(0x115)]);const _0x1d6208=await profile[_0x33da91(0x10d)]({'email':_0x4aa7b6[_0x33da91(0x120)]}),_0x443201=await master_shop['find']();console[_0x33da91(0x127)](_0x33da91(0x12b),_0x443201);const _0x128468=await warehouse[_0x33da91(0x13d)]({}),_0x4207be=await product[_0x33da91(0x13d)]({});if(_0x443201[0x0][_0x33da91(0x123)]==_0x33da91(0x141)){var _0x13af44=users['English'];console[_0x33da91(0x127)](_0x13af44);}else{if(_0x443201[0x0][_0x33da91(0x123)]==_0x33da91(0x10f))var _0x13af44=users[_0x33da91(0x10f)];else{if(_0x443201[0x0]['language']==_0x33da91(0x132))var _0x13af44=users['German'];else{if(_0x443201[0x0][_0x33da91(0x123)]=='Spanish')var _0x13af44=users[_0x33da91(0x121)];else{if(_0x443201[0x0][_0x33da91(0x123)]=='French')var _0x13af44=users[_0x33da91(0x14a)];else{if(_0x443201[0x0][_0x33da91(0x123)]==_0x33da91(0x113))var _0x13af44=users[_0x33da91(0x124)];else{if(_0x443201[0x0][_0x33da91(0x123)]==_0x33da91(0x134))var _0x13af44=users['Chinese'];else{if(_0x443201[0x0][_0x33da91(0x123)]==_0x33da91(0x13f))var _0x13af44=users['Arabic'];}}}}}}}_0x2b2f00[_0x33da91(0x144)](_0x33da91(0x111),{'success':_0x5cbce9[_0x33da91(0x11f)]('success'),'errors':_0x5cbce9[_0x33da91(0x11f)](_0x33da91(0x143)),'role':_0x4aa7b6,'profile':_0x1d6208,'master_shop':_0x443201,'warehouse':_0x128468,'product':_0x4207be,'warehouse_doc':[],'product_doc':[],'language':_0x13af44});}catch(_0x4a4932){console['log'](_0x4a4932);}}),router[a0_0x5e5b45(0x114)](a0_0x5e5b45(0x148),auth,async(_0x5e5ee0,_0x1b988a)=>{var _0xdc8e6d=a0_0x5e5b45;try{const _0x28e4a1=await master_shop[_0xdc8e6d(0x13d)]();console['log'](_0xdc8e6d(0x12b),_0x28e4a1);if(_0x5e5ee0[_0xdc8e6d(0x116)]['id']==_0xdc8e6d(0x125)){const _0x3479ee=await warehouse[_0xdc8e6d(0x13d)]();console[_0xdc8e6d(0x127)](_0x3479ee);if(_0x28e4a1[0x0][_0xdc8e6d(0x123)]=='English\x20(US)'){var _0x361926=users[_0xdc8e6d(0x12f)];console[_0xdc8e6d(0x127)](_0x361926);}else{if(_0x28e4a1[0x0][_0xdc8e6d(0x123)]==_0xdc8e6d(0x10f))var _0x361926=users[_0xdc8e6d(0x10f)];else{if(_0x28e4a1[0x0][_0xdc8e6d(0x123)]==_0xdc8e6d(0x132))var _0x361926=users[_0xdc8e6d(0x132)];else{if(_0x28e4a1[0x0]['language']=='Spanish')var _0x361926=users['Spanish'];else{if(_0x28e4a1[0x0][_0xdc8e6d(0x123)]=='French')var _0x361926=users[_0xdc8e6d(0x14a)];else{if(_0x28e4a1[0x0]['language']==_0xdc8e6d(0x113))var _0x361926=users[_0xdc8e6d(0x124)];else{if(_0x28e4a1[0x0][_0xdc8e6d(0x123)]==_0xdc8e6d(0x134))var _0x361926=users['Chinese'];else{if(_0x28e4a1[0x0]['language']==_0xdc8e6d(0x13f))var _0x361926=users[_0xdc8e6d(0x14b)];}}}}}}}_0x1b988a[_0xdc8e6d(0x110)](0xc8)[_0xdc8e6d(0x146)]({'data':_0x3479ee,'language':_0x361926[_0xdc8e6d(0x125)]});}else{const _0x103b37=await product[_0xdc8e6d(0x13d)]();console[_0xdc8e6d(0x127)](_0xdc8e6d(0x137),_0x103b37);if(_0x28e4a1[0x0][_0xdc8e6d(0x123)]==_0xdc8e6d(0x141)){var _0x361926=users[_0xdc8e6d(0x12f)];console[_0xdc8e6d(0x127)](_0x361926);}else{if(_0x28e4a1[0x0][_0xdc8e6d(0x123)]==_0xdc8e6d(0x10f))var _0x361926=users[_0xdc8e6d(0x10f)];else{if(_0x28e4a1[0x0][_0xdc8e6d(0x123)]==_0xdc8e6d(0x132))var _0x361926=users[_0xdc8e6d(0x132)];else{if(_0x28e4a1[0x0]['language']=='Spanish')var _0x361926=users[_0xdc8e6d(0x121)];else{if(_0x28e4a1[0x0]['language']==_0xdc8e6d(0x14a))var _0x361926=users[_0xdc8e6d(0x14a)];else{if(_0x28e4a1[0x0]['language']=='Portuguese\x20(BR)')var _0x361926=users[_0xdc8e6d(0x124)];else{if(_0x28e4a1[0x0][_0xdc8e6d(0x123)]==_0xdc8e6d(0x134))var _0x361926=users[_0xdc8e6d(0x134)];else{if(_0x28e4a1[0x0][_0xdc8e6d(0x123)]==_0xdc8e6d(0x13f))var _0x361926=users['Arabic'];}}}}}}}_0x1b988a[_0xdc8e6d(0x110)](0xc8)[_0xdc8e6d(0x146)]({'data':_0x103b37,'language':_0x361926['products']});}}catch(_0x23bbf1){console['log'](_0x23bbf1);}}),router['get'](a0_0x5e5b45(0x13b),auth,async(_0x514331,_0x7b9e3f)=>{var _0x61524b=a0_0x5e5b45;try{const _0x3e8bfd=_0x514331[_0x61524b(0x116)]['id'];console['log'](_0x3e8bfd);const _0x5c7bc5=await master_shop[_0x61524b(0x13d)]();console[_0x61524b(0x127)](_0x61524b(0x12b),_0x5c7bc5);const _0x293bf2=await warehouse[_0x61524b(0x128)]([{'$match':{'name':_0x3e8bfd}},{'$unwind':_0x61524b(0x117)},{'$lookup':{'from':'products','localField':_0x61524b(0x11d),'foreignField':_0x61524b(0x119),'as':'product_docs'}},{'$unwind':'$product_docs'},{'$project':{'name':0x1,'product_name':_0x61524b(0x133),'product_stock':_0x61524b(0x112),'category':_0x61524b(0x145),'brand':'$product_docs.brand','sku':'$product_docs.sku','unit':_0x61524b(0x138),'rak':'product_details.rak_name','bin':_0x61524b(0x12a)}}]);console[_0x61524b(0x127)](_0x293bf2);if(_0x5c7bc5[0x0]['language']==_0x61524b(0x141)){var _0x53c841=users[_0x61524b(0x12f)];console[_0x61524b(0x127)](_0x53c841);}else{if(_0x5c7bc5[0x0]['language']==_0x61524b(0x10f))var _0x53c841=users['Hindi'];else{if(_0x5c7bc5[0x0][_0x61524b(0x123)]=='German')var _0x53c841=users['German'];else{if(_0x5c7bc5[0x0][_0x61524b(0x123)]==_0x61524b(0x121))var _0x53c841=users['Spanish'];else{if(_0x5c7bc5[0x0][_0x61524b(0x123)]==_0x61524b(0x14a))var _0x53c841=users[_0x61524b(0x14a)];else{if(_0x5c7bc5[0x0][_0x61524b(0x123)]==_0x61524b(0x113))var _0x53c841=users[_0x61524b(0x124)];else{if(_0x5c7bc5[0x0][_0x61524b(0x123)]==_0x61524b(0x134))var _0x53c841=users[_0x61524b(0x134)];else{if(_0x5c7bc5[0x0][_0x61524b(0x123)]==_0x61524b(0x13f))var _0x53c841=users[_0x61524b(0x14b)];}}}}}}}_0x7b9e3f[_0x61524b(0x110)](0xc8)['json']({'data':_0x293bf2,'language':_0x53c841});}catch(_0x6b4e42){console['log'](_0x6b4e42);}}),router[a0_0x5e5b45(0x114)](a0_0x5e5b45(0x122),auth,async(_0x2bf6dc,_0x9c2df)=>{var _0x37a53f=a0_0x5e5b45;try{const _0x5e020a=_0x2bf6dc['params']['id'];console[_0x37a53f(0x127)](_0x5e020a);const _0xac8ade=await master_shop[_0x37a53f(0x13d)]();console[_0x37a53f(0x127)]('master',_0xac8ade);const _0x54ce87=await product[_0x37a53f(0x10d)]({'name':_0x5e020a});console[_0x37a53f(0x127)](_0x37a53f(0x11b),_0x54ce87);const _0x54b369=await warehouse[_0x37a53f(0x128)]([{'$unwind':_0x37a53f(0x117)},{'$match':{'product_details.product_name':_0x5e020a}},{'$project':{'name':0x1,'product_name':_0x37a53f(0x133),'product_stock':_0x37a53f(0x112)}}]);console[_0x37a53f(0x127)](_0x37a53f(0x12e),_0x54b369);if(_0xac8ade[0x0][_0x37a53f(0x123)]==_0x37a53f(0x141)){var _0x4f298b=users[_0x37a53f(0x12f)];console['log'](_0x4f298b);}else{if(_0xac8ade[0x0][_0x37a53f(0x123)]==_0x37a53f(0x10f))var _0x4f298b=users[_0x37a53f(0x10f)];else{if(_0xac8ade[0x0]['language']==_0x37a53f(0x132))var _0x4f298b=users['German'];else{if(_0xac8ade[0x0]['language']==_0x37a53f(0x121))var _0x4f298b=users['Spanish'];else{if(_0xac8ade[0x0]['language']==_0x37a53f(0x14a))var _0x4f298b=users[_0x37a53f(0x14a)];else{if(_0xac8ade[0x0]['language']==_0x37a53f(0x113))var _0x4f298b=users[_0x37a53f(0x124)];else{if(_0xac8ade[0x0]['language']==_0x37a53f(0x134))var _0x4f298b=users[_0x37a53f(0x134)];else{if(_0xac8ade[0x0]['language']=='Arabic\x20(ae)')var _0x4f298b=users[_0x37a53f(0x14b)];}}}}}}}_0x9c2df['status'](0xc8)[_0x37a53f(0x146)]({'product_data':_0x54ce87,'warehouse_data':_0x54b369,'language':_0x4f298b});}catch(_0x424995){console[_0x37a53f(0x127)](_0x424995);}}),router[a0_0x5e5b45(0x10e)]('/Reports',async(_0x4a3850,_0x4d9a0d)=>{var _0x2961f1=a0_0x5e5b45;const {warehouseNew:_0x2cdd84,rooms:_0x50e6f0,Type:_0x339a9b,process_cat:_0x12154d,room_cat:_0x1ee85a}=_0x4a3850['body'];let _0x2be09e;console['log'](_0x4a3850[_0x2961f1(0x142)]);if(_0x12154d==_0x2961f1(0x13a))_0x2be09e=await warehouse[_0x2961f1(0x128)]([{'$match':{'name':_0x2cdd84,'room':_0x50e6f0,'warehouse_category':_0x2961f1(0x136)}},{'$unwind':'$product_details'},{'$match':{'product_details.type':_0x339a9b,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x12154d=='finish'?_0x50e6f0==_0x2961f1(0x130)?_0x2be09e=await warehouse[_0x2961f1(0x128)]([{'$match':{'name':_0x2cdd84,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0x2961f1(0x117)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x2be09e=await warehouse[_0x2961f1(0x128)]([{'$match':{'name':_0x2cdd84,'room':_0x50e6f0,'warehouse_category':_0x2961f1(0x118)}},{'$unwind':_0x2961f1(0x117)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console['log'](_0x2961f1(0x12c)),Include=[{'$unwind':_0x2961f1(0x117)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x2be09e=await warehouse[_0x2961f1(0x128)](Include));_0x4d9a0d[_0x2961f1(0x146)](_0x2be09e);}),router[a0_0x5e5b45(0x10e)]('/Reports_product',async(_0x1ecfb1,_0x5d362f)=>{var _0x249c1d=a0_0x5e5b45;const {warehouseNew:_0x5ba6b5,rooms:_0x19636e,Type:_0x5db001,process_cat:_0x4fbff5,room_cat:_0x53df64}=_0x1ecfb1['body'],_0x3551c5=await product[_0x249c1d(0x13d)]();_0x5d362f[_0x249c1d(0x146)](_0x3551c5);}),module[a0_0x5e5b45(0x13c)]=router;