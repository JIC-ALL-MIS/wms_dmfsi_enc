var a0_0x101eba=a0_0x126b;(function(_0x5bac38,_0xc46008){var _0x5476b2=a0_0x126b,_0x109338=_0x5bac38();while(!![]){try{var _0x31b5da=-parseInt(_0x5476b2(0x1f1))/0x1+parseInt(_0x5476b2(0x205))/0x2+parseInt(_0x5476b2(0x1e8))/0x3+-parseInt(_0x5476b2(0x1f4))/0x4+-parseInt(_0x5476b2(0x1ef))/0x5+parseInt(_0x5476b2(0x1ea))/0x6*(-parseInt(_0x5476b2(0x213))/0x7)+parseInt(_0x5476b2(0x206))/0x8;if(_0x31b5da===_0xc46008)break;else _0x109338['push'](_0x109338['shift']());}catch(_0xb19523){_0x109338['push'](_0x109338['shift']());}}}(a0_0x28b3,0xe285a));function a0_0x28b3(){var _0x459540=['1232hnUvNZ','/view/:id','get','French','German','email','$product_docs.category','Arabic\x20(ae)','Hindi','products','stock_report','find','json','log','warehouse','render','Spanish','English','/Reports_product','/Reports','product_details.rak_name','3027714rPSTDM','post','43326zJXFwL','All','Finished\x20Goods','user','Arabic','5473930pzsmlt','Portuguese\x20(BR)','75200kfxSrS','success','warehouse_data','6863808XdIPtq','product_data','Portuguese','$product_details.product_name','raw','findOne','$product_details','111','$product_docs.sku','$product_docs.unit','body','aggregate','product_docs','express','/view','$product_details.product_stock','status','1049700JTOszy','28404640UeNEvq','English\x20(US)','product_details.bin_name','params','/view/product/:id','language','/view/warehouse/:id','ssd','finish','master','../public/language/languages.json','flash','Chinese'];a0_0x28b3=function(){return _0x459540;};return a0_0x28b3();}function a0_0x126b(_0x389a4c,_0x12747c){var _0x28b39b=a0_0x28b3();return a0_0x126b=function(_0x126b92,_0x571267){_0x126b92=_0x126b92-0x1e2;var _0x1f5934=_0x28b39b[_0x126b92];return _0x1f5934;},a0_0x126b(_0x389a4c,_0x12747c);}const express=require(a0_0x101eba(0x201)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require('../models/all_models'),auth=require('../middleware/auth'),users=require(a0_0x101eba(0x210));router['get'](a0_0x101eba(0x202),auth,async(_0x413e4f,_0x221ca5)=>{var _0x220786=a0_0x101eba;try{const _0x370775=_0x413e4f[_0x220786(0x1ed)];console[_0x220786(0x220)]('role_data',_0x413e4f[_0x220786(0x1ed)]);const _0x4aa911=await profile['findOne']({'email':_0x370775[_0x220786(0x218)]}),_0x46aea2=await master_shop[_0x220786(0x21e)]();console[_0x220786(0x220)](_0x220786(0x20f),_0x46aea2);const _0x4ea8ac=await warehouse['find']({}),_0x2ca700=await product[_0x220786(0x21e)]({});if(_0x46aea2[0x0][_0x220786(0x20b)]==_0x220786(0x207)){var _0x1ee288=users['English'];console[_0x220786(0x220)](_0x1ee288);}else{if(_0x46aea2[0x0][_0x220786(0x20b)]==_0x220786(0x21b))var _0x1ee288=users['Hindi'];else{if(_0x46aea2[0x0][_0x220786(0x20b)]==_0x220786(0x217))var _0x1ee288=users[_0x220786(0x217)];else{if(_0x46aea2[0x0][_0x220786(0x20b)]=='Spanish')var _0x1ee288=users['Spanish'];else{if(_0x46aea2[0x0][_0x220786(0x20b)]==_0x220786(0x216))var _0x1ee288=users['French'];else{if(_0x46aea2[0x0][_0x220786(0x20b)]==_0x220786(0x1f0))var _0x1ee288=users['Portuguese'];else{if(_0x46aea2[0x0][_0x220786(0x20b)]=='Chinese')var _0x1ee288=users['Chinese'];else{if(_0x46aea2[0x0][_0x220786(0x20b)]==_0x220786(0x21a))var _0x1ee288=users[_0x220786(0x1ee)];}}}}}}}_0x221ca5[_0x220786(0x1e2)](_0x220786(0x21d),{'success':_0x413e4f[_0x220786(0x211)](_0x220786(0x1f2)),'errors':_0x413e4f[_0x220786(0x211)]('errors'),'role':_0x370775,'profile':_0x4aa911,'master_shop':_0x46aea2,'warehouse':_0x4ea8ac,'product':_0x2ca700,'warehouse_doc':[],'product_doc':[],'language':_0x1ee288});}catch(_0xf3da61){console[_0x220786(0x220)](_0xf3da61);}}),router[a0_0x101eba(0x215)](a0_0x101eba(0x214),auth,async(_0x4c8639,_0x367266)=>{var _0xf0af49=a0_0x101eba;try{const _0x3fe549=await master_shop[_0xf0af49(0x21e)]();console[_0xf0af49(0x220)](_0xf0af49(0x20f),_0x3fe549);if(_0x4c8639['params']['id']==_0xf0af49(0x221)){const _0xb99e14=await warehouse[_0xf0af49(0x21e)]();console[_0xf0af49(0x220)](_0xb99e14);if(_0x3fe549[0x0]['language']==_0xf0af49(0x207)){var _0x13fbe2=users[_0xf0af49(0x1e4)];console[_0xf0af49(0x220)](_0x13fbe2);}else{if(_0x3fe549[0x0][_0xf0af49(0x20b)]==_0xf0af49(0x21b))var _0x13fbe2=users[_0xf0af49(0x21b)];else{if(_0x3fe549[0x0]['language']=='German')var _0x13fbe2=users[_0xf0af49(0x217)];else{if(_0x3fe549[0x0][_0xf0af49(0x20b)]=='Spanish')var _0x13fbe2=users[_0xf0af49(0x1e3)];else{if(_0x3fe549[0x0][_0xf0af49(0x20b)]==_0xf0af49(0x216))var _0x13fbe2=users[_0xf0af49(0x216)];else{if(_0x3fe549[0x0]['language']==_0xf0af49(0x1f0))var _0x13fbe2=users[_0xf0af49(0x1f6)];else{if(_0x3fe549[0x0][_0xf0af49(0x20b)]==_0xf0af49(0x212))var _0x13fbe2=users[_0xf0af49(0x212)];else{if(_0x3fe549[0x0][_0xf0af49(0x20b)]=='Arabic\x20(ae)')var _0x13fbe2=users[_0xf0af49(0x1ee)];}}}}}}}_0x367266[_0xf0af49(0x204)](0xc8)[_0xf0af49(0x21f)]({'data':_0xb99e14,'language':_0x13fbe2['warehouse']});}else{const _0x2a5d8b=await product['find']();console[_0xf0af49(0x220)](_0xf0af49(0x1fb),_0x2a5d8b);if(_0x3fe549[0x0][_0xf0af49(0x20b)]==_0xf0af49(0x207)){var _0x13fbe2=users['English'];console[_0xf0af49(0x220)](_0x13fbe2);}else{if(_0x3fe549[0x0][_0xf0af49(0x20b)]==_0xf0af49(0x21b))var _0x13fbe2=users[_0xf0af49(0x21b)];else{if(_0x3fe549[0x0][_0xf0af49(0x20b)]==_0xf0af49(0x217))var _0x13fbe2=users[_0xf0af49(0x217)];else{if(_0x3fe549[0x0][_0xf0af49(0x20b)]=='Spanish')var _0x13fbe2=users[_0xf0af49(0x1e3)];else{if(_0x3fe549[0x0][_0xf0af49(0x20b)]==_0xf0af49(0x216))var _0x13fbe2=users['French'];else{if(_0x3fe549[0x0][_0xf0af49(0x20b)]==_0xf0af49(0x1f0))var _0x13fbe2=users[_0xf0af49(0x1f6)];else{if(_0x3fe549[0x0][_0xf0af49(0x20b)]==_0xf0af49(0x212))var _0x13fbe2=users[_0xf0af49(0x212)];else{if(_0x3fe549[0x0]['language']==_0xf0af49(0x21a))var _0x13fbe2=users[_0xf0af49(0x1ee)];}}}}}}}_0x367266[_0xf0af49(0x204)](0xc8)[_0xf0af49(0x21f)]({'data':_0x2a5d8b,'language':_0x13fbe2[_0xf0af49(0x21c)]});}}catch(_0xae4617){console[_0xf0af49(0x220)](_0xae4617);}}),router[a0_0x101eba(0x215)](a0_0x101eba(0x20c),auth,async(_0x58af15,_0x2f8358)=>{var _0x150e8f=a0_0x101eba;try{const _0x517ce7=_0x58af15[_0x150e8f(0x209)]['id'];console[_0x150e8f(0x220)](_0x517ce7);const _0x4c1a31=await master_shop[_0x150e8f(0x21e)]();console[_0x150e8f(0x220)](_0x150e8f(0x20f),_0x4c1a31);const _0x1b3a5f=await warehouse[_0x150e8f(0x1ff)]([{'$match':{'name':_0x517ce7}},{'$unwind':_0x150e8f(0x1fa)},{'$lookup':{'from':_0x150e8f(0x21c),'localField':'product_details.product_name','foreignField':'name','as':_0x150e8f(0x200)}},{'$unwind':'$product_docs'},{'$project':{'name':0x1,'product_name':_0x150e8f(0x1f7),'product_stock':'$product_details.product_stock','category':_0x150e8f(0x219),'brand':'$product_docs.brand','sku':_0x150e8f(0x1fc),'unit':_0x150e8f(0x1fd),'rak':_0x150e8f(0x1e7),'bin':_0x150e8f(0x208)}}]);console[_0x150e8f(0x220)](_0x1b3a5f);if(_0x4c1a31[0x0][_0x150e8f(0x20b)]=='English\x20(US)'){var _0x170388=users[_0x150e8f(0x1e4)];console[_0x150e8f(0x220)](_0x170388);}else{if(_0x4c1a31[0x0]['language']==_0x150e8f(0x21b))var _0x170388=users['Hindi'];else{if(_0x4c1a31[0x0][_0x150e8f(0x20b)]==_0x150e8f(0x217))var _0x170388=users[_0x150e8f(0x217)];else{if(_0x4c1a31[0x0][_0x150e8f(0x20b)]==_0x150e8f(0x1e3))var _0x170388=users[_0x150e8f(0x1e3)];else{if(_0x4c1a31[0x0]['language']==_0x150e8f(0x216))var _0x170388=users[_0x150e8f(0x216)];else{if(_0x4c1a31[0x0][_0x150e8f(0x20b)]==_0x150e8f(0x1f0))var _0x170388=users[_0x150e8f(0x1f6)];else{if(_0x4c1a31[0x0][_0x150e8f(0x20b)]=='Chinese')var _0x170388=users['Chinese'];else{if(_0x4c1a31[0x0]['language']=='Arabic\x20(ae)')var _0x170388=users[_0x150e8f(0x1ee)];}}}}}}}_0x2f8358[_0x150e8f(0x204)](0xc8)[_0x150e8f(0x21f)]({'data':_0x1b3a5f,'language':_0x170388});}catch(_0xeb5ff9){console['log'](_0xeb5ff9);}}),router[a0_0x101eba(0x215)](a0_0x101eba(0x20a),auth,async(_0x312f37,_0x2a97a7)=>{var _0xf5208a=a0_0x101eba;try{const _0x1a6a41=_0x312f37[_0xf5208a(0x209)]['id'];console[_0xf5208a(0x220)](_0x1a6a41);const _0x21ee7f=await master_shop[_0xf5208a(0x21e)]();console['log']('master',_0x21ee7f);const _0x2205df=await product[_0xf5208a(0x1f9)]({'name':_0x1a6a41});console[_0xf5208a(0x220)](_0xf5208a(0x1f5),_0x2205df);const _0x12727d=await warehouse['aggregate']([{'$unwind':'$product_details'},{'$match':{'product_details.product_name':_0x1a6a41}},{'$project':{'name':0x1,'product_name':_0xf5208a(0x1f7),'product_stock':_0xf5208a(0x203)}}]);console['log'](_0xf5208a(0x1f3),_0x12727d);if(_0x21ee7f[0x0][_0xf5208a(0x20b)]==_0xf5208a(0x207)){var _0x198a58=users[_0xf5208a(0x1e4)];console[_0xf5208a(0x220)](_0x198a58);}else{if(_0x21ee7f[0x0][_0xf5208a(0x20b)]=='Hindi')var _0x198a58=users['Hindi'];else{if(_0x21ee7f[0x0]['language']==_0xf5208a(0x217))var _0x198a58=users[_0xf5208a(0x217)];else{if(_0x21ee7f[0x0][_0xf5208a(0x20b)]=='Spanish')var _0x198a58=users[_0xf5208a(0x1e3)];else{if(_0x21ee7f[0x0]['language']==_0xf5208a(0x216))var _0x198a58=users['French'];else{if(_0x21ee7f[0x0][_0xf5208a(0x20b)]=='Portuguese\x20(BR)')var _0x198a58=users[_0xf5208a(0x1f6)];else{if(_0x21ee7f[0x0][_0xf5208a(0x20b)]=='Chinese')var _0x198a58=users[_0xf5208a(0x212)];else{if(_0x21ee7f[0x0]['language']==_0xf5208a(0x21a))var _0x198a58=users[_0xf5208a(0x1ee)];}}}}}}}_0x2a97a7[_0xf5208a(0x204)](0xc8)[_0xf5208a(0x21f)]({'product_data':_0x2205df,'warehouse_data':_0x12727d,'language':_0x198a58});}catch(_0xcc9266){console[_0xf5208a(0x220)](_0xcc9266);}}),router[a0_0x101eba(0x1e9)](a0_0x101eba(0x1e6),async(_0x2b8d01,_0x2a1708)=>{var _0x190749=a0_0x101eba;const {warehouseNew:_0x5d4106,rooms:_0x5d7d9a,Type:_0x3df6b3,process_cat:_0x5e6e95,room_cat:_0x3f346c}=_0x2b8d01[_0x190749(0x1fe)];let _0x23e5dc;console[_0x190749(0x220)](_0x2b8d01[_0x190749(0x1fe)]);if(_0x5e6e95==_0x190749(0x1f8))_0x23e5dc=await warehouse[_0x190749(0x1ff)]([{'$match':{'name':_0x5d4106,'room':_0x5d7d9a,'warehouse_category':'Raw\x20Materials'}},{'$unwind':_0x190749(0x1fa)},{'$match':{'product_details.type':_0x3df6b3,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x5e6e95==_0x190749(0x20e)?_0x5d7d9a==_0x190749(0x1eb)?_0x23e5dc=await warehouse[_0x190749(0x1ff)]([{'$match':{'name':_0x5d4106,'warehouse_category':'Finished\x20Goods'}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x23e5dc=await warehouse[_0x190749(0x1ff)]([{'$match':{'name':_0x5d4106,'room':_0x5d7d9a,'warehouse_category':_0x190749(0x1ec)}},{'$unwind':_0x190749(0x1fa)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x190749(0x220)](_0x190749(0x20d)),Include=[{'$unwind':_0x190749(0x1fa)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x23e5dc=await warehouse[_0x190749(0x1ff)](Include));_0x2a1708[_0x190749(0x21f)](_0x23e5dc);}),router[a0_0x101eba(0x1e9)](a0_0x101eba(0x1e5),async(_0x13496a,_0x579cb0)=>{var _0x31302a=a0_0x101eba;const {warehouseNew:_0x9d3a79,rooms:_0x7dd3b3,Type:_0x2ebd63,process_cat:_0xe8129f,room_cat:_0x527079}=_0x13496a[_0x31302a(0x1fe)],_0xe685b3=await product[_0x31302a(0x21e)]();_0x579cb0[_0x31302a(0x21f)](_0xe685b3);}),module['exports']=router;