var a0_0x256560=a0_0x45ce;function a0_0x32c7(){var _0x39eb1f=['2262472xQwfRk','441683qVfqKw','get','French','Portuguese','body','/view/product/:id','finish','find','Arabic','Portuguese\x20(BR)','ssd','language','role_data','/view/warehouse/:id','/view','9pAbNOz','$product_details','1891090gwRDiU','email','findOne','/view/:id','English','$product_docs.category','aggregate','554PDpSDa','errors','post','status','2149RxVrLg','flash','12swouKS','products','product_data','5283655KBNlXO','../middleware/auth','exports','60TTEGKQ','express','$product_docs.brand','product_details.rak_name','German','warehouse','log','English\x20(US)','254598TAHGuw','params','render','json','$product_details.product_stock','master','raw','product_details.product_name','Hindi','$product_details.product_name','Chinese','87715qTNeGb','/Reports_product','111','product_details.bin_name','user','4pSBstQ','Spanish','$product_docs.unit','7vwoacQ','../models/all_models','$product_docs.sku','Arabic\x20(ae)','$product_docs','success'];a0_0x32c7=function(){return _0x39eb1f;};return a0_0x32c7();}(function(_0x114f8,_0xf2baf9){var _0x14f6ee=a0_0x45ce,_0x3d7cf5=_0x114f8();while(!![]){try{var _0x19c3b5=parseInt(_0x14f6ee(0xb5))/0x1*(parseInt(_0x14f6ee(0xb1))/0x2)+-parseInt(_0x14f6ee(0x7f))/0x3*(-parseInt(_0x14f6ee(0x8f))/0x4)+parseInt(_0x14f6ee(0x8a))/0x5*(-parseInt(_0x14f6ee(0xb7))/0x6)+parseInt(_0x14f6ee(0x92))/0x7*(-parseInt(_0x14f6ee(0x98))/0x8)+parseInt(_0x14f6ee(0xa8))/0x9*(-parseInt(_0x14f6ee(0xaa))/0xa)+parseInt(_0x14f6ee(0x99))/0xb*(-parseInt(_0x14f6ee(0xbd))/0xc)+parseInt(_0x14f6ee(0xba))/0xd;if(_0x19c3b5===_0xf2baf9)break;else _0x3d7cf5['push'](_0x3d7cf5['shift']());}catch(_0x1e6b29){_0x3d7cf5['push'](_0x3d7cf5['shift']());}}}(a0_0x32c7,0x5c7b5));function a0_0x45ce(_0xfef830,_0x4434dd){var _0x32c7c8=a0_0x32c7();return a0_0x45ce=function(_0x45cedf,_0x2cf654){_0x45cedf=_0x45cedf-0x78;var _0x39c9b0=_0x32c7c8[_0x45cedf];return _0x39c9b0;},a0_0x45ce(_0xfef830,_0x4434dd);}const express=require(a0_0x256560(0x78)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x256560(0x93)),auth=require(a0_0x256560(0xbb)),users=require('../public/language/languages.json');router['get'](a0_0x256560(0xa7),auth,async(_0x5dd496,_0x21024b)=>{var _0x436c1a=a0_0x256560;try{const _0x4e006a=_0x5dd496[_0x436c1a(0x8e)];console['log'](_0x436c1a(0xa5),_0x5dd496[_0x436c1a(0x8e)]);const _0x5a15eb=await profile['findOne']({'email':_0x4e006a[_0x436c1a(0xab)]}),_0x43bb6f=await master_shop[_0x436c1a(0xa0)]();console['log'](_0x436c1a(0x84),_0x43bb6f);const _0x26d386=await warehouse[_0x436c1a(0xa0)]({}),_0xd150d9=await product[_0x436c1a(0xa0)]({});if(_0x43bb6f[0x0][_0x436c1a(0xa4)]==_0x436c1a(0x7e)){var _0x3aa414=users[_0x436c1a(0xae)];console[_0x436c1a(0x7d)](_0x3aa414);}else{if(_0x43bb6f[0x0]['language']==_0x436c1a(0x87))var _0x3aa414=users[_0x436c1a(0x87)];else{if(_0x43bb6f[0x0][_0x436c1a(0xa4)]=='German')var _0x3aa414=users[_0x436c1a(0x7b)];else{if(_0x43bb6f[0x0][_0x436c1a(0xa4)]==_0x436c1a(0x90))var _0x3aa414=users[_0x436c1a(0x90)];else{if(_0x43bb6f[0x0][_0x436c1a(0xa4)]==_0x436c1a(0x9b))var _0x3aa414=users['French'];else{if(_0x43bb6f[0x0][_0x436c1a(0xa4)]==_0x436c1a(0xa2))var _0x3aa414=users[_0x436c1a(0x9c)];else{if(_0x43bb6f[0x0][_0x436c1a(0xa4)]==_0x436c1a(0x89))var _0x3aa414=users[_0x436c1a(0x89)];else{if(_0x43bb6f[0x0][_0x436c1a(0xa4)]=='Arabic\x20(ae)')var _0x3aa414=users[_0x436c1a(0xa1)];}}}}}}}_0x21024b[_0x436c1a(0x81)]('stock_report',{'success':_0x5dd496[_0x436c1a(0xb6)](_0x436c1a(0x97)),'errors':_0x5dd496[_0x436c1a(0xb6)](_0x436c1a(0xb2)),'role':_0x4e006a,'profile':_0x5a15eb,'master_shop':_0x43bb6f,'warehouse':_0x26d386,'product':_0xd150d9,'warehouse_doc':[],'product_doc':[],'language':_0x3aa414});}catch(_0x339370){console[_0x436c1a(0x7d)](_0x339370);}}),router[a0_0x256560(0x9a)](a0_0x256560(0xad),auth,async(_0xfbcf8c,_0x404011)=>{var _0x50e3e8=a0_0x256560;try{const _0x5d909d=await master_shop[_0x50e3e8(0xa0)]();console[_0x50e3e8(0x7d)]('master',_0x5d909d);if(_0xfbcf8c[_0x50e3e8(0x80)]['id']==_0x50e3e8(0x7c)){const _0x1419eb=await warehouse['find']();console[_0x50e3e8(0x7d)](_0x1419eb);if(_0x5d909d[0x0][_0x50e3e8(0xa4)]==_0x50e3e8(0x7e)){var _0x5445a2=users[_0x50e3e8(0xae)];console[_0x50e3e8(0x7d)](_0x5445a2);}else{if(_0x5d909d[0x0]['language']==_0x50e3e8(0x87))var _0x5445a2=users[_0x50e3e8(0x87)];else{if(_0x5d909d[0x0][_0x50e3e8(0xa4)]=='German')var _0x5445a2=users['German'];else{if(_0x5d909d[0x0][_0x50e3e8(0xa4)]==_0x50e3e8(0x90))var _0x5445a2=users['Spanish'];else{if(_0x5d909d[0x0]['language']==_0x50e3e8(0x9b))var _0x5445a2=users[_0x50e3e8(0x9b)];else{if(_0x5d909d[0x0][_0x50e3e8(0xa4)]==_0x50e3e8(0xa2))var _0x5445a2=users[_0x50e3e8(0x9c)];else{if(_0x5d909d[0x0]['language']==_0x50e3e8(0x89))var _0x5445a2=users['Chinese'];else{if(_0x5d909d[0x0]['language']==_0x50e3e8(0x95))var _0x5445a2=users[_0x50e3e8(0xa1)];}}}}}}}_0x404011[_0x50e3e8(0xb4)](0xc8)[_0x50e3e8(0x82)]({'data':_0x1419eb,'language':_0x5445a2[_0x50e3e8(0x7c)]});}else{const _0x47ac7b=await product[_0x50e3e8(0xa0)]();console[_0x50e3e8(0x7d)](_0x50e3e8(0x8c),_0x47ac7b);if(_0x5d909d[0x0][_0x50e3e8(0xa4)]==_0x50e3e8(0x7e)){var _0x5445a2=users[_0x50e3e8(0xae)];console[_0x50e3e8(0x7d)](_0x5445a2);}else{if(_0x5d909d[0x0][_0x50e3e8(0xa4)]==_0x50e3e8(0x87))var _0x5445a2=users[_0x50e3e8(0x87)];else{if(_0x5d909d[0x0][_0x50e3e8(0xa4)]==_0x50e3e8(0x7b))var _0x5445a2=users[_0x50e3e8(0x7b)];else{if(_0x5d909d[0x0][_0x50e3e8(0xa4)]==_0x50e3e8(0x90))var _0x5445a2=users[_0x50e3e8(0x90)];else{if(_0x5d909d[0x0][_0x50e3e8(0xa4)]==_0x50e3e8(0x9b))var _0x5445a2=users[_0x50e3e8(0x9b)];else{if(_0x5d909d[0x0][_0x50e3e8(0xa4)]==_0x50e3e8(0xa2))var _0x5445a2=users[_0x50e3e8(0x9c)];else{if(_0x5d909d[0x0][_0x50e3e8(0xa4)]==_0x50e3e8(0x89))var _0x5445a2=users[_0x50e3e8(0x89)];else{if(_0x5d909d[0x0][_0x50e3e8(0xa4)]==_0x50e3e8(0x95))var _0x5445a2=users[_0x50e3e8(0xa1)];}}}}}}}_0x404011[_0x50e3e8(0xb4)](0xc8)[_0x50e3e8(0x82)]({'data':_0x47ac7b,'language':_0x5445a2[_0x50e3e8(0xb8)]});}}catch(_0x5525c4){console[_0x50e3e8(0x7d)](_0x5525c4);}}),router['get'](a0_0x256560(0xa6),auth,async(_0x1dd290,_0x1b250c)=>{var _0x521668=a0_0x256560;try{const _0x4a72c9=_0x1dd290[_0x521668(0x80)]['id'];console[_0x521668(0x7d)](_0x4a72c9);const _0x3c940f=await master_shop['find']();console['log'](_0x521668(0x84),_0x3c940f);const _0x40c804=await warehouse['aggregate']([{'$match':{'name':_0x4a72c9}},{'$unwind':'$product_details'},{'$lookup':{'from':_0x521668(0xb8),'localField':_0x521668(0x86),'foreignField':'name','as':'product_docs'}},{'$unwind':_0x521668(0x96)},{'$project':{'name':0x1,'product_name':_0x521668(0x88),'product_stock':'$product_details.product_stock','category':_0x521668(0xaf),'brand':_0x521668(0x79),'sku':_0x521668(0x94),'unit':_0x521668(0x91),'rak':_0x521668(0x7a),'bin':_0x521668(0x8d)}}]);console[_0x521668(0x7d)](_0x40c804);if(_0x3c940f[0x0][_0x521668(0xa4)]=='English\x20(US)'){var _0x284a8d=users['English'];console[_0x521668(0x7d)](_0x284a8d);}else{if(_0x3c940f[0x0][_0x521668(0xa4)]==_0x521668(0x87))var _0x284a8d=users[_0x521668(0x87)];else{if(_0x3c940f[0x0][_0x521668(0xa4)]=='German')var _0x284a8d=users['German'];else{if(_0x3c940f[0x0][_0x521668(0xa4)]==_0x521668(0x90))var _0x284a8d=users[_0x521668(0x90)];else{if(_0x3c940f[0x0]['language']==_0x521668(0x9b))var _0x284a8d=users[_0x521668(0x9b)];else{if(_0x3c940f[0x0][_0x521668(0xa4)]==_0x521668(0xa2))var _0x284a8d=users[_0x521668(0x9c)];else{if(_0x3c940f[0x0][_0x521668(0xa4)]==_0x521668(0x89))var _0x284a8d=users[_0x521668(0x89)];else{if(_0x3c940f[0x0][_0x521668(0xa4)]==_0x521668(0x95))var _0x284a8d=users[_0x521668(0xa1)];}}}}}}}_0x1b250c['status'](0xc8)[_0x521668(0x82)]({'data':_0x40c804,'language':_0x284a8d});}catch(_0x14e393){console[_0x521668(0x7d)](_0x14e393);}}),router[a0_0x256560(0x9a)](a0_0x256560(0x9e),auth,async(_0x1a028a,_0x59518d)=>{var _0x4b83d0=a0_0x256560;try{const _0x18af72=_0x1a028a['params']['id'];console['log'](_0x18af72);const _0xeff8a=await master_shop[_0x4b83d0(0xa0)]();console[_0x4b83d0(0x7d)](_0x4b83d0(0x84),_0xeff8a);const _0x2340f6=await product[_0x4b83d0(0xac)]({'name':_0x18af72});console['log'](_0x4b83d0(0xb9),_0x2340f6);const _0x12ba04=await warehouse[_0x4b83d0(0xb0)]([{'$unwind':_0x4b83d0(0xa9)},{'$match':{'product_details.product_name':_0x18af72}},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x4b83d0(0x83)}}]);console[_0x4b83d0(0x7d)]('warehouse_data',_0x12ba04);if(_0xeff8a[0x0][_0x4b83d0(0xa4)]==_0x4b83d0(0x7e)){var _0x345921=users[_0x4b83d0(0xae)];console[_0x4b83d0(0x7d)](_0x345921);}else{if(_0xeff8a[0x0][_0x4b83d0(0xa4)]==_0x4b83d0(0x87))var _0x345921=users[_0x4b83d0(0x87)];else{if(_0xeff8a[0x0]['language']==_0x4b83d0(0x7b))var _0x345921=users['German'];else{if(_0xeff8a[0x0][_0x4b83d0(0xa4)]==_0x4b83d0(0x90))var _0x345921=users[_0x4b83d0(0x90)];else{if(_0xeff8a[0x0]['language']==_0x4b83d0(0x9b))var _0x345921=users['French'];else{if(_0xeff8a[0x0][_0x4b83d0(0xa4)]==_0x4b83d0(0xa2))var _0x345921=users[_0x4b83d0(0x9c)];else{if(_0xeff8a[0x0][_0x4b83d0(0xa4)]==_0x4b83d0(0x89))var _0x345921=users[_0x4b83d0(0x89)];else{if(_0xeff8a[0x0][_0x4b83d0(0xa4)]==_0x4b83d0(0x95))var _0x345921=users[_0x4b83d0(0xa1)];}}}}}}}_0x59518d[_0x4b83d0(0xb4)](0xc8)[_0x4b83d0(0x82)]({'product_data':_0x2340f6,'warehouse_data':_0x12ba04,'language':_0x345921});}catch(_0x342b45){console[_0x4b83d0(0x7d)](_0x342b45);}}),router['post']('/Reports',async(_0x1fbc13,_0x7ca58f)=>{var _0x597350=a0_0x256560;const {warehouseNew:_0x2cac64,rooms:_0x47c2f5,Type:_0x930250,process_cat:_0x3b50ae,room_cat:_0x3bb62e}=_0x1fbc13[_0x597350(0x9d)];let _0x1f6321;console[_0x597350(0x7d)](_0x1fbc13[_0x597350(0x9d)]);if(_0x3b50ae==_0x597350(0x85))_0x1f6321=await warehouse[_0x597350(0xb0)]([{'$match':{'name':_0x2cac64,'room':_0x47c2f5,'warehouse_category':'Raw\x20Materials'}},{'$unwind':_0x597350(0xa9)},{'$match':{'product_details.type':_0x930250,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x3b50ae==_0x597350(0x9f)?_0x47c2f5=='All'?_0x1f6321=await warehouse[_0x597350(0xb0)]([{'$match':{'name':_0x2cac64,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0x597350(0xa9)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x1f6321=await warehouse[_0x597350(0xb0)]([{'$match':{'name':_0x2cac64,'room':_0x47c2f5,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0x597350(0xa9)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x597350(0x7d)](_0x597350(0xa3)),Include=[{'$unwind':_0x597350(0xa9)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x1f6321=await warehouse['aggregate'](Include));_0x7ca58f[_0x597350(0x82)](_0x1f6321);}),router[a0_0x256560(0xb3)](a0_0x256560(0x8b),async(_0x33db7f,_0x2b8d8a)=>{var _0x46d4da=a0_0x256560;const {warehouseNew:_0x109600,rooms:_0x48d3d9,Type:_0x241ca4,process_cat:_0x4bc8e0,room_cat:_0x3da659}=_0x33db7f[_0x46d4da(0x9d)],_0x330f59=await product[_0x46d4da(0xa0)]();_0x2b8d8a[_0x46d4da(0x82)](_0x330f59);}),module[a0_0x256560(0xbc)]=router;