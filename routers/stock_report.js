var a0_0x42eb44=a0_0x2fda;function a0_0x2fda(_0x1c2cdf,_0x28cab0){var _0xe71e6a=a0_0xe71e();return a0_0x2fda=function(_0x2fda5,_0x557cbd){_0x2fda5=_0x2fda5-0x19d;var _0x227605=_0xe71e6a[_0x2fda5];return _0x227605;},a0_0x2fda(_0x1c2cdf,_0x28cab0);}(function(_0xaf0966,_0x56dc05){var _0xdf65ba=a0_0x2fda,_0x334859=_0xaf0966();while(!![]){try{var _0x3d792c=parseInt(_0xdf65ba(0x1cf))/0x1*(parseInt(_0xdf65ba(0x1ad))/0x2)+-parseInt(_0xdf65ba(0x1ca))/0x3+parseInt(_0xdf65ba(0x1a9))/0x4*(-parseInt(_0xdf65ba(0x1da))/0x5)+parseInt(_0xdf65ba(0x19e))/0x6*(-parseInt(_0xdf65ba(0x1af))/0x7)+-parseInt(_0xdf65ba(0x1b4))/0x8+parseInt(_0xdf65ba(0x1ac))/0x9*(-parseInt(_0xdf65ba(0x1c6))/0xa)+parseInt(_0xdf65ba(0x1b0))/0xb;if(_0x3d792c===_0x56dc05)break;else _0x334859['push'](_0x334859['shift']());}catch(_0x41333f){_0x334859['push'](_0x334859['shift']());}}}(a0_0xe71e,0x37fba));function a0_0xe71e(){var _0x469283=['$product_details.product_stock','master','stock_report','product_details.rak_name','30mFFcaV','product_details.bin_name','../models/all_models','$product_docs.brand','239286uxSGFK','product_details.product_name','language','/Reports','English','161206zdNJVy','English\x20(US)','Portuguese\x20(BR)','product_data','log','find','exports','user','$product_docs.unit','express','Router','1915HRkuxA','Arabic','email','German','French','post','role_data','name','aggregate','214404FdvAmp','warehouse','products','status','$product_details.product_name','Portuguese','body','raw','All','params','ssd','168zaXNYR','get','Spanish','822357HPQSPs','2xDabQf','render','7QMXUCp','9855758mQzzEi','Arabic\x20(ae)','/view','$product_docs','3377416BcNMHE','Chinese','../public/language/languages.json','findOne','Hindi','$product_details','json','/view/warehouse/:id','111','flash','/view/product/:id','/view/:id','Finished\x20Goods','errors'];a0_0xe71e=function(){return _0x469283;};return a0_0xe71e();}const express=require(a0_0x42eb44(0x1d8)),app=express(),router=express[a0_0x42eb44(0x1d9)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x42eb44(0x1c8)),auth=require('../middleware/auth'),users=require(a0_0x42eb44(0x1b6));router[a0_0x42eb44(0x1aa)](a0_0x42eb44(0x1b2),auth,async(_0x6001b6,_0x140420)=>{var _0x2ad0ae=a0_0x42eb44;try{const _0x587600=_0x6001b6['user'];console[_0x2ad0ae(0x1d3)](_0x2ad0ae(0x1e0),_0x6001b6[_0x2ad0ae(0x1d6)]);const _0x29e9f8=await profile['findOne']({'email':_0x587600[_0x2ad0ae(0x1dc)]}),_0x41cc42=await master_shop[_0x2ad0ae(0x1d4)]();console[_0x2ad0ae(0x1d3)](_0x2ad0ae(0x1c3),_0x41cc42);const _0x465dc1=await warehouse[_0x2ad0ae(0x1d4)]({}),_0x3c3260=await product[_0x2ad0ae(0x1d4)]({});if(_0x41cc42[0x0][_0x2ad0ae(0x1cc)]==_0x2ad0ae(0x1d0)){var _0x3baff8=users[_0x2ad0ae(0x1ce)];console[_0x2ad0ae(0x1d3)](_0x3baff8);}else{if(_0x41cc42[0x0][_0x2ad0ae(0x1cc)]=='Hindi')var _0x3baff8=users[_0x2ad0ae(0x1b8)];else{if(_0x41cc42[0x0]['language']==_0x2ad0ae(0x1dd))var _0x3baff8=users[_0x2ad0ae(0x1dd)];else{if(_0x41cc42[0x0][_0x2ad0ae(0x1cc)]==_0x2ad0ae(0x1ab))var _0x3baff8=users['Spanish'];else{if(_0x41cc42[0x0][_0x2ad0ae(0x1cc)]=='French')var _0x3baff8=users[_0x2ad0ae(0x1de)];else{if(_0x41cc42[0x0][_0x2ad0ae(0x1cc)]==_0x2ad0ae(0x1d1))var _0x3baff8=users['Portuguese'];else{if(_0x41cc42[0x0][_0x2ad0ae(0x1cc)]=='Chinese')var _0x3baff8=users[_0x2ad0ae(0x1b5)];else{if(_0x41cc42[0x0][_0x2ad0ae(0x1cc)]==_0x2ad0ae(0x1b1))var _0x3baff8=users[_0x2ad0ae(0x1db)];}}}}}}}_0x140420[_0x2ad0ae(0x1ae)](_0x2ad0ae(0x1c4),{'success':_0x6001b6[_0x2ad0ae(0x1bd)]('success'),'errors':_0x6001b6[_0x2ad0ae(0x1bd)](_0x2ad0ae(0x1c1)),'role':_0x587600,'profile':_0x29e9f8,'master_shop':_0x41cc42,'warehouse':_0x465dc1,'product':_0x3c3260,'warehouse_doc':[],'product_doc':[],'language':_0x3baff8});}catch(_0x32dff6){console[_0x2ad0ae(0x1d3)](_0x32dff6);}}),router[a0_0x42eb44(0x1aa)](a0_0x42eb44(0x1bf),auth,async(_0x197297,_0x1c9787)=>{var _0x57b42c=a0_0x42eb44;try{const _0x151483=await master_shop[_0x57b42c(0x1d4)]();console[_0x57b42c(0x1d3)](_0x57b42c(0x1c3),_0x151483);if(_0x197297['params']['id']==_0x57b42c(0x19f)){const _0x17e4e2=await warehouse[_0x57b42c(0x1d4)]();console[_0x57b42c(0x1d3)](_0x17e4e2);if(_0x151483[0x0]['language']==_0x57b42c(0x1d0)){var _0x3fba20=users['English'];console[_0x57b42c(0x1d3)](_0x3fba20);}else{if(_0x151483[0x0][_0x57b42c(0x1cc)]=='Hindi')var _0x3fba20=users[_0x57b42c(0x1b8)];else{if(_0x151483[0x0][_0x57b42c(0x1cc)]==_0x57b42c(0x1dd))var _0x3fba20=users[_0x57b42c(0x1dd)];else{if(_0x151483[0x0]['language']==_0x57b42c(0x1ab))var _0x3fba20=users['Spanish'];else{if(_0x151483[0x0][_0x57b42c(0x1cc)]=='French')var _0x3fba20=users['French'];else{if(_0x151483[0x0][_0x57b42c(0x1cc)]=='Portuguese\x20(BR)')var _0x3fba20=users[_0x57b42c(0x1a3)];else{if(_0x151483[0x0][_0x57b42c(0x1cc)]==_0x57b42c(0x1b5))var _0x3fba20=users[_0x57b42c(0x1b5)];else{if(_0x151483[0x0]['language']=='Arabic\x20(ae)')var _0x3fba20=users['Arabic'];}}}}}}}_0x1c9787[_0x57b42c(0x1a1)](0xc8)[_0x57b42c(0x1ba)]({'data':_0x17e4e2,'language':_0x3fba20[_0x57b42c(0x19f)]});}else{const _0x2d0f5f=await product[_0x57b42c(0x1d4)]();console[_0x57b42c(0x1d3)](_0x57b42c(0x1bc),_0x2d0f5f);if(_0x151483[0x0][_0x57b42c(0x1cc)]==_0x57b42c(0x1d0)){var _0x3fba20=users[_0x57b42c(0x1ce)];console[_0x57b42c(0x1d3)](_0x3fba20);}else{if(_0x151483[0x0][_0x57b42c(0x1cc)]==_0x57b42c(0x1b8))var _0x3fba20=users[_0x57b42c(0x1b8)];else{if(_0x151483[0x0][_0x57b42c(0x1cc)]==_0x57b42c(0x1dd))var _0x3fba20=users[_0x57b42c(0x1dd)];else{if(_0x151483[0x0]['language']==_0x57b42c(0x1ab))var _0x3fba20=users[_0x57b42c(0x1ab)];else{if(_0x151483[0x0][_0x57b42c(0x1cc)]==_0x57b42c(0x1de))var _0x3fba20=users[_0x57b42c(0x1de)];else{if(_0x151483[0x0]['language']==_0x57b42c(0x1d1))var _0x3fba20=users[_0x57b42c(0x1a3)];else{if(_0x151483[0x0][_0x57b42c(0x1cc)]==_0x57b42c(0x1b5))var _0x3fba20=users[_0x57b42c(0x1b5)];else{if(_0x151483[0x0][_0x57b42c(0x1cc)]==_0x57b42c(0x1b1))var _0x3fba20=users[_0x57b42c(0x1db)];}}}}}}}_0x1c9787['status'](0xc8)[_0x57b42c(0x1ba)]({'data':_0x2d0f5f,'language':_0x3fba20['products']});}}catch(_0x3106af){console['log'](_0x3106af);}}),router['get'](a0_0x42eb44(0x1bb),auth,async(_0x2fb20c,_0x4ce08c)=>{var _0x352ff6=a0_0x42eb44;try{const _0x32fb63=_0x2fb20c[_0x352ff6(0x1a7)]['id'];console[_0x352ff6(0x1d3)](_0x32fb63);const _0x5cb339=await master_shop['find']();console[_0x352ff6(0x1d3)]('master',_0x5cb339);const _0x3c202=await warehouse[_0x352ff6(0x19d)]([{'$match':{'name':_0x32fb63}},{'$unwind':'$product_details'},{'$lookup':{'from':_0x352ff6(0x1a0),'localField':_0x352ff6(0x1cb),'foreignField':_0x352ff6(0x1e1),'as':'product_docs'}},{'$unwind':_0x352ff6(0x1b3)},{'$project':{'name':0x1,'product_name':_0x352ff6(0x1a2),'product_stock':'$product_details.product_stock','category':'$product_docs.category','brand':_0x352ff6(0x1c9),'sku':'$product_docs.sku','unit':_0x352ff6(0x1d7),'rak':_0x352ff6(0x1c5),'bin':_0x352ff6(0x1c7)}}]);console['log'](_0x3c202);if(_0x5cb339[0x0][_0x352ff6(0x1cc)]==_0x352ff6(0x1d0)){var _0x2289a2=users[_0x352ff6(0x1ce)];console[_0x352ff6(0x1d3)](_0x2289a2);}else{if(_0x5cb339[0x0][_0x352ff6(0x1cc)]==_0x352ff6(0x1b8))var _0x2289a2=users[_0x352ff6(0x1b8)];else{if(_0x5cb339[0x0][_0x352ff6(0x1cc)]==_0x352ff6(0x1dd))var _0x2289a2=users[_0x352ff6(0x1dd)];else{if(_0x5cb339[0x0]['language']==_0x352ff6(0x1ab))var _0x2289a2=users[_0x352ff6(0x1ab)];else{if(_0x5cb339[0x0][_0x352ff6(0x1cc)]==_0x352ff6(0x1de))var _0x2289a2=users[_0x352ff6(0x1de)];else{if(_0x5cb339[0x0][_0x352ff6(0x1cc)]==_0x352ff6(0x1d1))var _0x2289a2=users[_0x352ff6(0x1a3)];else{if(_0x5cb339[0x0][_0x352ff6(0x1cc)]==_0x352ff6(0x1b5))var _0x2289a2=users[_0x352ff6(0x1b5)];else{if(_0x5cb339[0x0][_0x352ff6(0x1cc)]=='Arabic\x20(ae)')var _0x2289a2=users[_0x352ff6(0x1db)];}}}}}}}_0x4ce08c['status'](0xc8)[_0x352ff6(0x1ba)]({'data':_0x3c202,'language':_0x2289a2});}catch(_0x9d1f96){console[_0x352ff6(0x1d3)](_0x9d1f96);}}),router['get'](a0_0x42eb44(0x1be),auth,async(_0x259574,_0x1e2db4)=>{var _0x4110c5=a0_0x42eb44;try{const _0x5e060e=_0x259574['params']['id'];console['log'](_0x5e060e);const _0x1ee663=await master_shop[_0x4110c5(0x1d4)]();console['log'](_0x4110c5(0x1c3),_0x1ee663);const _0x19106e=await product[_0x4110c5(0x1b7)]({'name':_0x5e060e});console['log'](_0x4110c5(0x1d2),_0x19106e);const _0x18a9cb=await warehouse[_0x4110c5(0x19d)]([{'$unwind':_0x4110c5(0x1b9)},{'$match':{'product_details.product_name':_0x5e060e}},{'$project':{'name':0x1,'product_name':_0x4110c5(0x1a2),'product_stock':_0x4110c5(0x1c2)}}]);console[_0x4110c5(0x1d3)]('warehouse_data',_0x18a9cb);if(_0x1ee663[0x0][_0x4110c5(0x1cc)]==_0x4110c5(0x1d0)){var _0x484191=users['English'];console[_0x4110c5(0x1d3)](_0x484191);}else{if(_0x1ee663[0x0][_0x4110c5(0x1cc)]=='Hindi')var _0x484191=users[_0x4110c5(0x1b8)];else{if(_0x1ee663[0x0][_0x4110c5(0x1cc)]==_0x4110c5(0x1dd))var _0x484191=users[_0x4110c5(0x1dd)];else{if(_0x1ee663[0x0]['language']==_0x4110c5(0x1ab))var _0x484191=users[_0x4110c5(0x1ab)];else{if(_0x1ee663[0x0]['language']==_0x4110c5(0x1de))var _0x484191=users[_0x4110c5(0x1de)];else{if(_0x1ee663[0x0]['language']==_0x4110c5(0x1d1))var _0x484191=users['Portuguese'];else{if(_0x1ee663[0x0][_0x4110c5(0x1cc)]==_0x4110c5(0x1b5))var _0x484191=users[_0x4110c5(0x1b5)];else{if(_0x1ee663[0x0][_0x4110c5(0x1cc)]==_0x4110c5(0x1b1))var _0x484191=users['Arabic'];}}}}}}}_0x1e2db4[_0x4110c5(0x1a1)](0xc8)[_0x4110c5(0x1ba)]({'product_data':_0x19106e,'warehouse_data':_0x18a9cb,'language':_0x484191});}catch(_0x1d9f41){console['log'](_0x1d9f41);}}),router[a0_0x42eb44(0x1df)](a0_0x42eb44(0x1cd),async(_0x40af88,_0x3d1b29)=>{var _0x59f643=a0_0x42eb44;const {warehouseNew:_0xbfd379,rooms:_0x21b1f0,Type:_0x38b894,process_cat:_0xd672a0,room_cat:_0xeb7650}=_0x40af88[_0x59f643(0x1a4)];let _0x5eed17;console[_0x59f643(0x1d3)](_0x40af88['body']);if(_0xd672a0==_0x59f643(0x1a5))_0x5eed17=await warehouse[_0x59f643(0x19d)]([{'$match':{'name':_0xbfd379,'room':_0x21b1f0,'warehouse_category':'Raw\x20Materials'}},{'$unwind':_0x59f643(0x1b9)},{'$match':{'product_details.type':_0x38b894,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0xd672a0=='finish'?_0x21b1f0==_0x59f643(0x1a6)?_0x5eed17=await warehouse['aggregate']([{'$match':{'name':_0xbfd379,'warehouse_category':_0x59f643(0x1c0)}},{'$unwind':_0x59f643(0x1b9)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x5eed17=await warehouse[_0x59f643(0x19d)]([{'$match':{'name':_0xbfd379,'room':_0x21b1f0,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0x59f643(0x1b9)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x59f643(0x1d3)](_0x59f643(0x1a8)),Include=[{'$unwind':_0x59f643(0x1b9)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x5eed17=await warehouse[_0x59f643(0x19d)](Include));_0x3d1b29[_0x59f643(0x1ba)](_0x5eed17);}),router['post']('/Reports_product',async(_0x472d79,_0x244593)=>{var _0x249180=a0_0x42eb44;const {warehouseNew:_0x24373b,rooms:_0x18d552,Type:_0x1daf72,process_cat:_0x4cb40c,room_cat:_0x490119}=_0x472d79[_0x249180(0x1a4)],_0x47caf5=await product['find']();_0x244593[_0x249180(0x1ba)](_0x47caf5);}),module[a0_0x42eb44(0x1d5)]=router;