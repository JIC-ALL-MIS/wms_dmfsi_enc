var a0_0x2aeabf=a0_0x1c98;(function(_0x2c5a0e,_0x3125aa){var _0x10f9a6=a0_0x1c98,_0xd07001=_0x2c5a0e();while(!![]){try{var _0x40d3b0=parseInt(_0x10f9a6(0xbf))/0x1+parseInt(_0x10f9a6(0xc8))/0x2*(-parseInt(_0x10f9a6(0xd2))/0x3)+parseInt(_0x10f9a6(0xc6))/0x4*(parseInt(_0x10f9a6(0xde))/0x5)+parseInt(_0x10f9a6(0xe2))/0x6+parseInt(_0x10f9a6(0xe1))/0x7*(parseInt(_0x10f9a6(0xe5))/0x8)+parseInt(_0x10f9a6(0xd8))/0x9+parseInt(_0x10f9a6(0xd5))/0xa*(-parseInt(_0x10f9a6(0xce))/0xb);if(_0x40d3b0===_0x3125aa)break;else _0xd07001['push'](_0xd07001['shift']());}catch(_0x18975a){_0xd07001['push'](_0xd07001['shift']());}}}(a0_0x2630,0x79a93));function a0_0x2630(){var _0x5789f6=['role_data','$product_docs.sku','status','success','aggregate','108878BSvODe','stock_report','German','finish','$product_details','products','$product_docs','171924fTqjfm','English','45082yeaXDk','/view/product/:id','Spanish','post','/view/:id','Portuguese','55ArGmNl','Finished\x20Goods','log','Hindi','12ciHlfQ','product_details.rak_name','findOne','2112790lIvFad','French','../middleware/auth','7113132Ljykkz','Chinese','master','Arabic\x20(ae)','params','body','5EHOzrH','/view','warehouse','64323BsNtyp','1404216gUEaLY','All','Raw\x20Materials','408LRInvC','/Reports_product','json','$product_details.product_stock','get','user','Router','warehouse_data','$product_docs.unit','language','/view/warehouse/:id','render','errors','111','../models/all_models','/Reports','product_details.product_name','find','../public/language/languages.json','Portuguese\x20(BR)','$product_docs.category','exports','Arabic','product_data','product_details.bin_name','product_docs','English\x20(US)','name'];a0_0x2630=function(){return _0x5789f6;};return a0_0x2630();}const express=require('express'),app=express(),router=express[a0_0x2aeabf(0xeb)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x2aeabf(0xf3)),auth=require(a0_0x2aeabf(0xd7)),users=require(a0_0x2aeabf(0xf7));function a0_0x1c98(_0x3c7523,_0x443870){var _0x2630bc=a0_0x2630();return a0_0x1c98=function(_0x1c9881,_0x47bd86){_0x1c9881=_0x1c9881-0xbb;var _0xb812cb=_0x2630bc[_0x1c9881];return _0xb812cb;},a0_0x1c98(_0x3c7523,_0x443870);}router[a0_0x2aeabf(0xe9)](a0_0x2aeabf(0xdf),auth,async(_0x4ff8f4,_0x483783)=>{var _0x1ae3bd=a0_0x2aeabf;try{const _0x20c0a1=_0x4ff8f4['user'];console['log'](_0x1ae3bd(0x101),_0x4ff8f4[_0x1ae3bd(0xea)]);const _0x196b4b=await profile[_0x1ae3bd(0xd4)]({'email':_0x20c0a1['email']}),_0x17202c=await master_shop[_0x1ae3bd(0xf6)]();console[_0x1ae3bd(0xd0)]('master',_0x17202c);const _0x31c014=await warehouse[_0x1ae3bd(0xf6)]({}),_0x7b26f9=await product[_0x1ae3bd(0xf6)]({});if(_0x17202c[0x0][_0x1ae3bd(0xee)]==_0x1ae3bd(0xff)){var _0x5287fe=users[_0x1ae3bd(0xc7)];console['log'](_0x5287fe);}else{if(_0x17202c[0x0][_0x1ae3bd(0xee)]==_0x1ae3bd(0xd1))var _0x5287fe=users[_0x1ae3bd(0xd1)];else{if(_0x17202c[0x0]['language']=='German')var _0x5287fe=users[_0x1ae3bd(0xc1)];else{if(_0x17202c[0x0]['language']==_0x1ae3bd(0xca))var _0x5287fe=users[_0x1ae3bd(0xca)];else{if(_0x17202c[0x0][_0x1ae3bd(0xee)]==_0x1ae3bd(0xd6))var _0x5287fe=users[_0x1ae3bd(0xd6)];else{if(_0x17202c[0x0][_0x1ae3bd(0xee)]=='Portuguese\x20(BR)')var _0x5287fe=users[_0x1ae3bd(0xcd)];else{if(_0x17202c[0x0][_0x1ae3bd(0xee)]==_0x1ae3bd(0xd9))var _0x5287fe=users['Chinese'];else{if(_0x17202c[0x0][_0x1ae3bd(0xee)]=='Arabic\x20(ae)')var _0x5287fe=users[_0x1ae3bd(0xfb)];}}}}}}}_0x483783[_0x1ae3bd(0xf0)](_0x1ae3bd(0xc0),{'success':_0x4ff8f4['flash'](_0x1ae3bd(0xbd)),'errors':_0x4ff8f4['flash'](_0x1ae3bd(0xf1)),'role':_0x20c0a1,'profile':_0x196b4b,'master_shop':_0x17202c,'warehouse':_0x31c014,'product':_0x7b26f9,'warehouse_doc':[],'product_doc':[],'language':_0x5287fe});}catch(_0x240a6a){console['log'](_0x240a6a);}}),router[a0_0x2aeabf(0xe9)](a0_0x2aeabf(0xcc),auth,async(_0x7b17db,_0x1dbfe9)=>{var _0x21c9bc=a0_0x2aeabf;try{const _0x7559b8=await master_shop['find']();console[_0x21c9bc(0xd0)](_0x21c9bc(0xda),_0x7559b8);if(_0x7b17db[_0x21c9bc(0xdc)]['id']==_0x21c9bc(0xe0)){const _0x504734=await warehouse[_0x21c9bc(0xf6)]();console[_0x21c9bc(0xd0)](_0x504734);if(_0x7559b8[0x0]['language']==_0x21c9bc(0xff)){var _0x5badd9=users['English'];console[_0x21c9bc(0xd0)](_0x5badd9);}else{if(_0x7559b8[0x0][_0x21c9bc(0xee)]=='Hindi')var _0x5badd9=users[_0x21c9bc(0xd1)];else{if(_0x7559b8[0x0]['language']=='German')var _0x5badd9=users[_0x21c9bc(0xc1)];else{if(_0x7559b8[0x0]['language']==_0x21c9bc(0xca))var _0x5badd9=users[_0x21c9bc(0xca)];else{if(_0x7559b8[0x0][_0x21c9bc(0xee)]==_0x21c9bc(0xd6))var _0x5badd9=users[_0x21c9bc(0xd6)];else{if(_0x7559b8[0x0][_0x21c9bc(0xee)]==_0x21c9bc(0xf8))var _0x5badd9=users[_0x21c9bc(0xcd)];else{if(_0x7559b8[0x0][_0x21c9bc(0xee)]==_0x21c9bc(0xd9))var _0x5badd9=users[_0x21c9bc(0xd9)];else{if(_0x7559b8[0x0][_0x21c9bc(0xee)]==_0x21c9bc(0xdb))var _0x5badd9=users[_0x21c9bc(0xfb)];}}}}}}}_0x1dbfe9[_0x21c9bc(0xbc)](0xc8)[_0x21c9bc(0xe7)]({'data':_0x504734,'language':_0x5badd9['warehouse']});}else{const _0x2d5bdb=await product[_0x21c9bc(0xf6)]();console['log'](_0x21c9bc(0xf2),_0x2d5bdb);if(_0x7559b8[0x0][_0x21c9bc(0xee)]==_0x21c9bc(0xff)){var _0x5badd9=users[_0x21c9bc(0xc7)];console[_0x21c9bc(0xd0)](_0x5badd9);}else{if(_0x7559b8[0x0]['language']==_0x21c9bc(0xd1))var _0x5badd9=users[_0x21c9bc(0xd1)];else{if(_0x7559b8[0x0][_0x21c9bc(0xee)]==_0x21c9bc(0xc1))var _0x5badd9=users[_0x21c9bc(0xc1)];else{if(_0x7559b8[0x0][_0x21c9bc(0xee)]==_0x21c9bc(0xca))var _0x5badd9=users[_0x21c9bc(0xca)];else{if(_0x7559b8[0x0][_0x21c9bc(0xee)]=='French')var _0x5badd9=users[_0x21c9bc(0xd6)];else{if(_0x7559b8[0x0][_0x21c9bc(0xee)]==_0x21c9bc(0xf8))var _0x5badd9=users[_0x21c9bc(0xcd)];else{if(_0x7559b8[0x0]['language']=='Chinese')var _0x5badd9=users[_0x21c9bc(0xd9)];else{if(_0x7559b8[0x0][_0x21c9bc(0xee)]==_0x21c9bc(0xdb))var _0x5badd9=users[_0x21c9bc(0xfb)];}}}}}}}_0x1dbfe9[_0x21c9bc(0xbc)](0xc8)['json']({'data':_0x2d5bdb,'language':_0x5badd9[_0x21c9bc(0xc4)]});}}catch(_0x2fdb67){console['log'](_0x2fdb67);}}),router[a0_0x2aeabf(0xe9)](a0_0x2aeabf(0xef),auth,async(_0x3d0758,_0x429496)=>{var _0x3e9214=a0_0x2aeabf;try{const _0x26da4f=_0x3d0758[_0x3e9214(0xdc)]['id'];console[_0x3e9214(0xd0)](_0x26da4f);const _0x27d87c=await master_shop[_0x3e9214(0xf6)]();console['log'](_0x3e9214(0xda),_0x27d87c);const _0x145e69=await warehouse[_0x3e9214(0xbe)]([{'$match':{'name':_0x26da4f}},{'$unwind':_0x3e9214(0xc3)},{'$lookup':{'from':_0x3e9214(0xc4),'localField':_0x3e9214(0xf5),'foreignField':_0x3e9214(0x100),'as':_0x3e9214(0xfe)}},{'$unwind':_0x3e9214(0xc5)},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x3e9214(0xe8),'category':_0x3e9214(0xf9),'brand':'$product_docs.brand','sku':_0x3e9214(0xbb),'unit':_0x3e9214(0xed),'rak':_0x3e9214(0xd3),'bin':_0x3e9214(0xfd)}}]);console[_0x3e9214(0xd0)](_0x145e69);if(_0x27d87c[0x0][_0x3e9214(0xee)]==_0x3e9214(0xff)){var _0x9e1094=users[_0x3e9214(0xc7)];console['log'](_0x9e1094);}else{if(_0x27d87c[0x0][_0x3e9214(0xee)]=='Hindi')var _0x9e1094=users[_0x3e9214(0xd1)];else{if(_0x27d87c[0x0][_0x3e9214(0xee)]==_0x3e9214(0xc1))var _0x9e1094=users[_0x3e9214(0xc1)];else{if(_0x27d87c[0x0]['language']==_0x3e9214(0xca))var _0x9e1094=users[_0x3e9214(0xca)];else{if(_0x27d87c[0x0]['language']=='French')var _0x9e1094=users['French'];else{if(_0x27d87c[0x0][_0x3e9214(0xee)]=='Portuguese\x20(BR)')var _0x9e1094=users[_0x3e9214(0xcd)];else{if(_0x27d87c[0x0][_0x3e9214(0xee)]==_0x3e9214(0xd9))var _0x9e1094=users[_0x3e9214(0xd9)];else{if(_0x27d87c[0x0]['language']==_0x3e9214(0xdb))var _0x9e1094=users[_0x3e9214(0xfb)];}}}}}}}_0x429496['status'](0xc8)[_0x3e9214(0xe7)]({'data':_0x145e69,'language':_0x9e1094});}catch(_0x57a298){console[_0x3e9214(0xd0)](_0x57a298);}}),router['get'](a0_0x2aeabf(0xc9),auth,async(_0x29aab9,_0x2c95a0)=>{var _0x5be1fa=a0_0x2aeabf;try{const _0x4af874=_0x29aab9[_0x5be1fa(0xdc)]['id'];console['log'](_0x4af874);const _0x3eacf9=await master_shop[_0x5be1fa(0xf6)]();console[_0x5be1fa(0xd0)]('master',_0x3eacf9);const _0x1ef578=await product['findOne']({'name':_0x4af874});console['log'](_0x5be1fa(0xfc),_0x1ef578);const _0x154f00=await warehouse[_0x5be1fa(0xbe)]([{'$unwind':_0x5be1fa(0xc3)},{'$match':{'product_details.product_name':_0x4af874}},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x5be1fa(0xe8)}}]);console['log'](_0x5be1fa(0xec),_0x154f00);if(_0x3eacf9[0x0][_0x5be1fa(0xee)]==_0x5be1fa(0xff)){var _0x487e0c=users[_0x5be1fa(0xc7)];console[_0x5be1fa(0xd0)](_0x487e0c);}else{if(_0x3eacf9[0x0][_0x5be1fa(0xee)]==_0x5be1fa(0xd1))var _0x487e0c=users[_0x5be1fa(0xd1)];else{if(_0x3eacf9[0x0][_0x5be1fa(0xee)]=='German')var _0x487e0c=users[_0x5be1fa(0xc1)];else{if(_0x3eacf9[0x0][_0x5be1fa(0xee)]==_0x5be1fa(0xca))var _0x487e0c=users['Spanish'];else{if(_0x3eacf9[0x0][_0x5be1fa(0xee)]=='French')var _0x487e0c=users['French'];else{if(_0x3eacf9[0x0][_0x5be1fa(0xee)]==_0x5be1fa(0xf8))var _0x487e0c=users['Portuguese'];else{if(_0x3eacf9[0x0]['language']==_0x5be1fa(0xd9))var _0x487e0c=users[_0x5be1fa(0xd9)];else{if(_0x3eacf9[0x0][_0x5be1fa(0xee)]==_0x5be1fa(0xdb))var _0x487e0c=users[_0x5be1fa(0xfb)];}}}}}}}_0x2c95a0[_0x5be1fa(0xbc)](0xc8)[_0x5be1fa(0xe7)]({'product_data':_0x1ef578,'warehouse_data':_0x154f00,'language':_0x487e0c});}catch(_0x4adc05){console[_0x5be1fa(0xd0)](_0x4adc05);}}),router['post'](a0_0x2aeabf(0xf4),async(_0x18d811,_0x260c51)=>{var _0x2f0cfe=a0_0x2aeabf;const {warehouseNew:_0x47f2c8,rooms:_0xd58db4,Type:_0x2b138f,process_cat:_0xf07c78,room_cat:_0x483e2e}=_0x18d811[_0x2f0cfe(0xdd)];let _0x2f83a1;console['log'](_0x18d811['body']);if(_0xf07c78=='raw')_0x2f83a1=await warehouse[_0x2f0cfe(0xbe)]([{'$match':{'name':_0x47f2c8,'room':_0xd58db4,'warehouse_category':_0x2f0cfe(0xe4)}},{'$unwind':'$product_details'},{'$match':{'product_details.type':_0x2b138f,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0xf07c78==_0x2f0cfe(0xc2)?_0xd58db4==_0x2f0cfe(0xe3)?_0x2f83a1=await warehouse['aggregate']([{'$match':{'name':_0x47f2c8,'warehouse_category':_0x2f0cfe(0xcf)}},{'$unwind':_0x2f0cfe(0xc3)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x2f83a1=await warehouse[_0x2f0cfe(0xbe)]([{'$match':{'name':_0x47f2c8,'room':_0xd58db4,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0x2f0cfe(0xc3)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console['log']('ssd'),Include=[{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x2f83a1=await warehouse[_0x2f0cfe(0xbe)](Include));_0x260c51['json'](_0x2f83a1);}),router[a0_0x2aeabf(0xcb)](a0_0x2aeabf(0xe6),async(_0x23fdd4,_0x5860ea)=>{var _0x6eb8ad=a0_0x2aeabf;const {warehouseNew:_0x10d7df,rooms:_0x4f095d,Type:_0xa0ad65,process_cat:_0xdfb40b,room_cat:_0x35cd2e}=_0x23fdd4[_0x6eb8ad(0xdd)],_0x38a430=await product[_0x6eb8ad(0xf6)]();_0x5860ea['json'](_0x38a430);}),module[a0_0x2aeabf(0xfa)]=router;