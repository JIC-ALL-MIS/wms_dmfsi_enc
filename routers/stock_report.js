var a0_0x40957f=a0_0x5a99;(function(_0x437c07,_0x11e4dc){var _0x18f8c6=a0_0x5a99,_0x3daae9=_0x437c07();while(!![]){try{var _0x4bb3f5=-parseInt(_0x18f8c6(0xeb))/0x1+-parseInt(_0x18f8c6(0xb9))/0x2*(parseInt(_0x18f8c6(0xc9))/0x3)+parseInt(_0x18f8c6(0xcf))/0x4+-parseInt(_0x18f8c6(0xbc))/0x5+parseInt(_0x18f8c6(0xc4))/0x6*(-parseInt(_0x18f8c6(0xf3))/0x7)+-parseInt(_0x18f8c6(0xd8))/0x8+parseInt(_0x18f8c6(0xdc))/0x9*(parseInt(_0x18f8c6(0xd9))/0xa);if(_0x4bb3f5===_0x11e4dc)break;else _0x3daae9['push'](_0x3daae9['shift']());}catch(_0x21d991){_0x3daae9['push'](_0x3daae9['shift']());}}}(a0_0x3773,0xf3bb3));function a0_0x3773(){var _0xc0b9ba=['13201264RLbhoR','17500070eoeWaG','language','json','27IokLoo','/view','product_details.rak_name','products','findOne','Arabic\x20(ae)','product_details.bin_name','success','name','111','../public/language/languages.json','email','post','Raw\x20Materials','French','621100XGCBcJ','$product_details.product_name','/view/warehouse/:id','../models/all_models','$product_details.product_stock','All','Chinese','body','4291uqVauu','Spanish','$product_docs','Arabic','Hindi','$product_docs.sku','624482kGsmbi','exports','German','5573835bMHqok','log','warehouse','master','English\x20(US)','get','Portuguese\x20(BR)','errors','19158MfhAgv','$product_details','Finished\x20Goods','status','user','3NArVLn','/Reports','find','product_details.product_name','params','Router','5615508FIdiGu','aggregate','/view/:id','flash','$product_docs.category','render','product_data','English','Portuguese'];a0_0x3773=function(){return _0xc0b9ba;};return a0_0x3773();}const express=require('express'),app=express(),router=express[a0_0x40957f(0xce)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x40957f(0xee)),auth=require('../middleware/auth'),users=require(a0_0x40957f(0xe6));function a0_0x5a99(_0x1bd61c,_0x5a393c){var _0x37732c=a0_0x3773();return a0_0x5a99=function(_0x5a9934,_0x516c43){_0x5a9934=_0x5a9934-0xb5;var _0x246099=_0x37732c[_0x5a9934];return _0x246099;},a0_0x5a99(_0x1bd61c,_0x5a393c);}router[a0_0x40957f(0xc1)](a0_0x40957f(0xdd),auth,async(_0x378a63,_0xb98e43)=>{var _0x51bf5c=a0_0x40957f;try{const _0x4aa9a3=_0x378a63[_0x51bf5c(0xc8)];console[_0x51bf5c(0xbd)]('role_data',_0x378a63['user']);const _0x4da978=await profile['findOne']({'email':_0x4aa9a3[_0x51bf5c(0xe7)]}),_0x32b2d5=await master_shop[_0x51bf5c(0xcb)]();console[_0x51bf5c(0xbd)]('master',_0x32b2d5);const _0x18d48e=await warehouse[_0x51bf5c(0xcb)]({}),_0x6aaa16=await product[_0x51bf5c(0xcb)]({});if(_0x32b2d5[0x0][_0x51bf5c(0xda)]=='English\x20(US)'){var _0x523b79=users[_0x51bf5c(0xd6)];console[_0x51bf5c(0xbd)](_0x523b79);}else{if(_0x32b2d5[0x0]['language']==_0x51bf5c(0xb7))var _0x523b79=users['Hindi'];else{if(_0x32b2d5[0x0][_0x51bf5c(0xda)]==_0x51bf5c(0xbb))var _0x523b79=users[_0x51bf5c(0xbb)];else{if(_0x32b2d5[0x0][_0x51bf5c(0xda)]==_0x51bf5c(0xf4))var _0x523b79=users['Spanish'];else{if(_0x32b2d5[0x0][_0x51bf5c(0xda)]==_0x51bf5c(0xea))var _0x523b79=users[_0x51bf5c(0xea)];else{if(_0x32b2d5[0x0][_0x51bf5c(0xda)]==_0x51bf5c(0xc2))var _0x523b79=users[_0x51bf5c(0xd7)];else{if(_0x32b2d5[0x0]['language']=='Chinese')var _0x523b79=users[_0x51bf5c(0xf1)];else{if(_0x32b2d5[0x0][_0x51bf5c(0xda)]==_0x51bf5c(0xe1))var _0x523b79=users['Arabic'];}}}}}}}_0xb98e43[_0x51bf5c(0xd4)]('stock_report',{'success':_0x378a63[_0x51bf5c(0xd2)](_0x51bf5c(0xe3)),'errors':_0x378a63[_0x51bf5c(0xd2)](_0x51bf5c(0xc3)),'role':_0x4aa9a3,'profile':_0x4da978,'master_shop':_0x32b2d5,'warehouse':_0x18d48e,'product':_0x6aaa16,'warehouse_doc':[],'product_doc':[],'language':_0x523b79});}catch(_0x27dc58){console[_0x51bf5c(0xbd)](_0x27dc58);}}),router['get'](a0_0x40957f(0xd1),auth,async(_0x56c2e1,_0x591cd6)=>{var _0x3c36d9=a0_0x40957f;try{const _0xb97b6a=await master_shop[_0x3c36d9(0xcb)]();console['log'](_0x3c36d9(0xbf),_0xb97b6a);if(_0x56c2e1[_0x3c36d9(0xcd)]['id']==_0x3c36d9(0xbe)){const _0x446e0e=await warehouse[_0x3c36d9(0xcb)]();console[_0x3c36d9(0xbd)](_0x446e0e);if(_0xb97b6a[0x0][_0x3c36d9(0xda)]=='English\x20(US)'){var _0x9c059c=users[_0x3c36d9(0xd6)];console[_0x3c36d9(0xbd)](_0x9c059c);}else{if(_0xb97b6a[0x0][_0x3c36d9(0xda)]=='Hindi')var _0x9c059c=users[_0x3c36d9(0xb7)];else{if(_0xb97b6a[0x0][_0x3c36d9(0xda)]==_0x3c36d9(0xbb))var _0x9c059c=users['German'];else{if(_0xb97b6a[0x0]['language']==_0x3c36d9(0xf4))var _0x9c059c=users[_0x3c36d9(0xf4)];else{if(_0xb97b6a[0x0][_0x3c36d9(0xda)]==_0x3c36d9(0xea))var _0x9c059c=users[_0x3c36d9(0xea)];else{if(_0xb97b6a[0x0][_0x3c36d9(0xda)]==_0x3c36d9(0xc2))var _0x9c059c=users['Portuguese'];else{if(_0xb97b6a[0x0][_0x3c36d9(0xda)]=='Chinese')var _0x9c059c=users['Chinese'];else{if(_0xb97b6a[0x0][_0x3c36d9(0xda)]=='Arabic\x20(ae)')var _0x9c059c=users['Arabic'];}}}}}}}_0x591cd6[_0x3c36d9(0xc7)](0xc8)[_0x3c36d9(0xdb)]({'data':_0x446e0e,'language':_0x9c059c[_0x3c36d9(0xbe)]});}else{const _0x4a0eb4=await product['find']();console[_0x3c36d9(0xbd)](_0x3c36d9(0xe5),_0x4a0eb4);if(_0xb97b6a[0x0][_0x3c36d9(0xda)]==_0x3c36d9(0xc0)){var _0x9c059c=users[_0x3c36d9(0xd6)];console['log'](_0x9c059c);}else{if(_0xb97b6a[0x0][_0x3c36d9(0xda)]==_0x3c36d9(0xb7))var _0x9c059c=users[_0x3c36d9(0xb7)];else{if(_0xb97b6a[0x0][_0x3c36d9(0xda)]=='German')var _0x9c059c=users['German'];else{if(_0xb97b6a[0x0][_0x3c36d9(0xda)]==_0x3c36d9(0xf4))var _0x9c059c=users[_0x3c36d9(0xf4)];else{if(_0xb97b6a[0x0][_0x3c36d9(0xda)]==_0x3c36d9(0xea))var _0x9c059c=users[_0x3c36d9(0xea)];else{if(_0xb97b6a[0x0][_0x3c36d9(0xda)]==_0x3c36d9(0xc2))var _0x9c059c=users['Portuguese'];else{if(_0xb97b6a[0x0][_0x3c36d9(0xda)]==_0x3c36d9(0xf1))var _0x9c059c=users['Chinese'];else{if(_0xb97b6a[0x0][_0x3c36d9(0xda)]==_0x3c36d9(0xe1))var _0x9c059c=users[_0x3c36d9(0xb6)];}}}}}}}_0x591cd6['status'](0xc8)[_0x3c36d9(0xdb)]({'data':_0x4a0eb4,'language':_0x9c059c[_0x3c36d9(0xdf)]});}}catch(_0x15cb73){console[_0x3c36d9(0xbd)](_0x15cb73);}}),router['get'](a0_0x40957f(0xed),auth,async(_0x740f89,_0xb24c2f)=>{var _0x3bf129=a0_0x40957f;try{const _0x5f5afc=_0x740f89['params']['id'];console['log'](_0x5f5afc);const _0xc7b54=await master_shop[_0x3bf129(0xcb)]();console[_0x3bf129(0xbd)](_0x3bf129(0xbf),_0xc7b54);const _0x268326=await warehouse[_0x3bf129(0xd0)]([{'$match':{'name':_0x5f5afc}},{'$unwind':_0x3bf129(0xc5)},{'$lookup':{'from':_0x3bf129(0xdf),'localField':_0x3bf129(0xcc),'foreignField':_0x3bf129(0xe4),'as':'product_docs'}},{'$unwind':_0x3bf129(0xb5)},{'$project':{'name':0x1,'product_name':_0x3bf129(0xec),'product_stock':'$product_details.product_stock','category':_0x3bf129(0xd3),'brand':'$product_docs.brand','sku':_0x3bf129(0xb8),'unit':'$product_docs.unit','rak':_0x3bf129(0xde),'bin':_0x3bf129(0xe2)}}]);console[_0x3bf129(0xbd)](_0x268326);if(_0xc7b54[0x0][_0x3bf129(0xda)]==_0x3bf129(0xc0)){var _0x57d3e2=users[_0x3bf129(0xd6)];console[_0x3bf129(0xbd)](_0x57d3e2);}else{if(_0xc7b54[0x0][_0x3bf129(0xda)]==_0x3bf129(0xb7))var _0x57d3e2=users[_0x3bf129(0xb7)];else{if(_0xc7b54[0x0][_0x3bf129(0xda)]==_0x3bf129(0xbb))var _0x57d3e2=users['German'];else{if(_0xc7b54[0x0][_0x3bf129(0xda)]=='Spanish')var _0x57d3e2=users[_0x3bf129(0xf4)];else{if(_0xc7b54[0x0]['language']==_0x3bf129(0xea))var _0x57d3e2=users['French'];else{if(_0xc7b54[0x0][_0x3bf129(0xda)]=='Portuguese\x20(BR)')var _0x57d3e2=users[_0x3bf129(0xd7)];else{if(_0xc7b54[0x0][_0x3bf129(0xda)]==_0x3bf129(0xf1))var _0x57d3e2=users['Chinese'];else{if(_0xc7b54[0x0][_0x3bf129(0xda)]==_0x3bf129(0xe1))var _0x57d3e2=users[_0x3bf129(0xb6)];}}}}}}}_0xb24c2f[_0x3bf129(0xc7)](0xc8)[_0x3bf129(0xdb)]({'data':_0x268326,'language':_0x57d3e2});}catch(_0x263d8f){console['log'](_0x263d8f);}}),router['get']('/view/product/:id',auth,async(_0x231c05,_0x12c458)=>{var _0x300729=a0_0x40957f;try{const _0x2609bf=_0x231c05[_0x300729(0xcd)]['id'];console['log'](_0x2609bf);const _0x54f143=await master_shop[_0x300729(0xcb)]();console['log'](_0x300729(0xbf),_0x54f143);const _0x4fbeb4=await product[_0x300729(0xe0)]({'name':_0x2609bf});console['log'](_0x300729(0xd5),_0x4fbeb4);const _0x389cee=await warehouse['aggregate']([{'$unwind':_0x300729(0xc5)},{'$match':{'product_details.product_name':_0x2609bf}},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x300729(0xef)}}]);console['log']('warehouse_data',_0x389cee);if(_0x54f143[0x0][_0x300729(0xda)]=='English\x20(US)'){var _0x41cccd=users[_0x300729(0xd6)];console[_0x300729(0xbd)](_0x41cccd);}else{if(_0x54f143[0x0][_0x300729(0xda)]==_0x300729(0xb7))var _0x41cccd=users['Hindi'];else{if(_0x54f143[0x0][_0x300729(0xda)]==_0x300729(0xbb))var _0x41cccd=users[_0x300729(0xbb)];else{if(_0x54f143[0x0][_0x300729(0xda)]=='Spanish')var _0x41cccd=users[_0x300729(0xf4)];else{if(_0x54f143[0x0][_0x300729(0xda)]==_0x300729(0xea))var _0x41cccd=users[_0x300729(0xea)];else{if(_0x54f143[0x0][_0x300729(0xda)]=='Portuguese\x20(BR)')var _0x41cccd=users[_0x300729(0xd7)];else{if(_0x54f143[0x0]['language']=='Chinese')var _0x41cccd=users['Chinese'];else{if(_0x54f143[0x0][_0x300729(0xda)]==_0x300729(0xe1))var _0x41cccd=users[_0x300729(0xb6)];}}}}}}}_0x12c458[_0x300729(0xc7)](0xc8)[_0x300729(0xdb)]({'product_data':_0x4fbeb4,'warehouse_data':_0x389cee,'language':_0x41cccd});}catch(_0x21c5b4){console[_0x300729(0xbd)](_0x21c5b4);}}),router[a0_0x40957f(0xe8)](a0_0x40957f(0xca),async(_0x485afd,_0x209689)=>{var _0x105345=a0_0x40957f;const {warehouseNew:_0x4bee21,rooms:_0x13a07e,Type:_0x2c84ed,process_cat:_0x1e59c8,room_cat:_0x4d8298}=_0x485afd[_0x105345(0xf2)];let _0x364c2a;console['log'](_0x485afd[_0x105345(0xf2)]);if(_0x1e59c8=='raw')_0x364c2a=await warehouse[_0x105345(0xd0)]([{'$match':{'name':_0x4bee21,'room':_0x13a07e,'warehouse_category':_0x105345(0xe9)}},{'$unwind':_0x105345(0xc5)},{'$match':{'product_details.type':_0x2c84ed,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x1e59c8=='finish'?_0x13a07e==_0x105345(0xf0)?_0x364c2a=await warehouse[_0x105345(0xd0)]([{'$match':{'name':_0x4bee21,'warehouse_category':_0x105345(0xc6)}},{'$unwind':_0x105345(0xc5)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x364c2a=await warehouse[_0x105345(0xd0)]([{'$match':{'name':_0x4bee21,'room':_0x13a07e,'warehouse_category':_0x105345(0xc6)}},{'$unwind':_0x105345(0xc5)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x105345(0xbd)]('ssd'),Include=[{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x364c2a=await warehouse[_0x105345(0xd0)](Include));_0x209689['json'](_0x364c2a);}),router[a0_0x40957f(0xe8)]('/Reports_product',async(_0x58fd0b,_0x1aa88c)=>{var _0x139ead=a0_0x40957f;const {warehouseNew:_0x514d8b,rooms:_0x1cf72e,Type:_0x6ebb31,process_cat:_0x434326,room_cat:_0x50a681}=_0x58fd0b[_0x139ead(0xf2)],_0x34261e=await product[_0x139ead(0xcb)]();_0x1aa88c['json'](_0x34261e);}),module[a0_0x40957f(0xba)]=router;