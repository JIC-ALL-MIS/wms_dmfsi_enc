var a0_0x500293=a0_0x38cb;(function(_0x2e85aa,_0x5a6aea){var _0x4f3e8a=a0_0x38cb,_0x3a7b2d=_0x2e85aa();while(!![]){try{var _0x278d39=-parseInt(_0x4f3e8a(0x175))/0x1*(parseInt(_0x4f3e8a(0x18d))/0x2)+parseInt(_0x4f3e8a(0x18c))/0x3*(-parseInt(_0x4f3e8a(0x171))/0x4)+parseInt(_0x4f3e8a(0x16a))/0x5+parseInt(_0x4f3e8a(0x168))/0x6+parseInt(_0x4f3e8a(0x188))/0x7*(-parseInt(_0x4f3e8a(0x166))/0x8)+-parseInt(_0x4f3e8a(0x195))/0x9*(-parseInt(_0x4f3e8a(0x17f))/0xa)+-parseInt(_0x4f3e8a(0x176))/0xb*(-parseInt(_0x4f3e8a(0x165))/0xc);if(_0x278d39===_0x5a6aea)break;else _0x3a7b2d['push'](_0x3a7b2d['shift']());}catch(_0x2e5158){_0x3a7b2d['push'](_0x3a7b2d['shift']());}}}(a0_0x41b9,0x2cd20));function a0_0x41b9(){var _0x3b5d44=['email','name','json','../models/all_models','finish','615048ABUGeD','success','Portuguese','German','5683ALIryS','22gEXbWr','English\x20(US)','/view/:id','find','English','product_details.product_name','errors','/Reports_product','product_details.bin_name','590qdkWIK','111','params','Arabic','get','All','products','$product_docs.category','$product_details.product_name','10885KxvVyC','role_data','stock_report','status','3buBKrZ','20AGSBHk','Router','warehouse_data','/view/product/:id','Hindi','post','ssd','$product_docs','2313AnAMsj','Spanish','user','language','$product_docs.unit','body','Finished\x20Goods','French','warehouse','log','Arabic\x20(ae)','aggregate','Portuguese\x20(BR)','render','../public/language/languages.json','flash','/Reports','Raw\x20Materials','$product_details','findOne','1546596lnqDVf','256yJDaIY','master','855300xvQLGn','$product_docs.sku','142285esGgtR','Chinese'];a0_0x41b9=function(){return _0x3b5d44;};return a0_0x41b9();}function a0_0x38cb(_0x25b837,_0x5bd31c){var _0x41b94c=a0_0x41b9();return a0_0x38cb=function(_0x38cb44,_0x269e4f){_0x38cb44=_0x38cb44-0x162;var _0x5bbc43=_0x41b94c[_0x38cb44];return _0x5bbc43;},a0_0x38cb(_0x25b837,_0x5bd31c);}const express=require('express'),app=express(),router=express[a0_0x500293(0x18e)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x500293(0x16f)),auth=require('../middleware/auth'),users=require(a0_0x500293(0x1a3));router[a0_0x500293(0x183)]('/view',auth,async(_0x5769d5,_0x36c1ed)=>{var _0x577f80=a0_0x500293;try{const _0x42f41a=_0x5769d5[_0x577f80(0x197)];console[_0x577f80(0x19e)](_0x577f80(0x189),_0x5769d5[_0x577f80(0x197)]);const _0x2eaf13=await profile[_0x577f80(0x164)]({'email':_0x42f41a[_0x577f80(0x16c)]}),_0x316560=await master_shop[_0x577f80(0x179)]();console[_0x577f80(0x19e)](_0x577f80(0x167),_0x316560);const _0x439b59=await warehouse[_0x577f80(0x179)]({}),_0x56d46f=await product[_0x577f80(0x179)]({});if(_0x316560[0x0][_0x577f80(0x198)]==_0x577f80(0x177)){var _0x26bdf0=users[_0x577f80(0x17a)];console[_0x577f80(0x19e)](_0x26bdf0);}else{if(_0x316560[0x0][_0x577f80(0x198)]==_0x577f80(0x191))var _0x26bdf0=users[_0x577f80(0x191)];else{if(_0x316560[0x0][_0x577f80(0x198)]==_0x577f80(0x174))var _0x26bdf0=users['German'];else{if(_0x316560[0x0]['language']==_0x577f80(0x196))var _0x26bdf0=users[_0x577f80(0x196)];else{if(_0x316560[0x0][_0x577f80(0x198)]==_0x577f80(0x19c))var _0x26bdf0=users[_0x577f80(0x19c)];else{if(_0x316560[0x0][_0x577f80(0x198)]=='Portuguese\x20(BR)')var _0x26bdf0=users[_0x577f80(0x173)];else{if(_0x316560[0x0][_0x577f80(0x198)]==_0x577f80(0x16b))var _0x26bdf0=users[_0x577f80(0x16b)];else{if(_0x316560[0x0]['language']==_0x577f80(0x19f))var _0x26bdf0=users['Arabic'];}}}}}}}_0x36c1ed[_0x577f80(0x1a2)](_0x577f80(0x18a),{'success':_0x5769d5[_0x577f80(0x1a4)](_0x577f80(0x172)),'errors':_0x5769d5[_0x577f80(0x1a4)](_0x577f80(0x17c)),'role':_0x42f41a,'profile':_0x2eaf13,'master_shop':_0x316560,'warehouse':_0x439b59,'product':_0x56d46f,'warehouse_doc':[],'product_doc':[],'language':_0x26bdf0});}catch(_0x565fd6){console['log'](_0x565fd6);}}),router[a0_0x500293(0x183)](a0_0x500293(0x178),auth,async(_0x45055d,_0xa0e1c7)=>{var _0x4e8b49=a0_0x500293;try{const _0xca2759=await master_shop['find']();console[_0x4e8b49(0x19e)](_0x4e8b49(0x167),_0xca2759);if(_0x45055d[_0x4e8b49(0x181)]['id']==_0x4e8b49(0x19d)){const _0x32a3fd=await warehouse[_0x4e8b49(0x179)]();console[_0x4e8b49(0x19e)](_0x32a3fd);if(_0xca2759[0x0][_0x4e8b49(0x198)]==_0x4e8b49(0x177)){var _0x39f56e=users[_0x4e8b49(0x17a)];console[_0x4e8b49(0x19e)](_0x39f56e);}else{if(_0xca2759[0x0][_0x4e8b49(0x198)]=='Hindi')var _0x39f56e=users[_0x4e8b49(0x191)];else{if(_0xca2759[0x0][_0x4e8b49(0x198)]==_0x4e8b49(0x174))var _0x39f56e=users['German'];else{if(_0xca2759[0x0][_0x4e8b49(0x198)]==_0x4e8b49(0x196))var _0x39f56e=users[_0x4e8b49(0x196)];else{if(_0xca2759[0x0]['language']=='French')var _0x39f56e=users[_0x4e8b49(0x19c)];else{if(_0xca2759[0x0]['language']=='Portuguese\x20(BR)')var _0x39f56e=users[_0x4e8b49(0x173)];else{if(_0xca2759[0x0][_0x4e8b49(0x198)]==_0x4e8b49(0x16b))var _0x39f56e=users[_0x4e8b49(0x16b)];else{if(_0xca2759[0x0][_0x4e8b49(0x198)]=='Arabic\x20(ae)')var _0x39f56e=users[_0x4e8b49(0x182)];}}}}}}}_0xa0e1c7[_0x4e8b49(0x18b)](0xc8)[_0x4e8b49(0x16e)]({'data':_0x32a3fd,'language':_0x39f56e[_0x4e8b49(0x19d)]});}else{const _0x707a6a=await product[_0x4e8b49(0x179)]();console[_0x4e8b49(0x19e)](_0x4e8b49(0x180),_0x707a6a);if(_0xca2759[0x0][_0x4e8b49(0x198)]=='English\x20(US)'){var _0x39f56e=users['English'];console[_0x4e8b49(0x19e)](_0x39f56e);}else{if(_0xca2759[0x0][_0x4e8b49(0x198)]=='Hindi')var _0x39f56e=users[_0x4e8b49(0x191)];else{if(_0xca2759[0x0][_0x4e8b49(0x198)]==_0x4e8b49(0x174))var _0x39f56e=users['German'];else{if(_0xca2759[0x0][_0x4e8b49(0x198)]==_0x4e8b49(0x196))var _0x39f56e=users['Spanish'];else{if(_0xca2759[0x0][_0x4e8b49(0x198)]==_0x4e8b49(0x19c))var _0x39f56e=users[_0x4e8b49(0x19c)];else{if(_0xca2759[0x0][_0x4e8b49(0x198)]==_0x4e8b49(0x1a1))var _0x39f56e=users[_0x4e8b49(0x173)];else{if(_0xca2759[0x0]['language']==_0x4e8b49(0x16b))var _0x39f56e=users[_0x4e8b49(0x16b)];else{if(_0xca2759[0x0]['language']==_0x4e8b49(0x19f))var _0x39f56e=users[_0x4e8b49(0x182)];}}}}}}}_0xa0e1c7[_0x4e8b49(0x18b)](0xc8)[_0x4e8b49(0x16e)]({'data':_0x707a6a,'language':_0x39f56e[_0x4e8b49(0x185)]});}}catch(_0x25bb91){console['log'](_0x25bb91);}}),router[a0_0x500293(0x183)]('/view/warehouse/:id',auth,async(_0x91a194,_0x234bd6)=>{var _0xa87c0b=a0_0x500293;try{const _0x473310=_0x91a194[_0xa87c0b(0x181)]['id'];console[_0xa87c0b(0x19e)](_0x473310);const _0x459a74=await master_shop[_0xa87c0b(0x179)]();console[_0xa87c0b(0x19e)]('master',_0x459a74);const _0x3f0d53=await warehouse[_0xa87c0b(0x1a0)]([{'$match':{'name':_0x473310}},{'$unwind':_0xa87c0b(0x163)},{'$lookup':{'from':'products','localField':_0xa87c0b(0x17b),'foreignField':_0xa87c0b(0x16d),'as':'product_docs'}},{'$unwind':_0xa87c0b(0x194)},{'$project':{'name':0x1,'product_name':_0xa87c0b(0x187),'product_stock':'$product_details.product_stock','category':_0xa87c0b(0x186),'brand':'$product_docs.brand','sku':_0xa87c0b(0x169),'unit':_0xa87c0b(0x199),'rak':'product_details.rak_name','bin':_0xa87c0b(0x17e)}}]);console[_0xa87c0b(0x19e)](_0x3f0d53);if(_0x459a74[0x0][_0xa87c0b(0x198)]==_0xa87c0b(0x177)){var _0x2f2ca4=users['English'];console[_0xa87c0b(0x19e)](_0x2f2ca4);}else{if(_0x459a74[0x0][_0xa87c0b(0x198)]==_0xa87c0b(0x191))var _0x2f2ca4=users['Hindi'];else{if(_0x459a74[0x0][_0xa87c0b(0x198)]==_0xa87c0b(0x174))var _0x2f2ca4=users['German'];else{if(_0x459a74[0x0][_0xa87c0b(0x198)]==_0xa87c0b(0x196))var _0x2f2ca4=users[_0xa87c0b(0x196)];else{if(_0x459a74[0x0]['language']==_0xa87c0b(0x19c))var _0x2f2ca4=users[_0xa87c0b(0x19c)];else{if(_0x459a74[0x0]['language']==_0xa87c0b(0x1a1))var _0x2f2ca4=users[_0xa87c0b(0x173)];else{if(_0x459a74[0x0][_0xa87c0b(0x198)]=='Chinese')var _0x2f2ca4=users['Chinese'];else{if(_0x459a74[0x0][_0xa87c0b(0x198)]==_0xa87c0b(0x19f))var _0x2f2ca4=users[_0xa87c0b(0x182)];}}}}}}}_0x234bd6[_0xa87c0b(0x18b)](0xc8)[_0xa87c0b(0x16e)]({'data':_0x3f0d53,'language':_0x2f2ca4});}catch(_0x17c1ec){console['log'](_0x17c1ec);}}),router[a0_0x500293(0x183)](a0_0x500293(0x190),auth,async(_0x343c1d,_0x8e302e)=>{var _0x2d43dd=a0_0x500293;try{const _0x40af5b=_0x343c1d[_0x2d43dd(0x181)]['id'];console[_0x2d43dd(0x19e)](_0x40af5b);const _0x4d096=await master_shop[_0x2d43dd(0x179)]();console['log'](_0x2d43dd(0x167),_0x4d096);const _0x3cada8=await product[_0x2d43dd(0x164)]({'name':_0x40af5b});console[_0x2d43dd(0x19e)]('product_data',_0x3cada8);const _0x24119a=await warehouse[_0x2d43dd(0x1a0)]([{'$unwind':_0x2d43dd(0x163)},{'$match':{'product_details.product_name':_0x40af5b}},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':'$product_details.product_stock'}}]);console['log'](_0x2d43dd(0x18f),_0x24119a);if(_0x4d096[0x0]['language']=='English\x20(US)'){var _0x1f3f47=users[_0x2d43dd(0x17a)];console[_0x2d43dd(0x19e)](_0x1f3f47);}else{if(_0x4d096[0x0][_0x2d43dd(0x198)]=='Hindi')var _0x1f3f47=users[_0x2d43dd(0x191)];else{if(_0x4d096[0x0][_0x2d43dd(0x198)]==_0x2d43dd(0x174))var _0x1f3f47=users[_0x2d43dd(0x174)];else{if(_0x4d096[0x0][_0x2d43dd(0x198)]==_0x2d43dd(0x196))var _0x1f3f47=users['Spanish'];else{if(_0x4d096[0x0]['language']==_0x2d43dd(0x19c))var _0x1f3f47=users[_0x2d43dd(0x19c)];else{if(_0x4d096[0x0]['language']==_0x2d43dd(0x1a1))var _0x1f3f47=users[_0x2d43dd(0x173)];else{if(_0x4d096[0x0]['language']==_0x2d43dd(0x16b))var _0x1f3f47=users[_0x2d43dd(0x16b)];else{if(_0x4d096[0x0][_0x2d43dd(0x198)]==_0x2d43dd(0x19f))var _0x1f3f47=users[_0x2d43dd(0x182)];}}}}}}}_0x8e302e['status'](0xc8)[_0x2d43dd(0x16e)]({'product_data':_0x3cada8,'warehouse_data':_0x24119a,'language':_0x1f3f47});}catch(_0x33c84d){console[_0x2d43dd(0x19e)](_0x33c84d);}}),router[a0_0x500293(0x192)](a0_0x500293(0x1a5),async(_0x49242c,_0x257457)=>{var _0x1ea07b=a0_0x500293;const {warehouseNew:_0x2c7fe0,rooms:_0x22bf38,Type:_0x5b767a,process_cat:_0x4e0c84,room_cat:_0x30ab73}=_0x49242c[_0x1ea07b(0x19a)];let _0x519127;console[_0x1ea07b(0x19e)](_0x49242c[_0x1ea07b(0x19a)]);if(_0x4e0c84=='raw')_0x519127=await warehouse['aggregate']([{'$match':{'name':_0x2c7fe0,'room':_0x22bf38,'warehouse_category':_0x1ea07b(0x162)}},{'$unwind':_0x1ea07b(0x163)},{'$match':{'product_details.type':_0x5b767a,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x4e0c84==_0x1ea07b(0x170)?_0x22bf38==_0x1ea07b(0x184)?_0x519127=await warehouse[_0x1ea07b(0x1a0)]([{'$match':{'name':_0x2c7fe0,'warehouse_category':_0x1ea07b(0x19b)}},{'$unwind':_0x1ea07b(0x163)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x519127=await warehouse['aggregate']([{'$match':{'name':_0x2c7fe0,'room':_0x22bf38,'warehouse_category':_0x1ea07b(0x19b)}},{'$unwind':_0x1ea07b(0x163)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x1ea07b(0x19e)](_0x1ea07b(0x193)),Include=[{'$unwind':_0x1ea07b(0x163)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x519127=await warehouse[_0x1ea07b(0x1a0)](Include));_0x257457[_0x1ea07b(0x16e)](_0x519127);}),router[a0_0x500293(0x192)](a0_0x500293(0x17d),async(_0x15a5e5,_0x1c1319)=>{var _0x1eb385=a0_0x500293;const {warehouseNew:_0x110e8f,rooms:_0x14136c,Type:_0xcff87e,process_cat:_0xca11e0,room_cat:_0x1d0884}=_0x15a5e5[_0x1eb385(0x19a)],_0x243614=await product[_0x1eb385(0x179)]();_0x1c1319['json'](_0x243614);}),module['exports']=router;