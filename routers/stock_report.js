var a0_0x3e9180=a0_0x394d;function a0_0x394d(_0xf2c115,_0x5e3a63){var _0x448015=a0_0x4480();return a0_0x394d=function(_0x394d93,_0xaa8d91){_0x394d93=_0x394d93-0x15e;var _0x43776f=_0x448015[_0x394d93];return _0x43776f;},a0_0x394d(_0xf2c115,_0x5e3a63);}(function(_0x28cddd,_0x2e2c91){var _0x4183e6=a0_0x394d,_0xd0ba23=_0x28cddd();while(!![]){try{var _0xfcccd4=parseInt(_0x4183e6(0x189))/0x1+-parseInt(_0x4183e6(0x177))/0x2*(-parseInt(_0x4183e6(0x195))/0x3)+-parseInt(_0x4183e6(0x19b))/0x4+-parseInt(_0x4183e6(0x192))/0x5*(parseInt(_0x4183e6(0x16a))/0x6)+parseInt(_0x4183e6(0x179))/0x7+parseInt(_0x4183e6(0x165))/0x8+-parseInt(_0x4183e6(0x19f))/0x9;if(_0xfcccd4===_0x2e2c91)break;else _0xd0ba23['push'](_0xd0ba23['shift']());}catch(_0x810e84){_0xd0ba23['push'](_0xd0ba23['shift']());}}}(a0_0x4480,0xb29fd));const express=require('express'),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x3e9180(0x18f)),auth=require(a0_0x3e9180(0x16e)),users=require(a0_0x3e9180(0x17f));router[a0_0x3e9180(0x16f)](a0_0x3e9180(0x15f),auth,async(_0xc602fd,_0x2e52f0)=>{var _0x10deba=a0_0x3e9180;try{const _0x236da2=_0xc602fd['user'];console['log'](_0x10deba(0x15e),_0xc602fd[_0x10deba(0x1a1)]);const _0x6ab737=await profile['findOne']({'email':_0x236da2[_0x10deba(0x1a2)]}),_0x29138d=await master_shop[_0x10deba(0x176)]();console['log']('master',_0x29138d);const _0x276d38=await warehouse[_0x10deba(0x176)]({}),_0x1ad427=await product['find']({});if(_0x29138d[0x0][_0x10deba(0x174)]=='English\x20(US)'){var _0x410ab3=users[_0x10deba(0x18a)];console[_0x10deba(0x17e)](_0x410ab3);}else{if(_0x29138d[0x0][_0x10deba(0x174)]=='Hindi')var _0x410ab3=users[_0x10deba(0x187)];else{if(_0x29138d[0x0]['language']==_0x10deba(0x186))var _0x410ab3=users[_0x10deba(0x186)];else{if(_0x29138d[0x0][_0x10deba(0x174)]==_0x10deba(0x191))var _0x410ab3=users['Spanish'];else{if(_0x29138d[0x0][_0x10deba(0x174)]==_0x10deba(0x181))var _0x410ab3=users['French'];else{if(_0x29138d[0x0][_0x10deba(0x174)]=='Portuguese\x20(BR)')var _0x410ab3=users['Portuguese'];else{if(_0x29138d[0x0]['language']=='Chinese')var _0x410ab3=users[_0x10deba(0x188)];else{if(_0x29138d[0x0][_0x10deba(0x174)]==_0x10deba(0x160))var _0x410ab3=users[_0x10deba(0x170)];}}}}}}}_0x2e52f0[_0x10deba(0x164)]('stock_report',{'success':_0xc602fd['flash']('success'),'errors':_0xc602fd[_0x10deba(0x17d)](_0x10deba(0x178)),'role':_0x236da2,'profile':_0x6ab737,'master_shop':_0x29138d,'warehouse':_0x276d38,'product':_0x1ad427,'warehouse_doc':[],'product_doc':[],'language':_0x410ab3});}catch(_0x56eff5){console[_0x10deba(0x17e)](_0x56eff5);}}),router[a0_0x3e9180(0x16f)](a0_0x3e9180(0x185),auth,async(_0x4e6c28,_0x294067)=>{var _0x560aaf=a0_0x3e9180;try{const _0x225ba4=await master_shop[_0x560aaf(0x176)]();console['log'](_0x560aaf(0x18b),_0x225ba4);if(_0x4e6c28['params']['id']=='warehouse'){const _0x48d2bf=await warehouse[_0x560aaf(0x176)]();console[_0x560aaf(0x17e)](_0x48d2bf);if(_0x225ba4[0x0][_0x560aaf(0x174)]==_0x560aaf(0x16b)){var _0x586a39=users[_0x560aaf(0x18a)];console[_0x560aaf(0x17e)](_0x586a39);}else{if(_0x225ba4[0x0][_0x560aaf(0x174)]==_0x560aaf(0x187))var _0x586a39=users[_0x560aaf(0x187)];else{if(_0x225ba4[0x0][_0x560aaf(0x174)]=='German')var _0x586a39=users[_0x560aaf(0x186)];else{if(_0x225ba4[0x0][_0x560aaf(0x174)]=='Spanish')var _0x586a39=users[_0x560aaf(0x191)];else{if(_0x225ba4[0x0][_0x560aaf(0x174)]=='French')var _0x586a39=users[_0x560aaf(0x181)];else{if(_0x225ba4[0x0][_0x560aaf(0x174)]==_0x560aaf(0x167))var _0x586a39=users['Portuguese'];else{if(_0x225ba4[0x0][_0x560aaf(0x174)]=='Chinese')var _0x586a39=users[_0x560aaf(0x188)];else{if(_0x225ba4[0x0][_0x560aaf(0x174)]=='Arabic\x20(ae)')var _0x586a39=users['Arabic'];}}}}}}}_0x294067[_0x560aaf(0x17c)](0xc8)['json']({'data':_0x48d2bf,'language':_0x586a39[_0x560aaf(0x183)]});}else{const _0x156be7=await product[_0x560aaf(0x176)]();console[_0x560aaf(0x17e)](_0x560aaf(0x184),_0x156be7);if(_0x225ba4[0x0]['language']==_0x560aaf(0x16b)){var _0x586a39=users[_0x560aaf(0x18a)];console['log'](_0x586a39);}else{if(_0x225ba4[0x0][_0x560aaf(0x174)]==_0x560aaf(0x187))var _0x586a39=users[_0x560aaf(0x187)];else{if(_0x225ba4[0x0][_0x560aaf(0x174)]=='German')var _0x586a39=users['German'];else{if(_0x225ba4[0x0][_0x560aaf(0x174)]==_0x560aaf(0x191))var _0x586a39=users['Spanish'];else{if(_0x225ba4[0x0][_0x560aaf(0x174)]==_0x560aaf(0x181))var _0x586a39=users[_0x560aaf(0x181)];else{if(_0x225ba4[0x0][_0x560aaf(0x174)]=='Portuguese\x20(BR)')var _0x586a39=users[_0x560aaf(0x166)];else{if(_0x225ba4[0x0][_0x560aaf(0x174)]==_0x560aaf(0x188))var _0x586a39=users[_0x560aaf(0x188)];else{if(_0x225ba4[0x0][_0x560aaf(0x174)]==_0x560aaf(0x160))var _0x586a39=users[_0x560aaf(0x170)];}}}}}}}_0x294067['status'](0xc8)[_0x560aaf(0x193)]({'data':_0x156be7,'language':_0x586a39[_0x560aaf(0x168)]});}}catch(_0x4222e5){console[_0x560aaf(0x17e)](_0x4222e5);}}),router[a0_0x3e9180(0x16f)](a0_0x3e9180(0x182),auth,async(_0x54e498,_0x497032)=>{var _0x209b37=a0_0x3e9180;try{const _0xce82fb=_0x54e498[_0x209b37(0x162)]['id'];console[_0x209b37(0x17e)](_0xce82fb);const _0x5d5504=await master_shop['find']();console[_0x209b37(0x17e)](_0x209b37(0x18b),_0x5d5504);const _0x2b7b6b=await warehouse['aggregate']([{'$match':{'name':_0xce82fb}},{'$unwind':_0x209b37(0x180)},{'$lookup':{'from':_0x209b37(0x168),'localField':_0x209b37(0x175),'foreignField':_0x209b37(0x196),'as':'product_docs'}},{'$unwind':_0x209b37(0x16d)},{'$project':{'name':0x1,'product_name':_0x209b37(0x173),'product_stock':'$product_details.product_stock','category':_0x209b37(0x17b),'brand':_0x209b37(0x19d),'sku':_0x209b37(0x17a),'unit':_0x209b37(0x172),'rak':_0x209b37(0x198),'bin':_0x209b37(0x19c)}}]);console[_0x209b37(0x17e)](_0x2b7b6b);if(_0x5d5504[0x0][_0x209b37(0x174)]==_0x209b37(0x16b)){var _0xc8c8ac=users['English'];console[_0x209b37(0x17e)](_0xc8c8ac);}else{if(_0x5d5504[0x0]['language']==_0x209b37(0x187))var _0xc8c8ac=users[_0x209b37(0x187)];else{if(_0x5d5504[0x0][_0x209b37(0x174)]=='German')var _0xc8c8ac=users[_0x209b37(0x186)];else{if(_0x5d5504[0x0][_0x209b37(0x174)]==_0x209b37(0x191))var _0xc8c8ac=users[_0x209b37(0x191)];else{if(_0x5d5504[0x0][_0x209b37(0x174)]=='French')var _0xc8c8ac=users[_0x209b37(0x181)];else{if(_0x5d5504[0x0][_0x209b37(0x174)]==_0x209b37(0x167))var _0xc8c8ac=users[_0x209b37(0x166)];else{if(_0x5d5504[0x0]['language']==_0x209b37(0x188))var _0xc8c8ac=users[_0x209b37(0x188)];else{if(_0x5d5504[0x0][_0x209b37(0x174)]==_0x209b37(0x160))var _0xc8c8ac=users['Arabic'];}}}}}}}_0x497032[_0x209b37(0x17c)](0xc8)[_0x209b37(0x193)]({'data':_0x2b7b6b,'language':_0xc8c8ac});}catch(_0x48eb2e){console['log'](_0x48eb2e);}}),router['get'](a0_0x3e9180(0x190),auth,async(_0x11570f,_0x51f5a3)=>{var _0x2413f3=a0_0x3e9180;try{const _0x1f9f09=_0x11570f[_0x2413f3(0x162)]['id'];console[_0x2413f3(0x17e)](_0x1f9f09);const _0x31f0c7=await master_shop[_0x2413f3(0x176)]();console[_0x2413f3(0x17e)](_0x2413f3(0x18b),_0x31f0c7);const _0xfd2478=await product[_0x2413f3(0x194)]({'name':_0x1f9f09});console[_0x2413f3(0x17e)](_0x2413f3(0x169),_0xfd2478);const _0x7c791d=await warehouse[_0x2413f3(0x19a)]([{'$unwind':_0x2413f3(0x180)},{'$match':{'product_details.product_name':_0x1f9f09}},{'$project':{'name':0x1,'product_name':_0x2413f3(0x173),'product_stock':_0x2413f3(0x199)}}]);console['log']('warehouse_data',_0x7c791d);if(_0x31f0c7[0x0][_0x2413f3(0x174)]==_0x2413f3(0x16b)){var _0xc40d68=users[_0x2413f3(0x18a)];console['log'](_0xc40d68);}else{if(_0x31f0c7[0x0]['language']==_0x2413f3(0x187))var _0xc40d68=users[_0x2413f3(0x187)];else{if(_0x31f0c7[0x0][_0x2413f3(0x174)]==_0x2413f3(0x186))var _0xc40d68=users['German'];else{if(_0x31f0c7[0x0][_0x2413f3(0x174)]==_0x2413f3(0x191))var _0xc40d68=users[_0x2413f3(0x191)];else{if(_0x31f0c7[0x0][_0x2413f3(0x174)]==_0x2413f3(0x181))var _0xc40d68=users[_0x2413f3(0x181)];else{if(_0x31f0c7[0x0][_0x2413f3(0x174)]==_0x2413f3(0x167))var _0xc40d68=users[_0x2413f3(0x166)];else{if(_0x31f0c7[0x0]['language']==_0x2413f3(0x188))var _0xc40d68=users['Chinese'];else{if(_0x31f0c7[0x0]['language']==_0x2413f3(0x160))var _0xc40d68=users[_0x2413f3(0x170)];}}}}}}}_0x51f5a3[_0x2413f3(0x17c)](0xc8)[_0x2413f3(0x193)]({'product_data':_0xfd2478,'warehouse_data':_0x7c791d,'language':_0xc40d68});}catch(_0x321482){console[_0x2413f3(0x17e)](_0x321482);}}),router[a0_0x3e9180(0x18d)](a0_0x3e9180(0x18e),async(_0x2ecdb1,_0x558912)=>{var _0x457067=a0_0x3e9180;const {warehouseNew:_0x1ea89e,rooms:_0x1878ac,Type:_0x55c8fe,process_cat:_0x5bf7d3,room_cat:_0x4f9d07}=_0x2ecdb1[_0x457067(0x19e)];let _0x407c7c;console[_0x457067(0x17e)](_0x2ecdb1[_0x457067(0x19e)]);if(_0x5bf7d3==_0x457067(0x163))_0x407c7c=await warehouse[_0x457067(0x19a)]([{'$match':{'name':_0x1ea89e,'room':_0x1878ac,'warehouse_category':'Raw\x20Materials'}},{'$unwind':'$product_details'},{'$match':{'product_details.type':_0x55c8fe,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x5bf7d3==_0x457067(0x197)?_0x1878ac==_0x457067(0x171)?_0x407c7c=await warehouse[_0x457067(0x19a)]([{'$match':{'name':_0x1ea89e,'warehouse_category':_0x457067(0x1a0)}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x407c7c=await warehouse[_0x457067(0x19a)]([{'$match':{'name':_0x1ea89e,'room':_0x1878ac,'warehouse_category':_0x457067(0x1a0)}},{'$unwind':_0x457067(0x180)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x457067(0x17e)](_0x457067(0x18c)),Include=[{'$unwind':_0x457067(0x180)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x407c7c=await warehouse[_0x457067(0x19a)](Include));_0x558912['json'](_0x407c7c);}),router[a0_0x3e9180(0x18d)](a0_0x3e9180(0x161),async(_0x4dea47,_0x30cb39)=>{var _0x13399b=a0_0x3e9180;const {warehouseNew:_0x46af3a,rooms:_0x3832f6,Type:_0x461640,process_cat:_0x4d93cd,room_cat:_0x5c83e9}=_0x4dea47[_0x13399b(0x19e)],_0x3d2a4b=await product[_0x13399b(0x176)]();_0x30cb39[_0x13399b(0x193)](_0x3d2a4b);}),module[a0_0x3e9180(0x16c)]=router;function a0_0x4480(){var _0x4c952e=['../models/all_models','/view/product/:id','Spanish','5149750vijZLK','json','findOne','6IEsuaQ','name','finish','product_details.rak_name','$product_details.product_stock','aggregate','708092niyIvu','product_details.bin_name','$product_docs.brand','body','3916044SPjSaW','Finished\x20Goods','user','email','role_data','/view','Arabic\x20(ae)','/Reports_product','params','raw','render','9347040FKsliA','Portuguese','Portuguese\x20(BR)','products','product_data','6Njvfpk','English\x20(US)','exports','$product_docs','../middleware/auth','get','Arabic','All','$product_docs.unit','$product_details.product_name','language','product_details.product_name','find','751654inQsxa','errors','1089788VyPZqp','$product_docs.sku','$product_docs.category','status','flash','log','../public/language/languages.json','$product_details','French','/view/warehouse/:id','warehouse','111','/view/:id','German','Hindi','Chinese','298016ibMzZq','English','master','ssd','post','/Reports'];a0_0x4480=function(){return _0x4c952e;};return a0_0x4480();}