var a0_0x23e8cd=a0_0x40a3;(function(_0x542986,_0x10241f){var _0x45f757=a0_0x40a3,_0xcdaa3=_0x542986();while(!![]){try{var _0x54caab=-parseInt(_0x45f757(0x1ca))/0x1+-parseInt(_0x45f757(0x1d3))/0x2*(parseInt(_0x45f757(0x1b4))/0x3)+-parseInt(_0x45f757(0x1a8))/0x4*(parseInt(_0x45f757(0x197))/0x5)+-parseInt(_0x45f757(0x1a9))/0x6*(parseInt(_0x45f757(0x1a6))/0x7)+parseInt(_0x45f757(0x1b2))/0x8*(parseInt(_0x45f757(0x195))/0x9)+parseInt(_0x45f757(0x1b5))/0xa*(parseInt(_0x45f757(0x1d2))/0xb)+parseInt(_0x45f757(0x1ae))/0xc;if(_0x54caab===_0x10241f)break;else _0xcdaa3['push'](_0xcdaa3['shift']());}catch(_0x1b5f94){_0xcdaa3['push'](_0xcdaa3['shift']());}}}(a0_0x2ab7,0xca83b));const express=require(a0_0x23e8cd(0x19b)),app=express(),router=express[a0_0x23e8cd(0x1bb)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x23e8cd(0x1d5)),auth=require(a0_0x23e8cd(0x1be)),users=require(a0_0x23e8cd(0x1c2));router[a0_0x23e8cd(0x19e)](a0_0x23e8cd(0x19d),auth,async(_0x465e30,_0x303027)=>{var _0x9912e8=a0_0x23e8cd;try{const _0x562d94=_0x465e30['user'];console['log'](_0x9912e8(0x1b9),_0x465e30[_0x9912e8(0x1c3)]);const _0x104f5d=await profile['findOne']({'email':_0x562d94[_0x9912e8(0x1d0)]}),_0x4706e5=await master_shop[_0x9912e8(0x1ba)]();console[_0x9912e8(0x19c)]('master',_0x4706e5);const _0x1ff9ec=await warehouse['find']({}),_0x54e849=await product[_0x9912e8(0x1ba)]({});if(_0x4706e5[0x0][_0x9912e8(0x1c9)]==_0x9912e8(0x1a3)){var _0xb7a777=users[_0x9912e8(0x1a0)];console['log'](_0xb7a777);}else{if(_0x4706e5[0x0][_0x9912e8(0x1c9)]==_0x9912e8(0x1ad))var _0xb7a777=users[_0x9912e8(0x1ad)];else{if(_0x4706e5[0x0][_0x9912e8(0x1c9)]==_0x9912e8(0x1c6))var _0xb7a777=users[_0x9912e8(0x1c6)];else{if(_0x4706e5[0x0][_0x9912e8(0x1c9)]=='Spanish')var _0xb7a777=users['Spanish'];else{if(_0x4706e5[0x0][_0x9912e8(0x1c9)]=='French')var _0xb7a777=users[_0x9912e8(0x1c0)];else{if(_0x4706e5[0x0][_0x9912e8(0x1c9)]==_0x9912e8(0x1d1))var _0xb7a777=users[_0x9912e8(0x1d7)];else{if(_0x4706e5[0x0][_0x9912e8(0x1c9)]==_0x9912e8(0x1af))var _0xb7a777=users['Chinese'];else{if(_0x4706e5[0x0][_0x9912e8(0x1c9)]=='Arabic\x20(ae)')var _0xb7a777=users[_0x9912e8(0x19a)];}}}}}}}_0x303027[_0x9912e8(0x199)](_0x9912e8(0x1ac),{'success':_0x465e30[_0x9912e8(0x1a2)](_0x9912e8(0x1b7)),'errors':_0x465e30['flash'](_0x9912e8(0x1ce)),'role':_0x562d94,'profile':_0x104f5d,'master_shop':_0x4706e5,'warehouse':_0x1ff9ec,'product':_0x54e849,'warehouse_doc':[],'product_doc':[],'language':_0xb7a777});}catch(_0x23321f){console[_0x9912e8(0x19c)](_0x23321f);}}),router[a0_0x23e8cd(0x19e)]('/view/:id',auth,async(_0x2c6a2e,_0x1c0ef7)=>{var _0x22ac5a=a0_0x23e8cd;try{const _0x151300=await master_shop[_0x22ac5a(0x1ba)]();console[_0x22ac5a(0x19c)](_0x22ac5a(0x1bf),_0x151300);if(_0x2c6a2e[_0x22ac5a(0x1d6)]['id']==_0x22ac5a(0x1ab)){const _0x104835=await warehouse['find']();console['log'](_0x104835);if(_0x151300[0x0][_0x22ac5a(0x1c9)]==_0x22ac5a(0x1a3)){var _0x3f68f1=users[_0x22ac5a(0x1a0)];console[_0x22ac5a(0x19c)](_0x3f68f1);}else{if(_0x151300[0x0][_0x22ac5a(0x1c9)]==_0x22ac5a(0x1ad))var _0x3f68f1=users[_0x22ac5a(0x1ad)];else{if(_0x151300[0x0]['language']==_0x22ac5a(0x1c6))var _0x3f68f1=users[_0x22ac5a(0x1c6)];else{if(_0x151300[0x0][_0x22ac5a(0x1c9)]=='Spanish')var _0x3f68f1=users[_0x22ac5a(0x196)];else{if(_0x151300[0x0][_0x22ac5a(0x1c9)]=='French')var _0x3f68f1=users[_0x22ac5a(0x1c0)];else{if(_0x151300[0x0][_0x22ac5a(0x1c9)]==_0x22ac5a(0x1d1))var _0x3f68f1=users[_0x22ac5a(0x1d7)];else{if(_0x151300[0x0][_0x22ac5a(0x1c9)]==_0x22ac5a(0x1af))var _0x3f68f1=users[_0x22ac5a(0x1af)];else{if(_0x151300[0x0][_0x22ac5a(0x1c9)]==_0x22ac5a(0x1c1))var _0x3f68f1=users['Arabic'];}}}}}}}_0x1c0ef7[_0x22ac5a(0x1b6)](0xc8)['json']({'data':_0x104835,'language':_0x3f68f1[_0x22ac5a(0x1ab)]});}else{const _0x35ffb3=await product['find']();console[_0x22ac5a(0x19c)](_0x22ac5a(0x194),_0x35ffb3);if(_0x151300[0x0][_0x22ac5a(0x1c9)]==_0x22ac5a(0x1a3)){var _0x3f68f1=users[_0x22ac5a(0x1a0)];console[_0x22ac5a(0x19c)](_0x3f68f1);}else{if(_0x151300[0x0][_0x22ac5a(0x1c9)]==_0x22ac5a(0x1ad))var _0x3f68f1=users[_0x22ac5a(0x1ad)];else{if(_0x151300[0x0][_0x22ac5a(0x1c9)]==_0x22ac5a(0x1c6))var _0x3f68f1=users[_0x22ac5a(0x1c6)];else{if(_0x151300[0x0][_0x22ac5a(0x1c9)]==_0x22ac5a(0x196))var _0x3f68f1=users[_0x22ac5a(0x196)];else{if(_0x151300[0x0]['language']=='French')var _0x3f68f1=users['French'];else{if(_0x151300[0x0][_0x22ac5a(0x1c9)]==_0x22ac5a(0x1d1))var _0x3f68f1=users[_0x22ac5a(0x1d7)];else{if(_0x151300[0x0][_0x22ac5a(0x1c9)]==_0x22ac5a(0x1af))var _0x3f68f1=users['Chinese'];else{if(_0x151300[0x0][_0x22ac5a(0x1c9)]==_0x22ac5a(0x1c1))var _0x3f68f1=users['Arabic'];}}}}}}}_0x1c0ef7[_0x22ac5a(0x1b6)](0xc8)[_0x22ac5a(0x1b8)]({'data':_0x35ffb3,'language':_0x3f68f1[_0x22ac5a(0x1cf)]});}}catch(_0x2d3c1a){console[_0x22ac5a(0x19c)](_0x2d3c1a);}}),router['get'](a0_0x23e8cd(0x1bd),auth,async(_0x4e51fe,_0x44119e)=>{var _0x512b86=a0_0x23e8cd;try{const _0x2bb958=_0x4e51fe[_0x512b86(0x1d6)]['id'];console['log'](_0x2bb958);const _0x2d4dc9=await master_shop[_0x512b86(0x1ba)]();console[_0x512b86(0x19c)](_0x512b86(0x1bf),_0x2d4dc9);const _0x1471fb=await warehouse[_0x512b86(0x198)]([{'$match':{'name':_0x2bb958}},{'$unwind':_0x512b86(0x1a1)},{'$lookup':{'from':_0x512b86(0x1cf),'localField':_0x512b86(0x1d4),'foreignField':_0x512b86(0x192),'as':_0x512b86(0x193)}},{'$unwind':_0x512b86(0x1bc)},{'$project':{'name':0x1,'product_name':_0x512b86(0x1c5),'product_stock':'$product_details.product_stock','category':_0x512b86(0x1b3),'brand':'$product_docs.brand','sku':_0x512b86(0x1cb),'unit':_0x512b86(0x1a4),'rak':'product_details.rak_name','bin':_0x512b86(0x1c8)}}]);console[_0x512b86(0x19c)](_0x1471fb);if(_0x2d4dc9[0x0][_0x512b86(0x1c9)]==_0x512b86(0x1a3)){var _0x2a4807=users[_0x512b86(0x1a0)];console['log'](_0x2a4807);}else{if(_0x2d4dc9[0x0][_0x512b86(0x1c9)]==_0x512b86(0x1ad))var _0x2a4807=users[_0x512b86(0x1ad)];else{if(_0x2d4dc9[0x0]['language']==_0x512b86(0x1c6))var _0x2a4807=users[_0x512b86(0x1c6)];else{if(_0x2d4dc9[0x0][_0x512b86(0x1c9)]==_0x512b86(0x196))var _0x2a4807=users[_0x512b86(0x196)];else{if(_0x2d4dc9[0x0][_0x512b86(0x1c9)]==_0x512b86(0x1c0))var _0x2a4807=users['French'];else{if(_0x2d4dc9[0x0][_0x512b86(0x1c9)]==_0x512b86(0x1d1))var _0x2a4807=users['Portuguese'];else{if(_0x2d4dc9[0x0][_0x512b86(0x1c9)]=='Chinese')var _0x2a4807=users[_0x512b86(0x1af)];else{if(_0x2d4dc9[0x0][_0x512b86(0x1c9)]==_0x512b86(0x1c1))var _0x2a4807=users['Arabic'];}}}}}}}_0x44119e[_0x512b86(0x1b6)](0xc8)[_0x512b86(0x1b8)]({'data':_0x1471fb,'language':_0x2a4807});}catch(_0xad83ba){console[_0x512b86(0x19c)](_0xad83ba);}}),router[a0_0x23e8cd(0x19e)](a0_0x23e8cd(0x1cd),auth,async(_0x5ac8af,_0x34ea2b)=>{var _0x518545=a0_0x23e8cd;try{const _0x11874d=_0x5ac8af[_0x518545(0x1d6)]['id'];console[_0x518545(0x19c)](_0x11874d);const _0x2bab8f=await master_shop[_0x518545(0x1ba)]();console[_0x518545(0x19c)]('master',_0x2bab8f);const _0x4fee79=await product['findOne']({'name':_0x11874d});console['log'](_0x518545(0x1a5),_0x4fee79);const _0x5710e2=await warehouse[_0x518545(0x198)]([{'$unwind':_0x518545(0x1a1)},{'$match':{'product_details.product_name':_0x11874d}},{'$project':{'name':0x1,'product_name':_0x518545(0x1c5),'product_stock':_0x518545(0x1c7)}}]);console['log']('warehouse_data',_0x5710e2);if(_0x2bab8f[0x0][_0x518545(0x1c9)]=='English\x20(US)'){var _0x1a472d=users[_0x518545(0x1a0)];console[_0x518545(0x19c)](_0x1a472d);}else{if(_0x2bab8f[0x0][_0x518545(0x1c9)]==_0x518545(0x1ad))var _0x1a472d=users[_0x518545(0x1ad)];else{if(_0x2bab8f[0x0][_0x518545(0x1c9)]==_0x518545(0x1c6))var _0x1a472d=users[_0x518545(0x1c6)];else{if(_0x2bab8f[0x0][_0x518545(0x1c9)]=='Spanish')var _0x1a472d=users[_0x518545(0x196)];else{if(_0x2bab8f[0x0][_0x518545(0x1c9)]==_0x518545(0x1c0))var _0x1a472d=users['French'];else{if(_0x2bab8f[0x0][_0x518545(0x1c9)]=='Portuguese\x20(BR)')var _0x1a472d=users['Portuguese'];else{if(_0x2bab8f[0x0]['language']=='Chinese')var _0x1a472d=users[_0x518545(0x1af)];else{if(_0x2bab8f[0x0][_0x518545(0x1c9)]=='Arabic\x20(ae)')var _0x1a472d=users['Arabic'];}}}}}}}_0x34ea2b['status'](0xc8)[_0x518545(0x1b8)]({'product_data':_0x4fee79,'warehouse_data':_0x5710e2,'language':_0x1a472d});}catch(_0x3180f0){console[_0x518545(0x19c)](_0x3180f0);}}),router['post'](a0_0x23e8cd(0x1a7),async(_0x59c7ab,_0x3f60db)=>{var _0x31bdd4=a0_0x23e8cd;const {warehouseNew:_0x199e36,rooms:_0x130b24,Type:_0x14dfa9,process_cat:_0x478e3e,room_cat:_0x338c3d}=_0x59c7ab[_0x31bdd4(0x1aa)];let _0x28d5b0;console['log'](_0x59c7ab[_0x31bdd4(0x1aa)]);if(_0x478e3e=='raw')_0x28d5b0=await warehouse[_0x31bdd4(0x198)]([{'$match':{'name':_0x199e36,'room':_0x130b24,'warehouse_category':'Raw\x20Materials'}},{'$unwind':_0x31bdd4(0x1a1)},{'$match':{'product_details.type':_0x14dfa9,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x478e3e=='finish'?_0x130b24==_0x31bdd4(0x1c4)?_0x28d5b0=await warehouse['aggregate']([{'$match':{'name':_0x199e36,'warehouse_category':_0x31bdd4(0x1b0)}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x28d5b0=await warehouse[_0x31bdd4(0x198)]([{'$match':{'name':_0x199e36,'room':_0x130b24,'warehouse_category':_0x31bdd4(0x1b0)}},{'$unwind':_0x31bdd4(0x1a1)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x31bdd4(0x19c)](_0x31bdd4(0x19f)),Include=[{'$unwind':_0x31bdd4(0x1a1)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x28d5b0=await warehouse[_0x31bdd4(0x198)](Include));_0x3f60db[_0x31bdd4(0x1b8)](_0x28d5b0);}),router[a0_0x23e8cd(0x1d8)](a0_0x23e8cd(0x1b1),async(_0x348f92,_0x33bc97)=>{var _0x4714fe=a0_0x23e8cd;const {warehouseNew:_0x10affe,rooms:_0x568738,Type:_0x2f7b04,process_cat:_0xf7690f,room_cat:_0x5bdc57}=_0x348f92['body'],_0x2712bb=await product[_0x4714fe(0x1ba)]();_0x33bc97['json'](_0x2712bb);}),module[a0_0x23e8cd(0x1cc)]=router;function a0_0x40a3(_0x3d71e9,_0x5bf37d){var _0x2ab73b=a0_0x2ab7();return a0_0x40a3=function(_0x40a3fc,_0x44ebc5){_0x40a3fc=_0x40a3fc-0x192;var _0x1ccb62=_0x2ab73b[_0x40a3fc];return _0x1ccb62;},a0_0x40a3(_0x3d71e9,_0x5bf37d);}function a0_0x2ab7(){var _0x2f941f=['json','role_data','find','Router','$product_docs','/view/warehouse/:id','../middleware/auth','master','French','Arabic\x20(ae)','../public/language/languages.json','user','All','$product_details.product_name','German','$product_details.product_stock','product_details.bin_name','language','1470454omQdej','$product_docs.sku','exports','/view/product/:id','errors','products','email','Portuguese\x20(BR)','16042763IaCXqZ','61052YZGKtn','product_details.product_name','../models/all_models','params','Portuguese','post','name','product_docs','111','1725093Jehbpw','Spanish','5ilDEXw','aggregate','render','Arabic','express','log','/view','get','ssd','English','$product_details','flash','English\x20(US)','$product_docs.unit','product_data','8967zCjBbD','/Reports','3128228REMzJD','2406FuwTsQ','body','warehouse','stock_report','Hindi','36900516IyFfLj','Chinese','Finished\x20Goods','/Reports_product','8RSdzCl','$product_docs.category','111obRTxN','10EhuTeN','status','success'];a0_0x2ab7=function(){return _0x2f941f;};return a0_0x2ab7();}