var a0_0x1f2579=a0_0x11be;(function(_0x276f6c,_0x3e59b8){var _0xc4c375=a0_0x11be,_0x3f00fb=_0x276f6c();while(!![]){try{var _0x1ba638=parseInt(_0xc4c375(0xac))/0x1*(-parseInt(_0xc4c375(0x95))/0x2)+-parseInt(_0xc4c375(0x93))/0x3*(-parseInt(_0xc4c375(0xcf))/0x4)+-parseInt(_0xc4c375(0xaf))/0x5+parseInt(_0xc4c375(0x99))/0x6+-parseInt(_0xc4c375(0xc1))/0x7+parseInt(_0xc4c375(0xae))/0x8*(parseInt(_0xc4c375(0xcc))/0x9)+parseInt(_0xc4c375(0x97))/0xa*(parseInt(_0xc4c375(0x91))/0xb);if(_0x1ba638===_0x3e59b8)break;else _0x3f00fb['push'](_0x3f00fb['shift']());}catch(_0x243366){_0x3f00fb['push'](_0x3f00fb['shift']());}}}(a0_0x14ee,0x245a1));const express=require(a0_0x1f2579(0xa9)),app=express(),router=express[a0_0x1f2579(0xb1)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require('../models/all_models'),auth=require(a0_0x1f2579(0xb9)),users=require(a0_0x1f2579(0xca));function a0_0x11be(_0x33b59d,_0x3ce3bb){var _0x14ee37=a0_0x14ee();return a0_0x11be=function(_0x11be09,_0x5090dd){_0x11be09=_0x11be09-0x8e;var _0x4ca8d4=_0x14ee37[_0x11be09];return _0x4ca8d4;},a0_0x11be(_0x33b59d,_0x3ce3bb);}router['get']('/view',auth,async(_0x387f52,_0x5ccdcc)=>{var _0x10fbfb=a0_0x1f2579;try{const _0x4aaf52=_0x387f52[_0x10fbfb(0xab)];console['log']('role_data',_0x387f52[_0x10fbfb(0xab)]);const _0x1eb630=await profile[_0x10fbfb(0x9c)]({'email':_0x4aaf52[_0x10fbfb(0xa3)]}),_0x3d76ac=await master_shop[_0x10fbfb(0xb6)]();console[_0x10fbfb(0xa1)](_0x10fbfb(0xcb),_0x3d76ac);const _0x29f3fa=await warehouse[_0x10fbfb(0xb6)]({}),_0x13ea76=await product[_0x10fbfb(0xb6)]({});if(_0x3d76ac[0x0][_0x10fbfb(0xbb)]==_0x10fbfb(0x9b)){var _0x6393c8=users[_0x10fbfb(0xce)];console['log'](_0x6393c8);}else{if(_0x3d76ac[0x0][_0x10fbfb(0xbb)]==_0x10fbfb(0xc0))var _0x6393c8=users['Hindi'];else{if(_0x3d76ac[0x0][_0x10fbfb(0xbb)]==_0x10fbfb(0x9a))var _0x6393c8=users[_0x10fbfb(0x9a)];else{if(_0x3d76ac[0x0][_0x10fbfb(0xbb)]==_0x10fbfb(0x9f))var _0x6393c8=users[_0x10fbfb(0x9f)];else{if(_0x3d76ac[0x0][_0x10fbfb(0xbb)]=='French')var _0x6393c8=users['French'];else{if(_0x3d76ac[0x0][_0x10fbfb(0xbb)]=='Portuguese\x20(BR)')var _0x6393c8=users['Portuguese'];else{if(_0x3d76ac[0x0][_0x10fbfb(0xbb)]==_0x10fbfb(0xad))var _0x6393c8=users['Chinese'];else{if(_0x3d76ac[0x0][_0x10fbfb(0xbb)]==_0x10fbfb(0xb4))var _0x6393c8=users[_0x10fbfb(0xba)];}}}}}}}_0x5ccdcc['render'](_0x10fbfb(0xa4),{'success':_0x387f52[_0x10fbfb(0xb7)](_0x10fbfb(0x96)),'errors':_0x387f52['flash']('errors'),'role':_0x4aaf52,'profile':_0x1eb630,'master_shop':_0x3d76ac,'warehouse':_0x29f3fa,'product':_0x13ea76,'warehouse_doc':[],'product_doc':[],'language':_0x6393c8});}catch(_0x5e2111){console['log'](_0x5e2111);}}),router['get'](a0_0x1f2579(0xcd),auth,async(_0x386ab5,_0x514a60)=>{var _0x44f3c7=a0_0x1f2579;try{const _0x5819a6=await master_shop['find']();console[_0x44f3c7(0xa1)](_0x44f3c7(0xcb),_0x5819a6);if(_0x386ab5[_0x44f3c7(0xb2)]['id']=='warehouse'){const _0x1b585a=await warehouse[_0x44f3c7(0xb6)]();console[_0x44f3c7(0xa1)](_0x1b585a);if(_0x5819a6[0x0][_0x44f3c7(0xbb)]=='English\x20(US)'){var _0x20fe7a=users['English'];console[_0x44f3c7(0xa1)](_0x20fe7a);}else{if(_0x5819a6[0x0][_0x44f3c7(0xbb)]=='Hindi')var _0x20fe7a=users[_0x44f3c7(0xc0)];else{if(_0x5819a6[0x0][_0x44f3c7(0xbb)]==_0x44f3c7(0x9a))var _0x20fe7a=users[_0x44f3c7(0x9a)];else{if(_0x5819a6[0x0][_0x44f3c7(0xbb)]==_0x44f3c7(0x9f))var _0x20fe7a=users[_0x44f3c7(0x9f)];else{if(_0x5819a6[0x0][_0x44f3c7(0xbb)]==_0x44f3c7(0xbe))var _0x20fe7a=users[_0x44f3c7(0xbe)];else{if(_0x5819a6[0x0][_0x44f3c7(0xbb)]==_0x44f3c7(0xc6))var _0x20fe7a=users['Portuguese'];else{if(_0x5819a6[0x0][_0x44f3c7(0xbb)]==_0x44f3c7(0xad))var _0x20fe7a=users['Chinese'];else{if(_0x5819a6[0x0]['language']==_0x44f3c7(0xb4))var _0x20fe7a=users[_0x44f3c7(0xba)];}}}}}}}_0x514a60['status'](0xc8)[_0x44f3c7(0xb0)]({'data':_0x1b585a,'language':_0x20fe7a[_0x44f3c7(0xa2)]});}else{const _0x53f9e8=await product['find']();console['log'](_0x44f3c7(0x90),_0x53f9e8);if(_0x5819a6[0x0]['language']==_0x44f3c7(0x9b)){var _0x20fe7a=users[_0x44f3c7(0xce)];console[_0x44f3c7(0xa1)](_0x20fe7a);}else{if(_0x5819a6[0x0][_0x44f3c7(0xbb)]==_0x44f3c7(0xc0))var _0x20fe7a=users[_0x44f3c7(0xc0)];else{if(_0x5819a6[0x0][_0x44f3c7(0xbb)]=='German')var _0x20fe7a=users[_0x44f3c7(0x9a)];else{if(_0x5819a6[0x0][_0x44f3c7(0xbb)]==_0x44f3c7(0x9f))var _0x20fe7a=users['Spanish'];else{if(_0x5819a6[0x0]['language']=='French')var _0x20fe7a=users[_0x44f3c7(0xbe)];else{if(_0x5819a6[0x0]['language']=='Portuguese\x20(BR)')var _0x20fe7a=users[_0x44f3c7(0x98)];else{if(_0x5819a6[0x0][_0x44f3c7(0xbb)]==_0x44f3c7(0xad))var _0x20fe7a=users[_0x44f3c7(0xad)];else{if(_0x5819a6[0x0][_0x44f3c7(0xbb)]=='Arabic\x20(ae)')var _0x20fe7a=users['Arabic'];}}}}}}}_0x514a60['status'](0xc8)[_0x44f3c7(0xb0)]({'data':_0x53f9e8,'language':_0x20fe7a[_0x44f3c7(0xa5)]});}}catch(_0x2f5dfa){console[_0x44f3c7(0xa1)](_0x2f5dfa);}}),router[a0_0x1f2579(0xc2)](a0_0x1f2579(0xaa),auth,async(_0x491f33,_0x33c8a7)=>{var _0x1debbe=a0_0x1f2579;try{const _0x2512d2=_0x491f33[_0x1debbe(0xb2)]['id'];console[_0x1debbe(0xa1)](_0x2512d2);const _0x3210c3=await master_shop[_0x1debbe(0xb6)]();console[_0x1debbe(0xa1)](_0x1debbe(0xcb),_0x3210c3);const _0x5679b4=await warehouse[_0x1debbe(0x8f)]([{'$match':{'name':_0x2512d2}},{'$unwind':_0x1debbe(0x8e)},{'$lookup':{'from':'products','localField':'product_details.product_name','foreignField':_0x1debbe(0xa0),'as':_0x1debbe(0xa7)}},{'$unwind':'$product_docs'},{'$project':{'name':0x1,'product_name':_0x1debbe(0xa6),'product_stock':_0x1debbe(0xa8),'category':_0x1debbe(0x9d),'brand':_0x1debbe(0xc8),'sku':'$product_docs.sku','unit':_0x1debbe(0xc3),'rak':_0x1debbe(0x9e),'bin':_0x1debbe(0xc9)}}]);console[_0x1debbe(0xa1)](_0x5679b4);if(_0x3210c3[0x0][_0x1debbe(0xbb)]=='English\x20(US)'){var _0x495ed6=users[_0x1debbe(0xce)];console[_0x1debbe(0xa1)](_0x495ed6);}else{if(_0x3210c3[0x0][_0x1debbe(0xbb)]==_0x1debbe(0xc0))var _0x495ed6=users[_0x1debbe(0xc0)];else{if(_0x3210c3[0x0]['language']=='German')var _0x495ed6=users[_0x1debbe(0x9a)];else{if(_0x3210c3[0x0][_0x1debbe(0xbb)]=='Spanish')var _0x495ed6=users[_0x1debbe(0x9f)];else{if(_0x3210c3[0x0][_0x1debbe(0xbb)]==_0x1debbe(0xbe))var _0x495ed6=users[_0x1debbe(0xbe)];else{if(_0x3210c3[0x0][_0x1debbe(0xbb)]==_0x1debbe(0xc6))var _0x495ed6=users[_0x1debbe(0x98)];else{if(_0x3210c3[0x0]['language']==_0x1debbe(0xad))var _0x495ed6=users[_0x1debbe(0xad)];else{if(_0x3210c3[0x0][_0x1debbe(0xbb)]==_0x1debbe(0xb4))var _0x495ed6=users[_0x1debbe(0xba)];}}}}}}}_0x33c8a7[_0x1debbe(0xbf)](0xc8)[_0x1debbe(0xb0)]({'data':_0x5679b4,'language':_0x495ed6});}catch(_0x2a407d){console[_0x1debbe(0xa1)](_0x2a407d);}}),router[a0_0x1f2579(0xc2)](a0_0x1f2579(0x92),auth,async(_0x41ab9f,_0x626745)=>{var _0x1788c5=a0_0x1f2579;try{const _0x4394bd=_0x41ab9f[_0x1788c5(0xb2)]['id'];console[_0x1788c5(0xa1)](_0x4394bd);const _0x2c19ee=await master_shop['find']();console[_0x1788c5(0xa1)](_0x1788c5(0xcb),_0x2c19ee);const _0x1b4dd7=await product[_0x1788c5(0x9c)]({'name':_0x4394bd});console[_0x1788c5(0xa1)](_0x1788c5(0xc7),_0x1b4dd7);const _0x5332b8=await warehouse[_0x1788c5(0x8f)]([{'$unwind':_0x1788c5(0x8e)},{'$match':{'product_details.product_name':_0x4394bd}},{'$project':{'name':0x1,'product_name':_0x1788c5(0xa6),'product_stock':_0x1788c5(0xa8)}}]);console[_0x1788c5(0xa1)](_0x1788c5(0xc5),_0x5332b8);if(_0x2c19ee[0x0][_0x1788c5(0xbb)]==_0x1788c5(0x9b)){var _0x37e55e=users[_0x1788c5(0xce)];console[_0x1788c5(0xa1)](_0x37e55e);}else{if(_0x2c19ee[0x0][_0x1788c5(0xbb)]==_0x1788c5(0xc0))var _0x37e55e=users[_0x1788c5(0xc0)];else{if(_0x2c19ee[0x0][_0x1788c5(0xbb)]==_0x1788c5(0x9a))var _0x37e55e=users['German'];else{if(_0x2c19ee[0x0][_0x1788c5(0xbb)]==_0x1788c5(0x9f))var _0x37e55e=users[_0x1788c5(0x9f)];else{if(_0x2c19ee[0x0]['language']==_0x1788c5(0xbe))var _0x37e55e=users[_0x1788c5(0xbe)];else{if(_0x2c19ee[0x0][_0x1788c5(0xbb)]==_0x1788c5(0xc6))var _0x37e55e=users[_0x1788c5(0x98)];else{if(_0x2c19ee[0x0][_0x1788c5(0xbb)]=='Chinese')var _0x37e55e=users['Chinese'];else{if(_0x2c19ee[0x0][_0x1788c5(0xbb)]==_0x1788c5(0xb4))var _0x37e55e=users[_0x1788c5(0xba)];}}}}}}}_0x626745[_0x1788c5(0xbf)](0xc8)['json']({'product_data':_0x1b4dd7,'warehouse_data':_0x5332b8,'language':_0x37e55e});}catch(_0x27999a){console[_0x1788c5(0xa1)](_0x27999a);}}),router[a0_0x1f2579(0xb3)]('/Reports',async(_0x118935,_0x5aeeab)=>{var _0x29cb86=a0_0x1f2579;const {warehouseNew:_0xe9f19c,rooms:_0x48c346,Type:_0x480f0e,process_cat:_0x26bb47,room_cat:_0x3a6820}=_0x118935[_0x29cb86(0xb8)];let _0x193439;console['log'](_0x118935[_0x29cb86(0xb8)]);if(_0x26bb47==_0x29cb86(0x94))_0x193439=await warehouse[_0x29cb86(0x8f)]([{'$match':{'name':_0xe9f19c,'room':_0x48c346,'warehouse_category':_0x29cb86(0xbc)}},{'$unwind':_0x29cb86(0x8e)},{'$match':{'product_details.type':_0x480f0e,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x26bb47==_0x29cb86(0xb5)?_0x48c346=='All'?_0x193439=await warehouse[_0x29cb86(0x8f)]([{'$match':{'name':_0xe9f19c,'warehouse_category':_0x29cb86(0xbd)}},{'$unwind':_0x29cb86(0x8e)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x193439=await warehouse[_0x29cb86(0x8f)]([{'$match':{'name':_0xe9f19c,'room':_0x48c346,'warehouse_category':_0x29cb86(0xbd)}},{'$unwind':_0x29cb86(0x8e)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x29cb86(0xa1)](_0x29cb86(0xc4)),Include=[{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x193439=await warehouse['aggregate'](Include));_0x5aeeab[_0x29cb86(0xb0)](_0x193439);}),router[a0_0x1f2579(0xb3)]('/Reports_product',async(_0xdd44de,_0x48db2b)=>{var _0x4a161e=a0_0x1f2579;const {warehouseNew:_0x375ba2,rooms:_0x25cdf0,Type:_0x5de63b,process_cat:_0x2a51cf,room_cat:_0x1c065}=_0xdd44de[_0x4a161e(0xb8)],_0x35a2de=await product[_0x4a161e(0xb6)]();_0x48db2b[_0x4a161e(0xb0)](_0x35a2de);}),module['exports']=router;function a0_0x14ee(){var _0x12064c=['product_docs','$product_details.product_stock','express','/view/warehouse/:id','user','41RxXCtw','Chinese','8SYXTyG','211485eVVcyf','json','Router','params','post','Arabic\x20(ae)','finish','find','flash','body','../middleware/auth','Arabic','language','Raw\x20Materials','Finished\x20Goods','French','status','Hindi','1785553YFzwKZ','get','$product_docs.unit','ssd','warehouse_data','Portuguese\x20(BR)','product_data','$product_docs.brand','product_details.bin_name','../public/language/languages.json','master','261441TCFpus','/view/:id','English','28lEuPNj','$product_details','aggregate','111','2244aYEkBx','/view/product/:id','3702AUhsUK','raw','11538LHbbrW','success','20870SxPTQa','Portuguese','1316202gkvvqV','German','English\x20(US)','findOne','$product_docs.category','product_details.rak_name','Spanish','name','log','warehouse','email','stock_report','products','$product_details.product_name'];a0_0x14ee=function(){return _0x12064c;};return a0_0x14ee();}