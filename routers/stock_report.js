var a0_0x6b23cc=a0_0x2066;function a0_0x2066(_0x3e54b8,_0x1990d2){var _0x3ff0f5=a0_0x3ff0();return a0_0x2066=function(_0x2066cc,_0x13e172){_0x2066cc=_0x2066cc-0x12b;var _0x5a304e=_0x3ff0f5[_0x2066cc];return _0x5a304e;},a0_0x2066(_0x3e54b8,_0x1990d2);}(function(_0x22392f,_0x128ddc){var _0x531e06=a0_0x2066,_0x31f218=_0x22392f();while(!![]){try{var _0x47246c=-parseInt(_0x531e06(0x142))/0x1+-parseInt(_0x531e06(0x16a))/0x2*(-parseInt(_0x531e06(0x165))/0x3)+-parseInt(_0x531e06(0x13c))/0x4+parseInt(_0x531e06(0x148))/0x5*(parseInt(_0x531e06(0x155))/0x6)+parseInt(_0x531e06(0x151))/0x7+-parseInt(_0x531e06(0x131))/0x8*(parseInt(_0x531e06(0x139))/0x9)+-parseInt(_0x531e06(0x12f))/0xa*(-parseInt(_0x531e06(0x14a))/0xb);if(_0x47246c===_0x128ddc)break;else _0x31f218['push'](_0x31f218['shift']());}catch(_0x71870a){_0x31f218['push'](_0x31f218['shift']());}}}(a0_0x3ff0,0x765fe));const express=require(a0_0x6b23cc(0x133)),app=express(),router=express[a0_0x6b23cc(0x134)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x6b23cc(0x167)),auth=require(a0_0x6b23cc(0x12b)),users=require(a0_0x6b23cc(0x145));function a0_0x3ff0(){var _0x65aa9e=['$product_details','params','product_details.bin_name','Spanish','body','language','products','/view','get','English','Arabic\x20(ae)','$product_details.product_name','Portuguese\x20(BR)','All','39OsxjTN','Hindi','../models/all_models','ssd','Arabic','66698wawhgO','$product_docs.category','aggregate','post','log','French','../middleware/auth','exports','English\x20(US)','product_data','470OGbOuN','finish','8984alviag','Finished\x20Goods','express','Router','Chinese','German','111','$product_details.product_stock','2979nxGPKS','json','errors','1505020wqRtUs','warehouse','$product_docs.sku','status','product_details.rak_name','raw','931383KPIDCA','findOne','Portuguese','../public/language/languages.json','master','$product_docs.brand','4105jUqlSn','warehouse_data','103202Ootnos','flash','user','product_docs','name','find','Raw\x20Materials','6723507qKAzGi','role_data','/view/warehouse/:id','success','2406vNKZRl','/view/:id'];a0_0x3ff0=function(){return _0x65aa9e;};return a0_0x3ff0();}router[a0_0x6b23cc(0x15f)](a0_0x6b23cc(0x15e),auth,async(_0x10c26a,_0x219a82)=>{var _0x4454d8=a0_0x6b23cc;try{const _0x4f3a57=_0x10c26a[_0x4454d8(0x14c)];console['log'](_0x4454d8(0x152),_0x10c26a[_0x4454d8(0x14c)]);const _0x100ddf=await profile[_0x4454d8(0x143)]({'email':_0x4f3a57['email']}),_0x245e49=await master_shop[_0x4454d8(0x14f)]();console[_0x4454d8(0x16e)](_0x4454d8(0x146),_0x245e49);const _0x4f112f=await warehouse['find']({}),_0x451dfb=await product[_0x4454d8(0x14f)]({});if(_0x245e49[0x0]['language']==_0x4454d8(0x12d)){var _0x3d2e00=users[_0x4454d8(0x160)];console[_0x4454d8(0x16e)](_0x3d2e00);}else{if(_0x245e49[0x0][_0x4454d8(0x15c)]==_0x4454d8(0x166))var _0x3d2e00=users[_0x4454d8(0x166)];else{if(_0x245e49[0x0][_0x4454d8(0x15c)]=='German')var _0x3d2e00=users[_0x4454d8(0x136)];else{if(_0x245e49[0x0][_0x4454d8(0x15c)]==_0x4454d8(0x15a))var _0x3d2e00=users[_0x4454d8(0x15a)];else{if(_0x245e49[0x0]['language']==_0x4454d8(0x16f))var _0x3d2e00=users[_0x4454d8(0x16f)];else{if(_0x245e49[0x0][_0x4454d8(0x15c)]=='Portuguese\x20(BR)')var _0x3d2e00=users[_0x4454d8(0x144)];else{if(_0x245e49[0x0][_0x4454d8(0x15c)]=='Chinese')var _0x3d2e00=users[_0x4454d8(0x135)];else{if(_0x245e49[0x0][_0x4454d8(0x15c)]=='Arabic\x20(ae)')var _0x3d2e00=users[_0x4454d8(0x169)];}}}}}}}_0x219a82['render']('stock_report',{'success':_0x10c26a[_0x4454d8(0x14b)](_0x4454d8(0x154)),'errors':_0x10c26a['flash'](_0x4454d8(0x13b)),'role':_0x4f3a57,'profile':_0x100ddf,'master_shop':_0x245e49,'warehouse':_0x4f112f,'product':_0x451dfb,'warehouse_doc':[],'product_doc':[],'language':_0x3d2e00});}catch(_0x5ad768){console[_0x4454d8(0x16e)](_0x5ad768);}}),router[a0_0x6b23cc(0x15f)](a0_0x6b23cc(0x156),auth,async(_0x555c33,_0x1490e3)=>{var _0x540aa8=a0_0x6b23cc;try{const _0x670719=await master_shop[_0x540aa8(0x14f)]();console[_0x540aa8(0x16e)](_0x540aa8(0x146),_0x670719);if(_0x555c33[_0x540aa8(0x158)]['id']==_0x540aa8(0x13d)){const _0x1797fe=await warehouse[_0x540aa8(0x14f)]();console['log'](_0x1797fe);if(_0x670719[0x0][_0x540aa8(0x15c)]=='English\x20(US)'){var _0x2f5852=users[_0x540aa8(0x160)];console[_0x540aa8(0x16e)](_0x2f5852);}else{if(_0x670719[0x0]['language']==_0x540aa8(0x166))var _0x2f5852=users[_0x540aa8(0x166)];else{if(_0x670719[0x0][_0x540aa8(0x15c)]==_0x540aa8(0x136))var _0x2f5852=users[_0x540aa8(0x136)];else{if(_0x670719[0x0][_0x540aa8(0x15c)]=='Spanish')var _0x2f5852=users['Spanish'];else{if(_0x670719[0x0][_0x540aa8(0x15c)]==_0x540aa8(0x16f))var _0x2f5852=users[_0x540aa8(0x16f)];else{if(_0x670719[0x0]['language']==_0x540aa8(0x163))var _0x2f5852=users[_0x540aa8(0x144)];else{if(_0x670719[0x0][_0x540aa8(0x15c)]==_0x540aa8(0x135))var _0x2f5852=users['Chinese'];else{if(_0x670719[0x0][_0x540aa8(0x15c)]==_0x540aa8(0x161))var _0x2f5852=users[_0x540aa8(0x169)];}}}}}}}_0x1490e3[_0x540aa8(0x13f)](0xc8)[_0x540aa8(0x13a)]({'data':_0x1797fe,'language':_0x2f5852['warehouse']});}else{const _0x27ec5b=await product[_0x540aa8(0x14f)]();console[_0x540aa8(0x16e)](_0x540aa8(0x137),_0x27ec5b);if(_0x670719[0x0]['language']=='English\x20(US)'){var _0x2f5852=users[_0x540aa8(0x160)];console['log'](_0x2f5852);}else{if(_0x670719[0x0][_0x540aa8(0x15c)]==_0x540aa8(0x166))var _0x2f5852=users[_0x540aa8(0x166)];else{if(_0x670719[0x0]['language']=='German')var _0x2f5852=users[_0x540aa8(0x136)];else{if(_0x670719[0x0][_0x540aa8(0x15c)]==_0x540aa8(0x15a))var _0x2f5852=users[_0x540aa8(0x15a)];else{if(_0x670719[0x0]['language']==_0x540aa8(0x16f))var _0x2f5852=users[_0x540aa8(0x16f)];else{if(_0x670719[0x0][_0x540aa8(0x15c)]==_0x540aa8(0x163))var _0x2f5852=users[_0x540aa8(0x144)];else{if(_0x670719[0x0][_0x540aa8(0x15c)]=='Chinese')var _0x2f5852=users[_0x540aa8(0x135)];else{if(_0x670719[0x0][_0x540aa8(0x15c)]==_0x540aa8(0x161))var _0x2f5852=users[_0x540aa8(0x169)];}}}}}}}_0x1490e3[_0x540aa8(0x13f)](0xc8)[_0x540aa8(0x13a)]({'data':_0x27ec5b,'language':_0x2f5852[_0x540aa8(0x15d)]});}}catch(_0x22a881){console['log'](_0x22a881);}}),router[a0_0x6b23cc(0x15f)](a0_0x6b23cc(0x153),auth,async(_0x40ec47,_0x36e44b)=>{var _0x573374=a0_0x6b23cc;try{const _0x20fc30=_0x40ec47[_0x573374(0x158)]['id'];console[_0x573374(0x16e)](_0x20fc30);const _0x147352=await master_shop[_0x573374(0x14f)]();console['log'](_0x573374(0x146),_0x147352);const _0x58fa5c=await warehouse[_0x573374(0x16c)]([{'$match':{'name':_0x20fc30}},{'$unwind':_0x573374(0x157)},{'$lookup':{'from':_0x573374(0x15d),'localField':'product_details.product_name','foreignField':_0x573374(0x14e),'as':_0x573374(0x14d)}},{'$unwind':'$product_docs'},{'$project':{'name':0x1,'product_name':_0x573374(0x162),'product_stock':_0x573374(0x138),'category':_0x573374(0x16b),'brand':_0x573374(0x147),'sku':_0x573374(0x13e),'unit':'$product_docs.unit','rak':_0x573374(0x140),'bin':_0x573374(0x159)}}]);console['log'](_0x58fa5c);if(_0x147352[0x0][_0x573374(0x15c)]==_0x573374(0x12d)){var _0x26790c=users['English'];console['log'](_0x26790c);}else{if(_0x147352[0x0][_0x573374(0x15c)]==_0x573374(0x166))var _0x26790c=users[_0x573374(0x166)];else{if(_0x147352[0x0][_0x573374(0x15c)]==_0x573374(0x136))var _0x26790c=users['German'];else{if(_0x147352[0x0][_0x573374(0x15c)]==_0x573374(0x15a))var _0x26790c=users[_0x573374(0x15a)];else{if(_0x147352[0x0][_0x573374(0x15c)]=='French')var _0x26790c=users[_0x573374(0x16f)];else{if(_0x147352[0x0]['language']==_0x573374(0x163))var _0x26790c=users[_0x573374(0x144)];else{if(_0x147352[0x0][_0x573374(0x15c)]=='Chinese')var _0x26790c=users[_0x573374(0x135)];else{if(_0x147352[0x0][_0x573374(0x15c)]==_0x573374(0x161))var _0x26790c=users[_0x573374(0x169)];}}}}}}}_0x36e44b['status'](0xc8)[_0x573374(0x13a)]({'data':_0x58fa5c,'language':_0x26790c});}catch(_0x30655){console[_0x573374(0x16e)](_0x30655);}}),router[a0_0x6b23cc(0x15f)]('/view/product/:id',auth,async(_0x3b1c0b,_0x2b1bf0)=>{var _0x2375be=a0_0x6b23cc;try{const _0xd53b85=_0x3b1c0b[_0x2375be(0x158)]['id'];console[_0x2375be(0x16e)](_0xd53b85);const _0x5815d2=await master_shop[_0x2375be(0x14f)]();console[_0x2375be(0x16e)]('master',_0x5815d2);const _0x24b586=await product[_0x2375be(0x143)]({'name':_0xd53b85});console[_0x2375be(0x16e)](_0x2375be(0x12e),_0x24b586);const _0xa6c7d0=await warehouse[_0x2375be(0x16c)]([{'$unwind':_0x2375be(0x157)},{'$match':{'product_details.product_name':_0xd53b85}},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x2375be(0x138)}}]);console[_0x2375be(0x16e)](_0x2375be(0x149),_0xa6c7d0);if(_0x5815d2[0x0]['language']==_0x2375be(0x12d)){var _0x52112d=users['English'];console['log'](_0x52112d);}else{if(_0x5815d2[0x0][_0x2375be(0x15c)]=='Hindi')var _0x52112d=users['Hindi'];else{if(_0x5815d2[0x0][_0x2375be(0x15c)]==_0x2375be(0x136))var _0x52112d=users[_0x2375be(0x136)];else{if(_0x5815d2[0x0][_0x2375be(0x15c)]==_0x2375be(0x15a))var _0x52112d=users[_0x2375be(0x15a)];else{if(_0x5815d2[0x0]['language']==_0x2375be(0x16f))var _0x52112d=users[_0x2375be(0x16f)];else{if(_0x5815d2[0x0][_0x2375be(0x15c)]=='Portuguese\x20(BR)')var _0x52112d=users[_0x2375be(0x144)];else{if(_0x5815d2[0x0][_0x2375be(0x15c)]==_0x2375be(0x135))var _0x52112d=users[_0x2375be(0x135)];else{if(_0x5815d2[0x0][_0x2375be(0x15c)]==_0x2375be(0x161))var _0x52112d=users['Arabic'];}}}}}}}_0x2b1bf0['status'](0xc8)[_0x2375be(0x13a)]({'product_data':_0x24b586,'warehouse_data':_0xa6c7d0,'language':_0x52112d});}catch(_0xe6170a){console['log'](_0xe6170a);}}),router[a0_0x6b23cc(0x16d)]('/Reports',async(_0x4a417f,_0x5c4dae)=>{var _0x370d90=a0_0x6b23cc;const {warehouseNew:_0x24ebdb,rooms:_0x46344a,Type:_0xcc3021,process_cat:_0x2a2150,room_cat:_0x124c4b}=_0x4a417f['body'];let _0x23a8e2;console[_0x370d90(0x16e)](_0x4a417f[_0x370d90(0x15b)]);if(_0x2a2150==_0x370d90(0x141))_0x23a8e2=await warehouse[_0x370d90(0x16c)]([{'$match':{'name':_0x24ebdb,'room':_0x46344a,'warehouse_category':_0x370d90(0x150)}},{'$unwind':_0x370d90(0x157)},{'$match':{'product_details.type':_0xcc3021,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x2a2150==_0x370d90(0x130)?_0x46344a==_0x370d90(0x164)?_0x23a8e2=await warehouse[_0x370d90(0x16c)]([{'$match':{'name':_0x24ebdb,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0x370d90(0x157)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x23a8e2=await warehouse['aggregate']([{'$match':{'name':_0x24ebdb,'room':_0x46344a,'warehouse_category':_0x370d90(0x132)}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x370d90(0x16e)](_0x370d90(0x168)),Include=[{'$unwind':_0x370d90(0x157)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x23a8e2=await warehouse[_0x370d90(0x16c)](Include));_0x5c4dae[_0x370d90(0x13a)](_0x23a8e2);}),router[a0_0x6b23cc(0x16d)]('/Reports_product',async(_0x3925ae,_0x4f1a5b)=>{var _0x5a8364=a0_0x6b23cc;const {warehouseNew:_0x2374a5,rooms:_0x28441e,Type:_0x5b1d4d,process_cat:_0x5db084,room_cat:_0x48356b}=_0x3925ae[_0x5a8364(0x15b)],_0x56dbc1=await product['find']();_0x4f1a5b[_0x5a8364(0x13a)](_0x56dbc1);}),module[a0_0x6b23cc(0x12c)]=router;