var a0_0x4f0343=a0_0x5f57;(function(_0x3945c2,_0x23f3da){var _0x253da0=a0_0x5f57,_0x403dd8=_0x3945c2();while(!![]){try{var _0x429722=parseInt(_0x253da0(0x21b))/0x1+parseInt(_0x253da0(0x21f))/0x2*(parseInt(_0x253da0(0x224))/0x3)+-parseInt(_0x253da0(0x1fa))/0x4+parseInt(_0x253da0(0x220))/0x5*(-parseInt(_0x253da0(0x22f))/0x6)+-parseInt(_0x253da0(0x208))/0x7*(-parseInt(_0x253da0(0x239))/0x8)+-parseInt(_0x253da0(0x1f7))/0x9*(-parseInt(_0x253da0(0x238))/0xa)+parseInt(_0x253da0(0x226))/0xb*(-parseInt(_0x253da0(0x1fc))/0xc);if(_0x429722===_0x23f3da)break;else _0x403dd8['push'](_0x403dd8['shift']());}catch(_0x415222){_0x403dd8['push'](_0x403dd8['shift']());}}}(a0_0x27fc,0x5e4a2));function a0_0x27fc(){var _0x48aa5a=['/view/product/:id','English','11673xaFDKg','render','$product_docs.category','599940wJbwIW','$product_docs.brand','84lyjkJy','flash','json','success','/Reports','raw','Portuguese\x20(BR)','Arabic\x20(ae)','Router','find','German','body','1596eSUiPH','../middleware/auth','errors','French','warehouse_data','../models/all_models','post','role_data','Arabic','ssd','Chinese','$product_details.product_name','stock_report','Raw\x20Materials','All','/view/:id','Portuguese','../public/language/languages.json','$product_docs.sku','71052VmVMWB','warehouse','finish','name','15082OIqtxj','6055LsEYaF','language','aggregate','English\x20(US)','219bCttdI','Finished\x20Goods','110077aeSaZX','product_details.bin_name','product_data','status','111','$product_details.product_stock','params','master','user','2484VEtdSJ','get','/view/warehouse/:id','$product_docs','Hindi','product_docs','products','$product_docs.unit','log','1130yBVOZZ','11912PpObNl','Spanish','findOne','product_details.product_name','exports','$product_details'];a0_0x27fc=function(){return _0x48aa5a;};return a0_0x27fc();}const express=require('express'),app=express(),router=express[a0_0x4f0343(0x204)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x4f0343(0x20d)),auth=require(a0_0x4f0343(0x209)),users=require(a0_0x4f0343(0x219));function a0_0x5f57(_0x457567,_0x6c4189){var _0x27fc51=a0_0x27fc();return a0_0x5f57=function(_0x5f57eb,_0x5e7736){_0x5f57eb=_0x5f57eb-0x1f2;var _0x11964e=_0x27fc51[_0x5f57eb];return _0x11964e;},a0_0x5f57(_0x457567,_0x6c4189);}router[a0_0x4f0343(0x230)]('/view',auth,async(_0x4a50f9,_0x3f0375)=>{var _0x300058=a0_0x4f0343;try{const _0x40818b=_0x4a50f9['user'];console[_0x300058(0x237)](_0x300058(0x20f),_0x4a50f9[_0x300058(0x22e)]);const _0x4d7425=await profile[_0x300058(0x23b)]({'email':_0x40818b['email']}),_0x364123=await master_shop['find']();console['log'](_0x300058(0x22d),_0x364123);const _0x4d8edf=await warehouse[_0x300058(0x205)]({}),_0x498b6b=await product[_0x300058(0x205)]({});if(_0x364123[0x0][_0x300058(0x221)]==_0x300058(0x223)){var _0x1be47e=users['English'];console[_0x300058(0x237)](_0x1be47e);}else{if(_0x364123[0x0][_0x300058(0x221)]==_0x300058(0x233))var _0x1be47e=users['Hindi'];else{if(_0x364123[0x0]['language']==_0x300058(0x206))var _0x1be47e=users[_0x300058(0x206)];else{if(_0x364123[0x0][_0x300058(0x221)]==_0x300058(0x23a))var _0x1be47e=users[_0x300058(0x23a)];else{if(_0x364123[0x0]['language']==_0x300058(0x20b))var _0x1be47e=users['French'];else{if(_0x364123[0x0][_0x300058(0x221)]==_0x300058(0x202))var _0x1be47e=users['Portuguese'];else{if(_0x364123[0x0][_0x300058(0x221)]=='Chinese')var _0x1be47e=users[_0x300058(0x212)];else{if(_0x364123[0x0]['language']=='Arabic\x20(ae)')var _0x1be47e=users[_0x300058(0x210)];}}}}}}}_0x3f0375[_0x300058(0x1f8)](_0x300058(0x214),{'success':_0x4a50f9[_0x300058(0x1fd)](_0x300058(0x1ff)),'errors':_0x4a50f9[_0x300058(0x1fd)](_0x300058(0x20a)),'role':_0x40818b,'profile':_0x4d7425,'master_shop':_0x364123,'warehouse':_0x4d8edf,'product':_0x498b6b,'warehouse_doc':[],'product_doc':[],'language':_0x1be47e});}catch(_0xb6bb91){console[_0x300058(0x237)](_0xb6bb91);}}),router[a0_0x4f0343(0x230)](a0_0x4f0343(0x217),auth,async(_0x39e42e,_0x252b4c)=>{var _0x30d6a3=a0_0x4f0343;try{const _0x4a19ca=await master_shop[_0x30d6a3(0x205)]();console['log'](_0x30d6a3(0x22d),_0x4a19ca);if(_0x39e42e[_0x30d6a3(0x22c)]['id']==_0x30d6a3(0x21c)){const _0x59ea54=await warehouse[_0x30d6a3(0x205)]();console[_0x30d6a3(0x237)](_0x59ea54);if(_0x4a19ca[0x0][_0x30d6a3(0x221)]==_0x30d6a3(0x223)){var _0x5050a1=users[_0x30d6a3(0x1f6)];console[_0x30d6a3(0x237)](_0x5050a1);}else{if(_0x4a19ca[0x0][_0x30d6a3(0x221)]==_0x30d6a3(0x233))var _0x5050a1=users[_0x30d6a3(0x233)];else{if(_0x4a19ca[0x0][_0x30d6a3(0x221)]=='German')var _0x5050a1=users['German'];else{if(_0x4a19ca[0x0][_0x30d6a3(0x221)]==_0x30d6a3(0x23a))var _0x5050a1=users['Spanish'];else{if(_0x4a19ca[0x0][_0x30d6a3(0x221)]==_0x30d6a3(0x20b))var _0x5050a1=users[_0x30d6a3(0x20b)];else{if(_0x4a19ca[0x0][_0x30d6a3(0x221)]=='Portuguese\x20(BR)')var _0x5050a1=users[_0x30d6a3(0x218)];else{if(_0x4a19ca[0x0]['language']=='Chinese')var _0x5050a1=users['Chinese'];else{if(_0x4a19ca[0x0]['language']==_0x30d6a3(0x203))var _0x5050a1=users['Arabic'];}}}}}}}_0x252b4c[_0x30d6a3(0x229)](0xc8)[_0x30d6a3(0x1fe)]({'data':_0x59ea54,'language':_0x5050a1[_0x30d6a3(0x21c)]});}else{const _0x4faab1=await product['find']();console[_0x30d6a3(0x237)](_0x30d6a3(0x22a),_0x4faab1);if(_0x4a19ca[0x0][_0x30d6a3(0x221)]==_0x30d6a3(0x223)){var _0x5050a1=users[_0x30d6a3(0x1f6)];console[_0x30d6a3(0x237)](_0x5050a1);}else{if(_0x4a19ca[0x0][_0x30d6a3(0x221)]=='Hindi')var _0x5050a1=users[_0x30d6a3(0x233)];else{if(_0x4a19ca[0x0][_0x30d6a3(0x221)]==_0x30d6a3(0x206))var _0x5050a1=users[_0x30d6a3(0x206)];else{if(_0x4a19ca[0x0][_0x30d6a3(0x221)]==_0x30d6a3(0x23a))var _0x5050a1=users[_0x30d6a3(0x23a)];else{if(_0x4a19ca[0x0]['language']=='French')var _0x5050a1=users[_0x30d6a3(0x20b)];else{if(_0x4a19ca[0x0][_0x30d6a3(0x221)]=='Portuguese\x20(BR)')var _0x5050a1=users[_0x30d6a3(0x218)];else{if(_0x4a19ca[0x0][_0x30d6a3(0x221)]==_0x30d6a3(0x212))var _0x5050a1=users[_0x30d6a3(0x212)];else{if(_0x4a19ca[0x0]['language']==_0x30d6a3(0x203))var _0x5050a1=users[_0x30d6a3(0x210)];}}}}}}}_0x252b4c[_0x30d6a3(0x229)](0xc8)[_0x30d6a3(0x1fe)]({'data':_0x4faab1,'language':_0x5050a1[_0x30d6a3(0x235)]});}}catch(_0xaa4acb){console['log'](_0xaa4acb);}}),router[a0_0x4f0343(0x230)](a0_0x4f0343(0x231),auth,async(_0x8ae793,_0x5063e0)=>{var _0x35a6fc=a0_0x4f0343;try{const _0x17919d=_0x8ae793['params']['id'];console[_0x35a6fc(0x237)](_0x17919d);const _0x25527f=await master_shop[_0x35a6fc(0x205)]();console[_0x35a6fc(0x237)](_0x35a6fc(0x22d),_0x25527f);const _0x3c6213=await warehouse[_0x35a6fc(0x222)]([{'$match':{'name':_0x17919d}},{'$unwind':_0x35a6fc(0x1f4)},{'$lookup':{'from':'products','localField':_0x35a6fc(0x1f2),'foreignField':_0x35a6fc(0x21e),'as':_0x35a6fc(0x234)}},{'$unwind':_0x35a6fc(0x232)},{'$project':{'name':0x1,'product_name':_0x35a6fc(0x213),'product_stock':_0x35a6fc(0x22b),'category':_0x35a6fc(0x1f9),'brand':_0x35a6fc(0x1fb),'sku':_0x35a6fc(0x21a),'unit':_0x35a6fc(0x236),'rak':'product_details.rak_name','bin':_0x35a6fc(0x227)}}]);console[_0x35a6fc(0x237)](_0x3c6213);if(_0x25527f[0x0]['language']==_0x35a6fc(0x223)){var _0x3e2fb1=users['English'];console[_0x35a6fc(0x237)](_0x3e2fb1);}else{if(_0x25527f[0x0][_0x35a6fc(0x221)]==_0x35a6fc(0x233))var _0x3e2fb1=users[_0x35a6fc(0x233)];else{if(_0x25527f[0x0][_0x35a6fc(0x221)]=='German')var _0x3e2fb1=users[_0x35a6fc(0x206)];else{if(_0x25527f[0x0][_0x35a6fc(0x221)]==_0x35a6fc(0x23a))var _0x3e2fb1=users[_0x35a6fc(0x23a)];else{if(_0x25527f[0x0][_0x35a6fc(0x221)]==_0x35a6fc(0x20b))var _0x3e2fb1=users['French'];else{if(_0x25527f[0x0][_0x35a6fc(0x221)]=='Portuguese\x20(BR)')var _0x3e2fb1=users[_0x35a6fc(0x218)];else{if(_0x25527f[0x0][_0x35a6fc(0x221)]==_0x35a6fc(0x212))var _0x3e2fb1=users[_0x35a6fc(0x212)];else{if(_0x25527f[0x0][_0x35a6fc(0x221)]==_0x35a6fc(0x203))var _0x3e2fb1=users[_0x35a6fc(0x210)];}}}}}}}_0x5063e0[_0x35a6fc(0x229)](0xc8)[_0x35a6fc(0x1fe)]({'data':_0x3c6213,'language':_0x3e2fb1});}catch(_0x236350){console[_0x35a6fc(0x237)](_0x236350);}}),router[a0_0x4f0343(0x230)](a0_0x4f0343(0x1f5),auth,async(_0x36af3f,_0x233e74)=>{var _0x3a3fed=a0_0x4f0343;try{const _0x234d27=_0x36af3f['params']['id'];console[_0x3a3fed(0x237)](_0x234d27);const _0x4336f2=await master_shop[_0x3a3fed(0x205)]();console[_0x3a3fed(0x237)](_0x3a3fed(0x22d),_0x4336f2);const _0x1307c2=await product[_0x3a3fed(0x23b)]({'name':_0x234d27});console['log'](_0x3a3fed(0x228),_0x1307c2);const _0x4d05f3=await warehouse[_0x3a3fed(0x222)]([{'$unwind':_0x3a3fed(0x1f4)},{'$match':{'product_details.product_name':_0x234d27}},{'$project':{'name':0x1,'product_name':_0x3a3fed(0x213),'product_stock':_0x3a3fed(0x22b)}}]);console[_0x3a3fed(0x237)](_0x3a3fed(0x20c),_0x4d05f3);if(_0x4336f2[0x0][_0x3a3fed(0x221)]==_0x3a3fed(0x223)){var _0x5ebd46=users[_0x3a3fed(0x1f6)];console[_0x3a3fed(0x237)](_0x5ebd46);}else{if(_0x4336f2[0x0][_0x3a3fed(0x221)]==_0x3a3fed(0x233))var _0x5ebd46=users[_0x3a3fed(0x233)];else{if(_0x4336f2[0x0]['language']=='German')var _0x5ebd46=users[_0x3a3fed(0x206)];else{if(_0x4336f2[0x0][_0x3a3fed(0x221)]=='Spanish')var _0x5ebd46=users['Spanish'];else{if(_0x4336f2[0x0]['language']=='French')var _0x5ebd46=users[_0x3a3fed(0x20b)];else{if(_0x4336f2[0x0][_0x3a3fed(0x221)]==_0x3a3fed(0x202))var _0x5ebd46=users[_0x3a3fed(0x218)];else{if(_0x4336f2[0x0][_0x3a3fed(0x221)]=='Chinese')var _0x5ebd46=users[_0x3a3fed(0x212)];else{if(_0x4336f2[0x0][_0x3a3fed(0x221)]==_0x3a3fed(0x203))var _0x5ebd46=users['Arabic'];}}}}}}}_0x233e74[_0x3a3fed(0x229)](0xc8)['json']({'product_data':_0x1307c2,'warehouse_data':_0x4d05f3,'language':_0x5ebd46});}catch(_0xdd38be){console[_0x3a3fed(0x237)](_0xdd38be);}}),router['post'](a0_0x4f0343(0x200),async(_0x4da2f1,_0x4d840e)=>{var _0x265527=a0_0x4f0343;const {warehouseNew:_0x4e9190,rooms:_0x3197d8,Type:_0x58c1ec,process_cat:_0x5829ce,room_cat:_0x348eb3}=_0x4da2f1[_0x265527(0x207)];let _0x42fbc6;console[_0x265527(0x237)](_0x4da2f1[_0x265527(0x207)]);if(_0x5829ce==_0x265527(0x201))_0x42fbc6=await warehouse[_0x265527(0x222)]([{'$match':{'name':_0x4e9190,'room':_0x3197d8,'warehouse_category':_0x265527(0x215)}},{'$unwind':_0x265527(0x1f4)},{'$match':{'product_details.type':_0x58c1ec,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x5829ce==_0x265527(0x21d)?_0x3197d8==_0x265527(0x216)?_0x42fbc6=await warehouse['aggregate']([{'$match':{'name':_0x4e9190,'warehouse_category':'Finished\x20Goods'}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x42fbc6=await warehouse[_0x265527(0x222)]([{'$match':{'name':_0x4e9190,'room':_0x3197d8,'warehouse_category':_0x265527(0x225)}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console['log'](_0x265527(0x211)),Include=[{'$unwind':_0x265527(0x1f4)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x42fbc6=await warehouse['aggregate'](Include));_0x4d840e[_0x265527(0x1fe)](_0x42fbc6);}),router[a0_0x4f0343(0x20e)]('/Reports_product',async(_0x1650cf,_0x48f5b0)=>{var _0x5e58e3=a0_0x4f0343;const {warehouseNew:_0x4f1b3b,rooms:_0xab7f08,Type:_0x4a15e0,process_cat:_0x14a523,room_cat:_0x505b8e}=_0x1650cf[_0x5e58e3(0x207)],_0x46d70e=await product[_0x5e58e3(0x205)]();_0x48f5b0['json'](_0x46d70e);}),module[a0_0x4f0343(0x1f3)]=router;