function a0_0x3035(_0x19e1d1,_0x1529b8){var _0x3ddc4d=a0_0x3ddc();return a0_0x3035=function(_0x3035fa,_0x130a77){_0x3035fa=_0x3035fa-0x159;var _0x285dac=_0x3ddc4d[_0x3035fa];return _0x285dac;},a0_0x3035(_0x19e1d1,_0x1529b8);}var a0_0x340b88=a0_0x3035;(function(_0x300f3,_0x5af24d){var _0x10dddd=a0_0x3035,_0x52460d=_0x300f3();while(!![]){try{var _0x110f77=-parseInt(_0x10dddd(0x190))/0x1*(parseInt(_0x10dddd(0x184))/0x2)+-parseInt(_0x10dddd(0x15b))/0x3+-parseInt(_0x10dddd(0x191))/0x4+parseInt(_0x10dddd(0x165))/0x5*(-parseInt(_0x10dddd(0x162))/0x6)+-parseInt(_0x10dddd(0x178))/0x7*(parseInt(_0x10dddd(0x192))/0x8)+parseInt(_0x10dddd(0x15d))/0x9+parseInt(_0x10dddd(0x18b))/0xa;if(_0x110f77===_0x5af24d)break;else _0x52460d['push'](_0x52460d['shift']());}catch(_0x4aca45){_0x52460d['push'](_0x52460d['shift']());}}}(a0_0x3ddc,0xd2a65));function a0_0x3ddc(){var _0x466f24=['488qDGBmJ','post','/Reports','express','warehouse','/view/:id','427326ZisUab','../public/language/languages.json','3292488iFQbkN','exports','Spanish','warehouse_data','111','54ivCLLn','/view/warehouse/:id','json','164385SSprED','Arabic','English','German','findOne','find','$product_details','Arabic\x20(ae)','product_details.bin_name','Hindi','Router','finish','success','log','language','$product_details.product_stock','product_docs','Chinese','flash','110243Yixxyh','errors','name','aggregate','$product_details.product_name','body','render','user','French','../middleware/auth','raw','status','44bEwCQq','$product_docs.category','English\x20(US)','Finished\x20Goods','Portuguese','master','Portuguese\x20(BR)','29774450NaUJPS','../models/all_models','get','products','params','35383wijVtc','1212024JQZhdG'];a0_0x3ddc=function(){return _0x466f24;};return a0_0x3ddc();}const express=require(a0_0x340b88(0x195)),app=express(),router=express[a0_0x340b88(0x16f)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x340b88(0x18c)),auth=require(a0_0x340b88(0x181)),users=require(a0_0x340b88(0x15c));router[a0_0x340b88(0x18d)]('/view',auth,async(_0x2b6c53,_0xda2e53)=>{var _0x28b071=a0_0x340b88;try{const _0x4e8dec=_0x2b6c53['user'];console['log']('role_data',_0x2b6c53[_0x28b071(0x17f)]);const _0xac1fc8=await profile['findOne']({'email':_0x4e8dec['email']}),_0x15fce3=await master_shop['find']();console['log'](_0x28b071(0x189),_0x15fce3);const _0x47c967=await warehouse[_0x28b071(0x16a)]({}),_0x2ac9ee=await product[_0x28b071(0x16a)]({});if(_0x15fce3[0x0][_0x28b071(0x173)]==_0x28b071(0x186)){var _0x4153fc=users[_0x28b071(0x167)];console[_0x28b071(0x172)](_0x4153fc);}else{if(_0x15fce3[0x0][_0x28b071(0x173)]==_0x28b071(0x16e))var _0x4153fc=users[_0x28b071(0x16e)];else{if(_0x15fce3[0x0]['language']=='German')var _0x4153fc=users[_0x28b071(0x168)];else{if(_0x15fce3[0x0]['language']=='Spanish')var _0x4153fc=users[_0x28b071(0x15f)];else{if(_0x15fce3[0x0][_0x28b071(0x173)]=='French')var _0x4153fc=users[_0x28b071(0x180)];else{if(_0x15fce3[0x0][_0x28b071(0x173)]==_0x28b071(0x18a))var _0x4153fc=users[_0x28b071(0x188)];else{if(_0x15fce3[0x0]['language']==_0x28b071(0x176))var _0x4153fc=users['Chinese'];else{if(_0x15fce3[0x0][_0x28b071(0x173)]=='Arabic\x20(ae)')var _0x4153fc=users[_0x28b071(0x166)];}}}}}}}_0xda2e53[_0x28b071(0x17e)]('stock_report',{'success':_0x2b6c53[_0x28b071(0x177)](_0x28b071(0x171)),'errors':_0x2b6c53['flash'](_0x28b071(0x179)),'role':_0x4e8dec,'profile':_0xac1fc8,'master_shop':_0x15fce3,'warehouse':_0x47c967,'product':_0x2ac9ee,'warehouse_doc':[],'product_doc':[],'language':_0x4153fc});}catch(_0x59d985){console[_0x28b071(0x172)](_0x59d985);}}),router[a0_0x340b88(0x18d)](a0_0x340b88(0x15a),auth,async(_0x5e00ad,_0x44283c)=>{var _0x58d719=a0_0x340b88;try{const _0x3285c0=await master_shop['find']();console[_0x58d719(0x172)](_0x58d719(0x189),_0x3285c0);if(_0x5e00ad['params']['id']==_0x58d719(0x159)){const _0x2f8790=await warehouse['find']();console[_0x58d719(0x172)](_0x2f8790);if(_0x3285c0[0x0][_0x58d719(0x173)]==_0x58d719(0x186)){var _0x8b39f0=users[_0x58d719(0x167)];console[_0x58d719(0x172)](_0x8b39f0);}else{if(_0x3285c0[0x0][_0x58d719(0x173)]=='Hindi')var _0x8b39f0=users[_0x58d719(0x16e)];else{if(_0x3285c0[0x0][_0x58d719(0x173)]=='German')var _0x8b39f0=users[_0x58d719(0x168)];else{if(_0x3285c0[0x0][_0x58d719(0x173)]==_0x58d719(0x15f))var _0x8b39f0=users['Spanish'];else{if(_0x3285c0[0x0][_0x58d719(0x173)]==_0x58d719(0x180))var _0x8b39f0=users[_0x58d719(0x180)];else{if(_0x3285c0[0x0][_0x58d719(0x173)]==_0x58d719(0x18a))var _0x8b39f0=users['Portuguese'];else{if(_0x3285c0[0x0][_0x58d719(0x173)]=='Chinese')var _0x8b39f0=users['Chinese'];else{if(_0x3285c0[0x0][_0x58d719(0x173)]=='Arabic\x20(ae)')var _0x8b39f0=users['Arabic'];}}}}}}}_0x44283c[_0x58d719(0x183)](0xc8)['json']({'data':_0x2f8790,'language':_0x8b39f0[_0x58d719(0x159)]});}else{const _0x38ff8d=await product['find']();console[_0x58d719(0x172)](_0x58d719(0x161),_0x38ff8d);if(_0x3285c0[0x0]['language']==_0x58d719(0x186)){var _0x8b39f0=users['English'];console['log'](_0x8b39f0);}else{if(_0x3285c0[0x0][_0x58d719(0x173)]==_0x58d719(0x16e))var _0x8b39f0=users[_0x58d719(0x16e)];else{if(_0x3285c0[0x0][_0x58d719(0x173)]==_0x58d719(0x168))var _0x8b39f0=users[_0x58d719(0x168)];else{if(_0x3285c0[0x0][_0x58d719(0x173)]==_0x58d719(0x15f))var _0x8b39f0=users[_0x58d719(0x15f)];else{if(_0x3285c0[0x0]['language']==_0x58d719(0x180))var _0x8b39f0=users[_0x58d719(0x180)];else{if(_0x3285c0[0x0][_0x58d719(0x173)]==_0x58d719(0x18a))var _0x8b39f0=users[_0x58d719(0x188)];else{if(_0x3285c0[0x0][_0x58d719(0x173)]==_0x58d719(0x176))var _0x8b39f0=users['Chinese'];else{if(_0x3285c0[0x0][_0x58d719(0x173)]==_0x58d719(0x16c))var _0x8b39f0=users[_0x58d719(0x166)];}}}}}}}_0x44283c[_0x58d719(0x183)](0xc8)[_0x58d719(0x164)]({'data':_0x38ff8d,'language':_0x8b39f0[_0x58d719(0x18e)]});}}catch(_0x189b2a){console[_0x58d719(0x172)](_0x189b2a);}}),router[a0_0x340b88(0x18d)](a0_0x340b88(0x163),auth,async(_0x4b28a4,_0x3af144)=>{var _0x19c05f=a0_0x340b88;try{const _0x2e2aef=_0x4b28a4[_0x19c05f(0x18f)]['id'];console[_0x19c05f(0x172)](_0x2e2aef);const _0x3cb73d=await master_shop[_0x19c05f(0x16a)]();console[_0x19c05f(0x172)](_0x19c05f(0x189),_0x3cb73d);const _0x2f24c=await warehouse[_0x19c05f(0x17b)]([{'$match':{'name':_0x2e2aef}},{'$unwind':_0x19c05f(0x16b)},{'$lookup':{'from':'products','localField':'product_details.product_name','foreignField':_0x19c05f(0x17a),'as':_0x19c05f(0x175)}},{'$unwind':'$product_docs'},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x19c05f(0x174),'category':_0x19c05f(0x185),'brand':'$product_docs.brand','sku':'$product_docs.sku','unit':'$product_docs.unit','rak':'product_details.rak_name','bin':_0x19c05f(0x16d)}}]);console[_0x19c05f(0x172)](_0x2f24c);if(_0x3cb73d[0x0][_0x19c05f(0x173)]==_0x19c05f(0x186)){var _0x18d9da=users['English'];console[_0x19c05f(0x172)](_0x18d9da);}else{if(_0x3cb73d[0x0][_0x19c05f(0x173)]==_0x19c05f(0x16e))var _0x18d9da=users[_0x19c05f(0x16e)];else{if(_0x3cb73d[0x0][_0x19c05f(0x173)]==_0x19c05f(0x168))var _0x18d9da=users[_0x19c05f(0x168)];else{if(_0x3cb73d[0x0][_0x19c05f(0x173)]==_0x19c05f(0x15f))var _0x18d9da=users['Spanish'];else{if(_0x3cb73d[0x0][_0x19c05f(0x173)]==_0x19c05f(0x180))var _0x18d9da=users['French'];else{if(_0x3cb73d[0x0][_0x19c05f(0x173)]=='Portuguese\x20(BR)')var _0x18d9da=users[_0x19c05f(0x188)];else{if(_0x3cb73d[0x0][_0x19c05f(0x173)]==_0x19c05f(0x176))var _0x18d9da=users[_0x19c05f(0x176)];else{if(_0x3cb73d[0x0][_0x19c05f(0x173)]==_0x19c05f(0x16c))var _0x18d9da=users[_0x19c05f(0x166)];}}}}}}}_0x3af144['status'](0xc8)[_0x19c05f(0x164)]({'data':_0x2f24c,'language':_0x18d9da});}catch(_0x45bb5d){console[_0x19c05f(0x172)](_0x45bb5d);}}),router['get']('/view/product/:id',auth,async(_0x58b9d0,_0x3a0638)=>{var _0x8d58b3=a0_0x340b88;try{const _0x100d41=_0x58b9d0[_0x8d58b3(0x18f)]['id'];console['log'](_0x100d41);const _0x460d46=await master_shop[_0x8d58b3(0x16a)]();console[_0x8d58b3(0x172)](_0x8d58b3(0x189),_0x460d46);const _0x3561e6=await product[_0x8d58b3(0x169)]({'name':_0x100d41});console['log']('product_data',_0x3561e6);const _0x5729d=await warehouse['aggregate']([{'$unwind':_0x8d58b3(0x16b)},{'$match':{'product_details.product_name':_0x100d41}},{'$project':{'name':0x1,'product_name':_0x8d58b3(0x17c),'product_stock':_0x8d58b3(0x174)}}]);console[_0x8d58b3(0x172)](_0x8d58b3(0x160),_0x5729d);if(_0x460d46[0x0][_0x8d58b3(0x173)]=='English\x20(US)'){var _0x233033=users['English'];console[_0x8d58b3(0x172)](_0x233033);}else{if(_0x460d46[0x0][_0x8d58b3(0x173)]=='Hindi')var _0x233033=users[_0x8d58b3(0x16e)];else{if(_0x460d46[0x0][_0x8d58b3(0x173)]==_0x8d58b3(0x168))var _0x233033=users['German'];else{if(_0x460d46[0x0][_0x8d58b3(0x173)]=='Spanish')var _0x233033=users[_0x8d58b3(0x15f)];else{if(_0x460d46[0x0][_0x8d58b3(0x173)]==_0x8d58b3(0x180))var _0x233033=users['French'];else{if(_0x460d46[0x0][_0x8d58b3(0x173)]==_0x8d58b3(0x18a))var _0x233033=users[_0x8d58b3(0x188)];else{if(_0x460d46[0x0]['language']=='Chinese')var _0x233033=users[_0x8d58b3(0x176)];else{if(_0x460d46[0x0]['language']==_0x8d58b3(0x16c))var _0x233033=users[_0x8d58b3(0x166)];}}}}}}}_0x3a0638[_0x8d58b3(0x183)](0xc8)[_0x8d58b3(0x164)]({'product_data':_0x3561e6,'warehouse_data':_0x5729d,'language':_0x233033});}catch(_0x5769fe){console['log'](_0x5769fe);}}),router[a0_0x340b88(0x193)](a0_0x340b88(0x194),async(_0x4339ce,_0x355a73)=>{var _0x3442d5=a0_0x340b88;const {warehouseNew:_0xd5aad9,rooms:_0x283863,Type:_0x22bfb,process_cat:_0x6097d,room_cat:_0xea00d8}=_0x4339ce[_0x3442d5(0x17d)];let _0x6de864;console[_0x3442d5(0x172)](_0x4339ce['body']);if(_0x6097d==_0x3442d5(0x182))_0x6de864=await warehouse['aggregate']([{'$match':{'name':_0xd5aad9,'room':_0x283863,'warehouse_category':'Raw\x20Materials'}},{'$unwind':_0x3442d5(0x16b)},{'$match':{'product_details.type':_0x22bfb,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x6097d==_0x3442d5(0x170)?_0x283863=='All'?_0x6de864=await warehouse['aggregate']([{'$match':{'name':_0xd5aad9,'warehouse_category':_0x3442d5(0x187)}},{'$unwind':_0x3442d5(0x16b)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x6de864=await warehouse[_0x3442d5(0x17b)]([{'$match':{'name':_0xd5aad9,'room':_0x283863,'warehouse_category':_0x3442d5(0x187)}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x3442d5(0x172)]('ssd'),Include=[{'$unwind':_0x3442d5(0x16b)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x6de864=await warehouse[_0x3442d5(0x17b)](Include));_0x355a73[_0x3442d5(0x164)](_0x6de864);}),router[a0_0x340b88(0x193)]('/Reports_product',async(_0x3107c6,_0x263d9d)=>{var _0x2add55=a0_0x340b88;const {warehouseNew:_0xb0db96,rooms:_0x47206f,Type:_0x311d85,process_cat:_0x27f645,room_cat:_0x3fd4af}=_0x3107c6[_0x2add55(0x17d)],_0x3d2ef3=await product[_0x2add55(0x16a)]();_0x263d9d[_0x2add55(0x164)](_0x3d2ef3);}),module[a0_0x340b88(0x15e)]=router;