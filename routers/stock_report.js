function a0_0x1319(_0x2831f9,_0x49d269){var _0x138415=a0_0x1384();return a0_0x1319=function(_0x1319ef,_0x3e2798){_0x1319ef=_0x1319ef-0x1d0;var _0x2e260c=_0x138415[_0x1319ef];return _0x2e260c;},a0_0x1319(_0x2831f9,_0x49d269);}var a0_0x3b6bd8=a0_0x1319;(function(_0x4540a5,_0x3dce37){var _0x5cb6c3=a0_0x1319,_0x39fbea=_0x4540a5();while(!![]){try{var _0x3ca7a3=-parseInt(_0x5cb6c3(0x1f6))/0x1+parseInt(_0x5cb6c3(0x20f))/0x2+-parseInt(_0x5cb6c3(0x1f3))/0x3+parseInt(_0x5cb6c3(0x1f4))/0x4+parseInt(_0x5cb6c3(0x1e7))/0x5*(parseInt(_0x5cb6c3(0x201))/0x6)+parseInt(_0x5cb6c3(0x20b))/0x7*(-parseInt(_0x5cb6c3(0x1ea))/0x8)+-parseInt(_0x5cb6c3(0x1d8))/0x9;if(_0x3ca7a3===_0x3dce37)break;else _0x39fbea['push'](_0x39fbea['shift']());}catch(_0x4850bf){_0x39fbea['push'](_0x39fbea['shift']());}}}(a0_0x1384,0x6e2c7));const express=require(a0_0x3b6bd8(0x1e5)),app=express(),router=express[a0_0x3b6bd8(0x1e9)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x3b6bd8(0x1db)),auth=require('../middleware/auth'),users=require(a0_0x3b6bd8(0x1fd));function a0_0x1384(){var _0x43ab84=['product_docs','Router','8CHTgsM','role_data','Raw\x20Materials','$product_docs','$product_details.product_stock','master','product_data','Arabic','Portuguese\x20(BR)','590559iPtSoU','2299120AtPeQq','aggregate','224057FNgDaH','/Reports','German','$product_details','find','raw','Hindi','../public/language/languages.json','post','product_details.rak_name','English\x20(US)','4367562JUFXgG','success','French','user','$product_docs.unit','$product_details.product_name','render','111','warehouse','product_details.product_name','3476508ZnUhDz','params','get','Finished\x20Goods','953558xcLxsO','/view/:id','Arabic\x20(ae)','$product_docs.category','warehouse_data','log','Portuguese','products','Spanish','exports','3695949hxSQma','Chinese','ssd','../models/all_models','$product_docs.brand','email','body','language','json','findOne','English','flash','status','express','/view','5YOTFna'];a0_0x1384=function(){return _0x43ab84;};return a0_0x1384();}router[a0_0x3b6bd8(0x20d)](a0_0x3b6bd8(0x1e6),auth,async(_0x183a25,_0x328b64)=>{var _0x323dcf=a0_0x3b6bd8;try{const _0x43745d=_0x183a25[_0x323dcf(0x204)];console[_0x323dcf(0x1d3)](_0x323dcf(0x1eb),_0x183a25[_0x323dcf(0x204)]);const _0x1037ad=await profile[_0x323dcf(0x1e1)]({'email':_0x43745d[_0x323dcf(0x1dd)]}),_0x21847f=await master_shop[_0x323dcf(0x1fa)]();console['log']('master',_0x21847f);const _0x214b0a=await warehouse['find']({}),_0x34a801=await product[_0x323dcf(0x1fa)]({});if(_0x21847f[0x0][_0x323dcf(0x1df)]==_0x323dcf(0x200)){var _0x134608=users['English'];console[_0x323dcf(0x1d3)](_0x134608);}else{if(_0x21847f[0x0]['language']==_0x323dcf(0x1fc))var _0x134608=users[_0x323dcf(0x1fc)];else{if(_0x21847f[0x0]['language']==_0x323dcf(0x1f8))var _0x134608=users[_0x323dcf(0x1f8)];else{if(_0x21847f[0x0][_0x323dcf(0x1df)]==_0x323dcf(0x1d6))var _0x134608=users[_0x323dcf(0x1d6)];else{if(_0x21847f[0x0][_0x323dcf(0x1df)]==_0x323dcf(0x203))var _0x134608=users['French'];else{if(_0x21847f[0x0][_0x323dcf(0x1df)]=='Portuguese\x20(BR)')var _0x134608=users[_0x323dcf(0x1d4)];else{if(_0x21847f[0x0][_0x323dcf(0x1df)]==_0x323dcf(0x1d9))var _0x134608=users['Chinese'];else{if(_0x21847f[0x0][_0x323dcf(0x1df)]=='Arabic\x20(ae)')var _0x134608=users[_0x323dcf(0x1f1)];}}}}}}}_0x328b64[_0x323dcf(0x207)]('stock_report',{'success':_0x183a25[_0x323dcf(0x1e3)](_0x323dcf(0x202)),'errors':_0x183a25[_0x323dcf(0x1e3)]('errors'),'role':_0x43745d,'profile':_0x1037ad,'master_shop':_0x21847f,'warehouse':_0x214b0a,'product':_0x34a801,'warehouse_doc':[],'product_doc':[],'language':_0x134608});}catch(_0x30cf96){console['log'](_0x30cf96);}}),router[a0_0x3b6bd8(0x20d)](a0_0x3b6bd8(0x210),auth,async(_0x230f3b,_0x492d3a)=>{var _0xd7c7f2=a0_0x3b6bd8;try{const _0x23a7f9=await master_shop['find']();console[_0xd7c7f2(0x1d3)](_0xd7c7f2(0x1ef),_0x23a7f9);if(_0x230f3b[_0xd7c7f2(0x20c)]['id']==_0xd7c7f2(0x209)){const _0x12dc82=await warehouse[_0xd7c7f2(0x1fa)]();console[_0xd7c7f2(0x1d3)](_0x12dc82);if(_0x23a7f9[0x0][_0xd7c7f2(0x1df)]==_0xd7c7f2(0x200)){var _0x191970=users[_0xd7c7f2(0x1e2)];console[_0xd7c7f2(0x1d3)](_0x191970);}else{if(_0x23a7f9[0x0][_0xd7c7f2(0x1df)]==_0xd7c7f2(0x1fc))var _0x191970=users[_0xd7c7f2(0x1fc)];else{if(_0x23a7f9[0x0]['language']=='German')var _0x191970=users[_0xd7c7f2(0x1f8)];else{if(_0x23a7f9[0x0][_0xd7c7f2(0x1df)]==_0xd7c7f2(0x1d6))var _0x191970=users[_0xd7c7f2(0x1d6)];else{if(_0x23a7f9[0x0][_0xd7c7f2(0x1df)]==_0xd7c7f2(0x203))var _0x191970=users[_0xd7c7f2(0x203)];else{if(_0x23a7f9[0x0][_0xd7c7f2(0x1df)]=='Portuguese\x20(BR)')var _0x191970=users[_0xd7c7f2(0x1d4)];else{if(_0x23a7f9[0x0][_0xd7c7f2(0x1df)]==_0xd7c7f2(0x1d9))var _0x191970=users[_0xd7c7f2(0x1d9)];else{if(_0x23a7f9[0x0]['language']=='Arabic\x20(ae)')var _0x191970=users[_0xd7c7f2(0x1f1)];}}}}}}}_0x492d3a[_0xd7c7f2(0x1e4)](0xc8)[_0xd7c7f2(0x1e0)]({'data':_0x12dc82,'language':_0x191970[_0xd7c7f2(0x209)]});}else{const _0x1b25fa=await product[_0xd7c7f2(0x1fa)]();console[_0xd7c7f2(0x1d3)](_0xd7c7f2(0x208),_0x1b25fa);if(_0x23a7f9[0x0][_0xd7c7f2(0x1df)]=='English\x20(US)'){var _0x191970=users[_0xd7c7f2(0x1e2)];console['log'](_0x191970);}else{if(_0x23a7f9[0x0]['language']==_0xd7c7f2(0x1fc))var _0x191970=users['Hindi'];else{if(_0x23a7f9[0x0][_0xd7c7f2(0x1df)]==_0xd7c7f2(0x1f8))var _0x191970=users[_0xd7c7f2(0x1f8)];else{if(_0x23a7f9[0x0][_0xd7c7f2(0x1df)]==_0xd7c7f2(0x1d6))var _0x191970=users[_0xd7c7f2(0x1d6)];else{if(_0x23a7f9[0x0][_0xd7c7f2(0x1df)]=='French')var _0x191970=users[_0xd7c7f2(0x203)];else{if(_0x23a7f9[0x0][_0xd7c7f2(0x1df)]==_0xd7c7f2(0x1f2))var _0x191970=users[_0xd7c7f2(0x1d4)];else{if(_0x23a7f9[0x0][_0xd7c7f2(0x1df)]==_0xd7c7f2(0x1d9))var _0x191970=users[_0xd7c7f2(0x1d9)];else{if(_0x23a7f9[0x0][_0xd7c7f2(0x1df)]==_0xd7c7f2(0x1d0))var _0x191970=users[_0xd7c7f2(0x1f1)];}}}}}}}_0x492d3a['status'](0xc8)[_0xd7c7f2(0x1e0)]({'data':_0x1b25fa,'language':_0x191970[_0xd7c7f2(0x1d5)]});}}catch(_0x3ab600){console['log'](_0x3ab600);}}),router['get']('/view/warehouse/:id',auth,async(_0x5ae0f6,_0x215a40)=>{var _0x5666cf=a0_0x3b6bd8;try{const _0x3c9e32=_0x5ae0f6['params']['id'];console['log'](_0x3c9e32);const _0xcc8539=await master_shop[_0x5666cf(0x1fa)]();console[_0x5666cf(0x1d3)](_0x5666cf(0x1ef),_0xcc8539);const _0x1e0a71=await warehouse[_0x5666cf(0x1f5)]([{'$match':{'name':_0x3c9e32}},{'$unwind':_0x5666cf(0x1f9)},{'$lookup':{'from':_0x5666cf(0x1d5),'localField':_0x5666cf(0x20a),'foreignField':'name','as':_0x5666cf(0x1e8)}},{'$unwind':_0x5666cf(0x1ed)},{'$project':{'name':0x1,'product_name':_0x5666cf(0x206),'product_stock':_0x5666cf(0x1ee),'category':_0x5666cf(0x1d1),'brand':_0x5666cf(0x1dc),'sku':'$product_docs.sku','unit':_0x5666cf(0x205),'rak':_0x5666cf(0x1ff),'bin':'product_details.bin_name'}}]);console[_0x5666cf(0x1d3)](_0x1e0a71);if(_0xcc8539[0x0][_0x5666cf(0x1df)]==_0x5666cf(0x200)){var _0x27abdc=users[_0x5666cf(0x1e2)];console[_0x5666cf(0x1d3)](_0x27abdc);}else{if(_0xcc8539[0x0][_0x5666cf(0x1df)]=='Hindi')var _0x27abdc=users['Hindi'];else{if(_0xcc8539[0x0][_0x5666cf(0x1df)]==_0x5666cf(0x1f8))var _0x27abdc=users['German'];else{if(_0xcc8539[0x0][_0x5666cf(0x1df)]=='Spanish')var _0x27abdc=users[_0x5666cf(0x1d6)];else{if(_0xcc8539[0x0][_0x5666cf(0x1df)]==_0x5666cf(0x203))var _0x27abdc=users[_0x5666cf(0x203)];else{if(_0xcc8539[0x0][_0x5666cf(0x1df)]==_0x5666cf(0x1f2))var _0x27abdc=users['Portuguese'];else{if(_0xcc8539[0x0][_0x5666cf(0x1df)]==_0x5666cf(0x1d9))var _0x27abdc=users['Chinese'];else{if(_0xcc8539[0x0][_0x5666cf(0x1df)]==_0x5666cf(0x1d0))var _0x27abdc=users[_0x5666cf(0x1f1)];}}}}}}}_0x215a40[_0x5666cf(0x1e4)](0xc8)['json']({'data':_0x1e0a71,'language':_0x27abdc});}catch(_0x55eb2e){console[_0x5666cf(0x1d3)](_0x55eb2e);}}),router[a0_0x3b6bd8(0x20d)]('/view/product/:id',auth,async(_0x5d85d2,_0x767687)=>{var _0x337e92=a0_0x3b6bd8;try{const _0x163358=_0x5d85d2[_0x337e92(0x20c)]['id'];console[_0x337e92(0x1d3)](_0x163358);const _0x1da333=await master_shop[_0x337e92(0x1fa)]();console[_0x337e92(0x1d3)](_0x337e92(0x1ef),_0x1da333);const _0x38c849=await product[_0x337e92(0x1e1)]({'name':_0x163358});console[_0x337e92(0x1d3)](_0x337e92(0x1f0),_0x38c849);const _0x48bf8c=await warehouse[_0x337e92(0x1f5)]([{'$unwind':'$product_details'},{'$match':{'product_details.product_name':_0x163358}},{'$project':{'name':0x1,'product_name':_0x337e92(0x206),'product_stock':'$product_details.product_stock'}}]);console[_0x337e92(0x1d3)](_0x337e92(0x1d2),_0x48bf8c);if(_0x1da333[0x0][_0x337e92(0x1df)]=='English\x20(US)'){var _0x4b59ef=users[_0x337e92(0x1e2)];console[_0x337e92(0x1d3)](_0x4b59ef);}else{if(_0x1da333[0x0]['language']==_0x337e92(0x1fc))var _0x4b59ef=users['Hindi'];else{if(_0x1da333[0x0][_0x337e92(0x1df)]==_0x337e92(0x1f8))var _0x4b59ef=users[_0x337e92(0x1f8)];else{if(_0x1da333[0x0][_0x337e92(0x1df)]==_0x337e92(0x1d6))var _0x4b59ef=users['Spanish'];else{if(_0x1da333[0x0][_0x337e92(0x1df)]=='French')var _0x4b59ef=users['French'];else{if(_0x1da333[0x0]['language']==_0x337e92(0x1f2))var _0x4b59ef=users[_0x337e92(0x1d4)];else{if(_0x1da333[0x0]['language']=='Chinese')var _0x4b59ef=users[_0x337e92(0x1d9)];else{if(_0x1da333[0x0]['language']=='Arabic\x20(ae)')var _0x4b59ef=users['Arabic'];}}}}}}}_0x767687[_0x337e92(0x1e4)](0xc8)[_0x337e92(0x1e0)]({'product_data':_0x38c849,'warehouse_data':_0x48bf8c,'language':_0x4b59ef});}catch(_0x3de399){console[_0x337e92(0x1d3)](_0x3de399);}}),router['post'](a0_0x3b6bd8(0x1f7),async(_0x332fe0,_0x2d4204)=>{var _0x53de56=a0_0x3b6bd8;const {warehouseNew:_0x5d59a0,rooms:_0x5d7454,Type:_0x82509,process_cat:_0x38c950,room_cat:_0x1b7bed}=_0x332fe0['body'];let _0x12dfc3;console['log'](_0x332fe0['body']);if(_0x38c950==_0x53de56(0x1fb))_0x12dfc3=await warehouse[_0x53de56(0x1f5)]([{'$match':{'name':_0x5d59a0,'room':_0x5d7454,'warehouse_category':_0x53de56(0x1ec)}},{'$unwind':_0x53de56(0x1f9)},{'$match':{'product_details.type':_0x82509,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x38c950=='finish'?_0x5d7454=='All'?_0x12dfc3=await warehouse['aggregate']([{'$match':{'name':_0x5d59a0,'warehouse_category':_0x53de56(0x20e)}},{'$unwind':_0x53de56(0x1f9)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x12dfc3=await warehouse[_0x53de56(0x1f5)]([{'$match':{'name':_0x5d59a0,'room':_0x5d7454,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0x53de56(0x1f9)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x53de56(0x1d3)](_0x53de56(0x1da)),Include=[{'$unwind':_0x53de56(0x1f9)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x12dfc3=await warehouse[_0x53de56(0x1f5)](Include));_0x2d4204[_0x53de56(0x1e0)](_0x12dfc3);}),router[a0_0x3b6bd8(0x1fe)]('/Reports_product',async(_0x350903,_0x4a331b)=>{var _0x23bc5d=a0_0x3b6bd8;const {warehouseNew:_0x1785e4,rooms:_0x594fc4,Type:_0x116924,process_cat:_0x1d7b71,room_cat:_0x26fc93}=_0x350903[_0x23bc5d(0x1de)],_0x5adaa6=await product[_0x23bc5d(0x1fa)]();_0x4a331b['json'](_0x5adaa6);}),module[a0_0x3b6bd8(0x1d7)]=router;