function a0_0x2b98(_0x35f492,_0x1412df){var _0x459f01=a0_0x459f();return a0_0x2b98=function(_0x2b9895,_0x289e27){_0x2b9895=_0x2b9895-0x88;var _0x15ae8b=_0x459f01[_0x2b9895];return _0x15ae8b;},a0_0x2b98(_0x35f492,_0x1412df);}var a0_0x1d39aa=a0_0x2b98;(function(_0x46a3aa,_0x4552ef){var _0x5724c=a0_0x2b98,_0x36b286=_0x46a3aa();while(!![]){try{var _0x70db1c=-parseInt(_0x5724c(0xad))/0x1+-parseInt(_0x5724c(0xbb))/0x2*(-parseInt(_0x5724c(0xc3))/0x3)+parseInt(_0x5724c(0x8f))/0x4*(-parseInt(_0x5724c(0xb0))/0x5)+parseInt(_0x5724c(0x9b))/0x6+parseInt(_0x5724c(0xc2))/0x7+-parseInt(_0x5724c(0x99))/0x8*(-parseInt(_0x5724c(0xb7))/0x9)+parseInt(_0x5724c(0xa0))/0xa;if(_0x70db1c===_0x4552ef)break;else _0x36b286['push'](_0x36b286['shift']());}catch(_0x530c13){_0x36b286['push'](_0x36b286['shift']());}}}(a0_0x459f,0x1f6d9));const express=require('express'),app=express(),router=express[a0_0x1d39aa(0xa9)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x1d39aa(0x8b)),auth=require(a0_0x1d39aa(0xa3)),users=require(a0_0x1d39aa(0xab));function a0_0x459f(){var _0x253a30=['/Reports_product','log','$product_details.product_name','/view','1568SyNTVc','json','964146VGQmml','111','$product_docs.sku','email','status','2654930IvhTWt','user','params','../middleware/auth','French','warehouse','finish','body','Spanish','Router','Arabic','../public/language/languages.json','products','226626zpAhXQ','/view/product/:id','stock_report','1066490sqXfSW','Arabic\x20(ae)','aggregate','$product_details.product_stock','$product_docs.brand','$product_docs','master','279yQhKUt','language','name','Hindi','466tfOaba','English\x20(US)','get','Portuguese\x20(BR)','All','Raw\x20Materials','errors','794913IvxWlM','294PiDTxY','Chinese','render','Finished\x20Goods','Portuguese','$product_details','/Reports','../models/all_models','find','English','findOne','4sLJgfV','flash','$product_docs.category','post','German','warehouse_data'];a0_0x459f=function(){return _0x253a30;};return a0_0x459f();}router[a0_0x1d39aa(0xbd)](a0_0x1d39aa(0x98),auth,async(_0x2389c1,_0x3687f6)=>{var _0xea1ffc=a0_0x1d39aa;try{const _0x39b3b7=_0x2389c1[_0xea1ffc(0xa1)];console[_0xea1ffc(0x96)]('role_data',_0x2389c1[_0xea1ffc(0xa1)]);const _0x1a98d8=await profile[_0xea1ffc(0x8e)]({'email':_0x39b3b7[_0xea1ffc(0x9e)]}),_0xb148ff=await master_shop[_0xea1ffc(0x8c)]();console[_0xea1ffc(0x96)](_0xea1ffc(0xb6),_0xb148ff);const _0xf88ec9=await warehouse[_0xea1ffc(0x8c)]({}),_0x53e53b=await product[_0xea1ffc(0x8c)]({});if(_0xb148ff[0x0][_0xea1ffc(0xb8)]==_0xea1ffc(0xbc)){var _0xbf9594=users[_0xea1ffc(0x8d)];console[_0xea1ffc(0x96)](_0xbf9594);}else{if(_0xb148ff[0x0][_0xea1ffc(0xb8)]=='Hindi')var _0xbf9594=users[_0xea1ffc(0xba)];else{if(_0xb148ff[0x0][_0xea1ffc(0xb8)]==_0xea1ffc(0x93))var _0xbf9594=users[_0xea1ffc(0x93)];else{if(_0xb148ff[0x0][_0xea1ffc(0xb8)]==_0xea1ffc(0xa8))var _0xbf9594=users['Spanish'];else{if(_0xb148ff[0x0]['language']==_0xea1ffc(0xa4))var _0xbf9594=users[_0xea1ffc(0xa4)];else{if(_0xb148ff[0x0][_0xea1ffc(0xb8)]==_0xea1ffc(0xbe))var _0xbf9594=users[_0xea1ffc(0x88)];else{if(_0xb148ff[0x0]['language']==_0xea1ffc(0xc4))var _0xbf9594=users['Chinese'];else{if(_0xb148ff[0x0][_0xea1ffc(0xb8)]=='Arabic\x20(ae)')var _0xbf9594=users[_0xea1ffc(0xaa)];}}}}}}}_0x3687f6[_0xea1ffc(0xc5)](_0xea1ffc(0xaf),{'success':_0x2389c1[_0xea1ffc(0x90)]('success'),'errors':_0x2389c1['flash'](_0xea1ffc(0xc1)),'role':_0x39b3b7,'profile':_0x1a98d8,'master_shop':_0xb148ff,'warehouse':_0xf88ec9,'product':_0x53e53b,'warehouse_doc':[],'product_doc':[],'language':_0xbf9594});}catch(_0x79fb14){console[_0xea1ffc(0x96)](_0x79fb14);}}),router[a0_0x1d39aa(0xbd)]('/view/:id',auth,async(_0x304f3f,_0x593fdf)=>{var _0x4aa82e=a0_0x1d39aa;try{const _0xd6ef51=await master_shop[_0x4aa82e(0x8c)]();console[_0x4aa82e(0x96)](_0x4aa82e(0xb6),_0xd6ef51);if(_0x304f3f[_0x4aa82e(0xa2)]['id']==_0x4aa82e(0xa5)){const _0x1219e6=await warehouse['find']();console[_0x4aa82e(0x96)](_0x1219e6);if(_0xd6ef51[0x0][_0x4aa82e(0xb8)]==_0x4aa82e(0xbc)){var _0x4078d2=users[_0x4aa82e(0x8d)];console['log'](_0x4078d2);}else{if(_0xd6ef51[0x0][_0x4aa82e(0xb8)]==_0x4aa82e(0xba))var _0x4078d2=users[_0x4aa82e(0xba)];else{if(_0xd6ef51[0x0]['language']==_0x4aa82e(0x93))var _0x4078d2=users['German'];else{if(_0xd6ef51[0x0][_0x4aa82e(0xb8)]==_0x4aa82e(0xa8))var _0x4078d2=users['Spanish'];else{if(_0xd6ef51[0x0][_0x4aa82e(0xb8)]==_0x4aa82e(0xa4))var _0x4078d2=users[_0x4aa82e(0xa4)];else{if(_0xd6ef51[0x0]['language']==_0x4aa82e(0xbe))var _0x4078d2=users[_0x4aa82e(0x88)];else{if(_0xd6ef51[0x0][_0x4aa82e(0xb8)]==_0x4aa82e(0xc4))var _0x4078d2=users[_0x4aa82e(0xc4)];else{if(_0xd6ef51[0x0][_0x4aa82e(0xb8)]==_0x4aa82e(0xb1))var _0x4078d2=users[_0x4aa82e(0xaa)];}}}}}}}_0x593fdf['status'](0xc8)[_0x4aa82e(0x9a)]({'data':_0x1219e6,'language':_0x4078d2[_0x4aa82e(0xa5)]});}else{const _0x4b16f6=await product[_0x4aa82e(0x8c)]();console[_0x4aa82e(0x96)](_0x4aa82e(0x9c),_0x4b16f6);if(_0xd6ef51[0x0][_0x4aa82e(0xb8)]==_0x4aa82e(0xbc)){var _0x4078d2=users['English'];console[_0x4aa82e(0x96)](_0x4078d2);}else{if(_0xd6ef51[0x0][_0x4aa82e(0xb8)]==_0x4aa82e(0xba))var _0x4078d2=users['Hindi'];else{if(_0xd6ef51[0x0]['language']==_0x4aa82e(0x93))var _0x4078d2=users['German'];else{if(_0xd6ef51[0x0][_0x4aa82e(0xb8)]==_0x4aa82e(0xa8))var _0x4078d2=users[_0x4aa82e(0xa8)];else{if(_0xd6ef51[0x0][_0x4aa82e(0xb8)]==_0x4aa82e(0xa4))var _0x4078d2=users[_0x4aa82e(0xa4)];else{if(_0xd6ef51[0x0][_0x4aa82e(0xb8)]==_0x4aa82e(0xbe))var _0x4078d2=users[_0x4aa82e(0x88)];else{if(_0xd6ef51[0x0]['language']=='Chinese')var _0x4078d2=users[_0x4aa82e(0xc4)];else{if(_0xd6ef51[0x0]['language']==_0x4aa82e(0xb1))var _0x4078d2=users[_0x4aa82e(0xaa)];}}}}}}}_0x593fdf['status'](0xc8)[_0x4aa82e(0x9a)]({'data':_0x4b16f6,'language':_0x4078d2[_0x4aa82e(0xac)]});}}catch(_0x2e3595){console['log'](_0x2e3595);}}),router['get']('/view/warehouse/:id',auth,async(_0x38425f,_0xd3bc4c)=>{var _0x500343=a0_0x1d39aa;try{const _0x1091db=_0x38425f[_0x500343(0xa2)]['id'];console[_0x500343(0x96)](_0x1091db);const _0x5e13e4=await master_shop[_0x500343(0x8c)]();console[_0x500343(0x96)](_0x500343(0xb6),_0x5e13e4);const _0x4a1667=await warehouse[_0x500343(0xb2)]([{'$match':{'name':_0x1091db}},{'$unwind':'$product_details'},{'$lookup':{'from':'products','localField':'product_details.product_name','foreignField':_0x500343(0xb9),'as':'product_docs'}},{'$unwind':_0x500343(0xb5)},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x500343(0xb3),'category':_0x500343(0x91),'brand':_0x500343(0xb4),'sku':_0x500343(0x9d),'unit':'$product_docs.unit','rak':'product_details.rak_name','bin':'product_details.bin_name'}}]);console[_0x500343(0x96)](_0x4a1667);if(_0x5e13e4[0x0][_0x500343(0xb8)]=='English\x20(US)'){var _0x1b669c=users['English'];console[_0x500343(0x96)](_0x1b669c);}else{if(_0x5e13e4[0x0][_0x500343(0xb8)]==_0x500343(0xba))var _0x1b669c=users[_0x500343(0xba)];else{if(_0x5e13e4[0x0][_0x500343(0xb8)]=='German')var _0x1b669c=users[_0x500343(0x93)];else{if(_0x5e13e4[0x0][_0x500343(0xb8)]==_0x500343(0xa8))var _0x1b669c=users[_0x500343(0xa8)];else{if(_0x5e13e4[0x0]['language']=='French')var _0x1b669c=users['French'];else{if(_0x5e13e4[0x0][_0x500343(0xb8)]=='Portuguese\x20(BR)')var _0x1b669c=users[_0x500343(0x88)];else{if(_0x5e13e4[0x0][_0x500343(0xb8)]==_0x500343(0xc4))var _0x1b669c=users[_0x500343(0xc4)];else{if(_0x5e13e4[0x0][_0x500343(0xb8)]==_0x500343(0xb1))var _0x1b669c=users[_0x500343(0xaa)];}}}}}}}_0xd3bc4c[_0x500343(0x9f)](0xc8)[_0x500343(0x9a)]({'data':_0x4a1667,'language':_0x1b669c});}catch(_0x386503){console[_0x500343(0x96)](_0x386503);}}),router[a0_0x1d39aa(0xbd)](a0_0x1d39aa(0xae),auth,async(_0x3698bb,_0x2ca6b9)=>{var _0x3e965a=a0_0x1d39aa;try{const _0x196518=_0x3698bb[_0x3e965a(0xa2)]['id'];console[_0x3e965a(0x96)](_0x196518);const _0x3dfe5a=await master_shop[_0x3e965a(0x8c)]();console[_0x3e965a(0x96)]('master',_0x3dfe5a);const _0x4131ff=await product['findOne']({'name':_0x196518});console[_0x3e965a(0x96)]('product_data',_0x4131ff);const _0x1cb2e9=await warehouse[_0x3e965a(0xb2)]([{'$unwind':_0x3e965a(0x89)},{'$match':{'product_details.product_name':_0x196518}},{'$project':{'name':0x1,'product_name':_0x3e965a(0x97),'product_stock':_0x3e965a(0xb3)}}]);console[_0x3e965a(0x96)](_0x3e965a(0x94),_0x1cb2e9);if(_0x3dfe5a[0x0][_0x3e965a(0xb8)]==_0x3e965a(0xbc)){var _0x2c5419=users['English'];console[_0x3e965a(0x96)](_0x2c5419);}else{if(_0x3dfe5a[0x0][_0x3e965a(0xb8)]==_0x3e965a(0xba))var _0x2c5419=users[_0x3e965a(0xba)];else{if(_0x3dfe5a[0x0]['language']==_0x3e965a(0x93))var _0x2c5419=users[_0x3e965a(0x93)];else{if(_0x3dfe5a[0x0][_0x3e965a(0xb8)]==_0x3e965a(0xa8))var _0x2c5419=users[_0x3e965a(0xa8)];else{if(_0x3dfe5a[0x0][_0x3e965a(0xb8)]==_0x3e965a(0xa4))var _0x2c5419=users[_0x3e965a(0xa4)];else{if(_0x3dfe5a[0x0]['language']==_0x3e965a(0xbe))var _0x2c5419=users[_0x3e965a(0x88)];else{if(_0x3dfe5a[0x0][_0x3e965a(0xb8)]=='Chinese')var _0x2c5419=users[_0x3e965a(0xc4)];else{if(_0x3dfe5a[0x0]['language']=='Arabic\x20(ae)')var _0x2c5419=users[_0x3e965a(0xaa)];}}}}}}}_0x2ca6b9[_0x3e965a(0x9f)](0xc8)[_0x3e965a(0x9a)]({'product_data':_0x4131ff,'warehouse_data':_0x1cb2e9,'language':_0x2c5419});}catch(_0x315877){console[_0x3e965a(0x96)](_0x315877);}}),router[a0_0x1d39aa(0x92)](a0_0x1d39aa(0x8a),async(_0x2f81f1,_0x73a9a5)=>{var _0x308f4b=a0_0x1d39aa;const {warehouseNew:_0x4c11ba,rooms:_0x8d1e63,Type:_0x9d1f32,process_cat:_0x7fad8e,room_cat:_0x164e61}=_0x2f81f1[_0x308f4b(0xa7)];let _0x49391c;console[_0x308f4b(0x96)](_0x2f81f1[_0x308f4b(0xa7)]);if(_0x7fad8e=='raw')_0x49391c=await warehouse['aggregate']([{'$match':{'name':_0x4c11ba,'room':_0x8d1e63,'warehouse_category':_0x308f4b(0xc0)}},{'$unwind':_0x308f4b(0x89)},{'$match':{'product_details.type':_0x9d1f32,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x7fad8e==_0x308f4b(0xa6)?_0x8d1e63==_0x308f4b(0xbf)?_0x49391c=await warehouse[_0x308f4b(0xb2)]([{'$match':{'name':_0x4c11ba,'warehouse_category':_0x308f4b(0xc6)}},{'$unwind':_0x308f4b(0x89)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x49391c=await warehouse['aggregate']([{'$match':{'name':_0x4c11ba,'room':_0x8d1e63,'warehouse_category':_0x308f4b(0xc6)}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0x308f4b(0x96)]('ssd'),Include=[{'$unwind':_0x308f4b(0x89)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x49391c=await warehouse['aggregate'](Include));_0x73a9a5[_0x308f4b(0x9a)](_0x49391c);}),router['post'](a0_0x1d39aa(0x95),async(_0x527887,_0x1f02b9)=>{var _0x15067f=a0_0x1d39aa;const {warehouseNew:_0x4d014c,rooms:_0x35d17a,Type:_0x3a9e35,process_cat:_0x589905,room_cat:_0x19c263}=_0x527887[_0x15067f(0xa7)],_0x1ab0fc=await product[_0x15067f(0x8c)]();_0x1f02b9[_0x15067f(0x9a)](_0x1ab0fc);}),module['exports']=router;