function a0_0x2b9a(){var _0x19cdcc=['user','products','English','4199584cYUKbp','German','product_details.bin_name','findOne','Spanish','body','warehouse','../models/all_models','96369weUSIr','product_details.rak_name','Portuguese','params','7975758vRHQLK','$product_docs','language','5041110LKbSPe','post','log','/Reports_product','$product_details.product_name','exports','product_data','/Reports','success','raw','finish','../public/language/languages.json','Arabic\x20(ae)','flash','English\x20(US)','$product_docs.sku','All','Portuguese\x20(BR)','$product_docs.unit','/view/:id','Chinese','aggregate','9FMzpaQ','/view','product_docs','name','45498pMktlu','render','Finished\x20Goods','2GlaNZu','role_data','errors','/view/warehouse/:id','2354870QIyqiq','email','937548jrXGUT','get','master','../middleware/auth','find','$product_details','$product_docs.category','ssd','$product_details.product_stock','Arabic','111','Raw\x20Materials','11DjlgQS','json','Hindi','9RIdsUl','status','French'];a0_0x2b9a=function(){return _0x19cdcc;};return a0_0x2b9a();}var a0_0x5e4297=a0_0x5ac4;(function(_0x3e76c6,_0x5a204d){var _0x3a20c7=a0_0x5ac4,_0x30a0ad=_0x3e76c6();while(!![]){try{var _0x3c28a1=parseInt(_0x3a20c7(0x129))/0x1*(parseInt(_0x3a20c7(0x126))/0x2)+-parseInt(_0x3a20c7(0x13e))/0x3*(-parseInt(_0x3a20c7(0x12f))/0x4)+-parseInt(_0x3a20c7(0x153))/0x5+parseInt(_0x3a20c7(0x150))/0x6+-parseInt(_0x3a20c7(0x14c))/0x7+parseInt(_0x3a20c7(0x144))/0x8*(-parseInt(_0x3a20c7(0x169))/0x9)+-parseInt(_0x3a20c7(0x12d))/0xa*(-parseInt(_0x3a20c7(0x13b))/0xb);if(_0x3c28a1===_0x5a204d)break;else _0x30a0ad['push'](_0x30a0ad['shift']());}catch(_0x51e751){_0x30a0ad['push'](_0x30a0ad['shift']());}}}(a0_0x2b9a,0xbb226));const express=require('express'),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x5e4297(0x14b)),auth=require(a0_0x5e4297(0x132)),users=require(a0_0x5e4297(0x15e));function a0_0x5ac4(_0x251b03,_0x58c70d){var _0x2b9a47=a0_0x2b9a();return a0_0x5ac4=function(_0x5ac4cb,_0x59e6dc){_0x5ac4cb=_0x5ac4cb-0x126;var _0x119363=_0x2b9a47[_0x5ac4cb];return _0x119363;},a0_0x5ac4(_0x251b03,_0x58c70d);}router[a0_0x5e4297(0x130)](a0_0x5e4297(0x16a),auth,async(_0x314114,_0xbe58c1)=>{var _0x57a4e3=a0_0x5e4297;try{const _0x4cbdf0=_0x314114['user'];console[_0x57a4e3(0x155)](_0x57a4e3(0x12a),_0x314114[_0x57a4e3(0x141)]);const _0x30686e=await profile[_0x57a4e3(0x147)]({'email':_0x4cbdf0[_0x57a4e3(0x12e)]}),_0x318d12=await master_shop[_0x57a4e3(0x133)]();console[_0x57a4e3(0x155)](_0x57a4e3(0x131),_0x318d12);const _0xb72648=await warehouse['find']({}),_0x18469e=await product[_0x57a4e3(0x133)]({});if(_0x318d12[0x0]['language']==_0x57a4e3(0x161)){var _0x4eb6ed=users[_0x57a4e3(0x143)];console[_0x57a4e3(0x155)](_0x4eb6ed);}else{if(_0x318d12[0x0][_0x57a4e3(0x152)]==_0x57a4e3(0x13d))var _0x4eb6ed=users['Hindi'];else{if(_0x318d12[0x0]['language']==_0x57a4e3(0x145))var _0x4eb6ed=users[_0x57a4e3(0x145)];else{if(_0x318d12[0x0][_0x57a4e3(0x152)]==_0x57a4e3(0x148))var _0x4eb6ed=users['Spanish'];else{if(_0x318d12[0x0]['language']==_0x57a4e3(0x140))var _0x4eb6ed=users[_0x57a4e3(0x140)];else{if(_0x318d12[0x0][_0x57a4e3(0x152)]==_0x57a4e3(0x164))var _0x4eb6ed=users[_0x57a4e3(0x14e)];else{if(_0x318d12[0x0][_0x57a4e3(0x152)]==_0x57a4e3(0x167))var _0x4eb6ed=users['Chinese'];else{if(_0x318d12[0x0][_0x57a4e3(0x152)]==_0x57a4e3(0x15f))var _0x4eb6ed=users[_0x57a4e3(0x138)];}}}}}}}_0xbe58c1[_0x57a4e3(0x127)]('stock_report',{'success':_0x314114[_0x57a4e3(0x160)](_0x57a4e3(0x15b)),'errors':_0x314114[_0x57a4e3(0x160)](_0x57a4e3(0x12b)),'role':_0x4cbdf0,'profile':_0x30686e,'master_shop':_0x318d12,'warehouse':_0xb72648,'product':_0x18469e,'warehouse_doc':[],'product_doc':[],'language':_0x4eb6ed});}catch(_0x3140b2){console[_0x57a4e3(0x155)](_0x3140b2);}}),router[a0_0x5e4297(0x130)](a0_0x5e4297(0x166),auth,async(_0x12d9bf,_0x5c3bd1)=>{var _0x2707ba=a0_0x5e4297;try{const _0x421289=await master_shop[_0x2707ba(0x133)]();console[_0x2707ba(0x155)](_0x2707ba(0x131),_0x421289);if(_0x12d9bf[_0x2707ba(0x14f)]['id']==_0x2707ba(0x14a)){const _0x18493f=await warehouse[_0x2707ba(0x133)]();console[_0x2707ba(0x155)](_0x18493f);if(_0x421289[0x0][_0x2707ba(0x152)]==_0x2707ba(0x161)){var _0x49b810=users[_0x2707ba(0x143)];console['log'](_0x49b810);}else{if(_0x421289[0x0][_0x2707ba(0x152)]==_0x2707ba(0x13d))var _0x49b810=users['Hindi'];else{if(_0x421289[0x0][_0x2707ba(0x152)]=='German')var _0x49b810=users[_0x2707ba(0x145)];else{if(_0x421289[0x0][_0x2707ba(0x152)]==_0x2707ba(0x148))var _0x49b810=users[_0x2707ba(0x148)];else{if(_0x421289[0x0][_0x2707ba(0x152)]==_0x2707ba(0x140))var _0x49b810=users[_0x2707ba(0x140)];else{if(_0x421289[0x0][_0x2707ba(0x152)]=='Portuguese\x20(BR)')var _0x49b810=users['Portuguese'];else{if(_0x421289[0x0][_0x2707ba(0x152)]==_0x2707ba(0x167))var _0x49b810=users[_0x2707ba(0x167)];else{if(_0x421289[0x0][_0x2707ba(0x152)]==_0x2707ba(0x15f))var _0x49b810=users[_0x2707ba(0x138)];}}}}}}}_0x5c3bd1[_0x2707ba(0x13f)](0xc8)[_0x2707ba(0x13c)]({'data':_0x18493f,'language':_0x49b810[_0x2707ba(0x14a)]});}else{const _0x24d11a=await product['find']();console[_0x2707ba(0x155)](_0x2707ba(0x139),_0x24d11a);if(_0x421289[0x0][_0x2707ba(0x152)]==_0x2707ba(0x161)){var _0x49b810=users[_0x2707ba(0x143)];console['log'](_0x49b810);}else{if(_0x421289[0x0][_0x2707ba(0x152)]==_0x2707ba(0x13d))var _0x49b810=users['Hindi'];else{if(_0x421289[0x0][_0x2707ba(0x152)]=='German')var _0x49b810=users[_0x2707ba(0x145)];else{if(_0x421289[0x0][_0x2707ba(0x152)]==_0x2707ba(0x148))var _0x49b810=users[_0x2707ba(0x148)];else{if(_0x421289[0x0]['language']==_0x2707ba(0x140))var _0x49b810=users[_0x2707ba(0x140)];else{if(_0x421289[0x0]['language']==_0x2707ba(0x164))var _0x49b810=users[_0x2707ba(0x14e)];else{if(_0x421289[0x0][_0x2707ba(0x152)]==_0x2707ba(0x167))var _0x49b810=users[_0x2707ba(0x167)];else{if(_0x421289[0x0][_0x2707ba(0x152)]==_0x2707ba(0x15f))var _0x49b810=users[_0x2707ba(0x138)];}}}}}}}_0x5c3bd1['status'](0xc8)[_0x2707ba(0x13c)]({'data':_0x24d11a,'language':_0x49b810[_0x2707ba(0x142)]});}}catch(_0x3472f0){console[_0x2707ba(0x155)](_0x3472f0);}}),router[a0_0x5e4297(0x130)](a0_0x5e4297(0x12c),auth,async(_0x39fedd,_0x64e710)=>{var _0x3f0d20=a0_0x5e4297;try{const _0x5f36bd=_0x39fedd['params']['id'];console[_0x3f0d20(0x155)](_0x5f36bd);const _0x43e883=await master_shop[_0x3f0d20(0x133)]();console['log'](_0x3f0d20(0x131),_0x43e883);const _0x1e5792=await warehouse[_0x3f0d20(0x168)]([{'$match':{'name':_0x5f36bd}},{'$unwind':_0x3f0d20(0x134)},{'$lookup':{'from':_0x3f0d20(0x142),'localField':'product_details.product_name','foreignField':_0x3f0d20(0x16c),'as':_0x3f0d20(0x16b)}},{'$unwind':_0x3f0d20(0x151)},{'$project':{'name':0x1,'product_name':_0x3f0d20(0x157),'product_stock':_0x3f0d20(0x137),'category':_0x3f0d20(0x135),'brand':'$product_docs.brand','sku':_0x3f0d20(0x162),'unit':_0x3f0d20(0x165),'rak':_0x3f0d20(0x14d),'bin':_0x3f0d20(0x146)}}]);console[_0x3f0d20(0x155)](_0x1e5792);if(_0x43e883[0x0][_0x3f0d20(0x152)]==_0x3f0d20(0x161)){var _0x3aed28=users[_0x3f0d20(0x143)];console[_0x3f0d20(0x155)](_0x3aed28);}else{if(_0x43e883[0x0][_0x3f0d20(0x152)]==_0x3f0d20(0x13d))var _0x3aed28=users[_0x3f0d20(0x13d)];else{if(_0x43e883[0x0][_0x3f0d20(0x152)]==_0x3f0d20(0x145))var _0x3aed28=users[_0x3f0d20(0x145)];else{if(_0x43e883[0x0][_0x3f0d20(0x152)]=='Spanish')var _0x3aed28=users['Spanish'];else{if(_0x43e883[0x0][_0x3f0d20(0x152)]==_0x3f0d20(0x140))var _0x3aed28=users[_0x3f0d20(0x140)];else{if(_0x43e883[0x0][_0x3f0d20(0x152)]=='Portuguese\x20(BR)')var _0x3aed28=users[_0x3f0d20(0x14e)];else{if(_0x43e883[0x0][_0x3f0d20(0x152)]==_0x3f0d20(0x167))var _0x3aed28=users[_0x3f0d20(0x167)];else{if(_0x43e883[0x0][_0x3f0d20(0x152)]==_0x3f0d20(0x15f))var _0x3aed28=users[_0x3f0d20(0x138)];}}}}}}}_0x64e710[_0x3f0d20(0x13f)](0xc8)[_0x3f0d20(0x13c)]({'data':_0x1e5792,'language':_0x3aed28});}catch(_0x11a760){console[_0x3f0d20(0x155)](_0x11a760);}}),router['get']('/view/product/:id',auth,async(_0x2258c9,_0x101e8c)=>{var _0x143247=a0_0x5e4297;try{const _0x19e555=_0x2258c9[_0x143247(0x14f)]['id'];console[_0x143247(0x155)](_0x19e555);const _0x363f7f=await master_shop[_0x143247(0x133)]();console[_0x143247(0x155)](_0x143247(0x131),_0x363f7f);const _0x28304f=await product[_0x143247(0x147)]({'name':_0x19e555});console['log'](_0x143247(0x159),_0x28304f);const _0x3e8e85=await warehouse[_0x143247(0x168)]([{'$unwind':_0x143247(0x134)},{'$match':{'product_details.product_name':_0x19e555}},{'$project':{'name':0x1,'product_name':_0x143247(0x157),'product_stock':_0x143247(0x137)}}]);console['log']('warehouse_data',_0x3e8e85);if(_0x363f7f[0x0][_0x143247(0x152)]==_0x143247(0x161)){var _0xf1efd=users[_0x143247(0x143)];console[_0x143247(0x155)](_0xf1efd);}else{if(_0x363f7f[0x0]['language']==_0x143247(0x13d))var _0xf1efd=users[_0x143247(0x13d)];else{if(_0x363f7f[0x0][_0x143247(0x152)]==_0x143247(0x145))var _0xf1efd=users[_0x143247(0x145)];else{if(_0x363f7f[0x0][_0x143247(0x152)]==_0x143247(0x148))var _0xf1efd=users[_0x143247(0x148)];else{if(_0x363f7f[0x0]['language']==_0x143247(0x140))var _0xf1efd=users[_0x143247(0x140)];else{if(_0x363f7f[0x0]['language']==_0x143247(0x164))var _0xf1efd=users[_0x143247(0x14e)];else{if(_0x363f7f[0x0]['language']=='Chinese')var _0xf1efd=users[_0x143247(0x167)];else{if(_0x363f7f[0x0][_0x143247(0x152)]==_0x143247(0x15f))var _0xf1efd=users[_0x143247(0x138)];}}}}}}}_0x101e8c[_0x143247(0x13f)](0xc8)[_0x143247(0x13c)]({'product_data':_0x28304f,'warehouse_data':_0x3e8e85,'language':_0xf1efd});}catch(_0x10f45f){console[_0x143247(0x155)](_0x10f45f);}}),router['post'](a0_0x5e4297(0x15a),async(_0x5e908d,_0x215220)=>{var _0x389f62=a0_0x5e4297;const {warehouseNew:_0x1990e3,rooms:_0x8f79bd,Type:_0x430a61,process_cat:_0x57093b,room_cat:_0xa583d6}=_0x5e908d[_0x389f62(0x149)];let _0x910352;console[_0x389f62(0x155)](_0x5e908d[_0x389f62(0x149)]);if(_0x57093b==_0x389f62(0x15c))_0x910352=await warehouse['aggregate']([{'$match':{'name':_0x1990e3,'room':_0x8f79bd,'warehouse_category':_0x389f62(0x13a)}},{'$unwind':'$product_details'},{'$match':{'product_details.type':_0x430a61,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x57093b==_0x389f62(0x15d)?_0x8f79bd==_0x389f62(0x163)?_0x910352=await warehouse['aggregate']([{'$match':{'name':_0x1990e3,'warehouse_category':_0x389f62(0x128)}},{'$unwind':'$product_details'},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x910352=await warehouse['aggregate']([{'$match':{'name':_0x1990e3,'room':_0x8f79bd,'warehouse_category':_0x389f62(0x128)}},{'$unwind':_0x389f62(0x134)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console['log'](_0x389f62(0x136)),Include=[{'$unwind':_0x389f62(0x134)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x910352=await warehouse['aggregate'](Include));_0x215220[_0x389f62(0x13c)](_0x910352);}),router[a0_0x5e4297(0x154)](a0_0x5e4297(0x156),async(_0x13db7d,_0x2b4021)=>{var _0x1ba8cc=a0_0x5e4297;const {warehouseNew:_0x33c90c,rooms:_0xa1e0a4,Type:_0x5be0fd,process_cat:_0x51e407,room_cat:_0x312d6d}=_0x13db7d['body'],_0x30110e=await product[_0x1ba8cc(0x133)]();_0x2b4021[_0x1ba8cc(0x13c)](_0x30110e);}),module[a0_0x5e4297(0x158)]=router;