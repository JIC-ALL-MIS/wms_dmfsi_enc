var a0_0x29d575=a0_0x2ccb;function a0_0x2ccb(_0x64b78c,_0x2108e2){var _0x2dcb7f=a0_0x2dcb();return a0_0x2ccb=function(_0x2ccb67,_0x26bece){_0x2ccb67=_0x2ccb67-0x142;var _0x5bf054=_0x2dcb7f[_0x2ccb67];return _0x5bf054;},a0_0x2ccb(_0x64b78c,_0x2108e2);}(function(_0x20cae6,_0x1be676){var _0x421820=a0_0x2ccb,_0x4be628=_0x20cae6();while(!![]){try{var _0x305d60=parseInt(_0x421820(0x14a))/0x1+-parseInt(_0x421820(0x14c))/0x2+parseInt(_0x421820(0x151))/0x3+-parseInt(_0x421820(0x15f))/0x4+parseInt(_0x421820(0x150))/0x5*(parseInt(_0x421820(0x158))/0x6)+-parseInt(_0x421820(0x167))/0x7+parseInt(_0x421820(0x174))/0x8*(parseInt(_0x421820(0x173))/0x9);if(_0x305d60===_0x1be676)break;else _0x4be628['push'](_0x4be628['shift']());}catch(_0x3e3c9a){_0x4be628['push'](_0x4be628['shift']());}}}(a0_0x2dcb,0x35e90));const express=require('express'),app=express(),router=express[a0_0x29d575(0x15e)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x29d575(0x160)),auth=require('../middleware/auth'),users=require(a0_0x29d575(0x14b));function a0_0x2dcb(){var _0x2c3b9a=['95mzfLXW','268809mhAZQT','find','Arabic\x20(ae)','user','$product_docs.sku','German','products','112494RKNKSs','English','Spanish','render','name','English\x20(US)','Router','712804QlrzQd','../models/all_models','stock_report','log','email','aggregate','get','post','1473101NhGriy','All','Chinese','Arabic','warehouse_data','/Reports_product','success','params','Portuguese\x20(BR)','warehouse','body','product_details.rak_name','346554Wlslej','32ePQWyL','json','111','product_data','/Reports','$product_details.product_stock','ssd','Hindi','language','Portuguese','master','French','status','findOne','/view/warehouse/:id','errors','/view','product_docs','finish','177076OJJYSC','../public/language/languages.json','334948IunMYs','flash','Finished\x20Goods','$product_details'];a0_0x2dcb=function(){return _0x2c3b9a;};return a0_0x2dcb();}router[a0_0x29d575(0x165)](a0_0x29d575(0x147),auth,async(_0xf8e33c,_0x4fa90c)=>{var _0x540afd=a0_0x29d575;try{const _0x2c64a2=_0xf8e33c[_0x540afd(0x154)];console[_0x540afd(0x162)]('role_data',_0xf8e33c[_0x540afd(0x154)]);const _0x4c4a85=await profile['findOne']({'email':_0x2c64a2[_0x540afd(0x163)]}),_0x16d358=await master_shop[_0x540afd(0x152)]();console['log']('master',_0x16d358);const _0x2a29b3=await warehouse[_0x540afd(0x152)]({}),_0x16d87c=await product[_0x540afd(0x152)]({});if(_0x16d358[0x0]['language']==_0x540afd(0x15d)){var _0x38c09b=users[_0x540afd(0x159)];console['log'](_0x38c09b);}else{if(_0x16d358[0x0]['language']=='Hindi')var _0x38c09b=users[_0x540afd(0x17b)];else{if(_0x16d358[0x0]['language']==_0x540afd(0x156))var _0x38c09b=users[_0x540afd(0x156)];else{if(_0x16d358[0x0][_0x540afd(0x17c)]=='Spanish')var _0x38c09b=users[_0x540afd(0x15a)];else{if(_0x16d358[0x0]['language']=='French')var _0x38c09b=users[_0x540afd(0x142)];else{if(_0x16d358[0x0][_0x540afd(0x17c)]==_0x540afd(0x16f))var _0x38c09b=users['Portuguese'];else{if(_0x16d358[0x0][_0x540afd(0x17c)]=='Chinese')var _0x38c09b=users[_0x540afd(0x169)];else{if(_0x16d358[0x0]['language']==_0x540afd(0x153))var _0x38c09b=users[_0x540afd(0x16a)];}}}}}}}_0x4fa90c[_0x540afd(0x15b)](_0x540afd(0x161),{'success':_0xf8e33c['flash'](_0x540afd(0x16d)),'errors':_0xf8e33c[_0x540afd(0x14d)](_0x540afd(0x146)),'role':_0x2c64a2,'profile':_0x4c4a85,'master_shop':_0x16d358,'warehouse':_0x2a29b3,'product':_0x16d87c,'warehouse_doc':[],'product_doc':[],'language':_0x38c09b});}catch(_0x1c39f5){console[_0x540afd(0x162)](_0x1c39f5);}}),router[a0_0x29d575(0x165)]('/view/:id',auth,async(_0x2a34d3,_0x54c40b)=>{var _0x58936e=a0_0x29d575;try{const _0x8d64a=await master_shop[_0x58936e(0x152)]();console[_0x58936e(0x162)](_0x58936e(0x17e),_0x8d64a);if(_0x2a34d3[_0x58936e(0x16e)]['id']==_0x58936e(0x170)){const _0x3a7267=await warehouse[_0x58936e(0x152)]();console[_0x58936e(0x162)](_0x3a7267);if(_0x8d64a[0x0][_0x58936e(0x17c)]==_0x58936e(0x15d)){var _0x5812bb=users[_0x58936e(0x159)];console[_0x58936e(0x162)](_0x5812bb);}else{if(_0x8d64a[0x0][_0x58936e(0x17c)]==_0x58936e(0x17b))var _0x5812bb=users[_0x58936e(0x17b)];else{if(_0x8d64a[0x0][_0x58936e(0x17c)]==_0x58936e(0x156))var _0x5812bb=users[_0x58936e(0x156)];else{if(_0x8d64a[0x0][_0x58936e(0x17c)]=='Spanish')var _0x5812bb=users[_0x58936e(0x15a)];else{if(_0x8d64a[0x0]['language']=='French')var _0x5812bb=users[_0x58936e(0x142)];else{if(_0x8d64a[0x0]['language']==_0x58936e(0x16f))var _0x5812bb=users[_0x58936e(0x17d)];else{if(_0x8d64a[0x0][_0x58936e(0x17c)]=='Chinese')var _0x5812bb=users['Chinese'];else{if(_0x8d64a[0x0][_0x58936e(0x17c)]==_0x58936e(0x153))var _0x5812bb=users['Arabic'];}}}}}}}_0x54c40b[_0x58936e(0x143)](0xc8)[_0x58936e(0x175)]({'data':_0x3a7267,'language':_0x5812bb['warehouse']});}else{const _0x3a909c=await product[_0x58936e(0x152)]();console[_0x58936e(0x162)](_0x58936e(0x176),_0x3a909c);if(_0x8d64a[0x0][_0x58936e(0x17c)]==_0x58936e(0x15d)){var _0x5812bb=users[_0x58936e(0x159)];console[_0x58936e(0x162)](_0x5812bb);}else{if(_0x8d64a[0x0][_0x58936e(0x17c)]==_0x58936e(0x17b))var _0x5812bb=users[_0x58936e(0x17b)];else{if(_0x8d64a[0x0]['language']==_0x58936e(0x156))var _0x5812bb=users[_0x58936e(0x156)];else{if(_0x8d64a[0x0][_0x58936e(0x17c)]==_0x58936e(0x15a))var _0x5812bb=users[_0x58936e(0x15a)];else{if(_0x8d64a[0x0][_0x58936e(0x17c)]==_0x58936e(0x142))var _0x5812bb=users[_0x58936e(0x142)];else{if(_0x8d64a[0x0][_0x58936e(0x17c)]==_0x58936e(0x16f))var _0x5812bb=users['Portuguese'];else{if(_0x8d64a[0x0][_0x58936e(0x17c)]==_0x58936e(0x169))var _0x5812bb=users[_0x58936e(0x169)];else{if(_0x8d64a[0x0][_0x58936e(0x17c)]=='Arabic\x20(ae)')var _0x5812bb=users[_0x58936e(0x16a)];}}}}}}}_0x54c40b[_0x58936e(0x143)](0xc8)[_0x58936e(0x175)]({'data':_0x3a909c,'language':_0x5812bb[_0x58936e(0x157)]});}}catch(_0x29175e){console[_0x58936e(0x162)](_0x29175e);}}),router[a0_0x29d575(0x165)](a0_0x29d575(0x145),auth,async(_0x2d57b6,_0x34da81)=>{var _0x247eda=a0_0x29d575;try{const _0x104656=_0x2d57b6[_0x247eda(0x16e)]['id'];console[_0x247eda(0x162)](_0x104656);const _0x6f8664=await master_shop['find']();console[_0x247eda(0x162)](_0x247eda(0x17e),_0x6f8664);const _0x22aadf=await warehouse[_0x247eda(0x164)]([{'$match':{'name':_0x104656}},{'$unwind':'$product_details'},{'$lookup':{'from':'products','localField':'product_details.product_name','foreignField':_0x247eda(0x15c),'as':_0x247eda(0x148)}},{'$unwind':'$product_docs'},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x247eda(0x179),'category':'$product_docs.category','brand':'$product_docs.brand','sku':_0x247eda(0x155),'unit':'$product_docs.unit','rak':_0x247eda(0x172),'bin':'product_details.bin_name'}}]);console[_0x247eda(0x162)](_0x22aadf);if(_0x6f8664[0x0][_0x247eda(0x17c)]==_0x247eda(0x15d)){var _0x3d7414=users[_0x247eda(0x159)];console['log'](_0x3d7414);}else{if(_0x6f8664[0x0]['language']==_0x247eda(0x17b))var _0x3d7414=users[_0x247eda(0x17b)];else{if(_0x6f8664[0x0][_0x247eda(0x17c)]==_0x247eda(0x156))var _0x3d7414=users['German'];else{if(_0x6f8664[0x0][_0x247eda(0x17c)]==_0x247eda(0x15a))var _0x3d7414=users[_0x247eda(0x15a)];else{if(_0x6f8664[0x0][_0x247eda(0x17c)]==_0x247eda(0x142))var _0x3d7414=users[_0x247eda(0x142)];else{if(_0x6f8664[0x0][_0x247eda(0x17c)]==_0x247eda(0x16f))var _0x3d7414=users[_0x247eda(0x17d)];else{if(_0x6f8664[0x0]['language']==_0x247eda(0x169))var _0x3d7414=users['Chinese'];else{if(_0x6f8664[0x0][_0x247eda(0x17c)]==_0x247eda(0x153))var _0x3d7414=users[_0x247eda(0x16a)];}}}}}}}_0x34da81[_0x247eda(0x143)](0xc8)[_0x247eda(0x175)]({'data':_0x22aadf,'language':_0x3d7414});}catch(_0x145b19){console['log'](_0x145b19);}}),router[a0_0x29d575(0x165)]('/view/product/:id',auth,async(_0x3be221,_0x16f7ba)=>{var _0x5b8faf=a0_0x29d575;try{const _0x5c1178=_0x3be221[_0x5b8faf(0x16e)]['id'];console['log'](_0x5c1178);const _0x48fecc=await master_shop[_0x5b8faf(0x152)]();console[_0x5b8faf(0x162)](_0x5b8faf(0x17e),_0x48fecc);const _0xf49132=await product[_0x5b8faf(0x144)]({'name':_0x5c1178});console[_0x5b8faf(0x162)](_0x5b8faf(0x177),_0xf49132);const _0x400f7c=await warehouse['aggregate']([{'$unwind':'$product_details'},{'$match':{'product_details.product_name':_0x5c1178}},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x5b8faf(0x179)}}]);console[_0x5b8faf(0x162)](_0x5b8faf(0x16b),_0x400f7c);if(_0x48fecc[0x0][_0x5b8faf(0x17c)]==_0x5b8faf(0x15d)){var _0x4d9eb2=users[_0x5b8faf(0x159)];console[_0x5b8faf(0x162)](_0x4d9eb2);}else{if(_0x48fecc[0x0]['language']==_0x5b8faf(0x17b))var _0x4d9eb2=users[_0x5b8faf(0x17b)];else{if(_0x48fecc[0x0]['language']==_0x5b8faf(0x156))var _0x4d9eb2=users[_0x5b8faf(0x156)];else{if(_0x48fecc[0x0]['language']==_0x5b8faf(0x15a))var _0x4d9eb2=users[_0x5b8faf(0x15a)];else{if(_0x48fecc[0x0][_0x5b8faf(0x17c)]=='French')var _0x4d9eb2=users['French'];else{if(_0x48fecc[0x0][_0x5b8faf(0x17c)]=='Portuguese\x20(BR)')var _0x4d9eb2=users[_0x5b8faf(0x17d)];else{if(_0x48fecc[0x0][_0x5b8faf(0x17c)]==_0x5b8faf(0x169))var _0x4d9eb2=users[_0x5b8faf(0x169)];else{if(_0x48fecc[0x0]['language']==_0x5b8faf(0x153))var _0x4d9eb2=users[_0x5b8faf(0x16a)];}}}}}}}_0x16f7ba[_0x5b8faf(0x143)](0xc8)[_0x5b8faf(0x175)]({'product_data':_0xf49132,'warehouse_data':_0x400f7c,'language':_0x4d9eb2});}catch(_0x1216e7){console[_0x5b8faf(0x162)](_0x1216e7);}}),router[a0_0x29d575(0x166)](a0_0x29d575(0x178),async(_0x1d56a5,_0x461087)=>{var _0xdedb2d=a0_0x29d575;const {warehouseNew:_0x105a34,rooms:_0x485584,Type:_0x47c1af,process_cat:_0x348db1,room_cat:_0x541832}=_0x1d56a5[_0xdedb2d(0x171)];let _0x70ddd9;console[_0xdedb2d(0x162)](_0x1d56a5[_0xdedb2d(0x171)]);if(_0x348db1=='raw')_0x70ddd9=await warehouse[_0xdedb2d(0x164)]([{'$match':{'name':_0x105a34,'room':_0x485584,'warehouse_category':'Raw\x20Materials'}},{'$unwind':_0xdedb2d(0x14f)},{'$match':{'product_details.type':_0x47c1af,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x348db1==_0xdedb2d(0x149)?_0x485584==_0xdedb2d(0x168)?_0x70ddd9=await warehouse['aggregate']([{'$match':{'name':_0x105a34,'warehouse_category':_0xdedb2d(0x14e)}},{'$unwind':_0xdedb2d(0x14f)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x70ddd9=await warehouse[_0xdedb2d(0x164)]([{'$match':{'name':_0x105a34,'room':_0x485584,'warehouse_category':_0xdedb2d(0x14e)}},{'$unwind':_0xdedb2d(0x14f)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console[_0xdedb2d(0x162)](_0xdedb2d(0x17a)),Include=[{'$unwind':_0xdedb2d(0x14f)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x70ddd9=await warehouse[_0xdedb2d(0x164)](Include));_0x461087[_0xdedb2d(0x175)](_0x70ddd9);}),router[a0_0x29d575(0x166)](a0_0x29d575(0x16c),async(_0xe219f6,_0x38f319)=>{var _0x51ea65=a0_0x29d575;const {warehouseNew:_0x512d55,rooms:_0x216ad8,Type:_0x217cac,process_cat:_0xad6223,room_cat:_0xacecde}=_0xe219f6[_0x51ea65(0x171)],_0x496bcf=await product['find']();_0x38f319[_0x51ea65(0x175)](_0x496bcf);}),module['exports']=router;