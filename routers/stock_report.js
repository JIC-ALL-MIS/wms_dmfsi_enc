var a0_0x5f5b55=a0_0x272a;function a0_0x2c73(){var _0x417e6a=['Router','111','exports','649080faYrtT','1317ljMTcV','$product_docs','warehouse','$product_docs.category','role_data','name','French','errors','7fEQASG','$product_details.product_name','success','1306482pGPHhR','status','email','Chinese','express','post','20fEBfKs','Portuguese\x20(BR)','../public/language/languages.json','2419083RJdUcD','/Reports_product','438AvwWyE','product_details.bin_name','English\x20(US)','master','product_data','find','/view/warehouse/:id','/view','156579cCgdBo','English','All','719540wnpZEg','German','product_details.rak_name','ssd','808068uTfILL','body','/view/:id','json','../middleware/auth','log','Finished\x20Goods','product_docs','product_details.product_name','$product_details.product_stock','finish','language','$product_details','$product_docs.unit','/Reports','get','Raw\x20Materials','Arabic\x20(ae)','warehouse_data','Arabic','$product_docs.brand','flash','findOne','Spanish','aggregate','Portuguese','params','/view/product/:id','render','$product_docs.sku','Hindi','products','../models/all_models','user'];a0_0x2c73=function(){return _0x417e6a;};return a0_0x2c73();}function a0_0x272a(_0x2a3051,_0x1209e7){var _0x2c732d=a0_0x2c73();return a0_0x272a=function(_0x272ae4,_0x42dfc7){_0x272ae4=_0x272ae4-0x7b;var _0x4634e2=_0x2c732d[_0x272ae4];return _0x4634e2;},a0_0x272a(_0x2a3051,_0x1209e7);}(function(_0x1b31af,_0x1233cd){var _0x243a84=a0_0x272a,_0x53e0f7=_0x1b31af();while(!![]){try{var _0x2cdc47=parseInt(_0x243a84(0x89))/0x1+parseInt(_0x243a84(0x81))/0x2*(parseInt(_0x243a84(0xb6))/0x3)+-parseInt(_0x243a84(0x90))/0x4+-parseInt(_0x243a84(0x8c))/0x5+parseInt(_0x243a84(0xc1))/0x6*(-parseInt(_0x243a84(0xbe))/0x7)+-parseInt(_0x243a84(0xb5))/0x8+parseInt(_0x243a84(0x7f))/0x9*(parseInt(_0x243a84(0x7c))/0xa);if(_0x2cdc47===_0x1233cd)break;else _0x53e0f7['push'](_0x53e0f7['shift']());}catch(_0xf97622){_0x53e0f7['push'](_0x53e0f7['shift']());}}}(a0_0x2c73,0x2384f));const express=require(a0_0x5f5b55(0xc5)),app=express(),router=express[a0_0x5f5b55(0xb2)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases}=require(a0_0x5f5b55(0xb0)),auth=require(a0_0x5f5b55(0x94)),users=require(a0_0x5f5b55(0x7e));router[a0_0x5f5b55(0x9f)](a0_0x5f5b55(0x88),auth,async(_0x10f0b0,_0x146ffe)=>{var _0x30acb7=a0_0x5f5b55;try{const _0x2b6937=_0x10f0b0[_0x30acb7(0xb1)];console[_0x30acb7(0x95)](_0x30acb7(0xba),_0x10f0b0[_0x30acb7(0xb1)]);const _0x416c21=await profile[_0x30acb7(0xa6)]({'email':_0x2b6937[_0x30acb7(0xc3)]}),_0x163ef2=await master_shop[_0x30acb7(0x86)]();console[_0x30acb7(0x95)](_0x30acb7(0x84),_0x163ef2);const _0x505080=await warehouse[_0x30acb7(0x86)]({}),_0x3df639=await product[_0x30acb7(0x86)]({});if(_0x163ef2[0x0][_0x30acb7(0x9b)]==_0x30acb7(0x83)){var _0x4e15b7=users[_0x30acb7(0x8a)];console[_0x30acb7(0x95)](_0x4e15b7);}else{if(_0x163ef2[0x0][_0x30acb7(0x9b)]==_0x30acb7(0xae))var _0x4e15b7=users[_0x30acb7(0xae)];else{if(_0x163ef2[0x0][_0x30acb7(0x9b)]=='German')var _0x4e15b7=users['German'];else{if(_0x163ef2[0x0]['language']==_0x30acb7(0xa7))var _0x4e15b7=users[_0x30acb7(0xa7)];else{if(_0x163ef2[0x0]['language']==_0x30acb7(0xbc))var _0x4e15b7=users[_0x30acb7(0xbc)];else{if(_0x163ef2[0x0][_0x30acb7(0x9b)]==_0x30acb7(0x7d))var _0x4e15b7=users[_0x30acb7(0xa9)];else{if(_0x163ef2[0x0][_0x30acb7(0x9b)]=='Chinese')var _0x4e15b7=users[_0x30acb7(0xc4)];else{if(_0x163ef2[0x0][_0x30acb7(0x9b)]==_0x30acb7(0xa1))var _0x4e15b7=users[_0x30acb7(0xa3)];}}}}}}}_0x146ffe[_0x30acb7(0xac)]('stock_report',{'success':_0x10f0b0[_0x30acb7(0xa5)](_0x30acb7(0xc0)),'errors':_0x10f0b0[_0x30acb7(0xa5)](_0x30acb7(0xbd)),'role':_0x2b6937,'profile':_0x416c21,'master_shop':_0x163ef2,'warehouse':_0x505080,'product':_0x3df639,'warehouse_doc':[],'product_doc':[],'language':_0x4e15b7});}catch(_0xa7159a){console['log'](_0xa7159a);}}),router['get'](a0_0x5f5b55(0x92),auth,async(_0x20da92,_0x4aca5e)=>{var _0x2adc98=a0_0x5f5b55;try{const _0x5a7df4=await master_shop[_0x2adc98(0x86)]();console[_0x2adc98(0x95)](_0x2adc98(0x84),_0x5a7df4);if(_0x20da92[_0x2adc98(0xaa)]['id']==_0x2adc98(0xb8)){const _0x54de98=await warehouse[_0x2adc98(0x86)]();console[_0x2adc98(0x95)](_0x54de98);if(_0x5a7df4[0x0][_0x2adc98(0x9b)]=='English\x20(US)'){var _0x337c63=users[_0x2adc98(0x8a)];console[_0x2adc98(0x95)](_0x337c63);}else{if(_0x5a7df4[0x0][_0x2adc98(0x9b)]==_0x2adc98(0xae))var _0x337c63=users[_0x2adc98(0xae)];else{if(_0x5a7df4[0x0][_0x2adc98(0x9b)]=='German')var _0x337c63=users[_0x2adc98(0x8d)];else{if(_0x5a7df4[0x0][_0x2adc98(0x9b)]==_0x2adc98(0xa7))var _0x337c63=users[_0x2adc98(0xa7)];else{if(_0x5a7df4[0x0][_0x2adc98(0x9b)]==_0x2adc98(0xbc))var _0x337c63=users['French'];else{if(_0x5a7df4[0x0]['language']=='Portuguese\x20(BR)')var _0x337c63=users[_0x2adc98(0xa9)];else{if(_0x5a7df4[0x0][_0x2adc98(0x9b)]=='Chinese')var _0x337c63=users[_0x2adc98(0xc4)];else{if(_0x5a7df4[0x0][_0x2adc98(0x9b)]==_0x2adc98(0xa1))var _0x337c63=users[_0x2adc98(0xa3)];}}}}}}}_0x4aca5e[_0x2adc98(0xc2)](0xc8)['json']({'data':_0x54de98,'language':_0x337c63[_0x2adc98(0xb8)]});}else{const _0x5c7639=await product['find']();console[_0x2adc98(0x95)](_0x2adc98(0xb3),_0x5c7639);if(_0x5a7df4[0x0][_0x2adc98(0x9b)]=='English\x20(US)'){var _0x337c63=users[_0x2adc98(0x8a)];console[_0x2adc98(0x95)](_0x337c63);}else{if(_0x5a7df4[0x0][_0x2adc98(0x9b)]==_0x2adc98(0xae))var _0x337c63=users[_0x2adc98(0xae)];else{if(_0x5a7df4[0x0][_0x2adc98(0x9b)]==_0x2adc98(0x8d))var _0x337c63=users[_0x2adc98(0x8d)];else{if(_0x5a7df4[0x0][_0x2adc98(0x9b)]==_0x2adc98(0xa7))var _0x337c63=users[_0x2adc98(0xa7)];else{if(_0x5a7df4[0x0][_0x2adc98(0x9b)]==_0x2adc98(0xbc))var _0x337c63=users[_0x2adc98(0xbc)];else{if(_0x5a7df4[0x0]['language']==_0x2adc98(0x7d))var _0x337c63=users['Portuguese'];else{if(_0x5a7df4[0x0][_0x2adc98(0x9b)]==_0x2adc98(0xc4))var _0x337c63=users['Chinese'];else{if(_0x5a7df4[0x0]['language']==_0x2adc98(0xa1))var _0x337c63=users['Arabic'];}}}}}}}_0x4aca5e[_0x2adc98(0xc2)](0xc8)[_0x2adc98(0x93)]({'data':_0x5c7639,'language':_0x337c63[_0x2adc98(0xaf)]});}}catch(_0x30074c){console[_0x2adc98(0x95)](_0x30074c);}}),router['get'](a0_0x5f5b55(0x87),auth,async(_0x31c690,_0x4e734a)=>{var _0x596ce2=a0_0x5f5b55;try{const _0x48a542=_0x31c690[_0x596ce2(0xaa)]['id'];console[_0x596ce2(0x95)](_0x48a542);const _0x338cd5=await master_shop[_0x596ce2(0x86)]();console[_0x596ce2(0x95)](_0x596ce2(0x84),_0x338cd5);const _0x1983a6=await warehouse[_0x596ce2(0xa8)]([{'$match':{'name':_0x48a542}},{'$unwind':_0x596ce2(0x9c)},{'$lookup':{'from':_0x596ce2(0xaf),'localField':_0x596ce2(0x98),'foreignField':_0x596ce2(0xbb),'as':_0x596ce2(0x97)}},{'$unwind':_0x596ce2(0xb7)},{'$project':{'name':0x1,'product_name':'$product_details.product_name','product_stock':_0x596ce2(0x99),'category':_0x596ce2(0xb9),'brand':_0x596ce2(0xa4),'sku':_0x596ce2(0xad),'unit':_0x596ce2(0x9d),'rak':_0x596ce2(0x8e),'bin':_0x596ce2(0x82)}}]);console[_0x596ce2(0x95)](_0x1983a6);if(_0x338cd5[0x0]['language']=='English\x20(US)'){var _0x3504f7=users[_0x596ce2(0x8a)];console[_0x596ce2(0x95)](_0x3504f7);}else{if(_0x338cd5[0x0]['language']==_0x596ce2(0xae))var _0x3504f7=users['Hindi'];else{if(_0x338cd5[0x0][_0x596ce2(0x9b)]=='German')var _0x3504f7=users['German'];else{if(_0x338cd5[0x0][_0x596ce2(0x9b)]==_0x596ce2(0xa7))var _0x3504f7=users['Spanish'];else{if(_0x338cd5[0x0][_0x596ce2(0x9b)]==_0x596ce2(0xbc))var _0x3504f7=users[_0x596ce2(0xbc)];else{if(_0x338cd5[0x0]['language']=='Portuguese\x20(BR)')var _0x3504f7=users[_0x596ce2(0xa9)];else{if(_0x338cd5[0x0][_0x596ce2(0x9b)]=='Chinese')var _0x3504f7=users['Chinese'];else{if(_0x338cd5[0x0][_0x596ce2(0x9b)]=='Arabic\x20(ae)')var _0x3504f7=users[_0x596ce2(0xa3)];}}}}}}}_0x4e734a['status'](0xc8)['json']({'data':_0x1983a6,'language':_0x3504f7});}catch(_0x1b203d){console[_0x596ce2(0x95)](_0x1b203d);}}),router[a0_0x5f5b55(0x9f)](a0_0x5f5b55(0xab),auth,async(_0x2eea24,_0x2b062f)=>{var _0x38ac04=a0_0x5f5b55;try{const _0x2539fb=_0x2eea24[_0x38ac04(0xaa)]['id'];console[_0x38ac04(0x95)](_0x2539fb);const _0xa63e0f=await master_shop[_0x38ac04(0x86)]();console[_0x38ac04(0x95)](_0x38ac04(0x84),_0xa63e0f);const _0x50aa54=await product['findOne']({'name':_0x2539fb});console['log'](_0x38ac04(0x85),_0x50aa54);const _0x1899c8=await warehouse[_0x38ac04(0xa8)]([{'$unwind':_0x38ac04(0x9c)},{'$match':{'product_details.product_name':_0x2539fb}},{'$project':{'name':0x1,'product_name':_0x38ac04(0xbf),'product_stock':_0x38ac04(0x99)}}]);console[_0x38ac04(0x95)](_0x38ac04(0xa2),_0x1899c8);if(_0xa63e0f[0x0]['language']==_0x38ac04(0x83)){var _0x1ff3d0=users['English'];console['log'](_0x1ff3d0);}else{if(_0xa63e0f[0x0][_0x38ac04(0x9b)]==_0x38ac04(0xae))var _0x1ff3d0=users[_0x38ac04(0xae)];else{if(_0xa63e0f[0x0][_0x38ac04(0x9b)]==_0x38ac04(0x8d))var _0x1ff3d0=users['German'];else{if(_0xa63e0f[0x0]['language']=='Spanish')var _0x1ff3d0=users[_0x38ac04(0xa7)];else{if(_0xa63e0f[0x0][_0x38ac04(0x9b)]==_0x38ac04(0xbc))var _0x1ff3d0=users[_0x38ac04(0xbc)];else{if(_0xa63e0f[0x0]['language']=='Portuguese\x20(BR)')var _0x1ff3d0=users[_0x38ac04(0xa9)];else{if(_0xa63e0f[0x0]['language']=='Chinese')var _0x1ff3d0=users[_0x38ac04(0xc4)];else{if(_0xa63e0f[0x0][_0x38ac04(0x9b)]==_0x38ac04(0xa1))var _0x1ff3d0=users[_0x38ac04(0xa3)];}}}}}}}_0x2b062f['status'](0xc8)[_0x38ac04(0x93)]({'product_data':_0x50aa54,'warehouse_data':_0x1899c8,'language':_0x1ff3d0});}catch(_0x59d95a){console[_0x38ac04(0x95)](_0x59d95a);}}),router[a0_0x5f5b55(0x7b)](a0_0x5f5b55(0x9e),async(_0x8f795,_0x152cdb)=>{var _0x1038ad=a0_0x5f5b55;const {warehouseNew:_0x3f6b19,rooms:_0x4d138c,Type:_0x4c3ffa,process_cat:_0x3210f0,room_cat:_0x872c25}=_0x8f795[_0x1038ad(0x91)];let _0x49736b;console[_0x1038ad(0x95)](_0x8f795[_0x1038ad(0x91)]);if(_0x3210f0=='raw')_0x49736b=await warehouse[_0x1038ad(0xa8)]([{'$match':{'name':_0x3f6b19,'room':_0x4d138c,'warehouse_category':_0x1038ad(0xa0)}},{'$unwind':_0x1038ad(0x9c)},{'$match':{'product_details.type':_0x4c3ffa,'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]);else _0x3210f0==_0x1038ad(0x9a)?_0x4d138c==_0x1038ad(0x8b)?_0x49736b=await warehouse[_0x1038ad(0xa8)]([{'$match':{'name':_0x3f6b19,'warehouse_category':_0x1038ad(0x96)}},{'$unwind':_0x1038ad(0x9c)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):_0x49736b=await warehouse[_0x1038ad(0xa8)]([{'$match':{'name':_0x3f6b19,'room':_0x4d138c,'warehouse_category':'Finished\x20Goods'}},{'$unwind':_0x1038ad(0x9c)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}]):(console['log'](_0x1038ad(0x8f)),Include=[{'$unwind':_0x1038ad(0x9c)},{'$match':{'product_details.product_stock':{'$gt':0x0}}},{'$sort':{'warehouse_category':0x1,'product_details.bay':0x1}}],_0x49736b=await warehouse[_0x1038ad(0xa8)](Include));_0x152cdb['json'](_0x49736b);}),router[a0_0x5f5b55(0x7b)](a0_0x5f5b55(0x80),async(_0x5bf7a3,_0x384439)=>{var _0x4718aa=a0_0x5f5b55;const {warehouseNew:_0x553ad4,rooms:_0x3d4478,Type:_0x40ce8a,process_cat:_0x343e7d,room_cat:_0x433f9d}=_0x5bf7a3[_0x4718aa(0x91)],_0x166228=await product[_0x4718aa(0x86)]();_0x384439['json'](_0x166228);}),module[a0_0x5f5b55(0xb4)]=router;