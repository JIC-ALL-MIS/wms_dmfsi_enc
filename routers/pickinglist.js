const a0_0x32afb9=a0_0x2879;(function(_0x4b2997,_0x146062){const _0x5b46b8=a0_0x2879,_0x2fe2e0=_0x4b2997();while(!![]){try{const _0x4fe544=parseInt(_0x5b46b8(0xd6))/0x1*(-parseInt(_0x5b46b8(0x119))/0x2)+-parseInt(_0x5b46b8(0xf8))/0x3*(parseInt(_0x5b46b8(0xf1))/0x4)+-parseInt(_0x5b46b8(0xc7))/0x5+parseInt(_0x5b46b8(0x13d))/0x6*(parseInt(_0x5b46b8(0xef))/0x7)+-parseInt(_0x5b46b8(0xd9))/0x8*(-parseInt(_0x5b46b8(0xb5))/0x9)+parseInt(_0x5b46b8(0x164))/0xa*(parseInt(_0x5b46b8(0x170))/0xb)+parseInt(_0x5b46b8(0xf2))/0xc*(parseInt(_0x5b46b8(0xc9))/0xd);if(_0x4fe544===_0x146062)break;else _0x2fe2e0['push'](_0x2fe2e0['shift']());}catch(_0x3ff963){_0x2fe2e0['push'](_0x2fe2e0['shift']());}}}(a0_0x3354,0xd835e));const express=require(a0_0x32afb9(0x113)),res=require('express/lib/response'),app=express(),router=express[a0_0x32afb9(0xbe)](),multer=require(a0_0x32afb9(0xc8)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x32afb9(0x15d)),auth=require(a0_0x32afb9(0x17b)),users=require('../public/language/languages.json'),excelJS=require(a0_0x32afb9(0xc1)),xlsx=require(a0_0x32afb9(0x130)),PDFDocument=require(a0_0x32afb9(0x13a)),fs=require('fs'),blobStream=require('blob-stream'),JsBarcode=require(a0_0x32afb9(0x187)),{Canvas}=require('canvas');function a0_0x2879(_0x183d07,_0x2e7d9a){const _0x335446=a0_0x3354();return a0_0x2879=function(_0x2879ed,_0xa99bb7){_0x2879ed=_0x2879ed-0xb2;let _0x49620d=_0x335446[_0x2879ed];return _0x49620d;},a0_0x2879(_0x183d07,_0x2e7d9a);}router[a0_0x32afb9(0xc5)](a0_0x32afb9(0x135),auth,async(_0x3a343e,_0x3f1bcb)=>{const _0x12633c=a0_0x32afb9;try{const {username:_0x3096fc,email:_0x18adca,role:_0x3f85e7}=_0x3a343e[_0x12633c(0xe9)],_0x53e59f=_0x3a343e[_0x12633c(0xe9)],_0x3f314c=await profile[_0x12633c(0x151)]({'email':_0x53e59f[_0x12633c(0x110)]}),_0x4187a8=await master_shop[_0x12633c(0x16f)](),_0x4319b4=_0x3a343e[_0x12633c(0x11b)]['id'],_0x51bb0b=await sales_finished[_0x12633c(0x128)](_0x4319b4);var _0x2301e2;_0x2301e2='PICKING\x20LIST';_0x51bb0b[_0x12633c(0xb4)]==_0x12633c(0xdb)&&(_0x2301e2=_0x12633c(0x168));const _0x2bc6c9=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3f1bcb['setHeader'](_0x12633c(0xff),'inline;\x20filename=\x22'+_0x51bb0b['invoice']+_0x12633c(0x12d)),_0x3f1bcb[_0x12633c(0x106)](_0x12633c(0x12b),_0x12633c(0xee));var _0x221dc7=0x14,_0x216825=0x3c;_0x2bc6c9['pipe'](_0x3f1bcb),_0x2bc6c9[_0x12633c(0x185)](_0x12633c(0xfd)+_0x4187a8[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x2bc6c9[_0x12633c(0x166)](0x14)[_0x12633c(0xd2)](_0x12633c(0x136),_0x221dc7,_0x216825),_0x2bc6c9[_0x12633c(0x166)](0xa)['text'](_0x12633c(0x150),_0x221dc7,_0x216825+=0xf),_0x2bc6c9['fontSize'](0xf)[_0x12633c(0xd2)](_0x2301e2,_0x221dc7,_0x216825+=0x32),_0x2bc6c9[_0x12633c(0x166)](0xa)['text']('(OUTGOING)',_0x221dc7,_0x216825+=0x14),_0x2bc6c9[_0x12633c(0x166)](0x9)['text'](_0x12633c(0x115),_0x221dc7,_0x216825+=0x28),_0x2bc6c9[_0x12633c(0x166)](0x9)[_0x12633c(0xd2)](_0x12633c(0xf9)+_0x51bb0b['warehouse_name'],_0x221dc7+0x3f,_0x216825),_0x2bc6c9[_0x12633c(0x166)](0x9)[_0x12633c(0xd2)](_0x12633c(0x102)+_0x51bb0b[_0x12633c(0x131)],_0x221dc7+0x17c,_0x216825,{'underline':!![]}),_0x2bc6c9[_0x12633c(0x166)](0x9)[_0x12633c(0xd2)]('Date\x20',_0x221dc7,_0x216825+=0xb),_0x2bc6c9['fontSize'](0x9)[_0x12633c(0xd2)](_0x12633c(0xf9)+_0x51bb0b[_0x12633c(0xd3)],_0x221dc7+0x3f,_0x216825),_0x2bc6c9[_0x12633c(0x166)](0x9)[_0x12633c(0xd2)](_0x12633c(0xfa),_0x221dc7,_0x216825+=0xb),_0x2bc6c9['fontSize'](0x9)[_0x12633c(0xd2)](_0x12633c(0xf9)+_0x51bb0b[_0x12633c(0xdc)],_0x221dc7+0x3f,_0x216825);const _0x30d31f={'headers':[{'label':'Item\x20Code','property':_0x12633c(0x154),'width':0x3c,'renderer':null},{'label':_0x12633c(0x165),'property':_0x12633c(0xda),'width':0xa5,'renderer':null},{'label':_0x12633c(0x10c),'property':_0x12633c(0x132),'width':0x3c,'renderer':null},{'label':_0x12633c(0x14c),'property':_0x12633c(0xba),'width':0x3c,'renderer':null},{'label':_0x12633c(0x173),'property':'proddate','width':0x50,'renderer':null},{'label':_0x12633c(0x184),'property':_0x12633c(0xbc),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x12633c(0x157),'width':0x3f,'renderer':null}],'datas':[]};var _0x53fd1f=0x0;let _0x119ff4='';var _0x1e9384=0x0;_0x51bb0b['warehouse_name']==_0x12633c(0x14a)?_0x119ff4='DG':_0x119ff4='FG';var _0x264107=0x0;_0x51bb0b[_0x12633c(0xfc)][_0x12633c(0x116)](_0x32482a=>{const _0x9ab549=_0x12633c;console['log'](_0x32482a);let _0xbe3e34='';const _0x2f703f=_0x32482a['quantity'];for(let _0x5045be=0x1;_0x5045be<=_0x2f703f;_0x5045be++){_0x2f703f==_0x5045be?_0xbe3e34+=_0x32482a[_0x9ab549(0x143)]:_0xbe3e34+=_0x32482a[_0x9ab549(0x143)]+',',_0x1e9384+=_0x32482a[_0x9ab549(0x143)];}_0xbe3e34+=_0x9ab549(0x103)+_0x32482a[_0x9ab549(0x12c)];const _0x146c4c={'itemcode':_0x32482a['product_code'],'itemdescription':_0x32482a[_0x9ab549(0x138)],'qty':_0x32482a['quantity'],'unit':_0x32482a[_0x9ab549(0xba)],'proddate':_0x32482a['production_date'],'batchno':_0x32482a[_0x9ab549(0x139)],'binloc':_0x119ff4+_0x32482a['bay']};_0x53fd1f+=_0x32482a[_0x9ab549(0x11f)],_0x264107+=0x1,_0x30d31f[_0x9ab549(0xfb)][_0x9ab549(0x107)](_0x146c4c);}),_0x2bc6c9[_0x12633c(0x114)](_0x30d31f,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x2bc6c9[_0x12633c(0x10d)]('Helvetica-Bold')[_0x12633c(0x166)](0x8),'prepareRow':(_0x2291a4,_0x2b6caa,_0x3b0205,_0xaf8f92)=>_0x2bc6c9[_0x12633c(0x10d)](_0x12633c(0xbf))[_0x12633c(0x166)](0x8)});var _0x249334=_0x2bc6c9['y'],_0x389689=_0x2bc6c9['x'];_0x2bc6c9[_0x12633c(0x166)](0xa)['text'](_0x12633c(0x169),_0x389689+0x7d,_0x249334),console['log']('x:\x20'+_0x389689+_0x12633c(0x117)+_0x249334+_0x12633c(0x133)+_0x264107);const _0x3d791a=_0x389689*_0x264107;_0x2bc6c9[_0x12633c(0x166)](0xa)[_0x12633c(0xd2)](_0x12633c(0xbb),_0x389689,_0x249334+=0x15e-_0x3d791a),_0x2bc6c9[_0x12633c(0x166)](0xa)[_0x12633c(0xd2)](_0x53fd1f,_0x389689+0xdc,_0x249334,{'underline':!![]}),_0x2bc6c9['fontSize'](0xa)[_0x12633c(0xd2)](_0x12633c(0x176),_0x389689,_0x249334+=0x19),_0x2bc6c9[_0x12633c(0x166)](0xa)[_0x12633c(0xd2)]('\x20'['repeat'](0x3c),_0x389689+0x3e,_0x249334,{'underline':!![]}),_0x2bc6c9[_0x12633c(0x166)](0xa)[_0x12633c(0xd2)]('Checked\x20By:\x20',_0x389689,_0x249334+=0x32),_0x2bc6c9[_0x12633c(0x166)](0xa)[_0x12633c(0xd2)](_0x12633c(0x12f),_0x389689+0x3c,_0x249334,{'underline':!![]}),_0x2bc6c9[_0x12633c(0x166)](0xa)[_0x12633c(0xd2)](_0x12633c(0xe5),_0x389689+0x3c,_0x249334+0xc);let _0x2e9da0=_0x2bc6c9['bufferedPageRange']();for(let _0x13f5b1=0x0;_0x13f5b1<_0x2e9da0[_0x12633c(0x179)];_0x13f5b1++){_0x2bc6c9[_0x12633c(0x127)](_0x13f5b1);let _0x221ce7=_0x2bc6c9[_0x12633c(0x161)][_0x12633c(0xcb)]['bottom'];_0x2bc6c9[_0x12633c(0x161)][_0x12633c(0xcb)][_0x12633c(0x17d)]=0x0,_0x2bc6c9['text']('Page:\x20'+(_0x13f5b1+0x1)+'\x20of\x20'+_0x2e9da0[_0x12633c(0x179)],0x0,_0x2bc6c9[_0x12633c(0x161)][_0x12633c(0xbd)]-_0x221ce7/0x2,{'align':_0x12633c(0x189)}),_0x2bc6c9['page'][_0x12633c(0xcb)]['bottom']=_0x221ce7;}const _0x1ed5d2=_0x2bc6c9['y'],_0x3eac4d=_0x2bc6c9['x'];_0x2bc6c9[_0x12633c(0xf0)]();}catch(_0xba47d1){console[_0x12633c(0x181)](_0xba47d1),_0x3f1bcb[_0x12633c(0x18e)](0x1f4)[_0x12633c(0x126)](_0x12633c(0xe1));}}),router['get'](a0_0x32afb9(0x111),auth,async(_0x2be850,_0x5cdcd1)=>{const _0x4f2cbe=a0_0x32afb9;try{const {username:_0x17bf24,email:_0xeb55ec,role:_0x466fc5}=_0x2be850[_0x4f2cbe(0xe9)],_0x338d09=_0x2be850[_0x4f2cbe(0xe9)],_0xd9b40=await profile[_0x4f2cbe(0x151)]({'email':_0x338d09[_0x4f2cbe(0x110)]}),_0xb476de=await master_shop[_0x4f2cbe(0x16f)](),_0x527c5c=_0x2be850[_0x4f2cbe(0x11b)]['id'],_0x4b008f=await transfers_finished['findById'](_0x527c5c);var _0x315de4,_0x3702e8;_0x315de4='Picking\x20List',_0x3702e8=_0x4f2cbe(0x17f);_0x4b008f[_0x4f2cbe(0xb4)]=='True'&&(_0x315de4=_0x4f2cbe(0xb8),_0x3702e8='');const _0x3923f0=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5cdcd1[_0x4f2cbe(0x106)]('Content-disposition',_0x4f2cbe(0x167)+_0x527c5c+_0x4f2cbe(0x12d)),_0x5cdcd1[_0x4f2cbe(0x106)]('Content-type',_0x4f2cbe(0xee));var _0x1ef098=0x14,_0x3f0087=0x3c;_0x3923f0['pipe'](_0x5cdcd1),_0x3923f0['image'](_0x4f2cbe(0xfd)+_0xb476de[0x0][_0x4f2cbe(0x185)],0x14,0x0,{'fit':[0x64,0x64]}),_0x3923f0['fontSize'](0x14)[_0x4f2cbe(0xd2)](_0x4f2cbe(0x136),_0x1ef098,_0x3f0087),_0x3923f0[_0x4f2cbe(0x166)](0xa)[_0x4f2cbe(0xd2)](_0x4f2cbe(0x150),_0x1ef098,_0x3f0087+=0xf),_0x3923f0[_0x4f2cbe(0x166)](0xf)[_0x4f2cbe(0xd2)](_0x315de4,_0x1ef098,_0x3f0087+=0x32),_0x3923f0['fontSize'](0xa)['text'](_0x3702e8,_0x1ef098,_0x3f0087+=0x14),_0x3923f0[_0x4f2cbe(0x166)](0x9)[_0x4f2cbe(0xd2)](_0x4f2cbe(0xf4),_0x1ef098,_0x3f0087+=0x28),_0x3923f0['fontSize'](0x9)[_0x4f2cbe(0xd2)]('\x20\x20\x20:\x20'+_0x4b008f[_0x4f2cbe(0x13b)],_0x1ef098+0x3f,_0x3f0087),_0x3923f0[_0x4f2cbe(0x166)](0x9)['text'](_0x4f2cbe(0x14f),_0x1ef098,_0x3f0087+=0xf),_0x3923f0['fontSize'](0x9)['text'](_0x4f2cbe(0x16c)+_0x4b008f[_0x4f2cbe(0x11e)],_0x1ef098+0x3f,_0x3f0087),_0x3923f0[_0x4f2cbe(0x166)](0x9)[_0x4f2cbe(0xd2)](_0x4f2cbe(0x148),_0x1ef098,_0x3f0087+=0xb),_0x3923f0['fontSize'](0x9)[_0x4f2cbe(0xd2)](_0x4f2cbe(0x16c)+_0x4b008f['date'],_0x1ef098+0x3f,_0x3f0087),_0x3923f0[_0x4f2cbe(0x166)](0x9)['text'](_0x4f2cbe(0xfa),_0x1ef098,_0x3f0087+=0xb),_0x3923f0[_0x4f2cbe(0x166)](0x9)[_0x4f2cbe(0xd2)](_0x4f2cbe(0x16c)+_0x4b008f[_0x4f2cbe(0xdc)],_0x1ef098+0x3f,_0x3f0087);const _0x351e8c={'headers':[{'label':'','property':_0x4f2cbe(0x154),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':'\x20\x20FROM','property':_0x4f2cbe(0x154),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x4f2cbe(0x15a),'property':'itemdescription','width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x3923f0['table'](_0x351e8c,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x3923f0[_0x4f2cbe(0x10d)]('Helvetica-Bold')[_0x4f2cbe(0x166)](0x8),'prepareRow':(_0x2361ef,_0x3a2700,_0x103093,_0xd2def0)=>_0x3923f0[_0x4f2cbe(0x10d)]('Helvetica')[_0x4f2cbe(0x166)](0x8)});const _0x17d700={'headers':[{'label':_0x4f2cbe(0x177),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x4f2cbe(0x165),'property':_0x4f2cbe(0xda),'width':0x96,'renderer':null},{'label':_0x4f2cbe(0x10c),'property':_0x4f2cbe(0x132),'width':0x28,'renderer':null},{'label':_0x4f2cbe(0x14c),'property':_0x4f2cbe(0xba),'width':0x37,'renderer':null},{'label':_0x4f2cbe(0x173),'property':_0x4f2cbe(0x163),'width':0x4b,'renderer':null},{'label':_0x4f2cbe(0x184),'property':_0x4f2cbe(0xbc),'width':0x3f,'renderer':null},{'label':_0x4f2cbe(0x124),'property':_0x4f2cbe(0xcd),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0xdc5f01=0x0;let _0x5bf42b='';var _0x63b19d=0x0;if(_0x4b008f[_0x4f2cbe(0x13b)]==_0x4f2cbe(0x14a))_0x5bf42b='DG';else _0x4b008f[_0x4f2cbe(0x13b)]=='FROZEN\x20GOODS'&&(_0x5bf42b='FG');_0x4b008f[_0x4f2cbe(0xc6)][_0x4f2cbe(0x116)](_0x44e72e=>{const _0x2209a4=_0x4f2cbe;var _0x3e79be=_0x44e72e[_0x2209a4(0x104)],_0x457174,_0x277ba8;_0x457174=_0x44e72e['unit'],_0x277ba8=_0x44e72e[_0x2209a4(0x159)];_0x3e79be=='S'&&(_0x457174=_0x44e72e[_0x2209a4(0x12c)],_0x277ba8=_0x44e72e[_0x2209a4(0x159)]*_0x44e72e[_0x2209a4(0xd7)]);const _0x27e620={'itemcode':_0x44e72e['product_code'],'itemdescription':_0x44e72e['product_name'],'qty':_0x277ba8,'unit':_0x457174,'proddate':_0x44e72e[_0x2209a4(0x125)],'batchno':_0x44e72e[_0x2209a4(0x139)],'binloc':_0x5bf42b+_0x44e72e['to_bay'],'qtyFrom':_0x44e72e['from_quantity'],'binlocFrom':_0x5bf42b+_0x44e72e['from_bay']};_0xdc5f01+=_0x277ba8,_0x17d700['datas'][_0x2209a4(0x107)](_0x27e620);}),_0x3923f0[_0x4f2cbe(0x114)](_0x17d700,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x3923f0['font'](_0x4f2cbe(0xca))[_0x4f2cbe(0x166)](0x8),'prepareRow':(_0x445088,_0x232535,_0x58145a,_0x28b00f)=>_0x3923f0[_0x4f2cbe(0x10d)](_0x4f2cbe(0xbf))[_0x4f2cbe(0x166)](0x8)});var _0x298cd8=_0x3923f0['y'],_0x14a6d1=_0x3923f0['x'];_0x3923f0[_0x4f2cbe(0x166)](0xa)[_0x4f2cbe(0xd2)](_0x4f2cbe(0x169),_0x14a6d1+0x7d,_0x298cd8),_0x3923f0[_0x4f2cbe(0x166)](0xa)[_0x4f2cbe(0xd2)](_0x4f2cbe(0xbb),_0x14a6d1,_0x298cd8+=0x15e),_0x3923f0[_0x4f2cbe(0x166)](0xa)[_0x4f2cbe(0xd2)](_0xdc5f01,_0x14a6d1+0xd7,_0x298cd8,{'underline':!![]}),_0x3923f0['fontSize'](0xa)[_0x4f2cbe(0xd2)](_0x4f2cbe(0x176),_0x14a6d1,_0x298cd8+=0x19),_0x3923f0[_0x4f2cbe(0x166)](0xa)[_0x4f2cbe(0xd2)]('\x20'[_0x4f2cbe(0xd4)](0x3c),_0x14a6d1+0x3e,_0x298cd8,{'underline':!![]}),_0x3923f0[_0x4f2cbe(0x166)](0xa)[_0x4f2cbe(0xd2)](_0x4f2cbe(0xeb),_0x14a6d1,_0x298cd8+=0x32),_0x3923f0[_0x4f2cbe(0x166)](0xa)['text'](_0x4f2cbe(0x12f),_0x14a6d1+0x3c,_0x298cd8,{'underline':!![]}),_0x3923f0[_0x4f2cbe(0x166)](0xa)[_0x4f2cbe(0xd2)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x14a6d1+0x3c,_0x298cd8+0xc);let _0x2658e7=_0x3923f0['bufferedPageRange']();for(let _0x144fa5=0x0;_0x144fa5<_0x2658e7[_0x4f2cbe(0x179)];_0x144fa5++){_0x3923f0[_0x4f2cbe(0x127)](_0x144fa5);let _0x16282d=_0x3923f0[_0x4f2cbe(0x161)][_0x4f2cbe(0xcb)][_0x4f2cbe(0x17d)];_0x3923f0['page']['margins'][_0x4f2cbe(0x17d)]=0x0,_0x3923f0[_0x4f2cbe(0xd2)](_0x4f2cbe(0xcc)+(_0x144fa5+0x1)+_0x4f2cbe(0x134)+_0x2658e7[_0x4f2cbe(0x179)],0x0,_0x3923f0[_0x4f2cbe(0x161)][_0x4f2cbe(0xbd)]-_0x16282d/0x2,{'align':_0x4f2cbe(0x189)}),_0x3923f0[_0x4f2cbe(0x161)][_0x4f2cbe(0xcb)][_0x4f2cbe(0x17d)]=_0x16282d;}const _0x5c1499=_0x3923f0['y'],_0x1bdf33=_0x3923f0['x'];_0x3923f0[_0x4f2cbe(0xf0)]();}catch(_0x38a3a2){console[_0x4f2cbe(0x181)](_0x38a3a2),_0x5cdcd1['status'](0x1f4)['send'](_0x4f2cbe(0xe1));}}),router[a0_0x32afb9(0xc5)](a0_0x32afb9(0xf6),auth,async(_0x4656c1,_0x19bfd7)=>{const _0x94907a=a0_0x32afb9;try{const {username:_0x4ba418,email:_0x2bcdce,role:_0x43b1e1}=_0x4656c1[_0x94907a(0xe9)],_0x2b2505=_0x4656c1[_0x94907a(0xe9)],_0x1999c1=await profile[_0x94907a(0x151)]({'email':_0x2b2505[_0x94907a(0x110)]}),_0x1f8847=await master_shop[_0x94907a(0x16f)](),_0x1b2041=_0x4656c1[_0x94907a(0x11b)]['id'],_0x402ac5=await adjustment_finished[_0x94907a(0x128)](_0x1b2041);var _0x24d017,_0x20cac0;_0x24d017=_0x94907a(0x101),_0x20cac0=_0x94907a(0xb3);_0x402ac5[_0x94907a(0xb4)]==_0x94907a(0xdb)&&(_0x24d017=_0x94907a(0x13c),_0x20cac0='');const _0x2a93a8=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x19bfd7[_0x94907a(0x106)]('Content-disposition',_0x94907a(0x167)+_0x1b2041+_0x94907a(0x12d)),_0x19bfd7['setHeader']('Content-type',_0x94907a(0xee));var _0x3164da=0x14,_0x1f4b55=0x3c;_0x2a93a8['pipe'](_0x19bfd7),_0x2a93a8[_0x94907a(0x185)](_0x94907a(0xfd)+_0x1f8847[0x0][_0x94907a(0x185)],0x14,0x0,{'fit':[0x64,0x64]}),_0x2a93a8['fontSize'](0x14)['text']('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x3164da,_0x1f4b55),_0x2a93a8[_0x94907a(0x166)](0xa)[_0x94907a(0xd2)](_0x94907a(0x150),_0x3164da,_0x1f4b55+=0xf),_0x2a93a8['fontSize'](0xf)[_0x94907a(0xd2)](_0x24d017,_0x3164da,_0x1f4b55+=0x32),_0x2a93a8[_0x94907a(0x166)](0xa)[_0x94907a(0xd2)](_0x20cac0,_0x3164da,_0x1f4b55+=0x14),_0x2a93a8[_0x94907a(0x166)](0x9)[_0x94907a(0xd2)](_0x94907a(0x115),_0x3164da,_0x1f4b55+=0x28),_0x2a93a8['fontSize'](0x9)[_0x94907a(0xd2)](_0x94907a(0xf9)+_0x402ac5[_0x94907a(0xb2)],_0x3164da+0x3f,_0x1f4b55),_0x2a93a8['fontSize'](0x9)[_0x94907a(0xd2)](_0x94907a(0x148),_0x3164da,_0x1f4b55+=0xb),_0x2a93a8[_0x94907a(0x166)](0x9)[_0x94907a(0xd2)]('\x20:\x20'+_0x402ac5[_0x94907a(0xd3)],_0x3164da+0x3f,_0x1f4b55),_0x2a93a8[_0x94907a(0x166)](0x9)[_0x94907a(0xd2)](_0x94907a(0xfa),_0x3164da,_0x1f4b55+=0xb),_0x2a93a8['fontSize'](0x9)[_0x94907a(0xd2)](_0x94907a(0xf9)+_0x402ac5[_0x94907a(0xdc)],_0x3164da+0x3f,_0x1f4b55);const _0x52346a={'headers':[{'label':_0x94907a(0x177),'property':_0x94907a(0x154),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x94907a(0xda),'width':0x96,'renderer':null},{'label':_0x94907a(0x10c),'property':_0x94907a(0x132),'width':0x3c,'renderer':null},{'label':_0x94907a(0x14c),'property':_0x94907a(0xba),'width':0x3c,'renderer':null},{'label':_0x94907a(0x173),'property':'proddate','width':0x50,'renderer':null},{'label':_0x94907a(0x184),'property':_0x94907a(0xbc),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x841085=0x0;let _0x5268c7='';var _0x5c58d0=0x0;_0x402ac5[_0x94907a(0xb2)]==_0x94907a(0x14a)?_0x5268c7='DG':_0x5268c7='FG';_0x402ac5[_0x94907a(0xc6)]['forEach'](_0x482d52=>{const _0x402111=_0x94907a;console[_0x402111(0x181)](_0x482d52);var _0xf164d5=_0x482d52[_0x402111(0x104)],_0x30ae3e,_0x3db89c;_0x30ae3e=_0x482d52[_0x402111(0xba)],_0x3db89c=_0x482d52[_0x402111(0x118)];_0xf164d5=='S'&&(_0x30ae3e=_0x482d52[_0x402111(0x12c)],_0x3db89c=_0x482d52['adjust_qty']*_0x482d52['maxPerUnit']);const _0x5bdc1c={'itemcode':_0x482d52['product_code'],'itemdescription':_0x482d52[_0x402111(0x138)],'qty':_0x3db89c,'unit':_0x30ae3e,'proddate':_0x482d52[_0x402111(0x125)],'batchno':_0x482d52[_0x402111(0x139)],'binloc':_0x5268c7+_0x482d52[_0x402111(0x14e)]};_0x841085+=_0x3db89c,_0x52346a[_0x402111(0xfb)]['push'](_0x5bdc1c);}),_0x2a93a8[_0x94907a(0x114)](_0x52346a,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x2a93a8[_0x94907a(0x10d)]('Helvetica-Bold')[_0x94907a(0x166)](0x8),'prepareRow':(_0x27a858,_0x5e37b4,_0xaad379,_0x524183)=>_0x2a93a8[_0x94907a(0x10d)](_0x94907a(0xbf))['fontSize'](0x8)});var _0x344489=_0x2a93a8['y'],_0x383d0e=_0x2a93a8['x'];_0x2a93a8[_0x94907a(0x166)](0xa)[_0x94907a(0xd2)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x383d0e+0x7d,_0x344489),_0x2a93a8['fontSize'](0xa)[_0x94907a(0xd2)](_0x94907a(0x156),_0x383d0e,_0x344489+=0x15e),_0x2a93a8[_0x94907a(0x166)](0xa)['text'](_0x841085,_0x383d0e+0xc8,_0x344489),_0x2a93a8[_0x94907a(0x166)](0xa)[_0x94907a(0xd2)](_0x94907a(0x176),_0x383d0e,_0x344489+=0x19),_0x2a93a8[_0x94907a(0x166)](0xa)[_0x94907a(0xd2)]('\x20'['repeat'](0x3c),_0x383d0e+0x3e,_0x344489,{'underline':!![]}),_0x2a93a8[_0x94907a(0x166)](0xa)['text'](_0x94907a(0xc4),_0x383d0e,_0x344489+=0x32),_0x2a93a8[_0x94907a(0x166)](0xa)[_0x94907a(0xd2)](_0x94907a(0xf9),_0x383d0e+0x37,_0x344489),_0x2a93a8[_0x94907a(0x166)](0xa)[_0x94907a(0xd2)](_0x94907a(0x12f),_0x383d0e+0x3c,_0x344489,{'underline':!![]}),_0x2a93a8[_0x94907a(0x166)](0xa)[_0x94907a(0xd2)](_0x94907a(0xe5),_0x383d0e+0x3c,_0x344489+0xc);let _0x476f3f=_0x2a93a8['bufferedPageRange']();for(let _0x51688d=0x0;_0x51688d<_0x476f3f['count'];_0x51688d++){_0x2a93a8['switchToPage'](_0x51688d);let _0x3580f9=_0x2a93a8[_0x94907a(0x161)][_0x94907a(0xcb)][_0x94907a(0x17d)];_0x2a93a8['page'][_0x94907a(0xcb)][_0x94907a(0x17d)]=0x0,_0x2a93a8['text'](_0x94907a(0xcc)+(_0x51688d+0x1)+'\x20of\x20'+_0x476f3f[_0x94907a(0x179)],0x0,_0x2a93a8['page']['height']-_0x3580f9/0x2,{'align':'center'}),_0x2a93a8[_0x94907a(0x161)]['margins'][_0x94907a(0x17d)]=_0x3580f9;}const _0x468136=_0x2a93a8['y'],_0x368a3e=_0x2a93a8['x'];_0x2a93a8[_0x94907a(0xf0)]();}catch(_0x50c982){console[_0x94907a(0x181)](_0x50c982),_0x19bfd7['status'](0x1f4)['send'](_0x94907a(0xe1));}}),router[a0_0x32afb9(0xc5)](a0_0x32afb9(0xed),auth,async(_0x296ac4,_0x26e2eb)=>{const _0x10a092=a0_0x32afb9;try{const {username:_0x12e32d,email:_0x245117,role:_0x22cfe0}=_0x296ac4['user'],_0x4434a5=_0x296ac4[_0x10a092(0xe9)],_0x1a6ae2=await profile['findOne']({'email':_0x4434a5[_0x10a092(0x110)]}),_0x5caf93=await master_shop[_0x10a092(0x16f)](),_0x25f5af=_0x296ac4['params']['id'],_0x15b3df=await purchases_finished[_0x10a092(0x128)](_0x25f5af),_0x536e6a=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x26e2eb[_0x10a092(0x106)]('Content-disposition',_0x10a092(0x167)+_0x25f5af+_0x10a092(0x12d)),_0x26e2eb['setHeader'](_0x10a092(0x12b),_0x10a092(0xee));var _0x189553=0x14,_0x11004d=0x3c;_0x536e6a['pipe'](_0x26e2eb),_0x536e6a[_0x10a092(0x185)](_0x10a092(0xfd)+_0x5caf93[0x0][_0x10a092(0x185)],0x14,0x0,{'fit':[0x64,0x64]}),_0x536e6a['fontSize'](0x14)[_0x10a092(0xd2)](_0x10a092(0x136),_0x189553,_0x11004d),_0x536e6a[_0x10a092(0x166)](0xa)[_0x10a092(0xd2)](_0x10a092(0x150),_0x189553,_0x11004d+=0xf),_0x536e6a[_0x10a092(0x166)](0xf)[_0x10a092(0xd2)](_0x10a092(0x188),_0x189553,_0x11004d+=0x32),_0x536e6a[_0x10a092(0x166)](0xa)[_0x10a092(0xd2)](_0x10a092(0x172),_0x189553,_0x11004d+=0x14),_0x536e6a[_0x10a092(0x166)](0x9)[_0x10a092(0xd2)](_0x10a092(0x115),_0x189553,_0x11004d+=0x28),_0x536e6a[_0x10a092(0x166)](0x9)['text'](_0x10a092(0xf9)+_0x15b3df[_0x10a092(0xb2)],_0x189553+0x3f,_0x11004d),_0x536e6a[_0x10a092(0x166)](0x9)[_0x10a092(0xd2)](_0x10a092(0x112)+_0x15b3df['POnumber'],_0x189553+0x17c,_0x11004d),_0x536e6a[_0x10a092(0x166)](0x9)['text'](_0x10a092(0x148),_0x189553,_0x11004d+=0xb),_0x536e6a[_0x10a092(0x166)](0x9)['text'](_0x10a092(0xf9)+_0x15b3df['date'],_0x189553+0x3f,_0x11004d),_0x536e6a[_0x10a092(0x166)](0x9)[_0x10a092(0xd2)](_0x10a092(0xfa),_0x189553,_0x11004d+=0xb),_0x536e6a[_0x10a092(0x166)](0x9)[_0x10a092(0xd2)](_0x10a092(0xf9)+_0x15b3df['invoice'],_0x189553+0x3f,_0x11004d);const _0xf3d1ba={'headers':[{'label':_0x10a092(0x177),'property':_0x10a092(0x154),'width':0x3c,'renderer':null},{'label':_0x10a092(0x165),'property':_0x10a092(0xda),'width':0xc8,'renderer':null},{'label':_0x10a092(0x10c),'property':_0x10a092(0x132),'width':0x3c,'renderer':null},{'label':_0x10a092(0x14c),'property':_0x10a092(0xba),'width':0x3c,'renderer':null},{'label':_0x10a092(0xe2),'property':'expdate','width':0x50,'renderer':null},{'label':_0x10a092(0x184),'property':'batchno','width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x10a092(0x157),'width':0x3f,'renderer':null}],'datas':[]};var _0xe0b5c4=0x0;let _0x59b3c5='';_0x15b3df[_0x10a092(0xb2)]==_0x10a092(0x14a)?_0x59b3c5='DG':_0x59b3c5='FG';_0x15b3df[_0x10a092(0xc6)][_0x10a092(0x116)](_0x2acc94=>{const _0x1a5e03=_0x10a092;let _0x573343='';var _0x24e8ce=0x0;const _0x5ba159={'itemcode':_0x2acc94['product_code'],'itemdescription':_0x2acc94[_0x1a5e03(0x138)],'qty':_0x2acc94[_0x1a5e03(0x11f)],'unit':_0x2acc94['standard_unit'],'expdate':_0x2acc94['expiry_date'],'batchno':_0x2acc94[_0x1a5e03(0x139)],'binloc':_0x59b3c5+_0x2acc94[_0x1a5e03(0x14e)]};_0xe0b5c4+=_0x2acc94[_0x1a5e03(0x11f)],_0xf3d1ba[_0x1a5e03(0xfb)][_0x1a5e03(0x107)](_0x5ba159);}),_0x536e6a['table'](_0xf3d1ba,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x536e6a[_0x10a092(0x10d)]('Helvetica-Bold')['fontSize'](0x8),'prepareRow':(_0x24f437,_0x328075,_0x2dcda6,_0x16c5df)=>_0x536e6a[_0x10a092(0x10d)]('Helvetica')[_0x10a092(0x166)](0x8)});var _0x8ab14e=_0x536e6a['y'],_0x5a24da=_0x536e6a['x'];_0x536e6a['fontSize'](0xa)[_0x10a092(0xd2)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x5a24da+0x7d,_0x8ab14e),_0x536e6a[_0x10a092(0x166)](0xa)[_0x10a092(0xd2)](_0x10a092(0xbb),_0x5a24da,_0x8ab14e+=0x15e),_0x536e6a[_0x10a092(0x166)](0xa)['text'](_0xe0b5c4,_0x5a24da+0xfa,_0x8ab14e),_0x536e6a[_0x10a092(0x166)](0xa)['text'](_0x10a092(0x137),_0x5a24da,_0x8ab14e+=0x19),_0x536e6a[_0x10a092(0x166)](0xa)[_0x10a092(0xd2)](_0x10a092(0x17a),_0x5a24da+0x37,_0x8ab14e,{'underline':!![]}),_0x536e6a[_0x10a092(0x166)](0xa)['text'](_0x10a092(0x186),_0x5a24da,_0x8ab14e+0x32),_0x536e6a[_0x10a092(0x166)](0xa)[_0x10a092(0xd2)](_0x10a092(0x12f),_0x5a24da+0x32,_0x8ab14e+0x32,{'underline':!![]}),_0x536e6a[_0x10a092(0x166)](0xa)[_0x10a092(0xd2)](_0x10a092(0xe5),_0x5a24da+0x32,_0x8ab14e+0x3c);let _0x441657=_0x536e6a[_0x10a092(0xec)]();for(let _0x53e10b=0x0;_0x53e10b<_0x441657['count'];_0x53e10b++){_0x536e6a[_0x10a092(0x127)](_0x53e10b);let _0x40353e=_0x536e6a['page'][_0x10a092(0xcb)][_0x10a092(0x17d)];_0x536e6a[_0x10a092(0x161)][_0x10a092(0xcb)][_0x10a092(0x17d)]=0x0,_0x536e6a[_0x10a092(0xd2)](_0x10a092(0xcc)+(_0x53e10b+0x1)+_0x10a092(0x134)+_0x441657[_0x10a092(0x179)],0x0,_0x536e6a[_0x10a092(0x161)][_0x10a092(0xbd)]-_0x40353e/0x2,{'align':_0x10a092(0x189)}),_0x536e6a['page'][_0x10a092(0xcb)][_0x10a092(0x17d)]=_0x40353e;}const _0x484f6c=_0x536e6a['y'],_0x53d747=_0x536e6a['x'];_0x536e6a[_0x10a092(0xf0)]();}catch(_0x2ae57e){console[_0x10a092(0x181)](_0x2ae57e),_0x26e2eb[_0x10a092(0x18e)](0x1f4)[_0x10a092(0x126)](_0x10a092(0xe1));}}),router[a0_0x32afb9(0xc5)](a0_0x32afb9(0x105),auth,async(_0x231caa,_0x5b4f9e)=>{const _0x65006e=a0_0x32afb9;try{const {username:_0x5534b6,email:_0x1a96b0,role:_0x3db3b7}=_0x231caa['user'],_0x5b5404=_0x231caa[_0x65006e(0xe9)],_0x3b3c26=await profile[_0x65006e(0x151)]({'email':_0x5b5404[_0x65006e(0x110)]}),_0x419723=await master_shop[_0x65006e(0x16f)](),_0x3a403d=_0x231caa[_0x65006e(0x11b)]['id'],_0xb39e55=await sales_return_finished[_0x65006e(0x128)](_0x3a403d),_0x1b250f=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5b4f9e[_0x65006e(0x106)](_0x65006e(0xff),_0x65006e(0x167)+_0x3a403d+_0x65006e(0x12d)),_0x5b4f9e[_0x65006e(0x106)](_0x65006e(0x12b),_0x65006e(0xee));var _0xf12328=0x14,_0x90b463=0x64;_0x1b250f[_0x65006e(0x13e)](_0x5b4f9e),_0x1b250f[_0x65006e(0x185)](_0x65006e(0xfd)+_0x419723[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x1b250f[_0x65006e(0x166)](0x14)['text'](_0x65006e(0x136),_0xf12328,_0x90b463),_0x1b250f['fontSize'](0xa)[_0x65006e(0xd2)](_0x65006e(0x150),_0xf12328,_0x90b463+=0xf),_0x1b250f[_0x65006e(0x166)](0xf)[_0x65006e(0xd2)](_0x65006e(0x101),_0xf12328,_0x90b463+=0x32),_0x1b250f[_0x65006e(0x166)](0xa)['text']('(RETURN)',_0xf12328,_0x90b463+=0x1e),_0x1b250f[_0x65006e(0x166)](0x9)['text'](_0x65006e(0x123)+_0xb39e55[_0x65006e(0x11c)],_0xf12328,_0x90b463+=0x28),_0x1b250f[_0x65006e(0x166)](0x9)['text']('Customer\x20:\x20'+_0xb39e55[_0x65006e(0x131)],0x190,0xd2,{'underline':!![]}),_0x1b250f[_0x65006e(0x166)](0x9)[_0x65006e(0xd2)](_0x65006e(0x147),_0xf12328,_0x90b463+=0xb),_0x1b250f[_0x65006e(0x166)](0x9)[_0x65006e(0xd2)]('Date\x20:\x20'+_0xb39e55[_0x65006e(0xd3)],_0xf12328,_0x90b463+=0xb),_0x1b250f['fontSize'](0x9)[_0x65006e(0xd2)](_0x65006e(0x108)+_0xb39e55[_0x65006e(0xdc)],_0xf12328,_0x90b463+=0xb);var _0x56aeb6='',_0x22eeac='',_0x1d2736=0x0,_0x5c006f;console[_0x65006e(0x181)](_0xb39e55[_0x65006e(0xf5)]);_0xb39e55[_0x65006e(0xf5)]=='GS'?(_0xb39e55[_0x65006e(0xb2)]==_0x65006e(0x14a)?warecode='DG':warecode='FG',_0x56aeb6={'headers':[{'label':'Item\x20Code','property':_0x65006e(0x154),'width':0x3c,'renderer':null},{'label':_0x65006e(0x165),'property':_0x65006e(0xda),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x65006e(0x132),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x65006e(0xba),'width':0x3c,'renderer':null},{'label':_0x65006e(0xe2),'property':_0x65006e(0xce),'width':0x50,'renderer':null},{'label':_0x65006e(0x184),'property':_0x65006e(0xbc),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x65006e(0x157),'width':0x3f,'renderer':null}],'datas':[]},_0xb39e55[_0x65006e(0x14b)][_0x65006e(0x116)](_0x230917=>{const _0x5f06c2=_0x65006e;let _0x347a86='';var _0x52c24c=0x0;_0x22eeac={'itemcode':_0x230917[_0x5f06c2(0x158)],'itemdescription':_0x230917[_0x5f06c2(0x138)],'qty':_0x230917[_0x5f06c2(0x15c)],'unit':_0x230917[_0x5f06c2(0xba)],'expdate':_0x230917[_0x5f06c2(0xe6)],'batchno':_0x230917[_0x5f06c2(0x139)],'binloc':warecode+_0x230917['bay']},_0x1d2736+=_0x230917[_0x5f06c2(0x15c)],console['log'](_0x230917),_0x56aeb6[_0x5f06c2(0xfb)][_0x5f06c2(0x107)](_0x22eeac);})):(_0x56aeb6={'headers':[{'label':_0x65006e(0x177),'property':_0x65006e(0x154),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x65006e(0xda),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x65006e(0x132),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x65006e(0xba),'width':0x3c,'renderer':null},{'label':_0x65006e(0xe2),'property':_0x65006e(0xce),'width':0x50,'renderer':null},{'label':_0x65006e(0x184),'property':_0x65006e(0xbc),'width':0x3f,'renderer':null}],'datas':[]},_0xb39e55['return_sale_QA'][_0x65006e(0x116)](_0x5a6962=>{const _0x5469a5=_0x65006e;let _0x24445c='';var _0x49aeff=0x0;_0x22eeac={'itemcode':_0x5a6962['product_code'],'itemdescription':_0x5a6962[_0x5469a5(0x138)],'qty':_0x5a6962[_0x5469a5(0x15c)],'unit':_0x5a6962[_0x5469a5(0xba)],'expdate':_0x5a6962['expiry_date'],'batchno':_0x5a6962['batch_code']},_0x1d2736+=_0x5a6962[_0x5469a5(0x15c)],console[_0x5469a5(0x181)](_0x1d2736+_0x5469a5(0x10b)+_0x5a6962[_0x5469a5(0x15c)]),_0x56aeb6[_0x5469a5(0xfb)]['push'](_0x22eeac);}));_0x1b250f[_0x65006e(0x114)](_0x56aeb6,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x1b250f[_0x65006e(0x10d)](_0x65006e(0xca))[_0x65006e(0x166)](0x8),'prepareRow':(_0x52237c,_0x3a3ff3,_0x4ebc0f,_0x370458)=>_0x1b250f[_0x65006e(0x10d)](_0x65006e(0xbf))[_0x65006e(0x166)](0x8)});var _0x56a7d0=_0x1b250f['y'],_0x1f89c9=_0x1b250f['x'];_0x1b250f[_0x65006e(0x166)](0xa)[_0x65006e(0xd2)](_0x65006e(0x169),_0x1f89c9+0x7d,_0x56a7d0),_0x1b250f[_0x65006e(0x166)](0xa)[_0x65006e(0xd2)]('TOTAL\x20QTY:\x20',_0x1f89c9,_0x56a7d0+=0x190),_0x1b250f[_0x65006e(0x166)](0xa)[_0x65006e(0xd2)](_0x1d2736,_0x1f89c9+0x37,_0x56a7d0,{'underline':!![]}),_0x1b250f[_0x65006e(0x166)](0xa)['text'](_0x65006e(0xd1),_0x1f89c9,_0x56a7d0+0x1e),_0x1b250f[_0x65006e(0x166)](0xa)['text'](_0x65006e(0x174),_0x1f89c9+0x32,_0x56a7d0+0x1e,{'underline':!![]});let _0xeb12cd=_0x1b250f['bufferedPageRange']();for(let _0x3dc7c0=0x0;_0x3dc7c0<_0xeb12cd[_0x65006e(0x179)];_0x3dc7c0++){_0x1b250f['switchToPage'](_0x3dc7c0);let _0x1ffdc4=_0x1b250f[_0x65006e(0x161)][_0x65006e(0xcb)][_0x65006e(0x17d)];_0x1b250f[_0x65006e(0x161)][_0x65006e(0xcb)]['bottom']=0x0,_0x1b250f[_0x65006e(0xd2)](_0x65006e(0xcc)+(_0x3dc7c0+0x1)+_0x65006e(0x134)+_0xeb12cd[_0x65006e(0x179)],0x0,_0x1b250f['page'][_0x65006e(0xbd)]-_0x1ffdc4/0x2,{'align':'center'}),_0x1b250f[_0x65006e(0x161)]['margins']['bottom']=_0x1ffdc4;}const _0x576751=_0x1b250f['y'],_0x2c39c1=_0x1b250f['x'];_0x1b250f[_0x65006e(0xf0)]();}catch(_0x34639f){console[_0x65006e(0x181)](_0x34639f),_0x5b4f9e[_0x65006e(0x18e)](0x1f4)[_0x65006e(0x126)](_0x65006e(0xe1));}}),router[a0_0x32afb9(0xc5)](a0_0x32afb9(0x142),auth,async(_0x48d905,_0x455972)=>{const _0x233380=a0_0x32afb9;try{const {username:_0x52786e,email:_0x37dc57,role:_0x1710c1}=_0x48d905[_0x233380(0xe9)],_0x22d55c=_0x48d905[_0x233380(0xe9)],_0x1c8a58=await profile[_0x233380(0x151)]({'email':_0x22d55c[_0x233380(0x110)]}),_0x5a12b0=await master_shop[_0x233380(0x16f)](),_0x3890c1=_0x48d905[_0x233380(0x11b)]['id'],_0x50ffec=await purchases[_0x233380(0x128)](_0x3890c1),_0x239577=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x455972['setHeader'](_0x233380(0xff),_0x233380(0x167)+_0x3890c1+_0x233380(0x12d)),_0x455972[_0x233380(0x106)](_0x233380(0x12b),'application/pdf');var _0x430a50=0x14,_0x4a868a=0x3c;_0x239577['pipe'](_0x455972),_0x239577[_0x233380(0x185)](_0x233380(0xfd)+_0x5a12b0[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x239577[_0x233380(0x166)](0x14)[_0x233380(0xd2)](_0x233380(0x136),_0x430a50,_0x4a868a),_0x239577[_0x233380(0x166)](0xa)[_0x233380(0xd2)](_0x233380(0x150),_0x430a50,_0x4a868a+=0xf),_0x239577[_0x233380(0x166)](0xf)[_0x233380(0xd2)](_0x233380(0xc2),_0x430a50,_0x4a868a+=0x32),_0x239577[_0x233380(0x166)](0xa)[_0x233380(0xd2)](_0x233380(0x172),_0x430a50,_0x4a868a+=0x14),_0x239577[_0x233380(0x166)](0x9)[_0x233380(0xd2)]('Warehouse\x20',_0x430a50,_0x4a868a+=0x2d),_0x239577[_0x233380(0x166)](0x9)[_0x233380(0xd2)](_0x233380(0xf9)+_0x50ffec['warehouse_name'],_0x430a50+0x3f,_0x4a868a),_0x239577[_0x233380(0x166)](0x9)['text']('Supplier\x20:\x20'+_0x50ffec[_0x233380(0x10e)],_0x430a50+0x17c,_0x4a868a,{'underline':!![]}),_0x239577[_0x233380(0x166)](0x9)['text']('Date\x20',_0x430a50,_0x4a868a+=0xb),_0x239577[_0x233380(0x166)](0x9)[_0x233380(0xd2)]('\x20:\x20'+_0x50ffec[_0x233380(0xd3)],_0x430a50+0x3f,_0x4a868a),_0x239577['fontSize'](0x9)[_0x233380(0xd2)](_0x233380(0xfa),_0x430a50,_0x4a868a+=0xb),_0x239577['fontSize'](0x9)[_0x233380(0xd2)](_0x233380(0xf9)+_0x50ffec[_0x233380(0xdc)],_0x430a50+0x3f,_0x4a868a);const _0x3efade={'headers':[{'label':_0x233380(0x177),'property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x233380(0xda),'width':0x96,'renderer':null},{'label':_0x233380(0x15b),'property':_0x233380(0x132),'width':0x2d,'renderer':null},{'label':_0x233380(0x14c),'property':'unit','width':0x3c,'renderer':null},{'label':_0x233380(0xe2),'property':_0x233380(0xce),'width':0x46,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3c,'renderer':null},{'label':_0x233380(0x124),'property':_0x233380(0x157),'width':0x3c,'renderer':null},{'label':'Delivery\x20Code','property':_0x233380(0x140),'width':0x3f,'renderer':null}],'datas':[]};var _0x12ce00=0x0;let _0x363d0a='';_0x50ffec['product'][_0x233380(0x116)](_0x3a1a3f=>{const _0x373f79=_0x233380;let _0x5396ab='';var _0x2f91f3=0x0,_0x7326a0=0x0,_0x316f95='';_0x3a1a3f[_0x373f79(0xd8)]=='S'?(_0x3a1a3f[_0x373f79(0x143)]>0x0?_0x7326a0=_0x3a1a3f[_0x373f79(0x11f)]*_0x3a1a3f['maxperunit']:_0x7326a0=_0x3a1a3f[_0x373f79(0x11f)]*0x1,_0x316f95=_0x3a1a3f['secondary_unit']):(_0x7326a0=_0x3a1a3f[_0x373f79(0x11f)]*0x1,_0x316f95=_0x3a1a3f[_0x373f79(0x152)]);const _0x301965={'itemcode':_0x3a1a3f['product_code'],'itemdescription':_0x3a1a3f[_0x373f79(0x138)],'qty':_0x7326a0,'unit':_0x316f95,'expdate':_0x3a1a3f[_0x373f79(0xe6)],'batchno':_0x3a1a3f[_0x373f79(0x139)],'binloc':_0x3a1a3f[_0x373f79(0x16e)]+_0x3a1a3f[_0x373f79(0x153)]+_0x3a1a3f[_0x373f79(0x14e)]+_0x3a1a3f[_0x373f79(0x13f)]+_0x3a1a3f['type'][0x0]+_0x3a1a3f[_0x373f79(0xe0)],'DelCode':_0x3a1a3f['delivery_code']};_0x12ce00+=_0x7326a0,_0x3efade['datas'][_0x373f79(0x107)](_0x301965);}),_0x239577[_0x233380(0x114)](_0x3efade,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x239577[_0x233380(0x10d)](_0x233380(0xca))[_0x233380(0x166)](0x8),'prepareRow':(_0x3abab8,_0x1db73e,_0x228270,_0x1a6f60)=>_0x239577[_0x233380(0x10d)](_0x233380(0xbf))[_0x233380(0x166)](0x8)});var _0x23ba79=_0x239577['y'],_0x4cae67=_0x239577['x'];_0x239577['fontSize'](0xa)[_0x233380(0xd2)](_0x233380(0x169),_0x4cae67+0x7d,_0x23ba79),_0x239577[_0x233380(0x166)](0xa)[_0x233380(0xd2)](_0x233380(0xbb),_0x4cae67,_0x23ba79+=0x15e),_0x239577[_0x233380(0x166)](0xa)[_0x233380(0xd2)](_0x12ce00,_0x4cae67+0xf0,_0x23ba79,{'underline':!![]}),_0x239577[_0x233380(0x166)](0xa)[_0x233380(0xd2)](_0x233380(0x18a),_0x4cae67,_0x23ba79+0x28),_0x239577[_0x233380(0x166)](0xa)[_0x233380(0xd2)](_0x233380(0xdd),_0x4cae67+0x40,_0x23ba79+0x28,{'underline':!![]}),_0x239577[_0x233380(0x166)](0xa)[_0x233380(0xd2)](_0x233380(0x180),_0x4cae67+0x40,_0x23ba79+0x32);let _0x47a3f1=_0x239577['bufferedPageRange']();for(let _0x6cc4da=0x0;_0x6cc4da<_0x47a3f1[_0x233380(0x179)];_0x6cc4da++){_0x239577[_0x233380(0x127)](_0x6cc4da);let _0x376e9f=_0x239577['page'][_0x233380(0xcb)][_0x233380(0x17d)];_0x239577[_0x233380(0x161)][_0x233380(0xcb)][_0x233380(0x17d)]=0x0,_0x239577['text'](_0x233380(0xcc)+(_0x6cc4da+0x1)+_0x233380(0x134)+_0x47a3f1[_0x233380(0x179)],0x0,_0x239577['page']['height']-_0x376e9f/0x2,{'align':_0x233380(0x189)}),_0x239577[_0x233380(0x161)][_0x233380(0xcb)][_0x233380(0x17d)]=_0x376e9f;}const _0x22882d=_0x239577['y'],_0x3b529f=_0x239577['x'];_0x239577[_0x233380(0xf0)]();}catch(_0x27dc22){console['log'](_0x27dc22),_0x455972[_0x233380(0x18e)](0x1f4)[_0x233380(0x126)](_0x233380(0xe1));}}),router[a0_0x32afb9(0xc5)](a0_0x32afb9(0xc3),auth,async(_0x16a640,_0x48a531)=>{const _0x253624=a0_0x32afb9;try{const {username:_0x1299b5,email:_0x432560,role:_0x597a77}=_0x16a640[_0x253624(0xe9)],_0x28b97e=_0x16a640['user'],_0xf35062=await profile[_0x253624(0x151)]({'email':_0x28b97e[_0x253624(0x110)]}),_0xc85aa9=await master_shop[_0x253624(0x16f)](),_0x2fcb14=_0x16a640['params']['id'],_0x73bf1e=await sales['findById'](_0x2fcb14),_0x16ce1c=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x219c75;_0x219c75=_0x253624(0x101);_0x73bf1e[_0x253624(0xb4)]==_0x253624(0xdb)&&(_0x219c75=_0x253624(0x168));_0x48a531[_0x253624(0x106)](_0x253624(0xff),_0x253624(0x167)+_0x2fcb14+_0x253624(0x12d)),_0x48a531['setHeader']('Content-type',_0x253624(0xee));var _0x4fffef=0x14,_0x3cc7e5=0x64;_0x16ce1c[_0x253624(0x13e)](_0x48a531),_0x16ce1c['image'](_0x253624(0xfd)+_0xc85aa9[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x16ce1c['fontSize'](0x14)[_0x253624(0xd2)](_0x253624(0x136),_0x4fffef,_0x3cc7e5),_0x16ce1c[_0x253624(0x166)](0xa)[_0x253624(0xd2)](_0x253624(0x150),_0x4fffef,_0x3cc7e5+=0xf),_0x16ce1c[_0x253624(0x166)](0xf)[_0x253624(0xd2)](_0x219c75,_0x4fffef,_0x3cc7e5+=0x32),_0x16ce1c[_0x253624(0x166)](0xa)[_0x253624(0xd2)](_0x253624(0xdf),_0x4fffef,_0x3cc7e5+=0x14),_0x16ce1c[_0x253624(0x166)](0x9)[_0x253624(0xd2)]('Date\x20',_0x4fffef,_0x3cc7e5+=0x19),_0x16ce1c[_0x253624(0x166)](0x9)[_0x253624(0xd2)](_0x253624(0xf9)+_0x73bf1e[_0x253624(0xd3)],_0x4fffef+0x3f,_0x3cc7e5),_0x16ce1c[_0x253624(0x166)](0x9)[_0x253624(0xd2)](_0x253624(0xfe),_0x4fffef,_0x3cc7e5+=0xb),_0x16ce1c[_0x253624(0x166)](0x9)[_0x253624(0xd2)](_0x253624(0xf9)+_0x73bf1e[_0x253624(0xdc)],_0x4fffef+0x3f,_0x3cc7e5);const _0x2b31ad={'headers':[{'label':'ITEM\x20CODE','property':_0x253624(0x154),'align':_0x253624(0x189),'width':0x2d,'renderer':null},{'label':'MATERIAL\x20DESCRIPTION','property':_0x253624(0xda),'align':_0x253624(0x189),'width':0x64,'renderer':null},{'label':'REQUESTED\x20QUANTITY','property':_0x253624(0xf7),'align':_0x253624(0x189),'width':0x28,'renderer':null},{'label':'QUANTITY\x20ISSUED','property':_0x253624(0xe4),'align':_0x253624(0x189),'width':0x28,'renderer':null},{'label':_0x253624(0x14c),'property':_0x253624(0xba),'align':'center','width':0x28,'renderer':null},{'label':_0x253624(0xd5),'property':_0x253624(0xb9),'align':_0x253624(0x189),'width':0x32,'renderer':null},{'label':_0x253624(0xe8),'property':'proddate','align':_0x253624(0x189),'width':0x3c,'renderer':null},{'label':_0x253624(0x122),'property':_0x253624(0xce),'align':_0x253624(0x189),'width':0x3c,'renderer':null},{'label':_0x253624(0x155),'property':_0x253624(0x11d),'align':_0x253624(0x189),'width':0x3f,'renderer':null},{'label':_0x253624(0x149),'property':'del_code','align':_0x253624(0x189),'width':0x3f,'renderer':null}],'datas':[]};var _0x582e0a=0x0;let _0x14c57c='';var _0x337d71=0x0,_0x4fffef=0x1;_0x73bf1e[_0x253624(0xfc)][_0x253624(0x116)](_0xfe8623=>{const _0x4c51ef=_0x253624,_0x2f9d2b=new Date(_0xfe8623[_0x4c51ef(0x125)]),_0x5d9985={'year':'numeric','month':_0x4c51ef(0x18b),'day':'numeric'},_0x2da544=_0x2f9d2b[_0x4c51ef(0x18d)]('en-US',_0x5d9985),_0x27c4b7=new Date(_0xfe8623[_0x4c51ef(0xe6)]),_0x7c21c={'year':_0x4c51ef(0xb6),'month':_0x4c51ef(0x18b),'day':_0x4c51ef(0xb6)},_0x4c077b=_0x27c4b7[_0x4c51ef(0x18d)](_0x4c51ef(0x17c),_0x7c21c),_0x20e10d=new Date(_0xfe8623['delivery_date']),_0x3f7e09={'year':'numeric','month':_0x4c51ef(0x18b),'day':'numeric'};var _0x3b39e6=_0x20e10d[_0x4c51ef(0x18d)](_0x4c51ef(0x17c),_0x3f7e09);typeof _0xfe8623[_0x4c51ef(0xea)]=='undefined'&&(_0x3b39e6='');console[_0x4c51ef(0x181)](_0xfe8623);var _0x53f20d=0x0,_0x29c711='';_0xfe8623[_0x4c51ef(0x104)]=='S'?(_0xfe8623[_0x4c51ef(0x143)]>0x0?_0x53f20d=_0xfe8623['quantity']*_0xfe8623['maxperunit']:_0x53f20d=_0xfe8623[_0x4c51ef(0x11f)]*0x1,_0x29c711=_0xfe8623[_0x4c51ef(0x12c)]):(_0x53f20d=_0xfe8623['quantity']*0x1,_0x29c711=_0xfe8623[_0x4c51ef(0xba)]);const _0xdca42a={'itemcode':_0xfe8623[_0x4c51ef(0x158)],'itemdescription':_0xfe8623[_0x4c51ef(0x138)],'rqty':_0xfe8623[_0x4c51ef(0xe3)],'iqty':_0x53f20d,'unit':_0x29c711,'blocation':_0xfe8623[_0x4c51ef(0x16e)]+_0xfe8623[_0x4c51ef(0x153)]+_0xfe8623['bay']+_0xfe8623['bin']+_0xfe8623[_0x4c51ef(0x182)][0x0]+_0xfe8623[_0x4c51ef(0xe0)],'proddate':_0x2da544,'expdate':_0x4c077b,'del_date':_0x3b39e6,'del_code':_0xfe8623['delivery_code']};_0x4fffef++,_0x2b31ad[_0x4c51ef(0xfb)][_0x4c51ef(0x107)](_0xdca42a);}),_0x16ce1c[_0x253624(0x114)](_0x2b31ad,{'x':_0x4fffef+0x11,'y':_0x3cc7e5+=0x1e,'prepareHeader':()=>_0x16ce1c[_0x253624(0x10d)](_0x253624(0xca))[_0x253624(0x166)](6.5),'prepareRow':(_0x57e418,_0x172536,_0x125435,_0x4e2afb,_0x3f05ea)=>{const _0x4815b0=_0x253624,{x:_0x5661ee,y:_0x404698,width:_0x4385b8,height:_0x1264d3}=_0x3f05ea;_0x16ce1c[_0x4815b0(0x10d)](_0x4815b0(0xbf))[_0x4815b0(0x166)](0x8),_0x16ce1c[_0x4815b0(0x121)](0.5)[_0x4815b0(0x16a)](_0x5661ee,_0x404698)[_0x4815b0(0x120)](_0x5661ee,_0x404698+_0x1264d3)[_0x4815b0(0x17e)]();}});var _0x1e2c3b=_0x16ce1c['y'],_0x2e55e0=_0x16ce1c['x'],_0x93d033=_0x1e2c3b-=0x8;_0x16ce1c[_0x253624(0x121)](0x5),_0x16ce1c[_0x253624(0x160)]('butt')[_0x253624(0x16a)](0x240,_0x93d033)[_0x253624(0x120)](0x11,_0x93d033)[_0x253624(0x17e)](),_0x16ce1c[_0x253624(0x166)](0xa)[_0x253624(0xd2)](_0x253624(0x169),_0x2e55e0+0x7d,_0x1e2c3b+=0xf),_0x16ce1c[_0x253624(0x166)](0xb)[_0x253624(0xd2)]('PREPARED\x20BY\x20:\x20',_0x2e55e0,_0x1e2c3b+=_0x16ce1c['x']+_0x2e55e0),_0x16ce1c[_0x253624(0x166)](0xa)[_0x253624(0xd2)](_0x253624(0x145),_0x2e55e0+0x52,_0x1e2c3b,{'underline':!![]}),_0x16ce1c[_0x253624(0x166)](0xa)[_0x253624(0xd2)](_0x253624(0x129),_0x2e55e0,_0x1e2c3b+=0x19),_0x16ce1c[_0x253624(0x166)](0xa)[_0x253624(0xd2)](_0x253624(0xf9),_0x2e55e0+0x4b,_0x1e2c3b),_0x16ce1c[_0x253624(0x166)](0xa)[_0x253624(0xd2)]('\x20'[_0x253624(0xd4)](0x3c),_0x2e55e0+0x50,_0x1e2c3b,{'underline':!![]}),_0x16ce1c[_0x253624(0x166)](0xa)[_0x253624(0xd2)](_0x253624(0xde),_0x2e55e0,_0x1e2c3b+=0x32),_0x16ce1c[_0x253624(0x166)](0xa)[_0x253624(0xd2)](_0x253624(0xf9),_0x2e55e0+0x4b,_0x1e2c3b),_0x16ce1c['fontSize'](0xa)[_0x253624(0xd2)](_0x253624(0x141),_0x2e55e0+0x50,_0x1e2c3b,{'underline':!![]}),_0x16ce1c[_0x253624(0x166)](0xa)['text'](_0x253624(0x180),_0x2e55e0+0x50,_0x1e2c3b+0xc);let _0x402d5d=_0x16ce1c[_0x253624(0xec)]();for(let _0x5e9f3e=0x0;_0x5e9f3e<_0x402d5d[_0x253624(0x179)];_0x5e9f3e++){_0x16ce1c['switchToPage'](_0x5e9f3e);let _0x272728=_0x16ce1c[_0x253624(0x161)][_0x253624(0xcb)]['bottom'];_0x16ce1c[_0x253624(0x161)][_0x253624(0xcb)][_0x253624(0x17d)]=0x0,_0x16ce1c[_0x253624(0xd2)](_0x253624(0xcc)+(_0x5e9f3e+0x1)+_0x253624(0x134)+_0x402d5d['count'],0x0,_0x16ce1c[_0x253624(0x161)]['height']-_0x272728/0x2,{'align':_0x253624(0x189)}),_0x16ce1c[_0x253624(0x161)][_0x253624(0xcb)][_0x253624(0x17d)]=_0x272728;}const _0x18f92b=_0x16ce1c['y'],_0x427a49=_0x16ce1c['x'];_0x16ce1c[_0x253624(0xf0)]();}catch(_0x537a1c){console[_0x253624(0x181)](_0x537a1c),_0x48a531[_0x253624(0x18e)](0x1f4)[_0x253624(0x126)](_0x253624(0xe1));}}),router['get'](a0_0x32afb9(0xf3),auth,async(_0x484bde,_0x378230)=>{const _0x4b3e19=a0_0x32afb9;try{const {username:_0x5554de,email:_0x3a9fc7,role:_0x90763}=_0x484bde[_0x4b3e19(0xe9)],_0x4cf7e9=_0x484bde[_0x4b3e19(0xe9)],_0x29262a=await profile[_0x4b3e19(0x151)]({'email':_0x4cf7e9['email']}),_0x2868b4=await master_shop['find'](),_0x342019=_0x484bde[_0x4b3e19(0x11b)]['id'],_0x577c1b=await adjustment[_0x4b3e19(0x128)](_0x342019);var _0x28ff73,_0x52130c;_0x28ff73='PICKING\x20LIST',_0x52130c='(INVENTORY\x20ADJUSTMENT)';_0x577c1b[_0x4b3e19(0xb4)]=='True'&&(_0x28ff73=_0x4b3e19(0x13c),_0x52130c='');const _0x349fbe=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x378230[_0x4b3e19(0x106)](_0x4b3e19(0xff),_0x4b3e19(0x167)+_0x342019+_0x4b3e19(0x12d)),_0x378230[_0x4b3e19(0x106)](_0x4b3e19(0x12b),_0x4b3e19(0xee));var _0xcfbab1=0x14,_0x5c9e99=0x3c;_0x349fbe[_0x4b3e19(0x13e)](_0x378230),_0x349fbe[_0x4b3e19(0x185)]('./public/upload/'+_0x2868b4[0x0][_0x4b3e19(0x185)],0x14,0x0,{'fit':[0x64,0x64]}),_0x349fbe['fontSize'](0x14)[_0x4b3e19(0xd2)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0xcfbab1,_0x5c9e99),_0x349fbe[_0x4b3e19(0x166)](0xa)['text'](_0x4b3e19(0x150),_0xcfbab1,_0x5c9e99+=0xf),_0x349fbe[_0x4b3e19(0x166)](0xf)[_0x4b3e19(0xd2)](_0x28ff73,_0xcfbab1,_0x5c9e99+=0x32),_0x349fbe['fontSize'](0xa)[_0x4b3e19(0xd2)](_0x52130c,_0xcfbab1,_0x5c9e99+=0x14),_0x349fbe['fontSize'](0x9)['text']('Warehouse\x20',_0xcfbab1,_0x5c9e99+=0x28),_0x349fbe[_0x4b3e19(0x166)](0x9)[_0x4b3e19(0xd2)](_0x4b3e19(0xf9)+_0x577c1b[_0x4b3e19(0xb2)],_0xcfbab1+0x3f,_0x5c9e99),_0x349fbe[_0x4b3e19(0x166)](0x9)[_0x4b3e19(0xd2)]('Date\x20',_0xcfbab1,_0x5c9e99+=0xb),_0x349fbe[_0x4b3e19(0x166)](0x9)[_0x4b3e19(0xd2)](_0x4b3e19(0xf9)+_0x577c1b[_0x4b3e19(0xd3)],_0xcfbab1+0x3f,_0x5c9e99),_0x349fbe['fontSize'](0x9)['text'](_0x4b3e19(0xfa),_0xcfbab1,_0x5c9e99+=0xb),_0x349fbe[_0x4b3e19(0x166)](0x9)['text'](_0x4b3e19(0xf9)+_0x577c1b[_0x4b3e19(0xdc)],_0xcfbab1+0x3f,_0x5c9e99);const _0x591067={'headers':[{'label':'Item\x20Code','property':_0x4b3e19(0x154),'width':0x3c,'renderer':null},{'label':_0x4b3e19(0x165),'property':_0x4b3e19(0xda),'width':0x96,'renderer':null},{'label':_0x4b3e19(0x10c),'property':_0x4b3e19(0x132),'width':0x3c,'renderer':null},{'label':_0x4b3e19(0x14c),'property':_0x4b3e19(0xba),'width':0x3c,'renderer':null},{'label':_0x4b3e19(0x173),'property':_0x4b3e19(0x163),'width':0x50,'renderer':null},{'label':_0x4b3e19(0x184),'property':_0x4b3e19(0xbc),'width':0x3f,'renderer':null},{'label':_0x4b3e19(0x124),'property':_0x4b3e19(0x157),'width':0x3f,'renderer':null}],'datas':[]};var _0x4c99c5=0x0,_0x3e8278=0x0;_0x577c1b[_0x4b3e19(0xc6)][_0x4b3e19(0x116)](_0x67156c=>{const _0x9b563e=_0x4b3e19;let _0x2794eb='';const _0x4692b5=_0x67156c[_0x9b563e(0x159)];for(let _0x2f3451=0x1;_0x2f3451<=_0x4692b5;_0x2f3451++){_0x4692b5==_0x2f3451?_0x2794eb+=_0x67156c['maxperunit']:_0x2794eb+=_0x67156c['maxperunit']+',',_0x3e8278+=_0x67156c[_0x9b563e(0x143)];}_0x2794eb+='\x20/\x20'+_0x67156c['secondary_unit'];const _0x30695c={'itemcode':_0x67156c[_0x9b563e(0x158)],'itemdescription':_0x67156c[_0x9b563e(0x138)],'qty':_0x67156c[_0x9b563e(0xb7)],'unit':_0x67156c['unit'],'proddate':_0x67156c['production_date'],'batchno':_0x67156c[_0x9b563e(0x139)],'binloc':_0x67156c[_0x9b563e(0x16e)]+_0x67156c[_0x9b563e(0x153)]+_0x67156c[_0x9b563e(0x14e)]+_0x67156c[_0x9b563e(0x13f)]+_0x67156c[_0x9b563e(0x182)][0x0]+_0x67156c[_0x9b563e(0xe0)]};_0x4c99c5+=_0x67156c[_0x9b563e(0xb7)],_0x591067[_0x9b563e(0xfb)]['push'](_0x30695c);}),_0x349fbe['table'](_0x591067,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x349fbe['font'](_0x4b3e19(0xca))['fontSize'](0x8),'prepareRow':(_0x57e76e,_0x402947,_0x3b7062,_0x35f778)=>_0x349fbe[_0x4b3e19(0x10d)](_0x4b3e19(0xbf))[_0x4b3e19(0x166)](0x8)});var _0x2fbfdf=_0x349fbe['y'],_0x143a8e=_0x349fbe['x'];_0x349fbe[_0x4b3e19(0x166)](0xa)['text'](_0x4b3e19(0x169),_0x143a8e+0x7d,_0x2fbfdf),_0x349fbe['fontSize'](0xa)[_0x4b3e19(0xd2)](_0x4b3e19(0x156),_0x143a8e,_0x2fbfdf+=0x136),_0x349fbe[_0x4b3e19(0x166)](0xa)[_0x4b3e19(0xd2)](_0x4c99c5,_0x143a8e+0xc8,_0x2fbfdf),_0x349fbe[_0x4b3e19(0x166)](0xa)[_0x4b3e19(0xd2)](_0x4b3e19(0x10a),_0x143a8e,_0x2fbfdf+=0x19),_0x349fbe[_0x4b3e19(0x166)](0xa)[_0x4b3e19(0xd2)]('\x20'['repeat'](0x3c),_0x143a8e+0x3e,_0x2fbfdf,{'underline':!![]}),_0x349fbe[_0x4b3e19(0x166)](0xa)[_0x4b3e19(0xd2)]('Checked\x20By\x20',_0x143a8e,_0x2fbfdf+=0x32),_0x349fbe[_0x4b3e19(0x166)](0xa)[_0x4b3e19(0xd2)](_0x4b3e19(0xf9),_0x143a8e+0x37,_0x2fbfdf),_0x349fbe[_0x4b3e19(0x166)](0xa)[_0x4b3e19(0xd2)](_0x4b3e19(0x141),_0x143a8e+0x3c,_0x2fbfdf,{'underline':!![]}),_0x349fbe[_0x4b3e19(0x166)](0xa)[_0x4b3e19(0xd2)](_0x4b3e19(0x180),_0x143a8e+0x3c,_0x2fbfdf+0xc);let _0x10fe93=_0x349fbe[_0x4b3e19(0xec)]();for(let _0x1fdbdf=0x0;_0x1fdbdf<_0x10fe93[_0x4b3e19(0x179)];_0x1fdbdf++){_0x349fbe[_0x4b3e19(0x127)](_0x1fdbdf);let _0x577415=_0x349fbe[_0x4b3e19(0x161)]['margins'][_0x4b3e19(0x17d)];_0x349fbe[_0x4b3e19(0x161)][_0x4b3e19(0xcb)]['bottom']=0x0,_0x349fbe[_0x4b3e19(0xd2)]('Page:\x20'+(_0x1fdbdf+0x1)+_0x4b3e19(0x134)+_0x10fe93[_0x4b3e19(0x179)],0x0,_0x349fbe[_0x4b3e19(0x161)][_0x4b3e19(0xbd)]-_0x577415/0x2,{'align':_0x4b3e19(0x189)}),_0x349fbe[_0x4b3e19(0x161)][_0x4b3e19(0xcb)][_0x4b3e19(0x17d)]=_0x577415;}const _0xd89c2=_0x349fbe['y'],_0x5e5b9d=_0x349fbe['x'];_0x349fbe['end']();}catch(_0xbda3b3){console[_0x4b3e19(0x181)](_0xbda3b3),_0x378230['status'](0x1f4)[_0x4b3e19(0x126)](_0x4b3e19(0xe1));}}),router[a0_0x32afb9(0xc5)](a0_0x32afb9(0x16b),auth,async(_0x50e812,_0x1711a9)=>{const _0x21144d=a0_0x32afb9;try{const {username:_0x4a03b8,email:_0x40ef7d,role:_0x5eea24}=_0x50e812[_0x21144d(0xe9)],_0x353474=_0x50e812[_0x21144d(0xe9)],_0xb3744d=await profile['findOne']({'email':_0x353474[_0x21144d(0x110)]}),_0x345034=await master_shop[_0x21144d(0x16f)](),_0x3d235a=_0x50e812[_0x21144d(0x11b)]['id'],_0x25dcc6=await transfers['findById'](_0x3d235a);var _0x1fe487,_0x3f4591;_0x1fe487=_0x21144d(0x18c),_0x3f4591=_0x21144d(0x17f);_0x25dcc6[_0x21144d(0xb4)]=='True'&&(_0x1fe487='STOCKS\x20TRANSFER',_0x3f4591='');const _0x4676c8=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1711a9['setHeader']('Content-disposition',_0x21144d(0x167)+_0x3d235a+'.pdf\x22'),_0x1711a9[_0x21144d(0x106)](_0x21144d(0x12b),'application/pdf');var _0x13c642=0x14,_0x405986=0x3c;_0x4676c8[_0x21144d(0x13e)](_0x1711a9),_0x4676c8[_0x21144d(0x185)](_0x21144d(0xfd)+_0x345034[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x4676c8[_0x21144d(0x166)](0x14)[_0x21144d(0xd2)](_0x21144d(0x136),_0x13c642,_0x405986),_0x4676c8[_0x21144d(0x166)](0xa)[_0x21144d(0xd2)](_0x21144d(0x150),_0x13c642,_0x405986+=0xf),_0x4676c8[_0x21144d(0x166)](0xf)[_0x21144d(0xd2)](_0x1fe487,_0x13c642,_0x405986+=0x32),_0x4676c8[_0x21144d(0x166)](0xa)[_0x21144d(0xd2)](_0x3f4591,_0x13c642,_0x405986+=0x14),_0x4676c8[_0x21144d(0x166)](0x9)[_0x21144d(0xd2)](_0x21144d(0xf4),_0x13c642,_0x405986+=0x28),_0x4676c8[_0x21144d(0x166)](0x9)[_0x21144d(0xd2)]('\x20\x20\x20:\x20'+_0x25dcc6['from_warehouse'],_0x13c642+0x3f,_0x405986),_0x4676c8['fontSize'](0x9)[_0x21144d(0xd2)](_0x21144d(0x14f),_0x13c642,_0x405986+=0xa),_0x4676c8['fontSize'](0x9)[_0x21144d(0xd2)](_0x21144d(0x16c)+_0x25dcc6['to_warehouse'],_0x13c642+0x3f,_0x405986),_0x4676c8[_0x21144d(0x166)](0x9)[_0x21144d(0xd2)](_0x21144d(0x148),_0x13c642,_0x405986+=0xb),_0x4676c8[_0x21144d(0x166)](0x9)[_0x21144d(0xd2)](_0x21144d(0x16c)+_0x25dcc6[_0x21144d(0xd3)],_0x13c642+0x3f,_0x405986),_0x4676c8['fontSize'](0x9)[_0x21144d(0xd2)](_0x21144d(0xfa),_0x13c642,_0x405986+=0xb),_0x4676c8[_0x21144d(0x166)](0x9)[_0x21144d(0xd2)]('\x20\x20\x20:\x20'+_0x25dcc6[_0x21144d(0xdc)],_0x13c642+0x3f,_0x405986);const _0xda742f={'headers':[{'label':'','property':_0x21144d(0x154),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x21144d(0x144),'property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':'\x20\x20\x20\x20\x20TO','property':_0x21144d(0xda),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x4676c8['table'](_0xda742f,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x4676c8[_0x21144d(0x10d)](_0x21144d(0xca))[_0x21144d(0x166)](0x8),'prepareRow':(_0x4062b2,_0xfcd469,_0x275b65,_0x4b05da)=>_0x4676c8[_0x21144d(0x10d)]('Helvetica')[_0x21144d(0x166)](0x8)});const _0x18f2c2={'headers':[{'label':_0x21144d(0x177),'property':_0x21144d(0x154),'width':0x3c,'renderer':null},{'label':_0x21144d(0x165),'property':_0x21144d(0xda),'width':0x96,'renderer':null},{'label':_0x21144d(0x10c),'property':'qty','width':0x28,'renderer':null},{'label':_0x21144d(0x14c),'property':'unit','width':0x37,'renderer':null},{'label':'Production\x20Date','property':_0x21144d(0x163),'width':0x4b,'renderer':null},{'label':_0x21144d(0x184),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x21144d(0x124),'property':_0x21144d(0xcd),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x21144d(0x157),'width':0x3f,'renderer':null}],'datas':[]};var _0x30f70e=0x0;let _0x4d902e='';var _0x29c1ee=0x0;_0x25dcc6['product'][_0x21144d(0x116)](_0x114b02=>{const _0x2a5d8f=_0x21144d;var _0x9dd9c=_0x114b02['prod_cat'],_0x303640;_0x303640=_0x114b02[_0x2a5d8f(0xba)];_0x9dd9c=='S'&&(_0x303640=_0x114b02['secondary_unit']);const _0x505689={'itemcode':_0x114b02['product_code'],'itemdescription':_0x114b02[_0x2a5d8f(0x138)],'qty':_0x114b02[_0x2a5d8f(0x159)],'unit':_0x303640,'proddate':_0x114b02[_0x2a5d8f(0x125)],'batchno':_0x114b02['batch_code'],'binloc':_0x114b02['storage']+_0x114b02[_0x2a5d8f(0x153)]+_0x114b02[_0x2a5d8f(0x10f)]+_0x114b02[_0x2a5d8f(0x109)]+_0x114b02[_0x2a5d8f(0x178)][0x0]+_0x114b02['to_floorlevel'],'qtyFrom':_0x114b02[_0x2a5d8f(0x11a)],'binlocFrom':_0x114b02[_0x2a5d8f(0x16d)]+_0x114b02[_0x2a5d8f(0x100)]+_0x114b02[_0x2a5d8f(0x15e)]+_0x114b02[_0x2a5d8f(0xe7)]+_0x114b02[_0x2a5d8f(0x162)][0x0]+_0x114b02[_0x2a5d8f(0x171)]};_0x30f70e+=_0x114b02[_0x2a5d8f(0x159)],_0x18f2c2['datas'][_0x2a5d8f(0x107)](_0x505689);}),_0x4676c8[_0x21144d(0x114)](_0x18f2c2,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x4676c8[_0x21144d(0x10d)](_0x21144d(0xca))[_0x21144d(0x166)](0x8),'prepareRow':(_0x5a1b11,_0xcb1b81,_0x48ef4b,_0x479cd7)=>_0x4676c8[_0x21144d(0x10d)](_0x21144d(0xbf))['fontSize'](0x8)});var _0x3cbdf0=_0x4676c8['y'],_0xb39909=_0x4676c8['x'];_0x4676c8['fontSize'](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0xb39909+0x7d,_0x3cbdf0),_0x4676c8[_0x21144d(0x166)](0xa)[_0x21144d(0xd2)]('TOTAL\x20QTY:\x20',_0xb39909,_0x3cbdf0+=0x12c),_0x4676c8[_0x21144d(0x166)](0xa)['text'](_0x30f70e,_0xb39909+0xd7,_0x3cbdf0,{'underline':!![]}),_0x4676c8['fontSize'](0xa)['text'](_0x21144d(0xeb),_0xb39909,_0x3cbdf0+=0x32),_0x4676c8[_0x21144d(0x166)](0xa)[_0x21144d(0xd2)](_0x21144d(0x12e),_0xb39909+0x3c,_0x3cbdf0,{'underline':!![]}),_0x4676c8[_0x21144d(0x166)](0xa)[_0x21144d(0xd2)](_0x21144d(0x180),_0xb39909+0x3c,_0x3cbdf0+0xc);let _0x4aee52=_0x4676c8[_0x21144d(0xec)]();for(let _0x130fbc=0x0;_0x130fbc<_0x4aee52['count'];_0x130fbc++){_0x4676c8[_0x21144d(0x127)](_0x130fbc);let _0x1233ae=_0x4676c8['page']['margins'][_0x21144d(0x17d)];_0x4676c8['page'][_0x21144d(0xcb)][_0x21144d(0x17d)]=0x0,_0x4676c8[_0x21144d(0xd2)](_0x21144d(0xcc)+(_0x130fbc+0x1)+'\x20of\x20'+_0x4aee52['count'],0x0,_0x4676c8[_0x21144d(0x161)][_0x21144d(0xbd)]-_0x1233ae/0x2,{'align':_0x21144d(0x189)}),_0x4676c8['page'][_0x21144d(0xcb)][_0x21144d(0x17d)]=_0x1233ae;}const _0x1ae57e=_0x4676c8['y'],_0x2f609b=_0x4676c8['x'];_0x4676c8['end']();}catch(_0x40fe65){console['log'](_0x40fe65),_0x1711a9['status'](0x1f4)['send'](_0x21144d(0xe1));}}),router[a0_0x32afb9(0xc5)]('/barcode_generator/',auth,async(_0x153612,_0x1399a5)=>{const _0x6c3759=a0_0x32afb9;try{const _0x5d8dbf=_0x5695e8=>_0x5695e8*0x48,_0x2cb055={'width':0x3,'height':0x1},_0x24bc3f=await product[_0x6c3759(0x16f)](),_0x3e737=new PDFDocument({'margin':_0x5d8dbf(0.75),'size':[_0x5d8dbf(_0x2cb055['width']),_0x5d8dbf(_0x2cb055[_0x6c3759(0xbd)])],'bufferPages':!![]}),_0x351106=_0x24bc3f[_0x6c3759(0x12a)];for(let _0x58dc05=0x0;_0x58dc05<=_0x351106;_0x58dc05++){if(_0x58dc05!=_0x24bc3f[_0x6c3759(0x12a)]){const _0x108985=_0x24bc3f[_0x58dc05]['name'],_0x2c12bc=_0x24bc3f[_0x58dc05][_0x6c3759(0xd0)],_0x458182=_0x24bc3f[_0x58dc05][_0x6c3759(0xc0)],_0x444641=_0x24bc3f[_0x58dc05]['product_code'],_0x6f0694=new Canvas();JsBarcode(_0x6f0694,_0x2c12bc,{'format':_0x6c3759(0x14d),'height':0x32,'displayValue':!![],'text':_0x2c12bc}),_0x3e737[_0x6c3759(0x185)](_0x6f0694[_0x6c3759(0x15f)](),0x0,0x0,{'width':0xd2}),_0x3e737[_0x6c3759(0x146)]();}}_0x3e737[_0x6c3759(0x13e)](_0x1399a5),_0x3e737[_0x6c3759(0xf0)]();}catch(_0x1264ab){console[_0x6c3759(0xcf)](_0x6c3759(0x183),_0x1264ab),_0x1399a5['status'](0x1f4)['send'](_0x6c3759(0xe1));}}),module[a0_0x32afb9(0x175)]=router;function a0_0x3354(){const _0x322754=['from_floorlevel','(INCOMING)','Production\x20Date','ARMAN\x20CRUZ','exports','Picked\x20By\x20\x20\x20:\x20','Item\x20Code','to_types','count','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','../middleware/auth','en-US','bottom','stroke','(STOCKS\x20TRANSFER)','Raw\x20Materials\x20Warehouse\x20Supervisor','log','type','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','Batch\x20No','image','Check\x20By\x20\x20\x20\x20:\x20','jsbarcode','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','center','Checked\x20By\x20\x20\x20:\x20','short','Picking\x20List','toLocaleDateString','status','warehouse_name','(INVENTORY\x20ADJUSTMENT)','finalize','819RUeOUJ','numeric','new_adjust_qty','STOCKS\x20TRANSFER','blocation','unit','TOTAL\x20QTY:\x20','batchno','height','Router','Helvetica','secondary_code','exceljs','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','/PDF_Sales/:id','Checked\x20By\x20','get','product','5995940UDeuGd','multer','36712WCvYTL','Helvetica-Bold','margins','Page:\x20','binlocFrom','expdate','error','primary_code','Check\x20By:\x20','text','date','repeat','LOCATION','96249jMGpwr','maxPerUnit','product_cat','121128XDsLWd','itemdescription','True','invoice','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Noted\x20By\x20','(OUTGOING)','floorlevel','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','Expiration\x20Date','requested_qty','iqty','Finished\x20Good\x20Warehouse\x20Supervisor','expiry_date','from_bin','PRODUCTION\x20DATE','user','delivery_date','Checked\x20By:\x20','bufferedPageRange','/pdf_puchases_fin/:id','application/pdf','25851DEpgUZ','end','4pOMyzH','5328ZOYnrJ','/PDF_adjustment_rm/:id','From\x20Warehouse\x20','warehouse_cat','/PDF_adjustment/:id','rqty','2187285rBMKoh','\x20:\x20','Control\x20Number\x20','datas','sale_product','./public/upload/','REF\x20MRIS#\x20','Content-disposition','from_rack','PICKING\x20LIST','Customer\x20:\x20','\x20/\x20','prod_cat','/pdf_sales_return_fin/:id','setHeader','push','Control\x20Number\x20:\x20','to_bin','Picked\x20By\x20\x20\x20\x20\x20:\x20','\x20<>\x20','Quantity','font','suppliers','to_bay','email','/PDF_transfer/:id','FTGS\x20Number\x20:\x20','express','table','Warehouse\x20','forEach','\x20y:\x20','adjust_qty','20AwAoxA','from_quantity','params','ToWarehouse','del_date','to_warehouse','quantity','lineTo','lineWidth','EXPIRATION\x20DATE','Warehouse\x20:\x20','Bin\x20Location','production_date','send','switchToPage','findById','Picked\x20By','length','Content-type','secondary_unit','.pdf\x22','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xlsx','customer','qty','\x20row:\x20','\x20of\x20','/PDF/:id','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','Picked\x20By\x20\x20\x20\x20:\x20','product_name','batch_code','pdfkit-table','from_warehouse','INVENTORY\x20ADJUSTMENT','1290RDUGGI','pipe','bin','DelCode','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/pdf_puchases/:id','maxperunit','\x20\x20\x20\x20\x20FROM','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addPage','Pick\x20By\x20:\x20','Date\x20','DELIVERY\x20CODE','DRY\x20GOODS','return_sale','UOM','CODE128','bay','To\x20Warehouse\x20','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','findOne','standard_unit','rack','itemcode','DELIVERY\x20DATE','TOTAL\x20QTY\x20:\x20','binloc','product_code','to_quantity','\x20\x20TO','QTY','return_qty','../models/all_models','from_bay','toBuffer','lineCap','page','from_types','proddate','610dIpyhW','Item\x20Description','fontSize','inline;\x20filename=\x22OUT-','DELIVERY\x20RECEIPT','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','moveTo','/PDF_transfer_rm/:id','\x20\x20\x20:\x20','from_storage','storage','find','63239LHxRxD'];a0_0x3354=function(){return _0x322754;};return a0_0x3354();}