const a0_0x3813ec=a0_0x17ac;function a0_0x472e(){const _0x2ad814=['\x20\x20\x20\x20\x20FROM','rack','jsbarcode','en-US','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','Picked\x20By\x20\x20\x20\x20:\x20','Warehouse\x20:\x20','to_bin','Date\x20:\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','5210pOzRfw','storage','Checked\x20By\x20\x20\x20:\x20','ARMAN\x20CRUZ','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','warehouse_cat','forEach','FROZEN\x20GOODS','PICKING\x20LIST','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','from_warehouse','Warehouse\x20','return_sale_QA','switchToPage','invoice','from_rack','stroke','params','bay','type','status','exceljs','Router','maxperunit','quantity','qty','text','DRY\x20GOODS','DELIVERY\x20DATE','binloc','/PDF_transfer_rm/:id','DELIVERY\x20RECEIPT','REQUESTED\x20QUANTITY','exports','table','\x20:\x20','/PDF/:id','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','Expiration\x20Date','ITEM\x20CODE','125295OadHGT','findOne','/pdf_puchases/:id','Batch\x20No','Checked\x20By\x20','613944LNiCdZ','from_bay','lineTo','date','(RETURN)','email','finalize','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(OUTGOING)','9ijTMek','standard_unit','suppliers','Item\x20Code','.pdf\x22','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','pipe','new_adjust_qty','REF\x20MRIS#\x20','adjust_qty','TOTAL\x20QTY:\x20','\x20\x20\x20:\x20','68163Iaaafd','height','\x20\x20\x20\x20\x20TO','Content-type','user','inline;\x20filename=\x22','image','Item\x20Description','to_bay','lineWidth','Checked\x20By:\x20','Pick\x20By\x20:\x20','Finished\x20Good\x20Warehouse\x20Supervisor','to_warehouse','Delivery\x20Code','toLocaleDateString','delivery_code','margins','Content-disposition','QUANTITY\x20ISSUED','font','repeat','bin','moveTo','\x20\x20TO','canvas','batchno','end','POnumber','/PDF_adjustment_rm/:id','INVENTORY\x20ADJUSTMENT','delivery_date','expiry_date','numeric','to_types','undefined','error','center','Helvetica','(STOCKS\x20TRANSFER)','find','primary_code','express','DelCode','itemcode','batch_code','rqty','PREPARED\x20BY\x20:\x20','sale_product','from_types','prod_cat','/PDF_adjustment/:id','Control\x20Number\x20','../public/language/languages.json','warehouse_name','PRODUCTION\x20DATE','maxPerUnit','lineCap','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','(INVENTORY\x20ADJUSTMENT)','secondary_unit','Page:\x20','To\x20Warehouse\x20','page','send','get','del_code','customer','expdate','proddate','TOTAL\x20QTY\x20:\x20','iqty','Quantity','Customer\x20:\x20','inline;\x20filename=\x22OUT-','setHeader','return_qty','Picking\x20List','secondary_code','return_sale','to_quantity','findById','blocation','from_quantity','Picked\x20By\x20\x20\x20\x20\x20:\x20','Production\x20Date','product_name','UOM','application/pdf','./public/upload/','itemdescription','push','../middleware/auth','fontSize','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','True','QTY','count','from_floorlevel','log','del_date','toBuffer','floorlevel','\x20/\x20','239658wVrGrb','DELIVERY\x20CODE','STOCKS\x20TRANSFER','Helvetica-Bold','width','product_code','binlocFrom','/pdf_puchases_fin/:id','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','562840jmRPLM','unit','(INCOMING)','bottom','5CNaHgS','/PDF_Sales/:id','\x20of\x20','x:\x20','/barcode_generator/','short','MATERIAL\x20DESCRIPTION','From\x20Warehouse\x20','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','Picked\x20By\x20\x20\x20:\x20','LOCATION','datas','\x20\x20FROM','Date\x20','7eFOFgW','Control\x20Number\x20:\x20','236190TmXFvU','Noted\x20By\x20','FTGS\x20Number\x20:\x20','production_date','ToWarehouse','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','product','express/lib/response','Picked\x20By','from_storage','Check\x20By\x20\x20\x20\x20:\x20','bufferedPageRange','blob-stream','/PDF_transfer/:id','Bin\x20Location','Raw\x20Materials\x20Warehouse\x20Supervisor'];a0_0x472e=function(){return _0x2ad814;};return a0_0x472e();}(function(_0xa01efb,_0x56892b){const _0x4e161d=a0_0x17ac,_0x3d3738=_0xa01efb();while(!![]){try{const _0x174863=parseInt(_0x4e161d(0x256))/0x1+-parseInt(_0x4e161d(0x214))/0x2+parseInt(_0x4e161d(0x270))/0x3+parseInt(_0x4e161d(0x25b))/0x4+parseInt(_0x4e161d(0x204))/0x5*(parseInt(_0x4e161d(0x1f7))/0x6)+-parseInt(_0x4e161d(0x212))/0x7*(parseInt(_0x4e161d(0x200))/0x8)+-parseInt(_0x4e161d(0x264))/0x9*(-parseInt(_0x4e161d(0x22e))/0xa);if(_0x174863===_0x56892b)break;else _0x3d3738['push'](_0x3d3738['shift']());}catch(_0x5a17c1){_0x3d3738['push'](_0x3d3738['shift']());}}}(a0_0x472e,0x257ac));const express=require(a0_0x3813ec(0x29a)),res=require(a0_0x3813ec(0x21b)),app=express(),router=express[a0_0x3813ec(0x244)](),multer=require('multer'),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require('../models/all_models'),auth=require(a0_0x3813ec(0x1eb)),users=require(a0_0x3813ec(0x2a5)),excelJS=require(a0_0x3813ec(0x243)),xlsx=require('xlsx'),PDFDocument=require('pdfkit-table'),fs=require('fs'),blobStream=require(a0_0x3813ec(0x220)),JsBarcode=require(a0_0x3813ec(0x226)),{Canvas}=require(a0_0x3813ec(0x289));function a0_0x17ac(_0x46558c,_0x10c176){const _0x472e43=a0_0x472e();return a0_0x17ac=function(_0x17ace7,_0x55752d){_0x17ace7=_0x17ace7-0x1c9;let _0x246ced=_0x472e43[_0x17ace7];return _0x246ced;},a0_0x17ac(_0x46558c,_0x10c176);}router[a0_0x3813ec(0x1d0)](a0_0x3813ec(0x252),auth,async(_0x55f9ed,_0x2e32cf)=>{const _0x376506=a0_0x3813ec;try{const {username:_0x50572d,email:_0x52e3f9,role:_0x2939b1}=_0x55f9ed['user'],_0x5ab9aa=_0x55f9ed[_0x376506(0x274)],_0x48697=await profile[_0x376506(0x257)]({'email':_0x5ab9aa[_0x376506(0x260)]}),_0x234996=await master_shop['find'](),_0x29177c=_0x55f9ed[_0x376506(0x23f)]['id'],_0x34b965=await sales_finished[_0x376506(0x1e0)](_0x29177c);var _0x293708;_0x293708=_0x376506(0x236);_0x34b965['finalize']=='True'&&(_0x293708=_0x376506(0x24d));const _0x5c021b=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2e32cf[_0x376506(0x1da)]('Content-disposition',_0x376506(0x275)+_0x34b965[_0x376506(0x23c)]+_0x376506(0x268)),_0x2e32cf['setHeader'](_0x376506(0x273),'application/pdf');var _0x5d4f8f=0x14,_0x38a32d=0x3c;_0x5c021b[_0x376506(0x26a)](_0x2e32cf),_0x5c021b['image'](_0x376506(0x1e8)+_0x234996[0x0][_0x376506(0x276)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5c021b[_0x376506(0x1ec)](0x14)[_0x376506(0x248)](_0x376506(0x237),_0x5d4f8f,_0x38a32d),_0x5c021b[_0x376506(0x1ec)](0xa)['text'](_0x376506(0x1ff),_0x5d4f8f,_0x38a32d+=0xf),_0x5c021b[_0x376506(0x1ec)](0xf)[_0x376506(0x248)](_0x293708,_0x5d4f8f,_0x38a32d+=0x32),_0x5c021b[_0x376506(0x1ec)](0xa)['text'](_0x376506(0x263),_0x5d4f8f,_0x38a32d+=0x14),_0x5c021b[_0x376506(0x1ec)](0x9)[_0x376506(0x248)]('Warehouse\x20',_0x5d4f8f,_0x38a32d+=0x28),_0x5c021b[_0x376506(0x1ec)](0x9)['text'](_0x376506(0x251)+_0x34b965[_0x376506(0x2a6)],_0x5d4f8f+0x3f,_0x38a32d),_0x5c021b['fontSize'](0x9)[_0x376506(0x248)](_0x376506(0x1d8)+_0x34b965[_0x376506(0x1d2)],_0x5d4f8f+0x17c,_0x38a32d,{'underline':!![]}),_0x5c021b[_0x376506(0x1ec)](0x9)[_0x376506(0x248)]('Date\x20',_0x5d4f8f,_0x38a32d+=0xb),_0x5c021b[_0x376506(0x1ec)](0x9)[_0x376506(0x248)](_0x376506(0x251)+_0x34b965[_0x376506(0x25e)],_0x5d4f8f+0x3f,_0x38a32d),_0x5c021b[_0x376506(0x1ec)](0x9)[_0x376506(0x248)](_0x376506(0x2a4),_0x5d4f8f,_0x38a32d+=0xb),_0x5c021b[_0x376506(0x1ec)](0x9)[_0x376506(0x248)]('\x20:\x20'+_0x34b965[_0x376506(0x23c)],_0x5d4f8f+0x3f,_0x38a32d);const _0x19b589={'headers':[{'label':_0x376506(0x267),'property':_0x376506(0x29c),'width':0x3c,'renderer':null},{'label':_0x376506(0x277),'property':_0x376506(0x1e9),'width':0xa5,'renderer':null},{'label':_0x376506(0x1d7),'property':_0x376506(0x247),'width':0x3c,'renderer':null},{'label':_0x376506(0x1e6),'property':_0x376506(0x201),'width':0x3c,'renderer':null},{'label':'Production\x20Date','property':'proddate','width':0x50,'renderer':null},{'label':_0x376506(0x259),'property':_0x376506(0x28a),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x1dc850=0x0;let _0x3b21e5='';var _0x2aa5a3=0x0;_0x34b965[_0x376506(0x2a6)]==_0x376506(0x249)?_0x3b21e5='DG':_0x3b21e5='FG';var _0x49d938=0x0;_0x34b965[_0x376506(0x2a0)]['forEach'](_0x45bced=>{const _0xc01167=_0x376506;console[_0xc01167(0x1f2)](_0x45bced);let _0x2be7c2='';const _0x20f1b5=_0x45bced['quantity'];for(let _0x3e1943=0x1;_0x3e1943<=_0x20f1b5;_0x3e1943++){_0x20f1b5==_0x3e1943?_0x2be7c2+=_0x45bced[_0xc01167(0x245)]:_0x2be7c2+=_0x45bced[_0xc01167(0x245)]+',',_0x2aa5a3+=_0x45bced[_0xc01167(0x245)];}_0x2be7c2+=_0xc01167(0x1f6)+_0x45bced[_0xc01167(0x1cb)];const _0x3dd548={'itemcode':_0x45bced[_0xc01167(0x1fc)],'itemdescription':_0x45bced[_0xc01167(0x1e5)],'qty':_0x45bced[_0xc01167(0x246)],'unit':_0x45bced[_0xc01167(0x201)],'proddate':_0x45bced[_0xc01167(0x217)],'batchno':_0x45bced[_0xc01167(0x29d)],'binloc':_0x3b21e5+_0x45bced[_0xc01167(0x240)]};_0x1dc850+=_0x45bced['quantity'],_0x49d938+=0x1,_0x19b589[_0xc01167(0x20f)][_0xc01167(0x1ea)](_0x3dd548);}),_0x5c021b[_0x376506(0x250)](_0x19b589,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x5c021b[_0x376506(0x284)](_0x376506(0x1fa))[_0x376506(0x1ec)](0x8),'prepareRow':(_0x1629f1,_0x191381,_0x65659e,_0x3b78fa)=>_0x5c021b[_0x376506(0x284)](_0x376506(0x296))[_0x376506(0x1ec)](0x8)});var _0x1da42f=_0x5c021b['y'],_0x106f58=_0x5c021b['x'];_0x5c021b[_0x376506(0x1ec)](0xa)[_0x376506(0x248)](_0x376506(0x269),_0x106f58+0x7d,_0x1da42f),console[_0x376506(0x1f2)](_0x376506(0x207)+_0x106f58+'\x20y:\x20'+_0x1da42f+'\x20row:\x20'+_0x49d938);const _0x1031e9=_0x106f58*_0x49d938;_0x5c021b[_0x376506(0x1ec)](0xa)[_0x376506(0x248)]('TOTAL\x20QTY:\x20',_0x106f58,_0x1da42f+=0x15e-_0x1031e9),_0x5c021b['fontSize'](0xa)[_0x376506(0x248)](_0x1dc850,_0x106f58+0xdc,_0x1da42f,{'underline':!![]}),_0x5c021b[_0x376506(0x1ec)](0xa)[_0x376506(0x248)](_0x376506(0x20d),_0x106f58,_0x1da42f+=0x19),_0x5c021b[_0x376506(0x1ec)](0xa)['text']('\x20'['repeat'](0x3c),_0x106f58+0x3e,_0x1da42f,{'underline':!![]}),_0x5c021b[_0x376506(0x1ec)](0xa)[_0x376506(0x248)](_0x376506(0x27a),_0x106f58,_0x1da42f+=0x32),_0x5c021b[_0x376506(0x1ec)](0xa)[_0x376506(0x248)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x106f58+0x3c,_0x1da42f,{'underline':!![]}),_0x5c021b[_0x376506(0x1ec)](0xa)[_0x376506(0x248)](_0x376506(0x27c),_0x106f58+0x3c,_0x1da42f+0xc);let _0x1c1125=_0x5c021b[_0x376506(0x21f)]();for(let _0x2264ad=0x0;_0x2264ad<_0x1c1125[_0x376506(0x1f0)];_0x2264ad++){_0x5c021b[_0x376506(0x23b)](_0x2264ad);let _0x2d023d=_0x5c021b['page'][_0x376506(0x281)][_0x376506(0x203)];_0x5c021b[_0x376506(0x1ce)][_0x376506(0x281)][_0x376506(0x203)]=0x0,_0x5c021b['text'](_0x376506(0x1cc)+(_0x2264ad+0x1)+_0x376506(0x206)+_0x1c1125[_0x376506(0x1f0)],0x0,_0x5c021b['page']['height']-_0x2d023d/0x2,{'align':_0x376506(0x295)}),_0x5c021b['page']['margins'][_0x376506(0x203)]=_0x2d023d;}const _0x3ea66c=_0x5c021b['y'],_0x1e0811=_0x5c021b['x'];_0x5c021b['end']();}catch(_0x5e52a0){console[_0x376506(0x1f2)](_0x5e52a0),_0x2e32cf[_0x376506(0x242)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x3813ec(0x1d0)](a0_0x3813ec(0x221),auth,async(_0x31be5d,_0x3f5bc8)=>{const _0x517916=a0_0x3813ec;try{const {username:_0xf1e69d,email:_0x2be864,role:_0x820eda}=_0x31be5d['user'],_0x224586=_0x31be5d[_0x517916(0x274)],_0x34826d=await profile[_0x517916(0x257)]({'email':_0x224586[_0x517916(0x260)]}),_0xe9f702=await master_shop[_0x517916(0x298)](),_0x1686c6=_0x31be5d[_0x517916(0x23f)]['id'],_0x4e7164=await transfers_finished['findById'](_0x1686c6);var _0xe1869b,_0x20d914;_0xe1869b='Picking\x20List',_0x20d914=_0x517916(0x297);_0x4e7164['finalize']==_0x517916(0x1ee)&&(_0xe1869b=_0x517916(0x1f9),_0x20d914='');const _0x50435e=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3f5bc8['setHeader']('Content-disposition',_0x517916(0x1d9)+_0x1686c6+'.pdf\x22'),_0x3f5bc8[_0x517916(0x1da)](_0x517916(0x273),_0x517916(0x1e7));var _0x25ed3c=0x14,_0x4805c7=0x3c;_0x50435e[_0x517916(0x26a)](_0x3f5bc8),_0x50435e[_0x517916(0x276)](_0x517916(0x1e8)+_0xe9f702[0x0][_0x517916(0x276)],0x14,0x0,{'fit':[0x64,0x64]}),_0x50435e['fontSize'](0x14)['text'](_0x517916(0x237),_0x25ed3c,_0x4805c7),_0x50435e['fontSize'](0xa)[_0x517916(0x248)](_0x517916(0x1ff),_0x25ed3c,_0x4805c7+=0xf),_0x50435e[_0x517916(0x1ec)](0xf)[_0x517916(0x248)](_0xe1869b,_0x25ed3c,_0x4805c7+=0x32),_0x50435e[_0x517916(0x1ec)](0xa)[_0x517916(0x248)](_0x20d914,_0x25ed3c,_0x4805c7+=0x14),_0x50435e[_0x517916(0x1ec)](0x9)[_0x517916(0x248)](_0x517916(0x20b),_0x25ed3c,_0x4805c7+=0x28),_0x50435e['fontSize'](0x9)[_0x517916(0x248)](_0x517916(0x26f)+_0x4e7164[_0x517916(0x238)],_0x25ed3c+0x3f,_0x4805c7),_0x50435e[_0x517916(0x1ec)](0x9)[_0x517916(0x248)]('To\x20Warehouse\x20',_0x25ed3c,_0x4805c7+=0xf),_0x50435e[_0x517916(0x1ec)](0x9)[_0x517916(0x248)](_0x517916(0x26f)+_0x4e7164['to_warehouse'],_0x25ed3c+0x3f,_0x4805c7),_0x50435e[_0x517916(0x1ec)](0x9)[_0x517916(0x248)](_0x517916(0x211),_0x25ed3c,_0x4805c7+=0xb),_0x50435e['fontSize'](0x9)[_0x517916(0x248)](_0x517916(0x26f)+_0x4e7164['date'],_0x25ed3c+0x3f,_0x4805c7),_0x50435e[_0x517916(0x1ec)](0x9)['text'](_0x517916(0x2a4),_0x25ed3c,_0x4805c7+=0xb),_0x50435e[_0x517916(0x1ec)](0x9)[_0x517916(0x248)](_0x517916(0x26f)+_0x4e7164[_0x517916(0x23c)],_0x25ed3c+0x3f,_0x4805c7);const _0x86fb2c={'headers':[{'label':'','property':_0x517916(0x29c),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x517916(0x210),'property':_0x517916(0x29c),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x517916(0x288),'property':_0x517916(0x1e9),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x50435e[_0x517916(0x250)](_0x86fb2c,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x50435e['font'](_0x517916(0x1fa))['fontSize'](0x8),'prepareRow':(_0x490c50,_0x359a1c,_0x3d2fd7,_0x3c0c3e)=>_0x50435e[_0x517916(0x284)](_0x517916(0x296))[_0x517916(0x1ec)](0x8)});const _0x4ad2c2={'headers':[{'label':_0x517916(0x267),'property':_0x517916(0x29c),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0x96,'renderer':null},{'label':'Quantity','property':_0x517916(0x247),'width':0x28,'renderer':null},{'label':_0x517916(0x1e6),'property':_0x517916(0x201),'width':0x37,'renderer':null},{'label':_0x517916(0x1e4),'property':'proddate','width':0x4b,'renderer':null},{'label':_0x517916(0x259),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x517916(0x222),'property':_0x517916(0x1fd),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x517916(0x24b),'width':0x3f,'renderer':null}],'datas':[]};var _0x2411bb=0x0;let _0x3baf71='';var _0x527d36=0x0;if(_0x4e7164[_0x517916(0x238)]==_0x517916(0x249))_0x3baf71='DG';else _0x4e7164[_0x517916(0x238)]==_0x517916(0x235)&&(_0x3baf71='FG');_0x4e7164[_0x517916(0x21a)]['forEach'](_0x1f4031=>{const _0x2c7ad0=_0x517916;var _0x16d483=_0x1f4031[_0x2c7ad0(0x2a2)],_0x44c737,_0x20e190;_0x44c737=_0x1f4031['unit'],_0x20e190=_0x1f4031[_0x2c7ad0(0x1df)];_0x16d483=='S'&&(_0x44c737=_0x1f4031[_0x2c7ad0(0x1cb)],_0x20e190=_0x1f4031[_0x2c7ad0(0x1df)]*_0x1f4031[_0x2c7ad0(0x2a8)]);const _0x3b60f3={'itemcode':_0x1f4031[_0x2c7ad0(0x1fc)],'itemdescription':_0x1f4031[_0x2c7ad0(0x1e5)],'qty':_0x20e190,'unit':_0x44c737,'proddate':_0x1f4031['production_date'],'batchno':_0x1f4031[_0x2c7ad0(0x29d)],'binloc':_0x3baf71+_0x1f4031[_0x2c7ad0(0x278)],'qtyFrom':_0x1f4031['from_quantity'],'binlocFrom':_0x3baf71+_0x1f4031[_0x2c7ad0(0x25c)]};_0x2411bb+=_0x20e190,_0x4ad2c2['datas'][_0x2c7ad0(0x1ea)](_0x3b60f3);}),_0x50435e[_0x517916(0x250)](_0x4ad2c2,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x50435e[_0x517916(0x284)]('Helvetica-Bold')[_0x517916(0x1ec)](0x8),'prepareRow':(_0x2b950c,_0x482002,_0x10eeb0,_0x29f813)=>_0x50435e['font'](_0x517916(0x296))[_0x517916(0x1ec)](0x8)});var _0x5a0a99=_0x50435e['y'],_0x5d905a=_0x50435e['x'];_0x50435e['fontSize'](0xa)[_0x517916(0x248)](_0x517916(0x269),_0x5d905a+0x7d,_0x5a0a99),_0x50435e[_0x517916(0x1ec)](0xa)[_0x517916(0x248)](_0x517916(0x26e),_0x5d905a,_0x5a0a99+=0x15e),_0x50435e[_0x517916(0x1ec)](0xa)['text'](_0x2411bb,_0x5d905a+0xd7,_0x5a0a99,{'underline':!![]}),_0x50435e['fontSize'](0xa)[_0x517916(0x248)]('Picked\x20By\x20\x20\x20:\x20',_0x5d905a,_0x5a0a99+=0x19),_0x50435e[_0x517916(0x1ec)](0xa)[_0x517916(0x248)]('\x20'['repeat'](0x3c),_0x5d905a+0x3e,_0x5a0a99,{'underline':!![]}),_0x50435e[_0x517916(0x1ec)](0xa)[_0x517916(0x248)]('Checked\x20By:\x20',_0x5d905a,_0x5a0a99+=0x32),_0x50435e[_0x517916(0x1ec)](0xa)['text'](_0x517916(0x219),_0x5d905a+0x3c,_0x5a0a99,{'underline':!![]}),_0x50435e[_0x517916(0x1ec)](0xa)[_0x517916(0x248)](_0x517916(0x27c),_0x5d905a+0x3c,_0x5a0a99+0xc);let _0x87ca8c=_0x50435e[_0x517916(0x21f)]();for(let _0x5b8006=0x0;_0x5b8006<_0x87ca8c['count'];_0x5b8006++){_0x50435e[_0x517916(0x23b)](_0x5b8006);let _0x5a7a8f=_0x50435e[_0x517916(0x1ce)][_0x517916(0x281)][_0x517916(0x203)];_0x50435e[_0x517916(0x1ce)][_0x517916(0x281)][_0x517916(0x203)]=0x0,_0x50435e[_0x517916(0x248)](_0x517916(0x1cc)+(_0x5b8006+0x1)+_0x517916(0x206)+_0x87ca8c[_0x517916(0x1f0)],0x0,_0x50435e[_0x517916(0x1ce)][_0x517916(0x271)]-_0x5a7a8f/0x2,{'align':_0x517916(0x295)}),_0x50435e[_0x517916(0x1ce)][_0x517916(0x281)][_0x517916(0x203)]=_0x5a7a8f;}const _0xdba005=_0x50435e['y'],_0x1e9962=_0x50435e['x'];_0x50435e['end']();}catch(_0x3d7d87){console[_0x517916(0x1f2)](_0x3d7d87),_0x3f5bc8['status'](0x1f4)[_0x517916(0x1cf)](_0x517916(0x228));}}),router[a0_0x3813ec(0x1d0)](a0_0x3813ec(0x2a3),auth,async(_0x3578d8,_0x405ca0)=>{const _0x229a31=a0_0x3813ec;try{const {username:_0x419806,email:_0x44f22c,role:_0x4eba78}=_0x3578d8[_0x229a31(0x274)],_0x449e7d=_0x3578d8[_0x229a31(0x274)],_0x565bf2=await profile[_0x229a31(0x257)]({'email':_0x449e7d[_0x229a31(0x260)]}),_0x55a397=await master_shop['find'](),_0x1559d7=_0x3578d8[_0x229a31(0x23f)]['id'],_0x507baf=await adjustment_finished[_0x229a31(0x1e0)](_0x1559d7);var _0x542a55,_0x7cc43f;_0x542a55=_0x229a31(0x236),_0x7cc43f=_0x229a31(0x1ca);_0x507baf['finalize']==_0x229a31(0x1ee)&&(_0x542a55=_0x229a31(0x28e),_0x7cc43f='');const _0x5153f3=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x405ca0['setHeader'](_0x229a31(0x282),_0x229a31(0x1d9)+_0x1559d7+_0x229a31(0x268)),_0x405ca0[_0x229a31(0x1da)](_0x229a31(0x273),_0x229a31(0x1e7));var _0x28c075=0x14,_0x3dc82a=0x3c;_0x5153f3[_0x229a31(0x26a)](_0x405ca0),_0x5153f3[_0x229a31(0x276)](_0x229a31(0x1e8)+_0x55a397[0x0][_0x229a31(0x276)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5153f3[_0x229a31(0x1ec)](0x14)[_0x229a31(0x248)](_0x229a31(0x237),_0x28c075,_0x3dc82a),_0x5153f3[_0x229a31(0x1ec)](0xa)['text'](_0x229a31(0x1ff),_0x28c075,_0x3dc82a+=0xf),_0x5153f3[_0x229a31(0x1ec)](0xf)[_0x229a31(0x248)](_0x542a55,_0x28c075,_0x3dc82a+=0x32),_0x5153f3[_0x229a31(0x1ec)](0xa)['text'](_0x7cc43f,_0x28c075,_0x3dc82a+=0x14),_0x5153f3[_0x229a31(0x1ec)](0x9)[_0x229a31(0x248)]('Warehouse\x20',_0x28c075,_0x3dc82a+=0x28),_0x5153f3[_0x229a31(0x1ec)](0x9)[_0x229a31(0x248)](_0x229a31(0x251)+_0x507baf[_0x229a31(0x2a6)],_0x28c075+0x3f,_0x3dc82a),_0x5153f3[_0x229a31(0x1ec)](0x9)[_0x229a31(0x248)](_0x229a31(0x211),_0x28c075,_0x3dc82a+=0xb),_0x5153f3['fontSize'](0x9)[_0x229a31(0x248)](_0x229a31(0x251)+_0x507baf[_0x229a31(0x25e)],_0x28c075+0x3f,_0x3dc82a),_0x5153f3[_0x229a31(0x1ec)](0x9)[_0x229a31(0x248)]('Control\x20Number\x20',_0x28c075,_0x3dc82a+=0xb),_0x5153f3['fontSize'](0x9)[_0x229a31(0x248)](_0x229a31(0x251)+_0x507baf[_0x229a31(0x23c)],_0x28c075+0x3f,_0x3dc82a);const _0x48d82d={'headers':[{'label':'Item\x20Code','property':'itemcode','width':0x3c,'renderer':null},{'label':_0x229a31(0x277),'property':_0x229a31(0x1e9),'width':0x96,'renderer':null},{'label':_0x229a31(0x1d7),'property':_0x229a31(0x247),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x229a31(0x201),'width':0x3c,'renderer':null},{'label':_0x229a31(0x1e4),'property':_0x229a31(0x1d4),'width':0x50,'renderer':null},{'label':_0x229a31(0x259),'property':_0x229a31(0x28a),'width':0x3f,'renderer':null},{'label':_0x229a31(0x222),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x1c98f0=0x0;let _0x1a7140='';var _0x2d1df9=0x0;_0x507baf[_0x229a31(0x2a6)]==_0x229a31(0x249)?_0x1a7140='DG':_0x1a7140='FG';_0x507baf[_0x229a31(0x21a)][_0x229a31(0x234)](_0xf1f8ca=>{const _0x359dd8=_0x229a31;console[_0x359dd8(0x1f2)](_0xf1f8ca);var _0x3b8cc8=_0xf1f8ca['prod_cat'],_0x1fa679,_0x1e4204;_0x1fa679=_0xf1f8ca[_0x359dd8(0x201)],_0x1e4204=_0xf1f8ca[_0x359dd8(0x26d)];_0x3b8cc8=='S'&&(_0x1fa679=_0xf1f8ca['secondary_unit'],_0x1e4204=_0xf1f8ca['adjust_qty']*_0xf1f8ca['maxPerUnit']);const _0x46e26d={'itemcode':_0xf1f8ca[_0x359dd8(0x1fc)],'itemdescription':_0xf1f8ca[_0x359dd8(0x1e5)],'qty':_0x1e4204,'unit':_0x1fa679,'proddate':_0xf1f8ca[_0x359dd8(0x217)],'batchno':_0xf1f8ca[_0x359dd8(0x29d)],'binloc':_0x1a7140+_0xf1f8ca[_0x359dd8(0x240)]};_0x1c98f0+=_0x1e4204,_0x48d82d[_0x359dd8(0x20f)][_0x359dd8(0x1ea)](_0x46e26d);}),_0x5153f3[_0x229a31(0x250)](_0x48d82d,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x5153f3[_0x229a31(0x284)](_0x229a31(0x1fa))[_0x229a31(0x1ec)](0x8),'prepareRow':(_0x9455eb,_0x5af075,_0x459a0d,_0x277207)=>_0x5153f3[_0x229a31(0x284)](_0x229a31(0x296))[_0x229a31(0x1ec)](0x8)});var _0x59c46f=_0x5153f3['y'],_0x59cd24=_0x5153f3['x'];_0x5153f3[_0x229a31(0x1ec)](0xa)[_0x229a31(0x248)](_0x229a31(0x269),_0x59cd24+0x7d,_0x59c46f),_0x5153f3['fontSize'](0xa)[_0x229a31(0x248)](_0x229a31(0x1d5),_0x59cd24,_0x59c46f+=0x15e),_0x5153f3[_0x229a31(0x1ec)](0xa)['text'](_0x1c98f0,_0x59cd24+0xc8,_0x59c46f),_0x5153f3[_0x229a31(0x1ec)](0xa)[_0x229a31(0x248)]('Picked\x20By\x20\x20\x20:\x20',_0x59cd24,_0x59c46f+=0x19),_0x5153f3[_0x229a31(0x1ec)](0xa)[_0x229a31(0x248)]('\x20'['repeat'](0x3c),_0x59cd24+0x3e,_0x59c46f,{'underline':!![]}),_0x5153f3[_0x229a31(0x1ec)](0xa)[_0x229a31(0x248)]('Checked\x20By\x20',_0x59cd24,_0x59c46f+=0x32),_0x5153f3[_0x229a31(0x1ec)](0xa)[_0x229a31(0x248)](_0x229a31(0x251),_0x59cd24+0x37,_0x59c46f),_0x5153f3[_0x229a31(0x1ec)](0xa)[_0x229a31(0x248)](_0x229a31(0x219),_0x59cd24+0x3c,_0x59c46f,{'underline':!![]}),_0x5153f3[_0x229a31(0x1ec)](0xa)[_0x229a31(0x248)](_0x229a31(0x27c),_0x59cd24+0x3c,_0x59c46f+0xc);let _0x35466e=_0x5153f3['bufferedPageRange']();for(let _0x16d73c=0x0;_0x16d73c<_0x35466e[_0x229a31(0x1f0)];_0x16d73c++){_0x5153f3[_0x229a31(0x23b)](_0x16d73c);let _0x598df5=_0x5153f3[_0x229a31(0x1ce)][_0x229a31(0x281)][_0x229a31(0x203)];_0x5153f3[_0x229a31(0x1ce)][_0x229a31(0x281)][_0x229a31(0x203)]=0x0,_0x5153f3[_0x229a31(0x248)](_0x229a31(0x1cc)+(_0x16d73c+0x1)+_0x229a31(0x206)+_0x35466e[_0x229a31(0x1f0)],0x0,_0x5153f3['page'][_0x229a31(0x271)]-_0x598df5/0x2,{'align':_0x229a31(0x295)}),_0x5153f3[_0x229a31(0x1ce)][_0x229a31(0x281)][_0x229a31(0x203)]=_0x598df5;}const _0x2866ea=_0x5153f3['y'],_0x39693c=_0x5153f3['x'];_0x5153f3[_0x229a31(0x28b)]();}catch(_0x568c06){console[_0x229a31(0x1f2)](_0x568c06),_0x405ca0['status'](0x1f4)[_0x229a31(0x1cf)](_0x229a31(0x228));}}),router[a0_0x3813ec(0x1d0)](a0_0x3813ec(0x1fe),auth,async(_0x232223,_0x30c7c0)=>{const _0x2f34de=a0_0x3813ec;try{const {username:_0x48ed74,email:_0x5a0fec,role:_0x1bab12}=_0x232223[_0x2f34de(0x274)],_0x553cf7=_0x232223['user'],_0x11c519=await profile[_0x2f34de(0x257)]({'email':_0x553cf7[_0x2f34de(0x260)]}),_0x3d35ab=await master_shop['find'](),_0x52a13a=_0x232223[_0x2f34de(0x23f)]['id'],_0x3affdc=await purchases_finished['findById'](_0x52a13a),_0x3d2ea7=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x30c7c0[_0x2f34de(0x1da)](_0x2f34de(0x282),_0x2f34de(0x1d9)+_0x52a13a+'.pdf\x22'),_0x30c7c0[_0x2f34de(0x1da)](_0x2f34de(0x273),_0x2f34de(0x1e7));var _0x4a63ff=0x14,_0x2478f0=0x3c;_0x3d2ea7[_0x2f34de(0x26a)](_0x30c7c0),_0x3d2ea7[_0x2f34de(0x276)]('./public/upload/'+_0x3d35ab[0x0][_0x2f34de(0x276)],0x14,0x0,{'fit':[0x64,0x64]}),_0x3d2ea7[_0x2f34de(0x1ec)](0x14)[_0x2f34de(0x248)](_0x2f34de(0x237),_0x4a63ff,_0x2478f0),_0x3d2ea7[_0x2f34de(0x1ec)](0xa)[_0x2f34de(0x248)](_0x2f34de(0x1ff),_0x4a63ff,_0x2478f0+=0xf),_0x3d2ea7[_0x2f34de(0x1ec)](0xf)[_0x2f34de(0x248)](_0x2f34de(0x20c),_0x4a63ff,_0x2478f0+=0x32),_0x3d2ea7[_0x2f34de(0x1ec)](0xa)[_0x2f34de(0x248)](_0x2f34de(0x202),_0x4a63ff,_0x2478f0+=0x14),_0x3d2ea7[_0x2f34de(0x1ec)](0x9)[_0x2f34de(0x248)]('Warehouse\x20',_0x4a63ff,_0x2478f0+=0x28),_0x3d2ea7['fontSize'](0x9)[_0x2f34de(0x248)](_0x2f34de(0x251)+_0x3affdc[_0x2f34de(0x2a6)],_0x4a63ff+0x3f,_0x2478f0),_0x3d2ea7[_0x2f34de(0x1ec)](0x9)[_0x2f34de(0x248)](_0x2f34de(0x216)+_0x3affdc[_0x2f34de(0x28c)],_0x4a63ff+0x17c,_0x2478f0),_0x3d2ea7[_0x2f34de(0x1ec)](0x9)[_0x2f34de(0x248)](_0x2f34de(0x211),_0x4a63ff,_0x2478f0+=0xb),_0x3d2ea7['fontSize'](0x9)['text'](_0x2f34de(0x251)+_0x3affdc['date'],_0x4a63ff+0x3f,_0x2478f0),_0x3d2ea7['fontSize'](0x9)[_0x2f34de(0x248)]('Control\x20Number\x20',_0x4a63ff,_0x2478f0+=0xb),_0x3d2ea7[_0x2f34de(0x1ec)](0x9)['text'](_0x2f34de(0x251)+_0x3affdc['invoice'],_0x4a63ff+0x3f,_0x2478f0);const _0x18232c={'headers':[{'label':_0x2f34de(0x267),'property':_0x2f34de(0x29c),'width':0x3c,'renderer':null},{'label':_0x2f34de(0x277),'property':_0x2f34de(0x1e9),'width':0xc8,'renderer':null},{'label':_0x2f34de(0x1d7),'property':_0x2f34de(0x247),'width':0x3c,'renderer':null},{'label':_0x2f34de(0x1e6),'property':_0x2f34de(0x201),'width':0x3c,'renderer':null},{'label':_0x2f34de(0x254),'property':_0x2f34de(0x1d3),'width':0x50,'renderer':null},{'label':_0x2f34de(0x259),'property':_0x2f34de(0x28a),'width':0x3f,'renderer':null},{'label':_0x2f34de(0x222),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x4cc211=0x0;let _0x19ca47='';_0x3affdc[_0x2f34de(0x2a6)]==_0x2f34de(0x249)?_0x19ca47='DG':_0x19ca47='FG';_0x3affdc[_0x2f34de(0x21a)][_0x2f34de(0x234)](_0x2a8efa=>{const _0x41f1d3=_0x2f34de;let _0x51baef='';var _0x3c003d=0x0;const _0x19c8ab={'itemcode':_0x2a8efa[_0x41f1d3(0x1fc)],'itemdescription':_0x2a8efa[_0x41f1d3(0x1e5)],'qty':_0x2a8efa[_0x41f1d3(0x246)],'unit':_0x2a8efa[_0x41f1d3(0x265)],'expdate':_0x2a8efa[_0x41f1d3(0x290)],'batchno':_0x2a8efa[_0x41f1d3(0x29d)],'binloc':_0x19ca47+_0x2a8efa[_0x41f1d3(0x240)]};_0x4cc211+=_0x2a8efa[_0x41f1d3(0x246)],_0x18232c[_0x41f1d3(0x20f)][_0x41f1d3(0x1ea)](_0x19c8ab);}),_0x3d2ea7[_0x2f34de(0x250)](_0x18232c,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x3d2ea7[_0x2f34de(0x284)](_0x2f34de(0x1fa))[_0x2f34de(0x1ec)](0x8),'prepareRow':(_0x5d14b5,_0x15a687,_0x635a5e,_0x1bd5fa)=>_0x3d2ea7['font']('Helvetica')[_0x2f34de(0x1ec)](0x8)});var _0x3c210c=_0x3d2ea7['y'],_0x10315c=_0x3d2ea7['x'];_0x3d2ea7['fontSize'](0xa)[_0x2f34de(0x248)](_0x2f34de(0x269),_0x10315c+0x7d,_0x3c210c),_0x3d2ea7['fontSize'](0xa)[_0x2f34de(0x248)]('TOTAL\x20QTY:\x20',_0x10315c,_0x3c210c+=0x15e),_0x3d2ea7[_0x2f34de(0x1ec)](0xa)[_0x2f34de(0x248)](_0x4cc211,_0x10315c+0xfa,_0x3c210c),_0x3d2ea7[_0x2f34de(0x1ec)](0xa)[_0x2f34de(0x248)](_0x2f34de(0x229),_0x10315c,_0x3c210c+=0x19),_0x3d2ea7[_0x2f34de(0x1ec)](0xa)[_0x2f34de(0x248)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x10315c+0x37,_0x3c210c,{'underline':!![]}),_0x3d2ea7[_0x2f34de(0x1ec)](0xa)[_0x2f34de(0x248)](_0x2f34de(0x21e),_0x10315c,_0x3c210c+0x32),_0x3d2ea7[_0x2f34de(0x1ec)](0xa)[_0x2f34de(0x248)](_0x2f34de(0x219),_0x10315c+0x32,_0x3c210c+0x32,{'underline':!![]}),_0x3d2ea7[_0x2f34de(0x1ec)](0xa)[_0x2f34de(0x248)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x10315c+0x32,_0x3c210c+0x3c);let _0x13fc61=_0x3d2ea7['bufferedPageRange']();for(let _0x570a30=0x0;_0x570a30<_0x13fc61[_0x2f34de(0x1f0)];_0x570a30++){_0x3d2ea7['switchToPage'](_0x570a30);let _0x3aff2d=_0x3d2ea7['page'][_0x2f34de(0x281)][_0x2f34de(0x203)];_0x3d2ea7[_0x2f34de(0x1ce)][_0x2f34de(0x281)][_0x2f34de(0x203)]=0x0,_0x3d2ea7[_0x2f34de(0x248)](_0x2f34de(0x1cc)+(_0x570a30+0x1)+_0x2f34de(0x206)+_0x13fc61[_0x2f34de(0x1f0)],0x0,_0x3d2ea7[_0x2f34de(0x1ce)][_0x2f34de(0x271)]-_0x3aff2d/0x2,{'align':_0x2f34de(0x295)}),_0x3d2ea7[_0x2f34de(0x1ce)][_0x2f34de(0x281)][_0x2f34de(0x203)]=_0x3aff2d;}const _0x572246=_0x3d2ea7['y'],_0x2b2502=_0x3d2ea7['x'];_0x3d2ea7[_0x2f34de(0x28b)]();}catch(_0x2e5c3d){console['log'](_0x2e5c3d),_0x30c7c0[_0x2f34de(0x242)](0x1f4)[_0x2f34de(0x1cf)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x3813ec(0x1d0)]('/pdf_sales_return_fin/:id',auth,async(_0x5cc26e,_0x9c5a85)=>{const _0xbc0804=a0_0x3813ec;try{const {username:_0x34507e,email:_0x5e2bdd,role:_0x205154}=_0x5cc26e[_0xbc0804(0x274)],_0x38f983=_0x5cc26e[_0xbc0804(0x274)],_0x2de9ac=await profile['findOne']({'email':_0x38f983[_0xbc0804(0x260)]}),_0x5d4bfc=await master_shop[_0xbc0804(0x298)](),_0x179578=_0x5cc26e[_0xbc0804(0x23f)]['id'],_0x550b50=await sales_return_finished[_0xbc0804(0x1e0)](_0x179578),_0x1b3ca3=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x9c5a85[_0xbc0804(0x1da)](_0xbc0804(0x282),_0xbc0804(0x1d9)+_0x179578+_0xbc0804(0x268)),_0x9c5a85[_0xbc0804(0x1da)](_0xbc0804(0x273),_0xbc0804(0x1e7));var _0x1c9cd1=0x14,_0xc050ba=0x64;_0x1b3ca3[_0xbc0804(0x26a)](_0x9c5a85),_0x1b3ca3[_0xbc0804(0x276)](_0xbc0804(0x1e8)+_0x5d4bfc[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x1b3ca3[_0xbc0804(0x1ec)](0x14)[_0xbc0804(0x248)](_0xbc0804(0x237),_0x1c9cd1,_0xc050ba),_0x1b3ca3['fontSize'](0xa)[_0xbc0804(0x248)](_0xbc0804(0x1ff),_0x1c9cd1,_0xc050ba+=0xf),_0x1b3ca3[_0xbc0804(0x1ec)](0xf)[_0xbc0804(0x248)](_0xbc0804(0x236),_0x1c9cd1,_0xc050ba+=0x32),_0x1b3ca3[_0xbc0804(0x1ec)](0xa)['text'](_0xbc0804(0x25f),_0x1c9cd1,_0xc050ba+=0x1e),_0x1b3ca3[_0xbc0804(0x1ec)](0x9)[_0xbc0804(0x248)](_0xbc0804(0x22a)+_0x550b50[_0xbc0804(0x218)],_0x1c9cd1,_0xc050ba+=0x28),_0x1b3ca3['fontSize'](0x9)[_0xbc0804(0x248)](_0xbc0804(0x1d8)+_0x550b50[_0xbc0804(0x1d2)],0x190,0xd2,{'underline':!![]}),_0x1b3ca3[_0xbc0804(0x1ec)](0x9)[_0xbc0804(0x248)](_0xbc0804(0x27b),_0x1c9cd1,_0xc050ba+=0xb),_0x1b3ca3[_0xbc0804(0x1ec)](0x9)['text'](_0xbc0804(0x22c)+_0x550b50[_0xbc0804(0x25e)],_0x1c9cd1,_0xc050ba+=0xb),_0x1b3ca3[_0xbc0804(0x1ec)](0x9)[_0xbc0804(0x248)](_0xbc0804(0x213)+_0x550b50[_0xbc0804(0x23c)],_0x1c9cd1,_0xc050ba+=0xb);var _0x5a4e33='',_0x360edb='',_0x15b9da=0x0,_0xb7f542;console[_0xbc0804(0x1f2)](_0x550b50[_0xbc0804(0x233)]);_0x550b50[_0xbc0804(0x233)]=='GS'?(_0x550b50[_0xbc0804(0x2a6)]=='DRY\x20GOODS'?warecode='DG':warecode='FG',_0x5a4e33={'headers':[{'label':'Item\x20Code','property':_0xbc0804(0x29c),'width':0x3c,'renderer':null},{'label':_0xbc0804(0x277),'property':_0xbc0804(0x1e9),'width':0xc8,'renderer':null},{'label':_0xbc0804(0x1d7),'property':'qty','width':0x3c,'renderer':null},{'label':_0xbc0804(0x1e6),'property':_0xbc0804(0x201),'width':0x3c,'renderer':null},{'label':_0xbc0804(0x254),'property':_0xbc0804(0x1d3),'width':0x50,'renderer':null},{'label':_0xbc0804(0x259),'property':_0xbc0804(0x28a),'width':0x3f,'renderer':null},{'label':_0xbc0804(0x222),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]},_0x550b50[_0xbc0804(0x1de)][_0xbc0804(0x234)](_0x5c5c5f=>{const _0x5c0d42=_0xbc0804;let _0x235cf2='';var _0x47f6a4=0x0;_0x360edb={'itemcode':_0x5c5c5f[_0x5c0d42(0x1fc)],'itemdescription':_0x5c5c5f['product_name'],'qty':_0x5c5c5f[_0x5c0d42(0x1db)],'unit':_0x5c5c5f['unit'],'expdate':_0x5c5c5f[_0x5c0d42(0x290)],'batchno':_0x5c5c5f[_0x5c0d42(0x29d)],'binloc':warecode+_0x5c5c5f[_0x5c0d42(0x240)]},_0x15b9da+=_0x5c5c5f[_0x5c0d42(0x1db)],console[_0x5c0d42(0x1f2)](_0x5c5c5f),_0x5a4e33['datas']['push'](_0x360edb);})):(_0x5a4e33={'headers':[{'label':_0xbc0804(0x267),'property':_0xbc0804(0x29c),'width':0x3c,'renderer':null},{'label':_0xbc0804(0x277),'property':_0xbc0804(0x1e9),'width':0xc8,'renderer':null},{'label':_0xbc0804(0x1d7),'property':'qty','width':0x3c,'renderer':null},{'label':_0xbc0804(0x1e6),'property':_0xbc0804(0x201),'width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':_0xbc0804(0x1d3),'width':0x50,'renderer':null},{'label':_0xbc0804(0x259),'property':_0xbc0804(0x28a),'width':0x3f,'renderer':null}],'datas':[]},_0x550b50[_0xbc0804(0x23a)][_0xbc0804(0x234)](_0x44a825=>{const _0x3364f9=_0xbc0804;let _0x574fc6='';var _0x3d969b=0x0;_0x360edb={'itemcode':_0x44a825[_0x3364f9(0x1fc)],'itemdescription':_0x44a825[_0x3364f9(0x1e5)],'qty':_0x44a825[_0x3364f9(0x1db)],'unit':_0x44a825['unit'],'expdate':_0x44a825['expiry_date'],'batchno':_0x44a825[_0x3364f9(0x29d)]},_0x15b9da+=_0x44a825['return_qty'],console[_0x3364f9(0x1f2)](_0x15b9da+'\x20<>\x20'+_0x44a825['return_qty']),_0x5a4e33['datas'][_0x3364f9(0x1ea)](_0x360edb);}));_0x1b3ca3['table'](_0x5a4e33,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x1b3ca3[_0xbc0804(0x284)](_0xbc0804(0x1fa))[_0xbc0804(0x1ec)](0x8),'prepareRow':(_0x1efc01,_0x2e2260,_0x320b78,_0x2ff483)=>_0x1b3ca3[_0xbc0804(0x284)](_0xbc0804(0x296))[_0xbc0804(0x1ec)](0x8)});var _0xd1c9a6=_0x1b3ca3['y'],_0x197934=_0x1b3ca3['x'];_0x1b3ca3[_0xbc0804(0x1ec)](0xa)[_0xbc0804(0x248)](_0xbc0804(0x269),_0x197934+0x7d,_0xd1c9a6),_0x1b3ca3[_0xbc0804(0x1ec)](0xa)[_0xbc0804(0x248)]('TOTAL\x20QTY:\x20',_0x197934,_0xd1c9a6+=0x190),_0x1b3ca3[_0xbc0804(0x1ec)](0xa)[_0xbc0804(0x248)](_0x15b9da,_0x197934+0x37,_0xd1c9a6,{'underline':!![]}),_0x1b3ca3['fontSize'](0xa)[_0xbc0804(0x248)]('Check\x20By:\x20',_0x197934,_0xd1c9a6+0x1e),_0x1b3ca3['fontSize'](0xa)[_0xbc0804(0x248)](_0xbc0804(0x231),_0x197934+0x32,_0xd1c9a6+0x1e,{'underline':!![]});let _0x271a27=_0x1b3ca3[_0xbc0804(0x21f)]();for(let _0x54662e=0x0;_0x54662e<_0x271a27[_0xbc0804(0x1f0)];_0x54662e++){_0x1b3ca3[_0xbc0804(0x23b)](_0x54662e);let _0x4b4553=_0x1b3ca3[_0xbc0804(0x1ce)][_0xbc0804(0x281)][_0xbc0804(0x203)];_0x1b3ca3[_0xbc0804(0x1ce)][_0xbc0804(0x281)]['bottom']=0x0,_0x1b3ca3[_0xbc0804(0x248)]('Page:\x20'+(_0x54662e+0x1)+_0xbc0804(0x206)+_0x271a27[_0xbc0804(0x1f0)],0x0,_0x1b3ca3['page'][_0xbc0804(0x271)]-_0x4b4553/0x2,{'align':_0xbc0804(0x295)}),_0x1b3ca3['page'][_0xbc0804(0x281)][_0xbc0804(0x203)]=_0x4b4553;}const _0x3ac043=_0x1b3ca3['y'],_0x1a34ce=_0x1b3ca3['x'];_0x1b3ca3['end']();}catch(_0xb7d1fc){console[_0xbc0804(0x1f2)](_0xb7d1fc),_0x9c5a85['status'](0x1f4)[_0xbc0804(0x1cf)](_0xbc0804(0x228));}}),router['get'](a0_0x3813ec(0x258),auth,async(_0x590607,_0x5e0ef6)=>{const _0x1615be=a0_0x3813ec;try{const {username:_0x4e3cd6,email:_0x42929a,role:_0x73d18d}=_0x590607['user'],_0x1478b2=_0x590607[_0x1615be(0x274)],_0x5d5c53=await profile[_0x1615be(0x257)]({'email':_0x1478b2[_0x1615be(0x260)]}),_0x2f9264=await master_shop[_0x1615be(0x298)](),_0x566e83=_0x590607[_0x1615be(0x23f)]['id'],_0x35744a=await purchases[_0x1615be(0x1e0)](_0x566e83),_0x2f058d=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5e0ef6[_0x1615be(0x1da)]('Content-disposition',_0x1615be(0x1d9)+_0x566e83+'.pdf\x22'),_0x5e0ef6[_0x1615be(0x1da)]('Content-type',_0x1615be(0x1e7));var _0x1b0109=0x14,_0x5cf7ef=0x3c;_0x2f058d[_0x1615be(0x26a)](_0x5e0ef6),_0x2f058d[_0x1615be(0x276)](_0x1615be(0x1e8)+_0x2f9264[0x0][_0x1615be(0x276)],0x14,0x0,{'fit':[0x64,0x64]}),_0x2f058d[_0x1615be(0x1ec)](0x14)[_0x1615be(0x248)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x1b0109,_0x5cf7ef),_0x2f058d[_0x1615be(0x1ec)](0xa)[_0x1615be(0x248)](_0x1615be(0x1ff),_0x1b0109,_0x5cf7ef+=0xf),_0x2f058d[_0x1615be(0x1ec)](0xf)['text'](_0x1615be(0x1c9),_0x1b0109,_0x5cf7ef+=0x32),_0x2f058d[_0x1615be(0x1ec)](0xa)[_0x1615be(0x248)](_0x1615be(0x202),_0x1b0109,_0x5cf7ef+=0x14),_0x2f058d[_0x1615be(0x1ec)](0x9)[_0x1615be(0x248)](_0x1615be(0x239),_0x1b0109,_0x5cf7ef+=0x2d),_0x2f058d['fontSize'](0x9)[_0x1615be(0x248)](_0x1615be(0x251)+_0x35744a[_0x1615be(0x2a6)],_0x1b0109+0x3f,_0x5cf7ef),_0x2f058d['fontSize'](0x9)[_0x1615be(0x248)]('Supplier\x20:\x20'+_0x35744a[_0x1615be(0x266)],_0x1b0109+0x17c,_0x5cf7ef,{'underline':!![]}),_0x2f058d[_0x1615be(0x1ec)](0x9)[_0x1615be(0x248)](_0x1615be(0x211),_0x1b0109,_0x5cf7ef+=0xb),_0x2f058d[_0x1615be(0x1ec)](0x9)[_0x1615be(0x248)](_0x1615be(0x251)+_0x35744a[_0x1615be(0x25e)],_0x1b0109+0x3f,_0x5cf7ef),_0x2f058d['fontSize'](0x9)[_0x1615be(0x248)](_0x1615be(0x2a4),_0x1b0109,_0x5cf7ef+=0xb),_0x2f058d['fontSize'](0x9)[_0x1615be(0x248)](_0x1615be(0x251)+_0x35744a[_0x1615be(0x23c)],_0x1b0109+0x3f,_0x5cf7ef);const _0x2731fa={'headers':[{'label':'Item\x20Code','property':_0x1615be(0x29c),'width':0x3c,'renderer':null},{'label':_0x1615be(0x277),'property':_0x1615be(0x1e9),'width':0x96,'renderer':null},{'label':_0x1615be(0x1ef),'property':_0x1615be(0x247),'width':0x2d,'renderer':null},{'label':_0x1615be(0x1e6),'property':_0x1615be(0x201),'width':0x3c,'renderer':null},{'label':_0x1615be(0x254),'property':_0x1615be(0x1d3),'width':0x46,'renderer':null},{'label':_0x1615be(0x259),'property':_0x1615be(0x28a),'width':0x3c,'renderer':null},{'label':_0x1615be(0x222),'property':_0x1615be(0x24b),'width':0x3c,'renderer':null},{'label':_0x1615be(0x27e),'property':_0x1615be(0x29b),'width':0x3f,'renderer':null}],'datas':[]};var _0xb1fe95=0x0;let _0x889869='';_0x35744a['product'][_0x1615be(0x234)](_0xeb0522=>{const _0x55e234=_0x1615be;let _0x30cd70='';var _0xa5d1de=0x0;const _0x3159f2={'itemcode':_0xeb0522[_0x55e234(0x1fc)],'itemdescription':_0xeb0522[_0x55e234(0x1e5)],'qty':_0xeb0522[_0x55e234(0x246)],'unit':_0xeb0522[_0x55e234(0x265)],'expdate':_0xeb0522[_0x55e234(0x290)],'batchno':_0xeb0522[_0x55e234(0x29d)],'binloc':_0xeb0522[_0x55e234(0x22f)]+_0xeb0522[_0x55e234(0x225)]+_0xeb0522[_0x55e234(0x240)]+_0xeb0522[_0x55e234(0x286)]+_0xeb0522[_0x55e234(0x241)][0x0]+_0xeb0522[_0x55e234(0x1f5)],'DelCode':_0xeb0522[_0x55e234(0x280)]};_0xb1fe95+=_0xeb0522[_0x55e234(0x246)],_0x2731fa[_0x55e234(0x20f)][_0x55e234(0x1ea)](_0x3159f2);}),_0x2f058d['table'](_0x2731fa,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x2f058d[_0x1615be(0x284)](_0x1615be(0x1fa))['fontSize'](0x8),'prepareRow':(_0x400b16,_0x95caf3,_0x187208,_0x49ce13)=>_0x2f058d['font'](_0x1615be(0x296))[_0x1615be(0x1ec)](0x8)});var _0xffa572=_0x2f058d['y'],_0x4c159e=_0x2f058d['x'];_0x2f058d['fontSize'](0xa)['text'](_0x1615be(0x269),_0x4c159e+0x7d,_0xffa572),_0x2f058d[_0x1615be(0x1ec)](0xa)[_0x1615be(0x248)](_0x1615be(0x26e),_0x4c159e,_0xffa572+=0x15e),_0x2f058d[_0x1615be(0x1ec)](0xa)[_0x1615be(0x248)](_0xb1fe95,_0x4c159e+0xf0,_0xffa572,{'underline':!![]}),_0x2f058d[_0x1615be(0x1ec)](0xa)[_0x1615be(0x248)](_0x1615be(0x230),_0x4c159e,_0xffa572+0x28),_0x2f058d[_0x1615be(0x1ec)](0xa)['text'](_0x1615be(0x22d),_0x4c159e+0x40,_0xffa572+0x28,{'underline':!![]}),_0x2f058d[_0x1615be(0x1ec)](0xa)[_0x1615be(0x248)](_0x1615be(0x223),_0x4c159e+0x40,_0xffa572+0x32);let _0x14fa2a=_0x2f058d[_0x1615be(0x21f)]();for(let _0xb0e65e=0x0;_0xb0e65e<_0x14fa2a[_0x1615be(0x1f0)];_0xb0e65e++){_0x2f058d[_0x1615be(0x23b)](_0xb0e65e);let _0x3e578c=_0x2f058d[_0x1615be(0x1ce)]['margins'][_0x1615be(0x203)];_0x2f058d[_0x1615be(0x1ce)]['margins']['bottom']=0x0,_0x2f058d[_0x1615be(0x248)](_0x1615be(0x1cc)+(_0xb0e65e+0x1)+_0x1615be(0x206)+_0x14fa2a[_0x1615be(0x1f0)],0x0,_0x2f058d['page'][_0x1615be(0x271)]-_0x3e578c/0x2,{'align':'center'}),_0x2f058d['page']['margins']['bottom']=_0x3e578c;}const _0x3a889a=_0x2f058d['y'],_0x430076=_0x2f058d['x'];_0x2f058d[_0x1615be(0x28b)]();}catch(_0x1dc6cd){console[_0x1615be(0x1f2)](_0x1dc6cd),_0x5e0ef6['status'](0x1f4)[_0x1615be(0x1cf)](_0x1615be(0x228));}}),router[a0_0x3813ec(0x1d0)](a0_0x3813ec(0x205),auth,async(_0x3ca790,_0x5d40b6)=>{const _0x1ef6c6=a0_0x3813ec;try{const {username:_0x263a10,email:_0x5d48ea,role:_0x51ec16}=_0x3ca790['user'],_0x197ea3=_0x3ca790[_0x1ef6c6(0x274)],_0x241ad0=await profile[_0x1ef6c6(0x257)]({'email':_0x197ea3[_0x1ef6c6(0x260)]}),_0x5495b3=await master_shop['find'](),_0x354093=_0x3ca790[_0x1ef6c6(0x23f)]['id'],_0x5917d6=await sales[_0x1ef6c6(0x1e0)](_0x354093),_0x3f7d65=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x3fc35d;_0x3fc35d='PICKING\x20LIST';_0x5917d6[_0x1ef6c6(0x261)]==_0x1ef6c6(0x1ee)&&(_0x3fc35d=_0x1ef6c6(0x24d));_0x5d40b6[_0x1ef6c6(0x1da)]('Content-disposition',_0x1ef6c6(0x1d9)+_0x354093+_0x1ef6c6(0x268)),_0x5d40b6[_0x1ef6c6(0x1da)](_0x1ef6c6(0x273),_0x1ef6c6(0x1e7));var _0x414ade=0x14,_0x47c33a=0x64;_0x3f7d65[_0x1ef6c6(0x26a)](_0x5d40b6),_0x3f7d65['image'](_0x1ef6c6(0x1e8)+_0x5495b3[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x3f7d65[_0x1ef6c6(0x1ec)](0x14)['text']('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x414ade,_0x47c33a),_0x3f7d65['fontSize'](0xa)['text'](_0x1ef6c6(0x1ff),_0x414ade,_0x47c33a+=0xf),_0x3f7d65['fontSize'](0xf)[_0x1ef6c6(0x248)](_0x3fc35d,_0x414ade,_0x47c33a+=0x32),_0x3f7d65[_0x1ef6c6(0x1ec)](0xa)['text'](_0x1ef6c6(0x263),_0x414ade,_0x47c33a+=0x14),_0x3f7d65[_0x1ef6c6(0x1ec)](0x9)[_0x1ef6c6(0x248)](_0x1ef6c6(0x211),_0x414ade,_0x47c33a+=0x19),_0x3f7d65[_0x1ef6c6(0x1ec)](0x9)[_0x1ef6c6(0x248)](_0x1ef6c6(0x251)+_0x5917d6[_0x1ef6c6(0x25e)],_0x414ade+0x3f,_0x47c33a),_0x3f7d65[_0x1ef6c6(0x1ec)](0x9)[_0x1ef6c6(0x248)](_0x1ef6c6(0x26c),_0x414ade,_0x47c33a+=0xb),_0x3f7d65[_0x1ef6c6(0x1ec)](0x9)['text']('\x20:\x20'+_0x5917d6['invoice'],_0x414ade+0x3f,_0x47c33a);const _0x1d4307={'headers':[{'label':_0x1ef6c6(0x255),'property':_0x1ef6c6(0x29c),'align':_0x1ef6c6(0x295),'width':0x2d,'renderer':null},{'label':_0x1ef6c6(0x20a),'property':_0x1ef6c6(0x1e9),'align':_0x1ef6c6(0x295),'width':0x64,'renderer':null},{'label':_0x1ef6c6(0x24e),'property':_0x1ef6c6(0x29e),'align':_0x1ef6c6(0x295),'width':0x28,'renderer':null},{'label':_0x1ef6c6(0x283),'property':_0x1ef6c6(0x1d6),'align':_0x1ef6c6(0x295),'width':0x28,'renderer':null},{'label':_0x1ef6c6(0x1e6),'property':_0x1ef6c6(0x201),'align':_0x1ef6c6(0x295),'width':0x28,'renderer':null},{'label':_0x1ef6c6(0x20e),'property':_0x1ef6c6(0x1e1),'align':_0x1ef6c6(0x295),'width':0x32,'renderer':null},{'label':_0x1ef6c6(0x2a7),'property':_0x1ef6c6(0x1d4),'align':_0x1ef6c6(0x295),'width':0x3c,'renderer':null},{'label':'EXPIRATION\x20DATE','property':_0x1ef6c6(0x1d3),'align':_0x1ef6c6(0x295),'width':0x3c,'renderer':null},{'label':_0x1ef6c6(0x24a),'property':_0x1ef6c6(0x1f3),'align':_0x1ef6c6(0x295),'width':0x3f,'renderer':null},{'label':_0x1ef6c6(0x1f8),'property':_0x1ef6c6(0x1d1),'align':'center','width':0x3f,'renderer':null}],'datas':[]};var _0x1c903c=0x0;let _0x1cc1d2='';var _0x173aad=0x0,_0x414ade=0x1;_0x5917d6['sale_product']['forEach'](_0x285ea0=>{const _0x324fa5=_0x1ef6c6,_0x19914d=new Date(_0x285ea0[_0x324fa5(0x217)]),_0x56cbde={'year':_0x324fa5(0x291),'month':_0x324fa5(0x209),'day':_0x324fa5(0x291)},_0x549567=_0x19914d[_0x324fa5(0x27f)](_0x324fa5(0x227),_0x56cbde),_0x27d80c=new Date(_0x285ea0['expiry_date']),_0x56bab1={'year':_0x324fa5(0x291),'month':_0x324fa5(0x209),'day':_0x324fa5(0x291)},_0x2092a1=_0x27d80c[_0x324fa5(0x27f)]('en-US',_0x56bab1),_0xe1ec08=new Date(_0x285ea0['delivery_date']),_0x36adf9={'year':'numeric','month':_0x324fa5(0x209),'day':_0x324fa5(0x291)};var _0x4708ee=_0xe1ec08['toLocaleDateString'](_0x324fa5(0x227),_0x36adf9);typeof _0x285ea0[_0x324fa5(0x28f)]==_0x324fa5(0x293)&&(_0x4708ee='');const _0x44322c={'itemcode':_0x285ea0[_0x324fa5(0x1fc)],'itemdescription':_0x285ea0[_0x324fa5(0x1e5)],'rqty':_0x285ea0['requested_qty'],'iqty':_0x285ea0['quantity'],'unit':_0x285ea0['unit'],'blocation':_0x285ea0[_0x324fa5(0x22f)]+_0x285ea0[_0x324fa5(0x225)]+_0x285ea0['bay']+_0x285ea0[_0x324fa5(0x286)]+_0x285ea0[_0x324fa5(0x241)][0x0]+_0x285ea0['floorlevel'],'proddate':_0x549567,'expdate':_0x2092a1,'del_date':_0x4708ee,'del_code':_0x285ea0['delivery_code']};_0x414ade++,_0x1d4307[_0x324fa5(0x20f)][_0x324fa5(0x1ea)](_0x44322c);}),_0x3f7d65[_0x1ef6c6(0x250)](_0x1d4307,{'x':_0x414ade+0x11,'y':_0x47c33a+=0x1e,'prepareHeader':()=>_0x3f7d65[_0x1ef6c6(0x284)](_0x1ef6c6(0x1fa))[_0x1ef6c6(0x1ec)](6.5),'prepareRow':(_0x2a99cc,_0x26d64e,_0xfca736,_0x4f5c31,_0x1f0d10)=>{const _0x2e5567=_0x1ef6c6,{x:_0x7c67ed,y:_0x5c946a,width:_0x5cdfd5,height:_0x2db26c}=_0x1f0d10;_0x3f7d65[_0x2e5567(0x284)](_0x2e5567(0x296))[_0x2e5567(0x1ec)](0x8),_0x3f7d65[_0x2e5567(0x279)](0.5)[_0x2e5567(0x287)](_0x7c67ed,_0x5c946a)['lineTo'](_0x7c67ed,_0x5c946a+_0x2db26c)[_0x2e5567(0x23e)]();}});var _0x278a9d=_0x3f7d65['y'],_0x324768=_0x3f7d65['x'],_0x2a9cbf=_0x278a9d-=0x8;_0x3f7d65[_0x1ef6c6(0x279)](0x5),_0x3f7d65[_0x1ef6c6(0x2a9)]('butt')[_0x1ef6c6(0x287)](0x240,_0x2a9cbf)[_0x1ef6c6(0x25d)](0x11,_0x2a9cbf)[_0x1ef6c6(0x23e)](),_0x3f7d65[_0x1ef6c6(0x1ec)](0xa)[_0x1ef6c6(0x248)](_0x1ef6c6(0x269),_0x324768+0x7d,_0x278a9d+=0xf),_0x3f7d65[_0x1ef6c6(0x1ec)](0xb)[_0x1ef6c6(0x248)](_0x1ef6c6(0x29f),_0x324768,_0x278a9d+=0x15e),_0x3f7d65[_0x1ef6c6(0x1ec)](0xa)[_0x1ef6c6(0x248)](_0x1ef6c6(0x1ed),_0x324768+0x52,_0x278a9d,{'underline':!![]}),_0x3f7d65[_0x1ef6c6(0x1ec)](0xa)['text'](_0x1ef6c6(0x21c),_0x324768,_0x278a9d+=0x19),_0x3f7d65[_0x1ef6c6(0x1ec)](0xa)['text'](_0x1ef6c6(0x251),_0x324768+0x4b,_0x278a9d),_0x3f7d65[_0x1ef6c6(0x1ec)](0xa)[_0x1ef6c6(0x248)]('\x20'[_0x1ef6c6(0x285)](0x3c),_0x324768+0x50,_0x278a9d,{'underline':!![]}),_0x3f7d65[_0x1ef6c6(0x1ec)](0xa)['text'](_0x1ef6c6(0x215),_0x324768,_0x278a9d+=0x32),_0x3f7d65[_0x1ef6c6(0x1ec)](0xa)[_0x1ef6c6(0x248)](_0x1ef6c6(0x251),_0x324768+0x4b,_0x278a9d),_0x3f7d65['fontSize'](0xa)[_0x1ef6c6(0x248)](_0x1ef6c6(0x232),_0x324768+0x50,_0x278a9d,{'underline':!![]}),_0x3f7d65[_0x1ef6c6(0x1ec)](0xa)[_0x1ef6c6(0x248)](_0x1ef6c6(0x223),_0x324768+0x50,_0x278a9d+0xc);let _0x2b76d7=_0x3f7d65[_0x1ef6c6(0x21f)]();for(let _0x28879b=0x0;_0x28879b<_0x2b76d7[_0x1ef6c6(0x1f0)];_0x28879b++){_0x3f7d65[_0x1ef6c6(0x23b)](_0x28879b);let _0x1aba0e=_0x3f7d65[_0x1ef6c6(0x1ce)][_0x1ef6c6(0x281)][_0x1ef6c6(0x203)];_0x3f7d65['page'][_0x1ef6c6(0x281)][_0x1ef6c6(0x203)]=0x0,_0x3f7d65[_0x1ef6c6(0x248)](_0x1ef6c6(0x1cc)+(_0x28879b+0x1)+_0x1ef6c6(0x206)+_0x2b76d7['count'],0x0,_0x3f7d65[_0x1ef6c6(0x1ce)][_0x1ef6c6(0x271)]-_0x1aba0e/0x2,{'align':_0x1ef6c6(0x295)}),_0x3f7d65[_0x1ef6c6(0x1ce)][_0x1ef6c6(0x281)]['bottom']=_0x1aba0e;}const _0x36fd65=_0x3f7d65['y'],_0x4c86b2=_0x3f7d65['x'];_0x3f7d65[_0x1ef6c6(0x28b)]();}catch(_0x247fa1){console[_0x1ef6c6(0x1f2)](_0x247fa1),_0x5d40b6[_0x1ef6c6(0x242)](0x1f4)[_0x1ef6c6(0x1cf)](_0x1ef6c6(0x228));}}),router['get'](a0_0x3813ec(0x28d),auth,async(_0x5d1403,_0x4a4437)=>{const _0x5038f5=a0_0x3813ec;try{const {username:_0x250371,email:_0x340ef0,role:_0x22eebf}=_0x5d1403[_0x5038f5(0x274)],_0x1ea091=_0x5d1403[_0x5038f5(0x274)],_0x1a1ea5=await profile[_0x5038f5(0x257)]({'email':_0x1ea091['email']}),_0x1877ea=await master_shop[_0x5038f5(0x298)](),_0x26649d=_0x5d1403['params']['id'],_0x15a5fd=await adjustment[_0x5038f5(0x1e0)](_0x26649d);var _0x58f848,_0x24685d;_0x58f848=_0x5038f5(0x236),_0x24685d=_0x5038f5(0x1ca);_0x15a5fd[_0x5038f5(0x261)]=='True'&&(_0x58f848='INVENTORY\x20ADJUSTMENT',_0x24685d='');const _0x1d7ff6=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4a4437[_0x5038f5(0x1da)](_0x5038f5(0x282),_0x5038f5(0x1d9)+_0x26649d+_0x5038f5(0x268)),_0x4a4437[_0x5038f5(0x1da)](_0x5038f5(0x273),_0x5038f5(0x1e7));var _0x2f453f=0x14,_0x1b7e50=0x3c;_0x1d7ff6['pipe'](_0x4a4437),_0x1d7ff6[_0x5038f5(0x276)](_0x5038f5(0x1e8)+_0x1877ea[0x0][_0x5038f5(0x276)],0x14,0x0,{'fit':[0x64,0x64]}),_0x1d7ff6[_0x5038f5(0x1ec)](0x14)[_0x5038f5(0x248)](_0x5038f5(0x237),_0x2f453f,_0x1b7e50),_0x1d7ff6[_0x5038f5(0x1ec)](0xa)['text'](_0x5038f5(0x1ff),_0x2f453f,_0x1b7e50+=0xf),_0x1d7ff6['fontSize'](0xf)[_0x5038f5(0x248)](_0x58f848,_0x2f453f,_0x1b7e50+=0x32),_0x1d7ff6[_0x5038f5(0x1ec)](0xa)[_0x5038f5(0x248)](_0x24685d,_0x2f453f,_0x1b7e50+=0x14),_0x1d7ff6['fontSize'](0x9)[_0x5038f5(0x248)](_0x5038f5(0x239),_0x2f453f,_0x1b7e50+=0x28),_0x1d7ff6[_0x5038f5(0x1ec)](0x9)[_0x5038f5(0x248)]('\x20:\x20'+_0x15a5fd[_0x5038f5(0x2a6)],_0x2f453f+0x3f,_0x1b7e50),_0x1d7ff6['fontSize'](0x9)[_0x5038f5(0x248)]('Date\x20',_0x2f453f,_0x1b7e50+=0xb),_0x1d7ff6[_0x5038f5(0x1ec)](0x9)[_0x5038f5(0x248)](_0x5038f5(0x251)+_0x15a5fd[_0x5038f5(0x25e)],_0x2f453f+0x3f,_0x1b7e50),_0x1d7ff6[_0x5038f5(0x1ec)](0x9)['text'](_0x5038f5(0x2a4),_0x2f453f,_0x1b7e50+=0xb),_0x1d7ff6[_0x5038f5(0x1ec)](0x9)[_0x5038f5(0x248)]('\x20:\x20'+_0x15a5fd[_0x5038f5(0x23c)],_0x2f453f+0x3f,_0x1b7e50);const _0x255e19={'headers':[{'label':'Item\x20Code','property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x5038f5(0x1e9),'width':0x96,'renderer':null},{'label':_0x5038f5(0x1d7),'property':_0x5038f5(0x247),'width':0x3c,'renderer':null},{'label':_0x5038f5(0x1e6),'property':_0x5038f5(0x201),'width':0x3c,'renderer':null},{'label':_0x5038f5(0x1e4),'property':'proddate','width':0x50,'renderer':null},{'label':_0x5038f5(0x259),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x5038f5(0x222),'property':_0x5038f5(0x24b),'width':0x3f,'renderer':null}],'datas':[]};var _0x374d06=0x0,_0x5b63b4=0x0;_0x15a5fd['product'][_0x5038f5(0x234)](_0x1aebe8=>{const _0x2cc9fa=_0x5038f5;let _0x427702='';const _0x463b6c=_0x1aebe8['to_quantity'];for(let _0x940877=0x1;_0x940877<=_0x463b6c;_0x940877++){_0x463b6c==_0x940877?_0x427702+=_0x1aebe8[_0x2cc9fa(0x245)]:_0x427702+=_0x1aebe8['maxperunit']+',',_0x5b63b4+=_0x1aebe8[_0x2cc9fa(0x245)];}_0x427702+=_0x2cc9fa(0x1f6)+_0x1aebe8['secondary_unit'];const _0x1aa04a={'itemcode':_0x1aebe8[_0x2cc9fa(0x1fc)],'itemdescription':_0x1aebe8[_0x2cc9fa(0x1e5)],'qty':_0x1aebe8[_0x2cc9fa(0x26b)],'unit':_0x1aebe8[_0x2cc9fa(0x201)],'proddate':_0x1aebe8['production_date'],'batchno':_0x1aebe8[_0x2cc9fa(0x29d)],'binloc':_0x1aebe8[_0x2cc9fa(0x22f)]+_0x1aebe8[_0x2cc9fa(0x225)]+_0x1aebe8[_0x2cc9fa(0x240)]+_0x1aebe8['bin']+_0x1aebe8[_0x2cc9fa(0x241)][0x0]+_0x1aebe8['floorlevel']};_0x374d06+=_0x1aebe8[_0x2cc9fa(0x26b)],_0x255e19[_0x2cc9fa(0x20f)][_0x2cc9fa(0x1ea)](_0x1aa04a);}),_0x1d7ff6[_0x5038f5(0x250)](_0x255e19,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x1d7ff6['font'](_0x5038f5(0x1fa))[_0x5038f5(0x1ec)](0x8),'prepareRow':(_0x32c8dc,_0x4807d1,_0x689111,_0x4049e3)=>_0x1d7ff6[_0x5038f5(0x284)](_0x5038f5(0x296))[_0x5038f5(0x1ec)](0x8)});var _0x45d8b1=_0x1d7ff6['y'],_0x5d0f05=_0x1d7ff6['x'];_0x1d7ff6[_0x5038f5(0x1ec)](0xa)['text'](_0x5038f5(0x269),_0x5d0f05+0x7d,_0x45d8b1),_0x1d7ff6[_0x5038f5(0x1ec)](0xa)[_0x5038f5(0x248)](_0x5038f5(0x1d5),_0x5d0f05,_0x45d8b1+=0x136),_0x1d7ff6[_0x5038f5(0x1ec)](0xa)[_0x5038f5(0x248)](_0x374d06,_0x5d0f05+0xc8,_0x45d8b1),_0x1d7ff6['fontSize'](0xa)[_0x5038f5(0x248)](_0x5038f5(0x1e3),_0x5d0f05,_0x45d8b1+=0x19),_0x1d7ff6[_0x5038f5(0x1ec)](0xa)['text']('\x20'[_0x5038f5(0x285)](0x3c),_0x5d0f05+0x3e,_0x45d8b1,{'underline':!![]}),_0x1d7ff6[_0x5038f5(0x1ec)](0xa)[_0x5038f5(0x248)](_0x5038f5(0x25a),_0x5d0f05,_0x45d8b1+=0x32),_0x1d7ff6[_0x5038f5(0x1ec)](0xa)[_0x5038f5(0x248)](_0x5038f5(0x251),_0x5d0f05+0x37,_0x45d8b1),_0x1d7ff6['fontSize'](0xa)[_0x5038f5(0x248)](_0x5038f5(0x232),_0x5d0f05+0x3c,_0x45d8b1,{'underline':!![]}),_0x1d7ff6[_0x5038f5(0x1ec)](0xa)['text'](_0x5038f5(0x223),_0x5d0f05+0x3c,_0x45d8b1+0xc);let _0x5ee7f0=_0x1d7ff6[_0x5038f5(0x21f)]();for(let _0x29e021=0x0;_0x29e021<_0x5ee7f0['count'];_0x29e021++){_0x1d7ff6['switchToPage'](_0x29e021);let _0x4995f3=_0x1d7ff6['page']['margins'][_0x5038f5(0x203)];_0x1d7ff6['page'][_0x5038f5(0x281)][_0x5038f5(0x203)]=0x0,_0x1d7ff6[_0x5038f5(0x248)](_0x5038f5(0x1cc)+(_0x29e021+0x1)+'\x20of\x20'+_0x5ee7f0[_0x5038f5(0x1f0)],0x0,_0x1d7ff6[_0x5038f5(0x1ce)]['height']-_0x4995f3/0x2,{'align':'center'}),_0x1d7ff6[_0x5038f5(0x1ce)]['margins']['bottom']=_0x4995f3;}const _0x5a2032=_0x1d7ff6['y'],_0xdb04a2=_0x1d7ff6['x'];_0x1d7ff6[_0x5038f5(0x28b)]();}catch(_0x51f855){console['log'](_0x51f855),_0x4a4437[_0x5038f5(0x242)](0x1f4)[_0x5038f5(0x1cf)](_0x5038f5(0x228));}}),router[a0_0x3813ec(0x1d0)](a0_0x3813ec(0x24c),auth,async(_0x4e24e8,_0x3323b0)=>{const _0x410497=a0_0x3813ec;try{const {username:_0x29b7cc,email:_0x45ae1c,role:_0xb904d2}=_0x4e24e8['user'],_0xe7b2bd=_0x4e24e8[_0x410497(0x274)],_0x5bd327=await profile[_0x410497(0x257)]({'email':_0xe7b2bd['email']}),_0xed864=await master_shop['find'](),_0x5bac05=_0x4e24e8[_0x410497(0x23f)]['id'],_0x15b790=await transfers[_0x410497(0x1e0)](_0x5bac05);var _0x2b9598,_0x3b34b8;_0x2b9598=_0x410497(0x1dc),_0x3b34b8=_0x410497(0x297);_0x15b790[_0x410497(0x261)]==_0x410497(0x1ee)&&(_0x2b9598='STOCKS\x20TRANSFER',_0x3b34b8='');const _0x229993=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3323b0['setHeader']('Content-disposition',_0x410497(0x1d9)+_0x5bac05+_0x410497(0x268)),_0x3323b0[_0x410497(0x1da)]('Content-type',_0x410497(0x1e7));var _0xa2cb63=0x14,_0x752224=0x3c;_0x229993[_0x410497(0x26a)](_0x3323b0),_0x229993[_0x410497(0x276)](_0x410497(0x1e8)+_0xed864[0x0][_0x410497(0x276)],0x14,0x0,{'fit':[0x64,0x64]}),_0x229993[_0x410497(0x1ec)](0x14)[_0x410497(0x248)](_0x410497(0x237),_0xa2cb63,_0x752224),_0x229993[_0x410497(0x1ec)](0xa)[_0x410497(0x248)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0xa2cb63,_0x752224+=0xf),_0x229993[_0x410497(0x1ec)](0xf)['text'](_0x2b9598,_0xa2cb63,_0x752224+=0x32),_0x229993['fontSize'](0xa)[_0x410497(0x248)](_0x3b34b8,_0xa2cb63,_0x752224+=0x14),_0x229993[_0x410497(0x1ec)](0x9)[_0x410497(0x248)](_0x410497(0x20b),_0xa2cb63,_0x752224+=0x28),_0x229993[_0x410497(0x1ec)](0x9)[_0x410497(0x248)]('\x20\x20\x20:\x20'+_0x15b790[_0x410497(0x238)],_0xa2cb63+0x3f,_0x752224),_0x229993[_0x410497(0x1ec)](0x9)[_0x410497(0x248)](_0x410497(0x1cd),_0xa2cb63,_0x752224+=0xa),_0x229993['fontSize'](0x9)['text']('\x20\x20\x20:\x20'+_0x15b790[_0x410497(0x27d)],_0xa2cb63+0x3f,_0x752224),_0x229993[_0x410497(0x1ec)](0x9)[_0x410497(0x248)](_0x410497(0x211),_0xa2cb63,_0x752224+=0xb),_0x229993[_0x410497(0x1ec)](0x9)[_0x410497(0x248)](_0x410497(0x26f)+_0x15b790[_0x410497(0x25e)],_0xa2cb63+0x3f,_0x752224),_0x229993[_0x410497(0x1ec)](0x9)[_0x410497(0x248)](_0x410497(0x2a4),_0xa2cb63,_0x752224+=0xb),_0x229993[_0x410497(0x1ec)](0x9)['text'](_0x410497(0x26f)+_0x15b790[_0x410497(0x23c)],_0xa2cb63+0x3f,_0x752224);const _0x15ecfd={'headers':[{'label':'','property':_0x410497(0x29c),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x410497(0x224),'property':_0x410497(0x29c),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x410497(0x272),'property':_0x410497(0x1e9),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x229993[_0x410497(0x250)](_0x15ecfd,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x229993[_0x410497(0x284)](_0x410497(0x1fa))[_0x410497(0x1ec)](0x8),'prepareRow':(_0x53ba62,_0x282d0c,_0x2dbeed,_0x399beb)=>_0x229993[_0x410497(0x284)](_0x410497(0x296))[_0x410497(0x1ec)](0x8)});const _0x2a474e={'headers':[{'label':_0x410497(0x267),'property':_0x410497(0x29c),'width':0x3c,'renderer':null},{'label':_0x410497(0x277),'property':_0x410497(0x1e9),'width':0x96,'renderer':null},{'label':'Quantity','property':'qty','width':0x28,'renderer':null},{'label':_0x410497(0x1e6),'property':_0x410497(0x201),'width':0x37,'renderer':null},{'label':_0x410497(0x1e4),'property':'proddate','width':0x4b,'renderer':null},{'label':_0x410497(0x259),'property':_0x410497(0x28a),'width':0x3f,'renderer':null},{'label':_0x410497(0x222),'property':'binlocFrom','width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x410497(0x24b),'width':0x3f,'renderer':null}],'datas':[]};var _0x2ffefb=0x0;let _0x5f595d='';var _0x20e9e8=0x0;_0x15b790['product'][_0x410497(0x234)](_0x328ec7=>{const _0xdd2a0c=_0x410497;var _0x50694b=_0x328ec7['prod_cat'],_0x5c6107;_0x5c6107=_0x328ec7['unit'];_0x50694b=='S'&&(_0x5c6107=_0x328ec7['secondary_unit']);const _0x53ea99={'itemcode':_0x328ec7['product_code'],'itemdescription':_0x328ec7[_0xdd2a0c(0x1e5)],'qty':_0x328ec7[_0xdd2a0c(0x1df)],'unit':_0x5c6107,'proddate':_0x328ec7[_0xdd2a0c(0x217)],'batchno':_0x328ec7[_0xdd2a0c(0x29d)],'binloc':_0x328ec7[_0xdd2a0c(0x22f)]+_0x328ec7[_0xdd2a0c(0x225)]+_0x328ec7[_0xdd2a0c(0x278)]+_0x328ec7[_0xdd2a0c(0x22b)]+_0x328ec7[_0xdd2a0c(0x292)][0x0]+_0x328ec7['to_floorlevel'],'qtyFrom':_0x328ec7[_0xdd2a0c(0x1e2)],'binlocFrom':_0x328ec7[_0xdd2a0c(0x21d)]+_0x328ec7[_0xdd2a0c(0x23d)]+_0x328ec7[_0xdd2a0c(0x25c)]+_0x328ec7['from_bin']+_0x328ec7[_0xdd2a0c(0x2a1)][0x0]+_0x328ec7[_0xdd2a0c(0x1f1)]};_0x2ffefb+=_0x328ec7[_0xdd2a0c(0x1df)],_0x2a474e['datas'][_0xdd2a0c(0x1ea)](_0x53ea99);}),_0x229993[_0x410497(0x250)](_0x2a474e,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x229993[_0x410497(0x284)](_0x410497(0x1fa))[_0x410497(0x1ec)](0x8),'prepareRow':(_0x3a3147,_0x2b1e22,_0x501d2c,_0x3e63ff)=>_0x229993[_0x410497(0x284)]('Helvetica')[_0x410497(0x1ec)](0x8)});var _0x5001ea=_0x229993['y'],_0x2e42d1=_0x229993['x'];_0x229993[_0x410497(0x1ec)](0xa)[_0x410497(0x248)](_0x410497(0x269),_0x2e42d1+0x7d,_0x5001ea),_0x229993[_0x410497(0x1ec)](0xa)[_0x410497(0x248)](_0x410497(0x26e),_0x2e42d1,_0x5001ea+=0x12c),_0x229993['fontSize'](0xa)['text'](_0x2ffefb,_0x2e42d1+0xd7,_0x5001ea,{'underline':!![]}),_0x229993['fontSize'](0xa)[_0x410497(0x248)](_0x410497(0x27a),_0x2e42d1,_0x5001ea+=0x32),_0x229993[_0x410497(0x1ec)](0xa)[_0x410497(0x248)](_0x410497(0x262),_0x2e42d1+0x3c,_0x5001ea,{'underline':!![]}),_0x229993[_0x410497(0x1ec)](0xa)['text'](_0x410497(0x223),_0x2e42d1+0x3c,_0x5001ea+0xc);let _0x1c1b1d=_0x229993[_0x410497(0x21f)]();for(let _0x2106ae=0x0;_0x2106ae<_0x1c1b1d[_0x410497(0x1f0)];_0x2106ae++){_0x229993['switchToPage'](_0x2106ae);let _0x6fa9d=_0x229993[_0x410497(0x1ce)]['margins'][_0x410497(0x203)];_0x229993['page']['margins']['bottom']=0x0,_0x229993[_0x410497(0x248)](_0x410497(0x1cc)+(_0x2106ae+0x1)+'\x20of\x20'+_0x1c1b1d[_0x410497(0x1f0)],0x0,_0x229993[_0x410497(0x1ce)][_0x410497(0x271)]-_0x6fa9d/0x2,{'align':_0x410497(0x295)}),_0x229993['page'][_0x410497(0x281)]['bottom']=_0x6fa9d;}const _0x7fc91a=_0x229993['y'],_0x15faec=_0x229993['x'];_0x229993['end']();}catch(_0x1fbb50){console[_0x410497(0x1f2)](_0x1fbb50),_0x3323b0[_0x410497(0x242)](0x1f4)[_0x410497(0x1cf)](_0x410497(0x228));}}),router[a0_0x3813ec(0x1d0)](a0_0x3813ec(0x208),auth,async(_0x22382f,_0x35a9e4)=>{const _0x15ccea=a0_0x3813ec;try{const _0xbf8381=_0x138c50=>_0x138c50*0x48,_0x3cfc56={'width':0x3,'height':0x1},_0x35364d=await product[_0x15ccea(0x298)](),_0x2dc89f=new PDFDocument({'margin':_0xbf8381(0.75),'size':[_0xbf8381(_0x3cfc56[_0x15ccea(0x1fb)]),_0xbf8381(_0x3cfc56[_0x15ccea(0x271)])],'bufferPages':!![]}),_0x567e07=_0x35364d['length'];for(let _0xafac5a=0x0;_0xafac5a<=_0x567e07;_0xafac5a++){if(_0xafac5a!=_0x35364d['length']){const _0x3668fc=_0x35364d[_0xafac5a]['name'],_0x500094=_0x35364d[_0xafac5a][_0x15ccea(0x299)],_0x261dbf=_0x35364d[_0xafac5a][_0x15ccea(0x1dd)],_0x224ccb=_0x35364d[_0xafac5a][_0x15ccea(0x1fc)],_0x49376a=new Canvas();JsBarcode(_0x49376a,_0x500094,{'format':'CODE128','height':0x32,'displayValue':!![],'text':_0x500094}),_0x2dc89f[_0x15ccea(0x276)](_0x49376a[_0x15ccea(0x1f4)](),0x0,0x0,{'width':0xd2}),_0x2dc89f['addPage']();}}_0x2dc89f[_0x15ccea(0x26a)](_0x35a9e4),_0x2dc89f[_0x15ccea(0x28b)]();}catch(_0x58b233){console[_0x15ccea(0x294)](_0x15ccea(0x253),_0x58b233),_0x35a9e4['status'](0x1f4)[_0x15ccea(0x1cf)](_0x15ccea(0x228));}}),module[a0_0x3813ec(0x24f)]=router;