function a0_0x1442(_0x3802fa,_0x739569){const _0x3bbc7c=a0_0x3bbc();return a0_0x1442=function(_0x144215,_0x363ebd){_0x144215=_0x144215-0x193;let _0x59899f=_0x3bbc7c[_0x144215];return _0x59899f;},a0_0x1442(_0x3802fa,_0x739569);}const a0_0x48e946=a0_0x1442;(function(_0xd6e419,_0x1e8fee){const _0x8c551a=a0_0x1442,_0xeef172=_0xd6e419();while(!![]){try{const _0x2155c0=parseInt(_0x8c551a(0x20a))/0x1+-parseInt(_0x8c551a(0x1f8))/0x2+parseInt(_0x8c551a(0x223))/0x3+-parseInt(_0x8c551a(0x19d))/0x4+-parseInt(_0x8c551a(0x1e5))/0x5+-parseInt(_0x8c551a(0x1fe))/0x6*(-parseInt(_0x8c551a(0x1ed))/0x7)+parseInt(_0x8c551a(0x1f9))/0x8;if(_0x2155c0===_0x1e8fee)break;else _0xeef172['push'](_0xeef172['shift']());}catch(_0x5c2965){_0xeef172['push'](_0xeef172['shift']());}}}(a0_0x3bbc,0x9d7b3));const express=require(a0_0x48e946(0x244)),res=require(a0_0x48e946(0x266)),app=express(),router=express[a0_0x48e946(0x1b6)](),multer=require('multer'),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x48e946(0x262)),auth=require(a0_0x48e946(0x264)),users=require(a0_0x48e946(0x23e)),excelJS=require(a0_0x48e946(0x209)),xlsx=require(a0_0x48e946(0x254)),PDFDocument=require(a0_0x48e946(0x199)),fs=require('fs'),blobStream=require(a0_0x48e946(0x256)),JsBarcode=require(a0_0x48e946(0x21c)),{Canvas}=require(a0_0x48e946(0x226));function a0_0x3bbc(){const _0x3bc559=['center','Noted\x20By\x20','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','unit','height','bottom','63cwKyJw','DelCode','expiry_date','Warehouse\x20:\x20','ToWarehouse','\x20/\x20','DELIVERY\x20RECEIPT','itemdescription','margins','Finished\x20Good\x20Warehouse\x20Supervisor','adjust_qty','42638MfXgKj','10030600llarLM','PICKING\x20LIST','status','iqty','Control\x20Number\x20:\x20','350634lUrAIB','suppliers','customer','Picking\x20List','from_warehouse','PREPARED\x20BY\x20:\x20','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','Date\x20','floorlevel','standard_unit','return_qty','exceljs','260320szivqm','Picked\x20By\x20\x20\x20\x20:\x20','REF\x20MRIS#\x20','\x20:\x20','fontSize','user','To\x20Warehouse\x20','itemcode','length','x:\x20','/PDF/:id','to_bin','find','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','Bin\x20Location','short','Checked\x20By\x20\x20\x20:\x20','prod_cat','jsbarcode','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','width','Item\x20Code','qty','product_name','Check\x20By:\x20','1399029qrnqVR','log','setHeader','canvas','DRY\x20GOODS','forEach','(STOCKS\x20TRANSFER)','DELIVERY\x20DATE','to_bay','Quantity','toLocaleDateString','\x20\x20\x20:\x20','\x20\x20\x20\x20\x20FROM','ITEM\x20CODE','bin','bay','to_types','/PDF_transfer_rm/:id','warehouse_name','rqty','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/pdf_puchases/:id','warehouse_cat','font','\x20row:\x20','Supplier\x20:\x20','Picked\x20By\x20\x20\x20\x20\x20:\x20','../public/language/languages.json','send','\x20\x20TO','/pdf_sales_return_fin/:id','moveTo','/PDF_adjustment/:id','express','page','Content-disposition','TOTAL\x20QTY:\x20','proddate','TOTAL\x20QTY\x20:\x20','Helvetica','storage','image','lineCap','product_code','new_adjust_qty','pipe','batch_code','product','push','xlsx','from_floorlevel','blob-stream','UOM','\x20\x20\x20\x20\x20TO','Helvetica-Bold','Raw\x20Materials\x20Warehouse\x20Supervisor','bufferedPageRange','table','email','delivery_code','(INVENTORY\x20ADJUSTMENT)','datas','EXPIRATION\x20DATE','../models/all_models','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','../middleware/auth','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','express/lib/response','Batch\x20No','Checked\x20By\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Delivery\x20Code','\x20<>\x20','/PDF_adjustment_rm/:id','exports','pdfkit-table','(OUTGOING)','FROZEN\x20GOODS','application/pdf','3768700HwSoth','maxPerUnit','findById','(INCOMING)','get','en-US','blocation','Date\x20:\x20','inline;\x20filename=\x22OUT-','quantity','from_bay','end','Pick\x20By\x20:\x20','batchno','date','addPage','switchToPage','maxperunit','text','expdate','ARMAN\x20CRUZ','Picked\x20By','POnumber','repeat','INVENTORY\x20ADJUSTMENT','Router','secondary_unit','return_sale','\x20y:\x20','to_quantity','Picked\x20By\x20\x20\x20:\x20','findOne','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stroke','butt','lineWidth','lineTo','invoice','params','PRODUCTION\x20DATE','From\x20Warehouse\x20','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','Expiration\x20Date','QUANTITY\x20ISSUED','requested_qty','binloc','/pdf_puchases_fin/:id','rack','count','Warehouse\x20','Checked\x20By:\x20','Page:\x20','to_warehouse','sale_product','from_rack','finalize','production_date','del_date','FTGS\x20Number\x20:\x20','\x20of\x20','binlocFrom','./public/upload/','numeric','from_quantity','.pdf\x22','Check\x20By\x20\x20\x20\x20:\x20','inline;\x20filename=\x22','Content-type','QTY','Item\x20Description','Production\x20Date','Control\x20Number\x20','4489510hgDTgp','True'];a0_0x3bbc=function(){return _0x3bc559;};return a0_0x3bbc();}router[a0_0x48e946(0x1a1)](a0_0x48e946(0x214),auth,async(_0x3e414d,_0xb393e1)=>{const _0x84836f=a0_0x48e946;try{const {username:_0x235839,email:_0x544630,role:_0x4ee4cc}=_0x3e414d[_0x84836f(0x20f)],_0xea68d6=_0x3e414d['user'],_0x41fa63=await profile[_0x84836f(0x1bc)]({'email':_0xea68d6['email']}),_0x2fe7bd=await master_shop['find'](),_0x16302c=_0x3e414d[_0x84836f(0x1c3)]['id'],_0x4b20c9=await sales_finished[_0x84836f(0x19f)](_0x16302c);var _0x14cb46;_0x14cb46=_0x84836f(0x1fa);_0x4b20c9['finalize']==_0x84836f(0x1e6)&&(_0x14cb46='DELIVERY\x20RECEIPT');const _0x585985=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0xb393e1[_0x84836f(0x225)]('Content-disposition',_0x84836f(0x1df)+_0x4b20c9[_0x84836f(0x1c2)]+_0x84836f(0x1dd)),_0xb393e1['setHeader'](_0x84836f(0x1e0),_0x84836f(0x19c));var _0x1e95f0=0x14,_0x3c02de=0x3c;_0x585985[_0x84836f(0x250)](_0xb393e1),_0x585985[_0x84836f(0x24c)]('./public/upload/'+_0x2fe7bd[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x585985[_0x84836f(0x20e)](0x14)[_0x84836f(0x1af)](_0x84836f(0x217),_0x1e95f0,_0x3c02de),_0x585985[_0x84836f(0x20e)](0xa)[_0x84836f(0x1af)](_0x84836f(0x204),_0x1e95f0,_0x3c02de+=0xf),_0x585985['fontSize'](0xf)['text'](_0x14cb46,_0x1e95f0,_0x3c02de+=0x32),_0x585985['fontSize'](0xa)[_0x84836f(0x1af)](_0x84836f(0x19a),_0x1e95f0,_0x3c02de+=0x14),_0x585985['fontSize'](0x9)[_0x84836f(0x1af)]('Warehouse\x20',_0x1e95f0,_0x3c02de+=0x28),_0x585985['fontSize'](0x9)['text'](_0x84836f(0x20d)+_0x4b20c9[_0x84836f(0x235)],_0x1e95f0+0x3f,_0x3c02de),_0x585985[_0x84836f(0x20e)](0x9)['text']('Customer\x20:\x20'+_0x4b20c9[_0x84836f(0x200)],_0x1e95f0+0x17c,_0x3c02de,{'underline':!![]}),_0x585985['fontSize'](0x9)[_0x84836f(0x1af)]('Date\x20',_0x1e95f0,_0x3c02de+=0xb),_0x585985[_0x84836f(0x20e)](0x9)[_0x84836f(0x1af)](_0x84836f(0x20d)+_0x4b20c9[_0x84836f(0x1ab)],_0x1e95f0+0x3f,_0x3c02de),_0x585985['fontSize'](0x9)['text']('Control\x20Number\x20',_0x1e95f0,_0x3c02de+=0xb),_0x585985[_0x84836f(0x20e)](0x9)[_0x84836f(0x1af)](_0x84836f(0x20d)+_0x4b20c9['invoice'],_0x1e95f0+0x3f,_0x3c02de);const _0x584149={'headers':[{'label':_0x84836f(0x21f),'property':_0x84836f(0x211),'width':0x3c,'renderer':null},{'label':_0x84836f(0x1e2),'property':'itemdescription','width':0xa5,'renderer':null},{'label':_0x84836f(0x22c),'property':_0x84836f(0x220),'width':0x3c,'renderer':null},{'label':_0x84836f(0x257),'property':_0x84836f(0x1ea),'width':0x3c,'renderer':null},{'label':_0x84836f(0x1e3),'property':_0x84836f(0x248),'width':0x50,'renderer':null},{'label':_0x84836f(0x267),'property':_0x84836f(0x1aa),'width':0x3f,'renderer':null},{'label':_0x84836f(0x218),'property':_0x84836f(0x1ca),'width':0x3f,'renderer':null}],'datas':[]};var _0x33ba92=0x0;let _0x58633f='';var _0x57e99e=0x0;_0x4b20c9[_0x84836f(0x235)]=='DRY\x20GOODS'?_0x58633f='DG':_0x58633f='FG';var _0x4fb234=0x0;_0x4b20c9[_0x84836f(0x1d2)]['forEach'](_0x57d67e=>{const _0x273d5b=_0x84836f;console['log'](_0x57d67e);let _0x7e324f='';const _0x2ab6ab=_0x57d67e[_0x273d5b(0x1a6)];for(let _0x16a672=0x1;_0x16a672<=_0x2ab6ab;_0x16a672++){_0x2ab6ab==_0x16a672?_0x7e324f+=_0x57d67e[_0x273d5b(0x1ae)]:_0x7e324f+=_0x57d67e[_0x273d5b(0x1ae)]+',',_0x57e99e+=_0x57d67e[_0x273d5b(0x1ae)];}_0x7e324f+=_0x273d5b(0x1f2)+_0x57d67e[_0x273d5b(0x1b7)];const _0x126cea={'itemcode':_0x57d67e[_0x273d5b(0x24e)],'itemdescription':_0x57d67e[_0x273d5b(0x221)],'qty':_0x57d67e[_0x273d5b(0x1a6)],'unit':_0x57d67e[_0x273d5b(0x1ea)],'proddate':_0x57d67e[_0x273d5b(0x1d5)],'batchno':_0x57d67e[_0x273d5b(0x251)],'binloc':_0x58633f+_0x57d67e[_0x273d5b(0x232)]};_0x33ba92+=_0x57d67e[_0x273d5b(0x1a6)],_0x4fb234+=0x1,_0x584149[_0x273d5b(0x260)]['push'](_0x126cea);}),_0x585985[_0x84836f(0x25c)](_0x584149,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x585985['font'](_0x84836f(0x259))['fontSize'](0x8),'prepareRow':(_0x4ee6fd,_0x20471f,_0x438431,_0x3bf687)=>_0x585985[_0x84836f(0x23a)](_0x84836f(0x24a))[_0x84836f(0x20e)](0x8)});var _0x159a51=_0x585985['y'],_0x178b7a=_0x585985['x'];_0x585985[_0x84836f(0x20e)](0xa)[_0x84836f(0x1af)](_0x84836f(0x1e9),_0x178b7a+0x7d,_0x159a51),console[_0x84836f(0x224)](_0x84836f(0x213)+_0x178b7a+_0x84836f(0x1b9)+_0x159a51+_0x84836f(0x23b)+_0x4fb234);const _0x2055bb=_0x178b7a*_0x4fb234;_0x585985[_0x84836f(0x20e)](0xa)[_0x84836f(0x1af)]('TOTAL\x20QTY:\x20',_0x178b7a,_0x159a51+=0x15e-_0x2055bb),_0x585985['fontSize'](0xa)[_0x84836f(0x1af)](_0x33ba92,_0x178b7a+0xdc,_0x159a51,{'underline':!![]}),_0x585985[_0x84836f(0x20e)](0xa)['text'](_0x84836f(0x1bb),_0x178b7a,_0x159a51+=0x19),_0x585985[_0x84836f(0x20e)](0xa)[_0x84836f(0x1af)]('\x20'[_0x84836f(0x1b4)](0x3c),_0x178b7a+0x3e,_0x159a51,{'underline':!![]}),_0x585985[_0x84836f(0x20e)](0xa)[_0x84836f(0x1af)]('Checked\x20By:\x20',_0x178b7a,_0x159a51+=0x32),_0x585985['fontSize'](0xa)[_0x84836f(0x1af)](_0x84836f(0x194),_0x178b7a+0x3c,_0x159a51,{'underline':!![]}),_0x585985[_0x84836f(0x20e)](0xa)[_0x84836f(0x1af)](_0x84836f(0x1f6),_0x178b7a+0x3c,_0x159a51+0xc);let _0x45c33a=_0x585985[_0x84836f(0x25b)]();for(let _0x30671e=0x0;_0x30671e<_0x45c33a['count'];_0x30671e++){_0x585985['switchToPage'](_0x30671e);let _0x4b6aa3=_0x585985[_0x84836f(0x245)][_0x84836f(0x1f5)][_0x84836f(0x1ec)];_0x585985[_0x84836f(0x245)][_0x84836f(0x1f5)][_0x84836f(0x1ec)]=0x0,_0x585985[_0x84836f(0x1af)](_0x84836f(0x1d0)+(_0x30671e+0x1)+_0x84836f(0x1d8)+_0x45c33a[_0x84836f(0x1cd)],0x0,_0x585985[_0x84836f(0x245)][_0x84836f(0x1eb)]-_0x4b6aa3/0x2,{'align':_0x84836f(0x1e7)}),_0x585985[_0x84836f(0x245)]['margins'][_0x84836f(0x1ec)]=_0x4b6aa3;}const _0x2b9356=_0x585985['y'],_0x1dc2aa=_0x585985['x'];_0x585985[_0x84836f(0x1a8)]();}catch(_0x35fab6){console[_0x84836f(0x224)](_0x35fab6),_0xb393e1[_0x84836f(0x1fb)](0x1f4)['send'](_0x84836f(0x1c6));}}),router['get']('/PDF_transfer/:id',auth,async(_0x43202a,_0x1597ce)=>{const _0x566912=a0_0x48e946;try{const {username:_0x2cfa04,email:_0x347039,role:_0x2b6170}=_0x43202a[_0x566912(0x20f)],_0x1d0a84=_0x43202a[_0x566912(0x20f)],_0x96e5b5=await profile[_0x566912(0x1bc)]({'email':_0x1d0a84['email']}),_0x1facfa=await master_shop['find'](),_0x5c5ec8=_0x43202a[_0x566912(0x1c3)]['id'],_0x5e78cc=await transfers_finished['findById'](_0x5c5ec8);var _0x41f50f,_0x1083e5;_0x41f50f=_0x566912(0x201),_0x1083e5=_0x566912(0x229);_0x5e78cc['finalize']==_0x566912(0x1e6)&&(_0x41f50f='STOCKS\x20TRANSFER',_0x1083e5='');const _0xef1e4c=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1597ce[_0x566912(0x225)](_0x566912(0x246),_0x566912(0x1a5)+_0x5c5ec8+'.pdf\x22'),_0x1597ce[_0x566912(0x225)]('Content-type','application/pdf');var _0x18df0b=0x14,_0x3fc43a=0x3c;_0xef1e4c[_0x566912(0x250)](_0x1597ce),_0xef1e4c['image']('./public/upload/'+_0x1facfa[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0xef1e4c[_0x566912(0x20e)](0x14)[_0x566912(0x1af)](_0x566912(0x217),_0x18df0b,_0x3fc43a),_0xef1e4c[_0x566912(0x20e)](0xa)[_0x566912(0x1af)](_0x566912(0x204),_0x18df0b,_0x3fc43a+=0xf),_0xef1e4c['fontSize'](0xf)['text'](_0x41f50f,_0x18df0b,_0x3fc43a+=0x32),_0xef1e4c[_0x566912(0x20e)](0xa)['text'](_0x1083e5,_0x18df0b,_0x3fc43a+=0x14),_0xef1e4c[_0x566912(0x20e)](0x9)[_0x566912(0x1af)]('From\x20Warehouse\x20',_0x18df0b,_0x3fc43a+=0x28),_0xef1e4c[_0x566912(0x20e)](0x9)[_0x566912(0x1af)](_0x566912(0x22e)+_0x5e78cc['from_warehouse'],_0x18df0b+0x3f,_0x3fc43a),_0xef1e4c['fontSize'](0x9)[_0x566912(0x1af)](_0x566912(0x210),_0x18df0b,_0x3fc43a+=0xf),_0xef1e4c[_0x566912(0x20e)](0x9)[_0x566912(0x1af)](_0x566912(0x22e)+_0x5e78cc['to_warehouse'],_0x18df0b+0x3f,_0x3fc43a),_0xef1e4c['fontSize'](0x9)['text'](_0x566912(0x205),_0x18df0b,_0x3fc43a+=0xb),_0xef1e4c[_0x566912(0x20e)](0x9)[_0x566912(0x1af)](_0x566912(0x22e)+_0x5e78cc[_0x566912(0x1ab)],_0x18df0b+0x3f,_0x3fc43a),_0xef1e4c[_0x566912(0x20e)](0x9)[_0x566912(0x1af)](_0x566912(0x1e4),_0x18df0b,_0x3fc43a+=0xb),_0xef1e4c[_0x566912(0x20e)](0x9)[_0x566912(0x1af)](_0x566912(0x22e)+_0x5e78cc[_0x566912(0x1c2)],_0x18df0b+0x3f,_0x3fc43a);const _0x15c4a9={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':'\x20\x20FROM','property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x566912(0x240),'property':'itemdescription','width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0xef1e4c['table'](_0x15c4a9,{'x':0x5,'y':0x107,'prepareHeader':()=>_0xef1e4c[_0x566912(0x23a)](_0x566912(0x259))[_0x566912(0x20e)](0x8),'prepareRow':(_0x2702fc,_0x16d168,_0x51919f,_0x4ce9be)=>_0xef1e4c[_0x566912(0x23a)](_0x566912(0x24a))[_0x566912(0x20e)](0x8)});const _0x1f7f93={'headers':[{'label':_0x566912(0x21f),'property':_0x566912(0x211),'width':0x3c,'renderer':null},{'label':_0x566912(0x1e2),'property':_0x566912(0x1f4),'width':0x96,'renderer':null},{'label':_0x566912(0x22c),'property':_0x566912(0x220),'width':0x28,'renderer':null},{'label':'UOM','property':_0x566912(0x1ea),'width':0x37,'renderer':null},{'label':_0x566912(0x1e3),'property':_0x566912(0x248),'width':0x4b,'renderer':null},{'label':_0x566912(0x267),'property':_0x566912(0x1aa),'width':0x3f,'renderer':null},{'label':_0x566912(0x218),'property':_0x566912(0x1d9),'width':0x3f,'renderer':null},{'label':_0x566912(0x218),'property':_0x566912(0x1ca),'width':0x3f,'renderer':null}],'datas':[]};var _0x4ad29d=0x0;let _0x1e8fd6='';var _0x20bb4b=0x0;if(_0x5e78cc[_0x566912(0x202)]==_0x566912(0x227))_0x1e8fd6='DG';else _0x5e78cc[_0x566912(0x202)]==_0x566912(0x19b)&&(_0x1e8fd6='FG');_0x5e78cc['product']['forEach'](_0x503fb2=>{const _0x41bf43=_0x566912;var _0x5e48f4=_0x503fb2[_0x41bf43(0x21b)],_0x471592,_0x5ea5c0;_0x471592=_0x503fb2[_0x41bf43(0x1ea)],_0x5ea5c0=_0x503fb2['to_quantity'];_0x5e48f4=='S'&&(_0x471592=_0x503fb2[_0x41bf43(0x1b7)],_0x5ea5c0=_0x503fb2[_0x41bf43(0x1ba)]*_0x503fb2[_0x41bf43(0x19e)]);const _0x592cd0={'itemcode':_0x503fb2[_0x41bf43(0x24e)],'itemdescription':_0x503fb2[_0x41bf43(0x221)],'qty':_0x5ea5c0,'unit':_0x471592,'proddate':_0x503fb2[_0x41bf43(0x1d5)],'batchno':_0x503fb2['batch_code'],'binloc':_0x1e8fd6+_0x503fb2[_0x41bf43(0x22b)],'qtyFrom':_0x503fb2['from_quantity'],'binlocFrom':_0x1e8fd6+_0x503fb2[_0x41bf43(0x1a7)]};_0x4ad29d+=_0x5ea5c0,_0x1f7f93['datas'][_0x41bf43(0x253)](_0x592cd0);}),_0xef1e4c[_0x566912(0x25c)](_0x1f7f93,{'x':0x5,'y':0x118,'prepareHeader':()=>_0xef1e4c[_0x566912(0x23a)](_0x566912(0x259))['fontSize'](0x8),'prepareRow':(_0x511b97,_0x1088c4,_0x233340,_0x23d6c9)=>_0xef1e4c[_0x566912(0x23a)](_0x566912(0x24a))['fontSize'](0x8)});var _0x37d4c7=_0xef1e4c['y'],_0x4feff5=_0xef1e4c['x'];_0xef1e4c['fontSize'](0xa)['text'](_0x566912(0x1e9),_0x4feff5+0x7d,_0x37d4c7),_0xef1e4c[_0x566912(0x20e)](0xa)[_0x566912(0x1af)](_0x566912(0x247),_0x4feff5,_0x37d4c7+=0x15e),_0xef1e4c[_0x566912(0x20e)](0xa)[_0x566912(0x1af)](_0x4ad29d,_0x4feff5+0xd7,_0x37d4c7,{'underline':!![]}),_0xef1e4c[_0x566912(0x20e)](0xa)[_0x566912(0x1af)](_0x566912(0x1bb),_0x4feff5,_0x37d4c7+=0x19),_0xef1e4c['fontSize'](0xa)[_0x566912(0x1af)]('\x20'[_0x566912(0x1b4)](0x3c),_0x4feff5+0x3e,_0x37d4c7,{'underline':!![]}),_0xef1e4c['fontSize'](0xa)[_0x566912(0x1af)](_0x566912(0x1cf),_0x4feff5,_0x37d4c7+=0x32),_0xef1e4c[_0x566912(0x20e)](0xa)[_0x566912(0x1af)](_0x566912(0x194),_0x4feff5+0x3c,_0x37d4c7,{'underline':!![]}),_0xef1e4c[_0x566912(0x20e)](0xa)[_0x566912(0x1af)](_0x566912(0x1f6),_0x4feff5+0x3c,_0x37d4c7+0xc);let _0x46a394=_0xef1e4c[_0x566912(0x25b)]();for(let _0x9427d7=0x0;_0x9427d7<_0x46a394[_0x566912(0x1cd)];_0x9427d7++){_0xef1e4c[_0x566912(0x1ad)](_0x9427d7);let _0x56121f=_0xef1e4c['page']['margins'][_0x566912(0x1ec)];_0xef1e4c[_0x566912(0x245)][_0x566912(0x1f5)][_0x566912(0x1ec)]=0x0,_0xef1e4c[_0x566912(0x1af)]('Page:\x20'+(_0x9427d7+0x1)+_0x566912(0x1d8)+_0x46a394[_0x566912(0x1cd)],0x0,_0xef1e4c[_0x566912(0x245)][_0x566912(0x1eb)]-_0x56121f/0x2,{'align':'center'}),_0xef1e4c[_0x566912(0x245)][_0x566912(0x1f5)][_0x566912(0x1ec)]=_0x56121f;}const _0x5bd7a1=_0xef1e4c['y'],_0x5f5ba2=_0xef1e4c['x'];_0xef1e4c['end']();}catch(_0x1d495c){console[_0x566912(0x224)](_0x1d495c),_0x1597ce['status'](0x1f4)[_0x566912(0x23f)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x48e946(0x1a1)](a0_0x48e946(0x243),auth,async(_0x50578b,_0x363dc5)=>{const _0x51917d=a0_0x48e946;try{const {username:_0x1ed83a,email:_0x114e0c,role:_0x7a03e8}=_0x50578b['user'],_0x540ba5=_0x50578b[_0x51917d(0x20f)],_0x31421d=await profile[_0x51917d(0x1bc)]({'email':_0x540ba5[_0x51917d(0x25d)]}),_0x40ab2a=await master_shop[_0x51917d(0x216)](),_0x347e52=_0x50578b[_0x51917d(0x1c3)]['id'],_0x14554b=await adjustment_finished[_0x51917d(0x19f)](_0x347e52);var _0x433415,_0x42b5c6;_0x433415=_0x51917d(0x1fa),_0x42b5c6=_0x51917d(0x25f);_0x14554b['finalize']=='True'&&(_0x433415=_0x51917d(0x1b5),_0x42b5c6='');const _0x427976=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x363dc5[_0x51917d(0x225)](_0x51917d(0x246),_0x51917d(0x1a5)+_0x347e52+_0x51917d(0x1dd)),_0x363dc5[_0x51917d(0x225)](_0x51917d(0x1e0),'application/pdf');var _0x17c875=0x14,_0x551eaf=0x3c;_0x427976[_0x51917d(0x250)](_0x363dc5),_0x427976[_0x51917d(0x24c)](_0x51917d(0x1da)+_0x40ab2a[0x0][_0x51917d(0x24c)],0x14,0x0,{'fit':[0x64,0x64]}),_0x427976[_0x51917d(0x20e)](0x14)[_0x51917d(0x1af)](_0x51917d(0x217),_0x17c875,_0x551eaf),_0x427976[_0x51917d(0x20e)](0xa)['text'](_0x51917d(0x204),_0x17c875,_0x551eaf+=0xf),_0x427976[_0x51917d(0x20e)](0xf)[_0x51917d(0x1af)](_0x433415,_0x17c875,_0x551eaf+=0x32),_0x427976[_0x51917d(0x20e)](0xa)[_0x51917d(0x1af)](_0x42b5c6,_0x17c875,_0x551eaf+=0x14),_0x427976[_0x51917d(0x20e)](0x9)[_0x51917d(0x1af)](_0x51917d(0x1ce),_0x17c875,_0x551eaf+=0x28),_0x427976['fontSize'](0x9)['text'](_0x51917d(0x20d)+_0x14554b[_0x51917d(0x235)],_0x17c875+0x3f,_0x551eaf),_0x427976[_0x51917d(0x20e)](0x9)[_0x51917d(0x1af)](_0x51917d(0x205),_0x17c875,_0x551eaf+=0xb),_0x427976[_0x51917d(0x20e)](0x9)[_0x51917d(0x1af)](_0x51917d(0x20d)+_0x14554b[_0x51917d(0x1ab)],_0x17c875+0x3f,_0x551eaf),_0x427976['fontSize'](0x9)[_0x51917d(0x1af)](_0x51917d(0x1e4),_0x17c875,_0x551eaf+=0xb),_0x427976[_0x51917d(0x20e)](0x9)['text'](_0x51917d(0x20d)+_0x14554b[_0x51917d(0x1c2)],_0x17c875+0x3f,_0x551eaf);const _0x563297={'headers':[{'label':_0x51917d(0x21f),'property':_0x51917d(0x211),'width':0x3c,'renderer':null},{'label':_0x51917d(0x1e2),'property':_0x51917d(0x1f4),'width':0x96,'renderer':null},{'label':'Quantity','property':'qty','width':0x3c,'renderer':null},{'label':_0x51917d(0x257),'property':'unit','width':0x3c,'renderer':null},{'label':_0x51917d(0x1e3),'property':'proddate','width':0x50,'renderer':null},{'label':_0x51917d(0x267),'property':_0x51917d(0x1aa),'width':0x3f,'renderer':null},{'label':_0x51917d(0x218),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x134c89=0x0;let _0x5662be='';var _0x227772=0x0;_0x14554b[_0x51917d(0x235)]==_0x51917d(0x227)?_0x5662be='DG':_0x5662be='FG';_0x14554b[_0x51917d(0x252)]['forEach'](_0x343c08=>{const _0x560dcb=_0x51917d;console[_0x560dcb(0x224)](_0x343c08);var _0x1a28d9=_0x343c08[_0x560dcb(0x21b)],_0x2dc087,_0x5ef820;_0x2dc087=_0x343c08[_0x560dcb(0x1ea)],_0x5ef820=_0x343c08['adjust_qty'];_0x1a28d9=='S'&&(_0x2dc087=_0x343c08['secondary_unit'],_0x5ef820=_0x343c08[_0x560dcb(0x1f7)]*_0x343c08[_0x560dcb(0x19e)]);const _0x2fddf0={'itemcode':_0x343c08[_0x560dcb(0x24e)],'itemdescription':_0x343c08[_0x560dcb(0x221)],'qty':_0x5ef820,'unit':_0x2dc087,'proddate':_0x343c08[_0x560dcb(0x1d5)],'batchno':_0x343c08['batch_code'],'binloc':_0x5662be+_0x343c08[_0x560dcb(0x232)]};_0x134c89+=_0x5ef820,_0x563297['datas'][_0x560dcb(0x253)](_0x2fddf0);}),_0x427976[_0x51917d(0x25c)](_0x563297,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x427976[_0x51917d(0x23a)]('Helvetica-Bold')[_0x51917d(0x20e)](0x8),'prepareRow':(_0x157f20,_0x34e611,_0x2808de,_0x12ae2e)=>_0x427976[_0x51917d(0x23a)](_0x51917d(0x24a))[_0x51917d(0x20e)](0x8)});var _0x1aa93b=_0x427976['y'],_0xb66bf4=_0x427976['x'];_0x427976[_0x51917d(0x20e)](0xa)[_0x51917d(0x1af)](_0x51917d(0x1e9),_0xb66bf4+0x7d,_0x1aa93b),_0x427976[_0x51917d(0x20e)](0xa)[_0x51917d(0x1af)](_0x51917d(0x249),_0xb66bf4,_0x1aa93b+=0x15e),_0x427976[_0x51917d(0x20e)](0xa)['text'](_0x134c89,_0xb66bf4+0xc8,_0x1aa93b),_0x427976[_0x51917d(0x20e)](0xa)[_0x51917d(0x1af)](_0x51917d(0x1bb),_0xb66bf4,_0x1aa93b+=0x19),_0x427976['fontSize'](0xa)[_0x51917d(0x1af)]('\x20'['repeat'](0x3c),_0xb66bf4+0x3e,_0x1aa93b,{'underline':!![]}),_0x427976[_0x51917d(0x20e)](0xa)[_0x51917d(0x1af)](_0x51917d(0x193),_0xb66bf4,_0x1aa93b+=0x32),_0x427976['fontSize'](0xa)[_0x51917d(0x1af)](_0x51917d(0x20d),_0xb66bf4+0x37,_0x1aa93b),_0x427976[_0x51917d(0x20e)](0xa)[_0x51917d(0x1af)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xb66bf4+0x3c,_0x1aa93b,{'underline':!![]}),_0x427976['fontSize'](0xa)[_0x51917d(0x1af)](_0x51917d(0x1f6),_0xb66bf4+0x3c,_0x1aa93b+0xc);let _0x419457=_0x427976[_0x51917d(0x25b)]();for(let _0xe8ddc7=0x0;_0xe8ddc7<_0x419457[_0x51917d(0x1cd)];_0xe8ddc7++){_0x427976[_0x51917d(0x1ad)](_0xe8ddc7);let _0x4d50f6=_0x427976['page'][_0x51917d(0x1f5)]['bottom'];_0x427976['page'][_0x51917d(0x1f5)][_0x51917d(0x1ec)]=0x0,_0x427976[_0x51917d(0x1af)]('Page:\x20'+(_0xe8ddc7+0x1)+_0x51917d(0x1d8)+_0x419457['count'],0x0,_0x427976[_0x51917d(0x245)]['height']-_0x4d50f6/0x2,{'align':_0x51917d(0x1e7)}),_0x427976['page']['margins'][_0x51917d(0x1ec)]=_0x4d50f6;}const _0x5c55df=_0x427976['y'],_0x53c93c=_0x427976['x'];_0x427976[_0x51917d(0x1a8)]();}catch(_0x16cf0f){console[_0x51917d(0x224)](_0x16cf0f),_0x363dc5[_0x51917d(0x1fb)](0x1f4)[_0x51917d(0x23f)](_0x51917d(0x1c6));}}),router['get'](a0_0x48e946(0x1cb),auth,async(_0x222847,_0x19768f)=>{const _0x22a62=a0_0x48e946;try{const {username:_0x17f005,email:_0x7b41ff,role:_0x1d24dd}=_0x222847[_0x22a62(0x20f)],_0xe5f554=_0x222847[_0x22a62(0x20f)],_0x29dc17=await profile[_0x22a62(0x1bc)]({'email':_0xe5f554['email']}),_0x24252d=await master_shop[_0x22a62(0x216)](),_0x4a730d=_0x222847[_0x22a62(0x1c3)]['id'],_0x97132c=await purchases_finished[_0x22a62(0x19f)](_0x4a730d),_0x509716=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x19768f[_0x22a62(0x225)](_0x22a62(0x246),_0x22a62(0x1a5)+_0x4a730d+_0x22a62(0x1dd)),_0x19768f[_0x22a62(0x225)](_0x22a62(0x1e0),_0x22a62(0x19c));var _0x1caf95=0x14,_0x3ef824=0x3c;_0x509716[_0x22a62(0x250)](_0x19768f),_0x509716[_0x22a62(0x24c)]('./public/upload/'+_0x24252d[0x0][_0x22a62(0x24c)],0x14,0x0,{'fit':[0x64,0x64]}),_0x509716[_0x22a62(0x20e)](0x14)[_0x22a62(0x1af)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x1caf95,_0x3ef824),_0x509716[_0x22a62(0x20e)](0xa)['text'](_0x22a62(0x204),_0x1caf95,_0x3ef824+=0xf),_0x509716[_0x22a62(0x20e)](0xf)[_0x22a62(0x1af)]('FINISHED\x20GOODS\x20TRANSFER\x20SLIP',_0x1caf95,_0x3ef824+=0x32),_0x509716[_0x22a62(0x20e)](0xa)[_0x22a62(0x1af)](_0x22a62(0x1a0),_0x1caf95,_0x3ef824+=0x14),_0x509716[_0x22a62(0x20e)](0x9)[_0x22a62(0x1af)](_0x22a62(0x1ce),_0x1caf95,_0x3ef824+=0x28),_0x509716[_0x22a62(0x20e)](0x9)[_0x22a62(0x1af)](_0x22a62(0x20d)+_0x97132c['warehouse_name'],_0x1caf95+0x3f,_0x3ef824),_0x509716['fontSize'](0x9)[_0x22a62(0x1af)](_0x22a62(0x1d7)+_0x97132c[_0x22a62(0x1b3)],_0x1caf95+0x17c,_0x3ef824),_0x509716[_0x22a62(0x20e)](0x9)['text'](_0x22a62(0x205),_0x1caf95,_0x3ef824+=0xb),_0x509716[_0x22a62(0x20e)](0x9)['text'](_0x22a62(0x20d)+_0x97132c[_0x22a62(0x1ab)],_0x1caf95+0x3f,_0x3ef824),_0x509716[_0x22a62(0x20e)](0x9)[_0x22a62(0x1af)](_0x22a62(0x1e4),_0x1caf95,_0x3ef824+=0xb),_0x509716[_0x22a62(0x20e)](0x9)[_0x22a62(0x1af)](_0x22a62(0x20d)+_0x97132c['invoice'],_0x1caf95+0x3f,_0x3ef824);const _0x558cd8={'headers':[{'label':_0x22a62(0x21f),'property':_0x22a62(0x211),'width':0x3c,'renderer':null},{'label':_0x22a62(0x1e2),'property':_0x22a62(0x1f4),'width':0xc8,'renderer':null},{'label':_0x22a62(0x22c),'property':_0x22a62(0x220),'width':0x3c,'renderer':null},{'label':_0x22a62(0x257),'property':_0x22a62(0x1ea),'width':0x3c,'renderer':null},{'label':_0x22a62(0x1c7),'property':'expdate','width':0x50,'renderer':null},{'label':_0x22a62(0x267),'property':_0x22a62(0x1aa),'width':0x3f,'renderer':null},{'label':_0x22a62(0x218),'property':_0x22a62(0x1ca),'width':0x3f,'renderer':null}],'datas':[]};var _0x5f42a6=0x0;let _0x38520c='';_0x97132c[_0x22a62(0x235)]==_0x22a62(0x227)?_0x38520c='DG':_0x38520c='FG';_0x97132c[_0x22a62(0x252)][_0x22a62(0x228)](_0x528d8d=>{const _0x1ed88a=_0x22a62;let _0x367a2c='';var _0x2415bb=0x0;const _0x3eb5e1={'itemcode':_0x528d8d[_0x1ed88a(0x24e)],'itemdescription':_0x528d8d['product_name'],'qty':_0x528d8d[_0x1ed88a(0x1a6)],'unit':_0x528d8d[_0x1ed88a(0x207)],'expdate':_0x528d8d[_0x1ed88a(0x1ef)],'batchno':_0x528d8d[_0x1ed88a(0x251)],'binloc':_0x38520c+_0x528d8d[_0x1ed88a(0x232)]};_0x5f42a6+=_0x528d8d[_0x1ed88a(0x1a6)],_0x558cd8[_0x1ed88a(0x260)][_0x1ed88a(0x253)](_0x3eb5e1);}),_0x509716[_0x22a62(0x25c)](_0x558cd8,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x509716['font'](_0x22a62(0x259))[_0x22a62(0x20e)](0x8),'prepareRow':(_0x221e6b,_0x120fec,_0x165a01,_0x47ee49)=>_0x509716['font'](_0x22a62(0x24a))[_0x22a62(0x20e)](0x8)});var _0x1afdef=_0x509716['y'],_0x7577e0=_0x509716['x'];_0x509716['fontSize'](0xa)[_0x22a62(0x1af)](_0x22a62(0x1e9),_0x7577e0+0x7d,_0x1afdef),_0x509716[_0x22a62(0x20e)](0xa)['text']('TOTAL\x20QTY:\x20',_0x7577e0,_0x1afdef+=0x15e),_0x509716['fontSize'](0xa)[_0x22a62(0x1af)](_0x5f42a6,_0x7577e0+0xfa,_0x1afdef),_0x509716[_0x22a62(0x20e)](0xa)[_0x22a62(0x1af)](_0x22a62(0x20b),_0x7577e0,_0x1afdef+=0x19),_0x509716['fontSize'](0xa)[_0x22a62(0x1af)](_0x22a62(0x1bd),_0x7577e0+0x37,_0x1afdef,{'underline':!![]}),_0x509716[_0x22a62(0x20e)](0xa)[_0x22a62(0x1af)](_0x22a62(0x1de),_0x7577e0,_0x1afdef+0x32),_0x509716['fontSize'](0xa)[_0x22a62(0x1af)](_0x22a62(0x194),_0x7577e0+0x32,_0x1afdef+0x32,{'underline':!![]}),_0x509716['fontSize'](0xa)[_0x22a62(0x1af)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x7577e0+0x32,_0x1afdef+0x3c);let _0x55c18d=_0x509716['bufferedPageRange']();for(let _0xfefd78=0x0;_0xfefd78<_0x55c18d[_0x22a62(0x1cd)];_0xfefd78++){_0x509716[_0x22a62(0x1ad)](_0xfefd78);let _0x4f6e0b=_0x509716[_0x22a62(0x245)]['margins'][_0x22a62(0x1ec)];_0x509716['page'][_0x22a62(0x1f5)][_0x22a62(0x1ec)]=0x0,_0x509716['text']('Page:\x20'+(_0xfefd78+0x1)+_0x22a62(0x1d8)+_0x55c18d['count'],0x0,_0x509716[_0x22a62(0x245)][_0x22a62(0x1eb)]-_0x4f6e0b/0x2,{'align':'center'}),_0x509716[_0x22a62(0x245)][_0x22a62(0x1f5)][_0x22a62(0x1ec)]=_0x4f6e0b;}const _0x502992=_0x509716['y'],_0x4994b9=_0x509716['x'];_0x509716['end']();}catch(_0x17a6a4){console[_0x22a62(0x224)](_0x17a6a4),_0x19768f[_0x22a62(0x1fb)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x48e946(0x1a1)](a0_0x48e946(0x241),auth,async(_0x38e198,_0x1cf408)=>{const _0x5e66f6=a0_0x48e946;try{const {username:_0x2f0234,email:_0x22f3c9,role:_0x120186}=_0x38e198[_0x5e66f6(0x20f)],_0x4a59b8=_0x38e198[_0x5e66f6(0x20f)],_0x139c44=await profile['findOne']({'email':_0x4a59b8[_0x5e66f6(0x25d)]}),_0x147954=await master_shop[_0x5e66f6(0x216)](),_0x5a96fa=_0x38e198[_0x5e66f6(0x1c3)]['id'],_0x4ce527=await sales_return_finished['findById'](_0x5a96fa),_0x15fb89=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1cf408[_0x5e66f6(0x225)]('Content-disposition',_0x5e66f6(0x1a5)+_0x5a96fa+'.pdf\x22'),_0x1cf408[_0x5e66f6(0x225)](_0x5e66f6(0x1e0),_0x5e66f6(0x19c));var _0x5941c0=0x14,_0x118967=0x64;_0x15fb89[_0x5e66f6(0x250)](_0x1cf408),_0x15fb89['image'](_0x5e66f6(0x1da)+_0x147954[0x0][_0x5e66f6(0x24c)],0x14,0x0,{'fit':[0x64,0x64]}),_0x15fb89[_0x5e66f6(0x20e)](0x14)[_0x5e66f6(0x1af)](_0x5e66f6(0x217),_0x5941c0,_0x118967),_0x15fb89[_0x5e66f6(0x20e)](0xa)['text'](_0x5e66f6(0x204),_0x5941c0,_0x118967+=0xf),_0x15fb89['fontSize'](0xf)[_0x5e66f6(0x1af)](_0x5e66f6(0x1fa),_0x5941c0,_0x118967+=0x32),_0x15fb89['fontSize'](0xa)[_0x5e66f6(0x1af)]('(RETURN)',_0x5941c0,_0x118967+=0x1e),_0x15fb89['fontSize'](0x9)[_0x5e66f6(0x1af)](_0x5e66f6(0x1f0)+_0x4ce527[_0x5e66f6(0x1f1)],_0x5941c0,_0x118967+=0x28),_0x15fb89['fontSize'](0x9)[_0x5e66f6(0x1af)]('Customer\x20:\x20'+_0x4ce527['customer'],0x190,0xd2,{'underline':!![]}),_0x15fb89['fontSize'](0x9)['text'](_0x5e66f6(0x1a9),_0x5941c0,_0x118967+=0xb),_0x15fb89[_0x5e66f6(0x20e)](0x9)[_0x5e66f6(0x1af)](_0x5e66f6(0x1a4)+_0x4ce527[_0x5e66f6(0x1ab)],_0x5941c0,_0x118967+=0xb),_0x15fb89[_0x5e66f6(0x20e)](0x9)[_0x5e66f6(0x1af)](_0x5e66f6(0x1fd)+_0x4ce527[_0x5e66f6(0x1c2)],_0x5941c0,_0x118967+=0xb);var _0x2844fa='',_0x29334b='',_0xebd236=0x0,_0x5d6340;console[_0x5e66f6(0x224)](_0x4ce527['warehouse_cat']);_0x4ce527[_0x5e66f6(0x239)]=='GS'?(_0x4ce527[_0x5e66f6(0x235)]==_0x5e66f6(0x227)?warecode='DG':warecode='FG',_0x2844fa={'headers':[{'label':_0x5e66f6(0x21f),'property':_0x5e66f6(0x211),'width':0x3c,'renderer':null},{'label':_0x5e66f6(0x1e2),'property':_0x5e66f6(0x1f4),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x5e66f6(0x220),'width':0x3c,'renderer':null},{'label':_0x5e66f6(0x257),'property':_0x5e66f6(0x1ea),'width':0x3c,'renderer':null},{'label':_0x5e66f6(0x1c7),'property':'expdate','width':0x50,'renderer':null},{'label':_0x5e66f6(0x267),'property':_0x5e66f6(0x1aa),'width':0x3f,'renderer':null},{'label':_0x5e66f6(0x218),'property':_0x5e66f6(0x1ca),'width':0x3f,'renderer':null}],'datas':[]},_0x4ce527[_0x5e66f6(0x1b8)]['forEach'](_0x2a7139=>{const _0x17e6ac=_0x5e66f6;let _0x3eeb08='';var _0x111d98=0x0;_0x29334b={'itemcode':_0x2a7139[_0x17e6ac(0x24e)],'itemdescription':_0x2a7139[_0x17e6ac(0x221)],'qty':_0x2a7139['return_qty'],'unit':_0x2a7139[_0x17e6ac(0x1ea)],'expdate':_0x2a7139[_0x17e6ac(0x1ef)],'batchno':_0x2a7139[_0x17e6ac(0x251)],'binloc':warecode+_0x2a7139[_0x17e6ac(0x232)]},_0xebd236+=_0x2a7139[_0x17e6ac(0x208)],console[_0x17e6ac(0x224)](_0x2a7139),_0x2844fa[_0x17e6ac(0x260)][_0x17e6ac(0x253)](_0x29334b);})):(_0x2844fa={'headers':[{'label':_0x5e66f6(0x21f),'property':_0x5e66f6(0x211),'width':0x3c,'renderer':null},{'label':_0x5e66f6(0x1e2),'property':'itemdescription','width':0xc8,'renderer':null},{'label':'Quantity','property':_0x5e66f6(0x220),'width':0x3c,'renderer':null},{'label':_0x5e66f6(0x257),'property':_0x5e66f6(0x1ea),'width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':_0x5e66f6(0x1b0),'width':0x50,'renderer':null},{'label':_0x5e66f6(0x267),'property':'batchno','width':0x3f,'renderer':null}],'datas':[]},_0x4ce527['return_sale_QA'][_0x5e66f6(0x228)](_0x262974=>{const _0xfcdc6b=_0x5e66f6;let _0xdd87c0='';var _0x317663=0x0;_0x29334b={'itemcode':_0x262974[_0xfcdc6b(0x24e)],'itemdescription':_0x262974[_0xfcdc6b(0x221)],'qty':_0x262974[_0xfcdc6b(0x208)],'unit':_0x262974[_0xfcdc6b(0x1ea)],'expdate':_0x262974[_0xfcdc6b(0x1ef)],'batchno':_0x262974[_0xfcdc6b(0x251)]},_0xebd236+=_0x262974[_0xfcdc6b(0x208)],console[_0xfcdc6b(0x224)](_0xebd236+_0xfcdc6b(0x196)+_0x262974[_0xfcdc6b(0x208)]),_0x2844fa[_0xfcdc6b(0x260)][_0xfcdc6b(0x253)](_0x29334b);}));_0x15fb89[_0x5e66f6(0x25c)](_0x2844fa,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x15fb89[_0x5e66f6(0x23a)](_0x5e66f6(0x259))[_0x5e66f6(0x20e)](0x8),'prepareRow':(_0x11e855,_0x2de661,_0x17d3e2,_0x1a2e77)=>_0x15fb89['font'](_0x5e66f6(0x24a))[_0x5e66f6(0x20e)](0x8)});var _0x45350a=_0x15fb89['y'],_0x37250f=_0x15fb89['x'];_0x15fb89[_0x5e66f6(0x20e)](0xa)[_0x5e66f6(0x1af)](_0x5e66f6(0x1e9),_0x37250f+0x7d,_0x45350a),_0x15fb89[_0x5e66f6(0x20e)](0xa)[_0x5e66f6(0x1af)](_0x5e66f6(0x247),_0x37250f,_0x45350a+=0x190),_0x15fb89['fontSize'](0xa)[_0x5e66f6(0x1af)](_0xebd236,_0x37250f+0x37,_0x45350a,{'underline':!![]}),_0x15fb89['fontSize'](0xa)['text'](_0x5e66f6(0x222),_0x37250f,_0x45350a+0x1e),_0x15fb89[_0x5e66f6(0x20e)](0xa)[_0x5e66f6(0x1af)](_0x5e66f6(0x1b1),_0x37250f+0x32,_0x45350a+0x1e,{'underline':!![]});let _0x4ef36f=_0x15fb89[_0x5e66f6(0x25b)]();for(let _0x2b89e7=0x0;_0x2b89e7<_0x4ef36f['count'];_0x2b89e7++){_0x15fb89['switchToPage'](_0x2b89e7);let _0x4459f5=_0x15fb89[_0x5e66f6(0x245)][_0x5e66f6(0x1f5)][_0x5e66f6(0x1ec)];_0x15fb89['page'][_0x5e66f6(0x1f5)]['bottom']=0x0,_0x15fb89['text'](_0x5e66f6(0x1d0)+(_0x2b89e7+0x1)+_0x5e66f6(0x1d8)+_0x4ef36f['count'],0x0,_0x15fb89[_0x5e66f6(0x245)][_0x5e66f6(0x1eb)]-_0x4459f5/0x2,{'align':'center'}),_0x15fb89[_0x5e66f6(0x245)][_0x5e66f6(0x1f5)][_0x5e66f6(0x1ec)]=_0x4459f5;}const _0x5809e3=_0x15fb89['y'],_0x1f4968=_0x15fb89['x'];_0x15fb89['end']();}catch(_0x1d2c7c){console[_0x5e66f6(0x224)](_0x1d2c7c),_0x1cf408[_0x5e66f6(0x1fb)](0x1f4)[_0x5e66f6(0x23f)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x48e946(0x1a1)](a0_0x48e946(0x238),auth,async(_0x2c087a,_0x5d0eff)=>{const _0x411cbb=a0_0x48e946;try{const {username:_0x43a710,email:_0xdd0502,role:_0xd01a3c}=_0x2c087a[_0x411cbb(0x20f)],_0x13a41f=_0x2c087a[_0x411cbb(0x20f)],_0x227f0f=await profile[_0x411cbb(0x1bc)]({'email':_0x13a41f['email']}),_0x51bc46=await master_shop[_0x411cbb(0x216)](),_0x1ab385=_0x2c087a[_0x411cbb(0x1c3)]['id'],_0x241826=await purchases[_0x411cbb(0x19f)](_0x1ab385),_0x298336=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5d0eff['setHeader'](_0x411cbb(0x246),'inline;\x20filename=\x22OUT-'+_0x1ab385+_0x411cbb(0x1dd)),_0x5d0eff[_0x411cbb(0x225)](_0x411cbb(0x1e0),_0x411cbb(0x19c));var _0x551883=0x14,_0x48e952=0x3c;_0x298336['pipe'](_0x5d0eff),_0x298336[_0x411cbb(0x24c)](_0x411cbb(0x1da)+_0x51bc46[0x0][_0x411cbb(0x24c)],0x14,0x0,{'fit':[0x64,0x64]}),_0x298336[_0x411cbb(0x20e)](0x14)['text'](_0x411cbb(0x217),_0x551883,_0x48e952),_0x298336['fontSize'](0xa)[_0x411cbb(0x1af)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x551883,_0x48e952+=0xf),_0x298336['fontSize'](0xf)['text']('RAW\x20MATERIALS\x20RECEIVING\x20REPORT',_0x551883,_0x48e952+=0x32),_0x298336[_0x411cbb(0x20e)](0xa)['text']('(INCOMING)',_0x551883,_0x48e952+=0x14),_0x298336[_0x411cbb(0x20e)](0x9)['text'](_0x411cbb(0x1ce),_0x551883,_0x48e952+=0x2d),_0x298336[_0x411cbb(0x20e)](0x9)['text'](_0x411cbb(0x20d)+_0x241826[_0x411cbb(0x235)],_0x551883+0x3f,_0x48e952),_0x298336[_0x411cbb(0x20e)](0x9)['text'](_0x411cbb(0x23c)+_0x241826[_0x411cbb(0x1ff)],_0x551883+0x17c,_0x48e952,{'underline':!![]}),_0x298336[_0x411cbb(0x20e)](0x9)['text'](_0x411cbb(0x205),_0x551883,_0x48e952+=0xb),_0x298336['fontSize'](0x9)[_0x411cbb(0x1af)](_0x411cbb(0x20d)+_0x241826[_0x411cbb(0x1ab)],_0x551883+0x3f,_0x48e952),_0x298336[_0x411cbb(0x20e)](0x9)['text'](_0x411cbb(0x1e4),_0x551883,_0x48e952+=0xb),_0x298336['fontSize'](0x9)['text'](_0x411cbb(0x20d)+_0x241826[_0x411cbb(0x1c2)],_0x551883+0x3f,_0x48e952);const _0x58feb8={'headers':[{'label':_0x411cbb(0x21f),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x411cbb(0x1e2),'property':_0x411cbb(0x1f4),'width':0x96,'renderer':null},{'label':_0x411cbb(0x1e1),'property':_0x411cbb(0x220),'width':0x2d,'renderer':null},{'label':_0x411cbb(0x257),'property':_0x411cbb(0x1ea),'width':0x3c,'renderer':null},{'label':_0x411cbb(0x1c7),'property':'expdate','width':0x46,'renderer':null},{'label':_0x411cbb(0x267),'property':'batchno','width':0x3c,'renderer':null},{'label':_0x411cbb(0x218),'property':'binloc','width':0x3c,'renderer':null},{'label':_0x411cbb(0x195),'property':_0x411cbb(0x1ee),'width':0x3f,'renderer':null}],'datas':[]};var _0x55a768=0x0;let _0x4bbc33='';_0x241826[_0x411cbb(0x252)][_0x411cbb(0x228)](_0x35de3b=>{const _0xddef7e=_0x411cbb;let _0x1a5d65='';var _0x176afd=0x0;const _0x1815b7={'itemcode':_0x35de3b['product_code'],'itemdescription':_0x35de3b[_0xddef7e(0x221)],'qty':_0x35de3b[_0xddef7e(0x1a6)],'unit':_0x35de3b[_0xddef7e(0x207)],'expdate':_0x35de3b['expiry_date'],'batchno':_0x35de3b[_0xddef7e(0x251)],'binloc':_0x35de3b['storage']+_0x35de3b['rack']+_0x35de3b['bay']+_0x35de3b[_0xddef7e(0x231)]+_0x35de3b['type'][0x0]+_0x35de3b['floorlevel'],'DelCode':_0x35de3b['delivery_code']};_0x55a768+=_0x35de3b[_0xddef7e(0x1a6)],_0x58feb8['datas'][_0xddef7e(0x253)](_0x1815b7);}),_0x298336['table'](_0x58feb8,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x298336[_0x411cbb(0x23a)](_0x411cbb(0x259))[_0x411cbb(0x20e)](0x8),'prepareRow':(_0x5f16be,_0x55aefa,_0x2414ef,_0x537c0d)=>_0x298336['font'](_0x411cbb(0x24a))[_0x411cbb(0x20e)](0x8)});var _0x386a94=_0x298336['y'],_0x254083=_0x298336['x'];_0x298336[_0x411cbb(0x20e)](0xa)[_0x411cbb(0x1af)](_0x411cbb(0x1e9),_0x254083+0x7d,_0x386a94),_0x298336[_0x411cbb(0x20e)](0xa)['text'](_0x411cbb(0x247),_0x254083,_0x386a94+=0x15e),_0x298336[_0x411cbb(0x20e)](0xa)['text'](_0x55a768,_0x254083+0xf0,_0x386a94,{'underline':!![]}),_0x298336['fontSize'](0xa)[_0x411cbb(0x1af)](_0x411cbb(0x21a),_0x254083,_0x386a94+0x28),_0x298336[_0x411cbb(0x20e)](0xa)[_0x411cbb(0x1af)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x254083+0x40,_0x386a94+0x28,{'underline':!![]}),_0x298336[_0x411cbb(0x20e)](0xa)[_0x411cbb(0x1af)](_0x411cbb(0x25a),_0x254083+0x40,_0x386a94+0x32);let _0x859b13=_0x298336[_0x411cbb(0x25b)]();for(let _0x3134dc=0x0;_0x3134dc<_0x859b13['count'];_0x3134dc++){_0x298336[_0x411cbb(0x1ad)](_0x3134dc);let _0x4a6b08=_0x298336[_0x411cbb(0x245)]['margins']['bottom'];_0x298336['page']['margins'][_0x411cbb(0x1ec)]=0x0,_0x298336[_0x411cbb(0x1af)]('Page:\x20'+(_0x3134dc+0x1)+_0x411cbb(0x1d8)+_0x859b13[_0x411cbb(0x1cd)],0x0,_0x298336[_0x411cbb(0x245)]['height']-_0x4a6b08/0x2,{'align':_0x411cbb(0x1e7)}),_0x298336[_0x411cbb(0x245)]['margins'][_0x411cbb(0x1ec)]=_0x4a6b08;}const _0x40a5fb=_0x298336['y'],_0x1320f7=_0x298336['x'];_0x298336[_0x411cbb(0x1a8)]();}catch(_0x3b240e){console[_0x411cbb(0x224)](_0x3b240e),_0x5d0eff['status'](0x1f4)[_0x411cbb(0x23f)](_0x411cbb(0x1c6));}}),router[a0_0x48e946(0x1a1)]('/PDF_Sales/:id',auth,async(_0x349d07,_0x56c5b3)=>{const _0x57ba81=a0_0x48e946;try{const {username:_0x42ecb7,email:_0x739a83,role:_0x2e7d71}=_0x349d07['user'],_0x404e1a=_0x349d07[_0x57ba81(0x20f)],_0x42db87=await profile[_0x57ba81(0x1bc)]({'email':_0x404e1a[_0x57ba81(0x25d)]}),_0x1fec6b=await master_shop['find'](),_0x1fb7a0=_0x349d07['params']['id'],_0x4e4dfa=await sales['findById'](_0x1fb7a0),_0x43493b=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x3ce6e1;_0x3ce6e1=_0x57ba81(0x1fa);_0x4e4dfa[_0x57ba81(0x1d4)]=='True'&&(_0x3ce6e1=_0x57ba81(0x1f3));_0x56c5b3['setHeader'](_0x57ba81(0x246),_0x57ba81(0x1a5)+_0x1fb7a0+_0x57ba81(0x1dd)),_0x56c5b3[_0x57ba81(0x225)]('Content-type',_0x57ba81(0x19c));var _0x3f6ec9=0x14,_0x3fc6ba=0x64;_0x43493b[_0x57ba81(0x250)](_0x56c5b3),_0x43493b[_0x57ba81(0x24c)](_0x57ba81(0x1da)+_0x1fec6b[0x0][_0x57ba81(0x24c)],0x14,0x0,{'fit':[0x64,0x64]}),_0x43493b[_0x57ba81(0x20e)](0x14)[_0x57ba81(0x1af)](_0x57ba81(0x217),_0x3f6ec9,_0x3fc6ba),_0x43493b[_0x57ba81(0x20e)](0xa)['text'](_0x57ba81(0x204),_0x3f6ec9,_0x3fc6ba+=0xf),_0x43493b['fontSize'](0xf)[_0x57ba81(0x1af)](_0x3ce6e1,_0x3f6ec9,_0x3fc6ba+=0x32),_0x43493b[_0x57ba81(0x20e)](0xa)[_0x57ba81(0x1af)](_0x57ba81(0x19a),_0x3f6ec9,_0x3fc6ba+=0x14),_0x43493b['fontSize'](0x9)[_0x57ba81(0x1af)]('Date\x20',_0x3f6ec9,_0x3fc6ba+=0x19),_0x43493b['fontSize'](0x9)[_0x57ba81(0x1af)]('\x20:\x20'+_0x4e4dfa[_0x57ba81(0x1ab)],_0x3f6ec9+0x3f,_0x3fc6ba),_0x43493b[_0x57ba81(0x20e)](0x9)[_0x57ba81(0x1af)](_0x57ba81(0x20c),_0x3f6ec9,_0x3fc6ba+=0xb),_0x43493b[_0x57ba81(0x20e)](0x9)[_0x57ba81(0x1af)]('\x20:\x20'+_0x4e4dfa[_0x57ba81(0x1c2)],_0x3f6ec9+0x3f,_0x3fc6ba);const _0x1cfed2={'headers':[{'label':_0x57ba81(0x230),'property':_0x57ba81(0x211),'align':_0x57ba81(0x1e7),'width':0x2d,'renderer':null},{'label':'MATERIAL\x20DESCRIPTION','property':'itemdescription','align':'center','width':0x64,'renderer':null},{'label':'REQUESTED\x20QUANTITY','property':_0x57ba81(0x236),'align':_0x57ba81(0x1e7),'width':0x28,'renderer':null},{'label':_0x57ba81(0x1c8),'property':_0x57ba81(0x1fc),'align':_0x57ba81(0x1e7),'width':0x28,'renderer':null},{'label':'UOM','property':_0x57ba81(0x1ea),'align':'center','width':0x28,'renderer':null},{'label':'LOCATION','property':_0x57ba81(0x1a3),'align':_0x57ba81(0x1e7),'width':0x32,'renderer':null},{'label':_0x57ba81(0x1c4),'property':_0x57ba81(0x248),'align':_0x57ba81(0x1e7),'width':0x3c,'renderer':null},{'label':_0x57ba81(0x261),'property':_0x57ba81(0x1b0),'align':'center','width':0x3c,'renderer':null},{'label':_0x57ba81(0x22a),'property':_0x57ba81(0x1d6),'align':'center','width':0x3f,'renderer':null},{'label':'DELIVERY\x20CODE','property':'del_code','align':_0x57ba81(0x1e7),'width':0x3f,'renderer':null}],'datas':[]};var _0x9b435f=0x0;let _0x137995='';var _0x5d8c43=0x0,_0x3f6ec9=0x1;_0x4e4dfa['sale_product'][_0x57ba81(0x228)](_0x35c7f6=>{const _0xc41f02=_0x57ba81,_0x1875c8=new Date(_0x35c7f6[_0xc41f02(0x1d5)]),_0x59034d={'year':_0xc41f02(0x1db),'month':_0xc41f02(0x219),'day':'numeric'},_0x24dca5=_0x1875c8['toLocaleDateString'](_0xc41f02(0x1a2),_0x59034d),_0x4d756d=new Date(_0x35c7f6[_0xc41f02(0x1ef)]),_0xb2b53d={'year':_0xc41f02(0x1db),'month':_0xc41f02(0x219),'day':_0xc41f02(0x1db)},_0x230fd3=_0x4d756d[_0xc41f02(0x22d)](_0xc41f02(0x1a2),_0xb2b53d),_0x958733=new Date(_0x35c7f6['delivery_date']),_0x2fd073={'year':'numeric','month':'short','day':_0xc41f02(0x1db)};var _0x514fe3=_0x958733[_0xc41f02(0x22d)](_0xc41f02(0x1a2),_0x2fd073);typeof _0x35c7f6['delivery_date']=='undefined'&&(_0x514fe3='');const _0x29058f={'itemcode':_0x35c7f6['product_code'],'itemdescription':_0x35c7f6[_0xc41f02(0x221)],'rqty':_0x35c7f6[_0xc41f02(0x1c9)],'iqty':_0x35c7f6['quantity'],'unit':_0x35c7f6[_0xc41f02(0x1ea)],'blocation':_0x35c7f6[_0xc41f02(0x24b)]+_0x35c7f6['rack']+_0x35c7f6[_0xc41f02(0x232)]+_0x35c7f6[_0xc41f02(0x231)]+_0x35c7f6['type'][0x0]+_0x35c7f6[_0xc41f02(0x206)],'proddate':_0x24dca5,'expdate':_0x230fd3,'del_date':_0x514fe3,'del_code':_0x35c7f6[_0xc41f02(0x25e)]};_0x3f6ec9++,_0x1cfed2[_0xc41f02(0x260)][_0xc41f02(0x253)](_0x29058f);}),_0x43493b[_0x57ba81(0x25c)](_0x1cfed2,{'x':_0x3f6ec9+0x11,'y':_0x3fc6ba+=0x1e,'prepareHeader':()=>_0x43493b['font']('Helvetica-Bold')[_0x57ba81(0x20e)](6.5),'prepareRow':(_0x2ff3ce,_0x75ba0d,_0x54cf78,_0x3adfe1,_0x2a5b05)=>{const _0x3396fa=_0x57ba81,{x:_0x30290b,y:_0x4e38e2,width:_0x4d4de7,height:_0xe94844}=_0x2a5b05;_0x43493b[_0x3396fa(0x23a)](_0x3396fa(0x24a))['fontSize'](0x8),_0x43493b['lineWidth'](0.5)[_0x3396fa(0x242)](_0x30290b,_0x4e38e2)[_0x3396fa(0x1c1)](_0x30290b,_0x4e38e2+_0xe94844)['stroke']();}});var _0x25b91b=_0x43493b['y'],_0x59ae3b=_0x43493b['x'],_0x28780f=_0x25b91b-=0x8;_0x43493b[_0x57ba81(0x1c0)](0x5),_0x43493b[_0x57ba81(0x24d)](_0x57ba81(0x1bf))[_0x57ba81(0x242)](0x240,_0x28780f)[_0x57ba81(0x1c1)](0x11,_0x28780f)[_0x57ba81(0x1be)](),_0x43493b[_0x57ba81(0x20e)](0xa)[_0x57ba81(0x1af)](_0x57ba81(0x1e9),_0x59ae3b+0x7d,_0x25b91b+=0xf),_0x43493b['fontSize'](0xb)[_0x57ba81(0x1af)](_0x57ba81(0x203),_0x59ae3b,_0x25b91b+=0x15e),_0x43493b[_0x57ba81(0x20e)](0xa)['text'](_0x57ba81(0x265),_0x59ae3b+0x52,_0x25b91b,{'underline':!![]}),_0x43493b[_0x57ba81(0x20e)](0xa)['text'](_0x57ba81(0x1b2),_0x59ae3b,_0x25b91b+=0x19),_0x43493b[_0x57ba81(0x20e)](0xa)[_0x57ba81(0x1af)](_0x57ba81(0x20d),_0x59ae3b+0x4b,_0x25b91b),_0x43493b[_0x57ba81(0x20e)](0xa)[_0x57ba81(0x1af)]('\x20'[_0x57ba81(0x1b4)](0x3c),_0x59ae3b+0x50,_0x25b91b,{'underline':!![]}),_0x43493b[_0x57ba81(0x20e)](0xa)[_0x57ba81(0x1af)](_0x57ba81(0x1e8),_0x59ae3b,_0x25b91b+=0x32),_0x43493b[_0x57ba81(0x20e)](0xa)[_0x57ba81(0x1af)](_0x57ba81(0x20d),_0x59ae3b+0x4b,_0x25b91b),_0x43493b['fontSize'](0xa)[_0x57ba81(0x1af)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x59ae3b+0x50,_0x25b91b,{'underline':!![]}),_0x43493b[_0x57ba81(0x20e)](0xa)['text']('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x59ae3b+0x50,_0x25b91b+0xc);let _0x9bcc8a=_0x43493b[_0x57ba81(0x25b)]();for(let _0x1785f2=0x0;_0x1785f2<_0x9bcc8a[_0x57ba81(0x1cd)];_0x1785f2++){_0x43493b[_0x57ba81(0x1ad)](_0x1785f2);let _0x5df11d=_0x43493b[_0x57ba81(0x245)][_0x57ba81(0x1f5)][_0x57ba81(0x1ec)];_0x43493b[_0x57ba81(0x245)][_0x57ba81(0x1f5)][_0x57ba81(0x1ec)]=0x0,_0x43493b[_0x57ba81(0x1af)](_0x57ba81(0x1d0)+(_0x1785f2+0x1)+_0x57ba81(0x1d8)+_0x9bcc8a['count'],0x0,_0x43493b[_0x57ba81(0x245)]['height']-_0x5df11d/0x2,{'align':_0x57ba81(0x1e7)}),_0x43493b[_0x57ba81(0x245)]['margins'][_0x57ba81(0x1ec)]=_0x5df11d;}const _0x30851b=_0x43493b['y'],_0x292520=_0x43493b['x'];_0x43493b['end']();}catch(_0x3867d4){console[_0x57ba81(0x224)](_0x3867d4),_0x56c5b3['status'](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get'](a0_0x48e946(0x197),auth,async(_0x17a055,_0x2b60f3)=>{const _0x4b379c=a0_0x48e946;try{const {username:_0x56f330,email:_0x1a10c5,role:_0x4534d4}=_0x17a055[_0x4b379c(0x20f)],_0x5d3e32=_0x17a055['user'],_0x3caaa3=await profile[_0x4b379c(0x1bc)]({'email':_0x5d3e32[_0x4b379c(0x25d)]}),_0x39e037=await master_shop['find'](),_0xad007c=_0x17a055[_0x4b379c(0x1c3)]['id'],_0x256187=await adjustment[_0x4b379c(0x19f)](_0xad007c);var _0x1d60c8,_0x131068;_0x1d60c8=_0x4b379c(0x1fa),_0x131068=_0x4b379c(0x25f);_0x256187['finalize']==_0x4b379c(0x1e6)&&(_0x1d60c8='INVENTORY\x20ADJUSTMENT',_0x131068='');const _0x4ef720=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2b60f3[_0x4b379c(0x225)](_0x4b379c(0x246),_0x4b379c(0x1a5)+_0xad007c+_0x4b379c(0x1dd)),_0x2b60f3[_0x4b379c(0x225)](_0x4b379c(0x1e0),'application/pdf');var _0x3ba3eb=0x14,_0x3066d0=0x3c;_0x4ef720['pipe'](_0x2b60f3),_0x4ef720[_0x4b379c(0x24c)](_0x4b379c(0x1da)+_0x39e037[0x0][_0x4b379c(0x24c)],0x14,0x0,{'fit':[0x64,0x64]}),_0x4ef720['fontSize'](0x14)[_0x4b379c(0x1af)](_0x4b379c(0x217),_0x3ba3eb,_0x3066d0),_0x4ef720[_0x4b379c(0x20e)](0xa)[_0x4b379c(0x1af)](_0x4b379c(0x204),_0x3ba3eb,_0x3066d0+=0xf),_0x4ef720[_0x4b379c(0x20e)](0xf)[_0x4b379c(0x1af)](_0x1d60c8,_0x3ba3eb,_0x3066d0+=0x32),_0x4ef720[_0x4b379c(0x20e)](0xa)[_0x4b379c(0x1af)](_0x131068,_0x3ba3eb,_0x3066d0+=0x14),_0x4ef720[_0x4b379c(0x20e)](0x9)[_0x4b379c(0x1af)]('Warehouse\x20',_0x3ba3eb,_0x3066d0+=0x28),_0x4ef720[_0x4b379c(0x20e)](0x9)[_0x4b379c(0x1af)](_0x4b379c(0x20d)+_0x256187[_0x4b379c(0x235)],_0x3ba3eb+0x3f,_0x3066d0),_0x4ef720[_0x4b379c(0x20e)](0x9)[_0x4b379c(0x1af)](_0x4b379c(0x205),_0x3ba3eb,_0x3066d0+=0xb),_0x4ef720[_0x4b379c(0x20e)](0x9)[_0x4b379c(0x1af)](_0x4b379c(0x20d)+_0x256187[_0x4b379c(0x1ab)],_0x3ba3eb+0x3f,_0x3066d0),_0x4ef720[_0x4b379c(0x20e)](0x9)['text'](_0x4b379c(0x1e4),_0x3ba3eb,_0x3066d0+=0xb),_0x4ef720[_0x4b379c(0x20e)](0x9)[_0x4b379c(0x1af)](_0x4b379c(0x20d)+_0x256187[_0x4b379c(0x1c2)],_0x3ba3eb+0x3f,_0x3066d0);const _0x408908={'headers':[{'label':_0x4b379c(0x21f),'property':_0x4b379c(0x211),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x4b379c(0x1f4),'width':0x96,'renderer':null},{'label':_0x4b379c(0x22c),'property':_0x4b379c(0x220),'width':0x3c,'renderer':null},{'label':_0x4b379c(0x257),'property':_0x4b379c(0x1ea),'width':0x3c,'renderer':null},{'label':_0x4b379c(0x1e3),'property':_0x4b379c(0x248),'width':0x50,'renderer':null},{'label':_0x4b379c(0x267),'property':_0x4b379c(0x1aa),'width':0x3f,'renderer':null},{'label':_0x4b379c(0x218),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x57bd77=0x0,_0x4ed230=0x0;_0x256187[_0x4b379c(0x252)]['forEach'](_0x44105b=>{const _0x339450=_0x4b379c;let _0x16483e='';const _0x579b30=_0x44105b[_0x339450(0x1ba)];for(let _0x530804=0x1;_0x530804<=_0x579b30;_0x530804++){_0x579b30==_0x530804?_0x16483e+=_0x44105b[_0x339450(0x1ae)]:_0x16483e+=_0x44105b['maxperunit']+',',_0x4ed230+=_0x44105b[_0x339450(0x1ae)];}_0x16483e+=_0x339450(0x1f2)+_0x44105b[_0x339450(0x1b7)];const _0x3f1d0a={'itemcode':_0x44105b['product_code'],'itemdescription':_0x44105b[_0x339450(0x221)],'qty':_0x44105b[_0x339450(0x24f)],'unit':_0x44105b[_0x339450(0x1ea)],'proddate':_0x44105b[_0x339450(0x1d5)],'batchno':_0x44105b[_0x339450(0x251)],'binloc':_0x44105b['storage']+_0x44105b[_0x339450(0x1cc)]+_0x44105b['bay']+_0x44105b[_0x339450(0x231)]+_0x44105b['type'][0x0]+_0x44105b[_0x339450(0x206)]};_0x57bd77+=_0x44105b[_0x339450(0x24f)],_0x408908[_0x339450(0x260)][_0x339450(0x253)](_0x3f1d0a);}),_0x4ef720[_0x4b379c(0x25c)](_0x408908,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x4ef720[_0x4b379c(0x23a)](_0x4b379c(0x259))[_0x4b379c(0x20e)](0x8),'prepareRow':(_0x37ff9c,_0x4519c4,_0x9128cc,_0x2a1dd1)=>_0x4ef720[_0x4b379c(0x23a)](_0x4b379c(0x24a))[_0x4b379c(0x20e)](0x8)});var _0x303161=_0x4ef720['y'],_0x4f6f9d=_0x4ef720['x'];_0x4ef720[_0x4b379c(0x20e)](0xa)[_0x4b379c(0x1af)](_0x4b379c(0x1e9),_0x4f6f9d+0x7d,_0x303161),_0x4ef720[_0x4b379c(0x20e)](0xa)[_0x4b379c(0x1af)]('TOTAL\x20QTY\x20:\x20',_0x4f6f9d,_0x303161+=0x136),_0x4ef720[_0x4b379c(0x20e)](0xa)[_0x4b379c(0x1af)](_0x57bd77,_0x4f6f9d+0xc8,_0x303161),_0x4ef720[_0x4b379c(0x20e)](0xa)['text'](_0x4b379c(0x23d),_0x4f6f9d,_0x303161+=0x19),_0x4ef720[_0x4b379c(0x20e)](0xa)[_0x4b379c(0x1af)]('\x20'[_0x4b379c(0x1b4)](0x3c),_0x4f6f9d+0x3e,_0x303161,{'underline':!![]}),_0x4ef720[_0x4b379c(0x20e)](0xa)['text'](_0x4b379c(0x193),_0x4f6f9d,_0x303161+=0x32),_0x4ef720['fontSize'](0xa)[_0x4b379c(0x1af)](_0x4b379c(0x20d),_0x4f6f9d+0x37,_0x303161),_0x4ef720[_0x4b379c(0x20e)](0xa)[_0x4b379c(0x1af)](_0x4b379c(0x237),_0x4f6f9d+0x3c,_0x303161,{'underline':!![]}),_0x4ef720[_0x4b379c(0x20e)](0xa)[_0x4b379c(0x1af)](_0x4b379c(0x25a),_0x4f6f9d+0x3c,_0x303161+0xc);let _0x1c19db=_0x4ef720[_0x4b379c(0x25b)]();for(let _0x4d89ac=0x0;_0x4d89ac<_0x1c19db[_0x4b379c(0x1cd)];_0x4d89ac++){_0x4ef720['switchToPage'](_0x4d89ac);let _0x290099=_0x4ef720[_0x4b379c(0x245)][_0x4b379c(0x1f5)][_0x4b379c(0x1ec)];_0x4ef720['page'][_0x4b379c(0x1f5)][_0x4b379c(0x1ec)]=0x0,_0x4ef720[_0x4b379c(0x1af)](_0x4b379c(0x1d0)+(_0x4d89ac+0x1)+'\x20of\x20'+_0x1c19db[_0x4b379c(0x1cd)],0x0,_0x4ef720[_0x4b379c(0x245)][_0x4b379c(0x1eb)]-_0x290099/0x2,{'align':_0x4b379c(0x1e7)}),_0x4ef720[_0x4b379c(0x245)]['margins']['bottom']=_0x290099;}const _0x2359f4=_0x4ef720['y'],_0x116828=_0x4ef720['x'];_0x4ef720[_0x4b379c(0x1a8)]();}catch(_0x266e55){console[_0x4b379c(0x224)](_0x266e55),_0x2b60f3[_0x4b379c(0x1fb)](0x1f4)[_0x4b379c(0x23f)](_0x4b379c(0x1c6));}}),router['get'](a0_0x48e946(0x234),auth,async(_0x25be67,_0x3174e5)=>{const _0x1f799e=a0_0x48e946;try{const {username:_0x31410d,email:_0x26f9e7,role:_0x363a68}=_0x25be67[_0x1f799e(0x20f)],_0x3d0e3b=_0x25be67[_0x1f799e(0x20f)],_0x409572=await profile[_0x1f799e(0x1bc)]({'email':_0x3d0e3b[_0x1f799e(0x25d)]}),_0x104434=await master_shop[_0x1f799e(0x216)](),_0x29ccac=_0x25be67[_0x1f799e(0x1c3)]['id'],_0x2629af=await transfers['findById'](_0x29ccac);var _0x2501b3,_0x200c4e;_0x2501b3=_0x1f799e(0x201),_0x200c4e='(STOCKS\x20TRANSFER)';_0x2629af[_0x1f799e(0x1d4)]==_0x1f799e(0x1e6)&&(_0x2501b3='STOCKS\x20TRANSFER',_0x200c4e='');const _0x4d8b30=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3174e5[_0x1f799e(0x225)](_0x1f799e(0x246),_0x1f799e(0x1a5)+_0x29ccac+'.pdf\x22'),_0x3174e5['setHeader'](_0x1f799e(0x1e0),_0x1f799e(0x19c));var _0x5b8f24=0x14,_0x43c88f=0x3c;_0x4d8b30['pipe'](_0x3174e5),_0x4d8b30[_0x1f799e(0x24c)]('./public/upload/'+_0x104434[0x0][_0x1f799e(0x24c)],0x14,0x0,{'fit':[0x64,0x64]}),_0x4d8b30[_0x1f799e(0x20e)](0x14)[_0x1f799e(0x1af)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x5b8f24,_0x43c88f),_0x4d8b30[_0x1f799e(0x20e)](0xa)['text'](_0x1f799e(0x204),_0x5b8f24,_0x43c88f+=0xf),_0x4d8b30[_0x1f799e(0x20e)](0xf)[_0x1f799e(0x1af)](_0x2501b3,_0x5b8f24,_0x43c88f+=0x32),_0x4d8b30[_0x1f799e(0x20e)](0xa)[_0x1f799e(0x1af)](_0x200c4e,_0x5b8f24,_0x43c88f+=0x14),_0x4d8b30[_0x1f799e(0x20e)](0x9)[_0x1f799e(0x1af)](_0x1f799e(0x1c5),_0x5b8f24,_0x43c88f+=0x28),_0x4d8b30[_0x1f799e(0x20e)](0x9)['text'](_0x1f799e(0x22e)+_0x2629af['from_warehouse'],_0x5b8f24+0x3f,_0x43c88f),_0x4d8b30[_0x1f799e(0x20e)](0x9)['text'](_0x1f799e(0x210),_0x5b8f24,_0x43c88f+=0xa),_0x4d8b30['fontSize'](0x9)[_0x1f799e(0x1af)](_0x1f799e(0x22e)+_0x2629af[_0x1f799e(0x1d1)],_0x5b8f24+0x3f,_0x43c88f),_0x4d8b30[_0x1f799e(0x20e)](0x9)[_0x1f799e(0x1af)](_0x1f799e(0x205),_0x5b8f24,_0x43c88f+=0xb),_0x4d8b30[_0x1f799e(0x20e)](0x9)['text'](_0x1f799e(0x22e)+_0x2629af[_0x1f799e(0x1ab)],_0x5b8f24+0x3f,_0x43c88f),_0x4d8b30[_0x1f799e(0x20e)](0x9)[_0x1f799e(0x1af)](_0x1f799e(0x1e4),_0x5b8f24,_0x43c88f+=0xb),_0x4d8b30[_0x1f799e(0x20e)](0x9)[_0x1f799e(0x1af)](_0x1f799e(0x22e)+_0x2629af[_0x1f799e(0x1c2)],_0x5b8f24+0x3f,_0x43c88f);const _0x67baeb={'headers':[{'label':'','property':_0x1f799e(0x211),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x1f799e(0x22f),'property':_0x1f799e(0x211),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x1f799e(0x258),'property':'itemdescription','width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x4d8b30[_0x1f799e(0x25c)](_0x67baeb,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x4d8b30['font']('Helvetica-Bold')['fontSize'](0x8),'prepareRow':(_0xce3b6f,_0x40dd85,_0x11c702,_0x1961a7)=>_0x4d8b30[_0x1f799e(0x23a)](_0x1f799e(0x24a))['fontSize'](0x8)});const _0x5da071={'headers':[{'label':_0x1f799e(0x21f),'property':_0x1f799e(0x211),'width':0x3c,'renderer':null},{'label':_0x1f799e(0x1e2),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x1f799e(0x22c),'property':_0x1f799e(0x220),'width':0x28,'renderer':null},{'label':'UOM','property':_0x1f799e(0x1ea),'width':0x37,'renderer':null},{'label':'Production\x20Date','property':_0x1f799e(0x248),'width':0x4b,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3f,'renderer':null},{'label':_0x1f799e(0x218),'property':_0x1f799e(0x1d9),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x1f799e(0x1ca),'width':0x3f,'renderer':null}],'datas':[]};var _0x20be61=0x0;let _0xc72946='';var _0xa3f8d5=0x0;_0x2629af[_0x1f799e(0x252)][_0x1f799e(0x228)](_0x480dc0=>{const _0x293524=_0x1f799e;var _0x10f7a8=_0x480dc0[_0x293524(0x21b)],_0x37caf8;_0x37caf8=_0x480dc0[_0x293524(0x1ea)];_0x10f7a8=='S'&&(_0x37caf8=_0x480dc0[_0x293524(0x1b7)]);const _0x286f51={'itemcode':_0x480dc0[_0x293524(0x24e)],'itemdescription':_0x480dc0[_0x293524(0x221)],'qty':_0x480dc0[_0x293524(0x1ba)],'unit':_0x37caf8,'proddate':_0x480dc0[_0x293524(0x1d5)],'batchno':_0x480dc0[_0x293524(0x251)],'binloc':_0x480dc0[_0x293524(0x24b)]+_0x480dc0[_0x293524(0x1cc)]+_0x480dc0[_0x293524(0x22b)]+_0x480dc0[_0x293524(0x215)]+_0x480dc0[_0x293524(0x233)][0x0]+_0x480dc0['to_floorlevel'],'qtyFrom':_0x480dc0[_0x293524(0x1dc)],'binlocFrom':_0x480dc0['from_storage']+_0x480dc0[_0x293524(0x1d3)]+_0x480dc0[_0x293524(0x1a7)]+_0x480dc0['from_bin']+_0x480dc0['from_types'][0x0]+_0x480dc0[_0x293524(0x255)]};_0x20be61+=_0x480dc0['to_quantity'],_0x5da071[_0x293524(0x260)][_0x293524(0x253)](_0x286f51);}),_0x4d8b30[_0x1f799e(0x25c)](_0x5da071,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x4d8b30[_0x1f799e(0x23a)](_0x1f799e(0x259))[_0x1f799e(0x20e)](0x8),'prepareRow':(_0x566b1e,_0x441289,_0x195b1a,_0x46cf10)=>_0x4d8b30[_0x1f799e(0x23a)]('Helvetica')['fontSize'](0x8)});var _0x4c0ab0=_0x4d8b30['y'],_0x34127b=_0x4d8b30['x'];_0x4d8b30[_0x1f799e(0x20e)](0xa)[_0x1f799e(0x1af)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x34127b+0x7d,_0x4c0ab0),_0x4d8b30[_0x1f799e(0x20e)](0xa)[_0x1f799e(0x1af)](_0x1f799e(0x247),_0x34127b,_0x4c0ab0+=0x12c),_0x4d8b30['fontSize'](0xa)[_0x1f799e(0x1af)](_0x20be61,_0x34127b+0xd7,_0x4c0ab0,{'underline':!![]}),_0x4d8b30[_0x1f799e(0x20e)](0xa)['text'](_0x1f799e(0x1cf),_0x34127b,_0x4c0ab0+=0x32),_0x4d8b30[_0x1f799e(0x20e)](0xa)[_0x1f799e(0x1af)](_0x1f799e(0x21d),_0x34127b+0x3c,_0x4c0ab0,{'underline':!![]}),_0x4d8b30[_0x1f799e(0x20e)](0xa)['text']('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x34127b+0x3c,_0x4c0ab0+0xc);let _0x448d53=_0x4d8b30[_0x1f799e(0x25b)]();for(let _0x3b34c6=0x0;_0x3b34c6<_0x448d53[_0x1f799e(0x1cd)];_0x3b34c6++){_0x4d8b30[_0x1f799e(0x1ad)](_0x3b34c6);let _0x3779dc=_0x4d8b30[_0x1f799e(0x245)][_0x1f799e(0x1f5)][_0x1f799e(0x1ec)];_0x4d8b30[_0x1f799e(0x245)]['margins'][_0x1f799e(0x1ec)]=0x0,_0x4d8b30[_0x1f799e(0x1af)]('Page:\x20'+(_0x3b34c6+0x1)+_0x1f799e(0x1d8)+_0x448d53[_0x1f799e(0x1cd)],0x0,_0x4d8b30[_0x1f799e(0x245)]['height']-_0x3779dc/0x2,{'align':'center'}),_0x4d8b30[_0x1f799e(0x245)]['margins'][_0x1f799e(0x1ec)]=_0x3779dc;}const _0x56f471=_0x4d8b30['y'],_0x5d8606=_0x4d8b30['x'];_0x4d8b30['end']();}catch(_0x53ecea){console[_0x1f799e(0x224)](_0x53ecea),_0x3174e5[_0x1f799e(0x1fb)](0x1f4)[_0x1f799e(0x23f)](_0x1f799e(0x1c6));}}),router[a0_0x48e946(0x1a1)]('/barcode_generator/',auth,async(_0x1bf0c8,_0x4a556b)=>{const _0x4973cf=a0_0x48e946;try{const _0x7a5f95=_0xef69f4=>_0xef69f4*0x48,_0x529a2d={'width':0x3,'height':0x1},_0x3b6fd1=await product[_0x4973cf(0x216)](),_0x38b748=new PDFDocument({'margin':_0x7a5f95(0.75),'size':[_0x7a5f95(_0x529a2d[_0x4973cf(0x21e)]),_0x7a5f95(_0x529a2d[_0x4973cf(0x1eb)])],'bufferPages':!![]}),_0x25e1a0=_0x3b6fd1[_0x4973cf(0x212)];for(let _0x32cafd=0x0;_0x32cafd<=_0x25e1a0;_0x32cafd++){if(_0x32cafd!=_0x3b6fd1[_0x4973cf(0x212)]){const _0x38a321=_0x3b6fd1[_0x32cafd]['name'],_0xf0b127=_0x3b6fd1[_0x32cafd]['primary_code'],_0x404ead=_0x3b6fd1[_0x32cafd]['secondary_code'],_0x1b41cc=_0x3b6fd1[_0x32cafd]['product_code'],_0x4c74bb=new Canvas();JsBarcode(_0x4c74bb,_0xf0b127,{'format':'CODE128','height':0x32,'displayValue':!![],'text':_0xf0b127}),_0x38b748[_0x4973cf(0x24c)](_0x4c74bb['toBuffer'](),0x0,0x0,{'width':0xd2}),_0x38b748[_0x4973cf(0x1ac)]();}}_0x38b748[_0x4973cf(0x250)](_0x4a556b),_0x38b748[_0x4973cf(0x1a8)]();}catch(_0xffd2c6){console['error'](_0x4973cf(0x263),_0xffd2c6),_0x4a556b[_0x4973cf(0x1fb)](0x1f4)[_0x4973cf(0x23f)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),module[a0_0x48e946(0x198)]=router;