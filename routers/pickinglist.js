function a0_0x2160(_0x29e474,_0x8a7ab4){const _0x17af7f=a0_0x17af();return a0_0x2160=function(_0x216068,_0x3b49ad){_0x216068=_0x216068-0x1f2;let _0x3ca7b9=_0x17af7f[_0x216068];return _0x3ca7b9;},a0_0x2160(_0x29e474,_0x8a7ab4);}const a0_0x3d0a1e=a0_0x2160;function a0_0x17af(){const _0x477793=['DRY\x20GOODS','Checked\x20By\x20\x20\x20:\x20','new_adjust_qty','margins','7XJtoOx','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','itemcode','Supplier\x20:\x20','from_floorlevel','Warehouse\x20:\x20','moveTo','to_types','return_sale_QA','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','finalize','Item\x20Description','7774002DZtpIL','from_warehouse','\x20y:\x20','proddate','5KZbaRq','/pdf_puchases_fin/:id','warehouse_name','type','Control\x20Number\x20','status','short','from_quantity','EXPIRATION\x20DATE','Delivery\x20Code','switchToPage','params','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','height','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(OUTGOING)','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','Customer\x20:\x20','en-US','../models/all_models','Picking\x20List','qty','Batch\x20No','from_rack','From\x20Warehouse\x20','to_floorlevel','./public/upload/','return_sale','count','product_name','Date\x20','log','bufferedPageRange','Item\x20Code','\x20row:\x20','\x20:\x20','itemdescription','True','Pick\x20By\x20:\x20','from_bin','pipe','Warehouse\x20','warehouse_cat','batchno','setHeader','/pdf_sales_return_fin/:id','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','fontSize','return_qty','find','jsbarcode','ITEM\x20CODE','unit','UOM','Checked\x20By\x20','length','datas','lineWidth','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','end','email','\x20/\x20','name','Page:\x20','Bin\x20Location','ToWarehouse','to_bin','STOCKS\x20TRANSFER','del_date','\x20<>\x20','inline;\x20filename=\x22OUT-','5770nNzkfr','send','Content-disposition','\x20\x20\x20:\x20','/PDF_transfer_rm/:id','font','bottom','Expiration\x20Date','Router','stroke','expdate','expiry_date','TOTAL\x20QTY:\x20','date','4411VHeqBP','maxPerUnit','secondary_code','undefined','text','addPage','product','repeat','POnumber','../public/language/languages.json','Date\x20:\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','to_warehouse','customer','quantity','Production\x20Date','xlsx','Checked\x20By:\x20','/barcode_generator/','prod_cat','REQUESTED\x20QUANTITY','error','(INVENTORY\x20ADJUSTMENT)','/pdf_puchases/:id','Finished\x20Good\x20Warehouse\x20Supervisor','page','Content-type','findById','floorlevel','image','center','PRODUCTION\x20DATE','maxperunit','canvas','bay','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','primary_code','application/pdf','INVENTORY\x20ADJUSTMENT','\x20\x20TO','standard_unit','.pdf\x22','405894uAxsPM','6073448MdAGOm','1255167MBjwvK','DELIVERY\x20CODE','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(INCOMING)','user','width','get','production_date','10ZIbASA','storage','invoice','lineTo','x:\x20','To\x20Warehouse\x20','delivery_code','batch_code','numeric','push','Control\x20Number\x20:\x20','\x20of\x20','Helvetica','findOne','Picked\x20By\x20\x20\x20:\x20','CODE128','to_bay','table','QTY','express','suppliers','/PDF_Sales/:id','multer','butt','Helvetica-Bold','forEach','QUANTITY\x20ISSUED','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','binlocFrom','inline;\x20filename=\x22','REF\x20MRIS#\x20','toLocaleDateString','PICKING\x20LIST','FROZEN\x20GOODS','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Picked\x20By\x20\x20\x20\x20:\x20','adjust_qty','DELIVERY\x20RECEIPT','delivery_date','/PDF_adjustment/:id','358042GCAMvS','\x20\x20\x20\x20\x20TO','secondary_unit','../middleware/auth','(STOCKS\x20TRANSFER)','product_code','Raw\x20Materials\x20Warehouse\x20Supervisor','binloc','Quantity','TOTAL\x20QTY\x20:\x20','3749248Lsgfrh','to_quantity','rack','toBuffer','exceljs','blocation'];a0_0x17af=function(){return _0x477793;};return a0_0x17af();}(function(_0x355bf8,_0x13ed9b){const _0x4ded51=a0_0x2160,_0x259f25=_0x355bf8();while(!![]){try{const _0x34f3b5=-parseInt(_0x4ded51(0x2ad))/0x1*(parseInt(_0x4ded51(0x289))/0x2)+parseInt(_0x4ded51(0x259))/0x3+parseInt(_0x4ded51(0x293))/0x4+-parseInt(_0x4ded51(0x261))/0x5*(-parseInt(_0x4ded51(0x257))/0x6)+parseInt(_0x4ded51(0x29d))/0x7*(-parseInt(_0x4ded51(0x258))/0x8)+parseInt(_0x4ded51(0x2a9))/0x9+parseInt(_0x4ded51(0x21f))/0xa*(-parseInt(_0x4ded51(0x22d))/0xb);if(_0x34f3b5===_0x13ed9b)break;else _0x259f25['push'](_0x259f25['shift']());}catch(_0x5d593d){_0x259f25['push'](_0x259f25['shift']());}}}(a0_0x17af,0x7287a));const express=require(a0_0x3d0a1e(0x274)),res=require('express/lib/response'),app=express(),router=express[a0_0x3d0a1e(0x227)](),multer=require(a0_0x3d0a1e(0x277)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x3d0a1e(0x2c0)),auth=require(a0_0x3d0a1e(0x28c)),users=require(a0_0x3d0a1e(0x236)),excelJS=require(a0_0x3d0a1e(0x297)),xlsx=require(a0_0x3d0a1e(0x23d)),PDFDocument=require('pdfkit-table'),fs=require('fs'),blobStream=require('blob-stream'),JsBarcode=require(a0_0x3d0a1e(0x20a)),{Canvas}=require(a0_0x3d0a1e(0x24e));router[a0_0x3d0a1e(0x25f)]('/PDF/:id',auth,async(_0x4f5cb7,_0x5f067c)=>{const _0x686c72=a0_0x3d0a1e;try{const {username:_0x1e9161,email:_0x285198,role:_0x45fe63}=_0x4f5cb7['user'],_0x34691d=_0x4f5cb7[_0x686c72(0x25d)],_0x127394=await profile[_0x686c72(0x26e)]({'email':_0x34691d[_0x686c72(0x214)]}),_0x1d029d=await master_shop[_0x686c72(0x209)](),_0x2c7084=_0x4f5cb7[_0x686c72(0x2b8)]['id'],_0x1c5788=await sales_finished[_0x686c72(0x248)](_0x2c7084);var _0x5ef74f;_0x5ef74f=_0x686c72(0x281);_0x1c5788['finalize']==_0x686c72(0x1fd)&&(_0x5ef74f=_0x686c72(0x286));const _0x2b5d75=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5f067c[_0x686c72(0x204)]('Content-disposition',_0x686c72(0x27e)+_0x1c5788[_0x686c72(0x263)]+_0x686c72(0x256)),_0x5f067c[_0x686c72(0x204)](_0x686c72(0x247),_0x686c72(0x252));var _0x5d9aa4=0x14,_0x1d6e09=0x3c;_0x2b5d75[_0x686c72(0x200)](_0x5f067c),_0x2b5d75[_0x686c72(0x24a)]('./public/upload/'+_0x1d029d[0x0][_0x686c72(0x24a)],0x14,0x0,{'fit':[0x64,0x64]}),_0x2b5d75['fontSize'](0x14)[_0x686c72(0x231)](_0x686c72(0x206),_0x5d9aa4,_0x1d6e09),_0x2b5d75[_0x686c72(0x207)](0xa)[_0x686c72(0x231)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x5d9aa4,_0x1d6e09+=0xf),_0x2b5d75[_0x686c72(0x207)](0xf)[_0x686c72(0x231)](_0x5ef74f,_0x5d9aa4,_0x1d6e09+=0x32),_0x2b5d75['fontSize'](0xa)['text'](_0x686c72(0x2bc),_0x5d9aa4,_0x1d6e09+=0x14),_0x2b5d75[_0x686c72(0x207)](0x9)[_0x686c72(0x231)](_0x686c72(0x201),_0x5d9aa4,_0x1d6e09+=0x28),_0x2b5d75[_0x686c72(0x207)](0x9)[_0x686c72(0x231)](_0x686c72(0x1fb)+_0x1c5788['warehouse_name'],_0x5d9aa4+0x3f,_0x1d6e09),_0x2b5d75['fontSize'](0x9)[_0x686c72(0x231)](_0x686c72(0x2be)+_0x1c5788['customer'],_0x5d9aa4+0x17c,_0x1d6e09,{'underline':!![]}),_0x2b5d75[_0x686c72(0x207)](0x9)[_0x686c72(0x231)](_0x686c72(0x1f6),_0x5d9aa4,_0x1d6e09+=0xb),_0x2b5d75[_0x686c72(0x207)](0x9)[_0x686c72(0x231)](_0x686c72(0x1fb)+_0x1c5788[_0x686c72(0x22c)],_0x5d9aa4+0x3f,_0x1d6e09),_0x2b5d75['fontSize'](0x9)['text'](_0x686c72(0x2b1),_0x5d9aa4,_0x1d6e09+=0xb),_0x2b5d75[_0x686c72(0x207)](0x9)[_0x686c72(0x231)]('\x20:\x20'+_0x1c5788[_0x686c72(0x263)],_0x5d9aa4+0x3f,_0x1d6e09);const _0x304fae={'headers':[{'label':_0x686c72(0x1f9),'property':_0x686c72(0x29f),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0xa5,'renderer':null},{'label':_0x686c72(0x291),'property':_0x686c72(0x2c2),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x686c72(0x20c),'width':0x3c,'renderer':null},{'label':_0x686c72(0x23c),'property':_0x686c72(0x2ac),'width':0x50,'renderer':null},{'label':_0x686c72(0x2c3),'property':_0x686c72(0x203),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x686c72(0x290),'width':0x3f,'renderer':null}],'datas':[]};var _0x581b70=0x0;let _0x57edc6='';var _0x21ba8=0x0;_0x1c5788[_0x686c72(0x2af)]==_0x686c72(0x299)?_0x57edc6='DG':_0x57edc6='FG';var _0x3786af=0x0;_0x1c5788['sale_product']['forEach'](_0x4270cc=>{const _0x8adadc=_0x686c72;console[_0x8adadc(0x1f7)](_0x4270cc);let _0x599341='';const _0xa2aae=_0x4270cc[_0x8adadc(0x23b)];for(let _0x1056e2=0x1;_0x1056e2<=_0xa2aae;_0x1056e2++){_0xa2aae==_0x1056e2?_0x599341+=_0x4270cc[_0x8adadc(0x24d)]:_0x599341+=_0x4270cc[_0x8adadc(0x24d)]+',',_0x21ba8+=_0x4270cc['maxperunit'];}_0x599341+=_0x8adadc(0x215)+_0x4270cc['secondary_unit'];const _0xbd34b={'itemcode':_0x4270cc['product_code'],'itemdescription':_0x4270cc[_0x8adadc(0x1f5)],'qty':_0x4270cc[_0x8adadc(0x23b)],'unit':_0x4270cc[_0x8adadc(0x20c)],'proddate':_0x4270cc[_0x8adadc(0x260)],'batchno':_0x4270cc[_0x8adadc(0x268)],'binloc':_0x57edc6+_0x4270cc[_0x8adadc(0x24f)]};_0x581b70+=_0x4270cc[_0x8adadc(0x23b)],_0x3786af+=0x1,_0x304fae[_0x8adadc(0x210)][_0x8adadc(0x26a)](_0xbd34b);}),_0x2b5d75[_0x686c72(0x272)](_0x304fae,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x2b5d75['font'](_0x686c72(0x279))[_0x686c72(0x207)](0x8),'prepareRow':(_0x5add13,_0x28ed00,_0x179968,_0x35d275)=>_0x2b5d75[_0x686c72(0x224)](_0x686c72(0x26d))[_0x686c72(0x207)](0x8)});var _0x7c1ac8=_0x2b5d75['y'],_0x559607=_0x2b5d75['x'];_0x2b5d75[_0x686c72(0x207)](0xa)[_0x686c72(0x231)](_0x686c72(0x2bd),_0x559607+0x7d,_0x7c1ac8),console[_0x686c72(0x1f7)](_0x686c72(0x265)+_0x559607+_0x686c72(0x2ab)+_0x7c1ac8+_0x686c72(0x1fa)+_0x3786af);const _0x26f66a=_0x559607*_0x3786af;_0x2b5d75[_0x686c72(0x207)](0xa)['text'](_0x686c72(0x22b),_0x559607,_0x7c1ac8+=0x15e-_0x26f66a),_0x2b5d75[_0x686c72(0x207)](0xa)[_0x686c72(0x231)](_0x581b70,_0x559607+0xdc,_0x7c1ac8,{'underline':!![]}),_0x2b5d75[_0x686c72(0x207)](0xa)[_0x686c72(0x231)](_0x686c72(0x26f),_0x559607,_0x7c1ac8+=0x19),_0x2b5d75[_0x686c72(0x207)](0xa)[_0x686c72(0x231)]('\x20'['repeat'](0x3c),_0x559607+0x3e,_0x7c1ac8,{'underline':!![]}),_0x2b5d75[_0x686c72(0x207)](0xa)['text']('Checked\x20By:\x20',_0x559607,_0x7c1ac8+=0x32),_0x2b5d75[_0x686c72(0x207)](0xa)[_0x686c72(0x231)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x559607+0x3c,_0x7c1ac8,{'underline':!![]}),_0x2b5d75[_0x686c72(0x207)](0xa)['text'](_0x686c72(0x245),_0x559607+0x3c,_0x7c1ac8+0xc);let _0x1af79f=_0x2b5d75[_0x686c72(0x1f8)]();for(let _0xd977ef=0x0;_0xd977ef<_0x1af79f[_0x686c72(0x1f4)];_0xd977ef++){_0x2b5d75[_0x686c72(0x2b7)](_0xd977ef);let _0x27fc4e=_0x2b5d75[_0x686c72(0x246)][_0x686c72(0x29c)][_0x686c72(0x225)];_0x2b5d75['page'][_0x686c72(0x29c)][_0x686c72(0x225)]=0x0,_0x2b5d75[_0x686c72(0x231)](_0x686c72(0x217)+(_0xd977ef+0x1)+_0x686c72(0x26c)+_0x1af79f[_0x686c72(0x1f4)],0x0,_0x2b5d75[_0x686c72(0x246)][_0x686c72(0x2ba)]-_0x27fc4e/0x2,{'align':_0x686c72(0x24b)}),_0x2b5d75[_0x686c72(0x246)][_0x686c72(0x29c)]['bottom']=_0x27fc4e;}const _0x509886=_0x2b5d75['y'],_0xfe61a1=_0x2b5d75['x'];_0x2b5d75[_0x686c72(0x213)]();}catch(_0x530060){console['log'](_0x530060),_0x5f067c[_0x686c72(0x2b2)](0x1f4)[_0x686c72(0x220)](_0x686c72(0x2a6));}}),router['get']('/PDF_transfer/:id',auth,async(_0x366301,_0x4ee243)=>{const _0x37bf2c=a0_0x3d0a1e;try{const {username:_0x4596b5,email:_0x415058,role:_0x38d6f5}=_0x366301[_0x37bf2c(0x25d)],_0x5cf4e8=_0x366301[_0x37bf2c(0x25d)],_0xebbb2a=await profile[_0x37bf2c(0x26e)]({'email':_0x5cf4e8[_0x37bf2c(0x214)]}),_0x30b14d=await master_shop['find'](),_0x40c7b1=_0x366301[_0x37bf2c(0x2b8)]['id'],_0x2a805a=await transfers_finished[_0x37bf2c(0x248)](_0x40c7b1);var _0x575fcb,_0x83d11b;_0x575fcb=_0x37bf2c(0x2c1),_0x83d11b='(STOCKS\x20TRANSFER)';_0x2a805a[_0x37bf2c(0x2a7)]==_0x37bf2c(0x1fd)&&(_0x575fcb=_0x37bf2c(0x21b),_0x83d11b='');const _0x129c22=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4ee243[_0x37bf2c(0x204)](_0x37bf2c(0x221),_0x37bf2c(0x21e)+_0x40c7b1+'.pdf\x22'),_0x4ee243[_0x37bf2c(0x204)](_0x37bf2c(0x247),_0x37bf2c(0x252));var _0xdfe672=0x14,_0x39bef5=0x3c;_0x129c22[_0x37bf2c(0x200)](_0x4ee243),_0x129c22['image'](_0x37bf2c(0x1f2)+_0x30b14d[0x0][_0x37bf2c(0x24a)],0x14,0x0,{'fit':[0x64,0x64]}),_0x129c22[_0x37bf2c(0x207)](0x14)[_0x37bf2c(0x231)](_0x37bf2c(0x206),_0xdfe672,_0x39bef5),_0x129c22[_0x37bf2c(0x207)](0xa)['text'](_0x37bf2c(0x2b9),_0xdfe672,_0x39bef5+=0xf),_0x129c22['fontSize'](0xf)['text'](_0x575fcb,_0xdfe672,_0x39bef5+=0x32),_0x129c22['fontSize'](0xa)[_0x37bf2c(0x231)](_0x83d11b,_0xdfe672,_0x39bef5+=0x14),_0x129c22[_0x37bf2c(0x207)](0x9)[_0x37bf2c(0x231)](_0x37bf2c(0x2c5),_0xdfe672,_0x39bef5+=0x28),_0x129c22['fontSize'](0x9)[_0x37bf2c(0x231)](_0x37bf2c(0x222)+_0x2a805a[_0x37bf2c(0x2aa)],_0xdfe672+0x3f,_0x39bef5),_0x129c22[_0x37bf2c(0x207)](0x9)[_0x37bf2c(0x231)](_0x37bf2c(0x266),_0xdfe672,_0x39bef5+=0xf),_0x129c22[_0x37bf2c(0x207)](0x9)[_0x37bf2c(0x231)](_0x37bf2c(0x222)+_0x2a805a[_0x37bf2c(0x239)],_0xdfe672+0x3f,_0x39bef5),_0x129c22[_0x37bf2c(0x207)](0x9)[_0x37bf2c(0x231)]('Date\x20',_0xdfe672,_0x39bef5+=0xb),_0x129c22[_0x37bf2c(0x207)](0x9)[_0x37bf2c(0x231)]('\x20\x20\x20:\x20'+_0x2a805a[_0x37bf2c(0x22c)],_0xdfe672+0x3f,_0x39bef5),_0x129c22['fontSize'](0x9)[_0x37bf2c(0x231)]('Control\x20Number\x20',_0xdfe672,_0x39bef5+=0xb),_0x129c22['fontSize'](0x9)[_0x37bf2c(0x231)](_0x37bf2c(0x222)+_0x2a805a[_0x37bf2c(0x263)],_0xdfe672+0x3f,_0x39bef5);const _0x243981={'headers':[{'label':'','property':_0x37bf2c(0x29f),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':'\x20\x20FROM','property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x37bf2c(0x254),'property':_0x37bf2c(0x1fc),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x129c22[_0x37bf2c(0x272)](_0x243981,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x129c22[_0x37bf2c(0x224)](_0x37bf2c(0x279))[_0x37bf2c(0x207)](0x8),'prepareRow':(_0x5f5136,_0x4900a0,_0x924114,_0x392d1b)=>_0x129c22[_0x37bf2c(0x224)]('Helvetica')[_0x37bf2c(0x207)](0x8)});const _0x3e676a={'headers':[{'label':_0x37bf2c(0x1f9),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x37bf2c(0x2a8),'property':_0x37bf2c(0x1fc),'width':0x96,'renderer':null},{'label':_0x37bf2c(0x291),'property':_0x37bf2c(0x2c2),'width':0x28,'renderer':null},{'label':_0x37bf2c(0x20d),'property':_0x37bf2c(0x20c),'width':0x37,'renderer':null},{'label':'Production\x20Date','property':_0x37bf2c(0x2ac),'width':0x4b,'renderer':null},{'label':'Batch\x20No','property':_0x37bf2c(0x203),'width':0x3f,'renderer':null},{'label':_0x37bf2c(0x218),'property':_0x37bf2c(0x27d),'width':0x3f,'renderer':null},{'label':_0x37bf2c(0x218),'property':_0x37bf2c(0x290),'width':0x3f,'renderer':null}],'datas':[]};var _0x330a83=0x0;let _0x4cf64b='';var _0x2c7619=0x0;if(_0x2a805a[_0x37bf2c(0x2aa)]==_0x37bf2c(0x299))_0x4cf64b='DG';else _0x2a805a[_0x37bf2c(0x2aa)]==_0x37bf2c(0x282)&&(_0x4cf64b='FG');_0x2a805a[_0x37bf2c(0x233)]['forEach'](_0x3ca10a=>{const _0x1bc623=_0x37bf2c;var _0x4d03ee=_0x3ca10a[_0x1bc623(0x240)],_0x5e03b2,_0x1544a0;_0x5e03b2=_0x3ca10a[_0x1bc623(0x20c)],_0x1544a0=_0x3ca10a[_0x1bc623(0x294)];_0x4d03ee=='S'&&(_0x5e03b2=_0x3ca10a['secondary_unit'],_0x1544a0=_0x3ca10a[_0x1bc623(0x294)]*_0x3ca10a[_0x1bc623(0x22e)]);const _0x53cb90={'itemcode':_0x3ca10a['product_code'],'itemdescription':_0x3ca10a['product_name'],'qty':_0x1544a0,'unit':_0x5e03b2,'proddate':_0x3ca10a[_0x1bc623(0x260)],'batchno':_0x3ca10a[_0x1bc623(0x268)],'binloc':_0x4cf64b+_0x3ca10a[_0x1bc623(0x271)],'qtyFrom':_0x3ca10a[_0x1bc623(0x2b4)],'binlocFrom':_0x4cf64b+_0x3ca10a['from_bay']};_0x330a83+=_0x1544a0,_0x3e676a[_0x1bc623(0x210)][_0x1bc623(0x26a)](_0x53cb90);}),_0x129c22[_0x37bf2c(0x272)](_0x3e676a,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x129c22[_0x37bf2c(0x224)]('Helvetica-Bold')[_0x37bf2c(0x207)](0x8),'prepareRow':(_0x367491,_0x1cb92c,_0x586e5c,_0x21c333)=>_0x129c22[_0x37bf2c(0x224)](_0x37bf2c(0x26d))[_0x37bf2c(0x207)](0x8)});var _0x41fb52=_0x129c22['y'],_0x100bfc=_0x129c22['x'];_0x129c22[_0x37bf2c(0x207)](0xa)[_0x37bf2c(0x231)](_0x37bf2c(0x2bd),_0x100bfc+0x7d,_0x41fb52),_0x129c22[_0x37bf2c(0x207)](0xa)[_0x37bf2c(0x231)]('TOTAL\x20QTY:\x20',_0x100bfc,_0x41fb52+=0x15e),_0x129c22[_0x37bf2c(0x207)](0xa)[_0x37bf2c(0x231)](_0x330a83,_0x100bfc+0xd7,_0x41fb52,{'underline':!![]}),_0x129c22[_0x37bf2c(0x207)](0xa)[_0x37bf2c(0x231)](_0x37bf2c(0x26f),_0x100bfc,_0x41fb52+=0x19),_0x129c22[_0x37bf2c(0x207)](0xa)['text']('\x20'['repeat'](0x3c),_0x100bfc+0x3e,_0x41fb52,{'underline':!![]}),_0x129c22[_0x37bf2c(0x207)](0xa)[_0x37bf2c(0x231)](_0x37bf2c(0x23e),_0x100bfc,_0x41fb52+=0x32),_0x129c22['fontSize'](0xa)[_0x37bf2c(0x231)](_0x37bf2c(0x283),_0x100bfc+0x3c,_0x41fb52,{'underline':!![]}),_0x129c22['fontSize'](0xa)[_0x37bf2c(0x231)](_0x37bf2c(0x245),_0x100bfc+0x3c,_0x41fb52+0xc);let _0x196251=_0x129c22[_0x37bf2c(0x1f8)]();for(let _0x42aa6d=0x0;_0x42aa6d<_0x196251['count'];_0x42aa6d++){_0x129c22['switchToPage'](_0x42aa6d);let _0x4a499a=_0x129c22['page'][_0x37bf2c(0x29c)]['bottom'];_0x129c22[_0x37bf2c(0x246)]['margins']['bottom']=0x0,_0x129c22['text'](_0x37bf2c(0x217)+(_0x42aa6d+0x1)+'\x20of\x20'+_0x196251[_0x37bf2c(0x1f4)],0x0,_0x129c22['page'][_0x37bf2c(0x2ba)]-_0x4a499a/0x2,{'align':_0x37bf2c(0x24b)}),_0x129c22[_0x37bf2c(0x246)]['margins'][_0x37bf2c(0x225)]=_0x4a499a;}const _0x401d96=_0x129c22['y'],_0x30f90f=_0x129c22['x'];_0x129c22['end']();}catch(_0x4ad2ed){console['log'](_0x4ad2ed),_0x4ee243[_0x37bf2c(0x2b2)](0x1f4)[_0x37bf2c(0x220)](_0x37bf2c(0x2a6));}}),router[a0_0x3d0a1e(0x25f)](a0_0x3d0a1e(0x288),auth,async(_0xe5484b,_0x1a8341)=>{const _0x50818e=a0_0x3d0a1e;try{const {username:_0x4f3493,email:_0x147a24,role:_0x20cfba}=_0xe5484b[_0x50818e(0x25d)],_0x587473=_0xe5484b[_0x50818e(0x25d)],_0x4f695c=await profile[_0x50818e(0x26e)]({'email':_0x587473['email']}),_0x3272b7=await master_shop[_0x50818e(0x209)](),_0x250aaa=_0xe5484b['params']['id'],_0x4295ed=await adjustment_finished[_0x50818e(0x248)](_0x250aaa);var _0x37950f,_0x196c19;_0x37950f=_0x50818e(0x281),_0x196c19='(INVENTORY\x20ADJUSTMENT)';_0x4295ed['finalize']==_0x50818e(0x1fd)&&(_0x37950f=_0x50818e(0x253),_0x196c19='');const _0x19a45f=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1a8341[_0x50818e(0x204)](_0x50818e(0x221),_0x50818e(0x21e)+_0x250aaa+_0x50818e(0x256)),_0x1a8341['setHeader']('Content-type',_0x50818e(0x252));var _0x217470=0x14,_0x5c70e5=0x3c;_0x19a45f['pipe'](_0x1a8341),_0x19a45f[_0x50818e(0x24a)](_0x50818e(0x1f2)+_0x3272b7[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x19a45f[_0x50818e(0x207)](0x14)[_0x50818e(0x231)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x217470,_0x5c70e5),_0x19a45f[_0x50818e(0x207)](0xa)[_0x50818e(0x231)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x217470,_0x5c70e5+=0xf),_0x19a45f[_0x50818e(0x207)](0xf)['text'](_0x37950f,_0x217470,_0x5c70e5+=0x32),_0x19a45f['fontSize'](0xa)['text'](_0x196c19,_0x217470,_0x5c70e5+=0x14),_0x19a45f[_0x50818e(0x207)](0x9)[_0x50818e(0x231)](_0x50818e(0x201),_0x217470,_0x5c70e5+=0x28),_0x19a45f['fontSize'](0x9)[_0x50818e(0x231)]('\x20:\x20'+_0x4295ed[_0x50818e(0x2af)],_0x217470+0x3f,_0x5c70e5),_0x19a45f[_0x50818e(0x207)](0x9)[_0x50818e(0x231)](_0x50818e(0x1f6),_0x217470,_0x5c70e5+=0xb),_0x19a45f[_0x50818e(0x207)](0x9)[_0x50818e(0x231)]('\x20:\x20'+_0x4295ed['date'],_0x217470+0x3f,_0x5c70e5),_0x19a45f[_0x50818e(0x207)](0x9)[_0x50818e(0x231)](_0x50818e(0x2b1),_0x217470,_0x5c70e5+=0xb),_0x19a45f[_0x50818e(0x207)](0x9)[_0x50818e(0x231)](_0x50818e(0x1fb)+_0x4295ed[_0x50818e(0x263)],_0x217470+0x3f,_0x5c70e5);const _0x2c8b45={'headers':[{'label':_0x50818e(0x1f9),'property':_0x50818e(0x29f),'width':0x3c,'renderer':null},{'label':_0x50818e(0x2a8),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x50818e(0x291),'property':_0x50818e(0x2c2),'width':0x3c,'renderer':null},{'label':'UOM','property':'unit','width':0x3c,'renderer':null},{'label':_0x50818e(0x23c),'property':_0x50818e(0x2ac),'width':0x50,'renderer':null},{'label':_0x50818e(0x2c3),'property':_0x50818e(0x203),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x31330f=0x0;let _0xdb8835='';var _0x1d98e6=0x0;_0x4295ed[_0x50818e(0x2af)]=='DRY\x20GOODS'?_0xdb8835='DG':_0xdb8835='FG';_0x4295ed['product'][_0x50818e(0x27a)](_0x18dd6e=>{const _0xa523a9=_0x50818e;console[_0xa523a9(0x1f7)](_0x18dd6e);var _0x273667=_0x18dd6e[_0xa523a9(0x240)],_0x1b1943,_0x254af3;_0x1b1943=_0x18dd6e[_0xa523a9(0x20c)],_0x254af3=_0x18dd6e['adjust_qty'];_0x273667=='S'&&(_0x1b1943=_0x18dd6e[_0xa523a9(0x28b)],_0x254af3=_0x18dd6e[_0xa523a9(0x285)]*_0x18dd6e[_0xa523a9(0x22e)]);const _0x30daec={'itemcode':_0x18dd6e[_0xa523a9(0x28e)],'itemdescription':_0x18dd6e[_0xa523a9(0x1f5)],'qty':_0x254af3,'unit':_0x1b1943,'proddate':_0x18dd6e[_0xa523a9(0x260)],'batchno':_0x18dd6e['batch_code'],'binloc':_0xdb8835+_0x18dd6e[_0xa523a9(0x24f)]};_0x31330f+=_0x254af3,_0x2c8b45['datas'][_0xa523a9(0x26a)](_0x30daec);}),_0x19a45f[_0x50818e(0x272)](_0x2c8b45,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x19a45f[_0x50818e(0x224)](_0x50818e(0x279))[_0x50818e(0x207)](0x8),'prepareRow':(_0x2e1225,_0x118b30,_0x53082b,_0x604847)=>_0x19a45f[_0x50818e(0x224)]('Helvetica')['fontSize'](0x8)});var _0x2e211e=_0x19a45f['y'],_0x2f6e1f=_0x19a45f['x'];_0x19a45f[_0x50818e(0x207)](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x2f6e1f+0x7d,_0x2e211e),_0x19a45f[_0x50818e(0x207)](0xa)[_0x50818e(0x231)](_0x50818e(0x292),_0x2f6e1f,_0x2e211e+=0x15e),_0x19a45f[_0x50818e(0x207)](0xa)[_0x50818e(0x231)](_0x31330f,_0x2f6e1f+0xc8,_0x2e211e),_0x19a45f[_0x50818e(0x207)](0xa)['text'](_0x50818e(0x26f),_0x2f6e1f,_0x2e211e+=0x19),_0x19a45f[_0x50818e(0x207)](0xa)[_0x50818e(0x231)]('\x20'['repeat'](0x3c),_0x2f6e1f+0x3e,_0x2e211e,{'underline':!![]}),_0x19a45f['fontSize'](0xa)[_0x50818e(0x231)](_0x50818e(0x20e),_0x2f6e1f,_0x2e211e+=0x32),_0x19a45f['fontSize'](0xa)[_0x50818e(0x231)](_0x50818e(0x1fb),_0x2f6e1f+0x37,_0x2e211e),_0x19a45f[_0x50818e(0x207)](0xa)['text'](_0x50818e(0x283),_0x2f6e1f+0x3c,_0x2e211e,{'underline':!![]}),_0x19a45f['fontSize'](0xa)[_0x50818e(0x231)](_0x50818e(0x245),_0x2f6e1f+0x3c,_0x2e211e+0xc);let _0x1f9b71=_0x19a45f['bufferedPageRange']();for(let _0x1e59e1=0x0;_0x1e59e1<_0x1f9b71[_0x50818e(0x1f4)];_0x1e59e1++){_0x19a45f[_0x50818e(0x2b7)](_0x1e59e1);let _0x471f71=_0x19a45f[_0x50818e(0x246)][_0x50818e(0x29c)][_0x50818e(0x225)];_0x19a45f[_0x50818e(0x246)][_0x50818e(0x29c)][_0x50818e(0x225)]=0x0,_0x19a45f[_0x50818e(0x231)](_0x50818e(0x217)+(_0x1e59e1+0x1)+_0x50818e(0x26c)+_0x1f9b71[_0x50818e(0x1f4)],0x0,_0x19a45f[_0x50818e(0x246)][_0x50818e(0x2ba)]-_0x471f71/0x2,{'align':_0x50818e(0x24b)}),_0x19a45f[_0x50818e(0x246)][_0x50818e(0x29c)]['bottom']=_0x471f71;}const _0x111151=_0x19a45f['y'],_0x127a83=_0x19a45f['x'];_0x19a45f['end']();}catch(_0x8ab8c9){console[_0x50818e(0x1f7)](_0x8ab8c9),_0x1a8341[_0x50818e(0x2b2)](0x1f4)[_0x50818e(0x220)](_0x50818e(0x2a6));}}),router[a0_0x3d0a1e(0x25f)](a0_0x3d0a1e(0x2ae),auth,async(_0x3fafb6,_0x1a78a6)=>{const _0xd7ed81=a0_0x3d0a1e;try{const {username:_0x1e8740,email:_0x4c92bf,role:_0x3b50fb}=_0x3fafb6['user'],_0x3e188d=_0x3fafb6[_0xd7ed81(0x25d)],_0x44f9bf=await profile[_0xd7ed81(0x26e)]({'email':_0x3e188d[_0xd7ed81(0x214)]}),_0x229167=await master_shop['find'](),_0x3cc3fd=_0x3fafb6['params']['id'],_0x1926d3=await purchases_finished[_0xd7ed81(0x248)](_0x3cc3fd),_0x3fc8b5=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1a78a6['setHeader'](_0xd7ed81(0x221),_0xd7ed81(0x21e)+_0x3cc3fd+'.pdf\x22'),_0x1a78a6['setHeader'](_0xd7ed81(0x247),_0xd7ed81(0x252));var _0x3cd141=0x14,_0x1087a2=0x3c;_0x3fc8b5[_0xd7ed81(0x200)](_0x1a78a6),_0x3fc8b5[_0xd7ed81(0x24a)](_0xd7ed81(0x1f2)+_0x229167[0x0][_0xd7ed81(0x24a)],0x14,0x0,{'fit':[0x64,0x64]}),_0x3fc8b5[_0xd7ed81(0x207)](0x14)[_0xd7ed81(0x231)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x3cd141,_0x1087a2),_0x3fc8b5['fontSize'](0xa)[_0xd7ed81(0x231)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x3cd141,_0x1087a2+=0xf),_0x3fc8b5[_0xd7ed81(0x207)](0xf)[_0xd7ed81(0x231)](_0xd7ed81(0x212),_0x3cd141,_0x1087a2+=0x32),_0x3fc8b5['fontSize'](0xa)[_0xd7ed81(0x231)](_0xd7ed81(0x25c),_0x3cd141,_0x1087a2+=0x14),_0x3fc8b5[_0xd7ed81(0x207)](0x9)[_0xd7ed81(0x231)](_0xd7ed81(0x201),_0x3cd141,_0x1087a2+=0x28),_0x3fc8b5[_0xd7ed81(0x207)](0x9)[_0xd7ed81(0x231)]('\x20:\x20'+_0x1926d3[_0xd7ed81(0x2af)],_0x3cd141+0x3f,_0x1087a2),_0x3fc8b5[_0xd7ed81(0x207)](0x9)['text']('FTGS\x20Number\x20:\x20'+_0x1926d3[_0xd7ed81(0x235)],_0x3cd141+0x17c,_0x1087a2),_0x3fc8b5[_0xd7ed81(0x207)](0x9)[_0xd7ed81(0x231)](_0xd7ed81(0x1f6),_0x3cd141,_0x1087a2+=0xb),_0x3fc8b5[_0xd7ed81(0x207)](0x9)[_0xd7ed81(0x231)](_0xd7ed81(0x1fb)+_0x1926d3['date'],_0x3cd141+0x3f,_0x1087a2),_0x3fc8b5[_0xd7ed81(0x207)](0x9)['text'](_0xd7ed81(0x2b1),_0x3cd141,_0x1087a2+=0xb),_0x3fc8b5[_0xd7ed81(0x207)](0x9)[_0xd7ed81(0x231)](_0xd7ed81(0x1fb)+_0x1926d3['invoice'],_0x3cd141+0x3f,_0x1087a2);const _0x492e30={'headers':[{'label':_0xd7ed81(0x1f9),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0xd7ed81(0x2a8),'property':'itemdescription','width':0xc8,'renderer':null},{'label':_0xd7ed81(0x291),'property':'qty','width':0x3c,'renderer':null},{'label':_0xd7ed81(0x20d),'property':_0xd7ed81(0x20c),'width':0x3c,'renderer':null},{'label':_0xd7ed81(0x226),'property':'expdate','width':0x50,'renderer':null},{'label':_0xd7ed81(0x2c3),'property':_0xd7ed81(0x203),'width':0x3f,'renderer':null},{'label':_0xd7ed81(0x218),'property':_0xd7ed81(0x290),'width':0x3f,'renderer':null}],'datas':[]};var _0x9514ef=0x0;let _0x3599af='';_0x1926d3[_0xd7ed81(0x2af)]=='DRY\x20GOODS'?_0x3599af='DG':_0x3599af='FG';_0x1926d3['product'][_0xd7ed81(0x27a)](_0x34beaf=>{const _0x1e7a0a=_0xd7ed81;let _0x580313='';var _0x58abbc=0x0;const _0x238120={'itemcode':_0x34beaf[_0x1e7a0a(0x28e)],'itemdescription':_0x34beaf[_0x1e7a0a(0x1f5)],'qty':_0x34beaf[_0x1e7a0a(0x23b)],'unit':_0x34beaf['standard_unit'],'expdate':_0x34beaf[_0x1e7a0a(0x22a)],'batchno':_0x34beaf['batch_code'],'binloc':_0x3599af+_0x34beaf[_0x1e7a0a(0x24f)]};_0x9514ef+=_0x34beaf[_0x1e7a0a(0x23b)],_0x492e30[_0x1e7a0a(0x210)][_0x1e7a0a(0x26a)](_0x238120);}),_0x3fc8b5[_0xd7ed81(0x272)](_0x492e30,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x3fc8b5[_0xd7ed81(0x224)](_0xd7ed81(0x279))[_0xd7ed81(0x207)](0x8),'prepareRow':(_0xa5af20,_0xeb3b69,_0x921af4,_0x573887)=>_0x3fc8b5[_0xd7ed81(0x224)]('Helvetica')[_0xd7ed81(0x207)](0x8)});var _0x22854f=_0x3fc8b5['y'],_0x83f16e=_0x3fc8b5['x'];_0x3fc8b5['fontSize'](0xa)[_0xd7ed81(0x231)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x83f16e+0x7d,_0x22854f),_0x3fc8b5[_0xd7ed81(0x207)](0xa)['text'](_0xd7ed81(0x22b),_0x83f16e,_0x22854f+=0x15e),_0x3fc8b5['fontSize'](0xa)[_0xd7ed81(0x231)](_0x9514ef,_0x83f16e+0xfa,_0x22854f),_0x3fc8b5[_0xd7ed81(0x207)](0xa)['text'](_0xd7ed81(0x284),_0x83f16e,_0x22854f+=0x19),_0x3fc8b5[_0xd7ed81(0x207)](0xa)[_0xd7ed81(0x231)](_0xd7ed81(0x238),_0x83f16e+0x37,_0x22854f,{'underline':!![]}),_0x3fc8b5[_0xd7ed81(0x207)](0xa)[_0xd7ed81(0x231)]('Check\x20By\x20\x20\x20\x20:\x20',_0x83f16e,_0x22854f+0x32),_0x3fc8b5[_0xd7ed81(0x207)](0xa)[_0xd7ed81(0x231)](_0xd7ed81(0x283),_0x83f16e+0x32,_0x22854f+0x32,{'underline':!![]}),_0x3fc8b5[_0xd7ed81(0x207)](0xa)[_0xd7ed81(0x231)](_0xd7ed81(0x245),_0x83f16e+0x32,_0x22854f+0x3c);let _0x97cafd=_0x3fc8b5['bufferedPageRange']();for(let _0x35091e=0x0;_0x35091e<_0x97cafd[_0xd7ed81(0x1f4)];_0x35091e++){_0x3fc8b5[_0xd7ed81(0x2b7)](_0x35091e);let _0x3c2dd0=_0x3fc8b5[_0xd7ed81(0x246)][_0xd7ed81(0x29c)][_0xd7ed81(0x225)];_0x3fc8b5[_0xd7ed81(0x246)][_0xd7ed81(0x29c)][_0xd7ed81(0x225)]=0x0,_0x3fc8b5[_0xd7ed81(0x231)](_0xd7ed81(0x217)+(_0x35091e+0x1)+_0xd7ed81(0x26c)+_0x97cafd['count'],0x0,_0x3fc8b5[_0xd7ed81(0x246)][_0xd7ed81(0x2ba)]-_0x3c2dd0/0x2,{'align':_0xd7ed81(0x24b)}),_0x3fc8b5['page']['margins'][_0xd7ed81(0x225)]=_0x3c2dd0;}const _0x49469f=_0x3fc8b5['y'],_0x3e82a4=_0x3fc8b5['x'];_0x3fc8b5[_0xd7ed81(0x213)]();}catch(_0x58104d){console[_0xd7ed81(0x1f7)](_0x58104d),_0x1a78a6[_0xd7ed81(0x2b2)](0x1f4)[_0xd7ed81(0x220)](_0xd7ed81(0x2a6));}}),router[a0_0x3d0a1e(0x25f)](a0_0x3d0a1e(0x205),auth,async(_0x3628f4,_0x3710ff)=>{const _0x166e2f=a0_0x3d0a1e;try{const {username:_0x462f4c,email:_0x39c253,role:_0x38d0e5}=_0x3628f4[_0x166e2f(0x25d)],_0x4e9209=_0x3628f4[_0x166e2f(0x25d)],_0xdf9bfc=await profile[_0x166e2f(0x26e)]({'email':_0x4e9209[_0x166e2f(0x214)]}),_0x162ec4=await master_shop[_0x166e2f(0x209)](),_0x39b36d=_0x3628f4[_0x166e2f(0x2b8)]['id'],_0x53de17=await sales_return_finished[_0x166e2f(0x248)](_0x39b36d),_0x2e112f=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3710ff['setHeader'](_0x166e2f(0x221),_0x166e2f(0x21e)+_0x39b36d+'.pdf\x22'),_0x3710ff[_0x166e2f(0x204)](_0x166e2f(0x247),_0x166e2f(0x252));var _0x13462d=0x14,_0x2e3204=0x64;_0x2e112f['pipe'](_0x3710ff),_0x2e112f[_0x166e2f(0x24a)]('./public/upload/'+_0x162ec4[0x0][_0x166e2f(0x24a)],0x14,0x0,{'fit':[0x64,0x64]}),_0x2e112f['fontSize'](0x14)[_0x166e2f(0x231)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x13462d,_0x2e3204),_0x2e112f[_0x166e2f(0x207)](0xa)[_0x166e2f(0x231)](_0x166e2f(0x2b9),_0x13462d,_0x2e3204+=0xf),_0x2e112f['fontSize'](0xf)[_0x166e2f(0x231)](_0x166e2f(0x281),_0x13462d,_0x2e3204+=0x32),_0x2e112f[_0x166e2f(0x207)](0xa)[_0x166e2f(0x231)]('(RETURN)',_0x13462d,_0x2e3204+=0x1e),_0x2e112f[_0x166e2f(0x207)](0x9)[_0x166e2f(0x231)](_0x166e2f(0x2a2)+_0x53de17[_0x166e2f(0x219)],_0x13462d,_0x2e3204+=0x28),_0x2e112f[_0x166e2f(0x207)](0x9)[_0x166e2f(0x231)]('Customer\x20:\x20'+_0x53de17[_0x166e2f(0x23a)],0x190,0xd2,{'underline':!![]}),_0x2e112f[_0x166e2f(0x207)](0x9)[_0x166e2f(0x231)](_0x166e2f(0x1fe),_0x13462d,_0x2e3204+=0xb),_0x2e112f[_0x166e2f(0x207)](0x9)['text'](_0x166e2f(0x237)+_0x53de17['date'],_0x13462d,_0x2e3204+=0xb),_0x2e112f['fontSize'](0x9)[_0x166e2f(0x231)](_0x166e2f(0x26b)+_0x53de17[_0x166e2f(0x263)],_0x13462d,_0x2e3204+=0xb);var _0x31bd6d='',_0x2ac872='',_0xd9b09a=0x0,_0x1c0d14;console[_0x166e2f(0x1f7)](_0x53de17[_0x166e2f(0x202)]);_0x53de17[_0x166e2f(0x202)]=='GS'?(_0x53de17[_0x166e2f(0x2af)]==_0x166e2f(0x299)?warecode='DG':warecode='FG',_0x31bd6d={'headers':[{'label':_0x166e2f(0x1f9),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x166e2f(0x2a8),'property':_0x166e2f(0x1fc),'width':0xc8,'renderer':null},{'label':_0x166e2f(0x291),'property':_0x166e2f(0x2c2),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x166e2f(0x20c),'width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':_0x166e2f(0x229),'width':0x50,'renderer':null},{'label':_0x166e2f(0x2c3),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x166e2f(0x218),'property':_0x166e2f(0x290),'width':0x3f,'renderer':null}],'datas':[]},_0x53de17[_0x166e2f(0x1f3)][_0x166e2f(0x27a)](_0x37cb7c=>{const _0x1733ec=_0x166e2f;let _0x404665='';var _0xee0d43=0x0;_0x2ac872={'itemcode':_0x37cb7c[_0x1733ec(0x28e)],'itemdescription':_0x37cb7c['product_name'],'qty':_0x37cb7c[_0x1733ec(0x208)],'unit':_0x37cb7c[_0x1733ec(0x20c)],'expdate':_0x37cb7c[_0x1733ec(0x22a)],'batchno':_0x37cb7c[_0x1733ec(0x268)],'binloc':warecode+_0x37cb7c[_0x1733ec(0x24f)]},_0xd9b09a+=_0x37cb7c[_0x1733ec(0x208)],console[_0x1733ec(0x1f7)](_0x37cb7c),_0x31bd6d[_0x1733ec(0x210)]['push'](_0x2ac872);})):(_0x31bd6d={'headers':[{'label':_0x166e2f(0x1f9),'property':_0x166e2f(0x29f),'width':0x3c,'renderer':null},{'label':_0x166e2f(0x2a8),'property':'itemdescription','width':0xc8,'renderer':null},{'label':_0x166e2f(0x291),'property':'qty','width':0x3c,'renderer':null},{'label':'UOM','property':_0x166e2f(0x20c),'width':0x3c,'renderer':null},{'label':_0x166e2f(0x226),'property':_0x166e2f(0x229),'width':0x50,'renderer':null},{'label':_0x166e2f(0x2c3),'property':'batchno','width':0x3f,'renderer':null}],'datas':[]},_0x53de17[_0x166e2f(0x2a5)][_0x166e2f(0x27a)](_0x3549bb=>{const _0x676ac=_0x166e2f;let _0x58573f='';var _0x3fceb7=0x0;_0x2ac872={'itemcode':_0x3549bb[_0x676ac(0x28e)],'itemdescription':_0x3549bb[_0x676ac(0x1f5)],'qty':_0x3549bb[_0x676ac(0x208)],'unit':_0x3549bb[_0x676ac(0x20c)],'expdate':_0x3549bb[_0x676ac(0x22a)],'batchno':_0x3549bb['batch_code']},_0xd9b09a+=_0x3549bb[_0x676ac(0x208)],console[_0x676ac(0x1f7)](_0xd9b09a+_0x676ac(0x21d)+_0x3549bb['return_qty']),_0x31bd6d[_0x676ac(0x210)][_0x676ac(0x26a)](_0x2ac872);}));_0x2e112f[_0x166e2f(0x272)](_0x31bd6d,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x2e112f[_0x166e2f(0x224)](_0x166e2f(0x279))[_0x166e2f(0x207)](0x8),'prepareRow':(_0x521db8,_0x21357c,_0x2a0dab,_0x23590f)=>_0x2e112f[_0x166e2f(0x224)](_0x166e2f(0x26d))[_0x166e2f(0x207)](0x8)});var _0x28863c=_0x2e112f['y'],_0x5b90cb=_0x2e112f['x'];_0x2e112f[_0x166e2f(0x207)](0xa)[_0x166e2f(0x231)](_0x166e2f(0x2bd),_0x5b90cb+0x7d,_0x28863c),_0x2e112f[_0x166e2f(0x207)](0xa)[_0x166e2f(0x231)](_0x166e2f(0x22b),_0x5b90cb,_0x28863c+=0x190),_0x2e112f['fontSize'](0xa)[_0x166e2f(0x231)](_0xd9b09a,_0x5b90cb+0x37,_0x28863c,{'underline':!![]}),_0x2e112f['fontSize'](0xa)[_0x166e2f(0x231)]('Check\x20By:\x20',_0x5b90cb,_0x28863c+0x1e),_0x2e112f['fontSize'](0xa)[_0x166e2f(0x231)]('ARMAN\x20CRUZ',_0x5b90cb+0x32,_0x28863c+0x1e,{'underline':!![]});let _0x43072d=_0x2e112f[_0x166e2f(0x1f8)]();for(let _0x7df839=0x0;_0x7df839<_0x43072d[_0x166e2f(0x1f4)];_0x7df839++){_0x2e112f[_0x166e2f(0x2b7)](_0x7df839);let _0x1db212=_0x2e112f[_0x166e2f(0x246)][_0x166e2f(0x29c)][_0x166e2f(0x225)];_0x2e112f[_0x166e2f(0x246)]['margins'][_0x166e2f(0x225)]=0x0,_0x2e112f[_0x166e2f(0x231)](_0x166e2f(0x217)+(_0x7df839+0x1)+_0x166e2f(0x26c)+_0x43072d['count'],0x0,_0x2e112f[_0x166e2f(0x246)][_0x166e2f(0x2ba)]-_0x1db212/0x2,{'align':_0x166e2f(0x24b)}),_0x2e112f['page'][_0x166e2f(0x29c)][_0x166e2f(0x225)]=_0x1db212;}const _0x3a102d=_0x2e112f['y'],_0x2b2760=_0x2e112f['x'];_0x2e112f[_0x166e2f(0x213)]();}catch(_0x1c4690){console[_0x166e2f(0x1f7)](_0x1c4690),_0x3710ff[_0x166e2f(0x2b2)](0x1f4)[_0x166e2f(0x220)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x3d0a1e(0x25f)](a0_0x3d0a1e(0x244),auth,async(_0x31981e,_0x25f423)=>{const _0x542fa6=a0_0x3d0a1e;try{const {username:_0x32c305,email:_0x3d5f11,role:_0x5232ce}=_0x31981e[_0x542fa6(0x25d)],_0x515fdd=_0x31981e[_0x542fa6(0x25d)],_0x427977=await profile[_0x542fa6(0x26e)]({'email':_0x515fdd[_0x542fa6(0x214)]}),_0x18df62=await master_shop[_0x542fa6(0x209)](),_0x1d2efe=_0x31981e['params']['id'],_0x31b763=await purchases[_0x542fa6(0x248)](_0x1d2efe),_0xc0b137=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x25f423[_0x542fa6(0x204)](_0x542fa6(0x221),'inline;\x20filename=\x22OUT-'+_0x1d2efe+'.pdf\x22'),_0x25f423[_0x542fa6(0x204)](_0x542fa6(0x247),_0x542fa6(0x252));var _0x2b5eb9=0x14,_0x3a79b0=0x3c;_0xc0b137['pipe'](_0x25f423),_0xc0b137['image']('./public/upload/'+_0x18df62[0x0][_0x542fa6(0x24a)],0x14,0x0,{'fit':[0x64,0x64]}),_0xc0b137[_0x542fa6(0x207)](0x14)[_0x542fa6(0x231)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x2b5eb9,_0x3a79b0),_0xc0b137[_0x542fa6(0x207)](0xa)[_0x542fa6(0x231)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x2b5eb9,_0x3a79b0+=0xf),_0xc0b137[_0x542fa6(0x207)](0xf)[_0x542fa6(0x231)](_0x542fa6(0x29e),_0x2b5eb9,_0x3a79b0+=0x32),_0xc0b137[_0x542fa6(0x207)](0xa)[_0x542fa6(0x231)](_0x542fa6(0x25c),_0x2b5eb9,_0x3a79b0+=0x14),_0xc0b137[_0x542fa6(0x207)](0x9)[_0x542fa6(0x231)](_0x542fa6(0x201),_0x2b5eb9,_0x3a79b0+=0x2d),_0xc0b137['fontSize'](0x9)[_0x542fa6(0x231)]('\x20:\x20'+_0x31b763['warehouse_name'],_0x2b5eb9+0x3f,_0x3a79b0),_0xc0b137[_0x542fa6(0x207)](0x9)[_0x542fa6(0x231)](_0x542fa6(0x2a0)+_0x31b763[_0x542fa6(0x275)],_0x2b5eb9+0x17c,_0x3a79b0,{'underline':!![]}),_0xc0b137[_0x542fa6(0x207)](0x9)['text'](_0x542fa6(0x1f6),_0x2b5eb9,_0x3a79b0+=0xb),_0xc0b137[_0x542fa6(0x207)](0x9)[_0x542fa6(0x231)](_0x542fa6(0x1fb)+_0x31b763[_0x542fa6(0x22c)],_0x2b5eb9+0x3f,_0x3a79b0),_0xc0b137[_0x542fa6(0x207)](0x9)['text']('Control\x20Number\x20',_0x2b5eb9,_0x3a79b0+=0xb),_0xc0b137[_0x542fa6(0x207)](0x9)[_0x542fa6(0x231)](_0x542fa6(0x1fb)+_0x31b763[_0x542fa6(0x263)],_0x2b5eb9+0x3f,_0x3a79b0);const _0x1e48b7={'headers':[{'label':_0x542fa6(0x1f9),'property':_0x542fa6(0x29f),'width':0x3c,'renderer':null},{'label':_0x542fa6(0x2a8),'property':_0x542fa6(0x1fc),'width':0x96,'renderer':null},{'label':_0x542fa6(0x273),'property':_0x542fa6(0x2c2),'width':0x2d,'renderer':null},{'label':_0x542fa6(0x20d),'property':_0x542fa6(0x20c),'width':0x3c,'renderer':null},{'label':_0x542fa6(0x226),'property':'expdate','width':0x46,'renderer':null},{'label':_0x542fa6(0x2c3),'property':_0x542fa6(0x203),'width':0x3c,'renderer':null},{'label':'Bin\x20Location','property':'binloc','width':0x3c,'renderer':null},{'label':_0x542fa6(0x2b6),'property':'DelCode','width':0x3f,'renderer':null}],'datas':[]};var _0x359957=0x0;let _0x5648c1='';_0x31b763[_0x542fa6(0x233)][_0x542fa6(0x27a)](_0x966196=>{const _0xe1bb79=_0x542fa6;let _0x3c5243='';var _0x3c210a=0x0;const _0x4ae165={'itemcode':_0x966196[_0xe1bb79(0x28e)],'itemdescription':_0x966196['product_name'],'qty':_0x966196[_0xe1bb79(0x23b)],'unit':_0x966196[_0xe1bb79(0x255)],'expdate':_0x966196['expiry_date'],'batchno':_0x966196[_0xe1bb79(0x268)],'binloc':_0x966196[_0xe1bb79(0x262)]+_0x966196['rack']+_0x966196[_0xe1bb79(0x24f)]+_0x966196['bin']+_0x966196[_0xe1bb79(0x2b0)][0x0]+_0x966196[_0xe1bb79(0x249)],'DelCode':_0x966196[_0xe1bb79(0x267)]};_0x359957+=_0x966196[_0xe1bb79(0x23b)],_0x1e48b7[_0xe1bb79(0x210)][_0xe1bb79(0x26a)](_0x4ae165);}),_0xc0b137['table'](_0x1e48b7,{'x':0x14,'y':0x118,'prepareHeader':()=>_0xc0b137['font'](_0x542fa6(0x279))[_0x542fa6(0x207)](0x8),'prepareRow':(_0x531163,_0x38ecf8,_0x356999,_0x4e1950)=>_0xc0b137['font']('Helvetica')[_0x542fa6(0x207)](0x8)});var _0x2c0ffd=_0xc0b137['y'],_0x663436=_0xc0b137['x'];_0xc0b137[_0x542fa6(0x207)](0xa)[_0x542fa6(0x231)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x663436+0x7d,_0x2c0ffd),_0xc0b137[_0x542fa6(0x207)](0xa)[_0x542fa6(0x231)](_0x542fa6(0x22b),_0x663436,_0x2c0ffd+=0x15e),_0xc0b137[_0x542fa6(0x207)](0xa)['text'](_0x359957,_0x663436+0xf0,_0x2c0ffd,{'underline':!![]}),_0xc0b137[_0x542fa6(0x207)](0xa)[_0x542fa6(0x231)](_0x542fa6(0x29a),_0x663436,_0x2c0ffd+0x28),_0xc0b137[_0x542fa6(0x207)](0xa)[_0x542fa6(0x231)](_0x542fa6(0x250),_0x663436+0x40,_0x2c0ffd+0x28,{'underline':!![]}),_0xc0b137[_0x542fa6(0x207)](0xa)[_0x542fa6(0x231)](_0x542fa6(0x28f),_0x663436+0x40,_0x2c0ffd+0x32);let _0x18a85e=_0xc0b137['bufferedPageRange']();for(let _0x467b12=0x0;_0x467b12<_0x18a85e[_0x542fa6(0x1f4)];_0x467b12++){_0xc0b137[_0x542fa6(0x2b7)](_0x467b12);let _0xb3ea2=_0xc0b137[_0x542fa6(0x246)][_0x542fa6(0x29c)]['bottom'];_0xc0b137['page']['margins'][_0x542fa6(0x225)]=0x0,_0xc0b137['text']('Page:\x20'+(_0x467b12+0x1)+'\x20of\x20'+_0x18a85e[_0x542fa6(0x1f4)],0x0,_0xc0b137['page'][_0x542fa6(0x2ba)]-_0xb3ea2/0x2,{'align':_0x542fa6(0x24b)}),_0xc0b137[_0x542fa6(0x246)][_0x542fa6(0x29c)][_0x542fa6(0x225)]=_0xb3ea2;}const _0xbdfb45=_0xc0b137['y'],_0x5607d0=_0xc0b137['x'];_0xc0b137[_0x542fa6(0x213)]();}catch(_0x4b04cb){console[_0x542fa6(0x1f7)](_0x4b04cb),_0x25f423[_0x542fa6(0x2b2)](0x1f4)[_0x542fa6(0x220)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get'](a0_0x3d0a1e(0x276),auth,async(_0xd5fc74,_0x226e7a)=>{const _0x554c30=a0_0x3d0a1e;try{const {username:_0x413872,email:_0x29ace4,role:_0x2cd250}=_0xd5fc74[_0x554c30(0x25d)],_0x5016c4=_0xd5fc74[_0x554c30(0x25d)],_0x55938f=await profile['findOne']({'email':_0x5016c4[_0x554c30(0x214)]}),_0x24bf01=await master_shop[_0x554c30(0x209)](),_0x3a3387=_0xd5fc74[_0x554c30(0x2b8)]['id'],_0x299369=await sales[_0x554c30(0x248)](_0x3a3387),_0xea2060=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x1c00ce;_0x1c00ce='PICKING\x20LIST';_0x299369[_0x554c30(0x2a7)]==_0x554c30(0x1fd)&&(_0x1c00ce=_0x554c30(0x286));_0x226e7a['setHeader']('Content-disposition',_0x554c30(0x21e)+_0x3a3387+_0x554c30(0x256)),_0x226e7a[_0x554c30(0x204)]('Content-type',_0x554c30(0x252));var _0x15ab84=0x14,_0x53541e=0x64;_0xea2060['pipe'](_0x226e7a),_0xea2060[_0x554c30(0x24a)]('./public/upload/'+_0x24bf01[0x0][_0x554c30(0x24a)],0x14,0x0,{'fit':[0x64,0x64]}),_0xea2060[_0x554c30(0x207)](0x14)['text'](_0x554c30(0x206),_0x15ab84,_0x53541e),_0xea2060[_0x554c30(0x207)](0xa)[_0x554c30(0x231)](_0x554c30(0x2b9),_0x15ab84,_0x53541e+=0xf),_0xea2060[_0x554c30(0x207)](0xf)[_0x554c30(0x231)](_0x1c00ce,_0x15ab84,_0x53541e+=0x32),_0xea2060[_0x554c30(0x207)](0xa)['text'](_0x554c30(0x2bc),_0x15ab84,_0x53541e+=0x14),_0xea2060[_0x554c30(0x207)](0x9)[_0x554c30(0x231)](_0x554c30(0x1f6),_0x15ab84,_0x53541e+=0x19),_0xea2060[_0x554c30(0x207)](0x9)[_0x554c30(0x231)]('\x20:\x20'+_0x299369['date'],_0x15ab84+0x3f,_0x53541e),_0xea2060[_0x554c30(0x207)](0x9)[_0x554c30(0x231)](_0x554c30(0x27f),_0x15ab84,_0x53541e+=0xb),_0xea2060[_0x554c30(0x207)](0x9)[_0x554c30(0x231)](_0x554c30(0x1fb)+_0x299369[_0x554c30(0x263)],_0x15ab84+0x3f,_0x53541e);const _0x3a8b9b={'headers':[{'label':_0x554c30(0x20b),'property':'itemcode','align':_0x554c30(0x24b),'width':0x2d,'renderer':null},{'label':'MATERIAL\x20DESCRIPTION','property':_0x554c30(0x1fc),'align':_0x554c30(0x24b),'width':0x64,'renderer':null},{'label':_0x554c30(0x241),'property':'rqty','align':'center','width':0x28,'renderer':null},{'label':_0x554c30(0x27b),'property':'iqty','align':'center','width':0x28,'renderer':null},{'label':_0x554c30(0x20d),'property':_0x554c30(0x20c),'align':_0x554c30(0x24b),'width':0x28,'renderer':null},{'label':'LOCATION','property':_0x554c30(0x298),'align':_0x554c30(0x24b),'width':0x32,'renderer':null},{'label':_0x554c30(0x24c),'property':'proddate','align':_0x554c30(0x24b),'width':0x3c,'renderer':null},{'label':_0x554c30(0x2b5),'property':_0x554c30(0x229),'align':'center','width':0x3c,'renderer':null},{'label':'DELIVERY\x20DATE','property':_0x554c30(0x21c),'align':_0x554c30(0x24b),'width':0x3f,'renderer':null},{'label':_0x554c30(0x25a),'property':'del_code','align':_0x554c30(0x24b),'width':0x3f,'renderer':null}],'datas':[]};var _0x2c7c3e=0x0;let _0x453ba2='';var _0x530cef=0x0,_0x15ab84=0x1;_0x299369['sale_product'][_0x554c30(0x27a)](_0x3a903d=>{const _0x3f786d=_0x554c30,_0x4c06ce=new Date(_0x3a903d[_0x3f786d(0x260)]),_0x4eb8a6={'year':_0x3f786d(0x269),'month':_0x3f786d(0x2b3),'day':_0x3f786d(0x269)},_0x5cf1b7=_0x4c06ce[_0x3f786d(0x280)](_0x3f786d(0x2bf),_0x4eb8a6),_0x4a92f4=new Date(_0x3a903d[_0x3f786d(0x22a)]),_0x452337={'year':_0x3f786d(0x269),'month':_0x3f786d(0x2b3),'day':_0x3f786d(0x269)},_0xd3a7c4=_0x4a92f4[_0x3f786d(0x280)](_0x3f786d(0x2bf),_0x452337),_0x39df1f=new Date(_0x3a903d['delivery_date']),_0x4a9a9c={'year':_0x3f786d(0x269),'month':_0x3f786d(0x2b3),'day':_0x3f786d(0x269)};var _0x2009ce=_0x39df1f[_0x3f786d(0x280)](_0x3f786d(0x2bf),_0x4a9a9c);typeof _0x3a903d[_0x3f786d(0x287)]==_0x3f786d(0x230)&&(_0x2009ce='');const _0x2e52d7={'itemcode':_0x3a903d['product_code'],'itemdescription':_0x3a903d[_0x3f786d(0x1f5)],'rqty':_0x3a903d['requested_qty'],'iqty':_0x3a903d[_0x3f786d(0x23b)],'unit':_0x3a903d['unit'],'blocation':_0x3a903d[_0x3f786d(0x262)]+_0x3a903d[_0x3f786d(0x295)]+_0x3a903d[_0x3f786d(0x24f)]+_0x3a903d['bin']+_0x3a903d[_0x3f786d(0x2b0)][0x0]+_0x3a903d[_0x3f786d(0x249)],'proddate':_0x5cf1b7,'expdate':_0xd3a7c4,'del_date':_0x2009ce,'del_code':_0x3a903d[_0x3f786d(0x267)]};_0x15ab84++,_0x3a8b9b['datas'][_0x3f786d(0x26a)](_0x2e52d7);}),_0xea2060[_0x554c30(0x272)](_0x3a8b9b,{'x':_0x15ab84+0x11,'y':_0x53541e+=0x1e,'prepareHeader':()=>_0xea2060['font']('Helvetica-Bold')['fontSize'](6.5),'prepareRow':(_0x4c8318,_0x36e366,_0xe36cb4,_0x5f3a40,_0x4c38fd)=>{const _0x4c81db=_0x554c30,{x:_0x160761,y:_0x4169e7,width:_0x50ca63,height:_0x399db4}=_0x4c38fd;_0xea2060[_0x4c81db(0x224)](_0x4c81db(0x26d))[_0x4c81db(0x207)](0x8),_0xea2060[_0x4c81db(0x211)](0.5)[_0x4c81db(0x2a3)](_0x160761,_0x4169e7)[_0x4c81db(0x264)](_0x160761,_0x4169e7+_0x399db4)[_0x4c81db(0x228)]();}});var _0x48075f=_0xea2060['y'],_0x5e8e7d=_0xea2060['x'],_0x3a03a0=_0x48075f-=0x8;_0xea2060[_0x554c30(0x211)](0x5),_0xea2060['lineCap'](_0x554c30(0x278))[_0x554c30(0x2a3)](0x240,_0x3a03a0)[_0x554c30(0x264)](0x11,_0x3a03a0)[_0x554c30(0x228)](),_0xea2060[_0x554c30(0x207)](0xa)['text'](_0x554c30(0x2bd),_0x5e8e7d+0x7d,_0x48075f+=0xf),_0xea2060['fontSize'](0xb)[_0x554c30(0x231)]('PREPARED\x20BY\x20:\x20',_0x5e8e7d,_0x48075f+=0x15e),_0xea2060['fontSize'](0xa)['text'](_0x554c30(0x25b),_0x5e8e7d+0x52,_0x48075f,{'underline':!![]}),_0xea2060[_0x554c30(0x207)](0xa)[_0x554c30(0x231)]('Picked\x20By',_0x5e8e7d,_0x48075f+=0x19),_0xea2060[_0x554c30(0x207)](0xa)[_0x554c30(0x231)]('\x20:\x20',_0x5e8e7d+0x4b,_0x48075f),_0xea2060[_0x554c30(0x207)](0xa)[_0x554c30(0x231)]('\x20'[_0x554c30(0x234)](0x3c),_0x5e8e7d+0x50,_0x48075f,{'underline':!![]}),_0xea2060[_0x554c30(0x207)](0xa)[_0x554c30(0x231)]('Noted\x20By\x20',_0x5e8e7d,_0x48075f+=0x32),_0xea2060[_0x554c30(0x207)](0xa)['text']('\x20:\x20',_0x5e8e7d+0x4b,_0x48075f),_0xea2060['fontSize'](0xa)[_0x554c30(0x231)](_0x554c30(0x27c),_0x5e8e7d+0x50,_0x48075f,{'underline':!![]}),_0xea2060[_0x554c30(0x207)](0xa)[_0x554c30(0x231)](_0x554c30(0x28f),_0x5e8e7d+0x50,_0x48075f+0xc);let _0x44411d=_0xea2060[_0x554c30(0x1f8)]();for(let _0x5d4137=0x0;_0x5d4137<_0x44411d[_0x554c30(0x1f4)];_0x5d4137++){_0xea2060[_0x554c30(0x2b7)](_0x5d4137);let _0x4e801f=_0xea2060[_0x554c30(0x246)][_0x554c30(0x29c)][_0x554c30(0x225)];_0xea2060['page'][_0x554c30(0x29c)][_0x554c30(0x225)]=0x0,_0xea2060['text'](_0x554c30(0x217)+(_0x5d4137+0x1)+'\x20of\x20'+_0x44411d[_0x554c30(0x1f4)],0x0,_0xea2060[_0x554c30(0x246)][_0x554c30(0x2ba)]-_0x4e801f/0x2,{'align':'center'}),_0xea2060[_0x554c30(0x246)][_0x554c30(0x29c)][_0x554c30(0x225)]=_0x4e801f;}const _0x58f32f=_0xea2060['y'],_0x7ea43=_0xea2060['x'];_0xea2060[_0x554c30(0x213)]();}catch(_0x548d6b){console[_0x554c30(0x1f7)](_0x548d6b),_0x226e7a['status'](0x1f4)['send'](_0x554c30(0x2a6));}}),router[a0_0x3d0a1e(0x25f)]('/PDF_adjustment_rm/:id',auth,async(_0xf55709,_0x1de0b0)=>{const _0x57c828=a0_0x3d0a1e;try{const {username:_0x3cb73e,email:_0x37bb0d,role:_0x247e27}=_0xf55709[_0x57c828(0x25d)],_0x4c07d2=_0xf55709[_0x57c828(0x25d)],_0x1fe665=await profile['findOne']({'email':_0x4c07d2[_0x57c828(0x214)]}),_0x2e43e0=await master_shop[_0x57c828(0x209)](),_0x2f183d=_0xf55709[_0x57c828(0x2b8)]['id'],_0x45fe97=await adjustment[_0x57c828(0x248)](_0x2f183d);var _0x2dd9c6,_0x53357f;_0x2dd9c6=_0x57c828(0x281),_0x53357f=_0x57c828(0x243);_0x45fe97[_0x57c828(0x2a7)]==_0x57c828(0x1fd)&&(_0x2dd9c6=_0x57c828(0x253),_0x53357f='');const _0x11d75a=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1de0b0[_0x57c828(0x204)](_0x57c828(0x221),_0x57c828(0x21e)+_0x2f183d+'.pdf\x22'),_0x1de0b0['setHeader'](_0x57c828(0x247),_0x57c828(0x252));var _0x163637=0x14,_0x386bf3=0x3c;_0x11d75a[_0x57c828(0x200)](_0x1de0b0),_0x11d75a[_0x57c828(0x24a)]('./public/upload/'+_0x2e43e0[0x0][_0x57c828(0x24a)],0x14,0x0,{'fit':[0x64,0x64]}),_0x11d75a[_0x57c828(0x207)](0x14)['text'](_0x57c828(0x206),_0x163637,_0x386bf3),_0x11d75a['fontSize'](0xa)[_0x57c828(0x231)](_0x57c828(0x2b9),_0x163637,_0x386bf3+=0xf),_0x11d75a[_0x57c828(0x207)](0xf)[_0x57c828(0x231)](_0x2dd9c6,_0x163637,_0x386bf3+=0x32),_0x11d75a[_0x57c828(0x207)](0xa)[_0x57c828(0x231)](_0x53357f,_0x163637,_0x386bf3+=0x14),_0x11d75a[_0x57c828(0x207)](0x9)[_0x57c828(0x231)]('Warehouse\x20',_0x163637,_0x386bf3+=0x28),_0x11d75a[_0x57c828(0x207)](0x9)[_0x57c828(0x231)]('\x20:\x20'+_0x45fe97[_0x57c828(0x2af)],_0x163637+0x3f,_0x386bf3),_0x11d75a[_0x57c828(0x207)](0x9)['text'](_0x57c828(0x1f6),_0x163637,_0x386bf3+=0xb),_0x11d75a[_0x57c828(0x207)](0x9)[_0x57c828(0x231)]('\x20:\x20'+_0x45fe97[_0x57c828(0x22c)],_0x163637+0x3f,_0x386bf3),_0x11d75a[_0x57c828(0x207)](0x9)[_0x57c828(0x231)](_0x57c828(0x2b1),_0x163637,_0x386bf3+=0xb),_0x11d75a[_0x57c828(0x207)](0x9)[_0x57c828(0x231)](_0x57c828(0x1fb)+_0x45fe97['invoice'],_0x163637+0x3f,_0x386bf3);const _0x42a8e0={'headers':[{'label':_0x57c828(0x1f9),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x57c828(0x2a8),'property':_0x57c828(0x1fc),'width':0x96,'renderer':null},{'label':'Quantity','property':_0x57c828(0x2c2),'width':0x3c,'renderer':null},{'label':_0x57c828(0x20d),'property':_0x57c828(0x20c),'width':0x3c,'renderer':null},{'label':'Production\x20Date','property':'proddate','width':0x50,'renderer':null},{'label':_0x57c828(0x2c3),'property':_0x57c828(0x203),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x57c828(0x290),'width':0x3f,'renderer':null}],'datas':[]};var _0x5b2c9b=0x0,_0x4bb7b4=0x0;_0x45fe97[_0x57c828(0x233)][_0x57c828(0x27a)](_0x175f83=>{const _0x221bd1=_0x57c828;let _0x442a2b='';const _0x1e68f5=_0x175f83['to_quantity'];for(let _0xede264=0x1;_0xede264<=_0x1e68f5;_0xede264++){_0x1e68f5==_0xede264?_0x442a2b+=_0x175f83[_0x221bd1(0x24d)]:_0x442a2b+=_0x175f83[_0x221bd1(0x24d)]+',',_0x4bb7b4+=_0x175f83[_0x221bd1(0x24d)];}_0x442a2b+=_0x221bd1(0x215)+_0x175f83['secondary_unit'];const _0x3973bb={'itemcode':_0x175f83[_0x221bd1(0x28e)],'itemdescription':_0x175f83['product_name'],'qty':_0x175f83['new_adjust_qty'],'unit':_0x175f83[_0x221bd1(0x20c)],'proddate':_0x175f83['production_date'],'batchno':_0x175f83[_0x221bd1(0x268)],'binloc':_0x175f83[_0x221bd1(0x262)]+_0x175f83[_0x221bd1(0x295)]+_0x175f83[_0x221bd1(0x24f)]+_0x175f83['bin']+_0x175f83['type'][0x0]+_0x175f83[_0x221bd1(0x249)]};_0x5b2c9b+=_0x175f83[_0x221bd1(0x29b)],_0x42a8e0[_0x221bd1(0x210)][_0x221bd1(0x26a)](_0x3973bb);}),_0x11d75a[_0x57c828(0x272)](_0x42a8e0,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x11d75a['font'](_0x57c828(0x279))[_0x57c828(0x207)](0x8),'prepareRow':(_0x1b19d9,_0x32ba3f,_0x360e76,_0x36d2db)=>_0x11d75a['font']('Helvetica')['fontSize'](0x8)});var _0x472c6b=_0x11d75a['y'],_0x1346e0=_0x11d75a['x'];_0x11d75a[_0x57c828(0x207)](0xa)[_0x57c828(0x231)](_0x57c828(0x2bd),_0x1346e0+0x7d,_0x472c6b),_0x11d75a[_0x57c828(0x207)](0xa)[_0x57c828(0x231)]('TOTAL\x20QTY\x20:\x20',_0x1346e0,_0x472c6b+=0x136),_0x11d75a['fontSize'](0xa)[_0x57c828(0x231)](_0x5b2c9b,_0x1346e0+0xc8,_0x472c6b),_0x11d75a[_0x57c828(0x207)](0xa)[_0x57c828(0x231)]('Picked\x20By\x20\x20\x20\x20\x20:\x20',_0x1346e0,_0x472c6b+=0x19),_0x11d75a[_0x57c828(0x207)](0xa)[_0x57c828(0x231)]('\x20'[_0x57c828(0x234)](0x3c),_0x1346e0+0x3e,_0x472c6b,{'underline':!![]}),_0x11d75a[_0x57c828(0x207)](0xa)[_0x57c828(0x231)]('Checked\x20By\x20',_0x1346e0,_0x472c6b+=0x32),_0x11d75a[_0x57c828(0x207)](0xa)[_0x57c828(0x231)](_0x57c828(0x1fb),_0x1346e0+0x37,_0x472c6b),_0x11d75a[_0x57c828(0x207)](0xa)[_0x57c828(0x231)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1346e0+0x3c,_0x472c6b,{'underline':!![]}),_0x11d75a[_0x57c828(0x207)](0xa)['text'](_0x57c828(0x28f),_0x1346e0+0x3c,_0x472c6b+0xc);let _0x4b209c=_0x11d75a['bufferedPageRange']();for(let _0x3e674b=0x0;_0x3e674b<_0x4b209c[_0x57c828(0x1f4)];_0x3e674b++){_0x11d75a[_0x57c828(0x2b7)](_0x3e674b);let _0x12d305=_0x11d75a[_0x57c828(0x246)][_0x57c828(0x29c)][_0x57c828(0x225)];_0x11d75a[_0x57c828(0x246)][_0x57c828(0x29c)][_0x57c828(0x225)]=0x0,_0x11d75a[_0x57c828(0x231)](_0x57c828(0x217)+(_0x3e674b+0x1)+_0x57c828(0x26c)+_0x4b209c[_0x57c828(0x1f4)],0x0,_0x11d75a['page'][_0x57c828(0x2ba)]-_0x12d305/0x2,{'align':_0x57c828(0x24b)}),_0x11d75a['page'][_0x57c828(0x29c)][_0x57c828(0x225)]=_0x12d305;}const _0x4c61b7=_0x11d75a['y'],_0x47ddad=_0x11d75a['x'];_0x11d75a['end']();}catch(_0x524d78){console[_0x57c828(0x1f7)](_0x524d78),_0x1de0b0['status'](0x1f4)[_0x57c828(0x220)](_0x57c828(0x2a6));}}),router['get'](a0_0x3d0a1e(0x223),auth,async(_0x4af709,_0x25ae34)=>{const _0x5cec03=a0_0x3d0a1e;try{const {username:_0xf81334,email:_0x5ceea3,role:_0xea25e6}=_0x4af709['user'],_0x180a50=_0x4af709[_0x5cec03(0x25d)],_0xfbcfe7=await profile[_0x5cec03(0x26e)]({'email':_0x180a50[_0x5cec03(0x214)]}),_0x524477=await master_shop[_0x5cec03(0x209)](),_0x366ccd=_0x4af709[_0x5cec03(0x2b8)]['id'],_0x468955=await transfers[_0x5cec03(0x248)](_0x366ccd);var _0x43b36f,_0x1f246b;_0x43b36f=_0x5cec03(0x2c1),_0x1f246b=_0x5cec03(0x28d);_0x468955[_0x5cec03(0x2a7)]=='True'&&(_0x43b36f='STOCKS\x20TRANSFER',_0x1f246b='');const _0x256e41=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x25ae34[_0x5cec03(0x204)](_0x5cec03(0x221),_0x5cec03(0x21e)+_0x366ccd+_0x5cec03(0x256)),_0x25ae34[_0x5cec03(0x204)]('Content-type',_0x5cec03(0x252));var _0x4d187a=0x14,_0xefd910=0x3c;_0x256e41['pipe'](_0x25ae34),_0x256e41[_0x5cec03(0x24a)](_0x5cec03(0x1f2)+_0x524477[0x0][_0x5cec03(0x24a)],0x14,0x0,{'fit':[0x64,0x64]}),_0x256e41[_0x5cec03(0x207)](0x14)[_0x5cec03(0x231)](_0x5cec03(0x206),_0x4d187a,_0xefd910),_0x256e41[_0x5cec03(0x207)](0xa)['text'](_0x5cec03(0x2b9),_0x4d187a,_0xefd910+=0xf),_0x256e41[_0x5cec03(0x207)](0xf)[_0x5cec03(0x231)](_0x43b36f,_0x4d187a,_0xefd910+=0x32),_0x256e41['fontSize'](0xa)[_0x5cec03(0x231)](_0x1f246b,_0x4d187a,_0xefd910+=0x14),_0x256e41[_0x5cec03(0x207)](0x9)['text'](_0x5cec03(0x2c5),_0x4d187a,_0xefd910+=0x28),_0x256e41[_0x5cec03(0x207)](0x9)['text'](_0x5cec03(0x222)+_0x468955['from_warehouse'],_0x4d187a+0x3f,_0xefd910),_0x256e41[_0x5cec03(0x207)](0x9)['text'](_0x5cec03(0x266),_0x4d187a,_0xefd910+=0xa),_0x256e41[_0x5cec03(0x207)](0x9)[_0x5cec03(0x231)]('\x20\x20\x20:\x20'+_0x468955[_0x5cec03(0x239)],_0x4d187a+0x3f,_0xefd910),_0x256e41[_0x5cec03(0x207)](0x9)[_0x5cec03(0x231)](_0x5cec03(0x1f6),_0x4d187a,_0xefd910+=0xb),_0x256e41[_0x5cec03(0x207)](0x9)[_0x5cec03(0x231)](_0x5cec03(0x222)+_0x468955[_0x5cec03(0x22c)],_0x4d187a+0x3f,_0xefd910),_0x256e41[_0x5cec03(0x207)](0x9)['text'](_0x5cec03(0x2b1),_0x4d187a,_0xefd910+=0xb),_0x256e41['fontSize'](0x9)[_0x5cec03(0x231)](_0x5cec03(0x222)+_0x468955[_0x5cec03(0x263)],_0x4d187a+0x3f,_0xefd910);const _0x485386={'headers':[{'label':'','property':_0x5cec03(0x29f),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':'\x20\x20\x20\x20\x20FROM','property':_0x5cec03(0x29f),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x5cec03(0x28a),'property':_0x5cec03(0x1fc),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x256e41[_0x5cec03(0x272)](_0x485386,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x256e41[_0x5cec03(0x224)](_0x5cec03(0x279))[_0x5cec03(0x207)](0x8),'prepareRow':(_0x38d9f6,_0x47338d,_0x1b2534,_0x113f96)=>_0x256e41[_0x5cec03(0x224)](_0x5cec03(0x26d))['fontSize'](0x8)});const _0x3b9c4a={'headers':[{'label':_0x5cec03(0x1f9),'property':_0x5cec03(0x29f),'width':0x3c,'renderer':null},{'label':_0x5cec03(0x2a8),'property':_0x5cec03(0x1fc),'width':0x96,'renderer':null},{'label':_0x5cec03(0x291),'property':_0x5cec03(0x2c2),'width':0x28,'renderer':null},{'label':_0x5cec03(0x20d),'property':'unit','width':0x37,'renderer':null},{'label':_0x5cec03(0x23c),'property':_0x5cec03(0x2ac),'width':0x4b,'renderer':null},{'label':'Batch\x20No','property':_0x5cec03(0x203),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x5cec03(0x27d),'width':0x3f,'renderer':null},{'label':_0x5cec03(0x218),'property':_0x5cec03(0x290),'width':0x3f,'renderer':null}],'datas':[]};var _0x4a32a4=0x0;let _0x1d22eb='';var _0x55a684=0x0;_0x468955['product'][_0x5cec03(0x27a)](_0x15d688=>{const _0x4623d1=_0x5cec03;var _0x5d0e65=_0x15d688[_0x4623d1(0x240)],_0x456077;_0x456077=_0x15d688[_0x4623d1(0x20c)];_0x5d0e65=='S'&&(_0x456077=_0x15d688[_0x4623d1(0x28b)]);const _0x6d03f3={'itemcode':_0x15d688[_0x4623d1(0x28e)],'itemdescription':_0x15d688['product_name'],'qty':_0x15d688[_0x4623d1(0x294)],'unit':_0x456077,'proddate':_0x15d688[_0x4623d1(0x260)],'batchno':_0x15d688[_0x4623d1(0x268)],'binloc':_0x15d688[_0x4623d1(0x262)]+_0x15d688[_0x4623d1(0x295)]+_0x15d688['to_bay']+_0x15d688[_0x4623d1(0x21a)]+_0x15d688[_0x4623d1(0x2a4)][0x0]+_0x15d688[_0x4623d1(0x2c6)],'qtyFrom':_0x15d688[_0x4623d1(0x2b4)],'binlocFrom':_0x15d688['from_storage']+_0x15d688[_0x4623d1(0x2c4)]+_0x15d688['from_bay']+_0x15d688[_0x4623d1(0x1ff)]+_0x15d688['from_types'][0x0]+_0x15d688[_0x4623d1(0x2a1)]};_0x4a32a4+=_0x15d688[_0x4623d1(0x294)],_0x3b9c4a[_0x4623d1(0x210)]['push'](_0x6d03f3);}),_0x256e41['table'](_0x3b9c4a,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x256e41[_0x5cec03(0x224)](_0x5cec03(0x279))[_0x5cec03(0x207)](0x8),'prepareRow':(_0x40bf5f,_0x256d0d,_0x199f60,_0x5c1c97)=>_0x256e41['font']('Helvetica')[_0x5cec03(0x207)](0x8)});var _0x357d02=_0x256e41['y'],_0x3802bf=_0x256e41['x'];_0x256e41[_0x5cec03(0x207)](0xa)[_0x5cec03(0x231)](_0x5cec03(0x2bd),_0x3802bf+0x7d,_0x357d02),_0x256e41[_0x5cec03(0x207)](0xa)['text']('TOTAL\x20QTY:\x20',_0x3802bf,_0x357d02+=0x12c),_0x256e41[_0x5cec03(0x207)](0xa)[_0x5cec03(0x231)](_0x4a32a4,_0x3802bf+0xd7,_0x357d02,{'underline':!![]}),_0x256e41['fontSize'](0xa)[_0x5cec03(0x231)]('Checked\x20By:\x20',_0x3802bf,_0x357d02+=0x32),_0x256e41[_0x5cec03(0x207)](0xa)['text'](_0x5cec03(0x2bb),_0x3802bf+0x3c,_0x357d02,{'underline':!![]}),_0x256e41['fontSize'](0xa)[_0x5cec03(0x231)]('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x3802bf+0x3c,_0x357d02+0xc);let _0x3e49d9=_0x256e41[_0x5cec03(0x1f8)]();for(let _0x37ef35=0x0;_0x37ef35<_0x3e49d9[_0x5cec03(0x1f4)];_0x37ef35++){_0x256e41['switchToPage'](_0x37ef35);let _0x5ee056=_0x256e41[_0x5cec03(0x246)]['margins'][_0x5cec03(0x225)];_0x256e41['page'][_0x5cec03(0x29c)][_0x5cec03(0x225)]=0x0,_0x256e41[_0x5cec03(0x231)](_0x5cec03(0x217)+(_0x37ef35+0x1)+_0x5cec03(0x26c)+_0x3e49d9[_0x5cec03(0x1f4)],0x0,_0x256e41[_0x5cec03(0x246)][_0x5cec03(0x2ba)]-_0x5ee056/0x2,{'align':_0x5cec03(0x24b)}),_0x256e41[_0x5cec03(0x246)][_0x5cec03(0x29c)][_0x5cec03(0x225)]=_0x5ee056;}const _0x5776d3=_0x256e41['y'],_0x412b72=_0x256e41['x'];_0x256e41[_0x5cec03(0x213)]();}catch(_0x59328d){console[_0x5cec03(0x1f7)](_0x59328d),_0x25ae34[_0x5cec03(0x2b2)](0x1f4)[_0x5cec03(0x220)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x3d0a1e(0x25f)](a0_0x3d0a1e(0x23f),auth,async(_0x230c14,_0x57ca7e)=>{const _0x6397bc=a0_0x3d0a1e;try{const _0x15a7c8=_0xf5919c=>_0xf5919c*0x48,_0x1fdee8={'width':0x3,'height':0x1},_0x1c91d5=await product[_0x6397bc(0x209)](),_0x542294=new PDFDocument({'margin':_0x15a7c8(0.75),'size':[_0x15a7c8(_0x1fdee8[_0x6397bc(0x25e)]),_0x15a7c8(_0x1fdee8[_0x6397bc(0x2ba)])],'bufferPages':!![]}),_0x1fecc2=_0x1c91d5['length'];for(let _0x1e5ba1=0x0;_0x1e5ba1<=_0x1fecc2;_0x1e5ba1++){if(_0x1e5ba1!=_0x1c91d5[_0x6397bc(0x20f)]){const _0x3cffb6=_0x1c91d5[_0x1e5ba1][_0x6397bc(0x216)],_0x393615=_0x1c91d5[_0x1e5ba1][_0x6397bc(0x251)],_0x5307a8=_0x1c91d5[_0x1e5ba1][_0x6397bc(0x22f)],_0x5cfcc3=_0x1c91d5[_0x1e5ba1][_0x6397bc(0x28e)],_0x1fc130=new Canvas();JsBarcode(_0x1fc130,_0x393615,{'format':_0x6397bc(0x270),'height':0x32,'displayValue':!![],'text':_0x393615}),_0x542294[_0x6397bc(0x24a)](_0x1fc130[_0x6397bc(0x296)](),0x0,0x0,{'width':0xd2}),_0x542294[_0x6397bc(0x232)]();}}_0x542294['pipe'](_0x57ca7e),_0x542294[_0x6397bc(0x213)]();}catch(_0x4a5035){console[_0x6397bc(0x242)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:',_0x4a5035),_0x57ca7e['status'](0x1f4)['send'](_0x6397bc(0x2a6));}}),module['exports']=router;