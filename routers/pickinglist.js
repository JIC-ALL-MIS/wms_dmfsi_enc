function a0_0x3c4b(){const _0x45cda7=['../public/language/languages.json','(OUTGOING)','email','Check\x20By:\x20','end','delivery_code','Warehouse\x20:\x20','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','from_warehouse','moveTo','return_sale','switchToPage','maxperunit','Helvetica','lineCap','POnumber','standard_unit','\x20row:\x20','2857734SEFQsM','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20TO','repeat','secondary_code','Item\x20Description','Control\x20Number\x20','Check\x20By\x20\x20\x20\x20:\x20','expdate','batchno','suppliers','\x20<>\x20','date','STOCKS\x20TRANSFER','send','log','CODE128','del_code','finalize','3023590ZQZyJA','product_name','/PDF_transfer/:id','page','Checked\x20By:\x20','table','Router','return_sale_QA','customer','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pdfkit-table','jsbarcode','Raw\x20Materials\x20Warehouse\x20Supervisor','new_adjust_qty','delivery_date','11wNKLZT','to_bay','lineTo','iqty','name','Batch\x20No','forEach','multer','image','fontSize','\x20\x20TO','invoice','type','batch_code','\x20\x20FROM','Pick\x20By\x20:\x20','rqty','\x20of\x20','user','center','QTY','4DcXdEc','Customer\x20:\x20','proddate','primary_code','PICKING\x20LIST','expiry_date','warehouse_cat','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','bottom','/PDF_adjustment_rm/:id','DELIVERY\x20DATE','bufferedPageRange','itemdescription','From\x20Warehouse\x20','Picked\x20By\x20\x20\x20:\x20','itemcode','\x20y:\x20','/PDF_Sales/:id','exceljs','REF\x20MRIS#\x20','x:\x20','qty','PRODUCTION\x20DATE','height','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','return_qty','inline;\x20filename=\x22OUT-','push','floorlevel','requested_qty','bin','9601080eOerqP','\x20\x20\x20\x20\x20FROM','findById','1246971iHQiUZ','LOCATION','to_floorlevel','binlocFrom','True','production_date','Bin\x20Location','.pdf\x22','UOM','inline;\x20filename=\x22','binloc','/pdf_puchases_fin/:id','REQUESTED\x20QUANTITY','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Content-disposition','FTGS\x20Number\x20:\x20','undefined','numeric','Picked\x20By\x20\x20\x20\x20\x20:\x20','(INVENTORY\x20ADJUSTMENT)','product_code','toLocaleDateString','4804443oTfOVa','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','del_date','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','quantity','prod_cat','adjust_qty','sale_product','Date\x20','Quantity','DRY\x20GOODS','Checked\x20By\x20\x20\x20:\x20','ARMAN\x20CRUZ','butt','(STOCKS\x20TRANSFER)','74738BeoGgS','short','pipe','express','find','params','DELIVERY\x20RECEIPT','findOne','warehouse_name','TOTAL\x20QTY\x20:\x20','Item\x20Code','Production\x20Date','margins','en-US','setHeader','Helvetica-Bold','Picking\x20List','from_bay','\x20\x20\x20:\x20','(INCOMING)','/PDF_transfer_rm/:id','ToWarehouse','to_warehouse','get','storage','datas','count','bay','Expiration\x20Date','from_bin','stroke','text','xlsx','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','from_storage','lineWidth','FROZEN\x20GOODS','rack','to_types','Noted\x20By\x20','EXPIRATION\x20DATE','Picked\x20By','from_floorlevel','secondary_unit','unit','Warehouse\x20','Finished\x20Good\x20Warehouse\x20Supervisor','canvas','./public/upload/','to_quantity','Content-type','toBuffer','\x20/\x20','../middleware/auth','font','maxPerUnit','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','application/pdf','To\x20Warehouse\x20','\x20:\x20','DelCode','/pdf_sales_return_fin/:id','status','error','/barcode_generator/','addPage','exports','Checked\x20By\x20','length','/pdf_puchases/:id','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','DELIVERY\x20CODE','/PDF/:id','product','TOTAL\x20QTY:\x20','5592606WZgHAZ','Page:\x20','blob-stream','FINISHED\x20GOODS\x20TRANSFER\x20SLIP'];a0_0x3c4b=function(){return _0x45cda7;};return a0_0x3c4b();}const a0_0x3ca64a=a0_0x467f;(function(_0x101f5e,_0x248aa6){const _0xff4777=a0_0x467f,_0x23b9f7=_0x101f5e();while(!![]){try{const _0x214e09=-parseInt(_0xff4777(0x179))/0x1*(-parseInt(_0xff4777(0xf6))/0x2)+-parseInt(_0xff4777(0x1b0))/0x3+parseInt(_0xff4777(0x18e))/0x4*(parseInt(_0xff4777(0x16a))/0x5)+parseInt(_0xff4777(0x141))/0x6+parseInt(_0xff4777(0xe7))/0x7+-parseInt(_0xff4777(0x1ad))/0x8+-parseInt(_0xff4777(0x157))/0x9;if(_0x214e09===_0x248aa6)break;else _0x23b9f7['push'](_0x23b9f7['shift']());}catch(_0x18410b){_0x23b9f7['push'](_0x23b9f7['shift']());}}}(a0_0x3c4b,0xab1ed));function a0_0x467f(_0x18864f,_0xc3f098){const _0x3c4bb9=a0_0x3c4b();return a0_0x467f=function(_0x467fff,_0x3cb857){_0x467fff=_0x467fff-0xda;let _0x3feff3=_0x3c4bb9[_0x467fff];return _0x3feff3;},a0_0x467f(_0x18864f,_0xc3f098);}const express=require(a0_0x3ca64a(0xf9)),res=require('express/lib/response'),app=express(),router=express[a0_0x3ca64a(0x170)](),multer=require(a0_0x3ca64a(0x180)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require('../models/all_models'),auth=require(a0_0x3ca64a(0x12b)),users=require(a0_0x3ca64a(0x145)),excelJS=require(a0_0x3ca64a(0x1a0)),xlsx=require(a0_0x3ca64a(0x116)),PDFDocument=require(a0_0x3ca64a(0x174)),fs=require('fs'),blobStream=require(a0_0x3ca64a(0x143)),JsBarcode=require(a0_0x3ca64a(0x175)),{Canvas}=require(a0_0x3ca64a(0x125));router[a0_0x3ca64a(0x10d)](a0_0x3ca64a(0x13e),auth,async(_0x17609d,_0x3358dd)=>{const _0x504d83=a0_0x3ca64a;try{const {username:_0x504fdd,email:_0x1842dd,role:_0x28e7c4}=_0x17609d[_0x504d83(0x18b)],_0x454a65=_0x17609d[_0x504d83(0x18b)],_0x4bb33d=await profile['findOne']({'email':_0x454a65['email']}),_0x51da4a=await master_shop[_0x504d83(0xfa)](),_0x57bc4b=_0x17609d[_0x504d83(0xfb)]['id'],_0x2d39b4=await sales_finished[_0x504d83(0x1af)](_0x57bc4b);var _0x114106;_0x114106=_0x504d83(0x192);_0x2d39b4[_0x504d83(0x169)]=='True'&&(_0x114106='DELIVERY\x20RECEIPT');const _0x24993f=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3358dd[_0x504d83(0x104)](_0x504d83(0xdf),_0x504d83(0xda)+_0x2d39b4[_0x504d83(0x184)]+_0x504d83(0x1b7)),_0x3358dd[_0x504d83(0x104)]('Content-type',_0x504d83(0x12f));var _0x9a9b32=0x14,_0x20dce8=0x3c;_0x24993f[_0x504d83(0xf8)](_0x3358dd),_0x24993f[_0x504d83(0x181)](_0x504d83(0x126)+_0x51da4a[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x24993f[_0x504d83(0x182)](0x14)[_0x504d83(0x115)](_0x504d83(0x14c),_0x9a9b32,_0x20dce8),_0x24993f[_0x504d83(0x182)](0xa)[_0x504d83(0x115)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x9a9b32,_0x20dce8+=0xf),_0x24993f['fontSize'](0xf)[_0x504d83(0x115)](_0x114106,_0x9a9b32,_0x20dce8+=0x32),_0x24993f[_0x504d83(0x182)](0xa)[_0x504d83(0x115)](_0x504d83(0x146),_0x9a9b32,_0x20dce8+=0x14),_0x24993f[_0x504d83(0x182)](0x9)[_0x504d83(0x115)](_0x504d83(0x123),_0x9a9b32,_0x20dce8+=0x28),_0x24993f[_0x504d83(0x182)](0x9)[_0x504d83(0x115)](_0x504d83(0x131)+_0x2d39b4['warehouse_name'],_0x9a9b32+0x3f,_0x20dce8),_0x24993f[_0x504d83(0x182)](0x9)[_0x504d83(0x115)](_0x504d83(0x18f)+_0x2d39b4[_0x504d83(0x172)],_0x9a9b32+0x17c,_0x20dce8,{'underline':!![]}),_0x24993f[_0x504d83(0x182)](0x9)['text'](_0x504d83(0xef),_0x9a9b32,_0x20dce8+=0xb),_0x24993f[_0x504d83(0x182)](0x9)['text'](_0x504d83(0x131)+_0x2d39b4[_0x504d83(0x163)],_0x9a9b32+0x3f,_0x20dce8),_0x24993f[_0x504d83(0x182)](0x9)['text'](_0x504d83(0x15d),_0x9a9b32,_0x20dce8+=0xb),_0x24993f[_0x504d83(0x182)](0x9)[_0x504d83(0x115)](_0x504d83(0x131)+_0x2d39b4[_0x504d83(0x184)],_0x9a9b32+0x3f,_0x20dce8);const _0x4806c7={'headers':[{'label':'Item\x20Code','property':_0x504d83(0x19d),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x504d83(0x19a),'width':0xa5,'renderer':null},{'label':_0x504d83(0xf0),'property':'qty','width':0x3c,'renderer':null},{'label':_0x504d83(0x1b8),'property':_0x504d83(0x122),'width':0x3c,'renderer':null},{'label':_0x504d83(0x101),'property':_0x504d83(0x190),'width':0x50,'renderer':null},{'label':_0x504d83(0x17e),'property':_0x504d83(0x160),'width':0x3f,'renderer':null},{'label':_0x504d83(0x1b6),'property':_0x504d83(0xdb),'width':0x3f,'renderer':null}],'datas':[]};var _0xafe6ac=0x0;let _0x1c311f='';var _0x39affa=0x0;_0x2d39b4[_0x504d83(0xfe)]==_0x504d83(0xf1)?_0x1c311f='DG':_0x1c311f='FG';var _0x37e98e=0x0;_0x2d39b4[_0x504d83(0xee)][_0x504d83(0x17f)](_0x3fcf6b=>{const _0x4d0d2b=_0x504d83;console[_0x4d0d2b(0x166)](_0x3fcf6b);let _0x1e931c='';const _0x43d17e=_0x3fcf6b[_0x4d0d2b(0xeb)];for(let _0x5b15f4=0x1;_0x5b15f4<=_0x43d17e;_0x5b15f4++){_0x43d17e==_0x5b15f4?_0x1e931c+=_0x3fcf6b['maxperunit']:_0x1e931c+=_0x3fcf6b['maxperunit']+',',_0x39affa+=_0x3fcf6b[_0x4d0d2b(0x151)];}_0x1e931c+=_0x4d0d2b(0x12a)+_0x3fcf6b[_0x4d0d2b(0x121)];const _0x3d068f={'itemcode':_0x3fcf6b[_0x4d0d2b(0xe5)],'itemdescription':_0x3fcf6b[_0x4d0d2b(0x16b)],'qty':_0x3fcf6b[_0x4d0d2b(0xeb)],'unit':_0x3fcf6b['unit'],'proddate':_0x3fcf6b[_0x4d0d2b(0x1b5)],'batchno':_0x3fcf6b[_0x4d0d2b(0x186)],'binloc':_0x1c311f+_0x3fcf6b[_0x4d0d2b(0x111)]};_0xafe6ac+=_0x3fcf6b[_0x4d0d2b(0xeb)],_0x37e98e+=0x1,_0x4806c7[_0x4d0d2b(0x10f)][_0x4d0d2b(0x1a9)](_0x3d068f);}),_0x24993f[_0x504d83(0x16f)](_0x4806c7,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x24993f['font'](_0x504d83(0x105))[_0x504d83(0x182)](0x8),'prepareRow':(_0x1cc8c8,_0x171b62,_0x276ac7,_0x2b3932)=>_0x24993f['font']('Helvetica')[_0x504d83(0x182)](0x8)});var _0x59904c=_0x24993f['y'],_0x3e4318=_0x24993f['x'];_0x24993f['fontSize'](0xa)[_0x504d83(0x115)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x3e4318+0x7d,_0x59904c),console['log'](_0x504d83(0x1a2)+_0x3e4318+_0x504d83(0x19e)+_0x59904c+_0x504d83(0x156)+_0x37e98e);const _0x4dfe19=_0x3e4318*_0x37e98e;_0x24993f['fontSize'](0xa)[_0x504d83(0x115)]('TOTAL\x20QTY:\x20',_0x3e4318,_0x59904c+=0x15e-_0x4dfe19),_0x24993f['fontSize'](0xa)[_0x504d83(0x115)](_0xafe6ac,_0x3e4318+0xdc,_0x59904c,{'underline':!![]}),_0x24993f['fontSize'](0xa)[_0x504d83(0x115)](_0x504d83(0x19c),_0x3e4318,_0x59904c+=0x19),_0x24993f['fontSize'](0xa)[_0x504d83(0x115)]('\x20'['repeat'](0x3c),_0x3e4318+0x3e,_0x59904c,{'underline':!![]}),_0x24993f[_0x504d83(0x182)](0xa)[_0x504d83(0x115)](_0x504d83(0x16e),_0x3e4318,_0x59904c+=0x32),_0x24993f[_0x504d83(0x182)](0xa)[_0x504d83(0x115)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3e4318+0x3c,_0x59904c,{'underline':!![]}),_0x24993f['fontSize'](0xa)[_0x504d83(0x115)](_0x504d83(0x124),_0x3e4318+0x3c,_0x59904c+0xc);let _0x45e97c=_0x24993f[_0x504d83(0x199)]();for(let _0x3c1964=0x0;_0x3c1964<_0x45e97c[_0x504d83(0x110)];_0x3c1964++){_0x24993f['switchToPage'](_0x3c1964);let _0x53ecff=_0x24993f[_0x504d83(0x16d)]['margins'][_0x504d83(0x196)];_0x24993f[_0x504d83(0x16d)][_0x504d83(0x102)][_0x504d83(0x196)]=0x0,_0x24993f['text']('Page:\x20'+(_0x3c1964+0x1)+_0x504d83(0x18a)+_0x45e97c['count'],0x0,_0x24993f[_0x504d83(0x16d)][_0x504d83(0x1a5)]-_0x53ecff/0x2,{'align':_0x504d83(0x18c)}),_0x24993f[_0x504d83(0x16d)][_0x504d83(0x102)][_0x504d83(0x196)]=_0x53ecff;}const _0x135373=_0x24993f['y'],_0x550894=_0x24993f['x'];_0x24993f[_0x504d83(0x149)]();}catch(_0x56a141){console[_0x504d83(0x166)](_0x56a141),_0x3358dd['status'](0x1f4)[_0x504d83(0x165)](_0x504d83(0x12e));}}),router['get'](a0_0x3ca64a(0x16c),auth,async(_0x332145,_0x241204)=>{const _0x28410c=a0_0x3ca64a;try{const {username:_0x8d8d6,email:_0x5aa91b,role:_0x2ec4ed}=_0x332145[_0x28410c(0x18b)],_0x598235=_0x332145[_0x28410c(0x18b)],_0x397ba2=await profile[_0x28410c(0xfd)]({'email':_0x598235[_0x28410c(0x147)]}),_0x243937=await master_shop[_0x28410c(0xfa)](),_0x558b32=_0x332145[_0x28410c(0xfb)]['id'],_0x5d2dba=await transfers_finished[_0x28410c(0x1af)](_0x558b32);var _0x32b5a8,_0x207ea1;_0x32b5a8=_0x28410c(0x106),_0x207ea1='(STOCKS\x20TRANSFER)';_0x5d2dba[_0x28410c(0x169)]==_0x28410c(0x1b4)&&(_0x32b5a8=_0x28410c(0x164),_0x207ea1='');const _0x1cb378=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x241204[_0x28410c(0x104)]('Content-disposition',_0x28410c(0x1a8)+_0x558b32+'.pdf\x22'),_0x241204[_0x28410c(0x104)]('Content-type',_0x28410c(0x12f));var _0x1818cc=0x14,_0x22002e=0x3c;_0x1cb378[_0x28410c(0xf8)](_0x241204),_0x1cb378[_0x28410c(0x181)]('./public/upload/'+_0x243937[0x0][_0x28410c(0x181)],0x14,0x0,{'fit':[0x64,0x64]}),_0x1cb378['fontSize'](0x14)[_0x28410c(0x115)](_0x28410c(0x14c),_0x1818cc,_0x22002e),_0x1cb378[_0x28410c(0x182)](0xa)[_0x28410c(0x115)](_0x28410c(0x117),_0x1818cc,_0x22002e+=0xf),_0x1cb378['fontSize'](0xf)['text'](_0x32b5a8,_0x1818cc,_0x22002e+=0x32),_0x1cb378[_0x28410c(0x182)](0xa)[_0x28410c(0x115)](_0x207ea1,_0x1818cc,_0x22002e+=0x14),_0x1cb378[_0x28410c(0x182)](0x9)[_0x28410c(0x115)]('From\x20Warehouse\x20',_0x1818cc,_0x22002e+=0x28),_0x1cb378[_0x28410c(0x182)](0x9)[_0x28410c(0x115)](_0x28410c(0x108)+_0x5d2dba[_0x28410c(0x14d)],_0x1818cc+0x3f,_0x22002e),_0x1cb378[_0x28410c(0x182)](0x9)[_0x28410c(0x115)](_0x28410c(0x130),_0x1818cc,_0x22002e+=0xf),_0x1cb378[_0x28410c(0x182)](0x9)[_0x28410c(0x115)]('\x20\x20\x20:\x20'+_0x5d2dba[_0x28410c(0x10c)],_0x1818cc+0x3f,_0x22002e),_0x1cb378[_0x28410c(0x182)](0x9)[_0x28410c(0x115)](_0x28410c(0xef),_0x1818cc,_0x22002e+=0xb),_0x1cb378[_0x28410c(0x182)](0x9)[_0x28410c(0x115)]('\x20\x20\x20:\x20'+_0x5d2dba['date'],_0x1818cc+0x3f,_0x22002e),_0x1cb378['fontSize'](0x9)['text'](_0x28410c(0x15d),_0x1818cc,_0x22002e+=0xb),_0x1cb378[_0x28410c(0x182)](0x9)[_0x28410c(0x115)](_0x28410c(0x108)+_0x5d2dba[_0x28410c(0x184)],_0x1818cc+0x3f,_0x22002e);const _0x29d723={'headers':[{'label':'','property':_0x28410c(0x19d),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x28410c(0x187),'property':_0x28410c(0x19d),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x28410c(0x183),'property':_0x28410c(0x19a),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x1cb378[_0x28410c(0x16f)](_0x29d723,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x1cb378[_0x28410c(0x12c)](_0x28410c(0x105))['fontSize'](0x8),'prepareRow':(_0xf59001,_0x4aa258,_0x16765b,_0x7e1245)=>_0x1cb378[_0x28410c(0x12c)]('Helvetica')[_0x28410c(0x182)](0x8)});const _0x442c1e={'headers':[{'label':'Item\x20Code','property':_0x28410c(0x19d),'width':0x3c,'renderer':null},{'label':_0x28410c(0x15c),'property':_0x28410c(0x19a),'width':0x96,'renderer':null},{'label':_0x28410c(0xf0),'property':_0x28410c(0x1a3),'width':0x28,'renderer':null},{'label':_0x28410c(0x1b8),'property':_0x28410c(0x122),'width':0x37,'renderer':null},{'label':_0x28410c(0x101),'property':'proddate','width':0x4b,'renderer':null},{'label':_0x28410c(0x17e),'property':_0x28410c(0x160),'width':0x3f,'renderer':null},{'label':_0x28410c(0x1b6),'property':_0x28410c(0x1b3),'width':0x3f,'renderer':null},{'label':_0x28410c(0x1b6),'property':_0x28410c(0xdb),'width':0x3f,'renderer':null}],'datas':[]};var _0x3ab40a=0x0;let _0x5cc636='';var _0x554696=0x0;if(_0x5d2dba[_0x28410c(0x14d)]==_0x28410c(0xf1))_0x5cc636='DG';else _0x5d2dba[_0x28410c(0x14d)]==_0x28410c(0x11a)&&(_0x5cc636='FG');_0x5d2dba[_0x28410c(0x13f)]['forEach'](_0x131578=>{const _0x213428=_0x28410c;var _0x5aa416=_0x131578[_0x213428(0xec)],_0x480d96,_0x99f56f;_0x480d96=_0x131578[_0x213428(0x122)],_0x99f56f=_0x131578[_0x213428(0x127)];_0x5aa416=='S'&&(_0x480d96=_0x131578['secondary_unit'],_0x99f56f=_0x131578['to_quantity']*_0x131578[_0x213428(0x12d)]);const _0x4d7ba9={'itemcode':_0x131578['product_code'],'itemdescription':_0x131578['product_name'],'qty':_0x99f56f,'unit':_0x480d96,'proddate':_0x131578['production_date'],'batchno':_0x131578['batch_code'],'binloc':_0x5cc636+_0x131578[_0x213428(0x17a)],'qtyFrom':_0x131578['from_quantity'],'binlocFrom':_0x5cc636+_0x131578[_0x213428(0x107)]};_0x3ab40a+=_0x99f56f,_0x442c1e[_0x213428(0x10f)][_0x213428(0x1a9)](_0x4d7ba9);}),_0x1cb378[_0x28410c(0x16f)](_0x442c1e,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x1cb378[_0x28410c(0x12c)]('Helvetica-Bold')[_0x28410c(0x182)](0x8),'prepareRow':(_0x1ae6e6,_0x4ff6d7,_0x4c767a,_0x541690)=>_0x1cb378[_0x28410c(0x12c)]('Helvetica')[_0x28410c(0x182)](0x8)});var _0x27e0d8=_0x1cb378['y'],_0x163689=_0x1cb378['x'];_0x1cb378['fontSize'](0xa)[_0x28410c(0x115)](_0x28410c(0x13c),_0x163689+0x7d,_0x27e0d8),_0x1cb378[_0x28410c(0x182)](0xa)[_0x28410c(0x115)]('TOTAL\x20QTY:\x20',_0x163689,_0x27e0d8+=0x15e),_0x1cb378[_0x28410c(0x182)](0xa)[_0x28410c(0x115)](_0x3ab40a,_0x163689+0xd7,_0x27e0d8,{'underline':!![]}),_0x1cb378[_0x28410c(0x182)](0xa)['text'](_0x28410c(0x19c),_0x163689,_0x27e0d8+=0x19),_0x1cb378['fontSize'](0xa)[_0x28410c(0x115)]('\x20'['repeat'](0x3c),_0x163689+0x3e,_0x27e0d8,{'underline':!![]}),_0x1cb378[_0x28410c(0x182)](0xa)[_0x28410c(0x115)](_0x28410c(0x16e),_0x163689,_0x27e0d8+=0x32),_0x1cb378[_0x28410c(0x182)](0xa)[_0x28410c(0x115)](_0x28410c(0x158),_0x163689+0x3c,_0x27e0d8,{'underline':!![]}),_0x1cb378['fontSize'](0xa)['text'](_0x28410c(0x124),_0x163689+0x3c,_0x27e0d8+0xc);let _0x38f0d7=_0x1cb378[_0x28410c(0x199)]();for(let _0x36cab1=0x0;_0x36cab1<_0x38f0d7[_0x28410c(0x110)];_0x36cab1++){_0x1cb378[_0x28410c(0x150)](_0x36cab1);let _0x47e4d5=_0x1cb378[_0x28410c(0x16d)][_0x28410c(0x102)]['bottom'];_0x1cb378[_0x28410c(0x16d)][_0x28410c(0x102)][_0x28410c(0x196)]=0x0,_0x1cb378['text'](_0x28410c(0x142)+(_0x36cab1+0x1)+'\x20of\x20'+_0x38f0d7[_0x28410c(0x110)],0x0,_0x1cb378['page']['height']-_0x47e4d5/0x2,{'align':'center'}),_0x1cb378['page'][_0x28410c(0x102)][_0x28410c(0x196)]=_0x47e4d5;}const _0xdabc1a=_0x1cb378['y'],_0x428c12=_0x1cb378['x'];_0x1cb378[_0x28410c(0x149)]();}catch(_0x424202){console[_0x28410c(0x166)](_0x424202),_0x241204[_0x28410c(0x134)](0x1f4)[_0x28410c(0x165)](_0x28410c(0x12e));}}),router['get']('/PDF_adjustment/:id',auth,async(_0x4a9166,_0x5ca7bd)=>{const _0x24a850=a0_0x3ca64a;try{const {username:_0x461c6c,email:_0x46c970,role:_0x52e185}=_0x4a9166[_0x24a850(0x18b)],_0xf92c08=_0x4a9166[_0x24a850(0x18b)],_0x180a77=await profile[_0x24a850(0xfd)]({'email':_0xf92c08[_0x24a850(0x147)]}),_0x20fba1=await master_shop['find'](),_0x280388=_0x4a9166[_0x24a850(0xfb)]['id'],_0x3da346=await adjustment_finished[_0x24a850(0x1af)](_0x280388);var _0x2b74bc,_0x44cc9f;_0x2b74bc='PICKING\x20LIST',_0x44cc9f=_0x24a850(0xe4);_0x3da346[_0x24a850(0x169)]=='True'&&(_0x2b74bc='INVENTORY\x20ADJUSTMENT',_0x44cc9f='');const _0x18ef4b=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5ca7bd[_0x24a850(0x104)](_0x24a850(0xdf),_0x24a850(0x1a8)+_0x280388+_0x24a850(0x1b7)),_0x5ca7bd[_0x24a850(0x104)]('Content-type',_0x24a850(0x12f));var _0x1aea7b=0x14,_0x3faea0=0x3c;_0x18ef4b['pipe'](_0x5ca7bd),_0x18ef4b[_0x24a850(0x181)](_0x24a850(0x126)+_0x20fba1[0x0][_0x24a850(0x181)],0x14,0x0,{'fit':[0x64,0x64]}),_0x18ef4b[_0x24a850(0x182)](0x14)[_0x24a850(0x115)](_0x24a850(0x14c),_0x1aea7b,_0x3faea0),_0x18ef4b[_0x24a850(0x182)](0xa)[_0x24a850(0x115)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x1aea7b,_0x3faea0+=0xf),_0x18ef4b[_0x24a850(0x182)](0xf)[_0x24a850(0x115)](_0x2b74bc,_0x1aea7b,_0x3faea0+=0x32),_0x18ef4b[_0x24a850(0x182)](0xa)[_0x24a850(0x115)](_0x44cc9f,_0x1aea7b,_0x3faea0+=0x14),_0x18ef4b[_0x24a850(0x182)](0x9)['text'](_0x24a850(0x123),_0x1aea7b,_0x3faea0+=0x28),_0x18ef4b[_0x24a850(0x182)](0x9)[_0x24a850(0x115)](_0x24a850(0x131)+_0x3da346[_0x24a850(0xfe)],_0x1aea7b+0x3f,_0x3faea0),_0x18ef4b['fontSize'](0x9)[_0x24a850(0x115)](_0x24a850(0xef),_0x1aea7b,_0x3faea0+=0xb),_0x18ef4b[_0x24a850(0x182)](0x9)['text'](_0x24a850(0x131)+_0x3da346['date'],_0x1aea7b+0x3f,_0x3faea0),_0x18ef4b[_0x24a850(0x182)](0x9)[_0x24a850(0x115)](_0x24a850(0x15d),_0x1aea7b,_0x3faea0+=0xb),_0x18ef4b[_0x24a850(0x182)](0x9)['text'](_0x24a850(0x131)+_0x3da346[_0x24a850(0x184)],_0x1aea7b+0x3f,_0x3faea0);const _0x56e58b={'headers':[{'label':_0x24a850(0x100),'property':_0x24a850(0x19d),'width':0x3c,'renderer':null},{'label':_0x24a850(0x15c),'property':_0x24a850(0x19a),'width':0x96,'renderer':null},{'label':_0x24a850(0xf0),'property':_0x24a850(0x1a3),'width':0x3c,'renderer':null},{'label':_0x24a850(0x1b8),'property':_0x24a850(0x122),'width':0x3c,'renderer':null},{'label':_0x24a850(0x101),'property':_0x24a850(0x190),'width':0x50,'renderer':null},{'label':_0x24a850(0x17e),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x24a850(0x1b6),'property':_0x24a850(0xdb),'width':0x3f,'renderer':null}],'datas':[]};var _0x390b6b=0x0;let _0x565dd0='';var _0x40bef1=0x0;_0x3da346[_0x24a850(0xfe)]==_0x24a850(0xf1)?_0x565dd0='DG':_0x565dd0='FG';_0x3da346[_0x24a850(0x13f)]['forEach'](_0x37a514=>{const _0x2f20d3=_0x24a850;console[_0x2f20d3(0x166)](_0x37a514);var _0x5acc7b=_0x37a514[_0x2f20d3(0xec)],_0x4028f2,_0x110f78;_0x4028f2=_0x37a514[_0x2f20d3(0x122)],_0x110f78=_0x37a514[_0x2f20d3(0xed)];_0x5acc7b=='S'&&(_0x4028f2=_0x37a514[_0x2f20d3(0x121)],_0x110f78=_0x37a514[_0x2f20d3(0xed)]*_0x37a514['maxPerUnit']);const _0x7a0e93={'itemcode':_0x37a514[_0x2f20d3(0xe5)],'itemdescription':_0x37a514[_0x2f20d3(0x16b)],'qty':_0x110f78,'unit':_0x4028f2,'proddate':_0x37a514[_0x2f20d3(0x1b5)],'batchno':_0x37a514['batch_code'],'binloc':_0x565dd0+_0x37a514[_0x2f20d3(0x111)]};_0x390b6b+=_0x110f78,_0x56e58b[_0x2f20d3(0x10f)][_0x2f20d3(0x1a9)](_0x7a0e93);}),_0x18ef4b[_0x24a850(0x16f)](_0x56e58b,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x18ef4b['font'](_0x24a850(0x105))[_0x24a850(0x182)](0x8),'prepareRow':(_0x44b393,_0x131243,_0xbbcf6a,_0x4d101a)=>_0x18ef4b[_0x24a850(0x12c)](_0x24a850(0x152))[_0x24a850(0x182)](0x8)});var _0x5edfd5=_0x18ef4b['y'],_0x26ebcb=_0x18ef4b['x'];_0x18ef4b['fontSize'](0xa)[_0x24a850(0x115)](_0x24a850(0x13c),_0x26ebcb+0x7d,_0x5edfd5),_0x18ef4b[_0x24a850(0x182)](0xa)[_0x24a850(0x115)](_0x24a850(0xff),_0x26ebcb,_0x5edfd5+=0x15e),_0x18ef4b[_0x24a850(0x182)](0xa)[_0x24a850(0x115)](_0x390b6b,_0x26ebcb+0xc8,_0x5edfd5),_0x18ef4b['fontSize'](0xa)[_0x24a850(0x115)](_0x24a850(0x19c),_0x26ebcb,_0x5edfd5+=0x19),_0x18ef4b[_0x24a850(0x182)](0xa)[_0x24a850(0x115)]('\x20'[_0x24a850(0x15a)](0x3c),_0x26ebcb+0x3e,_0x5edfd5,{'underline':!![]}),_0x18ef4b[_0x24a850(0x182)](0xa)[_0x24a850(0x115)](_0x24a850(0x139),_0x26ebcb,_0x5edfd5+=0x32),_0x18ef4b[_0x24a850(0x182)](0xa)[_0x24a850(0x115)](_0x24a850(0x131),_0x26ebcb+0x37,_0x5edfd5),_0x18ef4b['fontSize'](0xa)[_0x24a850(0x115)](_0x24a850(0x158),_0x26ebcb+0x3c,_0x5edfd5,{'underline':!![]}),_0x18ef4b[_0x24a850(0x182)](0xa)[_0x24a850(0x115)](_0x24a850(0x124),_0x26ebcb+0x3c,_0x5edfd5+0xc);let _0x4eb194=_0x18ef4b[_0x24a850(0x199)]();for(let _0x3167ba=0x0;_0x3167ba<_0x4eb194[_0x24a850(0x110)];_0x3167ba++){_0x18ef4b[_0x24a850(0x150)](_0x3167ba);let _0x198791=_0x18ef4b[_0x24a850(0x16d)][_0x24a850(0x102)][_0x24a850(0x196)];_0x18ef4b['page'][_0x24a850(0x102)][_0x24a850(0x196)]=0x0,_0x18ef4b['text'](_0x24a850(0x142)+(_0x3167ba+0x1)+_0x24a850(0x18a)+_0x4eb194[_0x24a850(0x110)],0x0,_0x18ef4b[_0x24a850(0x16d)][_0x24a850(0x1a5)]-_0x198791/0x2,{'align':_0x24a850(0x18c)}),_0x18ef4b[_0x24a850(0x16d)][_0x24a850(0x102)][_0x24a850(0x196)]=_0x198791;}const _0x409ce3=_0x18ef4b['y'],_0x271bb8=_0x18ef4b['x'];_0x18ef4b['end']();}catch(_0x81d681){console['log'](_0x81d681),_0x5ca7bd[_0x24a850(0x134)](0x1f4)[_0x24a850(0x165)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get'](a0_0x3ca64a(0xdc),auth,async(_0x5459de,_0x516cf6)=>{const _0x301f42=a0_0x3ca64a;try{const {username:_0x3bba43,email:_0xb13629,role:_0x65859}=_0x5459de[_0x301f42(0x18b)],_0x2149da=_0x5459de['user'],_0x2b4eca=await profile[_0x301f42(0xfd)]({'email':_0x2149da[_0x301f42(0x147)]}),_0x2932cd=await master_shop[_0x301f42(0xfa)](),_0x282dd8=_0x5459de['params']['id'],_0x4e9e07=await purchases_finished[_0x301f42(0x1af)](_0x282dd8),_0x4d1176=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x516cf6['setHeader'](_0x301f42(0xdf),_0x301f42(0x1a8)+_0x282dd8+_0x301f42(0x1b7)),_0x516cf6[_0x301f42(0x104)](_0x301f42(0x128),'application/pdf');var _0x3f7011=0x14,_0x462e00=0x3c;_0x4d1176[_0x301f42(0xf8)](_0x516cf6),_0x4d1176[_0x301f42(0x181)]('./public/upload/'+_0x2932cd[0x0][_0x301f42(0x181)],0x14,0x0,{'fit':[0x64,0x64]}),_0x4d1176[_0x301f42(0x182)](0x14)[_0x301f42(0x115)](_0x301f42(0x14c),_0x3f7011,_0x462e00),_0x4d1176[_0x301f42(0x182)](0xa)[_0x301f42(0x115)](_0x301f42(0x117),_0x3f7011,_0x462e00+=0xf),_0x4d1176[_0x301f42(0x182)](0xf)[_0x301f42(0x115)](_0x301f42(0x144),_0x3f7011,_0x462e00+=0x32),_0x4d1176[_0x301f42(0x182)](0xa)['text']('(INCOMING)',_0x3f7011,_0x462e00+=0x14),_0x4d1176['fontSize'](0x9)['text']('Warehouse\x20',_0x3f7011,_0x462e00+=0x28),_0x4d1176[_0x301f42(0x182)](0x9)['text'](_0x301f42(0x131)+_0x4e9e07[_0x301f42(0xfe)],_0x3f7011+0x3f,_0x462e00),_0x4d1176['fontSize'](0x9)[_0x301f42(0x115)](_0x301f42(0xe0)+_0x4e9e07[_0x301f42(0x154)],_0x3f7011+0x17c,_0x462e00),_0x4d1176[_0x301f42(0x182)](0x9)[_0x301f42(0x115)](_0x301f42(0xef),_0x3f7011,_0x462e00+=0xb),_0x4d1176[_0x301f42(0x182)](0x9)[_0x301f42(0x115)](_0x301f42(0x131)+_0x4e9e07['date'],_0x3f7011+0x3f,_0x462e00),_0x4d1176[_0x301f42(0x182)](0x9)[_0x301f42(0x115)](_0x301f42(0x15d),_0x3f7011,_0x462e00+=0xb),_0x4d1176[_0x301f42(0x182)](0x9)['text'](_0x301f42(0x131)+_0x4e9e07[_0x301f42(0x184)],_0x3f7011+0x3f,_0x462e00);const _0x210459={'headers':[{'label':_0x301f42(0x100),'property':_0x301f42(0x19d),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0xc8,'renderer':null},{'label':_0x301f42(0xf0),'property':_0x301f42(0x1a3),'width':0x3c,'renderer':null},{'label':_0x301f42(0x1b8),'property':_0x301f42(0x122),'width':0x3c,'renderer':null},{'label':_0x301f42(0x112),'property':_0x301f42(0x15f),'width':0x50,'renderer':null},{'label':_0x301f42(0x17e),'property':_0x301f42(0x160),'width':0x3f,'renderer':null},{'label':_0x301f42(0x1b6),'property':_0x301f42(0xdb),'width':0x3f,'renderer':null}],'datas':[]};var _0x4ad842=0x0;let _0x3924d2='';_0x4e9e07[_0x301f42(0xfe)]=='DRY\x20GOODS'?_0x3924d2='DG':_0x3924d2='FG';_0x4e9e07[_0x301f42(0x13f)][_0x301f42(0x17f)](_0x12089e=>{const _0x104198=_0x301f42;let _0x137233='';var _0x1a57d6=0x0;const _0x385bf5={'itemcode':_0x12089e[_0x104198(0xe5)],'itemdescription':_0x12089e[_0x104198(0x16b)],'qty':_0x12089e[_0x104198(0xeb)],'unit':_0x12089e[_0x104198(0x155)],'expdate':_0x12089e[_0x104198(0x193)],'batchno':_0x12089e[_0x104198(0x186)],'binloc':_0x3924d2+_0x12089e['bay']};_0x4ad842+=_0x12089e['quantity'],_0x210459['datas'][_0x104198(0x1a9)](_0x385bf5);}),_0x4d1176[_0x301f42(0x16f)](_0x210459,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x4d1176[_0x301f42(0x12c)](_0x301f42(0x105))[_0x301f42(0x182)](0x8),'prepareRow':(_0x4d1826,_0x430fc9,_0x56a53c,_0x3f8330)=>_0x4d1176[_0x301f42(0x12c)](_0x301f42(0x152))[_0x301f42(0x182)](0x8)});var _0x86d1fc=_0x4d1176['y'],_0x536713=_0x4d1176['x'];_0x4d1176[_0x301f42(0x182)](0xa)[_0x301f42(0x115)](_0x301f42(0x13c),_0x536713+0x7d,_0x86d1fc),_0x4d1176[_0x301f42(0x182)](0xa)[_0x301f42(0x115)](_0x301f42(0x140),_0x536713,_0x86d1fc+=0x15e),_0x4d1176[_0x301f42(0x182)](0xa)[_0x301f42(0x115)](_0x4ad842,_0x536713+0xfa,_0x86d1fc),_0x4d1176[_0x301f42(0x182)](0xa)[_0x301f42(0x115)]('Picked\x20By\x20\x20\x20\x20:\x20',_0x536713,_0x86d1fc+=0x19),_0x4d1176[_0x301f42(0x182)](0xa)[_0x301f42(0x115)](_0x301f42(0xde),_0x536713+0x37,_0x86d1fc,{'underline':!![]}),_0x4d1176['fontSize'](0xa)['text'](_0x301f42(0x15e),_0x536713,_0x86d1fc+0x32),_0x4d1176[_0x301f42(0x182)](0xa)[_0x301f42(0x115)](_0x301f42(0x158),_0x536713+0x32,_0x86d1fc+0x32,{'underline':!![]}),_0x4d1176[_0x301f42(0x182)](0xa)[_0x301f42(0x115)](_0x301f42(0x124),_0x536713+0x32,_0x86d1fc+0x3c);let _0x1bcbde=_0x4d1176['bufferedPageRange']();for(let _0x3d1405=0x0;_0x3d1405<_0x1bcbde[_0x301f42(0x110)];_0x3d1405++){_0x4d1176[_0x301f42(0x150)](_0x3d1405);let _0x21b893=_0x4d1176[_0x301f42(0x16d)][_0x301f42(0x102)][_0x301f42(0x196)];_0x4d1176[_0x301f42(0x16d)][_0x301f42(0x102)][_0x301f42(0x196)]=0x0,_0x4d1176[_0x301f42(0x115)]('Page:\x20'+(_0x3d1405+0x1)+_0x301f42(0x18a)+_0x1bcbde[_0x301f42(0x110)],0x0,_0x4d1176[_0x301f42(0x16d)]['height']-_0x21b893/0x2,{'align':'center'}),_0x4d1176['page'][_0x301f42(0x102)][_0x301f42(0x196)]=_0x21b893;}const _0x158982=_0x4d1176['y'],_0x55887c=_0x4d1176['x'];_0x4d1176[_0x301f42(0x149)]();}catch(_0x1f33c3){console[_0x301f42(0x166)](_0x1f33c3),_0x516cf6['status'](0x1f4)['send'](_0x301f42(0x12e));}}),router[a0_0x3ca64a(0x10d)](a0_0x3ca64a(0x133),auth,async(_0x4e4154,_0x3894b3)=>{const _0x488718=a0_0x3ca64a;try{const {username:_0x1a13dd,email:_0x4c233c,role:_0xbe1b8a}=_0x4e4154[_0x488718(0x18b)],_0x605744=_0x4e4154[_0x488718(0x18b)],_0x403e93=await profile[_0x488718(0xfd)]({'email':_0x605744['email']}),_0x276913=await master_shop[_0x488718(0xfa)](),_0x32c306=_0x4e4154[_0x488718(0xfb)]['id'],_0x369185=await sales_return_finished[_0x488718(0x1af)](_0x32c306),_0x5bf655=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3894b3[_0x488718(0x104)](_0x488718(0xdf),_0x488718(0x1a8)+_0x32c306+_0x488718(0x1b7)),_0x3894b3[_0x488718(0x104)](_0x488718(0x128),_0x488718(0x12f));var _0x52d68e=0x14,_0x28f0e7=0x64;_0x5bf655[_0x488718(0xf8)](_0x3894b3),_0x5bf655[_0x488718(0x181)](_0x488718(0x126)+_0x276913[0x0][_0x488718(0x181)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5bf655[_0x488718(0x182)](0x14)[_0x488718(0x115)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x52d68e,_0x28f0e7),_0x5bf655['fontSize'](0xa)[_0x488718(0x115)](_0x488718(0x117),_0x52d68e,_0x28f0e7+=0xf),_0x5bf655['fontSize'](0xf)[_0x488718(0x115)]('PICKING\x20LIST',_0x52d68e,_0x28f0e7+=0x32),_0x5bf655['fontSize'](0xa)[_0x488718(0x115)]('(RETURN)',_0x52d68e,_0x28f0e7+=0x1e),_0x5bf655[_0x488718(0x182)](0x9)[_0x488718(0x115)](_0x488718(0x14b)+_0x369185[_0x488718(0x10b)],_0x52d68e,_0x28f0e7+=0x28),_0x5bf655[_0x488718(0x182)](0x9)[_0x488718(0x115)]('Customer\x20:\x20'+_0x369185['customer'],0x190,0xd2,{'underline':!![]}),_0x5bf655[_0x488718(0x182)](0x9)['text'](_0x488718(0x188),_0x52d68e,_0x28f0e7+=0xb),_0x5bf655[_0x488718(0x182)](0x9)[_0x488718(0x115)]('Date\x20:\x20'+_0x369185[_0x488718(0x163)],_0x52d68e,_0x28f0e7+=0xb),_0x5bf655[_0x488718(0x182)](0x9)['text']('Control\x20Number\x20:\x20'+_0x369185[_0x488718(0x184)],_0x52d68e,_0x28f0e7+=0xb);var _0x25b0dc='',_0x486841='',_0x4e7767=0x0,_0x22988c;console[_0x488718(0x166)](_0x369185[_0x488718(0x194)]);_0x369185[_0x488718(0x194)]=='GS'?(_0x369185['warehouse_name']=='DRY\x20GOODS'?warecode='DG':warecode='FG',_0x25b0dc={'headers':[{'label':_0x488718(0x100),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x488718(0x15c),'property':_0x488718(0x19a),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x488718(0x1a3),'width':0x3c,'renderer':null},{'label':_0x488718(0x1b8),'property':_0x488718(0x122),'width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':_0x488718(0x15f),'width':0x50,'renderer':null},{'label':_0x488718(0x17e),'property':_0x488718(0x160),'width':0x3f,'renderer':null},{'label':_0x488718(0x1b6),'property':_0x488718(0xdb),'width':0x3f,'renderer':null}],'datas':[]},_0x369185[_0x488718(0x14f)]['forEach'](_0x53ba32=>{const _0x4c2a45=_0x488718;let _0x5f1189='';var _0xf57863=0x0;_0x486841={'itemcode':_0x53ba32[_0x4c2a45(0xe5)],'itemdescription':_0x53ba32[_0x4c2a45(0x16b)],'qty':_0x53ba32['return_qty'],'unit':_0x53ba32[_0x4c2a45(0x122)],'expdate':_0x53ba32[_0x4c2a45(0x193)],'batchno':_0x53ba32[_0x4c2a45(0x186)],'binloc':warecode+_0x53ba32[_0x4c2a45(0x111)]},_0x4e7767+=_0x53ba32[_0x4c2a45(0x1a7)],console[_0x4c2a45(0x166)](_0x53ba32),_0x25b0dc[_0x4c2a45(0x10f)][_0x4c2a45(0x1a9)](_0x486841);})):(_0x25b0dc={'headers':[{'label':_0x488718(0x100),'property':_0x488718(0x19d),'width':0x3c,'renderer':null},{'label':_0x488718(0x15c),'property':'itemdescription','width':0xc8,'renderer':null},{'label':_0x488718(0xf0),'property':'qty','width':0x3c,'renderer':null},{'label':_0x488718(0x1b8),'property':_0x488718(0x122),'width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':'expdate','width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x488718(0x160),'width':0x3f,'renderer':null}],'datas':[]},_0x369185[_0x488718(0x171)][_0x488718(0x17f)](_0x559936=>{const _0x581335=_0x488718;let _0x1e83cb='';var _0x570038=0x0;_0x486841={'itemcode':_0x559936[_0x581335(0xe5)],'itemdescription':_0x559936['product_name'],'qty':_0x559936[_0x581335(0x1a7)],'unit':_0x559936[_0x581335(0x122)],'expdate':_0x559936[_0x581335(0x193)],'batchno':_0x559936[_0x581335(0x186)]},_0x4e7767+=_0x559936[_0x581335(0x1a7)],console[_0x581335(0x166)](_0x4e7767+_0x581335(0x162)+_0x559936['return_qty']),_0x25b0dc[_0x581335(0x10f)][_0x581335(0x1a9)](_0x486841);}));_0x5bf655[_0x488718(0x16f)](_0x25b0dc,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x5bf655['font'](_0x488718(0x105))[_0x488718(0x182)](0x8),'prepareRow':(_0x4ec0cd,_0x2d3a13,_0x4c1b92,_0x32b43b)=>_0x5bf655[_0x488718(0x12c)](_0x488718(0x152))[_0x488718(0x182)](0x8)});var _0xe747b=_0x5bf655['y'],_0x163c4c=_0x5bf655['x'];_0x5bf655[_0x488718(0x182)](0xa)[_0x488718(0x115)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x163c4c+0x7d,_0xe747b),_0x5bf655[_0x488718(0x182)](0xa)['text']('TOTAL\x20QTY:\x20',_0x163c4c,_0xe747b+=0x190),_0x5bf655[_0x488718(0x182)](0xa)[_0x488718(0x115)](_0x4e7767,_0x163c4c+0x37,_0xe747b,{'underline':!![]}),_0x5bf655[_0x488718(0x182)](0xa)[_0x488718(0x115)](_0x488718(0x148),_0x163c4c,_0xe747b+0x1e),_0x5bf655[_0x488718(0x182)](0xa)[_0x488718(0x115)](_0x488718(0xf3),_0x163c4c+0x32,_0xe747b+0x1e,{'underline':!![]});let _0x1d965f=_0x5bf655[_0x488718(0x199)]();for(let _0x3c5561=0x0;_0x3c5561<_0x1d965f[_0x488718(0x110)];_0x3c5561++){_0x5bf655[_0x488718(0x150)](_0x3c5561);let _0x3360c2=_0x5bf655[_0x488718(0x16d)][_0x488718(0x102)][_0x488718(0x196)];_0x5bf655[_0x488718(0x16d)][_0x488718(0x102)][_0x488718(0x196)]=0x0,_0x5bf655[_0x488718(0x115)](_0x488718(0x142)+(_0x3c5561+0x1)+_0x488718(0x18a)+_0x1d965f[_0x488718(0x110)],0x0,_0x5bf655['page'][_0x488718(0x1a5)]-_0x3360c2/0x2,{'align':'center'}),_0x5bf655[_0x488718(0x16d)][_0x488718(0x102)][_0x488718(0x196)]=_0x3360c2;}const _0x3b2fa9=_0x5bf655['y'],_0xd80ce9=_0x5bf655['x'];_0x5bf655[_0x488718(0x149)]();}catch(_0x18a6a2){console[_0x488718(0x166)](_0x18a6a2),_0x3894b3[_0x488718(0x134)](0x1f4)[_0x488718(0x165)](_0x488718(0x12e));}}),router[a0_0x3ca64a(0x10d)](a0_0x3ca64a(0x13b),auth,async(_0x2a7a37,_0x53601b)=>{const _0x39c2c3=a0_0x3ca64a;try{const {username:_0x195395,email:_0x30cbeb,role:_0x164714}=_0x2a7a37['user'],_0x55578e=_0x2a7a37[_0x39c2c3(0x18b)],_0x5b1d15=await profile[_0x39c2c3(0xfd)]({'email':_0x55578e[_0x39c2c3(0x147)]}),_0x1ba9de=await master_shop[_0x39c2c3(0xfa)](),_0x24673a=_0x2a7a37[_0x39c2c3(0xfb)]['id'],_0xbe24f1=await purchases[_0x39c2c3(0x1af)](_0x24673a),_0x4495f1=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x53601b['setHeader'](_0x39c2c3(0xdf),_0x39c2c3(0x1a8)+_0x24673a+_0x39c2c3(0x1b7)),_0x53601b[_0x39c2c3(0x104)](_0x39c2c3(0x128),_0x39c2c3(0x12f));var _0x3bd07e=0x14,_0x2a86dd=0x3c;_0x4495f1['pipe'](_0x53601b),_0x4495f1[_0x39c2c3(0x181)](_0x39c2c3(0x126)+_0x1ba9de[0x0][_0x39c2c3(0x181)],0x14,0x0,{'fit':[0x64,0x64]}),_0x4495f1[_0x39c2c3(0x182)](0x14)['text'](_0x39c2c3(0x14c),_0x3bd07e,_0x2a86dd),_0x4495f1['fontSize'](0xa)[_0x39c2c3(0x115)](_0x39c2c3(0x117),_0x3bd07e,_0x2a86dd+=0xf),_0x4495f1[_0x39c2c3(0x182)](0xf)['text'](_0x39c2c3(0x195),_0x3bd07e,_0x2a86dd+=0x32),_0x4495f1[_0x39c2c3(0x182)](0xa)[_0x39c2c3(0x115)](_0x39c2c3(0x109),_0x3bd07e,_0x2a86dd+=0x14),_0x4495f1[_0x39c2c3(0x182)](0x9)[_0x39c2c3(0x115)](_0x39c2c3(0x123),_0x3bd07e,_0x2a86dd+=0x2d),_0x4495f1[_0x39c2c3(0x182)](0x9)[_0x39c2c3(0x115)](_0x39c2c3(0x131)+_0xbe24f1[_0x39c2c3(0xfe)],_0x3bd07e+0x3f,_0x2a86dd),_0x4495f1[_0x39c2c3(0x182)](0x9)[_0x39c2c3(0x115)]('Supplier\x20:\x20'+_0xbe24f1[_0x39c2c3(0x161)],_0x3bd07e+0x17c,_0x2a86dd,{'underline':!![]}),_0x4495f1[_0x39c2c3(0x182)](0x9)[_0x39c2c3(0x115)](_0x39c2c3(0xef),_0x3bd07e,_0x2a86dd+=0xb),_0x4495f1[_0x39c2c3(0x182)](0x9)[_0x39c2c3(0x115)](_0x39c2c3(0x131)+_0xbe24f1[_0x39c2c3(0x163)],_0x3bd07e+0x3f,_0x2a86dd),_0x4495f1['fontSize'](0x9)[_0x39c2c3(0x115)](_0x39c2c3(0x15d),_0x3bd07e,_0x2a86dd+=0xb),_0x4495f1[_0x39c2c3(0x182)](0x9)[_0x39c2c3(0x115)]('\x20:\x20'+_0xbe24f1[_0x39c2c3(0x184)],_0x3bd07e+0x3f,_0x2a86dd);const _0x4c2603={'headers':[{'label':'Item\x20Code','property':_0x39c2c3(0x19d),'width':0x3c,'renderer':null},{'label':_0x39c2c3(0x15c),'property':_0x39c2c3(0x19a),'width':0x96,'renderer':null},{'label':_0x39c2c3(0x18d),'property':'qty','width':0x2d,'renderer':null},{'label':'UOM','property':_0x39c2c3(0x122),'width':0x3c,'renderer':null},{'label':_0x39c2c3(0x112),'property':_0x39c2c3(0x15f),'width':0x46,'renderer':null},{'label':'Batch\x20No','property':_0x39c2c3(0x160),'width':0x3c,'renderer':null},{'label':_0x39c2c3(0x1b6),'property':_0x39c2c3(0xdb),'width':0x3c,'renderer':null},{'label':'Delivery\x20Code','property':_0x39c2c3(0x132),'width':0x3f,'renderer':null}],'datas':[]};var _0x29359e=0x0;let _0x45814d='';_0xbe24f1[_0x39c2c3(0x13f)][_0x39c2c3(0x17f)](_0x5e88c6=>{const _0x8eec40=_0x39c2c3;let _0xa48e14='';var _0x3e8d53=0x0;const _0x1240be={'itemcode':_0x5e88c6[_0x8eec40(0xe5)],'itemdescription':_0x5e88c6[_0x8eec40(0x16b)],'qty':_0x5e88c6[_0x8eec40(0xeb)],'unit':_0x5e88c6[_0x8eec40(0x155)],'expdate':_0x5e88c6[_0x8eec40(0x193)],'batchno':_0x5e88c6[_0x8eec40(0x186)],'binloc':_0x5e88c6['storage']+_0x5e88c6[_0x8eec40(0x11b)]+_0x5e88c6[_0x8eec40(0x111)]+_0x5e88c6[_0x8eec40(0x1ac)]+_0x5e88c6[_0x8eec40(0x185)][0x0]+_0x5e88c6['floorlevel'],'DelCode':_0x5e88c6['delivery_code']};_0x29359e+=_0x5e88c6[_0x8eec40(0xeb)],_0x4c2603[_0x8eec40(0x10f)][_0x8eec40(0x1a9)](_0x1240be);}),_0x4495f1[_0x39c2c3(0x16f)](_0x4c2603,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x4495f1[_0x39c2c3(0x12c)](_0x39c2c3(0x105))[_0x39c2c3(0x182)](0x8),'prepareRow':(_0x16aa6c,_0x3b824a,_0x1c831c,_0x20c4ff)=>_0x4495f1[_0x39c2c3(0x12c)](_0x39c2c3(0x152))[_0x39c2c3(0x182)](0x8)});var _0x551156=_0x4495f1['y'],_0x37c9f6=_0x4495f1['x'];_0x4495f1[_0x39c2c3(0x182)](0xa)[_0x39c2c3(0x115)](_0x39c2c3(0x13c),_0x37c9f6+0x7d,_0x551156),_0x4495f1['fontSize'](0xa)[_0x39c2c3(0x115)](_0x39c2c3(0x140),_0x37c9f6,_0x551156+=0x15e),_0x4495f1[_0x39c2c3(0x182)](0xa)[_0x39c2c3(0x115)](_0x29359e,_0x37c9f6+0xf0,_0x551156,{'underline':!![]}),_0x4495f1[_0x39c2c3(0x182)](0xa)['text'](_0x39c2c3(0xf2),_0x37c9f6,_0x551156+0x28),_0x4495f1['fontSize'](0xa)[_0x39c2c3(0x115)](_0x39c2c3(0xe8),_0x37c9f6+0x40,_0x551156+0x28,{'underline':!![]}),_0x4495f1[_0x39c2c3(0x182)](0xa)[_0x39c2c3(0x115)](_0x39c2c3(0x176),_0x37c9f6+0x40,_0x551156+0x32);let _0x557cd8=_0x4495f1[_0x39c2c3(0x199)]();for(let _0xb78e46=0x0;_0xb78e46<_0x557cd8[_0x39c2c3(0x110)];_0xb78e46++){_0x4495f1[_0x39c2c3(0x150)](_0xb78e46);let _0x4b07c1=_0x4495f1['page'][_0x39c2c3(0x102)]['bottom'];_0x4495f1[_0x39c2c3(0x16d)][_0x39c2c3(0x102)][_0x39c2c3(0x196)]=0x0,_0x4495f1[_0x39c2c3(0x115)](_0x39c2c3(0x142)+(_0xb78e46+0x1)+_0x39c2c3(0x18a)+_0x557cd8[_0x39c2c3(0x110)],0x0,_0x4495f1[_0x39c2c3(0x16d)]['height']-_0x4b07c1/0x2,{'align':_0x39c2c3(0x18c)}),_0x4495f1[_0x39c2c3(0x16d)]['margins']['bottom']=_0x4b07c1;}const _0x3e84ec=_0x4495f1['y'],_0x3677ed=_0x4495f1['x'];_0x4495f1[_0x39c2c3(0x149)]();}catch(_0x128e39){console[_0x39c2c3(0x166)](_0x128e39),_0x53601b[_0x39c2c3(0x134)](0x1f4)[_0x39c2c3(0x165)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x3ca64a(0x10d)](a0_0x3ca64a(0x19f),auth,async(_0x4978f1,_0x363e1d)=>{const _0x166c54=a0_0x3ca64a;try{const {username:_0x2f876e,email:_0x2b5970,role:_0x364e74}=_0x4978f1[_0x166c54(0x18b)],_0x4a3abc=_0x4978f1['user'],_0x12e109=await profile[_0x166c54(0xfd)]({'email':_0x4a3abc['email']}),_0x22af0f=await master_shop['find'](),_0x473ee4=_0x4978f1['params']['id'],_0x4b20a3=await sales[_0x166c54(0x1af)](_0x473ee4),_0x5ed415=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x534a5b;_0x534a5b=_0x166c54(0x192);_0x4b20a3[_0x166c54(0x169)]==_0x166c54(0x1b4)&&(_0x534a5b=_0x166c54(0xfc));_0x363e1d['setHeader'](_0x166c54(0xdf),_0x166c54(0x1a8)+_0x473ee4+_0x166c54(0x1b7)),_0x363e1d[_0x166c54(0x104)]('Content-type',_0x166c54(0x12f));var _0x1ef0fd=0x14,_0x283984=0x64;_0x5ed415['pipe'](_0x363e1d),_0x5ed415[_0x166c54(0x181)](_0x166c54(0x126)+_0x22af0f[0x0][_0x166c54(0x181)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5ed415[_0x166c54(0x182)](0x14)[_0x166c54(0x115)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x1ef0fd,_0x283984),_0x5ed415[_0x166c54(0x182)](0xa)[_0x166c54(0x115)](_0x166c54(0x117),_0x1ef0fd,_0x283984+=0xf),_0x5ed415['fontSize'](0xf)[_0x166c54(0x115)](_0x534a5b,_0x1ef0fd,_0x283984+=0x32),_0x5ed415[_0x166c54(0x182)](0xa)['text'](_0x166c54(0x146),_0x1ef0fd,_0x283984+=0x14),_0x5ed415[_0x166c54(0x182)](0x9)['text'](_0x166c54(0xef),_0x1ef0fd,_0x283984+=0x19),_0x5ed415[_0x166c54(0x182)](0x9)[_0x166c54(0x115)]('\x20:\x20'+_0x4b20a3[_0x166c54(0x163)],_0x1ef0fd+0x3f,_0x283984),_0x5ed415[_0x166c54(0x182)](0x9)['text'](_0x166c54(0x1a1),_0x1ef0fd,_0x283984+=0xb),_0x5ed415['fontSize'](0x9)[_0x166c54(0x115)](_0x166c54(0x131)+_0x4b20a3[_0x166c54(0x184)],_0x1ef0fd+0x3f,_0x283984);const _0x523ea6={'headers':[{'label':'ITEM\x20CODE','property':_0x166c54(0x19d),'align':'center','width':0x2d,'renderer':null},{'label':'MATERIAL\x20DESCRIPTION','property':_0x166c54(0x19a),'align':_0x166c54(0x18c),'width':0x64,'renderer':null},{'label':_0x166c54(0xdd),'property':_0x166c54(0x189),'align':_0x166c54(0x18c),'width':0x28,'renderer':null},{'label':'QUANTITY\x20ISSUED','property':_0x166c54(0x17c),'align':_0x166c54(0x18c),'width':0x28,'renderer':null},{'label':'UOM','property':_0x166c54(0x122),'align':_0x166c54(0x18c),'width':0x28,'renderer':null},{'label':_0x166c54(0x1b1),'property':'blocation','align':_0x166c54(0x18c),'width':0x32,'renderer':null},{'label':_0x166c54(0x1a4),'property':_0x166c54(0x190),'align':_0x166c54(0x18c),'width':0x3c,'renderer':null},{'label':_0x166c54(0x11e),'property':_0x166c54(0x15f),'align':_0x166c54(0x18c),'width':0x3c,'renderer':null},{'label':_0x166c54(0x198),'property':_0x166c54(0xe9),'align':_0x166c54(0x18c),'width':0x3f,'renderer':null},{'label':_0x166c54(0x13d),'property':_0x166c54(0x168),'align':_0x166c54(0x18c),'width':0x3f,'renderer':null}],'datas':[]};var _0x21af73=0x0;let _0x1a7866='';var _0x2b6872=0x0,_0x1ef0fd=0x1;_0x4b20a3[_0x166c54(0xee)]['forEach'](_0x47a212=>{const _0x1a4396=_0x166c54,_0x5c1db8=new Date(_0x47a212[_0x1a4396(0x1b5)]),_0x470c9a={'year':_0x1a4396(0xe2),'month':_0x1a4396(0xf7),'day':'numeric'},_0x1a7c2b=_0x5c1db8[_0x1a4396(0xe6)](_0x1a4396(0x103),_0x470c9a),_0x246404=new Date(_0x47a212[_0x1a4396(0x193)]),_0x58f32f={'year':_0x1a4396(0xe2),'month':_0x1a4396(0xf7),'day':'numeric'},_0x147b99=_0x246404[_0x1a4396(0xe6)](_0x1a4396(0x103),_0x58f32f),_0x522fce=new Date(_0x47a212[_0x1a4396(0x178)]),_0x445b86={'year':_0x1a4396(0xe2),'month':'short','day':_0x1a4396(0xe2)};var _0x3fcc86=_0x522fce[_0x1a4396(0xe6)](_0x1a4396(0x103),_0x445b86);typeof _0x47a212['delivery_date']==_0x1a4396(0xe1)&&(_0x3fcc86='');const _0x15855b={'itemcode':_0x47a212[_0x1a4396(0xe5)],'itemdescription':_0x47a212[_0x1a4396(0x16b)],'rqty':_0x47a212[_0x1a4396(0x1ab)],'iqty':_0x47a212[_0x1a4396(0xeb)],'unit':_0x47a212[_0x1a4396(0x122)],'blocation':_0x47a212[_0x1a4396(0x10e)]+_0x47a212['rack']+_0x47a212[_0x1a4396(0x111)]+_0x47a212[_0x1a4396(0x1ac)]+_0x47a212[_0x1a4396(0x185)][0x0]+_0x47a212['floorlevel'],'proddate':_0x1a7c2b,'expdate':_0x147b99,'del_date':_0x3fcc86,'del_code':_0x47a212[_0x1a4396(0x14a)]};_0x1ef0fd++,_0x523ea6[_0x1a4396(0x10f)][_0x1a4396(0x1a9)](_0x15855b);}),_0x5ed415['table'](_0x523ea6,{'x':_0x1ef0fd+0x11,'y':_0x283984+=0x1e,'prepareHeader':()=>_0x5ed415[_0x166c54(0x12c)]('Helvetica-Bold')[_0x166c54(0x182)](6.5),'prepareRow':(_0x4d12b6,_0x17ef83,_0x33f80c,_0x4ee0c9,_0x59639e)=>{const _0x2efb49=_0x166c54,{x:_0x5a163c,y:_0x2b4d23,width:_0x38ce46,height:_0x2ed6c8}=_0x59639e;_0x5ed415[_0x2efb49(0x12c)](_0x2efb49(0x152))['fontSize'](0x8),_0x5ed415[_0x2efb49(0x119)](0.5)[_0x2efb49(0x14e)](_0x5a163c,_0x2b4d23)[_0x2efb49(0x17b)](_0x5a163c,_0x2b4d23+_0x2ed6c8)[_0x2efb49(0x114)]();}});var _0xcbfd73=_0x5ed415['y'],_0x5310b5=_0x5ed415['x'],_0x598081=_0xcbfd73-=0x8;_0x5ed415[_0x166c54(0x119)](0x5),_0x5ed415[_0x166c54(0x153)](_0x166c54(0xf4))[_0x166c54(0x14e)](0x240,_0x598081)[_0x166c54(0x17b)](0x11,_0x598081)[_0x166c54(0x114)](),_0x5ed415['fontSize'](0xa)[_0x166c54(0x115)](_0x166c54(0x13c),_0x5310b5+0x7d,_0xcbfd73+=0xf),_0x5ed415[_0x166c54(0x182)](0xb)['text']('PREPARED\x20BY\x20:\x20',_0x5310b5,_0xcbfd73+=0x15e),_0x5ed415[_0x166c54(0x182)](0xa)[_0x166c54(0x115)](_0x166c54(0x1a6),_0x5310b5+0x52,_0xcbfd73,{'underline':!![]}),_0x5ed415[_0x166c54(0x182)](0xa)['text'](_0x166c54(0x11f),_0x5310b5,_0xcbfd73+=0x19),_0x5ed415[_0x166c54(0x182)](0xa)[_0x166c54(0x115)]('\x20:\x20',_0x5310b5+0x4b,_0xcbfd73),_0x5ed415['fontSize'](0xa)[_0x166c54(0x115)]('\x20'['repeat'](0x3c),_0x5310b5+0x50,_0xcbfd73,{'underline':!![]}),_0x5ed415[_0x166c54(0x182)](0xa)[_0x166c54(0x115)](_0x166c54(0x11d),_0x5310b5,_0xcbfd73+=0x32),_0x5ed415[_0x166c54(0x182)](0xa)[_0x166c54(0x115)](_0x166c54(0x131),_0x5310b5+0x4b,_0xcbfd73),_0x5ed415['fontSize'](0xa)[_0x166c54(0x115)](_0x166c54(0x173),_0x5310b5+0x50,_0xcbfd73,{'underline':!![]}),_0x5ed415['fontSize'](0xa)[_0x166c54(0x115)](_0x166c54(0x176),_0x5310b5+0x50,_0xcbfd73+0xc);let _0x20f5c5=_0x5ed415[_0x166c54(0x199)]();for(let _0x36262f=0x0;_0x36262f<_0x20f5c5[_0x166c54(0x110)];_0x36262f++){_0x5ed415[_0x166c54(0x150)](_0x36262f);let _0x1ac305=_0x5ed415[_0x166c54(0x16d)]['margins'][_0x166c54(0x196)];_0x5ed415[_0x166c54(0x16d)]['margins']['bottom']=0x0,_0x5ed415[_0x166c54(0x115)](_0x166c54(0x142)+(_0x36262f+0x1)+_0x166c54(0x18a)+_0x20f5c5['count'],0x0,_0x5ed415[_0x166c54(0x16d)][_0x166c54(0x1a5)]-_0x1ac305/0x2,{'align':_0x166c54(0x18c)}),_0x5ed415[_0x166c54(0x16d)][_0x166c54(0x102)][_0x166c54(0x196)]=_0x1ac305;}const _0x29e52c=_0x5ed415['y'],_0x567ac0=_0x5ed415['x'];_0x5ed415[_0x166c54(0x149)]();}catch(_0x3b6ed6){console['log'](_0x3b6ed6),_0x363e1d[_0x166c54(0x134)](0x1f4)[_0x166c54(0x165)](_0x166c54(0x12e));}}),router['get'](a0_0x3ca64a(0x197),auth,async(_0x58fc8c,_0x3f8f67)=>{const _0x2e65fa=a0_0x3ca64a;try{const {username:_0x79e6e0,email:_0x2f853b,role:_0x465e24}=_0x58fc8c['user'],_0x573e26=_0x58fc8c[_0x2e65fa(0x18b)],_0x130d89=await profile['findOne']({'email':_0x573e26[_0x2e65fa(0x147)]}),_0x5ce989=await master_shop[_0x2e65fa(0xfa)](),_0x1fa83b=_0x58fc8c[_0x2e65fa(0xfb)]['id'],_0x41ecd4=await adjustment[_0x2e65fa(0x1af)](_0x1fa83b);var _0x26ef82,_0x53fcaa;_0x26ef82=_0x2e65fa(0x192),_0x53fcaa=_0x2e65fa(0xe4);_0x41ecd4[_0x2e65fa(0x169)]==_0x2e65fa(0x1b4)&&(_0x26ef82='INVENTORY\x20ADJUSTMENT',_0x53fcaa='');const _0x573952=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3f8f67[_0x2e65fa(0x104)](_0x2e65fa(0xdf),_0x2e65fa(0x1a8)+_0x1fa83b+'.pdf\x22'),_0x3f8f67[_0x2e65fa(0x104)](_0x2e65fa(0x128),_0x2e65fa(0x12f));var _0x1d7d6f=0x14,_0x484732=0x3c;_0x573952[_0x2e65fa(0xf8)](_0x3f8f67),_0x573952[_0x2e65fa(0x181)](_0x2e65fa(0x126)+_0x5ce989[0x0][_0x2e65fa(0x181)],0x14,0x0,{'fit':[0x64,0x64]}),_0x573952[_0x2e65fa(0x182)](0x14)[_0x2e65fa(0x115)](_0x2e65fa(0x14c),_0x1d7d6f,_0x484732),_0x573952[_0x2e65fa(0x182)](0xa)['text']('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x1d7d6f,_0x484732+=0xf),_0x573952[_0x2e65fa(0x182)](0xf)[_0x2e65fa(0x115)](_0x26ef82,_0x1d7d6f,_0x484732+=0x32),_0x573952[_0x2e65fa(0x182)](0xa)[_0x2e65fa(0x115)](_0x53fcaa,_0x1d7d6f,_0x484732+=0x14),_0x573952[_0x2e65fa(0x182)](0x9)[_0x2e65fa(0x115)](_0x2e65fa(0x123),_0x1d7d6f,_0x484732+=0x28),_0x573952[_0x2e65fa(0x182)](0x9)['text'](_0x2e65fa(0x131)+_0x41ecd4['warehouse_name'],_0x1d7d6f+0x3f,_0x484732),_0x573952[_0x2e65fa(0x182)](0x9)[_0x2e65fa(0x115)]('Date\x20',_0x1d7d6f,_0x484732+=0xb),_0x573952['fontSize'](0x9)[_0x2e65fa(0x115)](_0x2e65fa(0x131)+_0x41ecd4['date'],_0x1d7d6f+0x3f,_0x484732),_0x573952[_0x2e65fa(0x182)](0x9)[_0x2e65fa(0x115)](_0x2e65fa(0x15d),_0x1d7d6f,_0x484732+=0xb),_0x573952[_0x2e65fa(0x182)](0x9)[_0x2e65fa(0x115)](_0x2e65fa(0x131)+_0x41ecd4[_0x2e65fa(0x184)],_0x1d7d6f+0x3f,_0x484732);const _0x28ec96={'headers':[{'label':_0x2e65fa(0x100),'property':_0x2e65fa(0x19d),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0x96,'renderer':null},{'label':_0x2e65fa(0xf0),'property':_0x2e65fa(0x1a3),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x2e65fa(0x122),'width':0x3c,'renderer':null},{'label':_0x2e65fa(0x101),'property':_0x2e65fa(0x190),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x2e65fa(0xdb),'width':0x3f,'renderer':null}],'datas':[]};var _0x1b9704=0x0,_0x1ce162=0x0;_0x41ecd4['product']['forEach'](_0x5c3ec=>{const _0x1c030e=_0x2e65fa;let _0x130436='';const _0x436840=_0x5c3ec[_0x1c030e(0x127)];for(let _0x193355=0x1;_0x193355<=_0x436840;_0x193355++){_0x436840==_0x193355?_0x130436+=_0x5c3ec[_0x1c030e(0x151)]:_0x130436+=_0x5c3ec[_0x1c030e(0x151)]+',',_0x1ce162+=_0x5c3ec[_0x1c030e(0x151)];}_0x130436+=_0x1c030e(0x12a)+_0x5c3ec[_0x1c030e(0x121)];const _0x1e8d02={'itemcode':_0x5c3ec[_0x1c030e(0xe5)],'itemdescription':_0x5c3ec[_0x1c030e(0x16b)],'qty':_0x5c3ec[_0x1c030e(0x177)],'unit':_0x5c3ec[_0x1c030e(0x122)],'proddate':_0x5c3ec[_0x1c030e(0x1b5)],'batchno':_0x5c3ec[_0x1c030e(0x186)],'binloc':_0x5c3ec[_0x1c030e(0x10e)]+_0x5c3ec['rack']+_0x5c3ec['bay']+_0x5c3ec[_0x1c030e(0x1ac)]+_0x5c3ec[_0x1c030e(0x185)][0x0]+_0x5c3ec[_0x1c030e(0x1aa)]};_0x1b9704+=_0x5c3ec[_0x1c030e(0x177)],_0x28ec96[_0x1c030e(0x10f)][_0x1c030e(0x1a9)](_0x1e8d02);}),_0x573952[_0x2e65fa(0x16f)](_0x28ec96,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x573952[_0x2e65fa(0x12c)](_0x2e65fa(0x105))[_0x2e65fa(0x182)](0x8),'prepareRow':(_0x415bcd,_0x4a7bc0,_0x2f586b,_0x47a768)=>_0x573952['font'](_0x2e65fa(0x152))[_0x2e65fa(0x182)](0x8)});var _0x1a5c96=_0x573952['y'],_0x5e76ad=_0x573952['x'];_0x573952[_0x2e65fa(0x182)](0xa)[_0x2e65fa(0x115)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x5e76ad+0x7d,_0x1a5c96),_0x573952['fontSize'](0xa)[_0x2e65fa(0x115)](_0x2e65fa(0xff),_0x5e76ad,_0x1a5c96+=0x136),_0x573952[_0x2e65fa(0x182)](0xa)[_0x2e65fa(0x115)](_0x1b9704,_0x5e76ad+0xc8,_0x1a5c96),_0x573952[_0x2e65fa(0x182)](0xa)['text'](_0x2e65fa(0xe3),_0x5e76ad,_0x1a5c96+=0x19),_0x573952[_0x2e65fa(0x182)](0xa)['text']('\x20'[_0x2e65fa(0x15a)](0x3c),_0x5e76ad+0x3e,_0x1a5c96,{'underline':!![]}),_0x573952[_0x2e65fa(0x182)](0xa)[_0x2e65fa(0x115)](_0x2e65fa(0x139),_0x5e76ad,_0x1a5c96+=0x32),_0x573952[_0x2e65fa(0x182)](0xa)['text'](_0x2e65fa(0x131),_0x5e76ad+0x37,_0x1a5c96),_0x573952[_0x2e65fa(0x182)](0xa)[_0x2e65fa(0x115)](_0x2e65fa(0x173),_0x5e76ad+0x3c,_0x1a5c96,{'underline':!![]}),_0x573952[_0x2e65fa(0x182)](0xa)[_0x2e65fa(0x115)](_0x2e65fa(0x176),_0x5e76ad+0x3c,_0x1a5c96+0xc);let _0x4da4a=_0x573952['bufferedPageRange']();for(let _0x2df030=0x0;_0x2df030<_0x4da4a[_0x2e65fa(0x110)];_0x2df030++){_0x573952[_0x2e65fa(0x150)](_0x2df030);let _0x7e9a2b=_0x573952['page'][_0x2e65fa(0x102)][_0x2e65fa(0x196)];_0x573952[_0x2e65fa(0x16d)]['margins'][_0x2e65fa(0x196)]=0x0,_0x573952[_0x2e65fa(0x115)](_0x2e65fa(0x142)+(_0x2df030+0x1)+_0x2e65fa(0x18a)+_0x4da4a['count'],0x0,_0x573952[_0x2e65fa(0x16d)][_0x2e65fa(0x1a5)]-_0x7e9a2b/0x2,{'align':_0x2e65fa(0x18c)}),_0x573952[_0x2e65fa(0x16d)][_0x2e65fa(0x102)][_0x2e65fa(0x196)]=_0x7e9a2b;}const _0x58d86e=_0x573952['y'],_0x46401c=_0x573952['x'];_0x573952[_0x2e65fa(0x149)]();}catch(_0x10bd12){console[_0x2e65fa(0x166)](_0x10bd12),_0x3f8f67[_0x2e65fa(0x134)](0x1f4)[_0x2e65fa(0x165)](_0x2e65fa(0x12e));}}),router[a0_0x3ca64a(0x10d)](a0_0x3ca64a(0x10a),auth,async(_0x3b80c6,_0x30dc33)=>{const _0xe7b2f6=a0_0x3ca64a;try{const {username:_0x1f2c33,email:_0x15273e,role:_0x1f415e}=_0x3b80c6['user'],_0x4482cb=_0x3b80c6['user'],_0x5407f2=await profile[_0xe7b2f6(0xfd)]({'email':_0x4482cb[_0xe7b2f6(0x147)]}),_0x2bf62d=await master_shop[_0xe7b2f6(0xfa)](),_0xe75c7a=_0x3b80c6[_0xe7b2f6(0xfb)]['id'],_0x151c9d=await transfers[_0xe7b2f6(0x1af)](_0xe75c7a);var _0x2434d1,_0x1d4bb1;_0x2434d1=_0xe7b2f6(0x106),_0x1d4bb1=_0xe7b2f6(0xf5);_0x151c9d[_0xe7b2f6(0x169)]=='True'&&(_0x2434d1=_0xe7b2f6(0x164),_0x1d4bb1='');const _0x4ef31f=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x30dc33[_0xe7b2f6(0x104)](_0xe7b2f6(0xdf),_0xe7b2f6(0x1a8)+_0xe75c7a+_0xe7b2f6(0x1b7)),_0x30dc33[_0xe7b2f6(0x104)](_0xe7b2f6(0x128),_0xe7b2f6(0x12f));var _0x355c74=0x14,_0xcd0664=0x3c;_0x4ef31f[_0xe7b2f6(0xf8)](_0x30dc33),_0x4ef31f['image']('./public/upload/'+_0x2bf62d[0x0][_0xe7b2f6(0x181)],0x14,0x0,{'fit':[0x64,0x64]}),_0x4ef31f['fontSize'](0x14)['text'](_0xe7b2f6(0x14c),_0x355c74,_0xcd0664),_0x4ef31f[_0xe7b2f6(0x182)](0xa)[_0xe7b2f6(0x115)](_0xe7b2f6(0x117),_0x355c74,_0xcd0664+=0xf),_0x4ef31f[_0xe7b2f6(0x182)](0xf)['text'](_0x2434d1,_0x355c74,_0xcd0664+=0x32),_0x4ef31f['fontSize'](0xa)['text'](_0x1d4bb1,_0x355c74,_0xcd0664+=0x14),_0x4ef31f[_0xe7b2f6(0x182)](0x9)[_0xe7b2f6(0x115)](_0xe7b2f6(0x19b),_0x355c74,_0xcd0664+=0x28),_0x4ef31f[_0xe7b2f6(0x182)](0x9)[_0xe7b2f6(0x115)]('\x20\x20\x20:\x20'+_0x151c9d['from_warehouse'],_0x355c74+0x3f,_0xcd0664),_0x4ef31f[_0xe7b2f6(0x182)](0x9)['text'](_0xe7b2f6(0x130),_0x355c74,_0xcd0664+=0xa),_0x4ef31f[_0xe7b2f6(0x182)](0x9)[_0xe7b2f6(0x115)](_0xe7b2f6(0x108)+_0x151c9d[_0xe7b2f6(0x10c)],_0x355c74+0x3f,_0xcd0664),_0x4ef31f[_0xe7b2f6(0x182)](0x9)[_0xe7b2f6(0x115)](_0xe7b2f6(0xef),_0x355c74,_0xcd0664+=0xb),_0x4ef31f[_0xe7b2f6(0x182)](0x9)[_0xe7b2f6(0x115)](_0xe7b2f6(0x108)+_0x151c9d[_0xe7b2f6(0x163)],_0x355c74+0x3f,_0xcd0664),_0x4ef31f[_0xe7b2f6(0x182)](0x9)[_0xe7b2f6(0x115)](_0xe7b2f6(0x15d),_0x355c74,_0xcd0664+=0xb),_0x4ef31f[_0xe7b2f6(0x182)](0x9)['text'](_0xe7b2f6(0x108)+_0x151c9d[_0xe7b2f6(0x184)],_0x355c74+0x3f,_0xcd0664);const _0x3ec009={'headers':[{'label':'','property':_0xe7b2f6(0x19d),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0xe7b2f6(0x1ae),'property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0xe7b2f6(0x159),'property':_0xe7b2f6(0x19a),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x4ef31f['table'](_0x3ec009,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x4ef31f[_0xe7b2f6(0x12c)]('Helvetica-Bold')[_0xe7b2f6(0x182)](0x8),'prepareRow':(_0x508635,_0x5b5e2c,_0x36353f,_0x3d9d19)=>_0x4ef31f[_0xe7b2f6(0x12c)]('Helvetica')[_0xe7b2f6(0x182)](0x8)});const _0x3ad617={'headers':[{'label':_0xe7b2f6(0x100),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0xe7b2f6(0x15c),'property':_0xe7b2f6(0x19a),'width':0x96,'renderer':null},{'label':_0xe7b2f6(0xf0),'property':'qty','width':0x28,'renderer':null},{'label':'UOM','property':_0xe7b2f6(0x122),'width':0x37,'renderer':null},{'label':_0xe7b2f6(0x101),'property':'proddate','width':0x4b,'renderer':null},{'label':'Batch\x20No','property':_0xe7b2f6(0x160),'width':0x3f,'renderer':null},{'label':_0xe7b2f6(0x1b6),'property':_0xe7b2f6(0x1b3),'width':0x3f,'renderer':null},{'label':_0xe7b2f6(0x1b6),'property':_0xe7b2f6(0xdb),'width':0x3f,'renderer':null}],'datas':[]};var _0x398ac4=0x0;let _0x4d9396='';var _0x49f6a5=0x0;_0x151c9d[_0xe7b2f6(0x13f)][_0xe7b2f6(0x17f)](_0x561ef2=>{const _0x1fa928=_0xe7b2f6;var _0x14454e=_0x561ef2[_0x1fa928(0xec)],_0x18e7b2;_0x18e7b2=_0x561ef2[_0x1fa928(0x122)];_0x14454e=='S'&&(_0x18e7b2=_0x561ef2['secondary_unit']);const _0x22b388={'itemcode':_0x561ef2[_0x1fa928(0xe5)],'itemdescription':_0x561ef2['product_name'],'qty':_0x561ef2['to_quantity'],'unit':_0x18e7b2,'proddate':_0x561ef2[_0x1fa928(0x1b5)],'batchno':_0x561ef2[_0x1fa928(0x186)],'binloc':_0x561ef2['storage']+_0x561ef2[_0x1fa928(0x11b)]+_0x561ef2['to_bay']+_0x561ef2['to_bin']+_0x561ef2[_0x1fa928(0x11c)][0x0]+_0x561ef2[_0x1fa928(0x1b2)],'qtyFrom':_0x561ef2['from_quantity'],'binlocFrom':_0x561ef2[_0x1fa928(0x118)]+_0x561ef2['from_rack']+_0x561ef2['from_bay']+_0x561ef2[_0x1fa928(0x113)]+_0x561ef2['from_types'][0x0]+_0x561ef2[_0x1fa928(0x120)]};_0x398ac4+=_0x561ef2[_0x1fa928(0x127)],_0x3ad617[_0x1fa928(0x10f)][_0x1fa928(0x1a9)](_0x22b388);}),_0x4ef31f[_0xe7b2f6(0x16f)](_0x3ad617,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x4ef31f[_0xe7b2f6(0x12c)](_0xe7b2f6(0x105))[_0xe7b2f6(0x182)](0x8),'prepareRow':(_0x4508a4,_0x4d3c14,_0x4f1f33,_0x3e13c1)=>_0x4ef31f['font'](_0xe7b2f6(0x152))['fontSize'](0x8)});var _0x471aed=_0x4ef31f['y'],_0x493b66=_0x4ef31f['x'];_0x4ef31f[_0xe7b2f6(0x182)](0xa)[_0xe7b2f6(0x115)](_0xe7b2f6(0x13c),_0x493b66+0x7d,_0x471aed),_0x4ef31f[_0xe7b2f6(0x182)](0xa)[_0xe7b2f6(0x115)]('TOTAL\x20QTY:\x20',_0x493b66,_0x471aed+=0x12c),_0x4ef31f[_0xe7b2f6(0x182)](0xa)[_0xe7b2f6(0x115)](_0x398ac4,_0x493b66+0xd7,_0x471aed,{'underline':!![]}),_0x4ef31f['fontSize'](0xa)['text'](_0xe7b2f6(0x16e),_0x493b66,_0x471aed+=0x32),_0x4ef31f[_0xe7b2f6(0x182)](0xa)[_0xe7b2f6(0x115)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x493b66+0x3c,_0x471aed,{'underline':!![]}),_0x4ef31f[_0xe7b2f6(0x182)](0xa)[_0xe7b2f6(0x115)](_0xe7b2f6(0x176),_0x493b66+0x3c,_0x471aed+0xc);let _0x2c6bf2=_0x4ef31f['bufferedPageRange']();for(let _0xd8e39c=0x0;_0xd8e39c<_0x2c6bf2[_0xe7b2f6(0x110)];_0xd8e39c++){_0x4ef31f['switchToPage'](_0xd8e39c);let _0x51daba=_0x4ef31f[_0xe7b2f6(0x16d)][_0xe7b2f6(0x102)][_0xe7b2f6(0x196)];_0x4ef31f['page'][_0xe7b2f6(0x102)]['bottom']=0x0,_0x4ef31f['text'](_0xe7b2f6(0x142)+(_0xd8e39c+0x1)+'\x20of\x20'+_0x2c6bf2[_0xe7b2f6(0x110)],0x0,_0x4ef31f[_0xe7b2f6(0x16d)][_0xe7b2f6(0x1a5)]-_0x51daba/0x2,{'align':_0xe7b2f6(0x18c)}),_0x4ef31f[_0xe7b2f6(0x16d)][_0xe7b2f6(0x102)]['bottom']=_0x51daba;}const _0x1b02d1=_0x4ef31f['y'],_0x1854c5=_0x4ef31f['x'];_0x4ef31f[_0xe7b2f6(0x149)]();}catch(_0x4f598b){console[_0xe7b2f6(0x166)](_0x4f598b),_0x30dc33[_0xe7b2f6(0x134)](0x1f4)[_0xe7b2f6(0x165)](_0xe7b2f6(0x12e));}}),router[a0_0x3ca64a(0x10d)](a0_0x3ca64a(0x136),auth,async(_0x291141,_0x5cfd16)=>{const _0x457eae=a0_0x3ca64a;try{const _0x50cfa2=_0x1a1826=>_0x1a1826*0x48,_0x2ffa08={'width':0x3,'height':0x1},_0x354f40=await product[_0x457eae(0xfa)](),_0x5342ea=new PDFDocument({'margin':_0x50cfa2(0.75),'size':[_0x50cfa2(_0x2ffa08['width']),_0x50cfa2(_0x2ffa08[_0x457eae(0x1a5)])],'bufferPages':!![]}),_0x502b5a=_0x354f40[_0x457eae(0x13a)];for(let _0x59bf33=0x0;_0x59bf33<=_0x502b5a;_0x59bf33++){if(_0x59bf33!=_0x354f40[_0x457eae(0x13a)]){const _0x5279fb=_0x354f40[_0x59bf33][_0x457eae(0x17d)],_0x133356=_0x354f40[_0x59bf33][_0x457eae(0x191)],_0xebdcd7=_0x354f40[_0x59bf33][_0x457eae(0x15b)],_0x5a8d78=_0x354f40[_0x59bf33][_0x457eae(0xe5)],_0x1a98b0=new Canvas();JsBarcode(_0x1a98b0,_0x133356,{'format':_0x457eae(0x167),'height':0x32,'displayValue':!![],'text':_0x133356}),_0x5342ea[_0x457eae(0x181)](_0x1a98b0[_0x457eae(0x129)](),0x0,0x0,{'width':0xd2}),_0x5342ea[_0x457eae(0x137)]();}}_0x5342ea[_0x457eae(0xf8)](_0x5cfd16),_0x5342ea['end']();}catch(_0x3662d1){console[_0x457eae(0x135)](_0x457eae(0xea),_0x3662d1),_0x5cfd16['status'](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),module[a0_0x3ca64a(0x138)]=router;