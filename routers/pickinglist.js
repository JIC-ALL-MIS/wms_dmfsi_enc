const a0_0x3d6abc=a0_0x346e;(function(_0x913f5f,_0x193495){const _0x3c5230=a0_0x346e,_0x3bf66b=_0x913f5f();while(!![]){try{const _0x5e34e9=parseInt(_0x3c5230(0x153))/0x1+-parseInt(_0x3c5230(0xfd))/0x2*(-parseInt(_0x3c5230(0xe5))/0x3)+parseInt(_0x3c5230(0x134))/0x4+-parseInt(_0x3c5230(0x173))/0x5+-parseInt(_0x3c5230(0xe1))/0x6+-parseInt(_0x3c5230(0xcb))/0x7+parseInt(_0x3c5230(0x132))/0x8;if(_0x5e34e9===_0x193495)break;else _0x3bf66b['push'](_0x3bf66b['shift']());}catch(_0x3a3566){_0x3bf66b['push'](_0x3bf66b['shift']());}}}(a0_0x5f0f,0x2b854));const express=require('express'),res=require('express/lib/response'),app=express(),router=express[a0_0x3d6abc(0x176)](),multer=require(a0_0x3d6abc(0xd8)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x3d6abc(0x163)),auth=require('../middleware/auth'),users=require('../public/language/languages.json'),excelJS=require(a0_0x3d6abc(0x14b)),xlsx=require('xlsx'),PDFDocument=require(a0_0x3d6abc(0x13a)),fs=require('fs'),blobStream=require(a0_0x3d6abc(0x105)),JsBarcode=require('jsbarcode'),{Canvas}=require(a0_0x3d6abc(0x16f));router[a0_0x3d6abc(0x14a)](a0_0x3d6abc(0x121),auth,async(_0x274095,_0x1b53b1)=>{const _0x3eec48=a0_0x3d6abc;try{const {username:_0x35f557,email:_0x25761b,role:_0x37bc73}=_0x274095[_0x3eec48(0x149)],_0x1f3a0e=_0x274095[_0x3eec48(0x149)],_0x2bf30a=await profile[_0x3eec48(0xb0)]({'email':_0x1f3a0e[_0x3eec48(0x12a)]}),_0x112d94=await master_shop[_0x3eec48(0x128)](),_0x3f26a0=_0x274095[_0x3eec48(0x15c)]['id'],_0x420329=await sales_finished['findById'](_0x3f26a0);var _0x1227d8;_0x1227d8=_0x3eec48(0xf7);_0x420329[_0x3eec48(0x15d)]==_0x3eec48(0x11c)&&(_0x1227d8=_0x3eec48(0x11d));const _0x37de26=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1b53b1['setHeader'](_0x3eec48(0xe9),_0x3eec48(0xc1)+_0x420329['invoice']+_0x3eec48(0x148)),_0x1b53b1[_0x3eec48(0xd4)]('Content-type',_0x3eec48(0xbd));var _0x164567=0x14,_0xee068=0x3c;_0x37de26[_0x3eec48(0x123)](_0x1b53b1),_0x37de26['image'](_0x3eec48(0x157)+_0x112d94[0x0][_0x3eec48(0x14d)],0x14,0x0,{'fit':[0x64,0x64]}),_0x37de26[_0x3eec48(0x16e)](0x14)['text'](_0x3eec48(0x101),_0x164567,_0xee068),_0x37de26['fontSize'](0xa)['text'](_0x3eec48(0xe8),_0x164567,_0xee068+=0xf),_0x37de26[_0x3eec48(0x16e)](0xf)['text'](_0x1227d8,_0x164567,_0xee068+=0x32),_0x37de26[_0x3eec48(0x16e)](0xa)[_0x3eec48(0xb8)](_0x3eec48(0xce),_0x164567,_0xee068+=0x14),_0x37de26['fontSize'](0x9)[_0x3eec48(0xb8)](_0x3eec48(0xca),_0x164567,_0xee068+=0x28),_0x37de26[_0x3eec48(0x16e)](0x9)[_0x3eec48(0xb8)](_0x3eec48(0x13c)+_0x420329['warehouse_name'],_0x164567+0x3f,_0xee068),_0x37de26['fontSize'](0x9)[_0x3eec48(0xb8)](_0x3eec48(0x178)+_0x420329['customer'],_0x164567+0x17c,_0xee068,{'underline':!![]}),_0x37de26[_0x3eec48(0x16e)](0x9)['text'](_0x3eec48(0x138),_0x164567,_0xee068+=0xb),_0x37de26[_0x3eec48(0x16e)](0x9)[_0x3eec48(0xb8)](_0x3eec48(0x13c)+_0x420329[_0x3eec48(0xbe)],_0x164567+0x3f,_0xee068),_0x37de26[_0x3eec48(0x16e)](0x9)[_0x3eec48(0xb8)]('Control\x20Number\x20',_0x164567,_0xee068+=0xb),_0x37de26[_0x3eec48(0x16e)](0x9)[_0x3eec48(0xb8)](_0x3eec48(0x13c)+_0x420329[_0x3eec48(0xda)],_0x164567+0x3f,_0xee068);const _0x4b68a1={'headers':[{'label':_0x3eec48(0x17b),'property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0xa5,'renderer':null},{'label':_0x3eec48(0x106),'property':'qty','width':0x3c,'renderer':null},{'label':_0x3eec48(0xa6),'property':_0x3eec48(0x11f),'width':0x3c,'renderer':null},{'label':_0x3eec48(0x104),'property':_0x3eec48(0x15f),'width':0x50,'renderer':null},{'label':_0x3eec48(0x145),'property':_0x3eec48(0x10e),'width':0x3f,'renderer':null},{'label':_0x3eec48(0xf2),'property':_0x3eec48(0x122),'width':0x3f,'renderer':null}],'datas':[]};var _0x40ef06=0x0;let _0x41b75d='';var _0xb8b54f=0x0;_0x420329['warehouse_name']==_0x3eec48(0xb6)?_0x41b75d='DG':_0x41b75d='FG';var _0x544011=0x0;_0x420329['sale_product'][_0x3eec48(0x12c)](_0x348352=>{const _0x27292a=_0x3eec48;console[_0x27292a(0xc9)](_0x348352);let _0x54bfb3='';const _0x264723=_0x348352[_0x27292a(0x160)];for(let _0x5f9a34=0x1;_0x5f9a34<=_0x264723;_0x5f9a34++){_0x264723==_0x5f9a34?_0x54bfb3+=_0x348352[_0x27292a(0xec)]:_0x54bfb3+=_0x348352[_0x27292a(0xec)]+',',_0xb8b54f+=_0x348352[_0x27292a(0xec)];}_0x54bfb3+=_0x27292a(0xd6)+_0x348352[_0x27292a(0x161)];const _0x374746={'itemcode':_0x348352[_0x27292a(0xf0)],'itemdescription':_0x348352[_0x27292a(0xc8)],'qty':_0x348352[_0x27292a(0x160)],'unit':_0x348352[_0x27292a(0x11f)],'proddate':_0x348352['production_date'],'batchno':_0x348352[_0x27292a(0x113)],'binloc':_0x41b75d+_0x348352['bay']};_0x40ef06+=_0x348352[_0x27292a(0x160)],_0x544011+=0x1,_0x4b68a1[_0x27292a(0x162)][_0x27292a(0x15a)](_0x374746);}),_0x37de26['table'](_0x4b68a1,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x37de26[_0x3eec48(0xa5)](_0x3eec48(0x14c))[_0x3eec48(0x16e)](0x8),'prepareRow':(_0x45f37f,_0x3fdc49,_0x1d43bd,_0x4c95db)=>_0x37de26[_0x3eec48(0xa5)]('Helvetica')[_0x3eec48(0x16e)](0x8)});var _0x52e130=_0x37de26['y'],_0x29e681=_0x37de26['x'];_0x37de26['fontSize'](0xa)[_0x3eec48(0xb8)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x29e681+0x7d,_0x52e130),console[_0x3eec48(0xc9)]('x:\x20'+_0x29e681+'\x20y:\x20'+_0x52e130+_0x3eec48(0xc6)+_0x544011);const _0x4d9403=_0x29e681*_0x544011;_0x37de26[_0x3eec48(0x16e)](0xa)[_0x3eec48(0xb8)](_0x3eec48(0xcf),_0x29e681,_0x52e130+=0x15e-_0x4d9403),_0x37de26[_0x3eec48(0x16e)](0xa)[_0x3eec48(0xb8)](_0x40ef06,_0x29e681+0xdc,_0x52e130,{'underline':!![]}),_0x37de26[_0x3eec48(0x16e)](0xa)[_0x3eec48(0xb8)]('Picked\x20By\x20\x20\x20:\x20',_0x29e681,_0x52e130+=0x19),_0x37de26[_0x3eec48(0x16e)](0xa)[_0x3eec48(0xb8)]('\x20'[_0x3eec48(0xe7)](0x3c),_0x29e681+0x3e,_0x52e130,{'underline':!![]}),_0x37de26['fontSize'](0xa)[_0x3eec48(0xb8)]('Checked\x20By:\x20',_0x29e681,_0x52e130+=0x32),_0x37de26[_0x3eec48(0x16e)](0xa)[_0x3eec48(0xb8)](_0x3eec48(0xdd),_0x29e681+0x3c,_0x52e130,{'underline':!![]}),_0x37de26[_0x3eec48(0x16e)](0xa)[_0x3eec48(0xb8)](_0x3eec48(0x130),_0x29e681+0x3c,_0x52e130+0xc);let _0xb9fb06=_0x37de26['bufferedPageRange']();for(let _0x56fe06=0x0;_0x56fe06<_0xb9fb06['count'];_0x56fe06++){_0x37de26[_0x3eec48(0x10f)](_0x56fe06);let _0x5987ba=_0x37de26[_0x3eec48(0xc4)][_0x3eec48(0x17c)]['bottom'];_0x37de26[_0x3eec48(0xc4)][_0x3eec48(0x17c)]['bottom']=0x0,_0x37de26[_0x3eec48(0xb8)](_0x3eec48(0xe4)+(_0x56fe06+0x1)+_0x3eec48(0xd0)+_0xb9fb06[_0x3eec48(0xfe)],0x0,_0x37de26[_0x3eec48(0xc4)][_0x3eec48(0x172)]-_0x5987ba/0x2,{'align':_0x3eec48(0xb5)}),_0x37de26['page'][_0x3eec48(0x17c)]['bottom']=_0x5987ba;}const _0x5182b3=_0x37de26['y'],_0x438b78=_0x37de26['x'];_0x37de26[_0x3eec48(0xfa)]();}catch(_0x16bd60){console[_0x3eec48(0xc9)](_0x16bd60),_0x1b53b1['status'](0x1f4)[_0x3eec48(0x144)](_0x3eec48(0xad));}}),router[a0_0x3d6abc(0x14a)](a0_0x3d6abc(0x155),auth,async(_0x105d8c,_0x1d5ddb)=>{const _0x2a3667=a0_0x3d6abc;try{const {username:_0x54ace0,email:_0x40e48a,role:_0x4de16c}=_0x105d8c[_0x2a3667(0x149)],_0x2a0ec6=_0x105d8c['user'],_0x3cbf83=await profile[_0x2a3667(0xb0)]({'email':_0x2a0ec6[_0x2a3667(0x12a)]}),_0x166959=await master_shop['find'](),_0x399a9e=_0x105d8c[_0x2a3667(0x15c)]['id'],_0x7f4036=await transfers_finished['findById'](_0x399a9e);var _0x5b3628,_0x510000;_0x5b3628=_0x2a3667(0x140),_0x510000=_0x2a3667(0x133);_0x7f4036[_0x2a3667(0x15d)]=='True'&&(_0x5b3628='STOCKS\x20TRANSFER',_0x510000='');const _0x356adb=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1d5ddb[_0x2a3667(0xd4)](_0x2a3667(0xe9),'inline;\x20filename=\x22OUT-'+_0x399a9e+_0x2a3667(0x148)),_0x1d5ddb['setHeader'](_0x2a3667(0xe6),_0x2a3667(0xbd));var _0x1f23de=0x14,_0x46bb85=0x3c;_0x356adb[_0x2a3667(0x123)](_0x1d5ddb),_0x356adb['image']('./public/upload/'+_0x166959[0x0][_0x2a3667(0x14d)],0x14,0x0,{'fit':[0x64,0x64]}),_0x356adb[_0x2a3667(0x16e)](0x14)[_0x2a3667(0xb8)](_0x2a3667(0x101),_0x1f23de,_0x46bb85),_0x356adb['fontSize'](0xa)[_0x2a3667(0xb8)](_0x2a3667(0xe8),_0x1f23de,_0x46bb85+=0xf),_0x356adb['fontSize'](0xf)[_0x2a3667(0xb8)](_0x5b3628,_0x1f23de,_0x46bb85+=0x32),_0x356adb['fontSize'](0xa)[_0x2a3667(0xb8)](_0x510000,_0x1f23de,_0x46bb85+=0x14),_0x356adb[_0x2a3667(0x16e)](0x9)[_0x2a3667(0xb8)](_0x2a3667(0x109),_0x1f23de,_0x46bb85+=0x28),_0x356adb[_0x2a3667(0x16e)](0x9)[_0x2a3667(0xb8)](_0x2a3667(0xba)+_0x7f4036[_0x2a3667(0x170)],_0x1f23de+0x3f,_0x46bb85),_0x356adb['fontSize'](0x9)[_0x2a3667(0xb8)](_0x2a3667(0xf5),_0x1f23de,_0x46bb85+=0xf),_0x356adb['fontSize'](0x9)[_0x2a3667(0xb8)](_0x2a3667(0xba)+_0x7f4036['to_warehouse'],_0x1f23de+0x3f,_0x46bb85),_0x356adb['fontSize'](0x9)[_0x2a3667(0xb8)]('Date\x20',_0x1f23de,_0x46bb85+=0xb),_0x356adb[_0x2a3667(0x16e)](0x9)['text'](_0x2a3667(0xba)+_0x7f4036[_0x2a3667(0xbe)],_0x1f23de+0x3f,_0x46bb85),_0x356adb[_0x2a3667(0x16e)](0x9)[_0x2a3667(0xb8)](_0x2a3667(0x129),_0x1f23de,_0x46bb85+=0xb),_0x356adb['fontSize'](0x9)[_0x2a3667(0xb8)]('\x20\x20\x20:\x20'+_0x7f4036[_0x2a3667(0xda)],_0x1f23de+0x3f,_0x46bb85);const _0x237507={'headers':[{'label':'','property':_0x2a3667(0xdf),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x2a3667(0xdb),'property':_0x2a3667(0xdf),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':'\x20\x20TO','property':_0x2a3667(0x107),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x356adb[_0x2a3667(0x14e)](_0x237507,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x356adb[_0x2a3667(0xa5)](_0x2a3667(0x14c))[_0x2a3667(0x16e)](0x8),'prepareRow':(_0x36eb54,_0x290c31,_0x176089,_0x16725f)=>_0x356adb['font'](_0x2a3667(0x159))['fontSize'](0x8)});const _0x4cfb06={'headers':[{'label':'Item\x20Code','property':_0x2a3667(0xdf),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x2a3667(0x107),'width':0x96,'renderer':null},{'label':_0x2a3667(0x106),'property':_0x2a3667(0x127),'width':0x28,'renderer':null},{'label':_0x2a3667(0xa6),'property':_0x2a3667(0x11f),'width':0x37,'renderer':null},{'label':_0x2a3667(0x104),'property':_0x2a3667(0x15f),'width':0x4b,'renderer':null},{'label':_0x2a3667(0x145),'property':_0x2a3667(0x10e),'width':0x3f,'renderer':null},{'label':_0x2a3667(0xf2),'property':_0x2a3667(0x11a),'width':0x3f,'renderer':null},{'label':_0x2a3667(0xf2),'property':_0x2a3667(0x122),'width':0x3f,'renderer':null}],'datas':[]};var _0x5b5d00=0x0;let _0x24f7a4='';var _0x1cc01d=0x0;if(_0x7f4036['from_warehouse']=='DRY\x20GOODS')_0x24f7a4='DG';else _0x7f4036['from_warehouse']=='FROZEN\x20GOODS'&&(_0x24f7a4='FG');_0x7f4036[_0x2a3667(0x139)][_0x2a3667(0x12c)](_0x37a0dd=>{const _0x19b7da=_0x2a3667;var _0x52a46f=_0x37a0dd[_0x19b7da(0x175)],_0x4c1572,_0x2b7c36;_0x4c1572=_0x37a0dd['unit'],_0x2b7c36=_0x37a0dd[_0x19b7da(0xbc)];_0x52a46f=='S'&&(_0x4c1572=_0x37a0dd[_0x19b7da(0x161)],_0x2b7c36=_0x37a0dd[_0x19b7da(0xbc)]*_0x37a0dd['maxPerUnit']);const _0x3ad049={'itemcode':_0x37a0dd[_0x19b7da(0xf0)],'itemdescription':_0x37a0dd['product_name'],'qty':_0x2b7c36,'unit':_0x4c1572,'proddate':_0x37a0dd[_0x19b7da(0x179)],'batchno':_0x37a0dd[_0x19b7da(0x113)],'binloc':_0x24f7a4+_0x37a0dd[_0x19b7da(0xd3)],'qtyFrom':_0x37a0dd[_0x19b7da(0x164)],'binlocFrom':_0x24f7a4+_0x37a0dd[_0x19b7da(0x10d)]};_0x5b5d00+=_0x2b7c36,_0x4cfb06[_0x19b7da(0x162)][_0x19b7da(0x15a)](_0x3ad049);}),_0x356adb[_0x2a3667(0x14e)](_0x4cfb06,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x356adb[_0x2a3667(0xa5)](_0x2a3667(0x14c))[_0x2a3667(0x16e)](0x8),'prepareRow':(_0x1f8718,_0x56e906,_0x1bbe9f,_0x1e8baa)=>_0x356adb['font'](_0x2a3667(0x159))[_0x2a3667(0x16e)](0x8)});var _0x15a167=_0x356adb['y'],_0x40358c=_0x356adb['x'];_0x356adb[_0x2a3667(0x16e)](0xa)[_0x2a3667(0xb8)](_0x2a3667(0xa8),_0x40358c+0x7d,_0x15a167),_0x356adb['fontSize'](0xa)['text'](_0x2a3667(0xcf),_0x40358c,_0x15a167+=0x15e),_0x356adb[_0x2a3667(0x16e)](0xa)['text'](_0x5b5d00,_0x40358c+0xd7,_0x15a167,{'underline':!![]}),_0x356adb[_0x2a3667(0x16e)](0xa)[_0x2a3667(0xb8)](_0x2a3667(0x126),_0x40358c,_0x15a167+=0x19),_0x356adb[_0x2a3667(0x16e)](0xa)[_0x2a3667(0xb8)]('\x20'[_0x2a3667(0xe7)](0x3c),_0x40358c+0x3e,_0x15a167,{'underline':!![]}),_0x356adb[_0x2a3667(0x16e)](0xa)[_0x2a3667(0xb8)](_0x2a3667(0xf8),_0x40358c,_0x15a167+=0x32),_0x356adb[_0x2a3667(0x16e)](0xa)[_0x2a3667(0xb8)](_0x2a3667(0xdd),_0x40358c+0x3c,_0x15a167,{'underline':!![]}),_0x356adb[_0x2a3667(0x16e)](0xa)[_0x2a3667(0xb8)](_0x2a3667(0x130),_0x40358c+0x3c,_0x15a167+0xc);let _0x48846e=_0x356adb['bufferedPageRange']();for(let _0x29f3f4=0x0;_0x29f3f4<_0x48846e[_0x2a3667(0xfe)];_0x29f3f4++){_0x356adb[_0x2a3667(0x10f)](_0x29f3f4);let _0x2335bf=_0x356adb[_0x2a3667(0xc4)]['margins']['bottom'];_0x356adb[_0x2a3667(0xc4)]['margins'][_0x2a3667(0x16c)]=0x0,_0x356adb[_0x2a3667(0xb8)](_0x2a3667(0xe4)+(_0x29f3f4+0x1)+_0x2a3667(0xd0)+_0x48846e[_0x2a3667(0xfe)],0x0,_0x356adb['page'][_0x2a3667(0x172)]-_0x2335bf/0x2,{'align':'center'}),_0x356adb[_0x2a3667(0xc4)]['margins'][_0x2a3667(0x16c)]=_0x2335bf;}const _0x38a209=_0x356adb['y'],_0x5b0c4f=_0x356adb['x'];_0x356adb[_0x2a3667(0xfa)]();}catch(_0x3cfb47){console['log'](_0x3cfb47),_0x1d5ddb[_0x2a3667(0x171)](0x1f4)[_0x2a3667(0x144)](_0x2a3667(0xad));}}),router[a0_0x3d6abc(0x14a)]('/PDF_adjustment/:id',auth,async(_0x25b290,_0x16df9)=>{const _0x744ca2=a0_0x3d6abc;try{const {username:_0x179b02,email:_0x44835b,role:_0x1e5da7}=_0x25b290[_0x744ca2(0x149)],_0x32c9ab=_0x25b290[_0x744ca2(0x149)],_0x35d969=await profile[_0x744ca2(0xb0)]({'email':_0x32c9ab[_0x744ca2(0x12a)]}),_0x2e7115=await master_shop[_0x744ca2(0x128)](),_0x3ad7ba=_0x25b290['params']['id'],_0x3ce745=await adjustment_finished[_0x744ca2(0xff)](_0x3ad7ba);var _0x7e565b,_0x250ced;_0x7e565b=_0x744ca2(0xf7),_0x250ced=_0x744ca2(0x137);_0x3ce745[_0x744ca2(0x15d)]==_0x744ca2(0x11c)&&(_0x7e565b=_0x744ca2(0x10c),_0x250ced='');const _0x111ddd=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x16df9[_0x744ca2(0xd4)]('Content-disposition',_0x744ca2(0x12f)+_0x3ad7ba+_0x744ca2(0x148)),_0x16df9[_0x744ca2(0xd4)](_0x744ca2(0xe6),_0x744ca2(0xbd));var _0x38aed7=0x14,_0x1bc4ae=0x3c;_0x111ddd['pipe'](_0x16df9),_0x111ddd[_0x744ca2(0x14d)](_0x744ca2(0x157)+_0x2e7115[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x111ddd[_0x744ca2(0x16e)](0x14)[_0x744ca2(0xb8)](_0x744ca2(0x101),_0x38aed7,_0x1bc4ae),_0x111ddd['fontSize'](0xa)[_0x744ca2(0xb8)](_0x744ca2(0xe8),_0x38aed7,_0x1bc4ae+=0xf),_0x111ddd[_0x744ca2(0x16e)](0xf)['text'](_0x7e565b,_0x38aed7,_0x1bc4ae+=0x32),_0x111ddd[_0x744ca2(0x16e)](0xa)['text'](_0x250ced,_0x38aed7,_0x1bc4ae+=0x14),_0x111ddd[_0x744ca2(0x16e)](0x9)[_0x744ca2(0xb8)](_0x744ca2(0xca),_0x38aed7,_0x1bc4ae+=0x28),_0x111ddd[_0x744ca2(0x16e)](0x9)[_0x744ca2(0xb8)](_0x744ca2(0x13c)+_0x3ce745[_0x744ca2(0xee)],_0x38aed7+0x3f,_0x1bc4ae),_0x111ddd[_0x744ca2(0x16e)](0x9)[_0x744ca2(0xb8)]('Date\x20',_0x38aed7,_0x1bc4ae+=0xb),_0x111ddd['fontSize'](0x9)[_0x744ca2(0xb8)](_0x744ca2(0x13c)+_0x3ce745['date'],_0x38aed7+0x3f,_0x1bc4ae),_0x111ddd[_0x744ca2(0x16e)](0x9)[_0x744ca2(0xb8)]('Control\x20Number\x20',_0x38aed7,_0x1bc4ae+=0xb),_0x111ddd[_0x744ca2(0x16e)](0x9)[_0x744ca2(0xb8)](_0x744ca2(0x13c)+_0x3ce745[_0x744ca2(0xda)],_0x38aed7+0x3f,_0x1bc4ae);const _0x3362db={'headers':[{'label':_0x744ca2(0x17b),'property':_0x744ca2(0xdf),'width':0x3c,'renderer':null},{'label':_0x744ca2(0x120),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x744ca2(0x106),'property':'qty','width':0x3c,'renderer':null},{'label':_0x744ca2(0xa6),'property':_0x744ca2(0x11f),'width':0x3c,'renderer':null},{'label':_0x744ca2(0x104),'property':_0x744ca2(0x15f),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x744ca2(0x10e),'width':0x3f,'renderer':null},{'label':_0x744ca2(0xf2),'property':_0x744ca2(0x122),'width':0x3f,'renderer':null}],'datas':[]};var _0x1d90eb=0x0;let _0x113a47='';var _0x28b16d=0x0;_0x3ce745['warehouse_name']=='DRY\x20GOODS'?_0x113a47='DG':_0x113a47='FG';_0x3ce745[_0x744ca2(0x139)]['forEach'](_0x51589a=>{const _0x3676cd=_0x744ca2;console[_0x3676cd(0xc9)](_0x51589a);var _0x148cb6=_0x51589a[_0x3676cd(0x175)],_0x4bfea6,_0x4657ab;_0x4bfea6=_0x51589a['unit'],_0x4657ab=_0x51589a[_0x3676cd(0xcd)];_0x148cb6=='S'&&(_0x4bfea6=_0x51589a['secondary_unit'],_0x4657ab=_0x51589a[_0x3676cd(0xcd)]*_0x51589a[_0x3676cd(0x154)]);const _0x2d57ea={'itemcode':_0x51589a['product_code'],'itemdescription':_0x51589a[_0x3676cd(0xc8)],'qty':_0x4657ab,'unit':_0x4bfea6,'proddate':_0x51589a[_0x3676cd(0x179)],'batchno':_0x51589a[_0x3676cd(0x113)],'binloc':_0x113a47+_0x51589a[_0x3676cd(0xed)]};_0x1d90eb+=_0x4657ab,_0x3362db[_0x3676cd(0x162)]['push'](_0x2d57ea);}),_0x111ddd[_0x744ca2(0x14e)](_0x3362db,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x111ddd[_0x744ca2(0xa5)](_0x744ca2(0x14c))[_0x744ca2(0x16e)](0x8),'prepareRow':(_0x100e32,_0x56d410,_0x48b266,_0x35514a)=>_0x111ddd[_0x744ca2(0xa5)](_0x744ca2(0x159))[_0x744ca2(0x16e)](0x8)});var _0x34fbd1=_0x111ddd['y'],_0x5af0d2=_0x111ddd['x'];_0x111ddd[_0x744ca2(0x16e)](0xa)[_0x744ca2(0xb8)](_0x744ca2(0xa8),_0x5af0d2+0x7d,_0x34fbd1),_0x111ddd[_0x744ca2(0x16e)](0xa)[_0x744ca2(0xb8)](_0x744ca2(0x177),_0x5af0d2,_0x34fbd1+=0x15e),_0x111ddd[_0x744ca2(0x16e)](0xa)[_0x744ca2(0xb8)](_0x1d90eb,_0x5af0d2+0xc8,_0x34fbd1),_0x111ddd[_0x744ca2(0x16e)](0xa)[_0x744ca2(0xb8)](_0x744ca2(0x126),_0x5af0d2,_0x34fbd1+=0x19),_0x111ddd[_0x744ca2(0x16e)](0xa)['text']('\x20'[_0x744ca2(0xe7)](0x3c),_0x5af0d2+0x3e,_0x34fbd1,{'underline':!![]}),_0x111ddd[_0x744ca2(0x16e)](0xa)[_0x744ca2(0xb8)](_0x744ca2(0x158),_0x5af0d2,_0x34fbd1+=0x32),_0x111ddd['fontSize'](0xa)[_0x744ca2(0xb8)](_0x744ca2(0x13c),_0x5af0d2+0x37,_0x34fbd1),_0x111ddd[_0x744ca2(0x16e)](0xa)['text']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5af0d2+0x3c,_0x34fbd1,{'underline':!![]}),_0x111ddd[_0x744ca2(0x16e)](0xa)['text'](_0x744ca2(0x130),_0x5af0d2+0x3c,_0x34fbd1+0xc);let _0x53f7e2=_0x111ddd[_0x744ca2(0xb4)]();for(let _0x132aa9=0x0;_0x132aa9<_0x53f7e2[_0x744ca2(0xfe)];_0x132aa9++){_0x111ddd[_0x744ca2(0x10f)](_0x132aa9);let _0x33fbf0=_0x111ddd[_0x744ca2(0xc4)][_0x744ca2(0x17c)][_0x744ca2(0x16c)];_0x111ddd[_0x744ca2(0xc4)]['margins']['bottom']=0x0,_0x111ddd[_0x744ca2(0xb8)](_0x744ca2(0xe4)+(_0x132aa9+0x1)+_0x744ca2(0xd0)+_0x53f7e2[_0x744ca2(0xfe)],0x0,_0x111ddd[_0x744ca2(0xc4)][_0x744ca2(0x172)]-_0x33fbf0/0x2,{'align':'center'}),_0x111ddd[_0x744ca2(0xc4)]['margins']['bottom']=_0x33fbf0;}const _0x47d52d=_0x111ddd['y'],_0x15c6c8=_0x111ddd['x'];_0x111ddd['end']();}catch(_0x15741c){console[_0x744ca2(0xc9)](_0x15741c),_0x16df9[_0x744ca2(0x171)](0x1f4)[_0x744ca2(0x144)](_0x744ca2(0xad));}}),router['get']('/pdf_puchases_fin/:id',auth,async(_0x280351,_0x34f5a5)=>{const _0xa32874=a0_0x3d6abc;try{const {username:_0x422784,email:_0x57cbc5,role:_0x5172d3}=_0x280351[_0xa32874(0x149)],_0x2da84e=_0x280351['user'],_0x1ec901=await profile['findOne']({'email':_0x2da84e['email']}),_0x68312f=await master_shop[_0xa32874(0x128)](),_0xdbb738=_0x280351['params']['id'],_0x1fa67c=await purchases_finished[_0xa32874(0xff)](_0xdbb738),_0x419551=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x34f5a5[_0xa32874(0xd4)](_0xa32874(0xe9),_0xa32874(0x12f)+_0xdbb738+_0xa32874(0x148)),_0x34f5a5[_0xa32874(0xd4)]('Content-type',_0xa32874(0xbd));var _0x3a0160=0x14,_0x45f1cc=0x3c;_0x419551[_0xa32874(0x123)](_0x34f5a5),_0x419551[_0xa32874(0x14d)](_0xa32874(0x157)+_0x68312f[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x419551[_0xa32874(0x16e)](0x14)[_0xa32874(0xb8)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x3a0160,_0x45f1cc),_0x419551[_0xa32874(0x16e)](0xa)[_0xa32874(0xb8)](_0xa32874(0xe8),_0x3a0160,_0x45f1cc+=0xf),_0x419551['fontSize'](0xf)[_0xa32874(0xb8)](_0xa32874(0x13d),_0x3a0160,_0x45f1cc+=0x32),_0x419551[_0xa32874(0x16e)](0xa)[_0xa32874(0xb8)](_0xa32874(0x115),_0x3a0160,_0x45f1cc+=0x14),_0x419551[_0xa32874(0x16e)](0x9)[_0xa32874(0xb8)](_0xa32874(0xca),_0x3a0160,_0x45f1cc+=0x28),_0x419551['fontSize'](0x9)['text'](_0xa32874(0x13c)+_0x1fa67c[_0xa32874(0xee)],_0x3a0160+0x3f,_0x45f1cc),_0x419551[_0xa32874(0x16e)](0x9)[_0xa32874(0xb8)](_0xa32874(0xd5)+_0x1fa67c[_0xa32874(0x146)],_0x3a0160+0x17c,_0x45f1cc),_0x419551[_0xa32874(0x16e)](0x9)[_0xa32874(0xb8)]('Date\x20',_0x3a0160,_0x45f1cc+=0xb),_0x419551['fontSize'](0x9)[_0xa32874(0xb8)](_0xa32874(0x13c)+_0x1fa67c['date'],_0x3a0160+0x3f,_0x45f1cc),_0x419551['fontSize'](0x9)[_0xa32874(0xb8)](_0xa32874(0x129),_0x3a0160,_0x45f1cc+=0xb),_0x419551[_0xa32874(0x16e)](0x9)[_0xa32874(0xb8)](_0xa32874(0x13c)+_0x1fa67c[_0xa32874(0xda)],_0x3a0160+0x3f,_0x45f1cc);const _0x39411f={'headers':[{'label':_0xa32874(0x17b),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0xa32874(0x120),'property':_0xa32874(0x107),'width':0xc8,'renderer':null},{'label':_0xa32874(0x106),'property':_0xa32874(0x127),'width':0x3c,'renderer':null},{'label':_0xa32874(0xa6),'property':_0xa32874(0x11f),'width':0x3c,'renderer':null},{'label':_0xa32874(0x136),'property':_0xa32874(0x12b),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0xa32874(0x10e),'width':0x3f,'renderer':null},{'label':_0xa32874(0xf2),'property':_0xa32874(0x122),'width':0x3f,'renderer':null}],'datas':[]};var _0x2db791=0x0;let _0x4e228d='';_0x1fa67c[_0xa32874(0xee)]==_0xa32874(0xb6)?_0x4e228d='DG':_0x4e228d='FG';_0x1fa67c[_0xa32874(0x139)]['forEach'](_0x2e9811=>{const _0x5a01ba=_0xa32874;let _0x22962='';var _0xc377fb=0x0;const _0x33c3e2={'itemcode':_0x2e9811[_0x5a01ba(0xf0)],'itemdescription':_0x2e9811[_0x5a01ba(0xc8)],'qty':_0x2e9811[_0x5a01ba(0x160)],'unit':_0x2e9811[_0x5a01ba(0x166)],'expdate':_0x2e9811[_0x5a01ba(0x100)],'batchno':_0x2e9811['batch_code'],'binloc':_0x4e228d+_0x2e9811[_0x5a01ba(0xed)]};_0x2db791+=_0x2e9811[_0x5a01ba(0x160)],_0x39411f['datas'][_0x5a01ba(0x15a)](_0x33c3e2);}),_0x419551[_0xa32874(0x14e)](_0x39411f,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x419551['font'](_0xa32874(0x14c))[_0xa32874(0x16e)](0x8),'prepareRow':(_0x2157c8,_0x404363,_0xb69aaa,_0x22b11f)=>_0x419551[_0xa32874(0xa5)](_0xa32874(0x159))['fontSize'](0x8)});var _0xc73c7a=_0x419551['y'],_0x17982c=_0x419551['x'];_0x419551[_0xa32874(0x16e)](0xa)[_0xa32874(0xb8)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x17982c+0x7d,_0xc73c7a),_0x419551['fontSize'](0xa)[_0xa32874(0xb8)]('TOTAL\x20QTY:\x20',_0x17982c,_0xc73c7a+=0x15e),_0x419551[_0xa32874(0x16e)](0xa)[_0xa32874(0xb8)](_0x2db791,_0x17982c+0xfa,_0xc73c7a),_0x419551[_0xa32874(0x16e)](0xa)[_0xa32874(0xb8)](_0xa32874(0xbf),_0x17982c,_0xc73c7a+=0x19),_0x419551['fontSize'](0xa)['text'](_0xa32874(0xcc),_0x17982c+0x37,_0xc73c7a,{'underline':!![]}),_0x419551[_0xa32874(0x16e)](0xa)[_0xa32874(0xb8)](_0xa32874(0x16a),_0x17982c,_0xc73c7a+0x32),_0x419551['fontSize'](0xa)[_0xa32874(0xb8)](_0xa32874(0xdd),_0x17982c+0x32,_0xc73c7a+0x32,{'underline':!![]}),_0x419551[_0xa32874(0x16e)](0xa)['text'](_0xa32874(0x130),_0x17982c+0x32,_0xc73c7a+0x3c);let _0x37f703=_0x419551[_0xa32874(0xb4)]();for(let _0x19e4d3=0x0;_0x19e4d3<_0x37f703['count'];_0x19e4d3++){_0x419551[_0xa32874(0x10f)](_0x19e4d3);let _0x2ac818=_0x419551[_0xa32874(0xc4)][_0xa32874(0x17c)][_0xa32874(0x16c)];_0x419551[_0xa32874(0xc4)]['margins'][_0xa32874(0x16c)]=0x0,_0x419551['text']('Page:\x20'+(_0x19e4d3+0x1)+_0xa32874(0xd0)+_0x37f703[_0xa32874(0xfe)],0x0,_0x419551['page']['height']-_0x2ac818/0x2,{'align':'center'}),_0x419551[_0xa32874(0xc4)][_0xa32874(0x17c)]['bottom']=_0x2ac818;}const _0x5f4ab6=_0x419551['y'],_0x885517=_0x419551['x'];_0x419551[_0xa32874(0xfa)]();}catch(_0x148fdf){console['log'](_0x148fdf),_0x34f5a5['status'](0x1f4)[_0xa32874(0x144)](_0xa32874(0xad));}}),router[a0_0x3d6abc(0x14a)](a0_0x3d6abc(0xef),auth,async(_0x9dbd35,_0x118867)=>{const _0xec07b3=a0_0x3d6abc;try{const {username:_0x266f5e,email:_0x547b12,role:_0x586a60}=_0x9dbd35[_0xec07b3(0x149)],_0xd061d8=_0x9dbd35['user'],_0x51c63e=await profile[_0xec07b3(0xb0)]({'email':_0xd061d8[_0xec07b3(0x12a)]}),_0x17a06f=await master_shop['find'](),_0x300ac6=_0x9dbd35[_0xec07b3(0x15c)]['id'],_0x2469e4=await sales_return_finished[_0xec07b3(0xff)](_0x300ac6),_0x1b5f04=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x118867[_0xec07b3(0xd4)](_0xec07b3(0xe9),'inline;\x20filename=\x22OUT-'+_0x300ac6+_0xec07b3(0x148)),_0x118867[_0xec07b3(0xd4)](_0xec07b3(0xe6),_0xec07b3(0xbd));var _0x3eccf1=0x14,_0x43ac9c=0x64;_0x1b5f04['pipe'](_0x118867),_0x1b5f04[_0xec07b3(0x14d)](_0xec07b3(0x157)+_0x17a06f[0x0][_0xec07b3(0x14d)],0x14,0x0,{'fit':[0x64,0x64]}),_0x1b5f04[_0xec07b3(0x16e)](0x14)[_0xec07b3(0xb8)](_0xec07b3(0x101),_0x3eccf1,_0x43ac9c),_0x1b5f04[_0xec07b3(0x16e)](0xa)[_0xec07b3(0xb8)](_0xec07b3(0xe8),_0x3eccf1,_0x43ac9c+=0xf),_0x1b5f04['fontSize'](0xf)[_0xec07b3(0xb8)](_0xec07b3(0xf7),_0x3eccf1,_0x43ac9c+=0x32),_0x1b5f04['fontSize'](0xa)[_0xec07b3(0xb8)](_0xec07b3(0xc7),_0x3eccf1,_0x43ac9c+=0x1e),_0x1b5f04[_0xec07b3(0x16e)](0x9)[_0xec07b3(0xb8)](_0xec07b3(0x13b)+_0x2469e4['ToWarehouse'],_0x3eccf1,_0x43ac9c+=0x28),_0x1b5f04['fontSize'](0x9)[_0xec07b3(0xb8)](_0xec07b3(0x178)+_0x2469e4[_0xec07b3(0xf4)],0x190,0xd2,{'underline':!![]}),_0x1b5f04['fontSize'](0x9)['text'](_0xec07b3(0x14f),_0x3eccf1,_0x43ac9c+=0xb),_0x1b5f04[_0xec07b3(0x16e)](0x9)[_0xec07b3(0xb8)](_0xec07b3(0xb9)+_0x2469e4['date'],_0x3eccf1,_0x43ac9c+=0xb),_0x1b5f04[_0xec07b3(0x16e)](0x9)[_0xec07b3(0xb8)](_0xec07b3(0xf6)+_0x2469e4[_0xec07b3(0xda)],_0x3eccf1,_0x43ac9c+=0xb);var _0x578926='',_0x56f7f1='',_0x2e40a6=0x0,_0x9a2688;console[_0xec07b3(0xc9)](_0x2469e4[_0xec07b3(0x151)]);_0x2469e4[_0xec07b3(0x151)]=='GS'?(_0x2469e4[_0xec07b3(0xee)]==_0xec07b3(0xb6)?warecode='DG':warecode='FG',_0x578926={'headers':[{'label':'Item\x20Code','property':'itemcode','width':0x3c,'renderer':null},{'label':_0xec07b3(0x120),'property':'itemdescription','width':0xc8,'renderer':null},{'label':_0xec07b3(0x106),'property':'qty','width':0x3c,'renderer':null},{'label':'UOM','property':_0xec07b3(0x11f),'width':0x3c,'renderer':null},{'label':_0xec07b3(0x136),'property':'expdate','width':0x50,'renderer':null},{'label':_0xec07b3(0x145),'property':_0xec07b3(0x10e),'width':0x3f,'renderer':null},{'label':_0xec07b3(0xf2),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]},_0x2469e4[_0xec07b3(0x108)][_0xec07b3(0x12c)](_0x18d1be=>{const _0x30f99b=_0xec07b3;let _0xafdd10='';var _0x4a423f=0x0;_0x56f7f1={'itemcode':_0x18d1be[_0x30f99b(0xf0)],'itemdescription':_0x18d1be[_0x30f99b(0xc8)],'qty':_0x18d1be[_0x30f99b(0x111)],'unit':_0x18d1be['unit'],'expdate':_0x18d1be[_0x30f99b(0x100)],'batchno':_0x18d1be['batch_code'],'binloc':warecode+_0x18d1be[_0x30f99b(0xed)]},_0x2e40a6+=_0x18d1be['return_qty'],console[_0x30f99b(0xc9)](_0x18d1be),_0x578926[_0x30f99b(0x162)]['push'](_0x56f7f1);})):(_0x578926={'headers':[{'label':'Item\x20Code','property':_0xec07b3(0xdf),'width':0x3c,'renderer':null},{'label':_0xec07b3(0x120),'property':_0xec07b3(0x107),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0xec07b3(0x127),'width':0x3c,'renderer':null},{'label':_0xec07b3(0xa6),'property':_0xec07b3(0x11f),'width':0x3c,'renderer':null},{'label':_0xec07b3(0x136),'property':_0xec07b3(0x12b),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0xec07b3(0x10e),'width':0x3f,'renderer':null}],'datas':[]},_0x2469e4[_0xec07b3(0xfb)][_0xec07b3(0x12c)](_0x564166=>{const _0x270219=_0xec07b3;let _0x3035f1='';var _0x190e79=0x0;_0x56f7f1={'itemcode':_0x564166[_0x270219(0xf0)],'itemdescription':_0x564166[_0x270219(0xc8)],'qty':_0x564166[_0x270219(0x111)],'unit':_0x564166[_0x270219(0x11f)],'expdate':_0x564166['expiry_date'],'batchno':_0x564166[_0x270219(0x113)]},_0x2e40a6+=_0x564166['return_qty'],console['log'](_0x2e40a6+_0x270219(0x169)+_0x564166[_0x270219(0x111)]),_0x578926['datas']['push'](_0x56f7f1);}));_0x1b5f04[_0xec07b3(0x14e)](_0x578926,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x1b5f04[_0xec07b3(0xa5)]('Helvetica-Bold')[_0xec07b3(0x16e)](0x8),'prepareRow':(_0x4ecf4e,_0x118b4b,_0x6fa68,_0x17d169)=>_0x1b5f04[_0xec07b3(0xa5)](_0xec07b3(0x159))[_0xec07b3(0x16e)](0x8)});var _0x314cb9=_0x1b5f04['y'],_0x47dd79=_0x1b5f04['x'];_0x1b5f04[_0xec07b3(0x16e)](0xa)[_0xec07b3(0xb8)](_0xec07b3(0xa8),_0x47dd79+0x7d,_0x314cb9),_0x1b5f04[_0xec07b3(0x16e)](0xa)[_0xec07b3(0xb8)](_0xec07b3(0xcf),_0x47dd79,_0x314cb9+=0x190),_0x1b5f04[_0xec07b3(0x16e)](0xa)[_0xec07b3(0xb8)](_0x2e40a6,_0x47dd79+0x37,_0x314cb9,{'underline':!![]}),_0x1b5f04[_0xec07b3(0x16e)](0xa)['text'](_0xec07b3(0x16b),_0x47dd79,_0x314cb9+0x1e),_0x1b5f04['fontSize'](0xa)[_0xec07b3(0xb8)]('ARMAN\x20CRUZ',_0x47dd79+0x32,_0x314cb9+0x1e,{'underline':!![]});let _0x5b7624=_0x1b5f04[_0xec07b3(0xb4)]();for(let _0x566d8d=0x0;_0x566d8d<_0x5b7624[_0xec07b3(0xfe)];_0x566d8d++){_0x1b5f04[_0xec07b3(0x10f)](_0x566d8d);let _0x3c72ca=_0x1b5f04['page'][_0xec07b3(0x17c)][_0xec07b3(0x16c)];_0x1b5f04[_0xec07b3(0xc4)][_0xec07b3(0x17c)][_0xec07b3(0x16c)]=0x0,_0x1b5f04[_0xec07b3(0xb8)](_0xec07b3(0xe4)+(_0x566d8d+0x1)+'\x20of\x20'+_0x5b7624[_0xec07b3(0xfe)],0x0,_0x1b5f04['page'][_0xec07b3(0x172)]-_0x3c72ca/0x2,{'align':_0xec07b3(0xb5)}),_0x1b5f04['page'][_0xec07b3(0x17c)][_0xec07b3(0x16c)]=_0x3c72ca;}const _0x517d0b=_0x1b5f04['y'],_0x3a8bf8=_0x1b5f04['x'];_0x1b5f04[_0xec07b3(0xfa)]();}catch(_0x53c258){console[_0xec07b3(0xc9)](_0x53c258),_0x118867[_0xec07b3(0x171)](0x1f4)[_0xec07b3(0x144)](_0xec07b3(0xad));}}),router[a0_0x3d6abc(0x14a)](a0_0x3d6abc(0x141),auth,async(_0x245142,_0x344ce5)=>{const _0x495fed=a0_0x3d6abc;try{const {username:_0x46a590,email:_0x1cf041,role:_0x222fb3}=_0x245142[_0x495fed(0x149)],_0x3051b4=_0x245142[_0x495fed(0x149)],_0x2252bc=await profile[_0x495fed(0xb0)]({'email':_0x3051b4[_0x495fed(0x12a)]}),_0x5ef052=await master_shop[_0x495fed(0x128)](),_0x2dab8d=_0x245142[_0x495fed(0x15c)]['id'],_0x6dd63e=await purchases[_0x495fed(0xff)](_0x2dab8d),_0x4febf6=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x344ce5[_0x495fed(0xd4)](_0x495fed(0xe9),_0x495fed(0x12f)+_0x2dab8d+_0x495fed(0x148)),_0x344ce5['setHeader']('Content-type',_0x495fed(0xbd));var _0x4bfca3=0x14,_0x22fca1=0x3c;_0x4febf6[_0x495fed(0x123)](_0x344ce5),_0x4febf6[_0x495fed(0x14d)]('./public/upload/'+_0x5ef052[0x0][_0x495fed(0x14d)],0x14,0x0,{'fit':[0x64,0x64]}),_0x4febf6[_0x495fed(0x16e)](0x14)[_0x495fed(0xb8)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x4bfca3,_0x22fca1),_0x4febf6[_0x495fed(0x16e)](0xa)[_0x495fed(0xb8)](_0x495fed(0xe8),_0x4bfca3,_0x22fca1+=0xf),_0x4febf6[_0x495fed(0x16e)](0xf)['text'](_0x495fed(0x112),_0x4bfca3,_0x22fca1+=0x32),_0x4febf6[_0x495fed(0x16e)](0xa)['text']('(INCOMING)',_0x4bfca3,_0x22fca1+=0x14),_0x4febf6[_0x495fed(0x16e)](0x9)['text']('Warehouse\x20',_0x4bfca3,_0x22fca1+=0x2d),_0x4febf6[_0x495fed(0x16e)](0x9)['text']('\x20:\x20'+_0x6dd63e['warehouse_name'],_0x4bfca3+0x3f,_0x22fca1),_0x4febf6[_0x495fed(0x16e)](0x9)['text']('Supplier\x20:\x20'+_0x6dd63e[_0x495fed(0x17d)],_0x4bfca3+0x17c,_0x22fca1,{'underline':!![]}),_0x4febf6[_0x495fed(0x16e)](0x9)[_0x495fed(0xb8)]('Date\x20',_0x4bfca3,_0x22fca1+=0xb),_0x4febf6[_0x495fed(0x16e)](0x9)[_0x495fed(0xb8)]('\x20:\x20'+_0x6dd63e[_0x495fed(0xbe)],_0x4bfca3+0x3f,_0x22fca1),_0x4febf6['fontSize'](0x9)[_0x495fed(0xb8)](_0x495fed(0x129),_0x4bfca3,_0x22fca1+=0xb),_0x4febf6[_0x495fed(0x16e)](0x9)['text'](_0x495fed(0x13c)+_0x6dd63e[_0x495fed(0xda)],_0x4bfca3+0x3f,_0x22fca1);const _0x3bc805={'headers':[{'label':'Item\x20Code','property':_0x495fed(0xdf),'width':0x3c,'renderer':null},{'label':_0x495fed(0x120),'property':_0x495fed(0x107),'width':0x96,'renderer':null},{'label':_0x495fed(0x10b),'property':'qty','width':0x2d,'renderer':null},{'label':'UOM','property':_0x495fed(0x11f),'width':0x3c,'renderer':null},{'label':_0x495fed(0x136),'property':_0x495fed(0x12b),'width':0x46,'renderer':null},{'label':_0x495fed(0x145),'property':_0x495fed(0x10e),'width':0x3c,'renderer':null},{'label':_0x495fed(0xf2),'property':_0x495fed(0x122),'width':0x3c,'renderer':null},{'label':_0x495fed(0x16d),'property':_0x495fed(0x15e),'width':0x3f,'renderer':null}],'datas':[]};var _0x4c8988=0x0;let _0x51a7b4='';_0x6dd63e[_0x495fed(0x139)][_0x495fed(0x12c)](_0xfdb8d=>{const _0x26b462=_0x495fed;let _0x2556ff='';var _0x201283=0x0;const _0x2bf7b5={'itemcode':_0xfdb8d[_0x26b462(0xf0)],'itemdescription':_0xfdb8d['product_name'],'qty':_0xfdb8d[_0x26b462(0x160)],'unit':_0xfdb8d[_0x26b462(0x166)],'expdate':_0xfdb8d[_0x26b462(0x100)],'batchno':_0xfdb8d[_0x26b462(0x113)],'binloc':_0xfdb8d[_0x26b462(0xe0)]+_0xfdb8d[_0x26b462(0x117)]+_0xfdb8d[_0x26b462(0xed)]+_0xfdb8d[_0x26b462(0x119)]+_0xfdb8d[_0x26b462(0x103)][0x0]+_0xfdb8d[_0x26b462(0x102)],'DelCode':_0xfdb8d[_0x26b462(0x125)]};_0x4c8988+=_0xfdb8d[_0x26b462(0x160)],_0x3bc805[_0x26b462(0x162)][_0x26b462(0x15a)](_0x2bf7b5);}),_0x4febf6[_0x495fed(0x14e)](_0x3bc805,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x4febf6[_0x495fed(0xa5)](_0x495fed(0x14c))[_0x495fed(0x16e)](0x8),'prepareRow':(_0x1fa4e9,_0x378a10,_0xa10429,_0x46c197)=>_0x4febf6[_0x495fed(0xa5)](_0x495fed(0x159))['fontSize'](0x8)});var _0x39eded=_0x4febf6['y'],_0x3ba022=_0x4febf6['x'];_0x4febf6[_0x495fed(0x16e)](0xa)[_0x495fed(0xb8)](_0x495fed(0xa8),_0x3ba022+0x7d,_0x39eded),_0x4febf6[_0x495fed(0x16e)](0xa)[_0x495fed(0xb8)]('TOTAL\x20QTY:\x20',_0x3ba022,_0x39eded+=0x15e),_0x4febf6[_0x495fed(0x16e)](0xa)['text'](_0x4c8988,_0x3ba022+0xf0,_0x39eded,{'underline':!![]}),_0x4febf6[_0x495fed(0x16e)](0xa)[_0x495fed(0xb8)](_0x495fed(0xd2),_0x3ba022,_0x39eded+0x28),_0x4febf6[_0x495fed(0x16e)](0xa)[_0x495fed(0xb8)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3ba022+0x40,_0x39eded+0x28,{'underline':!![]}),_0x4febf6['fontSize'](0xa)[_0x495fed(0xb8)]('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x3ba022+0x40,_0x39eded+0x32);let _0x48baeb=_0x4febf6[_0x495fed(0xb4)]();for(let _0x3fb3e3=0x0;_0x3fb3e3<_0x48baeb[_0x495fed(0xfe)];_0x3fb3e3++){_0x4febf6[_0x495fed(0x10f)](_0x3fb3e3);let _0x7fc7b2=_0x4febf6[_0x495fed(0xc4)]['margins'][_0x495fed(0x16c)];_0x4febf6['page'][_0x495fed(0x17c)][_0x495fed(0x16c)]=0x0,_0x4febf6[_0x495fed(0xb8)](_0x495fed(0xe4)+(_0x3fb3e3+0x1)+_0x495fed(0xd0)+_0x48baeb[_0x495fed(0xfe)],0x0,_0x4febf6['page']['height']-_0x7fc7b2/0x2,{'align':'center'}),_0x4febf6[_0x495fed(0xc4)][_0x495fed(0x17c)][_0x495fed(0x16c)]=_0x7fc7b2;}const _0x4da844=_0x4febf6['y'],_0x2e5547=_0x4febf6['x'];_0x4febf6['end']();}catch(_0x4891fc){console[_0x495fed(0xc9)](_0x4891fc),_0x344ce5[_0x495fed(0x171)](0x1f4)[_0x495fed(0x144)](_0x495fed(0xad));}}),router[a0_0x3d6abc(0x14a)](a0_0x3d6abc(0xc0),auth,async(_0x4df8a6,_0x1cee28)=>{const _0x3739f6=a0_0x3d6abc;try{const {username:_0x407e54,email:_0x2e2f64,role:_0x20d915}=_0x4df8a6[_0x3739f6(0x149)],_0x410c3e=_0x4df8a6[_0x3739f6(0x149)],_0x5d27dc=await profile[_0x3739f6(0xb0)]({'email':_0x410c3e[_0x3739f6(0x12a)]}),_0x616ca7=await master_shop[_0x3739f6(0x128)](),_0xec63c8=_0x4df8a6[_0x3739f6(0x15c)]['id'],_0x15369b=await sales[_0x3739f6(0xff)](_0xec63c8),_0xde1fbe=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x1108d0;_0x1108d0=_0x3739f6(0xf7);_0x15369b[_0x3739f6(0x15d)]=='True'&&(_0x1108d0=_0x3739f6(0x11d));_0x1cee28[_0x3739f6(0xd4)](_0x3739f6(0xe9),_0x3739f6(0x12f)+_0xec63c8+'.pdf\x22'),_0x1cee28[_0x3739f6(0xd4)](_0x3739f6(0xe6),_0x3739f6(0xbd));var _0x40d695=0x14,_0x53899e=0x64;_0xde1fbe[_0x3739f6(0x123)](_0x1cee28),_0xde1fbe[_0x3739f6(0x14d)]('./public/upload/'+_0x616ca7[0x0][_0x3739f6(0x14d)],0x14,0x0,{'fit':[0x64,0x64]}),_0xde1fbe[_0x3739f6(0x16e)](0x14)[_0x3739f6(0xb8)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x40d695,_0x53899e),_0xde1fbe[_0x3739f6(0x16e)](0xa)[_0x3739f6(0xb8)](_0x3739f6(0xe8),_0x40d695,_0x53899e+=0xf),_0xde1fbe['fontSize'](0xf)[_0x3739f6(0xb8)](_0x1108d0,_0x40d695,_0x53899e+=0x32),_0xde1fbe[_0x3739f6(0x16e)](0xa)[_0x3739f6(0xb8)](_0x3739f6(0xce),_0x40d695,_0x53899e+=0x14),_0xde1fbe[_0x3739f6(0x16e)](0x9)['text'](_0x3739f6(0x138),_0x40d695,_0x53899e+=0x19),_0xde1fbe[_0x3739f6(0x16e)](0x9)[_0x3739f6(0xb8)](_0x3739f6(0x13c)+_0x15369b[_0x3739f6(0xbe)],_0x40d695+0x3f,_0x53899e),_0xde1fbe['fontSize'](0x9)[_0x3739f6(0xb8)]('REF\x20MRIS#\x20',_0x40d695,_0x53899e+=0xb),_0xde1fbe[_0x3739f6(0x16e)](0x9)[_0x3739f6(0xb8)]('\x20:\x20'+_0x15369b[_0x3739f6(0xda)],_0x40d695+0x3f,_0x53899e);const _0x1ae196={'headers':[{'label':_0x3739f6(0x13f),'property':_0x3739f6(0xdf),'align':_0x3739f6(0xb5),'width':0x2d,'renderer':null},{'label':_0x3739f6(0xd1),'property':_0x3739f6(0x107),'align':_0x3739f6(0xb5),'width':0x64,'renderer':null},{'label':_0x3739f6(0x135),'property':_0x3739f6(0xeb),'align':_0x3739f6(0xb5),'width':0x28,'renderer':null},{'label':_0x3739f6(0xd7),'property':_0x3739f6(0x17a),'align':_0x3739f6(0xb5),'width':0x28,'renderer':null},{'label':_0x3739f6(0xa6),'property':_0x3739f6(0x11f),'align':_0x3739f6(0xb5),'width':0x28,'renderer':null},{'label':_0x3739f6(0x12e),'property':_0x3739f6(0xf1),'align':_0x3739f6(0xb5),'width':0x32,'renderer':null},{'label':_0x3739f6(0xc2),'property':_0x3739f6(0x15f),'align':_0x3739f6(0xb5),'width':0x3c,'renderer':null},{'label':_0x3739f6(0x152),'property':_0x3739f6(0x12b),'align':'center','width':0x3c,'renderer':null},{'label':_0x3739f6(0x15b),'property':_0x3739f6(0xdc),'align':_0x3739f6(0xb5),'width':0x3f,'renderer':null},{'label':_0x3739f6(0x147),'property':_0x3739f6(0x167),'align':_0x3739f6(0xb5),'width':0x3f,'renderer':null}],'datas':[]};var _0x458a1d=0x0;let _0x4d0569='';var _0xdb50a7=0x0,_0x40d695=0x1;_0x15369b[_0x3739f6(0xb2)][_0x3739f6(0x12c)](_0x5d1558=>{const _0x116c04=_0x3739f6,_0x30b494=new Date(_0x5d1558[_0x116c04(0x179)]),_0x21b72d={'year':_0x116c04(0x168),'month':_0x116c04(0xac),'day':_0x116c04(0x168)},_0x47c414=_0x30b494[_0x116c04(0xab)]('en-US',_0x21b72d),_0x4ae8f0=new Date(_0x5d1558[_0x116c04(0x100)]),_0x243646={'year':'numeric','month':_0x116c04(0xac),'day':_0x116c04(0x168)},_0x2e6ab8=_0x4ae8f0[_0x116c04(0xab)](_0x116c04(0xae),_0x243646),_0x4da55a=new Date(_0x5d1558[_0x116c04(0xa7)]),_0x51da5d={'year':_0x116c04(0x168),'month':_0x116c04(0xac),'day':_0x116c04(0x168)};var _0x132c91=_0x4da55a['toLocaleDateString']('en-US',_0x51da5d);typeof _0x5d1558[_0x116c04(0xa7)]==_0x116c04(0xaa)&&(_0x132c91='');const _0x1d8d70={'itemcode':_0x5d1558['product_code'],'itemdescription':_0x5d1558['product_name'],'rqty':_0x5d1558['requested_qty'],'iqty':_0x5d1558['quantity'],'unit':_0x5d1558[_0x116c04(0x11f)],'blocation':_0x5d1558[_0x116c04(0xe0)]+_0x5d1558[_0x116c04(0x117)]+_0x5d1558[_0x116c04(0xed)]+_0x5d1558['bin']+_0x5d1558[_0x116c04(0x103)][0x0]+_0x5d1558[_0x116c04(0x102)],'proddate':_0x47c414,'expdate':_0x2e6ab8,'del_date':_0x132c91,'del_code':_0x5d1558['delivery_code']};_0x40d695++,_0x1ae196['datas']['push'](_0x1d8d70);}),_0xde1fbe[_0x3739f6(0x14e)](_0x1ae196,{'x':_0x40d695+0x11,'y':_0x53899e+=0x1e,'prepareHeader':()=>_0xde1fbe['font'](_0x3739f6(0x14c))['fontSize'](6.5),'prepareRow':(_0x2e6cfe,_0x55eaf6,_0x28a35a,_0x1b3ad1,_0xa5c65d)=>{const _0x17b2d4=_0x3739f6,{x:_0x948190,y:_0x54c570,width:_0x4db1fa,height:_0x3f8504}=_0xa5c65d;_0xde1fbe[_0x17b2d4(0xa5)](_0x17b2d4(0x159))[_0x17b2d4(0x16e)](0x8),_0xde1fbe[_0x17b2d4(0x150)](0.5)[_0x17b2d4(0x174)](_0x948190,_0x54c570)[_0x17b2d4(0xaf)](_0x948190,_0x54c570+_0x3f8504)['stroke']();}});var _0x2a715c=_0xde1fbe['y'],_0x4d9f95=_0xde1fbe['x'],_0x257cea=_0x2a715c-=0x8;_0xde1fbe[_0x3739f6(0x150)](0x5),_0xde1fbe[_0x3739f6(0xc3)](_0x3739f6(0x114))[_0x3739f6(0x174)](0x240,_0x257cea)[_0x3739f6(0xaf)](0x11,_0x257cea)[_0x3739f6(0x12d)](),_0xde1fbe['fontSize'](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x4d9f95+0x7d,_0x2a715c+=0xf),_0xde1fbe[_0x3739f6(0x16e)](0xb)[_0x3739f6(0xb8)](_0x3739f6(0x143),_0x4d9f95,_0x2a715c+=0x15e),_0xde1fbe[_0x3739f6(0x16e)](0xa)['text'](_0x3739f6(0x116),_0x4d9f95+0x52,_0x2a715c,{'underline':!![]}),_0xde1fbe[_0x3739f6(0x16e)](0xa)['text'](_0x3739f6(0xb3),_0x4d9f95,_0x2a715c+=0x19),_0xde1fbe[_0x3739f6(0x16e)](0xa)[_0x3739f6(0xb8)]('\x20:\x20',_0x4d9f95+0x4b,_0x2a715c),_0xde1fbe[_0x3739f6(0x16e)](0xa)[_0x3739f6(0xb8)]('\x20'['repeat'](0x3c),_0x4d9f95+0x50,_0x2a715c,{'underline':!![]}),_0xde1fbe[_0x3739f6(0x16e)](0xa)['text'](_0x3739f6(0x110),_0x4d9f95,_0x2a715c+=0x32),_0xde1fbe['fontSize'](0xa)[_0x3739f6(0xb8)](_0x3739f6(0x13c),_0x4d9f95+0x4b,_0x2a715c),_0xde1fbe[_0x3739f6(0x16e)](0xa)[_0x3739f6(0xb8)](_0x3739f6(0x124),_0x4d9f95+0x50,_0x2a715c,{'underline':!![]}),_0xde1fbe[_0x3739f6(0x16e)](0xa)[_0x3739f6(0xb8)](_0x3739f6(0x118),_0x4d9f95+0x50,_0x2a715c+0xc);let _0x5cbfd1=_0xde1fbe['bufferedPageRange']();for(let _0x7cc172=0x0;_0x7cc172<_0x5cbfd1['count'];_0x7cc172++){_0xde1fbe[_0x3739f6(0x10f)](_0x7cc172);let _0x832272=_0xde1fbe[_0x3739f6(0xc4)][_0x3739f6(0x17c)][_0x3739f6(0x16c)];_0xde1fbe[_0x3739f6(0xc4)][_0x3739f6(0x17c)]['bottom']=0x0,_0xde1fbe[_0x3739f6(0xb8)](_0x3739f6(0xe4)+(_0x7cc172+0x1)+_0x3739f6(0xd0)+_0x5cbfd1[_0x3739f6(0xfe)],0x0,_0xde1fbe[_0x3739f6(0xc4)][_0x3739f6(0x172)]-_0x832272/0x2,{'align':_0x3739f6(0xb5)}),_0xde1fbe['page'][_0x3739f6(0x17c)][_0x3739f6(0x16c)]=_0x832272;}const _0x435a92=_0xde1fbe['y'],_0x52a820=_0xde1fbe['x'];_0xde1fbe[_0x3739f6(0xfa)]();}catch(_0x428594){console['log'](_0x428594),_0x1cee28['status'](0x1f4)[_0x3739f6(0x144)](_0x3739f6(0xad));}}),router[a0_0x3d6abc(0x14a)](a0_0x3d6abc(0x11e),auth,async(_0x483d00,_0x55ed96)=>{const _0x5cfb23=a0_0x3d6abc;try{const {username:_0x162dd3,email:_0x2488bb,role:_0x2b68e4}=_0x483d00[_0x5cfb23(0x149)],_0x1b1454=_0x483d00[_0x5cfb23(0x149)],_0x54ca0b=await profile[_0x5cfb23(0xb0)]({'email':_0x1b1454[_0x5cfb23(0x12a)]}),_0x1512cb=await master_shop[_0x5cfb23(0x128)](),_0x51cd53=_0x483d00[_0x5cfb23(0x15c)]['id'],_0xfbd047=await adjustment['findById'](_0x51cd53);var _0x347e70,_0x411977;_0x347e70='PICKING\x20LIST',_0x411977='(INVENTORY\x20ADJUSTMENT)';_0xfbd047[_0x5cfb23(0x15d)]=='True'&&(_0x347e70=_0x5cfb23(0x10c),_0x411977='');const _0x28494e=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x55ed96[_0x5cfb23(0xd4)]('Content-disposition',_0x5cfb23(0x12f)+_0x51cd53+_0x5cfb23(0x148)),_0x55ed96[_0x5cfb23(0xd4)](_0x5cfb23(0xe6),_0x5cfb23(0xbd));var _0xd76968=0x14,_0x7875d4=0x3c;_0x28494e['pipe'](_0x55ed96),_0x28494e['image'](_0x5cfb23(0x157)+_0x1512cb[0x0][_0x5cfb23(0x14d)],0x14,0x0,{'fit':[0x64,0x64]}),_0x28494e[_0x5cfb23(0x16e)](0x14)[_0x5cfb23(0xb8)](_0x5cfb23(0x101),_0xd76968,_0x7875d4),_0x28494e[_0x5cfb23(0x16e)](0xa)[_0x5cfb23(0xb8)](_0x5cfb23(0xe8),_0xd76968,_0x7875d4+=0xf),_0x28494e[_0x5cfb23(0x16e)](0xf)[_0x5cfb23(0xb8)](_0x347e70,_0xd76968,_0x7875d4+=0x32),_0x28494e[_0x5cfb23(0x16e)](0xa)[_0x5cfb23(0xb8)](_0x411977,_0xd76968,_0x7875d4+=0x14),_0x28494e[_0x5cfb23(0x16e)](0x9)[_0x5cfb23(0xb8)](_0x5cfb23(0xca),_0xd76968,_0x7875d4+=0x28),_0x28494e[_0x5cfb23(0x16e)](0x9)['text'](_0x5cfb23(0x13c)+_0xfbd047[_0x5cfb23(0xee)],_0xd76968+0x3f,_0x7875d4),_0x28494e[_0x5cfb23(0x16e)](0x9)['text'](_0x5cfb23(0x138),_0xd76968,_0x7875d4+=0xb),_0x28494e['fontSize'](0x9)[_0x5cfb23(0xb8)](_0x5cfb23(0x13c)+_0xfbd047[_0x5cfb23(0xbe)],_0xd76968+0x3f,_0x7875d4),_0x28494e[_0x5cfb23(0x16e)](0x9)[_0x5cfb23(0xb8)](_0x5cfb23(0x129),_0xd76968,_0x7875d4+=0xb),_0x28494e['fontSize'](0x9)[_0x5cfb23(0xb8)](_0x5cfb23(0x13c)+_0xfbd047[_0x5cfb23(0xda)],_0xd76968+0x3f,_0x7875d4);const _0x340a25={'headers':[{'label':_0x5cfb23(0x17b),'property':_0x5cfb23(0xdf),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x5cfb23(0x107),'width':0x96,'renderer':null},{'label':_0x5cfb23(0x106),'property':_0x5cfb23(0x127),'width':0x3c,'renderer':null},{'label':_0x5cfb23(0xa6),'property':_0x5cfb23(0x11f),'width':0x3c,'renderer':null},{'label':_0x5cfb23(0x104),'property':_0x5cfb23(0x15f),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x5cfb23(0x10e),'width':0x3f,'renderer':null},{'label':_0x5cfb23(0xf2),'property':_0x5cfb23(0x122),'width':0x3f,'renderer':null}],'datas':[]};var _0x2f14db=0x0,_0x43697a=0x0;_0xfbd047[_0x5cfb23(0x139)][_0x5cfb23(0x12c)](_0x4e2a9b=>{const _0x292781=_0x5cfb23;let _0x5de11c='';const _0x24cb23=_0x4e2a9b['to_quantity'];for(let _0x51ac7c=0x1;_0x51ac7c<=_0x24cb23;_0x51ac7c++){_0x24cb23==_0x51ac7c?_0x5de11c+=_0x4e2a9b['maxperunit']:_0x5de11c+=_0x4e2a9b['maxperunit']+',',_0x43697a+=_0x4e2a9b[_0x292781(0xec)];}_0x5de11c+='\x20/\x20'+_0x4e2a9b['secondary_unit'];const _0x2e8b91={'itemcode':_0x4e2a9b[_0x292781(0xf0)],'itemdescription':_0x4e2a9b[_0x292781(0xc8)],'qty':_0x4e2a9b[_0x292781(0x11b)],'unit':_0x4e2a9b['unit'],'proddate':_0x4e2a9b[_0x292781(0x179)],'batchno':_0x4e2a9b[_0x292781(0x113)],'binloc':_0x4e2a9b[_0x292781(0xe0)]+_0x4e2a9b[_0x292781(0x117)]+_0x4e2a9b[_0x292781(0xed)]+_0x4e2a9b[_0x292781(0x119)]+_0x4e2a9b['type'][0x0]+_0x4e2a9b[_0x292781(0x102)]};_0x2f14db+=_0x4e2a9b[_0x292781(0x11b)],_0x340a25[_0x292781(0x162)][_0x292781(0x15a)](_0x2e8b91);}),_0x28494e[_0x5cfb23(0x14e)](_0x340a25,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x28494e[_0x5cfb23(0xa5)](_0x5cfb23(0x14c))[_0x5cfb23(0x16e)](0x8),'prepareRow':(_0x397f12,_0x37c3a2,_0x98956,_0x4c560b)=>_0x28494e[_0x5cfb23(0xa5)](_0x5cfb23(0x159))[_0x5cfb23(0x16e)](0x8)});var _0x27bbcc=_0x28494e['y'],_0x58cf29=_0x28494e['x'];_0x28494e[_0x5cfb23(0x16e)](0xa)[_0x5cfb23(0xb8)](_0x5cfb23(0xa8),_0x58cf29+0x7d,_0x27bbcc),_0x28494e[_0x5cfb23(0x16e)](0xa)[_0x5cfb23(0xb8)]('TOTAL\x20QTY\x20:\x20',_0x58cf29,_0x27bbcc+=0x136),_0x28494e[_0x5cfb23(0x16e)](0xa)['text'](_0x2f14db,_0x58cf29+0xc8,_0x27bbcc),_0x28494e[_0x5cfb23(0x16e)](0xa)['text'](_0x5cfb23(0x13e),_0x58cf29,_0x27bbcc+=0x19),_0x28494e[_0x5cfb23(0x16e)](0xa)[_0x5cfb23(0xb8)]('\x20'['repeat'](0x3c),_0x58cf29+0x3e,_0x27bbcc,{'underline':!![]}),_0x28494e[_0x5cfb23(0x16e)](0xa)[_0x5cfb23(0xb8)](_0x5cfb23(0x158),_0x58cf29,_0x27bbcc+=0x32),_0x28494e['fontSize'](0xa)[_0x5cfb23(0xb8)](_0x5cfb23(0x13c),_0x58cf29+0x37,_0x27bbcc),_0x28494e[_0x5cfb23(0x16e)](0xa)[_0x5cfb23(0xb8)](_0x5cfb23(0x124),_0x58cf29+0x3c,_0x27bbcc,{'underline':!![]}),_0x28494e[_0x5cfb23(0x16e)](0xa)[_0x5cfb23(0xb8)](_0x5cfb23(0x118),_0x58cf29+0x3c,_0x27bbcc+0xc);let _0x45d2c5=_0x28494e[_0x5cfb23(0xb4)]();for(let _0x1930c0=0x0;_0x1930c0<_0x45d2c5[_0x5cfb23(0xfe)];_0x1930c0++){_0x28494e[_0x5cfb23(0x10f)](_0x1930c0);let _0xe136c0=_0x28494e[_0x5cfb23(0xc4)]['margins'][_0x5cfb23(0x16c)];_0x28494e['page'][_0x5cfb23(0x17c)][_0x5cfb23(0x16c)]=0x0,_0x28494e[_0x5cfb23(0xb8)](_0x5cfb23(0xe4)+(_0x1930c0+0x1)+_0x5cfb23(0xd0)+_0x45d2c5[_0x5cfb23(0xfe)],0x0,_0x28494e['page'][_0x5cfb23(0x172)]-_0xe136c0/0x2,{'align':_0x5cfb23(0xb5)}),_0x28494e[_0x5cfb23(0xc4)][_0x5cfb23(0x17c)]['bottom']=_0xe136c0;}const _0x28ca56=_0x28494e['y'],_0x1b7666=_0x28494e['x'];_0x28494e['end']();}catch(_0x221cb3){console[_0x5cfb23(0xc9)](_0x221cb3),_0x55ed96['status'](0x1f4)[_0x5cfb23(0x144)](_0x5cfb23(0xad));}}),router['get'](a0_0x3d6abc(0xc5),auth,async(_0x32a651,_0x587474)=>{const _0x3eb7b1=a0_0x3d6abc;try{const {username:_0x13ac5d,email:_0x1815fd,role:_0x267210}=_0x32a651[_0x3eb7b1(0x149)],_0xeb3e69=_0x32a651['user'],_0x49f953=await profile[_0x3eb7b1(0xb0)]({'email':_0xeb3e69['email']}),_0x4f160a=await master_shop[_0x3eb7b1(0x128)](),_0x1122c2=_0x32a651[_0x3eb7b1(0x15c)]['id'],_0x270a75=await transfers[_0x3eb7b1(0xff)](_0x1122c2);var _0x29c210,_0x31b24e;_0x29c210=_0x3eb7b1(0x140),_0x31b24e=_0x3eb7b1(0x133);_0x270a75[_0x3eb7b1(0x15d)]==_0x3eb7b1(0x11c)&&(_0x29c210=_0x3eb7b1(0x142),_0x31b24e='');const _0x431a5d=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x587474[_0x3eb7b1(0xd4)](_0x3eb7b1(0xe9),'inline;\x20filename=\x22OUT-'+_0x1122c2+_0x3eb7b1(0x148)),_0x587474[_0x3eb7b1(0xd4)](_0x3eb7b1(0xe6),_0x3eb7b1(0xbd));var _0x1eaa8d=0x14,_0x38d166=0x3c;_0x431a5d[_0x3eb7b1(0x123)](_0x587474),_0x431a5d[_0x3eb7b1(0x14d)](_0x3eb7b1(0x157)+_0x4f160a[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x431a5d[_0x3eb7b1(0x16e)](0x14)[_0x3eb7b1(0xb8)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x1eaa8d,_0x38d166),_0x431a5d[_0x3eb7b1(0x16e)](0xa)['text'](_0x3eb7b1(0xe8),_0x1eaa8d,_0x38d166+=0xf),_0x431a5d[_0x3eb7b1(0x16e)](0xf)['text'](_0x29c210,_0x1eaa8d,_0x38d166+=0x32),_0x431a5d[_0x3eb7b1(0x16e)](0xa)[_0x3eb7b1(0xb8)](_0x31b24e,_0x1eaa8d,_0x38d166+=0x14),_0x431a5d['fontSize'](0x9)[_0x3eb7b1(0xb8)](_0x3eb7b1(0x109),_0x1eaa8d,_0x38d166+=0x28),_0x431a5d[_0x3eb7b1(0x16e)](0x9)[_0x3eb7b1(0xb8)](_0x3eb7b1(0xba)+_0x270a75['from_warehouse'],_0x1eaa8d+0x3f,_0x38d166),_0x431a5d[_0x3eb7b1(0x16e)](0x9)[_0x3eb7b1(0xb8)](_0x3eb7b1(0xf5),_0x1eaa8d,_0x38d166+=0xa),_0x431a5d[_0x3eb7b1(0x16e)](0x9)[_0x3eb7b1(0xb8)]('\x20\x20\x20:\x20'+_0x270a75[_0x3eb7b1(0x165)],_0x1eaa8d+0x3f,_0x38d166),_0x431a5d[_0x3eb7b1(0x16e)](0x9)['text'](_0x3eb7b1(0x138),_0x1eaa8d,_0x38d166+=0xb),_0x431a5d[_0x3eb7b1(0x16e)](0x9)['text'](_0x3eb7b1(0xba)+_0x270a75[_0x3eb7b1(0xbe)],_0x1eaa8d+0x3f,_0x38d166),_0x431a5d[_0x3eb7b1(0x16e)](0x9)[_0x3eb7b1(0xb8)](_0x3eb7b1(0x129),_0x1eaa8d,_0x38d166+=0xb),_0x431a5d[_0x3eb7b1(0x16e)](0x9)[_0x3eb7b1(0xb8)](_0x3eb7b1(0xba)+_0x270a75['invoice'],_0x1eaa8d+0x3f,_0x38d166);const _0x14285b={'headers':[{'label':'','property':_0x3eb7b1(0xdf),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':'\x20\x20\x20\x20\x20FROM','property':_0x3eb7b1(0xdf),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x3eb7b1(0xbb),'property':_0x3eb7b1(0x107),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x431a5d[_0x3eb7b1(0x14e)](_0x14285b,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x431a5d[_0x3eb7b1(0xa5)](_0x3eb7b1(0x14c))[_0x3eb7b1(0x16e)](0x8),'prepareRow':(_0x3976f5,_0x87bc84,_0x2b321a,_0x131ce8)=>_0x431a5d['font'](_0x3eb7b1(0x159))['fontSize'](0x8)});const _0x10d399={'headers':[{'label':_0x3eb7b1(0x17b),'property':_0x3eb7b1(0xdf),'width':0x3c,'renderer':null},{'label':_0x3eb7b1(0x120),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x3eb7b1(0x106),'property':_0x3eb7b1(0x127),'width':0x28,'renderer':null},{'label':'UOM','property':_0x3eb7b1(0x11f),'width':0x37,'renderer':null},{'label':_0x3eb7b1(0x104),'property':_0x3eb7b1(0x15f),'width':0x4b,'renderer':null},{'label':_0x3eb7b1(0x145),'property':_0x3eb7b1(0x10e),'width':0x3f,'renderer':null},{'label':_0x3eb7b1(0xf2),'property':_0x3eb7b1(0x11a),'width':0x3f,'renderer':null},{'label':_0x3eb7b1(0xf2),'property':_0x3eb7b1(0x122),'width':0x3f,'renderer':null}],'datas':[]};var _0x437c97=0x0;let _0xd53565='';var _0x17e572=0x0;_0x270a75['product']['forEach'](_0x565adf=>{const _0xbbb689=_0x3eb7b1;var _0x9c4be8=_0x565adf[_0xbbb689(0x175)],_0x574ae5;_0x574ae5=_0x565adf[_0xbbb689(0x11f)];_0x9c4be8=='S'&&(_0x574ae5=_0x565adf[_0xbbb689(0x161)]);const _0x2b475a={'itemcode':_0x565adf[_0xbbb689(0xf0)],'itemdescription':_0x565adf[_0xbbb689(0xc8)],'qty':_0x565adf['to_quantity'],'unit':_0x574ae5,'proddate':_0x565adf[_0xbbb689(0x179)],'batchno':_0x565adf[_0xbbb689(0x113)],'binloc':_0x565adf[_0xbbb689(0xe0)]+_0x565adf[_0xbbb689(0x117)]+_0x565adf['to_bay']+_0x565adf[_0xbbb689(0xe3)]+_0x565adf[_0xbbb689(0x131)][0x0]+_0x565adf['to_floorlevel'],'qtyFrom':_0x565adf[_0xbbb689(0x164)],'binlocFrom':_0x565adf[_0xbbb689(0xf9)]+_0x565adf['from_rack']+_0x565adf['from_bay']+_0x565adf['from_bin']+_0x565adf[_0xbbb689(0x156)][0x0]+_0x565adf['from_floorlevel']};_0x437c97+=_0x565adf[_0xbbb689(0xbc)],_0x10d399[_0xbbb689(0x162)][_0xbbb689(0x15a)](_0x2b475a);}),_0x431a5d['table'](_0x10d399,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x431a5d[_0x3eb7b1(0xa5)](_0x3eb7b1(0x14c))[_0x3eb7b1(0x16e)](0x8),'prepareRow':(_0x2e0d44,_0x2aa3d4,_0x2c42fd,_0x3a2da4)=>_0x431a5d[_0x3eb7b1(0xa5)](_0x3eb7b1(0x159))[_0x3eb7b1(0x16e)](0x8)});var _0xff979a=_0x431a5d['y'],_0x119aac=_0x431a5d['x'];_0x431a5d[_0x3eb7b1(0x16e)](0xa)[_0x3eb7b1(0xb8)](_0x3eb7b1(0xa8),_0x119aac+0x7d,_0xff979a),_0x431a5d[_0x3eb7b1(0x16e)](0xa)[_0x3eb7b1(0xb8)](_0x3eb7b1(0xcf),_0x119aac,_0xff979a+=0x12c),_0x431a5d['fontSize'](0xa)[_0x3eb7b1(0xb8)](_0x437c97,_0x119aac+0xd7,_0xff979a,{'underline':!![]}),_0x431a5d[_0x3eb7b1(0x16e)](0xa)[_0x3eb7b1(0xb8)]('Checked\x20By:\x20',_0x119aac,_0xff979a+=0x32),_0x431a5d[_0x3eb7b1(0x16e)](0xa)['text'](_0x3eb7b1(0xe2),_0x119aac+0x3c,_0xff979a,{'underline':!![]}),_0x431a5d['fontSize'](0xa)[_0x3eb7b1(0xb8)](_0x3eb7b1(0x118),_0x119aac+0x3c,_0xff979a+0xc);let _0x389d3b=_0x431a5d[_0x3eb7b1(0xb4)]();for(let _0x2fff8e=0x0;_0x2fff8e<_0x389d3b[_0x3eb7b1(0xfe)];_0x2fff8e++){_0x431a5d[_0x3eb7b1(0x10f)](_0x2fff8e);let _0x1de0f2=_0x431a5d[_0x3eb7b1(0xc4)][_0x3eb7b1(0x17c)][_0x3eb7b1(0x16c)];_0x431a5d[_0x3eb7b1(0xc4)][_0x3eb7b1(0x17c)][_0x3eb7b1(0x16c)]=0x0,_0x431a5d[_0x3eb7b1(0xb8)](_0x3eb7b1(0xe4)+(_0x2fff8e+0x1)+_0x3eb7b1(0xd0)+_0x389d3b[_0x3eb7b1(0xfe)],0x0,_0x431a5d[_0x3eb7b1(0xc4)][_0x3eb7b1(0x172)]-_0x1de0f2/0x2,{'align':_0x3eb7b1(0xb5)}),_0x431a5d[_0x3eb7b1(0xc4)][_0x3eb7b1(0x17c)]['bottom']=_0x1de0f2;}const _0x11d5c3=_0x431a5d['y'],_0x353306=_0x431a5d['x'];_0x431a5d['end']();}catch(_0x7a384e){console[_0x3eb7b1(0xc9)](_0x7a384e),_0x587474[_0x3eb7b1(0x171)](0x1f4)[_0x3eb7b1(0x144)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get'](a0_0x3d6abc(0x10a),auth,async(_0x1a2ab9,_0x1e7de7)=>{const _0x319747=a0_0x3d6abc;try{const _0x594b8f=_0x3cf58e=>_0x3cf58e*0x48,_0x479109={'width':0x3,'height':0x1},_0xccc778=await product['find'](),_0x5a814c=new PDFDocument({'margin':_0x594b8f(0.75),'size':[_0x594b8f(_0x479109['width']),_0x594b8f(_0x479109[_0x319747(0x172)])],'bufferPages':!![]}),_0x4e215f=_0xccc778['length'];for(let _0x2e852f=0x0;_0x2e852f<=_0x4e215f;_0x2e852f++){if(_0x2e852f!=_0xccc778[_0x319747(0xf3)]){const _0x4e20ad=_0xccc778[_0x2e852f][_0x319747(0xde)],_0x2cdab1=_0xccc778[_0x2e852f]['primary_code'],_0x7aaace=_0xccc778[_0x2e852f][_0x319747(0xb1)],_0x490260=_0xccc778[_0x2e852f]['product_code'],_0x590ec7=new Canvas();JsBarcode(_0x590ec7,_0x2cdab1,{'format':'CODE128','height':0x32,'displayValue':!![],'text':_0x2cdab1}),_0x5a814c[_0x319747(0x14d)](_0x590ec7[_0x319747(0xd9)](),0x0,0x0,{'width':0xd2}),_0x5a814c[_0x319747(0xea)]();}}_0x5a814c[_0x319747(0x123)](_0x1e7de7),_0x5a814c[_0x319747(0xfa)]();}catch(_0x2751f5){console[_0x319747(0xfc)](_0x319747(0xa9),_0x2751f5),_0x1e7de7[_0x319747(0x171)](0x1f4)[_0x319747(0x144)](_0x319747(0xad));}}),module[a0_0x3d6abc(0xb7)]=router;function a0_0x346e(_0x2070cc,_0xb46b30){const _0x5f0fe7=a0_0x5f0f();return a0_0x346e=function(_0x346e13,_0x5fa8db){_0x346e13=_0x346e13-0xa5;let _0x6736bc=_0x5f0fe7[_0x346e13];return _0x6736bc;},a0_0x346e(_0x2070cc,_0xb46b30);}function a0_0x5f0f(){const _0x240b99=['user','get','exceljs','Helvetica-Bold','image','table','Pick\x20By\x20:\x20','lineWidth','warehouse_cat','EXPIRATION\x20DATE','20285toAQMX','maxPerUnit','/PDF_transfer/:id','from_types','./public/upload/','Checked\x20By\x20','Helvetica','push','DELIVERY\x20DATE','params','finalize','DelCode','proddate','quantity','secondary_unit','datas','../models/all_models','from_quantity','to_warehouse','standard_unit','del_code','numeric','\x20<>\x20','Check\x20By\x20\x20\x20\x20:\x20','Check\x20By:\x20','bottom','Delivery\x20Code','fontSize','canvas','from_warehouse','status','height','896855NXTHBA','moveTo','prod_cat','Router','TOTAL\x20QTY\x20:\x20','Customer\x20:\x20','production_date','iqty','Item\x20Code','margins','suppliers','font','UOM','delivery_date','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','undefined','toLocaleDateString','short','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','en-US','lineTo','findOne','secondary_code','sale_product','Picked\x20By','bufferedPageRange','center','DRY\x20GOODS','exports','text','Date\x20:\x20','\x20\x20\x20:\x20','\x20\x20\x20\x20\x20TO','to_quantity','application/pdf','date','Picked\x20By\x20\x20\x20\x20:\x20','/PDF_Sales/:id','inline;\x20filename=\x22','PRODUCTION\x20DATE','lineCap','page','/PDF_transfer_rm/:id','\x20row:\x20','(RETURN)','product_name','log','Warehouse\x20','919142TXkiit','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','adjust_qty','(OUTGOING)','TOTAL\x20QTY:\x20','\x20of\x20','MATERIAL\x20DESCRIPTION','Checked\x20By\x20\x20\x20:\x20','to_bay','setHeader','FTGS\x20Number\x20:\x20','\x20/\x20','QUANTITY\x20ISSUED','multer','toBuffer','invoice','\x20\x20FROM','del_date','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','name','itemcode','storage','2103594wZHSxM','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','to_bin','Page:\x20','3ZNoLWp','Content-type','repeat','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','Content-disposition','addPage','rqty','maxperunit','bay','warehouse_name','/pdf_sales_return_fin/:id','product_code','blocation','Bin\x20Location','length','customer','To\x20Warehouse\x20','Control\x20Number\x20:\x20','PICKING\x20LIST','Checked\x20By:\x20','from_storage','end','return_sale_QA','error','35058dvXINL','count','findById','expiry_date','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','floorlevel','type','Production\x20Date','blob-stream','Quantity','itemdescription','return_sale','From\x20Warehouse\x20','/barcode_generator/','QTY','INVENTORY\x20ADJUSTMENT','from_bay','batchno','switchToPage','Noted\x20By\x20','return_qty','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','batch_code','butt','(INCOMING)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rack','Raw\x20Materials\x20Warehouse\x20Supervisor','bin','binlocFrom','new_adjust_qty','True','DELIVERY\x20RECEIPT','/PDF_adjustment_rm/:id','unit','Item\x20Description','/PDF/:id','binloc','pipe','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delivery_code','Picked\x20By\x20\x20\x20:\x20','qty','find','Control\x20Number\x20','email','expdate','forEach','stroke','LOCATION','inline;\x20filename=\x22OUT-','Finished\x20Good\x20Warehouse\x20Supervisor','to_types','5543544nQCean','(STOCKS\x20TRANSFER)','435116IXZYZe','REQUESTED\x20QUANTITY','Expiration\x20Date','(INVENTORY\x20ADJUSTMENT)','Date\x20','product','pdfkit-table','Warehouse\x20:\x20','\x20:\x20','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','Picked\x20By\x20\x20\x20\x20\x20:\x20','ITEM\x20CODE','Picking\x20List','/pdf_puchases/:id','STOCKS\x20TRANSFER','PREPARED\x20BY\x20:\x20','send','Batch\x20No','POnumber','DELIVERY\x20CODE','.pdf\x22'];a0_0x5f0f=function(){return _0x240b99;};return a0_0x5f0f();}