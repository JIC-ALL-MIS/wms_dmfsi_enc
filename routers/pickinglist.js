const a0_0xf92d7b=a0_0x509f;function a0_0x509f(_0x526b72,_0x409a80){const _0x1b9297=a0_0x1b92();return a0_0x509f=function(_0x509ffb,_0x21519b){_0x509ffb=_0x509ffb-0xb0;let _0x50c4e2=_0x1b9297[_0x509ffb];return _0x50c4e2;},a0_0x509f(_0x526b72,_0x409a80);}(function(_0x76c96e,_0x4d18be){const _0x4aede5=a0_0x509f,_0x49860a=_0x76c96e();while(!![]){try{const _0x280b07=-parseInt(_0x4aede5(0xbe))/0x1+parseInt(_0x4aede5(0xcb))/0x2*(-parseInt(_0x4aede5(0xd5))/0x3)+-parseInt(_0x4aede5(0x154))/0x4*(-parseInt(_0x4aede5(0x12b))/0x5)+-parseInt(_0x4aede5(0xf2))/0x6*(parseInt(_0x4aede5(0x173))/0x7)+parseInt(_0x4aede5(0x110))/0x8+parseInt(_0x4aede5(0x129))/0x9+parseInt(_0x4aede5(0x168))/0xa;if(_0x280b07===_0x4d18be)break;else _0x49860a['push'](_0x49860a['shift']());}catch(_0x5f1d03){_0x49860a['push'](_0x49860a['shift']());}}}(a0_0x1b92,0x35d07));const express=require(a0_0xf92d7b(0x113)),res=require(a0_0xf92d7b(0x10a)),app=express(),router=express[a0_0xf92d7b(0xb8)](),multer=require(a0_0xf92d7b(0xcc)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0xf92d7b(0xf5)),auth=require(a0_0xf92d7b(0x15b)),users=require(a0_0xf92d7b(0x167)),excelJS=require(a0_0xf92d7b(0x118)),xlsx=require(a0_0xf92d7b(0x172)),PDFDocument=require(a0_0xf92d7b(0x132)),fs=require('fs'),blobStream=require(a0_0xf92d7b(0x17c)),JsBarcode=require(a0_0xf92d7b(0xb4)),{Canvas}=require(a0_0xf92d7b(0x136));function a0_0x1b92(){const _0x433e11=['batchno','canvas','switchToPage','addPage','batch_code','PREPARED\x20BY\x20:\x20','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','forEach','bottom','to_types','exports','get','email','adjust_qty','\x20\x20FROM','Picked\x20By','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleDateString','pipe','.pdf\x22','from_floorlevel','./public/upload/','\x20\x20\x20\x20\x20FROM','invoice','Helvetica-Bold','product','width','Item\x20Code','DELIVERY\x20RECEIPT','Warehouse\x20','Noted\x20By\x20','244xoxWem','DRY\x20GOODS','From\x20Warehouse\x20','suppliers','\x20\x20\x20\x20\x20TO','proddate','Picking\x20List','../middleware/auth','to_quantity','floorlevel','product_name','standard_unit','QTY','Item\x20Description','Checked\x20By:\x20','expdate','to_warehouse','height','x:\x20','../public/language/languages.json','4632210kaIokq','production_date','table','lineTo','(OUTGOING)','Finished\x20Good\x20Warehouse\x20Supervisor','POnumber','return_sale_QA','from_rack','\x20row:\x20','xlsx','400575jGfXqF','ARMAN\x20CRUZ','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','binloc','REQUESTED\x20QUANTITY','TOTAL\x20QTY\x20:\x20','Bin\x20Location','Delivery\x20Code','status','blob-stream','(RETURN)','unit','Picked\x20By\x20\x20\x20\x20\x20:\x20','lineWidth','send','fontSize','itemcode','to_floorlevel','from_warehouse','FTGS\x20Number\x20:\x20','jsbarcode','Date\x20','binlocFrom','finalize','Router','iqty','/pdf_puchases_fin/:id','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/PDF_Sales/:id','\x20of\x20','299717RbxWOX','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','center','type','qty','from_bin','storage','itemdescription','Quantity','repeat','prod_cat','CODE128','(INCOMING)','734obJlni','multer','Content-type','Raw\x20Materials\x20Warehouse\x20Supervisor','Warehouse\x20:\x20','bay','delivery_code','bin','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/pdf_sales_return_fin/:id','3378OgvmUy','delivery_date','expiry_date','moveTo','product_code','primary_code','(INVENTORY\x20ADJUSTMENT)','DELIVERY\x20CODE','from_bay','TOTAL\x20QTY:\x20','quantity','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','to_bay','secondary_unit','new_adjust_qty','numeric','warehouse_name','findOne','image','Helvetica','EXPIRATION\x20DATE','end','Production\x20Date','rack','to_bin','Checked\x20By\x20','user','Picked\x20By\x20\x20\x20:\x20','12ZGqDyp','font','rqty','../models/all_models','name','from_types','margins','short','\x20\x20\x20:\x20','find','params','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','\x20:\x20','customer','/pdf_puchases/:id','Control\x20Number\x20','push','inline;\x20filename=\x22OUT-','Page:\x20','undefined','Pick\x20By\x20:\x20','application/pdf','return_qty','True','express/lib/response','Customer\x20:\x20','PICKING\x20LIST','LOCATION','Check\x20By:\x20','warehouse_cat','2568984AMVzdR','Content-disposition','Expiration\x20Date','express','\x20<>\x20','bufferedPageRange','page','/PDF_adjustment/:id','exceljs','date','text','setHeader','del_code','log','length','count','error','from_storage','UOM','INVENTORY\x20ADJUSTMENT','Batch\x20No','maxperunit','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','/PDF/:id','DelCode','1259118CUjTEq','blocation','10130EgwhWC','findById','DELIVERY\x20DATE','Control\x20Number\x20:\x20','Date\x20:\x20','maxPerUnit','en-US','pdfkit-table','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','datas'];a0_0x1b92=function(){return _0x433e11;};return a0_0x1b92();}router[a0_0xf92d7b(0x140)](a0_0xf92d7b(0x127),auth,async(_0x172ff0,_0x5207aa)=>{const _0x13a08a=a0_0xf92d7b;try{const {username:_0x159b38,email:_0x42e157,role:_0x15607d}=_0x172ff0[_0x13a08a(0xf0)],_0x49451d=_0x172ff0['user'],_0x145745=await profile['findOne']({'email':_0x49451d[_0x13a08a(0x141)]}),_0x6141e1=await master_shop[_0x13a08a(0xfb)](),_0x26349e=_0x172ff0[_0x13a08a(0xfc)]['id'],_0x1d30f5=await sales_finished[_0x13a08a(0x12c)](_0x26349e);var _0x3be448;_0x3be448=_0x13a08a(0x10c);_0x1d30f5[_0x13a08a(0xb7)]=='True'&&(_0x3be448=_0x13a08a(0x151));const _0x513159=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5207aa[_0x13a08a(0x11b)](_0x13a08a(0x111),'inline;\x20filename=\x22'+_0x1d30f5['invoice']+_0x13a08a(0x148)),_0x5207aa[_0x13a08a(0x11b)]('Content-type',_0x13a08a(0x107));var _0x205fca=0x14,_0x5b230c=0x3c;_0x513159['pipe'](_0x5207aa),_0x513159['image'](_0x13a08a(0x14a)+_0x6141e1[0x0][_0x13a08a(0xe8)],0x14,0x0,{'fit':[0x64,0x64]}),_0x513159[_0x13a08a(0x182)](0x14)[_0x13a08a(0x11a)](_0x13a08a(0xe1),_0x205fca,_0x5b230c),_0x513159[_0x13a08a(0x182)](0xa)[_0x13a08a(0x11a)](_0x13a08a(0x175),_0x205fca,_0x5b230c+=0xf),_0x513159['fontSize'](0xf)[_0x13a08a(0x11a)](_0x3be448,_0x205fca,_0x5b230c+=0x32),_0x513159[_0x13a08a(0x182)](0xa)['text']('(OUTGOING)',_0x205fca,_0x5b230c+=0x14),_0x513159['fontSize'](0x9)[_0x13a08a(0x11a)](_0x13a08a(0x152),_0x205fca,_0x5b230c+=0x28),_0x513159[_0x13a08a(0x182)](0x9)[_0x13a08a(0x11a)]('\x20:\x20'+_0x1d30f5['warehouse_name'],_0x205fca+0x3f,_0x5b230c),_0x513159[_0x13a08a(0x182)](0x9)[_0x13a08a(0x11a)](_0x13a08a(0x10b)+_0x1d30f5[_0x13a08a(0xff)],_0x205fca+0x17c,_0x5b230c,{'underline':!![]}),_0x513159[_0x13a08a(0x182)](0x9)[_0x13a08a(0x11a)]('Date\x20',_0x205fca,_0x5b230c+=0xb),_0x513159[_0x13a08a(0x182)](0x9)['text'](_0x13a08a(0xfe)+_0x1d30f5[_0x13a08a(0x119)],_0x205fca+0x3f,_0x5b230c),_0x513159[_0x13a08a(0x182)](0x9)[_0x13a08a(0x11a)]('Control\x20Number\x20',_0x205fca,_0x5b230c+=0xb),_0x513159[_0x13a08a(0x182)](0x9)[_0x13a08a(0x11a)]('\x20:\x20'+_0x1d30f5[_0x13a08a(0x14c)],_0x205fca+0x3f,_0x5b230c);const _0x268b71={'headers':[{'label':_0x13a08a(0x150),'property':_0x13a08a(0xb0),'width':0x3c,'renderer':null},{'label':_0x13a08a(0x161),'property':'itemdescription','width':0xa5,'renderer':null},{'label':_0x13a08a(0xc6),'property':_0x13a08a(0xc2),'width':0x3c,'renderer':null},{'label':_0x13a08a(0x122),'property':_0x13a08a(0x17e),'width':0x3c,'renderer':null},{'label':_0x13a08a(0xec),'property':_0x13a08a(0x159),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x13a08a(0x135),'width':0x3f,'renderer':null},{'label':_0x13a08a(0x179),'property':_0x13a08a(0x176),'width':0x3f,'renderer':null}],'datas':[]};var _0x595667=0x0;let _0x260190='';var _0x278d13=0x0;_0x1d30f5[_0x13a08a(0xe6)]==_0x13a08a(0x155)?_0x260190='DG':_0x260190='FG';var _0x334838=0x0;_0x1d30f5['sale_product']['forEach'](_0x4cba1d=>{const _0x5bae73=_0x13a08a;console['log'](_0x4cba1d);let _0x39c852='';const _0x468e36=_0x4cba1d[_0x5bae73(0xdf)];for(let _0x4f7746=0x1;_0x4f7746<=_0x468e36;_0x4f7746++){_0x468e36==_0x4f7746?_0x39c852+=_0x4cba1d[_0x5bae73(0x125)]:_0x39c852+=_0x4cba1d[_0x5bae73(0x125)]+',',_0x278d13+=_0x4cba1d[_0x5bae73(0x125)];}_0x39c852+='\x20/\x20'+_0x4cba1d['secondary_unit'];const _0x141b0f={'itemcode':_0x4cba1d[_0x5bae73(0xd9)],'itemdescription':_0x4cba1d['product_name'],'qty':_0x4cba1d[_0x5bae73(0xdf)],'unit':_0x4cba1d[_0x5bae73(0x17e)],'proddate':_0x4cba1d[_0x5bae73(0x169)],'batchno':_0x4cba1d[_0x5bae73(0x139)],'binloc':_0x260190+_0x4cba1d[_0x5bae73(0xd0)]};_0x595667+=_0x4cba1d['quantity'],_0x334838+=0x1,_0x268b71[_0x5bae73(0x134)]['push'](_0x141b0f);}),_0x513159[_0x13a08a(0x16a)](_0x268b71,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x513159[_0x13a08a(0xf3)]('Helvetica-Bold')[_0x13a08a(0x182)](0x8),'prepareRow':(_0x1f07a1,_0x44232a,_0x2868e7,_0x25673b)=>_0x513159['font']('Helvetica')[_0x13a08a(0x182)](0x8)});var _0x3b2c37=_0x513159['y'],_0x4e792f=_0x513159['x'];_0x513159[_0x13a08a(0x182)](0xa)[_0x13a08a(0x11a)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x4e792f+0x7d,_0x3b2c37),console[_0x13a08a(0x11d)](_0x13a08a(0x166)+_0x4e792f+'\x20y:\x20'+_0x3b2c37+_0x13a08a(0x171)+_0x334838);const _0x54b95d=_0x4e792f*_0x334838;_0x513159[_0x13a08a(0x182)](0xa)[_0x13a08a(0x11a)]('TOTAL\x20QTY:\x20',_0x4e792f,_0x3b2c37+=0x15e-_0x54b95d),_0x513159['fontSize'](0xa)[_0x13a08a(0x11a)](_0x595667,_0x4e792f+0xdc,_0x3b2c37,{'underline':!![]}),_0x513159[_0x13a08a(0x182)](0xa)[_0x13a08a(0x11a)](_0x13a08a(0xf1),_0x4e792f,_0x3b2c37+=0x19),_0x513159['fontSize'](0xa)['text']('\x20'[_0x13a08a(0xc7)](0x3c),_0x4e792f+0x3e,_0x3b2c37,{'underline':!![]}),_0x513159[_0x13a08a(0x182)](0xa)[_0x13a08a(0x11a)](_0x13a08a(0x162),_0x4e792f,_0x3b2c37+=0x32),_0x513159[_0x13a08a(0x182)](0xa)[_0x13a08a(0x11a)](_0x13a08a(0xd3),_0x4e792f+0x3c,_0x3b2c37,{'underline':!![]}),_0x513159[_0x13a08a(0x182)](0xa)[_0x13a08a(0x11a)](_0x13a08a(0x16d),_0x4e792f+0x3c,_0x3b2c37+0xc);let _0x4bb483=_0x513159[_0x13a08a(0x115)]();for(let _0x303beb=0x0;_0x303beb<_0x4bb483[_0x13a08a(0x11f)];_0x303beb++){_0x513159[_0x13a08a(0x137)](_0x303beb);let _0x26c37b=_0x513159[_0x13a08a(0x116)][_0x13a08a(0xf8)]['bottom'];_0x513159[_0x13a08a(0x116)][_0x13a08a(0xf8)]['bottom']=0x0,_0x513159[_0x13a08a(0x11a)](_0x13a08a(0x104)+(_0x303beb+0x1)+_0x13a08a(0xbd)+_0x4bb483[_0x13a08a(0x11f)],0x0,_0x513159[_0x13a08a(0x116)][_0x13a08a(0x165)]-_0x26c37b/0x2,{'align':_0x13a08a(0xc0)}),_0x513159['page']['margins'][_0x13a08a(0x13d)]=_0x26c37b;}const _0x9f7f86=_0x513159['y'],_0x1d6d2d=_0x513159['x'];_0x513159[_0x13a08a(0xeb)]();}catch(_0xd4e300){console['log'](_0xd4e300),_0x5207aa[_0x13a08a(0x17b)](0x1f4)[_0x13a08a(0x181)](_0x13a08a(0x13b));}}),router[a0_0xf92d7b(0x140)]('/PDF_transfer/:id',auth,async(_0xb16862,_0x4ea0b6)=>{const _0x441869=a0_0xf92d7b;try{const {username:_0x3532a0,email:_0x31e753,role:_0x58d415}=_0xb16862[_0x441869(0xf0)],_0x2de72a=_0xb16862['user'],_0x2bcae3=await profile[_0x441869(0xe7)]({'email':_0x2de72a[_0x441869(0x141)]}),_0x187d6a=await master_shop[_0x441869(0xfb)](),_0x357a7c=_0xb16862[_0x441869(0xfc)]['id'],_0x1d4341=await transfers_finished[_0x441869(0x12c)](_0x357a7c);var _0x487c3a,_0x4f6514;_0x487c3a=_0x441869(0x15a),_0x4f6514='(STOCKS\x20TRANSFER)';_0x1d4341['finalize']==_0x441869(0x109)&&(_0x487c3a='STOCKS\x20TRANSFER',_0x4f6514='');const _0x24f98d=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4ea0b6[_0x441869(0x11b)]('Content-disposition',_0x441869(0x103)+_0x357a7c+_0x441869(0x148)),_0x4ea0b6[_0x441869(0x11b)](_0x441869(0xcd),_0x441869(0x107));var _0x52ea10=0x14,_0x5458c2=0x3c;_0x24f98d[_0x441869(0x147)](_0x4ea0b6),_0x24f98d['image'](_0x441869(0x14a)+_0x187d6a[0x0][_0x441869(0xe8)],0x14,0x0,{'fit':[0x64,0x64]}),_0x24f98d[_0x441869(0x182)](0x14)[_0x441869(0x11a)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x52ea10,_0x5458c2),_0x24f98d[_0x441869(0x182)](0xa)[_0x441869(0x11a)](_0x441869(0x175),_0x52ea10,_0x5458c2+=0xf),_0x24f98d[_0x441869(0x182)](0xf)[_0x441869(0x11a)](_0x487c3a,_0x52ea10,_0x5458c2+=0x32),_0x24f98d[_0x441869(0x182)](0xa)[_0x441869(0x11a)](_0x4f6514,_0x52ea10,_0x5458c2+=0x14),_0x24f98d[_0x441869(0x182)](0x9)[_0x441869(0x11a)](_0x441869(0x156),_0x52ea10,_0x5458c2+=0x28),_0x24f98d[_0x441869(0x182)](0x9)['text'](_0x441869(0xfa)+_0x1d4341['from_warehouse'],_0x52ea10+0x3f,_0x5458c2),_0x24f98d[_0x441869(0x182)](0x9)['text']('To\x20Warehouse\x20',_0x52ea10,_0x5458c2+=0xf),_0x24f98d[_0x441869(0x182)](0x9)[_0x441869(0x11a)](_0x441869(0xfa)+_0x1d4341['to_warehouse'],_0x52ea10+0x3f,_0x5458c2),_0x24f98d[_0x441869(0x182)](0x9)['text'](_0x441869(0xb5),_0x52ea10,_0x5458c2+=0xb),_0x24f98d['fontSize'](0x9)['text']('\x20\x20\x20:\x20'+_0x1d4341[_0x441869(0x119)],_0x52ea10+0x3f,_0x5458c2),_0x24f98d[_0x441869(0x182)](0x9)['text'](_0x441869(0x101),_0x52ea10,_0x5458c2+=0xb),_0x24f98d[_0x441869(0x182)](0x9)[_0x441869(0x11a)](_0x441869(0xfa)+_0x1d4341[_0x441869(0x14c)],_0x52ea10+0x3f,_0x5458c2);const _0x51638b={'headers':[{'label':'','property':_0x441869(0xb0),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x441869(0x143),'property':_0x441869(0xb0),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':'\x20\x20TO','property':_0x441869(0xc5),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x24f98d[_0x441869(0x16a)](_0x51638b,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x24f98d['font'](_0x441869(0x14d))[_0x441869(0x182)](0x8),'prepareRow':(_0x35fe6d,_0xf5ae8d,_0x311f63,_0x50d54b)=>_0x24f98d['font'](_0x441869(0xe9))[_0x441869(0x182)](0x8)});const _0x1ebd10={'headers':[{'label':'Item\x20Code','property':_0x441869(0xb0),'width':0x3c,'renderer':null},{'label':_0x441869(0x161),'property':_0x441869(0xc5),'width':0x96,'renderer':null},{'label':_0x441869(0xc6),'property':_0x441869(0xc2),'width':0x28,'renderer':null},{'label':_0x441869(0x122),'property':_0x441869(0x17e),'width':0x37,'renderer':null},{'label':_0x441869(0xec),'property':_0x441869(0x159),'width':0x4b,'renderer':null},{'label':'Batch\x20No','property':_0x441869(0x135),'width':0x3f,'renderer':null},{'label':_0x441869(0x179),'property':_0x441869(0xb6),'width':0x3f,'renderer':null},{'label':_0x441869(0x179),'property':_0x441869(0x176),'width':0x3f,'renderer':null}],'datas':[]};var _0x2f0caa=0x0;let _0x5de046='';var _0x3535a3=0x0;if(_0x1d4341[_0x441869(0xb2)]=='DRY\x20GOODS')_0x5de046='DG';else _0x1d4341['from_warehouse']=='FROZEN\x20GOODS'&&(_0x5de046='FG');_0x1d4341[_0x441869(0x14e)]['forEach'](_0x48a1ae=>{const _0x2b31d7=_0x441869;var _0x1f8983=_0x48a1ae[_0x2b31d7(0xc8)],_0x5e6214,_0x729fa8;_0x5e6214=_0x48a1ae['unit'],_0x729fa8=_0x48a1ae[_0x2b31d7(0x15c)];_0x1f8983=='S'&&(_0x5e6214=_0x48a1ae['secondary_unit'],_0x729fa8=_0x48a1ae['to_quantity']*_0x48a1ae[_0x2b31d7(0x130)]);const _0x58f6e3={'itemcode':_0x48a1ae[_0x2b31d7(0xd9)],'itemdescription':_0x48a1ae[_0x2b31d7(0x15e)],'qty':_0x729fa8,'unit':_0x5e6214,'proddate':_0x48a1ae[_0x2b31d7(0x169)],'batchno':_0x48a1ae[_0x2b31d7(0x139)],'binloc':_0x5de046+_0x48a1ae[_0x2b31d7(0xe2)],'qtyFrom':_0x48a1ae['from_quantity'],'binlocFrom':_0x5de046+_0x48a1ae[_0x2b31d7(0xdd)]};_0x2f0caa+=_0x729fa8,_0x1ebd10[_0x2b31d7(0x134)][_0x2b31d7(0x102)](_0x58f6e3);}),_0x24f98d[_0x441869(0x16a)](_0x1ebd10,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x24f98d[_0x441869(0xf3)](_0x441869(0x14d))['fontSize'](0x8),'prepareRow':(_0x1cb8fd,_0x5c37b7,_0x2a3513,_0x25e9a8)=>_0x24f98d[_0x441869(0xf3)](_0x441869(0xe9))['fontSize'](0x8)});var _0x235ea1=_0x24f98d['y'],_0x5e3456=_0x24f98d['x'];_0x24f98d[_0x441869(0x182)](0xa)[_0x441869(0x11a)](_0x441869(0x126),_0x5e3456+0x7d,_0x235ea1),_0x24f98d[_0x441869(0x182)](0xa)[_0x441869(0x11a)](_0x441869(0xde),_0x5e3456,_0x235ea1+=0x15e),_0x24f98d[_0x441869(0x182)](0xa)['text'](_0x2f0caa,_0x5e3456+0xd7,_0x235ea1,{'underline':!![]}),_0x24f98d['fontSize'](0xa)[_0x441869(0x11a)]('Picked\x20By\x20\x20\x20:\x20',_0x5e3456,_0x235ea1+=0x19),_0x24f98d[_0x441869(0x182)](0xa)[_0x441869(0x11a)]('\x20'[_0x441869(0xc7)](0x3c),_0x5e3456+0x3e,_0x235ea1,{'underline':!![]}),_0x24f98d[_0x441869(0x182)](0xa)['text'](_0x441869(0x162),_0x5e3456,_0x235ea1+=0x32),_0x24f98d[_0x441869(0x182)](0xa)[_0x441869(0x11a)](_0x441869(0xd3),_0x5e3456+0x3c,_0x235ea1,{'underline':!![]}),_0x24f98d[_0x441869(0x182)](0xa)[_0x441869(0x11a)](_0x441869(0x16d),_0x5e3456+0x3c,_0x235ea1+0xc);let _0x56a0d8=_0x24f98d[_0x441869(0x115)]();for(let _0x5a9c69=0x0;_0x5a9c69<_0x56a0d8[_0x441869(0x11f)];_0x5a9c69++){_0x24f98d[_0x441869(0x137)](_0x5a9c69);let _0x377eb3=_0x24f98d[_0x441869(0x116)][_0x441869(0xf8)][_0x441869(0x13d)];_0x24f98d[_0x441869(0x116)][_0x441869(0xf8)][_0x441869(0x13d)]=0x0,_0x24f98d[_0x441869(0x11a)]('Page:\x20'+(_0x5a9c69+0x1)+_0x441869(0xbd)+_0x56a0d8[_0x441869(0x11f)],0x0,_0x24f98d['page'][_0x441869(0x165)]-_0x377eb3/0x2,{'align':_0x441869(0xc0)}),_0x24f98d[_0x441869(0x116)][_0x441869(0xf8)][_0x441869(0x13d)]=_0x377eb3;}const _0x67fb4d=_0x24f98d['y'],_0x14795c=_0x24f98d['x'];_0x24f98d['end']();}catch(_0x4190d8){console[_0x441869(0x11d)](_0x4190d8),_0x4ea0b6[_0x441869(0x17b)](0x1f4)[_0x441869(0x181)](_0x441869(0x13b));}}),router[a0_0xf92d7b(0x140)](a0_0xf92d7b(0x117),auth,async(_0xb99990,_0x7d2511)=>{const _0xd11605=a0_0xf92d7b;try{const {username:_0xef3d6d,email:_0x500bdc,role:_0x105836}=_0xb99990['user'],_0x22becc=_0xb99990[_0xd11605(0xf0)],_0x12f41c=await profile[_0xd11605(0xe7)]({'email':_0x22becc[_0xd11605(0x141)]}),_0x546df8=await master_shop[_0xd11605(0xfb)](),_0x3c59c2=_0xb99990['params']['id'],_0x37a326=await adjustment_finished[_0xd11605(0x12c)](_0x3c59c2);var _0x5e41e6,_0x1e1d11;_0x5e41e6='PICKING\x20LIST',_0x1e1d11=_0xd11605(0xdb);_0x37a326[_0xd11605(0xb7)]==_0xd11605(0x109)&&(_0x5e41e6=_0xd11605(0x123),_0x1e1d11='');const _0x14abc1=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x7d2511[_0xd11605(0x11b)]('Content-disposition',_0xd11605(0x103)+_0x3c59c2+_0xd11605(0x148)),_0x7d2511[_0xd11605(0x11b)]('Content-type',_0xd11605(0x107));var _0x298800=0x14,_0x52d906=0x3c;_0x14abc1[_0xd11605(0x147)](_0x7d2511),_0x14abc1[_0xd11605(0xe8)](_0xd11605(0x14a)+_0x546df8[0x0][_0xd11605(0xe8)],0x14,0x0,{'fit':[0x64,0x64]}),_0x14abc1[_0xd11605(0x182)](0x14)[_0xd11605(0x11a)](_0xd11605(0xe1),_0x298800,_0x52d906),_0x14abc1['fontSize'](0xa)[_0xd11605(0x11a)](_0xd11605(0x175),_0x298800,_0x52d906+=0xf),_0x14abc1[_0xd11605(0x182)](0xf)[_0xd11605(0x11a)](_0x5e41e6,_0x298800,_0x52d906+=0x32),_0x14abc1['fontSize'](0xa)[_0xd11605(0x11a)](_0x1e1d11,_0x298800,_0x52d906+=0x14),_0x14abc1[_0xd11605(0x182)](0x9)[_0xd11605(0x11a)](_0xd11605(0x152),_0x298800,_0x52d906+=0x28),_0x14abc1[_0xd11605(0x182)](0x9)[_0xd11605(0x11a)](_0xd11605(0xfe)+_0x37a326[_0xd11605(0xe6)],_0x298800+0x3f,_0x52d906),_0x14abc1[_0xd11605(0x182)](0x9)[_0xd11605(0x11a)](_0xd11605(0xb5),_0x298800,_0x52d906+=0xb),_0x14abc1[_0xd11605(0x182)](0x9)[_0xd11605(0x11a)]('\x20:\x20'+_0x37a326['date'],_0x298800+0x3f,_0x52d906),_0x14abc1['fontSize'](0x9)[_0xd11605(0x11a)](_0xd11605(0x101),_0x298800,_0x52d906+=0xb),_0x14abc1[_0xd11605(0x182)](0x9)[_0xd11605(0x11a)]('\x20:\x20'+_0x37a326[_0xd11605(0x14c)],_0x298800+0x3f,_0x52d906);const _0x8642f2={'headers':[{'label':_0xd11605(0x150),'property':_0xd11605(0xb0),'width':0x3c,'renderer':null},{'label':_0xd11605(0x161),'property':_0xd11605(0xc5),'width':0x96,'renderer':null},{'label':_0xd11605(0xc6),'property':_0xd11605(0xc2),'width':0x3c,'renderer':null},{'label':'UOM','property':'unit','width':0x3c,'renderer':null},{'label':'Production\x20Date','property':_0xd11605(0x159),'width':0x50,'renderer':null},{'label':_0xd11605(0x124),'property':'batchno','width':0x3f,'renderer':null},{'label':_0xd11605(0x179),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x59a634=0x0;let _0x1b2b4e='';var _0x2461c2=0x0;_0x37a326['warehouse_name']==_0xd11605(0x155)?_0x1b2b4e='DG':_0x1b2b4e='FG';_0x37a326[_0xd11605(0x14e)][_0xd11605(0x13c)](_0x1bd3dc=>{const _0x44bb59=_0xd11605;console[_0x44bb59(0x11d)](_0x1bd3dc);var _0x52f008=_0x1bd3dc[_0x44bb59(0xc8)],_0x858406,_0x2365b6;_0x858406=_0x1bd3dc[_0x44bb59(0x17e)],_0x2365b6=_0x1bd3dc[_0x44bb59(0x142)];_0x52f008=='S'&&(_0x858406=_0x1bd3dc[_0x44bb59(0xe3)],_0x2365b6=_0x1bd3dc[_0x44bb59(0x142)]*_0x1bd3dc[_0x44bb59(0x130)]);const _0x48b5a4={'itemcode':_0x1bd3dc[_0x44bb59(0xd9)],'itemdescription':_0x1bd3dc[_0x44bb59(0x15e)],'qty':_0x2365b6,'unit':_0x858406,'proddate':_0x1bd3dc['production_date'],'batchno':_0x1bd3dc[_0x44bb59(0x139)],'binloc':_0x1b2b4e+_0x1bd3dc[_0x44bb59(0xd0)]};_0x59a634+=_0x2365b6,_0x8642f2['datas'][_0x44bb59(0x102)](_0x48b5a4);}),_0x14abc1[_0xd11605(0x16a)](_0x8642f2,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x14abc1['font'](_0xd11605(0x14d))['fontSize'](0x8),'prepareRow':(_0x2ae3eb,_0x48c185,_0x462ac6,_0x5b2a2a)=>_0x14abc1[_0xd11605(0xf3)](_0xd11605(0xe9))['fontSize'](0x8)});var _0x161132=_0x14abc1['y'],_0x344556=_0x14abc1['x'];_0x14abc1['fontSize'](0xa)[_0xd11605(0x11a)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x344556+0x7d,_0x161132),_0x14abc1[_0xd11605(0x182)](0xa)[_0xd11605(0x11a)](_0xd11605(0x178),_0x344556,_0x161132+=0x15e),_0x14abc1[_0xd11605(0x182)](0xa)[_0xd11605(0x11a)](_0x59a634,_0x344556+0xc8,_0x161132),_0x14abc1[_0xd11605(0x182)](0xa)[_0xd11605(0x11a)](_0xd11605(0xf1),_0x344556,_0x161132+=0x19),_0x14abc1[_0xd11605(0x182)](0xa)[_0xd11605(0x11a)]('\x20'[_0xd11605(0xc7)](0x3c),_0x344556+0x3e,_0x161132,{'underline':!![]}),_0x14abc1[_0xd11605(0x182)](0xa)[_0xd11605(0x11a)](_0xd11605(0xef),_0x344556,_0x161132+=0x32),_0x14abc1[_0xd11605(0x182)](0xa)[_0xd11605(0x11a)]('\x20:\x20',_0x344556+0x37,_0x161132),_0x14abc1[_0xd11605(0x182)](0xa)[_0xd11605(0x11a)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x344556+0x3c,_0x161132,{'underline':!![]}),_0x14abc1[_0xd11605(0x182)](0xa)['text']('Finished\x20Good\x20Warehouse\x20Supervisor',_0x344556+0x3c,_0x161132+0xc);let _0x5936e9=_0x14abc1[_0xd11605(0x115)]();for(let _0x5959b6=0x0;_0x5959b6<_0x5936e9[_0xd11605(0x11f)];_0x5959b6++){_0x14abc1[_0xd11605(0x137)](_0x5959b6);let _0x2e47be=_0x14abc1[_0xd11605(0x116)][_0xd11605(0xf8)]['bottom'];_0x14abc1[_0xd11605(0x116)][_0xd11605(0xf8)][_0xd11605(0x13d)]=0x0,_0x14abc1[_0xd11605(0x11a)](_0xd11605(0x104)+(_0x5959b6+0x1)+_0xd11605(0xbd)+_0x5936e9['count'],0x0,_0x14abc1[_0xd11605(0x116)]['height']-_0x2e47be/0x2,{'align':_0xd11605(0xc0)}),_0x14abc1[_0xd11605(0x116)][_0xd11605(0xf8)][_0xd11605(0x13d)]=_0x2e47be;}const _0x4163d1=_0x14abc1['y'],_0x5448f1=_0x14abc1['x'];_0x14abc1[_0xd11605(0xeb)]();}catch(_0x5bc733){console[_0xd11605(0x11d)](_0x5bc733),_0x7d2511[_0xd11605(0x17b)](0x1f4)[_0xd11605(0x181)](_0xd11605(0x13b));}}),router[a0_0xf92d7b(0x140)](a0_0xf92d7b(0xba),auth,async(_0x572c13,_0x32527c)=>{const _0x2d6d83=a0_0xf92d7b;try{const {username:_0x978bd2,email:_0xc48d7b,role:_0x190017}=_0x572c13[_0x2d6d83(0xf0)],_0x403846=_0x572c13[_0x2d6d83(0xf0)],_0x45d679=await profile[_0x2d6d83(0xe7)]({'email':_0x403846['email']}),_0x1c59b3=await master_shop[_0x2d6d83(0xfb)](),_0x251158=_0x572c13[_0x2d6d83(0xfc)]['id'],_0x3d47aa=await purchases_finished[_0x2d6d83(0x12c)](_0x251158),_0x51bc00=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x32527c[_0x2d6d83(0x11b)](_0x2d6d83(0x111),_0x2d6d83(0x103)+_0x251158+'.pdf\x22'),_0x32527c['setHeader'](_0x2d6d83(0xcd),_0x2d6d83(0x107));var _0x46b59e=0x14,_0x30d7d3=0x3c;_0x51bc00[_0x2d6d83(0x147)](_0x32527c),_0x51bc00[_0x2d6d83(0xe8)]('./public/upload/'+_0x1c59b3[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x51bc00[_0x2d6d83(0x182)](0x14)[_0x2d6d83(0x11a)](_0x2d6d83(0xe1),_0x46b59e,_0x30d7d3),_0x51bc00[_0x2d6d83(0x182)](0xa)['text'](_0x2d6d83(0x175),_0x46b59e,_0x30d7d3+=0xf),_0x51bc00[_0x2d6d83(0x182)](0xf)['text']('FINISHED\x20GOODS\x20TRANSFER\x20SLIP',_0x46b59e,_0x30d7d3+=0x32),_0x51bc00[_0x2d6d83(0x182)](0xa)['text']('(INCOMING)',_0x46b59e,_0x30d7d3+=0x14),_0x51bc00[_0x2d6d83(0x182)](0x9)[_0x2d6d83(0x11a)]('Warehouse\x20',_0x46b59e,_0x30d7d3+=0x28),_0x51bc00['fontSize'](0x9)[_0x2d6d83(0x11a)](_0x2d6d83(0xfe)+_0x3d47aa[_0x2d6d83(0xe6)],_0x46b59e+0x3f,_0x30d7d3),_0x51bc00['fontSize'](0x9)[_0x2d6d83(0x11a)](_0x2d6d83(0xb3)+_0x3d47aa[_0x2d6d83(0x16e)],_0x46b59e+0x17c,_0x30d7d3),_0x51bc00[_0x2d6d83(0x182)](0x9)[_0x2d6d83(0x11a)](_0x2d6d83(0xb5),_0x46b59e,_0x30d7d3+=0xb),_0x51bc00[_0x2d6d83(0x182)](0x9)[_0x2d6d83(0x11a)](_0x2d6d83(0xfe)+_0x3d47aa[_0x2d6d83(0x119)],_0x46b59e+0x3f,_0x30d7d3),_0x51bc00['fontSize'](0x9)[_0x2d6d83(0x11a)](_0x2d6d83(0x101),_0x46b59e,_0x30d7d3+=0xb),_0x51bc00[_0x2d6d83(0x182)](0x9)[_0x2d6d83(0x11a)](_0x2d6d83(0xfe)+_0x3d47aa[_0x2d6d83(0x14c)],_0x46b59e+0x3f,_0x30d7d3);const _0x5b943b={'headers':[{'label':_0x2d6d83(0x150),'property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x2d6d83(0xc5),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x2d6d83(0xc2),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x2d6d83(0x17e),'width':0x3c,'renderer':null},{'label':_0x2d6d83(0x112),'property':_0x2d6d83(0x163),'width':0x50,'renderer':null},{'label':_0x2d6d83(0x124),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x2d6d83(0x179),'property':_0x2d6d83(0x176),'width':0x3f,'renderer':null}],'datas':[]};var _0xc4771d=0x0;let _0x307d8b='';_0x3d47aa[_0x2d6d83(0xe6)]==_0x2d6d83(0x155)?_0x307d8b='DG':_0x307d8b='FG';_0x3d47aa['product'][_0x2d6d83(0x13c)](_0x2cbcc8=>{const _0x156e9f=_0x2d6d83;let _0xa7f21b='';var _0x30a42f=0x0;const _0x187762={'itemcode':_0x2cbcc8[_0x156e9f(0xd9)],'itemdescription':_0x2cbcc8['product_name'],'qty':_0x2cbcc8[_0x156e9f(0xdf)],'unit':_0x2cbcc8[_0x156e9f(0x15f)],'expdate':_0x2cbcc8['expiry_date'],'batchno':_0x2cbcc8['batch_code'],'binloc':_0x307d8b+_0x2cbcc8[_0x156e9f(0xd0)]};_0xc4771d+=_0x2cbcc8[_0x156e9f(0xdf)],_0x5b943b['datas'][_0x156e9f(0x102)](_0x187762);}),_0x51bc00['table'](_0x5b943b,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x51bc00[_0x2d6d83(0xf3)](_0x2d6d83(0x14d))[_0x2d6d83(0x182)](0x8),'prepareRow':(_0x101647,_0x358634,_0x1b9aa4,_0x527803)=>_0x51bc00['font']('Helvetica')[_0x2d6d83(0x182)](0x8)});var _0x13de1b=_0x51bc00['y'],_0x42b413=_0x51bc00['x'];_0x51bc00[_0x2d6d83(0x182)](0xa)[_0x2d6d83(0x11a)](_0x2d6d83(0x126),_0x42b413+0x7d,_0x13de1b),_0x51bc00[_0x2d6d83(0x182)](0xa)['text']('TOTAL\x20QTY:\x20',_0x42b413,_0x13de1b+=0x15e),_0x51bc00[_0x2d6d83(0x182)](0xa)[_0x2d6d83(0x11a)](_0xc4771d,_0x42b413+0xfa,_0x13de1b),_0x51bc00[_0x2d6d83(0x182)](0xa)['text']('Picked\x20By\x20\x20\x20\x20:\x20',_0x42b413,_0x13de1b+=0x19),_0x51bc00[_0x2d6d83(0x182)](0xa)[_0x2d6d83(0x11a)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x42b413+0x37,_0x13de1b,{'underline':!![]}),_0x51bc00[_0x2d6d83(0x182)](0xa)[_0x2d6d83(0x11a)]('Check\x20By\x20\x20\x20\x20:\x20',_0x42b413,_0x13de1b+0x32),_0x51bc00[_0x2d6d83(0x182)](0xa)[_0x2d6d83(0x11a)](_0x2d6d83(0xd3),_0x42b413+0x32,_0x13de1b+0x32,{'underline':!![]}),_0x51bc00['fontSize'](0xa)[_0x2d6d83(0x11a)](_0x2d6d83(0x16d),_0x42b413+0x32,_0x13de1b+0x3c);let _0x190670=_0x51bc00[_0x2d6d83(0x115)]();for(let _0x2f52a6=0x0;_0x2f52a6<_0x190670[_0x2d6d83(0x11f)];_0x2f52a6++){_0x51bc00[_0x2d6d83(0x137)](_0x2f52a6);let _0x298c98=_0x51bc00[_0x2d6d83(0x116)][_0x2d6d83(0xf8)]['bottom'];_0x51bc00[_0x2d6d83(0x116)][_0x2d6d83(0xf8)]['bottom']=0x0,_0x51bc00[_0x2d6d83(0x11a)](_0x2d6d83(0x104)+(_0x2f52a6+0x1)+_0x2d6d83(0xbd)+_0x190670[_0x2d6d83(0x11f)],0x0,_0x51bc00[_0x2d6d83(0x116)][_0x2d6d83(0x165)]-_0x298c98/0x2,{'align':_0x2d6d83(0xc0)}),_0x51bc00[_0x2d6d83(0x116)]['margins'][_0x2d6d83(0x13d)]=_0x298c98;}const _0x1841db=_0x51bc00['y'],_0x2bf75d=_0x51bc00['x'];_0x51bc00[_0x2d6d83(0xeb)]();}catch(_0x2dd42f){console[_0x2d6d83(0x11d)](_0x2dd42f),_0x32527c[_0x2d6d83(0x17b)](0x1f4)[_0x2d6d83(0x181)](_0x2d6d83(0x13b));}}),router['get'](a0_0xf92d7b(0xd4),auth,async(_0x2de749,_0x152f03)=>{const _0x293491=a0_0xf92d7b;try{const {username:_0xcbc624,email:_0x2895ef,role:_0x24747f}=_0x2de749[_0x293491(0xf0)],_0x2af77f=_0x2de749[_0x293491(0xf0)],_0xffb67e=await profile[_0x293491(0xe7)]({'email':_0x2af77f['email']}),_0x4b0532=await master_shop[_0x293491(0xfb)](),_0x39c463=_0x2de749[_0x293491(0xfc)]['id'],_0xd9411c=await sales_return_finished[_0x293491(0x12c)](_0x39c463),_0x4eae17=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x152f03[_0x293491(0x11b)]('Content-disposition',_0x293491(0x103)+_0x39c463+'.pdf\x22'),_0x152f03[_0x293491(0x11b)](_0x293491(0xcd),_0x293491(0x107));var _0x2909cd=0x14,_0x20c6f6=0x64;_0x4eae17[_0x293491(0x147)](_0x152f03),_0x4eae17['image']('./public/upload/'+_0x4b0532[0x0][_0x293491(0xe8)],0x14,0x0,{'fit':[0x64,0x64]}),_0x4eae17[_0x293491(0x182)](0x14)[_0x293491(0x11a)](_0x293491(0xe1),_0x2909cd,_0x20c6f6),_0x4eae17['fontSize'](0xa)[_0x293491(0x11a)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x2909cd,_0x20c6f6+=0xf),_0x4eae17[_0x293491(0x182)](0xf)[_0x293491(0x11a)]('PICKING\x20LIST',_0x2909cd,_0x20c6f6+=0x32),_0x4eae17[_0x293491(0x182)](0xa)['text'](_0x293491(0x17d),_0x2909cd,_0x20c6f6+=0x1e),_0x4eae17[_0x293491(0x182)](0x9)[_0x293491(0x11a)](_0x293491(0xcf)+_0xd9411c['ToWarehouse'],_0x2909cd,_0x20c6f6+=0x28),_0x4eae17[_0x293491(0x182)](0x9)[_0x293491(0x11a)](_0x293491(0x10b)+_0xd9411c[_0x293491(0xff)],0x190,0xd2,{'underline':!![]}),_0x4eae17['fontSize'](0x9)[_0x293491(0x11a)](_0x293491(0x106),_0x2909cd,_0x20c6f6+=0xb),_0x4eae17[_0x293491(0x182)](0x9)[_0x293491(0x11a)](_0x293491(0x12f)+_0xd9411c[_0x293491(0x119)],_0x2909cd,_0x20c6f6+=0xb),_0x4eae17['fontSize'](0x9)[_0x293491(0x11a)](_0x293491(0x12e)+_0xd9411c[_0x293491(0x14c)],_0x2909cd,_0x20c6f6+=0xb);var _0x3452ab='',_0x4a2c9d='',_0x4162a7=0x0,_0x21cfd2;console[_0x293491(0x11d)](_0xd9411c[_0x293491(0x10f)]);_0xd9411c[_0x293491(0x10f)]=='GS'?(_0xd9411c['warehouse_name']==_0x293491(0x155)?warecode='DG':warecode='FG',_0x3452ab={'headers':[{'label':_0x293491(0x150),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x293491(0x161),'property':_0x293491(0xc5),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x293491(0xc2),'width':0x3c,'renderer':null},{'label':_0x293491(0x122),'property':_0x293491(0x17e),'width':0x3c,'renderer':null},{'label':_0x293491(0x112),'property':_0x293491(0x163),'width':0x50,'renderer':null},{'label':_0x293491(0x124),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x293491(0x179),'property':_0x293491(0x176),'width':0x3f,'renderer':null}],'datas':[]},_0xd9411c['return_sale'][_0x293491(0x13c)](_0x2f8781=>{const _0x4dcba5=_0x293491;let _0x400107='';var _0x28b0bd=0x0;_0x4a2c9d={'itemcode':_0x2f8781[_0x4dcba5(0xd9)],'itemdescription':_0x2f8781[_0x4dcba5(0x15e)],'qty':_0x2f8781[_0x4dcba5(0x108)],'unit':_0x2f8781[_0x4dcba5(0x17e)],'expdate':_0x2f8781[_0x4dcba5(0xd7)],'batchno':_0x2f8781[_0x4dcba5(0x139)],'binloc':warecode+_0x2f8781['bay']},_0x4162a7+=_0x2f8781['return_qty'],console[_0x4dcba5(0x11d)](_0x2f8781),_0x3452ab[_0x4dcba5(0x134)][_0x4dcba5(0x102)](_0x4a2c9d);})):(_0x3452ab={'headers':[{'label':_0x293491(0x150),'property':_0x293491(0xb0),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0xc8,'renderer':null},{'label':_0x293491(0xc6),'property':_0x293491(0xc2),'width':0x3c,'renderer':null},{'label':_0x293491(0x122),'property':_0x293491(0x17e),'width':0x3c,'renderer':null},{'label':_0x293491(0x112),'property':'expdate','width':0x50,'renderer':null},{'label':_0x293491(0x124),'property':_0x293491(0x135),'width':0x3f,'renderer':null}],'datas':[]},_0xd9411c[_0x293491(0x16f)][_0x293491(0x13c)](_0x39eeaa=>{const _0x2d6548=_0x293491;let _0xaef607='';var _0x512857=0x0;_0x4a2c9d={'itemcode':_0x39eeaa['product_code'],'itemdescription':_0x39eeaa[_0x2d6548(0x15e)],'qty':_0x39eeaa[_0x2d6548(0x108)],'unit':_0x39eeaa[_0x2d6548(0x17e)],'expdate':_0x39eeaa[_0x2d6548(0xd7)],'batchno':_0x39eeaa[_0x2d6548(0x139)]},_0x4162a7+=_0x39eeaa[_0x2d6548(0x108)],console[_0x2d6548(0x11d)](_0x4162a7+_0x2d6548(0x114)+_0x39eeaa['return_qty']),_0x3452ab[_0x2d6548(0x134)][_0x2d6548(0x102)](_0x4a2c9d);}));_0x4eae17[_0x293491(0x16a)](_0x3452ab,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x4eae17[_0x293491(0xf3)]('Helvetica-Bold')[_0x293491(0x182)](0x8),'prepareRow':(_0x2e36a1,_0x518ebd,_0x5203e0,_0x53de61)=>_0x4eae17[_0x293491(0xf3)]('Helvetica')['fontSize'](0x8)});var _0x56d919=_0x4eae17['y'],_0x1580fd=_0x4eae17['x'];_0x4eae17[_0x293491(0x182)](0xa)[_0x293491(0x11a)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x1580fd+0x7d,_0x56d919),_0x4eae17[_0x293491(0x182)](0xa)[_0x293491(0x11a)](_0x293491(0xde),_0x1580fd,_0x56d919+=0x190),_0x4eae17['fontSize'](0xa)[_0x293491(0x11a)](_0x4162a7,_0x1580fd+0x37,_0x56d919,{'underline':!![]}),_0x4eae17[_0x293491(0x182)](0xa)[_0x293491(0x11a)](_0x293491(0x10e),_0x1580fd,_0x56d919+0x1e),_0x4eae17[_0x293491(0x182)](0xa)['text'](_0x293491(0x174),_0x1580fd+0x32,_0x56d919+0x1e,{'underline':!![]});let _0x35e622=_0x4eae17[_0x293491(0x115)]();for(let _0x557b27=0x0;_0x557b27<_0x35e622[_0x293491(0x11f)];_0x557b27++){_0x4eae17['switchToPage'](_0x557b27);let _0x2f33a2=_0x4eae17['page'][_0x293491(0xf8)][_0x293491(0x13d)];_0x4eae17[_0x293491(0x116)][_0x293491(0xf8)]['bottom']=0x0,_0x4eae17[_0x293491(0x11a)](_0x293491(0x104)+(_0x557b27+0x1)+'\x20of\x20'+_0x35e622[_0x293491(0x11f)],0x0,_0x4eae17[_0x293491(0x116)][_0x293491(0x165)]-_0x2f33a2/0x2,{'align':_0x293491(0xc0)}),_0x4eae17[_0x293491(0x116)]['margins'][_0x293491(0x13d)]=_0x2f33a2;}const _0x2db7b3=_0x4eae17['y'],_0x5a6e71=_0x4eae17['x'];_0x4eae17[_0x293491(0xeb)]();}catch(_0xffb4c3){console[_0x293491(0x11d)](_0xffb4c3),_0x152f03[_0x293491(0x17b)](0x1f4)[_0x293491(0x181)](_0x293491(0x13b));}}),router[a0_0xf92d7b(0x140)](a0_0xf92d7b(0x100),auth,async(_0x4c29f7,_0x48ffeb)=>{const _0x4aa27e=a0_0xf92d7b;try{const {username:_0x5977ca,email:_0x481be6,role:_0x21e8a9}=_0x4c29f7[_0x4aa27e(0xf0)],_0x34c6fc=_0x4c29f7[_0x4aa27e(0xf0)],_0x4249cb=await profile['findOne']({'email':_0x34c6fc[_0x4aa27e(0x141)]}),_0x4e0c73=await master_shop[_0x4aa27e(0xfb)](),_0x46bc84=_0x4c29f7['params']['id'],_0x164901=await purchases[_0x4aa27e(0x12c)](_0x46bc84),_0x3d2a85=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x48ffeb[_0x4aa27e(0x11b)](_0x4aa27e(0x111),_0x4aa27e(0x103)+_0x46bc84+'.pdf\x22'),_0x48ffeb['setHeader'](_0x4aa27e(0xcd),_0x4aa27e(0x107));var _0x44a2f8=0x14,_0x5b2f58=0x3c;_0x3d2a85[_0x4aa27e(0x147)](_0x48ffeb),_0x3d2a85['image'](_0x4aa27e(0x14a)+_0x4e0c73[0x0][_0x4aa27e(0xe8)],0x14,0x0,{'fit':[0x64,0x64]}),_0x3d2a85[_0x4aa27e(0x182)](0x14)[_0x4aa27e(0x11a)](_0x4aa27e(0xe1),_0x44a2f8,_0x5b2f58),_0x3d2a85[_0x4aa27e(0x182)](0xa)[_0x4aa27e(0x11a)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x44a2f8,_0x5b2f58+=0xf),_0x3d2a85[_0x4aa27e(0x182)](0xf)[_0x4aa27e(0x11a)](_0x4aa27e(0xe0),_0x44a2f8,_0x5b2f58+=0x32),_0x3d2a85[_0x4aa27e(0x182)](0xa)[_0x4aa27e(0x11a)](_0x4aa27e(0xca),_0x44a2f8,_0x5b2f58+=0x14),_0x3d2a85[_0x4aa27e(0x182)](0x9)[_0x4aa27e(0x11a)](_0x4aa27e(0x152),_0x44a2f8,_0x5b2f58+=0x2d),_0x3d2a85[_0x4aa27e(0x182)](0x9)[_0x4aa27e(0x11a)](_0x4aa27e(0xfe)+_0x164901[_0x4aa27e(0xe6)],_0x44a2f8+0x3f,_0x5b2f58),_0x3d2a85[_0x4aa27e(0x182)](0x9)[_0x4aa27e(0x11a)]('Supplier\x20:\x20'+_0x164901[_0x4aa27e(0x157)],_0x44a2f8+0x17c,_0x5b2f58,{'underline':!![]}),_0x3d2a85[_0x4aa27e(0x182)](0x9)[_0x4aa27e(0x11a)](_0x4aa27e(0xb5),_0x44a2f8,_0x5b2f58+=0xb),_0x3d2a85[_0x4aa27e(0x182)](0x9)[_0x4aa27e(0x11a)]('\x20:\x20'+_0x164901[_0x4aa27e(0x119)],_0x44a2f8+0x3f,_0x5b2f58),_0x3d2a85['fontSize'](0x9)[_0x4aa27e(0x11a)](_0x4aa27e(0x101),_0x44a2f8,_0x5b2f58+=0xb),_0x3d2a85[_0x4aa27e(0x182)](0x9)['text'](_0x4aa27e(0xfe)+_0x164901['invoice'],_0x44a2f8+0x3f,_0x5b2f58);const _0x22ca01={'headers':[{'label':_0x4aa27e(0x150),'property':_0x4aa27e(0xb0),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x4aa27e(0xc5),'width':0x96,'renderer':null},{'label':_0x4aa27e(0x160),'property':_0x4aa27e(0xc2),'width':0x2d,'renderer':null},{'label':_0x4aa27e(0x122),'property':'unit','width':0x3c,'renderer':null},{'label':_0x4aa27e(0x112),'property':_0x4aa27e(0x163),'width':0x46,'renderer':null},{'label':'Batch\x20No','property':_0x4aa27e(0x135),'width':0x3c,'renderer':null},{'label':'Bin\x20Location','property':_0x4aa27e(0x176),'width':0x3c,'renderer':null},{'label':_0x4aa27e(0x17a),'property':_0x4aa27e(0x128),'width':0x3f,'renderer':null}],'datas':[]};var _0x289bad=0x0;let _0x293471='';_0x164901[_0x4aa27e(0x14e)][_0x4aa27e(0x13c)](_0x2cd01e=>{const _0x2b80ef=_0x4aa27e;let _0x584638='';var _0x199a2f=0x0;const _0x4ee4dc={'itemcode':_0x2cd01e[_0x2b80ef(0xd9)],'itemdescription':_0x2cd01e[_0x2b80ef(0x15e)],'qty':_0x2cd01e['quantity'],'unit':_0x2cd01e[_0x2b80ef(0x15f)],'expdate':_0x2cd01e[_0x2b80ef(0xd7)],'batchno':_0x2cd01e['batch_code'],'binloc':_0x2cd01e['storage']+_0x2cd01e[_0x2b80ef(0xed)]+_0x2cd01e['bay']+_0x2cd01e[_0x2b80ef(0xd2)]+_0x2cd01e[_0x2b80ef(0xc1)][0x0]+_0x2cd01e[_0x2b80ef(0x15d)],'DelCode':_0x2cd01e['delivery_code']};_0x289bad+=_0x2cd01e[_0x2b80ef(0xdf)],_0x22ca01[_0x2b80ef(0x134)][_0x2b80ef(0x102)](_0x4ee4dc);}),_0x3d2a85['table'](_0x22ca01,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x3d2a85[_0x4aa27e(0xf3)](_0x4aa27e(0x14d))[_0x4aa27e(0x182)](0x8),'prepareRow':(_0xafe7d9,_0x3baffd,_0x42ee7f,_0x43b143)=>_0x3d2a85[_0x4aa27e(0xf3)](_0x4aa27e(0xe9))[_0x4aa27e(0x182)](0x8)});var _0x2d3dea=_0x3d2a85['y'],_0x5994c7=_0x3d2a85['x'];_0x3d2a85[_0x4aa27e(0x182)](0xa)[_0x4aa27e(0x11a)](_0x4aa27e(0x126),_0x5994c7+0x7d,_0x2d3dea),_0x3d2a85[_0x4aa27e(0x182)](0xa)[_0x4aa27e(0x11a)](_0x4aa27e(0xde),_0x5994c7,_0x2d3dea+=0x15e),_0x3d2a85[_0x4aa27e(0x182)](0xa)['text'](_0x289bad,_0x5994c7+0xf0,_0x2d3dea,{'underline':!![]}),_0x3d2a85[_0x4aa27e(0x182)](0xa)[_0x4aa27e(0x11a)]('Checked\x20By\x20\x20\x20:\x20',_0x5994c7,_0x2d3dea+0x28),_0x3d2a85[_0x4aa27e(0x182)](0xa)[_0x4aa27e(0x11a)](_0x4aa27e(0xbf),_0x5994c7+0x40,_0x2d3dea+0x28,{'underline':!![]}),_0x3d2a85['fontSize'](0xa)[_0x4aa27e(0x11a)](_0x4aa27e(0xce),_0x5994c7+0x40,_0x2d3dea+0x32);let _0x18221a=_0x3d2a85['bufferedPageRange']();for(let _0x371ae1=0x0;_0x371ae1<_0x18221a['count'];_0x371ae1++){_0x3d2a85['switchToPage'](_0x371ae1);let _0x4279bd=_0x3d2a85[_0x4aa27e(0x116)]['margins'][_0x4aa27e(0x13d)];_0x3d2a85['page']['margins']['bottom']=0x0,_0x3d2a85[_0x4aa27e(0x11a)](_0x4aa27e(0x104)+(_0x371ae1+0x1)+'\x20of\x20'+_0x18221a[_0x4aa27e(0x11f)],0x0,_0x3d2a85[_0x4aa27e(0x116)][_0x4aa27e(0x165)]-_0x4279bd/0x2,{'align':_0x4aa27e(0xc0)}),_0x3d2a85[_0x4aa27e(0x116)][_0x4aa27e(0xf8)][_0x4aa27e(0x13d)]=_0x4279bd;}const _0x72151=_0x3d2a85['y'],_0x1f64a5=_0x3d2a85['x'];_0x3d2a85[_0x4aa27e(0xeb)]();}catch(_0x1fde64){console[_0x4aa27e(0x11d)](_0x1fde64),_0x48ffeb[_0x4aa27e(0x17b)](0x1f4)[_0x4aa27e(0x181)](_0x4aa27e(0x13b));}}),router['get'](a0_0xf92d7b(0xbc),auth,async(_0x476343,_0x4d556d)=>{const _0x2252e8=a0_0xf92d7b;try{const {username:_0x4ab391,email:_0x1f1924,role:_0x1c24e3}=_0x476343[_0x2252e8(0xf0)],_0x113623=_0x476343[_0x2252e8(0xf0)],_0x4bec86=await profile['findOne']({'email':_0x113623[_0x2252e8(0x141)]}),_0x3b679f=await master_shop[_0x2252e8(0xfb)](),_0x2d728a=_0x476343[_0x2252e8(0xfc)]['id'],_0x511c1f=await sales[_0x2252e8(0x12c)](_0x2d728a),_0x4874a4=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x5e15cf;_0x5e15cf=_0x2252e8(0x10c);_0x511c1f[_0x2252e8(0xb7)]==_0x2252e8(0x109)&&(_0x5e15cf=_0x2252e8(0x151));_0x4d556d[_0x2252e8(0x11b)](_0x2252e8(0x111),_0x2252e8(0x103)+_0x2d728a+_0x2252e8(0x148)),_0x4d556d[_0x2252e8(0x11b)](_0x2252e8(0xcd),_0x2252e8(0x107));var _0x1f58af=0x14,_0x51742b=0x64;_0x4874a4[_0x2252e8(0x147)](_0x4d556d),_0x4874a4[_0x2252e8(0xe8)]('./public/upload/'+_0x3b679f[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x4874a4['fontSize'](0x14)['text']('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x1f58af,_0x51742b),_0x4874a4[_0x2252e8(0x182)](0xa)[_0x2252e8(0x11a)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x1f58af,_0x51742b+=0xf),_0x4874a4['fontSize'](0xf)['text'](_0x5e15cf,_0x1f58af,_0x51742b+=0x32),_0x4874a4['fontSize'](0xa)[_0x2252e8(0x11a)](_0x2252e8(0x16c),_0x1f58af,_0x51742b+=0x14),_0x4874a4[_0x2252e8(0x182)](0x9)[_0x2252e8(0x11a)](_0x2252e8(0xb5),_0x1f58af,_0x51742b+=0x19),_0x4874a4[_0x2252e8(0x182)](0x9)['text'](_0x2252e8(0xfe)+_0x511c1f['date'],_0x1f58af+0x3f,_0x51742b),_0x4874a4[_0x2252e8(0x182)](0x9)[_0x2252e8(0x11a)]('REF\x20MRIS#\x20',_0x1f58af,_0x51742b+=0xb),_0x4874a4['fontSize'](0x9)[_0x2252e8(0x11a)](_0x2252e8(0xfe)+_0x511c1f['invoice'],_0x1f58af+0x3f,_0x51742b);const _0x3438aa={'headers':[{'label':'ITEM\x20CODE','property':_0x2252e8(0xb0),'align':_0x2252e8(0xc0),'width':0x2d,'renderer':null},{'label':'MATERIAL\x20DESCRIPTION','property':_0x2252e8(0xc5),'align':_0x2252e8(0xc0),'width':0x64,'renderer':null},{'label':_0x2252e8(0x177),'property':_0x2252e8(0xf4),'align':'center','width':0x28,'renderer':null},{'label':'QUANTITY\x20ISSUED','property':_0x2252e8(0xb9),'align':'center','width':0x28,'renderer':null},{'label':_0x2252e8(0x122),'property':'unit','align':'center','width':0x28,'renderer':null},{'label':_0x2252e8(0x10d),'property':_0x2252e8(0x12a),'align':'center','width':0x32,'renderer':null},{'label':'PRODUCTION\x20DATE','property':'proddate','align':'center','width':0x3c,'renderer':null},{'label':_0x2252e8(0xea),'property':_0x2252e8(0x163),'align':_0x2252e8(0xc0),'width':0x3c,'renderer':null},{'label':_0x2252e8(0x12d),'property':'del_date','align':_0x2252e8(0xc0),'width':0x3f,'renderer':null},{'label':_0x2252e8(0xdc),'property':_0x2252e8(0x11c),'align':'center','width':0x3f,'renderer':null}],'datas':[]};var _0x9aba5c=0x0;let _0xcf06a7='';var _0x1f3370=0x0,_0x1f58af=0x1;_0x511c1f['sale_product']['forEach'](_0x10756f=>{const _0x34207a=_0x2252e8,_0x3f16bf=new Date(_0x10756f[_0x34207a(0x169)]),_0x65ecc0={'year':_0x34207a(0xe5),'month':_0x34207a(0xf9),'day':_0x34207a(0xe5)},_0x5c7cf3=_0x3f16bf[_0x34207a(0x146)](_0x34207a(0x131),_0x65ecc0),_0x3bb4ee=new Date(_0x10756f['expiry_date']),_0x488240={'year':_0x34207a(0xe5),'month':_0x34207a(0xf9),'day':_0x34207a(0xe5)},_0x448f23=_0x3bb4ee[_0x34207a(0x146)](_0x34207a(0x131),_0x488240),_0x97d2cf=new Date(_0x10756f['delivery_date']),_0x3181bc={'year':_0x34207a(0xe5),'month':_0x34207a(0xf9),'day':'numeric'};var _0x14c0a8=_0x97d2cf[_0x34207a(0x146)](_0x34207a(0x131),_0x3181bc);typeof _0x10756f[_0x34207a(0xd6)]==_0x34207a(0x105)&&(_0x14c0a8='');const _0x4095e0={'itemcode':_0x10756f[_0x34207a(0xd9)],'itemdescription':_0x10756f[_0x34207a(0x15e)],'rqty':_0x10756f['requested_qty'],'iqty':_0x10756f[_0x34207a(0xdf)],'unit':_0x10756f[_0x34207a(0x17e)],'blocation':_0x10756f[_0x34207a(0xc4)]+_0x10756f[_0x34207a(0xed)]+_0x10756f[_0x34207a(0xd0)]+_0x10756f[_0x34207a(0xd2)]+_0x10756f['type'][0x0]+_0x10756f['floorlevel'],'proddate':_0x5c7cf3,'expdate':_0x448f23,'del_date':_0x14c0a8,'del_code':_0x10756f[_0x34207a(0xd1)]};_0x1f58af++,_0x3438aa['datas'][_0x34207a(0x102)](_0x4095e0);}),_0x4874a4[_0x2252e8(0x16a)](_0x3438aa,{'x':_0x1f58af+0x11,'y':_0x51742b+=0x1e,'prepareHeader':()=>_0x4874a4['font']('Helvetica-Bold')[_0x2252e8(0x182)](6.5),'prepareRow':(_0x13d86c,_0x49ab11,_0xffd5eb,_0x563c61,_0x306681)=>{const _0x5da9a6=_0x2252e8,{x:_0x51fd8b,y:_0xfaee84,width:_0x1d90a6,height:_0xa52767}=_0x306681;_0x4874a4['font']('Helvetica')[_0x5da9a6(0x182)](0x8),_0x4874a4[_0x5da9a6(0x180)](0.5)[_0x5da9a6(0xd8)](_0x51fd8b,_0xfaee84)[_0x5da9a6(0x16b)](_0x51fd8b,_0xfaee84+_0xa52767)['stroke']();}});var _0x2c2399=_0x4874a4['y'],_0x5cae40=_0x4874a4['x'],_0x1127e0=_0x2c2399-=0x8;_0x4874a4[_0x2252e8(0x180)](0x5),_0x4874a4['lineCap']('butt')[_0x2252e8(0xd8)](0x240,_0x1127e0)[_0x2252e8(0x16b)](0x11,_0x1127e0)['stroke'](),_0x4874a4[_0x2252e8(0x182)](0xa)[_0x2252e8(0x11a)](_0x2252e8(0x126),_0x5cae40+0x7d,_0x2c2399+=0xf),_0x4874a4[_0x2252e8(0x182)](0xb)['text'](_0x2252e8(0x13a),_0x5cae40,_0x2c2399+=0x15e),_0x4874a4[_0x2252e8(0x182)](0xa)['text'](_0x2252e8(0x133),_0x5cae40+0x52,_0x2c2399,{'underline':!![]}),_0x4874a4[_0x2252e8(0x182)](0xa)[_0x2252e8(0x11a)](_0x2252e8(0x144),_0x5cae40,_0x2c2399+=0x19),_0x4874a4[_0x2252e8(0x182)](0xa)[_0x2252e8(0x11a)](_0x2252e8(0xfe),_0x5cae40+0x4b,_0x2c2399),_0x4874a4[_0x2252e8(0x182)](0xa)[_0x2252e8(0x11a)]('\x20'[_0x2252e8(0xc7)](0x3c),_0x5cae40+0x50,_0x2c2399,{'underline':!![]}),_0x4874a4['fontSize'](0xa)[_0x2252e8(0x11a)](_0x2252e8(0x153),_0x5cae40,_0x2c2399+=0x32),_0x4874a4[_0x2252e8(0x182)](0xa)['text'](_0x2252e8(0xfe),_0x5cae40+0x4b,_0x2c2399),_0x4874a4[_0x2252e8(0x182)](0xa)[_0x2252e8(0x11a)](_0x2252e8(0xbb),_0x5cae40+0x50,_0x2c2399,{'underline':!![]}),_0x4874a4[_0x2252e8(0x182)](0xa)[_0x2252e8(0x11a)](_0x2252e8(0xce),_0x5cae40+0x50,_0x2c2399+0xc);let _0x53d8ff=_0x4874a4['bufferedPageRange']();for(let _0x49ff81=0x0;_0x49ff81<_0x53d8ff['count'];_0x49ff81++){_0x4874a4['switchToPage'](_0x49ff81);let _0x2b247b=_0x4874a4[_0x2252e8(0x116)]['margins']['bottom'];_0x4874a4[_0x2252e8(0x116)][_0x2252e8(0xf8)][_0x2252e8(0x13d)]=0x0,_0x4874a4[_0x2252e8(0x11a)]('Page:\x20'+(_0x49ff81+0x1)+'\x20of\x20'+_0x53d8ff[_0x2252e8(0x11f)],0x0,_0x4874a4['page'][_0x2252e8(0x165)]-_0x2b247b/0x2,{'align':_0x2252e8(0xc0)}),_0x4874a4[_0x2252e8(0x116)]['margins'][_0x2252e8(0x13d)]=_0x2b247b;}const _0x157e21=_0x4874a4['y'],_0x7ad18c=_0x4874a4['x'];_0x4874a4[_0x2252e8(0xeb)]();}catch(_0xc508a1){console['log'](_0xc508a1),_0x4d556d[_0x2252e8(0x17b)](0x1f4)[_0x2252e8(0x181)](_0x2252e8(0x13b));}}),router[a0_0xf92d7b(0x140)]('/PDF_adjustment_rm/:id',auth,async(_0x3e7673,_0xd919b7)=>{const _0x52cdc9=a0_0xf92d7b;try{const {username:_0x36a948,email:_0x387745,role:_0x37b798}=_0x3e7673[_0x52cdc9(0xf0)],_0x76c715=_0x3e7673['user'],_0x3f902d=await profile[_0x52cdc9(0xe7)]({'email':_0x76c715[_0x52cdc9(0x141)]}),_0x115835=await master_shop[_0x52cdc9(0xfb)](),_0xef4ec8=_0x3e7673[_0x52cdc9(0xfc)]['id'],_0x530655=await adjustment['findById'](_0xef4ec8);var _0x18ec1a,_0x180220;_0x18ec1a=_0x52cdc9(0x10c),_0x180220=_0x52cdc9(0xdb);_0x530655[_0x52cdc9(0xb7)]==_0x52cdc9(0x109)&&(_0x18ec1a=_0x52cdc9(0x123),_0x180220='');const _0x461c07=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0xd919b7[_0x52cdc9(0x11b)](_0x52cdc9(0x111),_0x52cdc9(0x103)+_0xef4ec8+_0x52cdc9(0x148)),_0xd919b7[_0x52cdc9(0x11b)](_0x52cdc9(0xcd),_0x52cdc9(0x107));var _0xf31573=0x14,_0x241ee4=0x3c;_0x461c07[_0x52cdc9(0x147)](_0xd919b7),_0x461c07[_0x52cdc9(0xe8)]('./public/upload/'+_0x115835[0x0][_0x52cdc9(0xe8)],0x14,0x0,{'fit':[0x64,0x64]}),_0x461c07['fontSize'](0x14)[_0x52cdc9(0x11a)](_0x52cdc9(0xe1),_0xf31573,_0x241ee4),_0x461c07['fontSize'](0xa)['text'](_0x52cdc9(0x175),_0xf31573,_0x241ee4+=0xf),_0x461c07[_0x52cdc9(0x182)](0xf)[_0x52cdc9(0x11a)](_0x18ec1a,_0xf31573,_0x241ee4+=0x32),_0x461c07['fontSize'](0xa)[_0x52cdc9(0x11a)](_0x180220,_0xf31573,_0x241ee4+=0x14),_0x461c07[_0x52cdc9(0x182)](0x9)[_0x52cdc9(0x11a)](_0x52cdc9(0x152),_0xf31573,_0x241ee4+=0x28),_0x461c07[_0x52cdc9(0x182)](0x9)[_0x52cdc9(0x11a)](_0x52cdc9(0xfe)+_0x530655[_0x52cdc9(0xe6)],_0xf31573+0x3f,_0x241ee4),_0x461c07[_0x52cdc9(0x182)](0x9)[_0x52cdc9(0x11a)](_0x52cdc9(0xb5),_0xf31573,_0x241ee4+=0xb),_0x461c07[_0x52cdc9(0x182)](0x9)[_0x52cdc9(0x11a)](_0x52cdc9(0xfe)+_0x530655[_0x52cdc9(0x119)],_0xf31573+0x3f,_0x241ee4),_0x461c07[_0x52cdc9(0x182)](0x9)[_0x52cdc9(0x11a)](_0x52cdc9(0x101),_0xf31573,_0x241ee4+=0xb),_0x461c07[_0x52cdc9(0x182)](0x9)[_0x52cdc9(0x11a)](_0x52cdc9(0xfe)+_0x530655[_0x52cdc9(0x14c)],_0xf31573+0x3f,_0x241ee4);const _0x5a05ff={'headers':[{'label':_0x52cdc9(0x150),'property':_0x52cdc9(0xb0),'width':0x3c,'renderer':null},{'label':_0x52cdc9(0x161),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x52cdc9(0xc6),'property':_0x52cdc9(0xc2),'width':0x3c,'renderer':null},{'label':_0x52cdc9(0x122),'property':'unit','width':0x3c,'renderer':null},{'label':_0x52cdc9(0xec),'property':'proddate','width':0x50,'renderer':null},{'label':_0x52cdc9(0x124),'property':_0x52cdc9(0x135),'width':0x3f,'renderer':null},{'label':_0x52cdc9(0x179),'property':_0x52cdc9(0x176),'width':0x3f,'renderer':null}],'datas':[]};var _0x1f6606=0x0,_0x36b9df=0x0;_0x530655['product'][_0x52cdc9(0x13c)](_0x2abfed=>{const _0xe20280=_0x52cdc9;let _0x3b843b='';const _0x409d23=_0x2abfed[_0xe20280(0x15c)];for(let _0x429ef4=0x1;_0x429ef4<=_0x409d23;_0x429ef4++){_0x409d23==_0x429ef4?_0x3b843b+=_0x2abfed[_0xe20280(0x125)]:_0x3b843b+=_0x2abfed[_0xe20280(0x125)]+',',_0x36b9df+=_0x2abfed[_0xe20280(0x125)];}_0x3b843b+='\x20/\x20'+_0x2abfed[_0xe20280(0xe3)];const _0x152250={'itemcode':_0x2abfed[_0xe20280(0xd9)],'itemdescription':_0x2abfed['product_name'],'qty':_0x2abfed[_0xe20280(0xe4)],'unit':_0x2abfed[_0xe20280(0x17e)],'proddate':_0x2abfed[_0xe20280(0x169)],'batchno':_0x2abfed[_0xe20280(0x139)],'binloc':_0x2abfed['storage']+_0x2abfed[_0xe20280(0xed)]+_0x2abfed[_0xe20280(0xd0)]+_0x2abfed[_0xe20280(0xd2)]+_0x2abfed[_0xe20280(0xc1)][0x0]+_0x2abfed[_0xe20280(0x15d)]};_0x1f6606+=_0x2abfed[_0xe20280(0xe4)],_0x5a05ff[_0xe20280(0x134)][_0xe20280(0x102)](_0x152250);}),_0x461c07[_0x52cdc9(0x16a)](_0x5a05ff,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x461c07[_0x52cdc9(0xf3)](_0x52cdc9(0x14d))[_0x52cdc9(0x182)](0x8),'prepareRow':(_0x3e1158,_0xa07578,_0x32581d,_0x6250cb)=>_0x461c07[_0x52cdc9(0xf3)]('Helvetica')[_0x52cdc9(0x182)](0x8)});var _0x278a0d=_0x461c07['y'],_0xae63cd=_0x461c07['x'];_0x461c07[_0x52cdc9(0x182)](0xa)[_0x52cdc9(0x11a)](_0x52cdc9(0x126),_0xae63cd+0x7d,_0x278a0d),_0x461c07[_0x52cdc9(0x182)](0xa)[_0x52cdc9(0x11a)]('TOTAL\x20QTY\x20:\x20',_0xae63cd,_0x278a0d+=0x136),_0x461c07[_0x52cdc9(0x182)](0xa)['text'](_0x1f6606,_0xae63cd+0xc8,_0x278a0d),_0x461c07[_0x52cdc9(0x182)](0xa)['text'](_0x52cdc9(0x17f),_0xae63cd,_0x278a0d+=0x19),_0x461c07['fontSize'](0xa)['text']('\x20'[_0x52cdc9(0xc7)](0x3c),_0xae63cd+0x3e,_0x278a0d,{'underline':!![]}),_0x461c07[_0x52cdc9(0x182)](0xa)[_0x52cdc9(0x11a)](_0x52cdc9(0xef),_0xae63cd,_0x278a0d+=0x32),_0x461c07[_0x52cdc9(0x182)](0xa)[_0x52cdc9(0x11a)](_0x52cdc9(0xfe),_0xae63cd+0x37,_0x278a0d),_0x461c07[_0x52cdc9(0x182)](0xa)[_0x52cdc9(0x11a)](_0x52cdc9(0xbb),_0xae63cd+0x3c,_0x278a0d,{'underline':!![]}),_0x461c07[_0x52cdc9(0x182)](0xa)[_0x52cdc9(0x11a)](_0x52cdc9(0xce),_0xae63cd+0x3c,_0x278a0d+0xc);let _0xd9ea30=_0x461c07[_0x52cdc9(0x115)]();for(let _0x5db899=0x0;_0x5db899<_0xd9ea30[_0x52cdc9(0x11f)];_0x5db899++){_0x461c07[_0x52cdc9(0x137)](_0x5db899);let _0x2c7df3=_0x461c07[_0x52cdc9(0x116)][_0x52cdc9(0xf8)]['bottom'];_0x461c07['page'][_0x52cdc9(0xf8)][_0x52cdc9(0x13d)]=0x0,_0x461c07[_0x52cdc9(0x11a)](_0x52cdc9(0x104)+(_0x5db899+0x1)+_0x52cdc9(0xbd)+_0xd9ea30[_0x52cdc9(0x11f)],0x0,_0x461c07['page']['height']-_0x2c7df3/0x2,{'align':_0x52cdc9(0xc0)}),_0x461c07[_0x52cdc9(0x116)][_0x52cdc9(0xf8)][_0x52cdc9(0x13d)]=_0x2c7df3;}const _0xa83fc8=_0x461c07['y'],_0x22d347=_0x461c07['x'];_0x461c07[_0x52cdc9(0xeb)]();}catch(_0x4fa05c){console[_0x52cdc9(0x11d)](_0x4fa05c),_0xd919b7['status'](0x1f4)['send'](_0x52cdc9(0x13b));}}),router['get']('/PDF_transfer_rm/:id',auth,async(_0x51ffc5,_0x30c75b)=>{const _0x43d9d3=a0_0xf92d7b;try{const {username:_0x4da346,email:_0x4dcff6,role:_0xb65ef7}=_0x51ffc5[_0x43d9d3(0xf0)],_0x4b1a07=_0x51ffc5[_0x43d9d3(0xf0)],_0x2a2ce8=await profile[_0x43d9d3(0xe7)]({'email':_0x4b1a07[_0x43d9d3(0x141)]}),_0x3a2178=await master_shop[_0x43d9d3(0xfb)](),_0x2b94e9=_0x51ffc5[_0x43d9d3(0xfc)]['id'],_0x3ba1ed=await transfers['findById'](_0x2b94e9);var _0x32072a,_0x59e0e1;_0x32072a=_0x43d9d3(0x15a),_0x59e0e1='(STOCKS\x20TRANSFER)';_0x3ba1ed[_0x43d9d3(0xb7)]==_0x43d9d3(0x109)&&(_0x32072a='STOCKS\x20TRANSFER',_0x59e0e1='');const _0x112d28=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x30c75b[_0x43d9d3(0x11b)](_0x43d9d3(0x111),_0x43d9d3(0x103)+_0x2b94e9+_0x43d9d3(0x148)),_0x30c75b[_0x43d9d3(0x11b)](_0x43d9d3(0xcd),_0x43d9d3(0x107));var _0x31bcea=0x14,_0x5259e2=0x3c;_0x112d28[_0x43d9d3(0x147)](_0x30c75b),_0x112d28[_0x43d9d3(0xe8)](_0x43d9d3(0x14a)+_0x3a2178[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x112d28['fontSize'](0x14)['text'](_0x43d9d3(0xe1),_0x31bcea,_0x5259e2),_0x112d28[_0x43d9d3(0x182)](0xa)['text'](_0x43d9d3(0x175),_0x31bcea,_0x5259e2+=0xf),_0x112d28[_0x43d9d3(0x182)](0xf)[_0x43d9d3(0x11a)](_0x32072a,_0x31bcea,_0x5259e2+=0x32),_0x112d28[_0x43d9d3(0x182)](0xa)[_0x43d9d3(0x11a)](_0x59e0e1,_0x31bcea,_0x5259e2+=0x14),_0x112d28[_0x43d9d3(0x182)](0x9)[_0x43d9d3(0x11a)](_0x43d9d3(0x156),_0x31bcea,_0x5259e2+=0x28),_0x112d28[_0x43d9d3(0x182)](0x9)[_0x43d9d3(0x11a)](_0x43d9d3(0xfa)+_0x3ba1ed[_0x43d9d3(0xb2)],_0x31bcea+0x3f,_0x5259e2),_0x112d28[_0x43d9d3(0x182)](0x9)['text']('To\x20Warehouse\x20',_0x31bcea,_0x5259e2+=0xa),_0x112d28[_0x43d9d3(0x182)](0x9)[_0x43d9d3(0x11a)]('\x20\x20\x20:\x20'+_0x3ba1ed[_0x43d9d3(0x164)],_0x31bcea+0x3f,_0x5259e2),_0x112d28[_0x43d9d3(0x182)](0x9)[_0x43d9d3(0x11a)](_0x43d9d3(0xb5),_0x31bcea,_0x5259e2+=0xb),_0x112d28['fontSize'](0x9)[_0x43d9d3(0x11a)](_0x43d9d3(0xfa)+_0x3ba1ed[_0x43d9d3(0x119)],_0x31bcea+0x3f,_0x5259e2),_0x112d28[_0x43d9d3(0x182)](0x9)[_0x43d9d3(0x11a)](_0x43d9d3(0x101),_0x31bcea,_0x5259e2+=0xb),_0x112d28['fontSize'](0x9)['text'](_0x43d9d3(0xfa)+_0x3ba1ed['invoice'],_0x31bcea+0x3f,_0x5259e2);const _0x5053da={'headers':[{'label':'','property':_0x43d9d3(0xb0),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x43d9d3(0x14b),'property':_0x43d9d3(0xb0),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x43d9d3(0x158),'property':_0x43d9d3(0xc5),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x112d28[_0x43d9d3(0x16a)](_0x5053da,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x112d28['font'](_0x43d9d3(0x14d))[_0x43d9d3(0x182)](0x8),'prepareRow':(_0x5cc591,_0x5f5d3f,_0xcb9b45,_0x420f00)=>_0x112d28[_0x43d9d3(0xf3)]('Helvetica')[_0x43d9d3(0x182)](0x8)});const _0x58792f={'headers':[{'label':_0x43d9d3(0x150),'property':_0x43d9d3(0xb0),'width':0x3c,'renderer':null},{'label':_0x43d9d3(0x161),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x43d9d3(0xc6),'property':'qty','width':0x28,'renderer':null},{'label':'UOM','property':_0x43d9d3(0x17e),'width':0x37,'renderer':null},{'label':'Production\x20Date','property':_0x43d9d3(0x159),'width':0x4b,'renderer':null},{'label':_0x43d9d3(0x124),'property':_0x43d9d3(0x135),'width':0x3f,'renderer':null},{'label':_0x43d9d3(0x179),'property':'binlocFrom','width':0x3f,'renderer':null},{'label':_0x43d9d3(0x179),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x3e0e78=0x0;let _0x238b61='';var _0x161cec=0x0;_0x3ba1ed[_0x43d9d3(0x14e)][_0x43d9d3(0x13c)](_0x43dbbf=>{const _0x1007ef=_0x43d9d3;var _0x2b5824=_0x43dbbf[_0x1007ef(0xc8)],_0x4dbd3f;_0x4dbd3f=_0x43dbbf['unit'];_0x2b5824=='S'&&(_0x4dbd3f=_0x43dbbf[_0x1007ef(0xe3)]);const _0x30081e={'itemcode':_0x43dbbf['product_code'],'itemdescription':_0x43dbbf['product_name'],'qty':_0x43dbbf[_0x1007ef(0x15c)],'unit':_0x4dbd3f,'proddate':_0x43dbbf[_0x1007ef(0x169)],'batchno':_0x43dbbf[_0x1007ef(0x139)],'binloc':_0x43dbbf[_0x1007ef(0xc4)]+_0x43dbbf[_0x1007ef(0xed)]+_0x43dbbf[_0x1007ef(0xe2)]+_0x43dbbf[_0x1007ef(0xee)]+_0x43dbbf[_0x1007ef(0x13e)][0x0]+_0x43dbbf[_0x1007ef(0xb1)],'qtyFrom':_0x43dbbf['from_quantity'],'binlocFrom':_0x43dbbf[_0x1007ef(0x121)]+_0x43dbbf[_0x1007ef(0x170)]+_0x43dbbf['from_bay']+_0x43dbbf[_0x1007ef(0xc3)]+_0x43dbbf[_0x1007ef(0xf7)][0x0]+_0x43dbbf[_0x1007ef(0x149)]};_0x3e0e78+=_0x43dbbf['to_quantity'],_0x58792f[_0x1007ef(0x134)][_0x1007ef(0x102)](_0x30081e);}),_0x112d28['table'](_0x58792f,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x112d28[_0x43d9d3(0xf3)]('Helvetica-Bold')[_0x43d9d3(0x182)](0x8),'prepareRow':(_0x5f04b1,_0x1d43f7,_0x58d775,_0x34f1e7)=>_0x112d28[_0x43d9d3(0xf3)]('Helvetica')['fontSize'](0x8)});var _0x556308=_0x112d28['y'],_0x1b788f=_0x112d28['x'];_0x112d28[_0x43d9d3(0x182)](0xa)[_0x43d9d3(0x11a)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x1b788f+0x7d,_0x556308),_0x112d28[_0x43d9d3(0x182)](0xa)['text'](_0x43d9d3(0xde),_0x1b788f,_0x556308+=0x12c),_0x112d28[_0x43d9d3(0x182)](0xa)[_0x43d9d3(0x11a)](_0x3e0e78,_0x1b788f+0xd7,_0x556308,{'underline':!![]}),_0x112d28[_0x43d9d3(0x182)](0xa)[_0x43d9d3(0x11a)](_0x43d9d3(0x162),_0x1b788f,_0x556308+=0x32),_0x112d28[_0x43d9d3(0x182)](0xa)['text'](_0x43d9d3(0x145),_0x1b788f+0x3c,_0x556308,{'underline':!![]}),_0x112d28[_0x43d9d3(0x182)](0xa)['text'](_0x43d9d3(0xce),_0x1b788f+0x3c,_0x556308+0xc);let _0x40e06b=_0x112d28[_0x43d9d3(0x115)]();for(let _0x3f14cd=0x0;_0x3f14cd<_0x40e06b['count'];_0x3f14cd++){_0x112d28[_0x43d9d3(0x137)](_0x3f14cd);let _0x210bf8=_0x112d28['page'][_0x43d9d3(0xf8)]['bottom'];_0x112d28['page'][_0x43d9d3(0xf8)][_0x43d9d3(0x13d)]=0x0,_0x112d28[_0x43d9d3(0x11a)](_0x43d9d3(0x104)+(_0x3f14cd+0x1)+_0x43d9d3(0xbd)+_0x40e06b[_0x43d9d3(0x11f)],0x0,_0x112d28[_0x43d9d3(0x116)][_0x43d9d3(0x165)]-_0x210bf8/0x2,{'align':_0x43d9d3(0xc0)}),_0x112d28['page'][_0x43d9d3(0xf8)][_0x43d9d3(0x13d)]=_0x210bf8;}const _0x27bd9e=_0x112d28['y'],_0x2287c6=_0x112d28['x'];_0x112d28[_0x43d9d3(0xeb)]();}catch(_0x3d3888){console[_0x43d9d3(0x11d)](_0x3d3888),_0x30c75b['status'](0x1f4)[_0x43d9d3(0x181)](_0x43d9d3(0x13b));}}),router['get']('/barcode_generator/',auth,async(_0x1eb6c6,_0x4f4822)=>{const _0x3286d3=a0_0xf92d7b;try{const _0x185f10=_0x419c2e=>_0x419c2e*0x48,_0x4e53c4={'width':0x3,'height':0x1},_0x12990f=await product['find'](),_0x1cd4c3=new PDFDocument({'margin':_0x185f10(0.75),'size':[_0x185f10(_0x4e53c4[_0x3286d3(0x14f)]),_0x185f10(_0x4e53c4[_0x3286d3(0x165)])],'bufferPages':!![]}),_0x28e74c=_0x12990f[_0x3286d3(0x11e)];for(let _0x3e69b5=0x0;_0x3e69b5<=_0x28e74c;_0x3e69b5++){if(_0x3e69b5!=_0x12990f[_0x3286d3(0x11e)]){const _0x4a35b9=_0x12990f[_0x3e69b5][_0x3286d3(0xf6)],_0x29fcd0=_0x12990f[_0x3e69b5][_0x3286d3(0xda)],_0x2b137f=_0x12990f[_0x3e69b5]['secondary_code'],_0x2bbaec=_0x12990f[_0x3e69b5][_0x3286d3(0xd9)],_0x2040e6=new Canvas();JsBarcode(_0x2040e6,_0x29fcd0,{'format':_0x3286d3(0xc9),'height':0x32,'displayValue':!![],'text':_0x29fcd0}),_0x1cd4c3['image'](_0x2040e6['toBuffer'](),0x0,0x0,{'width':0xd2}),_0x1cd4c3[_0x3286d3(0x138)]();}}_0x1cd4c3[_0x3286d3(0x147)](_0x4f4822),_0x1cd4c3[_0x3286d3(0xeb)]();}catch(_0x4ea7ea){console[_0x3286d3(0x120)](_0x3286d3(0xfd),_0x4ea7ea),_0x4f4822[_0x3286d3(0x17b)](0x1f4)[_0x3286d3(0x181)](_0x3286d3(0x13b));}}),module[a0_0xf92d7b(0x13f)]=router;