const a0_0x2768ef=a0_0x5168;(function(_0x543754,_0xcab062){const _0x4b48fd=a0_0x5168,_0x37fa4f=_0x543754();while(!![]){try{const _0x43024c=-parseInt(_0x4b48fd(0x18e))/0x1+-parseInt(_0x4b48fd(0x143))/0x2+-parseInt(_0x4b48fd(0x115))/0x3*(parseInt(_0x4b48fd(0x108))/0x4)+-parseInt(_0x4b48fd(0x1dd))/0x5+parseInt(_0x4b48fd(0x16f))/0x6+-parseInt(_0x4b48fd(0x149))/0x7*(parseInt(_0x4b48fd(0x148))/0x8)+-parseInt(_0x4b48fd(0x188))/0x9*(-parseInt(_0x4b48fd(0x156))/0xa);if(_0x43024c===_0xcab062)break;else _0x37fa4f['push'](_0x37fa4f['shift']());}catch(_0x734c22){_0x37fa4f['push'](_0x37fa4f['shift']());}}}(a0_0x4d8c,0xa8be1));const express=require(a0_0x2768ef(0x154)),res=require(a0_0x2768ef(0x14e)),app=express(),router=express[a0_0x2768ef(0x136)](),multer=require(a0_0x2768ef(0x1d2)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x2768ef(0x167)),auth=require('../middleware/auth'),users=require(a0_0x2768ef(0x15a)),excelJS=require(a0_0x2768ef(0x144)),xlsx=require(a0_0x2768ef(0x11f)),PDFDocument=require(a0_0x2768ef(0x179)),fs=require('fs'),blobStream=require(a0_0x2768ef(0x12b)),JsBarcode=require('jsbarcode'),{Canvas}=require(a0_0x2768ef(0x1cd));function a0_0x4d8c(){const _0x26cb11=['from_quantity','addPage','Checked\x20By:\x20','to_quantity','\x20row:\x20','/PDF_adjustment/:id','return_sale_QA','toLocaleDateString','application/pdf','lineWidth','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','customer','/PDF_adjustment_rm/:id','PICKING\x20LIST','from_types','quantity','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','unit','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','switchToPage','end','stroke','toBuffer','Picked\x20By\x20\x20\x20\x20:\x20','product_name','/PDF/:id','rack','canvas','MATERIAL\x20DESCRIPTION','(OUTGOING)','iqty','maxperunit','multer','\x20\x20\x20:\x20','table','Warehouse\x20','product','Date\x20','REF\x20MRIS#\x20','storage','\x20y:\x20','del_code','center','3344705uIOPar','Raw\x20Materials\x20Warehouse\x20Supervisor','findById','DRY\x20GOODS','secondary_code','production_date','\x20\x20\x20\x20\x20TO','short','Content-type','\x20\x20TO','36dnYFvi','DELIVERY\x20RECEIPT','batch_code','/barcode_generator/','blocation','count','Helvetica-Bold','LOCATION','ITEM\x20CODE','delivery_code','(INCOMING)','Finished\x20Good\x20Warehouse\x20Supervisor','/PDF_transfer_rm/:id','408750QgvgzG','get','bottom','\x20\x20\x20\x20\x20FROM','setHeader','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','bin','secondary_unit','name','Checked\x20By\x20','xlsx','/pdf_puchases_fin/:id','(RETURN)','DELIVERY\x20DATE','adjust_qty','FROZEN\x20GOODS','Control\x20Number\x20:\x20','QTY','sale_product','image','/pdf_puchases/:id','to_warehouse','blob-stream','Production\x20Date','return_sale','expiry_date','Bin\x20Location','return_qty','itemcode','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','new_adjust_qty','forEach','REQUESTED\x20QUANTITY','Router','Expiration\x20Date','Quantity','finalize','Noted\x20By\x20','expdate','\x20/\x20','/pdf_sales_return_fin/:id','Warehouse\x20:\x20','CODE128','date','user','from_warehouse','566218badAoe','exceljs','FTGS\x20Number\x20:\x20','width','./public/upload/','32mxeRha','645071CdZDhG','TOTAL\x20QTY:\x20','Batch\x20No','Control\x20Number\x20','Helvetica','express/lib/response','proddate','batchno','text','bufferedPageRange','butt','express','DELIVERY\x20CODE','1225090OAoEdo','qty','repeat','Picking\x20List','../public/language/languages.json','product_code','to_bay','/PDF_Sales/:id','from_floorlevel','page','(INVENTORY\x20ADJUSTMENT)','floorlevel','.pdf\x22','pipe','datas','\x20of\x20','bay','../models/all_models','del_date','status','requested_qty','maxPerUnit','delivery_date','suppliers','params','4643988gWlOhf','itemdescription','to_floorlevel','font','Picked\x20By','invoice','find','Check\x20By\x20\x20\x20\x20:\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Page:\x20','pdfkit-table','undefined','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','Item\x20Code','Item\x20Description','ARMAN\x20CRUZ','Date\x20:\x20','\x20:\x20','UOM','moveTo','Picked\x20By\x20\x20\x20:\x20','Content-disposition','from_bay','primary_code','x:\x20','198ejcpXF','exports','lineCap','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','send','prod_cat','231115ARpwil','from_bin','fontSize','from_rack','Check\x20By:\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineTo','inline;\x20filename=\x22','binloc','numeric','Delivery\x20Code','INVENTORY\x20ADJUSTMENT','Checked\x20By\x20\x20\x20:\x20','TOTAL\x20QTY\x20:\x20','email','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','en-US','log','height','Picked\x20By\x20\x20\x20\x20\x20:\x20','length','inline;\x20filename=\x22OUT-','PREPARED\x20BY\x20:\x20','push','binlocFrom','findOne','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','standard_unit','STOCKS\x20TRANSFER','to_bin','True','warehouse_name','(STOCKS\x20TRANSFER)','margins','to_types','To\x20Warehouse\x20'];a0_0x4d8c=function(){return _0x26cb11;};return a0_0x4d8c();}function a0_0x5168(_0xa2cd89,_0x68b35a){const _0x4d8cee=a0_0x4d8c();return a0_0x5168=function(_0x51689b,_0x2d8681){_0x51689b=_0x51689b-0x105;let _0x55cd86=_0x4d8cee[_0x51689b];return _0x55cd86;},a0_0x5168(_0xa2cd89,_0x68b35a);}router[a0_0x2768ef(0x116)](a0_0x2768ef(0x1cb),auth,async(_0x3507aa,_0x247c90)=>{const _0x3e630f=a0_0x2768ef;try{const {username:_0x88b421,email:_0x3d51bf,role:_0x352373}=_0x3507aa[_0x3e630f(0x141)],_0x163aff=_0x3507aa[_0x3e630f(0x141)],_0x56481b=await profile[_0x3e630f(0x1a7)]({'email':_0x163aff[_0x3e630f(0x19c)]}),_0x2cc51d=await master_shop[_0x3e630f(0x175)](),_0x57400a=_0x3507aa['params']['id'],_0x27f8ba=await sales_finished[_0x3e630f(0x1df)](_0x57400a);var _0x3b73f5;_0x3b73f5=_0x3e630f(0x1bf);_0x27f8ba[_0x3e630f(0x139)]==_0x3e630f(0x1ac)&&(_0x3b73f5=_0x3e630f(0x109));const _0x4c91cd=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x247c90[_0x3e630f(0x119)]('Content-disposition',_0x3e630f(0x195)+_0x27f8ba[_0x3e630f(0x174)]+'.pdf\x22'),_0x247c90[_0x3e630f(0x119)](_0x3e630f(0x106),_0x3e630f(0x1ba));var _0x30dfbf=0x14,_0x589e5b=0x3c;_0x4c91cd[_0x3e630f(0x163)](_0x247c90),_0x4c91cd['image'](_0x3e630f(0x147)+_0x2cc51d[0x0][_0x3e630f(0x128)],0x14,0x0,{'fit':[0x64,0x64]}),_0x4c91cd[_0x3e630f(0x190)](0x14)[_0x3e630f(0x151)](_0x3e630f(0x18b),_0x30dfbf,_0x589e5b),_0x4c91cd['fontSize'](0xa)[_0x3e630f(0x151)](_0x3e630f(0x19d),_0x30dfbf,_0x589e5b+=0xf),_0x4c91cd['fontSize'](0xf)[_0x3e630f(0x151)](_0x3b73f5,_0x30dfbf,_0x589e5b+=0x32),_0x4c91cd[_0x3e630f(0x190)](0xa)[_0x3e630f(0x151)]('(OUTGOING)',_0x30dfbf,_0x589e5b+=0x14),_0x4c91cd['fontSize'](0x9)[_0x3e630f(0x151)](_0x3e630f(0x1d5),_0x30dfbf,_0x589e5b+=0x28),_0x4c91cd['fontSize'](0x9)[_0x3e630f(0x151)](_0x3e630f(0x180)+_0x27f8ba['warehouse_name'],_0x30dfbf+0x3f,_0x589e5b),_0x4c91cd[_0x3e630f(0x190)](0x9)[_0x3e630f(0x151)]('Customer\x20:\x20'+_0x27f8ba[_0x3e630f(0x1bd)],_0x30dfbf+0x17c,_0x589e5b,{'underline':!![]}),_0x4c91cd[_0x3e630f(0x190)](0x9)[_0x3e630f(0x151)](_0x3e630f(0x1d7),_0x30dfbf,_0x589e5b+=0xb),_0x4c91cd[_0x3e630f(0x190)](0x9)[_0x3e630f(0x151)](_0x3e630f(0x180)+_0x27f8ba[_0x3e630f(0x140)],_0x30dfbf+0x3f,_0x589e5b),_0x4c91cd['fontSize'](0x9)[_0x3e630f(0x151)](_0x3e630f(0x14c),_0x30dfbf,_0x589e5b+=0xb),_0x4c91cd[_0x3e630f(0x190)](0x9)['text'](_0x3e630f(0x180)+_0x27f8ba['invoice'],_0x30dfbf+0x3f,_0x589e5b);const _0x5e6369={'headers':[{'label':_0x3e630f(0x17c),'property':_0x3e630f(0x131),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0xa5,'renderer':null},{'label':_0x3e630f(0x138),'property':_0x3e630f(0x157),'width':0x3c,'renderer':null},{'label':_0x3e630f(0x181),'property':'unit','width':0x3c,'renderer':null},{'label':'Production\x20Date','property':_0x3e630f(0x14f),'width':0x50,'renderer':null},{'label':_0x3e630f(0x14b),'property':_0x3e630f(0x150),'width':0x3f,'renderer':null},{'label':_0x3e630f(0x12f),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x58cff6=0x0;let _0x49c24d='';var _0x4eab81=0x0;_0x27f8ba['warehouse_name']==_0x3e630f(0x1e0)?_0x49c24d='DG':_0x49c24d='FG';var _0x249e5a=0x0;_0x27f8ba['sale_product'][_0x3e630f(0x134)](_0x419a06=>{const _0x3515f5=_0x3e630f;console[_0x3515f5(0x19f)](_0x419a06);let _0x576af9='';const _0x5559a0=_0x419a06[_0x3515f5(0x1c1)];for(let _0x510e20=0x1;_0x510e20<=_0x5559a0;_0x510e20++){_0x5559a0==_0x510e20?_0x576af9+=_0x419a06[_0x3515f5(0x1d1)]:_0x576af9+=_0x419a06[_0x3515f5(0x1d1)]+',',_0x4eab81+=_0x419a06[_0x3515f5(0x1d1)];}_0x576af9+=_0x3515f5(0x13c)+_0x419a06[_0x3515f5(0x11c)];const _0x31a7ed={'itemcode':_0x419a06['product_code'],'itemdescription':_0x419a06['product_name'],'qty':_0x419a06[_0x3515f5(0x1c1)],'unit':_0x419a06[_0x3515f5(0x1c3)],'proddate':_0x419a06[_0x3515f5(0x1e2)],'batchno':_0x419a06['batch_code'],'binloc':_0x49c24d+_0x419a06['bay']};_0x58cff6+=_0x419a06[_0x3515f5(0x1c1)],_0x249e5a+=0x1,_0x5e6369[_0x3515f5(0x164)][_0x3515f5(0x1a5)](_0x31a7ed);}),_0x4c91cd[_0x3e630f(0x1d4)](_0x5e6369,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x4c91cd[_0x3e630f(0x172)](_0x3e630f(0x10e))['fontSize'](0x8),'prepareRow':(_0x313331,_0x24f4ab,_0x142286,_0x2bf0b1)=>_0x4c91cd[_0x3e630f(0x172)](_0x3e630f(0x14d))[_0x3e630f(0x190)](0x8)});var _0x405710=_0x4c91cd['y'],_0x20e9f8=_0x4c91cd['x'];_0x4c91cd[_0x3e630f(0x190)](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x20e9f8+0x7d,_0x405710),console['log'](_0x3e630f(0x187)+_0x20e9f8+_0x3e630f(0x1da)+_0x405710+_0x3e630f(0x1b6)+_0x249e5a);const _0xfb02bf=_0x20e9f8*_0x249e5a;_0x4c91cd[_0x3e630f(0x190)](0xa)['text'](_0x3e630f(0x14a),_0x20e9f8,_0x405710+=0x15e-_0xfb02bf),_0x4c91cd['fontSize'](0xa)['text'](_0x58cff6,_0x20e9f8+0xdc,_0x405710,{'underline':!![]}),_0x4c91cd['fontSize'](0xa)['text'](_0x3e630f(0x183),_0x20e9f8,_0x405710+=0x19),_0x4c91cd[_0x3e630f(0x190)](0xa)['text']('\x20'['repeat'](0x3c),_0x20e9f8+0x3e,_0x405710,{'underline':!![]}),_0x4c91cd[_0x3e630f(0x190)](0xa)['text'](_0x3e630f(0x1b4),_0x20e9f8,_0x405710+=0x32),_0x4c91cd[_0x3e630f(0x190)](0xa)[_0x3e630f(0x151)](_0x3e630f(0x132),_0x20e9f8+0x3c,_0x405710,{'underline':!![]}),_0x4c91cd[_0x3e630f(0x190)](0xa)[_0x3e630f(0x151)](_0x3e630f(0x113),_0x20e9f8+0x3c,_0x405710+0xc);let _0x3f374e=_0x4c91cd[_0x3e630f(0x152)]();for(let _0x263e4a=0x0;_0x263e4a<_0x3f374e['count'];_0x263e4a++){_0x4c91cd[_0x3e630f(0x1c5)](_0x263e4a);let _0x34d350=_0x4c91cd[_0x3e630f(0x15f)][_0x3e630f(0x1af)][_0x3e630f(0x117)];_0x4c91cd[_0x3e630f(0x15f)][_0x3e630f(0x1af)][_0x3e630f(0x117)]=0x0,_0x4c91cd[_0x3e630f(0x151)](_0x3e630f(0x178)+(_0x263e4a+0x1)+_0x3e630f(0x165)+_0x3f374e[_0x3e630f(0x10d)],0x0,_0x4c91cd[_0x3e630f(0x15f)][_0x3e630f(0x1a0)]-_0x34d350/0x2,{'align':_0x3e630f(0x1dc)}),_0x4c91cd[_0x3e630f(0x15f)][_0x3e630f(0x1af)][_0x3e630f(0x117)]=_0x34d350;}const _0x191332=_0x4c91cd['y'],_0x2f6dff=_0x4c91cd['x'];_0x4c91cd[_0x3e630f(0x1c6)]();}catch(_0x274da7){console[_0x3e630f(0x19f)](_0x274da7),_0x247c90[_0x3e630f(0x169)](0x1f4)[_0x3e630f(0x18c)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get']('/PDF_transfer/:id',auth,async(_0x12305e,_0x5b202f)=>{const _0x2c8b32=a0_0x2768ef;try{const {username:_0x516144,email:_0x31700e,role:_0xf71476}=_0x12305e[_0x2c8b32(0x141)],_0x370cb7=_0x12305e[_0x2c8b32(0x141)],_0x115a04=await profile[_0x2c8b32(0x1a7)]({'email':_0x370cb7[_0x2c8b32(0x19c)]}),_0x2f8eeb=await master_shop[_0x2c8b32(0x175)](),_0x5ae6a8=_0x12305e['params']['id'],_0x2ba083=await transfers_finished['findById'](_0x5ae6a8);var _0x505703,_0x56c028;_0x505703='Picking\x20List',_0x56c028='(STOCKS\x20TRANSFER)';_0x2ba083[_0x2c8b32(0x139)]==_0x2c8b32(0x1ac)&&(_0x505703=_0x2c8b32(0x1aa),_0x56c028='');const _0x2ba4cd=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5b202f[_0x2c8b32(0x119)]('Content-disposition','inline;\x20filename=\x22OUT-'+_0x5ae6a8+_0x2c8b32(0x162)),_0x5b202f[_0x2c8b32(0x119)](_0x2c8b32(0x106),_0x2c8b32(0x1ba));var _0x4ff1e4=0x14,_0x4fbb1c=0x3c;_0x2ba4cd[_0x2c8b32(0x163)](_0x5b202f),_0x2ba4cd[_0x2c8b32(0x128)]('./public/upload/'+_0x2f8eeb[0x0][_0x2c8b32(0x128)],0x14,0x0,{'fit':[0x64,0x64]}),_0x2ba4cd[_0x2c8b32(0x190)](0x14)[_0x2c8b32(0x151)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x4ff1e4,_0x4fbb1c),_0x2ba4cd['fontSize'](0xa)[_0x2c8b32(0x151)](_0x2c8b32(0x19d),_0x4ff1e4,_0x4fbb1c+=0xf),_0x2ba4cd[_0x2c8b32(0x190)](0xf)[_0x2c8b32(0x151)](_0x505703,_0x4ff1e4,_0x4fbb1c+=0x32),_0x2ba4cd[_0x2c8b32(0x190)](0xa)[_0x2c8b32(0x151)](_0x56c028,_0x4ff1e4,_0x4fbb1c+=0x14),_0x2ba4cd[_0x2c8b32(0x190)](0x9)[_0x2c8b32(0x151)]('From\x20Warehouse\x20',_0x4ff1e4,_0x4fbb1c+=0x28),_0x2ba4cd[_0x2c8b32(0x190)](0x9)[_0x2c8b32(0x151)]('\x20\x20\x20:\x20'+_0x2ba083[_0x2c8b32(0x142)],_0x4ff1e4+0x3f,_0x4fbb1c),_0x2ba4cd[_0x2c8b32(0x190)](0x9)[_0x2c8b32(0x151)](_0x2c8b32(0x1b1),_0x4ff1e4,_0x4fbb1c+=0xf),_0x2ba4cd[_0x2c8b32(0x190)](0x9)[_0x2c8b32(0x151)](_0x2c8b32(0x1d3)+_0x2ba083[_0x2c8b32(0x12a)],_0x4ff1e4+0x3f,_0x4fbb1c),_0x2ba4cd[_0x2c8b32(0x190)](0x9)[_0x2c8b32(0x151)]('Date\x20',_0x4ff1e4,_0x4fbb1c+=0xb),_0x2ba4cd[_0x2c8b32(0x190)](0x9)[_0x2c8b32(0x151)](_0x2c8b32(0x1d3)+_0x2ba083[_0x2c8b32(0x140)],_0x4ff1e4+0x3f,_0x4fbb1c),_0x2ba4cd[_0x2c8b32(0x190)](0x9)[_0x2c8b32(0x151)](_0x2c8b32(0x14c),_0x4ff1e4,_0x4fbb1c+=0xb),_0x2ba4cd['fontSize'](0x9)['text']('\x20\x20\x20:\x20'+_0x2ba083[_0x2c8b32(0x174)],_0x4ff1e4+0x3f,_0x4fbb1c);const _0x41cc3b={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':'\x20\x20FROM','property':_0x2c8b32(0x131),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x2c8b32(0x107),'property':_0x2c8b32(0x170),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x2ba4cd[_0x2c8b32(0x1d4)](_0x41cc3b,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x2ba4cd[_0x2c8b32(0x172)](_0x2c8b32(0x10e))[_0x2c8b32(0x190)](0x8),'prepareRow':(_0xe871ac,_0x4d5c67,_0x555fdb,_0x3f2659)=>_0x2ba4cd[_0x2c8b32(0x172)](_0x2c8b32(0x14d))[_0x2c8b32(0x190)](0x8)});const _0xd87644={'headers':[{'label':_0x2c8b32(0x17c),'property':_0x2c8b32(0x131),'width':0x3c,'renderer':null},{'label':_0x2c8b32(0x17d),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x2c8b32(0x138),'property':'qty','width':0x28,'renderer':null},{'label':_0x2c8b32(0x181),'property':_0x2c8b32(0x1c3),'width':0x37,'renderer':null},{'label':'Production\x20Date','property':_0x2c8b32(0x14f),'width':0x4b,'renderer':null},{'label':_0x2c8b32(0x14b),'property':_0x2c8b32(0x150),'width':0x3f,'renderer':null},{'label':_0x2c8b32(0x12f),'property':_0x2c8b32(0x1a6),'width':0x3f,'renderer':null},{'label':_0x2c8b32(0x12f),'property':_0x2c8b32(0x196),'width':0x3f,'renderer':null}],'datas':[]};var _0x205d8b=0x0;let _0x443612='';var _0x77b61f=0x0;if(_0x2ba083['from_warehouse']=='DRY\x20GOODS')_0x443612='DG';else _0x2ba083[_0x2c8b32(0x142)]==_0x2c8b32(0x124)&&(_0x443612='FG');_0x2ba083['product'][_0x2c8b32(0x134)](_0x4e1262=>{const _0x2bf9f4=_0x2c8b32;var _0x48bb65=_0x4e1262[_0x2bf9f4(0x18d)],_0xdb9a0d,_0x28901a;_0xdb9a0d=_0x4e1262[_0x2bf9f4(0x1c3)],_0x28901a=_0x4e1262[_0x2bf9f4(0x1b5)];_0x48bb65=='S'&&(_0xdb9a0d=_0x4e1262[_0x2bf9f4(0x11c)],_0x28901a=_0x4e1262['to_quantity']*_0x4e1262['maxPerUnit']);const _0x47213b={'itemcode':_0x4e1262[_0x2bf9f4(0x15b)],'itemdescription':_0x4e1262[_0x2bf9f4(0x1ca)],'qty':_0x28901a,'unit':_0xdb9a0d,'proddate':_0x4e1262[_0x2bf9f4(0x1e2)],'batchno':_0x4e1262[_0x2bf9f4(0x10a)],'binloc':_0x443612+_0x4e1262[_0x2bf9f4(0x15c)],'qtyFrom':_0x4e1262[_0x2bf9f4(0x1b2)],'binlocFrom':_0x443612+_0x4e1262[_0x2bf9f4(0x185)]};_0x205d8b+=_0x28901a,_0xd87644[_0x2bf9f4(0x164)]['push'](_0x47213b);}),_0x2ba4cd[_0x2c8b32(0x1d4)](_0xd87644,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x2ba4cd[_0x2c8b32(0x172)](_0x2c8b32(0x10e))['fontSize'](0x8),'prepareRow':(_0x3eaddf,_0x40bc25,_0x2226ce,_0x4220b7)=>_0x2ba4cd['font'](_0x2c8b32(0x14d))[_0x2c8b32(0x190)](0x8)});var _0x395662=_0x2ba4cd['y'],_0x3639f0=_0x2ba4cd['x'];_0x2ba4cd['fontSize'](0xa)[_0x2c8b32(0x151)](_0x2c8b32(0x17b),_0x3639f0+0x7d,_0x395662),_0x2ba4cd[_0x2c8b32(0x190)](0xa)[_0x2c8b32(0x151)]('TOTAL\x20QTY:\x20',_0x3639f0,_0x395662+=0x15e),_0x2ba4cd[_0x2c8b32(0x190)](0xa)['text'](_0x205d8b,_0x3639f0+0xd7,_0x395662,{'underline':!![]}),_0x2ba4cd[_0x2c8b32(0x190)](0xa)[_0x2c8b32(0x151)](_0x2c8b32(0x183),_0x3639f0,_0x395662+=0x19),_0x2ba4cd[_0x2c8b32(0x190)](0xa)['text']('\x20'[_0x2c8b32(0x158)](0x3c),_0x3639f0+0x3e,_0x395662,{'underline':!![]}),_0x2ba4cd[_0x2c8b32(0x190)](0xa)[_0x2c8b32(0x151)]('Checked\x20By:\x20',_0x3639f0,_0x395662+=0x32),_0x2ba4cd[_0x2c8b32(0x190)](0xa)[_0x2c8b32(0x151)](_0x2c8b32(0x132),_0x3639f0+0x3c,_0x395662,{'underline':!![]}),_0x2ba4cd['fontSize'](0xa)[_0x2c8b32(0x151)](_0x2c8b32(0x113),_0x3639f0+0x3c,_0x395662+0xc);let _0xf5c782=_0x2ba4cd[_0x2c8b32(0x152)]();for(let _0x124249=0x0;_0x124249<_0xf5c782['count'];_0x124249++){_0x2ba4cd[_0x2c8b32(0x1c5)](_0x124249);let _0x55aca6=_0x2ba4cd['page'][_0x2c8b32(0x1af)][_0x2c8b32(0x117)];_0x2ba4cd[_0x2c8b32(0x15f)][_0x2c8b32(0x1af)][_0x2c8b32(0x117)]=0x0,_0x2ba4cd[_0x2c8b32(0x151)](_0x2c8b32(0x178)+(_0x124249+0x1)+_0x2c8b32(0x165)+_0xf5c782[_0x2c8b32(0x10d)],0x0,_0x2ba4cd[_0x2c8b32(0x15f)][_0x2c8b32(0x1a0)]-_0x55aca6/0x2,{'align':_0x2c8b32(0x1dc)}),_0x2ba4cd[_0x2c8b32(0x15f)][_0x2c8b32(0x1af)]['bottom']=_0x55aca6;}const _0x143fd8=_0x2ba4cd['y'],_0x254027=_0x2ba4cd['x'];_0x2ba4cd[_0x2c8b32(0x1c6)]();}catch(_0x4d02db){console['log'](_0x4d02db),_0x5b202f[_0x2c8b32(0x169)](0x1f4)[_0x2c8b32(0x18c)](_0x2c8b32(0x11a));}}),router[a0_0x2768ef(0x116)](a0_0x2768ef(0x1b7),auth,async(_0x490413,_0x1af0f2)=>{const _0x153e4e=a0_0x2768ef;try{const {username:_0x43a80f,email:_0x353dad,role:_0x472732}=_0x490413[_0x153e4e(0x141)],_0x543d3b=_0x490413[_0x153e4e(0x141)],_0x1d81ca=await profile[_0x153e4e(0x1a7)]({'email':_0x543d3b[_0x153e4e(0x19c)]}),_0x4ada84=await master_shop['find'](),_0x189c28=_0x490413['params']['id'],_0x530801=await adjustment_finished[_0x153e4e(0x1df)](_0x189c28);var _0x1779a6,_0x12b367;_0x1779a6=_0x153e4e(0x1bf),_0x12b367=_0x153e4e(0x160);_0x530801['finalize']==_0x153e4e(0x1ac)&&(_0x1779a6='INVENTORY\x20ADJUSTMENT',_0x12b367='');const _0xbaa252=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1af0f2[_0x153e4e(0x119)](_0x153e4e(0x184),_0x153e4e(0x1a3)+_0x189c28+_0x153e4e(0x162)),_0x1af0f2['setHeader'](_0x153e4e(0x106),'application/pdf');var _0x5221c1=0x14,_0x26b0fe=0x3c;_0xbaa252[_0x153e4e(0x163)](_0x1af0f2),_0xbaa252[_0x153e4e(0x128)](_0x153e4e(0x147)+_0x4ada84[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0xbaa252[_0x153e4e(0x190)](0x14)['text'](_0x153e4e(0x18b),_0x5221c1,_0x26b0fe),_0xbaa252['fontSize'](0xa)['text'](_0x153e4e(0x19d),_0x5221c1,_0x26b0fe+=0xf),_0xbaa252[_0x153e4e(0x190)](0xf)[_0x153e4e(0x151)](_0x1779a6,_0x5221c1,_0x26b0fe+=0x32),_0xbaa252['fontSize'](0xa)[_0x153e4e(0x151)](_0x12b367,_0x5221c1,_0x26b0fe+=0x14),_0xbaa252['fontSize'](0x9)[_0x153e4e(0x151)](_0x153e4e(0x1d5),_0x5221c1,_0x26b0fe+=0x28),_0xbaa252['fontSize'](0x9)['text'](_0x153e4e(0x180)+_0x530801['warehouse_name'],_0x5221c1+0x3f,_0x26b0fe),_0xbaa252['fontSize'](0x9)[_0x153e4e(0x151)](_0x153e4e(0x1d7),_0x5221c1,_0x26b0fe+=0xb),_0xbaa252[_0x153e4e(0x190)](0x9)[_0x153e4e(0x151)](_0x153e4e(0x180)+_0x530801['date'],_0x5221c1+0x3f,_0x26b0fe),_0xbaa252[_0x153e4e(0x190)](0x9)[_0x153e4e(0x151)]('Control\x20Number\x20',_0x5221c1,_0x26b0fe+=0xb),_0xbaa252['fontSize'](0x9)[_0x153e4e(0x151)](_0x153e4e(0x180)+_0x530801[_0x153e4e(0x174)],_0x5221c1+0x3f,_0x26b0fe);const _0x4ec736={'headers':[{'label':'Item\x20Code','property':_0x153e4e(0x131),'width':0x3c,'renderer':null},{'label':_0x153e4e(0x17d),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x153e4e(0x138),'property':_0x153e4e(0x157),'width':0x3c,'renderer':null},{'label':_0x153e4e(0x181),'property':_0x153e4e(0x1c3),'width':0x3c,'renderer':null},{'label':_0x153e4e(0x12c),'property':'proddate','width':0x50,'renderer':null},{'label':_0x153e4e(0x14b),'property':'batchno','width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x153e4e(0x196),'width':0x3f,'renderer':null}],'datas':[]};var _0x37d6ec=0x0;let _0x38ade1='';var _0x22ddc0=0x0;_0x530801[_0x153e4e(0x1ad)]==_0x153e4e(0x1e0)?_0x38ade1='DG':_0x38ade1='FG';_0x530801[_0x153e4e(0x1d6)][_0x153e4e(0x134)](_0x4d1028=>{const _0x796f56=_0x153e4e;console[_0x796f56(0x19f)](_0x4d1028);var _0x475780=_0x4d1028[_0x796f56(0x18d)],_0x4c350c,_0x43128b;_0x4c350c=_0x4d1028[_0x796f56(0x1c3)],_0x43128b=_0x4d1028[_0x796f56(0x123)];_0x475780=='S'&&(_0x4c350c=_0x4d1028[_0x796f56(0x11c)],_0x43128b=_0x4d1028[_0x796f56(0x123)]*_0x4d1028[_0x796f56(0x16b)]);const _0x426ea9={'itemcode':_0x4d1028[_0x796f56(0x15b)],'itemdescription':_0x4d1028[_0x796f56(0x1ca)],'qty':_0x43128b,'unit':_0x4c350c,'proddate':_0x4d1028[_0x796f56(0x1e2)],'batchno':_0x4d1028['batch_code'],'binloc':_0x38ade1+_0x4d1028[_0x796f56(0x166)]};_0x37d6ec+=_0x43128b,_0x4ec736[_0x796f56(0x164)]['push'](_0x426ea9);}),_0xbaa252[_0x153e4e(0x1d4)](_0x4ec736,{'x':0x14,'y':0x118,'prepareHeader':()=>_0xbaa252[_0x153e4e(0x172)]('Helvetica-Bold')[_0x153e4e(0x190)](0x8),'prepareRow':(_0x217c44,_0x30c2b3,_0x3d59db,_0x39a1b8)=>_0xbaa252[_0x153e4e(0x172)](_0x153e4e(0x14d))[_0x153e4e(0x190)](0x8)});var _0x16eda6=_0xbaa252['y'],_0x490fcb=_0xbaa252['x'];_0xbaa252[_0x153e4e(0x190)](0xa)[_0x153e4e(0x151)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x490fcb+0x7d,_0x16eda6),_0xbaa252[_0x153e4e(0x190)](0xa)[_0x153e4e(0x151)](_0x153e4e(0x19b),_0x490fcb,_0x16eda6+=0x15e),_0xbaa252[_0x153e4e(0x190)](0xa)[_0x153e4e(0x151)](_0x37d6ec,_0x490fcb+0xc8,_0x16eda6),_0xbaa252[_0x153e4e(0x190)](0xa)[_0x153e4e(0x151)](_0x153e4e(0x183),_0x490fcb,_0x16eda6+=0x19),_0xbaa252['fontSize'](0xa)[_0x153e4e(0x151)]('\x20'[_0x153e4e(0x158)](0x3c),_0x490fcb+0x3e,_0x16eda6,{'underline':!![]}),_0xbaa252[_0x153e4e(0x190)](0xa)[_0x153e4e(0x151)](_0x153e4e(0x11e),_0x490fcb,_0x16eda6+=0x32),_0xbaa252[_0x153e4e(0x190)](0xa)[_0x153e4e(0x151)](_0x153e4e(0x180),_0x490fcb+0x37,_0x16eda6),_0xbaa252[_0x153e4e(0x190)](0xa)['text'](_0x153e4e(0x132),_0x490fcb+0x3c,_0x16eda6,{'underline':!![]}),_0xbaa252['fontSize'](0xa)[_0x153e4e(0x151)](_0x153e4e(0x113),_0x490fcb+0x3c,_0x16eda6+0xc);let _0xe3a3b2=_0xbaa252[_0x153e4e(0x152)]();for(let _0x5397b6=0x0;_0x5397b6<_0xe3a3b2['count'];_0x5397b6++){_0xbaa252[_0x153e4e(0x1c5)](_0x5397b6);let _0x50a9b6=_0xbaa252['page']['margins']['bottom'];_0xbaa252[_0x153e4e(0x15f)][_0x153e4e(0x1af)][_0x153e4e(0x117)]=0x0,_0xbaa252[_0x153e4e(0x151)](_0x153e4e(0x178)+(_0x5397b6+0x1)+_0x153e4e(0x165)+_0xe3a3b2[_0x153e4e(0x10d)],0x0,_0xbaa252['page'][_0x153e4e(0x1a0)]-_0x50a9b6/0x2,{'align':'center'}),_0xbaa252[_0x153e4e(0x15f)]['margins'][_0x153e4e(0x117)]=_0x50a9b6;}const _0x5b89c4=_0xbaa252['y'],_0x5487d2=_0xbaa252['x'];_0xbaa252[_0x153e4e(0x1c6)]();}catch(_0x2db8ac){console['log'](_0x2db8ac),_0x1af0f2[_0x153e4e(0x169)](0x1f4)[_0x153e4e(0x18c)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x2768ef(0x116)](a0_0x2768ef(0x120),auth,async(_0x163950,_0x1f368e)=>{const _0xd67e62=a0_0x2768ef;try{const {username:_0x2ae029,email:_0x147e1a,role:_0x15486c}=_0x163950[_0xd67e62(0x141)],_0x396d23=_0x163950[_0xd67e62(0x141)],_0x418056=await profile['findOne']({'email':_0x396d23[_0xd67e62(0x19c)]}),_0x3188e2=await master_shop['find'](),_0x2f7368=_0x163950['params']['id'],_0x170b71=await purchases_finished[_0xd67e62(0x1df)](_0x2f7368),_0x31df11=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1f368e[_0xd67e62(0x119)]('Content-disposition','inline;\x20filename=\x22OUT-'+_0x2f7368+_0xd67e62(0x162)),_0x1f368e[_0xd67e62(0x119)]('Content-type',_0xd67e62(0x1ba));var _0x478d69=0x14,_0x39bb89=0x3c;_0x31df11[_0xd67e62(0x163)](_0x1f368e),_0x31df11[_0xd67e62(0x128)]('./public/upload/'+_0x3188e2[0x0][_0xd67e62(0x128)],0x14,0x0,{'fit':[0x64,0x64]}),_0x31df11[_0xd67e62(0x190)](0x14)[_0xd67e62(0x151)](_0xd67e62(0x18b),_0x478d69,_0x39bb89),_0x31df11['fontSize'](0xa)[_0xd67e62(0x151)](_0xd67e62(0x19d),_0x478d69,_0x39bb89+=0xf),_0x31df11['fontSize'](0xf)[_0xd67e62(0x151)](_0xd67e62(0x1c4),_0x478d69,_0x39bb89+=0x32),_0x31df11[_0xd67e62(0x190)](0xa)[_0xd67e62(0x151)]('(INCOMING)',_0x478d69,_0x39bb89+=0x14),_0x31df11['fontSize'](0x9)['text']('Warehouse\x20',_0x478d69,_0x39bb89+=0x28),_0x31df11[_0xd67e62(0x190)](0x9)[_0xd67e62(0x151)](_0xd67e62(0x180)+_0x170b71['warehouse_name'],_0x478d69+0x3f,_0x39bb89),_0x31df11[_0xd67e62(0x190)](0x9)['text'](_0xd67e62(0x145)+_0x170b71['POnumber'],_0x478d69+0x17c,_0x39bb89),_0x31df11[_0xd67e62(0x190)](0x9)[_0xd67e62(0x151)](_0xd67e62(0x1d7),_0x478d69,_0x39bb89+=0xb),_0x31df11[_0xd67e62(0x190)](0x9)[_0xd67e62(0x151)](_0xd67e62(0x180)+_0x170b71['date'],_0x478d69+0x3f,_0x39bb89),_0x31df11[_0xd67e62(0x190)](0x9)[_0xd67e62(0x151)](_0xd67e62(0x14c),_0x478d69,_0x39bb89+=0xb),_0x31df11[_0xd67e62(0x190)](0x9)[_0xd67e62(0x151)](_0xd67e62(0x180)+_0x170b71[_0xd67e62(0x174)],_0x478d69+0x3f,_0x39bb89);const _0x4553b1={'headers':[{'label':'Item\x20Code','property':_0xd67e62(0x131),'width':0x3c,'renderer':null},{'label':_0xd67e62(0x17d),'property':_0xd67e62(0x170),'width':0xc8,'renderer':null},{'label':_0xd67e62(0x138),'property':_0xd67e62(0x157),'width':0x3c,'renderer':null},{'label':'UOM','property':_0xd67e62(0x1c3),'width':0x3c,'renderer':null},{'label':_0xd67e62(0x137),'property':_0xd67e62(0x13b),'width':0x50,'renderer':null},{'label':_0xd67e62(0x14b),'property':_0xd67e62(0x150),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0xd67e62(0x196),'width':0x3f,'renderer':null}],'datas':[]};var _0x42ae6c=0x0;let _0x4adee5='';_0x170b71['warehouse_name']=='DRY\x20GOODS'?_0x4adee5='DG':_0x4adee5='FG';_0x170b71['product']['forEach'](_0x240f0c=>{const _0x23914d=_0xd67e62;let _0x1a5bc5='';var _0x3bf551=0x0;const _0x11bba6={'itemcode':_0x240f0c['product_code'],'itemdescription':_0x240f0c[_0x23914d(0x1ca)],'qty':_0x240f0c['quantity'],'unit':_0x240f0c[_0x23914d(0x1a9)],'expdate':_0x240f0c[_0x23914d(0x12e)],'batchno':_0x240f0c[_0x23914d(0x10a)],'binloc':_0x4adee5+_0x240f0c[_0x23914d(0x166)]};_0x42ae6c+=_0x240f0c['quantity'],_0x4553b1[_0x23914d(0x164)][_0x23914d(0x1a5)](_0x11bba6);}),_0x31df11[_0xd67e62(0x1d4)](_0x4553b1,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x31df11[_0xd67e62(0x172)](_0xd67e62(0x10e))[_0xd67e62(0x190)](0x8),'prepareRow':(_0x1263cb,_0x1e67d9,_0x4f8370,_0x18ffbe)=>_0x31df11[_0xd67e62(0x172)](_0xd67e62(0x14d))[_0xd67e62(0x190)](0x8)});var _0x26294a=_0x31df11['y'],_0x3790ef=_0x31df11['x'];_0x31df11[_0xd67e62(0x190)](0xa)[_0xd67e62(0x151)](_0xd67e62(0x17b),_0x3790ef+0x7d,_0x26294a),_0x31df11[_0xd67e62(0x190)](0xa)[_0xd67e62(0x151)](_0xd67e62(0x14a),_0x3790ef,_0x26294a+=0x15e),_0x31df11[_0xd67e62(0x190)](0xa)['text'](_0x42ae6c,_0x3790ef+0xfa,_0x26294a),_0x31df11[_0xd67e62(0x190)](0xa)[_0xd67e62(0x151)](_0xd67e62(0x1c9),_0x3790ef,_0x26294a+=0x19),_0x31df11[_0xd67e62(0x190)](0xa)[_0xd67e62(0x151)](_0xd67e62(0x1bc),_0x3790ef+0x37,_0x26294a,{'underline':!![]}),_0x31df11[_0xd67e62(0x190)](0xa)[_0xd67e62(0x151)](_0xd67e62(0x176),_0x3790ef,_0x26294a+0x32),_0x31df11[_0xd67e62(0x190)](0xa)[_0xd67e62(0x151)](_0xd67e62(0x132),_0x3790ef+0x32,_0x26294a+0x32,{'underline':!![]}),_0x31df11['fontSize'](0xa)[_0xd67e62(0x151)](_0xd67e62(0x113),_0x3790ef+0x32,_0x26294a+0x3c);let _0x71ee70=_0x31df11[_0xd67e62(0x152)]();for(let _0x2f215c=0x0;_0x2f215c<_0x71ee70[_0xd67e62(0x10d)];_0x2f215c++){_0x31df11['switchToPage'](_0x2f215c);let _0x16fc21=_0x31df11[_0xd67e62(0x15f)]['margins'][_0xd67e62(0x117)];_0x31df11[_0xd67e62(0x15f)]['margins'][_0xd67e62(0x117)]=0x0,_0x31df11[_0xd67e62(0x151)](_0xd67e62(0x178)+(_0x2f215c+0x1)+_0xd67e62(0x165)+_0x71ee70['count'],0x0,_0x31df11[_0xd67e62(0x15f)][_0xd67e62(0x1a0)]-_0x16fc21/0x2,{'align':_0xd67e62(0x1dc)}),_0x31df11[_0xd67e62(0x15f)][_0xd67e62(0x1af)][_0xd67e62(0x117)]=_0x16fc21;}const _0x28c919=_0x31df11['y'],_0x94903e=_0x31df11['x'];_0x31df11['end']();}catch(_0x5aa806){console[_0xd67e62(0x19f)](_0x5aa806),_0x1f368e['status'](0x1f4)[_0xd67e62(0x18c)](_0xd67e62(0x11a));}}),router[a0_0x2768ef(0x116)](a0_0x2768ef(0x13d),auth,async(_0x5aaf65,_0x379074)=>{const _0x5217f6=a0_0x2768ef;try{const {username:_0xd19a60,email:_0x43b918,role:_0x2e8419}=_0x5aaf65[_0x5217f6(0x141)],_0xf1e78c=_0x5aaf65[_0x5217f6(0x141)],_0x468202=await profile[_0x5217f6(0x1a7)]({'email':_0xf1e78c[_0x5217f6(0x19c)]}),_0xd5abdc=await master_shop[_0x5217f6(0x175)](),_0x4dd079=_0x5aaf65[_0x5217f6(0x16e)]['id'],_0x257a4d=await sales_return_finished[_0x5217f6(0x1df)](_0x4dd079),_0x518406=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x379074[_0x5217f6(0x119)](_0x5217f6(0x184),_0x5217f6(0x1a3)+_0x4dd079+_0x5217f6(0x162)),_0x379074[_0x5217f6(0x119)](_0x5217f6(0x106),'application/pdf');var _0x39eb26=0x14,_0x2a592d=0x64;_0x518406[_0x5217f6(0x163)](_0x379074),_0x518406[_0x5217f6(0x128)](_0x5217f6(0x147)+_0xd5abdc[0x0][_0x5217f6(0x128)],0x14,0x0,{'fit':[0x64,0x64]}),_0x518406[_0x5217f6(0x190)](0x14)[_0x5217f6(0x151)](_0x5217f6(0x18b),_0x39eb26,_0x2a592d),_0x518406[_0x5217f6(0x190)](0xa)[_0x5217f6(0x151)](_0x5217f6(0x19d),_0x39eb26,_0x2a592d+=0xf),_0x518406[_0x5217f6(0x190)](0xf)[_0x5217f6(0x151)](_0x5217f6(0x1bf),_0x39eb26,_0x2a592d+=0x32),_0x518406[_0x5217f6(0x190)](0xa)[_0x5217f6(0x151)](_0x5217f6(0x121),_0x39eb26,_0x2a592d+=0x1e),_0x518406['fontSize'](0x9)[_0x5217f6(0x151)](_0x5217f6(0x13e)+_0x257a4d['ToWarehouse'],_0x39eb26,_0x2a592d+=0x28),_0x518406[_0x5217f6(0x190)](0x9)[_0x5217f6(0x151)]('Customer\x20:\x20'+_0x257a4d[_0x5217f6(0x1bd)],0x190,0xd2,{'underline':!![]}),_0x518406[_0x5217f6(0x190)](0x9)['text']('Pick\x20By\x20:\x20',_0x39eb26,_0x2a592d+=0xb),_0x518406[_0x5217f6(0x190)](0x9)[_0x5217f6(0x151)](_0x5217f6(0x17f)+_0x257a4d[_0x5217f6(0x140)],_0x39eb26,_0x2a592d+=0xb),_0x518406[_0x5217f6(0x190)](0x9)[_0x5217f6(0x151)](_0x5217f6(0x125)+_0x257a4d[_0x5217f6(0x174)],_0x39eb26,_0x2a592d+=0xb);var _0x1b3d82='',_0xa3d2de='',_0x35bd3c=0x0,_0x42efc4;console[_0x5217f6(0x19f)](_0x257a4d['warehouse_cat']);_0x257a4d['warehouse_cat']=='GS'?(_0x257a4d['warehouse_name']=='DRY\x20GOODS'?warecode='DG':warecode='FG',_0x1b3d82={'headers':[{'label':_0x5217f6(0x17c),'property':_0x5217f6(0x131),'width':0x3c,'renderer':null},{'label':_0x5217f6(0x17d),'property':_0x5217f6(0x170),'width':0xc8,'renderer':null},{'label':_0x5217f6(0x138),'property':_0x5217f6(0x157),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x5217f6(0x1c3),'width':0x3c,'renderer':null},{'label':_0x5217f6(0x137),'property':_0x5217f6(0x13b),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x5217f6(0x150),'width':0x3f,'renderer':null},{'label':_0x5217f6(0x12f),'property':_0x5217f6(0x196),'width':0x3f,'renderer':null}],'datas':[]},_0x257a4d[_0x5217f6(0x12d)][_0x5217f6(0x134)](_0x4dca42=>{const _0x367f0a=_0x5217f6;let _0x546a12='';var _0x48715f=0x0;_0xa3d2de={'itemcode':_0x4dca42[_0x367f0a(0x15b)],'itemdescription':_0x4dca42[_0x367f0a(0x1ca)],'qty':_0x4dca42[_0x367f0a(0x130)],'unit':_0x4dca42['unit'],'expdate':_0x4dca42[_0x367f0a(0x12e)],'batchno':_0x4dca42[_0x367f0a(0x10a)],'binloc':warecode+_0x4dca42[_0x367f0a(0x166)]},_0x35bd3c+=_0x4dca42[_0x367f0a(0x130)],console['log'](_0x4dca42),_0x1b3d82[_0x367f0a(0x164)]['push'](_0xa3d2de);})):(_0x1b3d82={'headers':[{'label':_0x5217f6(0x17c),'property':_0x5217f6(0x131),'width':0x3c,'renderer':null},{'label':_0x5217f6(0x17d),'property':_0x5217f6(0x170),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x5217f6(0x157),'width':0x3c,'renderer':null},{'label':_0x5217f6(0x181),'property':_0x5217f6(0x1c3),'width':0x3c,'renderer':null},{'label':_0x5217f6(0x137),'property':_0x5217f6(0x13b),'width':0x50,'renderer':null},{'label':_0x5217f6(0x14b),'property':_0x5217f6(0x150),'width':0x3f,'renderer':null}],'datas':[]},_0x257a4d[_0x5217f6(0x1b8)]['forEach'](_0x22f053=>{const _0x403a8c=_0x5217f6;let _0x24bb76='';var _0x1257f8=0x0;_0xa3d2de={'itemcode':_0x22f053[_0x403a8c(0x15b)],'itemdescription':_0x22f053[_0x403a8c(0x1ca)],'qty':_0x22f053[_0x403a8c(0x130)],'unit':_0x22f053[_0x403a8c(0x1c3)],'expdate':_0x22f053['expiry_date'],'batchno':_0x22f053[_0x403a8c(0x10a)]},_0x35bd3c+=_0x22f053[_0x403a8c(0x130)],console['log'](_0x35bd3c+'\x20<>\x20'+_0x22f053[_0x403a8c(0x130)]),_0x1b3d82[_0x403a8c(0x164)]['push'](_0xa3d2de);}));_0x518406[_0x5217f6(0x1d4)](_0x1b3d82,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x518406[_0x5217f6(0x172)](_0x5217f6(0x10e))['fontSize'](0x8),'prepareRow':(_0x10e97c,_0x15eec1,_0x46b2a8,_0x35e0bf)=>_0x518406[_0x5217f6(0x172)](_0x5217f6(0x14d))[_0x5217f6(0x190)](0x8)});var _0x2650e2=_0x518406['y'],_0x20a2b5=_0x518406['x'];_0x518406['fontSize'](0xa)[_0x5217f6(0x151)](_0x5217f6(0x17b),_0x20a2b5+0x7d,_0x2650e2),_0x518406[_0x5217f6(0x190)](0xa)[_0x5217f6(0x151)](_0x5217f6(0x14a),_0x20a2b5,_0x2650e2+=0x190),_0x518406['fontSize'](0xa)[_0x5217f6(0x151)](_0x35bd3c,_0x20a2b5+0x37,_0x2650e2,{'underline':!![]}),_0x518406[_0x5217f6(0x190)](0xa)[_0x5217f6(0x151)](_0x5217f6(0x192),_0x20a2b5,_0x2650e2+0x1e),_0x518406[_0x5217f6(0x190)](0xa)[_0x5217f6(0x151)](_0x5217f6(0x17e),_0x20a2b5+0x32,_0x2650e2+0x1e,{'underline':!![]});let _0x150ecd=_0x518406[_0x5217f6(0x152)]();for(let _0x14807a=0x0;_0x14807a<_0x150ecd[_0x5217f6(0x10d)];_0x14807a++){_0x518406[_0x5217f6(0x1c5)](_0x14807a);let _0x522d39=_0x518406['page'][_0x5217f6(0x1af)][_0x5217f6(0x117)];_0x518406['page']['margins'][_0x5217f6(0x117)]=0x0,_0x518406[_0x5217f6(0x151)](_0x5217f6(0x178)+(_0x14807a+0x1)+_0x5217f6(0x165)+_0x150ecd[_0x5217f6(0x10d)],0x0,_0x518406[_0x5217f6(0x15f)][_0x5217f6(0x1a0)]-_0x522d39/0x2,{'align':'center'}),_0x518406['page'][_0x5217f6(0x1af)][_0x5217f6(0x117)]=_0x522d39;}const _0xe9e86d=_0x518406['y'],_0x54f93b=_0x518406['x'];_0x518406[_0x5217f6(0x1c6)]();}catch(_0x3e1eee){console[_0x5217f6(0x19f)](_0x3e1eee),_0x379074[_0x5217f6(0x169)](0x1f4)[_0x5217f6(0x18c)](_0x5217f6(0x11a));}}),router[a0_0x2768ef(0x116)](a0_0x2768ef(0x129),auth,async(_0x5efca3,_0x4d5d49)=>{const _0x16224b=a0_0x2768ef;try{const {username:_0x4cb237,email:_0x46b77d,role:_0x10a4b0}=_0x5efca3[_0x16224b(0x141)],_0x5ea592=_0x5efca3[_0x16224b(0x141)],_0x463939=await profile[_0x16224b(0x1a7)]({'email':_0x5ea592[_0x16224b(0x19c)]}),_0x3ce442=await master_shop[_0x16224b(0x175)](),_0x1d4607=_0x5efca3['params']['id'],_0x1b76e8=await purchases[_0x16224b(0x1df)](_0x1d4607),_0x50659b=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4d5d49[_0x16224b(0x119)](_0x16224b(0x184),_0x16224b(0x1a3)+_0x1d4607+_0x16224b(0x162)),_0x4d5d49['setHeader'](_0x16224b(0x106),'application/pdf');var _0x698508=0x14,_0x25cac8=0x3c;_0x50659b[_0x16224b(0x163)](_0x4d5d49),_0x50659b[_0x16224b(0x128)](_0x16224b(0x147)+_0x3ce442[0x0][_0x16224b(0x128)],0x14,0x0,{'fit':[0x64,0x64]}),_0x50659b['fontSize'](0x14)[_0x16224b(0x151)](_0x16224b(0x18b),_0x698508,_0x25cac8),_0x50659b[_0x16224b(0x190)](0xa)[_0x16224b(0x151)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x698508,_0x25cac8+=0xf),_0x50659b['fontSize'](0xf)['text'](_0x16224b(0x1a8),_0x698508,_0x25cac8+=0x32),_0x50659b[_0x16224b(0x190)](0xa)[_0x16224b(0x151)](_0x16224b(0x112),_0x698508,_0x25cac8+=0x14),_0x50659b[_0x16224b(0x190)](0x9)[_0x16224b(0x151)](_0x16224b(0x1d5),_0x698508,_0x25cac8+=0x2d),_0x50659b['fontSize'](0x9)[_0x16224b(0x151)]('\x20:\x20'+_0x1b76e8[_0x16224b(0x1ad)],_0x698508+0x3f,_0x25cac8),_0x50659b[_0x16224b(0x190)](0x9)[_0x16224b(0x151)]('Supplier\x20:\x20'+_0x1b76e8[_0x16224b(0x16d)],_0x698508+0x17c,_0x25cac8,{'underline':!![]}),_0x50659b[_0x16224b(0x190)](0x9)[_0x16224b(0x151)](_0x16224b(0x1d7),_0x698508,_0x25cac8+=0xb),_0x50659b['fontSize'](0x9)[_0x16224b(0x151)](_0x16224b(0x180)+_0x1b76e8[_0x16224b(0x140)],_0x698508+0x3f,_0x25cac8),_0x50659b['fontSize'](0x9)['text'](_0x16224b(0x14c),_0x698508,_0x25cac8+=0xb),_0x50659b[_0x16224b(0x190)](0x9)[_0x16224b(0x151)](_0x16224b(0x180)+_0x1b76e8[_0x16224b(0x174)],_0x698508+0x3f,_0x25cac8);const _0x419aaa={'headers':[{'label':_0x16224b(0x17c),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x16224b(0x17d),'property':_0x16224b(0x170),'width':0x96,'renderer':null},{'label':_0x16224b(0x126),'property':_0x16224b(0x157),'width':0x2d,'renderer':null},{'label':_0x16224b(0x181),'property':_0x16224b(0x1c3),'width':0x3c,'renderer':null},{'label':_0x16224b(0x137),'property':_0x16224b(0x13b),'width':0x46,'renderer':null},{'label':_0x16224b(0x14b),'property':_0x16224b(0x150),'width':0x3c,'renderer':null},{'label':_0x16224b(0x12f),'property':_0x16224b(0x196),'width':0x3c,'renderer':null},{'label':_0x16224b(0x198),'property':'DelCode','width':0x3f,'renderer':null}],'datas':[]};var _0x12f79c=0x0;let _0x39b936='';_0x1b76e8[_0x16224b(0x1d6)][_0x16224b(0x134)](_0x1ffd3f=>{const _0x5a15f9=_0x16224b;let _0x4f5410='';var _0x1ac6f2=0x0;const _0x321805={'itemcode':_0x1ffd3f[_0x5a15f9(0x15b)],'itemdescription':_0x1ffd3f['product_name'],'qty':_0x1ffd3f['quantity'],'unit':_0x1ffd3f['standard_unit'],'expdate':_0x1ffd3f[_0x5a15f9(0x12e)],'batchno':_0x1ffd3f['batch_code'],'binloc':_0x1ffd3f[_0x5a15f9(0x1d9)]+_0x1ffd3f[_0x5a15f9(0x1cc)]+_0x1ffd3f[_0x5a15f9(0x166)]+_0x1ffd3f[_0x5a15f9(0x11b)]+_0x1ffd3f['type'][0x0]+_0x1ffd3f['floorlevel'],'DelCode':_0x1ffd3f[_0x5a15f9(0x111)]};_0x12f79c+=_0x1ffd3f[_0x5a15f9(0x1c1)],_0x419aaa[_0x5a15f9(0x164)]['push'](_0x321805);}),_0x50659b['table'](_0x419aaa,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x50659b['font']('Helvetica-Bold')[_0x16224b(0x190)](0x8),'prepareRow':(_0xd105dd,_0x5e2353,_0x542940,_0x3e45bf)=>_0x50659b['font'](_0x16224b(0x14d))[_0x16224b(0x190)](0x8)});var _0x4f5055=_0x50659b['y'],_0x21ad4a=_0x50659b['x'];_0x50659b['fontSize'](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x21ad4a+0x7d,_0x4f5055),_0x50659b[_0x16224b(0x190)](0xa)[_0x16224b(0x151)](_0x16224b(0x14a),_0x21ad4a,_0x4f5055+=0x15e),_0x50659b[_0x16224b(0x190)](0xa)['text'](_0x12f79c,_0x21ad4a+0xf0,_0x4f5055,{'underline':!![]}),_0x50659b[_0x16224b(0x190)](0xa)[_0x16224b(0x151)](_0x16224b(0x19a),_0x21ad4a,_0x4f5055+0x28),_0x50659b[_0x16224b(0x190)](0xa)[_0x16224b(0x151)](_0x16224b(0x1c2),_0x21ad4a+0x40,_0x4f5055+0x28,{'underline':!![]}),_0x50659b[_0x16224b(0x190)](0xa)[_0x16224b(0x151)](_0x16224b(0x1de),_0x21ad4a+0x40,_0x4f5055+0x32);let _0x28b03d=_0x50659b[_0x16224b(0x152)]();for(let _0x5a197f=0x0;_0x5a197f<_0x28b03d[_0x16224b(0x10d)];_0x5a197f++){_0x50659b['switchToPage'](_0x5a197f);let _0x1511ed=_0x50659b[_0x16224b(0x15f)]['margins']['bottom'];_0x50659b[_0x16224b(0x15f)][_0x16224b(0x1af)][_0x16224b(0x117)]=0x0,_0x50659b['text'](_0x16224b(0x178)+(_0x5a197f+0x1)+'\x20of\x20'+_0x28b03d['count'],0x0,_0x50659b[_0x16224b(0x15f)]['height']-_0x1511ed/0x2,{'align':'center'}),_0x50659b[_0x16224b(0x15f)][_0x16224b(0x1af)][_0x16224b(0x117)]=_0x1511ed;}const _0x1e8208=_0x50659b['y'],_0x26ab9d=_0x50659b['x'];_0x50659b[_0x16224b(0x1c6)]();}catch(_0x65b6fb){console[_0x16224b(0x19f)](_0x65b6fb),_0x4d5d49[_0x16224b(0x169)](0x1f4)[_0x16224b(0x18c)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x2768ef(0x116)](a0_0x2768ef(0x15d),auth,async(_0x396a82,_0x323c85)=>{const _0x55cb23=a0_0x2768ef;try{const {username:_0x412298,email:_0x281071,role:_0x58727d}=_0x396a82[_0x55cb23(0x141)],_0x137e20=_0x396a82[_0x55cb23(0x141)],_0x8de017=await profile['findOne']({'email':_0x137e20[_0x55cb23(0x19c)]}),_0x2c10d8=await master_shop[_0x55cb23(0x175)](),_0x5dde8c=_0x396a82[_0x55cb23(0x16e)]['id'],_0x55da05=await sales['findById'](_0x5dde8c),_0x17b786=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x5cf7f1;_0x5cf7f1=_0x55cb23(0x1bf);_0x55da05['finalize']=='True'&&(_0x5cf7f1='DELIVERY\x20RECEIPT');_0x323c85[_0x55cb23(0x119)]('Content-disposition',_0x55cb23(0x1a3)+_0x5dde8c+'.pdf\x22'),_0x323c85[_0x55cb23(0x119)](_0x55cb23(0x106),_0x55cb23(0x1ba));var _0x3f9c4a=0x14,_0x3c8d5b=0x64;_0x17b786[_0x55cb23(0x163)](_0x323c85),_0x17b786[_0x55cb23(0x128)](_0x55cb23(0x147)+_0x2c10d8[0x0][_0x55cb23(0x128)],0x14,0x0,{'fit':[0x64,0x64]}),_0x17b786['fontSize'](0x14)[_0x55cb23(0x151)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x3f9c4a,_0x3c8d5b),_0x17b786[_0x55cb23(0x190)](0xa)[_0x55cb23(0x151)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x3f9c4a,_0x3c8d5b+=0xf),_0x17b786[_0x55cb23(0x190)](0xf)[_0x55cb23(0x151)](_0x5cf7f1,_0x3f9c4a,_0x3c8d5b+=0x32),_0x17b786[_0x55cb23(0x190)](0xa)[_0x55cb23(0x151)](_0x55cb23(0x1cf),_0x3f9c4a,_0x3c8d5b+=0x14),_0x17b786['fontSize'](0x9)['text'](_0x55cb23(0x1d7),_0x3f9c4a,_0x3c8d5b+=0x19),_0x17b786[_0x55cb23(0x190)](0x9)['text'](_0x55cb23(0x180)+_0x55da05[_0x55cb23(0x140)],_0x3f9c4a+0x3f,_0x3c8d5b),_0x17b786[_0x55cb23(0x190)](0x9)[_0x55cb23(0x151)](_0x55cb23(0x1d8),_0x3f9c4a,_0x3c8d5b+=0xb),_0x17b786[_0x55cb23(0x190)](0x9)['text'](_0x55cb23(0x180)+_0x55da05[_0x55cb23(0x174)],_0x3f9c4a+0x3f,_0x3c8d5b);const _0x1715ac={'headers':[{'label':_0x55cb23(0x110),'property':'itemcode','align':_0x55cb23(0x1dc),'width':0x2d,'renderer':null},{'label':_0x55cb23(0x1ce),'property':_0x55cb23(0x170),'align':_0x55cb23(0x1dc),'width':0x64,'renderer':null},{'label':_0x55cb23(0x135),'property':'rqty','align':'center','width':0x28,'renderer':null},{'label':'QUANTITY\x20ISSUED','property':_0x55cb23(0x1d0),'align':'center','width':0x28,'renderer':null},{'label':_0x55cb23(0x181),'property':'unit','align':'center','width':0x28,'renderer':null},{'label':_0x55cb23(0x10f),'property':_0x55cb23(0x10c),'align':_0x55cb23(0x1dc),'width':0x32,'renderer':null},{'label':'PRODUCTION\x20DATE','property':_0x55cb23(0x14f),'align':_0x55cb23(0x1dc),'width':0x3c,'renderer':null},{'label':'EXPIRATION\x20DATE','property':_0x55cb23(0x13b),'align':_0x55cb23(0x1dc),'width':0x3c,'renderer':null},{'label':_0x55cb23(0x122),'property':_0x55cb23(0x168),'align':'center','width':0x3f,'renderer':null},{'label':_0x55cb23(0x155),'property':_0x55cb23(0x1db),'align':_0x55cb23(0x1dc),'width':0x3f,'renderer':null}],'datas':[]};var _0x108fb3=0x0;let _0x6937d7='';var _0xe272a7=0x0,_0x3f9c4a=0x1;_0x55da05[_0x55cb23(0x127)][_0x55cb23(0x134)](_0x18ede2=>{const _0x93be0a=_0x55cb23,_0x3e884c=new Date(_0x18ede2[_0x93be0a(0x1e2)]),_0x46c7e9={'year':'numeric','month':_0x93be0a(0x105),'day':_0x93be0a(0x197)},_0x2beda7=_0x3e884c[_0x93be0a(0x1b9)](_0x93be0a(0x19e),_0x46c7e9),_0x3cd749=new Date(_0x18ede2[_0x93be0a(0x12e)]),_0x1707f2={'year':_0x93be0a(0x197),'month':_0x93be0a(0x105),'day':_0x93be0a(0x197)},_0x448a8c=_0x3cd749[_0x93be0a(0x1b9)](_0x93be0a(0x19e),_0x1707f2),_0x3a3747=new Date(_0x18ede2[_0x93be0a(0x16c)]),_0x2ada3e={'year':_0x93be0a(0x197),'month':_0x93be0a(0x105),'day':'numeric'};var _0x3156a1=_0x3a3747[_0x93be0a(0x1b9)]('en-US',_0x2ada3e);typeof _0x18ede2[_0x93be0a(0x16c)]==_0x93be0a(0x17a)&&(_0x3156a1='');const _0x4d369d={'itemcode':_0x18ede2[_0x93be0a(0x15b)],'itemdescription':_0x18ede2[_0x93be0a(0x1ca)],'rqty':_0x18ede2[_0x93be0a(0x16a)],'iqty':_0x18ede2[_0x93be0a(0x1c1)],'unit':_0x18ede2['unit'],'blocation':_0x18ede2[_0x93be0a(0x1d9)]+_0x18ede2[_0x93be0a(0x1cc)]+_0x18ede2[_0x93be0a(0x166)]+_0x18ede2[_0x93be0a(0x11b)]+_0x18ede2['type'][0x0]+_0x18ede2[_0x93be0a(0x161)],'proddate':_0x2beda7,'expdate':_0x448a8c,'del_date':_0x3156a1,'del_code':_0x18ede2['delivery_code']};_0x3f9c4a++,_0x1715ac[_0x93be0a(0x164)][_0x93be0a(0x1a5)](_0x4d369d);}),_0x17b786[_0x55cb23(0x1d4)](_0x1715ac,{'x':_0x3f9c4a+0x11,'y':_0x3c8d5b+=0x1e,'prepareHeader':()=>_0x17b786[_0x55cb23(0x172)](_0x55cb23(0x10e))[_0x55cb23(0x190)](6.5),'prepareRow':(_0x5d9afa,_0x402533,_0x1ef5fe,_0x1c0a15,_0x23f098)=>{const _0x3b6507=_0x55cb23,{x:_0x8403bb,y:_0x2e56ef,width:_0x945f1e,height:_0x4dc854}=_0x23f098;_0x17b786[_0x3b6507(0x172)](_0x3b6507(0x14d))[_0x3b6507(0x190)](0x8),_0x17b786[_0x3b6507(0x1bb)](0.5)[_0x3b6507(0x182)](_0x8403bb,_0x2e56ef)[_0x3b6507(0x194)](_0x8403bb,_0x2e56ef+_0x4dc854)[_0x3b6507(0x1c7)]();}});var _0x2e57b5=_0x17b786['y'],_0x566e95=_0x17b786['x'],_0x228117=_0x2e57b5-=0x8;_0x17b786[_0x55cb23(0x1bb)](0x5),_0x17b786[_0x55cb23(0x18a)](_0x55cb23(0x153))[_0x55cb23(0x182)](0x240,_0x228117)['lineTo'](0x11,_0x228117)[_0x55cb23(0x1c7)](),_0x17b786['fontSize'](0xa)[_0x55cb23(0x151)](_0x55cb23(0x17b),_0x566e95+0x7d,_0x2e57b5+=0xf),_0x17b786[_0x55cb23(0x190)](0xb)[_0x55cb23(0x151)](_0x55cb23(0x1a4),_0x566e95,_0x2e57b5+=0x15e),_0x17b786[_0x55cb23(0x190)](0xa)['text'](_0x55cb23(0x177),_0x566e95+0x52,_0x2e57b5,{'underline':!![]}),_0x17b786[_0x55cb23(0x190)](0xa)[_0x55cb23(0x151)](_0x55cb23(0x173),_0x566e95,_0x2e57b5+=0x19),_0x17b786['fontSize'](0xa)[_0x55cb23(0x151)](_0x55cb23(0x180),_0x566e95+0x4b,_0x2e57b5),_0x17b786['fontSize'](0xa)[_0x55cb23(0x151)]('\x20'[_0x55cb23(0x158)](0x3c),_0x566e95+0x50,_0x2e57b5,{'underline':!![]}),_0x17b786[_0x55cb23(0x190)](0xa)[_0x55cb23(0x151)](_0x55cb23(0x13a),_0x566e95,_0x2e57b5+=0x32),_0x17b786[_0x55cb23(0x190)](0xa)[_0x55cb23(0x151)](_0x55cb23(0x180),_0x566e95+0x4b,_0x2e57b5),_0x17b786[_0x55cb23(0x190)](0xa)['text'](_0x55cb23(0x193),_0x566e95+0x50,_0x2e57b5,{'underline':!![]}),_0x17b786[_0x55cb23(0x190)](0xa)[_0x55cb23(0x151)](_0x55cb23(0x1de),_0x566e95+0x50,_0x2e57b5+0xc);let _0x416292=_0x17b786['bufferedPageRange']();for(let _0x46ed33=0x0;_0x46ed33<_0x416292[_0x55cb23(0x10d)];_0x46ed33++){_0x17b786['switchToPage'](_0x46ed33);let _0x212ab2=_0x17b786[_0x55cb23(0x15f)][_0x55cb23(0x1af)][_0x55cb23(0x117)];_0x17b786[_0x55cb23(0x15f)]['margins'][_0x55cb23(0x117)]=0x0,_0x17b786['text'](_0x55cb23(0x178)+(_0x46ed33+0x1)+_0x55cb23(0x165)+_0x416292[_0x55cb23(0x10d)],0x0,_0x17b786[_0x55cb23(0x15f)][_0x55cb23(0x1a0)]-_0x212ab2/0x2,{'align':_0x55cb23(0x1dc)}),_0x17b786[_0x55cb23(0x15f)]['margins']['bottom']=_0x212ab2;}const _0x3bb92a=_0x17b786['y'],_0x2db0cd=_0x17b786['x'];_0x17b786[_0x55cb23(0x1c6)]();}catch(_0x5504c8){console['log'](_0x5504c8),_0x323c85[_0x55cb23(0x169)](0x1f4)[_0x55cb23(0x18c)](_0x55cb23(0x11a));}}),router[a0_0x2768ef(0x116)](a0_0x2768ef(0x1be),auth,async(_0x280878,_0x4f5328)=>{const _0x37a15c=a0_0x2768ef;try{const {username:_0x3cdd9e,email:_0x1a88e9,role:_0x2c328c}=_0x280878['user'],_0x4262cb=_0x280878[_0x37a15c(0x141)],_0x4aef6b=await profile[_0x37a15c(0x1a7)]({'email':_0x4262cb[_0x37a15c(0x19c)]}),_0x397cbb=await master_shop[_0x37a15c(0x175)](),_0x58c89a=_0x280878[_0x37a15c(0x16e)]['id'],_0x5f0ec0=await adjustment[_0x37a15c(0x1df)](_0x58c89a);var _0x19d30d,_0x3e3e17;_0x19d30d='PICKING\x20LIST',_0x3e3e17=_0x37a15c(0x160);_0x5f0ec0[_0x37a15c(0x139)]==_0x37a15c(0x1ac)&&(_0x19d30d=_0x37a15c(0x199),_0x3e3e17='');const _0x483ba4=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4f5328[_0x37a15c(0x119)]('Content-disposition','inline;\x20filename=\x22OUT-'+_0x58c89a+_0x37a15c(0x162)),_0x4f5328[_0x37a15c(0x119)](_0x37a15c(0x106),_0x37a15c(0x1ba));var _0x251a83=0x14,_0x69c68a=0x3c;_0x483ba4[_0x37a15c(0x163)](_0x4f5328),_0x483ba4[_0x37a15c(0x128)](_0x37a15c(0x147)+_0x397cbb[0x0][_0x37a15c(0x128)],0x14,0x0,{'fit':[0x64,0x64]}),_0x483ba4[_0x37a15c(0x190)](0x14)[_0x37a15c(0x151)](_0x37a15c(0x18b),_0x251a83,_0x69c68a),_0x483ba4['fontSize'](0xa)['text'](_0x37a15c(0x19d),_0x251a83,_0x69c68a+=0xf),_0x483ba4[_0x37a15c(0x190)](0xf)['text'](_0x19d30d,_0x251a83,_0x69c68a+=0x32),_0x483ba4['fontSize'](0xa)[_0x37a15c(0x151)](_0x3e3e17,_0x251a83,_0x69c68a+=0x14),_0x483ba4[_0x37a15c(0x190)](0x9)[_0x37a15c(0x151)](_0x37a15c(0x1d5),_0x251a83,_0x69c68a+=0x28),_0x483ba4['fontSize'](0x9)[_0x37a15c(0x151)]('\x20:\x20'+_0x5f0ec0[_0x37a15c(0x1ad)],_0x251a83+0x3f,_0x69c68a),_0x483ba4[_0x37a15c(0x190)](0x9)['text']('Date\x20',_0x251a83,_0x69c68a+=0xb),_0x483ba4['fontSize'](0x9)['text']('\x20:\x20'+_0x5f0ec0[_0x37a15c(0x140)],_0x251a83+0x3f,_0x69c68a),_0x483ba4[_0x37a15c(0x190)](0x9)['text'](_0x37a15c(0x14c),_0x251a83,_0x69c68a+=0xb),_0x483ba4['fontSize'](0x9)[_0x37a15c(0x151)](_0x37a15c(0x180)+_0x5f0ec0[_0x37a15c(0x174)],_0x251a83+0x3f,_0x69c68a);const _0x58d1ec={'headers':[{'label':_0x37a15c(0x17c),'property':_0x37a15c(0x131),'width':0x3c,'renderer':null},{'label':_0x37a15c(0x17d),'property':_0x37a15c(0x170),'width':0x96,'renderer':null},{'label':_0x37a15c(0x138),'property':'qty','width':0x3c,'renderer':null},{'label':_0x37a15c(0x181),'property':_0x37a15c(0x1c3),'width':0x3c,'renderer':null},{'label':_0x37a15c(0x12c),'property':_0x37a15c(0x14f),'width':0x50,'renderer':null},{'label':_0x37a15c(0x14b),'property':_0x37a15c(0x150),'width':0x3f,'renderer':null},{'label':_0x37a15c(0x12f),'property':_0x37a15c(0x196),'width':0x3f,'renderer':null}],'datas':[]};var _0x1b0910=0x0,_0xfbdcf9=0x0;_0x5f0ec0[_0x37a15c(0x1d6)][_0x37a15c(0x134)](_0x141e67=>{const _0x13f317=_0x37a15c;let _0x186ffd='';const _0x989264=_0x141e67[_0x13f317(0x1b5)];for(let _0xefa485=0x1;_0xefa485<=_0x989264;_0xefa485++){_0x989264==_0xefa485?_0x186ffd+=_0x141e67['maxperunit']:_0x186ffd+=_0x141e67[_0x13f317(0x1d1)]+',',_0xfbdcf9+=_0x141e67[_0x13f317(0x1d1)];}_0x186ffd+=_0x13f317(0x13c)+_0x141e67[_0x13f317(0x11c)];const _0x44e7d5={'itemcode':_0x141e67[_0x13f317(0x15b)],'itemdescription':_0x141e67[_0x13f317(0x1ca)],'qty':_0x141e67[_0x13f317(0x133)],'unit':_0x141e67[_0x13f317(0x1c3)],'proddate':_0x141e67[_0x13f317(0x1e2)],'batchno':_0x141e67['batch_code'],'binloc':_0x141e67[_0x13f317(0x1d9)]+_0x141e67[_0x13f317(0x1cc)]+_0x141e67[_0x13f317(0x166)]+_0x141e67[_0x13f317(0x11b)]+_0x141e67['type'][0x0]+_0x141e67[_0x13f317(0x161)]};_0x1b0910+=_0x141e67[_0x13f317(0x133)],_0x58d1ec[_0x13f317(0x164)]['push'](_0x44e7d5);}),_0x483ba4[_0x37a15c(0x1d4)](_0x58d1ec,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x483ba4['font'](_0x37a15c(0x10e))['fontSize'](0x8),'prepareRow':(_0x447946,_0x54e0d5,_0x23d07c,_0x55623e)=>_0x483ba4[_0x37a15c(0x172)](_0x37a15c(0x14d))[_0x37a15c(0x190)](0x8)});var _0x2c5eb4=_0x483ba4['y'],_0x38954c=_0x483ba4['x'];_0x483ba4[_0x37a15c(0x190)](0xa)[_0x37a15c(0x151)](_0x37a15c(0x17b),_0x38954c+0x7d,_0x2c5eb4),_0x483ba4['fontSize'](0xa)[_0x37a15c(0x151)](_0x37a15c(0x19b),_0x38954c,_0x2c5eb4+=0x136),_0x483ba4[_0x37a15c(0x190)](0xa)[_0x37a15c(0x151)](_0x1b0910,_0x38954c+0xc8,_0x2c5eb4),_0x483ba4[_0x37a15c(0x190)](0xa)[_0x37a15c(0x151)](_0x37a15c(0x1a1),_0x38954c,_0x2c5eb4+=0x19),_0x483ba4[_0x37a15c(0x190)](0xa)['text']('\x20'[_0x37a15c(0x158)](0x3c),_0x38954c+0x3e,_0x2c5eb4,{'underline':!![]}),_0x483ba4[_0x37a15c(0x190)](0xa)[_0x37a15c(0x151)]('Checked\x20By\x20',_0x38954c,_0x2c5eb4+=0x32),_0x483ba4['fontSize'](0xa)[_0x37a15c(0x151)]('\x20:\x20',_0x38954c+0x37,_0x2c5eb4),_0x483ba4[_0x37a15c(0x190)](0xa)[_0x37a15c(0x151)](_0x37a15c(0x193),_0x38954c+0x3c,_0x2c5eb4,{'underline':!![]}),_0x483ba4[_0x37a15c(0x190)](0xa)[_0x37a15c(0x151)]('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x38954c+0x3c,_0x2c5eb4+0xc);let _0x1799ee=_0x483ba4[_0x37a15c(0x152)]();for(let _0x1be6ed=0x0;_0x1be6ed<_0x1799ee[_0x37a15c(0x10d)];_0x1be6ed++){_0x483ba4['switchToPage'](_0x1be6ed);let _0x212c86=_0x483ba4[_0x37a15c(0x15f)][_0x37a15c(0x1af)][_0x37a15c(0x117)];_0x483ba4[_0x37a15c(0x15f)][_0x37a15c(0x1af)]['bottom']=0x0,_0x483ba4['text']('Page:\x20'+(_0x1be6ed+0x1)+_0x37a15c(0x165)+_0x1799ee['count'],0x0,_0x483ba4['page'][_0x37a15c(0x1a0)]-_0x212c86/0x2,{'align':_0x37a15c(0x1dc)}),_0x483ba4[_0x37a15c(0x15f)]['margins'][_0x37a15c(0x117)]=_0x212c86;}const _0x511f8b=_0x483ba4['y'],_0x47f5bc=_0x483ba4['x'];_0x483ba4[_0x37a15c(0x1c6)]();}catch(_0x50240a){console[_0x37a15c(0x19f)](_0x50240a),_0x4f5328[_0x37a15c(0x169)](0x1f4)[_0x37a15c(0x18c)](_0x37a15c(0x11a));}}),router[a0_0x2768ef(0x116)](a0_0x2768ef(0x114),auth,async(_0x1c54ad,_0x2d9a7b)=>{const _0x1e43f5=a0_0x2768ef;try{const {username:_0x4f2427,email:_0x3abf28,role:_0x1a02f6}=_0x1c54ad[_0x1e43f5(0x141)],_0x48a0e1=_0x1c54ad[_0x1e43f5(0x141)],_0x41cef7=await profile['findOne']({'email':_0x48a0e1['email']}),_0x44aec1=await master_shop[_0x1e43f5(0x175)](),_0x38417d=_0x1c54ad[_0x1e43f5(0x16e)]['id'],_0x341b67=await transfers[_0x1e43f5(0x1df)](_0x38417d);var _0x47682b,_0x4f1dd6;_0x47682b=_0x1e43f5(0x159),_0x4f1dd6=_0x1e43f5(0x1ae);_0x341b67[_0x1e43f5(0x139)]=='True'&&(_0x47682b=_0x1e43f5(0x1aa),_0x4f1dd6='');const _0x167fcc=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2d9a7b[_0x1e43f5(0x119)]('Content-disposition',_0x1e43f5(0x1a3)+_0x38417d+_0x1e43f5(0x162)),_0x2d9a7b[_0x1e43f5(0x119)](_0x1e43f5(0x106),_0x1e43f5(0x1ba));var _0x11a2d2=0x14,_0x3b76dd=0x3c;_0x167fcc[_0x1e43f5(0x163)](_0x2d9a7b),_0x167fcc['image'](_0x1e43f5(0x147)+_0x44aec1[0x0][_0x1e43f5(0x128)],0x14,0x0,{'fit':[0x64,0x64]}),_0x167fcc[_0x1e43f5(0x190)](0x14)[_0x1e43f5(0x151)](_0x1e43f5(0x18b),_0x11a2d2,_0x3b76dd),_0x167fcc[_0x1e43f5(0x190)](0xa)['text']('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x11a2d2,_0x3b76dd+=0xf),_0x167fcc[_0x1e43f5(0x190)](0xf)[_0x1e43f5(0x151)](_0x47682b,_0x11a2d2,_0x3b76dd+=0x32),_0x167fcc[_0x1e43f5(0x190)](0xa)[_0x1e43f5(0x151)](_0x4f1dd6,_0x11a2d2,_0x3b76dd+=0x14),_0x167fcc[_0x1e43f5(0x190)](0x9)[_0x1e43f5(0x151)]('From\x20Warehouse\x20',_0x11a2d2,_0x3b76dd+=0x28),_0x167fcc[_0x1e43f5(0x190)](0x9)[_0x1e43f5(0x151)](_0x1e43f5(0x1d3)+_0x341b67[_0x1e43f5(0x142)],_0x11a2d2+0x3f,_0x3b76dd),_0x167fcc[_0x1e43f5(0x190)](0x9)[_0x1e43f5(0x151)](_0x1e43f5(0x1b1),_0x11a2d2,_0x3b76dd+=0xa),_0x167fcc[_0x1e43f5(0x190)](0x9)['text'](_0x1e43f5(0x1d3)+_0x341b67[_0x1e43f5(0x12a)],_0x11a2d2+0x3f,_0x3b76dd),_0x167fcc['fontSize'](0x9)[_0x1e43f5(0x151)](_0x1e43f5(0x1d7),_0x11a2d2,_0x3b76dd+=0xb),_0x167fcc[_0x1e43f5(0x190)](0x9)['text'](_0x1e43f5(0x1d3)+_0x341b67[_0x1e43f5(0x140)],_0x11a2d2+0x3f,_0x3b76dd),_0x167fcc[_0x1e43f5(0x190)](0x9)[_0x1e43f5(0x151)](_0x1e43f5(0x14c),_0x11a2d2,_0x3b76dd+=0xb),_0x167fcc[_0x1e43f5(0x190)](0x9)['text'](_0x1e43f5(0x1d3)+_0x341b67[_0x1e43f5(0x174)],_0x11a2d2+0x3f,_0x3b76dd);const _0x52393a={'headers':[{'label':'','property':_0x1e43f5(0x131),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x1e43f5(0x118),'property':_0x1e43f5(0x131),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x1e43f5(0x1e3),'property':'itemdescription','width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x167fcc[_0x1e43f5(0x1d4)](_0x52393a,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x167fcc['font'](_0x1e43f5(0x10e))[_0x1e43f5(0x190)](0x8),'prepareRow':(_0xcdcc6d,_0x3f8bde,_0x441a64,_0x458ea9)=>_0x167fcc[_0x1e43f5(0x172)](_0x1e43f5(0x14d))['fontSize'](0x8)});const _0x2919c4={'headers':[{'label':_0x1e43f5(0x17c),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x1e43f5(0x17d),'property':_0x1e43f5(0x170),'width':0x96,'renderer':null},{'label':_0x1e43f5(0x138),'property':_0x1e43f5(0x157),'width':0x28,'renderer':null},{'label':_0x1e43f5(0x181),'property':_0x1e43f5(0x1c3),'width':0x37,'renderer':null},{'label':'Production\x20Date','property':_0x1e43f5(0x14f),'width':0x4b,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x1e43f5(0x1a6),'width':0x3f,'renderer':null},{'label':_0x1e43f5(0x12f),'property':_0x1e43f5(0x196),'width':0x3f,'renderer':null}],'datas':[]};var _0x9f054e=0x0;let _0x3aa4ba='';var _0x7a6ebe=0x0;_0x341b67[_0x1e43f5(0x1d6)][_0x1e43f5(0x134)](_0x1430e6=>{const _0x3eb6da=_0x1e43f5;var _0x127a63=_0x1430e6['prod_cat'],_0x545853;_0x545853=_0x1430e6[_0x3eb6da(0x1c3)];_0x127a63=='S'&&(_0x545853=_0x1430e6[_0x3eb6da(0x11c)]);const _0x48f8ba={'itemcode':_0x1430e6[_0x3eb6da(0x15b)],'itemdescription':_0x1430e6['product_name'],'qty':_0x1430e6[_0x3eb6da(0x1b5)],'unit':_0x545853,'proddate':_0x1430e6[_0x3eb6da(0x1e2)],'batchno':_0x1430e6['batch_code'],'binloc':_0x1430e6[_0x3eb6da(0x1d9)]+_0x1430e6[_0x3eb6da(0x1cc)]+_0x1430e6[_0x3eb6da(0x15c)]+_0x1430e6[_0x3eb6da(0x1ab)]+_0x1430e6[_0x3eb6da(0x1b0)][0x0]+_0x1430e6[_0x3eb6da(0x171)],'qtyFrom':_0x1430e6[_0x3eb6da(0x1b2)],'binlocFrom':_0x1430e6['from_storage']+_0x1430e6[_0x3eb6da(0x191)]+_0x1430e6[_0x3eb6da(0x185)]+_0x1430e6[_0x3eb6da(0x18f)]+_0x1430e6[_0x3eb6da(0x1c0)][0x0]+_0x1430e6[_0x3eb6da(0x15e)]};_0x9f054e+=_0x1430e6['to_quantity'],_0x2919c4[_0x3eb6da(0x164)][_0x3eb6da(0x1a5)](_0x48f8ba);}),_0x167fcc[_0x1e43f5(0x1d4)](_0x2919c4,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x167fcc['font'](_0x1e43f5(0x10e))[_0x1e43f5(0x190)](0x8),'prepareRow':(_0x466d3a,_0x1f974a,_0x5c4202,_0x1f19b8)=>_0x167fcc[_0x1e43f5(0x172)]('Helvetica')[_0x1e43f5(0x190)](0x8)});var _0x34c5f8=_0x167fcc['y'],_0x44c26c=_0x167fcc['x'];_0x167fcc[_0x1e43f5(0x190)](0xa)['text'](_0x1e43f5(0x17b),_0x44c26c+0x7d,_0x34c5f8),_0x167fcc['fontSize'](0xa)[_0x1e43f5(0x151)](_0x1e43f5(0x14a),_0x44c26c,_0x34c5f8+=0x12c),_0x167fcc[_0x1e43f5(0x190)](0xa)[_0x1e43f5(0x151)](_0x9f054e,_0x44c26c+0xd7,_0x34c5f8,{'underline':!![]}),_0x167fcc[_0x1e43f5(0x190)](0xa)[_0x1e43f5(0x151)](_0x1e43f5(0x1b4),_0x44c26c,_0x34c5f8+=0x32),_0x167fcc[_0x1e43f5(0x190)](0xa)[_0x1e43f5(0x151)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x44c26c+0x3c,_0x34c5f8,{'underline':!![]}),_0x167fcc[_0x1e43f5(0x190)](0xa)[_0x1e43f5(0x151)](_0x1e43f5(0x1de),_0x44c26c+0x3c,_0x34c5f8+0xc);let _0x4caec4=_0x167fcc[_0x1e43f5(0x152)]();for(let _0x382c74=0x0;_0x382c74<_0x4caec4[_0x1e43f5(0x10d)];_0x382c74++){_0x167fcc[_0x1e43f5(0x1c5)](_0x382c74);let _0x1bc9fa=_0x167fcc[_0x1e43f5(0x15f)][_0x1e43f5(0x1af)]['bottom'];_0x167fcc[_0x1e43f5(0x15f)][_0x1e43f5(0x1af)][_0x1e43f5(0x117)]=0x0,_0x167fcc[_0x1e43f5(0x151)](_0x1e43f5(0x178)+(_0x382c74+0x1)+_0x1e43f5(0x165)+_0x4caec4[_0x1e43f5(0x10d)],0x0,_0x167fcc[_0x1e43f5(0x15f)][_0x1e43f5(0x1a0)]-_0x1bc9fa/0x2,{'align':_0x1e43f5(0x1dc)}),_0x167fcc[_0x1e43f5(0x15f)]['margins']['bottom']=_0x1bc9fa;}const _0x568056=_0x167fcc['y'],_0x94e190=_0x167fcc['x'];_0x167fcc[_0x1e43f5(0x1c6)]();}catch(_0x135aa9){console['log'](_0x135aa9),_0x2d9a7b[_0x1e43f5(0x169)](0x1f4)[_0x1e43f5(0x18c)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x2768ef(0x116)](a0_0x2768ef(0x10b),auth,async(_0x1626dd,_0x5c1f7d)=>{const _0x5619e3=a0_0x2768ef;try{const _0x5edb8c=_0x5a25e1=>_0x5a25e1*0x48,_0x50f88b={'width':0x3,'height':0x1},_0x4b3be6=await product[_0x5619e3(0x175)](),_0x2bea76=new PDFDocument({'margin':_0x5edb8c(0.75),'size':[_0x5edb8c(_0x50f88b[_0x5619e3(0x146)]),_0x5edb8c(_0x50f88b[_0x5619e3(0x1a0)])],'bufferPages':!![]}),_0x25c6a2=_0x4b3be6[_0x5619e3(0x1a2)];for(let _0x5a05e3=0x0;_0x5a05e3<=_0x25c6a2;_0x5a05e3++){if(_0x5a05e3!=_0x4b3be6['length']){const _0xbd8c50=_0x4b3be6[_0x5a05e3][_0x5619e3(0x11d)],_0x51b6d1=_0x4b3be6[_0x5a05e3][_0x5619e3(0x186)],_0x7d499b=_0x4b3be6[_0x5a05e3][_0x5619e3(0x1e1)],_0x366757=_0x4b3be6[_0x5a05e3][_0x5619e3(0x15b)],_0x42396f=new Canvas();JsBarcode(_0x42396f,_0x51b6d1,{'format':_0x5619e3(0x13f),'height':0x32,'displayValue':!![],'text':_0x51b6d1}),_0x2bea76[_0x5619e3(0x128)](_0x42396f[_0x5619e3(0x1c8)](),0x0,0x0,{'width':0xd2}),_0x2bea76[_0x5619e3(0x1b3)]();}}_0x2bea76[_0x5619e3(0x163)](_0x5c1f7d),_0x2bea76[_0x5619e3(0x1c6)]();}catch(_0x2c3d29){console['error']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:',_0x2c3d29),_0x5c1f7d[_0x5619e3(0x169)](0x1f4)[_0x5619e3(0x18c)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),module[a0_0x2768ef(0x189)]=router;