const a0_0x5363e3=a0_0x3a99;(function(_0x294752,_0x3a62de){const _0x4170fe=a0_0x3a99,_0xbd4d98=_0x294752();while(!![]){try{const _0x4f1155=-parseInt(_0x4170fe(0x1a7))/0x1+parseInt(_0x4170fe(0x19f))/0x2+-parseInt(_0x4170fe(0x1b3))/0x3+parseInt(_0x4170fe(0x198))/0x4+-parseInt(_0x4170fe(0x1f3))/0x5+parseInt(_0x4170fe(0x195))/0x6+parseInt(_0x4170fe(0x239))/0x7;if(_0x4f1155===_0x3a62de)break;else _0xbd4d98['push'](_0xbd4d98['shift']());}catch(_0x1a3c7d){_0xbd4d98['push'](_0xbd4d98['shift']());}}}(a0_0xd1a8,0x5dbe0));function a0_0x3a99(_0xc2ebe8,_0x27ed5f){const _0xd1a802=a0_0xd1a8();return a0_0x3a99=function(_0x3a99d8,_0x44ef92){_0x3a99d8=_0x3a99d8-0x16c;let _0x197957=_0xd1a802[_0x3a99d8];return _0x197957;},a0_0x3a99(_0xc2ebe8,_0x27ed5f);}const express=require(a0_0x5363e3(0x18c)),res=require(a0_0x5363e3(0x1d2)),app=express(),router=express[a0_0x5363e3(0x20d)](),multer=require(a0_0x5363e3(0x1e6)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x5363e3(0x21a)),auth=require(a0_0x5363e3(0x1d6)),users=require(a0_0x5363e3(0x1b0)),excelJS=require(a0_0x5363e3(0x224)),xlsx=require(a0_0x5363e3(0x1c6)),PDFDocument=require(a0_0x5363e3(0x1b9)),fs=require('fs'),blobStream=require('blob-stream'),JsBarcode=require('jsbarcode'),{Canvas}=require(a0_0x5363e3(0x1ff));function a0_0xd1a8(){const _0x18d2e7=['/pdf_puchases/:id','(RETURN)','Control\x20Number\x20:\x20','STOCKS\x20TRANSFER','center','proddate','error','Date\x20','Check\x20By\x20\x20\x20\x20:\x20','font','Item\x20Code','express/lib/response','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','toLocaleDateString','find','../middleware/auth','/PDF_transfer/:id','Supplier\x20:\x20','PRODUCTION\x20DATE','forEach','FTGS\x20Number\x20:\x20','en-US','Quantity','Content-type','./public/upload/','moveTo','(INVENTORY\x20ADJUSTMENT)','finalize','qty','Expiration\x20Date','\x20of\x20','multer','x:\x20','toBuffer','itemcode','lineTo','.pdf\x22','Customer\x20:\x20','datas','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','return_qty','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','Warehouse\x20','DELIVERY\x20RECEIPT','3166005opaDvW','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','rack','product_name','\x20\x20FROM','type','/pdf_puchases_fin/:id','from_warehouse','findOne','repeat','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','batch_code','canvas','PICKING\x20LIST','\x20\x20\x20\x20\x20FROM','sale_product','Raw\x20Materials\x20Warehouse\x20Supervisor','\x20\x20\x20\x20\x20TO','storage','bufferedPageRange','Production\x20Date','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','user','/pdf_sales_return_fin/:id','blocation','REQUESTED\x20QUANTITY','Router','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Checked\x20By\x20','adjust_qty','expdate','from_rack','switchToPage','/PDF_adjustment_rm/:id','exports','delivery_date','\x20<>\x20','prod_cat','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','../models/all_models','from_quantity','count','DRY\x20GOODS','get','text','warehouse_cat','(INCOMING)','numeric','status','exceljs','customer','DelCode','undefined','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','(STOCKS\x20TRANSFER)','TOTAL\x20QTY:\x20','table','setHeader','page','to_bay','bay','Bin\x20Location','pipe','POnumber','image','(OUTGOING)','rqty','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','product','del_code','8435441IzBihl','UOM','/PDF_Sales/:id','Warehouse\x20:\x20','Item\x20Description','batchno','INVENTORY\x20ADJUSTMENT','binloc','push','fontSize','butt','suppliers','Pick\x20By\x20:\x20','Control\x20Number\x20','application/pdf','TOTAL\x20QTY\x20:\x20','QUANTITY\x20ISSUED','FROZEN\x20GOODS','from_floorlevel','Checked\x20By:\x20','secondary_unit','params','Helvetica','ToWarehouse','unit','/barcode_generator/','maxperunit','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','to_warehouse','from_storage','/PDF_adjustment/:id','to_quantity','Picked\x20By\x20\x20\x20\x20\x20:\x20','\x20:\x20','warehouse_name','Finished\x20Good\x20Warehouse\x20Supervisor','binlocFrom','from_bin','express','DELIVERY\x20CODE','from_types','maxPerUnit','inline;\x20filename=\x22OUT-','inline;\x20filename=\x22','return_sale_QA','log','To\x20Warehouse\x20','135690rFLxiM','height','True','123800DaDJdl','new_adjust_qty','standard_unit','short','Helvetica-Bold','bin','Noted\x20By\x20','667518WsLDkI','delivery_code','Content-disposition','/PDF/:id','width','secondary_code','email','Checked\x20By\x20\x20\x20:\x20','46323NixytE','invoice','end','floorlevel','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ARMAN\x20CRUZ','Batch\x20No','Picking\x20List','date','../public/language/languages.json','\x20/\x20','send','1586685CVVyIP','itemdescription','Page:\x20','product_code','primary_code','\x20\x20\x20:\x20','pdfkit-table','findById','MATERIAL\x20DESCRIPTION','bottom','quantity','to_types','EXPIRATION\x20DATE','production_date','expiry_date','Date\x20:\x20','return_sale','margins','PREPARED\x20BY\x20:\x20','xlsx'];a0_0xd1a8=function(){return _0x18d2e7;};return a0_0xd1a8();}router[a0_0x5363e3(0x21e)](a0_0x5363e3(0x1a2),auth,async(_0x110335,_0x29e050)=>{const _0x43e135=a0_0x5363e3;try{const {username:_0x38024d,email:_0x313cdc,role:_0x2f19ba}=_0x110335[_0x43e135(0x209)],_0x4db546=_0x110335[_0x43e135(0x209)],_0x21d59a=await profile[_0x43e135(0x1fb)]({'email':_0x4db546['email']}),_0x19d240=await master_shop[_0x43e135(0x1d5)](),_0x400161=_0x110335['params']['id'],_0x571b05=await sales_finished['findById'](_0x400161);var _0x537220;_0x537220=_0x43e135(0x200);_0x571b05[_0x43e135(0x1e2)]==_0x43e135(0x197)&&(_0x537220=_0x43e135(0x1f2));const _0x568e4d=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x29e050['setHeader'](_0x43e135(0x1a1),_0x43e135(0x191)+_0x571b05['invoice']+_0x43e135(0x1eb)),_0x29e050[_0x43e135(0x22c)](_0x43e135(0x1de),_0x43e135(0x174));var _0xf2a3ae=0x14,_0x5387d8=0x3c;_0x568e4d[_0x43e135(0x231)](_0x29e050),_0x568e4d[_0x43e135(0x233)](_0x43e135(0x1df)+_0x19d240[0x0][_0x43e135(0x233)],0x14,0x0,{'fit':[0x64,0x64]}),_0x568e4d[_0x43e135(0x16f)](0x14)[_0x43e135(0x21f)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0xf2a3ae,_0x5387d8),_0x568e4d[_0x43e135(0x16f)](0xa)[_0x43e135(0x21f)](_0x43e135(0x228),_0xf2a3ae,_0x5387d8+=0xf),_0x568e4d['fontSize'](0xf)[_0x43e135(0x21f)](_0x537220,_0xf2a3ae,_0x5387d8+=0x32),_0x568e4d[_0x43e135(0x16f)](0xa)['text'](_0x43e135(0x234),_0xf2a3ae,_0x5387d8+=0x14),_0x568e4d[_0x43e135(0x16f)](0x9)[_0x43e135(0x21f)]('Warehouse\x20',_0xf2a3ae,_0x5387d8+=0x28),_0x568e4d['fontSize'](0x9)['text'](_0x43e135(0x187)+_0x571b05[_0x43e135(0x188)],_0xf2a3ae+0x3f,_0x5387d8),_0x568e4d[_0x43e135(0x16f)](0x9)[_0x43e135(0x21f)](_0x43e135(0x1ec)+_0x571b05['customer'],_0xf2a3ae+0x17c,_0x5387d8,{'underline':!![]}),_0x568e4d[_0x43e135(0x16f)](0x9)[_0x43e135(0x21f)](_0x43e135(0x1ce),_0xf2a3ae,_0x5387d8+=0xb),_0x568e4d[_0x43e135(0x16f)](0x9)[_0x43e135(0x21f)](_0x43e135(0x187)+_0x571b05[_0x43e135(0x1af)],_0xf2a3ae+0x3f,_0x5387d8),_0x568e4d['fontSize'](0x9)[_0x43e135(0x21f)](_0x43e135(0x173),_0xf2a3ae,_0x5387d8+=0xb),_0x568e4d[_0x43e135(0x16f)](0x9)[_0x43e135(0x21f)](_0x43e135(0x187)+_0x571b05[_0x43e135(0x1a8)],_0xf2a3ae+0x3f,_0x5387d8);const _0x37e4f8={'headers':[{'label':_0x43e135(0x1d1),'property':_0x43e135(0x1e9),'width':0x3c,'renderer':null},{'label':_0x43e135(0x23d),'property':_0x43e135(0x1b4),'width':0xa5,'renderer':null},{'label':_0x43e135(0x1dd),'property':_0x43e135(0x1e3),'width':0x3c,'renderer':null},{'label':_0x43e135(0x23a),'property':'unit','width':0x3c,'renderer':null},{'label':_0x43e135(0x207),'property':_0x43e135(0x1cc),'width':0x50,'renderer':null},{'label':_0x43e135(0x1ad),'property':_0x43e135(0x23e),'width':0x3f,'renderer':null},{'label':_0x43e135(0x230),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x51f8fb=0x0;let _0x3771e3='';var _0x1fb90f=0x0;_0x571b05[_0x43e135(0x188)]==_0x43e135(0x21d)?_0x3771e3='DG':_0x3771e3='FG';var _0x1e4901=0x0;_0x571b05[_0x43e135(0x202)][_0x43e135(0x1da)](_0xaa9c44=>{const _0x4a2865=_0x43e135;console[_0x4a2865(0x193)](_0xaa9c44);let _0x3d47ed='';const _0x149117=_0xaa9c44[_0x4a2865(0x1bd)];for(let _0xe44a79=0x1;_0xe44a79<=_0x149117;_0xe44a79++){_0x149117==_0xe44a79?_0x3d47ed+=_0xaa9c44[_0x4a2865(0x180)]:_0x3d47ed+=_0xaa9c44['maxperunit']+',',_0x1fb90f+=_0xaa9c44['maxperunit'];}_0x3d47ed+=_0x4a2865(0x1b1)+_0xaa9c44[_0x4a2865(0x17a)];const _0x59a871={'itemcode':_0xaa9c44[_0x4a2865(0x1b6)],'itemdescription':_0xaa9c44[_0x4a2865(0x1f6)],'qty':_0xaa9c44[_0x4a2865(0x1bd)],'unit':_0xaa9c44[_0x4a2865(0x17e)],'proddate':_0xaa9c44['production_date'],'batchno':_0xaa9c44['batch_code'],'binloc':_0x3771e3+_0xaa9c44['bay']};_0x51f8fb+=_0xaa9c44[_0x4a2865(0x1bd)],_0x1e4901+=0x1,_0x37e4f8[_0x4a2865(0x1ed)][_0x4a2865(0x16e)](_0x59a871);}),_0x568e4d[_0x43e135(0x22b)](_0x37e4f8,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x568e4d[_0x43e135(0x1d0)](_0x43e135(0x19c))[_0x43e135(0x16f)](0x8),'prepareRow':(_0x1e316e,_0xe074d9,_0x3b49ee,_0xf82c1f)=>_0x568e4d['font']('Helvetica')[_0x43e135(0x16f)](0x8)});var _0x541f0a=_0x568e4d['y'],_0x39a22a=_0x568e4d['x'];_0x568e4d[_0x43e135(0x16f)](0xa)[_0x43e135(0x21f)](_0x43e135(0x236),_0x39a22a+0x7d,_0x541f0a),console[_0x43e135(0x193)](_0x43e135(0x1e7)+_0x39a22a+'\x20y:\x20'+_0x541f0a+'\x20row:\x20'+_0x1e4901);const _0x5797f1=_0x39a22a*_0x1e4901;_0x568e4d['fontSize'](0xa)[_0x43e135(0x21f)](_0x43e135(0x22a),_0x39a22a,_0x541f0a+=0x15e-_0x5797f1),_0x568e4d[_0x43e135(0x16f)](0xa)[_0x43e135(0x21f)](_0x51f8fb,_0x39a22a+0xdc,_0x541f0a,{'underline':!![]}),_0x568e4d[_0x43e135(0x16f)](0xa)[_0x43e135(0x21f)]('Picked\x20By\x20\x20\x20:\x20',_0x39a22a,_0x541f0a+=0x19),_0x568e4d[_0x43e135(0x16f)](0xa)['text']('\x20'['repeat'](0x3c),_0x39a22a+0x3e,_0x541f0a,{'underline':!![]}),_0x568e4d[_0x43e135(0x16f)](0xa)[_0x43e135(0x21f)](_0x43e135(0x179),_0x39a22a,_0x541f0a+=0x32),_0x568e4d[_0x43e135(0x16f)](0xa)[_0x43e135(0x21f)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x39a22a+0x3c,_0x541f0a,{'underline':!![]}),_0x568e4d[_0x43e135(0x16f)](0xa)[_0x43e135(0x21f)](_0x43e135(0x189),_0x39a22a+0x3c,_0x541f0a+0xc);let _0x32e3d9=_0x568e4d[_0x43e135(0x206)]();for(let _0x2d5b43=0x0;_0x2d5b43<_0x32e3d9[_0x43e135(0x21c)];_0x2d5b43++){_0x568e4d[_0x43e135(0x213)](_0x2d5b43);let _0x1a8150=_0x568e4d[_0x43e135(0x22d)]['margins']['bottom'];_0x568e4d[_0x43e135(0x22d)][_0x43e135(0x1c4)]['bottom']=0x0,_0x568e4d[_0x43e135(0x21f)]('Page:\x20'+(_0x2d5b43+0x1)+'\x20of\x20'+_0x32e3d9[_0x43e135(0x21c)],0x0,_0x568e4d[_0x43e135(0x22d)][_0x43e135(0x196)]-_0x1a8150/0x2,{'align':'center'}),_0x568e4d['page'][_0x43e135(0x1c4)]['bottom']=_0x1a8150;}const _0x157185=_0x568e4d['y'],_0x3903d6=_0x568e4d['x'];_0x568e4d['end']();}catch(_0x14c20a){console[_0x43e135(0x193)](_0x14c20a),_0x29e050[_0x43e135(0x223)](0x1f4)[_0x43e135(0x1b2)](_0x43e135(0x208));}}),router[a0_0x5363e3(0x21e)](a0_0x5363e3(0x1d7),auth,async(_0x436823,_0x58a2ef)=>{const _0x1786f6=a0_0x5363e3;try{const {username:_0x3dca5d,email:_0x9b35c9,role:_0x46c861}=_0x436823[_0x1786f6(0x209)],_0x553217=_0x436823[_0x1786f6(0x209)],_0x3716fa=await profile[_0x1786f6(0x1fb)]({'email':_0x553217[_0x1786f6(0x1a5)]}),_0x5cef81=await master_shop[_0x1786f6(0x1d5)](),_0x3d6113=_0x436823['params']['id'],_0x148807=await transfers_finished[_0x1786f6(0x1ba)](_0x3d6113);var _0x58af0e,_0x288c2d;_0x58af0e=_0x1786f6(0x1ae),_0x288c2d=_0x1786f6(0x229);_0x148807[_0x1786f6(0x1e2)]==_0x1786f6(0x197)&&(_0x58af0e=_0x1786f6(0x1ca),_0x288c2d='');const _0x27c147=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x58a2ef[_0x1786f6(0x22c)](_0x1786f6(0x1a1),_0x1786f6(0x190)+_0x3d6113+_0x1786f6(0x1eb)),_0x58a2ef['setHeader'](_0x1786f6(0x1de),'application/pdf');var _0x3026be=0x14,_0x584368=0x3c;_0x27c147[_0x1786f6(0x231)](_0x58a2ef),_0x27c147['image']('./public/upload/'+_0x5cef81[0x0][_0x1786f6(0x233)],0x14,0x0,{'fit':[0x64,0x64]}),_0x27c147[_0x1786f6(0x16f)](0x14)[_0x1786f6(0x21f)](_0x1786f6(0x219),_0x3026be,_0x584368),_0x27c147[_0x1786f6(0x16f)](0xa)[_0x1786f6(0x21f)](_0x1786f6(0x228),_0x3026be,_0x584368+=0xf),_0x27c147[_0x1786f6(0x16f)](0xf)[_0x1786f6(0x21f)](_0x58af0e,_0x3026be,_0x584368+=0x32),_0x27c147[_0x1786f6(0x16f)](0xa)[_0x1786f6(0x21f)](_0x288c2d,_0x3026be,_0x584368+=0x14),_0x27c147['fontSize'](0x9)[_0x1786f6(0x21f)]('From\x20Warehouse\x20',_0x3026be,_0x584368+=0x28),_0x27c147[_0x1786f6(0x16f)](0x9)['text'](_0x1786f6(0x1b8)+_0x148807['from_warehouse'],_0x3026be+0x3f,_0x584368),_0x27c147['fontSize'](0x9)[_0x1786f6(0x21f)](_0x1786f6(0x194),_0x3026be,_0x584368+=0xf),_0x27c147['fontSize'](0x9)[_0x1786f6(0x21f)](_0x1786f6(0x1b8)+_0x148807[_0x1786f6(0x182)],_0x3026be+0x3f,_0x584368),_0x27c147[_0x1786f6(0x16f)](0x9)[_0x1786f6(0x21f)](_0x1786f6(0x1ce),_0x3026be,_0x584368+=0xb),_0x27c147['fontSize'](0x9)[_0x1786f6(0x21f)](_0x1786f6(0x1b8)+_0x148807[_0x1786f6(0x1af)],_0x3026be+0x3f,_0x584368),_0x27c147[_0x1786f6(0x16f)](0x9)[_0x1786f6(0x21f)](_0x1786f6(0x173),_0x3026be,_0x584368+=0xb),_0x27c147[_0x1786f6(0x16f)](0x9)[_0x1786f6(0x21f)](_0x1786f6(0x1b8)+_0x148807[_0x1786f6(0x1a8)],_0x3026be+0x3f,_0x584368);const _0x157305={'headers':[{'label':'','property':_0x1786f6(0x1e9),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x1786f6(0x1f7),'property':_0x1786f6(0x1e9),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':'\x20\x20TO','property':'itemdescription','width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x27c147[_0x1786f6(0x22b)](_0x157305,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x27c147[_0x1786f6(0x1d0)]('Helvetica-Bold')[_0x1786f6(0x16f)](0x8),'prepareRow':(_0x5df365,_0x4487ae,_0x2b5a10,_0x359b99)=>_0x27c147[_0x1786f6(0x1d0)](_0x1786f6(0x17c))[_0x1786f6(0x16f)](0x8)});const _0xe90c9a={'headers':[{'label':_0x1786f6(0x1d1),'property':_0x1786f6(0x1e9),'width':0x3c,'renderer':null},{'label':_0x1786f6(0x23d),'property':'itemdescription','width':0x96,'renderer':null},{'label':'Quantity','property':_0x1786f6(0x1e3),'width':0x28,'renderer':null},{'label':_0x1786f6(0x23a),'property':_0x1786f6(0x17e),'width':0x37,'renderer':null},{'label':_0x1786f6(0x207),'property':_0x1786f6(0x1cc),'width':0x4b,'renderer':null},{'label':_0x1786f6(0x1ad),'property':_0x1786f6(0x23e),'width':0x3f,'renderer':null},{'label':_0x1786f6(0x230),'property':_0x1786f6(0x18a),'width':0x3f,'renderer':null},{'label':_0x1786f6(0x230),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x2a429e=0x0;let _0x3d937d='';var _0x284e90=0x0;if(_0x148807[_0x1786f6(0x1fa)]==_0x1786f6(0x21d))_0x3d937d='DG';else _0x148807[_0x1786f6(0x1fa)]==_0x1786f6(0x177)&&(_0x3d937d='FG');_0x148807['product'][_0x1786f6(0x1da)](_0x414ee0=>{const _0x540d3f=_0x1786f6;var _0x550a2a=_0x414ee0[_0x540d3f(0x218)],_0x28b9fb,_0x17830e;_0x28b9fb=_0x414ee0[_0x540d3f(0x17e)],_0x17830e=_0x414ee0[_0x540d3f(0x185)];_0x550a2a=='S'&&(_0x28b9fb=_0x414ee0[_0x540d3f(0x17a)],_0x17830e=_0x414ee0['to_quantity']*_0x414ee0['maxPerUnit']);const _0x47a4d6={'itemcode':_0x414ee0['product_code'],'itemdescription':_0x414ee0[_0x540d3f(0x1f6)],'qty':_0x17830e,'unit':_0x28b9fb,'proddate':_0x414ee0['production_date'],'batchno':_0x414ee0[_0x540d3f(0x1fe)],'binloc':_0x3d937d+_0x414ee0[_0x540d3f(0x22e)],'qtyFrom':_0x414ee0[_0x540d3f(0x21b)],'binlocFrom':_0x3d937d+_0x414ee0['from_bay']};_0x2a429e+=_0x17830e,_0xe90c9a[_0x540d3f(0x1ed)][_0x540d3f(0x16e)](_0x47a4d6);}),_0x27c147[_0x1786f6(0x22b)](_0xe90c9a,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x27c147[_0x1786f6(0x1d0)](_0x1786f6(0x19c))['fontSize'](0x8),'prepareRow':(_0x42aa7e,_0x464a72,_0x57218c,_0x332c4a)=>_0x27c147[_0x1786f6(0x1d0)](_0x1786f6(0x17c))[_0x1786f6(0x16f)](0x8)});var _0x272fec=_0x27c147['y'],_0x521d1e=_0x27c147['x'];_0x27c147[_0x1786f6(0x16f)](0xa)[_0x1786f6(0x21f)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x521d1e+0x7d,_0x272fec),_0x27c147[_0x1786f6(0x16f)](0xa)[_0x1786f6(0x21f)](_0x1786f6(0x22a),_0x521d1e,_0x272fec+=0x15e),_0x27c147[_0x1786f6(0x16f)](0xa)['text'](_0x2a429e,_0x521d1e+0xd7,_0x272fec,{'underline':!![]}),_0x27c147['fontSize'](0xa)[_0x1786f6(0x21f)]('Picked\x20By\x20\x20\x20:\x20',_0x521d1e,_0x272fec+=0x19),_0x27c147[_0x1786f6(0x16f)](0xa)['text']('\x20'['repeat'](0x3c),_0x521d1e+0x3e,_0x272fec,{'underline':!![]}),_0x27c147['fontSize'](0xa)['text'](_0x1786f6(0x179),_0x521d1e,_0x272fec+=0x32),_0x27c147[_0x1786f6(0x16f)](0xa)['text'](_0x1786f6(0x1ab),_0x521d1e+0x3c,_0x272fec,{'underline':!![]}),_0x27c147['fontSize'](0xa)[_0x1786f6(0x21f)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x521d1e+0x3c,_0x272fec+0xc);let _0x4c677f=_0x27c147[_0x1786f6(0x206)]();for(let _0x304f6f=0x0;_0x304f6f<_0x4c677f[_0x1786f6(0x21c)];_0x304f6f++){_0x27c147[_0x1786f6(0x213)](_0x304f6f);let _0x3f4d9b=_0x27c147['page'][_0x1786f6(0x1c4)][_0x1786f6(0x1bc)];_0x27c147[_0x1786f6(0x22d)]['margins'][_0x1786f6(0x1bc)]=0x0,_0x27c147[_0x1786f6(0x21f)](_0x1786f6(0x1b5)+(_0x304f6f+0x1)+_0x1786f6(0x1e5)+_0x4c677f[_0x1786f6(0x21c)],0x0,_0x27c147[_0x1786f6(0x22d)][_0x1786f6(0x196)]-_0x3f4d9b/0x2,{'align':'center'}),_0x27c147[_0x1786f6(0x22d)][_0x1786f6(0x1c4)][_0x1786f6(0x1bc)]=_0x3f4d9b;}const _0x5160ac=_0x27c147['y'],_0xfb14a8=_0x27c147['x'];_0x27c147[_0x1786f6(0x1a9)]();}catch(_0x401a2b){console[_0x1786f6(0x193)](_0x401a2b),_0x58a2ef['status'](0x1f4)['send'](_0x1786f6(0x208));}}),router[a0_0x5363e3(0x21e)](a0_0x5363e3(0x184),auth,async(_0xcc8497,_0x518224)=>{const _0x47d073=a0_0x5363e3;try{const {username:_0x2dd9fe,email:_0x1db9f8,role:_0x56151b}=_0xcc8497['user'],_0x3d83ba=_0xcc8497[_0x47d073(0x209)],_0x3f08c1=await profile['findOne']({'email':_0x3d83ba[_0x47d073(0x1a5)]}),_0x522e21=await master_shop[_0x47d073(0x1d5)](),_0x433fe3=_0xcc8497[_0x47d073(0x17b)]['id'],_0x5ee730=await adjustment_finished[_0x47d073(0x1ba)](_0x433fe3);var _0x6741f4,_0x1f8490;_0x6741f4=_0x47d073(0x200),_0x1f8490=_0x47d073(0x1e1);_0x5ee730[_0x47d073(0x1e2)]==_0x47d073(0x197)&&(_0x6741f4=_0x47d073(0x16c),_0x1f8490='');const _0x3e8e6c=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x518224[_0x47d073(0x22c)](_0x47d073(0x1a1),_0x47d073(0x190)+_0x433fe3+_0x47d073(0x1eb)),_0x518224[_0x47d073(0x22c)](_0x47d073(0x1de),_0x47d073(0x174));var _0x4c3096=0x14,_0x4080fd=0x3c;_0x3e8e6c['pipe'](_0x518224),_0x3e8e6c[_0x47d073(0x233)](_0x47d073(0x1df)+_0x522e21[0x0][_0x47d073(0x233)],0x14,0x0,{'fit':[0x64,0x64]}),_0x3e8e6c[_0x47d073(0x16f)](0x14)[_0x47d073(0x21f)](_0x47d073(0x219),_0x4c3096,_0x4080fd),_0x3e8e6c[_0x47d073(0x16f)](0xa)[_0x47d073(0x21f)](_0x47d073(0x228),_0x4c3096,_0x4080fd+=0xf),_0x3e8e6c[_0x47d073(0x16f)](0xf)[_0x47d073(0x21f)](_0x6741f4,_0x4c3096,_0x4080fd+=0x32),_0x3e8e6c[_0x47d073(0x16f)](0xa)[_0x47d073(0x21f)](_0x1f8490,_0x4c3096,_0x4080fd+=0x14),_0x3e8e6c[_0x47d073(0x16f)](0x9)[_0x47d073(0x21f)]('Warehouse\x20',_0x4c3096,_0x4080fd+=0x28),_0x3e8e6c[_0x47d073(0x16f)](0x9)[_0x47d073(0x21f)](_0x47d073(0x187)+_0x5ee730[_0x47d073(0x188)],_0x4c3096+0x3f,_0x4080fd),_0x3e8e6c[_0x47d073(0x16f)](0x9)[_0x47d073(0x21f)](_0x47d073(0x1ce),_0x4c3096,_0x4080fd+=0xb),_0x3e8e6c[_0x47d073(0x16f)](0x9)[_0x47d073(0x21f)](_0x47d073(0x187)+_0x5ee730[_0x47d073(0x1af)],_0x4c3096+0x3f,_0x4080fd),_0x3e8e6c['fontSize'](0x9)[_0x47d073(0x21f)](_0x47d073(0x173),_0x4c3096,_0x4080fd+=0xb),_0x3e8e6c[_0x47d073(0x16f)](0x9)['text']('\x20:\x20'+_0x5ee730[_0x47d073(0x1a8)],_0x4c3096+0x3f,_0x4080fd);const _0x39d74f={'headers':[{'label':_0x47d073(0x1d1),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x47d073(0x23d),'property':_0x47d073(0x1b4),'width':0x96,'renderer':null},{'label':_0x47d073(0x1dd),'property':_0x47d073(0x1e3),'width':0x3c,'renderer':null},{'label':_0x47d073(0x23a),'property':_0x47d073(0x17e),'width':0x3c,'renderer':null},{'label':'Production\x20Date','property':_0x47d073(0x1cc),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x47d073(0x23e),'width':0x3f,'renderer':null},{'label':_0x47d073(0x230),'property':_0x47d073(0x16d),'width':0x3f,'renderer':null}],'datas':[]};var _0x10d3db=0x0;let _0x2951fa='';var _0x262ce2=0x0;_0x5ee730[_0x47d073(0x188)]==_0x47d073(0x21d)?_0x2951fa='DG':_0x2951fa='FG';_0x5ee730['product'][_0x47d073(0x1da)](_0x129a3f=>{const _0xd93cf1=_0x47d073;console[_0xd93cf1(0x193)](_0x129a3f);var _0x471cb7=_0x129a3f[_0xd93cf1(0x218)],_0xcf4665,_0x1444d0;_0xcf4665=_0x129a3f[_0xd93cf1(0x17e)],_0x1444d0=_0x129a3f[_0xd93cf1(0x210)];_0x471cb7=='S'&&(_0xcf4665=_0x129a3f[_0xd93cf1(0x17a)],_0x1444d0=_0x129a3f[_0xd93cf1(0x210)]*_0x129a3f[_0xd93cf1(0x18f)]);const _0x4044a4={'itemcode':_0x129a3f[_0xd93cf1(0x1b6)],'itemdescription':_0x129a3f['product_name'],'qty':_0x1444d0,'unit':_0xcf4665,'proddate':_0x129a3f[_0xd93cf1(0x1c0)],'batchno':_0x129a3f[_0xd93cf1(0x1fe)],'binloc':_0x2951fa+_0x129a3f[_0xd93cf1(0x22f)]};_0x10d3db+=_0x1444d0,_0x39d74f[_0xd93cf1(0x1ed)][_0xd93cf1(0x16e)](_0x4044a4);}),_0x3e8e6c[_0x47d073(0x22b)](_0x39d74f,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x3e8e6c[_0x47d073(0x1d0)](_0x47d073(0x19c))[_0x47d073(0x16f)](0x8),'prepareRow':(_0x3f4190,_0x16637a,_0x5508a9,_0x4511c5)=>_0x3e8e6c[_0x47d073(0x1d0)](_0x47d073(0x17c))[_0x47d073(0x16f)](0x8)});var _0x20801b=_0x3e8e6c['y'],_0xb082c2=_0x3e8e6c['x'];_0x3e8e6c[_0x47d073(0x16f)](0xa)[_0x47d073(0x21f)](_0x47d073(0x236),_0xb082c2+0x7d,_0x20801b),_0x3e8e6c[_0x47d073(0x16f)](0xa)[_0x47d073(0x21f)](_0x47d073(0x175),_0xb082c2,_0x20801b+=0x15e),_0x3e8e6c['fontSize'](0xa)[_0x47d073(0x21f)](_0x10d3db,_0xb082c2+0xc8,_0x20801b),_0x3e8e6c['fontSize'](0xa)[_0x47d073(0x21f)]('Picked\x20By\x20\x20\x20:\x20',_0xb082c2,_0x20801b+=0x19),_0x3e8e6c[_0x47d073(0x16f)](0xa)['text']('\x20'[_0x47d073(0x1fc)](0x3c),_0xb082c2+0x3e,_0x20801b,{'underline':!![]}),_0x3e8e6c['fontSize'](0xa)[_0x47d073(0x21f)]('Checked\x20By\x20',_0xb082c2,_0x20801b+=0x32),_0x3e8e6c[_0x47d073(0x16f)](0xa)[_0x47d073(0x21f)](_0x47d073(0x187),_0xb082c2+0x37,_0x20801b),_0x3e8e6c[_0x47d073(0x16f)](0xa)[_0x47d073(0x21f)](_0x47d073(0x1ab),_0xb082c2+0x3c,_0x20801b,{'underline':!![]}),_0x3e8e6c['fontSize'](0xa)['text'](_0x47d073(0x189),_0xb082c2+0x3c,_0x20801b+0xc);let _0x5d3ca2=_0x3e8e6c[_0x47d073(0x206)]();for(let _0x574dd2=0x0;_0x574dd2<_0x5d3ca2[_0x47d073(0x21c)];_0x574dd2++){_0x3e8e6c[_0x47d073(0x213)](_0x574dd2);let _0x123859=_0x3e8e6c['page'][_0x47d073(0x1c4)][_0x47d073(0x1bc)];_0x3e8e6c[_0x47d073(0x22d)][_0x47d073(0x1c4)][_0x47d073(0x1bc)]=0x0,_0x3e8e6c[_0x47d073(0x21f)](_0x47d073(0x1b5)+(_0x574dd2+0x1)+'\x20of\x20'+_0x5d3ca2[_0x47d073(0x21c)],0x0,_0x3e8e6c[_0x47d073(0x22d)]['height']-_0x123859/0x2,{'align':'center'}),_0x3e8e6c['page'][_0x47d073(0x1c4)][_0x47d073(0x1bc)]=_0x123859;}const _0x220328=_0x3e8e6c['y'],_0x382d76=_0x3e8e6c['x'];_0x3e8e6c['end']();}catch(_0x465a97){console['log'](_0x465a97),_0x518224['status'](0x1f4)[_0x47d073(0x1b2)](_0x47d073(0x208));}}),router[a0_0x5363e3(0x21e)](a0_0x5363e3(0x1f9),auth,async(_0x1c2650,_0x4f0e28)=>{const _0x3c3682=a0_0x5363e3;try{const {username:_0x487f36,email:_0x15e098,role:_0x36ae9e}=_0x1c2650['user'],_0x5b6b1e=_0x1c2650['user'],_0x34b624=await profile['findOne']({'email':_0x5b6b1e[_0x3c3682(0x1a5)]}),_0x34d97b=await master_shop[_0x3c3682(0x1d5)](),_0x45bec1=_0x1c2650[_0x3c3682(0x17b)]['id'],_0x16f877=await purchases_finished['findById'](_0x45bec1),_0xfa8e35=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4f0e28['setHeader'](_0x3c3682(0x1a1),_0x3c3682(0x190)+_0x45bec1+_0x3c3682(0x1eb)),_0x4f0e28['setHeader'](_0x3c3682(0x1de),'application/pdf');var _0x4c5251=0x14,_0xd1d589=0x3c;_0xfa8e35[_0x3c3682(0x231)](_0x4f0e28),_0xfa8e35[_0x3c3682(0x233)](_0x3c3682(0x1df)+_0x34d97b[0x0][_0x3c3682(0x233)],0x14,0x0,{'fit':[0x64,0x64]}),_0xfa8e35[_0x3c3682(0x16f)](0x14)['text'](_0x3c3682(0x219),_0x4c5251,_0xd1d589),_0xfa8e35[_0x3c3682(0x16f)](0xa)[_0x3c3682(0x21f)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x4c5251,_0xd1d589+=0xf),_0xfa8e35['fontSize'](0xf)[_0x3c3682(0x21f)](_0x3c3682(0x1f4),_0x4c5251,_0xd1d589+=0x32),_0xfa8e35[_0x3c3682(0x16f)](0xa)['text'](_0x3c3682(0x221),_0x4c5251,_0xd1d589+=0x14),_0xfa8e35[_0x3c3682(0x16f)](0x9)['text'](_0x3c3682(0x1f1),_0x4c5251,_0xd1d589+=0x28),_0xfa8e35['fontSize'](0x9)[_0x3c3682(0x21f)](_0x3c3682(0x187)+_0x16f877['warehouse_name'],_0x4c5251+0x3f,_0xd1d589),_0xfa8e35[_0x3c3682(0x16f)](0x9)[_0x3c3682(0x21f)](_0x3c3682(0x1db)+_0x16f877[_0x3c3682(0x232)],_0x4c5251+0x17c,_0xd1d589),_0xfa8e35[_0x3c3682(0x16f)](0x9)['text'](_0x3c3682(0x1ce),_0x4c5251,_0xd1d589+=0xb),_0xfa8e35[_0x3c3682(0x16f)](0x9)[_0x3c3682(0x21f)](_0x3c3682(0x187)+_0x16f877['date'],_0x4c5251+0x3f,_0xd1d589),_0xfa8e35['fontSize'](0x9)[_0x3c3682(0x21f)](_0x3c3682(0x173),_0x4c5251,_0xd1d589+=0xb),_0xfa8e35[_0x3c3682(0x16f)](0x9)[_0x3c3682(0x21f)](_0x3c3682(0x187)+_0x16f877['invoice'],_0x4c5251+0x3f,_0xd1d589);const _0x2e760c={'headers':[{'label':_0x3c3682(0x1d1),'property':_0x3c3682(0x1e9),'width':0x3c,'renderer':null},{'label':_0x3c3682(0x23d),'property':_0x3c3682(0x1b4),'width':0xc8,'renderer':null},{'label':_0x3c3682(0x1dd),'property':_0x3c3682(0x1e3),'width':0x3c,'renderer':null},{'label':_0x3c3682(0x23a),'property':_0x3c3682(0x17e),'width':0x3c,'renderer':null},{'label':_0x3c3682(0x1e4),'property':'expdate','width':0x50,'renderer':null},{'label':_0x3c3682(0x1ad),'property':_0x3c3682(0x23e),'width':0x3f,'renderer':null},{'label':_0x3c3682(0x230),'property':_0x3c3682(0x16d),'width':0x3f,'renderer':null}],'datas':[]};var _0x311639=0x0;let _0x509708='';_0x16f877[_0x3c3682(0x188)]=='DRY\x20GOODS'?_0x509708='DG':_0x509708='FG';_0x16f877['product']['forEach'](_0x38f6ea=>{const _0x49da63=_0x3c3682;let _0x3178ae='';var _0x31771a=0x0;const _0x9d39c9={'itemcode':_0x38f6ea[_0x49da63(0x1b6)],'itemdescription':_0x38f6ea[_0x49da63(0x1f6)],'qty':_0x38f6ea[_0x49da63(0x1bd)],'unit':_0x38f6ea[_0x49da63(0x19a)],'expdate':_0x38f6ea[_0x49da63(0x1c1)],'batchno':_0x38f6ea['batch_code'],'binloc':_0x509708+_0x38f6ea[_0x49da63(0x22f)]};_0x311639+=_0x38f6ea[_0x49da63(0x1bd)],_0x2e760c[_0x49da63(0x1ed)]['push'](_0x9d39c9);}),_0xfa8e35[_0x3c3682(0x22b)](_0x2e760c,{'x':0x14,'y':0x118,'prepareHeader':()=>_0xfa8e35['font'](_0x3c3682(0x19c))[_0x3c3682(0x16f)](0x8),'prepareRow':(_0x1d51af,_0x3e2206,_0xaa199,_0x1454a9)=>_0xfa8e35[_0x3c3682(0x1d0)](_0x3c3682(0x17c))[_0x3c3682(0x16f)](0x8)});var _0x90d4f2=_0xfa8e35['y'],_0x2a2681=_0xfa8e35['x'];_0xfa8e35[_0x3c3682(0x16f)](0xa)[_0x3c3682(0x21f)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x2a2681+0x7d,_0x90d4f2),_0xfa8e35[_0x3c3682(0x16f)](0xa)['text'](_0x3c3682(0x22a),_0x2a2681,_0x90d4f2+=0x15e),_0xfa8e35[_0x3c3682(0x16f)](0xa)[_0x3c3682(0x21f)](_0x311639,_0x2a2681+0xfa,_0x90d4f2),_0xfa8e35[_0x3c3682(0x16f)](0xa)[_0x3c3682(0x21f)]('Picked\x20By\x20\x20\x20\x20:\x20',_0x2a2681,_0x90d4f2+=0x19),_0xfa8e35[_0x3c3682(0x16f)](0xa)[_0x3c3682(0x21f)](_0x3c3682(0x1fd),_0x2a2681+0x37,_0x90d4f2,{'underline':!![]}),_0xfa8e35[_0x3c3682(0x16f)](0xa)[_0x3c3682(0x21f)](_0x3c3682(0x1cf),_0x2a2681,_0x90d4f2+0x32),_0xfa8e35[_0x3c3682(0x16f)](0xa)[_0x3c3682(0x21f)](_0x3c3682(0x1ab),_0x2a2681+0x32,_0x90d4f2+0x32,{'underline':!![]}),_0xfa8e35['fontSize'](0xa)['text']('Finished\x20Good\x20Warehouse\x20Supervisor',_0x2a2681+0x32,_0x90d4f2+0x3c);let _0x707744=_0xfa8e35['bufferedPageRange']();for(let _0xac750d=0x0;_0xac750d<_0x707744['count'];_0xac750d++){_0xfa8e35['switchToPage'](_0xac750d);let _0x4d4059=_0xfa8e35['page'][_0x3c3682(0x1c4)][_0x3c3682(0x1bc)];_0xfa8e35['page'][_0x3c3682(0x1c4)]['bottom']=0x0,_0xfa8e35['text'](_0x3c3682(0x1b5)+(_0xac750d+0x1)+_0x3c3682(0x1e5)+_0x707744[_0x3c3682(0x21c)],0x0,_0xfa8e35[_0x3c3682(0x22d)][_0x3c3682(0x196)]-_0x4d4059/0x2,{'align':_0x3c3682(0x1cb)}),_0xfa8e35[_0x3c3682(0x22d)][_0x3c3682(0x1c4)][_0x3c3682(0x1bc)]=_0x4d4059;}const _0x2ebb5f=_0xfa8e35['y'],_0x3b7a39=_0xfa8e35['x'];_0xfa8e35[_0x3c3682(0x1a9)]();}catch(_0x3ddbab){console['log'](_0x3ddbab),_0x4f0e28[_0x3c3682(0x223)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x5363e3(0x21e)](a0_0x5363e3(0x20a),auth,async(_0x590716,_0xbf5cd)=>{const _0x47a6d5=a0_0x5363e3;try{const {username:_0x5a35c5,email:_0x4ff08c,role:_0x4b33b5}=_0x590716['user'],_0x18c004=_0x590716[_0x47a6d5(0x209)],_0x582bbd=await profile['findOne']({'email':_0x18c004[_0x47a6d5(0x1a5)]}),_0x5d4567=await master_shop[_0x47a6d5(0x1d5)](),_0x3a56bf=_0x590716[_0x47a6d5(0x17b)]['id'],_0x1605c6=await sales_return_finished[_0x47a6d5(0x1ba)](_0x3a56bf),_0x10933b=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0xbf5cd[_0x47a6d5(0x22c)](_0x47a6d5(0x1a1),_0x47a6d5(0x190)+_0x3a56bf+_0x47a6d5(0x1eb)),_0xbf5cd[_0x47a6d5(0x22c)](_0x47a6d5(0x1de),_0x47a6d5(0x174));var _0x202352=0x14,_0x8cbe27=0x64;_0x10933b[_0x47a6d5(0x231)](_0xbf5cd),_0x10933b[_0x47a6d5(0x233)](_0x47a6d5(0x1df)+_0x5d4567[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x10933b[_0x47a6d5(0x16f)](0x14)[_0x47a6d5(0x21f)](_0x47a6d5(0x219),_0x202352,_0x8cbe27),_0x10933b[_0x47a6d5(0x16f)](0xa)[_0x47a6d5(0x21f)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x202352,_0x8cbe27+=0xf),_0x10933b['fontSize'](0xf)[_0x47a6d5(0x21f)](_0x47a6d5(0x200),_0x202352,_0x8cbe27+=0x32),_0x10933b[_0x47a6d5(0x16f)](0xa)[_0x47a6d5(0x21f)](_0x47a6d5(0x1c8),_0x202352,_0x8cbe27+=0x1e),_0x10933b[_0x47a6d5(0x16f)](0x9)[_0x47a6d5(0x21f)](_0x47a6d5(0x23c)+_0x1605c6[_0x47a6d5(0x17d)],_0x202352,_0x8cbe27+=0x28),_0x10933b['fontSize'](0x9)[_0x47a6d5(0x21f)]('Customer\x20:\x20'+_0x1605c6[_0x47a6d5(0x225)],0x190,0xd2,{'underline':!![]}),_0x10933b[_0x47a6d5(0x16f)](0x9)[_0x47a6d5(0x21f)](_0x47a6d5(0x172),_0x202352,_0x8cbe27+=0xb),_0x10933b[_0x47a6d5(0x16f)](0x9)[_0x47a6d5(0x21f)](_0x47a6d5(0x1c2)+_0x1605c6[_0x47a6d5(0x1af)],_0x202352,_0x8cbe27+=0xb),_0x10933b[_0x47a6d5(0x16f)](0x9)[_0x47a6d5(0x21f)](_0x47a6d5(0x1c9)+_0x1605c6[_0x47a6d5(0x1a8)],_0x202352,_0x8cbe27+=0xb);var _0x2a17f6='',_0x54446f='',_0x490c1f=0x0,_0x25f8cb;console[_0x47a6d5(0x193)](_0x1605c6[_0x47a6d5(0x220)]);_0x1605c6[_0x47a6d5(0x220)]=='GS'?(_0x1605c6[_0x47a6d5(0x188)]==_0x47a6d5(0x21d)?warecode='DG':warecode='FG',_0x2a17f6={'headers':[{'label':'Item\x20Code','property':'itemcode','width':0x3c,'renderer':null},{'label':_0x47a6d5(0x23d),'property':_0x47a6d5(0x1b4),'width':0xc8,'renderer':null},{'label':_0x47a6d5(0x1dd),'property':_0x47a6d5(0x1e3),'width':0x3c,'renderer':null},{'label':_0x47a6d5(0x23a),'property':_0x47a6d5(0x17e),'width':0x3c,'renderer':null},{'label':_0x47a6d5(0x1e4),'property':_0x47a6d5(0x211),'width':0x50,'renderer':null},{'label':_0x47a6d5(0x1ad),'property':_0x47a6d5(0x23e),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x47a6d5(0x16d),'width':0x3f,'renderer':null}],'datas':[]},_0x1605c6[_0x47a6d5(0x1c3)][_0x47a6d5(0x1da)](_0x1c9117=>{const _0xe0cda4=_0x47a6d5;let _0x3c10fd='';var _0x46e1a8=0x0;_0x54446f={'itemcode':_0x1c9117[_0xe0cda4(0x1b6)],'itemdescription':_0x1c9117['product_name'],'qty':_0x1c9117[_0xe0cda4(0x1ef)],'unit':_0x1c9117['unit'],'expdate':_0x1c9117[_0xe0cda4(0x1c1)],'batchno':_0x1c9117[_0xe0cda4(0x1fe)],'binloc':warecode+_0x1c9117[_0xe0cda4(0x22f)]},_0x490c1f+=_0x1c9117['return_qty'],console[_0xe0cda4(0x193)](_0x1c9117),_0x2a17f6[_0xe0cda4(0x1ed)][_0xe0cda4(0x16e)](_0x54446f);})):(_0x2a17f6={'headers':[{'label':_0x47a6d5(0x1d1),'property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x47a6d5(0x1b4),'width':0xc8,'renderer':null},{'label':_0x47a6d5(0x1dd),'property':_0x47a6d5(0x1e3),'width':0x3c,'renderer':null},{'label':_0x47a6d5(0x23a),'property':_0x47a6d5(0x17e),'width':0x3c,'renderer':null},{'label':_0x47a6d5(0x1e4),'property':'expdate','width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x47a6d5(0x23e),'width':0x3f,'renderer':null}],'datas':[]},_0x1605c6[_0x47a6d5(0x192)][_0x47a6d5(0x1da)](_0x235b0e=>{const _0x26d02e=_0x47a6d5;let _0x4cb724='';var _0x59fb24=0x0;_0x54446f={'itemcode':_0x235b0e[_0x26d02e(0x1b6)],'itemdescription':_0x235b0e[_0x26d02e(0x1f6)],'qty':_0x235b0e[_0x26d02e(0x1ef)],'unit':_0x235b0e[_0x26d02e(0x17e)],'expdate':_0x235b0e[_0x26d02e(0x1c1)],'batchno':_0x235b0e['batch_code']},_0x490c1f+=_0x235b0e[_0x26d02e(0x1ef)],console[_0x26d02e(0x193)](_0x490c1f+_0x26d02e(0x217)+_0x235b0e['return_qty']),_0x2a17f6['datas'][_0x26d02e(0x16e)](_0x54446f);}));_0x10933b['table'](_0x2a17f6,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x10933b[_0x47a6d5(0x1d0)](_0x47a6d5(0x19c))[_0x47a6d5(0x16f)](0x8),'prepareRow':(_0x401afa,_0x57908d,_0x590f30,_0x333178)=>_0x10933b[_0x47a6d5(0x1d0)](_0x47a6d5(0x17c))[_0x47a6d5(0x16f)](0x8)});var _0x5e8bcc=_0x10933b['y'],_0x1e6848=_0x10933b['x'];_0x10933b['fontSize'](0xa)[_0x47a6d5(0x21f)](_0x47a6d5(0x236),_0x1e6848+0x7d,_0x5e8bcc),_0x10933b[_0x47a6d5(0x16f)](0xa)['text'](_0x47a6d5(0x22a),_0x1e6848,_0x5e8bcc+=0x190),_0x10933b[_0x47a6d5(0x16f)](0xa)[_0x47a6d5(0x21f)](_0x490c1f,_0x1e6848+0x37,_0x5e8bcc,{'underline':!![]}),_0x10933b[_0x47a6d5(0x16f)](0xa)[_0x47a6d5(0x21f)]('Check\x20By:\x20',_0x1e6848,_0x5e8bcc+0x1e),_0x10933b[_0x47a6d5(0x16f)](0xa)[_0x47a6d5(0x21f)](_0x47a6d5(0x1ac),_0x1e6848+0x32,_0x5e8bcc+0x1e,{'underline':!![]});let _0x2f8868=_0x10933b['bufferedPageRange']();for(let _0x414a5a=0x0;_0x414a5a<_0x2f8868[_0x47a6d5(0x21c)];_0x414a5a++){_0x10933b[_0x47a6d5(0x213)](_0x414a5a);let _0x12ef9a=_0x10933b['page']['margins'][_0x47a6d5(0x1bc)];_0x10933b[_0x47a6d5(0x22d)]['margins'][_0x47a6d5(0x1bc)]=0x0,_0x10933b['text'](_0x47a6d5(0x1b5)+(_0x414a5a+0x1)+_0x47a6d5(0x1e5)+_0x2f8868[_0x47a6d5(0x21c)],0x0,_0x10933b[_0x47a6d5(0x22d)][_0x47a6d5(0x196)]-_0x12ef9a/0x2,{'align':_0x47a6d5(0x1cb)}),_0x10933b['page']['margins'][_0x47a6d5(0x1bc)]=_0x12ef9a;}const _0x4c50b1=_0x10933b['y'],_0x2b8e04=_0x10933b['x'];_0x10933b[_0x47a6d5(0x1a9)]();}catch(_0x20c5fc){console[_0x47a6d5(0x193)](_0x20c5fc),_0xbf5cd['status'](0x1f4)['send'](_0x47a6d5(0x208));}}),router['get'](a0_0x5363e3(0x1c7),auth,async(_0x1e54e0,_0x3cef95)=>{const _0x14e933=a0_0x5363e3;try{const {username:_0x184a7d,email:_0x3d19e0,role:_0x5bc60b}=_0x1e54e0[_0x14e933(0x209)],_0x518225=_0x1e54e0[_0x14e933(0x209)],_0x218a4e=await profile[_0x14e933(0x1fb)]({'email':_0x518225['email']}),_0x520f52=await master_shop['find'](),_0x5d5fdb=_0x1e54e0[_0x14e933(0x17b)]['id'],_0x5bff18=await purchases[_0x14e933(0x1ba)](_0x5d5fdb),_0x27dfbb=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3cef95[_0x14e933(0x22c)](_0x14e933(0x1a1),_0x14e933(0x190)+_0x5d5fdb+_0x14e933(0x1eb)),_0x3cef95[_0x14e933(0x22c)](_0x14e933(0x1de),_0x14e933(0x174));var _0x4d351f=0x14,_0x1e8a5a=0x3c;_0x27dfbb[_0x14e933(0x231)](_0x3cef95),_0x27dfbb[_0x14e933(0x233)]('./public/upload/'+_0x520f52[0x0][_0x14e933(0x233)],0x14,0x0,{'fit':[0x64,0x64]}),_0x27dfbb[_0x14e933(0x16f)](0x14)[_0x14e933(0x21f)](_0x14e933(0x219),_0x4d351f,_0x1e8a5a),_0x27dfbb[_0x14e933(0x16f)](0xa)[_0x14e933(0x21f)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x4d351f,_0x1e8a5a+=0xf),_0x27dfbb[_0x14e933(0x16f)](0xf)[_0x14e933(0x21f)](_0x14e933(0x1d3),_0x4d351f,_0x1e8a5a+=0x32),_0x27dfbb['fontSize'](0xa)[_0x14e933(0x21f)]('(INCOMING)',_0x4d351f,_0x1e8a5a+=0x14),_0x27dfbb[_0x14e933(0x16f)](0x9)[_0x14e933(0x21f)](_0x14e933(0x1f1),_0x4d351f,_0x1e8a5a+=0x2d),_0x27dfbb[_0x14e933(0x16f)](0x9)[_0x14e933(0x21f)](_0x14e933(0x187)+_0x5bff18[_0x14e933(0x188)],_0x4d351f+0x3f,_0x1e8a5a),_0x27dfbb[_0x14e933(0x16f)](0x9)[_0x14e933(0x21f)](_0x14e933(0x1d8)+_0x5bff18[_0x14e933(0x171)],_0x4d351f+0x17c,_0x1e8a5a,{'underline':!![]}),_0x27dfbb[_0x14e933(0x16f)](0x9)['text'](_0x14e933(0x1ce),_0x4d351f,_0x1e8a5a+=0xb),_0x27dfbb[_0x14e933(0x16f)](0x9)[_0x14e933(0x21f)](_0x14e933(0x187)+_0x5bff18[_0x14e933(0x1af)],_0x4d351f+0x3f,_0x1e8a5a),_0x27dfbb[_0x14e933(0x16f)](0x9)[_0x14e933(0x21f)](_0x14e933(0x173),_0x4d351f,_0x1e8a5a+=0xb),_0x27dfbb['fontSize'](0x9)[_0x14e933(0x21f)](_0x14e933(0x187)+_0x5bff18[_0x14e933(0x1a8)],_0x4d351f+0x3f,_0x1e8a5a);const _0x18f68c={'headers':[{'label':_0x14e933(0x1d1),'property':_0x14e933(0x1e9),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0x96,'renderer':null},{'label':'QTY','property':_0x14e933(0x1e3),'width':0x2d,'renderer':null},{'label':_0x14e933(0x23a),'property':'unit','width':0x3c,'renderer':null},{'label':_0x14e933(0x1e4),'property':'expdate','width':0x46,'renderer':null},{'label':_0x14e933(0x1ad),'property':_0x14e933(0x23e),'width':0x3c,'renderer':null},{'label':_0x14e933(0x230),'property':'binloc','width':0x3c,'renderer':null},{'label':'Delivery\x20Code','property':_0x14e933(0x226),'width':0x3f,'renderer':null}],'datas':[]};var _0x348947=0x0;let _0x9f885a='';_0x5bff18[_0x14e933(0x237)][_0x14e933(0x1da)](_0x4c7403=>{const _0x27af6f=_0x14e933;let _0x2046a2='';var _0x22611b=0x0;const _0x428956={'itemcode':_0x4c7403[_0x27af6f(0x1b6)],'itemdescription':_0x4c7403[_0x27af6f(0x1f6)],'qty':_0x4c7403[_0x27af6f(0x1bd)],'unit':_0x4c7403[_0x27af6f(0x19a)],'expdate':_0x4c7403[_0x27af6f(0x1c1)],'batchno':_0x4c7403[_0x27af6f(0x1fe)],'binloc':_0x4c7403['storage']+_0x4c7403['rack']+_0x4c7403['bay']+_0x4c7403['bin']+_0x4c7403['type'][0x0]+_0x4c7403[_0x27af6f(0x1aa)],'DelCode':_0x4c7403[_0x27af6f(0x1a0)]};_0x348947+=_0x4c7403['quantity'],_0x18f68c['datas'][_0x27af6f(0x16e)](_0x428956);}),_0x27dfbb[_0x14e933(0x22b)](_0x18f68c,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x27dfbb[_0x14e933(0x1d0)](_0x14e933(0x19c))[_0x14e933(0x16f)](0x8),'prepareRow':(_0x17ec43,_0x5e254d,_0x4a50d0,_0x51d088)=>_0x27dfbb['font'](_0x14e933(0x17c))[_0x14e933(0x16f)](0x8)});var _0x296a08=_0x27dfbb['y'],_0x8f6d4e=_0x27dfbb['x'];_0x27dfbb[_0x14e933(0x16f)](0xa)['text'](_0x14e933(0x236),_0x8f6d4e+0x7d,_0x296a08),_0x27dfbb['fontSize'](0xa)['text'](_0x14e933(0x22a),_0x8f6d4e,_0x296a08+=0x15e),_0x27dfbb[_0x14e933(0x16f)](0xa)[_0x14e933(0x21f)](_0x348947,_0x8f6d4e+0xf0,_0x296a08,{'underline':!![]}),_0x27dfbb['fontSize'](0xa)[_0x14e933(0x21f)](_0x14e933(0x1a6),_0x8f6d4e,_0x296a08+0x28),_0x27dfbb[_0x14e933(0x16f)](0xa)['text']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x8f6d4e+0x40,_0x296a08+0x28,{'underline':!![]}),_0x27dfbb[_0x14e933(0x16f)](0xa)[_0x14e933(0x21f)](_0x14e933(0x203),_0x8f6d4e+0x40,_0x296a08+0x32);let _0x674a18=_0x27dfbb[_0x14e933(0x206)]();for(let _0x3aafcd=0x0;_0x3aafcd<_0x674a18[_0x14e933(0x21c)];_0x3aafcd++){_0x27dfbb['switchToPage'](_0x3aafcd);let _0x139d9f=_0x27dfbb[_0x14e933(0x22d)][_0x14e933(0x1c4)][_0x14e933(0x1bc)];_0x27dfbb[_0x14e933(0x22d)]['margins']['bottom']=0x0,_0x27dfbb[_0x14e933(0x21f)](_0x14e933(0x1b5)+(_0x3aafcd+0x1)+_0x14e933(0x1e5)+_0x674a18[_0x14e933(0x21c)],0x0,_0x27dfbb[_0x14e933(0x22d)][_0x14e933(0x196)]-_0x139d9f/0x2,{'align':_0x14e933(0x1cb)}),_0x27dfbb[_0x14e933(0x22d)]['margins'][_0x14e933(0x1bc)]=_0x139d9f;}const _0x35b4dc=_0x27dfbb['y'],_0x4ec06c=_0x27dfbb['x'];_0x27dfbb[_0x14e933(0x1a9)]();}catch(_0x40a9b0){console[_0x14e933(0x193)](_0x40a9b0),_0x3cef95[_0x14e933(0x223)](0x1f4)[_0x14e933(0x1b2)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x5363e3(0x21e)](a0_0x5363e3(0x23b),auth,async(_0x8c0365,_0x40a9ef)=>{const _0x25e086=a0_0x5363e3;try{const {username:_0x2cd3c8,email:_0x18257c,role:_0x33dc49}=_0x8c0365['user'],_0x475e57=_0x8c0365[_0x25e086(0x209)],_0x42b681=await profile[_0x25e086(0x1fb)]({'email':_0x475e57['email']}),_0x23500a=await master_shop['find'](),_0x288883=_0x8c0365['params']['id'],_0xede37e=await sales[_0x25e086(0x1ba)](_0x288883),_0xf9059d=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x246f7d;_0x246f7d=_0x25e086(0x200);_0xede37e['finalize']==_0x25e086(0x197)&&(_0x246f7d=_0x25e086(0x1f2));_0x40a9ef[_0x25e086(0x22c)]('Content-disposition',_0x25e086(0x190)+_0x288883+_0x25e086(0x1eb)),_0x40a9ef['setHeader'](_0x25e086(0x1de),_0x25e086(0x174));var _0x14c8be=0x14,_0x21d29d=0x64;_0xf9059d[_0x25e086(0x231)](_0x40a9ef),_0xf9059d[_0x25e086(0x233)]('./public/upload/'+_0x23500a[0x0][_0x25e086(0x233)],0x14,0x0,{'fit':[0x64,0x64]}),_0xf9059d[_0x25e086(0x16f)](0x14)[_0x25e086(0x21f)](_0x25e086(0x219),_0x14c8be,_0x21d29d),_0xf9059d[_0x25e086(0x16f)](0xa)['text']('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x14c8be,_0x21d29d+=0xf),_0xf9059d[_0x25e086(0x16f)](0xf)['text'](_0x246f7d,_0x14c8be,_0x21d29d+=0x32),_0xf9059d[_0x25e086(0x16f)](0xa)[_0x25e086(0x21f)]('(OUTGOING)',_0x14c8be,_0x21d29d+=0x14),_0xf9059d[_0x25e086(0x16f)](0x9)['text'](_0x25e086(0x1ce),_0x14c8be,_0x21d29d+=0x19),_0xf9059d[_0x25e086(0x16f)](0x9)[_0x25e086(0x21f)](_0x25e086(0x187)+_0xede37e['date'],_0x14c8be+0x3f,_0x21d29d),_0xf9059d[_0x25e086(0x16f)](0x9)[_0x25e086(0x21f)]('REF\x20MRIS#\x20',_0x14c8be,_0x21d29d+=0xb),_0xf9059d[_0x25e086(0x16f)](0x9)[_0x25e086(0x21f)](_0x25e086(0x187)+_0xede37e[_0x25e086(0x1a8)],_0x14c8be+0x3f,_0x21d29d);const _0x2debe1={'headers':[{'label':'ITEM\x20CODE','property':_0x25e086(0x1e9),'align':_0x25e086(0x1cb),'width':0x2d,'renderer':null},{'label':_0x25e086(0x1bb),'property':_0x25e086(0x1b4),'align':'center','width':0x64,'renderer':null},{'label':_0x25e086(0x20c),'property':_0x25e086(0x235),'align':_0x25e086(0x1cb),'width':0x28,'renderer':null},{'label':_0x25e086(0x176),'property':'iqty','align':_0x25e086(0x1cb),'width':0x28,'renderer':null},{'label':_0x25e086(0x23a),'property':_0x25e086(0x17e),'align':_0x25e086(0x1cb),'width':0x28,'renderer':null},{'label':'LOCATION','property':_0x25e086(0x20b),'align':_0x25e086(0x1cb),'width':0x32,'renderer':null},{'label':_0x25e086(0x1d9),'property':_0x25e086(0x1cc),'align':_0x25e086(0x1cb),'width':0x3c,'renderer':null},{'label':_0x25e086(0x1bf),'property':_0x25e086(0x211),'align':_0x25e086(0x1cb),'width':0x3c,'renderer':null},{'label':'DELIVERY\x20DATE','property':'del_date','align':_0x25e086(0x1cb),'width':0x3f,'renderer':null},{'label':_0x25e086(0x18d),'property':_0x25e086(0x238),'align':_0x25e086(0x1cb),'width':0x3f,'renderer':null}],'datas':[]};var _0x408a9c=0x0;let _0x49d5a2='';var _0x4d6f5f=0x0,_0x14c8be=0x1;_0xede37e['sale_product']['forEach'](_0x2022d7=>{const _0x527c46=_0x25e086,_0x371221=new Date(_0x2022d7[_0x527c46(0x1c0)]),_0xc733be={'year':'numeric','month':_0x527c46(0x19b),'day':'numeric'},_0x1c4dec=_0x371221['toLocaleDateString'](_0x527c46(0x1dc),_0xc733be),_0x59a9d6=new Date(_0x2022d7[_0x527c46(0x1c1)]),_0x3444d0={'year':_0x527c46(0x222),'month':_0x527c46(0x19b),'day':'numeric'},_0x353ec4=_0x59a9d6[_0x527c46(0x1d4)](_0x527c46(0x1dc),_0x3444d0),_0x1fb5f7=new Date(_0x2022d7[_0x527c46(0x216)]),_0x3b20bc={'year':_0x527c46(0x222),'month':_0x527c46(0x19b),'day':_0x527c46(0x222)};var _0x467fd8=_0x1fb5f7[_0x527c46(0x1d4)](_0x527c46(0x1dc),_0x3b20bc);typeof _0x2022d7[_0x527c46(0x216)]==_0x527c46(0x227)&&(_0x467fd8='');const _0x5f06ac={'itemcode':_0x2022d7[_0x527c46(0x1b6)],'itemdescription':_0x2022d7[_0x527c46(0x1f6)],'rqty':_0x2022d7['requested_qty'],'iqty':_0x2022d7[_0x527c46(0x1bd)],'unit':_0x2022d7['unit'],'blocation':_0x2022d7['storage']+_0x2022d7[_0x527c46(0x1f5)]+_0x2022d7[_0x527c46(0x22f)]+_0x2022d7[_0x527c46(0x19d)]+_0x2022d7[_0x527c46(0x1f8)][0x0]+_0x2022d7[_0x527c46(0x1aa)],'proddate':_0x1c4dec,'expdate':_0x353ec4,'del_date':_0x467fd8,'del_code':_0x2022d7[_0x527c46(0x1a0)]};_0x14c8be++,_0x2debe1[_0x527c46(0x1ed)]['push'](_0x5f06ac);}),_0xf9059d[_0x25e086(0x22b)](_0x2debe1,{'x':_0x14c8be+0x11,'y':_0x21d29d+=0x1e,'prepareHeader':()=>_0xf9059d['font'](_0x25e086(0x19c))[_0x25e086(0x16f)](6.5),'prepareRow':(_0x1ed88b,_0x5e3fee,_0x4831ab,_0x455526,_0x473c7b)=>{const _0x4ba9d5=_0x25e086,{x:_0x3ceac2,y:_0x24c7ec,width:_0x152a27,height:_0x198dd4}=_0x473c7b;_0xf9059d['font'](_0x4ba9d5(0x17c))[_0x4ba9d5(0x16f)](0x8),_0xf9059d['lineWidth'](0.5)[_0x4ba9d5(0x1e0)](_0x3ceac2,_0x24c7ec)[_0x4ba9d5(0x1ea)](_0x3ceac2,_0x24c7ec+_0x198dd4)['stroke']();}});var _0xbfbcb=_0xf9059d['y'],_0x1e4df5=_0xf9059d['x'],_0x4575f3=_0xbfbcb-=0x8;_0xf9059d['lineWidth'](0x5),_0xf9059d['lineCap'](_0x25e086(0x170))['moveTo'](0x240,_0x4575f3)[_0x25e086(0x1ea)](0x11,_0x4575f3)['stroke'](),_0xf9059d['fontSize'](0xa)[_0x25e086(0x21f)](_0x25e086(0x236),_0x1e4df5+0x7d,_0xbfbcb+=0xf),_0xf9059d[_0x25e086(0x16f)](0xb)['text'](_0x25e086(0x1c5),_0x1e4df5,_0xbfbcb+=0x15e),_0xf9059d[_0x25e086(0x16f)](0xa)[_0x25e086(0x21f)](_0x25e086(0x181),_0x1e4df5+0x52,_0xbfbcb,{'underline':!![]}),_0xf9059d['fontSize'](0xa)[_0x25e086(0x21f)]('Picked\x20By',_0x1e4df5,_0xbfbcb+=0x19),_0xf9059d[_0x25e086(0x16f)](0xa)[_0x25e086(0x21f)](_0x25e086(0x187),_0x1e4df5+0x4b,_0xbfbcb),_0xf9059d[_0x25e086(0x16f)](0xa)[_0x25e086(0x21f)]('\x20'[_0x25e086(0x1fc)](0x3c),_0x1e4df5+0x50,_0xbfbcb,{'underline':!![]}),_0xf9059d['fontSize'](0xa)[_0x25e086(0x21f)](_0x25e086(0x19e),_0x1e4df5,_0xbfbcb+=0x32),_0xf9059d[_0x25e086(0x16f)](0xa)[_0x25e086(0x21f)](_0x25e086(0x187),_0x1e4df5+0x4b,_0xbfbcb),_0xf9059d['fontSize'](0xa)[_0x25e086(0x21f)](_0x25e086(0x20e),_0x1e4df5+0x50,_0xbfbcb,{'underline':!![]}),_0xf9059d[_0x25e086(0x16f)](0xa)[_0x25e086(0x21f)](_0x25e086(0x203),_0x1e4df5+0x50,_0xbfbcb+0xc);let _0x46cee5=_0xf9059d[_0x25e086(0x206)]();for(let _0x2b12b2=0x0;_0x2b12b2<_0x46cee5[_0x25e086(0x21c)];_0x2b12b2++){_0xf9059d[_0x25e086(0x213)](_0x2b12b2);let _0x24d52d=_0xf9059d[_0x25e086(0x22d)][_0x25e086(0x1c4)][_0x25e086(0x1bc)];_0xf9059d[_0x25e086(0x22d)][_0x25e086(0x1c4)][_0x25e086(0x1bc)]=0x0,_0xf9059d[_0x25e086(0x21f)](_0x25e086(0x1b5)+(_0x2b12b2+0x1)+'\x20of\x20'+_0x46cee5[_0x25e086(0x21c)],0x0,_0xf9059d[_0x25e086(0x22d)][_0x25e086(0x196)]-_0x24d52d/0x2,{'align':'center'}),_0xf9059d[_0x25e086(0x22d)][_0x25e086(0x1c4)][_0x25e086(0x1bc)]=_0x24d52d;}const _0x510b95=_0xf9059d['y'],_0xfc3a9c=_0xf9059d['x'];_0xf9059d['end']();}catch(_0x49b78b){console[_0x25e086(0x193)](_0x49b78b),_0x40a9ef[_0x25e086(0x223)](0x1f4)['send'](_0x25e086(0x208));}}),router[a0_0x5363e3(0x21e)](a0_0x5363e3(0x214),auth,async(_0x3c0ce2,_0x2a704b)=>{const _0x2dd752=a0_0x5363e3;try{const {username:_0x328540,email:_0xc08ea3,role:_0x425a90}=_0x3c0ce2[_0x2dd752(0x209)],_0x148621=_0x3c0ce2['user'],_0x5311b6=await profile[_0x2dd752(0x1fb)]({'email':_0x148621[_0x2dd752(0x1a5)]}),_0x23c258=await master_shop[_0x2dd752(0x1d5)](),_0x46318c=_0x3c0ce2[_0x2dd752(0x17b)]['id'],_0x36c228=await adjustment['findById'](_0x46318c);var _0x34592e,_0x264529;_0x34592e='PICKING\x20LIST',_0x264529=_0x2dd752(0x1e1);_0x36c228[_0x2dd752(0x1e2)]==_0x2dd752(0x197)&&(_0x34592e='INVENTORY\x20ADJUSTMENT',_0x264529='');const _0x318db1=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2a704b['setHeader']('Content-disposition','inline;\x20filename=\x22OUT-'+_0x46318c+_0x2dd752(0x1eb)),_0x2a704b[_0x2dd752(0x22c)](_0x2dd752(0x1de),_0x2dd752(0x174));var _0x59ef76=0x14,_0x57b83d=0x3c;_0x318db1[_0x2dd752(0x231)](_0x2a704b),_0x318db1[_0x2dd752(0x233)](_0x2dd752(0x1df)+_0x23c258[0x0][_0x2dd752(0x233)],0x14,0x0,{'fit':[0x64,0x64]}),_0x318db1[_0x2dd752(0x16f)](0x14)[_0x2dd752(0x21f)](_0x2dd752(0x219),_0x59ef76,_0x57b83d),_0x318db1['fontSize'](0xa)['text']('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x59ef76,_0x57b83d+=0xf),_0x318db1['fontSize'](0xf)['text'](_0x34592e,_0x59ef76,_0x57b83d+=0x32),_0x318db1['fontSize'](0xa)[_0x2dd752(0x21f)](_0x264529,_0x59ef76,_0x57b83d+=0x14),_0x318db1[_0x2dd752(0x16f)](0x9)['text'](_0x2dd752(0x1f1),_0x59ef76,_0x57b83d+=0x28),_0x318db1[_0x2dd752(0x16f)](0x9)[_0x2dd752(0x21f)](_0x2dd752(0x187)+_0x36c228[_0x2dd752(0x188)],_0x59ef76+0x3f,_0x57b83d),_0x318db1['fontSize'](0x9)[_0x2dd752(0x21f)](_0x2dd752(0x1ce),_0x59ef76,_0x57b83d+=0xb),_0x318db1[_0x2dd752(0x16f)](0x9)[_0x2dd752(0x21f)](_0x2dd752(0x187)+_0x36c228[_0x2dd752(0x1af)],_0x59ef76+0x3f,_0x57b83d),_0x318db1[_0x2dd752(0x16f)](0x9)[_0x2dd752(0x21f)]('Control\x20Number\x20',_0x59ef76,_0x57b83d+=0xb),_0x318db1[_0x2dd752(0x16f)](0x9)[_0x2dd752(0x21f)]('\x20:\x20'+_0x36c228['invoice'],_0x59ef76+0x3f,_0x57b83d);const _0x3e9a8c={'headers':[{'label':_0x2dd752(0x1d1),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x2dd752(0x23d),'property':_0x2dd752(0x1b4),'width':0x96,'renderer':null},{'label':'Quantity','property':_0x2dd752(0x1e3),'width':0x3c,'renderer':null},{'label':_0x2dd752(0x23a),'property':_0x2dd752(0x17e),'width':0x3c,'renderer':null},{'label':'Production\x20Date','property':_0x2dd752(0x1cc),'width':0x50,'renderer':null},{'label':_0x2dd752(0x1ad),'property':_0x2dd752(0x23e),'width':0x3f,'renderer':null},{'label':_0x2dd752(0x230),'property':_0x2dd752(0x16d),'width':0x3f,'renderer':null}],'datas':[]};var _0x40be3d=0x0,_0x2b000c=0x0;_0x36c228['product'][_0x2dd752(0x1da)](_0x1d7910=>{const _0x4b0731=_0x2dd752;let _0x38fd25='';const _0x14f80f=_0x1d7910[_0x4b0731(0x185)];for(let _0x555576=0x1;_0x555576<=_0x14f80f;_0x555576++){_0x14f80f==_0x555576?_0x38fd25+=_0x1d7910[_0x4b0731(0x180)]:_0x38fd25+=_0x1d7910[_0x4b0731(0x180)]+',',_0x2b000c+=_0x1d7910['maxperunit'];}_0x38fd25+=_0x4b0731(0x1b1)+_0x1d7910[_0x4b0731(0x17a)];const _0x2d18d0={'itemcode':_0x1d7910[_0x4b0731(0x1b6)],'itemdescription':_0x1d7910[_0x4b0731(0x1f6)],'qty':_0x1d7910[_0x4b0731(0x199)],'unit':_0x1d7910[_0x4b0731(0x17e)],'proddate':_0x1d7910[_0x4b0731(0x1c0)],'batchno':_0x1d7910[_0x4b0731(0x1fe)],'binloc':_0x1d7910[_0x4b0731(0x205)]+_0x1d7910[_0x4b0731(0x1f5)]+_0x1d7910['bay']+_0x1d7910[_0x4b0731(0x19d)]+_0x1d7910[_0x4b0731(0x1f8)][0x0]+_0x1d7910[_0x4b0731(0x1aa)]};_0x40be3d+=_0x1d7910['new_adjust_qty'],_0x3e9a8c['datas'][_0x4b0731(0x16e)](_0x2d18d0);}),_0x318db1['table'](_0x3e9a8c,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x318db1[_0x2dd752(0x1d0)](_0x2dd752(0x19c))[_0x2dd752(0x16f)](0x8),'prepareRow':(_0x3fe6ec,_0x241a6a,_0x3f8c0e,_0x3ebc7b)=>_0x318db1[_0x2dd752(0x1d0)]('Helvetica')['fontSize'](0x8)});var _0x57b3b1=_0x318db1['y'],_0x257f2c=_0x318db1['x'];_0x318db1[_0x2dd752(0x16f)](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x257f2c+0x7d,_0x57b3b1),_0x318db1[_0x2dd752(0x16f)](0xa)[_0x2dd752(0x21f)](_0x2dd752(0x175),_0x257f2c,_0x57b3b1+=0x136),_0x318db1[_0x2dd752(0x16f)](0xa)[_0x2dd752(0x21f)](_0x40be3d,_0x257f2c+0xc8,_0x57b3b1),_0x318db1[_0x2dd752(0x16f)](0xa)['text'](_0x2dd752(0x186),_0x257f2c,_0x57b3b1+=0x19),_0x318db1[_0x2dd752(0x16f)](0xa)['text']('\x20'['repeat'](0x3c),_0x257f2c+0x3e,_0x57b3b1,{'underline':!![]}),_0x318db1[_0x2dd752(0x16f)](0xa)[_0x2dd752(0x21f)](_0x2dd752(0x20f),_0x257f2c,_0x57b3b1+=0x32),_0x318db1[_0x2dd752(0x16f)](0xa)[_0x2dd752(0x21f)](_0x2dd752(0x187),_0x257f2c+0x37,_0x57b3b1),_0x318db1[_0x2dd752(0x16f)](0xa)[_0x2dd752(0x21f)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x257f2c+0x3c,_0x57b3b1,{'underline':!![]}),_0x318db1['fontSize'](0xa)['text'](_0x2dd752(0x203),_0x257f2c+0x3c,_0x57b3b1+0xc);let _0x2d91eb=_0x318db1[_0x2dd752(0x206)]();for(let _0xae2217=0x0;_0xae2217<_0x2d91eb['count'];_0xae2217++){_0x318db1[_0x2dd752(0x213)](_0xae2217);let _0x1098cd=_0x318db1[_0x2dd752(0x22d)][_0x2dd752(0x1c4)][_0x2dd752(0x1bc)];_0x318db1[_0x2dd752(0x22d)][_0x2dd752(0x1c4)][_0x2dd752(0x1bc)]=0x0,_0x318db1[_0x2dd752(0x21f)](_0x2dd752(0x1b5)+(_0xae2217+0x1)+'\x20of\x20'+_0x2d91eb['count'],0x0,_0x318db1['page'][_0x2dd752(0x196)]-_0x1098cd/0x2,{'align':_0x2dd752(0x1cb)}),_0x318db1[_0x2dd752(0x22d)][_0x2dd752(0x1c4)][_0x2dd752(0x1bc)]=_0x1098cd;}const _0x5e502a=_0x318db1['y'],_0x3accef=_0x318db1['x'];_0x318db1[_0x2dd752(0x1a9)]();}catch(_0xee7fbb){console[_0x2dd752(0x193)](_0xee7fbb),_0x2a704b[_0x2dd752(0x223)](0x1f4)[_0x2dd752(0x1b2)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get']('/PDF_transfer_rm/:id',auth,async(_0x1c3651,_0x37f2aa)=>{const _0x2bb2a5=a0_0x5363e3;try{const {username:_0x1eeed3,email:_0x1efc6c,role:_0x3d4ec6}=_0x1c3651[_0x2bb2a5(0x209)],_0x1ad4e9=_0x1c3651[_0x2bb2a5(0x209)],_0x38c935=await profile[_0x2bb2a5(0x1fb)]({'email':_0x1ad4e9[_0x2bb2a5(0x1a5)]}),_0x4a0523=await master_shop[_0x2bb2a5(0x1d5)](),_0x1a219b=_0x1c3651[_0x2bb2a5(0x17b)]['id'],_0x494384=await transfers[_0x2bb2a5(0x1ba)](_0x1a219b);var _0x18d074,_0x1fac59;_0x18d074=_0x2bb2a5(0x1ae),_0x1fac59='(STOCKS\x20TRANSFER)';_0x494384[_0x2bb2a5(0x1e2)]==_0x2bb2a5(0x197)&&(_0x18d074=_0x2bb2a5(0x1ca),_0x1fac59='');const _0x124a50=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x37f2aa[_0x2bb2a5(0x22c)](_0x2bb2a5(0x1a1),_0x2bb2a5(0x190)+_0x1a219b+_0x2bb2a5(0x1eb)),_0x37f2aa[_0x2bb2a5(0x22c)](_0x2bb2a5(0x1de),_0x2bb2a5(0x174));var _0x99d4fc=0x14,_0x389aba=0x3c;_0x124a50['pipe'](_0x37f2aa),_0x124a50[_0x2bb2a5(0x233)](_0x2bb2a5(0x1df)+_0x4a0523[0x0][_0x2bb2a5(0x233)],0x14,0x0,{'fit':[0x64,0x64]}),_0x124a50[_0x2bb2a5(0x16f)](0x14)[_0x2bb2a5(0x21f)](_0x2bb2a5(0x219),_0x99d4fc,_0x389aba),_0x124a50[_0x2bb2a5(0x16f)](0xa)[_0x2bb2a5(0x21f)](_0x2bb2a5(0x228),_0x99d4fc,_0x389aba+=0xf),_0x124a50['fontSize'](0xf)['text'](_0x18d074,_0x99d4fc,_0x389aba+=0x32),_0x124a50['fontSize'](0xa)['text'](_0x1fac59,_0x99d4fc,_0x389aba+=0x14),_0x124a50['fontSize'](0x9)[_0x2bb2a5(0x21f)]('From\x20Warehouse\x20',_0x99d4fc,_0x389aba+=0x28),_0x124a50[_0x2bb2a5(0x16f)](0x9)['text'](_0x2bb2a5(0x1b8)+_0x494384[_0x2bb2a5(0x1fa)],_0x99d4fc+0x3f,_0x389aba),_0x124a50[_0x2bb2a5(0x16f)](0x9)[_0x2bb2a5(0x21f)](_0x2bb2a5(0x194),_0x99d4fc,_0x389aba+=0xa),_0x124a50[_0x2bb2a5(0x16f)](0x9)['text']('\x20\x20\x20:\x20'+_0x494384[_0x2bb2a5(0x182)],_0x99d4fc+0x3f,_0x389aba),_0x124a50[_0x2bb2a5(0x16f)](0x9)[_0x2bb2a5(0x21f)]('Date\x20',_0x99d4fc,_0x389aba+=0xb),_0x124a50[_0x2bb2a5(0x16f)](0x9)[_0x2bb2a5(0x21f)](_0x2bb2a5(0x1b8)+_0x494384[_0x2bb2a5(0x1af)],_0x99d4fc+0x3f,_0x389aba),_0x124a50[_0x2bb2a5(0x16f)](0x9)[_0x2bb2a5(0x21f)](_0x2bb2a5(0x173),_0x99d4fc,_0x389aba+=0xb),_0x124a50[_0x2bb2a5(0x16f)](0x9)[_0x2bb2a5(0x21f)]('\x20\x20\x20:\x20'+_0x494384['invoice'],_0x99d4fc+0x3f,_0x389aba);const _0x32ed8c={'headers':[{'label':'','property':_0x2bb2a5(0x1e9),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x2bb2a5(0x201),'property':_0x2bb2a5(0x1e9),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x2bb2a5(0x204),'property':'itemdescription','width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x124a50[_0x2bb2a5(0x22b)](_0x32ed8c,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x124a50['font'](_0x2bb2a5(0x19c))[_0x2bb2a5(0x16f)](0x8),'prepareRow':(_0x1269e0,_0x60c5a6,_0x1d149d,_0x310787)=>_0x124a50[_0x2bb2a5(0x1d0)]('Helvetica')[_0x2bb2a5(0x16f)](0x8)});const _0x4d2574={'headers':[{'label':_0x2bb2a5(0x1d1),'property':_0x2bb2a5(0x1e9),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0x96,'renderer':null},{'label':_0x2bb2a5(0x1dd),'property':_0x2bb2a5(0x1e3),'width':0x28,'renderer':null},{'label':_0x2bb2a5(0x23a),'property':_0x2bb2a5(0x17e),'width':0x37,'renderer':null},{'label':_0x2bb2a5(0x207),'property':_0x2bb2a5(0x1cc),'width':0x4b,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3f,'renderer':null},{'label':_0x2bb2a5(0x230),'property':_0x2bb2a5(0x18a),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x2bb2a5(0x16d),'width':0x3f,'renderer':null}],'datas':[]};var _0x4f1702=0x0;let _0x319aa8='';var _0x47b125=0x0;_0x494384[_0x2bb2a5(0x237)][_0x2bb2a5(0x1da)](_0x2028b7=>{const _0x4598d0=_0x2bb2a5;var _0x45f834=_0x2028b7[_0x4598d0(0x218)],_0x40c1bd;_0x40c1bd=_0x2028b7[_0x4598d0(0x17e)];_0x45f834=='S'&&(_0x40c1bd=_0x2028b7['secondary_unit']);const _0x5dc737={'itemcode':_0x2028b7[_0x4598d0(0x1b6)],'itemdescription':_0x2028b7[_0x4598d0(0x1f6)],'qty':_0x2028b7['to_quantity'],'unit':_0x40c1bd,'proddate':_0x2028b7[_0x4598d0(0x1c0)],'batchno':_0x2028b7[_0x4598d0(0x1fe)],'binloc':_0x2028b7['storage']+_0x2028b7[_0x4598d0(0x1f5)]+_0x2028b7[_0x4598d0(0x22e)]+_0x2028b7['to_bin']+_0x2028b7[_0x4598d0(0x1be)][0x0]+_0x2028b7['to_floorlevel'],'qtyFrom':_0x2028b7[_0x4598d0(0x21b)],'binlocFrom':_0x2028b7[_0x4598d0(0x183)]+_0x2028b7[_0x4598d0(0x212)]+_0x2028b7['from_bay']+_0x2028b7[_0x4598d0(0x18b)]+_0x2028b7[_0x4598d0(0x18e)][0x0]+_0x2028b7[_0x4598d0(0x178)]};_0x4f1702+=_0x2028b7[_0x4598d0(0x185)],_0x4d2574[_0x4598d0(0x1ed)][_0x4598d0(0x16e)](_0x5dc737);}),_0x124a50[_0x2bb2a5(0x22b)](_0x4d2574,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x124a50['font'](_0x2bb2a5(0x19c))['fontSize'](0x8),'prepareRow':(_0x422459,_0x3d3192,_0x2b2966,_0x56a083)=>_0x124a50[_0x2bb2a5(0x1d0)](_0x2bb2a5(0x17c))[_0x2bb2a5(0x16f)](0x8)});var _0x5c5f1f=_0x124a50['y'],_0x3475e7=_0x124a50['x'];_0x124a50[_0x2bb2a5(0x16f)](0xa)[_0x2bb2a5(0x21f)](_0x2bb2a5(0x236),_0x3475e7+0x7d,_0x5c5f1f),_0x124a50['fontSize'](0xa)[_0x2bb2a5(0x21f)](_0x2bb2a5(0x22a),_0x3475e7,_0x5c5f1f+=0x12c),_0x124a50['fontSize'](0xa)[_0x2bb2a5(0x21f)](_0x4f1702,_0x3475e7+0xd7,_0x5c5f1f,{'underline':!![]}),_0x124a50[_0x2bb2a5(0x16f)](0xa)[_0x2bb2a5(0x21f)](_0x2bb2a5(0x179),_0x3475e7,_0x5c5f1f+=0x32),_0x124a50[_0x2bb2a5(0x16f)](0xa)['text'](_0x2bb2a5(0x1ee),_0x3475e7+0x3c,_0x5c5f1f,{'underline':!![]}),_0x124a50[_0x2bb2a5(0x16f)](0xa)[_0x2bb2a5(0x21f)](_0x2bb2a5(0x203),_0x3475e7+0x3c,_0x5c5f1f+0xc);let _0x13c30a=_0x124a50[_0x2bb2a5(0x206)]();for(let _0x5728c6=0x0;_0x5728c6<_0x13c30a[_0x2bb2a5(0x21c)];_0x5728c6++){_0x124a50[_0x2bb2a5(0x213)](_0x5728c6);let _0x3a97c4=_0x124a50[_0x2bb2a5(0x22d)][_0x2bb2a5(0x1c4)][_0x2bb2a5(0x1bc)];_0x124a50[_0x2bb2a5(0x22d)][_0x2bb2a5(0x1c4)][_0x2bb2a5(0x1bc)]=0x0,_0x124a50['text'](_0x2bb2a5(0x1b5)+(_0x5728c6+0x1)+_0x2bb2a5(0x1e5)+_0x13c30a[_0x2bb2a5(0x21c)],0x0,_0x124a50[_0x2bb2a5(0x22d)][_0x2bb2a5(0x196)]-_0x3a97c4/0x2,{'align':_0x2bb2a5(0x1cb)}),_0x124a50['page'][_0x2bb2a5(0x1c4)][_0x2bb2a5(0x1bc)]=_0x3a97c4;}const _0xa69802=_0x124a50['y'],_0x4f8300=_0x124a50['x'];_0x124a50[_0x2bb2a5(0x1a9)]();}catch(_0x2dc4d4){console[_0x2bb2a5(0x193)](_0x2dc4d4),_0x37f2aa[_0x2bb2a5(0x223)](0x1f4)[_0x2bb2a5(0x1b2)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x5363e3(0x21e)](a0_0x5363e3(0x17f),auth,async(_0x1114a7,_0x406a42)=>{const _0x2f9709=a0_0x5363e3;try{const _0x55b47c=_0x491a1b=>_0x491a1b*0x48,_0x3d6a48={'width':0x3,'height':0x1},_0x5131cf=await product[_0x2f9709(0x1d5)](),_0x56e487=new PDFDocument({'margin':_0x55b47c(0.75),'size':[_0x55b47c(_0x3d6a48[_0x2f9709(0x1a3)]),_0x55b47c(_0x3d6a48[_0x2f9709(0x196)])],'bufferPages':!![]}),_0x27e95b=_0x5131cf['length'];for(let _0x1cca3c=0x0;_0x1cca3c<=_0x27e95b;_0x1cca3c++){if(_0x1cca3c!=_0x5131cf['length']){const _0x4b2eb9=_0x5131cf[_0x1cca3c]['name'],_0x3280d1=_0x5131cf[_0x1cca3c][_0x2f9709(0x1b7)],_0x28574b=_0x5131cf[_0x1cca3c][_0x2f9709(0x1a4)],_0x1b2241=_0x5131cf[_0x1cca3c]['product_code'],_0x3ca719=new Canvas();JsBarcode(_0x3ca719,_0x3280d1,{'format':'CODE128','height':0x32,'displayValue':!![],'text':_0x3280d1}),_0x56e487[_0x2f9709(0x233)](_0x3ca719[_0x2f9709(0x1e8)](),0x0,0x0,{'width':0xd2}),_0x56e487['addPage']();}}_0x56e487[_0x2f9709(0x231)](_0x406a42),_0x56e487['end']();}catch(_0x44dfeb){console[_0x2f9709(0x1cd)](_0x2f9709(0x1f0),_0x44dfeb),_0x406a42[_0x2f9709(0x223)](0x1f4)[_0x2f9709(0x1b2)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),module[a0_0x5363e3(0x215)]=router;