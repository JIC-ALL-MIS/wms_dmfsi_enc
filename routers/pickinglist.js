function a0_0x526c(_0x89ee5d,_0x3a3365){const _0x2a742c=a0_0x2a74();return a0_0x526c=function(_0x526c36,_0x2e53b4){_0x526c36=_0x526c36-0xdd;let _0x239a19=_0x2a742c[_0x526c36];return _0x239a19;},a0_0x526c(_0x89ee5d,_0x3a3365);}const a0_0x36fc69=a0_0x526c;(function(_0x3f949a,_0x350996){const _0x2940b3=a0_0x526c,_0x3fae9e=_0x3f949a();while(!![]){try{const _0x866d1f=parseInt(_0x2940b3(0x147))/0x1+-parseInt(_0x2940b3(0x174))/0x2+parseInt(_0x2940b3(0x15f))/0x3*(-parseInt(_0x2940b3(0x130))/0x4)+-parseInt(_0x2940b3(0x16e))/0x5+parseInt(_0x2940b3(0x19c))/0x6+-parseInt(_0x2940b3(0xee))/0x7+parseInt(_0x2940b3(0x18d))/0x8*(parseInt(_0x2940b3(0x165))/0x9);if(_0x866d1f===_0x350996)break;else _0x3fae9e['push'](_0x3fae9e['shift']());}catch(_0x120c85){_0x3fae9e['push'](_0x3fae9e['shift']());}}}(a0_0x2a74,0x29e11));const express=require('express'),res=require(a0_0x36fc69(0x148)),app=express(),router=express[a0_0x36fc69(0x18a)](),multer=require('multer'),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x36fc69(0x135)),auth=require(a0_0x36fc69(0x11d)),users=require('../public/language/languages.json'),excelJS=require(a0_0x36fc69(0x12f)),xlsx=require('xlsx'),PDFDocument=require(a0_0x36fc69(0x132)),fs=require('fs'),blobStream=require('blob-stream'),JsBarcode=require(a0_0x36fc69(0x1a7)),{Canvas}=require(a0_0x36fc69(0x193));function a0_0x2a74(){const _0x3b97f6=['findOne','del_date','Helvetica','iqty','339502PnFkzX','suppliers','proddate','itemcode','switchToPage','delivery_code','Warehouse\x20','repeat','from_storage','PRODUCTION\x20DATE','Picked\x20By\x20\x20\x20\x20\x20:\x20','LOCATION','page','lineTo','adjust_qty','Delivery\x20Code','EXPIRATION\x20DATE','x:\x20','Warehouse\x20:\x20','Item\x20Description','floorlevel','end','Router','Date\x20','finalize','8EgvHWb','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rqty','fontSize','application/pdf','name','canvas','pipe','maxperunit','from_quantity','user','To\x20Warehouse\x20','from_bay','QTY','secondary_unit','1110510aqhtCg','Item\x20Code','count','setHeader','table','REF\x20MRIS#\x20','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','qty','(INVENTORY\x20ADJUSTMENT)','sale_product','log','jsbarcode','batch_code','error','DELIVERY\x20DATE','Supplier\x20:\x20','Noted\x20By\x20','\x20\x20\x20\x20\x20TO','expiry_date','product','PICKING\x20LIST','\x20:\x20','to_bay','Helvetica-Bold','new_adjust_qty','(RETURN)','Content-disposition','unit','storage','push','itemdescription','from_floorlevel','standard_unit','1795122dPJNzc','expdate','FTGS\x20Number\x20:\x20','./public/upload/','undefined','\x20/\x20','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','TOTAL\x20QTY\x20:\x20','return_sale','ITEM\x20CODE','params','UOM','status','From\x20Warehouse\x20','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','Page:\x20','/pdf_sales_return_fin/:id','to_bin','product_name','date','forEach','(INCOMING)','Checked\x20By:\x20','\x20\x20\x20:\x20','Check\x20By\x20\x20\x20\x20:\x20','inline;\x20filename=\x22OUT-','True','get','quantity','short','to_quantity','/pdf_puchases/:id','.pdf\x22','email','type','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','bufferedPageRange','font','Production\x20Date','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','\x20of\x20','\x20\x20FROM','secondary_code','toLocaleDateString','length','ToWarehouse','DRY\x20GOODS','../middleware/auth','Picking\x20List','Bin\x20Location','bay','Picked\x20By\x20\x20\x20:\x20','(OUTGOING)','(STOCKS\x20TRANSFER)','center','send','PREPARED\x20BY\x20:\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20y:\x20','bottom','customer','findById','Check\x20By:\x20','DelCode','Content-type','exceljs','96124zKhxUq','/PDF/:id','pdfkit-table','prod_cat','Control\x20Number\x20','../models/all_models','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','DELIVERY\x20RECEIPT','binloc','Expiration\x20Date','from_warehouse','numeric','toBuffer','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','warehouse_cat','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','requested_qty','invoice','DELIVERY\x20CODE','datas','POnumber','text','33884ZpnwIC','express/lib/response','\x20<>\x20','bin','MATERIAL\x20DESCRIPTION','/barcode_generator/','to_types','Pick\x20By\x20:\x20','warehouse_name','Picked\x20By\x20\x20\x20\x20:\x20','Control\x20Number\x20:\x20','image','find','Raw\x20Materials\x20Warehouse\x20Supervisor','margins','lineWidth','delivery_date','TOTAL\x20QTY:\x20','Checked\x20By\x20','Quantity','STOCKS\x20TRANSFER','rack','blocation','Customer\x20:\x20','30qIucLQ','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','batchno','stroke','return_qty','product_code','6339537MgJrrp','en-US','height','Finished\x20Good\x20Warehouse\x20Supervisor','INVENTORY\x20ADJUSTMENT','Batch\x20No','del_code','production_date','/PDF_Sales/:id','426590lLlBWi','CODE128'];a0_0x2a74=function(){return _0x3b97f6;};return a0_0x2a74();}router[a0_0x36fc69(0x109)](a0_0x36fc69(0x131),auth,async(_0x336619,_0x3096ff)=>{const _0x3d2417=a0_0x36fc69;try{const {username:_0x274f61,email:_0x68e2b9,role:_0xcde0d4}=_0x336619[_0x3d2417(0x197)],_0x2b315c=_0x336619[_0x3d2417(0x197)],_0x3238cc=await profile[_0x3d2417(0x170)]({'email':_0x2b315c[_0x3d2417(0x10f)]}),_0x135d48=await master_shop['find'](),_0x49a586=_0x336619[_0x3d2417(0xf8)]['id'],_0x20d689=await sales_finished[_0x3d2417(0x12b)](_0x49a586);var _0x2efca5;_0x2efca5='PICKING\x20LIST';_0x20d689[_0x3d2417(0x18c)]==_0x3d2417(0x108)&&(_0x2efca5=_0x3d2417(0x137));const _0x1abc2d=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3096ff[_0x3d2417(0x19f)](_0x3d2417(0xe7),'inline;\x20filename=\x22'+_0x20d689[_0x3d2417(0x142)]+_0x3d2417(0x10e)),_0x3096ff['setHeader'](_0x3d2417(0x12e),_0x3d2417(0x191));var _0x463acf=0x14,_0x158046=0x3c;_0x1abc2d[_0x3d2417(0x194)](_0x3096ff),_0x1abc2d[_0x3d2417(0x152)](_0x3d2417(0xf1)+_0x135d48[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x1abc2d['fontSize'](0x14)[_0x3d2417(0x146)](_0x3d2417(0xfc),_0x463acf,_0x158046),_0x1abc2d[_0x3d2417(0x190)](0xa)[_0x3d2417(0x146)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x463acf,_0x158046+=0xf),_0x1abc2d[_0x3d2417(0x190)](0xf)[_0x3d2417(0x146)](_0x2efca5,_0x463acf,_0x158046+=0x32),_0x1abc2d[_0x3d2417(0x190)](0xa)[_0x3d2417(0x146)](_0x3d2417(0x122),_0x463acf,_0x158046+=0x14),_0x1abc2d['fontSize'](0x9)[_0x3d2417(0x146)](_0x3d2417(0x17a),_0x463acf,_0x158046+=0x28),_0x1abc2d[_0x3d2417(0x190)](0x9)[_0x3d2417(0x146)](_0x3d2417(0xe2)+_0x20d689[_0x3d2417(0x14f)],_0x463acf+0x3f,_0x158046),_0x1abc2d[_0x3d2417(0x190)](0x9)[_0x3d2417(0x146)](_0x3d2417(0x15e)+_0x20d689[_0x3d2417(0x12a)],_0x463acf+0x17c,_0x158046,{'underline':!![]}),_0x1abc2d[_0x3d2417(0x190)](0x9)['text']('Date\x20',_0x463acf,_0x158046+=0xb),_0x1abc2d[_0x3d2417(0x190)](0x9)[_0x3d2417(0x146)](_0x3d2417(0xe2)+_0x20d689['date'],_0x463acf+0x3f,_0x158046),_0x1abc2d[_0x3d2417(0x190)](0x9)['text'](_0x3d2417(0x134),_0x463acf,_0x158046+=0xb),_0x1abc2d['fontSize'](0x9)[_0x3d2417(0x146)](_0x3d2417(0xe2)+_0x20d689[_0x3d2417(0x142)],_0x463acf+0x3f,_0x158046);const _0x57c000={'headers':[{'label':_0x3d2417(0x19d),'property':_0x3d2417(0x177),'width':0x3c,'renderer':null},{'label':_0x3d2417(0x187),'property':_0x3d2417(0xeb),'width':0xa5,'renderer':null},{'label':'Quantity','property':_0x3d2417(0x1a3),'width':0x3c,'renderer':null},{'label':'UOM','property':'unit','width':0x3c,'renderer':null},{'label':_0x3d2417(0x114),'property':_0x3d2417(0x176),'width':0x50,'renderer':null},{'label':_0x3d2417(0x16a),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x3d2417(0x11f),'property':_0x3d2417(0x138),'width':0x3f,'renderer':null}],'datas':[]};var _0x4e0c11=0x0;let _0x550c55='';var _0x2d6d75=0x0;_0x20d689['warehouse_name']==_0x3d2417(0x11c)?_0x550c55='DG':_0x550c55='FG';var _0x13d572=0x0;_0x20d689['sale_product'][_0x3d2417(0x102)](_0x4f596e=>{const _0x3356cd=_0x3d2417;console[_0x3356cd(0x1a6)](_0x4f596e);let _0x1ef151='';const _0x3309aa=_0x4f596e[_0x3356cd(0x10a)];for(let _0x206e49=0x1;_0x206e49<=_0x3309aa;_0x206e49++){_0x3309aa==_0x206e49?_0x1ef151+=_0x4f596e[_0x3356cd(0x195)]:_0x1ef151+=_0x4f596e[_0x3356cd(0x195)]+',',_0x2d6d75+=_0x4f596e[_0x3356cd(0x195)];}_0x1ef151+=_0x3356cd(0xf3)+_0x4f596e[_0x3356cd(0x19b)];const _0x482aa8={'itemcode':_0x4f596e['product_code'],'itemdescription':_0x4f596e[_0x3356cd(0x100)],'qty':_0x4f596e[_0x3356cd(0x10a)],'unit':_0x4f596e[_0x3356cd(0xe8)],'proddate':_0x4f596e['production_date'],'batchno':_0x4f596e[_0x3356cd(0x1a8)],'binloc':_0x550c55+_0x4f596e[_0x3356cd(0x120)]};_0x4e0c11+=_0x4f596e['quantity'],_0x13d572+=0x1,_0x57c000[_0x3356cd(0x144)][_0x3356cd(0xea)](_0x482aa8);}),_0x1abc2d['table'](_0x57c000,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x1abc2d[_0x3d2417(0x113)](_0x3d2417(0xe4))[_0x3d2417(0x190)](0x8),'prepareRow':(_0x5ef275,_0x3c30b2,_0x416d58,_0x210fc3)=>_0x1abc2d[_0x3d2417(0x113)](_0x3d2417(0x172))[_0x3d2417(0x190)](0x8)});var _0x3d7d38=_0x1abc2d['y'],_0x1ee6bf=_0x1abc2d['x'];_0x1abc2d[_0x3d2417(0x190)](0xa)[_0x3d2417(0x146)](_0x3d2417(0x140),_0x1ee6bf+0x7d,_0x3d7d38),console['log'](_0x3d2417(0x185)+_0x1ee6bf+_0x3d2417(0x128)+_0x3d7d38+'\x20row:\x20'+_0x13d572);const _0x13b71a=_0x1ee6bf*_0x13d572;_0x1abc2d[_0x3d2417(0x190)](0xa)[_0x3d2417(0x146)]('TOTAL\x20QTY:\x20',_0x1ee6bf,_0x3d7d38+=0x15e-_0x13b71a),_0x1abc2d['fontSize'](0xa)[_0x3d2417(0x146)](_0x4e0c11,_0x1ee6bf+0xdc,_0x3d7d38,{'underline':!![]}),_0x1abc2d[_0x3d2417(0x190)](0xa)['text'](_0x3d2417(0x121),_0x1ee6bf,_0x3d7d38+=0x19),_0x1abc2d[_0x3d2417(0x190)](0xa)[_0x3d2417(0x146)]('\x20'['repeat'](0x3c),_0x1ee6bf+0x3e,_0x3d7d38,{'underline':!![]}),_0x1abc2d['fontSize'](0xa)[_0x3d2417(0x146)](_0x3d2417(0x104),_0x1ee6bf,_0x3d7d38+=0x32),_0x1abc2d[_0x3d2417(0x190)](0xa)[_0x3d2417(0x146)](_0x3d2417(0x18e),_0x1ee6bf+0x3c,_0x3d7d38,{'underline':!![]}),_0x1abc2d[_0x3d2417(0x190)](0xa)[_0x3d2417(0x146)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x1ee6bf+0x3c,_0x3d7d38+0xc);let _0x34d7f0=_0x1abc2d[_0x3d2417(0x112)]();for(let _0x57fe05=0x0;_0x57fe05<_0x34d7f0[_0x3d2417(0x19e)];_0x57fe05++){_0x1abc2d['switchToPage'](_0x57fe05);let _0x4394ca=_0x1abc2d[_0x3d2417(0x180)][_0x3d2417(0x155)][_0x3d2417(0x129)];_0x1abc2d[_0x3d2417(0x180)][_0x3d2417(0x155)][_0x3d2417(0x129)]=0x0,_0x1abc2d[_0x3d2417(0x146)]('Page:\x20'+(_0x57fe05+0x1)+'\x20of\x20'+_0x34d7f0[_0x3d2417(0x19e)],0x0,_0x1abc2d[_0x3d2417(0x180)]['height']-_0x4394ca/0x2,{'align':'center'}),_0x1abc2d[_0x3d2417(0x180)][_0x3d2417(0x155)][_0x3d2417(0x129)]=_0x4394ca;}const _0x1942c1=_0x1abc2d['y'],_0x3e51f9=_0x1abc2d['x'];_0x1abc2d[_0x3d2417(0x189)]();}catch(_0x40e113){console[_0x3d2417(0x1a6)](_0x40e113),_0x3096ff['status'](0x1f4)[_0x3d2417(0x125)](_0x3d2417(0x111));}}),router[a0_0x36fc69(0x109)]('/PDF_transfer/:id',auth,async(_0x5a4795,_0x1450bb)=>{const _0xcecccf=a0_0x36fc69;try{const {username:_0x3af9c4,email:_0x54b8e1,role:_0x72bfe3}=_0x5a4795[_0xcecccf(0x197)],_0x4bf775=_0x5a4795[_0xcecccf(0x197)],_0x4a227f=await profile[_0xcecccf(0x170)]({'email':_0x4bf775[_0xcecccf(0x10f)]}),_0x16053e=await master_shop[_0xcecccf(0x153)](),_0x61aae1=_0x5a4795[_0xcecccf(0xf8)]['id'],_0x4ad5fa=await transfers_finished['findById'](_0x61aae1);var _0x1eee92,_0x5e2bf1;_0x1eee92=_0xcecccf(0x11e),_0x5e2bf1=_0xcecccf(0x123);_0x4ad5fa[_0xcecccf(0x18c)]==_0xcecccf(0x108)&&(_0x1eee92='STOCKS\x20TRANSFER',_0x5e2bf1='');const _0x25d023=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1450bb[_0xcecccf(0x19f)]('Content-disposition',_0xcecccf(0x107)+_0x61aae1+'.pdf\x22'),_0x1450bb['setHeader'](_0xcecccf(0x12e),_0xcecccf(0x191));var _0x208e88=0x14,_0x24ffc8=0x3c;_0x25d023[_0xcecccf(0x194)](_0x1450bb),_0x25d023[_0xcecccf(0x152)](_0xcecccf(0xf1)+_0x16053e[0x0][_0xcecccf(0x152)],0x14,0x0,{'fit':[0x64,0x64]}),_0x25d023['fontSize'](0x14)[_0xcecccf(0x146)](_0xcecccf(0xfc),_0x208e88,_0x24ffc8),_0x25d023[_0xcecccf(0x190)](0xa)[_0xcecccf(0x146)](_0xcecccf(0x1a2),_0x208e88,_0x24ffc8+=0xf),_0x25d023[_0xcecccf(0x190)](0xf)[_0xcecccf(0x146)](_0x1eee92,_0x208e88,_0x24ffc8+=0x32),_0x25d023['fontSize'](0xa)[_0xcecccf(0x146)](_0x5e2bf1,_0x208e88,_0x24ffc8+=0x14),_0x25d023[_0xcecccf(0x190)](0x9)[_0xcecccf(0x146)](_0xcecccf(0xfb),_0x208e88,_0x24ffc8+=0x28),_0x25d023[_0xcecccf(0x190)](0x9)[_0xcecccf(0x146)]('\x20\x20\x20:\x20'+_0x4ad5fa['from_warehouse'],_0x208e88+0x3f,_0x24ffc8),_0x25d023[_0xcecccf(0x190)](0x9)[_0xcecccf(0x146)](_0xcecccf(0x198),_0x208e88,_0x24ffc8+=0xf),_0x25d023[_0xcecccf(0x190)](0x9)[_0xcecccf(0x146)](_0xcecccf(0x105)+_0x4ad5fa['to_warehouse'],_0x208e88+0x3f,_0x24ffc8),_0x25d023[_0xcecccf(0x190)](0x9)[_0xcecccf(0x146)](_0xcecccf(0x18b),_0x208e88,_0x24ffc8+=0xb),_0x25d023[_0xcecccf(0x190)](0x9)[_0xcecccf(0x146)](_0xcecccf(0x105)+_0x4ad5fa[_0xcecccf(0x101)],_0x208e88+0x3f,_0x24ffc8),_0x25d023[_0xcecccf(0x190)](0x9)[_0xcecccf(0x146)](_0xcecccf(0x134),_0x208e88,_0x24ffc8+=0xb),_0x25d023[_0xcecccf(0x190)](0x9)[_0xcecccf(0x146)](_0xcecccf(0x105)+_0x4ad5fa['invoice'],_0x208e88+0x3f,_0x24ffc8);const _0x3e448f={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0xcecccf(0x117),'property':_0xcecccf(0x177),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':'\x20\x20TO','property':'itemdescription','width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x25d023[_0xcecccf(0x1a0)](_0x3e448f,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x25d023['font']('Helvetica-Bold')[_0xcecccf(0x190)](0x8),'prepareRow':(_0x35ee3a,_0x14a9b1,_0xefa139,_0x510c0b)=>_0x25d023['font'](_0xcecccf(0x172))['fontSize'](0x8)});const _0x5b98a3={'headers':[{'label':'Item\x20Code','property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0xcecccf(0xeb),'width':0x96,'renderer':null},{'label':_0xcecccf(0x15a),'property':_0xcecccf(0x1a3),'width':0x28,'renderer':null},{'label':'UOM','property':'unit','width':0x37,'renderer':null},{'label':_0xcecccf(0x114),'property':_0xcecccf(0x176),'width':0x4b,'renderer':null},{'label':_0xcecccf(0x16a),'property':_0xcecccf(0x161),'width':0x3f,'renderer':null},{'label':_0xcecccf(0x11f),'property':'binlocFrom','width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0xdaefe1=0x0;let _0x40c69f='';var _0x3df8e8=0x0;if(_0x4ad5fa['from_warehouse']==_0xcecccf(0x11c))_0x40c69f='DG';else _0x4ad5fa[_0xcecccf(0x13a)]=='FROZEN\x20GOODS'&&(_0x40c69f='FG');_0x4ad5fa['product'][_0xcecccf(0x102)](_0x3c1eb9=>{const _0x113d81=_0xcecccf;var _0x119cd0=_0x3c1eb9[_0x113d81(0x133)],_0x1ad830,_0x11ea0f;_0x1ad830=_0x3c1eb9[_0x113d81(0xe8)],_0x11ea0f=_0x3c1eb9[_0x113d81(0x10c)];_0x119cd0=='S'&&(_0x1ad830=_0x3c1eb9[_0x113d81(0x19b)],_0x11ea0f=_0x3c1eb9[_0x113d81(0x10c)]*_0x3c1eb9['maxPerUnit']);const _0x12240c={'itemcode':_0x3c1eb9[_0x113d81(0x164)],'itemdescription':_0x3c1eb9['product_name'],'qty':_0x11ea0f,'unit':_0x1ad830,'proddate':_0x3c1eb9[_0x113d81(0x16c)],'batchno':_0x3c1eb9[_0x113d81(0x1a8)],'binloc':_0x40c69f+_0x3c1eb9[_0x113d81(0xe3)],'qtyFrom':_0x3c1eb9[_0x113d81(0x196)],'binlocFrom':_0x40c69f+_0x3c1eb9[_0x113d81(0x199)]};_0xdaefe1+=_0x11ea0f,_0x5b98a3[_0x113d81(0x144)]['push'](_0x12240c);}),_0x25d023[_0xcecccf(0x1a0)](_0x5b98a3,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x25d023['font'](_0xcecccf(0xe4))[_0xcecccf(0x190)](0x8),'prepareRow':(_0x3e9b78,_0xd89483,_0x2cf23e,_0x506627)=>_0x25d023[_0xcecccf(0x113)](_0xcecccf(0x172))[_0xcecccf(0x190)](0x8)});var _0x1cf448=_0x25d023['y'],_0x40d041=_0x25d023['x'];_0x25d023[_0xcecccf(0x190)](0xa)[_0xcecccf(0x146)](_0xcecccf(0x140),_0x40d041+0x7d,_0x1cf448),_0x25d023[_0xcecccf(0x190)](0xa)[_0xcecccf(0x146)](_0xcecccf(0x158),_0x40d041,_0x1cf448+=0x15e),_0x25d023[_0xcecccf(0x190)](0xa)[_0xcecccf(0x146)](_0xdaefe1,_0x40d041+0xd7,_0x1cf448,{'underline':!![]}),_0x25d023[_0xcecccf(0x190)](0xa)[_0xcecccf(0x146)](_0xcecccf(0x121),_0x40d041,_0x1cf448+=0x19),_0x25d023[_0xcecccf(0x190)](0xa)[_0xcecccf(0x146)]('\x20'[_0xcecccf(0x17b)](0x3c),_0x40d041+0x3e,_0x1cf448,{'underline':!![]}),_0x25d023[_0xcecccf(0x190)](0xa)[_0xcecccf(0x146)](_0xcecccf(0x104),_0x40d041,_0x1cf448+=0x32),_0x25d023[_0xcecccf(0x190)](0xa)[_0xcecccf(0x146)](_0xcecccf(0x18e),_0x40d041+0x3c,_0x1cf448,{'underline':!![]}),_0x25d023[_0xcecccf(0x190)](0xa)[_0xcecccf(0x146)](_0xcecccf(0x168),_0x40d041+0x3c,_0x1cf448+0xc);let _0x2ccd8e=_0x25d023[_0xcecccf(0x112)]();for(let _0x3ab166=0x0;_0x3ab166<_0x2ccd8e[_0xcecccf(0x19e)];_0x3ab166++){_0x25d023[_0xcecccf(0x178)](_0x3ab166);let _0x538185=_0x25d023[_0xcecccf(0x180)]['margins'][_0xcecccf(0x129)];_0x25d023[_0xcecccf(0x180)]['margins']['bottom']=0x0,_0x25d023[_0xcecccf(0x146)](_0xcecccf(0xfd)+(_0x3ab166+0x1)+_0xcecccf(0x116)+_0x2ccd8e[_0xcecccf(0x19e)],0x0,_0x25d023['page'][_0xcecccf(0x167)]-_0x538185/0x2,{'align':_0xcecccf(0x124)}),_0x25d023[_0xcecccf(0x180)][_0xcecccf(0x155)][_0xcecccf(0x129)]=_0x538185;}const _0x24c164=_0x25d023['y'],_0x150bc5=_0x25d023['x'];_0x25d023[_0xcecccf(0x189)]();}catch(_0xf1d20a){console[_0xcecccf(0x1a6)](_0xf1d20a),_0x1450bb[_0xcecccf(0xfa)](0x1f4)[_0xcecccf(0x125)](_0xcecccf(0x111));}}),router[a0_0x36fc69(0x109)]('/PDF_adjustment/:id',auth,async(_0x343ff7,_0x3502d0)=>{const _0x492290=a0_0x36fc69;try{const {username:_0x5e5a49,email:_0x5a9437,role:_0x3a7fb0}=_0x343ff7['user'],_0x1c574c=_0x343ff7[_0x492290(0x197)],_0x9340a5=await profile[_0x492290(0x170)]({'email':_0x1c574c[_0x492290(0x10f)]}),_0x13e8ec=await master_shop[_0x492290(0x153)](),_0x538ea1=_0x343ff7[_0x492290(0xf8)]['id'],_0x3e45ac=await adjustment_finished[_0x492290(0x12b)](_0x538ea1);var _0x3a12f8,_0x2e3028;_0x3a12f8=_0x492290(0xe1),_0x2e3028=_0x492290(0x1a4);_0x3e45ac[_0x492290(0x18c)]==_0x492290(0x108)&&(_0x3a12f8=_0x492290(0x169),_0x2e3028='');const _0xcc59b2=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3502d0[_0x492290(0x19f)](_0x492290(0xe7),'inline;\x20filename=\x22OUT-'+_0x538ea1+_0x492290(0x10e)),_0x3502d0[_0x492290(0x19f)](_0x492290(0x12e),_0x492290(0x191));var _0x55ac1a=0x14,_0x355cbd=0x3c;_0xcc59b2['pipe'](_0x3502d0),_0xcc59b2['image'](_0x492290(0xf1)+_0x13e8ec[0x0][_0x492290(0x152)],0x14,0x0,{'fit':[0x64,0x64]}),_0xcc59b2[_0x492290(0x190)](0x14)[_0x492290(0x146)](_0x492290(0xfc),_0x55ac1a,_0x355cbd),_0xcc59b2[_0x492290(0x190)](0xa)[_0x492290(0x146)](_0x492290(0x1a2),_0x55ac1a,_0x355cbd+=0xf),_0xcc59b2[_0x492290(0x190)](0xf)[_0x492290(0x146)](_0x3a12f8,_0x55ac1a,_0x355cbd+=0x32),_0xcc59b2[_0x492290(0x190)](0xa)[_0x492290(0x146)](_0x2e3028,_0x55ac1a,_0x355cbd+=0x14),_0xcc59b2['fontSize'](0x9)[_0x492290(0x146)](_0x492290(0x17a),_0x55ac1a,_0x355cbd+=0x28),_0xcc59b2['fontSize'](0x9)['text'](_0x492290(0xe2)+_0x3e45ac['warehouse_name'],_0x55ac1a+0x3f,_0x355cbd),_0xcc59b2[_0x492290(0x190)](0x9)[_0x492290(0x146)](_0x492290(0x18b),_0x55ac1a,_0x355cbd+=0xb),_0xcc59b2[_0x492290(0x190)](0x9)[_0x492290(0x146)](_0x492290(0xe2)+_0x3e45ac[_0x492290(0x101)],_0x55ac1a+0x3f,_0x355cbd),_0xcc59b2[_0x492290(0x190)](0x9)[_0x492290(0x146)](_0x492290(0x134),_0x55ac1a,_0x355cbd+=0xb),_0xcc59b2['fontSize'](0x9)[_0x492290(0x146)](_0x492290(0xe2)+_0x3e45ac[_0x492290(0x142)],_0x55ac1a+0x3f,_0x355cbd);const _0xb1e253={'headers':[{'label':_0x492290(0x19d),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x492290(0x187),'property':_0x492290(0xeb),'width':0x96,'renderer':null},{'label':'Quantity','property':_0x492290(0x1a3),'width':0x3c,'renderer':null},{'label':_0x492290(0xf9),'property':_0x492290(0xe8),'width':0x3c,'renderer':null},{'label':_0x492290(0x114),'property':_0x492290(0x176),'width':0x50,'renderer':null},{'label':_0x492290(0x16a),'property':_0x492290(0x161),'width':0x3f,'renderer':null},{'label':_0x492290(0x11f),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x1f03ed=0x0;let _0x22e3a7='';var _0x55896e=0x0;_0x3e45ac[_0x492290(0x14f)]==_0x492290(0x11c)?_0x22e3a7='DG':_0x22e3a7='FG';_0x3e45ac['product'][_0x492290(0x102)](_0x1e19e3=>{const _0x508bb5=_0x492290;console[_0x508bb5(0x1a6)](_0x1e19e3);var _0x620828=_0x1e19e3['prod_cat'],_0x25093f,_0x188f2d;_0x25093f=_0x1e19e3[_0x508bb5(0xe8)],_0x188f2d=_0x1e19e3[_0x508bb5(0x182)];_0x620828=='S'&&(_0x25093f=_0x1e19e3[_0x508bb5(0x19b)],_0x188f2d=_0x1e19e3['adjust_qty']*_0x1e19e3['maxPerUnit']);const _0x56a838={'itemcode':_0x1e19e3[_0x508bb5(0x164)],'itemdescription':_0x1e19e3['product_name'],'qty':_0x188f2d,'unit':_0x25093f,'proddate':_0x1e19e3['production_date'],'batchno':_0x1e19e3[_0x508bb5(0x1a8)],'binloc':_0x22e3a7+_0x1e19e3['bay']};_0x1f03ed+=_0x188f2d,_0xb1e253['datas']['push'](_0x56a838);}),_0xcc59b2['table'](_0xb1e253,{'x':0x14,'y':0x118,'prepareHeader':()=>_0xcc59b2[_0x492290(0x113)](_0x492290(0xe4))['fontSize'](0x8),'prepareRow':(_0x18af84,_0x36cae9,_0x3b070e,_0x3f3b4e)=>_0xcc59b2['font'](_0x492290(0x172))[_0x492290(0x190)](0x8)});var _0x3e23c7=_0xcc59b2['y'],_0x439056=_0xcc59b2['x'];_0xcc59b2[_0x492290(0x190)](0xa)[_0x492290(0x146)](_0x492290(0x140),_0x439056+0x7d,_0x3e23c7),_0xcc59b2[_0x492290(0x190)](0xa)[_0x492290(0x146)]('TOTAL\x20QTY\x20:\x20',_0x439056,_0x3e23c7+=0x15e),_0xcc59b2[_0x492290(0x190)](0xa)[_0x492290(0x146)](_0x1f03ed,_0x439056+0xc8,_0x3e23c7),_0xcc59b2[_0x492290(0x190)](0xa)[_0x492290(0x146)](_0x492290(0x121),_0x439056,_0x3e23c7+=0x19),_0xcc59b2[_0x492290(0x190)](0xa)[_0x492290(0x146)]('\x20'[_0x492290(0x17b)](0x3c),_0x439056+0x3e,_0x3e23c7,{'underline':!![]}),_0xcc59b2[_0x492290(0x190)](0xa)['text'](_0x492290(0x159),_0x439056,_0x3e23c7+=0x32),_0xcc59b2[_0x492290(0x190)](0xa)[_0x492290(0x146)](_0x492290(0xe2),_0x439056+0x37,_0x3e23c7),_0xcc59b2[_0x492290(0x190)](0xa)[_0x492290(0x146)](_0x492290(0x18e),_0x439056+0x3c,_0x3e23c7,{'underline':!![]}),_0xcc59b2[_0x492290(0x190)](0xa)[_0x492290(0x146)](_0x492290(0x168),_0x439056+0x3c,_0x3e23c7+0xc);let _0x3201c7=_0xcc59b2['bufferedPageRange']();for(let _0x741dfb=0x0;_0x741dfb<_0x3201c7['count'];_0x741dfb++){_0xcc59b2[_0x492290(0x178)](_0x741dfb);let _0x22ebb9=_0xcc59b2[_0x492290(0x180)][_0x492290(0x155)]['bottom'];_0xcc59b2[_0x492290(0x180)]['margins'][_0x492290(0x129)]=0x0,_0xcc59b2[_0x492290(0x146)](_0x492290(0xfd)+(_0x741dfb+0x1)+_0x492290(0x116)+_0x3201c7[_0x492290(0x19e)],0x0,_0xcc59b2[_0x492290(0x180)][_0x492290(0x167)]-_0x22ebb9/0x2,{'align':_0x492290(0x124)}),_0xcc59b2[_0x492290(0x180)][_0x492290(0x155)][_0x492290(0x129)]=_0x22ebb9;}const _0x1d7b4d=_0xcc59b2['y'],_0x5a3a8d=_0xcc59b2['x'];_0xcc59b2['end']();}catch(_0x1b516a){console[_0x492290(0x1a6)](_0x1b516a),_0x3502d0[_0x492290(0xfa)](0x1f4)[_0x492290(0x125)](_0x492290(0x111));}}),router[a0_0x36fc69(0x109)]('/pdf_puchases_fin/:id',auth,async(_0x307b6a,_0x3f9c23)=>{const _0x4799e8=a0_0x36fc69;try{const {username:_0x16603d,email:_0x3ebc45,role:_0x35f0ea}=_0x307b6a['user'],_0x478326=_0x307b6a[_0x4799e8(0x197)],_0x31d741=await profile[_0x4799e8(0x170)]({'email':_0x478326[_0x4799e8(0x10f)]}),_0x8eb4eb=await master_shop['find'](),_0xf63cf4=_0x307b6a['params']['id'],_0x28186f=await purchases_finished['findById'](_0xf63cf4),_0x1281d7=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3f9c23[_0x4799e8(0x19f)](_0x4799e8(0xe7),_0x4799e8(0x107)+_0xf63cf4+'.pdf\x22'),_0x3f9c23[_0x4799e8(0x19f)]('Content-type',_0x4799e8(0x191));var _0x17075f=0x14,_0x58cc2e=0x3c;_0x1281d7[_0x4799e8(0x194)](_0x3f9c23),_0x1281d7[_0x4799e8(0x152)](_0x4799e8(0xf1)+_0x8eb4eb[0x0][_0x4799e8(0x152)],0x14,0x0,{'fit':[0x64,0x64]}),_0x1281d7[_0x4799e8(0x190)](0x14)[_0x4799e8(0x146)](_0x4799e8(0xfc),_0x17075f,_0x58cc2e),_0x1281d7['fontSize'](0xa)[_0x4799e8(0x146)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x17075f,_0x58cc2e+=0xf),_0x1281d7['fontSize'](0xf)['text'](_0x4799e8(0x115),_0x17075f,_0x58cc2e+=0x32),_0x1281d7[_0x4799e8(0x190)](0xa)[_0x4799e8(0x146)](_0x4799e8(0x103),_0x17075f,_0x58cc2e+=0x14),_0x1281d7[_0x4799e8(0x190)](0x9)[_0x4799e8(0x146)](_0x4799e8(0x17a),_0x17075f,_0x58cc2e+=0x28),_0x1281d7[_0x4799e8(0x190)](0x9)[_0x4799e8(0x146)](_0x4799e8(0xe2)+_0x28186f[_0x4799e8(0x14f)],_0x17075f+0x3f,_0x58cc2e),_0x1281d7[_0x4799e8(0x190)](0x9)[_0x4799e8(0x146)](_0x4799e8(0xf0)+_0x28186f[_0x4799e8(0x145)],_0x17075f+0x17c,_0x58cc2e),_0x1281d7[_0x4799e8(0x190)](0x9)[_0x4799e8(0x146)](_0x4799e8(0x18b),_0x17075f,_0x58cc2e+=0xb),_0x1281d7[_0x4799e8(0x190)](0x9)[_0x4799e8(0x146)](_0x4799e8(0xe2)+_0x28186f[_0x4799e8(0x101)],_0x17075f+0x3f,_0x58cc2e),_0x1281d7[_0x4799e8(0x190)](0x9)[_0x4799e8(0x146)]('Control\x20Number\x20',_0x17075f,_0x58cc2e+=0xb),_0x1281d7[_0x4799e8(0x190)](0x9)['text'](_0x4799e8(0xe2)+_0x28186f[_0x4799e8(0x142)],_0x17075f+0x3f,_0x58cc2e);const _0x2553e4={'headers':[{'label':_0x4799e8(0x19d),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x4799e8(0x187),'property':_0x4799e8(0xeb),'width':0xc8,'renderer':null},{'label':_0x4799e8(0x15a),'property':_0x4799e8(0x1a3),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x4799e8(0xe8),'width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':_0x4799e8(0xef),'width':0x50,'renderer':null},{'label':_0x4799e8(0x16a),'property':_0x4799e8(0x161),'width':0x3f,'renderer':null},{'label':_0x4799e8(0x11f),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x1a5067=0x0;let _0x4233d7='';_0x28186f['warehouse_name']==_0x4799e8(0x11c)?_0x4233d7='DG':_0x4233d7='FG';_0x28186f['product'][_0x4799e8(0x102)](_0x2493f6=>{const _0x2f4e64=_0x4799e8;let _0x175249='';var _0x383c37=0x0;const _0x3fceee={'itemcode':_0x2493f6[_0x2f4e64(0x164)],'itemdescription':_0x2493f6[_0x2f4e64(0x100)],'qty':_0x2493f6[_0x2f4e64(0x10a)],'unit':_0x2493f6['standard_unit'],'expdate':_0x2493f6[_0x2f4e64(0xdf)],'batchno':_0x2493f6['batch_code'],'binloc':_0x4233d7+_0x2493f6[_0x2f4e64(0x120)]};_0x1a5067+=_0x2493f6['quantity'],_0x2553e4['datas'][_0x2f4e64(0xea)](_0x3fceee);}),_0x1281d7[_0x4799e8(0x1a0)](_0x2553e4,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x1281d7['font'](_0x4799e8(0xe4))[_0x4799e8(0x190)](0x8),'prepareRow':(_0x2c9ce4,_0x14ba52,_0x3bc7bf,_0xfe2220)=>_0x1281d7['font'](_0x4799e8(0x172))['fontSize'](0x8)});var _0x486b2d=_0x1281d7['y'],_0x58d9f7=_0x1281d7['x'];_0x1281d7[_0x4799e8(0x190)](0xa)[_0x4799e8(0x146)](_0x4799e8(0x140),_0x58d9f7+0x7d,_0x486b2d),_0x1281d7[_0x4799e8(0x190)](0xa)[_0x4799e8(0x146)](_0x4799e8(0x158),_0x58d9f7,_0x486b2d+=0x15e),_0x1281d7[_0x4799e8(0x190)](0xa)[_0x4799e8(0x146)](_0x1a5067,_0x58d9f7+0xfa,_0x486b2d),_0x1281d7[_0x4799e8(0x190)](0xa)[_0x4799e8(0x146)](_0x4799e8(0x150),_0x58d9f7,_0x486b2d+=0x19),_0x1281d7[_0x4799e8(0x190)](0xa)[_0x4799e8(0x146)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x58d9f7+0x37,_0x486b2d,{'underline':!![]}),_0x1281d7[_0x4799e8(0x190)](0xa)[_0x4799e8(0x146)](_0x4799e8(0x106),_0x58d9f7,_0x486b2d+0x32),_0x1281d7[_0x4799e8(0x190)](0xa)['text']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x58d9f7+0x32,_0x486b2d+0x32,{'underline':!![]}),_0x1281d7['fontSize'](0xa)[_0x4799e8(0x146)](_0x4799e8(0x168),_0x58d9f7+0x32,_0x486b2d+0x3c);let _0x376745=_0x1281d7[_0x4799e8(0x112)]();for(let _0x44fcd3=0x0;_0x44fcd3<_0x376745[_0x4799e8(0x19e)];_0x44fcd3++){_0x1281d7[_0x4799e8(0x178)](_0x44fcd3);let _0x171a55=_0x1281d7['page'][_0x4799e8(0x155)]['bottom'];_0x1281d7[_0x4799e8(0x180)][_0x4799e8(0x155)]['bottom']=0x0,_0x1281d7[_0x4799e8(0x146)](_0x4799e8(0xfd)+(_0x44fcd3+0x1)+_0x4799e8(0x116)+_0x376745[_0x4799e8(0x19e)],0x0,_0x1281d7['page'][_0x4799e8(0x167)]-_0x171a55/0x2,{'align':_0x4799e8(0x124)}),_0x1281d7[_0x4799e8(0x180)][_0x4799e8(0x155)][_0x4799e8(0x129)]=_0x171a55;}const _0x1957d5=_0x1281d7['y'],_0x45f0b6=_0x1281d7['x'];_0x1281d7[_0x4799e8(0x189)]();}catch(_0x76dfd6){console[_0x4799e8(0x1a6)](_0x76dfd6),_0x3f9c23[_0x4799e8(0xfa)](0x1f4)['send'](_0x4799e8(0x111));}}),router[a0_0x36fc69(0x109)](a0_0x36fc69(0xfe),auth,async(_0x4f79de,_0x3604c7)=>{const _0x34531c=a0_0x36fc69;try{const {username:_0x50c4ee,email:_0x48b2b7,role:_0x1b3301}=_0x4f79de[_0x34531c(0x197)],_0x4cd2b2=_0x4f79de['user'],_0x2aaa3e=await profile['findOne']({'email':_0x4cd2b2[_0x34531c(0x10f)]}),_0x43f7d3=await master_shop[_0x34531c(0x153)](),_0x5cc6e5=_0x4f79de[_0x34531c(0xf8)]['id'],_0x3612e5=await sales_return_finished[_0x34531c(0x12b)](_0x5cc6e5),_0xd365b1=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3604c7['setHeader'](_0x34531c(0xe7),'inline;\x20filename=\x22OUT-'+_0x5cc6e5+'.pdf\x22'),_0x3604c7[_0x34531c(0x19f)](_0x34531c(0x12e),_0x34531c(0x191));var _0x23bdd4=0x14,_0x5c20b2=0x64;_0xd365b1['pipe'](_0x3604c7),_0xd365b1[_0x34531c(0x152)](_0x34531c(0xf1)+_0x43f7d3[0x0][_0x34531c(0x152)],0x14,0x0,{'fit':[0x64,0x64]}),_0xd365b1['fontSize'](0x14)[_0x34531c(0x146)](_0x34531c(0xfc),_0x23bdd4,_0x5c20b2),_0xd365b1[_0x34531c(0x190)](0xa)['text'](_0x34531c(0x1a2),_0x23bdd4,_0x5c20b2+=0xf),_0xd365b1[_0x34531c(0x190)](0xf)[_0x34531c(0x146)](_0x34531c(0xe1),_0x23bdd4,_0x5c20b2+=0x32),_0xd365b1[_0x34531c(0x190)](0xa)[_0x34531c(0x146)](_0x34531c(0xe6),_0x23bdd4,_0x5c20b2+=0x1e),_0xd365b1['fontSize'](0x9)[_0x34531c(0x146)](_0x34531c(0x186)+_0x3612e5[_0x34531c(0x11b)],_0x23bdd4,_0x5c20b2+=0x28),_0xd365b1[_0x34531c(0x190)](0x9)[_0x34531c(0x146)]('Customer\x20:\x20'+_0x3612e5['customer'],0x190,0xd2,{'underline':!![]}),_0xd365b1['fontSize'](0x9)[_0x34531c(0x146)](_0x34531c(0x14e),_0x23bdd4,_0x5c20b2+=0xb),_0xd365b1[_0x34531c(0x190)](0x9)[_0x34531c(0x146)]('Date\x20:\x20'+_0x3612e5[_0x34531c(0x101)],_0x23bdd4,_0x5c20b2+=0xb),_0xd365b1[_0x34531c(0x190)](0x9)[_0x34531c(0x146)](_0x34531c(0x151)+_0x3612e5[_0x34531c(0x142)],_0x23bdd4,_0x5c20b2+=0xb);var _0x4d9332='',_0x3e277e='',_0x5cc840=0x0,_0x2cd709;console[_0x34531c(0x1a6)](_0x3612e5[_0x34531c(0x13f)]);_0x3612e5['warehouse_cat']=='GS'?(_0x3612e5['warehouse_name']==_0x34531c(0x11c)?warecode='DG':warecode='FG',_0x4d9332={'headers':[{'label':_0x34531c(0x19d),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x34531c(0x187),'property':'itemdescription','width':0xc8,'renderer':null},{'label':'Quantity','property':_0x34531c(0x1a3),'width':0x3c,'renderer':null},{'label':_0x34531c(0xf9),'property':_0x34531c(0xe8),'width':0x3c,'renderer':null},{'label':_0x34531c(0x139),'property':_0x34531c(0xef),'width':0x50,'renderer':null},{'label':_0x34531c(0x16a),'property':_0x34531c(0x161),'width':0x3f,'renderer':null},{'label':_0x34531c(0x11f),'property':_0x34531c(0x138),'width':0x3f,'renderer':null}],'datas':[]},_0x3612e5[_0x34531c(0xf6)]['forEach'](_0x3648e8=>{const _0x5a5c98=_0x34531c;let _0x126c58='';var _0x48330c=0x0;_0x3e277e={'itemcode':_0x3648e8['product_code'],'itemdescription':_0x3648e8[_0x5a5c98(0x100)],'qty':_0x3648e8[_0x5a5c98(0x163)],'unit':_0x3648e8[_0x5a5c98(0xe8)],'expdate':_0x3648e8['expiry_date'],'batchno':_0x3648e8[_0x5a5c98(0x1a8)],'binloc':warecode+_0x3648e8[_0x5a5c98(0x120)]},_0x5cc840+=_0x3648e8[_0x5a5c98(0x163)],console[_0x5a5c98(0x1a6)](_0x3648e8),_0x4d9332['datas'][_0x5a5c98(0xea)](_0x3e277e);})):(_0x4d9332={'headers':[{'label':_0x34531c(0x19d),'property':_0x34531c(0x177),'width':0x3c,'renderer':null},{'label':_0x34531c(0x187),'property':_0x34531c(0xeb),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x34531c(0x1a3),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x34531c(0xe8),'width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':_0x34531c(0xef),'width':0x50,'renderer':null},{'label':_0x34531c(0x16a),'property':_0x34531c(0x161),'width':0x3f,'renderer':null}],'datas':[]},_0x3612e5['return_sale_QA'][_0x34531c(0x102)](_0x53cf51=>{const _0x5a77ac=_0x34531c;let _0x2fd3f6='';var _0x44f554=0x0;_0x3e277e={'itemcode':_0x53cf51[_0x5a77ac(0x164)],'itemdescription':_0x53cf51[_0x5a77ac(0x100)],'qty':_0x53cf51[_0x5a77ac(0x163)],'unit':_0x53cf51[_0x5a77ac(0xe8)],'expdate':_0x53cf51['expiry_date'],'batchno':_0x53cf51['batch_code']},_0x5cc840+=_0x53cf51[_0x5a77ac(0x163)],console[_0x5a77ac(0x1a6)](_0x5cc840+_0x5a77ac(0x149)+_0x53cf51[_0x5a77ac(0x163)]),_0x4d9332['datas'][_0x5a77ac(0xea)](_0x3e277e);}));_0xd365b1['table'](_0x4d9332,{'x':0x14,'y':0x118,'prepareHeader':()=>_0xd365b1[_0x34531c(0x113)](_0x34531c(0xe4))[_0x34531c(0x190)](0x8),'prepareRow':(_0x49dad5,_0x25fd50,_0xe8fbbb,_0x262bd4)=>_0xd365b1[_0x34531c(0x113)](_0x34531c(0x172))[_0x34531c(0x190)](0x8)});var _0x129abc=_0xd365b1['y'],_0x4071f7=_0xd365b1['x'];_0xd365b1[_0x34531c(0x190)](0xa)[_0x34531c(0x146)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x4071f7+0x7d,_0x129abc),_0xd365b1[_0x34531c(0x190)](0xa)[_0x34531c(0x146)](_0x34531c(0x158),_0x4071f7,_0x129abc+=0x190),_0xd365b1['fontSize'](0xa)[_0x34531c(0x146)](_0x5cc840,_0x4071f7+0x37,_0x129abc,{'underline':!![]}),_0xd365b1[_0x34531c(0x190)](0xa)[_0x34531c(0x146)](_0x34531c(0x12c),_0x4071f7,_0x129abc+0x1e),_0xd365b1['fontSize'](0xa)[_0x34531c(0x146)]('ARMAN\x20CRUZ',_0x4071f7+0x32,_0x129abc+0x1e,{'underline':!![]});let _0x2d4ff1=_0xd365b1[_0x34531c(0x112)]();for(let _0x25e7da=0x0;_0x25e7da<_0x2d4ff1[_0x34531c(0x19e)];_0x25e7da++){_0xd365b1[_0x34531c(0x178)](_0x25e7da);let _0x362e34=_0xd365b1[_0x34531c(0x180)][_0x34531c(0x155)][_0x34531c(0x129)];_0xd365b1[_0x34531c(0x180)]['margins']['bottom']=0x0,_0xd365b1[_0x34531c(0x146)](_0x34531c(0xfd)+(_0x25e7da+0x1)+_0x34531c(0x116)+_0x2d4ff1[_0x34531c(0x19e)],0x0,_0xd365b1[_0x34531c(0x180)][_0x34531c(0x167)]-_0x362e34/0x2,{'align':_0x34531c(0x124)}),_0xd365b1['page'][_0x34531c(0x155)][_0x34531c(0x129)]=_0x362e34;}const _0x5a77df=_0xd365b1['y'],_0x412f11=_0xd365b1['x'];_0xd365b1[_0x34531c(0x189)]();}catch(_0x31a352){console[_0x34531c(0x1a6)](_0x31a352),_0x3604c7[_0x34531c(0xfa)](0x1f4)[_0x34531c(0x125)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x36fc69(0x109)](a0_0x36fc69(0x10d),auth,async(_0x44c037,_0x2c1af9)=>{const _0x11cd8f=a0_0x36fc69;try{const {username:_0x3e5ca5,email:_0x1f0992,role:_0x15be32}=_0x44c037[_0x11cd8f(0x197)],_0x2974ff=_0x44c037['user'],_0x4c7783=await profile[_0x11cd8f(0x170)]({'email':_0x2974ff[_0x11cd8f(0x10f)]}),_0x42d66c=await master_shop[_0x11cd8f(0x153)](),_0x5f06f2=_0x44c037['params']['id'],_0x26dbb4=await purchases[_0x11cd8f(0x12b)](_0x5f06f2),_0x336eca=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2c1af9[_0x11cd8f(0x19f)](_0x11cd8f(0xe7),_0x11cd8f(0x107)+_0x5f06f2+_0x11cd8f(0x10e)),_0x2c1af9[_0x11cd8f(0x19f)](_0x11cd8f(0x12e),_0x11cd8f(0x191));var _0x2fdce5=0x14,_0x2b7634=0x3c;_0x336eca[_0x11cd8f(0x194)](_0x2c1af9),_0x336eca['image'](_0x11cd8f(0xf1)+_0x42d66c[0x0][_0x11cd8f(0x152)],0x14,0x0,{'fit':[0x64,0x64]}),_0x336eca[_0x11cd8f(0x190)](0x14)[_0x11cd8f(0x146)](_0x11cd8f(0xfc),_0x2fdce5,_0x2b7634),_0x336eca[_0x11cd8f(0x190)](0xa)['text'](_0x11cd8f(0x1a2),_0x2fdce5,_0x2b7634+=0xf),_0x336eca['fontSize'](0xf)[_0x11cd8f(0x146)](_0x11cd8f(0xf4),_0x2fdce5,_0x2b7634+=0x32),_0x336eca[_0x11cd8f(0x190)](0xa)['text'](_0x11cd8f(0x103),_0x2fdce5,_0x2b7634+=0x14),_0x336eca['fontSize'](0x9)['text']('Warehouse\x20',_0x2fdce5,_0x2b7634+=0x2d),_0x336eca[_0x11cd8f(0x190)](0x9)[_0x11cd8f(0x146)](_0x11cd8f(0xe2)+_0x26dbb4[_0x11cd8f(0x14f)],_0x2fdce5+0x3f,_0x2b7634),_0x336eca[_0x11cd8f(0x190)](0x9)[_0x11cd8f(0x146)](_0x11cd8f(0x1ab)+_0x26dbb4[_0x11cd8f(0x175)],_0x2fdce5+0x17c,_0x2b7634,{'underline':!![]}),_0x336eca[_0x11cd8f(0x190)](0x9)[_0x11cd8f(0x146)](_0x11cd8f(0x18b),_0x2fdce5,_0x2b7634+=0xb),_0x336eca[_0x11cd8f(0x190)](0x9)['text'](_0x11cd8f(0xe2)+_0x26dbb4[_0x11cd8f(0x101)],_0x2fdce5+0x3f,_0x2b7634),_0x336eca[_0x11cd8f(0x190)](0x9)['text'](_0x11cd8f(0x134),_0x2fdce5,_0x2b7634+=0xb),_0x336eca[_0x11cd8f(0x190)](0x9)['text'](_0x11cd8f(0xe2)+_0x26dbb4[_0x11cd8f(0x142)],_0x2fdce5+0x3f,_0x2b7634);const _0x2f0204={'headers':[{'label':_0x11cd8f(0x19d),'property':_0x11cd8f(0x177),'width':0x3c,'renderer':null},{'label':_0x11cd8f(0x187),'property':_0x11cd8f(0xeb),'width':0x96,'renderer':null},{'label':_0x11cd8f(0x19a),'property':_0x11cd8f(0x1a3),'width':0x2d,'renderer':null},{'label':_0x11cd8f(0xf9),'property':_0x11cd8f(0xe8),'width':0x3c,'renderer':null},{'label':_0x11cd8f(0x139),'property':'expdate','width':0x46,'renderer':null},{'label':_0x11cd8f(0x16a),'property':_0x11cd8f(0x161),'width':0x3c,'renderer':null},{'label':_0x11cd8f(0x11f),'property':_0x11cd8f(0x138),'width':0x3c,'renderer':null},{'label':_0x11cd8f(0x183),'property':_0x11cd8f(0x12d),'width':0x3f,'renderer':null}],'datas':[]};var _0x5b46e3=0x0;let _0x3fe209='';_0x26dbb4[_0x11cd8f(0xe0)][_0x11cd8f(0x102)](_0x570220=>{const _0x3e5357=_0x11cd8f;let _0x155d10='';var _0x532431=0x0;const _0x113337={'itemcode':_0x570220[_0x3e5357(0x164)],'itemdescription':_0x570220[_0x3e5357(0x100)],'qty':_0x570220[_0x3e5357(0x10a)],'unit':_0x570220[_0x3e5357(0xed)],'expdate':_0x570220['expiry_date'],'batchno':_0x570220[_0x3e5357(0x1a8)],'binloc':_0x570220[_0x3e5357(0xe9)]+_0x570220[_0x3e5357(0x15c)]+_0x570220[_0x3e5357(0x120)]+_0x570220[_0x3e5357(0x14a)]+_0x570220[_0x3e5357(0x110)][0x0]+_0x570220[_0x3e5357(0x188)],'DelCode':_0x570220[_0x3e5357(0x179)]};_0x5b46e3+=_0x570220[_0x3e5357(0x10a)],_0x2f0204[_0x3e5357(0x144)]['push'](_0x113337);}),_0x336eca[_0x11cd8f(0x1a0)](_0x2f0204,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x336eca[_0x11cd8f(0x113)](_0x11cd8f(0xe4))[_0x11cd8f(0x190)](0x8),'prepareRow':(_0x548923,_0x3a9dd3,_0x1b039d,_0x122802)=>_0x336eca[_0x11cd8f(0x113)](_0x11cd8f(0x172))[_0x11cd8f(0x190)](0x8)});var _0x24d390=_0x336eca['y'],_0x28ea92=_0x336eca['x'];_0x336eca[_0x11cd8f(0x190)](0xa)['text'](_0x11cd8f(0x140),_0x28ea92+0x7d,_0x24d390),_0x336eca['fontSize'](0xa)[_0x11cd8f(0x146)](_0x11cd8f(0x158),_0x28ea92,_0x24d390+=0x15e),_0x336eca[_0x11cd8f(0x190)](0xa)[_0x11cd8f(0x146)](_0x5b46e3,_0x28ea92+0xf0,_0x24d390,{'underline':!![]}),_0x336eca['fontSize'](0xa)[_0x11cd8f(0x146)]('Checked\x20By\x20\x20\x20:\x20',_0x28ea92,_0x24d390+0x28),_0x336eca[_0x11cd8f(0x190)](0xa)['text'](_0x11cd8f(0x160),_0x28ea92+0x40,_0x24d390+0x28,{'underline':!![]}),_0x336eca['fontSize'](0xa)[_0x11cd8f(0x146)](_0x11cd8f(0x154),_0x28ea92+0x40,_0x24d390+0x32);let _0x34b99c=_0x336eca['bufferedPageRange']();for(let _0x326a22=0x0;_0x326a22<_0x34b99c[_0x11cd8f(0x19e)];_0x326a22++){_0x336eca['switchToPage'](_0x326a22);let _0x201db6=_0x336eca[_0x11cd8f(0x180)][_0x11cd8f(0x155)][_0x11cd8f(0x129)];_0x336eca['page'][_0x11cd8f(0x155)][_0x11cd8f(0x129)]=0x0,_0x336eca['text'](_0x11cd8f(0xfd)+(_0x326a22+0x1)+_0x11cd8f(0x116)+_0x34b99c[_0x11cd8f(0x19e)],0x0,_0x336eca['page'][_0x11cd8f(0x167)]-_0x201db6/0x2,{'align':_0x11cd8f(0x124)}),_0x336eca[_0x11cd8f(0x180)]['margins']['bottom']=_0x201db6;}const _0x1b99e5=_0x336eca['y'],_0x47001c=_0x336eca['x'];_0x336eca[_0x11cd8f(0x189)]();}catch(_0x40179f){console['log'](_0x40179f),_0x2c1af9['status'](0x1f4)[_0x11cd8f(0x125)](_0x11cd8f(0x111));}}),router[a0_0x36fc69(0x109)](a0_0x36fc69(0x16d),auth,async(_0x271d9c,_0x40a857)=>{const _0xbb663=a0_0x36fc69;try{const {username:_0x59de52,email:_0x533451,role:_0x21e734}=_0x271d9c[_0xbb663(0x197)],_0xd5810f=_0x271d9c[_0xbb663(0x197)],_0x274b44=await profile['findOne']({'email':_0xd5810f[_0xbb663(0x10f)]}),_0x3a55ed=await master_shop[_0xbb663(0x153)](),_0x5657f2=_0x271d9c['params']['id'],_0xc30901=await sales[_0xbb663(0x12b)](_0x5657f2),_0x19db85=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x254b8b;_0x254b8b=_0xbb663(0xe1);_0xc30901[_0xbb663(0x18c)]==_0xbb663(0x108)&&(_0x254b8b='DELIVERY\x20RECEIPT');_0x40a857['setHeader']('Content-disposition',_0xbb663(0x107)+_0x5657f2+'.pdf\x22'),_0x40a857[_0xbb663(0x19f)]('Content-type',_0xbb663(0x191));var _0x2b1096=0x14,_0x3606c9=0x64;_0x19db85[_0xbb663(0x194)](_0x40a857),_0x19db85[_0xbb663(0x152)](_0xbb663(0xf1)+_0x3a55ed[0x0][_0xbb663(0x152)],0x14,0x0,{'fit':[0x64,0x64]}),_0x19db85[_0xbb663(0x190)](0x14)[_0xbb663(0x146)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x2b1096,_0x3606c9),_0x19db85[_0xbb663(0x190)](0xa)[_0xbb663(0x146)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x2b1096,_0x3606c9+=0xf),_0x19db85['fontSize'](0xf)['text'](_0x254b8b,_0x2b1096,_0x3606c9+=0x32),_0x19db85[_0xbb663(0x190)](0xa)[_0xbb663(0x146)]('(OUTGOING)',_0x2b1096,_0x3606c9+=0x14),_0x19db85[_0xbb663(0x190)](0x9)[_0xbb663(0x146)](_0xbb663(0x18b),_0x2b1096,_0x3606c9+=0x19),_0x19db85[_0xbb663(0x190)](0x9)[_0xbb663(0x146)](_0xbb663(0xe2)+_0xc30901['date'],_0x2b1096+0x3f,_0x3606c9),_0x19db85[_0xbb663(0x190)](0x9)[_0xbb663(0x146)](_0xbb663(0x1a1),_0x2b1096,_0x3606c9+=0xb),_0x19db85[_0xbb663(0x190)](0x9)['text']('\x20:\x20'+_0xc30901['invoice'],_0x2b1096+0x3f,_0x3606c9);const _0x25a27b={'headers':[{'label':_0xbb663(0xf7),'property':'itemcode','align':'center','width':0x2d,'renderer':null},{'label':_0xbb663(0x14b),'property':_0xbb663(0xeb),'align':_0xbb663(0x124),'width':0x64,'renderer':null},{'label':'REQUESTED\x20QUANTITY','property':_0xbb663(0x18f),'align':'center','width':0x28,'renderer':null},{'label':'QUANTITY\x20ISSUED','property':_0xbb663(0x173),'align':_0xbb663(0x124),'width':0x28,'renderer':null},{'label':_0xbb663(0xf9),'property':_0xbb663(0xe8),'align':_0xbb663(0x124),'width':0x28,'renderer':null},{'label':_0xbb663(0x17f),'property':_0xbb663(0x15d),'align':_0xbb663(0x124),'width':0x32,'renderer':null},{'label':_0xbb663(0x17d),'property':'proddate','align':_0xbb663(0x124),'width':0x3c,'renderer':null},{'label':_0xbb663(0x184),'property':_0xbb663(0xef),'align':_0xbb663(0x124),'width':0x3c,'renderer':null},{'label':_0xbb663(0x1aa),'property':_0xbb663(0x171),'align':_0xbb663(0x124),'width':0x3f,'renderer':null},{'label':_0xbb663(0x143),'property':_0xbb663(0x16b),'align':_0xbb663(0x124),'width':0x3f,'renderer':null}],'datas':[]};var _0x4bcb29=0x0;let _0x138d9d='';var _0x48ff3a=0x0,_0x2b1096=0x1;_0xc30901[_0xbb663(0x1a5)]['forEach'](_0x329874=>{const _0x28b11d=_0xbb663,_0x308a9e=new Date(_0x329874['production_date']),_0x69467d={'year':'numeric','month':_0x28b11d(0x10b),'day':_0x28b11d(0x13b)},_0x2ca1d4=_0x308a9e[_0x28b11d(0x119)](_0x28b11d(0x166),_0x69467d),_0x3b87b2=new Date(_0x329874[_0x28b11d(0xdf)]),_0x375b70={'year':_0x28b11d(0x13b),'month':_0x28b11d(0x10b),'day':_0x28b11d(0x13b)},_0x8c081f=_0x3b87b2[_0x28b11d(0x119)](_0x28b11d(0x166),_0x375b70),_0x3c9e47=new Date(_0x329874['delivery_date']),_0x1ee3f7={'year':_0x28b11d(0x13b),'month':_0x28b11d(0x10b),'day':_0x28b11d(0x13b)};var _0x2000f4=_0x3c9e47[_0x28b11d(0x119)](_0x28b11d(0x166),_0x1ee3f7);typeof _0x329874[_0x28b11d(0x157)]==_0x28b11d(0xf2)&&(_0x2000f4='');const _0x5b7b18={'itemcode':_0x329874['product_code'],'itemdescription':_0x329874['product_name'],'rqty':_0x329874[_0x28b11d(0x141)],'iqty':_0x329874[_0x28b11d(0x10a)],'unit':_0x329874[_0x28b11d(0xe8)],'blocation':_0x329874[_0x28b11d(0xe9)]+_0x329874[_0x28b11d(0x15c)]+_0x329874[_0x28b11d(0x120)]+_0x329874['bin']+_0x329874[_0x28b11d(0x110)][0x0]+_0x329874['floorlevel'],'proddate':_0x2ca1d4,'expdate':_0x8c081f,'del_date':_0x2000f4,'del_code':_0x329874['delivery_code']};_0x2b1096++,_0x25a27b[_0x28b11d(0x144)][_0x28b11d(0xea)](_0x5b7b18);}),_0x19db85[_0xbb663(0x1a0)](_0x25a27b,{'x':_0x2b1096+0x11,'y':_0x3606c9+=0x1e,'prepareHeader':()=>_0x19db85[_0xbb663(0x113)](_0xbb663(0xe4))[_0xbb663(0x190)](6.5),'prepareRow':(_0x4e177f,_0x1e7036,_0x2a28ab,_0x1097b2,_0x2692ba)=>{const _0x2e59e6=_0xbb663,{x:_0x4ed465,y:_0x377e74,width:_0xa7d99b,height:_0x3a2ee8}=_0x2692ba;_0x19db85[_0x2e59e6(0x113)](_0x2e59e6(0x172))[_0x2e59e6(0x190)](0x8),_0x19db85[_0x2e59e6(0x156)](0.5)['moveTo'](_0x4ed465,_0x377e74)[_0x2e59e6(0x181)](_0x4ed465,_0x377e74+_0x3a2ee8)['stroke']();}});var _0xe7f826=_0x19db85['y'],_0x40e515=_0x19db85['x'],_0x52ed15=_0xe7f826-=0x8;_0x19db85[_0xbb663(0x156)](0x5),_0x19db85['lineCap']('butt')['moveTo'](0x240,_0x52ed15)[_0xbb663(0x181)](0x11,_0x52ed15)[_0xbb663(0x162)](),_0x19db85[_0xbb663(0x190)](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x40e515+0x7d,_0xe7f826+=0xf),_0x19db85[_0xbb663(0x190)](0xb)[_0xbb663(0x146)](_0xbb663(0x126),_0x40e515,_0xe7f826+=0x15e),_0x19db85['fontSize'](0xa)[_0xbb663(0x146)](_0xbb663(0x13e),_0x40e515+0x52,_0xe7f826,{'underline':!![]}),_0x19db85[_0xbb663(0x190)](0xa)['text']('Picked\x20By',_0x40e515,_0xe7f826+=0x19),_0x19db85[_0xbb663(0x190)](0xa)['text'](_0xbb663(0xe2),_0x40e515+0x4b,_0xe7f826),_0x19db85[_0xbb663(0x190)](0xa)[_0xbb663(0x146)]('\x20'[_0xbb663(0x17b)](0x3c),_0x40e515+0x50,_0xe7f826,{'underline':!![]}),_0x19db85[_0xbb663(0x190)](0xa)[_0xbb663(0x146)](_0xbb663(0xdd),_0x40e515,_0xe7f826+=0x32),_0x19db85[_0xbb663(0x190)](0xa)['text'](_0xbb663(0xe2),_0x40e515+0x4b,_0xe7f826),_0x19db85['fontSize'](0xa)[_0xbb663(0x146)](_0xbb663(0x13d),_0x40e515+0x50,_0xe7f826,{'underline':!![]}),_0x19db85[_0xbb663(0x190)](0xa)[_0xbb663(0x146)](_0xbb663(0x154),_0x40e515+0x50,_0xe7f826+0xc);let _0x18702d=_0x19db85[_0xbb663(0x112)]();for(let _0x332abc=0x0;_0x332abc<_0x18702d[_0xbb663(0x19e)];_0x332abc++){_0x19db85[_0xbb663(0x178)](_0x332abc);let _0x59778e=_0x19db85[_0xbb663(0x180)][_0xbb663(0x155)]['bottom'];_0x19db85[_0xbb663(0x180)]['margins'][_0xbb663(0x129)]=0x0,_0x19db85[_0xbb663(0x146)](_0xbb663(0xfd)+(_0x332abc+0x1)+'\x20of\x20'+_0x18702d[_0xbb663(0x19e)],0x0,_0x19db85[_0xbb663(0x180)][_0xbb663(0x167)]-_0x59778e/0x2,{'align':_0xbb663(0x124)}),_0x19db85[_0xbb663(0x180)][_0xbb663(0x155)][_0xbb663(0x129)]=_0x59778e;}const _0x3a1da1=_0x19db85['y'],_0x5294c1=_0x19db85['x'];_0x19db85['end']();}catch(_0x3fe493){console[_0xbb663(0x1a6)](_0x3fe493),_0x40a857[_0xbb663(0xfa)](0x1f4)[_0xbb663(0x125)](_0xbb663(0x111));}}),router['get']('/PDF_adjustment_rm/:id',auth,async(_0x3a4bd6,_0x5f0440)=>{const _0x41d1ba=a0_0x36fc69;try{const {username:_0x2d6517,email:_0x2a77a4,role:_0x30984b}=_0x3a4bd6[_0x41d1ba(0x197)],_0x2b3070=_0x3a4bd6['user'],_0x15561b=await profile[_0x41d1ba(0x170)]({'email':_0x2b3070[_0x41d1ba(0x10f)]}),_0x165f89=await master_shop[_0x41d1ba(0x153)](),_0x4b814c=_0x3a4bd6[_0x41d1ba(0xf8)]['id'],_0x324185=await adjustment[_0x41d1ba(0x12b)](_0x4b814c);var _0x3b8014,_0x458cab;_0x3b8014=_0x41d1ba(0xe1),_0x458cab=_0x41d1ba(0x1a4);_0x324185[_0x41d1ba(0x18c)]==_0x41d1ba(0x108)&&(_0x3b8014=_0x41d1ba(0x169),_0x458cab='');const _0x1397fe=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5f0440[_0x41d1ba(0x19f)]('Content-disposition',_0x41d1ba(0x107)+_0x4b814c+'.pdf\x22'),_0x5f0440[_0x41d1ba(0x19f)](_0x41d1ba(0x12e),'application/pdf');var _0x227ba6=0x14,_0x445244=0x3c;_0x1397fe[_0x41d1ba(0x194)](_0x5f0440),_0x1397fe['image'](_0x41d1ba(0xf1)+_0x165f89[0x0][_0x41d1ba(0x152)],0x14,0x0,{'fit':[0x64,0x64]}),_0x1397fe[_0x41d1ba(0x190)](0x14)[_0x41d1ba(0x146)](_0x41d1ba(0xfc),_0x227ba6,_0x445244),_0x1397fe[_0x41d1ba(0x190)](0xa)[_0x41d1ba(0x146)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x227ba6,_0x445244+=0xf),_0x1397fe[_0x41d1ba(0x190)](0xf)[_0x41d1ba(0x146)](_0x3b8014,_0x227ba6,_0x445244+=0x32),_0x1397fe[_0x41d1ba(0x190)](0xa)[_0x41d1ba(0x146)](_0x458cab,_0x227ba6,_0x445244+=0x14),_0x1397fe[_0x41d1ba(0x190)](0x9)[_0x41d1ba(0x146)](_0x41d1ba(0x17a),_0x227ba6,_0x445244+=0x28),_0x1397fe[_0x41d1ba(0x190)](0x9)[_0x41d1ba(0x146)](_0x41d1ba(0xe2)+_0x324185[_0x41d1ba(0x14f)],_0x227ba6+0x3f,_0x445244),_0x1397fe[_0x41d1ba(0x190)](0x9)[_0x41d1ba(0x146)](_0x41d1ba(0x18b),_0x227ba6,_0x445244+=0xb),_0x1397fe[_0x41d1ba(0x190)](0x9)[_0x41d1ba(0x146)](_0x41d1ba(0xe2)+_0x324185[_0x41d1ba(0x101)],_0x227ba6+0x3f,_0x445244),_0x1397fe[_0x41d1ba(0x190)](0x9)[_0x41d1ba(0x146)](_0x41d1ba(0x134),_0x227ba6,_0x445244+=0xb),_0x1397fe['fontSize'](0x9)[_0x41d1ba(0x146)]('\x20:\x20'+_0x324185[_0x41d1ba(0x142)],_0x227ba6+0x3f,_0x445244);const _0x225895={'headers':[{'label':_0x41d1ba(0x19d),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x41d1ba(0x187),'property':_0x41d1ba(0xeb),'width':0x96,'renderer':null},{'label':_0x41d1ba(0x15a),'property':_0x41d1ba(0x1a3),'width':0x3c,'renderer':null},{'label':_0x41d1ba(0xf9),'property':'unit','width':0x3c,'renderer':null},{'label':_0x41d1ba(0x114),'property':_0x41d1ba(0x176),'width':0x50,'renderer':null},{'label':_0x41d1ba(0x16a),'property':_0x41d1ba(0x161),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x2e4238=0x0,_0x46a287=0x0;_0x324185[_0x41d1ba(0xe0)][_0x41d1ba(0x102)](_0x286fa3=>{const _0x512103=_0x41d1ba;let _0x335f98='';const _0x3a05d2=_0x286fa3[_0x512103(0x10c)];for(let _0x1dc416=0x1;_0x1dc416<=_0x3a05d2;_0x1dc416++){_0x3a05d2==_0x1dc416?_0x335f98+=_0x286fa3[_0x512103(0x195)]:_0x335f98+=_0x286fa3[_0x512103(0x195)]+',',_0x46a287+=_0x286fa3[_0x512103(0x195)];}_0x335f98+='\x20/\x20'+_0x286fa3['secondary_unit'];const _0x56bea3={'itemcode':_0x286fa3[_0x512103(0x164)],'itemdescription':_0x286fa3[_0x512103(0x100)],'qty':_0x286fa3[_0x512103(0xe5)],'unit':_0x286fa3[_0x512103(0xe8)],'proddate':_0x286fa3[_0x512103(0x16c)],'batchno':_0x286fa3[_0x512103(0x1a8)],'binloc':_0x286fa3[_0x512103(0xe9)]+_0x286fa3[_0x512103(0x15c)]+_0x286fa3['bay']+_0x286fa3[_0x512103(0x14a)]+_0x286fa3[_0x512103(0x110)][0x0]+_0x286fa3[_0x512103(0x188)]};_0x2e4238+=_0x286fa3[_0x512103(0xe5)],_0x225895[_0x512103(0x144)][_0x512103(0xea)](_0x56bea3);}),_0x1397fe[_0x41d1ba(0x1a0)](_0x225895,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x1397fe['font'](_0x41d1ba(0xe4))[_0x41d1ba(0x190)](0x8),'prepareRow':(_0x278d87,_0x2d8af4,_0x4298fb,_0x5824e7)=>_0x1397fe[_0x41d1ba(0x113)](_0x41d1ba(0x172))['fontSize'](0x8)});var _0x11a09f=_0x1397fe['y'],_0x419af3=_0x1397fe['x'];_0x1397fe[_0x41d1ba(0x190)](0xa)[_0x41d1ba(0x146)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x419af3+0x7d,_0x11a09f),_0x1397fe['fontSize'](0xa)[_0x41d1ba(0x146)](_0x41d1ba(0xf5),_0x419af3,_0x11a09f+=0x136),_0x1397fe['fontSize'](0xa)['text'](_0x2e4238,_0x419af3+0xc8,_0x11a09f),_0x1397fe[_0x41d1ba(0x190)](0xa)['text'](_0x41d1ba(0x17e),_0x419af3,_0x11a09f+=0x19),_0x1397fe[_0x41d1ba(0x190)](0xa)['text']('\x20'[_0x41d1ba(0x17b)](0x3c),_0x419af3+0x3e,_0x11a09f,{'underline':!![]}),_0x1397fe[_0x41d1ba(0x190)](0xa)['text']('Checked\x20By\x20',_0x419af3,_0x11a09f+=0x32),_0x1397fe[_0x41d1ba(0x190)](0xa)[_0x41d1ba(0x146)](_0x41d1ba(0xe2),_0x419af3+0x37,_0x11a09f),_0x1397fe[_0x41d1ba(0x190)](0xa)[_0x41d1ba(0x146)](_0x41d1ba(0x13d),_0x419af3+0x3c,_0x11a09f,{'underline':!![]}),_0x1397fe[_0x41d1ba(0x190)](0xa)[_0x41d1ba(0x146)](_0x41d1ba(0x154),_0x419af3+0x3c,_0x11a09f+0xc);let _0x6b7301=_0x1397fe[_0x41d1ba(0x112)]();for(let _0x3141cd=0x0;_0x3141cd<_0x6b7301['count'];_0x3141cd++){_0x1397fe['switchToPage'](_0x3141cd);let _0x339895=_0x1397fe[_0x41d1ba(0x180)][_0x41d1ba(0x155)][_0x41d1ba(0x129)];_0x1397fe[_0x41d1ba(0x180)]['margins'][_0x41d1ba(0x129)]=0x0,_0x1397fe[_0x41d1ba(0x146)](_0x41d1ba(0xfd)+(_0x3141cd+0x1)+_0x41d1ba(0x116)+_0x6b7301['count'],0x0,_0x1397fe[_0x41d1ba(0x180)][_0x41d1ba(0x167)]-_0x339895/0x2,{'align':'center'}),_0x1397fe[_0x41d1ba(0x180)][_0x41d1ba(0x155)]['bottom']=_0x339895;}const _0x22f59c=_0x1397fe['y'],_0x1938a9=_0x1397fe['x'];_0x1397fe[_0x41d1ba(0x189)]();}catch(_0x3ff46e){console[_0x41d1ba(0x1a6)](_0x3ff46e),_0x5f0440[_0x41d1ba(0xfa)](0x1f4)[_0x41d1ba(0x125)](_0x41d1ba(0x111));}}),router[a0_0x36fc69(0x109)]('/PDF_transfer_rm/:id',auth,async(_0x364c69,_0x168a00)=>{const _0x222a0a=a0_0x36fc69;try{const {username:_0x47232d,email:_0x27d587,role:_0x26be65}=_0x364c69[_0x222a0a(0x197)],_0x1ec50e=_0x364c69[_0x222a0a(0x197)],_0x50c893=await profile['findOne']({'email':_0x1ec50e[_0x222a0a(0x10f)]}),_0x2e95a9=await master_shop[_0x222a0a(0x153)](),_0x244d18=_0x364c69[_0x222a0a(0xf8)]['id'],_0x1c55db=await transfers[_0x222a0a(0x12b)](_0x244d18);var _0x186263,_0x3609e3;_0x186263=_0x222a0a(0x11e),_0x3609e3=_0x222a0a(0x123);_0x1c55db['finalize']==_0x222a0a(0x108)&&(_0x186263=_0x222a0a(0x15b),_0x3609e3='');const _0x591efe=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x168a00[_0x222a0a(0x19f)]('Content-disposition',_0x222a0a(0x107)+_0x244d18+_0x222a0a(0x10e)),_0x168a00[_0x222a0a(0x19f)]('Content-type',_0x222a0a(0x191));var _0x103852=0x14,_0x3ea88b=0x3c;_0x591efe[_0x222a0a(0x194)](_0x168a00),_0x591efe['image'](_0x222a0a(0xf1)+_0x2e95a9[0x0][_0x222a0a(0x152)],0x14,0x0,{'fit':[0x64,0x64]}),_0x591efe[_0x222a0a(0x190)](0x14)['text']('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x103852,_0x3ea88b),_0x591efe[_0x222a0a(0x190)](0xa)[_0x222a0a(0x146)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x103852,_0x3ea88b+=0xf),_0x591efe[_0x222a0a(0x190)](0xf)[_0x222a0a(0x146)](_0x186263,_0x103852,_0x3ea88b+=0x32),_0x591efe['fontSize'](0xa)[_0x222a0a(0x146)](_0x3609e3,_0x103852,_0x3ea88b+=0x14),_0x591efe[_0x222a0a(0x190)](0x9)[_0x222a0a(0x146)]('From\x20Warehouse\x20',_0x103852,_0x3ea88b+=0x28),_0x591efe[_0x222a0a(0x190)](0x9)[_0x222a0a(0x146)](_0x222a0a(0x105)+_0x1c55db[_0x222a0a(0x13a)],_0x103852+0x3f,_0x3ea88b),_0x591efe[_0x222a0a(0x190)](0x9)[_0x222a0a(0x146)]('To\x20Warehouse\x20',_0x103852,_0x3ea88b+=0xa),_0x591efe[_0x222a0a(0x190)](0x9)['text'](_0x222a0a(0x105)+_0x1c55db['to_warehouse'],_0x103852+0x3f,_0x3ea88b),_0x591efe[_0x222a0a(0x190)](0x9)[_0x222a0a(0x146)](_0x222a0a(0x18b),_0x103852,_0x3ea88b+=0xb),_0x591efe[_0x222a0a(0x190)](0x9)[_0x222a0a(0x146)](_0x222a0a(0x105)+_0x1c55db[_0x222a0a(0x101)],_0x103852+0x3f,_0x3ea88b),_0x591efe[_0x222a0a(0x190)](0x9)['text'](_0x222a0a(0x134),_0x103852,_0x3ea88b+=0xb),_0x591efe[_0x222a0a(0x190)](0x9)['text'](_0x222a0a(0x105)+_0x1c55db[_0x222a0a(0x142)],_0x103852+0x3f,_0x3ea88b);const _0x16a60d={'headers':[{'label':'','property':_0x222a0a(0x177),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':'\x20\x20\x20\x20\x20FROM','property':_0x222a0a(0x177),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x222a0a(0xde),'property':_0x222a0a(0xeb),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x591efe['table'](_0x16a60d,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x591efe['font'](_0x222a0a(0xe4))['fontSize'](0x8),'prepareRow':(_0x355ba2,_0x2b1579,_0x44592c,_0x4ecd00)=>_0x591efe['font'](_0x222a0a(0x172))['fontSize'](0x8)});const _0x5022a4={'headers':[{'label':_0x222a0a(0x19d),'property':_0x222a0a(0x177),'width':0x3c,'renderer':null},{'label':_0x222a0a(0x187),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x222a0a(0x15a),'property':_0x222a0a(0x1a3),'width':0x28,'renderer':null},{'label':'UOM','property':_0x222a0a(0xe8),'width':0x37,'renderer':null},{'label':_0x222a0a(0x114),'property':_0x222a0a(0x176),'width':0x4b,'renderer':null},{'label':_0x222a0a(0x16a),'property':_0x222a0a(0x161),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':'binlocFrom','width':0x3f,'renderer':null},{'label':_0x222a0a(0x11f),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x556659=0x0;let _0x2b722f='';var _0x3a0775=0x0;_0x1c55db[_0x222a0a(0xe0)][_0x222a0a(0x102)](_0x31ce53=>{const _0x2cc5d5=_0x222a0a;var _0x525ff1=_0x31ce53[_0x2cc5d5(0x133)],_0xc0d8df;_0xc0d8df=_0x31ce53[_0x2cc5d5(0xe8)];_0x525ff1=='S'&&(_0xc0d8df=_0x31ce53['secondary_unit']);const _0x4c7154={'itemcode':_0x31ce53[_0x2cc5d5(0x164)],'itemdescription':_0x31ce53[_0x2cc5d5(0x100)],'qty':_0x31ce53[_0x2cc5d5(0x10c)],'unit':_0xc0d8df,'proddate':_0x31ce53[_0x2cc5d5(0x16c)],'batchno':_0x31ce53[_0x2cc5d5(0x1a8)],'binloc':_0x31ce53[_0x2cc5d5(0xe9)]+_0x31ce53[_0x2cc5d5(0x15c)]+_0x31ce53[_0x2cc5d5(0xe3)]+_0x31ce53[_0x2cc5d5(0xff)]+_0x31ce53[_0x2cc5d5(0x14d)][0x0]+_0x31ce53['to_floorlevel'],'qtyFrom':_0x31ce53[_0x2cc5d5(0x196)],'binlocFrom':_0x31ce53[_0x2cc5d5(0x17c)]+_0x31ce53['from_rack']+_0x31ce53[_0x2cc5d5(0x199)]+_0x31ce53['from_bin']+_0x31ce53['from_types'][0x0]+_0x31ce53[_0x2cc5d5(0xec)]};_0x556659+=_0x31ce53[_0x2cc5d5(0x10c)],_0x5022a4['datas'][_0x2cc5d5(0xea)](_0x4c7154);}),_0x591efe[_0x222a0a(0x1a0)](_0x5022a4,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x591efe[_0x222a0a(0x113)](_0x222a0a(0xe4))[_0x222a0a(0x190)](0x8),'prepareRow':(_0x29ec0b,_0x290d41,_0x44a9ef,_0x3c70c1)=>_0x591efe[_0x222a0a(0x113)](_0x222a0a(0x172))['fontSize'](0x8)});var _0x12e09f=_0x591efe['y'],_0x180121=_0x591efe['x'];_0x591efe[_0x222a0a(0x190)](0xa)[_0x222a0a(0x146)](_0x222a0a(0x140),_0x180121+0x7d,_0x12e09f),_0x591efe[_0x222a0a(0x190)](0xa)[_0x222a0a(0x146)](_0x222a0a(0x158),_0x180121,_0x12e09f+=0x12c),_0x591efe[_0x222a0a(0x190)](0xa)[_0x222a0a(0x146)](_0x556659,_0x180121+0xd7,_0x12e09f,{'underline':!![]}),_0x591efe[_0x222a0a(0x190)](0xa)[_0x222a0a(0x146)](_0x222a0a(0x104),_0x180121,_0x12e09f+=0x32),_0x591efe[_0x222a0a(0x190)](0xa)[_0x222a0a(0x146)](_0x222a0a(0x127),_0x180121+0x3c,_0x12e09f,{'underline':!![]}),_0x591efe[_0x222a0a(0x190)](0xa)[_0x222a0a(0x146)](_0x222a0a(0x154),_0x180121+0x3c,_0x12e09f+0xc);let _0x21c29b=_0x591efe[_0x222a0a(0x112)]();for(let _0x44bfc1=0x0;_0x44bfc1<_0x21c29b['count'];_0x44bfc1++){_0x591efe[_0x222a0a(0x178)](_0x44bfc1);let _0x4fe902=_0x591efe[_0x222a0a(0x180)][_0x222a0a(0x155)][_0x222a0a(0x129)];_0x591efe['page'][_0x222a0a(0x155)]['bottom']=0x0,_0x591efe[_0x222a0a(0x146)](_0x222a0a(0xfd)+(_0x44bfc1+0x1)+_0x222a0a(0x116)+_0x21c29b[_0x222a0a(0x19e)],0x0,_0x591efe['page'][_0x222a0a(0x167)]-_0x4fe902/0x2,{'align':_0x222a0a(0x124)}),_0x591efe[_0x222a0a(0x180)]['margins']['bottom']=_0x4fe902;}const _0x13ec5f=_0x591efe['y'],_0x249e55=_0x591efe['x'];_0x591efe[_0x222a0a(0x189)]();}catch(_0xa36e9b){console[_0x222a0a(0x1a6)](_0xa36e9b),_0x168a00[_0x222a0a(0xfa)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x36fc69(0x109)](a0_0x36fc69(0x14c),auth,async(_0x1e3542,_0x4d0f2e)=>{const _0x42386a=a0_0x36fc69;try{const _0x4e6af9=_0x239338=>_0x239338*0x48,_0x58be14={'width':0x3,'height':0x1},_0x1e14ef=await product[_0x42386a(0x153)](),_0x232ab8=new PDFDocument({'margin':_0x4e6af9(0.75),'size':[_0x4e6af9(_0x58be14['width']),_0x4e6af9(_0x58be14[_0x42386a(0x167)])],'bufferPages':!![]}),_0x29294a=_0x1e14ef[_0x42386a(0x11a)];for(let _0x144d62=0x0;_0x144d62<=_0x29294a;_0x144d62++){if(_0x144d62!=_0x1e14ef[_0x42386a(0x11a)]){const _0x4ac510=_0x1e14ef[_0x144d62][_0x42386a(0x192)],_0x2197f1=_0x1e14ef[_0x144d62]['primary_code'],_0x30c006=_0x1e14ef[_0x144d62][_0x42386a(0x118)],_0x5e2179=_0x1e14ef[_0x144d62][_0x42386a(0x164)],_0x533a35=new Canvas();JsBarcode(_0x533a35,_0x2197f1,{'format':_0x42386a(0x16f),'height':0x32,'displayValue':!![],'text':_0x2197f1}),_0x232ab8[_0x42386a(0x152)](_0x533a35[_0x42386a(0x13c)](),0x0,0x0,{'width':0xd2}),_0x232ab8['addPage']();}}_0x232ab8[_0x42386a(0x194)](_0x4d0f2e),_0x232ab8[_0x42386a(0x189)]();}catch(_0x5945ba){console[_0x42386a(0x1a9)](_0x42386a(0x136),_0x5945ba),_0x4d0f2e[_0x42386a(0xfa)](0x1f4)[_0x42386a(0x125)](_0x42386a(0x111));}}),module['exports']=router;