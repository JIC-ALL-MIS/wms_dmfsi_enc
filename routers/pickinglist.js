const a0_0x4d3c46=a0_0x3274;(function(_0x2e9e07,_0x11c9e2){const _0x3b741d=a0_0x3274,_0x3a6c4c=_0x2e9e07();while(!![]){try{const _0x383fde=parseInt(_0x3b741d(0x17d))/0x1+-parseInt(_0x3b741d(0x175))/0x2*(parseInt(_0x3b741d(0x146))/0x3)+parseInt(_0x3b741d(0x16d))/0x4+-parseInt(_0x3b741d(0x10f))/0x5*(-parseInt(_0x3b741d(0x129))/0x6)+parseInt(_0x3b741d(0x132))/0x7+parseInt(_0x3b741d(0x16a))/0x8*(-parseInt(_0x3b741d(0x188))/0x9)+-parseInt(_0x3b741d(0x13b))/0xa;if(_0x383fde===_0x11c9e2)break;else _0x3a6c4c['push'](_0x3a6c4c['shift']());}catch(_0x242d5d){_0x3a6c4c['push'](_0x3a6c4c['shift']());}}}(a0_0x5630,0x7ea3c));function a0_0x5630(){const _0x3e58c1=['lineTo','PRODUCTION\x20DATE','Raw\x20Materials\x20Warehouse\x20Supervisor','19551160AzvKmx','x:\x20','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','from_bay','find','QUANTITY\x20ISSUED','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','findById','toLocaleDateString','product','exceljs','6RYXxtR','batchno','/barcode_generator/','Pick\x20By\x20:\x20','itemcode','butt','expdate','height','text','expiry_date','DELIVERY\x20DATE','Expiration\x20Date','Router','bufferedPageRange','invoice','del_date','from_types','return_sale_QA','STOCKS\x20TRANSFER','Check\x20By:\x20','floorlevel','UOM','pipe','error','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20/\x20','\x20\x20\x20:\x20','lineWidth','/PDF_transfer_rm/:id','(OUTGOING)','undefined','Checked\x20By\x20','ITEM\x20CODE','QTY','binloc','/PDF_adjustment/:id','8kviYvf','warehouse_cat','date','2325972uaXYLO','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','secondary_unit','stroke','from_floorlevel','/PDF_transfer/:id','ToWarehouse','datas','499118mtSagX','inline;\x20filename=\x22','\x20row:\x20','exports','\x20\x20TO','findOne','margins','DELIVERY\x20RECEIPT','586211HnOqNa','production_date','get','center','PREPARED\x20BY\x20:\x20','short','sale_product','from_warehouse','send','push','quantity','1275462VylyLJ','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','from_bin','rack','application/pdf','to_quantity','To\x20Warehouse\x20','binlocFrom','From\x20Warehouse\x20','Delivery\x20Code','Picked\x20By\x20\x20\x20:\x20','inline;\x20filename=\x22OUT-','adjust_qty','storage','Quantity','jsbarcode','express/lib/response','qty','log','maxperunit','FTGS\x20Number\x20:\x20','Noted\x20By\x20','fontSize','switchToPage','to_types','prod_cat','(STOCKS\x20TRANSFER)','page','to_bin','TOTAL\x20QTY:\x20','delivery_date','params','LOCATION','bottom','proddate','Picked\x20By','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','from_storage','en-US','return_qty','new_adjust_qty','Control\x20Number\x20:\x20','FROZEN\x20GOODS','REQUESTED\x20QUANTITY','REF\x20MRIS#\x20','bin','repeat','Checked\x20By:\x20','Helvetica-Bold','Batch\x20No','warehouse_name','iqty','to_bay','Production\x20Date','canvas','Checked\x20By\x20\x20\x20:\x20','del_code','Picked\x20By\x20\x20\x20\x20:\x20','INVENTORY\x20ADJUSTMENT','type','standard_unit','./public/upload/','product_code','\x20\x20\x20\x20\x20FROM','bay','DelCode','to_floorlevel','Control\x20Number\x20','Date\x20','product_name','setHeader','(INVENTORY\x20ADJUSTMENT)','customer','Warehouse\x20','user','image','end','../models/all_models','(RETURN)','from_rack','status','pdfkit-table','DRY\x20GOODS','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20of\x20','.pdf\x22','unit','numeric','to_warehouse','5qSYSIy','Item\x20Description','batch_code','Check\x20By\x20\x20\x20\x20:\x20','Bin\x20Location','count','True','\x20:\x20','requested_qty','forEach','email','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','TOTAL\x20QTY\x20:\x20','EXPIRATION\x20DATE','delivery_code','PICKING\x20LIST','name','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','Finished\x20Good\x20Warehouse\x20Supervisor','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','/pdf_puchases/:id','Page:\x20','/PDF/:id','itemdescription','Picking\x20List','Content-type','5932662jscfcr','multer','/pdf_sales_return_fin/:id','Item\x20Code','font','Helvetica','table','finalize','Customer\x20:\x20','6707309OclxTo','(INCOMING)','../public/language/languages.json','Date\x20:\x20','Content-disposition','DELIVERY\x20CODE'];a0_0x5630=function(){return _0x3e58c1;};return a0_0x5630();}const express=require('express'),res=require(a0_0x4d3c46(0x198)),app=express(),router=express[a0_0x4d3c46(0x152)](),multer=require(a0_0x4d3c46(0x12a)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x4d3c46(0x103)),auth=require('../middleware/auth'),users=require(a0_0x4d3c46(0x134)),excelJS=require(a0_0x4d3c46(0x145)),xlsx=require('xlsx'),PDFDocument=require(a0_0x4d3c46(0x107)),fs=require('fs'),blobStream=require('blob-stream'),JsBarcode=require(a0_0x4d3c46(0x197)),{Canvas}=require(a0_0x4d3c46(0xec));function a0_0x3274(_0x28ad4a,_0x4aa544){const _0x563003=a0_0x5630();return a0_0x3274=function(_0x3274c7,_0x1add2c){_0x3274c7=_0x3274c7-0xc9;let _0x27dd39=_0x563003[_0x3274c7];return _0x27dd39;},a0_0x3274(_0x28ad4a,_0x4aa544);}router[a0_0x4d3c46(0x17f)](a0_0x4d3c46(0x125),auth,async(_0x15ca34,_0x52a792)=>{const _0x1de988=a0_0x4d3c46;try{const {username:_0x5e3bc1,email:_0x149f84,role:_0x23429f}=_0x15ca34[_0x1de988(0x100)],_0x3d34a0=_0x15ca34[_0x1de988(0x100)],_0x15ba2d=await profile[_0x1de988(0x17a)]({'email':_0x3d34a0[_0x1de988(0x119)]}),_0x286757=await master_shop[_0x1de988(0x13f)](),_0x450bd1=_0x15ca34[_0x1de988(0xd4)]['id'],_0x292525=await sales_finished['findById'](_0x450bd1);var _0x3cef21;_0x3cef21=_0x1de988(0x11e);_0x292525[_0x1de988(0x130)]==_0x1de988(0x115)&&(_0x3cef21=_0x1de988(0x17c));const _0x3d527b=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x52a792['setHeader'](_0x1de988(0x136),_0x1de988(0x176)+_0x292525[_0x1de988(0x154)]+_0x1de988(0x10b)),_0x52a792[_0x1de988(0xfc)](_0x1de988(0x128),_0x1de988(0x18c));var _0x272600=0x14,_0x406d51=0x3c;_0x3d527b[_0x1de988(0x15c)](_0x52a792),_0x3d527b[_0x1de988(0x101)]('./public/upload/'+_0x286757[0x0][_0x1de988(0x101)],0x14,0x0,{'fit':[0x64,0x64]}),_0x3d527b[_0x1de988(0xcb)](0x14)[_0x1de988(0x14e)](_0x1de988(0x13d),_0x272600,_0x406d51),_0x3d527b[_0x1de988(0xcb)](0xa)['text'](_0x1de988(0x122),_0x272600,_0x406d51+=0xf),_0x3d527b[_0x1de988(0xcb)](0xf)[_0x1de988(0x14e)](_0x3cef21,_0x272600,_0x406d51+=0x32),_0x3d527b[_0x1de988(0xcb)](0xa)[_0x1de988(0x14e)](_0x1de988(0x163),_0x272600,_0x406d51+=0x14),_0x3d527b[_0x1de988(0xcb)](0x9)[_0x1de988(0x14e)](_0x1de988(0xff),_0x272600,_0x406d51+=0x28),_0x3d527b[_0x1de988(0xcb)](0x9)[_0x1de988(0x14e)](_0x1de988(0x116)+_0x292525['warehouse_name'],_0x272600+0x3f,_0x406d51),_0x3d527b[_0x1de988(0xcb)](0x9)[_0x1de988(0x14e)](_0x1de988(0x131)+_0x292525[_0x1de988(0xfe)],_0x272600+0x17c,_0x406d51,{'underline':!![]}),_0x3d527b[_0x1de988(0xcb)](0x9)[_0x1de988(0x14e)]('Date\x20',_0x272600,_0x406d51+=0xb),_0x3d527b[_0x1de988(0xcb)](0x9)[_0x1de988(0x14e)](_0x1de988(0x116)+_0x292525['date'],_0x272600+0x3f,_0x406d51),_0x3d527b[_0x1de988(0xcb)](0x9)[_0x1de988(0x14e)]('Control\x20Number\x20',_0x272600,_0x406d51+=0xb),_0x3d527b[_0x1de988(0xcb)](0x9)[_0x1de988(0x14e)](_0x1de988(0x116)+_0x292525['invoice'],_0x272600+0x3f,_0x406d51);const _0x50231d={'headers':[{'label':_0x1de988(0x12c),'property':_0x1de988(0x14a),'width':0x3c,'renderer':null},{'label':_0x1de988(0x110),'property':'itemdescription','width':0xa5,'renderer':null},{'label':_0x1de988(0x196),'property':_0x1de988(0x199),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x1de988(0x10c),'width':0x3c,'renderer':null},{'label':_0x1de988(0xeb),'property':_0x1de988(0xd7),'width':0x50,'renderer':null},{'label':_0x1de988(0xe7),'property':_0x1de988(0x147),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x1de988(0x168),'width':0x3f,'renderer':null}],'datas':[]};var _0x21bcaa=0x0;let _0x8cca0d='';var _0x13cdad=0x0;_0x292525[_0x1de988(0xe8)]==_0x1de988(0x108)?_0x8cca0d='DG':_0x8cca0d='FG';var _0x181240=0x0;_0x292525[_0x1de988(0x183)][_0x1de988(0x118)](_0x32318e=>{const _0x1b96dd=_0x1de988;console[_0x1b96dd(0x19a)](_0x32318e);let _0x2d9fc9='';const _0x3d6e62=_0x32318e[_0x1b96dd(0x187)];for(let _0x2d2785=0x1;_0x2d2785<=_0x3d6e62;_0x2d2785++){_0x3d6e62==_0x2d2785?_0x2d9fc9+=_0x32318e[_0x1b96dd(0x19b)]:_0x2d9fc9+=_0x32318e[_0x1b96dd(0x19b)]+',',_0x13cdad+=_0x32318e[_0x1b96dd(0x19b)];}_0x2d9fc9+='\x20/\x20'+_0x32318e[_0x1b96dd(0x16f)];const _0x23a16e={'itemcode':_0x32318e[_0x1b96dd(0xf4)],'itemdescription':_0x32318e[_0x1b96dd(0xfb)],'qty':_0x32318e[_0x1b96dd(0x187)],'unit':_0x32318e[_0x1b96dd(0x10c)],'proddate':_0x32318e['production_date'],'batchno':_0x32318e['batch_code'],'binloc':_0x8cca0d+_0x32318e['bay']};_0x21bcaa+=_0x32318e[_0x1b96dd(0x187)],_0x181240+=0x1,_0x50231d['datas']['push'](_0x23a16e);}),_0x3d527b[_0x1de988(0x12f)](_0x50231d,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x3d527b[_0x1de988(0x12d)](_0x1de988(0xe6))['fontSize'](0x8),'prepareRow':(_0x513657,_0x2ffd93,_0x439ce8,_0x583e88)=>_0x3d527b[_0x1de988(0x12d)](_0x1de988(0x12e))[_0x1de988(0xcb)](0x8)});var _0x56f9d1=_0x3d527b['y'],_0x468783=_0x3d527b['x'];_0x3d527b[_0x1de988(0xcb)](0xa)['text'](_0x1de988(0x189),_0x468783+0x7d,_0x56f9d1),console[_0x1de988(0x19a)](_0x1de988(0x13c)+_0x468783+'\x20y:\x20'+_0x56f9d1+_0x1de988(0x177)+_0x181240);const _0x34b8d1=_0x468783*_0x181240;_0x3d527b['fontSize'](0xa)[_0x1de988(0x14e)](_0x1de988(0xd2),_0x468783,_0x56f9d1+=0x15e-_0x34b8d1),_0x3d527b[_0x1de988(0xcb)](0xa)[_0x1de988(0x14e)](_0x21bcaa,_0x468783+0xdc,_0x56f9d1,{'underline':!![]}),_0x3d527b[_0x1de988(0xcb)](0xa)[_0x1de988(0x14e)]('Picked\x20By\x20\x20\x20:\x20',_0x468783,_0x56f9d1+=0x19),_0x3d527b[_0x1de988(0xcb)](0xa)[_0x1de988(0x14e)]('\x20'['repeat'](0x3c),_0x468783+0x3e,_0x56f9d1,{'underline':!![]}),_0x3d527b[_0x1de988(0xcb)](0xa)[_0x1de988(0x14e)](_0x1de988(0xe5),_0x468783,_0x56f9d1+=0x32),_0x3d527b[_0x1de988(0xcb)](0xa)['text'](_0x1de988(0x15e),_0x468783+0x3c,_0x56f9d1,{'underline':!![]}),_0x3d527b[_0x1de988(0xcb)](0xa)[_0x1de988(0x14e)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x468783+0x3c,_0x56f9d1+0xc);let _0x303830=_0x3d527b[_0x1de988(0x153)]();for(let _0x4a9ce5=0x0;_0x4a9ce5<_0x303830[_0x1de988(0x114)];_0x4a9ce5++){_0x3d527b['switchToPage'](_0x4a9ce5);let _0xa3b39e=_0x3d527b[_0x1de988(0xd0)]['margins'][_0x1de988(0xd6)];_0x3d527b[_0x1de988(0xd0)][_0x1de988(0x17b)][_0x1de988(0xd6)]=0x0,_0x3d527b[_0x1de988(0x14e)](_0x1de988(0x124)+(_0x4a9ce5+0x1)+_0x1de988(0x10a)+_0x303830[_0x1de988(0x114)],0x0,_0x3d527b['page'][_0x1de988(0x14d)]-_0xa3b39e/0x2,{'align':_0x1de988(0x180)}),_0x3d527b[_0x1de988(0xd0)]['margins']['bottom']=_0xa3b39e;}const _0x403c41=_0x3d527b['y'],_0x207267=_0x3d527b['x'];_0x3d527b['end']();}catch(_0x3eb363){console[_0x1de988(0x19a)](_0x3eb363),_0x52a792[_0x1de988(0x106)](0x1f4)[_0x1de988(0x185)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x4d3c46(0x17f)](a0_0x4d3c46(0x172),auth,async(_0x364870,_0x3e51ac)=>{const _0x3e44a3=a0_0x4d3c46;try{const {username:_0x586237,email:_0x2ab338,role:_0x4d9f3b}=_0x364870['user'],_0x1c3293=_0x364870[_0x3e44a3(0x100)],_0x30f7e6=await profile['findOne']({'email':_0x1c3293[_0x3e44a3(0x119)]}),_0x39334d=await master_shop[_0x3e44a3(0x13f)](),_0x586523=_0x364870[_0x3e44a3(0xd4)]['id'],_0x1f1829=await transfers_finished['findById'](_0x586523);var _0x2b9108,_0x2769c7;_0x2b9108=_0x3e44a3(0x127),_0x2769c7=_0x3e44a3(0xcf);_0x1f1829[_0x3e44a3(0x130)]==_0x3e44a3(0x115)&&(_0x2b9108=_0x3e44a3(0x158),_0x2769c7='');const _0xb1da6e=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3e51ac[_0x3e44a3(0xfc)](_0x3e44a3(0x136),_0x3e44a3(0x193)+_0x586523+'.pdf\x22'),_0x3e51ac[_0x3e44a3(0xfc)](_0x3e44a3(0x128),'application/pdf');var _0x23ae57=0x14,_0x151378=0x3c;_0xb1da6e[_0x3e44a3(0x15c)](_0x3e51ac),_0xb1da6e[_0x3e44a3(0x101)](_0x3e44a3(0xf3)+_0x39334d[0x0][_0x3e44a3(0x101)],0x14,0x0,{'fit':[0x64,0x64]}),_0xb1da6e[_0x3e44a3(0xcb)](0x14)[_0x3e44a3(0x14e)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x23ae57,_0x151378),_0xb1da6e[_0x3e44a3(0xcb)](0xa)[_0x3e44a3(0x14e)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x23ae57,_0x151378+=0xf),_0xb1da6e[_0x3e44a3(0xcb)](0xf)[_0x3e44a3(0x14e)](_0x2b9108,_0x23ae57,_0x151378+=0x32),_0xb1da6e[_0x3e44a3(0xcb)](0xa)[_0x3e44a3(0x14e)](_0x2769c7,_0x23ae57,_0x151378+=0x14),_0xb1da6e[_0x3e44a3(0xcb)](0x9)[_0x3e44a3(0x14e)]('From\x20Warehouse\x20',_0x23ae57,_0x151378+=0x28),_0xb1da6e['fontSize'](0x9)[_0x3e44a3(0x14e)](_0x3e44a3(0x160)+_0x1f1829[_0x3e44a3(0x184)],_0x23ae57+0x3f,_0x151378),_0xb1da6e['fontSize'](0x9)['text'](_0x3e44a3(0x18e),_0x23ae57,_0x151378+=0xf),_0xb1da6e[_0x3e44a3(0xcb)](0x9)[_0x3e44a3(0x14e)](_0x3e44a3(0x160)+_0x1f1829[_0x3e44a3(0x10e)],_0x23ae57+0x3f,_0x151378),_0xb1da6e[_0x3e44a3(0xcb)](0x9)['text'](_0x3e44a3(0xfa),_0x23ae57,_0x151378+=0xb),_0xb1da6e[_0x3e44a3(0xcb)](0x9)[_0x3e44a3(0x14e)](_0x3e44a3(0x160)+_0x1f1829[_0x3e44a3(0x16c)],_0x23ae57+0x3f,_0x151378),_0xb1da6e[_0x3e44a3(0xcb)](0x9)['text']('Control\x20Number\x20',_0x23ae57,_0x151378+=0xb),_0xb1da6e[_0x3e44a3(0xcb)](0x9)[_0x3e44a3(0x14e)](_0x3e44a3(0x160)+_0x1f1829['invoice'],_0x23ae57+0x3f,_0x151378);const _0x32a089={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':'\x20\x20FROM','property':_0x3e44a3(0x14a),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x3e44a3(0x179),'property':_0x3e44a3(0x126),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0xb1da6e[_0x3e44a3(0x12f)](_0x32a089,{'x':0x5,'y':0x107,'prepareHeader':()=>_0xb1da6e[_0x3e44a3(0x12d)](_0x3e44a3(0xe6))[_0x3e44a3(0xcb)](0x8),'prepareRow':(_0x3dca82,_0x11f503,_0x1b8db7,_0x4f7a6f)=>_0xb1da6e['font']('Helvetica')['fontSize'](0x8)});const _0x13551e={'headers':[{'label':_0x3e44a3(0x12c),'property':_0x3e44a3(0x14a),'width':0x3c,'renderer':null},{'label':_0x3e44a3(0x110),'property':_0x3e44a3(0x126),'width':0x96,'renderer':null},{'label':_0x3e44a3(0x196),'property':_0x3e44a3(0x199),'width':0x28,'renderer':null},{'label':_0x3e44a3(0x15b),'property':_0x3e44a3(0x10c),'width':0x37,'renderer':null},{'label':'Production\x20Date','property':_0x3e44a3(0xd7),'width':0x4b,'renderer':null},{'label':_0x3e44a3(0xe7),'property':_0x3e44a3(0x147),'width':0x3f,'renderer':null},{'label':_0x3e44a3(0x113),'property':_0x3e44a3(0x18f),'width':0x3f,'renderer':null},{'label':_0x3e44a3(0x113),'property':_0x3e44a3(0x168),'width':0x3f,'renderer':null}],'datas':[]};var _0x2535e7=0x0;let _0x553461='';var _0x58d39d=0x0;if(_0x1f1829['from_warehouse']==_0x3e44a3(0x108))_0x553461='DG';else _0x1f1829[_0x3e44a3(0x184)]==_0x3e44a3(0xe0)&&(_0x553461='FG');_0x1f1829[_0x3e44a3(0x144)][_0x3e44a3(0x118)](_0x576a48=>{const _0x448929=_0x3e44a3;var _0x5803f7=_0x576a48[_0x448929(0xce)],_0x4ef218,_0x401e58;_0x4ef218=_0x576a48[_0x448929(0x10c)],_0x401e58=_0x576a48[_0x448929(0x18d)];_0x5803f7=='S'&&(_0x4ef218=_0x576a48['secondary_unit'],_0x401e58=_0x576a48[_0x448929(0x18d)]*_0x576a48['maxPerUnit']);const _0x437858={'itemcode':_0x576a48[_0x448929(0xf4)],'itemdescription':_0x576a48['product_name'],'qty':_0x401e58,'unit':_0x4ef218,'proddate':_0x576a48['production_date'],'batchno':_0x576a48[_0x448929(0x111)],'binloc':_0x553461+_0x576a48[_0x448929(0xea)],'qtyFrom':_0x576a48['from_quantity'],'binlocFrom':_0x553461+_0x576a48[_0x448929(0x13e)]};_0x2535e7+=_0x401e58,_0x13551e[_0x448929(0x174)][_0x448929(0x186)](_0x437858);}),_0xb1da6e[_0x3e44a3(0x12f)](_0x13551e,{'x':0x5,'y':0x118,'prepareHeader':()=>_0xb1da6e[_0x3e44a3(0x12d)](_0x3e44a3(0xe6))['fontSize'](0x8),'prepareRow':(_0x33a813,_0x7628c5,_0x39e17b,_0x5818e0)=>_0xb1da6e[_0x3e44a3(0x12d)]('Helvetica')[_0x3e44a3(0xcb)](0x8)});var _0x12dffe=_0xb1da6e['y'],_0x5e4da0=_0xb1da6e['x'];_0xb1da6e[_0x3e44a3(0xcb)](0xa)[_0x3e44a3(0x14e)](_0x3e44a3(0x189),_0x5e4da0+0x7d,_0x12dffe),_0xb1da6e[_0x3e44a3(0xcb)](0xa)[_0x3e44a3(0x14e)](_0x3e44a3(0xd2),_0x5e4da0,_0x12dffe+=0x15e),_0xb1da6e[_0x3e44a3(0xcb)](0xa)[_0x3e44a3(0x14e)](_0x2535e7,_0x5e4da0+0xd7,_0x12dffe,{'underline':!![]}),_0xb1da6e[_0x3e44a3(0xcb)](0xa)[_0x3e44a3(0x14e)](_0x3e44a3(0x192),_0x5e4da0,_0x12dffe+=0x19),_0xb1da6e[_0x3e44a3(0xcb)](0xa)[_0x3e44a3(0x14e)]('\x20'[_0x3e44a3(0xe4)](0x3c),_0x5e4da0+0x3e,_0x12dffe,{'underline':!![]}),_0xb1da6e[_0x3e44a3(0xcb)](0xa)[_0x3e44a3(0x14e)](_0x3e44a3(0xe5),_0x5e4da0,_0x12dffe+=0x32),_0xb1da6e[_0x3e44a3(0xcb)](0xa)['text']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5e4da0+0x3c,_0x12dffe,{'underline':!![]}),_0xb1da6e[_0x3e44a3(0xcb)](0xa)[_0x3e44a3(0x14e)](_0x3e44a3(0x121),_0x5e4da0+0x3c,_0x12dffe+0xc);let _0x5e802b=_0xb1da6e[_0x3e44a3(0x153)]();for(let _0x5a3996=0x0;_0x5a3996<_0x5e802b['count'];_0x5a3996++){_0xb1da6e[_0x3e44a3(0xcc)](_0x5a3996);let _0x24d94c=_0xb1da6e[_0x3e44a3(0xd0)][_0x3e44a3(0x17b)]['bottom'];_0xb1da6e['page'][_0x3e44a3(0x17b)]['bottom']=0x0,_0xb1da6e[_0x3e44a3(0x14e)](_0x3e44a3(0x124)+(_0x5a3996+0x1)+_0x3e44a3(0x10a)+_0x5e802b[_0x3e44a3(0x114)],0x0,_0xb1da6e[_0x3e44a3(0xd0)][_0x3e44a3(0x14d)]-_0x24d94c/0x2,{'align':_0x3e44a3(0x180)}),_0xb1da6e['page'][_0x3e44a3(0x17b)][_0x3e44a3(0xd6)]=_0x24d94c;}const _0x50e395=_0xb1da6e['y'],_0x385682=_0xb1da6e['x'];_0xb1da6e[_0x3e44a3(0x102)]();}catch(_0x44ba9c){console[_0x3e44a3(0x19a)](_0x44ba9c),_0x3e51ac[_0x3e44a3(0x106)](0x1f4)[_0x3e44a3(0x185)](_0x3e44a3(0x16e));}}),router[a0_0x4d3c46(0x17f)](a0_0x4d3c46(0x169),auth,async(_0x366208,_0x38e2fb)=>{const _0x2aa42f=a0_0x4d3c46;try{const {username:_0x12196c,email:_0x549db2,role:_0x5f3f3e}=_0x366208[_0x2aa42f(0x100)],_0x27cf6c=_0x366208[_0x2aa42f(0x100)],_0x11bc09=await profile[_0x2aa42f(0x17a)]({'email':_0x27cf6c['email']}),_0x174baa=await master_shop[_0x2aa42f(0x13f)](),_0xcab3b4=_0x366208[_0x2aa42f(0xd4)]['id'],_0x564f4e=await adjustment_finished[_0x2aa42f(0x142)](_0xcab3b4);var _0x5243d2,_0x197cf;_0x5243d2=_0x2aa42f(0x11e),_0x197cf='(INVENTORY\x20ADJUSTMENT)';_0x564f4e[_0x2aa42f(0x130)]==_0x2aa42f(0x115)&&(_0x5243d2=_0x2aa42f(0xf0),_0x197cf='');const _0x54893b=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x38e2fb['setHeader'](_0x2aa42f(0x136),_0x2aa42f(0x193)+_0xcab3b4+_0x2aa42f(0x10b)),_0x38e2fb[_0x2aa42f(0xfc)](_0x2aa42f(0x128),'application/pdf');var _0x3c8045=0x14,_0x23813c=0x3c;_0x54893b['pipe'](_0x38e2fb),_0x54893b[_0x2aa42f(0x101)]('./public/upload/'+_0x174baa[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x54893b[_0x2aa42f(0xcb)](0x14)[_0x2aa42f(0x14e)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x3c8045,_0x23813c),_0x54893b[_0x2aa42f(0xcb)](0xa)[_0x2aa42f(0x14e)](_0x2aa42f(0x122),_0x3c8045,_0x23813c+=0xf),_0x54893b[_0x2aa42f(0xcb)](0xf)[_0x2aa42f(0x14e)](_0x5243d2,_0x3c8045,_0x23813c+=0x32),_0x54893b[_0x2aa42f(0xcb)](0xa)['text'](_0x197cf,_0x3c8045,_0x23813c+=0x14),_0x54893b[_0x2aa42f(0xcb)](0x9)[_0x2aa42f(0x14e)](_0x2aa42f(0xff),_0x3c8045,_0x23813c+=0x28),_0x54893b['fontSize'](0x9)[_0x2aa42f(0x14e)](_0x2aa42f(0x116)+_0x564f4e[_0x2aa42f(0xe8)],_0x3c8045+0x3f,_0x23813c),_0x54893b[_0x2aa42f(0xcb)](0x9)['text']('Date\x20',_0x3c8045,_0x23813c+=0xb),_0x54893b[_0x2aa42f(0xcb)](0x9)[_0x2aa42f(0x14e)](_0x2aa42f(0x116)+_0x564f4e['date'],_0x3c8045+0x3f,_0x23813c),_0x54893b[_0x2aa42f(0xcb)](0x9)['text']('Control\x20Number\x20',_0x3c8045,_0x23813c+=0xb),_0x54893b[_0x2aa42f(0xcb)](0x9)[_0x2aa42f(0x14e)](_0x2aa42f(0x116)+_0x564f4e[_0x2aa42f(0x154)],_0x3c8045+0x3f,_0x23813c);const _0x30570e={'headers':[{'label':_0x2aa42f(0x12c),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x2aa42f(0x110),'property':_0x2aa42f(0x126),'width':0x96,'renderer':null},{'label':_0x2aa42f(0x196),'property':_0x2aa42f(0x199),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x2aa42f(0x10c),'width':0x3c,'renderer':null},{'label':'Production\x20Date','property':_0x2aa42f(0xd7),'width':0x50,'renderer':null},{'label':_0x2aa42f(0xe7),'property':_0x2aa42f(0x147),'width':0x3f,'renderer':null},{'label':_0x2aa42f(0x113),'property':_0x2aa42f(0x168),'width':0x3f,'renderer':null}],'datas':[]};var _0xa57e7a=0x0;let _0x1c8a66='';var _0xb91c4d=0x0;_0x564f4e[_0x2aa42f(0xe8)]==_0x2aa42f(0x108)?_0x1c8a66='DG':_0x1c8a66='FG';_0x564f4e[_0x2aa42f(0x144)][_0x2aa42f(0x118)](_0xd0a54a=>{const _0x5b75f3=_0x2aa42f;console[_0x5b75f3(0x19a)](_0xd0a54a);var _0x23717c=_0xd0a54a['prod_cat'],_0x4c8fea,_0x483ae;_0x4c8fea=_0xd0a54a['unit'],_0x483ae=_0xd0a54a[_0x5b75f3(0x194)];_0x23717c=='S'&&(_0x4c8fea=_0xd0a54a['secondary_unit'],_0x483ae=_0xd0a54a['adjust_qty']*_0xd0a54a['maxPerUnit']);const _0x42d884={'itemcode':_0xd0a54a[_0x5b75f3(0xf4)],'itemdescription':_0xd0a54a['product_name'],'qty':_0x483ae,'unit':_0x4c8fea,'proddate':_0xd0a54a[_0x5b75f3(0x17e)],'batchno':_0xd0a54a[_0x5b75f3(0x111)],'binloc':_0x1c8a66+_0xd0a54a[_0x5b75f3(0xf6)]};_0xa57e7a+=_0x483ae,_0x30570e[_0x5b75f3(0x174)][_0x5b75f3(0x186)](_0x42d884);}),_0x54893b[_0x2aa42f(0x12f)](_0x30570e,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x54893b[_0x2aa42f(0x12d)](_0x2aa42f(0xe6))[_0x2aa42f(0xcb)](0x8),'prepareRow':(_0x127fc6,_0x14dee0,_0x43afd5,_0x9c2542)=>_0x54893b[_0x2aa42f(0x12d)](_0x2aa42f(0x12e))[_0x2aa42f(0xcb)](0x8)});var _0x54044a=_0x54893b['y'],_0x70caab=_0x54893b['x'];_0x54893b['fontSize'](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x70caab+0x7d,_0x54044a),_0x54893b[_0x2aa42f(0xcb)](0xa)['text'](_0x2aa42f(0x11b),_0x70caab,_0x54044a+=0x15e),_0x54893b[_0x2aa42f(0xcb)](0xa)[_0x2aa42f(0x14e)](_0xa57e7a,_0x70caab+0xc8,_0x54044a),_0x54893b['fontSize'](0xa)[_0x2aa42f(0x14e)]('Picked\x20By\x20\x20\x20:\x20',_0x70caab,_0x54044a+=0x19),_0x54893b[_0x2aa42f(0xcb)](0xa)['text']('\x20'[_0x2aa42f(0xe4)](0x3c),_0x70caab+0x3e,_0x54044a,{'underline':!![]}),_0x54893b[_0x2aa42f(0xcb)](0xa)[_0x2aa42f(0x14e)]('Checked\x20By\x20',_0x70caab,_0x54044a+=0x32),_0x54893b[_0x2aa42f(0xcb)](0xa)[_0x2aa42f(0x14e)](_0x2aa42f(0x116),_0x70caab+0x37,_0x54044a),_0x54893b[_0x2aa42f(0xcb)](0xa)[_0x2aa42f(0x14e)](_0x2aa42f(0x15e),_0x70caab+0x3c,_0x54044a,{'underline':!![]}),_0x54893b[_0x2aa42f(0xcb)](0xa)[_0x2aa42f(0x14e)](_0x2aa42f(0x121),_0x70caab+0x3c,_0x54044a+0xc);let _0x46abc9=_0x54893b[_0x2aa42f(0x153)]();for(let _0x24ac27=0x0;_0x24ac27<_0x46abc9['count'];_0x24ac27++){_0x54893b[_0x2aa42f(0xcc)](_0x24ac27);let _0x114fdc=_0x54893b[_0x2aa42f(0xd0)][_0x2aa42f(0x17b)]['bottom'];_0x54893b['page'][_0x2aa42f(0x17b)][_0x2aa42f(0xd6)]=0x0,_0x54893b[_0x2aa42f(0x14e)](_0x2aa42f(0x124)+(_0x24ac27+0x1)+_0x2aa42f(0x10a)+_0x46abc9[_0x2aa42f(0x114)],0x0,_0x54893b[_0x2aa42f(0xd0)]['height']-_0x114fdc/0x2,{'align':_0x2aa42f(0x180)}),_0x54893b[_0x2aa42f(0xd0)][_0x2aa42f(0x17b)][_0x2aa42f(0xd6)]=_0x114fdc;}const _0x426e63=_0x54893b['y'],_0x253182=_0x54893b['x'];_0x54893b[_0x2aa42f(0x102)]();}catch(_0x63c58d){console[_0x2aa42f(0x19a)](_0x63c58d),_0x38e2fb['status'](0x1f4)[_0x2aa42f(0x185)](_0x2aa42f(0x16e));}}),router['get']('/pdf_puchases_fin/:id',auth,async(_0xf9761,_0x4b206c)=>{const _0x353149=a0_0x4d3c46;try{const {username:_0x277682,email:_0x47791c,role:_0x354cee}=_0xf9761['user'],_0x21bc61=_0xf9761[_0x353149(0x100)],_0x470258=await profile['findOne']({'email':_0x21bc61['email']}),_0x4cefc6=await master_shop[_0x353149(0x13f)](),_0x5eb77d=_0xf9761[_0x353149(0xd4)]['id'],_0x30104f=await purchases_finished[_0x353149(0x142)](_0x5eb77d),_0xcf0054=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4b206c['setHeader'](_0x353149(0x136),_0x353149(0x193)+_0x5eb77d+_0x353149(0x10b)),_0x4b206c[_0x353149(0xfc)](_0x353149(0x128),_0x353149(0x18c));var _0x191b61=0x14,_0x270916=0x3c;_0xcf0054['pipe'](_0x4b206c),_0xcf0054[_0x353149(0x101)](_0x353149(0xf3)+_0x4cefc6[0x0][_0x353149(0x101)],0x14,0x0,{'fit':[0x64,0x64]}),_0xcf0054[_0x353149(0xcb)](0x14)['text'](_0x353149(0x13d),_0x191b61,_0x270916),_0xcf0054['fontSize'](0xa)[_0x353149(0x14e)](_0x353149(0x122),_0x191b61,_0x270916+=0xf),_0xcf0054[_0x353149(0xcb)](0xf)[_0x353149(0x14e)](_0x353149(0x120),_0x191b61,_0x270916+=0x32),_0xcf0054[_0x353149(0xcb)](0xa)[_0x353149(0x14e)](_0x353149(0x133),_0x191b61,_0x270916+=0x14),_0xcf0054[_0x353149(0xcb)](0x9)[_0x353149(0x14e)](_0x353149(0xff),_0x191b61,_0x270916+=0x28),_0xcf0054[_0x353149(0xcb)](0x9)[_0x353149(0x14e)]('\x20:\x20'+_0x30104f[_0x353149(0xe8)],_0x191b61+0x3f,_0x270916),_0xcf0054[_0x353149(0xcb)](0x9)[_0x353149(0x14e)](_0x353149(0xc9)+_0x30104f['POnumber'],_0x191b61+0x17c,_0x270916),_0xcf0054[_0x353149(0xcb)](0x9)['text'](_0x353149(0xfa),_0x191b61,_0x270916+=0xb),_0xcf0054['fontSize'](0x9)['text'](_0x353149(0x116)+_0x30104f[_0x353149(0x16c)],_0x191b61+0x3f,_0x270916),_0xcf0054[_0x353149(0xcb)](0x9)['text'](_0x353149(0xf9),_0x191b61,_0x270916+=0xb),_0xcf0054[_0x353149(0xcb)](0x9)[_0x353149(0x14e)]('\x20:\x20'+_0x30104f[_0x353149(0x154)],_0x191b61+0x3f,_0x270916);const _0xaf0442={'headers':[{'label':_0x353149(0x12c),'property':_0x353149(0x14a),'width':0x3c,'renderer':null},{'label':_0x353149(0x110),'property':'itemdescription','width':0xc8,'renderer':null},{'label':_0x353149(0x196),'property':_0x353149(0x199),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x353149(0x10c),'width':0x3c,'renderer':null},{'label':_0x353149(0x151),'property':'expdate','width':0x50,'renderer':null},{'label':_0x353149(0xe7),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x353149(0x113),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x3a5a9a=0x0;let _0x246d3f='';_0x30104f[_0x353149(0xe8)]==_0x353149(0x108)?_0x246d3f='DG':_0x246d3f='FG';_0x30104f[_0x353149(0x144)][_0x353149(0x118)](_0x5ec494=>{const _0x1233a7=_0x353149;let _0x42f5dc='';var _0x4c5c67=0x0;const _0x27b55b={'itemcode':_0x5ec494[_0x1233a7(0xf4)],'itemdescription':_0x5ec494[_0x1233a7(0xfb)],'qty':_0x5ec494[_0x1233a7(0x187)],'unit':_0x5ec494[_0x1233a7(0xf2)],'expdate':_0x5ec494[_0x1233a7(0x14f)],'batchno':_0x5ec494['batch_code'],'binloc':_0x246d3f+_0x5ec494['bay']};_0x3a5a9a+=_0x5ec494['quantity'],_0xaf0442[_0x1233a7(0x174)][_0x1233a7(0x186)](_0x27b55b);}),_0xcf0054['table'](_0xaf0442,{'x':0x14,'y':0x118,'prepareHeader':()=>_0xcf0054[_0x353149(0x12d)](_0x353149(0xe6))['fontSize'](0x8),'prepareRow':(_0xe946ef,_0x14b6cf,_0x5a651f,_0x17d3ef)=>_0xcf0054[_0x353149(0x12d)](_0x353149(0x12e))[_0x353149(0xcb)](0x8)});var _0x2d6fc1=_0xcf0054['y'],_0x33471d=_0xcf0054['x'];_0xcf0054[_0x353149(0xcb)](0xa)['text'](_0x353149(0x189),_0x33471d+0x7d,_0x2d6fc1),_0xcf0054[_0x353149(0xcb)](0xa)[_0x353149(0x14e)]('TOTAL\x20QTY:\x20',_0x33471d,_0x2d6fc1+=0x15e),_0xcf0054['fontSize'](0xa)['text'](_0x3a5a9a,_0x33471d+0xfa,_0x2d6fc1),_0xcf0054['fontSize'](0xa)[_0x353149(0x14e)](_0x353149(0xef),_0x33471d,_0x2d6fc1+=0x19),_0xcf0054['fontSize'](0xa)['text'](_0x353149(0xda),_0x33471d+0x37,_0x2d6fc1,{'underline':!![]}),_0xcf0054[_0x353149(0xcb)](0xa)['text'](_0x353149(0x112),_0x33471d,_0x2d6fc1+0x32),_0xcf0054[_0x353149(0xcb)](0xa)['text'](_0x353149(0x15e),_0x33471d+0x32,_0x2d6fc1+0x32,{'underline':!![]}),_0xcf0054['fontSize'](0xa)[_0x353149(0x14e)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x33471d+0x32,_0x2d6fc1+0x3c);let _0x34f9d1=_0xcf0054[_0x353149(0x153)]();for(let _0xfef389=0x0;_0xfef389<_0x34f9d1[_0x353149(0x114)];_0xfef389++){_0xcf0054[_0x353149(0xcc)](_0xfef389);let _0x3bec3e=_0xcf0054[_0x353149(0xd0)][_0x353149(0x17b)][_0x353149(0xd6)];_0xcf0054[_0x353149(0xd0)][_0x353149(0x17b)][_0x353149(0xd6)]=0x0,_0xcf0054[_0x353149(0x14e)](_0x353149(0x124)+(_0xfef389+0x1)+_0x353149(0x10a)+_0x34f9d1[_0x353149(0x114)],0x0,_0xcf0054[_0x353149(0xd0)][_0x353149(0x14d)]-_0x3bec3e/0x2,{'align':_0x353149(0x180)}),_0xcf0054[_0x353149(0xd0)][_0x353149(0x17b)]['bottom']=_0x3bec3e;}const _0x174301=_0xcf0054['y'],_0x16c2f9=_0xcf0054['x'];_0xcf0054[_0x353149(0x102)]();}catch(_0x1e235d){console['log'](_0x1e235d),_0x4b206c[_0x353149(0x106)](0x1f4)[_0x353149(0x185)](_0x353149(0x16e));}}),router[a0_0x4d3c46(0x17f)](a0_0x4d3c46(0x12b),auth,async(_0x2c05e7,_0x1e56e0)=>{const _0x344408=a0_0x4d3c46;try{const {username:_0x4580fc,email:_0x2f0caa,role:_0x31cc29}=_0x2c05e7[_0x344408(0x100)],_0x3234b3=_0x2c05e7[_0x344408(0x100)],_0x3fad05=await profile[_0x344408(0x17a)]({'email':_0x3234b3[_0x344408(0x119)]}),_0x590c52=await master_shop[_0x344408(0x13f)](),_0x468c5c=_0x2c05e7[_0x344408(0xd4)]['id'],_0x496d01=await sales_return_finished[_0x344408(0x142)](_0x468c5c),_0x55dfd8=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1e56e0[_0x344408(0xfc)](_0x344408(0x136),'inline;\x20filename=\x22OUT-'+_0x468c5c+_0x344408(0x10b)),_0x1e56e0[_0x344408(0xfc)](_0x344408(0x128),_0x344408(0x18c));var _0x5c10ad=0x14,_0x10c3d9=0x64;_0x55dfd8[_0x344408(0x15c)](_0x1e56e0),_0x55dfd8[_0x344408(0x101)](_0x344408(0xf3)+_0x590c52[0x0][_0x344408(0x101)],0x14,0x0,{'fit':[0x64,0x64]}),_0x55dfd8[_0x344408(0xcb)](0x14)['text'](_0x344408(0x13d),_0x5c10ad,_0x10c3d9),_0x55dfd8['fontSize'](0xa)[_0x344408(0x14e)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x5c10ad,_0x10c3d9+=0xf),_0x55dfd8[_0x344408(0xcb)](0xf)[_0x344408(0x14e)](_0x344408(0x11e),_0x5c10ad,_0x10c3d9+=0x32),_0x55dfd8[_0x344408(0xcb)](0xa)[_0x344408(0x14e)](_0x344408(0x104),_0x5c10ad,_0x10c3d9+=0x1e),_0x55dfd8[_0x344408(0xcb)](0x9)[_0x344408(0x14e)]('Warehouse\x20:\x20'+_0x496d01[_0x344408(0x173)],_0x5c10ad,_0x10c3d9+=0x28),_0x55dfd8[_0x344408(0xcb)](0x9)[_0x344408(0x14e)](_0x344408(0x131)+_0x496d01[_0x344408(0xfe)],0x190,0xd2,{'underline':!![]}),_0x55dfd8[_0x344408(0xcb)](0x9)[_0x344408(0x14e)](_0x344408(0x149),_0x5c10ad,_0x10c3d9+=0xb),_0x55dfd8[_0x344408(0xcb)](0x9)[_0x344408(0x14e)](_0x344408(0x135)+_0x496d01[_0x344408(0x16c)],_0x5c10ad,_0x10c3d9+=0xb),_0x55dfd8[_0x344408(0xcb)](0x9)[_0x344408(0x14e)](_0x344408(0xdf)+_0x496d01[_0x344408(0x154)],_0x5c10ad,_0x10c3d9+=0xb);var _0x45f2bb='',_0x3d2a18='',_0x30b316=0x0,_0x1bc5e9;console[_0x344408(0x19a)](_0x496d01[_0x344408(0x16b)]);_0x496d01[_0x344408(0x16b)]=='GS'?(_0x496d01[_0x344408(0xe8)]=='DRY\x20GOODS'?warecode='DG':warecode='FG',_0x45f2bb={'headers':[{'label':_0x344408(0x12c),'property':_0x344408(0x14a),'width':0x3c,'renderer':null},{'label':_0x344408(0x110),'property':_0x344408(0x126),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x344408(0x199),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x344408(0x10c),'width':0x3c,'renderer':null},{'label':_0x344408(0x151),'property':_0x344408(0x14c),'width':0x50,'renderer':null},{'label':_0x344408(0xe7),'property':_0x344408(0x147),'width':0x3f,'renderer':null},{'label':_0x344408(0x113),'property':_0x344408(0x168),'width':0x3f,'renderer':null}],'datas':[]},_0x496d01['return_sale'][_0x344408(0x118)](_0x299b9b=>{const _0x369d98=_0x344408;let _0x1ea246='';var _0x1a7591=0x0;_0x3d2a18={'itemcode':_0x299b9b[_0x369d98(0xf4)],'itemdescription':_0x299b9b[_0x369d98(0xfb)],'qty':_0x299b9b[_0x369d98(0xdd)],'unit':_0x299b9b[_0x369d98(0x10c)],'expdate':_0x299b9b['expiry_date'],'batchno':_0x299b9b[_0x369d98(0x111)],'binloc':warecode+_0x299b9b['bay']},_0x30b316+=_0x299b9b[_0x369d98(0xdd)],console[_0x369d98(0x19a)](_0x299b9b),_0x45f2bb[_0x369d98(0x174)][_0x369d98(0x186)](_0x3d2a18);})):(_0x45f2bb={'headers':[{'label':'Item\x20Code','property':_0x344408(0x14a),'width':0x3c,'renderer':null},{'label':_0x344408(0x110),'property':'itemdescription','width':0xc8,'renderer':null},{'label':'Quantity','property':_0x344408(0x199),'width':0x3c,'renderer':null},{'label':_0x344408(0x15b),'property':_0x344408(0x10c),'width':0x3c,'renderer':null},{'label':_0x344408(0x151),'property':_0x344408(0x14c),'width':0x50,'renderer':null},{'label':_0x344408(0xe7),'property':_0x344408(0x147),'width':0x3f,'renderer':null}],'datas':[]},_0x496d01[_0x344408(0x157)][_0x344408(0x118)](_0x1644ab=>{const _0x1ac27f=_0x344408;let _0x5f573f='';var _0x2ae63e=0x0;_0x3d2a18={'itemcode':_0x1644ab[_0x1ac27f(0xf4)],'itemdescription':_0x1644ab[_0x1ac27f(0xfb)],'qty':_0x1644ab[_0x1ac27f(0xdd)],'unit':_0x1644ab['unit'],'expdate':_0x1644ab[_0x1ac27f(0x14f)],'batchno':_0x1644ab[_0x1ac27f(0x111)]},_0x30b316+=_0x1644ab[_0x1ac27f(0xdd)],console[_0x1ac27f(0x19a)](_0x30b316+'\x20<>\x20'+_0x1644ab[_0x1ac27f(0xdd)]),_0x45f2bb['datas'][_0x1ac27f(0x186)](_0x3d2a18);}));_0x55dfd8[_0x344408(0x12f)](_0x45f2bb,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x55dfd8[_0x344408(0x12d)](_0x344408(0xe6))[_0x344408(0xcb)](0x8),'prepareRow':(_0x21e63d,_0x12e270,_0x250704,_0x2e4af5)=>_0x55dfd8[_0x344408(0x12d)](_0x344408(0x12e))[_0x344408(0xcb)](0x8)});var _0x1e8db4=_0x55dfd8['y'],_0x3826e3=_0x55dfd8['x'];_0x55dfd8['fontSize'](0xa)[_0x344408(0x14e)](_0x344408(0x189),_0x3826e3+0x7d,_0x1e8db4),_0x55dfd8[_0x344408(0xcb)](0xa)['text'](_0x344408(0xd2),_0x3826e3,_0x1e8db4+=0x190),_0x55dfd8[_0x344408(0xcb)](0xa)[_0x344408(0x14e)](_0x30b316,_0x3826e3+0x37,_0x1e8db4,{'underline':!![]}),_0x55dfd8[_0x344408(0xcb)](0xa)['text'](_0x344408(0x159),_0x3826e3,_0x1e8db4+0x1e),_0x55dfd8[_0x344408(0xcb)](0xa)[_0x344408(0x14e)]('ARMAN\x20CRUZ',_0x3826e3+0x32,_0x1e8db4+0x1e,{'underline':!![]});let _0x2aa785=_0x55dfd8[_0x344408(0x153)]();for(let _0x11ea4c=0x0;_0x11ea4c<_0x2aa785[_0x344408(0x114)];_0x11ea4c++){_0x55dfd8['switchToPage'](_0x11ea4c);let _0x2e801b=_0x55dfd8[_0x344408(0xd0)][_0x344408(0x17b)][_0x344408(0xd6)];_0x55dfd8['page'][_0x344408(0x17b)][_0x344408(0xd6)]=0x0,_0x55dfd8[_0x344408(0x14e)](_0x344408(0x124)+(_0x11ea4c+0x1)+'\x20of\x20'+_0x2aa785[_0x344408(0x114)],0x0,_0x55dfd8['page'][_0x344408(0x14d)]-_0x2e801b/0x2,{'align':_0x344408(0x180)}),_0x55dfd8[_0x344408(0xd0)][_0x344408(0x17b)]['bottom']=_0x2e801b;}const _0x2a8f2e=_0x55dfd8['y'],_0x1d6f6b=_0x55dfd8['x'];_0x55dfd8['end']();}catch(_0x9a24c){console[_0x344408(0x19a)](_0x9a24c),_0x1e56e0[_0x344408(0x106)](0x1f4)[_0x344408(0x185)](_0x344408(0x16e));}}),router[a0_0x4d3c46(0x17f)](a0_0x4d3c46(0x123),auth,async(_0x395832,_0x81647e)=>{const _0x492afb=a0_0x4d3c46;try{const {username:_0x2f02ff,email:_0x425953,role:_0x4b6dd8}=_0x395832[_0x492afb(0x100)],_0x1e3268=_0x395832['user'],_0x1d5a79=await profile[_0x492afb(0x17a)]({'email':_0x1e3268[_0x492afb(0x119)]}),_0x4f7648=await master_shop[_0x492afb(0x13f)](),_0x19467b=_0x395832[_0x492afb(0xd4)]['id'],_0x461875=await purchases[_0x492afb(0x142)](_0x19467b),_0x21c894=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x81647e[_0x492afb(0xfc)](_0x492afb(0x136),_0x492afb(0x193)+_0x19467b+_0x492afb(0x10b)),_0x81647e[_0x492afb(0xfc)](_0x492afb(0x128),'application/pdf');var _0x51962e=0x14,_0x52ae55=0x3c;_0x21c894[_0x492afb(0x15c)](_0x81647e),_0x21c894[_0x492afb(0x101)](_0x492afb(0xf3)+_0x4f7648[0x0][_0x492afb(0x101)],0x14,0x0,{'fit':[0x64,0x64]}),_0x21c894[_0x492afb(0xcb)](0x14)[_0x492afb(0x14e)](_0x492afb(0x13d),_0x51962e,_0x52ae55),_0x21c894[_0x492afb(0xcb)](0xa)[_0x492afb(0x14e)](_0x492afb(0x122),_0x51962e,_0x52ae55+=0xf),_0x21c894[_0x492afb(0xcb)](0xf)[_0x492afb(0x14e)]('RAW\x20MATERIALS\x20RECEIVING\x20REPORT',_0x51962e,_0x52ae55+=0x32),_0x21c894['fontSize'](0xa)[_0x492afb(0x14e)](_0x492afb(0x133),_0x51962e,_0x52ae55+=0x14),_0x21c894['fontSize'](0x9)[_0x492afb(0x14e)](_0x492afb(0xff),_0x51962e,_0x52ae55+=0x2d),_0x21c894[_0x492afb(0xcb)](0x9)[_0x492afb(0x14e)](_0x492afb(0x116)+_0x461875['warehouse_name'],_0x51962e+0x3f,_0x52ae55),_0x21c894['fontSize'](0x9)[_0x492afb(0x14e)]('Supplier\x20:\x20'+_0x461875['suppliers'],_0x51962e+0x17c,_0x52ae55,{'underline':!![]}),_0x21c894[_0x492afb(0xcb)](0x9)[_0x492afb(0x14e)](_0x492afb(0xfa),_0x51962e,_0x52ae55+=0xb),_0x21c894[_0x492afb(0xcb)](0x9)[_0x492afb(0x14e)](_0x492afb(0x116)+_0x461875[_0x492afb(0x16c)],_0x51962e+0x3f,_0x52ae55),_0x21c894[_0x492afb(0xcb)](0x9)[_0x492afb(0x14e)](_0x492afb(0xf9),_0x51962e,_0x52ae55+=0xb),_0x21c894[_0x492afb(0xcb)](0x9)['text'](_0x492afb(0x116)+_0x461875[_0x492afb(0x154)],_0x51962e+0x3f,_0x52ae55);const _0x96a4db={'headers':[{'label':_0x492afb(0x12c),'property':_0x492afb(0x14a),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0x96,'renderer':null},{'label':_0x492afb(0x167),'property':_0x492afb(0x199),'width':0x2d,'renderer':null},{'label':_0x492afb(0x15b),'property':_0x492afb(0x10c),'width':0x3c,'renderer':null},{'label':_0x492afb(0x151),'property':_0x492afb(0x14c),'width':0x46,'renderer':null},{'label':_0x492afb(0xe7),'property':'batchno','width':0x3c,'renderer':null},{'label':'Bin\x20Location','property':_0x492afb(0x168),'width':0x3c,'renderer':null},{'label':_0x492afb(0x191),'property':_0x492afb(0xf7),'width':0x3f,'renderer':null}],'datas':[]};var _0x9fa289=0x0;let _0x32f4aa='';_0x461875['product'][_0x492afb(0x118)](_0x467ac3=>{const _0x1a9065=_0x492afb;let _0x582323='';var _0x100a7a=0x0;const _0x9cbe98={'itemcode':_0x467ac3[_0x1a9065(0xf4)],'itemdescription':_0x467ac3[_0x1a9065(0xfb)],'qty':_0x467ac3[_0x1a9065(0x187)],'unit':_0x467ac3[_0x1a9065(0xf2)],'expdate':_0x467ac3[_0x1a9065(0x14f)],'batchno':_0x467ac3[_0x1a9065(0x111)],'binloc':_0x467ac3[_0x1a9065(0x195)]+_0x467ac3[_0x1a9065(0x18b)]+_0x467ac3[_0x1a9065(0xf6)]+_0x467ac3[_0x1a9065(0xe3)]+_0x467ac3['type'][0x0]+_0x467ac3['floorlevel'],'DelCode':_0x467ac3['delivery_code']};_0x9fa289+=_0x467ac3['quantity'],_0x96a4db[_0x1a9065(0x174)]['push'](_0x9cbe98);}),_0x21c894[_0x492afb(0x12f)](_0x96a4db,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x21c894['font'](_0x492afb(0xe6))[_0x492afb(0xcb)](0x8),'prepareRow':(_0x2db4ce,_0x1bde6e,_0x33b3b2,_0x1f6c6e)=>_0x21c894[_0x492afb(0x12d)](_0x492afb(0x12e))[_0x492afb(0xcb)](0x8)});var _0x3e1bca=_0x21c894['y'],_0x4f24a8=_0x21c894['x'];_0x21c894['fontSize'](0xa)[_0x492afb(0x14e)](_0x492afb(0x189),_0x4f24a8+0x7d,_0x3e1bca),_0x21c894[_0x492afb(0xcb)](0xa)[_0x492afb(0x14e)](_0x492afb(0xd2),_0x4f24a8,_0x3e1bca+=0x15e),_0x21c894[_0x492afb(0xcb)](0xa)[_0x492afb(0x14e)](_0x9fa289,_0x4f24a8+0xf0,_0x3e1bca,{'underline':!![]}),_0x21c894[_0x492afb(0xcb)](0xa)[_0x492afb(0x14e)](_0x492afb(0xed),_0x4f24a8,_0x3e1bca+0x28),_0x21c894['fontSize'](0xa)[_0x492afb(0x14e)](_0x492afb(0xd9),_0x4f24a8+0x40,_0x3e1bca+0x28,{'underline':!![]}),_0x21c894[_0x492afb(0xcb)](0xa)[_0x492afb(0x14e)]('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x4f24a8+0x40,_0x3e1bca+0x32);let _0x283c42=_0x21c894['bufferedPageRange']();for(let _0x1022ae=0x0;_0x1022ae<_0x283c42['count'];_0x1022ae++){_0x21c894[_0x492afb(0xcc)](_0x1022ae);let _0x20752e=_0x21c894['page'][_0x492afb(0x17b)][_0x492afb(0xd6)];_0x21c894[_0x492afb(0xd0)][_0x492afb(0x17b)]['bottom']=0x0,_0x21c894['text']('Page:\x20'+(_0x1022ae+0x1)+_0x492afb(0x10a)+_0x283c42[_0x492afb(0x114)],0x0,_0x21c894['page'][_0x492afb(0x14d)]-_0x20752e/0x2,{'align':_0x492afb(0x180)}),_0x21c894[_0x492afb(0xd0)]['margins'][_0x492afb(0xd6)]=_0x20752e;}const _0x2ba2ff=_0x21c894['y'],_0x15bf73=_0x21c894['x'];_0x21c894[_0x492afb(0x102)]();}catch(_0x5de8c0){console[_0x492afb(0x19a)](_0x5de8c0),_0x81647e['status'](0x1f4)[_0x492afb(0x185)](_0x492afb(0x16e));}}),router[a0_0x4d3c46(0x17f)]('/PDF_Sales/:id',auth,async(_0x2056a7,_0x160afb)=>{const _0x1120cb=a0_0x4d3c46;try{const {username:_0x53d5ba,email:_0x2fd55f,role:_0x2355de}=_0x2056a7[_0x1120cb(0x100)],_0x24d484=_0x2056a7[_0x1120cb(0x100)],_0x3116c7=await profile[_0x1120cb(0x17a)]({'email':_0x24d484[_0x1120cb(0x119)]}),_0x1ac7f6=await master_shop['find'](),_0x1846ec=_0x2056a7[_0x1120cb(0xd4)]['id'],_0x36c7ab=await sales[_0x1120cb(0x142)](_0x1846ec),_0x1de81f=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x494758;_0x494758=_0x1120cb(0x11e);_0x36c7ab['finalize']==_0x1120cb(0x115)&&(_0x494758=_0x1120cb(0x17c));_0x160afb['setHeader'](_0x1120cb(0x136),_0x1120cb(0x193)+_0x1846ec+_0x1120cb(0x10b)),_0x160afb[_0x1120cb(0xfc)](_0x1120cb(0x128),_0x1120cb(0x18c));var _0x3f0bb6=0x14,_0x292107=0x64;_0x1de81f[_0x1120cb(0x15c)](_0x160afb),_0x1de81f[_0x1120cb(0x101)](_0x1120cb(0xf3)+_0x1ac7f6[0x0][_0x1120cb(0x101)],0x14,0x0,{'fit':[0x64,0x64]}),_0x1de81f[_0x1120cb(0xcb)](0x14)[_0x1120cb(0x14e)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x3f0bb6,_0x292107),_0x1de81f[_0x1120cb(0xcb)](0xa)[_0x1120cb(0x14e)](_0x1120cb(0x122),_0x3f0bb6,_0x292107+=0xf),_0x1de81f[_0x1120cb(0xcb)](0xf)[_0x1120cb(0x14e)](_0x494758,_0x3f0bb6,_0x292107+=0x32),_0x1de81f[_0x1120cb(0xcb)](0xa)['text'](_0x1120cb(0x163),_0x3f0bb6,_0x292107+=0x14),_0x1de81f['fontSize'](0x9)[_0x1120cb(0x14e)](_0x1120cb(0xfa),_0x3f0bb6,_0x292107+=0x19),_0x1de81f['fontSize'](0x9)[_0x1120cb(0x14e)]('\x20:\x20'+_0x36c7ab['date'],_0x3f0bb6+0x3f,_0x292107),_0x1de81f[_0x1120cb(0xcb)](0x9)['text'](_0x1120cb(0xe2),_0x3f0bb6,_0x292107+=0xb),_0x1de81f[_0x1120cb(0xcb)](0x9)[_0x1120cb(0x14e)](_0x1120cb(0x116)+_0x36c7ab['invoice'],_0x3f0bb6+0x3f,_0x292107);const _0x1c0ca7={'headers':[{'label':_0x1120cb(0x166),'property':'itemcode','align':_0x1120cb(0x180),'width':0x2d,'renderer':null},{'label':'MATERIAL\x20DESCRIPTION','property':_0x1120cb(0x126),'align':_0x1120cb(0x180),'width':0x64,'renderer':null},{'label':_0x1120cb(0xe1),'property':'rqty','align':_0x1120cb(0x180),'width':0x28,'renderer':null},{'label':_0x1120cb(0x140),'property':_0x1120cb(0xe9),'align':_0x1120cb(0x180),'width':0x28,'renderer':null},{'label':_0x1120cb(0x15b),'property':_0x1120cb(0x10c),'align':'center','width':0x28,'renderer':null},{'label':_0x1120cb(0xd5),'property':'blocation','align':_0x1120cb(0x180),'width':0x32,'renderer':null},{'label':_0x1120cb(0x139),'property':_0x1120cb(0xd7),'align':_0x1120cb(0x180),'width':0x3c,'renderer':null},{'label':_0x1120cb(0x11c),'property':_0x1120cb(0x14c),'align':_0x1120cb(0x180),'width':0x3c,'renderer':null},{'label':_0x1120cb(0x150),'property':_0x1120cb(0x155),'align':_0x1120cb(0x180),'width':0x3f,'renderer':null},{'label':_0x1120cb(0x137),'property':_0x1120cb(0xee),'align':_0x1120cb(0x180),'width':0x3f,'renderer':null}],'datas':[]};var _0x3ee140=0x0;let _0x73629d='';var _0x126724=0x0,_0x3f0bb6=0x1;_0x36c7ab[_0x1120cb(0x183)][_0x1120cb(0x118)](_0x168b15=>{const _0x4798ce=_0x1120cb,_0x1090d3=new Date(_0x168b15[_0x4798ce(0x17e)]),_0xa11ced={'year':_0x4798ce(0x10d),'month':_0x4798ce(0x182),'day':'numeric'},_0x1a7dc4=_0x1090d3[_0x4798ce(0x143)](_0x4798ce(0xdc),_0xa11ced),_0x2c024f=new Date(_0x168b15[_0x4798ce(0x14f)]),_0x1e7f0b={'year':_0x4798ce(0x10d),'month':'short','day':_0x4798ce(0x10d)},_0x40271c=_0x2c024f[_0x4798ce(0x143)](_0x4798ce(0xdc),_0x1e7f0b),_0xdc462e=new Date(_0x168b15[_0x4798ce(0xd3)]),_0x191f15={'year':_0x4798ce(0x10d),'month':'short','day':_0x4798ce(0x10d)};var _0x38c747=_0xdc462e[_0x4798ce(0x143)](_0x4798ce(0xdc),_0x191f15);typeof _0x168b15[_0x4798ce(0xd3)]==_0x4798ce(0x164)&&(_0x38c747='');const _0x478ae5={'itemcode':_0x168b15[_0x4798ce(0xf4)],'itemdescription':_0x168b15[_0x4798ce(0xfb)],'rqty':_0x168b15[_0x4798ce(0x117)],'iqty':_0x168b15[_0x4798ce(0x187)],'unit':_0x168b15[_0x4798ce(0x10c)],'blocation':_0x168b15[_0x4798ce(0x195)]+_0x168b15[_0x4798ce(0x18b)]+_0x168b15[_0x4798ce(0xf6)]+_0x168b15[_0x4798ce(0xe3)]+_0x168b15[_0x4798ce(0xf1)][0x0]+_0x168b15[_0x4798ce(0x15a)],'proddate':_0x1a7dc4,'expdate':_0x40271c,'del_date':_0x38c747,'del_code':_0x168b15[_0x4798ce(0x11d)]};_0x3f0bb6++,_0x1c0ca7[_0x4798ce(0x174)][_0x4798ce(0x186)](_0x478ae5);}),_0x1de81f[_0x1120cb(0x12f)](_0x1c0ca7,{'x':_0x3f0bb6+0x11,'y':_0x292107+=0x1e,'prepareHeader':()=>_0x1de81f[_0x1120cb(0x12d)](_0x1120cb(0xe6))[_0x1120cb(0xcb)](6.5),'prepareRow':(_0x5b6bd1,_0x1111da,_0x239206,_0x29a1bc,_0x4544ae)=>{const _0x119e6c=_0x1120cb,{x:_0x5a698f,y:_0x44f30a,width:_0x3cfcb1,height:_0x1d9c77}=_0x4544ae;_0x1de81f[_0x119e6c(0x12d)]('Helvetica')[_0x119e6c(0xcb)](0x8),_0x1de81f['lineWidth'](0.5)['moveTo'](_0x5a698f,_0x44f30a)[_0x119e6c(0x138)](_0x5a698f,_0x44f30a+_0x1d9c77)[_0x119e6c(0x170)]();}});var _0xbf4372=_0x1de81f['y'],_0x3c4d16=_0x1de81f['x'],_0x3b8b72=_0xbf4372-=0x8;_0x1de81f[_0x1120cb(0x161)](0x5),_0x1de81f['lineCap'](_0x1120cb(0x14b))['moveTo'](0x240,_0x3b8b72)[_0x1120cb(0x138)](0x11,_0x3b8b72)[_0x1120cb(0x170)](),_0x1de81f[_0x1120cb(0xcb)](0xa)[_0x1120cb(0x14e)](_0x1120cb(0x189),_0x3c4d16+0x7d,_0xbf4372+=0xf),_0x1de81f['fontSize'](0xb)['text'](_0x1120cb(0x181),_0x3c4d16,_0xbf4372+=0x15e),_0x1de81f[_0x1120cb(0xcb)](0xa)[_0x1120cb(0x14e)](_0x1120cb(0x11a),_0x3c4d16+0x52,_0xbf4372,{'underline':!![]}),_0x1de81f[_0x1120cb(0xcb)](0xa)['text'](_0x1120cb(0xd8),_0x3c4d16,_0xbf4372+=0x19),_0x1de81f[_0x1120cb(0xcb)](0xa)['text'](_0x1120cb(0x116),_0x3c4d16+0x4b,_0xbf4372),_0x1de81f[_0x1120cb(0xcb)](0xa)[_0x1120cb(0x14e)]('\x20'[_0x1120cb(0xe4)](0x3c),_0x3c4d16+0x50,_0xbf4372,{'underline':!![]}),_0x1de81f[_0x1120cb(0xcb)](0xa)[_0x1120cb(0x14e)](_0x1120cb(0xca),_0x3c4d16,_0xbf4372+=0x32),_0x1de81f['fontSize'](0xa)[_0x1120cb(0x14e)](_0x1120cb(0x116),_0x3c4d16+0x4b,_0xbf4372),_0x1de81f[_0x1120cb(0xcb)](0xa)[_0x1120cb(0x14e)](_0x1120cb(0x141),_0x3c4d16+0x50,_0xbf4372,{'underline':!![]}),_0x1de81f[_0x1120cb(0xcb)](0xa)[_0x1120cb(0x14e)](_0x1120cb(0x13a),_0x3c4d16+0x50,_0xbf4372+0xc);let _0x416fa4=_0x1de81f[_0x1120cb(0x153)]();for(let _0x5da5cd=0x0;_0x5da5cd<_0x416fa4[_0x1120cb(0x114)];_0x5da5cd++){_0x1de81f[_0x1120cb(0xcc)](_0x5da5cd);let _0x423ba5=_0x1de81f[_0x1120cb(0xd0)][_0x1120cb(0x17b)][_0x1120cb(0xd6)];_0x1de81f[_0x1120cb(0xd0)][_0x1120cb(0x17b)][_0x1120cb(0xd6)]=0x0,_0x1de81f[_0x1120cb(0x14e)](_0x1120cb(0x124)+(_0x5da5cd+0x1)+_0x1120cb(0x10a)+_0x416fa4[_0x1120cb(0x114)],0x0,_0x1de81f[_0x1120cb(0xd0)][_0x1120cb(0x14d)]-_0x423ba5/0x2,{'align':_0x1120cb(0x180)}),_0x1de81f[_0x1120cb(0xd0)][_0x1120cb(0x17b)]['bottom']=_0x423ba5;}const _0x451352=_0x1de81f['y'],_0x194726=_0x1de81f['x'];_0x1de81f[_0x1120cb(0x102)]();}catch(_0x355718){console[_0x1120cb(0x19a)](_0x355718),_0x160afb[_0x1120cb(0x106)](0x1f4)[_0x1120cb(0x185)](_0x1120cb(0x16e));}}),router[a0_0x4d3c46(0x17f)]('/PDF_adjustment_rm/:id',auth,async(_0x3fbb56,_0x5131d4)=>{const _0x2ed282=a0_0x4d3c46;try{const {username:_0x6dbc5f,email:_0x433cc3,role:_0x29880e}=_0x3fbb56[_0x2ed282(0x100)],_0x10d09e=_0x3fbb56[_0x2ed282(0x100)],_0x2430b8=await profile['findOne']({'email':_0x10d09e[_0x2ed282(0x119)]}),_0x1c5dcb=await master_shop[_0x2ed282(0x13f)](),_0xe1cb5=_0x3fbb56[_0x2ed282(0xd4)]['id'],_0x49ae81=await adjustment[_0x2ed282(0x142)](_0xe1cb5);var _0x136104,_0x37577c;_0x136104=_0x2ed282(0x11e),_0x37577c=_0x2ed282(0xfd);_0x49ae81[_0x2ed282(0x130)]==_0x2ed282(0x115)&&(_0x136104='INVENTORY\x20ADJUSTMENT',_0x37577c='');const _0x40597a=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5131d4[_0x2ed282(0xfc)](_0x2ed282(0x136),_0x2ed282(0x193)+_0xe1cb5+_0x2ed282(0x10b)),_0x5131d4[_0x2ed282(0xfc)](_0x2ed282(0x128),_0x2ed282(0x18c));var _0x4f19e9=0x14,_0x4071b8=0x3c;_0x40597a[_0x2ed282(0x15c)](_0x5131d4),_0x40597a[_0x2ed282(0x101)](_0x2ed282(0xf3)+_0x1c5dcb[0x0][_0x2ed282(0x101)],0x14,0x0,{'fit':[0x64,0x64]}),_0x40597a['fontSize'](0x14)['text'](_0x2ed282(0x13d),_0x4f19e9,_0x4071b8),_0x40597a[_0x2ed282(0xcb)](0xa)[_0x2ed282(0x14e)](_0x2ed282(0x122),_0x4f19e9,_0x4071b8+=0xf),_0x40597a[_0x2ed282(0xcb)](0xf)[_0x2ed282(0x14e)](_0x136104,_0x4f19e9,_0x4071b8+=0x32),_0x40597a[_0x2ed282(0xcb)](0xa)[_0x2ed282(0x14e)](_0x37577c,_0x4f19e9,_0x4071b8+=0x14),_0x40597a[_0x2ed282(0xcb)](0x9)['text']('Warehouse\x20',_0x4f19e9,_0x4071b8+=0x28),_0x40597a['fontSize'](0x9)[_0x2ed282(0x14e)]('\x20:\x20'+_0x49ae81[_0x2ed282(0xe8)],_0x4f19e9+0x3f,_0x4071b8),_0x40597a[_0x2ed282(0xcb)](0x9)[_0x2ed282(0x14e)](_0x2ed282(0xfa),_0x4f19e9,_0x4071b8+=0xb),_0x40597a[_0x2ed282(0xcb)](0x9)[_0x2ed282(0x14e)](_0x2ed282(0x116)+_0x49ae81[_0x2ed282(0x16c)],_0x4f19e9+0x3f,_0x4071b8),_0x40597a[_0x2ed282(0xcb)](0x9)[_0x2ed282(0x14e)](_0x2ed282(0xf9),_0x4f19e9,_0x4071b8+=0xb),_0x40597a[_0x2ed282(0xcb)](0x9)['text'](_0x2ed282(0x116)+_0x49ae81[_0x2ed282(0x154)],_0x4f19e9+0x3f,_0x4071b8);const _0x4c5d3a={'headers':[{'label':_0x2ed282(0x12c),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x2ed282(0x110),'property':_0x2ed282(0x126),'width':0x96,'renderer':null},{'label':_0x2ed282(0x196),'property':'qty','width':0x3c,'renderer':null},{'label':'UOM','property':'unit','width':0x3c,'renderer':null},{'label':_0x2ed282(0xeb),'property':_0x2ed282(0xd7),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x2ed282(0x147),'width':0x3f,'renderer':null},{'label':_0x2ed282(0x113),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x401181=0x0,_0x6e89df=0x0;_0x49ae81[_0x2ed282(0x144)][_0x2ed282(0x118)](_0x148ca0=>{const _0x13409b=_0x2ed282;let _0x12a426='';const _0x3b6f39=_0x148ca0[_0x13409b(0x18d)];for(let _0x4a3f0f=0x1;_0x4a3f0f<=_0x3b6f39;_0x4a3f0f++){_0x3b6f39==_0x4a3f0f?_0x12a426+=_0x148ca0['maxperunit']:_0x12a426+=_0x148ca0[_0x13409b(0x19b)]+',',_0x6e89df+=_0x148ca0['maxperunit'];}_0x12a426+=_0x13409b(0x15f)+_0x148ca0['secondary_unit'];const _0xf7b16d={'itemcode':_0x148ca0[_0x13409b(0xf4)],'itemdescription':_0x148ca0[_0x13409b(0xfb)],'qty':_0x148ca0[_0x13409b(0xde)],'unit':_0x148ca0['unit'],'proddate':_0x148ca0[_0x13409b(0x17e)],'batchno':_0x148ca0[_0x13409b(0x111)],'binloc':_0x148ca0[_0x13409b(0x195)]+_0x148ca0[_0x13409b(0x18b)]+_0x148ca0[_0x13409b(0xf6)]+_0x148ca0['bin']+_0x148ca0[_0x13409b(0xf1)][0x0]+_0x148ca0[_0x13409b(0x15a)]};_0x401181+=_0x148ca0[_0x13409b(0xde)],_0x4c5d3a['datas']['push'](_0xf7b16d);}),_0x40597a[_0x2ed282(0x12f)](_0x4c5d3a,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x40597a[_0x2ed282(0x12d)]('Helvetica-Bold')[_0x2ed282(0xcb)](0x8),'prepareRow':(_0x22115f,_0x29489d,_0x21f861,_0x5cdb4a)=>_0x40597a[_0x2ed282(0x12d)]('Helvetica')['fontSize'](0x8)});var _0x5b2651=_0x40597a['y'],_0xe04269=_0x40597a['x'];_0x40597a[_0x2ed282(0xcb)](0xa)[_0x2ed282(0x14e)](_0x2ed282(0x189),_0xe04269+0x7d,_0x5b2651),_0x40597a[_0x2ed282(0xcb)](0xa)['text'](_0x2ed282(0x11b),_0xe04269,_0x5b2651+=0x136),_0x40597a[_0x2ed282(0xcb)](0xa)[_0x2ed282(0x14e)](_0x401181,_0xe04269+0xc8,_0x5b2651),_0x40597a[_0x2ed282(0xcb)](0xa)[_0x2ed282(0x14e)]('Picked\x20By\x20\x20\x20\x20\x20:\x20',_0xe04269,_0x5b2651+=0x19),_0x40597a['fontSize'](0xa)['text']('\x20'[_0x2ed282(0xe4)](0x3c),_0xe04269+0x3e,_0x5b2651,{'underline':!![]}),_0x40597a[_0x2ed282(0xcb)](0xa)[_0x2ed282(0x14e)](_0x2ed282(0x165),_0xe04269,_0x5b2651+=0x32),_0x40597a['fontSize'](0xa)[_0x2ed282(0x14e)]('\x20:\x20',_0xe04269+0x37,_0x5b2651),_0x40597a[_0x2ed282(0xcb)](0xa)[_0x2ed282(0x14e)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xe04269+0x3c,_0x5b2651,{'underline':!![]}),_0x40597a[_0x2ed282(0xcb)](0xa)[_0x2ed282(0x14e)]('Raw\x20Materials\x20Warehouse\x20Supervisor',_0xe04269+0x3c,_0x5b2651+0xc);let _0x4cdefd=_0x40597a['bufferedPageRange']();for(let _0x3afc6a=0x0;_0x3afc6a<_0x4cdefd[_0x2ed282(0x114)];_0x3afc6a++){_0x40597a[_0x2ed282(0xcc)](_0x3afc6a);let _0x110762=_0x40597a[_0x2ed282(0xd0)][_0x2ed282(0x17b)][_0x2ed282(0xd6)];_0x40597a[_0x2ed282(0xd0)][_0x2ed282(0x17b)][_0x2ed282(0xd6)]=0x0,_0x40597a['text']('Page:\x20'+(_0x3afc6a+0x1)+'\x20of\x20'+_0x4cdefd['count'],0x0,_0x40597a[_0x2ed282(0xd0)][_0x2ed282(0x14d)]-_0x110762/0x2,{'align':'center'}),_0x40597a[_0x2ed282(0xd0)]['margins'][_0x2ed282(0xd6)]=_0x110762;}const _0x267a2a=_0x40597a['y'],_0x578ee6=_0x40597a['x'];_0x40597a[_0x2ed282(0x102)]();}catch(_0x49bb7e){console[_0x2ed282(0x19a)](_0x49bb7e),_0x5131d4[_0x2ed282(0x106)](0x1f4)[_0x2ed282(0x185)](_0x2ed282(0x16e));}}),router[a0_0x4d3c46(0x17f)](a0_0x4d3c46(0x162),auth,async(_0x269368,_0x18ff28)=>{const _0x195631=a0_0x4d3c46;try{const {username:_0x34191a,email:_0x577e1a,role:_0x65fd5f}=_0x269368[_0x195631(0x100)],_0x290f2f=_0x269368[_0x195631(0x100)],_0x2be737=await profile[_0x195631(0x17a)]({'email':_0x290f2f[_0x195631(0x119)]}),_0xf7d1e2=await master_shop[_0x195631(0x13f)](),_0x5ede92=_0x269368[_0x195631(0xd4)]['id'],_0x1eb528=await transfers[_0x195631(0x142)](_0x5ede92);var _0x357269,_0x4bea3b;_0x357269=_0x195631(0x127),_0x4bea3b='(STOCKS\x20TRANSFER)';_0x1eb528[_0x195631(0x130)]==_0x195631(0x115)&&(_0x357269='STOCKS\x20TRANSFER',_0x4bea3b='');const _0x3387d2=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x18ff28[_0x195631(0xfc)](_0x195631(0x136),_0x195631(0x193)+_0x5ede92+'.pdf\x22'),_0x18ff28[_0x195631(0xfc)](_0x195631(0x128),'application/pdf');var _0xbb850a=0x14,_0x56f1f4=0x3c;_0x3387d2['pipe'](_0x18ff28),_0x3387d2[_0x195631(0x101)](_0x195631(0xf3)+_0xf7d1e2[0x0][_0x195631(0x101)],0x14,0x0,{'fit':[0x64,0x64]}),_0x3387d2[_0x195631(0xcb)](0x14)[_0x195631(0x14e)](_0x195631(0x13d),_0xbb850a,_0x56f1f4),_0x3387d2[_0x195631(0xcb)](0xa)[_0x195631(0x14e)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0xbb850a,_0x56f1f4+=0xf),_0x3387d2[_0x195631(0xcb)](0xf)['text'](_0x357269,_0xbb850a,_0x56f1f4+=0x32),_0x3387d2[_0x195631(0xcb)](0xa)[_0x195631(0x14e)](_0x4bea3b,_0xbb850a,_0x56f1f4+=0x14),_0x3387d2[_0x195631(0xcb)](0x9)['text'](_0x195631(0x190),_0xbb850a,_0x56f1f4+=0x28),_0x3387d2[_0x195631(0xcb)](0x9)['text'](_0x195631(0x160)+_0x1eb528['from_warehouse'],_0xbb850a+0x3f,_0x56f1f4),_0x3387d2[_0x195631(0xcb)](0x9)[_0x195631(0x14e)]('To\x20Warehouse\x20',_0xbb850a,_0x56f1f4+=0xa),_0x3387d2[_0x195631(0xcb)](0x9)[_0x195631(0x14e)](_0x195631(0x160)+_0x1eb528['to_warehouse'],_0xbb850a+0x3f,_0x56f1f4),_0x3387d2[_0x195631(0xcb)](0x9)[_0x195631(0x14e)]('Date\x20',_0xbb850a,_0x56f1f4+=0xb),_0x3387d2[_0x195631(0xcb)](0x9)[_0x195631(0x14e)](_0x195631(0x160)+_0x1eb528[_0x195631(0x16c)],_0xbb850a+0x3f,_0x56f1f4),_0x3387d2[_0x195631(0xcb)](0x9)[_0x195631(0x14e)](_0x195631(0xf9),_0xbb850a,_0x56f1f4+=0xb),_0x3387d2['fontSize'](0x9)[_0x195631(0x14e)](_0x195631(0x160)+_0x1eb528[_0x195631(0x154)],_0xbb850a+0x3f,_0x56f1f4);const _0x1c10e2={'headers':[{'label':'','property':_0x195631(0x14a),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x195631(0xf5),'property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':'\x20\x20\x20\x20\x20TO','property':_0x195631(0x126),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x3387d2['table'](_0x1c10e2,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x3387d2[_0x195631(0x12d)](_0x195631(0xe6))[_0x195631(0xcb)](0x8),'prepareRow':(_0x372a0b,_0x1f609d,_0x3e1414,_0xaa39a6)=>_0x3387d2['font']('Helvetica')[_0x195631(0xcb)](0x8)});const _0x2ab749={'headers':[{'label':_0x195631(0x12c),'property':_0x195631(0x14a),'width':0x3c,'renderer':null},{'label':_0x195631(0x110),'property':_0x195631(0x126),'width':0x96,'renderer':null},{'label':_0x195631(0x196),'property':_0x195631(0x199),'width':0x28,'renderer':null},{'label':'UOM','property':'unit','width':0x37,'renderer':null},{'label':_0x195631(0xeb),'property':_0x195631(0xd7),'width':0x4b,'renderer':null},{'label':_0x195631(0xe7),'property':_0x195631(0x147),'width':0x3f,'renderer':null},{'label':_0x195631(0x113),'property':_0x195631(0x18f),'width':0x3f,'renderer':null},{'label':_0x195631(0x113),'property':_0x195631(0x168),'width':0x3f,'renderer':null}],'datas':[]};var _0x3581a8=0x0;let _0x281e30='';var _0x24a2b8=0x0;_0x1eb528[_0x195631(0x144)][_0x195631(0x118)](_0x24ef59=>{const _0xdcd444=_0x195631;var _0x3ce106=_0x24ef59[_0xdcd444(0xce)],_0x52bdb7;_0x52bdb7=_0x24ef59[_0xdcd444(0x10c)];_0x3ce106=='S'&&(_0x52bdb7=_0x24ef59[_0xdcd444(0x16f)]);const _0x266295={'itemcode':_0x24ef59[_0xdcd444(0xf4)],'itemdescription':_0x24ef59['product_name'],'qty':_0x24ef59[_0xdcd444(0x18d)],'unit':_0x52bdb7,'proddate':_0x24ef59[_0xdcd444(0x17e)],'batchno':_0x24ef59[_0xdcd444(0x111)],'binloc':_0x24ef59[_0xdcd444(0x195)]+_0x24ef59[_0xdcd444(0x18b)]+_0x24ef59[_0xdcd444(0xea)]+_0x24ef59[_0xdcd444(0xd1)]+_0x24ef59[_0xdcd444(0xcd)][0x0]+_0x24ef59[_0xdcd444(0xf8)],'qtyFrom':_0x24ef59['from_quantity'],'binlocFrom':_0x24ef59[_0xdcd444(0xdb)]+_0x24ef59[_0xdcd444(0x105)]+_0x24ef59[_0xdcd444(0x13e)]+_0x24ef59[_0xdcd444(0x18a)]+_0x24ef59[_0xdcd444(0x156)][0x0]+_0x24ef59[_0xdcd444(0x171)]};_0x3581a8+=_0x24ef59[_0xdcd444(0x18d)],_0x2ab749[_0xdcd444(0x174)][_0xdcd444(0x186)](_0x266295);}),_0x3387d2['table'](_0x2ab749,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x3387d2[_0x195631(0x12d)]('Helvetica-Bold')[_0x195631(0xcb)](0x8),'prepareRow':(_0x461939,_0x5acf35,_0x1281aa,_0x380748)=>_0x3387d2['font'](_0x195631(0x12e))[_0x195631(0xcb)](0x8)});var _0x1127da=_0x3387d2['y'],_0x27ce64=_0x3387d2['x'];_0x3387d2[_0x195631(0xcb)](0xa)[_0x195631(0x14e)](_0x195631(0x189),_0x27ce64+0x7d,_0x1127da),_0x3387d2[_0x195631(0xcb)](0xa)['text'](_0x195631(0xd2),_0x27ce64,_0x1127da+=0x12c),_0x3387d2[_0x195631(0xcb)](0xa)['text'](_0x3581a8,_0x27ce64+0xd7,_0x1127da,{'underline':!![]}),_0x3387d2[_0x195631(0xcb)](0xa)[_0x195631(0x14e)](_0x195631(0xe5),_0x27ce64,_0x1127da+=0x32),_0x3387d2[_0x195631(0xcb)](0xa)[_0x195631(0x14e)](_0x195631(0x109),_0x27ce64+0x3c,_0x1127da,{'underline':!![]}),_0x3387d2['fontSize'](0xa)[_0x195631(0x14e)](_0x195631(0x13a),_0x27ce64+0x3c,_0x1127da+0xc);let _0x25b098=_0x3387d2[_0x195631(0x153)]();for(let _0x559211=0x0;_0x559211<_0x25b098[_0x195631(0x114)];_0x559211++){_0x3387d2['switchToPage'](_0x559211);let _0x4cffec=_0x3387d2[_0x195631(0xd0)][_0x195631(0x17b)][_0x195631(0xd6)];_0x3387d2['page'][_0x195631(0x17b)][_0x195631(0xd6)]=0x0,_0x3387d2['text']('Page:\x20'+(_0x559211+0x1)+'\x20of\x20'+_0x25b098[_0x195631(0x114)],0x0,_0x3387d2[_0x195631(0xd0)][_0x195631(0x14d)]-_0x4cffec/0x2,{'align':_0x195631(0x180)}),_0x3387d2['page'][_0x195631(0x17b)][_0x195631(0xd6)]=_0x4cffec;}const _0xf42264=_0x3387d2['y'],_0x3ccdf1=_0x3387d2['x'];_0x3387d2[_0x195631(0x102)]();}catch(_0x2b4686){console[_0x195631(0x19a)](_0x2b4686),_0x18ff28[_0x195631(0x106)](0x1f4)['send'](_0x195631(0x16e));}}),router[a0_0x4d3c46(0x17f)](a0_0x4d3c46(0x148),auth,async(_0x63b29b,_0x3b43c2)=>{const _0x5cb654=a0_0x4d3c46;try{const _0x5d4282=_0x352670=>_0x352670*0x48,_0x43581e={'width':0x3,'height':0x1},_0x2a4837=await product[_0x5cb654(0x13f)](),_0x58ed19=new PDFDocument({'margin':_0x5d4282(0.75),'size':[_0x5d4282(_0x43581e['width']),_0x5d4282(_0x43581e[_0x5cb654(0x14d)])],'bufferPages':!![]}),_0x523a84=_0x2a4837['length'];for(let _0x299ab9=0x0;_0x299ab9<=_0x523a84;_0x299ab9++){if(_0x299ab9!=_0x2a4837['length']){const _0x4ac6af=_0x2a4837[_0x299ab9][_0x5cb654(0x11f)],_0x86b52f=_0x2a4837[_0x299ab9]['primary_code'],_0x494f1e=_0x2a4837[_0x299ab9]['secondary_code'],_0x8ef8c0=_0x2a4837[_0x299ab9][_0x5cb654(0xf4)],_0x4fc46c=new Canvas();JsBarcode(_0x4fc46c,_0x86b52f,{'format':'CODE128','height':0x32,'displayValue':!![],'text':_0x86b52f}),_0x58ed19[_0x5cb654(0x101)](_0x4fc46c['toBuffer'](),0x0,0x0,{'width':0xd2}),_0x58ed19['addPage']();}}_0x58ed19[_0x5cb654(0x15c)](_0x3b43c2),_0x58ed19[_0x5cb654(0x102)]();}catch(_0x46d063){console[_0x5cb654(0x15d)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:',_0x46d063),_0x3b43c2[_0x5cb654(0x106)](0x1f4)[_0x5cb654(0x185)](_0x5cb654(0x16e));}}),module[a0_0x4d3c46(0x178)]=router;