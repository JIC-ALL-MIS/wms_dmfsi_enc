const a0_0x3425a0=a0_0x436e;(function(_0x440d73,_0x5d700d){const _0xb36504=a0_0x436e,_0x4a0ad4=_0x440d73();while(!![]){try{const _0x4a8476=-parseInt(_0xb36504(0x246))/0x1+-parseInt(_0xb36504(0x19f))/0x2*(parseInt(_0xb36504(0x1db))/0x3)+-parseInt(_0xb36504(0x19e))/0x4+-parseInt(_0xb36504(0x1ba))/0x5+-parseInt(_0xb36504(0x23f))/0x6+parseInt(_0xb36504(0x1f8))/0x7+parseInt(_0xb36504(0x22c))/0x8;if(_0x4a8476===_0x5d700d)break;else _0x4a0ad4['push'](_0x4a0ad4['shift']());}catch(_0x437620){_0x4a0ad4['push'](_0x4a0ad4['shift']());}}}(a0_0x4df8,0x5b092));const express=require(a0_0x3425a0(0x1d2)),res=require(a0_0x3425a0(0x204)),app=express(),router=express[a0_0x3425a0(0x1a5)](),multer=require(a0_0x3425a0(0x232)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x3425a0(0x1cc)),auth=require(a0_0x3425a0(0x219)),users=require(a0_0x3425a0(0x23e)),excelJS=require(a0_0x3425a0(0x1f3)),xlsx=require(a0_0x3425a0(0x1f7)),PDFDocument=require(a0_0x3425a0(0x1c0)),fs=require('fs'),blobStream=require(a0_0x3425a0(0x191)),JsBarcode=require('jsbarcode'),{Canvas}=require(a0_0x3425a0(0x231));router[a0_0x3425a0(0x216)](a0_0x3425a0(0x19c),auth,async(_0xf2da5,_0xe87204)=>{const _0x491165=a0_0x3425a0;try{const {username:_0x4f0840,email:_0x5d57b4,role:_0x53666b}=_0xf2da5[_0x491165(0x1bb)],_0x26c325=_0xf2da5[_0x491165(0x1bb)],_0x428b62=await profile[_0x491165(0x213)]({'email':_0x26c325['email']}),_0x26b995=await master_shop['find'](),_0x393e57=_0xf2da5[_0x491165(0x21c)]['id'],_0x48d3fb=await sales_finished[_0x491165(0x1f4)](_0x393e57);var _0x2e10d6;_0x2e10d6=_0x491165(0x1a6);_0x48d3fb[_0x491165(0x180)]==_0x491165(0x192)&&(_0x2e10d6=_0x491165(0x21e));const _0x272fc9=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0xe87204[_0x491165(0x20e)](_0x491165(0x247),'inline;\x20filename=\x22'+_0x48d3fb[_0x491165(0x201)]+'.pdf\x22'),_0xe87204['setHeader'](_0x491165(0x20c),_0x491165(0x1b6));var _0x562243=0x14,_0x4fb2e6=0x3c;_0x272fc9[_0x491165(0x1ce)](_0xe87204),_0x272fc9[_0x491165(0x1d6)](_0x491165(0x226)+_0x26b995[0x0][_0x491165(0x1d6)],0x14,0x0,{'fit':[0x64,0x64]}),_0x272fc9['fontSize'](0x14)[_0x491165(0x1e1)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x562243,_0x4fb2e6),_0x272fc9[_0x491165(0x18b)](0xa)[_0x491165(0x1e1)](_0x491165(0x1b3),_0x562243,_0x4fb2e6+=0xf),_0x272fc9['fontSize'](0xf)[_0x491165(0x1e1)](_0x2e10d6,_0x562243,_0x4fb2e6+=0x32),_0x272fc9['fontSize'](0xa)[_0x491165(0x1e1)](_0x491165(0x1e7),_0x562243,_0x4fb2e6+=0x14),_0x272fc9[_0x491165(0x18b)](0x9)['text'](_0x491165(0x1bd),_0x562243,_0x4fb2e6+=0x28),_0x272fc9[_0x491165(0x18b)](0x9)[_0x491165(0x1e1)](_0x491165(0x21a)+_0x48d3fb['warehouse_name'],_0x562243+0x3f,_0x4fb2e6),_0x272fc9[_0x491165(0x18b)](0x9)[_0x491165(0x1e1)](_0x491165(0x178)+_0x48d3fb['customer'],_0x562243+0x17c,_0x4fb2e6,{'underline':!![]}),_0x272fc9[_0x491165(0x18b)](0x9)[_0x491165(0x1e1)]('Date\x20',_0x562243,_0x4fb2e6+=0xb),_0x272fc9[_0x491165(0x18b)](0x9)[_0x491165(0x1e1)]('\x20:\x20'+_0x48d3fb[_0x491165(0x1c9)],_0x562243+0x3f,_0x4fb2e6),_0x272fc9[_0x491165(0x18b)](0x9)['text']('Control\x20Number\x20',_0x562243,_0x4fb2e6+=0xb),_0x272fc9[_0x491165(0x18b)](0x9)['text'](_0x491165(0x21a)+_0x48d3fb['invoice'],_0x562243+0x3f,_0x4fb2e6);const _0x5a7721={'headers':[{'label':_0x491165(0x183),'property':_0x491165(0x17e),'width':0x3c,'renderer':null},{'label':_0x491165(0x1a1),'property':_0x491165(0x1d5),'width':0xa5,'renderer':null},{'label':_0x491165(0x210),'property':_0x491165(0x1ca),'width':0x3c,'renderer':null},{'label':'UOM','property':'unit','width':0x3c,'renderer':null},{'label':_0x491165(0x1d8),'property':_0x491165(0x1a3),'width':0x50,'renderer':null},{'label':_0x491165(0x190),'property':_0x491165(0x18a),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x491165(0x1bc),'width':0x3f,'renderer':null}],'datas':[]};var _0x1df515=0x0;let _0x2f724d='';var _0x59e1ce=0x0;_0x48d3fb[_0x491165(0x1d0)]=='DRY\x20GOODS'?_0x2f724d='DG':_0x2f724d='FG';var _0x139d02=0x0;_0x48d3fb[_0x491165(0x234)][_0x491165(0x19d)](_0x2272d7=>{const _0x3a413b=_0x491165;console['log'](_0x2272d7);let _0x259bad='';const _0x391585=_0x2272d7[_0x3a413b(0x1c2)];for(let _0x404ed1=0x1;_0x404ed1<=_0x391585;_0x404ed1++){_0x391585==_0x404ed1?_0x259bad+=_0x2272d7[_0x3a413b(0x229)]:_0x259bad+=_0x2272d7[_0x3a413b(0x229)]+',',_0x59e1ce+=_0x2272d7[_0x3a413b(0x229)];}_0x259bad+=_0x3a413b(0x1ea)+_0x2272d7[_0x3a413b(0x1fc)];const _0xab9e1f={'itemcode':_0x2272d7['product_code'],'itemdescription':_0x2272d7[_0x3a413b(0x22e)],'qty':_0x2272d7[_0x3a413b(0x1c2)],'unit':_0x2272d7[_0x3a413b(0x1c5)],'proddate':_0x2272d7[_0x3a413b(0x1b0)],'batchno':_0x2272d7[_0x3a413b(0x237)],'binloc':_0x2f724d+_0x2272d7[_0x3a413b(0x22f)]};_0x1df515+=_0x2272d7[_0x3a413b(0x1c2)],_0x139d02+=0x1,_0x5a7721[_0x3a413b(0x1d3)][_0x3a413b(0x1be)](_0xab9e1f);}),_0x272fc9[_0x491165(0x1df)](_0x5a7721,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x272fc9[_0x491165(0x18c)](_0x491165(0x1dd))[_0x491165(0x18b)](0x8),'prepareRow':(_0x2d15a5,_0x4f3c07,_0xee3c99,_0x9e4106)=>_0x272fc9[_0x491165(0x18c)](_0x491165(0x1ee))[_0x491165(0x18b)](0x8)});var _0x303f45=_0x272fc9['y'],_0x380d12=_0x272fc9['x'];_0x272fc9[_0x491165(0x18b)](0xa)[_0x491165(0x1e1)](_0x491165(0x1b9),_0x380d12+0x7d,_0x303f45),console[_0x491165(0x18d)](_0x491165(0x17b)+_0x380d12+_0x491165(0x21f)+_0x303f45+_0x491165(0x195)+_0x139d02);const _0x59e5ff=_0x380d12*_0x139d02;_0x272fc9[_0x491165(0x18b)](0xa)[_0x491165(0x1e1)](_0x491165(0x1e8),_0x380d12,_0x303f45+=0x15e-_0x59e5ff),_0x272fc9[_0x491165(0x18b)](0xa)[_0x491165(0x1e1)](_0x1df515,_0x380d12+0xdc,_0x303f45,{'underline':!![]}),_0x272fc9['fontSize'](0xa)[_0x491165(0x1e1)](_0x491165(0x212),_0x380d12,_0x303f45+=0x19),_0x272fc9[_0x491165(0x18b)](0xa)[_0x491165(0x1e1)]('\x20'['repeat'](0x3c),_0x380d12+0x3e,_0x303f45,{'underline':!![]}),_0x272fc9['fontSize'](0xa)[_0x491165(0x1e1)](_0x491165(0x24f),_0x380d12,_0x303f45+=0x32),_0x272fc9[_0x491165(0x18b)](0xa)['text'](_0x491165(0x1b7),_0x380d12+0x3c,_0x303f45,{'underline':!![]}),_0x272fc9[_0x491165(0x18b)](0xa)['text']('Finished\x20Good\x20Warehouse\x20Supervisor',_0x380d12+0x3c,_0x303f45+0xc);let _0x37ea8a=_0x272fc9[_0x491165(0x241)]();for(let _0x2df1c3=0x0;_0x2df1c3<_0x37ea8a[_0x491165(0x24a)];_0x2df1c3++){_0x272fc9[_0x491165(0x1bf)](_0x2df1c3);let _0x4b50cf=_0x272fc9['page'][_0x491165(0x1b1)][_0x491165(0x24b)];_0x272fc9[_0x491165(0x20d)]['margins'][_0x491165(0x24b)]=0x0,_0x272fc9[_0x491165(0x1e1)]('Page:\x20'+(_0x2df1c3+0x1)+_0x491165(0x1a4)+_0x37ea8a['count'],0x0,_0x272fc9[_0x491165(0x20d)][_0x491165(0x1f2)]-_0x4b50cf/0x2,{'align':_0x491165(0x176)}),_0x272fc9[_0x491165(0x20d)]['margins'][_0x491165(0x24b)]=_0x4b50cf;}const _0x2c8596=_0x272fc9['y'],_0x435d19=_0x272fc9['x'];_0x272fc9['end']();}catch(_0x5612c4){console[_0x491165(0x18d)](_0x5612c4),_0xe87204['status'](0x1f4)['send'](_0x491165(0x1e3));}}),router[a0_0x3425a0(0x216)](a0_0x3425a0(0x188),auth,async(_0x1a3cd4,_0x21031f)=>{const _0x32bd2f=a0_0x3425a0;try{const {username:_0xec942f,email:_0x21e1de,role:_0x2f223a}=_0x1a3cd4[_0x32bd2f(0x1bb)],_0x26b6af=_0x1a3cd4['user'],_0x4999b1=await profile[_0x32bd2f(0x213)]({'email':_0x26b6af[_0x32bd2f(0x1fb)]}),_0x1020fb=await master_shop['find'](),_0x3dbbc2=_0x1a3cd4['params']['id'],_0x2136e8=await transfers_finished[_0x32bd2f(0x1f4)](_0x3dbbc2);var _0x4a6250,_0x124bf0;_0x4a6250=_0x32bd2f(0x1f6),_0x124bf0=_0x32bd2f(0x185);_0x2136e8[_0x32bd2f(0x180)]==_0x32bd2f(0x192)&&(_0x4a6250=_0x32bd2f(0x1dc),_0x124bf0='');const _0x5ea98e=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x21031f[_0x32bd2f(0x20e)]('Content-disposition','inline;\x20filename=\x22OUT-'+_0x3dbbc2+'.pdf\x22'),_0x21031f[_0x32bd2f(0x20e)](_0x32bd2f(0x20c),_0x32bd2f(0x1b6));var _0x29ae3e=0x14,_0x39a179=0x3c;_0x5ea98e['pipe'](_0x21031f),_0x5ea98e[_0x32bd2f(0x1d6)]('./public/upload/'+_0x1020fb[0x0][_0x32bd2f(0x1d6)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5ea98e['fontSize'](0x14)[_0x32bd2f(0x1e1)](_0x32bd2f(0x239),_0x29ae3e,_0x39a179),_0x5ea98e[_0x32bd2f(0x18b)](0xa)[_0x32bd2f(0x1e1)](_0x32bd2f(0x1b3),_0x29ae3e,_0x39a179+=0xf),_0x5ea98e[_0x32bd2f(0x18b)](0xf)[_0x32bd2f(0x1e1)](_0x4a6250,_0x29ae3e,_0x39a179+=0x32),_0x5ea98e[_0x32bd2f(0x18b)](0xa)[_0x32bd2f(0x1e1)](_0x124bf0,_0x29ae3e,_0x39a179+=0x14),_0x5ea98e[_0x32bd2f(0x18b)](0x9)[_0x32bd2f(0x1e1)](_0x32bd2f(0x224),_0x29ae3e,_0x39a179+=0x28),_0x5ea98e['fontSize'](0x9)['text']('\x20\x20\x20:\x20'+_0x2136e8[_0x32bd2f(0x1c8)],_0x29ae3e+0x3f,_0x39a179),_0x5ea98e[_0x32bd2f(0x18b)](0x9)[_0x32bd2f(0x1e1)](_0x32bd2f(0x194),_0x29ae3e,_0x39a179+=0xf),_0x5ea98e['fontSize'](0x9)[_0x32bd2f(0x1e1)](_0x32bd2f(0x1a0)+_0x2136e8[_0x32bd2f(0x197)],_0x29ae3e+0x3f,_0x39a179),_0x5ea98e[_0x32bd2f(0x18b)](0x9)[_0x32bd2f(0x1e1)](_0x32bd2f(0x19b),_0x29ae3e,_0x39a179+=0xb),_0x5ea98e[_0x32bd2f(0x18b)](0x9)[_0x32bd2f(0x1e1)](_0x32bd2f(0x1a0)+_0x2136e8[_0x32bd2f(0x1c9)],_0x29ae3e+0x3f,_0x39a179),_0x5ea98e['fontSize'](0x9)['text']('Control\x20Number\x20',_0x29ae3e,_0x39a179+=0xb),_0x5ea98e['fontSize'](0x9)['text'](_0x32bd2f(0x1a0)+_0x2136e8[_0x32bd2f(0x201)],_0x29ae3e+0x3f,_0x39a179);const _0x1da804={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x32bd2f(0x1a9),'property':_0x32bd2f(0x17e),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x32bd2f(0x1a7),'property':_0x32bd2f(0x1d5),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x5ea98e[_0x32bd2f(0x1df)](_0x1da804,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x5ea98e[_0x32bd2f(0x18c)]('Helvetica-Bold')[_0x32bd2f(0x18b)](0x8),'prepareRow':(_0x45c149,_0x1a0a2a,_0x58bec9,_0xf623c0)=>_0x5ea98e[_0x32bd2f(0x18c)](_0x32bd2f(0x1ee))['fontSize'](0x8)});const _0x480f04={'headers':[{'label':_0x32bd2f(0x183),'property':_0x32bd2f(0x17e),'width':0x3c,'renderer':null},{'label':_0x32bd2f(0x1a1),'property':_0x32bd2f(0x1d5),'width':0x96,'renderer':null},{'label':'Quantity','property':_0x32bd2f(0x1ca),'width':0x28,'renderer':null},{'label':_0x32bd2f(0x23a),'property':_0x32bd2f(0x1c5),'width':0x37,'renderer':null},{'label':'Production\x20Date','property':_0x32bd2f(0x1a3),'width':0x4b,'renderer':null},{'label':_0x32bd2f(0x190),'property':_0x32bd2f(0x18a),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':'binlocFrom','width':0x3f,'renderer':null},{'label':_0x32bd2f(0x1d7),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x3f1aaf=0x0;let _0x57c711='';var _0x381e02=0x0;if(_0x2136e8['from_warehouse']==_0x32bd2f(0x1c3))_0x57c711='DG';else _0x2136e8[_0x32bd2f(0x1c8)]==_0x32bd2f(0x1f1)&&(_0x57c711='FG');_0x2136e8['product']['forEach'](_0x35eee9=>{const _0x28268c=_0x32bd2f;var _0x5b69c3=_0x35eee9[_0x28268c(0x214)],_0x207c3b,_0x30d715;_0x207c3b=_0x35eee9['unit'],_0x30d715=_0x35eee9[_0x28268c(0x235)];_0x5b69c3=='S'&&(_0x207c3b=_0x35eee9['secondary_unit'],_0x30d715=_0x35eee9[_0x28268c(0x235)]*_0x35eee9[_0x28268c(0x17c)]);const _0x2f05da={'itemcode':_0x35eee9['product_code'],'itemdescription':_0x35eee9['product_name'],'qty':_0x30d715,'unit':_0x207c3b,'proddate':_0x35eee9[_0x28268c(0x1b0)],'batchno':_0x35eee9[_0x28268c(0x237)],'binloc':_0x57c711+_0x35eee9[_0x28268c(0x23c)],'qtyFrom':_0x35eee9[_0x28268c(0x1f0)],'binlocFrom':_0x57c711+_0x35eee9['from_bay']};_0x3f1aaf+=_0x30d715,_0x480f04[_0x28268c(0x1d3)][_0x28268c(0x1be)](_0x2f05da);}),_0x5ea98e[_0x32bd2f(0x1df)](_0x480f04,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x5ea98e[_0x32bd2f(0x18c)](_0x32bd2f(0x1dd))[_0x32bd2f(0x18b)](0x8),'prepareRow':(_0x370ba6,_0x471f0e,_0x578fa7,_0x39b9f2)=>_0x5ea98e['font'](_0x32bd2f(0x1ee))[_0x32bd2f(0x18b)](0x8)});var _0x3de9ad=_0x5ea98e['y'],_0x29a2fc=_0x5ea98e['x'];_0x5ea98e[_0x32bd2f(0x18b)](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x29a2fc+0x7d,_0x3de9ad),_0x5ea98e[_0x32bd2f(0x18b)](0xa)[_0x32bd2f(0x1e1)]('TOTAL\x20QTY:\x20',_0x29a2fc,_0x3de9ad+=0x15e),_0x5ea98e['fontSize'](0xa)['text'](_0x3f1aaf,_0x29a2fc+0xd7,_0x3de9ad,{'underline':!![]}),_0x5ea98e[_0x32bd2f(0x18b)](0xa)[_0x32bd2f(0x1e1)](_0x32bd2f(0x212),_0x29a2fc,_0x3de9ad+=0x19),_0x5ea98e[_0x32bd2f(0x18b)](0xa)['text']('\x20'[_0x32bd2f(0x1ef)](0x3c),_0x29a2fc+0x3e,_0x3de9ad,{'underline':!![]}),_0x5ea98e[_0x32bd2f(0x18b)](0xa)['text']('Checked\x20By:\x20',_0x29a2fc,_0x3de9ad+=0x32),_0x5ea98e[_0x32bd2f(0x18b)](0xa)[_0x32bd2f(0x1e1)](_0x32bd2f(0x1b7),_0x29a2fc+0x3c,_0x3de9ad,{'underline':!![]}),_0x5ea98e[_0x32bd2f(0x18b)](0xa)[_0x32bd2f(0x1e1)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x29a2fc+0x3c,_0x3de9ad+0xc);let _0x31365a=_0x5ea98e['bufferedPageRange']();for(let _0x417e66=0x0;_0x417e66<_0x31365a[_0x32bd2f(0x24a)];_0x417e66++){_0x5ea98e[_0x32bd2f(0x1bf)](_0x417e66);let _0x2f9ade=_0x5ea98e[_0x32bd2f(0x20d)][_0x32bd2f(0x1b1)][_0x32bd2f(0x24b)];_0x5ea98e[_0x32bd2f(0x20d)][_0x32bd2f(0x1b1)][_0x32bd2f(0x24b)]=0x0,_0x5ea98e[_0x32bd2f(0x1e1)](_0x32bd2f(0x18e)+(_0x417e66+0x1)+'\x20of\x20'+_0x31365a[_0x32bd2f(0x24a)],0x0,_0x5ea98e[_0x32bd2f(0x20d)]['height']-_0x2f9ade/0x2,{'align':_0x32bd2f(0x176)}),_0x5ea98e[_0x32bd2f(0x20d)][_0x32bd2f(0x1b1)]['bottom']=_0x2f9ade;}const _0x461344=_0x5ea98e['y'],_0xed93c8=_0x5ea98e['x'];_0x5ea98e[_0x32bd2f(0x243)]();}catch(_0x1433ca){console['log'](_0x1433ca),_0x21031f['status'](0x1f4)[_0x32bd2f(0x1ec)](_0x32bd2f(0x1e3));}}),router[a0_0x3425a0(0x216)]('/PDF_adjustment/:id',auth,async(_0x3f59d5,_0xd642f9)=>{const _0x450715=a0_0x3425a0;try{const {username:_0x43d16f,email:_0xdbb904,role:_0x59aedc}=_0x3f59d5[_0x450715(0x1bb)],_0x2f7a3a=_0x3f59d5[_0x450715(0x1bb)],_0x555f8c=await profile[_0x450715(0x213)]({'email':_0x2f7a3a[_0x450715(0x1fb)]}),_0x526495=await master_shop['find'](),_0x475533=_0x3f59d5['params']['id'],_0x2a1f7e=await adjustment_finished[_0x450715(0x1f4)](_0x475533);var _0x548cde,_0x1f1e93;_0x548cde=_0x450715(0x1a6),_0x1f1e93='(INVENTORY\x20ADJUSTMENT)';_0x2a1f7e[_0x450715(0x180)]==_0x450715(0x192)&&(_0x548cde=_0x450715(0x198),_0x1f1e93='');const _0x319852=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0xd642f9[_0x450715(0x20e)]('Content-disposition',_0x450715(0x1e4)+_0x475533+_0x450715(0x217)),_0xd642f9['setHeader'](_0x450715(0x20c),_0x450715(0x1b6));var _0x4e0583=0x14,_0x3f892f=0x3c;_0x319852[_0x450715(0x1ce)](_0xd642f9),_0x319852['image']('./public/upload/'+_0x526495[0x0][_0x450715(0x1d6)],0x14,0x0,{'fit':[0x64,0x64]}),_0x319852[_0x450715(0x18b)](0x14)[_0x450715(0x1e1)](_0x450715(0x239),_0x4e0583,_0x3f892f),_0x319852[_0x450715(0x18b)](0xa)[_0x450715(0x1e1)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x4e0583,_0x3f892f+=0xf),_0x319852[_0x450715(0x18b)](0xf)[_0x450715(0x1e1)](_0x548cde,_0x4e0583,_0x3f892f+=0x32),_0x319852[_0x450715(0x18b)](0xa)[_0x450715(0x1e1)](_0x1f1e93,_0x4e0583,_0x3f892f+=0x14),_0x319852[_0x450715(0x18b)](0x9)[_0x450715(0x1e1)](_0x450715(0x1bd),_0x4e0583,_0x3f892f+=0x28),_0x319852[_0x450715(0x18b)](0x9)[_0x450715(0x1e1)](_0x450715(0x21a)+_0x2a1f7e[_0x450715(0x1d0)],_0x4e0583+0x3f,_0x3f892f),_0x319852['fontSize'](0x9)['text']('Date\x20',_0x4e0583,_0x3f892f+=0xb),_0x319852[_0x450715(0x18b)](0x9)['text'](_0x450715(0x21a)+_0x2a1f7e[_0x450715(0x1c9)],_0x4e0583+0x3f,_0x3f892f),_0x319852[_0x450715(0x18b)](0x9)[_0x450715(0x1e1)](_0x450715(0x1fd),_0x4e0583,_0x3f892f+=0xb),_0x319852[_0x450715(0x18b)](0x9)[_0x450715(0x1e1)](_0x450715(0x21a)+_0x2a1f7e[_0x450715(0x201)],_0x4e0583+0x3f,_0x3f892f);const _0x498849={'headers':[{'label':'Item\x20Code','property':_0x450715(0x17e),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x450715(0x1d5),'width':0x96,'renderer':null},{'label':_0x450715(0x210),'property':_0x450715(0x1ca),'width':0x3c,'renderer':null},{'label':_0x450715(0x23a),'property':_0x450715(0x1c5),'width':0x3c,'renderer':null},{'label':_0x450715(0x1d8),'property':_0x450715(0x1a3),'width':0x50,'renderer':null},{'label':_0x450715(0x190),'property':_0x450715(0x18a),'width':0x3f,'renderer':null},{'label':_0x450715(0x1d7),'property':_0x450715(0x1bc),'width':0x3f,'renderer':null}],'datas':[]};var _0x9d3c73=0x0;let _0x27bc2a='';var _0x2b5fa4=0x0;_0x2a1f7e['warehouse_name']==_0x450715(0x1c3)?_0x27bc2a='DG':_0x27bc2a='FG';_0x2a1f7e['product']['forEach'](_0x541524=>{const _0x451c7c=_0x450715;console[_0x451c7c(0x18d)](_0x541524);var _0x3a8461=_0x541524[_0x451c7c(0x214)],_0x4ca14d,_0x49b0be;_0x4ca14d=_0x541524['unit'],_0x49b0be=_0x541524['adjust_qty'];_0x3a8461=='S'&&(_0x4ca14d=_0x541524[_0x451c7c(0x1fc)],_0x49b0be=_0x541524['adjust_qty']*_0x541524[_0x451c7c(0x17c)]);const _0xe862e3={'itemcode':_0x541524[_0x451c7c(0x1c1)],'itemdescription':_0x541524[_0x451c7c(0x22e)],'qty':_0x49b0be,'unit':_0x4ca14d,'proddate':_0x541524[_0x451c7c(0x1b0)],'batchno':_0x541524[_0x451c7c(0x237)],'binloc':_0x27bc2a+_0x541524[_0x451c7c(0x22f)]};_0x9d3c73+=_0x49b0be,_0x498849[_0x451c7c(0x1d3)][_0x451c7c(0x1be)](_0xe862e3);}),_0x319852[_0x450715(0x1df)](_0x498849,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x319852[_0x450715(0x18c)](_0x450715(0x1dd))[_0x450715(0x18b)](0x8),'prepareRow':(_0x5f0a69,_0x503ebb,_0x46419d,_0x1f44ac)=>_0x319852[_0x450715(0x18c)](_0x450715(0x1ee))[_0x450715(0x18b)](0x8)});var _0x4e6045=_0x319852['y'],_0x3e37be=_0x319852['x'];_0x319852[_0x450715(0x18b)](0xa)[_0x450715(0x1e1)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x3e37be+0x7d,_0x4e6045),_0x319852[_0x450715(0x18b)](0xa)[_0x450715(0x1e1)]('TOTAL\x20QTY\x20:\x20',_0x3e37be,_0x4e6045+=0x15e),_0x319852[_0x450715(0x18b)](0xa)[_0x450715(0x1e1)](_0x9d3c73,_0x3e37be+0xc8,_0x4e6045),_0x319852[_0x450715(0x18b)](0xa)[_0x450715(0x1e1)](_0x450715(0x212),_0x3e37be,_0x4e6045+=0x19),_0x319852[_0x450715(0x18b)](0xa)[_0x450715(0x1e1)]('\x20'['repeat'](0x3c),_0x3e37be+0x3e,_0x4e6045,{'underline':!![]}),_0x319852[_0x450715(0x18b)](0xa)[_0x450715(0x1e1)](_0x450715(0x1b8),_0x3e37be,_0x4e6045+=0x32),_0x319852[_0x450715(0x18b)](0xa)[_0x450715(0x1e1)](_0x450715(0x21a),_0x3e37be+0x37,_0x4e6045),_0x319852[_0x450715(0x18b)](0xa)[_0x450715(0x1e1)](_0x450715(0x1b7),_0x3e37be+0x3c,_0x4e6045,{'underline':!![]}),_0x319852[_0x450715(0x18b)](0xa)['text'](_0x450715(0x1fa),_0x3e37be+0x3c,_0x4e6045+0xc);let _0x409c98=_0x319852['bufferedPageRange']();for(let _0x448849=0x0;_0x448849<_0x409c98[_0x450715(0x24a)];_0x448849++){_0x319852['switchToPage'](_0x448849);let _0x102f23=_0x319852[_0x450715(0x20d)][_0x450715(0x1b1)][_0x450715(0x24b)];_0x319852[_0x450715(0x20d)][_0x450715(0x1b1)][_0x450715(0x24b)]=0x0,_0x319852['text'](_0x450715(0x18e)+(_0x448849+0x1)+_0x450715(0x1a4)+_0x409c98[_0x450715(0x24a)],0x0,_0x319852[_0x450715(0x20d)][_0x450715(0x1f2)]-_0x102f23/0x2,{'align':'center'}),_0x319852['page']['margins'][_0x450715(0x24b)]=_0x102f23;}const _0x30c448=_0x319852['y'],_0x5c96bb=_0x319852['x'];_0x319852[_0x450715(0x243)]();}catch(_0x177d25){console[_0x450715(0x18d)](_0x177d25),_0xd642f9['status'](0x1f4)[_0x450715(0x1ec)](_0x450715(0x1e3));}}),router['get'](a0_0x3425a0(0x1a2),auth,async(_0x2d80a9,_0x1dfb9e)=>{const _0x40dde2=a0_0x3425a0;try{const {username:_0x10f31b,email:_0xcb3e47,role:_0xd9c74c}=_0x2d80a9[_0x40dde2(0x1bb)],_0x16ece5=_0x2d80a9[_0x40dde2(0x1bb)],_0x140cf1=await profile[_0x40dde2(0x213)]({'email':_0x16ece5[_0x40dde2(0x1fb)]}),_0x19330c=await master_shop[_0x40dde2(0x1f9)](),_0x30bb10=_0x2d80a9[_0x40dde2(0x21c)]['id'],_0x11d52a=await purchases_finished[_0x40dde2(0x1f4)](_0x30bb10),_0x57d564=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1dfb9e[_0x40dde2(0x20e)](_0x40dde2(0x247),_0x40dde2(0x1e4)+_0x30bb10+_0x40dde2(0x217)),_0x1dfb9e['setHeader'](_0x40dde2(0x20c),_0x40dde2(0x1b6));var _0x761503=0x14,_0x20bc80=0x3c;_0x57d564['pipe'](_0x1dfb9e),_0x57d564[_0x40dde2(0x1d6)](_0x40dde2(0x226)+_0x19330c[0x0][_0x40dde2(0x1d6)],0x14,0x0,{'fit':[0x64,0x64]}),_0x57d564['fontSize'](0x14)[_0x40dde2(0x1e1)](_0x40dde2(0x239),_0x761503,_0x20bc80),_0x57d564['fontSize'](0xa)['text']('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x761503,_0x20bc80+=0xf),_0x57d564['fontSize'](0xf)['text'](_0x40dde2(0x22b),_0x761503,_0x20bc80+=0x32),_0x57d564[_0x40dde2(0x18b)](0xa)['text'](_0x40dde2(0x1b5),_0x761503,_0x20bc80+=0x14),_0x57d564[_0x40dde2(0x18b)](0x9)[_0x40dde2(0x1e1)]('Warehouse\x20',_0x761503,_0x20bc80+=0x28),_0x57d564[_0x40dde2(0x18b)](0x9)[_0x40dde2(0x1e1)](_0x40dde2(0x21a)+_0x11d52a[_0x40dde2(0x1d0)],_0x761503+0x3f,_0x20bc80),_0x57d564[_0x40dde2(0x18b)](0x9)['text']('FTGS\x20Number\x20:\x20'+_0x11d52a['POnumber'],_0x761503+0x17c,_0x20bc80),_0x57d564[_0x40dde2(0x18b)](0x9)[_0x40dde2(0x1e1)](_0x40dde2(0x19b),_0x761503,_0x20bc80+=0xb),_0x57d564[_0x40dde2(0x18b)](0x9)['text']('\x20:\x20'+_0x11d52a['date'],_0x761503+0x3f,_0x20bc80),_0x57d564['fontSize'](0x9)[_0x40dde2(0x1e1)]('Control\x20Number\x20',_0x761503,_0x20bc80+=0xb),_0x57d564[_0x40dde2(0x18b)](0x9)[_0x40dde2(0x1e1)]('\x20:\x20'+_0x11d52a[_0x40dde2(0x201)],_0x761503+0x3f,_0x20bc80);const _0x66ae54={'headers':[{'label':_0x40dde2(0x183),'property':_0x40dde2(0x17e),'width':0x3c,'renderer':null},{'label':_0x40dde2(0x1a1),'property':_0x40dde2(0x1d5),'width':0xc8,'renderer':null},{'label':'Quantity','property':'qty','width':0x3c,'renderer':null},{'label':_0x40dde2(0x23a),'property':_0x40dde2(0x1c5),'width':0x3c,'renderer':null},{'label':_0x40dde2(0x215),'property':'expdate','width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x40dde2(0x18a),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x40dde2(0x1bc),'width':0x3f,'renderer':null}],'datas':[]};var _0x2c472b=0x0;let _0x15b9c7='';_0x11d52a[_0x40dde2(0x1d0)]==_0x40dde2(0x1c3)?_0x15b9c7='DG':_0x15b9c7='FG';_0x11d52a[_0x40dde2(0x1eb)][_0x40dde2(0x19d)](_0xa356d1=>{const _0x2aae5e=_0x40dde2;let _0x51e702='';var _0x3e5b2a=0x0;const _0x2680be={'itemcode':_0xa356d1[_0x2aae5e(0x1c1)],'itemdescription':_0xa356d1[_0x2aae5e(0x22e)],'qty':_0xa356d1['quantity'],'unit':_0xa356d1[_0x2aae5e(0x244)],'expdate':_0xa356d1[_0x2aae5e(0x245)],'batchno':_0xa356d1[_0x2aae5e(0x237)],'binloc':_0x15b9c7+_0xa356d1[_0x2aae5e(0x22f)]};_0x2c472b+=_0xa356d1['quantity'],_0x66ae54[_0x2aae5e(0x1d3)][_0x2aae5e(0x1be)](_0x2680be);}),_0x57d564[_0x40dde2(0x1df)](_0x66ae54,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x57d564[_0x40dde2(0x18c)](_0x40dde2(0x1dd))[_0x40dde2(0x18b)](0x8),'prepareRow':(_0x3387b5,_0x2ce8d6,_0x4aec71,_0x11c12a)=>_0x57d564[_0x40dde2(0x18c)](_0x40dde2(0x1ee))[_0x40dde2(0x18b)](0x8)});var _0xb75378=_0x57d564['y'],_0x2163a4=_0x57d564['x'];_0x57d564['fontSize'](0xa)['text'](_0x40dde2(0x1b9),_0x2163a4+0x7d,_0xb75378),_0x57d564[_0x40dde2(0x18b)](0xa)[_0x40dde2(0x1e1)](_0x40dde2(0x1e8),_0x2163a4,_0xb75378+=0x15e),_0x57d564[_0x40dde2(0x18b)](0xa)[_0x40dde2(0x1e1)](_0x2c472b,_0x2163a4+0xfa,_0xb75378),_0x57d564[_0x40dde2(0x18b)](0xa)[_0x40dde2(0x1e1)]('Picked\x20By\x20\x20\x20\x20:\x20',_0x2163a4,_0xb75378+=0x19),_0x57d564[_0x40dde2(0x18b)](0xa)['text'](_0x40dde2(0x1b2),_0x2163a4+0x37,_0xb75378,{'underline':!![]}),_0x57d564[_0x40dde2(0x18b)](0xa)[_0x40dde2(0x1e1)](_0x40dde2(0x242),_0x2163a4,_0xb75378+0x32),_0x57d564['fontSize'](0xa)[_0x40dde2(0x1e1)](_0x40dde2(0x1b7),_0x2163a4+0x32,_0xb75378+0x32,{'underline':!![]}),_0x57d564['fontSize'](0xa)[_0x40dde2(0x1e1)](_0x40dde2(0x1fa),_0x2163a4+0x32,_0xb75378+0x3c);let _0x33e032=_0x57d564[_0x40dde2(0x241)]();for(let _0x5c9cc5=0x0;_0x5c9cc5<_0x33e032[_0x40dde2(0x24a)];_0x5c9cc5++){_0x57d564['switchToPage'](_0x5c9cc5);let _0x34bc24=_0x57d564[_0x40dde2(0x20d)]['margins'][_0x40dde2(0x24b)];_0x57d564['page'][_0x40dde2(0x1b1)][_0x40dde2(0x24b)]=0x0,_0x57d564[_0x40dde2(0x1e1)](_0x40dde2(0x18e)+(_0x5c9cc5+0x1)+_0x40dde2(0x1a4)+_0x33e032['count'],0x0,_0x57d564[_0x40dde2(0x20d)]['height']-_0x34bc24/0x2,{'align':_0x40dde2(0x176)}),_0x57d564[_0x40dde2(0x20d)][_0x40dde2(0x1b1)][_0x40dde2(0x24b)]=_0x34bc24;}const _0x57a584=_0x57d564['y'],_0x19b1ac=_0x57d564['x'];_0x57d564[_0x40dde2(0x243)]();}catch(_0x5542e1){console['log'](_0x5542e1),_0x1dfb9e[_0x40dde2(0x179)](0x1f4)[_0x40dde2(0x1ec)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x3425a0(0x216)](a0_0x3425a0(0x211),auth,async(_0x224ed0,_0x19aaf9)=>{const _0x4f536c=a0_0x3425a0;try{const {username:_0x5d7b30,email:_0x299222,role:_0x2bcf78}=_0x224ed0[_0x4f536c(0x1bb)],_0x3e3fa5=_0x224ed0[_0x4f536c(0x1bb)],_0x560159=await profile[_0x4f536c(0x213)]({'email':_0x3e3fa5[_0x4f536c(0x1fb)]}),_0x5a90fb=await master_shop['find'](),_0xd61cae=_0x224ed0[_0x4f536c(0x21c)]['id'],_0x410554=await sales_return_finished[_0x4f536c(0x1f4)](_0xd61cae),_0x48de21=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x19aaf9['setHeader'](_0x4f536c(0x247),_0x4f536c(0x1e4)+_0xd61cae+_0x4f536c(0x217)),_0x19aaf9[_0x4f536c(0x20e)](_0x4f536c(0x20c),'application/pdf');var _0x2248ba=0x14,_0x2ed2f5=0x64;_0x48de21[_0x4f536c(0x1ce)](_0x19aaf9),_0x48de21[_0x4f536c(0x1d6)](_0x4f536c(0x226)+_0x5a90fb[0x0][_0x4f536c(0x1d6)],0x14,0x0,{'fit':[0x64,0x64]}),_0x48de21[_0x4f536c(0x18b)](0x14)[_0x4f536c(0x1e1)](_0x4f536c(0x239),_0x2248ba,_0x2ed2f5),_0x48de21[_0x4f536c(0x18b)](0xa)[_0x4f536c(0x1e1)](_0x4f536c(0x1b3),_0x2248ba,_0x2ed2f5+=0xf),_0x48de21[_0x4f536c(0x18b)](0xf)[_0x4f536c(0x1e1)]('PICKING\x20LIST',_0x2248ba,_0x2ed2f5+=0x32),_0x48de21[_0x4f536c(0x18b)](0xa)['text'](_0x4f536c(0x17f),_0x2248ba,_0x2ed2f5+=0x1e),_0x48de21[_0x4f536c(0x18b)](0x9)[_0x4f536c(0x1e1)](_0x4f536c(0x230)+_0x410554[_0x4f536c(0x1af)],_0x2248ba,_0x2ed2f5+=0x28),_0x48de21[_0x4f536c(0x18b)](0x9)[_0x4f536c(0x1e1)](_0x4f536c(0x178)+_0x410554[_0x4f536c(0x223)],0x190,0xd2,{'underline':!![]}),_0x48de21[_0x4f536c(0x18b)](0x9)[_0x4f536c(0x1e1)]('Pick\x20By\x20:\x20',_0x2248ba,_0x2ed2f5+=0xb),_0x48de21['fontSize'](0x9)[_0x4f536c(0x1e1)](_0x4f536c(0x187)+_0x410554[_0x4f536c(0x1c9)],_0x2248ba,_0x2ed2f5+=0xb),_0x48de21['fontSize'](0x9)[_0x4f536c(0x1e1)](_0x4f536c(0x186)+_0x410554['invoice'],_0x2248ba,_0x2ed2f5+=0xb);var _0xcad7cd='',_0x52bb92='',_0xdf1c37=0x0,_0x4332a0;console[_0x4f536c(0x18d)](_0x410554['warehouse_cat']);_0x410554['warehouse_cat']=='GS'?(_0x410554['warehouse_name']=='DRY\x20GOODS'?warecode='DG':warecode='FG',_0xcad7cd={'headers':[{'label':_0x4f536c(0x183),'property':_0x4f536c(0x17e),'width':0x3c,'renderer':null},{'label':_0x4f536c(0x1a1),'property':_0x4f536c(0x1d5),'width':0xc8,'renderer':null},{'label':_0x4f536c(0x210),'property':_0x4f536c(0x1ca),'width':0x3c,'renderer':null},{'label':_0x4f536c(0x23a),'property':_0x4f536c(0x1c5),'width':0x3c,'renderer':null},{'label':_0x4f536c(0x215),'property':_0x4f536c(0x248),'width':0x50,'renderer':null},{'label':_0x4f536c(0x190),'property':_0x4f536c(0x18a),'width':0x3f,'renderer':null},{'label':_0x4f536c(0x1d7),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]},_0x410554['return_sale'][_0x4f536c(0x19d)](_0x4858f6=>{const _0x23e51c=_0x4f536c;let _0x4c1c15='';var _0x1aa793=0x0;_0x52bb92={'itemcode':_0x4858f6[_0x23e51c(0x1c1)],'itemdescription':_0x4858f6[_0x23e51c(0x22e)],'qty':_0x4858f6[_0x23e51c(0x221)],'unit':_0x4858f6['unit'],'expdate':_0x4858f6[_0x23e51c(0x245)],'batchno':_0x4858f6[_0x23e51c(0x237)],'binloc':warecode+_0x4858f6[_0x23e51c(0x22f)]},_0xdf1c37+=_0x4858f6['return_qty'],console['log'](_0x4858f6),_0xcad7cd[_0x23e51c(0x1d3)][_0x23e51c(0x1be)](_0x52bb92);})):(_0xcad7cd={'headers':[{'label':_0x4f536c(0x183),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x4f536c(0x1a1),'property':'itemdescription','width':0xc8,'renderer':null},{'label':_0x4f536c(0x210),'property':_0x4f536c(0x1ca),'width':0x3c,'renderer':null},{'label':_0x4f536c(0x23a),'property':'unit','width':0x3c,'renderer':null},{'label':_0x4f536c(0x215),'property':_0x4f536c(0x248),'width':0x50,'renderer':null},{'label':_0x4f536c(0x190),'property':_0x4f536c(0x18a),'width':0x3f,'renderer':null}],'datas':[]},_0x410554[_0x4f536c(0x23d)][_0x4f536c(0x19d)](_0x373107=>{const _0x58f3e5=_0x4f536c;let _0x2b5b8f='';var _0x23b2d5=0x0;_0x52bb92={'itemcode':_0x373107['product_code'],'itemdescription':_0x373107['product_name'],'qty':_0x373107[_0x58f3e5(0x221)],'unit':_0x373107[_0x58f3e5(0x1c5)],'expdate':_0x373107[_0x58f3e5(0x245)],'batchno':_0x373107[_0x58f3e5(0x237)]},_0xdf1c37+=_0x373107[_0x58f3e5(0x221)],console['log'](_0xdf1c37+_0x58f3e5(0x1c7)+_0x373107[_0x58f3e5(0x221)]),_0xcad7cd[_0x58f3e5(0x1d3)][_0x58f3e5(0x1be)](_0x52bb92);}));_0x48de21['table'](_0xcad7cd,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x48de21[_0x4f536c(0x18c)]('Helvetica-Bold')[_0x4f536c(0x18b)](0x8),'prepareRow':(_0x3ff877,_0x57be3a,_0x2181da,_0x3393da)=>_0x48de21['font'](_0x4f536c(0x1ee))[_0x4f536c(0x18b)](0x8)});var _0x486ca3=_0x48de21['y'],_0xe6b67c=_0x48de21['x'];_0x48de21[_0x4f536c(0x18b)](0xa)[_0x4f536c(0x1e1)](_0x4f536c(0x1b9),_0xe6b67c+0x7d,_0x486ca3),_0x48de21[_0x4f536c(0x18b)](0xa)[_0x4f536c(0x1e1)](_0x4f536c(0x1e8),_0xe6b67c,_0x486ca3+=0x190),_0x48de21['fontSize'](0xa)[_0x4f536c(0x1e1)](_0xdf1c37,_0xe6b67c+0x37,_0x486ca3,{'underline':!![]}),_0x48de21[_0x4f536c(0x18b)](0xa)[_0x4f536c(0x1e1)](_0x4f536c(0x23b),_0xe6b67c,_0x486ca3+0x1e),_0x48de21['fontSize'](0xa)[_0x4f536c(0x1e1)](_0x4f536c(0x22a),_0xe6b67c+0x32,_0x486ca3+0x1e,{'underline':!![]});let _0xfb1ecf=_0x48de21[_0x4f536c(0x241)]();for(let _0x37b60d=0x0;_0x37b60d<_0xfb1ecf[_0x4f536c(0x24a)];_0x37b60d++){_0x48de21[_0x4f536c(0x1bf)](_0x37b60d);let _0x4158a2=_0x48de21[_0x4f536c(0x20d)][_0x4f536c(0x1b1)][_0x4f536c(0x24b)];_0x48de21[_0x4f536c(0x20d)][_0x4f536c(0x1b1)][_0x4f536c(0x24b)]=0x0,_0x48de21[_0x4f536c(0x1e1)](_0x4f536c(0x18e)+(_0x37b60d+0x1)+_0x4f536c(0x1a4)+_0xfb1ecf[_0x4f536c(0x24a)],0x0,_0x48de21['page'][_0x4f536c(0x1f2)]-_0x4158a2/0x2,{'align':'center'}),_0x48de21['page'][_0x4f536c(0x1b1)]['bottom']=_0x4158a2;}const _0x8c6e58=_0x48de21['y'],_0x54e2df=_0x48de21['x'];_0x48de21['end']();}catch(_0x4711ed){console['log'](_0x4711ed),_0x19aaf9[_0x4f536c(0x179)](0x1f4)[_0x4f536c(0x1ec)](_0x4f536c(0x1e3));}}),router[a0_0x3425a0(0x216)](a0_0x3425a0(0x1fe),auth,async(_0x35bdf1,_0x204c70)=>{const _0x59ac6f=a0_0x3425a0;try{const {username:_0x48369f,email:_0x20d727,role:_0x4c7c7f}=_0x35bdf1['user'],_0x5c80f3=_0x35bdf1[_0x59ac6f(0x1bb)],_0x27d5a8=await profile['findOne']({'email':_0x5c80f3[_0x59ac6f(0x1fb)]}),_0x342da8=await master_shop[_0x59ac6f(0x1f9)](),_0xc134c=_0x35bdf1[_0x59ac6f(0x21c)]['id'],_0x4631cb=await purchases['findById'](_0xc134c),_0x47477d=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x204c70['setHeader']('Content-disposition',_0x59ac6f(0x1e4)+_0xc134c+_0x59ac6f(0x217)),_0x204c70[_0x59ac6f(0x20e)]('Content-type','application/pdf');var _0x22d22d=0x14,_0x210638=0x3c;_0x47477d['pipe'](_0x204c70),_0x47477d[_0x59ac6f(0x1d6)]('./public/upload/'+_0x342da8[0x0][_0x59ac6f(0x1d6)],0x14,0x0,{'fit':[0x64,0x64]}),_0x47477d[_0x59ac6f(0x18b)](0x14)[_0x59ac6f(0x1e1)](_0x59ac6f(0x239),_0x22d22d,_0x210638),_0x47477d[_0x59ac6f(0x18b)](0xa)[_0x59ac6f(0x1e1)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x22d22d,_0x210638+=0xf),_0x47477d[_0x59ac6f(0x18b)](0xf)[_0x59ac6f(0x1e1)](_0x59ac6f(0x1e9),_0x22d22d,_0x210638+=0x32),_0x47477d[_0x59ac6f(0x18b)](0xa)[_0x59ac6f(0x1e1)](_0x59ac6f(0x1b5),_0x22d22d,_0x210638+=0x14),_0x47477d['fontSize'](0x9)[_0x59ac6f(0x1e1)](_0x59ac6f(0x1bd),_0x22d22d,_0x210638+=0x2d),_0x47477d[_0x59ac6f(0x18b)](0x9)[_0x59ac6f(0x1e1)](_0x59ac6f(0x21a)+_0x4631cb[_0x59ac6f(0x1d0)],_0x22d22d+0x3f,_0x210638),_0x47477d['fontSize'](0x9)[_0x59ac6f(0x1e1)]('Supplier\x20:\x20'+_0x4631cb[_0x59ac6f(0x199)],_0x22d22d+0x17c,_0x210638,{'underline':!![]}),_0x47477d[_0x59ac6f(0x18b)](0x9)['text'](_0x59ac6f(0x19b),_0x22d22d,_0x210638+=0xb),_0x47477d[_0x59ac6f(0x18b)](0x9)[_0x59ac6f(0x1e1)](_0x59ac6f(0x21a)+_0x4631cb[_0x59ac6f(0x1c9)],_0x22d22d+0x3f,_0x210638),_0x47477d[_0x59ac6f(0x18b)](0x9)[_0x59ac6f(0x1e1)](_0x59ac6f(0x1fd),_0x22d22d,_0x210638+=0xb),_0x47477d[_0x59ac6f(0x18b)](0x9)['text']('\x20:\x20'+_0x4631cb[_0x59ac6f(0x201)],_0x22d22d+0x3f,_0x210638);const _0x26fd4e={'headers':[{'label':_0x59ac6f(0x183),'property':_0x59ac6f(0x17e),'width':0x3c,'renderer':null},{'label':_0x59ac6f(0x1a1),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x59ac6f(0x189),'property':_0x59ac6f(0x1ca),'width':0x2d,'renderer':null},{'label':_0x59ac6f(0x23a),'property':_0x59ac6f(0x1c5),'width':0x3c,'renderer':null},{'label':_0x59ac6f(0x215),'property':'expdate','width':0x46,'renderer':null},{'label':_0x59ac6f(0x190),'property':_0x59ac6f(0x18a),'width':0x3c,'renderer':null},{'label':'Bin\x20Location','property':_0x59ac6f(0x1bc),'width':0x3c,'renderer':null},{'label':_0x59ac6f(0x175),'property':_0x59ac6f(0x196),'width':0x3f,'renderer':null}],'datas':[]};var _0x3f1b93=0x0;let _0x394603='';_0x4631cb[_0x59ac6f(0x1eb)]['forEach'](_0x3f98e7=>{const _0x2c179a=_0x59ac6f;let _0x4f31f9='';var _0x1c4ad6=0x0;const _0x3a03fa={'itemcode':_0x3f98e7[_0x2c179a(0x1c1)],'itemdescription':_0x3f98e7[_0x2c179a(0x22e)],'qty':_0x3f98e7['quantity'],'unit':_0x3f98e7['standard_unit'],'expdate':_0x3f98e7[_0x2c179a(0x245)],'batchno':_0x3f98e7[_0x2c179a(0x237)],'binloc':_0x3f98e7[_0x2c179a(0x202)]+_0x3f98e7[_0x2c179a(0x20b)]+_0x3f98e7[_0x2c179a(0x22f)]+_0x3f98e7[_0x2c179a(0x1e2)]+_0x3f98e7[_0x2c179a(0x1c6)][0x0]+_0x3f98e7['floorlevel'],'DelCode':_0x3f98e7['delivery_code']};_0x3f1b93+=_0x3f98e7[_0x2c179a(0x1c2)],_0x26fd4e[_0x2c179a(0x1d3)][_0x2c179a(0x1be)](_0x3a03fa);}),_0x47477d[_0x59ac6f(0x1df)](_0x26fd4e,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x47477d[_0x59ac6f(0x18c)](_0x59ac6f(0x1dd))[_0x59ac6f(0x18b)](0x8),'prepareRow':(_0xfb9a62,_0x5ad3f5,_0x112962,_0x65fb1)=>_0x47477d['font'](_0x59ac6f(0x1ee))['fontSize'](0x8)});var _0x341d7e=_0x47477d['y'],_0x8d2677=_0x47477d['x'];_0x47477d[_0x59ac6f(0x18b)](0xa)[_0x59ac6f(0x1e1)](_0x59ac6f(0x1b9),_0x8d2677+0x7d,_0x341d7e),_0x47477d['fontSize'](0xa)['text']('TOTAL\x20QTY:\x20',_0x8d2677,_0x341d7e+=0x15e),_0x47477d['fontSize'](0xa)[_0x59ac6f(0x1e1)](_0x3f1b93,_0x8d2677+0xf0,_0x341d7e,{'underline':!![]}),_0x47477d[_0x59ac6f(0x18b)](0xa)[_0x59ac6f(0x1e1)](_0x59ac6f(0x1ab),_0x8d2677,_0x341d7e+0x28),_0x47477d['fontSize'](0xa)[_0x59ac6f(0x1e1)](_0x59ac6f(0x218),_0x8d2677+0x40,_0x341d7e+0x28,{'underline':!![]}),_0x47477d[_0x59ac6f(0x18b)](0xa)['text']('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x8d2677+0x40,_0x341d7e+0x32);let _0x26f6b1=_0x47477d[_0x59ac6f(0x241)]();for(let _0x2fcd1f=0x0;_0x2fcd1f<_0x26f6b1[_0x59ac6f(0x24a)];_0x2fcd1f++){_0x47477d[_0x59ac6f(0x1bf)](_0x2fcd1f);let _0x3024f9=_0x47477d[_0x59ac6f(0x20d)]['margins']['bottom'];_0x47477d[_0x59ac6f(0x20d)][_0x59ac6f(0x1b1)]['bottom']=0x0,_0x47477d[_0x59ac6f(0x1e1)](_0x59ac6f(0x18e)+(_0x2fcd1f+0x1)+_0x59ac6f(0x1a4)+_0x26f6b1[_0x59ac6f(0x24a)],0x0,_0x47477d[_0x59ac6f(0x20d)][_0x59ac6f(0x1f2)]-_0x3024f9/0x2,{'align':'center'}),_0x47477d['page'][_0x59ac6f(0x1b1)][_0x59ac6f(0x24b)]=_0x3024f9;}const _0x7c75c0=_0x47477d['y'],_0x3dc075=_0x47477d['x'];_0x47477d[_0x59ac6f(0x243)]();}catch(_0x3bfbe2){console['log'](_0x3bfbe2),_0x204c70['status'](0x1f4)[_0x59ac6f(0x1ec)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get']('/PDF_Sales/:id',auth,async(_0x3c537b,_0x39caf4)=>{const _0x504cee=a0_0x3425a0;try{const {username:_0x3e0feb,email:_0x16215b,role:_0x4455b4}=_0x3c537b[_0x504cee(0x1bb)],_0x5c15e1=_0x3c537b[_0x504cee(0x1bb)],_0x5c001a=await profile[_0x504cee(0x213)]({'email':_0x5c15e1[_0x504cee(0x1fb)]}),_0x59b81a=await master_shop[_0x504cee(0x1f9)](),_0x2b5682=_0x3c537b[_0x504cee(0x21c)]['id'],_0x536fac=await sales[_0x504cee(0x1f4)](_0x2b5682),_0x329093=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x583cd7;_0x583cd7=_0x504cee(0x1a6);_0x536fac[_0x504cee(0x180)]==_0x504cee(0x192)&&(_0x583cd7=_0x504cee(0x21e));_0x39caf4[_0x504cee(0x20e)](_0x504cee(0x247),'inline;\x20filename=\x22OUT-'+_0x2b5682+_0x504cee(0x217)),_0x39caf4['setHeader'](_0x504cee(0x20c),_0x504cee(0x1b6));var _0x66def0=0x14,_0x5f8f47=0x64;_0x329093[_0x504cee(0x1ce)](_0x39caf4),_0x329093['image'](_0x504cee(0x226)+_0x59b81a[0x0][_0x504cee(0x1d6)],0x14,0x0,{'fit':[0x64,0x64]}),_0x329093['fontSize'](0x14)[_0x504cee(0x1e1)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x66def0,_0x5f8f47),_0x329093['fontSize'](0xa)[_0x504cee(0x1e1)](_0x504cee(0x1b3),_0x66def0,_0x5f8f47+=0xf),_0x329093[_0x504cee(0x18b)](0xf)[_0x504cee(0x1e1)](_0x583cd7,_0x66def0,_0x5f8f47+=0x32),_0x329093[_0x504cee(0x18b)](0xa)['text'](_0x504cee(0x1e7),_0x66def0,_0x5f8f47+=0x14),_0x329093[_0x504cee(0x18b)](0x9)['text']('Date\x20',_0x66def0,_0x5f8f47+=0x19),_0x329093[_0x504cee(0x18b)](0x9)[_0x504cee(0x1e1)](_0x504cee(0x21a)+_0x536fac['date'],_0x66def0+0x3f,_0x5f8f47),_0x329093[_0x504cee(0x18b)](0x9)['text']('REF\x20MRIS#\x20',_0x66def0,_0x5f8f47+=0xb),_0x329093[_0x504cee(0x18b)](0x9)[_0x504cee(0x1e1)]('\x20:\x20'+_0x536fac['invoice'],_0x66def0+0x3f,_0x5f8f47);const _0x1f0ab2={'headers':[{'label':_0x504cee(0x1d4),'property':_0x504cee(0x17e),'align':_0x504cee(0x176),'width':0x2d,'renderer':null},{'label':_0x504cee(0x238),'property':'itemdescription','align':_0x504cee(0x176),'width':0x64,'renderer':null},{'label':_0x504cee(0x1ff),'property':'rqty','align':_0x504cee(0x176),'width':0x28,'renderer':null},{'label':_0x504cee(0x1cf),'property':_0x504cee(0x203),'align':_0x504cee(0x176),'width':0x28,'renderer':null},{'label':_0x504cee(0x23a),'property':_0x504cee(0x1c5),'align':'center','width':0x28,'renderer':null},{'label':_0x504cee(0x1e6),'property':'blocation','align':'center','width':0x32,'renderer':null},{'label':_0x504cee(0x205),'property':_0x504cee(0x1a3),'align':_0x504cee(0x176),'width':0x3c,'renderer':null},{'label':'EXPIRATION\x20DATE','property':_0x504cee(0x248),'align':'center','width':0x3c,'renderer':null},{'label':_0x504cee(0x1da),'property':_0x504cee(0x24e),'align':'center','width':0x3f,'renderer':null},{'label':_0x504cee(0x220),'property':_0x504cee(0x1e5),'align':'center','width':0x3f,'renderer':null}],'datas':[]};var _0x57c079=0x0;let _0x527f67='';var _0x511e41=0x0,_0x66def0=0x1;_0x536fac[_0x504cee(0x234)][_0x504cee(0x19d)](_0x388d14=>{const _0x15b008=_0x504cee,_0xa1b907=new Date(_0x388d14[_0x15b008(0x1b0)]),_0x2dcc06={'year':_0x15b008(0x193),'month':_0x15b008(0x21d),'day':_0x15b008(0x193)},_0xf11e66=_0xa1b907[_0x15b008(0x1cb)](_0x15b008(0x200),_0x2dcc06),_0x1e9038=new Date(_0x388d14[_0x15b008(0x245)]),_0x3cdfcb={'year':_0x15b008(0x193),'month':_0x15b008(0x21d),'day':_0x15b008(0x193)},_0x407a65=_0x1e9038[_0x15b008(0x1cb)](_0x15b008(0x200),_0x3cdfcb),_0x2c745c=new Date(_0x388d14['delivery_date']),_0x5ebccc={'year':_0x15b008(0x193),'month':'short','day':_0x15b008(0x193)};var _0x9e3fae=_0x2c745c[_0x15b008(0x1cb)]('en-US',_0x5ebccc);typeof _0x388d14[_0x15b008(0x1ed)]==_0x15b008(0x1e0)&&(_0x9e3fae='');const _0x41bc0d={'itemcode':_0x388d14[_0x15b008(0x1c1)],'itemdescription':_0x388d14[_0x15b008(0x22e)],'rqty':_0x388d14[_0x15b008(0x225)],'iqty':_0x388d14[_0x15b008(0x1c2)],'unit':_0x388d14[_0x15b008(0x1c5)],'blocation':_0x388d14[_0x15b008(0x202)]+_0x388d14[_0x15b008(0x20b)]+_0x388d14[_0x15b008(0x22f)]+_0x388d14[_0x15b008(0x1e2)]+_0x388d14[_0x15b008(0x1c6)][0x0]+_0x388d14[_0x15b008(0x1ac)],'proddate':_0xf11e66,'expdate':_0x407a65,'del_date':_0x9e3fae,'del_code':_0x388d14['delivery_code']};_0x66def0++,_0x1f0ab2[_0x15b008(0x1d3)][_0x15b008(0x1be)](_0x41bc0d);}),_0x329093['table'](_0x1f0ab2,{'x':_0x66def0+0x11,'y':_0x5f8f47+=0x1e,'prepareHeader':()=>_0x329093[_0x504cee(0x18c)](_0x504cee(0x1dd))[_0x504cee(0x18b)](6.5),'prepareRow':(_0x1d69a2,_0x564c5e,_0x56d4fe,_0x41a9ee,_0x47468f)=>{const _0x28adff=_0x504cee,{x:_0x249be1,y:_0x18c303,width:_0x3e452e,height:_0x5a4908}=_0x47468f;_0x329093[_0x28adff(0x18c)](_0x28adff(0x1ee))['fontSize'](0x8),_0x329093[_0x28adff(0x233)](0.5)[_0x28adff(0x1ad)](_0x249be1,_0x18c303)[_0x28adff(0x1f5)](_0x249be1,_0x18c303+_0x5a4908)['stroke']();}});var _0x1d3c7e=_0x329093['y'],_0x1ed9bb=_0x329093['x'],_0xb8eb3d=_0x1d3c7e-=0x8;_0x329093[_0x504cee(0x233)](0x5),_0x329093['lineCap'](_0x504cee(0x20a))[_0x504cee(0x1ad)](0x240,_0xb8eb3d)['lineTo'](0x11,_0xb8eb3d)[_0x504cee(0x182)](),_0x329093[_0x504cee(0x18b)](0xa)[_0x504cee(0x1e1)](_0x504cee(0x1b9),_0x1ed9bb+0x7d,_0x1d3c7e+=0xf),_0x329093[_0x504cee(0x18b)](0xb)[_0x504cee(0x1e1)](_0x504cee(0x1aa),_0x1ed9bb,_0x1d3c7e+=0x15e),_0x329093['fontSize'](0xa)[_0x504cee(0x1e1)](_0x504cee(0x227),_0x1ed9bb+0x52,_0x1d3c7e,{'underline':!![]}),_0x329093[_0x504cee(0x18b)](0xa)[_0x504cee(0x1e1)](_0x504cee(0x1c4),_0x1ed9bb,_0x1d3c7e+=0x19),_0x329093[_0x504cee(0x18b)](0xa)['text'](_0x504cee(0x21a),_0x1ed9bb+0x4b,_0x1d3c7e),_0x329093['fontSize'](0xa)[_0x504cee(0x1e1)]('\x20'[_0x504cee(0x1ef)](0x3c),_0x1ed9bb+0x50,_0x1d3c7e,{'underline':!![]}),_0x329093[_0x504cee(0x18b)](0xa)[_0x504cee(0x1e1)](_0x504cee(0x1ae),_0x1ed9bb,_0x1d3c7e+=0x32),_0x329093[_0x504cee(0x18b)](0xa)[_0x504cee(0x1e1)]('\x20:\x20',_0x1ed9bb+0x4b,_0x1d3c7e),_0x329093[_0x504cee(0x18b)](0xa)['text']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1ed9bb+0x50,_0x1d3c7e,{'underline':!![]}),_0x329093[_0x504cee(0x18b)](0xa)[_0x504cee(0x1e1)](_0x504cee(0x209),_0x1ed9bb+0x50,_0x1d3c7e+0xc);let _0x434755=_0x329093[_0x504cee(0x241)]();for(let _0xffe721=0x0;_0xffe721<_0x434755[_0x504cee(0x24a)];_0xffe721++){_0x329093[_0x504cee(0x1bf)](_0xffe721);let _0x1cf6e1=_0x329093[_0x504cee(0x20d)][_0x504cee(0x1b1)][_0x504cee(0x24b)];_0x329093['page'][_0x504cee(0x1b1)][_0x504cee(0x24b)]=0x0,_0x329093[_0x504cee(0x1e1)]('Page:\x20'+(_0xffe721+0x1)+_0x504cee(0x1a4)+_0x434755['count'],0x0,_0x329093[_0x504cee(0x20d)]['height']-_0x1cf6e1/0x2,{'align':_0x504cee(0x176)}),_0x329093[_0x504cee(0x20d)][_0x504cee(0x1b1)][_0x504cee(0x24b)]=_0x1cf6e1;}const _0x5ca9d0=_0x329093['y'],_0x1835ae=_0x329093['x'];_0x329093['end']();}catch(_0x16852e){console[_0x504cee(0x18d)](_0x16852e),_0x39caf4[_0x504cee(0x179)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get'](a0_0x3425a0(0x177),auth,async(_0x33f707,_0x41f2fc)=>{const _0x3617ad=a0_0x3425a0;try{const {username:_0xfe7f94,email:_0x1d73ed,role:_0x3bfef2}=_0x33f707[_0x3617ad(0x1bb)],_0x4d9c86=_0x33f707[_0x3617ad(0x1bb)],_0x14c562=await profile[_0x3617ad(0x213)]({'email':_0x4d9c86[_0x3617ad(0x1fb)]}),_0x5beb1d=await master_shop[_0x3617ad(0x1f9)](),_0x43aa47=_0x33f707[_0x3617ad(0x21c)]['id'],_0x2f7a46=await adjustment[_0x3617ad(0x1f4)](_0x43aa47);var _0x35e7e8,_0x907acc;_0x35e7e8=_0x3617ad(0x1a6),_0x907acc='(INVENTORY\x20ADJUSTMENT)';_0x2f7a46[_0x3617ad(0x180)]==_0x3617ad(0x192)&&(_0x35e7e8='INVENTORY\x20ADJUSTMENT',_0x907acc='');const _0x5c6f9c=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x41f2fc[_0x3617ad(0x20e)](_0x3617ad(0x247),_0x3617ad(0x1e4)+_0x43aa47+_0x3617ad(0x217)),_0x41f2fc[_0x3617ad(0x20e)]('Content-type',_0x3617ad(0x1b6));var _0xe8fa9f=0x14,_0x3495e4=0x3c;_0x5c6f9c[_0x3617ad(0x1ce)](_0x41f2fc),_0x5c6f9c[_0x3617ad(0x1d6)](_0x3617ad(0x226)+_0x5beb1d[0x0][_0x3617ad(0x1d6)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5c6f9c['fontSize'](0x14)['text'](_0x3617ad(0x239),_0xe8fa9f,_0x3495e4),_0x5c6f9c[_0x3617ad(0x18b)](0xa)[_0x3617ad(0x1e1)](_0x3617ad(0x1b3),_0xe8fa9f,_0x3495e4+=0xf),_0x5c6f9c[_0x3617ad(0x18b)](0xf)[_0x3617ad(0x1e1)](_0x35e7e8,_0xe8fa9f,_0x3495e4+=0x32),_0x5c6f9c[_0x3617ad(0x18b)](0xa)['text'](_0x907acc,_0xe8fa9f,_0x3495e4+=0x14),_0x5c6f9c[_0x3617ad(0x18b)](0x9)[_0x3617ad(0x1e1)]('Warehouse\x20',_0xe8fa9f,_0x3495e4+=0x28),_0x5c6f9c[_0x3617ad(0x18b)](0x9)[_0x3617ad(0x1e1)]('\x20:\x20'+_0x2f7a46[_0x3617ad(0x1d0)],_0xe8fa9f+0x3f,_0x3495e4),_0x5c6f9c[_0x3617ad(0x18b)](0x9)[_0x3617ad(0x1e1)](_0x3617ad(0x19b),_0xe8fa9f,_0x3495e4+=0xb),_0x5c6f9c['fontSize'](0x9)[_0x3617ad(0x1e1)](_0x3617ad(0x21a)+_0x2f7a46[_0x3617ad(0x1c9)],_0xe8fa9f+0x3f,_0x3495e4),_0x5c6f9c['fontSize'](0x9)[_0x3617ad(0x1e1)]('Control\x20Number\x20',_0xe8fa9f,_0x3495e4+=0xb),_0x5c6f9c['fontSize'](0x9)[_0x3617ad(0x1e1)](_0x3617ad(0x21a)+_0x2f7a46['invoice'],_0xe8fa9f+0x3f,_0x3495e4);const _0x8c0804={'headers':[{'label':'Item\x20Code','property':_0x3617ad(0x17e),'width':0x3c,'renderer':null},{'label':_0x3617ad(0x1a1),'property':_0x3617ad(0x1d5),'width':0x96,'renderer':null},{'label':_0x3617ad(0x210),'property':_0x3617ad(0x1ca),'width':0x3c,'renderer':null},{'label':_0x3617ad(0x23a),'property':'unit','width':0x3c,'renderer':null},{'label':_0x3617ad(0x1d8),'property':_0x3617ad(0x1a3),'width':0x50,'renderer':null},{'label':_0x3617ad(0x190),'property':_0x3617ad(0x18a),'width':0x3f,'renderer':null},{'label':_0x3617ad(0x1d7),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x453652=0x0,_0x20997a=0x0;_0x2f7a46[_0x3617ad(0x1eb)]['forEach'](_0x52d578=>{const _0x2a8d91=_0x3617ad;let _0x53ac1e='';const _0x3244fe=_0x52d578[_0x2a8d91(0x235)];for(let _0x3bcad6=0x1;_0x3bcad6<=_0x3244fe;_0x3bcad6++){_0x3244fe==_0x3bcad6?_0x53ac1e+=_0x52d578[_0x2a8d91(0x229)]:_0x53ac1e+=_0x52d578[_0x2a8d91(0x229)]+',',_0x20997a+=_0x52d578[_0x2a8d91(0x229)];}_0x53ac1e+='\x20/\x20'+_0x52d578['secondary_unit'];const _0x3d6f71={'itemcode':_0x52d578[_0x2a8d91(0x1c1)],'itemdescription':_0x52d578['product_name'],'qty':_0x52d578[_0x2a8d91(0x222)],'unit':_0x52d578[_0x2a8d91(0x1c5)],'proddate':_0x52d578['production_date'],'batchno':_0x52d578[_0x2a8d91(0x237)],'binloc':_0x52d578['storage']+_0x52d578['rack']+_0x52d578[_0x2a8d91(0x22f)]+_0x52d578['bin']+_0x52d578[_0x2a8d91(0x1c6)][0x0]+_0x52d578[_0x2a8d91(0x1ac)]};_0x453652+=_0x52d578[_0x2a8d91(0x222)],_0x8c0804[_0x2a8d91(0x1d3)][_0x2a8d91(0x1be)](_0x3d6f71);}),_0x5c6f9c['table'](_0x8c0804,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x5c6f9c[_0x3617ad(0x18c)]('Helvetica-Bold')[_0x3617ad(0x18b)](0x8),'prepareRow':(_0xcd8bd8,_0x3fb1e0,_0x25c426,_0x5a3381)=>_0x5c6f9c[_0x3617ad(0x18c)](_0x3617ad(0x1ee))[_0x3617ad(0x18b)](0x8)});var _0xdfcf88=_0x5c6f9c['y'],_0x41f27b=_0x5c6f9c['x'];_0x5c6f9c[_0x3617ad(0x18b)](0xa)[_0x3617ad(0x1e1)](_0x3617ad(0x1b9),_0x41f27b+0x7d,_0xdfcf88),_0x5c6f9c[_0x3617ad(0x18b)](0xa)[_0x3617ad(0x1e1)](_0x3617ad(0x1de),_0x41f27b,_0xdfcf88+=0x136),_0x5c6f9c['fontSize'](0xa)['text'](_0x453652,_0x41f27b+0xc8,_0xdfcf88),_0x5c6f9c['fontSize'](0xa)[_0x3617ad(0x1e1)](_0x3617ad(0x18f),_0x41f27b,_0xdfcf88+=0x19),_0x5c6f9c[_0x3617ad(0x18b)](0xa)[_0x3617ad(0x1e1)]('\x20'[_0x3617ad(0x1ef)](0x3c),_0x41f27b+0x3e,_0xdfcf88,{'underline':!![]}),_0x5c6f9c[_0x3617ad(0x18b)](0xa)[_0x3617ad(0x1e1)]('Checked\x20By\x20',_0x41f27b,_0xdfcf88+=0x32),_0x5c6f9c[_0x3617ad(0x18b)](0xa)[_0x3617ad(0x1e1)]('\x20:\x20',_0x41f27b+0x37,_0xdfcf88),_0x5c6f9c[_0x3617ad(0x18b)](0xa)['text']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x41f27b+0x3c,_0xdfcf88,{'underline':!![]}),_0x5c6f9c[_0x3617ad(0x18b)](0xa)[_0x3617ad(0x1e1)](_0x3617ad(0x209),_0x41f27b+0x3c,_0xdfcf88+0xc);let _0x4905dd=_0x5c6f9c[_0x3617ad(0x241)]();for(let _0x1bdb56=0x0;_0x1bdb56<_0x4905dd['count'];_0x1bdb56++){_0x5c6f9c['switchToPage'](_0x1bdb56);let _0xc1f266=_0x5c6f9c[_0x3617ad(0x20d)][_0x3617ad(0x1b1)][_0x3617ad(0x24b)];_0x5c6f9c[_0x3617ad(0x20d)][_0x3617ad(0x1b1)]['bottom']=0x0,_0x5c6f9c[_0x3617ad(0x1e1)](_0x3617ad(0x18e)+(_0x1bdb56+0x1)+_0x3617ad(0x1a4)+_0x4905dd['count'],0x0,_0x5c6f9c[_0x3617ad(0x20d)]['height']-_0xc1f266/0x2,{'align':_0x3617ad(0x176)}),_0x5c6f9c['page']['margins'][_0x3617ad(0x24b)]=_0xc1f266;}const _0x4d0786=_0x5c6f9c['y'],_0xd7bda9=_0x5c6f9c['x'];_0x5c6f9c[_0x3617ad(0x243)]();}catch(_0x1eaec2){console[_0x3617ad(0x18d)](_0x1eaec2),_0x41f2fc[_0x3617ad(0x179)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get'](a0_0x3425a0(0x19a),auth,async(_0x27bdd6,_0x39916d)=>{const _0x14b36e=a0_0x3425a0;try{const {username:_0x395f22,email:_0x4cec82,role:_0x5564bc}=_0x27bdd6[_0x14b36e(0x1bb)],_0x5e8207=_0x27bdd6['user'],_0x48e092=await profile[_0x14b36e(0x213)]({'email':_0x5e8207['email']}),_0x146f78=await master_shop[_0x14b36e(0x1f9)](),_0x7a8427=_0x27bdd6['params']['id'],_0x27fa62=await transfers[_0x14b36e(0x1f4)](_0x7a8427);var _0x49714b,_0x2ed98b;_0x49714b='Picking\x20List',_0x2ed98b=_0x14b36e(0x185);_0x27fa62[_0x14b36e(0x180)]==_0x14b36e(0x192)&&(_0x49714b='STOCKS\x20TRANSFER',_0x2ed98b='');const _0x12df52=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x39916d[_0x14b36e(0x20e)]('Content-disposition',_0x14b36e(0x1e4)+_0x7a8427+_0x14b36e(0x217)),_0x39916d['setHeader']('Content-type','application/pdf');var _0xda1b93=0x14,_0x456407=0x3c;_0x12df52[_0x14b36e(0x1ce)](_0x39916d),_0x12df52[_0x14b36e(0x1d6)]('./public/upload/'+_0x146f78[0x0][_0x14b36e(0x1d6)],0x14,0x0,{'fit':[0x64,0x64]}),_0x12df52[_0x14b36e(0x18b)](0x14)['text'](_0x14b36e(0x239),_0xda1b93,_0x456407),_0x12df52[_0x14b36e(0x18b)](0xa)[_0x14b36e(0x1e1)](_0x14b36e(0x1b3),_0xda1b93,_0x456407+=0xf),_0x12df52[_0x14b36e(0x18b)](0xf)[_0x14b36e(0x1e1)](_0x49714b,_0xda1b93,_0x456407+=0x32),_0x12df52['fontSize'](0xa)[_0x14b36e(0x1e1)](_0x2ed98b,_0xda1b93,_0x456407+=0x14),_0x12df52[_0x14b36e(0x18b)](0x9)['text'](_0x14b36e(0x224),_0xda1b93,_0x456407+=0x28),_0x12df52['fontSize'](0x9)[_0x14b36e(0x1e1)](_0x14b36e(0x1a0)+_0x27fa62[_0x14b36e(0x1c8)],_0xda1b93+0x3f,_0x456407),_0x12df52['fontSize'](0x9)[_0x14b36e(0x1e1)](_0x14b36e(0x194),_0xda1b93,_0x456407+=0xa),_0x12df52['fontSize'](0x9)['text']('\x20\x20\x20:\x20'+_0x27fa62[_0x14b36e(0x197)],_0xda1b93+0x3f,_0x456407),_0x12df52[_0x14b36e(0x18b)](0x9)[_0x14b36e(0x1e1)](_0x14b36e(0x19b),_0xda1b93,_0x456407+=0xb),_0x12df52[_0x14b36e(0x18b)](0x9)['text'](_0x14b36e(0x1a0)+_0x27fa62['date'],_0xda1b93+0x3f,_0x456407),_0x12df52[_0x14b36e(0x18b)](0x9)['text']('Control\x20Number\x20',_0xda1b93,_0x456407+=0xb),_0x12df52['fontSize'](0x9)[_0x14b36e(0x1e1)](_0x14b36e(0x1a0)+_0x27fa62[_0x14b36e(0x201)],_0xda1b93+0x3f,_0x456407);const _0xfa0f79={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x14b36e(0x1a8),'property':_0x14b36e(0x17e),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x14b36e(0x208),'property':_0x14b36e(0x1d5),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x12df52[_0x14b36e(0x1df)](_0xfa0f79,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x12df52[_0x14b36e(0x18c)](_0x14b36e(0x1dd))['fontSize'](0x8),'prepareRow':(_0x197c7c,_0x2ec088,_0x29e6b0,_0x1ee3e2)=>_0x12df52[_0x14b36e(0x18c)](_0x14b36e(0x1ee))[_0x14b36e(0x18b)](0x8)});const _0x571b12={'headers':[{'label':_0x14b36e(0x183),'property':_0x14b36e(0x17e),'width':0x3c,'renderer':null},{'label':_0x14b36e(0x1a1),'property':_0x14b36e(0x1d5),'width':0x96,'renderer':null},{'label':_0x14b36e(0x210),'property':'qty','width':0x28,'renderer':null},{'label':_0x14b36e(0x23a),'property':_0x14b36e(0x1c5),'width':0x37,'renderer':null},{'label':_0x14b36e(0x1d8),'property':_0x14b36e(0x1a3),'width':0x4b,'renderer':null},{'label':_0x14b36e(0x190),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x14b36e(0x1d7),'property':_0x14b36e(0x22d),'width':0x3f,'renderer':null},{'label':_0x14b36e(0x1d7),'property':_0x14b36e(0x1bc),'width':0x3f,'renderer':null}],'datas':[]};var _0x1049c7=0x0;let _0x10c728='';var _0x3ceb59=0x0;_0x27fa62[_0x14b36e(0x1eb)][_0x14b36e(0x19d)](_0x505a96=>{const _0x38a989=_0x14b36e;var _0x2d2928=_0x505a96[_0x38a989(0x214)],_0x31c631;_0x31c631=_0x505a96['unit'];_0x2d2928=='S'&&(_0x31c631=_0x505a96[_0x38a989(0x1fc)]);const _0x35d767={'itemcode':_0x505a96[_0x38a989(0x1c1)],'itemdescription':_0x505a96[_0x38a989(0x22e)],'qty':_0x505a96['to_quantity'],'unit':_0x31c631,'proddate':_0x505a96[_0x38a989(0x1b0)],'batchno':_0x505a96[_0x38a989(0x237)],'binloc':_0x505a96[_0x38a989(0x202)]+_0x505a96[_0x38a989(0x20b)]+_0x505a96[_0x38a989(0x23c)]+_0x505a96['to_bin']+_0x505a96[_0x38a989(0x1cd)][0x0]+_0x505a96[_0x38a989(0x17a)],'qtyFrom':_0x505a96['from_quantity'],'binlocFrom':_0x505a96['from_storage']+_0x505a96[_0x38a989(0x240)]+_0x505a96[_0x38a989(0x249)]+_0x505a96[_0x38a989(0x1d1)]+_0x505a96['from_types'][0x0]+_0x505a96[_0x38a989(0x24c)]};_0x1049c7+=_0x505a96['to_quantity'],_0x571b12[_0x38a989(0x1d3)][_0x38a989(0x1be)](_0x35d767);}),_0x12df52[_0x14b36e(0x1df)](_0x571b12,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x12df52[_0x14b36e(0x18c)](_0x14b36e(0x1dd))[_0x14b36e(0x18b)](0x8),'prepareRow':(_0x5514ac,_0x851cda,_0x33ec0e,_0x278e98)=>_0x12df52['font'](_0x14b36e(0x1ee))[_0x14b36e(0x18b)](0x8)});var _0x58db34=_0x12df52['y'],_0x1a85bc=_0x12df52['x'];_0x12df52[_0x14b36e(0x18b)](0xa)[_0x14b36e(0x1e1)](_0x14b36e(0x1b9),_0x1a85bc+0x7d,_0x58db34),_0x12df52[_0x14b36e(0x18b)](0xa)[_0x14b36e(0x1e1)](_0x14b36e(0x1e8),_0x1a85bc,_0x58db34+=0x12c),_0x12df52['fontSize'](0xa)[_0x14b36e(0x1e1)](_0x1049c7,_0x1a85bc+0xd7,_0x58db34,{'underline':!![]}),_0x12df52['fontSize'](0xa)[_0x14b36e(0x1e1)](_0x14b36e(0x24f),_0x1a85bc,_0x58db34+=0x32),_0x12df52[_0x14b36e(0x18b)](0xa)[_0x14b36e(0x1e1)](_0x14b36e(0x20f),_0x1a85bc+0x3c,_0x58db34,{'underline':!![]}),_0x12df52[_0x14b36e(0x18b)](0xa)[_0x14b36e(0x1e1)](_0x14b36e(0x209),_0x1a85bc+0x3c,_0x58db34+0xc);let _0x2950ba=_0x12df52[_0x14b36e(0x241)]();for(let _0x728439=0x0;_0x728439<_0x2950ba['count'];_0x728439++){_0x12df52[_0x14b36e(0x1bf)](_0x728439);let _0x2096a3=_0x12df52[_0x14b36e(0x20d)][_0x14b36e(0x1b1)][_0x14b36e(0x24b)];_0x12df52[_0x14b36e(0x20d)][_0x14b36e(0x1b1)][_0x14b36e(0x24b)]=0x0,_0x12df52[_0x14b36e(0x1e1)](_0x14b36e(0x18e)+(_0x728439+0x1)+_0x14b36e(0x1a4)+_0x2950ba[_0x14b36e(0x24a)],0x0,_0x12df52[_0x14b36e(0x20d)][_0x14b36e(0x1f2)]-_0x2096a3/0x2,{'align':'center'}),_0x12df52[_0x14b36e(0x20d)]['margins']['bottom']=_0x2096a3;}const _0x2b85f8=_0x12df52['y'],_0xf9f798=_0x12df52['x'];_0x12df52[_0x14b36e(0x243)]();}catch(_0x38adf6){console['log'](_0x38adf6),_0x39916d['status'](0x1f4)['send'](_0x14b36e(0x1e3));}}),router[a0_0x3425a0(0x216)](a0_0x3425a0(0x228),auth,async(_0x445967,_0x356dda)=>{const _0x50aa04=a0_0x3425a0;try{const _0x274e4e=_0x47d467=>_0x47d467*0x48,_0x26a3b6={'width':0x3,'height':0x1},_0x206a6a=await product[_0x50aa04(0x1f9)](),_0x14416e=new PDFDocument({'margin':_0x274e4e(0.75),'size':[_0x274e4e(_0x26a3b6[_0x50aa04(0x206)]),_0x274e4e(_0x26a3b6[_0x50aa04(0x1f2)])],'bufferPages':!![]}),_0x25e72c=_0x206a6a[_0x50aa04(0x24d)];for(let _0x39bb17=0x0;_0x39bb17<=_0x25e72c;_0x39bb17++){if(_0x39bb17!=_0x206a6a[_0x50aa04(0x24d)]){const _0xfb47d8=_0x206a6a[_0x39bb17][_0x50aa04(0x17d)],_0x1fc75f=_0x206a6a[_0x39bb17][_0x50aa04(0x21b)],_0x388542=_0x206a6a[_0x39bb17][_0x50aa04(0x236)],_0x395718=_0x206a6a[_0x39bb17][_0x50aa04(0x1c1)],_0xb067a3=new Canvas();JsBarcode(_0xb067a3,_0x1fc75f,{'format':_0x50aa04(0x1d9),'height':0x32,'displayValue':!![],'text':_0x1fc75f}),_0x14416e['image'](_0xb067a3[_0x50aa04(0x181)](),0x0,0x0,{'width':0xd2}),_0x14416e[_0x50aa04(0x1b4)]();}}_0x14416e['pipe'](_0x356dda),_0x14416e['end']();}catch(_0x3b95ac){console[_0x50aa04(0x184)](_0x50aa04(0x207),_0x3b95ac),_0x356dda[_0x50aa04(0x179)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),module['exports']=router;function a0_0x436e(_0x5cbb28,_0x3a5fe3){const _0x4df838=a0_0x4df8();return a0_0x436e=function(_0x436edd,_0x43a75c){_0x436edd=_0x436edd-0x175;let _0x4d5cba=_0x4df838[_0x436edd];return _0x4d5cba;},a0_0x436e(_0x5cbb28,_0x3a5fe3);}function a0_0x4df8(){const _0x397d83=['/PDF/:id','forEach','1299332QukhrU','35674TzHeaU','\x20\x20\x20:\x20','Item\x20Description','/pdf_puchases_fin/:id','proddate','\x20of\x20','Router','PICKING\x20LIST','\x20\x20TO','\x20\x20\x20\x20\x20FROM','\x20\x20FROM','PREPARED\x20BY\x20:\x20','Checked\x20By\x20\x20\x20:\x20','floorlevel','moveTo','Noted\x20By\x20','ToWarehouse','production_date','margins','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','addPage','(INCOMING)','application/pdf','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Checked\x20By\x20','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','2452835qWHgse','user','binloc','Warehouse\x20','push','switchToPage','pdfkit-table','product_code','quantity','DRY\x20GOODS','Picked\x20By','unit','type','\x20<>\x20','from_warehouse','date','qty','toLocaleDateString','../models/all_models','to_types','pipe','QUANTITY\x20ISSUED','warehouse_name','from_bin','express','datas','ITEM\x20CODE','itemdescription','image','Bin\x20Location','Production\x20Date','CODE128','DELIVERY\x20DATE','21iykMUZ','STOCKS\x20TRANSFER','Helvetica-Bold','TOTAL\x20QTY\x20:\x20','table','undefined','text','bin','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','inline;\x20filename=\x22OUT-','del_code','LOCATION','(OUTGOING)','TOTAL\x20QTY:\x20','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','\x20/\x20','product','send','delivery_date','Helvetica','repeat','from_quantity','FROZEN\x20GOODS','height','exceljs','findById','lineTo','Picking\x20List','xlsx','974309oWhuNY','find','Finished\x20Good\x20Warehouse\x20Supervisor','email','secondary_unit','Control\x20Number\x20','/pdf_puchases/:id','REQUESTED\x20QUANTITY','en-US','invoice','storage','iqty','express/lib/response','PRODUCTION\x20DATE','width','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','\x20\x20\x20\x20\x20TO','Raw\x20Materials\x20Warehouse\x20Supervisor','butt','rack','Content-type','page','setHeader','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Quantity','/pdf_sales_return_fin/:id','Picked\x20By\x20\x20\x20:\x20','findOne','prod_cat','Expiration\x20Date','get','.pdf\x22','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','../middleware/auth','\x20:\x20','primary_code','params','short','DELIVERY\x20RECEIPT','\x20y:\x20','DELIVERY\x20CODE','return_qty','new_adjust_qty','customer','From\x20Warehouse\x20','requested_qty','./public/upload/','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/barcode_generator/','maxperunit','ARMAN\x20CRUZ','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','12887440UGQwHj','binlocFrom','product_name','bay','Warehouse\x20:\x20','canvas','multer','lineWidth','sale_product','to_quantity','secondary_code','batch_code','MATERIAL\x20DESCRIPTION','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','UOM','Check\x20By:\x20','to_bay','return_sale_QA','../public/language/languages.json','2392386zTTZyb','from_rack','bufferedPageRange','Check\x20By\x20\x20\x20\x20:\x20','end','standard_unit','expiry_date','38245EGwVXp','Content-disposition','expdate','from_bay','count','bottom','from_floorlevel','length','del_date','Checked\x20By:\x20','Delivery\x20Code','center','/PDF_adjustment_rm/:id','Customer\x20:\x20','status','to_floorlevel','x:\x20','maxPerUnit','name','itemcode','(RETURN)','finalize','toBuffer','stroke','Item\x20Code','error','(STOCKS\x20TRANSFER)','Control\x20Number\x20:\x20','Date\x20:\x20','/PDF_transfer/:id','QTY','batchno','fontSize','font','log','Page:\x20','Picked\x20By\x20\x20\x20\x20\x20:\x20','Batch\x20No','blob-stream','True','numeric','To\x20Warehouse\x20','\x20row:\x20','DelCode','to_warehouse','INVENTORY\x20ADJUSTMENT','suppliers','/PDF_transfer_rm/:id','Date\x20'];a0_0x4df8=function(){return _0x397d83;};return a0_0x4df8();}