const a0_0x195ee7=a0_0x1937;(function(_0x35197d,_0x23ba9f){const _0x108f9e=a0_0x1937,_0x2c045d=_0x35197d();while(!![]){try{const _0x38ffa1=parseInt(_0x108f9e(0x173))/0x1+-parseInt(_0x108f9e(0xf8))/0x2+parseInt(_0x108f9e(0x111))/0x3+-parseInt(_0x108f9e(0x1bf))/0x4*(parseInt(_0x108f9e(0x140))/0x5)+parseInt(_0x108f9e(0x169))/0x6+-parseInt(_0x108f9e(0x13e))/0x7+-parseInt(_0x108f9e(0x1b4))/0x8;if(_0x38ffa1===_0x23ba9f)break;else _0x2c045d['push'](_0x2c045d['shift']());}catch(_0x4a9b59){_0x2c045d['push'](_0x2c045d['shift']());}}}(a0_0x535b,0xbfaf1));function a0_0x1937(_0x285c9b,_0x3d7e54){const _0x535b4f=a0_0x535b();return a0_0x1937=function(_0x1937d0,_0x2d2ff5){_0x1937d0=_0x1937d0-0xf7;let _0x46fb8c=_0x535b4f[_0x1937d0];return _0x46fb8c;},a0_0x1937(_0x285c9b,_0x3d7e54);}function a0_0x535b(){const _0x2af387=['ARMAN\x20CRUZ','forEach','ITEM\x20CODE','multer','DELIVERY\x20RECEIPT','Picked\x20By\x20\x20\x20:\x20','push','(OUTGOING)','To\x20Warehouse\x20','\x20\x20\x20\x20\x20TO','binloc','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','get','params','4541772JTIlJB','del_code','iqty','from_bin','text','UOM','warehouse_name','date','./public/upload/','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','Quantity','/pdf_puchases_fin/:id','\x20of\x20','Picked\x20By\x20\x20\x20\x20:\x20','short','finalize','Helvetica','log','delivery_code','\x20<>\x20','bay','from_storage','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','DELIVERY\x20CODE','primary_code','product_code','bin','maxPerUnit','inline;\x20filename=\x22','Checked\x20By\x20','error','production_date','new_adjust_qty','PICKING\x20LIST','proddate','switchToPage','EXPIRATION\x20DATE','xlsx','margins','moveTo','Date\x20:\x20','TOTAL\x20QTY\x20:\x20','FTGS\x20Number\x20:\x20','Finished\x20Good\x20Warehouse\x20Supervisor','FROZEN\x20GOODS','4207644AYWkBE','(STOCKS\x20TRANSFER)','5ngzxdS','addPage','DRY\x20GOODS','return_qty','maxperunit','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','delivery_date','/PDF/:id','itemdescription','warehouse_cat','/PDF_adjustment_rm/:id','invoice','end','image','from_types','find','numeric','lineCap','type','../models/all_models','to_bin','standard_unit','inline;\x20filename=\x22OUT-','from_quantity','expiry_date','qty','expdate','email','express/lib/response','\x20row:\x20','pipe','product_name','INVENTORY\x20ADJUSTMENT','stroke','prod_cat','LOCATION','\x20\x20\x20\x20\x20FROM','repeat','\x20y:\x20','quantity','to_quantity','8407080fEOfym','unit','Expiration\x20Date','height','Content-type','Raw\x20Materials\x20Warehouse\x20Supervisor','customer','batch_code','From\x20Warehouse\x20','Helvetica-Bold','449728nXrHRe','/pdf_puchases/:id','Date\x20','rack','Control\x20Number\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','datas','center','DELIVERY\x20DATE','REQUESTED\x20QUANTITY','lineTo','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','Customer\x20:\x20','from_warehouse','binlocFrom','pdfkit-table','send','REF\x20MRIS#\x20','status','CODE128','page','True','Content-disposition','undefined','Router','itemcode','return_sale','length','requested_qty','/PDF_transfer/:id','width','fontSize','Page:\x20','return_sale_QA','Warehouse\x20','Item\x20Code','to_warehouse','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','Bin\x20Location','Picking\x20List','\x20\x20\x20:\x20','findById','../middleware/auth','bufferedPageRange','count','Check\x20By:\x20','(INVENTORY\x20ADJUSTMENT)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','del_date','user','secondary_unit','floorlevel','Checked\x20By:\x20','STOCKS\x20TRANSFER','Batch\x20No','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleDateString','bottom','to_bay','.pdf\x22','TOTAL\x20QTY:\x20','\x20:\x20','product','QTY','sale_product','2312424CnYsDq','QUANTITY\x20ISSUED','from_floorlevel','setHeader','butt','Production\x20Date','Picked\x20By','font','suppliers','application/pdf','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','5177036WYaIRu','Checked\x20By\x20\x20\x20:\x20','table','canvas','secondary_code','(INCOMING)','Item\x20Description','790582GomAAu','batchno','lineWidth','findOne','blob-stream','ToWarehouse','storage','Noted\x20By\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','from_bay','/PDF_transfer_rm/:id'];a0_0x535b=function(){return _0x2af387;};return a0_0x535b();}const express=require('express'),res=require(a0_0x195ee7(0x15c)),app=express(),router=express[a0_0x195ee7(0x18b)](),multer=require(a0_0x195ee7(0x106)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x195ee7(0x153)),auth=require(a0_0x195ee7(0x19d)),users=require('../public/language/languages.json'),excelJS=require('exceljs'),xlsx=require(a0_0x195ee7(0x136)),PDFDocument=require(a0_0x195ee7(0x182)),fs=require('fs'),blobStream=require(a0_0x195ee7(0xfc)),JsBarcode=require('jsbarcode'),{Canvas}=require(a0_0x195ee7(0x1c2));router[a0_0x195ee7(0x10f)](a0_0x195ee7(0x147),auth,async(_0x319a55,_0x3a5b49)=>{const _0x43655f=a0_0x195ee7;try{const {username:_0x204918,email:_0x616277,role:_0x11c8f7}=_0x319a55[_0x43655f(0x1a4)],_0x4af7f4=_0x319a55[_0x43655f(0x1a4)],_0x538ba5=await profile[_0x43655f(0xfb)]({'email':_0x4af7f4['email']}),_0x5a666b=await master_shop[_0x43655f(0x14f)](),_0x150c2b=_0x319a55[_0x43655f(0x110)]['id'],_0x22a0d8=await sales_finished['findById'](_0x150c2b);var _0x5db6a0;_0x5db6a0=_0x43655f(0x132);_0x22a0d8[_0x43655f(0x120)]==_0x43655f(0x188)&&(_0x5db6a0=_0x43655f(0x107));const _0x3c0005=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3a5b49[_0x43655f(0x1b7)](_0x43655f(0x189),_0x43655f(0x12d)+_0x22a0d8['invoice']+_0x43655f(0x1ae)),_0x3a5b49[_0x43655f(0x1b7)]('Content-type',_0x43655f(0x1bd));var _0x383949=0x14,_0x45df8d=0x3c;_0x3c0005['pipe'](_0x3a5b49),_0x3c0005[_0x43655f(0x14d)]('./public/upload/'+_0x5a666b[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x3c0005[_0x43655f(0x192)](0x14)[_0x43655f(0x115)](_0x43655f(0x11a),_0x383949,_0x45df8d),_0x3c0005['fontSize'](0xa)[_0x43655f(0x115)](_0x43655f(0x145),_0x383949,_0x45df8d+=0xf),_0x3c0005['fontSize'](0xf)['text'](_0x5db6a0,_0x383949,_0x45df8d+=0x32),_0x3c0005['fontSize'](0xa)[_0x43655f(0x115)](_0x43655f(0x10a),_0x383949,_0x45df8d+=0x14),_0x3c0005[_0x43655f(0x192)](0x9)['text']('Warehouse\x20',_0x383949,_0x45df8d+=0x28),_0x3c0005[_0x43655f(0x192)](0x9)[_0x43655f(0x115)](_0x43655f(0x1b0)+_0x22a0d8[_0x43655f(0x117)],_0x383949+0x3f,_0x45df8d),_0x3c0005[_0x43655f(0x192)](0x9)[_0x43655f(0x115)]('Customer\x20:\x20'+_0x22a0d8[_0x43655f(0x16f)],_0x383949+0x17c,_0x45df8d,{'underline':!![]}),_0x3c0005[_0x43655f(0x192)](0x9)[_0x43655f(0x115)](_0x43655f(0x175),_0x383949,_0x45df8d+=0xb),_0x3c0005[_0x43655f(0x192)](0x9)['text'](_0x43655f(0x1b0)+_0x22a0d8['date'],_0x383949+0x3f,_0x45df8d),_0x3c0005[_0x43655f(0x192)](0x9)['text'](_0x43655f(0x177),_0x383949,_0x45df8d+=0xb),_0x3c0005[_0x43655f(0x192)](0x9)[_0x43655f(0x115)](_0x43655f(0x1b0)+_0x22a0d8[_0x43655f(0x14b)],_0x383949+0x3f,_0x45df8d);const _0x5d0903={'headers':[{'label':_0x43655f(0x196),'property':_0x43655f(0x18c),'width':0x3c,'renderer':null},{'label':_0x43655f(0xf7),'property':_0x43655f(0x148),'width':0xa5,'renderer':null},{'label':_0x43655f(0x11b),'property':_0x43655f(0x159),'width':0x3c,'renderer':null},{'label':_0x43655f(0x116),'property':_0x43655f(0x16a),'width':0x3c,'renderer':null},{'label':_0x43655f(0x1b9),'property':_0x43655f(0x133),'width':0x50,'renderer':null},{'label':_0x43655f(0x1a9),'property':_0x43655f(0xf9),'width':0x3f,'renderer':null},{'label':_0x43655f(0x199),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x3a4406=0x0;let _0x2d327a='';var _0x1beaef=0x0;_0x22a0d8[_0x43655f(0x117)]=='DRY\x20GOODS'?_0x2d327a='DG':_0x2d327a='FG';var _0x3a623b=0x0;_0x22a0d8[_0x43655f(0x1b3)][_0x43655f(0x104)](_0x49e9f1=>{const _0x2da3fc=_0x43655f;console['log'](_0x49e9f1);let _0x2ccaff='';const _0x4f58c9=_0x49e9f1[_0x2da3fc(0x167)];for(let _0x169039=0x1;_0x169039<=_0x4f58c9;_0x169039++){_0x4f58c9==_0x169039?_0x2ccaff+=_0x49e9f1[_0x2da3fc(0x144)]:_0x2ccaff+=_0x49e9f1[_0x2da3fc(0x144)]+',',_0x1beaef+=_0x49e9f1[_0x2da3fc(0x144)];}_0x2ccaff+='\x20/\x20'+_0x49e9f1['secondary_unit'];const _0x2a72ca={'itemcode':_0x49e9f1[_0x2da3fc(0x12a)],'itemdescription':_0x49e9f1[_0x2da3fc(0x15f)],'qty':_0x49e9f1['quantity'],'unit':_0x49e9f1[_0x2da3fc(0x16a)],'proddate':_0x49e9f1[_0x2da3fc(0x130)],'batchno':_0x49e9f1[_0x2da3fc(0x170)],'binloc':_0x2d327a+_0x49e9f1[_0x2da3fc(0x125)]};_0x3a4406+=_0x49e9f1[_0x2da3fc(0x167)],_0x3a623b+=0x1,_0x5d0903[_0x2da3fc(0x179)][_0x2da3fc(0x109)](_0x2a72ca);}),_0x3c0005[_0x43655f(0x1c1)](_0x5d0903,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x3c0005['font'](_0x43655f(0x172))[_0x43655f(0x192)](0x8),'prepareRow':(_0x366357,_0x533290,_0x16a906,_0x2bfcde)=>_0x3c0005['font']('Helvetica')[_0x43655f(0x192)](0x8)});var _0x819b40=_0x3c0005['y'],_0x4b54a4=_0x3c0005['x'];_0x3c0005[_0x43655f(0x192)](0xa)[_0x43655f(0x115)](_0x43655f(0x198),_0x4b54a4+0x7d,_0x819b40),console[_0x43655f(0x122)]('x:\x20'+_0x4b54a4+_0x43655f(0x166)+_0x819b40+_0x43655f(0x15d)+_0x3a623b);const _0x213569=_0x4b54a4*_0x3a623b;_0x3c0005[_0x43655f(0x192)](0xa)[_0x43655f(0x115)](_0x43655f(0x1af),_0x4b54a4,_0x819b40+=0x15e-_0x213569),_0x3c0005[_0x43655f(0x192)](0xa)['text'](_0x3a4406,_0x4b54a4+0xdc,_0x819b40,{'underline':!![]}),_0x3c0005[_0x43655f(0x192)](0xa)[_0x43655f(0x115)](_0x43655f(0x108),_0x4b54a4,_0x819b40+=0x19),_0x3c0005[_0x43655f(0x192)](0xa)[_0x43655f(0x115)]('\x20'[_0x43655f(0x165)](0x3c),_0x4b54a4+0x3e,_0x819b40,{'underline':!![]}),_0x3c0005[_0x43655f(0x192)](0xa)['text'](_0x43655f(0x1a7),_0x4b54a4,_0x819b40+=0x32),_0x3c0005[_0x43655f(0x192)](0xa)[_0x43655f(0x115)](_0x43655f(0x178),_0x4b54a4+0x3c,_0x819b40,{'underline':!![]}),_0x3c0005['fontSize'](0xa)[_0x43655f(0x115)](_0x43655f(0x13c),_0x4b54a4+0x3c,_0x819b40+0xc);let _0x3e25ba=_0x3c0005['bufferedPageRange']();for(let _0x443869=0x0;_0x443869<_0x3e25ba[_0x43655f(0x19f)];_0x443869++){_0x3c0005['switchToPage'](_0x443869);let _0x5761cf=_0x3c0005[_0x43655f(0x187)][_0x43655f(0x137)]['bottom'];_0x3c0005['page'][_0x43655f(0x137)][_0x43655f(0x1ac)]=0x0,_0x3c0005[_0x43655f(0x115)](_0x43655f(0x193)+(_0x443869+0x1)+'\x20of\x20'+_0x3e25ba[_0x43655f(0x19f)],0x0,_0x3c0005['page']['height']-_0x5761cf/0x2,{'align':_0x43655f(0x17a)}),_0x3c0005[_0x43655f(0x187)][_0x43655f(0x137)][_0x43655f(0x1ac)]=_0x5761cf;}const _0x332c09=_0x3c0005['y'],_0x3b1abc=_0x3c0005['x'];_0x3c0005['end']();}catch(_0x23acf4){console[_0x43655f(0x122)](_0x23acf4),_0x3a5b49['status'](0x1f4)[_0x43655f(0x183)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x195ee7(0x10f)](a0_0x195ee7(0x190),auth,async(_0x48132e,_0x13509f)=>{const _0x184198=a0_0x195ee7;try{const {username:_0x144df7,email:_0x27b77a,role:_0x52ab7c}=_0x48132e[_0x184198(0x1a4)],_0x5c46ae=_0x48132e[_0x184198(0x1a4)],_0x5d09b5=await profile[_0x184198(0xfb)]({'email':_0x5c46ae[_0x184198(0x15b)]}),_0x2c9ab3=await master_shop[_0x184198(0x14f)](),_0x1d9f32=_0x48132e[_0x184198(0x110)]['id'],_0x4dce47=await transfers_finished['findById'](_0x1d9f32);var _0x2f13ef,_0x1c0456;_0x2f13ef=_0x184198(0x19a),_0x1c0456=_0x184198(0x13f);_0x4dce47['finalize']==_0x184198(0x188)&&(_0x2f13ef=_0x184198(0x1a8),_0x1c0456='');const _0x268740=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x13509f[_0x184198(0x1b7)](_0x184198(0x189),_0x184198(0x156)+_0x1d9f32+_0x184198(0x1ae)),_0x13509f[_0x184198(0x1b7)]('Content-type',_0x184198(0x1bd));var _0x17316c=0x14,_0x322f6c=0x3c;_0x268740['pipe'](_0x13509f),_0x268740[_0x184198(0x14d)](_0x184198(0x119)+_0x2c9ab3[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x268740[_0x184198(0x192)](0x14)[_0x184198(0x115)](_0x184198(0x11a),_0x17316c,_0x322f6c),_0x268740[_0x184198(0x192)](0xa)[_0x184198(0x115)](_0x184198(0x145),_0x17316c,_0x322f6c+=0xf),_0x268740[_0x184198(0x192)](0xf)[_0x184198(0x115)](_0x2f13ef,_0x17316c,_0x322f6c+=0x32),_0x268740[_0x184198(0x192)](0xa)[_0x184198(0x115)](_0x1c0456,_0x17316c,_0x322f6c+=0x14),_0x268740[_0x184198(0x192)](0x9)[_0x184198(0x115)]('From\x20Warehouse\x20',_0x17316c,_0x322f6c+=0x28),_0x268740[_0x184198(0x192)](0x9)['text'](_0x184198(0x19b)+_0x4dce47['from_warehouse'],_0x17316c+0x3f,_0x322f6c),_0x268740[_0x184198(0x192)](0x9)[_0x184198(0x115)](_0x184198(0x10b),_0x17316c,_0x322f6c+=0xf),_0x268740[_0x184198(0x192)](0x9)[_0x184198(0x115)]('\x20\x20\x20:\x20'+_0x4dce47[_0x184198(0x197)],_0x17316c+0x3f,_0x322f6c),_0x268740['fontSize'](0x9)[_0x184198(0x115)](_0x184198(0x175),_0x17316c,_0x322f6c+=0xb),_0x268740[_0x184198(0x192)](0x9)['text']('\x20\x20\x20:\x20'+_0x4dce47['date'],_0x17316c+0x3f,_0x322f6c),_0x268740[_0x184198(0x192)](0x9)['text'](_0x184198(0x177),_0x17316c,_0x322f6c+=0xb),_0x268740[_0x184198(0x192)](0x9)['text']('\x20\x20\x20:\x20'+_0x4dce47[_0x184198(0x14b)],_0x17316c+0x3f,_0x322f6c);const _0x3bed36={'headers':[{'label':'','property':_0x184198(0x18c),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':'\x20\x20FROM','property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':'\x20\x20TO','property':_0x184198(0x148),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x268740[_0x184198(0x1c1)](_0x3bed36,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x268740[_0x184198(0x1bb)](_0x184198(0x172))[_0x184198(0x192)](0x8),'prepareRow':(_0x2a0507,_0x1c48f1,_0x55ad1c,_0x31d5ca)=>_0x268740[_0x184198(0x1bb)](_0x184198(0x121))[_0x184198(0x192)](0x8)});const _0x471212={'headers':[{'label':_0x184198(0x196),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x184198(0xf7),'property':_0x184198(0x148),'width':0x96,'renderer':null},{'label':_0x184198(0x11b),'property':_0x184198(0x159),'width':0x28,'renderer':null},{'label':_0x184198(0x116),'property':_0x184198(0x16a),'width':0x37,'renderer':null},{'label':'Production\x20Date','property':_0x184198(0x133),'width':0x4b,'renderer':null},{'label':_0x184198(0x1a9),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x184198(0x199),'property':_0x184198(0x181),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x184198(0x10d),'width':0x3f,'renderer':null}],'datas':[]};var _0x2bb21b=0x0;let _0x376e2c='';var _0x3612ea=0x0;if(_0x4dce47['from_warehouse']==_0x184198(0x142))_0x376e2c='DG';else _0x4dce47[_0x184198(0x180)]==_0x184198(0x13d)&&(_0x376e2c='FG');_0x4dce47[_0x184198(0x1b1)][_0x184198(0x104)](_0x2066e2=>{const _0x2858f0=_0x184198;var _0x55cf33=_0x2066e2['prod_cat'],_0x45625c,_0x113000;_0x45625c=_0x2066e2[_0x2858f0(0x16a)],_0x113000=_0x2066e2['to_quantity'];_0x55cf33=='S'&&(_0x45625c=_0x2066e2['secondary_unit'],_0x113000=_0x2066e2[_0x2858f0(0x168)]*_0x2066e2[_0x2858f0(0x12c)]);const _0x47863c={'itemcode':_0x2066e2['product_code'],'itemdescription':_0x2066e2[_0x2858f0(0x15f)],'qty':_0x113000,'unit':_0x45625c,'proddate':_0x2066e2[_0x2858f0(0x130)],'batchno':_0x2066e2['batch_code'],'binloc':_0x376e2c+_0x2066e2[_0x2858f0(0x1ad)],'qtyFrom':_0x2066e2[_0x2858f0(0x157)],'binlocFrom':_0x376e2c+_0x2066e2['from_bay']};_0x2bb21b+=_0x113000,_0x471212['datas'][_0x2858f0(0x109)](_0x47863c);}),_0x268740['table'](_0x471212,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x268740[_0x184198(0x1bb)](_0x184198(0x172))['fontSize'](0x8),'prepareRow':(_0x44d63d,_0x38c534,_0x511c54,_0x48e679)=>_0x268740['font'](_0x184198(0x121))[_0x184198(0x192)](0x8)});var _0x2ad95f=_0x268740['y'],_0x178fa8=_0x268740['x'];_0x268740[_0x184198(0x192)](0xa)[_0x184198(0x115)](_0x184198(0x198),_0x178fa8+0x7d,_0x2ad95f),_0x268740[_0x184198(0x192)](0xa)[_0x184198(0x115)](_0x184198(0x1af),_0x178fa8,_0x2ad95f+=0x15e),_0x268740[_0x184198(0x192)](0xa)[_0x184198(0x115)](_0x2bb21b,_0x178fa8+0xd7,_0x2ad95f,{'underline':!![]}),_0x268740[_0x184198(0x192)](0xa)[_0x184198(0x115)](_0x184198(0x108),_0x178fa8,_0x2ad95f+=0x19),_0x268740[_0x184198(0x192)](0xa)['text']('\x20'[_0x184198(0x165)](0x3c),_0x178fa8+0x3e,_0x2ad95f,{'underline':!![]}),_0x268740[_0x184198(0x192)](0xa)[_0x184198(0x115)](_0x184198(0x1a7),_0x178fa8,_0x2ad95f+=0x32),_0x268740[_0x184198(0x192)](0xa)['text'](_0x184198(0x178),_0x178fa8+0x3c,_0x2ad95f,{'underline':!![]}),_0x268740[_0x184198(0x192)](0xa)['text'](_0x184198(0x13c),_0x178fa8+0x3c,_0x2ad95f+0xc);let _0x3b3fc6=_0x268740['bufferedPageRange']();for(let _0x239da7=0x0;_0x239da7<_0x3b3fc6[_0x184198(0x19f)];_0x239da7++){_0x268740[_0x184198(0x134)](_0x239da7);let _0x1c990c=_0x268740[_0x184198(0x187)][_0x184198(0x137)][_0x184198(0x1ac)];_0x268740[_0x184198(0x187)]['margins'][_0x184198(0x1ac)]=0x0,_0x268740[_0x184198(0x115)](_0x184198(0x193)+(_0x239da7+0x1)+'\x20of\x20'+_0x3b3fc6[_0x184198(0x19f)],0x0,_0x268740[_0x184198(0x187)][_0x184198(0x16c)]-_0x1c990c/0x2,{'align':_0x184198(0x17a)}),_0x268740['page'][_0x184198(0x137)][_0x184198(0x1ac)]=_0x1c990c;}const _0x3c9c13=_0x268740['y'],_0x45c1e2=_0x268740['x'];_0x268740[_0x184198(0x14c)]();}catch(_0x477ee5){console[_0x184198(0x122)](_0x477ee5),_0x13509f[_0x184198(0x185)](0x1f4)[_0x184198(0x183)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get']('/PDF_adjustment/:id',auth,async(_0x16fe92,_0x13587f)=>{const _0x42eb5f=a0_0x195ee7;try{const {username:_0x246e5c,email:_0x4117e8,role:_0xbb1fac}=_0x16fe92[_0x42eb5f(0x1a4)],_0x50209a=_0x16fe92[_0x42eb5f(0x1a4)],_0x140fb6=await profile[_0x42eb5f(0xfb)]({'email':_0x50209a['email']}),_0x13d13a=await master_shop[_0x42eb5f(0x14f)](),_0x16a686=_0x16fe92['params']['id'],_0x33a0f8=await adjustment_finished[_0x42eb5f(0x19c)](_0x16a686);var _0x29eda0,_0x1f83c3;_0x29eda0=_0x42eb5f(0x132),_0x1f83c3=_0x42eb5f(0x1a1);_0x33a0f8[_0x42eb5f(0x120)]=='True'&&(_0x29eda0=_0x42eb5f(0x160),_0x1f83c3='');const _0x2a4b21=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x13587f[_0x42eb5f(0x1b7)](_0x42eb5f(0x189),_0x42eb5f(0x156)+_0x16a686+_0x42eb5f(0x1ae)),_0x13587f[_0x42eb5f(0x1b7)]('Content-type',_0x42eb5f(0x1bd));var _0x484990=0x14,_0x1860c1=0x3c;_0x2a4b21[_0x42eb5f(0x15e)](_0x13587f),_0x2a4b21[_0x42eb5f(0x14d)](_0x42eb5f(0x119)+_0x13d13a[0x0][_0x42eb5f(0x14d)],0x14,0x0,{'fit':[0x64,0x64]}),_0x2a4b21[_0x42eb5f(0x192)](0x14)['text'](_0x42eb5f(0x11a),_0x484990,_0x1860c1),_0x2a4b21[_0x42eb5f(0x192)](0xa)[_0x42eb5f(0x115)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x484990,_0x1860c1+=0xf),_0x2a4b21[_0x42eb5f(0x192)](0xf)[_0x42eb5f(0x115)](_0x29eda0,_0x484990,_0x1860c1+=0x32),_0x2a4b21[_0x42eb5f(0x192)](0xa)[_0x42eb5f(0x115)](_0x1f83c3,_0x484990,_0x1860c1+=0x14),_0x2a4b21[_0x42eb5f(0x192)](0x9)[_0x42eb5f(0x115)](_0x42eb5f(0x195),_0x484990,_0x1860c1+=0x28),_0x2a4b21[_0x42eb5f(0x192)](0x9)[_0x42eb5f(0x115)]('\x20:\x20'+_0x33a0f8[_0x42eb5f(0x117)],_0x484990+0x3f,_0x1860c1),_0x2a4b21[_0x42eb5f(0x192)](0x9)[_0x42eb5f(0x115)](_0x42eb5f(0x175),_0x484990,_0x1860c1+=0xb),_0x2a4b21['fontSize'](0x9)[_0x42eb5f(0x115)](_0x42eb5f(0x1b0)+_0x33a0f8[_0x42eb5f(0x118)],_0x484990+0x3f,_0x1860c1),_0x2a4b21['fontSize'](0x9)[_0x42eb5f(0x115)](_0x42eb5f(0x177),_0x484990,_0x1860c1+=0xb),_0x2a4b21[_0x42eb5f(0x192)](0x9)['text'](_0x42eb5f(0x1b0)+_0x33a0f8[_0x42eb5f(0x14b)],_0x484990+0x3f,_0x1860c1);const _0x42e261={'headers':[{'label':'Item\x20Code','property':'itemcode','width':0x3c,'renderer':null},{'label':_0x42eb5f(0xf7),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x42eb5f(0x11b),'property':'qty','width':0x3c,'renderer':null},{'label':_0x42eb5f(0x116),'property':_0x42eb5f(0x16a),'width':0x3c,'renderer':null},{'label':_0x42eb5f(0x1b9),'property':_0x42eb5f(0x133),'width':0x50,'renderer':null},{'label':_0x42eb5f(0x1a9),'property':_0x42eb5f(0xf9),'width':0x3f,'renderer':null},{'label':_0x42eb5f(0x199),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x528f2f=0x0;let _0x11ce31='';var _0x27fc3f=0x0;_0x33a0f8[_0x42eb5f(0x117)]==_0x42eb5f(0x142)?_0x11ce31='DG':_0x11ce31='FG';_0x33a0f8['product'][_0x42eb5f(0x104)](_0x10e6a5=>{const _0x31b2e5=_0x42eb5f;console[_0x31b2e5(0x122)](_0x10e6a5);var _0x1f281f=_0x10e6a5[_0x31b2e5(0x162)],_0x115082,_0x6f612d;_0x115082=_0x10e6a5[_0x31b2e5(0x16a)],_0x6f612d=_0x10e6a5['adjust_qty'];_0x1f281f=='S'&&(_0x115082=_0x10e6a5[_0x31b2e5(0x1a5)],_0x6f612d=_0x10e6a5['adjust_qty']*_0x10e6a5[_0x31b2e5(0x12c)]);const _0x55d965={'itemcode':_0x10e6a5[_0x31b2e5(0x12a)],'itemdescription':_0x10e6a5['product_name'],'qty':_0x6f612d,'unit':_0x115082,'proddate':_0x10e6a5['production_date'],'batchno':_0x10e6a5[_0x31b2e5(0x170)],'binloc':_0x11ce31+_0x10e6a5[_0x31b2e5(0x125)]};_0x528f2f+=_0x6f612d,_0x42e261[_0x31b2e5(0x179)]['push'](_0x55d965);}),_0x2a4b21[_0x42eb5f(0x1c1)](_0x42e261,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x2a4b21[_0x42eb5f(0x1bb)](_0x42eb5f(0x172))['fontSize'](0x8),'prepareRow':(_0x452218,_0x4c2ba6,_0x3c69c8,_0x1f6cb7)=>_0x2a4b21['font']('Helvetica')[_0x42eb5f(0x192)](0x8)});var _0x141994=_0x2a4b21['y'],_0x58b5df=_0x2a4b21['x'];_0x2a4b21[_0x42eb5f(0x192)](0xa)[_0x42eb5f(0x115)](_0x42eb5f(0x198),_0x58b5df+0x7d,_0x141994),_0x2a4b21[_0x42eb5f(0x192)](0xa)[_0x42eb5f(0x115)](_0x42eb5f(0x13a),_0x58b5df,_0x141994+=0x15e),_0x2a4b21['fontSize'](0xa)[_0x42eb5f(0x115)](_0x528f2f,_0x58b5df+0xc8,_0x141994),_0x2a4b21[_0x42eb5f(0x192)](0xa)[_0x42eb5f(0x115)](_0x42eb5f(0x108),_0x58b5df,_0x141994+=0x19),_0x2a4b21['fontSize'](0xa)['text']('\x20'[_0x42eb5f(0x165)](0x3c),_0x58b5df+0x3e,_0x141994,{'underline':!![]}),_0x2a4b21[_0x42eb5f(0x192)](0xa)[_0x42eb5f(0x115)](_0x42eb5f(0x12e),_0x58b5df,_0x141994+=0x32),_0x2a4b21[_0x42eb5f(0x192)](0xa)[_0x42eb5f(0x115)]('\x20:\x20',_0x58b5df+0x37,_0x141994),_0x2a4b21[_0x42eb5f(0x192)](0xa)['text'](_0x42eb5f(0x178),_0x58b5df+0x3c,_0x141994,{'underline':!![]}),_0x2a4b21[_0x42eb5f(0x192)](0xa)[_0x42eb5f(0x115)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x58b5df+0x3c,_0x141994+0xc);let _0x4fcce6=_0x2a4b21[_0x42eb5f(0x19e)]();for(let _0x17619a=0x0;_0x17619a<_0x4fcce6['count'];_0x17619a++){_0x2a4b21[_0x42eb5f(0x134)](_0x17619a);let _0x443ad4=_0x2a4b21['page']['margins'][_0x42eb5f(0x1ac)];_0x2a4b21[_0x42eb5f(0x187)]['margins'][_0x42eb5f(0x1ac)]=0x0,_0x2a4b21['text'](_0x42eb5f(0x193)+(_0x17619a+0x1)+_0x42eb5f(0x11d)+_0x4fcce6[_0x42eb5f(0x19f)],0x0,_0x2a4b21['page'][_0x42eb5f(0x16c)]-_0x443ad4/0x2,{'align':_0x42eb5f(0x17a)}),_0x2a4b21[_0x42eb5f(0x187)][_0x42eb5f(0x137)][_0x42eb5f(0x1ac)]=_0x443ad4;}const _0x5b5b9d=_0x2a4b21['y'],_0x46e097=_0x2a4b21['x'];_0x2a4b21[_0x42eb5f(0x14c)]();}catch(_0x382d4e){console[_0x42eb5f(0x122)](_0x382d4e),_0x13587f[_0x42eb5f(0x185)](0x1f4)['send'](_0x42eb5f(0x17e));}}),router[a0_0x195ee7(0x10f)](a0_0x195ee7(0x11c),auth,async(_0x2bd29e,_0x2ac1be)=>{const _0x3ae2b5=a0_0x195ee7;try{const {username:_0x1eacd1,email:_0x814964,role:_0x2b98a8}=_0x2bd29e[_0x3ae2b5(0x1a4)],_0x36aa82=_0x2bd29e['user'],_0x219f9e=await profile['findOne']({'email':_0x36aa82[_0x3ae2b5(0x15b)]}),_0x271340=await master_shop[_0x3ae2b5(0x14f)](),_0x3fd82d=_0x2bd29e['params']['id'],_0x5b8d4d=await purchases_finished[_0x3ae2b5(0x19c)](_0x3fd82d),_0x33e421=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2ac1be['setHeader'](_0x3ae2b5(0x189),_0x3ae2b5(0x156)+_0x3fd82d+_0x3ae2b5(0x1ae)),_0x2ac1be[_0x3ae2b5(0x1b7)](_0x3ae2b5(0x16d),'application/pdf');var _0x4e293d=0x14,_0x1eceb5=0x3c;_0x33e421['pipe'](_0x2ac1be),_0x33e421[_0x3ae2b5(0x14d)](_0x3ae2b5(0x119)+_0x271340[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x33e421[_0x3ae2b5(0x192)](0x14)[_0x3ae2b5(0x115)](_0x3ae2b5(0x11a),_0x4e293d,_0x1eceb5),_0x33e421[_0x3ae2b5(0x192)](0xa)['text'](_0x3ae2b5(0x145),_0x4e293d,_0x1eceb5+=0xf),_0x33e421['fontSize'](0xf)[_0x3ae2b5(0x115)]('FINISHED\x20GOODS\x20TRANSFER\x20SLIP',_0x4e293d,_0x1eceb5+=0x32),_0x33e421[_0x3ae2b5(0x192)](0xa)[_0x3ae2b5(0x115)](_0x3ae2b5(0x1c4),_0x4e293d,_0x1eceb5+=0x14),_0x33e421['fontSize'](0x9)[_0x3ae2b5(0x115)]('Warehouse\x20',_0x4e293d,_0x1eceb5+=0x28),_0x33e421['fontSize'](0x9)['text'](_0x3ae2b5(0x1b0)+_0x5b8d4d[_0x3ae2b5(0x117)],_0x4e293d+0x3f,_0x1eceb5),_0x33e421[_0x3ae2b5(0x192)](0x9)[_0x3ae2b5(0x115)](_0x3ae2b5(0x13b)+_0x5b8d4d['POnumber'],_0x4e293d+0x17c,_0x1eceb5),_0x33e421[_0x3ae2b5(0x192)](0x9)[_0x3ae2b5(0x115)](_0x3ae2b5(0x175),_0x4e293d,_0x1eceb5+=0xb),_0x33e421[_0x3ae2b5(0x192)](0x9)[_0x3ae2b5(0x115)](_0x3ae2b5(0x1b0)+_0x5b8d4d[_0x3ae2b5(0x118)],_0x4e293d+0x3f,_0x1eceb5),_0x33e421[_0x3ae2b5(0x192)](0x9)['text'](_0x3ae2b5(0x177),_0x4e293d,_0x1eceb5+=0xb),_0x33e421[_0x3ae2b5(0x192)](0x9)[_0x3ae2b5(0x115)](_0x3ae2b5(0x1b0)+_0x5b8d4d[_0x3ae2b5(0x14b)],_0x4e293d+0x3f,_0x1eceb5);const _0x3c7086={'headers':[{'label':'Item\x20Code','property':_0x3ae2b5(0x18c),'width':0x3c,'renderer':null},{'label':_0x3ae2b5(0xf7),'property':_0x3ae2b5(0x148),'width':0xc8,'renderer':null},{'label':_0x3ae2b5(0x11b),'property':_0x3ae2b5(0x159),'width':0x3c,'renderer':null},{'label':_0x3ae2b5(0x116),'property':'unit','width':0x3c,'renderer':null},{'label':_0x3ae2b5(0x16b),'property':_0x3ae2b5(0x15a),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x3ae2b5(0xf9),'width':0x3f,'renderer':null},{'label':_0x3ae2b5(0x199),'property':_0x3ae2b5(0x10d),'width':0x3f,'renderer':null}],'datas':[]};var _0x279d90=0x0;let _0x77ba22='';_0x5b8d4d[_0x3ae2b5(0x117)]=='DRY\x20GOODS'?_0x77ba22='DG':_0x77ba22='FG';_0x5b8d4d[_0x3ae2b5(0x1b1)][_0x3ae2b5(0x104)](_0x52f080=>{const _0x4e970b=_0x3ae2b5;let _0x185649='';var _0xbab27a=0x0;const _0x2e2fae={'itemcode':_0x52f080[_0x4e970b(0x12a)],'itemdescription':_0x52f080[_0x4e970b(0x15f)],'qty':_0x52f080['quantity'],'unit':_0x52f080[_0x4e970b(0x155)],'expdate':_0x52f080[_0x4e970b(0x158)],'batchno':_0x52f080['batch_code'],'binloc':_0x77ba22+_0x52f080[_0x4e970b(0x125)]};_0x279d90+=_0x52f080[_0x4e970b(0x167)],_0x3c7086[_0x4e970b(0x179)]['push'](_0x2e2fae);}),_0x33e421[_0x3ae2b5(0x1c1)](_0x3c7086,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x33e421[_0x3ae2b5(0x1bb)](_0x3ae2b5(0x172))[_0x3ae2b5(0x192)](0x8),'prepareRow':(_0x27bfa4,_0x4c6352,_0x2c086b,_0x58b43a)=>_0x33e421[_0x3ae2b5(0x1bb)](_0x3ae2b5(0x121))['fontSize'](0x8)});var _0x2078e2=_0x33e421['y'],_0x2f10a7=_0x33e421['x'];_0x33e421[_0x3ae2b5(0x192)](0xa)['text'](_0x3ae2b5(0x198),_0x2f10a7+0x7d,_0x2078e2),_0x33e421[_0x3ae2b5(0x192)](0xa)[_0x3ae2b5(0x115)](_0x3ae2b5(0x1af),_0x2f10a7,_0x2078e2+=0x15e),_0x33e421['fontSize'](0xa)['text'](_0x279d90,_0x2f10a7+0xfa,_0x2078e2),_0x33e421[_0x3ae2b5(0x192)](0xa)[_0x3ae2b5(0x115)](_0x3ae2b5(0x11e),_0x2f10a7,_0x2078e2+=0x19),_0x33e421[_0x3ae2b5(0x192)](0xa)[_0x3ae2b5(0x115)](_0x3ae2b5(0x100),_0x2f10a7+0x37,_0x2078e2,{'underline':!![]}),_0x33e421[_0x3ae2b5(0x192)](0xa)[_0x3ae2b5(0x115)]('Check\x20By\x20\x20\x20\x20:\x20',_0x2f10a7,_0x2078e2+0x32),_0x33e421[_0x3ae2b5(0x192)](0xa)['text'](_0x3ae2b5(0x178),_0x2f10a7+0x32,_0x2078e2+0x32,{'underline':!![]}),_0x33e421['fontSize'](0xa)[_0x3ae2b5(0x115)](_0x3ae2b5(0x13c),_0x2f10a7+0x32,_0x2078e2+0x3c);let _0x35853a=_0x33e421[_0x3ae2b5(0x19e)]();for(let _0x204a08=0x0;_0x204a08<_0x35853a['count'];_0x204a08++){_0x33e421['switchToPage'](_0x204a08);let _0x3bb105=_0x33e421[_0x3ae2b5(0x187)][_0x3ae2b5(0x137)]['bottom'];_0x33e421[_0x3ae2b5(0x187)]['margins'][_0x3ae2b5(0x1ac)]=0x0,_0x33e421[_0x3ae2b5(0x115)](_0x3ae2b5(0x193)+(_0x204a08+0x1)+_0x3ae2b5(0x11d)+_0x35853a[_0x3ae2b5(0x19f)],0x0,_0x33e421[_0x3ae2b5(0x187)][_0x3ae2b5(0x16c)]-_0x3bb105/0x2,{'align':_0x3ae2b5(0x17a)}),_0x33e421[_0x3ae2b5(0x187)][_0x3ae2b5(0x137)][_0x3ae2b5(0x1ac)]=_0x3bb105;}const _0xa58c70=_0x33e421['y'],_0x5f058c=_0x33e421['x'];_0x33e421[_0x3ae2b5(0x14c)]();}catch(_0x1441b2){console[_0x3ae2b5(0x122)](_0x1441b2),_0x2ac1be[_0x3ae2b5(0x185)](0x1f4)[_0x3ae2b5(0x183)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x195ee7(0x10f)]('/pdf_sales_return_fin/:id',auth,async(_0x51eb4a,_0x47b71b)=>{const _0x49cd51=a0_0x195ee7;try{const {username:_0x51c6e7,email:_0x4ca183,role:_0x29f9d0}=_0x51eb4a[_0x49cd51(0x1a4)],_0x376101=_0x51eb4a['user'],_0xa7123b=await profile['findOne']({'email':_0x376101[_0x49cd51(0x15b)]}),_0x14ce7c=await master_shop[_0x49cd51(0x14f)](),_0x3a3eb9=_0x51eb4a[_0x49cd51(0x110)]['id'],_0x5ca443=await sales_return_finished[_0x49cd51(0x19c)](_0x3a3eb9),_0x30ec5d=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x47b71b['setHeader'](_0x49cd51(0x189),_0x49cd51(0x156)+_0x3a3eb9+_0x49cd51(0x1ae)),_0x47b71b[_0x49cd51(0x1b7)](_0x49cd51(0x16d),_0x49cd51(0x1bd));var _0x4583ab=0x14,_0x438fd6=0x64;_0x30ec5d['pipe'](_0x47b71b),_0x30ec5d[_0x49cd51(0x14d)](_0x49cd51(0x119)+_0x14ce7c[0x0][_0x49cd51(0x14d)],0x14,0x0,{'fit':[0x64,0x64]}),_0x30ec5d[_0x49cd51(0x192)](0x14)['text'](_0x49cd51(0x11a),_0x4583ab,_0x438fd6),_0x30ec5d[_0x49cd51(0x192)](0xa)[_0x49cd51(0x115)](_0x49cd51(0x145),_0x4583ab,_0x438fd6+=0xf),_0x30ec5d[_0x49cd51(0x192)](0xf)['text'](_0x49cd51(0x132),_0x4583ab,_0x438fd6+=0x32),_0x30ec5d[_0x49cd51(0x192)](0xa)[_0x49cd51(0x115)]('(RETURN)',_0x4583ab,_0x438fd6+=0x1e),_0x30ec5d['fontSize'](0x9)[_0x49cd51(0x115)]('Warehouse\x20:\x20'+_0x5ca443[_0x49cd51(0xfd)],_0x4583ab,_0x438fd6+=0x28),_0x30ec5d[_0x49cd51(0x192)](0x9)[_0x49cd51(0x115)](_0x49cd51(0x17f)+_0x5ca443['customer'],0x190,0xd2,{'underline':!![]}),_0x30ec5d[_0x49cd51(0x192)](0x9)[_0x49cd51(0x115)]('Pick\x20By\x20:\x20',_0x4583ab,_0x438fd6+=0xb),_0x30ec5d[_0x49cd51(0x192)](0x9)[_0x49cd51(0x115)](_0x49cd51(0x139)+_0x5ca443[_0x49cd51(0x118)],_0x4583ab,_0x438fd6+=0xb),_0x30ec5d[_0x49cd51(0x192)](0x9)['text']('Control\x20Number\x20:\x20'+_0x5ca443[_0x49cd51(0x14b)],_0x4583ab,_0x438fd6+=0xb);var _0x21041e='',_0x51f1b3='',_0x588289=0x0,_0x224912;console[_0x49cd51(0x122)](_0x5ca443[_0x49cd51(0x149)]);_0x5ca443[_0x49cd51(0x149)]=='GS'?(_0x5ca443[_0x49cd51(0x117)]==_0x49cd51(0x142)?warecode='DG':warecode='FG',_0x21041e={'headers':[{'label':'Item\x20Code','property':'itemcode','width':0x3c,'renderer':null},{'label':_0x49cd51(0xf7),'property':_0x49cd51(0x148),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x49cd51(0x159),'width':0x3c,'renderer':null},{'label':_0x49cd51(0x116),'property':_0x49cd51(0x16a),'width':0x3c,'renderer':null},{'label':_0x49cd51(0x16b),'property':'expdate','width':0x50,'renderer':null},{'label':_0x49cd51(0x1a9),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x49cd51(0x199),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]},_0x5ca443[_0x49cd51(0x18d)]['forEach'](_0x7da682=>{const _0x23e6a7=_0x49cd51;let _0x16829e='';var _0xc6fd81=0x0;_0x51f1b3={'itemcode':_0x7da682[_0x23e6a7(0x12a)],'itemdescription':_0x7da682[_0x23e6a7(0x15f)],'qty':_0x7da682[_0x23e6a7(0x143)],'unit':_0x7da682[_0x23e6a7(0x16a)],'expdate':_0x7da682[_0x23e6a7(0x158)],'batchno':_0x7da682['batch_code'],'binloc':warecode+_0x7da682[_0x23e6a7(0x125)]},_0x588289+=_0x7da682[_0x23e6a7(0x143)],console[_0x23e6a7(0x122)](_0x7da682),_0x21041e[_0x23e6a7(0x179)][_0x23e6a7(0x109)](_0x51f1b3);})):(_0x21041e={'headers':[{'label':_0x49cd51(0x196),'property':_0x49cd51(0x18c),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0xc8,'renderer':null},{'label':'Quantity','property':_0x49cd51(0x159),'width':0x3c,'renderer':null},{'label':_0x49cd51(0x116),'property':_0x49cd51(0x16a),'width':0x3c,'renderer':null},{'label':_0x49cd51(0x16b),'property':_0x49cd51(0x15a),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3f,'renderer':null}],'datas':[]},_0x5ca443[_0x49cd51(0x194)]['forEach'](_0x5e7027=>{const _0x58fc47=_0x49cd51;let _0x14a480='';var _0x5c61e8=0x0;_0x51f1b3={'itemcode':_0x5e7027['product_code'],'itemdescription':_0x5e7027[_0x58fc47(0x15f)],'qty':_0x5e7027['return_qty'],'unit':_0x5e7027[_0x58fc47(0x16a)],'expdate':_0x5e7027['expiry_date'],'batchno':_0x5e7027[_0x58fc47(0x170)]},_0x588289+=_0x5e7027['return_qty'],console[_0x58fc47(0x122)](_0x588289+_0x58fc47(0x124)+_0x5e7027[_0x58fc47(0x143)]),_0x21041e[_0x58fc47(0x179)]['push'](_0x51f1b3);}));_0x30ec5d['table'](_0x21041e,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x30ec5d[_0x49cd51(0x1bb)](_0x49cd51(0x172))[_0x49cd51(0x192)](0x8),'prepareRow':(_0x3bdd0e,_0x5059d3,_0x2e3ba9,_0x427552)=>_0x30ec5d[_0x49cd51(0x1bb)](_0x49cd51(0x121))[_0x49cd51(0x192)](0x8)});var _0x301aa3=_0x30ec5d['y'],_0xc5baea=_0x30ec5d['x'];_0x30ec5d[_0x49cd51(0x192)](0xa)[_0x49cd51(0x115)](_0x49cd51(0x198),_0xc5baea+0x7d,_0x301aa3),_0x30ec5d[_0x49cd51(0x192)](0xa)['text']('TOTAL\x20QTY:\x20',_0xc5baea,_0x301aa3+=0x190),_0x30ec5d[_0x49cd51(0x192)](0xa)[_0x49cd51(0x115)](_0x588289,_0xc5baea+0x37,_0x301aa3,{'underline':!![]}),_0x30ec5d[_0x49cd51(0x192)](0xa)[_0x49cd51(0x115)](_0x49cd51(0x1a0),_0xc5baea,_0x301aa3+0x1e),_0x30ec5d[_0x49cd51(0x192)](0xa)[_0x49cd51(0x115)](_0x49cd51(0x103),_0xc5baea+0x32,_0x301aa3+0x1e,{'underline':!![]});let _0x3e21bb=_0x30ec5d[_0x49cd51(0x19e)]();for(let _0x347727=0x0;_0x347727<_0x3e21bb[_0x49cd51(0x19f)];_0x347727++){_0x30ec5d['switchToPage'](_0x347727);let _0x293de3=_0x30ec5d['page'][_0x49cd51(0x137)][_0x49cd51(0x1ac)];_0x30ec5d['page'][_0x49cd51(0x137)][_0x49cd51(0x1ac)]=0x0,_0x30ec5d[_0x49cd51(0x115)](_0x49cd51(0x193)+(_0x347727+0x1)+_0x49cd51(0x11d)+_0x3e21bb[_0x49cd51(0x19f)],0x0,_0x30ec5d[_0x49cd51(0x187)][_0x49cd51(0x16c)]-_0x293de3/0x2,{'align':_0x49cd51(0x17a)}),_0x30ec5d[_0x49cd51(0x187)]['margins'][_0x49cd51(0x1ac)]=_0x293de3;}const _0x103a28=_0x30ec5d['y'],_0xcdb027=_0x30ec5d['x'];_0x30ec5d[_0x49cd51(0x14c)]();}catch(_0x1a8afa){console['log'](_0x1a8afa),_0x47b71b[_0x49cd51(0x185)](0x1f4)[_0x49cd51(0x183)](_0x49cd51(0x17e));}}),router[a0_0x195ee7(0x10f)](a0_0x195ee7(0x174),auth,async(_0x503698,_0x22881a)=>{const _0x2dd4ea=a0_0x195ee7;try{const {username:_0x104996,email:_0x2c9a9a,role:_0x3a5a71}=_0x503698[_0x2dd4ea(0x1a4)],_0x15a617=_0x503698['user'],_0x57aed7=await profile[_0x2dd4ea(0xfb)]({'email':_0x15a617[_0x2dd4ea(0x15b)]}),_0x4557e0=await master_shop[_0x2dd4ea(0x14f)](),_0x4b13a4=_0x503698[_0x2dd4ea(0x110)]['id'],_0x35cdc9=await purchases[_0x2dd4ea(0x19c)](_0x4b13a4),_0x39a056=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x22881a['setHeader']('Content-disposition','inline;\x20filename=\x22OUT-'+_0x4b13a4+_0x2dd4ea(0x1ae)),_0x22881a[_0x2dd4ea(0x1b7)](_0x2dd4ea(0x16d),_0x2dd4ea(0x1bd));var _0x441f57=0x14,_0x3095f9=0x3c;_0x39a056['pipe'](_0x22881a),_0x39a056['image'](_0x2dd4ea(0x119)+_0x4557e0[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x39a056['fontSize'](0x14)['text'](_0x2dd4ea(0x11a),_0x441f57,_0x3095f9),_0x39a056[_0x2dd4ea(0x192)](0xa)[_0x2dd4ea(0x115)](_0x2dd4ea(0x145),_0x441f57,_0x3095f9+=0xf),_0x39a056['fontSize'](0xf)[_0x2dd4ea(0x115)]('RAW\x20MATERIALS\x20RECEIVING\x20REPORT',_0x441f57,_0x3095f9+=0x32),_0x39a056[_0x2dd4ea(0x192)](0xa)[_0x2dd4ea(0x115)]('(INCOMING)',_0x441f57,_0x3095f9+=0x14),_0x39a056['fontSize'](0x9)[_0x2dd4ea(0x115)](_0x2dd4ea(0x195),_0x441f57,_0x3095f9+=0x2d),_0x39a056[_0x2dd4ea(0x192)](0x9)[_0x2dd4ea(0x115)](_0x2dd4ea(0x1b0)+_0x35cdc9[_0x2dd4ea(0x117)],_0x441f57+0x3f,_0x3095f9),_0x39a056['fontSize'](0x9)['text']('Supplier\x20:\x20'+_0x35cdc9[_0x2dd4ea(0x1bc)],_0x441f57+0x17c,_0x3095f9,{'underline':!![]}),_0x39a056['fontSize'](0x9)['text'](_0x2dd4ea(0x175),_0x441f57,_0x3095f9+=0xb),_0x39a056[_0x2dd4ea(0x192)](0x9)[_0x2dd4ea(0x115)](_0x2dd4ea(0x1b0)+_0x35cdc9['date'],_0x441f57+0x3f,_0x3095f9),_0x39a056[_0x2dd4ea(0x192)](0x9)[_0x2dd4ea(0x115)]('Control\x20Number\x20',_0x441f57,_0x3095f9+=0xb),_0x39a056['fontSize'](0x9)[_0x2dd4ea(0x115)](_0x2dd4ea(0x1b0)+_0x35cdc9[_0x2dd4ea(0x14b)],_0x441f57+0x3f,_0x3095f9);const _0x1a034c={'headers':[{'label':'Item\x20Code','property':_0x2dd4ea(0x18c),'width':0x3c,'renderer':null},{'label':_0x2dd4ea(0xf7),'property':_0x2dd4ea(0x148),'width':0x96,'renderer':null},{'label':_0x2dd4ea(0x1b2),'property':_0x2dd4ea(0x159),'width':0x2d,'renderer':null},{'label':_0x2dd4ea(0x116),'property':_0x2dd4ea(0x16a),'width':0x3c,'renderer':null},{'label':_0x2dd4ea(0x16b),'property':_0x2dd4ea(0x15a),'width':0x46,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3c,'renderer':null},{'label':_0x2dd4ea(0x199),'property':_0x2dd4ea(0x10d),'width':0x3c,'renderer':null},{'label':'Delivery\x20Code','property':'DelCode','width':0x3f,'renderer':null}],'datas':[]};var _0x56b9a4=0x0;let _0x423518='';_0x35cdc9[_0x2dd4ea(0x1b1)][_0x2dd4ea(0x104)](_0x108945=>{const _0x970acb=_0x2dd4ea;let _0x3e6b2b='';var _0x223c8e=0x0;const _0x502f20={'itemcode':_0x108945[_0x970acb(0x12a)],'itemdescription':_0x108945[_0x970acb(0x15f)],'qty':_0x108945[_0x970acb(0x167)],'unit':_0x108945[_0x970acb(0x155)],'expdate':_0x108945['expiry_date'],'batchno':_0x108945[_0x970acb(0x170)],'binloc':_0x108945[_0x970acb(0xfe)]+_0x108945[_0x970acb(0x176)]+_0x108945[_0x970acb(0x125)]+_0x108945[_0x970acb(0x12b)]+_0x108945[_0x970acb(0x152)][0x0]+_0x108945[_0x970acb(0x1a6)],'DelCode':_0x108945[_0x970acb(0x123)]};_0x56b9a4+=_0x108945['quantity'],_0x1a034c[_0x970acb(0x179)][_0x970acb(0x109)](_0x502f20);}),_0x39a056[_0x2dd4ea(0x1c1)](_0x1a034c,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x39a056[_0x2dd4ea(0x1bb)](_0x2dd4ea(0x172))[_0x2dd4ea(0x192)](0x8),'prepareRow':(_0x518197,_0x2da07e,_0x1f8d08,_0x270289)=>_0x39a056[_0x2dd4ea(0x1bb)](_0x2dd4ea(0x121))[_0x2dd4ea(0x192)](0x8)});var _0x32eea8=_0x39a056['y'],_0x2c6ce6=_0x39a056['x'];_0x39a056['fontSize'](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x2c6ce6+0x7d,_0x32eea8),_0x39a056[_0x2dd4ea(0x192)](0xa)[_0x2dd4ea(0x115)](_0x2dd4ea(0x1af),_0x2c6ce6,_0x32eea8+=0x15e),_0x39a056[_0x2dd4ea(0x192)](0xa)[_0x2dd4ea(0x115)](_0x56b9a4,_0x2c6ce6+0xf0,_0x32eea8,{'underline':!![]}),_0x39a056[_0x2dd4ea(0x192)](0xa)[_0x2dd4ea(0x115)](_0x2dd4ea(0x1c0),_0x2c6ce6,_0x32eea8+0x28),_0x39a056['fontSize'](0xa)[_0x2dd4ea(0x115)](_0x2dd4ea(0x127),_0x2c6ce6+0x40,_0x32eea8+0x28,{'underline':!![]}),_0x39a056[_0x2dd4ea(0x192)](0xa)['text']('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x2c6ce6+0x40,_0x32eea8+0x32);let _0x3e7427=_0x39a056[_0x2dd4ea(0x19e)]();for(let _0x528af7=0x0;_0x528af7<_0x3e7427[_0x2dd4ea(0x19f)];_0x528af7++){_0x39a056[_0x2dd4ea(0x134)](_0x528af7);let _0x2b4cbe=_0x39a056[_0x2dd4ea(0x187)][_0x2dd4ea(0x137)]['bottom'];_0x39a056[_0x2dd4ea(0x187)][_0x2dd4ea(0x137)]['bottom']=0x0,_0x39a056[_0x2dd4ea(0x115)]('Page:\x20'+(_0x528af7+0x1)+_0x2dd4ea(0x11d)+_0x3e7427['count'],0x0,_0x39a056[_0x2dd4ea(0x187)][_0x2dd4ea(0x16c)]-_0x2b4cbe/0x2,{'align':_0x2dd4ea(0x17a)}),_0x39a056['page'][_0x2dd4ea(0x137)][_0x2dd4ea(0x1ac)]=_0x2b4cbe;}const _0x4b6ded=_0x39a056['y'],_0x296a50=_0x39a056['x'];_0x39a056['end']();}catch(_0x325eee){console[_0x2dd4ea(0x122)](_0x325eee),_0x22881a[_0x2dd4ea(0x185)](0x1f4)[_0x2dd4ea(0x183)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x195ee7(0x10f)]('/PDF_Sales/:id',auth,async(_0x43e61a,_0x2874d6)=>{const _0x3e1173=a0_0x195ee7;try{const {username:_0x476e99,email:_0x4e7362,role:_0x45ea74}=_0x43e61a[_0x3e1173(0x1a4)],_0x19bce4=_0x43e61a['user'],_0x2f87de=await profile['findOne']({'email':_0x19bce4[_0x3e1173(0x15b)]}),_0x36969e=await master_shop['find'](),_0x4bcde7=_0x43e61a['params']['id'],_0x3a64a0=await sales['findById'](_0x4bcde7),_0x342d65=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x112f62;_0x112f62=_0x3e1173(0x132);_0x3a64a0['finalize']==_0x3e1173(0x188)&&(_0x112f62=_0x3e1173(0x107));_0x2874d6[_0x3e1173(0x1b7)](_0x3e1173(0x189),_0x3e1173(0x156)+_0x4bcde7+_0x3e1173(0x1ae)),_0x2874d6[_0x3e1173(0x1b7)](_0x3e1173(0x16d),_0x3e1173(0x1bd));var _0xb432cc=0x14,_0x54f5a0=0x64;_0x342d65[_0x3e1173(0x15e)](_0x2874d6),_0x342d65[_0x3e1173(0x14d)](_0x3e1173(0x119)+_0x36969e[0x0][_0x3e1173(0x14d)],0x14,0x0,{'fit':[0x64,0x64]}),_0x342d65[_0x3e1173(0x192)](0x14)[_0x3e1173(0x115)](_0x3e1173(0x11a),_0xb432cc,_0x54f5a0),_0x342d65[_0x3e1173(0x192)](0xa)['text'](_0x3e1173(0x145),_0xb432cc,_0x54f5a0+=0xf),_0x342d65[_0x3e1173(0x192)](0xf)['text'](_0x112f62,_0xb432cc,_0x54f5a0+=0x32),_0x342d65['fontSize'](0xa)['text'](_0x3e1173(0x10a),_0xb432cc,_0x54f5a0+=0x14),_0x342d65[_0x3e1173(0x192)](0x9)[_0x3e1173(0x115)](_0x3e1173(0x175),_0xb432cc,_0x54f5a0+=0x19),_0x342d65[_0x3e1173(0x192)](0x9)[_0x3e1173(0x115)](_0x3e1173(0x1b0)+_0x3a64a0[_0x3e1173(0x118)],_0xb432cc+0x3f,_0x54f5a0),_0x342d65['fontSize'](0x9)[_0x3e1173(0x115)](_0x3e1173(0x184),_0xb432cc,_0x54f5a0+=0xb),_0x342d65[_0x3e1173(0x192)](0x9)[_0x3e1173(0x115)](_0x3e1173(0x1b0)+_0x3a64a0['invoice'],_0xb432cc+0x3f,_0x54f5a0);const _0x10eaeb={'headers':[{'label':_0x3e1173(0x105),'property':_0x3e1173(0x18c),'align':_0x3e1173(0x17a),'width':0x2d,'renderer':null},{'label':'MATERIAL\x20DESCRIPTION','property':'itemdescription','align':'center','width':0x64,'renderer':null},{'label':_0x3e1173(0x17c),'property':'rqty','align':_0x3e1173(0x17a),'width':0x28,'renderer':null},{'label':_0x3e1173(0x1b5),'property':_0x3e1173(0x113),'align':'center','width':0x28,'renderer':null},{'label':_0x3e1173(0x116),'property':'unit','align':_0x3e1173(0x17a),'width':0x28,'renderer':null},{'label':_0x3e1173(0x163),'property':'blocation','align':_0x3e1173(0x17a),'width':0x32,'renderer':null},{'label':'PRODUCTION\x20DATE','property':_0x3e1173(0x133),'align':'center','width':0x3c,'renderer':null},{'label':_0x3e1173(0x135),'property':_0x3e1173(0x15a),'align':'center','width':0x3c,'renderer':null},{'label':_0x3e1173(0x17b),'property':_0x3e1173(0x1a3),'align':_0x3e1173(0x17a),'width':0x3f,'renderer':null},{'label':_0x3e1173(0x128),'property':_0x3e1173(0x112),'align':_0x3e1173(0x17a),'width':0x3f,'renderer':null}],'datas':[]};var _0x2d9f0f=0x0;let _0x576fe4='';var _0x1ad669=0x0,_0xb432cc=0x1;_0x3a64a0['sale_product'][_0x3e1173(0x104)](_0x56380b=>{const _0x1d4bd0=_0x3e1173,_0x43c533=new Date(_0x56380b['production_date']),_0x1dc5c0={'year':'numeric','month':'short','day':_0x1d4bd0(0x150)},_0x50078c=_0x43c533[_0x1d4bd0(0x1ab)]('en-US',_0x1dc5c0),_0x5ceccb=new Date(_0x56380b[_0x1d4bd0(0x158)]),_0x1bbf9b={'year':_0x1d4bd0(0x150),'month':'short','day':_0x1d4bd0(0x150)},_0x4826b3=_0x5ceccb[_0x1d4bd0(0x1ab)]('en-US',_0x1bbf9b),_0x35b843=new Date(_0x56380b[_0x1d4bd0(0x146)]),_0x3cb474={'year':_0x1d4bd0(0x150),'month':_0x1d4bd0(0x11f),'day':_0x1d4bd0(0x150)};var _0x1d3b47=_0x35b843[_0x1d4bd0(0x1ab)]('en-US',_0x3cb474);typeof _0x56380b[_0x1d4bd0(0x146)]==_0x1d4bd0(0x18a)&&(_0x1d3b47='');const _0xef80d={'itemcode':_0x56380b[_0x1d4bd0(0x12a)],'itemdescription':_0x56380b[_0x1d4bd0(0x15f)],'rqty':_0x56380b[_0x1d4bd0(0x18f)],'iqty':_0x56380b[_0x1d4bd0(0x167)],'unit':_0x56380b[_0x1d4bd0(0x16a)],'blocation':_0x56380b[_0x1d4bd0(0xfe)]+_0x56380b[_0x1d4bd0(0x176)]+_0x56380b[_0x1d4bd0(0x125)]+_0x56380b[_0x1d4bd0(0x12b)]+_0x56380b[_0x1d4bd0(0x152)][0x0]+_0x56380b[_0x1d4bd0(0x1a6)],'proddate':_0x50078c,'expdate':_0x4826b3,'del_date':_0x1d3b47,'del_code':_0x56380b['delivery_code']};_0xb432cc++,_0x10eaeb[_0x1d4bd0(0x179)][_0x1d4bd0(0x109)](_0xef80d);}),_0x342d65['table'](_0x10eaeb,{'x':_0xb432cc+0x11,'y':_0x54f5a0+=0x1e,'prepareHeader':()=>_0x342d65['font'](_0x3e1173(0x172))['fontSize'](6.5),'prepareRow':(_0x5e2002,_0x319718,_0x17450f,_0x384312,_0x1d2a75)=>{const _0x3d8255=_0x3e1173,{x:_0x1e3158,y:_0x82c0a7,width:_0x46685d,height:_0x2ea5e5}=_0x1d2a75;_0x342d65[_0x3d8255(0x1bb)](_0x3d8255(0x121))['fontSize'](0x8),_0x342d65[_0x3d8255(0xfa)](0.5)[_0x3d8255(0x138)](_0x1e3158,_0x82c0a7)['lineTo'](_0x1e3158,_0x82c0a7+_0x2ea5e5)[_0x3d8255(0x161)]();}});var _0x40e404=_0x342d65['y'],_0x23baf5=_0x342d65['x'],_0x205bda=_0x40e404-=0x8;_0x342d65[_0x3e1173(0xfa)](0x5),_0x342d65[_0x3e1173(0x151)](_0x3e1173(0x1b8))['moveTo'](0x240,_0x205bda)[_0x3e1173(0x17d)](0x11,_0x205bda)[_0x3e1173(0x161)](),_0x342d65['fontSize'](0xa)['text'](_0x3e1173(0x198),_0x23baf5+0x7d,_0x40e404+=0xf),_0x342d65['fontSize'](0xb)[_0x3e1173(0x115)]('PREPARED\x20BY\x20:\x20',_0x23baf5,_0x40e404+=0x15e),_0x342d65[_0x3e1173(0x192)](0xa)[_0x3e1173(0x115)](_0x3e1173(0x1a2),_0x23baf5+0x52,_0x40e404,{'underline':!![]}),_0x342d65[_0x3e1173(0x192)](0xa)[_0x3e1173(0x115)](_0x3e1173(0x1ba),_0x23baf5,_0x40e404+=0x19),_0x342d65['fontSize'](0xa)[_0x3e1173(0x115)](_0x3e1173(0x1b0),_0x23baf5+0x4b,_0x40e404),_0x342d65['fontSize'](0xa)[_0x3e1173(0x115)]('\x20'[_0x3e1173(0x165)](0x3c),_0x23baf5+0x50,_0x40e404,{'underline':!![]}),_0x342d65[_0x3e1173(0x192)](0xa)['text'](_0x3e1173(0xff),_0x23baf5,_0x40e404+=0x32),_0x342d65[_0x3e1173(0x192)](0xa)[_0x3e1173(0x115)]('\x20:\x20',_0x23baf5+0x4b,_0x40e404),_0x342d65[_0x3e1173(0x192)](0xa)[_0x3e1173(0x115)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x23baf5+0x50,_0x40e404,{'underline':!![]}),_0x342d65['fontSize'](0xa)[_0x3e1173(0x115)](_0x3e1173(0x16e),_0x23baf5+0x50,_0x40e404+0xc);let _0x2ed9e9=_0x342d65[_0x3e1173(0x19e)]();for(let _0x2ccd21=0x0;_0x2ccd21<_0x2ed9e9[_0x3e1173(0x19f)];_0x2ccd21++){_0x342d65[_0x3e1173(0x134)](_0x2ccd21);let _0x43b03e=_0x342d65['page']['margins'][_0x3e1173(0x1ac)];_0x342d65[_0x3e1173(0x187)][_0x3e1173(0x137)][_0x3e1173(0x1ac)]=0x0,_0x342d65[_0x3e1173(0x115)](_0x3e1173(0x193)+(_0x2ccd21+0x1)+_0x3e1173(0x11d)+_0x2ed9e9['count'],0x0,_0x342d65[_0x3e1173(0x187)][_0x3e1173(0x16c)]-_0x43b03e/0x2,{'align':_0x3e1173(0x17a)}),_0x342d65['page']['margins'][_0x3e1173(0x1ac)]=_0x43b03e;}const _0x4a9639=_0x342d65['y'],_0x36ac5a=_0x342d65['x'];_0x342d65[_0x3e1173(0x14c)]();}catch(_0x58d633){console[_0x3e1173(0x122)](_0x58d633),_0x2874d6[_0x3e1173(0x185)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x195ee7(0x10f)](a0_0x195ee7(0x14a),auth,async(_0xc93d4d,_0x27fa13)=>{const _0x2985d8=a0_0x195ee7;try{const {username:_0x2b9000,email:_0x12de81,role:_0x5c3dc6}=_0xc93d4d[_0x2985d8(0x1a4)],_0x15508d=_0xc93d4d['user'],_0x53ce85=await profile[_0x2985d8(0xfb)]({'email':_0x15508d['email']}),_0x37aa02=await master_shop[_0x2985d8(0x14f)](),_0x238ce3=_0xc93d4d[_0x2985d8(0x110)]['id'],_0x2d1b19=await adjustment[_0x2985d8(0x19c)](_0x238ce3);var _0x155e7c,_0x1ce720;_0x155e7c=_0x2985d8(0x132),_0x1ce720=_0x2985d8(0x1a1);_0x2d1b19[_0x2985d8(0x120)]==_0x2985d8(0x188)&&(_0x155e7c=_0x2985d8(0x160),_0x1ce720='');const _0x58a4ef=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x27fa13[_0x2985d8(0x1b7)](_0x2985d8(0x189),_0x2985d8(0x156)+_0x238ce3+_0x2985d8(0x1ae)),_0x27fa13[_0x2985d8(0x1b7)](_0x2985d8(0x16d),'application/pdf');var _0x17650d=0x14,_0x5eed39=0x3c;_0x58a4ef[_0x2985d8(0x15e)](_0x27fa13),_0x58a4ef[_0x2985d8(0x14d)]('./public/upload/'+_0x37aa02[0x0][_0x2985d8(0x14d)],0x14,0x0,{'fit':[0x64,0x64]}),_0x58a4ef[_0x2985d8(0x192)](0x14)['text'](_0x2985d8(0x11a),_0x17650d,_0x5eed39),_0x58a4ef['fontSize'](0xa)[_0x2985d8(0x115)](_0x2985d8(0x145),_0x17650d,_0x5eed39+=0xf),_0x58a4ef[_0x2985d8(0x192)](0xf)[_0x2985d8(0x115)](_0x155e7c,_0x17650d,_0x5eed39+=0x32),_0x58a4ef[_0x2985d8(0x192)](0xa)[_0x2985d8(0x115)](_0x1ce720,_0x17650d,_0x5eed39+=0x14),_0x58a4ef['fontSize'](0x9)[_0x2985d8(0x115)](_0x2985d8(0x195),_0x17650d,_0x5eed39+=0x28),_0x58a4ef['fontSize'](0x9)['text']('\x20:\x20'+_0x2d1b19[_0x2985d8(0x117)],_0x17650d+0x3f,_0x5eed39),_0x58a4ef[_0x2985d8(0x192)](0x9)[_0x2985d8(0x115)](_0x2985d8(0x175),_0x17650d,_0x5eed39+=0xb),_0x58a4ef[_0x2985d8(0x192)](0x9)[_0x2985d8(0x115)]('\x20:\x20'+_0x2d1b19[_0x2985d8(0x118)],_0x17650d+0x3f,_0x5eed39),_0x58a4ef[_0x2985d8(0x192)](0x9)['text'](_0x2985d8(0x177),_0x17650d,_0x5eed39+=0xb),_0x58a4ef[_0x2985d8(0x192)](0x9)[_0x2985d8(0x115)](_0x2985d8(0x1b0)+_0x2d1b19[_0x2985d8(0x14b)],_0x17650d+0x3f,_0x5eed39);const _0x34ad68={'headers':[{'label':_0x2985d8(0x196),'property':_0x2985d8(0x18c),'width':0x3c,'renderer':null},{'label':_0x2985d8(0xf7),'property':_0x2985d8(0x148),'width':0x96,'renderer':null},{'label':_0x2985d8(0x11b),'property':_0x2985d8(0x159),'width':0x3c,'renderer':null},{'label':_0x2985d8(0x116),'property':_0x2985d8(0x16a),'width':0x3c,'renderer':null},{'label':_0x2985d8(0x1b9),'property':'proddate','width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x2985d8(0xf9),'width':0x3f,'renderer':null},{'label':_0x2985d8(0x199),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x325474=0x0,_0x1f1a13=0x0;_0x2d1b19[_0x2985d8(0x1b1)][_0x2985d8(0x104)](_0x5dcb20=>{const _0xae2829=_0x2985d8;let _0xdf62ec='';const _0x1401fb=_0x5dcb20['to_quantity'];for(let _0x3b691c=0x1;_0x3b691c<=_0x1401fb;_0x3b691c++){_0x1401fb==_0x3b691c?_0xdf62ec+=_0x5dcb20[_0xae2829(0x144)]:_0xdf62ec+=_0x5dcb20['maxperunit']+',',_0x1f1a13+=_0x5dcb20[_0xae2829(0x144)];}_0xdf62ec+='\x20/\x20'+_0x5dcb20['secondary_unit'];const _0x5dc5fb={'itemcode':_0x5dcb20[_0xae2829(0x12a)],'itemdescription':_0x5dcb20['product_name'],'qty':_0x5dcb20[_0xae2829(0x131)],'unit':_0x5dcb20[_0xae2829(0x16a)],'proddate':_0x5dcb20[_0xae2829(0x130)],'batchno':_0x5dcb20[_0xae2829(0x170)],'binloc':_0x5dcb20[_0xae2829(0xfe)]+_0x5dcb20[_0xae2829(0x176)]+_0x5dcb20[_0xae2829(0x125)]+_0x5dcb20[_0xae2829(0x12b)]+_0x5dcb20[_0xae2829(0x152)][0x0]+_0x5dcb20['floorlevel']};_0x325474+=_0x5dcb20[_0xae2829(0x131)],_0x34ad68[_0xae2829(0x179)][_0xae2829(0x109)](_0x5dc5fb);}),_0x58a4ef[_0x2985d8(0x1c1)](_0x34ad68,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x58a4ef['font']('Helvetica-Bold')['fontSize'](0x8),'prepareRow':(_0x3f67ba,_0x318eca,_0x6742f0,_0x2a3cd8)=>_0x58a4ef['font']('Helvetica')['fontSize'](0x8)});var _0x423747=_0x58a4ef['y'],_0x448c1f=_0x58a4ef['x'];_0x58a4ef[_0x2985d8(0x192)](0xa)[_0x2985d8(0x115)](_0x2985d8(0x198),_0x448c1f+0x7d,_0x423747),_0x58a4ef['fontSize'](0xa)[_0x2985d8(0x115)](_0x2985d8(0x13a),_0x448c1f,_0x423747+=0x136),_0x58a4ef[_0x2985d8(0x192)](0xa)[_0x2985d8(0x115)](_0x325474,_0x448c1f+0xc8,_0x423747),_0x58a4ef['fontSize'](0xa)[_0x2985d8(0x115)]('Picked\x20By\x20\x20\x20\x20\x20:\x20',_0x448c1f,_0x423747+=0x19),_0x58a4ef[_0x2985d8(0x192)](0xa)[_0x2985d8(0x115)]('\x20'[_0x2985d8(0x165)](0x3c),_0x448c1f+0x3e,_0x423747,{'underline':!![]}),_0x58a4ef[_0x2985d8(0x192)](0xa)[_0x2985d8(0x115)](_0x2985d8(0x12e),_0x448c1f,_0x423747+=0x32),_0x58a4ef[_0x2985d8(0x192)](0xa)['text'](_0x2985d8(0x1b0),_0x448c1f+0x37,_0x423747),_0x58a4ef[_0x2985d8(0x192)](0xa)['text'](_0x2985d8(0x1aa),_0x448c1f+0x3c,_0x423747,{'underline':!![]}),_0x58a4ef[_0x2985d8(0x192)](0xa)[_0x2985d8(0x115)](_0x2985d8(0x16e),_0x448c1f+0x3c,_0x423747+0xc);let _0x46ee9f=_0x58a4ef[_0x2985d8(0x19e)]();for(let _0x21969c=0x0;_0x21969c<_0x46ee9f[_0x2985d8(0x19f)];_0x21969c++){_0x58a4ef[_0x2985d8(0x134)](_0x21969c);let _0x83f8ca=_0x58a4ef[_0x2985d8(0x187)][_0x2985d8(0x137)][_0x2985d8(0x1ac)];_0x58a4ef[_0x2985d8(0x187)][_0x2985d8(0x137)][_0x2985d8(0x1ac)]=0x0,_0x58a4ef['text'](_0x2985d8(0x193)+(_0x21969c+0x1)+_0x2985d8(0x11d)+_0x46ee9f[_0x2985d8(0x19f)],0x0,_0x58a4ef[_0x2985d8(0x187)][_0x2985d8(0x16c)]-_0x83f8ca/0x2,{'align':_0x2985d8(0x17a)}),_0x58a4ef['page'][_0x2985d8(0x137)][_0x2985d8(0x1ac)]=_0x83f8ca;}const _0x3a778c=_0x58a4ef['y'],_0x23b266=_0x58a4ef['x'];_0x58a4ef[_0x2985d8(0x14c)]();}catch(_0x5b5066){console[_0x2985d8(0x122)](_0x5b5066),_0x27fa13[_0x2985d8(0x185)](0x1f4)[_0x2985d8(0x183)](_0x2985d8(0x17e));}}),router['get'](a0_0x195ee7(0x102),auth,async(_0x52dc45,_0x7e9768)=>{const _0x93fa38=a0_0x195ee7;try{const {username:_0x2f1153,email:_0x4c5e98,role:_0x33f043}=_0x52dc45[_0x93fa38(0x1a4)],_0x1465c6=_0x52dc45[_0x93fa38(0x1a4)],_0x5dc740=await profile[_0x93fa38(0xfb)]({'email':_0x1465c6[_0x93fa38(0x15b)]}),_0x47e2ea=await master_shop[_0x93fa38(0x14f)](),_0x308aa6=_0x52dc45[_0x93fa38(0x110)]['id'],_0x2cf685=await transfers[_0x93fa38(0x19c)](_0x308aa6);var _0x30b6c5,_0x2d7786;_0x30b6c5='Picking\x20List',_0x2d7786=_0x93fa38(0x13f);_0x2cf685[_0x93fa38(0x120)]==_0x93fa38(0x188)&&(_0x30b6c5=_0x93fa38(0x1a8),_0x2d7786='');const _0x5c77b9=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x7e9768[_0x93fa38(0x1b7)](_0x93fa38(0x189),_0x93fa38(0x156)+_0x308aa6+_0x93fa38(0x1ae)),_0x7e9768[_0x93fa38(0x1b7)](_0x93fa38(0x16d),_0x93fa38(0x1bd));var _0x4fd0b9=0x14,_0x2afd6d=0x3c;_0x5c77b9[_0x93fa38(0x15e)](_0x7e9768),_0x5c77b9[_0x93fa38(0x14d)](_0x93fa38(0x119)+_0x47e2ea[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x5c77b9[_0x93fa38(0x192)](0x14)[_0x93fa38(0x115)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x4fd0b9,_0x2afd6d),_0x5c77b9[_0x93fa38(0x192)](0xa)[_0x93fa38(0x115)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x4fd0b9,_0x2afd6d+=0xf),_0x5c77b9[_0x93fa38(0x192)](0xf)[_0x93fa38(0x115)](_0x30b6c5,_0x4fd0b9,_0x2afd6d+=0x32),_0x5c77b9['fontSize'](0xa)[_0x93fa38(0x115)](_0x2d7786,_0x4fd0b9,_0x2afd6d+=0x14),_0x5c77b9[_0x93fa38(0x192)](0x9)[_0x93fa38(0x115)](_0x93fa38(0x171),_0x4fd0b9,_0x2afd6d+=0x28),_0x5c77b9[_0x93fa38(0x192)](0x9)[_0x93fa38(0x115)](_0x93fa38(0x19b)+_0x2cf685['from_warehouse'],_0x4fd0b9+0x3f,_0x2afd6d),_0x5c77b9[_0x93fa38(0x192)](0x9)[_0x93fa38(0x115)]('To\x20Warehouse\x20',_0x4fd0b9,_0x2afd6d+=0xa),_0x5c77b9['fontSize'](0x9)[_0x93fa38(0x115)](_0x93fa38(0x19b)+_0x2cf685[_0x93fa38(0x197)],_0x4fd0b9+0x3f,_0x2afd6d),_0x5c77b9['fontSize'](0x9)[_0x93fa38(0x115)](_0x93fa38(0x175),_0x4fd0b9,_0x2afd6d+=0xb),_0x5c77b9[_0x93fa38(0x192)](0x9)['text'](_0x93fa38(0x19b)+_0x2cf685[_0x93fa38(0x118)],_0x4fd0b9+0x3f,_0x2afd6d),_0x5c77b9[_0x93fa38(0x192)](0x9)['text'](_0x93fa38(0x177),_0x4fd0b9,_0x2afd6d+=0xb),_0x5c77b9[_0x93fa38(0x192)](0x9)[_0x93fa38(0x115)](_0x93fa38(0x19b)+_0x2cf685[_0x93fa38(0x14b)],_0x4fd0b9+0x3f,_0x2afd6d);const _0x3b6328={'headers':[{'label':'','property':_0x93fa38(0x18c),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x93fa38(0x164),'property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x93fa38(0x10c),'property':_0x93fa38(0x148),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x5c77b9[_0x93fa38(0x1c1)](_0x3b6328,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x5c77b9[_0x93fa38(0x1bb)](_0x93fa38(0x172))[_0x93fa38(0x192)](0x8),'prepareRow':(_0x2b63a7,_0x57420c,_0x1982d9,_0x17f442)=>_0x5c77b9[_0x93fa38(0x1bb)](_0x93fa38(0x121))[_0x93fa38(0x192)](0x8)});const _0x42c7c3={'headers':[{'label':_0x93fa38(0x196),'property':_0x93fa38(0x18c),'width':0x3c,'renderer':null},{'label':_0x93fa38(0xf7),'property':_0x93fa38(0x148),'width':0x96,'renderer':null},{'label':_0x93fa38(0x11b),'property':_0x93fa38(0x159),'width':0x28,'renderer':null},{'label':'UOM','property':_0x93fa38(0x16a),'width':0x37,'renderer':null},{'label':_0x93fa38(0x1b9),'property':'proddate','width':0x4b,'renderer':null},{'label':_0x93fa38(0x1a9),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x93fa38(0x199),'property':'binlocFrom','width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x93fa38(0x10d),'width':0x3f,'renderer':null}],'datas':[]};var _0x64ecf7=0x0;let _0x5609de='';var _0x34a823=0x0;_0x2cf685[_0x93fa38(0x1b1)][_0x93fa38(0x104)](_0x23b4b1=>{const _0x3696a6=_0x93fa38;var _0x130163=_0x23b4b1['prod_cat'],_0x45bac2;_0x45bac2=_0x23b4b1['unit'];_0x130163=='S'&&(_0x45bac2=_0x23b4b1[_0x3696a6(0x1a5)]);const _0x5e20e5={'itemcode':_0x23b4b1[_0x3696a6(0x12a)],'itemdescription':_0x23b4b1['product_name'],'qty':_0x23b4b1[_0x3696a6(0x168)],'unit':_0x45bac2,'proddate':_0x23b4b1[_0x3696a6(0x130)],'batchno':_0x23b4b1[_0x3696a6(0x170)],'binloc':_0x23b4b1['storage']+_0x23b4b1[_0x3696a6(0x176)]+_0x23b4b1[_0x3696a6(0x1ad)]+_0x23b4b1[_0x3696a6(0x154)]+_0x23b4b1['to_types'][0x0]+_0x23b4b1['to_floorlevel'],'qtyFrom':_0x23b4b1['from_quantity'],'binlocFrom':_0x23b4b1[_0x3696a6(0x126)]+_0x23b4b1['from_rack']+_0x23b4b1[_0x3696a6(0x101)]+_0x23b4b1[_0x3696a6(0x114)]+_0x23b4b1[_0x3696a6(0x14e)][0x0]+_0x23b4b1[_0x3696a6(0x1b6)]};_0x64ecf7+=_0x23b4b1[_0x3696a6(0x168)],_0x42c7c3[_0x3696a6(0x179)][_0x3696a6(0x109)](_0x5e20e5);}),_0x5c77b9[_0x93fa38(0x1c1)](_0x42c7c3,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x5c77b9['font'](_0x93fa38(0x172))['fontSize'](0x8),'prepareRow':(_0x5d1fc2,_0x329c24,_0x585328,_0x24c119)=>_0x5c77b9['font'](_0x93fa38(0x121))['fontSize'](0x8)});var _0x4be6e7=_0x5c77b9['y'],_0x2cd03e=_0x5c77b9['x'];_0x5c77b9[_0x93fa38(0x192)](0xa)[_0x93fa38(0x115)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x2cd03e+0x7d,_0x4be6e7),_0x5c77b9[_0x93fa38(0x192)](0xa)[_0x93fa38(0x115)](_0x93fa38(0x1af),_0x2cd03e,_0x4be6e7+=0x12c),_0x5c77b9['fontSize'](0xa)[_0x93fa38(0x115)](_0x64ecf7,_0x2cd03e+0xd7,_0x4be6e7,{'underline':!![]}),_0x5c77b9[_0x93fa38(0x192)](0xa)[_0x93fa38(0x115)](_0x93fa38(0x1a7),_0x2cd03e,_0x4be6e7+=0x32),_0x5c77b9[_0x93fa38(0x192)](0xa)[_0x93fa38(0x115)](_0x93fa38(0x1be),_0x2cd03e+0x3c,_0x4be6e7,{'underline':!![]}),_0x5c77b9[_0x93fa38(0x192)](0xa)[_0x93fa38(0x115)](_0x93fa38(0x16e),_0x2cd03e+0x3c,_0x4be6e7+0xc);let _0x287875=_0x5c77b9[_0x93fa38(0x19e)]();for(let _0x376256=0x0;_0x376256<_0x287875[_0x93fa38(0x19f)];_0x376256++){_0x5c77b9[_0x93fa38(0x134)](_0x376256);let _0x46d0d5=_0x5c77b9[_0x93fa38(0x187)][_0x93fa38(0x137)]['bottom'];_0x5c77b9['page'][_0x93fa38(0x137)][_0x93fa38(0x1ac)]=0x0,_0x5c77b9[_0x93fa38(0x115)](_0x93fa38(0x193)+(_0x376256+0x1)+'\x20of\x20'+_0x287875[_0x93fa38(0x19f)],0x0,_0x5c77b9['page'][_0x93fa38(0x16c)]-_0x46d0d5/0x2,{'align':_0x93fa38(0x17a)}),_0x5c77b9[_0x93fa38(0x187)]['margins'][_0x93fa38(0x1ac)]=_0x46d0d5;}const _0x89de44=_0x5c77b9['y'],_0x1251c1=_0x5c77b9['x'];_0x5c77b9[_0x93fa38(0x14c)]();}catch(_0x39821c){console['log'](_0x39821c),_0x7e9768[_0x93fa38(0x185)](0x1f4)['send'](_0x93fa38(0x17e));}}),router[a0_0x195ee7(0x10f)]('/barcode_generator/',auth,async(_0x3ec651,_0xdb46f8)=>{const _0x4c05a2=a0_0x195ee7;try{const _0x3be082=_0x38f761=>_0x38f761*0x48,_0x59601f={'width':0x3,'height':0x1},_0x4fce59=await product['find'](),_0x33a015=new PDFDocument({'margin':_0x3be082(0.75),'size':[_0x3be082(_0x59601f[_0x4c05a2(0x191)]),_0x3be082(_0x59601f['height'])],'bufferPages':!![]}),_0x119884=_0x4fce59[_0x4c05a2(0x18e)];for(let _0x4a2159=0x0;_0x4a2159<=_0x119884;_0x4a2159++){if(_0x4a2159!=_0x4fce59[_0x4c05a2(0x18e)]){const _0x8a4c94=_0x4fce59[_0x4a2159]['name'],_0x503a6e=_0x4fce59[_0x4a2159][_0x4c05a2(0x129)],_0x5274a6=_0x4fce59[_0x4a2159][_0x4c05a2(0x1c3)],_0x1b2b1d=_0x4fce59[_0x4a2159][_0x4c05a2(0x12a)],_0x11ed90=new Canvas();JsBarcode(_0x11ed90,_0x503a6e,{'format':_0x4c05a2(0x186),'height':0x32,'displayValue':!![],'text':_0x503a6e}),_0x33a015[_0x4c05a2(0x14d)](_0x11ed90['toBuffer'](),0x0,0x0,{'width':0xd2}),_0x33a015[_0x4c05a2(0x141)]();}}_0x33a015[_0x4c05a2(0x15e)](_0xdb46f8),_0x33a015['end']();}catch(_0x37e8a7){console[_0x4c05a2(0x12f)](_0x4c05a2(0x10e),_0x37e8a7),_0xdb46f8['status'](0x1f4)[_0x4c05a2(0x183)](_0x4c05a2(0x17e));}}),module['exports']=router;