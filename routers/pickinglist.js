const a0_0x469e0d=a0_0xda2c;(function(_0x17f5f6,_0x402029){const _0x58b265=a0_0xda2c,_0x224fef=_0x17f5f6();while(!![]){try{const _0x53ac65=parseInt(_0x58b265(0xea))/0x1*(-parseInt(_0x58b265(0x95))/0x2)+parseInt(_0x58b265(0xe9))/0x3+parseInt(_0x58b265(0xbc))/0x4*(parseInt(_0x58b265(0xda))/0x5)+-parseInt(_0x58b265(0x124))/0x6+parseInt(_0x58b265(0x9e))/0x7*(-parseInt(_0x58b265(0x12a))/0x8)+-parseInt(_0x58b265(0x11a))/0x9+parseInt(_0x58b265(0x9f))/0xa*(parseInt(_0x58b265(0xc8))/0xb);if(_0x53ac65===_0x402029)break;else _0x224fef['push'](_0x224fef['shift']());}catch(_0x3527a2){_0x224fef['push'](_0x224fef['shift']());}}}(a0_0x3d4d,0x8dee1));const express=require('express'),res=require('express/lib/response'),app=express(),router=express['Router'](),multer=require('multer'),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require('../models/all_models'),auth=require(a0_0x469e0d(0x10c)),users=require('../public/language/languages.json'),excelJS=require(a0_0x469e0d(0x135)),xlsx=require(a0_0x469e0d(0x11f)),PDFDocument=require('pdfkit-table'),fs=require('fs'),blobStream=require(a0_0x469e0d(0xa7)),JsBarcode=require(a0_0x469e0d(0xbb)),{Canvas}=require(a0_0x469e0d(0xdc));function a0_0x3d4d(){const _0x1cec0f=['butt','25102099OcLHNb','rqty','TOTAL\x20QTY:\x20','switchToPage','Date\x20','Date\x20:\x20','from_bin','maxperunit','Checked\x20By:\x20','Page:\x20','Warehouse\x20','DELIVERY\x20CODE','\x20\x20\x20\x20\x20FROM','DRY\x20GOODS','From\x20Warehouse\x20','inline;\x20filename=\x22OUT-','Bin\x20Location','\x20y:\x20','5RkWEjJ','DELIVERY\x20DATE','canvas','from_warehouse','to_warehouse','floorlevel','/PDF_transfer_rm/:id','warehouse_cat','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','blocation','QUANTITY\x20ISSUED','DelCode','Quantity','font','return_qty','3303801CrjKju','9WRmmMc','height','(OUTGOING)','To\x20Warehouse\x20','Batch\x20No','DELIVERY\x20RECEIPT','delivery_code','STOCKS\x20TRANSFER','unit','repeat','toLocaleDateString','\x20of\x20','secondary_code','lineWidth','lineTo','stroke','email','Helvetica-Bold','to_bay','Picked\x20By\x20\x20\x20\x20\x20:\x20','.pdf\x22','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','PICKING\x20LIST','sale_product','from_quantity','Picked\x20By\x20\x20\x20:\x20','FTGS\x20Number\x20:\x20','Content-type','invoice','secondary_unit','binloc','to_types','user','lineCap','../middleware/auth','Finished\x20Good\x20Warehouse\x20Supervisor','find','\x20row:\x20','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','name','addPage','findOne','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quantity','LOCATION','Picking\x20List','adjust_qty','Picked\x20By','8646399PISiMQ','customer','storage','POnumber','send','xlsx','return_sale_QA','from_bay','end','/barcode_generator/','6134208tdsBYn','standard_unit','del_code','Supplier\x20:\x20','./public/upload/','warehouse_name','23888UPHTEH','bay','findById','Noted\x20By\x20','Delivery\x20Code','numeric','QTY','CODE128','moveTo','maxPerUnit','/pdf_puchases/:id','exceljs','short','Production\x20Date','to_quantity','qty','ToWarehouse','image','\x20\x20TO','\x20\x20\x20\x20\x20TO','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','page','/PDF/:id','ARMAN\x20CRUZ','requested_qty','suppliers','REQUESTED\x20QUANTITY','count','production_date','en-US','iqty','Item\x20Code','params','itemcode','toBuffer','MATERIAL\x20DESCRIPTION','itemdescription','fontSize','margins','proddate','Check\x20By\x20\x20\x20\x20:\x20','batchno','bottom','(INVENTORY\x20ADJUSTMENT)','application/pdf','pipe','Checked\x20By\x20','Control\x20Number\x20','expiry_date','prod_cat','finalize','\x20:\x20','/PDF_Sales/:id','center','Customer\x20:\x20','UOM','(STOCKS\x20TRANSFER)','Check\x20By:\x20','text','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Picked\x20By\x20\x20\x20\x20:\x20','exports','del_date','TOTAL\x20QTY\x20:\x20','log','Control\x20Number\x20:\x20','93214EPobIQ','batch_code','Item\x20Description','PRODUCTION\x20DATE','date','to_bin','EXPIRATION\x20DATE','Raw\x20Materials\x20Warehouse\x20Supervisor','type','2646uLpteD','10VazqmH','binlocFrom','expdate','True','\x20\x20\x20:\x20','to_floorlevel','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','status','blob-stream','Content-disposition','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','push','product','table','INVENTORY\x20ADJUSTMENT','bin','setHeader','product_code','return_sale','forEach','rack','product_name','bufferedPageRange','Checked\x20By\x20\x20\x20:\x20','\x20\x20FROM','Pick\x20By\x20:\x20','inline;\x20filename=\x22','(RETURN)','jsbarcode','2917276QlVBNY','length','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','\x20/\x20','get','Warehouse\x20:\x20','Helvetica','Expiration\x20Date','delivery_date','(INCOMING)','datas'];a0_0x3d4d=function(){return _0x1cec0f;};return a0_0x3d4d();}function a0_0xda2c(_0x50cbba,_0xb5bb36){const _0x3d4d88=a0_0x3d4d();return a0_0xda2c=function(_0xda2c84,_0x5786ef){_0xda2c84=_0xda2c84-0x6f;let _0x124b35=_0x3d4d88[_0xda2c84];return _0x124b35;},a0_0xda2c(_0x50cbba,_0xb5bb36);}router[a0_0x469e0d(0xc0)](a0_0x469e0d(0x140),auth,async(_0x4506b9,_0x5c77e4)=>{const _0x54f744=a0_0x469e0d;try{const {username:_0x287eed,email:_0x571996,role:_0x17fb8f}=_0x4506b9['user'],_0x5c28f2=_0x4506b9[_0x54f744(0x10a)],_0x583065=await profile['findOne']({'email':_0x5c28f2[_0x54f744(0xfa)]}),_0x4c6e40=await master_shop['find'](),_0xe0e577=_0x4506b9['params']['id'],_0x411777=await sales_finished[_0x54f744(0x12c)](_0xe0e577);var _0x2b41cb;_0x2b41cb=_0x54f744(0x100);_0x411777[_0x54f744(0x85)]==_0x54f744(0xa2)&&(_0x2b41cb=_0x54f744(0xef));const _0x35506e=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5c77e4[_0x54f744(0xaf)](_0x54f744(0xa8),_0x54f744(0xb9)+_0x411777[_0x54f744(0x106)]+'.pdf\x22'),_0x5c77e4['setHeader'](_0x54f744(0x105),_0x54f744(0x7f));var _0x19c4b4=0x14,_0x241c6c=0x3c;_0x35506e[_0x54f744(0x80)](_0x5c77e4),_0x35506e[_0x54f744(0x13b)](_0x54f744(0x128)+_0x4c6e40[0x0][_0x54f744(0x13b)],0x14,0x0,{'fit':[0x64,0x64]}),_0x35506e[_0x54f744(0x78)](0x14)[_0x54f744(0x8d)](_0x54f744(0x110),_0x19c4b4,_0x241c6c),_0x35506e[_0x54f744(0x78)](0xa)[_0x54f744(0x8d)](_0x54f744(0xff),_0x19c4b4,_0x241c6c+=0xf),_0x35506e[_0x54f744(0x78)](0xf)[_0x54f744(0x8d)](_0x2b41cb,_0x19c4b4,_0x241c6c+=0x32),_0x35506e[_0x54f744(0x78)](0xa)[_0x54f744(0x8d)](_0x54f744(0xec),_0x19c4b4,_0x241c6c+=0x14),_0x35506e[_0x54f744(0x78)](0x9)['text'](_0x54f744(0xd2),_0x19c4b4,_0x241c6c+=0x28),_0x35506e[_0x54f744(0x78)](0x9)[_0x54f744(0x8d)](_0x54f744(0x86)+_0x411777[_0x54f744(0x129)],_0x19c4b4+0x3f,_0x241c6c),_0x35506e['fontSize'](0x9)['text'](_0x54f744(0x89)+_0x411777[_0x54f744(0x11b)],_0x19c4b4+0x17c,_0x241c6c,{'underline':!![]}),_0x35506e[_0x54f744(0x78)](0x9)[_0x54f744(0x8d)](_0x54f744(0xcc),_0x19c4b4,_0x241c6c+=0xb),_0x35506e['fontSize'](0x9)[_0x54f744(0x8d)]('\x20:\x20'+_0x411777[_0x54f744(0x99)],_0x19c4b4+0x3f,_0x241c6c),_0x35506e['fontSize'](0x9)['text']('Control\x20Number\x20',_0x19c4b4,_0x241c6c+=0xb),_0x35506e[_0x54f744(0x78)](0x9)[_0x54f744(0x8d)](_0x54f744(0x86)+_0x411777['invoice'],_0x19c4b4+0x3f,_0x241c6c);const _0x4749be={'headers':[{'label':_0x54f744(0x72),'property':_0x54f744(0x74),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x54f744(0x77),'width':0xa5,'renderer':null},{'label':_0x54f744(0xe6),'property':_0x54f744(0x139),'width':0x3c,'renderer':null},{'label':_0x54f744(0x8a),'property':_0x54f744(0xf2),'width':0x3c,'renderer':null},{'label':_0x54f744(0x137),'property':'proddate','width':0x50,'renderer':null},{'label':_0x54f744(0xee),'property':_0x54f744(0x7c),'width':0x3f,'renderer':null},{'label':_0x54f744(0xd8),'property':_0x54f744(0x108),'width':0x3f,'renderer':null}],'datas':[]};var _0x3eecfd=0x0;let _0xf2e0c1='';var _0xe10621=0x0;_0x411777[_0x54f744(0x129)]==_0x54f744(0xd5)?_0xf2e0c1='DG':_0xf2e0c1='FG';var _0x39a2d9=0x0;_0x411777['sale_product'][_0x54f744(0xb2)](_0x1e3523=>{const _0x288484=_0x54f744;console[_0x288484(0x93)](_0x1e3523);let _0x4dd853='';const _0xd90bf8=_0x1e3523[_0x288484(0x115)];for(let _0x5d7207=0x1;_0x5d7207<=_0xd90bf8;_0x5d7207++){_0xd90bf8==_0x5d7207?_0x4dd853+=_0x1e3523['maxperunit']:_0x4dd853+=_0x1e3523[_0x288484(0xcf)]+',',_0xe10621+=_0x1e3523['maxperunit'];}_0x4dd853+=_0x288484(0xbf)+_0x1e3523['secondary_unit'];const _0x265d45={'itemcode':_0x1e3523[_0x288484(0xb0)],'itemdescription':_0x1e3523[_0x288484(0xb4)],'qty':_0x1e3523[_0x288484(0x115)],'unit':_0x1e3523[_0x288484(0xf2)],'proddate':_0x1e3523[_0x288484(0x6f)],'batchno':_0x1e3523[_0x288484(0x96)],'binloc':_0xf2e0c1+_0x1e3523['bay']};_0x3eecfd+=_0x1e3523[_0x288484(0x115)],_0x39a2d9+=0x1,_0x4749be[_0x288484(0xc6)]['push'](_0x265d45);}),_0x35506e[_0x54f744(0xac)](_0x4749be,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x35506e[_0x54f744(0xe7)](_0x54f744(0xfb))['fontSize'](0x8),'prepareRow':(_0x56d415,_0x5ef30b,_0x31b59d,_0x4d243c)=>_0x35506e[_0x54f744(0xe7)](_0x54f744(0xc2))[_0x54f744(0x78)](0x8)});var _0x42e62b=_0x35506e['y'],_0x28d539=_0x35506e['x'];_0x35506e[_0x54f744(0x78)](0xa)[_0x54f744(0x8d)](_0x54f744(0xbe),_0x28d539+0x7d,_0x42e62b),console['log']('x:\x20'+_0x28d539+_0x54f744(0xd9)+_0x42e62b+_0x54f744(0x10f)+_0x39a2d9);const _0x51d830=_0x28d539*_0x39a2d9;_0x35506e[_0x54f744(0x78)](0xa)['text']('TOTAL\x20QTY:\x20',_0x28d539,_0x42e62b+=0x15e-_0x51d830),_0x35506e[_0x54f744(0x78)](0xa)['text'](_0x3eecfd,_0x28d539+0xdc,_0x42e62b,{'underline':!![]}),_0x35506e[_0x54f744(0x78)](0xa)[_0x54f744(0x8d)](_0x54f744(0x103),_0x28d539,_0x42e62b+=0x19),_0x35506e['fontSize'](0xa)[_0x54f744(0x8d)]('\x20'[_0x54f744(0xf3)](0x3c),_0x28d539+0x3e,_0x42e62b,{'underline':!![]}),_0x35506e[_0x54f744(0x78)](0xa)[_0x54f744(0x8d)](_0x54f744(0xd0),_0x28d539,_0x42e62b+=0x32),_0x35506e[_0x54f744(0x78)](0xa)[_0x54f744(0x8d)](_0x54f744(0x114),_0x28d539+0x3c,_0x42e62b,{'underline':!![]}),_0x35506e[_0x54f744(0x78)](0xa)[_0x54f744(0x8d)](_0x54f744(0x10d),_0x28d539+0x3c,_0x42e62b+0xc);let _0x39414b=_0x35506e['bufferedPageRange']();for(let _0x3820fb=0x0;_0x3820fb<_0x39414b[_0x54f744(0x145)];_0x3820fb++){_0x35506e['switchToPage'](_0x3820fb);let _0x1bcb9d=_0x35506e[_0x54f744(0x13f)]['margins']['bottom'];_0x35506e[_0x54f744(0x13f)]['margins'][_0x54f744(0x7d)]=0x0,_0x35506e[_0x54f744(0x8d)](_0x54f744(0xd1)+(_0x3820fb+0x1)+_0x54f744(0xf5)+_0x39414b[_0x54f744(0x145)],0x0,_0x35506e['page'][_0x54f744(0xeb)]-_0x1bcb9d/0x2,{'align':_0x54f744(0x88)}),_0x35506e[_0x54f744(0x13f)]['margins'][_0x54f744(0x7d)]=_0x1bcb9d;}const _0x5e245b=_0x35506e['y'],_0x44f059=_0x35506e['x'];_0x35506e[_0x54f744(0x122)]();}catch(_0x142198){console['log'](_0x142198),_0x5c77e4['status'](0x1f4)[_0x54f744(0x11e)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get']('/PDF_transfer/:id',auth,async(_0x1bf312,_0x21381f)=>{const _0x3da0af=a0_0x469e0d;try{const {username:_0x4862e4,email:_0x51daee,role:_0x555878}=_0x1bf312[_0x3da0af(0x10a)],_0x4ea2c2=_0x1bf312[_0x3da0af(0x10a)],_0x3aa269=await profile[_0x3da0af(0x113)]({'email':_0x4ea2c2[_0x3da0af(0xfa)]}),_0x416cd6=await master_shop[_0x3da0af(0x10e)](),_0x957ba7=_0x1bf312['params']['id'],_0x421710=await transfers_finished[_0x3da0af(0x12c)](_0x957ba7);var _0x3a8a39,_0x1c347e;_0x3a8a39=_0x3da0af(0x117),_0x1c347e='(STOCKS\x20TRANSFER)';_0x421710[_0x3da0af(0x85)]==_0x3da0af(0xa2)&&(_0x3a8a39=_0x3da0af(0xf1),_0x1c347e='');const _0x277a2f=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x21381f[_0x3da0af(0xaf)](_0x3da0af(0xa8),'inline;\x20filename=\x22OUT-'+_0x957ba7+'.pdf\x22'),_0x21381f[_0x3da0af(0xaf)](_0x3da0af(0x105),'application/pdf');var _0x4afc4f=0x14,_0x416bf0=0x3c;_0x277a2f[_0x3da0af(0x80)](_0x21381f),_0x277a2f[_0x3da0af(0x13b)](_0x3da0af(0x128)+_0x416cd6[0x0][_0x3da0af(0x13b)],0x14,0x0,{'fit':[0x64,0x64]}),_0x277a2f[_0x3da0af(0x78)](0x14)['text']('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x4afc4f,_0x416bf0),_0x277a2f[_0x3da0af(0x78)](0xa)['text'](_0x3da0af(0xff),_0x4afc4f,_0x416bf0+=0xf),_0x277a2f[_0x3da0af(0x78)](0xf)[_0x3da0af(0x8d)](_0x3a8a39,_0x4afc4f,_0x416bf0+=0x32),_0x277a2f[_0x3da0af(0x78)](0xa)[_0x3da0af(0x8d)](_0x1c347e,_0x4afc4f,_0x416bf0+=0x14),_0x277a2f[_0x3da0af(0x78)](0x9)[_0x3da0af(0x8d)](_0x3da0af(0xd6),_0x4afc4f,_0x416bf0+=0x28),_0x277a2f['fontSize'](0x9)[_0x3da0af(0x8d)](_0x3da0af(0xa3)+_0x421710[_0x3da0af(0xdd)],_0x4afc4f+0x3f,_0x416bf0),_0x277a2f[_0x3da0af(0x78)](0x9)['text'](_0x3da0af(0xed),_0x4afc4f,_0x416bf0+=0xf),_0x277a2f['fontSize'](0x9)['text'](_0x3da0af(0xa3)+_0x421710['to_warehouse'],_0x4afc4f+0x3f,_0x416bf0),_0x277a2f[_0x3da0af(0x78)](0x9)[_0x3da0af(0x8d)](_0x3da0af(0xcc),_0x4afc4f,_0x416bf0+=0xb),_0x277a2f[_0x3da0af(0x78)](0x9)[_0x3da0af(0x8d)](_0x3da0af(0xa3)+_0x421710[_0x3da0af(0x99)],_0x4afc4f+0x3f,_0x416bf0),_0x277a2f[_0x3da0af(0x78)](0x9)[_0x3da0af(0x8d)](_0x3da0af(0x82),_0x4afc4f,_0x416bf0+=0xb),_0x277a2f[_0x3da0af(0x78)](0x9)[_0x3da0af(0x8d)](_0x3da0af(0xa3)+_0x421710[_0x3da0af(0x106)],_0x4afc4f+0x3f,_0x416bf0);const _0x2ce692={'headers':[{'label':'','property':_0x3da0af(0x74),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x3da0af(0xb7),'property':_0x3da0af(0x74),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x3da0af(0x13c),'property':_0x3da0af(0x77),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x277a2f[_0x3da0af(0xac)](_0x2ce692,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x277a2f[_0x3da0af(0xe7)]('Helvetica-Bold')[_0x3da0af(0x78)](0x8),'prepareRow':(_0x40f039,_0x3a995e,_0x26be93,_0x5b156c)=>_0x277a2f[_0x3da0af(0xe7)](_0x3da0af(0xc2))[_0x3da0af(0x78)](0x8)});const _0xa3cd97={'headers':[{'label':'Item\x20Code','property':_0x3da0af(0x74),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x3da0af(0x77),'width':0x96,'renderer':null},{'label':_0x3da0af(0xe6),'property':'qty','width':0x28,'renderer':null},{'label':_0x3da0af(0x8a),'property':_0x3da0af(0xf2),'width':0x37,'renderer':null},{'label':_0x3da0af(0x137),'property':_0x3da0af(0x7a),'width':0x4b,'renderer':null},{'label':'Batch\x20No','property':_0x3da0af(0x7c),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x3da0af(0xa0),'width':0x3f,'renderer':null},{'label':_0x3da0af(0xd8),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x1a9e96=0x0;let _0x5a6d49='';var _0x4234da=0x0;if(_0x421710['from_warehouse']=='DRY\x20GOODS')_0x5a6d49='DG';else _0x421710[_0x3da0af(0xdd)]=='FROZEN\x20GOODS'&&(_0x5a6d49='FG');_0x421710['product'][_0x3da0af(0xb2)](_0xfef42b=>{const _0x4152c4=_0x3da0af;var _0x14c98e=_0xfef42b[_0x4152c4(0x84)],_0x13c88d,_0x30f1ae;_0x13c88d=_0xfef42b['unit'],_0x30f1ae=_0xfef42b[_0x4152c4(0x138)];_0x14c98e=='S'&&(_0x13c88d=_0xfef42b['secondary_unit'],_0x30f1ae=_0xfef42b[_0x4152c4(0x138)]*_0xfef42b[_0x4152c4(0x133)]);const _0x1aa6a4={'itemcode':_0xfef42b['product_code'],'itemdescription':_0xfef42b[_0x4152c4(0xb4)],'qty':_0x30f1ae,'unit':_0x13c88d,'proddate':_0xfef42b[_0x4152c4(0x6f)],'batchno':_0xfef42b['batch_code'],'binloc':_0x5a6d49+_0xfef42b['to_bay'],'qtyFrom':_0xfef42b[_0x4152c4(0x102)],'binlocFrom':_0x5a6d49+_0xfef42b[_0x4152c4(0x121)]};_0x1a9e96+=_0x30f1ae,_0xa3cd97[_0x4152c4(0xc6)][_0x4152c4(0xaa)](_0x1aa6a4);}),_0x277a2f[_0x3da0af(0xac)](_0xa3cd97,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x277a2f[_0x3da0af(0xe7)](_0x3da0af(0xfb))[_0x3da0af(0x78)](0x8),'prepareRow':(_0x50887f,_0x58f239,_0x2c3c93,_0x3c31dc)=>_0x277a2f['font']('Helvetica')[_0x3da0af(0x78)](0x8)});var _0x524465=_0x277a2f['y'],_0x4b6bc3=_0x277a2f['x'];_0x277a2f[_0x3da0af(0x78)](0xa)[_0x3da0af(0x8d)](_0x3da0af(0xbe),_0x4b6bc3+0x7d,_0x524465),_0x277a2f[_0x3da0af(0x78)](0xa)[_0x3da0af(0x8d)](_0x3da0af(0xca),_0x4b6bc3,_0x524465+=0x15e),_0x277a2f[_0x3da0af(0x78)](0xa)[_0x3da0af(0x8d)](_0x1a9e96,_0x4b6bc3+0xd7,_0x524465,{'underline':!![]}),_0x277a2f[_0x3da0af(0x78)](0xa)[_0x3da0af(0x8d)](_0x3da0af(0x103),_0x4b6bc3,_0x524465+=0x19),_0x277a2f['fontSize'](0xa)[_0x3da0af(0x8d)]('\x20'[_0x3da0af(0xf3)](0x3c),_0x4b6bc3+0x3e,_0x524465,{'underline':!![]}),_0x277a2f['fontSize'](0xa)[_0x3da0af(0x8d)](_0x3da0af(0xd0),_0x4b6bc3,_0x524465+=0x32),_0x277a2f[_0x3da0af(0x78)](0xa)['text'](_0x3da0af(0x114),_0x4b6bc3+0x3c,_0x524465,{'underline':!![]}),_0x277a2f['fontSize'](0xa)[_0x3da0af(0x8d)](_0x3da0af(0x10d),_0x4b6bc3+0x3c,_0x524465+0xc);let _0xa7915a=_0x277a2f[_0x3da0af(0xb5)]();for(let _0x2104aa=0x0;_0x2104aa<_0xa7915a['count'];_0x2104aa++){_0x277a2f[_0x3da0af(0xcb)](_0x2104aa);let _0x2abf21=_0x277a2f[_0x3da0af(0x13f)][_0x3da0af(0x79)][_0x3da0af(0x7d)];_0x277a2f['page'][_0x3da0af(0x79)][_0x3da0af(0x7d)]=0x0,_0x277a2f[_0x3da0af(0x8d)](_0x3da0af(0xd1)+(_0x2104aa+0x1)+'\x20of\x20'+_0xa7915a[_0x3da0af(0x145)],0x0,_0x277a2f[_0x3da0af(0x13f)][_0x3da0af(0xeb)]-_0x2abf21/0x2,{'align':_0x3da0af(0x88)}),_0x277a2f[_0x3da0af(0x13f)][_0x3da0af(0x79)][_0x3da0af(0x7d)]=_0x2abf21;}const _0x2a5aed=_0x277a2f['y'],_0x1e5bff=_0x277a2f['x'];_0x277a2f[_0x3da0af(0x122)]();}catch(_0x3097c8){console[_0x3da0af(0x93)](_0x3097c8),_0x21381f['status'](0x1f4)['send'](_0x3da0af(0xa5));}}),router[a0_0x469e0d(0xc0)]('/PDF_adjustment/:id',auth,async(_0x3716ad,_0x525235)=>{const _0x566071=a0_0x469e0d;try{const {username:_0x45ec7e,email:_0x466f08,role:_0x13e188}=_0x3716ad[_0x566071(0x10a)],_0x170143=_0x3716ad[_0x566071(0x10a)],_0x1f40a3=await profile[_0x566071(0x113)]({'email':_0x170143[_0x566071(0xfa)]}),_0x2c77f3=await master_shop['find'](),_0x497f12=_0x3716ad[_0x566071(0x73)]['id'],_0x527d3f=await adjustment_finished[_0x566071(0x12c)](_0x497f12);var _0x56e260,_0x4f1d22;_0x56e260=_0x566071(0x100),_0x4f1d22=_0x566071(0x7e);_0x527d3f[_0x566071(0x85)]==_0x566071(0xa2)&&(_0x56e260=_0x566071(0xad),_0x4f1d22='');const _0x45852d=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x525235['setHeader'](_0x566071(0xa8),_0x566071(0xd7)+_0x497f12+'.pdf\x22'),_0x525235[_0x566071(0xaf)](_0x566071(0x105),'application/pdf');var _0x33ce27=0x14,_0x2f2b9f=0x3c;_0x45852d[_0x566071(0x80)](_0x525235),_0x45852d[_0x566071(0x13b)](_0x566071(0x128)+_0x2c77f3[0x0][_0x566071(0x13b)],0x14,0x0,{'fit':[0x64,0x64]}),_0x45852d[_0x566071(0x78)](0x14)[_0x566071(0x8d)](_0x566071(0x110),_0x33ce27,_0x2f2b9f),_0x45852d[_0x566071(0x78)](0xa)[_0x566071(0x8d)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x33ce27,_0x2f2b9f+=0xf),_0x45852d[_0x566071(0x78)](0xf)[_0x566071(0x8d)](_0x56e260,_0x33ce27,_0x2f2b9f+=0x32),_0x45852d[_0x566071(0x78)](0xa)[_0x566071(0x8d)](_0x4f1d22,_0x33ce27,_0x2f2b9f+=0x14),_0x45852d['fontSize'](0x9)[_0x566071(0x8d)]('Warehouse\x20',_0x33ce27,_0x2f2b9f+=0x28),_0x45852d[_0x566071(0x78)](0x9)[_0x566071(0x8d)]('\x20:\x20'+_0x527d3f[_0x566071(0x129)],_0x33ce27+0x3f,_0x2f2b9f),_0x45852d['fontSize'](0x9)[_0x566071(0x8d)](_0x566071(0xcc),_0x33ce27,_0x2f2b9f+=0xb),_0x45852d[_0x566071(0x78)](0x9)[_0x566071(0x8d)](_0x566071(0x86)+_0x527d3f['date'],_0x33ce27+0x3f,_0x2f2b9f),_0x45852d[_0x566071(0x78)](0x9)[_0x566071(0x8d)](_0x566071(0x82),_0x33ce27,_0x2f2b9f+=0xb),_0x45852d[_0x566071(0x78)](0x9)[_0x566071(0x8d)]('\x20:\x20'+_0x527d3f['invoice'],_0x33ce27+0x3f,_0x2f2b9f);const _0x236c7d={'headers':[{'label':_0x566071(0x72),'property':_0x566071(0x74),'width':0x3c,'renderer':null},{'label':_0x566071(0x97),'property':_0x566071(0x77),'width':0x96,'renderer':null},{'label':'Quantity','property':_0x566071(0x139),'width':0x3c,'renderer':null},{'label':_0x566071(0x8a),'property':_0x566071(0xf2),'width':0x3c,'renderer':null},{'label':_0x566071(0x137),'property':'proddate','width':0x50,'renderer':null},{'label':_0x566071(0xee),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x566071(0xd8),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x3df9e3=0x0;let _0x52833f='';var _0x265430=0x0;_0x527d3f[_0x566071(0x129)]==_0x566071(0xd5)?_0x52833f='DG':_0x52833f='FG';_0x527d3f[_0x566071(0xab)]['forEach'](_0x4ac399=>{const _0x594c94=_0x566071;console[_0x594c94(0x93)](_0x4ac399);var _0x58ef3f=_0x4ac399[_0x594c94(0x84)],_0x332650,_0x460fae;_0x332650=_0x4ac399['unit'],_0x460fae=_0x4ac399[_0x594c94(0x118)];_0x58ef3f=='S'&&(_0x332650=_0x4ac399[_0x594c94(0x107)],_0x460fae=_0x4ac399[_0x594c94(0x118)]*_0x4ac399[_0x594c94(0x133)]);const _0x4bd68b={'itemcode':_0x4ac399[_0x594c94(0xb0)],'itemdescription':_0x4ac399[_0x594c94(0xb4)],'qty':_0x460fae,'unit':_0x332650,'proddate':_0x4ac399[_0x594c94(0x6f)],'batchno':_0x4ac399['batch_code'],'binloc':_0x52833f+_0x4ac399[_0x594c94(0x12b)]};_0x3df9e3+=_0x460fae,_0x236c7d[_0x594c94(0xc6)][_0x594c94(0xaa)](_0x4bd68b);}),_0x45852d['table'](_0x236c7d,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x45852d[_0x566071(0xe7)](_0x566071(0xfb))['fontSize'](0x8),'prepareRow':(_0x47a015,_0x4948e3,_0x31e934,_0xde77b)=>_0x45852d[_0x566071(0xe7)]('Helvetica')[_0x566071(0x78)](0x8)});var _0x42427a=_0x45852d['y'],_0x5d2a3f=_0x45852d['x'];_0x45852d['fontSize'](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x5d2a3f+0x7d,_0x42427a),_0x45852d[_0x566071(0x78)](0xa)[_0x566071(0x8d)](_0x566071(0x92),_0x5d2a3f,_0x42427a+=0x15e),_0x45852d['fontSize'](0xa)[_0x566071(0x8d)](_0x3df9e3,_0x5d2a3f+0xc8,_0x42427a),_0x45852d[_0x566071(0x78)](0xa)['text']('Picked\x20By\x20\x20\x20:\x20',_0x5d2a3f,_0x42427a+=0x19),_0x45852d[_0x566071(0x78)](0xa)[_0x566071(0x8d)]('\x20'['repeat'](0x3c),_0x5d2a3f+0x3e,_0x42427a,{'underline':!![]}),_0x45852d['fontSize'](0xa)[_0x566071(0x8d)](_0x566071(0x81),_0x5d2a3f,_0x42427a+=0x32),_0x45852d[_0x566071(0x78)](0xa)[_0x566071(0x8d)](_0x566071(0x86),_0x5d2a3f+0x37,_0x42427a),_0x45852d[_0x566071(0x78)](0xa)[_0x566071(0x8d)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5d2a3f+0x3c,_0x42427a,{'underline':!![]}),_0x45852d[_0x566071(0x78)](0xa)[_0x566071(0x8d)](_0x566071(0x10d),_0x5d2a3f+0x3c,_0x42427a+0xc);let _0x232ea8=_0x45852d[_0x566071(0xb5)]();for(let _0x111485=0x0;_0x111485<_0x232ea8['count'];_0x111485++){_0x45852d[_0x566071(0xcb)](_0x111485);let _0x468482=_0x45852d[_0x566071(0x13f)][_0x566071(0x79)][_0x566071(0x7d)];_0x45852d[_0x566071(0x13f)][_0x566071(0x79)][_0x566071(0x7d)]=0x0,_0x45852d[_0x566071(0x8d)]('Page:\x20'+(_0x111485+0x1)+_0x566071(0xf5)+_0x232ea8[_0x566071(0x145)],0x0,_0x45852d[_0x566071(0x13f)][_0x566071(0xeb)]-_0x468482/0x2,{'align':'center'}),_0x45852d[_0x566071(0x13f)]['margins'][_0x566071(0x7d)]=_0x468482;}const _0x222f16=_0x45852d['y'],_0x2f2806=_0x45852d['x'];_0x45852d[_0x566071(0x122)]();}catch(_0x2636f9){console[_0x566071(0x93)](_0x2636f9),_0x525235[_0x566071(0xa6)](0x1f4)[_0x566071(0x11e)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x469e0d(0xc0)]('/pdf_puchases_fin/:id',auth,async(_0xae7984,_0x4c856b)=>{const _0x4d06b9=a0_0x469e0d;try{const {username:_0x1942df,email:_0x17247e,role:_0x1e2719}=_0xae7984[_0x4d06b9(0x10a)],_0x2c982e=_0xae7984[_0x4d06b9(0x10a)],_0xc66d6d=await profile[_0x4d06b9(0x113)]({'email':_0x2c982e[_0x4d06b9(0xfa)]}),_0x4185c3=await master_shop[_0x4d06b9(0x10e)](),_0x53209e=_0xae7984['params']['id'],_0x3cdc9e=await purchases_finished[_0x4d06b9(0x12c)](_0x53209e),_0x13ec4c=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4c856b[_0x4d06b9(0xaf)](_0x4d06b9(0xa8),_0x4d06b9(0xd7)+_0x53209e+'.pdf\x22'),_0x4c856b[_0x4d06b9(0xaf)](_0x4d06b9(0x105),_0x4d06b9(0x7f));var _0x15800a=0x14,_0xae5bc4=0x3c;_0x13ec4c[_0x4d06b9(0x80)](_0x4c856b),_0x13ec4c[_0x4d06b9(0x13b)](_0x4d06b9(0x128)+_0x4185c3[0x0][_0x4d06b9(0x13b)],0x14,0x0,{'fit':[0x64,0x64]}),_0x13ec4c[_0x4d06b9(0x78)](0x14)['text']('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x15800a,_0xae5bc4),_0x13ec4c['fontSize'](0xa)[_0x4d06b9(0x8d)](_0x4d06b9(0xff),_0x15800a,_0xae5bc4+=0xf),_0x13ec4c[_0x4d06b9(0x78)](0xf)[_0x4d06b9(0x8d)]('FINISHED\x20GOODS\x20TRANSFER\x20SLIP',_0x15800a,_0xae5bc4+=0x32),_0x13ec4c[_0x4d06b9(0x78)](0xa)[_0x4d06b9(0x8d)]('(INCOMING)',_0x15800a,_0xae5bc4+=0x14),_0x13ec4c[_0x4d06b9(0x78)](0x9)[_0x4d06b9(0x8d)](_0x4d06b9(0xd2),_0x15800a,_0xae5bc4+=0x28),_0x13ec4c[_0x4d06b9(0x78)](0x9)[_0x4d06b9(0x8d)](_0x4d06b9(0x86)+_0x3cdc9e[_0x4d06b9(0x129)],_0x15800a+0x3f,_0xae5bc4),_0x13ec4c[_0x4d06b9(0x78)](0x9)[_0x4d06b9(0x8d)](_0x4d06b9(0x104)+_0x3cdc9e[_0x4d06b9(0x11d)],_0x15800a+0x17c,_0xae5bc4),_0x13ec4c['fontSize'](0x9)[_0x4d06b9(0x8d)](_0x4d06b9(0xcc),_0x15800a,_0xae5bc4+=0xb),_0x13ec4c[_0x4d06b9(0x78)](0x9)[_0x4d06b9(0x8d)](_0x4d06b9(0x86)+_0x3cdc9e[_0x4d06b9(0x99)],_0x15800a+0x3f,_0xae5bc4),_0x13ec4c[_0x4d06b9(0x78)](0x9)[_0x4d06b9(0x8d)](_0x4d06b9(0x82),_0x15800a,_0xae5bc4+=0xb),_0x13ec4c[_0x4d06b9(0x78)](0x9)[_0x4d06b9(0x8d)](_0x4d06b9(0x86)+_0x3cdc9e[_0x4d06b9(0x106)],_0x15800a+0x3f,_0xae5bc4);const _0x555a9d={'headers':[{'label':_0x4d06b9(0x72),'property':_0x4d06b9(0x74),'width':0x3c,'renderer':null},{'label':_0x4d06b9(0x97),'property':_0x4d06b9(0x77),'width':0xc8,'renderer':null},{'label':_0x4d06b9(0xe6),'property':'qty','width':0x3c,'renderer':null},{'label':_0x4d06b9(0x8a),'property':_0x4d06b9(0xf2),'width':0x3c,'renderer':null},{'label':_0x4d06b9(0xc3),'property':_0x4d06b9(0xa1),'width':0x50,'renderer':null},{'label':_0x4d06b9(0xee),'property':_0x4d06b9(0x7c),'width':0x3f,'renderer':null},{'label':_0x4d06b9(0xd8),'property':_0x4d06b9(0x108),'width':0x3f,'renderer':null}],'datas':[]};var _0x1c0641=0x0;let _0x3ef3b1='';_0x3cdc9e['warehouse_name']==_0x4d06b9(0xd5)?_0x3ef3b1='DG':_0x3ef3b1='FG';_0x3cdc9e[_0x4d06b9(0xab)]['forEach'](_0x14c46d=>{const _0x5b073f=_0x4d06b9;let _0x550f16='';var _0x105fd3=0x0;const _0x1fa214={'itemcode':_0x14c46d[_0x5b073f(0xb0)],'itemdescription':_0x14c46d[_0x5b073f(0xb4)],'qty':_0x14c46d[_0x5b073f(0x115)],'unit':_0x14c46d['standard_unit'],'expdate':_0x14c46d[_0x5b073f(0x83)],'batchno':_0x14c46d['batch_code'],'binloc':_0x3ef3b1+_0x14c46d[_0x5b073f(0x12b)]};_0x1c0641+=_0x14c46d[_0x5b073f(0x115)],_0x555a9d[_0x5b073f(0xc6)][_0x5b073f(0xaa)](_0x1fa214);}),_0x13ec4c['table'](_0x555a9d,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x13ec4c[_0x4d06b9(0xe7)](_0x4d06b9(0xfb))[_0x4d06b9(0x78)](0x8),'prepareRow':(_0x213f78,_0xecbab0,_0x5d0b3f,_0x3c7654)=>_0x13ec4c[_0x4d06b9(0xe7)](_0x4d06b9(0xc2))[_0x4d06b9(0x78)](0x8)});var _0x355823=_0x13ec4c['y'],_0x44a580=_0x13ec4c['x'];_0x13ec4c['fontSize'](0xa)[_0x4d06b9(0x8d)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x44a580+0x7d,_0x355823),_0x13ec4c[_0x4d06b9(0x78)](0xa)[_0x4d06b9(0x8d)](_0x4d06b9(0xca),_0x44a580,_0x355823+=0x15e),_0x13ec4c['fontSize'](0xa)[_0x4d06b9(0x8d)](_0x1c0641,_0x44a580+0xfa,_0x355823),_0x13ec4c[_0x4d06b9(0x78)](0xa)[_0x4d06b9(0x8d)](_0x4d06b9(0x8f),_0x44a580,_0x355823+=0x19),_0x13ec4c['fontSize'](0xa)[_0x4d06b9(0x8d)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x44a580+0x37,_0x355823,{'underline':!![]}),_0x13ec4c['fontSize'](0xa)[_0x4d06b9(0x8d)](_0x4d06b9(0x7b),_0x44a580,_0x355823+0x32),_0x13ec4c[_0x4d06b9(0x78)](0xa)[_0x4d06b9(0x8d)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x44a580+0x32,_0x355823+0x32,{'underline':!![]}),_0x13ec4c[_0x4d06b9(0x78)](0xa)[_0x4d06b9(0x8d)](_0x4d06b9(0x10d),_0x44a580+0x32,_0x355823+0x3c);let _0x59bb55=_0x13ec4c[_0x4d06b9(0xb5)]();for(let _0x3ae633=0x0;_0x3ae633<_0x59bb55[_0x4d06b9(0x145)];_0x3ae633++){_0x13ec4c['switchToPage'](_0x3ae633);let _0xc7dec3=_0x13ec4c['page'][_0x4d06b9(0x79)][_0x4d06b9(0x7d)];_0x13ec4c['page']['margins'][_0x4d06b9(0x7d)]=0x0,_0x13ec4c[_0x4d06b9(0x8d)]('Page:\x20'+(_0x3ae633+0x1)+_0x4d06b9(0xf5)+_0x59bb55['count'],0x0,_0x13ec4c[_0x4d06b9(0x13f)][_0x4d06b9(0xeb)]-_0xc7dec3/0x2,{'align':'center'}),_0x13ec4c[_0x4d06b9(0x13f)]['margins'][_0x4d06b9(0x7d)]=_0xc7dec3;}const _0x2dbf5c=_0x13ec4c['y'],_0x32435e=_0x13ec4c['x'];_0x13ec4c[_0x4d06b9(0x122)]();}catch(_0x2bd42b){console[_0x4d06b9(0x93)](_0x2bd42b),_0x4c856b[_0x4d06b9(0xa6)](0x1f4)[_0x4d06b9(0x11e)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x469e0d(0xc0)]('/pdf_sales_return_fin/:id',auth,async(_0x20a9d4,_0x12ef02)=>{const _0x5b805a=a0_0x469e0d;try{const {username:_0x382dee,email:_0x522695,role:_0x3a4130}=_0x20a9d4[_0x5b805a(0x10a)],_0xc0cd61=_0x20a9d4['user'],_0xbe05e9=await profile['findOne']({'email':_0xc0cd61[_0x5b805a(0xfa)]}),_0x4068f5=await master_shop['find'](),_0x49e95e=_0x20a9d4[_0x5b805a(0x73)]['id'],_0x56d04f=await sales_return_finished[_0x5b805a(0x12c)](_0x49e95e),_0x331ac2=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x12ef02[_0x5b805a(0xaf)](_0x5b805a(0xa8),'inline;\x20filename=\x22OUT-'+_0x49e95e+_0x5b805a(0xfe)),_0x12ef02[_0x5b805a(0xaf)](_0x5b805a(0x105),_0x5b805a(0x7f));var _0x1dd6c3=0x14,_0x45630d=0x64;_0x331ac2['pipe'](_0x12ef02),_0x331ac2['image']('./public/upload/'+_0x4068f5[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x331ac2['fontSize'](0x14)[_0x5b805a(0x8d)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x1dd6c3,_0x45630d),_0x331ac2[_0x5b805a(0x78)](0xa)['text'](_0x5b805a(0xff),_0x1dd6c3,_0x45630d+=0xf),_0x331ac2['fontSize'](0xf)['text'](_0x5b805a(0x100),_0x1dd6c3,_0x45630d+=0x32),_0x331ac2[_0x5b805a(0x78)](0xa)['text'](_0x5b805a(0xba),_0x1dd6c3,_0x45630d+=0x1e),_0x331ac2[_0x5b805a(0x78)](0x9)[_0x5b805a(0x8d)](_0x5b805a(0xc1)+_0x56d04f[_0x5b805a(0x13a)],_0x1dd6c3,_0x45630d+=0x28),_0x331ac2['fontSize'](0x9)[_0x5b805a(0x8d)](_0x5b805a(0x89)+_0x56d04f[_0x5b805a(0x11b)],0x190,0xd2,{'underline':!![]}),_0x331ac2[_0x5b805a(0x78)](0x9)['text'](_0x5b805a(0xb8),_0x1dd6c3,_0x45630d+=0xb),_0x331ac2[_0x5b805a(0x78)](0x9)[_0x5b805a(0x8d)](_0x5b805a(0xcd)+_0x56d04f['date'],_0x1dd6c3,_0x45630d+=0xb),_0x331ac2[_0x5b805a(0x78)](0x9)['text'](_0x5b805a(0x94)+_0x56d04f[_0x5b805a(0x106)],_0x1dd6c3,_0x45630d+=0xb);var _0x2778e1='',_0x21e302='',_0x41722f=0x0,_0x1adba3;console[_0x5b805a(0x93)](_0x56d04f['warehouse_cat']);_0x56d04f[_0x5b805a(0xe1)]=='GS'?(_0x56d04f[_0x5b805a(0x129)]==_0x5b805a(0xd5)?warecode='DG':warecode='FG',_0x2778e1={'headers':[{'label':_0x5b805a(0x72),'property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x5b805a(0x77),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x5b805a(0x139),'width':0x3c,'renderer':null},{'label':_0x5b805a(0x8a),'property':_0x5b805a(0xf2),'width':0x3c,'renderer':null},{'label':_0x5b805a(0xc3),'property':_0x5b805a(0xa1),'width':0x50,'renderer':null},{'label':_0x5b805a(0xee),'property':_0x5b805a(0x7c),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x5b805a(0x108),'width':0x3f,'renderer':null}],'datas':[]},_0x56d04f[_0x5b805a(0xb1)]['forEach'](_0x1b8ed0=>{const _0xae11b7=_0x5b805a;let _0x3dadfe='';var _0x4ee39d=0x0;_0x21e302={'itemcode':_0x1b8ed0[_0xae11b7(0xb0)],'itemdescription':_0x1b8ed0['product_name'],'qty':_0x1b8ed0[_0xae11b7(0xe8)],'unit':_0x1b8ed0[_0xae11b7(0xf2)],'expdate':_0x1b8ed0[_0xae11b7(0x83)],'batchno':_0x1b8ed0[_0xae11b7(0x96)],'binloc':warecode+_0x1b8ed0[_0xae11b7(0x12b)]},_0x41722f+=_0x1b8ed0[_0xae11b7(0xe8)],console[_0xae11b7(0x93)](_0x1b8ed0),_0x2778e1[_0xae11b7(0xc6)]['push'](_0x21e302);})):(_0x2778e1={'headers':[{'label':_0x5b805a(0x72),'property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x5b805a(0x77),'width':0xc8,'renderer':null},{'label':_0x5b805a(0xe6),'property':_0x5b805a(0x139),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x5b805a(0xf2),'width':0x3c,'renderer':null},{'label':_0x5b805a(0xc3),'property':_0x5b805a(0xa1),'width':0x50,'renderer':null},{'label':_0x5b805a(0xee),'property':_0x5b805a(0x7c),'width':0x3f,'renderer':null}],'datas':[]},_0x56d04f[_0x5b805a(0x120)][_0x5b805a(0xb2)](_0x3795c9=>{const _0x45bbcf=_0x5b805a;let _0x5d4c36='';var _0xae9b13=0x0;_0x21e302={'itemcode':_0x3795c9[_0x45bbcf(0xb0)],'itemdescription':_0x3795c9[_0x45bbcf(0xb4)],'qty':_0x3795c9[_0x45bbcf(0xe8)],'unit':_0x3795c9[_0x45bbcf(0xf2)],'expdate':_0x3795c9[_0x45bbcf(0x83)],'batchno':_0x3795c9[_0x45bbcf(0x96)]},_0x41722f+=_0x3795c9[_0x45bbcf(0xe8)],console['log'](_0x41722f+'\x20<>\x20'+_0x3795c9[_0x45bbcf(0xe8)]),_0x2778e1[_0x45bbcf(0xc6)][_0x45bbcf(0xaa)](_0x21e302);}));_0x331ac2[_0x5b805a(0xac)](_0x2778e1,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x331ac2[_0x5b805a(0xe7)]('Helvetica-Bold')[_0x5b805a(0x78)](0x8),'prepareRow':(_0x7d7ee0,_0x21dbc5,_0xeef6bf,_0x11a6de)=>_0x331ac2[_0x5b805a(0xe7)](_0x5b805a(0xc2))['fontSize'](0x8)});var _0x13907f=_0x331ac2['y'],_0x2bd197=_0x331ac2['x'];_0x331ac2[_0x5b805a(0x78)](0xa)['text'](_0x5b805a(0xbe),_0x2bd197+0x7d,_0x13907f),_0x331ac2[_0x5b805a(0x78)](0xa)[_0x5b805a(0x8d)](_0x5b805a(0xca),_0x2bd197,_0x13907f+=0x190),_0x331ac2[_0x5b805a(0x78)](0xa)[_0x5b805a(0x8d)](_0x41722f,_0x2bd197+0x37,_0x13907f,{'underline':!![]}),_0x331ac2['fontSize'](0xa)[_0x5b805a(0x8d)](_0x5b805a(0x8c),_0x2bd197,_0x13907f+0x1e),_0x331ac2[_0x5b805a(0x78)](0xa)[_0x5b805a(0x8d)](_0x5b805a(0x141),_0x2bd197+0x32,_0x13907f+0x1e,{'underline':!![]});let _0x4161b5=_0x331ac2[_0x5b805a(0xb5)]();for(let _0x1ecc14=0x0;_0x1ecc14<_0x4161b5[_0x5b805a(0x145)];_0x1ecc14++){_0x331ac2['switchToPage'](_0x1ecc14);let _0x127be5=_0x331ac2[_0x5b805a(0x13f)][_0x5b805a(0x79)]['bottom'];_0x331ac2[_0x5b805a(0x13f)][_0x5b805a(0x79)]['bottom']=0x0,_0x331ac2[_0x5b805a(0x8d)](_0x5b805a(0xd1)+(_0x1ecc14+0x1)+_0x5b805a(0xf5)+_0x4161b5[_0x5b805a(0x145)],0x0,_0x331ac2['page'][_0x5b805a(0xeb)]-_0x127be5/0x2,{'align':_0x5b805a(0x88)}),_0x331ac2[_0x5b805a(0x13f)][_0x5b805a(0x79)][_0x5b805a(0x7d)]=_0x127be5;}const _0x285b7b=_0x331ac2['y'],_0x395a7d=_0x331ac2['x'];_0x331ac2[_0x5b805a(0x122)]();}catch(_0x1efced){console['log'](_0x1efced),_0x12ef02[_0x5b805a(0xa6)](0x1f4)[_0x5b805a(0x11e)](_0x5b805a(0xa5));}}),router[a0_0x469e0d(0xc0)](a0_0x469e0d(0x134),auth,async(_0x5eeb01,_0x1a0c7d)=>{const _0x5bd014=a0_0x469e0d;try{const {username:_0x298287,email:_0x584fde,role:_0x1576f4}=_0x5eeb01[_0x5bd014(0x10a)],_0x57ba06=_0x5eeb01['user'],_0xf3f52a=await profile[_0x5bd014(0x113)]({'email':_0x57ba06['email']}),_0x2912d3=await master_shop['find'](),_0x14936f=_0x5eeb01[_0x5bd014(0x73)]['id'],_0x146068=await purchases[_0x5bd014(0x12c)](_0x14936f),_0x40cd0f=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1a0c7d[_0x5bd014(0xaf)](_0x5bd014(0xa8),_0x5bd014(0xd7)+_0x14936f+_0x5bd014(0xfe)),_0x1a0c7d[_0x5bd014(0xaf)]('Content-type',_0x5bd014(0x7f));var _0x3dc378=0x14,_0x17bf57=0x3c;_0x40cd0f['pipe'](_0x1a0c7d),_0x40cd0f[_0x5bd014(0x13b)](_0x5bd014(0x128)+_0x2912d3[0x0][_0x5bd014(0x13b)],0x14,0x0,{'fit':[0x64,0x64]}),_0x40cd0f['fontSize'](0x14)[_0x5bd014(0x8d)](_0x5bd014(0x110),_0x3dc378,_0x17bf57),_0x40cd0f[_0x5bd014(0x78)](0xa)['text'](_0x5bd014(0xff),_0x3dc378,_0x17bf57+=0xf),_0x40cd0f[_0x5bd014(0x78)](0xf)[_0x5bd014(0x8d)](_0x5bd014(0xe2),_0x3dc378,_0x17bf57+=0x32),_0x40cd0f['fontSize'](0xa)[_0x5bd014(0x8d)](_0x5bd014(0xc5),_0x3dc378,_0x17bf57+=0x14),_0x40cd0f[_0x5bd014(0x78)](0x9)[_0x5bd014(0x8d)](_0x5bd014(0xd2),_0x3dc378,_0x17bf57+=0x2d),_0x40cd0f['fontSize'](0x9)['text']('\x20:\x20'+_0x146068['warehouse_name'],_0x3dc378+0x3f,_0x17bf57),_0x40cd0f['fontSize'](0x9)[_0x5bd014(0x8d)](_0x5bd014(0x127)+_0x146068[_0x5bd014(0x143)],_0x3dc378+0x17c,_0x17bf57,{'underline':!![]}),_0x40cd0f['fontSize'](0x9)[_0x5bd014(0x8d)](_0x5bd014(0xcc),_0x3dc378,_0x17bf57+=0xb),_0x40cd0f['fontSize'](0x9)['text'](_0x5bd014(0x86)+_0x146068[_0x5bd014(0x99)],_0x3dc378+0x3f,_0x17bf57),_0x40cd0f[_0x5bd014(0x78)](0x9)[_0x5bd014(0x8d)](_0x5bd014(0x82),_0x3dc378,_0x17bf57+=0xb),_0x40cd0f[_0x5bd014(0x78)](0x9)[_0x5bd014(0x8d)](_0x5bd014(0x86)+_0x146068[_0x5bd014(0x106)],_0x3dc378+0x3f,_0x17bf57);const _0x546b3a={'headers':[{'label':_0x5bd014(0x72),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x5bd014(0x97),'property':_0x5bd014(0x77),'width':0x96,'renderer':null},{'label':_0x5bd014(0x130),'property':_0x5bd014(0x139),'width':0x2d,'renderer':null},{'label':_0x5bd014(0x8a),'property':_0x5bd014(0xf2),'width':0x3c,'renderer':null},{'label':_0x5bd014(0xc3),'property':'expdate','width':0x46,'renderer':null},{'label':_0x5bd014(0xee),'property':_0x5bd014(0x7c),'width':0x3c,'renderer':null},{'label':_0x5bd014(0xd8),'property':_0x5bd014(0x108),'width':0x3c,'renderer':null},{'label':_0x5bd014(0x12e),'property':_0x5bd014(0xe5),'width':0x3f,'renderer':null}],'datas':[]};var _0x27c1ae=0x0;let _0x2a8651='';_0x146068[_0x5bd014(0xab)]['forEach'](_0x53d716=>{const _0x57b288=_0x5bd014;let _0x1e11b2='';var _0x208605=0x0;const _0x5c6295={'itemcode':_0x53d716['product_code'],'itemdescription':_0x53d716[_0x57b288(0xb4)],'qty':_0x53d716[_0x57b288(0x115)],'unit':_0x53d716[_0x57b288(0x125)],'expdate':_0x53d716[_0x57b288(0x83)],'batchno':_0x53d716[_0x57b288(0x96)],'binloc':_0x53d716['storage']+_0x53d716[_0x57b288(0xb3)]+_0x53d716[_0x57b288(0x12b)]+_0x53d716['bin']+_0x53d716[_0x57b288(0x9d)][0x0]+_0x53d716[_0x57b288(0xdf)],'DelCode':_0x53d716[_0x57b288(0xf0)]};_0x27c1ae+=_0x53d716[_0x57b288(0x115)],_0x546b3a[_0x57b288(0xc6)][_0x57b288(0xaa)](_0x5c6295);}),_0x40cd0f['table'](_0x546b3a,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x40cd0f[_0x5bd014(0xe7)]('Helvetica-Bold')[_0x5bd014(0x78)](0x8),'prepareRow':(_0x21a4e4,_0x44dc81,_0x59eb80,_0x572e05)=>_0x40cd0f['font'](_0x5bd014(0xc2))[_0x5bd014(0x78)](0x8)});var _0x54eb86=_0x40cd0f['y'],_0x21a2f8=_0x40cd0f['x'];_0x40cd0f[_0x5bd014(0x78)](0xa)[_0x5bd014(0x8d)](_0x5bd014(0xbe),_0x21a2f8+0x7d,_0x54eb86),_0x40cd0f['fontSize'](0xa)[_0x5bd014(0x8d)](_0x5bd014(0xca),_0x21a2f8,_0x54eb86+=0x15e),_0x40cd0f['fontSize'](0xa)['text'](_0x27c1ae,_0x21a2f8+0xf0,_0x54eb86,{'underline':!![]}),_0x40cd0f['fontSize'](0xa)[_0x5bd014(0x8d)](_0x5bd014(0xb6),_0x21a2f8,_0x54eb86+0x28),_0x40cd0f[_0x5bd014(0x78)](0xa)[_0x5bd014(0x8d)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x21a2f8+0x40,_0x54eb86+0x28,{'underline':!![]}),_0x40cd0f[_0x5bd014(0x78)](0xa)['text'](_0x5bd014(0x9c),_0x21a2f8+0x40,_0x54eb86+0x32);let _0x5baca8=_0x40cd0f['bufferedPageRange']();for(let _0x87701d=0x0;_0x87701d<_0x5baca8[_0x5bd014(0x145)];_0x87701d++){_0x40cd0f['switchToPage'](_0x87701d);let _0x4fce41=_0x40cd0f[_0x5bd014(0x13f)][_0x5bd014(0x79)]['bottom'];_0x40cd0f[_0x5bd014(0x13f)][_0x5bd014(0x79)][_0x5bd014(0x7d)]=0x0,_0x40cd0f[_0x5bd014(0x8d)](_0x5bd014(0xd1)+(_0x87701d+0x1)+'\x20of\x20'+_0x5baca8['count'],0x0,_0x40cd0f['page'][_0x5bd014(0xeb)]-_0x4fce41/0x2,{'align':_0x5bd014(0x88)}),_0x40cd0f[_0x5bd014(0x13f)][_0x5bd014(0x79)]['bottom']=_0x4fce41;}const _0xdf368e=_0x40cd0f['y'],_0x11dfca=_0x40cd0f['x'];_0x40cd0f['end']();}catch(_0x286dfe){console[_0x5bd014(0x93)](_0x286dfe),_0x1a0c7d[_0x5bd014(0xa6)](0x1f4)[_0x5bd014(0x11e)](_0x5bd014(0xa5));}}),router[a0_0x469e0d(0xc0)](a0_0x469e0d(0x87),auth,async(_0x566bb6,_0x573bee)=>{const _0x4a8807=a0_0x469e0d;try{const {username:_0x587d20,email:_0x3e4fe2,role:_0x1d54a1}=_0x566bb6['user'],_0x3d2767=_0x566bb6[_0x4a8807(0x10a)],_0x4df6ff=await profile[_0x4a8807(0x113)]({'email':_0x3d2767[_0x4a8807(0xfa)]}),_0x460889=await master_shop[_0x4a8807(0x10e)](),_0x2eae05=_0x566bb6['params']['id'],_0x1e19d3=await sales[_0x4a8807(0x12c)](_0x2eae05),_0x42ebb3=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x292ca5;_0x292ca5=_0x4a8807(0x100);_0x1e19d3['finalize']==_0x4a8807(0xa2)&&(_0x292ca5='DELIVERY\x20RECEIPT');_0x573bee[_0x4a8807(0xaf)](_0x4a8807(0xa8),_0x4a8807(0xd7)+_0x2eae05+_0x4a8807(0xfe)),_0x573bee[_0x4a8807(0xaf)](_0x4a8807(0x105),_0x4a8807(0x7f));var _0x292e73=0x14,_0x3c1e62=0x64;_0x42ebb3[_0x4a8807(0x80)](_0x573bee),_0x42ebb3[_0x4a8807(0x13b)](_0x4a8807(0x128)+_0x460889[0x0][_0x4a8807(0x13b)],0x14,0x0,{'fit':[0x64,0x64]}),_0x42ebb3[_0x4a8807(0x78)](0x14)[_0x4a8807(0x8d)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x292e73,_0x3c1e62),_0x42ebb3['fontSize'](0xa)[_0x4a8807(0x8d)](_0x4a8807(0xff),_0x292e73,_0x3c1e62+=0xf),_0x42ebb3[_0x4a8807(0x78)](0xf)[_0x4a8807(0x8d)](_0x292ca5,_0x292e73,_0x3c1e62+=0x32),_0x42ebb3['fontSize'](0xa)['text'](_0x4a8807(0xec),_0x292e73,_0x3c1e62+=0x14),_0x42ebb3[_0x4a8807(0x78)](0x9)[_0x4a8807(0x8d)](_0x4a8807(0xcc),_0x292e73,_0x3c1e62+=0x19),_0x42ebb3[_0x4a8807(0x78)](0x9)['text'](_0x4a8807(0x86)+_0x1e19d3[_0x4a8807(0x99)],_0x292e73+0x3f,_0x3c1e62),_0x42ebb3[_0x4a8807(0x78)](0x9)[_0x4a8807(0x8d)]('REF\x20MRIS#\x20',_0x292e73,_0x3c1e62+=0xb),_0x42ebb3['fontSize'](0x9)[_0x4a8807(0x8d)](_0x4a8807(0x86)+_0x1e19d3[_0x4a8807(0x106)],_0x292e73+0x3f,_0x3c1e62);const _0x171bc9={'headers':[{'label':'ITEM\x20CODE','property':_0x4a8807(0x74),'align':'center','width':0x2d,'renderer':null},{'label':_0x4a8807(0x76),'property':'itemdescription','align':_0x4a8807(0x88),'width':0x64,'renderer':null},{'label':_0x4a8807(0x144),'property':_0x4a8807(0xc9),'align':'center','width':0x28,'renderer':null},{'label':_0x4a8807(0xe4),'property':_0x4a8807(0x71),'align':_0x4a8807(0x88),'width':0x28,'renderer':null},{'label':_0x4a8807(0x8a),'property':_0x4a8807(0xf2),'align':_0x4a8807(0x88),'width':0x28,'renderer':null},{'label':_0x4a8807(0x116),'property':_0x4a8807(0xe3),'align':_0x4a8807(0x88),'width':0x32,'renderer':null},{'label':_0x4a8807(0x98),'property':_0x4a8807(0x7a),'align':_0x4a8807(0x88),'width':0x3c,'renderer':null},{'label':_0x4a8807(0x9b),'property':_0x4a8807(0xa1),'align':_0x4a8807(0x88),'width':0x3c,'renderer':null},{'label':_0x4a8807(0xdb),'property':_0x4a8807(0x91),'align':_0x4a8807(0x88),'width':0x3f,'renderer':null},{'label':_0x4a8807(0xd3),'property':_0x4a8807(0x126),'align':_0x4a8807(0x88),'width':0x3f,'renderer':null}],'datas':[]};var _0x29a335=0x0;let _0x37d4cd='';var _0x3f2e0a=0x0,_0x292e73=0x1;_0x1e19d3[_0x4a8807(0x101)]['forEach'](_0x1042a5=>{const _0x43f422=_0x4a8807,_0x490f55=new Date(_0x1042a5[_0x43f422(0x6f)]),_0x2e9b05={'year':_0x43f422(0x12f),'month':_0x43f422(0x136),'day':_0x43f422(0x12f)},_0x4bdf22=_0x490f55[_0x43f422(0xf4)](_0x43f422(0x70),_0x2e9b05),_0x1f8b0a=new Date(_0x1042a5['expiry_date']),_0xe8825={'year':_0x43f422(0x12f),'month':'short','day':'numeric'},_0x160123=_0x1f8b0a[_0x43f422(0xf4)]('en-US',_0xe8825),_0x4b5fc1=new Date(_0x1042a5[_0x43f422(0xc4)]),_0x186695={'year':_0x43f422(0x12f),'month':'short','day':'numeric'};var _0x59e789=_0x4b5fc1[_0x43f422(0xf4)]('en-US',_0x186695);typeof _0x1042a5[_0x43f422(0xc4)]=='undefined'&&(_0x59e789='');const _0xf0aca3={'itemcode':_0x1042a5[_0x43f422(0xb0)],'itemdescription':_0x1042a5[_0x43f422(0xb4)],'rqty':_0x1042a5[_0x43f422(0x142)],'iqty':_0x1042a5[_0x43f422(0x115)],'unit':_0x1042a5[_0x43f422(0xf2)],'blocation':_0x1042a5[_0x43f422(0x11c)]+_0x1042a5[_0x43f422(0xb3)]+_0x1042a5[_0x43f422(0x12b)]+_0x1042a5[_0x43f422(0xae)]+_0x1042a5[_0x43f422(0x9d)][0x0]+_0x1042a5[_0x43f422(0xdf)],'proddate':_0x4bdf22,'expdate':_0x160123,'del_date':_0x59e789,'del_code':_0x1042a5[_0x43f422(0xf0)]};_0x292e73++,_0x171bc9[_0x43f422(0xc6)][_0x43f422(0xaa)](_0xf0aca3);}),_0x42ebb3['table'](_0x171bc9,{'x':_0x292e73+0x11,'y':_0x3c1e62+=0x1e,'prepareHeader':()=>_0x42ebb3[_0x4a8807(0xe7)]('Helvetica-Bold')[_0x4a8807(0x78)](6.5),'prepareRow':(_0xe372c7,_0x4eb2a0,_0x106294,_0x58c4b5,_0x37ed63)=>{const _0x5ee211=_0x4a8807,{x:_0x2e134e,y:_0x2c09a8,width:_0x28a4e9,height:_0x463817}=_0x37ed63;_0x42ebb3[_0x5ee211(0xe7)](_0x5ee211(0xc2))[_0x5ee211(0x78)](0x8),_0x42ebb3[_0x5ee211(0xf7)](0.5)['moveTo'](_0x2e134e,_0x2c09a8)[_0x5ee211(0xf8)](_0x2e134e,_0x2c09a8+_0x463817)['stroke']();}});var _0x5c1c79=_0x42ebb3['y'],_0x1d82a1=_0x42ebb3['x'],_0x5e6e21=_0x5c1c79-=0x8;_0x42ebb3['lineWidth'](0x5),_0x42ebb3[_0x4a8807(0x10b)](_0x4a8807(0xc7))[_0x4a8807(0x132)](0x240,_0x5e6e21)[_0x4a8807(0xf8)](0x11,_0x5e6e21)[_0x4a8807(0xf9)](),_0x42ebb3['fontSize'](0xa)[_0x4a8807(0x8d)](_0x4a8807(0xbe),_0x1d82a1+0x7d,_0x5c1c79+=0xf),_0x42ebb3[_0x4a8807(0x78)](0xb)[_0x4a8807(0x8d)]('PREPARED\x20BY\x20:\x20',_0x1d82a1,_0x5c1c79+=0x15e),_0x42ebb3[_0x4a8807(0x78)](0xa)['text'](_0x4a8807(0x13e),_0x1d82a1+0x52,_0x5c1c79,{'underline':!![]}),_0x42ebb3['fontSize'](0xa)[_0x4a8807(0x8d)](_0x4a8807(0x119),_0x1d82a1,_0x5c1c79+=0x19),_0x42ebb3[_0x4a8807(0x78)](0xa)[_0x4a8807(0x8d)](_0x4a8807(0x86),_0x1d82a1+0x4b,_0x5c1c79),_0x42ebb3['fontSize'](0xa)['text']('\x20'[_0x4a8807(0xf3)](0x3c),_0x1d82a1+0x50,_0x5c1c79,{'underline':!![]}),_0x42ebb3[_0x4a8807(0x78)](0xa)[_0x4a8807(0x8d)](_0x4a8807(0x12d),_0x1d82a1,_0x5c1c79+=0x32),_0x42ebb3['fontSize'](0xa)['text'](_0x4a8807(0x86),_0x1d82a1+0x4b,_0x5c1c79),_0x42ebb3['fontSize'](0xa)[_0x4a8807(0x8d)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1d82a1+0x50,_0x5c1c79,{'underline':!![]}),_0x42ebb3[_0x4a8807(0x78)](0xa)[_0x4a8807(0x8d)](_0x4a8807(0x9c),_0x1d82a1+0x50,_0x5c1c79+0xc);let _0x3b554b=_0x42ebb3[_0x4a8807(0xb5)]();for(let _0x36135c=0x0;_0x36135c<_0x3b554b['count'];_0x36135c++){_0x42ebb3[_0x4a8807(0xcb)](_0x36135c);let _0x13b9f7=_0x42ebb3[_0x4a8807(0x13f)][_0x4a8807(0x79)]['bottom'];_0x42ebb3[_0x4a8807(0x13f)][_0x4a8807(0x79)]['bottom']=0x0,_0x42ebb3[_0x4a8807(0x8d)](_0x4a8807(0xd1)+(_0x36135c+0x1)+'\x20of\x20'+_0x3b554b[_0x4a8807(0x145)],0x0,_0x42ebb3[_0x4a8807(0x13f)][_0x4a8807(0xeb)]-_0x13b9f7/0x2,{'align':_0x4a8807(0x88)}),_0x42ebb3[_0x4a8807(0x13f)]['margins']['bottom']=_0x13b9f7;}const _0x4c6566=_0x42ebb3['y'],_0x461b01=_0x42ebb3['x'];_0x42ebb3['end']();}catch(_0x550199){console['log'](_0x550199),_0x573bee[_0x4a8807(0xa6)](0x1f4)[_0x4a8807(0x11e)](_0x4a8807(0xa5));}}),router['get']('/PDF_adjustment_rm/:id',auth,async(_0x53d189,_0x383305)=>{const _0x481276=a0_0x469e0d;try{const {username:_0x2206be,email:_0x23d36b,role:_0x345925}=_0x53d189[_0x481276(0x10a)],_0x15bb53=_0x53d189['user'],_0x353ece=await profile[_0x481276(0x113)]({'email':_0x15bb53[_0x481276(0xfa)]}),_0x10b7ad=await master_shop[_0x481276(0x10e)](),_0x4f3273=_0x53d189[_0x481276(0x73)]['id'],_0x16892d=await adjustment[_0x481276(0x12c)](_0x4f3273);var _0x149302,_0x10eda1;_0x149302=_0x481276(0x100),_0x10eda1=_0x481276(0x7e);_0x16892d[_0x481276(0x85)]==_0x481276(0xa2)&&(_0x149302=_0x481276(0xad),_0x10eda1='');const _0x53b5c3=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x383305['setHeader'](_0x481276(0xa8),_0x481276(0xd7)+_0x4f3273+_0x481276(0xfe)),_0x383305[_0x481276(0xaf)](_0x481276(0x105),'application/pdf');var _0x3ac2e8=0x14,_0x3f8743=0x3c;_0x53b5c3[_0x481276(0x80)](_0x383305),_0x53b5c3[_0x481276(0x13b)](_0x481276(0x128)+_0x10b7ad[0x0][_0x481276(0x13b)],0x14,0x0,{'fit':[0x64,0x64]}),_0x53b5c3['fontSize'](0x14)[_0x481276(0x8d)](_0x481276(0x110),_0x3ac2e8,_0x3f8743),_0x53b5c3[_0x481276(0x78)](0xa)[_0x481276(0x8d)](_0x481276(0xff),_0x3ac2e8,_0x3f8743+=0xf),_0x53b5c3[_0x481276(0x78)](0xf)['text'](_0x149302,_0x3ac2e8,_0x3f8743+=0x32),_0x53b5c3[_0x481276(0x78)](0xa)[_0x481276(0x8d)](_0x10eda1,_0x3ac2e8,_0x3f8743+=0x14),_0x53b5c3[_0x481276(0x78)](0x9)[_0x481276(0x8d)](_0x481276(0xd2),_0x3ac2e8,_0x3f8743+=0x28),_0x53b5c3[_0x481276(0x78)](0x9)[_0x481276(0x8d)](_0x481276(0x86)+_0x16892d[_0x481276(0x129)],_0x3ac2e8+0x3f,_0x3f8743),_0x53b5c3[_0x481276(0x78)](0x9)['text'](_0x481276(0xcc),_0x3ac2e8,_0x3f8743+=0xb),_0x53b5c3[_0x481276(0x78)](0x9)[_0x481276(0x8d)](_0x481276(0x86)+_0x16892d[_0x481276(0x99)],_0x3ac2e8+0x3f,_0x3f8743),_0x53b5c3[_0x481276(0x78)](0x9)[_0x481276(0x8d)](_0x481276(0x82),_0x3ac2e8,_0x3f8743+=0xb),_0x53b5c3[_0x481276(0x78)](0x9)['text'](_0x481276(0x86)+_0x16892d['invoice'],_0x3ac2e8+0x3f,_0x3f8743);const _0x5ecf3e={'headers':[{'label':_0x481276(0x72),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x481276(0x97),'property':_0x481276(0x77),'width':0x96,'renderer':null},{'label':_0x481276(0xe6),'property':_0x481276(0x139),'width':0x3c,'renderer':null},{'label':_0x481276(0x8a),'property':'unit','width':0x3c,'renderer':null},{'label':_0x481276(0x137),'property':_0x481276(0x7a),'width':0x50,'renderer':null},{'label':_0x481276(0xee),'property':_0x481276(0x7c),'width':0x3f,'renderer':null},{'label':_0x481276(0xd8),'property':_0x481276(0x108),'width':0x3f,'renderer':null}],'datas':[]};var _0x1ff802=0x0,_0x5a8216=0x0;_0x16892d[_0x481276(0xab)][_0x481276(0xb2)](_0x431452=>{const _0x5bd8c8=_0x481276;let _0x124fd2='';const _0x1b5e35=_0x431452[_0x5bd8c8(0x138)];for(let _0x2db1d8=0x1;_0x2db1d8<=_0x1b5e35;_0x2db1d8++){_0x1b5e35==_0x2db1d8?_0x124fd2+=_0x431452['maxperunit']:_0x124fd2+=_0x431452[_0x5bd8c8(0xcf)]+',',_0x5a8216+=_0x431452['maxperunit'];}_0x124fd2+=_0x5bd8c8(0xbf)+_0x431452['secondary_unit'];const _0x504f90={'itemcode':_0x431452[_0x5bd8c8(0xb0)],'itemdescription':_0x431452[_0x5bd8c8(0xb4)],'qty':_0x431452['new_adjust_qty'],'unit':_0x431452['unit'],'proddate':_0x431452[_0x5bd8c8(0x6f)],'batchno':_0x431452[_0x5bd8c8(0x96)],'binloc':_0x431452['storage']+_0x431452[_0x5bd8c8(0xb3)]+_0x431452[_0x5bd8c8(0x12b)]+_0x431452[_0x5bd8c8(0xae)]+_0x431452[_0x5bd8c8(0x9d)][0x0]+_0x431452['floorlevel']};_0x1ff802+=_0x431452['new_adjust_qty'],_0x5ecf3e[_0x5bd8c8(0xc6)]['push'](_0x504f90);}),_0x53b5c3[_0x481276(0xac)](_0x5ecf3e,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x53b5c3[_0x481276(0xe7)](_0x481276(0xfb))[_0x481276(0x78)](0x8),'prepareRow':(_0x32b1b1,_0x2b3dc1,_0x56708f,_0x4807fb)=>_0x53b5c3[_0x481276(0xe7)](_0x481276(0xc2))['fontSize'](0x8)});var _0xee5a2=_0x53b5c3['y'],_0x9816ec=_0x53b5c3['x'];_0x53b5c3[_0x481276(0x78)](0xa)[_0x481276(0x8d)](_0x481276(0xbe),_0x9816ec+0x7d,_0xee5a2),_0x53b5c3[_0x481276(0x78)](0xa)['text']('TOTAL\x20QTY\x20:\x20',_0x9816ec,_0xee5a2+=0x136),_0x53b5c3[_0x481276(0x78)](0xa)[_0x481276(0x8d)](_0x1ff802,_0x9816ec+0xc8,_0xee5a2),_0x53b5c3[_0x481276(0x78)](0xa)[_0x481276(0x8d)](_0x481276(0xfd),_0x9816ec,_0xee5a2+=0x19),_0x53b5c3[_0x481276(0x78)](0xa)[_0x481276(0x8d)]('\x20'['repeat'](0x3c),_0x9816ec+0x3e,_0xee5a2,{'underline':!![]}),_0x53b5c3[_0x481276(0x78)](0xa)['text'](_0x481276(0x81),_0x9816ec,_0xee5a2+=0x32),_0x53b5c3[_0x481276(0x78)](0xa)[_0x481276(0x8d)](_0x481276(0x86),_0x9816ec+0x37,_0xee5a2),_0x53b5c3[_0x481276(0x78)](0xa)[_0x481276(0x8d)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x9816ec+0x3c,_0xee5a2,{'underline':!![]}),_0x53b5c3[_0x481276(0x78)](0xa)['text']('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x9816ec+0x3c,_0xee5a2+0xc);let _0x5d1417=_0x53b5c3[_0x481276(0xb5)]();for(let _0x5f3ae8=0x0;_0x5f3ae8<_0x5d1417[_0x481276(0x145)];_0x5f3ae8++){_0x53b5c3[_0x481276(0xcb)](_0x5f3ae8);let _0x2036ef=_0x53b5c3['page'][_0x481276(0x79)]['bottom'];_0x53b5c3[_0x481276(0x13f)]['margins'][_0x481276(0x7d)]=0x0,_0x53b5c3[_0x481276(0x8d)](_0x481276(0xd1)+(_0x5f3ae8+0x1)+_0x481276(0xf5)+_0x5d1417['count'],0x0,_0x53b5c3[_0x481276(0x13f)][_0x481276(0xeb)]-_0x2036ef/0x2,{'align':_0x481276(0x88)}),_0x53b5c3[_0x481276(0x13f)][_0x481276(0x79)]['bottom']=_0x2036ef;}const _0x337225=_0x53b5c3['y'],_0x46e4f0=_0x53b5c3['x'];_0x53b5c3[_0x481276(0x122)]();}catch(_0x1be1fc){console['log'](_0x1be1fc),_0x383305[_0x481276(0xa6)](0x1f4)[_0x481276(0x11e)](_0x481276(0xa5));}}),router[a0_0x469e0d(0xc0)](a0_0x469e0d(0xe0),auth,async(_0x57b443,_0x547095)=>{const _0x4ff7be=a0_0x469e0d;try{const {username:_0x5a8422,email:_0x1fa59d,role:_0x4093d5}=_0x57b443['user'],_0x5601ee=_0x57b443['user'],_0x1af10b=await profile['findOne']({'email':_0x5601ee[_0x4ff7be(0xfa)]}),_0x5f2f97=await master_shop['find'](),_0x31f183=_0x57b443['params']['id'],_0x2d0088=await transfers[_0x4ff7be(0x12c)](_0x31f183);var _0x3eac1d,_0xf8d3ef;_0x3eac1d='Picking\x20List',_0xf8d3ef=_0x4ff7be(0x8b);_0x2d0088[_0x4ff7be(0x85)]=='True'&&(_0x3eac1d=_0x4ff7be(0xf1),_0xf8d3ef='');const _0x5b244f=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x547095[_0x4ff7be(0xaf)]('Content-disposition',_0x4ff7be(0xd7)+_0x31f183+'.pdf\x22'),_0x547095[_0x4ff7be(0xaf)](_0x4ff7be(0x105),_0x4ff7be(0x7f));var _0x4360de=0x14,_0xc242f3=0x3c;_0x5b244f[_0x4ff7be(0x80)](_0x547095),_0x5b244f[_0x4ff7be(0x13b)](_0x4ff7be(0x128)+_0x5f2f97[0x0][_0x4ff7be(0x13b)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5b244f[_0x4ff7be(0x78)](0x14)[_0x4ff7be(0x8d)](_0x4ff7be(0x110),_0x4360de,_0xc242f3),_0x5b244f[_0x4ff7be(0x78)](0xa)[_0x4ff7be(0x8d)](_0x4ff7be(0xff),_0x4360de,_0xc242f3+=0xf),_0x5b244f['fontSize'](0xf)[_0x4ff7be(0x8d)](_0x3eac1d,_0x4360de,_0xc242f3+=0x32),_0x5b244f[_0x4ff7be(0x78)](0xa)[_0x4ff7be(0x8d)](_0xf8d3ef,_0x4360de,_0xc242f3+=0x14),_0x5b244f[_0x4ff7be(0x78)](0x9)[_0x4ff7be(0x8d)](_0x4ff7be(0xd6),_0x4360de,_0xc242f3+=0x28),_0x5b244f[_0x4ff7be(0x78)](0x9)[_0x4ff7be(0x8d)](_0x4ff7be(0xa3)+_0x2d0088[_0x4ff7be(0xdd)],_0x4360de+0x3f,_0xc242f3),_0x5b244f[_0x4ff7be(0x78)](0x9)['text']('To\x20Warehouse\x20',_0x4360de,_0xc242f3+=0xa),_0x5b244f[_0x4ff7be(0x78)](0x9)[_0x4ff7be(0x8d)]('\x20\x20\x20:\x20'+_0x2d0088[_0x4ff7be(0xde)],_0x4360de+0x3f,_0xc242f3),_0x5b244f[_0x4ff7be(0x78)](0x9)[_0x4ff7be(0x8d)](_0x4ff7be(0xcc),_0x4360de,_0xc242f3+=0xb),_0x5b244f['fontSize'](0x9)[_0x4ff7be(0x8d)](_0x4ff7be(0xa3)+_0x2d0088[_0x4ff7be(0x99)],_0x4360de+0x3f,_0xc242f3),_0x5b244f['fontSize'](0x9)['text'](_0x4ff7be(0x82),_0x4360de,_0xc242f3+=0xb),_0x5b244f[_0x4ff7be(0x78)](0x9)[_0x4ff7be(0x8d)](_0x4ff7be(0xa3)+_0x2d0088[_0x4ff7be(0x106)],_0x4360de+0x3f,_0xc242f3);const _0x2d8f94={'headers':[{'label':'','property':_0x4ff7be(0x74),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x4ff7be(0xd4),'property':_0x4ff7be(0x74),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x4ff7be(0x13d),'property':_0x4ff7be(0x77),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x5b244f[_0x4ff7be(0xac)](_0x2d8f94,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x5b244f[_0x4ff7be(0xe7)](_0x4ff7be(0xfb))['fontSize'](0x8),'prepareRow':(_0x1084a6,_0x442842,_0x2fa1d4,_0x505cea)=>_0x5b244f['font'](_0x4ff7be(0xc2))['fontSize'](0x8)});const _0x5aeac4={'headers':[{'label':_0x4ff7be(0x72),'property':_0x4ff7be(0x74),'width':0x3c,'renderer':null},{'label':_0x4ff7be(0x97),'property':_0x4ff7be(0x77),'width':0x96,'renderer':null},{'label':_0x4ff7be(0xe6),'property':_0x4ff7be(0x139),'width':0x28,'renderer':null},{'label':_0x4ff7be(0x8a),'property':_0x4ff7be(0xf2),'width':0x37,'renderer':null},{'label':_0x4ff7be(0x137),'property':_0x4ff7be(0x7a),'width':0x4b,'renderer':null},{'label':_0x4ff7be(0xee),'property':_0x4ff7be(0x7c),'width':0x3f,'renderer':null},{'label':_0x4ff7be(0xd8),'property':'binlocFrom','width':0x3f,'renderer':null},{'label':_0x4ff7be(0xd8),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x48e124=0x0;let _0x42e195='';var _0x36c833=0x0;_0x2d0088[_0x4ff7be(0xab)][_0x4ff7be(0xb2)](_0x19d7ee=>{const _0x20be61=_0x4ff7be;var _0x53cf3b=_0x19d7ee[_0x20be61(0x84)],_0xa284af;_0xa284af=_0x19d7ee[_0x20be61(0xf2)];_0x53cf3b=='S'&&(_0xa284af=_0x19d7ee[_0x20be61(0x107)]);const _0x2f4502={'itemcode':_0x19d7ee['product_code'],'itemdescription':_0x19d7ee['product_name'],'qty':_0x19d7ee[_0x20be61(0x138)],'unit':_0xa284af,'proddate':_0x19d7ee['production_date'],'batchno':_0x19d7ee['batch_code'],'binloc':_0x19d7ee[_0x20be61(0x11c)]+_0x19d7ee[_0x20be61(0xb3)]+_0x19d7ee[_0x20be61(0xfc)]+_0x19d7ee[_0x20be61(0x9a)]+_0x19d7ee[_0x20be61(0x109)][0x0]+_0x19d7ee[_0x20be61(0xa4)],'qtyFrom':_0x19d7ee[_0x20be61(0x102)],'binlocFrom':_0x19d7ee['from_storage']+_0x19d7ee['from_rack']+_0x19d7ee[_0x20be61(0x121)]+_0x19d7ee[_0x20be61(0xce)]+_0x19d7ee['from_types'][0x0]+_0x19d7ee['from_floorlevel']};_0x48e124+=_0x19d7ee['to_quantity'],_0x5aeac4[_0x20be61(0xc6)][_0x20be61(0xaa)](_0x2f4502);}),_0x5b244f['table'](_0x5aeac4,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x5b244f[_0x4ff7be(0xe7)]('Helvetica-Bold')[_0x4ff7be(0x78)](0x8),'prepareRow':(_0x32466a,_0x5d1eef,_0x1187ae,_0x1ec868)=>_0x5b244f[_0x4ff7be(0xe7)](_0x4ff7be(0xc2))[_0x4ff7be(0x78)](0x8)});var _0x12b2d0=_0x5b244f['y'],_0x31f2fe=_0x5b244f['x'];_0x5b244f[_0x4ff7be(0x78)](0xa)['text'](_0x4ff7be(0xbe),_0x31f2fe+0x7d,_0x12b2d0),_0x5b244f[_0x4ff7be(0x78)](0xa)[_0x4ff7be(0x8d)]('TOTAL\x20QTY:\x20',_0x31f2fe,_0x12b2d0+=0x12c),_0x5b244f[_0x4ff7be(0x78)](0xa)[_0x4ff7be(0x8d)](_0x48e124,_0x31f2fe+0xd7,_0x12b2d0,{'underline':!![]}),_0x5b244f[_0x4ff7be(0x78)](0xa)[_0x4ff7be(0x8d)](_0x4ff7be(0xd0),_0x31f2fe,_0x12b2d0+=0x32),_0x5b244f[_0x4ff7be(0x78)](0xa)[_0x4ff7be(0x8d)](_0x4ff7be(0x8e),_0x31f2fe+0x3c,_0x12b2d0,{'underline':!![]}),_0x5b244f[_0x4ff7be(0x78)](0xa)[_0x4ff7be(0x8d)](_0x4ff7be(0x9c),_0x31f2fe+0x3c,_0x12b2d0+0xc);let _0xfc3fde=_0x5b244f[_0x4ff7be(0xb5)]();for(let _0x23f80e=0x0;_0x23f80e<_0xfc3fde['count'];_0x23f80e++){_0x5b244f['switchToPage'](_0x23f80e);let _0x56e924=_0x5b244f['page'][_0x4ff7be(0x79)][_0x4ff7be(0x7d)];_0x5b244f[_0x4ff7be(0x13f)][_0x4ff7be(0x79)]['bottom']=0x0,_0x5b244f[_0x4ff7be(0x8d)](_0x4ff7be(0xd1)+(_0x23f80e+0x1)+_0x4ff7be(0xf5)+_0xfc3fde['count'],0x0,_0x5b244f[_0x4ff7be(0x13f)][_0x4ff7be(0xeb)]-_0x56e924/0x2,{'align':'center'}),_0x5b244f[_0x4ff7be(0x13f)][_0x4ff7be(0x79)][_0x4ff7be(0x7d)]=_0x56e924;}const _0x1098e1=_0x5b244f['y'],_0x2d9e52=_0x5b244f['x'];_0x5b244f[_0x4ff7be(0x122)]();}catch(_0x25e9f0){console[_0x4ff7be(0x93)](_0x25e9f0),_0x547095[_0x4ff7be(0xa6)](0x1f4)['send'](_0x4ff7be(0xa5));}}),router[a0_0x469e0d(0xc0)](a0_0x469e0d(0x123),auth,async(_0x16e127,_0x5ad4a6)=>{const _0xdf7b1f=a0_0x469e0d;try{const _0x371a77=_0x298d67=>_0x298d67*0x48,_0x5221ab={'width':0x3,'height':0x1},_0x1cdfc6=await product['find'](),_0x5a0917=new PDFDocument({'margin':_0x371a77(0.75),'size':[_0x371a77(_0x5221ab['width']),_0x371a77(_0x5221ab[_0xdf7b1f(0xeb)])],'bufferPages':!![]}),_0x4005c3=_0x1cdfc6['length'];for(let _0x46d105=0x0;_0x46d105<=_0x4005c3;_0x46d105++){if(_0x46d105!=_0x1cdfc6[_0xdf7b1f(0xbd)]){const _0x1a10f8=_0x1cdfc6[_0x46d105][_0xdf7b1f(0x111)],_0x15ae8e=_0x1cdfc6[_0x46d105]['primary_code'],_0x6240c6=_0x1cdfc6[_0x46d105][_0xdf7b1f(0xf6)],_0x2b18ce=_0x1cdfc6[_0x46d105][_0xdf7b1f(0xb0)],_0x3d1b38=new Canvas();JsBarcode(_0x3d1b38,_0x15ae8e,{'format':_0xdf7b1f(0x131),'height':0x32,'displayValue':!![],'text':_0x15ae8e}),_0x5a0917[_0xdf7b1f(0x13b)](_0x3d1b38[_0xdf7b1f(0x75)](),0x0,0x0,{'width':0xd2}),_0x5a0917[_0xdf7b1f(0x112)]();}}_0x5a0917[_0xdf7b1f(0x80)](_0x5ad4a6),_0x5a0917[_0xdf7b1f(0x122)]();}catch(_0x1d8b75){console['error'](_0xdf7b1f(0xa9),_0x1d8b75),_0x5ad4a6[_0xdf7b1f(0xa6)](0x1f4)['send'](_0xdf7b1f(0xa5));}}),module[a0_0x469e0d(0x90)]=router;