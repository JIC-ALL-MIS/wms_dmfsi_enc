function a0_0x3dcb(_0x2eb1bc,_0x15c15b){const _0x3d4568=a0_0x3d45();return a0_0x3dcb=function(_0x3dcbd2,_0x1d1805){_0x3dcbd2=_0x3dcbd2-0x74;let _0x2b695f=_0x3d4568[_0x3dcbd2];return _0x2b695f;},a0_0x3dcb(_0x2eb1bc,_0x15c15b);}const a0_0x3b77a8=a0_0x3dcb;(function(_0x410523,_0x1ecd92){const _0x44b30c=a0_0x3dcb,_0x281969=_0x410523();while(!![]){try{const _0x5977d9=-parseInt(_0x44b30c(0xd3))/0x1*(parseInt(_0x44b30c(0x12c))/0x2)+parseInt(_0x44b30c(0x14d))/0x3*(parseInt(_0x44b30c(0x140))/0x4)+parseInt(_0x44b30c(0xce))/0x5*(parseInt(_0x44b30c(0x88))/0x6)+-parseInt(_0x44b30c(0xe2))/0x7+-parseInt(_0x44b30c(0xb8))/0x8+-parseInt(_0x44b30c(0x11f))/0x9*(-parseInt(_0x44b30c(0xbf))/0xa)+parseInt(_0x44b30c(0x7b))/0xb;if(_0x5977d9===_0x1ecd92)break;else _0x281969['push'](_0x281969['shift']());}catch(_0x301baa){_0x281969['push'](_0x281969['shift']());}}}(a0_0x3d45,0x3f7ef));const express=require(a0_0x3b77a8(0x115)),res=require(a0_0x3b77a8(0x114)),app=express(),router=express['Router'](),multer=require('multer'),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x3b77a8(0x14b)),auth=require(a0_0x3b77a8(0xa9)),users=require(a0_0x3b77a8(0xe0)),excelJS=require('exceljs'),xlsx=require('xlsx'),PDFDocument=require('pdfkit-table'),fs=require('fs'),blobStream=require(a0_0x3b77a8(0x149)),JsBarcode=require('jsbarcode'),{Canvas}=require('canvas');router[a0_0x3b77a8(0x95)]('/PDF/:id',auth,async(_0x114213,_0x3d053f)=>{const _0x13ee1e=a0_0x3b77a8;try{const {username:_0x37b85d,email:_0x52b0ad,role:_0x39bdf1}=_0x114213['user'],_0x58d92c=_0x114213[_0x13ee1e(0x10b)],_0xfccd80=await profile[_0x13ee1e(0xe4)]({'email':_0x58d92c[_0x13ee1e(0x107)]}),_0x4e0bf8=await master_shop[_0x13ee1e(0xb9)](),_0x2443ac=_0x114213[_0x13ee1e(0x13b)]['id'],_0x13e697=await sales_finished[_0x13ee1e(0x102)](_0x2443ac);var _0x4b0753;_0x4b0753=_0x13ee1e(0x143);_0x13e697['finalize']=='True'&&(_0x4b0753='DELIVERY\x20RECEIPT');const _0x4e5a93=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3d053f[_0x13ee1e(0x77)](_0x13ee1e(0x11a),_0x13ee1e(0xb7)+_0x13e697[_0x13ee1e(0xf8)]+_0x13ee1e(0x81)),_0x3d053f[_0x13ee1e(0x77)]('Content-type','application/pdf');var _0x1d81ae=0x14,_0x205965=0x3c;_0x4e5a93[_0x13ee1e(0xb4)](_0x3d053f),_0x4e5a93['image'](_0x13ee1e(0x75)+_0x4e0bf8[0x0][_0x13ee1e(0xa6)],0x14,0x0,{'fit':[0x64,0x64]}),_0x4e5a93[_0x13ee1e(0x89)](0x14)[_0x13ee1e(0x10f)](_0x13ee1e(0x82),_0x1d81ae,_0x205965),_0x4e5a93[_0x13ee1e(0x89)](0xa)['text']('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x1d81ae,_0x205965+=0xf),_0x4e5a93[_0x13ee1e(0x89)](0xf)[_0x13ee1e(0x10f)](_0x4b0753,_0x1d81ae,_0x205965+=0x32),_0x4e5a93['fontSize'](0xa)['text'](_0x13ee1e(0x142),_0x1d81ae,_0x205965+=0x14),_0x4e5a93['fontSize'](0x9)[_0x13ee1e(0x10f)]('Warehouse\x20',_0x1d81ae,_0x205965+=0x28),_0x4e5a93[_0x13ee1e(0x89)](0x9)[_0x13ee1e(0x10f)]('\x20:\x20'+_0x13e697[_0x13ee1e(0x109)],_0x1d81ae+0x3f,_0x205965),_0x4e5a93[_0x13ee1e(0x89)](0x9)[_0x13ee1e(0x10f)]('Customer\x20:\x20'+_0x13e697[_0x13ee1e(0x7d)],_0x1d81ae+0x17c,_0x205965,{'underline':!![]}),_0x4e5a93[_0x13ee1e(0x89)](0x9)[_0x13ee1e(0x10f)](_0x13ee1e(0x122),_0x1d81ae,_0x205965+=0xb),_0x4e5a93[_0x13ee1e(0x89)](0x9)[_0x13ee1e(0x10f)]('\x20:\x20'+_0x13e697[_0x13ee1e(0xef)],_0x1d81ae+0x3f,_0x205965),_0x4e5a93[_0x13ee1e(0x89)](0x9)[_0x13ee1e(0x10f)](_0x13ee1e(0x148),_0x1d81ae,_0x205965+=0xb),_0x4e5a93[_0x13ee1e(0x89)](0x9)['text'](_0x13ee1e(0x85)+_0x13e697[_0x13ee1e(0xf8)],_0x1d81ae+0x3f,_0x205965);const _0x3bcbb8={'headers':[{'label':_0x13ee1e(0xe5),'property':_0x13ee1e(0xb5),'width':0x3c,'renderer':null},{'label':_0x13ee1e(0xc2),'property':_0x13ee1e(0xcf),'width':0xa5,'renderer':null},{'label':_0x13ee1e(0x125),'property':_0x13ee1e(0xa3),'width':0x3c,'renderer':null},{'label':_0x13ee1e(0xd5),'property':_0x13ee1e(0xfe),'width':0x3c,'renderer':null},{'label':'Production\x20Date','property':_0x13ee1e(0xee),'width':0x50,'renderer':null},{'label':_0x13ee1e(0x10c),'property':_0x13ee1e(0x9f),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x13ee1e(0xa1),'width':0x3f,'renderer':null}],'datas':[]};var _0x379d4b=0x0;let _0x1593c0='';var _0x25857a=0x0;_0x13e697[_0x13ee1e(0x109)]==_0x13ee1e(0xf5)?_0x1593c0='DG':_0x1593c0='FG';var _0x4c8e97=0x0;_0x13e697[_0x13ee1e(0xae)][_0x13ee1e(0x131)](_0x5e3c59=>{const _0x1af85f=_0x13ee1e;console[_0x1af85f(0x8d)](_0x5e3c59);let _0xea40e5='';const _0x54625b=_0x5e3c59[_0x1af85f(0xf3)];for(let _0x1ba3fa=0x1;_0x1ba3fa<=_0x54625b;_0x1ba3fa++){_0x54625b==_0x1ba3fa?_0xea40e5+=_0x5e3c59[_0x1af85f(0x91)]:_0xea40e5+=_0x5e3c59['maxperunit']+',',_0x25857a+=_0x5e3c59['maxperunit'];}_0xea40e5+='\x20/\x20'+_0x5e3c59[_0x1af85f(0xf2)];const _0x2a85bb={'itemcode':_0x5e3c59[_0x1af85f(0x101)],'itemdescription':_0x5e3c59[_0x1af85f(0xaf)],'qty':_0x5e3c59[_0x1af85f(0xf3)],'unit':_0x5e3c59[_0x1af85f(0xfe)],'proddate':_0x5e3c59[_0x1af85f(0x11d)],'batchno':_0x5e3c59[_0x1af85f(0x134)],'binloc':_0x1593c0+_0x5e3c59[_0x1af85f(0x9e)]};_0x379d4b+=_0x5e3c59['quantity'],_0x4c8e97+=0x1,_0x3bcbb8[_0x1af85f(0xeb)][_0x1af85f(0x113)](_0x2a85bb);}),_0x4e5a93[_0x13ee1e(0xdf)](_0x3bcbb8,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x4e5a93[_0x13ee1e(0x132)]('Helvetica-Bold')['fontSize'](0x8),'prepareRow':(_0x1958eb,_0x29a5b4,_0x29728e,_0x5712bf)=>_0x4e5a93[_0x13ee1e(0x132)](_0x13ee1e(0xbd))['fontSize'](0x8)});var _0x32db9e=_0x4e5a93['y'],_0x583b61=_0x4e5a93['x'];_0x4e5a93[_0x13ee1e(0x89)](0xa)[_0x13ee1e(0x10f)](_0x13ee1e(0x74),_0x583b61+0x7d,_0x32db9e),console[_0x13ee1e(0x8d)](_0x13ee1e(0x129)+_0x583b61+_0x13ee1e(0x13f)+_0x32db9e+'\x20row:\x20'+_0x4c8e97);const _0x501cab=_0x583b61*_0x4c8e97;_0x4e5a93[_0x13ee1e(0x89)](0xa)[_0x13ee1e(0x10f)](_0x13ee1e(0x141),_0x583b61,_0x32db9e+=0x15e-_0x501cab),_0x4e5a93[_0x13ee1e(0x89)](0xa)[_0x13ee1e(0x10f)](_0x379d4b,_0x583b61+0xdc,_0x32db9e,{'underline':!![]}),_0x4e5a93[_0x13ee1e(0x89)](0xa)[_0x13ee1e(0x10f)](_0x13ee1e(0x118),_0x583b61,_0x32db9e+=0x19),_0x4e5a93[_0x13ee1e(0x89)](0xa)[_0x13ee1e(0x10f)]('\x20'[_0x13ee1e(0xca)](0x3c),_0x583b61+0x3e,_0x32db9e,{'underline':!![]}),_0x4e5a93['fontSize'](0xa)['text'](_0x13ee1e(0xdc),_0x583b61,_0x32db9e+=0x32),_0x4e5a93[_0x13ee1e(0x89)](0xa)[_0x13ee1e(0x10f)](_0x13ee1e(0xed),_0x583b61+0x3c,_0x32db9e,{'underline':!![]}),_0x4e5a93[_0x13ee1e(0x89)](0xa)['text']('Finished\x20Good\x20Warehouse\x20Supervisor',_0x583b61+0x3c,_0x32db9e+0xc);let _0x4346d9=_0x4e5a93[_0x13ee1e(0x104)]();for(let _0x54ab6b=0x0;_0x54ab6b<_0x4346d9[_0x13ee1e(0x99)];_0x54ab6b++){_0x4e5a93[_0x13ee1e(0xc7)](_0x54ab6b);let _0x5a7cb8=_0x4e5a93[_0x13ee1e(0x83)][_0x13ee1e(0xb0)][_0x13ee1e(0xda)];_0x4e5a93[_0x13ee1e(0x83)][_0x13ee1e(0xb0)][_0x13ee1e(0xda)]=0x0,_0x4e5a93[_0x13ee1e(0x10f)](_0x13ee1e(0x10a)+(_0x54ab6b+0x1)+_0x13ee1e(0x133)+_0x4346d9['count'],0x0,_0x4e5a93['page'][_0x13ee1e(0x98)]-_0x5a7cb8/0x2,{'align':_0x13ee1e(0xbe)}),_0x4e5a93['page'][_0x13ee1e(0xb0)][_0x13ee1e(0xda)]=_0x5a7cb8;}const _0x18a6d4=_0x4e5a93['y'],_0x1ea4df=_0x4e5a93['x'];_0x4e5a93['end']();}catch(_0x3465ae){console[_0x13ee1e(0x8d)](_0x3465ae),_0x3d053f['status'](0x1f4)[_0x13ee1e(0xe3)](_0x13ee1e(0xb2));}}),router['get']('/PDF_transfer/:id',auth,async(_0x1eeb4c,_0x4b14aa)=>{const _0x5a8ec6=a0_0x3b77a8;try{const {username:_0x92ffcd,email:_0x48b35a,role:_0x3bd1f2}=_0x1eeb4c['user'],_0x3a2232=_0x1eeb4c[_0x5a8ec6(0x10b)],_0x5de5f1=await profile[_0x5a8ec6(0xe4)]({'email':_0x3a2232['email']}),_0x43221e=await master_shop['find'](),_0x5eb78e=_0x1eeb4c[_0x5a8ec6(0x13b)]['id'],_0x149290=await transfers_finished['findById'](_0x5eb78e);var _0x2ae13d,_0x35ece7;_0x2ae13d=_0x5a8ec6(0xfd),_0x35ece7=_0x5a8ec6(0x11b);_0x149290[_0x5a8ec6(0x120)]=='True'&&(_0x2ae13d=_0x5a8ec6(0xb3),_0x35ece7='');const _0x1f86e1=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4b14aa[_0x5a8ec6(0x77)](_0x5a8ec6(0x11a),_0x5a8ec6(0xec)+_0x5eb78e+_0x5a8ec6(0x81)),_0x4b14aa[_0x5a8ec6(0x77)](_0x5a8ec6(0xdb),_0x5a8ec6(0xc9));var _0x2dc668=0x14,_0x50931d=0x3c;_0x1f86e1[_0x5a8ec6(0xb4)](_0x4b14aa),_0x1f86e1['image'](_0x5a8ec6(0x75)+_0x43221e[0x0][_0x5a8ec6(0xa6)],0x14,0x0,{'fit':[0x64,0x64]}),_0x1f86e1[_0x5a8ec6(0x89)](0x14)['text'](_0x5a8ec6(0x82),_0x2dc668,_0x50931d),_0x1f86e1[_0x5a8ec6(0x89)](0xa)[_0x5a8ec6(0x10f)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x2dc668,_0x50931d+=0xf),_0x1f86e1['fontSize'](0xf)[_0x5a8ec6(0x10f)](_0x2ae13d,_0x2dc668,_0x50931d+=0x32),_0x1f86e1[_0x5a8ec6(0x89)](0xa)[_0x5a8ec6(0x10f)](_0x35ece7,_0x2dc668,_0x50931d+=0x14),_0x1f86e1[_0x5a8ec6(0x89)](0x9)[_0x5a8ec6(0x10f)](_0x5a8ec6(0xdd),_0x2dc668,_0x50931d+=0x28),_0x1f86e1[_0x5a8ec6(0x89)](0x9)[_0x5a8ec6(0x10f)](_0x5a8ec6(0x13e)+_0x149290[_0x5a8ec6(0x12e)],_0x2dc668+0x3f,_0x50931d),_0x1f86e1[_0x5a8ec6(0x89)](0x9)[_0x5a8ec6(0x10f)](_0x5a8ec6(0x139),_0x2dc668,_0x50931d+=0xf),_0x1f86e1['fontSize'](0x9)[_0x5a8ec6(0x10f)]('\x20\x20\x20:\x20'+_0x149290['to_warehouse'],_0x2dc668+0x3f,_0x50931d),_0x1f86e1['fontSize'](0x9)[_0x5a8ec6(0x10f)]('Date\x20',_0x2dc668,_0x50931d+=0xb),_0x1f86e1[_0x5a8ec6(0x89)](0x9)[_0x5a8ec6(0x10f)](_0x5a8ec6(0x13e)+_0x149290[_0x5a8ec6(0xef)],_0x2dc668+0x3f,_0x50931d),_0x1f86e1['fontSize'](0x9)[_0x5a8ec6(0x10f)]('Control\x20Number\x20',_0x2dc668,_0x50931d+=0xb),_0x1f86e1[_0x5a8ec6(0x89)](0x9)[_0x5a8ec6(0x10f)]('\x20\x20\x20:\x20'+_0x149290[_0x5a8ec6(0xf8)],_0x2dc668+0x3f,_0x50931d);const _0x383e60={'headers':[{'label':'','property':_0x5a8ec6(0xb5),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x5a8ec6(0x12b),'property':_0x5a8ec6(0xb5),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':'\x20\x20TO','property':_0x5a8ec6(0xcf),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x1f86e1[_0x5a8ec6(0xdf)](_0x383e60,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x1f86e1[_0x5a8ec6(0x132)]('Helvetica-Bold')['fontSize'](0x8),'prepareRow':(_0x33a7f5,_0x5386ed,_0x19db5d,_0x566a95)=>_0x1f86e1[_0x5a8ec6(0x132)](_0x5a8ec6(0xbd))[_0x5a8ec6(0x89)](0x8)});const _0x16ccf5={'headers':[{'label':'Item\x20Code','property':_0x5a8ec6(0xb5),'width':0x3c,'renderer':null},{'label':_0x5a8ec6(0xc2),'property':_0x5a8ec6(0xcf),'width':0x96,'renderer':null},{'label':_0x5a8ec6(0x125),'property':_0x5a8ec6(0xa3),'width':0x28,'renderer':null},{'label':_0x5a8ec6(0xd5),'property':'unit','width':0x37,'renderer':null},{'label':_0x5a8ec6(0x138),'property':_0x5a8ec6(0xee),'width':0x4b,'renderer':null},{'label':_0x5a8ec6(0x10c),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x5a8ec6(0xfa),'property':_0x5a8ec6(0x92),'width':0x3f,'renderer':null},{'label':_0x5a8ec6(0xfa),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0xe3f991=0x0;let _0x24a814='';var _0x466b13=0x0;if(_0x149290[_0x5a8ec6(0x12e)]==_0x5a8ec6(0xf5))_0x24a814='DG';else _0x149290['from_warehouse']==_0x5a8ec6(0xfb)&&(_0x24a814='FG');_0x149290['product'][_0x5a8ec6(0x131)](_0x376ec8=>{const _0x2c88b4=_0x5a8ec6;var _0x4559fd=_0x376ec8[_0x2c88b4(0xf7)],_0xb41a10,_0x4d46c4;_0xb41a10=_0x376ec8[_0x2c88b4(0xfe)],_0x4d46c4=_0x376ec8[_0x2c88b4(0xcd)];_0x4559fd=='S'&&(_0xb41a10=_0x376ec8['secondary_unit'],_0x4d46c4=_0x376ec8[_0x2c88b4(0xcd)]*_0x376ec8[_0x2c88b4(0xd8)]);const _0x4b0af4={'itemcode':_0x376ec8[_0x2c88b4(0x101)],'itemdescription':_0x376ec8[_0x2c88b4(0xaf)],'qty':_0x4d46c4,'unit':_0xb41a10,'proddate':_0x376ec8[_0x2c88b4(0x11d)],'batchno':_0x376ec8['batch_code'],'binloc':_0x24a814+_0x376ec8[_0x2c88b4(0x119)],'qtyFrom':_0x376ec8[_0x2c88b4(0x12a)],'binlocFrom':_0x24a814+_0x376ec8[_0x2c88b4(0x7f)]};_0xe3f991+=_0x4d46c4,_0x16ccf5[_0x2c88b4(0xeb)]['push'](_0x4b0af4);}),_0x1f86e1[_0x5a8ec6(0xdf)](_0x16ccf5,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x1f86e1[_0x5a8ec6(0x132)](_0x5a8ec6(0x86))[_0x5a8ec6(0x89)](0x8),'prepareRow':(_0x388b2d,_0x56644a,_0x4b0be7,_0x49403c)=>_0x1f86e1[_0x5a8ec6(0x132)](_0x5a8ec6(0xbd))[_0x5a8ec6(0x89)](0x8)});var _0x1a9243=_0x1f86e1['y'],_0x13f93b=_0x1f86e1['x'];_0x1f86e1[_0x5a8ec6(0x89)](0xa)['text'](_0x5a8ec6(0x74),_0x13f93b+0x7d,_0x1a9243),_0x1f86e1['fontSize'](0xa)[_0x5a8ec6(0x10f)](_0x5a8ec6(0x141),_0x13f93b,_0x1a9243+=0x15e),_0x1f86e1['fontSize'](0xa)['text'](_0xe3f991,_0x13f93b+0xd7,_0x1a9243,{'underline':!![]}),_0x1f86e1[_0x5a8ec6(0x89)](0xa)[_0x5a8ec6(0x10f)](_0x5a8ec6(0x118),_0x13f93b,_0x1a9243+=0x19),_0x1f86e1[_0x5a8ec6(0x89)](0xa)[_0x5a8ec6(0x10f)]('\x20'[_0x5a8ec6(0xca)](0x3c),_0x13f93b+0x3e,_0x1a9243,{'underline':!![]}),_0x1f86e1[_0x5a8ec6(0x89)](0xa)['text'](_0x5a8ec6(0xdc),_0x13f93b,_0x1a9243+=0x32),_0x1f86e1['fontSize'](0xa)[_0x5a8ec6(0x10f)](_0x5a8ec6(0xed),_0x13f93b+0x3c,_0x1a9243,{'underline':!![]}),_0x1f86e1[_0x5a8ec6(0x89)](0xa)['text'](_0x5a8ec6(0xc0),_0x13f93b+0x3c,_0x1a9243+0xc);let _0x530065=_0x1f86e1[_0x5a8ec6(0x104)]();for(let _0x1f1281=0x0;_0x1f1281<_0x530065[_0x5a8ec6(0x99)];_0x1f1281++){_0x1f86e1['switchToPage'](_0x1f1281);let _0x13658d=_0x1f86e1[_0x5a8ec6(0x83)][_0x5a8ec6(0xb0)]['bottom'];_0x1f86e1['page'][_0x5a8ec6(0xb0)][_0x5a8ec6(0xda)]=0x0,_0x1f86e1['text'](_0x5a8ec6(0x10a)+(_0x1f1281+0x1)+'\x20of\x20'+_0x530065[_0x5a8ec6(0x99)],0x0,_0x1f86e1['page'][_0x5a8ec6(0x98)]-_0x13658d/0x2,{'align':'center'}),_0x1f86e1[_0x5a8ec6(0x83)][_0x5a8ec6(0xb0)][_0x5a8ec6(0xda)]=_0x13658d;}const _0x5e03a1=_0x1f86e1['y'],_0x5a45fb=_0x1f86e1['x'];_0x1f86e1[_0x5a8ec6(0x110)]();}catch(_0x448223){console[_0x5a8ec6(0x8d)](_0x448223),_0x4b14aa['status'](0x1f4)[_0x5a8ec6(0xe3)](_0x5a8ec6(0xb2));}}),router[a0_0x3b77a8(0x95)](a0_0x3b77a8(0xab),auth,async(_0x2b7bc0,_0x481ecd)=>{const _0x54b9b7=a0_0x3b77a8;try{const {username:_0x5c7c4e,email:_0x773aa6,role:_0x3ef1fc}=_0x2b7bc0[_0x54b9b7(0x10b)],_0x25ba58=_0x2b7bc0[_0x54b9b7(0x10b)],_0x391b0f=await profile['findOne']({'email':_0x25ba58[_0x54b9b7(0x107)]}),_0x2457a1=await master_shop[_0x54b9b7(0xb9)](),_0x253d62=_0x2b7bc0[_0x54b9b7(0x13b)]['id'],_0x357a96=await adjustment_finished[_0x54b9b7(0x102)](_0x253d62);var _0x100b78,_0x3f9b75;_0x100b78='PICKING\x20LIST',_0x3f9b75='(INVENTORY\x20ADJUSTMENT)';_0x357a96[_0x54b9b7(0x120)]==_0x54b9b7(0x106)&&(_0x100b78=_0x54b9b7(0xf6),_0x3f9b75='');const _0x3fd156=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x481ecd['setHeader'](_0x54b9b7(0x11a),'inline;\x20filename=\x22OUT-'+_0x253d62+'.pdf\x22'),_0x481ecd[_0x54b9b7(0x77)](_0x54b9b7(0xdb),_0x54b9b7(0xc9));var _0x1c73b=0x14,_0x2dd576=0x3c;_0x3fd156['pipe'](_0x481ecd),_0x3fd156[_0x54b9b7(0xa6)](_0x54b9b7(0x75)+_0x2457a1[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x3fd156[_0x54b9b7(0x89)](0x14)[_0x54b9b7(0x10f)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x1c73b,_0x2dd576),_0x3fd156[_0x54b9b7(0x89)](0xa)[_0x54b9b7(0x10f)](_0x54b9b7(0xc4),_0x1c73b,_0x2dd576+=0xf),_0x3fd156[_0x54b9b7(0x89)](0xf)[_0x54b9b7(0x10f)](_0x100b78,_0x1c73b,_0x2dd576+=0x32),_0x3fd156['fontSize'](0xa)[_0x54b9b7(0x10f)](_0x3f9b75,_0x1c73b,_0x2dd576+=0x14),_0x3fd156[_0x54b9b7(0x89)](0x9)[_0x54b9b7(0x10f)](_0x54b9b7(0xe9),_0x1c73b,_0x2dd576+=0x28),_0x3fd156[_0x54b9b7(0x89)](0x9)['text'](_0x54b9b7(0x85)+_0x357a96[_0x54b9b7(0x109)],_0x1c73b+0x3f,_0x2dd576),_0x3fd156[_0x54b9b7(0x89)](0x9)[_0x54b9b7(0x10f)]('Date\x20',_0x1c73b,_0x2dd576+=0xb),_0x3fd156[_0x54b9b7(0x89)](0x9)[_0x54b9b7(0x10f)](_0x54b9b7(0x85)+_0x357a96['date'],_0x1c73b+0x3f,_0x2dd576),_0x3fd156[_0x54b9b7(0x89)](0x9)[_0x54b9b7(0x10f)](_0x54b9b7(0x148),_0x1c73b,_0x2dd576+=0xb),_0x3fd156[_0x54b9b7(0x89)](0x9)[_0x54b9b7(0x10f)]('\x20:\x20'+_0x357a96[_0x54b9b7(0xf8)],_0x1c73b+0x3f,_0x2dd576);const _0x59ea2c={'headers':[{'label':_0x54b9b7(0xe5),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x54b9b7(0xc2),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x54b9b7(0x125),'property':_0x54b9b7(0xa3),'width':0x3c,'renderer':null},{'label':_0x54b9b7(0xd5),'property':_0x54b9b7(0xfe),'width':0x3c,'renderer':null},{'label':_0x54b9b7(0x138),'property':_0x54b9b7(0xee),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3f,'renderer':null},{'label':_0x54b9b7(0xfa),'property':_0x54b9b7(0xa1),'width':0x3f,'renderer':null}],'datas':[]};var _0x58427b=0x0;let _0x7ccd29='';var _0x2e08fe=0x0;_0x357a96[_0x54b9b7(0x109)]=='DRY\x20GOODS'?_0x7ccd29='DG':_0x7ccd29='FG';_0x357a96['product']['forEach'](_0x829c86=>{const _0x3e81f5=_0x54b9b7;console['log'](_0x829c86);var _0xf926f0=_0x829c86[_0x3e81f5(0xf7)],_0xc9ba6,_0xd97c4f;_0xc9ba6=_0x829c86[_0x3e81f5(0xfe)],_0xd97c4f=_0x829c86['adjust_qty'];_0xf926f0=='S'&&(_0xc9ba6=_0x829c86['secondary_unit'],_0xd97c4f=_0x829c86[_0x3e81f5(0x108)]*_0x829c86['maxPerUnit']);const _0xe3be59={'itemcode':_0x829c86[_0x3e81f5(0x101)],'itemdescription':_0x829c86[_0x3e81f5(0xaf)],'qty':_0xd97c4f,'unit':_0xc9ba6,'proddate':_0x829c86[_0x3e81f5(0x11d)],'batchno':_0x829c86['batch_code'],'binloc':_0x7ccd29+_0x829c86[_0x3e81f5(0x9e)]};_0x58427b+=_0xd97c4f,_0x59ea2c[_0x3e81f5(0xeb)]['push'](_0xe3be59);}),_0x3fd156['table'](_0x59ea2c,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x3fd156[_0x54b9b7(0x132)](_0x54b9b7(0x86))['fontSize'](0x8),'prepareRow':(_0xfa87f0,_0x1583d3,_0x4d3877,_0x3e3994)=>_0x3fd156[_0x54b9b7(0x132)](_0x54b9b7(0xbd))[_0x54b9b7(0x89)](0x8)});var _0x2371d1=_0x3fd156['y'],_0x4ac4e9=_0x3fd156['x'];_0x3fd156['fontSize'](0xa)[_0x54b9b7(0x10f)](_0x54b9b7(0x74),_0x4ac4e9+0x7d,_0x2371d1),_0x3fd156[_0x54b9b7(0x89)](0xa)['text'](_0x54b9b7(0x8c),_0x4ac4e9,_0x2371d1+=0x15e),_0x3fd156[_0x54b9b7(0x89)](0xa)[_0x54b9b7(0x10f)](_0x58427b,_0x4ac4e9+0xc8,_0x2371d1),_0x3fd156[_0x54b9b7(0x89)](0xa)[_0x54b9b7(0x10f)](_0x54b9b7(0x118),_0x4ac4e9,_0x2371d1+=0x19),_0x3fd156[_0x54b9b7(0x89)](0xa)['text']('\x20'[_0x54b9b7(0xca)](0x3c),_0x4ac4e9+0x3e,_0x2371d1,{'underline':!![]}),_0x3fd156[_0x54b9b7(0x89)](0xa)[_0x54b9b7(0x10f)](_0x54b9b7(0xf9),_0x4ac4e9,_0x2371d1+=0x32),_0x3fd156[_0x54b9b7(0x89)](0xa)[_0x54b9b7(0x10f)](_0x54b9b7(0x85),_0x4ac4e9+0x37,_0x2371d1),_0x3fd156[_0x54b9b7(0x89)](0xa)[_0x54b9b7(0x10f)](_0x54b9b7(0xed),_0x4ac4e9+0x3c,_0x2371d1,{'underline':!![]}),_0x3fd156['fontSize'](0xa)[_0x54b9b7(0x10f)](_0x54b9b7(0xc0),_0x4ac4e9+0x3c,_0x2371d1+0xc);let _0x223cae=_0x3fd156[_0x54b9b7(0x104)]();for(let _0x28da22=0x0;_0x28da22<_0x223cae[_0x54b9b7(0x99)];_0x28da22++){_0x3fd156[_0x54b9b7(0xc7)](_0x28da22);let _0x30ea43=_0x3fd156['page']['margins']['bottom'];_0x3fd156[_0x54b9b7(0x83)][_0x54b9b7(0xb0)][_0x54b9b7(0xda)]=0x0,_0x3fd156[_0x54b9b7(0x10f)](_0x54b9b7(0x10a)+(_0x28da22+0x1)+_0x54b9b7(0x133)+_0x223cae['count'],0x0,_0x3fd156[_0x54b9b7(0x83)][_0x54b9b7(0x98)]-_0x30ea43/0x2,{'align':_0x54b9b7(0xbe)}),_0x3fd156['page']['margins'][_0x54b9b7(0xda)]=_0x30ea43;}const _0x1c487c=_0x3fd156['y'],_0x5e343c=_0x3fd156['x'];_0x3fd156[_0x54b9b7(0x110)]();}catch(_0x5bac79){console[_0x54b9b7(0x8d)](_0x5bac79),_0x481ecd[_0x54b9b7(0x9c)](0x1f4)[_0x54b9b7(0xe3)](_0x54b9b7(0xb2));}}),router[a0_0x3b77a8(0x95)](a0_0x3b77a8(0x10e),auth,async(_0x3c54d7,_0x142c01)=>{const _0x171e65=a0_0x3b77a8;try{const {username:_0x5405fa,email:_0x3aa56e,role:_0x109878}=_0x3c54d7['user'],_0x29243b=_0x3c54d7['user'],_0x212626=await profile[_0x171e65(0xe4)]({'email':_0x29243b[_0x171e65(0x107)]}),_0x4f1218=await master_shop[_0x171e65(0xb9)](),_0x376382=_0x3c54d7[_0x171e65(0x13b)]['id'],_0x587d16=await purchases_finished[_0x171e65(0x102)](_0x376382),_0x2dc9bb=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x142c01[_0x171e65(0x77)](_0x171e65(0x11a),'inline;\x20filename=\x22OUT-'+_0x376382+_0x171e65(0x81)),_0x142c01[_0x171e65(0x77)](_0x171e65(0xdb),_0x171e65(0xc9));var _0x484ab4=0x14,_0x1403ee=0x3c;_0x2dc9bb[_0x171e65(0xb4)](_0x142c01),_0x2dc9bb[_0x171e65(0xa6)](_0x171e65(0x75)+_0x4f1218[0x0][_0x171e65(0xa6)],0x14,0x0,{'fit':[0x64,0x64]}),_0x2dc9bb[_0x171e65(0x89)](0x14)[_0x171e65(0x10f)](_0x171e65(0x82),_0x484ab4,_0x1403ee),_0x2dc9bb[_0x171e65(0x89)](0xa)[_0x171e65(0x10f)](_0x171e65(0xc4),_0x484ab4,_0x1403ee+=0xf),_0x2dc9bb['fontSize'](0xf)[_0x171e65(0x10f)](_0x171e65(0x12f),_0x484ab4,_0x1403ee+=0x32),_0x2dc9bb['fontSize'](0xa)[_0x171e65(0x10f)]('(INCOMING)',_0x484ab4,_0x1403ee+=0x14),_0x2dc9bb['fontSize'](0x9)[_0x171e65(0x10f)](_0x171e65(0xe9),_0x484ab4,_0x1403ee+=0x28),_0x2dc9bb[_0x171e65(0x89)](0x9)[_0x171e65(0x10f)](_0x171e65(0x85)+_0x587d16[_0x171e65(0x109)],_0x484ab4+0x3f,_0x1403ee),_0x2dc9bb['fontSize'](0x9)[_0x171e65(0x10f)](_0x171e65(0x117)+_0x587d16[_0x171e65(0x100)],_0x484ab4+0x17c,_0x1403ee),_0x2dc9bb['fontSize'](0x9)[_0x171e65(0x10f)](_0x171e65(0x122),_0x484ab4,_0x1403ee+=0xb),_0x2dc9bb[_0x171e65(0x89)](0x9)[_0x171e65(0x10f)](_0x171e65(0x85)+_0x587d16['date'],_0x484ab4+0x3f,_0x1403ee),_0x2dc9bb[_0x171e65(0x89)](0x9)[_0x171e65(0x10f)](_0x171e65(0x148),_0x484ab4,_0x1403ee+=0xb),_0x2dc9bb[_0x171e65(0x89)](0x9)[_0x171e65(0x10f)](_0x171e65(0x85)+_0x587d16['invoice'],_0x484ab4+0x3f,_0x1403ee);const _0x4ddb94={'headers':[{'label':_0x171e65(0xe5),'property':_0x171e65(0xb5),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x171e65(0xcf),'width':0xc8,'renderer':null},{'label':'Quantity','property':'qty','width':0x3c,'renderer':null},{'label':_0x171e65(0xd5),'property':'unit','width':0x3c,'renderer':null},{'label':_0x171e65(0xa8),'property':_0x171e65(0xd2),'width':0x50,'renderer':null},{'label':_0x171e65(0x10c),'property':_0x171e65(0x9f),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x171e65(0xa1),'width':0x3f,'renderer':null}],'datas':[]};var _0x95022e=0x0;let _0x55721d='';_0x587d16[_0x171e65(0x109)]==_0x171e65(0xf5)?_0x55721d='DG':_0x55721d='FG';_0x587d16['product'][_0x171e65(0x131)](_0x4f8703=>{const _0x16b56f=_0x171e65;let _0x45e7d2='';var _0x357444=0x0;const _0xb98105={'itemcode':_0x4f8703[_0x16b56f(0x101)],'itemdescription':_0x4f8703['product_name'],'qty':_0x4f8703[_0x16b56f(0xf3)],'unit':_0x4f8703[_0x16b56f(0x8b)],'expdate':_0x4f8703[_0x16b56f(0x103)],'batchno':_0x4f8703[_0x16b56f(0x134)],'binloc':_0x55721d+_0x4f8703[_0x16b56f(0x9e)]};_0x95022e+=_0x4f8703[_0x16b56f(0xf3)],_0x4ddb94[_0x16b56f(0xeb)][_0x16b56f(0x113)](_0xb98105);}),_0x2dc9bb[_0x171e65(0xdf)](_0x4ddb94,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x2dc9bb[_0x171e65(0x132)](_0x171e65(0x86))[_0x171e65(0x89)](0x8),'prepareRow':(_0x505fc6,_0x53e56f,_0x4f247c,_0x1df197)=>_0x2dc9bb[_0x171e65(0x132)](_0x171e65(0xbd))[_0x171e65(0x89)](0x8)});var _0x3f7bb2=_0x2dc9bb['y'],_0x48aac9=_0x2dc9bb['x'];_0x2dc9bb[_0x171e65(0x89)](0xa)[_0x171e65(0x10f)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x48aac9+0x7d,_0x3f7bb2),_0x2dc9bb[_0x171e65(0x89)](0xa)[_0x171e65(0x10f)]('TOTAL\x20QTY:\x20',_0x48aac9,_0x3f7bb2+=0x15e),_0x2dc9bb[_0x171e65(0x89)](0xa)[_0x171e65(0x10f)](_0x95022e,_0x48aac9+0xfa,_0x3f7bb2),_0x2dc9bb[_0x171e65(0x89)](0xa)[_0x171e65(0x10f)](_0x171e65(0xd4),_0x48aac9,_0x3f7bb2+=0x19),_0x2dc9bb[_0x171e65(0x89)](0xa)[_0x171e65(0x10f)](_0x171e65(0xb1),_0x48aac9+0x37,_0x3f7bb2,{'underline':!![]}),_0x2dc9bb['fontSize'](0xa)[_0x171e65(0x10f)]('Check\x20By\x20\x20\x20\x20:\x20',_0x48aac9,_0x3f7bb2+0x32),_0x2dc9bb['fontSize'](0xa)[_0x171e65(0x10f)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x48aac9+0x32,_0x3f7bb2+0x32,{'underline':!![]}),_0x2dc9bb['fontSize'](0xa)[_0x171e65(0x10f)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x48aac9+0x32,_0x3f7bb2+0x3c);let _0x18ac32=_0x2dc9bb[_0x171e65(0x104)]();for(let _0x27bf70=0x0;_0x27bf70<_0x18ac32[_0x171e65(0x99)];_0x27bf70++){_0x2dc9bb['switchToPage'](_0x27bf70);let _0x3c0bc0=_0x2dc9bb[_0x171e65(0x83)][_0x171e65(0xb0)]['bottom'];_0x2dc9bb['page'][_0x171e65(0xb0)][_0x171e65(0xda)]=0x0,_0x2dc9bb[_0x171e65(0x10f)](_0x171e65(0x10a)+(_0x27bf70+0x1)+_0x171e65(0x133)+_0x18ac32[_0x171e65(0x99)],0x0,_0x2dc9bb[_0x171e65(0x83)][_0x171e65(0x98)]-_0x3c0bc0/0x2,{'align':_0x171e65(0xbe)}),_0x2dc9bb['page'][_0x171e65(0xb0)][_0x171e65(0xda)]=_0x3c0bc0;}const _0x4b3e7e=_0x2dc9bb['y'],_0x58a246=_0x2dc9bb['x'];_0x2dc9bb[_0x171e65(0x110)]();}catch(_0x32e09c){console[_0x171e65(0x8d)](_0x32e09c),_0x142c01[_0x171e65(0x9c)](0x1f4)[_0x171e65(0xe3)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x3b77a8(0x95)](a0_0x3b77a8(0x87),auth,async(_0x2390df,_0x15153a)=>{const _0x5d49b7=a0_0x3b77a8;try{const {username:_0x3dc9c0,email:_0x528784,role:_0x302d29}=_0x2390df['user'],_0x21fd17=_0x2390df[_0x5d49b7(0x10b)],_0x57b0a7=await profile[_0x5d49b7(0xe4)]({'email':_0x21fd17['email']}),_0x33b82d=await master_shop['find'](),_0x20f750=_0x2390df['params']['id'],_0x458196=await sales_return_finished['findById'](_0x20f750),_0x114231=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x15153a['setHeader'](_0x5d49b7(0x11a),_0x5d49b7(0xec)+_0x20f750+_0x5d49b7(0x81)),_0x15153a['setHeader'](_0x5d49b7(0xdb),_0x5d49b7(0xc9));var _0x19ccb2=0x14,_0x354569=0x64;_0x114231[_0x5d49b7(0xb4)](_0x15153a),_0x114231['image'](_0x5d49b7(0x75)+_0x33b82d[0x0][_0x5d49b7(0xa6)],0x14,0x0,{'fit':[0x64,0x64]}),_0x114231['fontSize'](0x14)[_0x5d49b7(0x10f)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x19ccb2,_0x354569),_0x114231[_0x5d49b7(0x89)](0xa)[_0x5d49b7(0x10f)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x19ccb2,_0x354569+=0xf),_0x114231['fontSize'](0xf)[_0x5d49b7(0x10f)]('PICKING\x20LIST',_0x19ccb2,_0x354569+=0x32),_0x114231[_0x5d49b7(0x89)](0xa)[_0x5d49b7(0x10f)](_0x5d49b7(0x7a),_0x19ccb2,_0x354569+=0x1e),_0x114231['fontSize'](0x9)[_0x5d49b7(0x10f)](_0x5d49b7(0x94)+_0x458196[_0x5d49b7(0xf0)],_0x19ccb2,_0x354569+=0x28),_0x114231[_0x5d49b7(0x89)](0x9)[_0x5d49b7(0x10f)]('Customer\x20:\x20'+_0x458196[_0x5d49b7(0x7d)],0x190,0xd2,{'underline':!![]}),_0x114231[_0x5d49b7(0x89)](0x9)[_0x5d49b7(0x10f)](_0x5d49b7(0x12d),_0x19ccb2,_0x354569+=0xb),_0x114231[_0x5d49b7(0x89)](0x9)[_0x5d49b7(0x10f)](_0x5d49b7(0xd6)+_0x458196[_0x5d49b7(0xef)],_0x19ccb2,_0x354569+=0xb),_0x114231[_0x5d49b7(0x89)](0x9)[_0x5d49b7(0x10f)](_0x5d49b7(0xfc)+_0x458196[_0x5d49b7(0xf8)],_0x19ccb2,_0x354569+=0xb);var _0x5e0298='',_0x13764d='',_0x2e7c13=0x0,_0x1ba916;console[_0x5d49b7(0x8d)](_0x458196[_0x5d49b7(0xea)]);_0x458196[_0x5d49b7(0xea)]=='GS'?(_0x458196[_0x5d49b7(0x109)]==_0x5d49b7(0xf5)?warecode='DG':warecode='FG',_0x5e0298={'headers':[{'label':_0x5d49b7(0xe5),'property':_0x5d49b7(0xb5),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x5d49b7(0xcf),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x5d49b7(0xa3),'width':0x3c,'renderer':null},{'label':_0x5d49b7(0xd5),'property':'unit','width':0x3c,'renderer':null},{'label':_0x5d49b7(0xa8),'property':_0x5d49b7(0xd2),'width':0x50,'renderer':null},{'label':_0x5d49b7(0x10c),'property':_0x5d49b7(0x9f),'width':0x3f,'renderer':null},{'label':_0x5d49b7(0xfa),'property':_0x5d49b7(0xa1),'width':0x3f,'renderer':null}],'datas':[]},_0x458196[_0x5d49b7(0x7c)][_0x5d49b7(0x131)](_0x4975d7=>{const _0x58d376=_0x5d49b7;let _0x424076='';var _0x16e114=0x0;_0x13764d={'itemcode':_0x4975d7[_0x58d376(0x101)],'itemdescription':_0x4975d7[_0x58d376(0xaf)],'qty':_0x4975d7[_0x58d376(0xd1)],'unit':_0x4975d7[_0x58d376(0xfe)],'expdate':_0x4975d7[_0x58d376(0x103)],'batchno':_0x4975d7[_0x58d376(0x134)],'binloc':warecode+_0x4975d7[_0x58d376(0x9e)]},_0x2e7c13+=_0x4975d7[_0x58d376(0xd1)],console[_0x58d376(0x8d)](_0x4975d7),_0x5e0298[_0x58d376(0xeb)][_0x58d376(0x113)](_0x13764d);})):(_0x5e0298={'headers':[{'label':'Item\x20Code','property':'itemcode','width':0x3c,'renderer':null},{'label':_0x5d49b7(0xc2),'property':_0x5d49b7(0xcf),'width':0xc8,'renderer':null},{'label':_0x5d49b7(0x125),'property':_0x5d49b7(0xa3),'width':0x3c,'renderer':null},{'label':_0x5d49b7(0xd5),'property':_0x5d49b7(0xfe),'width':0x3c,'renderer':null},{'label':_0x5d49b7(0xa8),'property':_0x5d49b7(0xd2),'width':0x50,'renderer':null},{'label':_0x5d49b7(0x10c),'property':_0x5d49b7(0x9f),'width':0x3f,'renderer':null}],'datas':[]},_0x458196[_0x5d49b7(0xa5)][_0x5d49b7(0x131)](_0x5d8ebc=>{const _0x1f301e=_0x5d49b7;let _0x35e218='';var _0x325e91=0x0;_0x13764d={'itemcode':_0x5d8ebc[_0x1f301e(0x101)],'itemdescription':_0x5d8ebc[_0x1f301e(0xaf)],'qty':_0x5d8ebc[_0x1f301e(0xd1)],'unit':_0x5d8ebc[_0x1f301e(0xfe)],'expdate':_0x5d8ebc[_0x1f301e(0x103)],'batchno':_0x5d8ebc[_0x1f301e(0x134)]},_0x2e7c13+=_0x5d8ebc[_0x1f301e(0xd1)],console[_0x1f301e(0x8d)](_0x2e7c13+_0x1f301e(0x14a)+_0x5d8ebc[_0x1f301e(0xd1)]),_0x5e0298['datas'][_0x1f301e(0x113)](_0x13764d);}));_0x114231[_0x5d49b7(0xdf)](_0x5e0298,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x114231[_0x5d49b7(0x132)]('Helvetica-Bold')['fontSize'](0x8),'prepareRow':(_0x4d78cf,_0x38bfed,_0x3c01e2,_0x1fe86d)=>_0x114231['font'](_0x5d49b7(0xbd))[_0x5d49b7(0x89)](0x8)});var _0x120ed4=_0x114231['y'],_0x5c88dd=_0x114231['x'];_0x114231[_0x5d49b7(0x89)](0xa)[_0x5d49b7(0x10f)](_0x5d49b7(0x74),_0x5c88dd+0x7d,_0x120ed4),_0x114231[_0x5d49b7(0x89)](0xa)[_0x5d49b7(0x10f)]('TOTAL\x20QTY:\x20',_0x5c88dd,_0x120ed4+=0x190),_0x114231[_0x5d49b7(0x89)](0xa)[_0x5d49b7(0x10f)](_0x2e7c13,_0x5c88dd+0x37,_0x120ed4,{'underline':!![]}),_0x114231['fontSize'](0xa)['text'](_0x5d49b7(0xc5),_0x5c88dd,_0x120ed4+0x1e),_0x114231['fontSize'](0xa)[_0x5d49b7(0x10f)](_0x5d49b7(0x13c),_0x5c88dd+0x32,_0x120ed4+0x1e,{'underline':!![]});let _0x5b388d=_0x114231['bufferedPageRange']();for(let _0x3dd08e=0x0;_0x3dd08e<_0x5b388d['count'];_0x3dd08e++){_0x114231[_0x5d49b7(0xc7)](_0x3dd08e);let _0x25eeba=_0x114231[_0x5d49b7(0x83)]['margins']['bottom'];_0x114231['page'][_0x5d49b7(0xb0)]['bottom']=0x0,_0x114231[_0x5d49b7(0x10f)]('Page:\x20'+(_0x3dd08e+0x1)+'\x20of\x20'+_0x5b388d['count'],0x0,_0x114231[_0x5d49b7(0x83)][_0x5d49b7(0x98)]-_0x25eeba/0x2,{'align':'center'}),_0x114231[_0x5d49b7(0x83)][_0x5d49b7(0xb0)][_0x5d49b7(0xda)]=_0x25eeba;}const _0x8a5595=_0x114231['y'],_0x435f83=_0x114231['x'];_0x114231[_0x5d49b7(0x110)]();}catch(_0x1a77b6){console[_0x5d49b7(0x8d)](_0x1a77b6),_0x15153a['status'](0x1f4)[_0x5d49b7(0xe3)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x3b77a8(0x95)]('/pdf_puchases/:id',auth,async(_0x2375dc,_0x1268ff)=>{const _0x39b278=a0_0x3b77a8;try{const {username:_0x327414,email:_0x1bf076,role:_0x3bc559}=_0x2375dc[_0x39b278(0x10b)],_0x828e3b=_0x2375dc[_0x39b278(0x10b)],_0x4a6a1e=await profile[_0x39b278(0xe4)]({'email':_0x828e3b[_0x39b278(0x107)]}),_0x5b4c1c=await master_shop[_0x39b278(0xb9)](),_0x5086e8=_0x2375dc[_0x39b278(0x13b)]['id'],_0xe02161=await purchases['findById'](_0x5086e8),_0x2737c9=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1268ff['setHeader'](_0x39b278(0x11a),_0x39b278(0xec)+_0x5086e8+_0x39b278(0x81)),_0x1268ff[_0x39b278(0x77)](_0x39b278(0xdb),'application/pdf');var _0x4b4b04=0x14,_0x2066af=0x3c;_0x2737c9[_0x39b278(0xb4)](_0x1268ff),_0x2737c9[_0x39b278(0xa6)](_0x39b278(0x75)+_0x5b4c1c[0x0][_0x39b278(0xa6)],0x14,0x0,{'fit':[0x64,0x64]}),_0x2737c9[_0x39b278(0x89)](0x14)[_0x39b278(0x10f)](_0x39b278(0x82),_0x4b4b04,_0x2066af),_0x2737c9[_0x39b278(0x89)](0xa)['text'](_0x39b278(0xc4),_0x4b4b04,_0x2066af+=0xf),_0x2737c9['fontSize'](0xf)[_0x39b278(0x10f)](_0x39b278(0x97),_0x4b4b04,_0x2066af+=0x32),_0x2737c9['fontSize'](0xa)[_0x39b278(0x10f)](_0x39b278(0x126),_0x4b4b04,_0x2066af+=0x14),_0x2737c9['fontSize'](0x9)[_0x39b278(0x10f)](_0x39b278(0xe9),_0x4b4b04,_0x2066af+=0x2d),_0x2737c9['fontSize'](0x9)['text'](_0x39b278(0x85)+_0xe02161['warehouse_name'],_0x4b4b04+0x3f,_0x2066af),_0x2737c9[_0x39b278(0x89)](0x9)[_0x39b278(0x10f)](_0x39b278(0xc1)+_0xe02161[_0x39b278(0x8a)],_0x4b4b04+0x17c,_0x2066af,{'underline':!![]}),_0x2737c9[_0x39b278(0x89)](0x9)[_0x39b278(0x10f)](_0x39b278(0x122),_0x4b4b04,_0x2066af+=0xb),_0x2737c9['fontSize'](0x9)[_0x39b278(0x10f)](_0x39b278(0x85)+_0xe02161['date'],_0x4b4b04+0x3f,_0x2066af),_0x2737c9[_0x39b278(0x89)](0x9)[_0x39b278(0x10f)](_0x39b278(0x148),_0x4b4b04,_0x2066af+=0xb),_0x2737c9[_0x39b278(0x89)](0x9)[_0x39b278(0x10f)]('\x20:\x20'+_0xe02161[_0x39b278(0xf8)],_0x4b4b04+0x3f,_0x2066af);const _0x28f23e={'headers':[{'label':_0x39b278(0xe5),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x39b278(0xc2),'property':_0x39b278(0xcf),'width':0x96,'renderer':null},{'label':_0x39b278(0x93),'property':_0x39b278(0xa3),'width':0x2d,'renderer':null},{'label':'UOM','property':_0x39b278(0xfe),'width':0x3c,'renderer':null},{'label':_0x39b278(0xa8),'property':_0x39b278(0xd2),'width':0x46,'renderer':null},{'label':_0x39b278(0x10c),'property':_0x39b278(0x9f),'width':0x3c,'renderer':null},{'label':_0x39b278(0xfa),'property':_0x39b278(0xa1),'width':0x3c,'renderer':null},{'label':_0x39b278(0x13a),'property':'DelCode','width':0x3f,'renderer':null}],'datas':[]};var _0x5bdb90=0x0;let _0x1760df='';_0xe02161['product']['forEach'](_0x50a821=>{const _0x2cfcd1=_0x39b278;let _0x19b420='';var _0x295169=0x0;const _0x20162b={'itemcode':_0x50a821[_0x2cfcd1(0x101)],'itemdescription':_0x50a821[_0x2cfcd1(0xaf)],'qty':_0x50a821['quantity'],'unit':_0x50a821[_0x2cfcd1(0x8b)],'expdate':_0x50a821[_0x2cfcd1(0x103)],'batchno':_0x50a821[_0x2cfcd1(0x134)],'binloc':_0x50a821[_0x2cfcd1(0xb6)]+_0x50a821[_0x2cfcd1(0x7e)]+_0x50a821['bay']+_0x50a821[_0x2cfcd1(0x145)]+_0x50a821[_0x2cfcd1(0xa2)][0x0]+_0x50a821[_0x2cfcd1(0xa7)],'DelCode':_0x50a821[_0x2cfcd1(0xd9)]};_0x5bdb90+=_0x50a821[_0x2cfcd1(0xf3)],_0x28f23e[_0x2cfcd1(0xeb)][_0x2cfcd1(0x113)](_0x20162b);}),_0x2737c9[_0x39b278(0xdf)](_0x28f23e,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x2737c9[_0x39b278(0x132)](_0x39b278(0x86))[_0x39b278(0x89)](0x8),'prepareRow':(_0x162305,_0x2f4d1f,_0x437c7a,_0x4821a8)=>_0x2737c9[_0x39b278(0x132)]('Helvetica')[_0x39b278(0x89)](0x8)});var _0x2e97d5=_0x2737c9['y'],_0x44e9b9=_0x2737c9['x'];_0x2737c9[_0x39b278(0x89)](0xa)[_0x39b278(0x10f)](_0x39b278(0x74),_0x44e9b9+0x7d,_0x2e97d5),_0x2737c9[_0x39b278(0x89)](0xa)[_0x39b278(0x10f)](_0x39b278(0x141),_0x44e9b9,_0x2e97d5+=0x15e),_0x2737c9[_0x39b278(0x89)](0xa)[_0x39b278(0x10f)](_0x5bdb90,_0x44e9b9+0xf0,_0x2e97d5,{'underline':!![]}),_0x2737c9[_0x39b278(0x89)](0xa)[_0x39b278(0x10f)](_0x39b278(0x130),_0x44e9b9,_0x2e97d5+0x28),_0x2737c9[_0x39b278(0x89)](0xa)['text'](_0x39b278(0xff),_0x44e9b9+0x40,_0x2e97d5+0x28,{'underline':!![]}),_0x2737c9[_0x39b278(0x89)](0xa)[_0x39b278(0x10f)](_0x39b278(0x10d),_0x44e9b9+0x40,_0x2e97d5+0x32);let _0x10bcde=_0x2737c9[_0x39b278(0x104)]();for(let _0x2b6ea8=0x0;_0x2b6ea8<_0x10bcde['count'];_0x2b6ea8++){_0x2737c9[_0x39b278(0xc7)](_0x2b6ea8);let _0x431df2=_0x2737c9[_0x39b278(0x83)][_0x39b278(0xb0)][_0x39b278(0xda)];_0x2737c9[_0x39b278(0x83)][_0x39b278(0xb0)][_0x39b278(0xda)]=0x0,_0x2737c9[_0x39b278(0x10f)](_0x39b278(0x10a)+(_0x2b6ea8+0x1)+_0x39b278(0x133)+_0x10bcde[_0x39b278(0x99)],0x0,_0x2737c9[_0x39b278(0x83)]['height']-_0x431df2/0x2,{'align':'center'}),_0x2737c9[_0x39b278(0x83)][_0x39b278(0xb0)][_0x39b278(0xda)]=_0x431df2;}const _0x1433e8=_0x2737c9['y'],_0x29fa07=_0x2737c9['x'];_0x2737c9[_0x39b278(0x110)]();}catch(_0x15e6cb){console[_0x39b278(0x8d)](_0x15e6cb),_0x1268ff['status'](0x1f4)[_0x39b278(0xe3)](_0x39b278(0xb2));}}),router[a0_0x3b77a8(0x95)]('/PDF_Sales/:id',auth,async(_0x2a769f,_0x329109)=>{const _0x890f7c=a0_0x3b77a8;try{const {username:_0x246e4a,email:_0x55805b,role:_0x6171e1}=_0x2a769f[_0x890f7c(0x10b)],_0x520658=_0x2a769f['user'],_0x28bb1d=await profile[_0x890f7c(0xe4)]({'email':_0x520658[_0x890f7c(0x107)]}),_0x4f9a9a=await master_shop[_0x890f7c(0xb9)](),_0xdecaec=_0x2a769f[_0x890f7c(0x13b)]['id'],_0x5f1e48=await sales['findById'](_0xdecaec),_0x2aea29=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x445abf;_0x445abf='PICKING\x20LIST';_0x5f1e48[_0x890f7c(0x120)]==_0x890f7c(0x106)&&(_0x445abf=_0x890f7c(0x144));_0x329109['setHeader']('Content-disposition',_0x890f7c(0xec)+_0xdecaec+_0x890f7c(0x81)),_0x329109[_0x890f7c(0x77)]('Content-type',_0x890f7c(0xc9));var _0x5aae54=0x14,_0x26fcde=0x64;_0x2aea29[_0x890f7c(0xb4)](_0x329109),_0x2aea29[_0x890f7c(0xa6)]('./public/upload/'+_0x4f9a9a[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x2aea29[_0x890f7c(0x89)](0x14)[_0x890f7c(0x10f)](_0x890f7c(0x82),_0x5aae54,_0x26fcde),_0x2aea29[_0x890f7c(0x89)](0xa)[_0x890f7c(0x10f)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x5aae54,_0x26fcde+=0xf),_0x2aea29[_0x890f7c(0x89)](0xf)['text'](_0x445abf,_0x5aae54,_0x26fcde+=0x32),_0x2aea29[_0x890f7c(0x89)](0xa)[_0x890f7c(0x10f)](_0x890f7c(0x142),_0x5aae54,_0x26fcde+=0x14),_0x2aea29['fontSize'](0x9)[_0x890f7c(0x10f)]('Date\x20',_0x5aae54,_0x26fcde+=0x19),_0x2aea29[_0x890f7c(0x89)](0x9)['text'](_0x890f7c(0x85)+_0x5f1e48[_0x890f7c(0xef)],_0x5aae54+0x3f,_0x26fcde),_0x2aea29['fontSize'](0x9)[_0x890f7c(0x10f)](_0x890f7c(0x8f),_0x5aae54,_0x26fcde+=0xb),_0x2aea29['fontSize'](0x9)[_0x890f7c(0x10f)](_0x890f7c(0x85)+_0x5f1e48['invoice'],_0x5aae54+0x3f,_0x26fcde);const _0x172ae3={'headers':[{'label':_0x890f7c(0x147),'property':_0x890f7c(0xb5),'align':_0x890f7c(0xbe),'width':0x2d,'renderer':null},{'label':_0x890f7c(0x111),'property':_0x890f7c(0xcf),'align':_0x890f7c(0xbe),'width':0x64,'renderer':null},{'label':_0x890f7c(0x76),'property':_0x890f7c(0xba),'align':_0x890f7c(0xbe),'width':0x28,'renderer':null},{'label':'QUANTITY\x20ISSUED','property':_0x890f7c(0xd7),'align':'center','width':0x28,'renderer':null},{'label':_0x890f7c(0xd5),'property':_0x890f7c(0xfe),'align':_0x890f7c(0xbe),'width':0x28,'renderer':null},{'label':_0x890f7c(0x13d),'property':'blocation','align':_0x890f7c(0xbe),'width':0x32,'renderer':null},{'label':_0x890f7c(0x136),'property':_0x890f7c(0xee),'align':'center','width':0x3c,'renderer':null},{'label':'EXPIRATION\x20DATE','property':_0x890f7c(0xd2),'align':_0x890f7c(0xbe),'width':0x3c,'renderer':null},{'label':_0x890f7c(0xe8),'property':'del_date','align':_0x890f7c(0xbe),'width':0x3f,'renderer':null},{'label':_0x890f7c(0x124),'property':'del_code','align':'center','width':0x3f,'renderer':null}],'datas':[]};var _0x3318a1=0x0;let _0x4e0d82='';var _0x58d173=0x0,_0x5aae54=0x1;_0x5f1e48[_0x890f7c(0xae)]['forEach'](_0x14d8b7=>{const _0x324ef=_0x890f7c,_0x435305=new Date(_0x14d8b7[_0x324ef(0x11d)]),_0x30c0ed={'year':_0x324ef(0x96),'month':_0x324ef(0xaa),'day':_0x324ef(0x96)},_0x5c2598=_0x435305['toLocaleDateString'](_0x324ef(0x146),_0x30c0ed),_0x12488d=new Date(_0x14d8b7['expiry_date']),_0x196c6f={'year':_0x324ef(0x96),'month':'short','day':'numeric'},_0x2cc85d=_0x12488d[_0x324ef(0xa0)](_0x324ef(0x146),_0x196c6f),_0xb1cc28=new Date(_0x14d8b7[_0x324ef(0xf1)]),_0x273bbb={'year':_0x324ef(0x96),'month':_0x324ef(0xaa),'day':_0x324ef(0x96)};var _0x3e9021=_0xb1cc28['toLocaleDateString'](_0x324ef(0x146),_0x273bbb);typeof _0x14d8b7[_0x324ef(0xf1)]==_0x324ef(0x9d)&&(_0x3e9021='');const _0x1ad45c={'itemcode':_0x14d8b7[_0x324ef(0x101)],'itemdescription':_0x14d8b7['product_name'],'rqty':_0x14d8b7[_0x324ef(0x9b)],'iqty':_0x14d8b7[_0x324ef(0xf3)],'unit':_0x14d8b7['unit'],'blocation':_0x14d8b7[_0x324ef(0xb6)]+_0x14d8b7['rack']+_0x14d8b7[_0x324ef(0x9e)]+_0x14d8b7['bin']+_0x14d8b7[_0x324ef(0xa2)][0x0]+_0x14d8b7[_0x324ef(0xa7)],'proddate':_0x5c2598,'expdate':_0x2cc85d,'del_date':_0x3e9021,'del_code':_0x14d8b7['delivery_code']};_0x5aae54++,_0x172ae3[_0x324ef(0xeb)][_0x324ef(0x113)](_0x1ad45c);}),_0x2aea29['table'](_0x172ae3,{'x':_0x5aae54+0x11,'y':_0x26fcde+=0x1e,'prepareHeader':()=>_0x2aea29[_0x890f7c(0x132)](_0x890f7c(0x86))['fontSize'](6.5),'prepareRow':(_0x10faab,_0x2b947c,_0x18f017,_0x56f886,_0x57a610)=>{const _0x1369c5=_0x890f7c,{x:_0x7c5dcc,y:_0x4c1261,width:_0x41ff80,height:_0x20ac4a}=_0x57a610;_0x2aea29[_0x1369c5(0x132)](_0x1369c5(0xbd))[_0x1369c5(0x89)](0x8),_0x2aea29[_0x1369c5(0x128)](0.5)[_0x1369c5(0xe7)](_0x7c5dcc,_0x4c1261)[_0x1369c5(0xbc)](_0x7c5dcc,_0x4c1261+_0x20ac4a)[_0x1369c5(0x135)]();}});var _0x421e61=_0x2aea29['y'],_0x5b0752=_0x2aea29['x'],_0x5a9e89=_0x421e61-=0x8;_0x2aea29[_0x890f7c(0x128)](0x5),_0x2aea29[_0x890f7c(0xad)](_0x890f7c(0x123))['moveTo'](0x240,_0x5a9e89)['lineTo'](0x11,_0x5a9e89)[_0x890f7c(0x135)](),_0x2aea29[_0x890f7c(0x89)](0xa)[_0x890f7c(0x10f)](_0x890f7c(0x74),_0x5b0752+0x7d,_0x421e61+=0xf),_0x2aea29[_0x890f7c(0x89)](0xb)['text'](_0x890f7c(0x79),_0x5b0752,_0x421e61+=0x15e),_0x2aea29[_0x890f7c(0x89)](0xa)[_0x890f7c(0x10f)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5b0752+0x52,_0x421e61,{'underline':!![]}),_0x2aea29['fontSize'](0xa)['text'](_0x890f7c(0xf4),_0x5b0752,_0x421e61+=0x19),_0x2aea29[_0x890f7c(0x89)](0xa)['text']('\x20:\x20',_0x5b0752+0x4b,_0x421e61),_0x2aea29['fontSize'](0xa)['text']('\x20'[_0x890f7c(0xca)](0x3c),_0x5b0752+0x50,_0x421e61,{'underline':!![]}),_0x2aea29[_0x890f7c(0x89)](0xa)[_0x890f7c(0x10f)](_0x890f7c(0x11e),_0x5b0752,_0x421e61+=0x32),_0x2aea29['fontSize'](0xa)[_0x890f7c(0x10f)](_0x890f7c(0x85),_0x5b0752+0x4b,_0x421e61),_0x2aea29[_0x890f7c(0x89)](0xa)[_0x890f7c(0x10f)](_0x890f7c(0x9a),_0x5b0752+0x50,_0x421e61,{'underline':!![]}),_0x2aea29['fontSize'](0xa)['text'](_0x890f7c(0x10d),_0x5b0752+0x50,_0x421e61+0xc);let _0x3fbc20=_0x2aea29[_0x890f7c(0x104)]();for(let _0x5e8f17=0x0;_0x5e8f17<_0x3fbc20[_0x890f7c(0x99)];_0x5e8f17++){_0x2aea29[_0x890f7c(0xc7)](_0x5e8f17);let _0x6c7d52=_0x2aea29['page'][_0x890f7c(0xb0)]['bottom'];_0x2aea29[_0x890f7c(0x83)][_0x890f7c(0xb0)][_0x890f7c(0xda)]=0x0,_0x2aea29['text'](_0x890f7c(0x10a)+(_0x5e8f17+0x1)+_0x890f7c(0x133)+_0x3fbc20['count'],0x0,_0x2aea29[_0x890f7c(0x83)][_0x890f7c(0x98)]-_0x6c7d52/0x2,{'align':_0x890f7c(0xbe)}),_0x2aea29[_0x890f7c(0x83)][_0x890f7c(0xb0)][_0x890f7c(0xda)]=_0x6c7d52;}const _0x199fb2=_0x2aea29['y'],_0x1e5615=_0x2aea29['x'];_0x2aea29[_0x890f7c(0x110)]();}catch(_0x1f5946){console[_0x890f7c(0x8d)](_0x1f5946),_0x329109[_0x890f7c(0x9c)](0x1f4)[_0x890f7c(0xe3)](_0x890f7c(0xb2));}}),router[a0_0x3b77a8(0x95)]('/PDF_adjustment_rm/:id',auth,async(_0x1e9f74,_0x132144)=>{const _0x2adb93=a0_0x3b77a8;try{const {username:_0x4324e0,email:_0x35d137,role:_0x190889}=_0x1e9f74[_0x2adb93(0x10b)],_0x3db2e2=_0x1e9f74[_0x2adb93(0x10b)],_0x2c6b90=await profile[_0x2adb93(0xe4)]({'email':_0x3db2e2[_0x2adb93(0x107)]}),_0x20fb22=await master_shop[_0x2adb93(0xb9)](),_0x1e6bb5=_0x1e9f74[_0x2adb93(0x13b)]['id'],_0x2b1a74=await adjustment[_0x2adb93(0x102)](_0x1e6bb5);var _0x4dd884,_0x1bc60f;_0x4dd884=_0x2adb93(0x143),_0x1bc60f=_0x2adb93(0xbb);_0x2b1a74['finalize']==_0x2adb93(0x106)&&(_0x4dd884='INVENTORY\x20ADJUSTMENT',_0x1bc60f='');const _0x220ba=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x132144[_0x2adb93(0x77)](_0x2adb93(0x11a),_0x2adb93(0xec)+_0x1e6bb5+_0x2adb93(0x81)),_0x132144[_0x2adb93(0x77)]('Content-type','application/pdf');var _0xdbc752=0x14,_0x23eba1=0x3c;_0x220ba[_0x2adb93(0xb4)](_0x132144),_0x220ba[_0x2adb93(0xa6)]('./public/upload/'+_0x20fb22[0x0][_0x2adb93(0xa6)],0x14,0x0,{'fit':[0x64,0x64]}),_0x220ba[_0x2adb93(0x89)](0x14)[_0x2adb93(0x10f)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0xdbc752,_0x23eba1),_0x220ba[_0x2adb93(0x89)](0xa)[_0x2adb93(0x10f)](_0x2adb93(0xc4),_0xdbc752,_0x23eba1+=0xf),_0x220ba[_0x2adb93(0x89)](0xf)[_0x2adb93(0x10f)](_0x4dd884,_0xdbc752,_0x23eba1+=0x32),_0x220ba[_0x2adb93(0x89)](0xa)['text'](_0x1bc60f,_0xdbc752,_0x23eba1+=0x14),_0x220ba['fontSize'](0x9)['text'](_0x2adb93(0xe9),_0xdbc752,_0x23eba1+=0x28),_0x220ba['fontSize'](0x9)[_0x2adb93(0x10f)](_0x2adb93(0x85)+_0x2b1a74[_0x2adb93(0x109)],_0xdbc752+0x3f,_0x23eba1),_0x220ba[_0x2adb93(0x89)](0x9)[_0x2adb93(0x10f)](_0x2adb93(0x122),_0xdbc752,_0x23eba1+=0xb),_0x220ba[_0x2adb93(0x89)](0x9)[_0x2adb93(0x10f)](_0x2adb93(0x85)+_0x2b1a74[_0x2adb93(0xef)],_0xdbc752+0x3f,_0x23eba1),_0x220ba[_0x2adb93(0x89)](0x9)[_0x2adb93(0x10f)]('Control\x20Number\x20',_0xdbc752,_0x23eba1+=0xb),_0x220ba[_0x2adb93(0x89)](0x9)['text'](_0x2adb93(0x85)+_0x2b1a74['invoice'],_0xdbc752+0x3f,_0x23eba1);const _0x4c4edf={'headers':[{'label':_0x2adb93(0xe5),'property':_0x2adb93(0xb5),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0x96,'renderer':null},{'label':'Quantity','property':_0x2adb93(0xa3),'width':0x3c,'renderer':null},{'label':_0x2adb93(0xd5),'property':_0x2adb93(0xfe),'width':0x3c,'renderer':null},{'label':_0x2adb93(0x138),'property':_0x2adb93(0xee),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x2adb93(0x9f),'width':0x3f,'renderer':null},{'label':_0x2adb93(0xfa),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x3a81b6=0x0,_0x13fbba=0x0;_0x2b1a74['product'][_0x2adb93(0x131)](_0x384861=>{const _0x12275e=_0x2adb93;let _0x3900d2='';const _0x3b1552=_0x384861['to_quantity'];for(let _0x3bba17=0x1;_0x3bba17<=_0x3b1552;_0x3bba17++){_0x3b1552==_0x3bba17?_0x3900d2+=_0x384861['maxperunit']:_0x3900d2+=_0x384861[_0x12275e(0x91)]+',',_0x13fbba+=_0x384861['maxperunit'];}_0x3900d2+=_0x12275e(0x127)+_0x384861['secondary_unit'];const _0x37894c={'itemcode':_0x384861['product_code'],'itemdescription':_0x384861['product_name'],'qty':_0x384861[_0x12275e(0xe1)],'unit':_0x384861[_0x12275e(0xfe)],'proddate':_0x384861[_0x12275e(0x11d)],'batchno':_0x384861['batch_code'],'binloc':_0x384861['storage']+_0x384861['rack']+_0x384861['bay']+_0x384861[_0x12275e(0x145)]+_0x384861['type'][0x0]+_0x384861[_0x12275e(0xa7)]};_0x3a81b6+=_0x384861['new_adjust_qty'],_0x4c4edf[_0x12275e(0xeb)][_0x12275e(0x113)](_0x37894c);}),_0x220ba[_0x2adb93(0xdf)](_0x4c4edf,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x220ba[_0x2adb93(0x132)]('Helvetica-Bold')[_0x2adb93(0x89)](0x8),'prepareRow':(_0x1287de,_0x4231d2,_0x52e4eb,_0x4575db)=>_0x220ba['font']('Helvetica')['fontSize'](0x8)});var _0x10ce24=_0x220ba['y'],_0x1ddb6e=_0x220ba['x'];_0x220ba[_0x2adb93(0x89)](0xa)[_0x2adb93(0x10f)](_0x2adb93(0x74),_0x1ddb6e+0x7d,_0x10ce24),_0x220ba['fontSize'](0xa)[_0x2adb93(0x10f)]('TOTAL\x20QTY\x20:\x20',_0x1ddb6e,_0x10ce24+=0x136),_0x220ba[_0x2adb93(0x89)](0xa)[_0x2adb93(0x10f)](_0x3a81b6,_0x1ddb6e+0xc8,_0x10ce24),_0x220ba['fontSize'](0xa)[_0x2adb93(0x10f)](_0x2adb93(0xc6),_0x1ddb6e,_0x10ce24+=0x19),_0x220ba['fontSize'](0xa)[_0x2adb93(0x10f)]('\x20'[_0x2adb93(0xca)](0x3c),_0x1ddb6e+0x3e,_0x10ce24,{'underline':!![]}),_0x220ba['fontSize'](0xa)[_0x2adb93(0x10f)](_0x2adb93(0xf9),_0x1ddb6e,_0x10ce24+=0x32),_0x220ba[_0x2adb93(0x89)](0xa)['text'](_0x2adb93(0x85),_0x1ddb6e+0x37,_0x10ce24),_0x220ba[_0x2adb93(0x89)](0xa)[_0x2adb93(0x10f)](_0x2adb93(0x9a),_0x1ddb6e+0x3c,_0x10ce24,{'underline':!![]}),_0x220ba[_0x2adb93(0x89)](0xa)['text'](_0x2adb93(0x10d),_0x1ddb6e+0x3c,_0x10ce24+0xc);let _0x1dee48=_0x220ba[_0x2adb93(0x104)]();for(let _0x3424a6=0x0;_0x3424a6<_0x1dee48[_0x2adb93(0x99)];_0x3424a6++){_0x220ba[_0x2adb93(0xc7)](_0x3424a6);let _0x32e022=_0x220ba[_0x2adb93(0x83)]['margins']['bottom'];_0x220ba[_0x2adb93(0x83)][_0x2adb93(0xb0)]['bottom']=0x0,_0x220ba[_0x2adb93(0x10f)](_0x2adb93(0x10a)+(_0x3424a6+0x1)+_0x2adb93(0x133)+_0x1dee48[_0x2adb93(0x99)],0x0,_0x220ba['page'][_0x2adb93(0x98)]-_0x32e022/0x2,{'align':_0x2adb93(0xbe)}),_0x220ba['page'][_0x2adb93(0xb0)][_0x2adb93(0xda)]=_0x32e022;}const _0x786f2a=_0x220ba['y'],_0x26ebcc=_0x220ba['x'];_0x220ba['end']();}catch(_0x55747e){console['log'](_0x55747e),_0x132144[_0x2adb93(0x9c)](0x1f4)['send'](_0x2adb93(0xb2));}}),router[a0_0x3b77a8(0x95)](a0_0x3b77a8(0x84),auth,async(_0x3dd49a,_0x1eb840)=>{const _0x21269c=a0_0x3b77a8;try{const {username:_0xa4f466,email:_0x3c567e,role:_0xa82be9}=_0x3dd49a[_0x21269c(0x10b)],_0x2e4718=_0x3dd49a[_0x21269c(0x10b)],_0x2e7830=await profile[_0x21269c(0xe4)]({'email':_0x2e4718['email']}),_0x5dfbf0=await master_shop[_0x21269c(0xb9)](),_0x3f8597=_0x3dd49a[_0x21269c(0x13b)]['id'],_0x5d2bb7=await transfers[_0x21269c(0x102)](_0x3f8597);var _0x8fd203,_0x3691d1;_0x8fd203=_0x21269c(0xfd),_0x3691d1=_0x21269c(0x11b);_0x5d2bb7[_0x21269c(0x120)]=='True'&&(_0x8fd203=_0x21269c(0xb3),_0x3691d1='');const _0x46e3e6=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1eb840[_0x21269c(0x77)](_0x21269c(0x11a),_0x21269c(0xec)+_0x3f8597+'.pdf\x22'),_0x1eb840[_0x21269c(0x77)](_0x21269c(0xdb),'application/pdf');var _0x249525=0x14,_0x1f5820=0x3c;_0x46e3e6['pipe'](_0x1eb840),_0x46e3e6[_0x21269c(0xa6)](_0x21269c(0x75)+_0x5dfbf0[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x46e3e6[_0x21269c(0x89)](0x14)[_0x21269c(0x10f)](_0x21269c(0x82),_0x249525,_0x1f5820),_0x46e3e6[_0x21269c(0x89)](0xa)[_0x21269c(0x10f)](_0x21269c(0xc4),_0x249525,_0x1f5820+=0xf),_0x46e3e6[_0x21269c(0x89)](0xf)[_0x21269c(0x10f)](_0x8fd203,_0x249525,_0x1f5820+=0x32),_0x46e3e6[_0x21269c(0x89)](0xa)[_0x21269c(0x10f)](_0x3691d1,_0x249525,_0x1f5820+=0x14),_0x46e3e6[_0x21269c(0x89)](0x9)[_0x21269c(0x10f)](_0x21269c(0xdd),_0x249525,_0x1f5820+=0x28),_0x46e3e6['fontSize'](0x9)[_0x21269c(0x10f)](_0x21269c(0x13e)+_0x5d2bb7[_0x21269c(0x12e)],_0x249525+0x3f,_0x1f5820),_0x46e3e6[_0x21269c(0x89)](0x9)[_0x21269c(0x10f)]('To\x20Warehouse\x20',_0x249525,_0x1f5820+=0xa),_0x46e3e6['fontSize'](0x9)[_0x21269c(0x10f)]('\x20\x20\x20:\x20'+_0x5d2bb7[_0x21269c(0x80)],_0x249525+0x3f,_0x1f5820),_0x46e3e6['fontSize'](0x9)['text'](_0x21269c(0x122),_0x249525,_0x1f5820+=0xb),_0x46e3e6[_0x21269c(0x89)](0x9)['text']('\x20\x20\x20:\x20'+_0x5d2bb7[_0x21269c(0xef)],_0x249525+0x3f,_0x1f5820),_0x46e3e6[_0x21269c(0x89)](0x9)['text']('Control\x20Number\x20',_0x249525,_0x1f5820+=0xb),_0x46e3e6['fontSize'](0x9)['text']('\x20\x20\x20:\x20'+_0x5d2bb7['invoice'],_0x249525+0x3f,_0x1f5820);const _0x3beb5d={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x21269c(0x90),'property':_0x21269c(0xb5),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x21269c(0xa4),'property':'itemdescription','width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x46e3e6['table'](_0x3beb5d,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x46e3e6['font']('Helvetica-Bold')[_0x21269c(0x89)](0x8),'prepareRow':(_0x49430a,_0x29712e,_0x453764,_0x585f0d)=>_0x46e3e6[_0x21269c(0x132)](_0x21269c(0xbd))[_0x21269c(0x89)](0x8)});const _0x2bcfb6={'headers':[{'label':_0x21269c(0xe5),'property':_0x21269c(0xb5),'width':0x3c,'renderer':null},{'label':_0x21269c(0xc2),'property':_0x21269c(0xcf),'width':0x96,'renderer':null},{'label':_0x21269c(0x125),'property':_0x21269c(0xa3),'width':0x28,'renderer':null},{'label':_0x21269c(0xd5),'property':_0x21269c(0xfe),'width':0x37,'renderer':null},{'label':_0x21269c(0x138),'property':_0x21269c(0xee),'width':0x4b,'renderer':null},{'label':_0x21269c(0x10c),'property':_0x21269c(0x9f),'width':0x3f,'renderer':null},{'label':_0x21269c(0xfa),'property':_0x21269c(0x92),'width':0x3f,'renderer':null},{'label':_0x21269c(0xfa),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x35bb6b=0x0;let _0x129056='';var _0x812b77=0x0;_0x5d2bb7[_0x21269c(0xe6)]['forEach'](_0x574223=>{const _0x25ec5a=_0x21269c;var _0x21125b=_0x574223[_0x25ec5a(0xf7)],_0x455df0;_0x455df0=_0x574223['unit'];_0x21125b=='S'&&(_0x455df0=_0x574223['secondary_unit']);const _0x26a1f8={'itemcode':_0x574223['product_code'],'itemdescription':_0x574223[_0x25ec5a(0xaf)],'qty':_0x574223[_0x25ec5a(0xcd)],'unit':_0x455df0,'proddate':_0x574223['production_date'],'batchno':_0x574223[_0x25ec5a(0x134)],'binloc':_0x574223['storage']+_0x574223['rack']+_0x574223[_0x25ec5a(0x119)]+_0x574223['to_bin']+_0x574223[_0x25ec5a(0x14c)][0x0]+_0x574223['to_floorlevel'],'qtyFrom':_0x574223[_0x25ec5a(0x12a)],'binlocFrom':_0x574223['from_storage']+_0x574223[_0x25ec5a(0x11c)]+_0x574223[_0x25ec5a(0x7f)]+_0x574223[_0x25ec5a(0x137)]+_0x574223[_0x25ec5a(0xcb)][0x0]+_0x574223['from_floorlevel']};_0x35bb6b+=_0x574223[_0x25ec5a(0xcd)],_0x2bcfb6[_0x25ec5a(0xeb)][_0x25ec5a(0x113)](_0x26a1f8);}),_0x46e3e6['table'](_0x2bcfb6,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x46e3e6[_0x21269c(0x132)](_0x21269c(0x86))[_0x21269c(0x89)](0x8),'prepareRow':(_0x29533e,_0x7618d3,_0x50d501,_0x1e80b3)=>_0x46e3e6['font'](_0x21269c(0xbd))['fontSize'](0x8)});var _0x12f1cd=_0x46e3e6['y'],_0x2d51c9=_0x46e3e6['x'];_0x46e3e6[_0x21269c(0x89)](0xa)[_0x21269c(0x10f)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x2d51c9+0x7d,_0x12f1cd),_0x46e3e6['fontSize'](0xa)['text']('TOTAL\x20QTY:\x20',_0x2d51c9,_0x12f1cd+=0x12c),_0x46e3e6[_0x21269c(0x89)](0xa)[_0x21269c(0x10f)](_0x35bb6b,_0x2d51c9+0xd7,_0x12f1cd,{'underline':!![]}),_0x46e3e6[_0x21269c(0x89)](0xa)[_0x21269c(0x10f)](_0x21269c(0xdc),_0x2d51c9,_0x12f1cd+=0x32),_0x46e3e6[_0x21269c(0x89)](0xa)[_0x21269c(0x10f)](_0x21269c(0x121),_0x2d51c9+0x3c,_0x12f1cd,{'underline':!![]}),_0x46e3e6[_0x21269c(0x89)](0xa)[_0x21269c(0x10f)](_0x21269c(0x10d),_0x2d51c9+0x3c,_0x12f1cd+0xc);let _0x2cdba7=_0x46e3e6[_0x21269c(0x104)]();for(let _0x23b4a7=0x0;_0x23b4a7<_0x2cdba7[_0x21269c(0x99)];_0x23b4a7++){_0x46e3e6[_0x21269c(0xc7)](_0x23b4a7);let _0x4318d0=_0x46e3e6[_0x21269c(0x83)][_0x21269c(0xb0)][_0x21269c(0xda)];_0x46e3e6[_0x21269c(0x83)][_0x21269c(0xb0)][_0x21269c(0xda)]=0x0,_0x46e3e6[_0x21269c(0x10f)](_0x21269c(0x10a)+(_0x23b4a7+0x1)+_0x21269c(0x133)+_0x2cdba7['count'],0x0,_0x46e3e6[_0x21269c(0x83)][_0x21269c(0x98)]-_0x4318d0/0x2,{'align':_0x21269c(0xbe)}),_0x46e3e6[_0x21269c(0x83)]['margins']['bottom']=_0x4318d0;}const _0x2adcc8=_0x46e3e6['y'],_0x47345f=_0x46e3e6['x'];_0x46e3e6['end']();}catch(_0x5c4e62){console[_0x21269c(0x8d)](_0x5c4e62),_0x1eb840[_0x21269c(0x9c)](0x1f4)[_0x21269c(0xe3)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x3b77a8(0x95)](a0_0x3b77a8(0xcc),auth,async(_0x3e5d07,_0x3e6433)=>{const _0x44ed1e=a0_0x3b77a8;try{const _0x1e2da3=_0x59e5b2=>_0x59e5b2*0x48,_0x31328e={'width':0x3,'height':0x1},_0x58eba9=await product[_0x44ed1e(0xb9)](),_0x105823=new PDFDocument({'margin':_0x1e2da3(0.75),'size':[_0x1e2da3(_0x31328e[_0x44ed1e(0x105)]),_0x1e2da3(_0x31328e[_0x44ed1e(0x98)])],'bufferPages':!![]}),_0x1fc360=_0x58eba9['length'];for(let _0x18539e=0x0;_0x18539e<=_0x1fc360;_0x18539e++){if(_0x18539e!=_0x58eba9[_0x44ed1e(0xc3)]){const _0x52a1f8=_0x58eba9[_0x18539e][_0x44ed1e(0xd0)],_0x9af1f=_0x58eba9[_0x18539e][_0x44ed1e(0x112)],_0x13fdd0=_0x58eba9[_0x18539e][_0x44ed1e(0xde)],_0x31217a=_0x58eba9[_0x18539e]['product_code'],_0x4d8623=new Canvas();JsBarcode(_0x4d8623,_0x9af1f,{'format':_0x44ed1e(0x78),'height':0x32,'displayValue':!![],'text':_0x9af1f}),_0x105823[_0x44ed1e(0xa6)](_0x4d8623[_0x44ed1e(0x8e)](),0x0,0x0,{'width':0xd2}),_0x105823[_0x44ed1e(0xac)]();}}_0x105823[_0x44ed1e(0xb4)](_0x3e6433),_0x105823[_0x44ed1e(0x110)]();}catch(_0x2ed05c){console[_0x44ed1e(0xc8)](_0x44ed1e(0x116),_0x2ed05c),_0x3e6433[_0x44ed1e(0x9c)](0x1f4)[_0x44ed1e(0xe3)](_0x44ed1e(0xb2));}}),module['exports']=router;function a0_0x3d45(){const _0x2501ab=['Check\x20By:\x20','Picked\x20By\x20\x20\x20\x20\x20:\x20','switchToPage','error','application/pdf','repeat','from_types','/barcode_generator/','to_quantity','217025RyBwSo','itemdescription','name','return_qty','expdate','1029aubZzw','Picked\x20By\x20\x20\x20\x20:\x20','UOM','Date\x20:\x20','iqty','maxPerUnit','delivery_code','bottom','Content-type','Checked\x20By:\x20','From\x20Warehouse\x20','secondary_code','table','../public/language/languages.json','new_adjust_qty','1968736iqelTP','send','findOne','Item\x20Code','product','moveTo','DELIVERY\x20DATE','Warehouse\x20','warehouse_cat','datas','inline;\x20filename=\x22OUT-','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','proddate','date','ToWarehouse','delivery_date','secondary_unit','quantity','Picked\x20By','DRY\x20GOODS','INVENTORY\x20ADJUSTMENT','prod_cat','invoice','Checked\x20By\x20','Bin\x20Location','FROZEN\x20GOODS','Control\x20Number\x20:\x20','Picking\x20List','unit','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','POnumber','product_code','findById','expiry_date','bufferedPageRange','width','True','email','adjust_qty','warehouse_name','Page:\x20','user','Batch\x20No','Raw\x20Materials\x20Warehouse\x20Supervisor','/pdf_puchases_fin/:id','text','end','MATERIAL\x20DESCRIPTION','primary_code','push','express/lib/response','express','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','FTGS\x20Number\x20:\x20','Picked\x20By\x20\x20\x20:\x20','to_bay','Content-disposition','(STOCKS\x20TRANSFER)','from_rack','production_date','Noted\x20By\x20','13329MuzVrt','finalize','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Date\x20','butt','DELIVERY\x20CODE','Quantity','(INCOMING)','\x20/\x20','lineWidth','x:\x20','from_quantity','\x20\x20FROM','162vOgVHO','Pick\x20By\x20:\x20','from_warehouse','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','Checked\x20By\x20\x20\x20:\x20','forEach','font','\x20of\x20','batch_code','stroke','PRODUCTION\x20DATE','from_bin','Production\x20Date','To\x20Warehouse\x20','Delivery\x20Code','params','ARMAN\x20CRUZ','LOCATION','\x20\x20\x20:\x20','\x20y:\x20','8gfehtU','TOTAL\x20QTY:\x20','(OUTGOING)','PICKING\x20LIST','DELIVERY\x20RECEIPT','bin','en-US','ITEM\x20CODE','Control\x20Number\x20','blob-stream','\x20<>\x20','../models/all_models','to_types','192909qetOUq','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','./public/upload/','REQUESTED\x20QUANTITY','setHeader','CODE128','PREPARED\x20BY\x20:\x20','(RETURN)','2976765zXDAPm','return_sale','customer','rack','from_bay','to_warehouse','.pdf\x22','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','page','/PDF_transfer_rm/:id','\x20:\x20','Helvetica-Bold','/pdf_sales_return_fin/:id','12qwsKEf','fontSize','suppliers','standard_unit','TOTAL\x20QTY\x20:\x20','log','toBuffer','REF\x20MRIS#\x20','\x20\x20\x20\x20\x20FROM','maxperunit','binlocFrom','QTY','Warehouse\x20:\x20','get','numeric','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','height','count','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','requested_qty','status','undefined','bay','batchno','toLocaleDateString','binloc','type','qty','\x20\x20\x20\x20\x20TO','return_sale_QA','image','floorlevel','Expiration\x20Date','../middleware/auth','short','/PDF_adjustment/:id','addPage','lineCap','sale_product','product_name','margins','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','STOCKS\x20TRANSFER','pipe','itemcode','storage','inline;\x20filename=\x22','1781752LyGTvx','find','rqty','(INVENTORY\x20ADJUSTMENT)','lineTo','Helvetica','center','2440brrwgC','Finished\x20Good\x20Warehouse\x20Supervisor','Supplier\x20:\x20','Item\x20Description','length','BRGY.HALAYHAY,\x20TANZA\x20CAVITE'];a0_0x3d45=function(){return _0x2501ab;};return a0_0x3d45();}