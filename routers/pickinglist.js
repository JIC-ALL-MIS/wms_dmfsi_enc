const a0_0x471199=a0_0x2de3;function a0_0x34c8(){const _0x38ccfd=['/barcode_generator/','from_bay','from_storage','from_warehouse','Bin\x20Location','22qiZWLU','invoice','7eXCupG','DELIVERY\x20RECEIPT','storage','return_qty','Date\x20:\x20','\x20\x20\x20:\x20','maxperunit','production_date','multer','DRY\x20GOODS','from_rack','UOM','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','type','QUANTITY\x20ISSUED','toBuffer','prod_cat','TOTAL\x20QTY:\x20','./public/upload/','Raw\x20Materials\x20Warehouse\x20Supervisor','lineCap','Supplier\x20:\x20','/PDF_adjustment/:id','/pdf_puchases_fin/:id','(INCOMING)','\x20:\x20','Quantity','Helvetica-Bold','/PDF_transfer/:id','(INVENTORY\x20ADJUSTMENT)','Check\x20By\x20\x20\x20\x20:\x20','finalize','FTGS\x20Number\x20:\x20','bufferedPageRange','(RETURN)','QTY','24579432gcBagX','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','ToWarehouse','delivery_code','exports','\x20row:\x20','1SqtpGD','floorlevel','canvas','forEach','5769786GTAggb','numeric','end','exceljs','status','to_types','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','Checked\x20By\x20\x20\x20:\x20','From\x20Warehouse\x20','3WICINM','/pdf_puchases/:id','from_quantity','table','warehouse_name','Warehouse\x20','Date\x20','../middleware/auth','/pdf_sales_return_fin/:id','Page:\x20','\x20\x20\x20\x20\x20FROM','Expiration\x20Date','suppliers','To\x20Warehouse\x20','Content-type','quantity','return_sale_QA','Noted\x20By\x20','count','expiry_date','to_bay','Control\x20Number\x20:\x20','itemcode','batchno','Customer\x20:\x20','batch_code','\x20\x20TO','page','return_sale','5117695eoHuWp','margins','(STOCKS\x20TRANSFER)','Check\x20By:\x20','True','error','31320UUtFtF','secondary_code','1678646lTaoyM','stroke','Control\x20Number\x20','image','xlsx','requested_qty','delivery_date','standard_unit','find','Checked\x20By\x20','email','LOCATION','primary_code','blob-stream','lineTo','Checked\x20By:\x20','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','del_code','INVENTORY\x20ADJUSTMENT','center','short','621JKWfQE','jsbarcode','rqty','application/pdf','5482640jfSxya','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','height','4452404EIhHkM','get','binlocFrom','binloc','DelCode','iqty','pipe','customer','en-US','bay','../public/language/languages.json','toLocaleDateString','switchToPage','Delivery\x20Code','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','qty','STOCKS\x20TRANSFER','Picked\x20By\x20\x20\x20:\x20','/PDF_adjustment_rm/:id','repeat','length','secondary_unit','expdate','Item\x20Description','lineWidth','Finished\x20Good\x20Warehouse\x20Supervisor','Helvetica','addPage','log','undefined','Picking\x20List','.pdf\x22','Router','blocation','product','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<>\x20','maxPerUnit','bottom','width','setHeader','\x20of\x20','new_adjust_qty','Content-disposition','bin','to_warehouse','inline;\x20filename=\x22OUT-','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Pick\x20By\x20:\x20','Picked\x20By','push','express/lib/response','PICKING\x20LIST','rack','TOTAL\x20QTY\x20:\x20','CODE128','Batch\x20No','findById','from_bin','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','to_quantity','to_floorlevel','moveTo','fontSize','datas','name','\x20y:\x20','del_date','params','POnumber','date','adjust_qty','product_name','Item\x20Code','(OUTGOING)','send','product_code','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','warehouse_cat','REQUESTED\x20QUANTITY','text','user','Production\x20Date','unit','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','proddate','font','Picked\x20By\x20\x20\x20\x20:\x20','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','from_floorlevel','findOne','itemdescription'];a0_0x34c8=function(){return _0x38ccfd;};return a0_0x34c8();}function a0_0x2de3(_0x262dea,_0xed6608){const _0x34c877=a0_0x34c8();return a0_0x2de3=function(_0x2de35f,_0x56a044){_0x2de35f=_0x2de35f-0x1c5;let _0x2fbe24=_0x34c877[_0x2de35f];return _0x2fbe24;},a0_0x2de3(_0x262dea,_0xed6608);}(function(_0x521442,_0x5aabb5){const _0x1beaa0=a0_0x2de3,_0x15666e=_0x521442();while(!![]){try{const _0xcd93ab=parseInt(_0x1beaa0(0x1fc))/0x1*(parseInt(_0x1beaa0(0x22e))/0x2)+-parseInt(_0x1beaa0(0x209))/0x3*(-parseInt(_0x1beaa0(0x24a))/0x4)+-parseInt(_0x1beaa0(0x226))/0x5+-parseInt(_0x1beaa0(0x200))/0x6*(parseInt(_0x1beaa0(0x1d2))/0x7)+-parseInt(_0x1beaa0(0x22c))/0x8*(parseInt(_0x1beaa0(0x243))/0x9)+parseInt(_0x1beaa0(0x247))/0xa*(-parseInt(_0x1beaa0(0x1d0))/0xb)+parseInt(_0x1beaa0(0x1f6))/0xc;if(_0xcd93ab===_0x5aabb5)break;else _0x15666e['push'](_0x15666e['shift']());}catch(_0x8aa6ee){_0x15666e['push'](_0x15666e['shift']());}}}(a0_0x34c8,0x9e6ad));const express=require('express'),res=require(a0_0x471199(0x27d)),app=express(),router=express[a0_0x471199(0x26a)](),multer=require(a0_0x471199(0x1da)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require('../models/all_models'),auth=require(a0_0x471199(0x210)),users=require(a0_0x471199(0x254)),excelJS=require(a0_0x471199(0x203)),xlsx=require(a0_0x471199(0x232)),PDFDocument=require('pdfkit-table'),fs=require('fs'),blobStream=require(a0_0x471199(0x23b)),JsBarcode=require(a0_0x471199(0x244)),{Canvas}=require(a0_0x471199(0x1fe));router[a0_0x471199(0x24b)]('/PDF/:id',auth,async(_0x2a5e85,_0x3b5425)=>{const _0x49a998=a0_0x471199;try{const {username:_0x384e91,email:_0x3656f1,role:_0x3f61c3}=_0x2a5e85['user'],_0x4b5e2d=_0x2a5e85[_0x49a998(0x29b)],_0x1532d8=await profile[_0x49a998(0x1c9)]({'email':_0x4b5e2d['email']}),_0x2f0cd0=await master_shop[_0x49a998(0x236)](),_0x32a25c=_0x2a5e85[_0x49a998(0x28e)]['id'],_0x21ad7f=await sales_finished[_0x49a998(0x283)](_0x32a25c);var _0xfbbede;_0xfbbede=_0x49a998(0x27e);_0x21ad7f['finalize']=='True'&&(_0xfbbede=_0x49a998(0x1d3));const _0x4c3111=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3b5425[_0x49a998(0x272)]('Content-disposition','inline;\x20filename=\x22'+_0x21ad7f['invoice']+_0x49a998(0x269)),_0x3b5425[_0x49a998(0x272)]('Content-type',_0x49a998(0x246));var _0x4b4d06=0x14,_0x2e2a78=0x3c;_0x4c3111['pipe'](_0x3b5425),_0x4c3111[_0x49a998(0x231)](_0x49a998(0x1e4)+_0x2f0cd0[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x4c3111[_0x49a998(0x289)](0x14)[_0x49a998(0x29a)](_0x49a998(0x1f7),_0x4b4d06,_0x2e2a78),_0x4c3111['fontSize'](0xa)[_0x49a998(0x29a)](_0x49a998(0x29e),_0x4b4d06,_0x2e2a78+=0xf),_0x4c3111['fontSize'](0xf)[_0x49a998(0x29a)](_0xfbbede,_0x4b4d06,_0x2e2a78+=0x32),_0x4c3111['fontSize'](0xa)[_0x49a998(0x29a)](_0x49a998(0x294),_0x4b4d06,_0x2e2a78+=0x14),_0x4c3111[_0x49a998(0x289)](0x9)[_0x49a998(0x29a)](_0x49a998(0x20e),_0x4b4d06,_0x2e2a78+=0x28),_0x4c3111[_0x49a998(0x289)](0x9)[_0x49a998(0x29a)](_0x49a998(0x1eb)+_0x21ad7f[_0x49a998(0x20d)],_0x4b4d06+0x3f,_0x2e2a78),_0x4c3111['fontSize'](0x9)[_0x49a998(0x29a)]('Customer\x20:\x20'+_0x21ad7f['customer'],_0x4b4d06+0x17c,_0x2e2a78,{'underline':!![]}),_0x4c3111['fontSize'](0x9)[_0x49a998(0x29a)]('Date\x20',_0x4b4d06,_0x2e2a78+=0xb),_0x4c3111[_0x49a998(0x289)](0x9)[_0x49a998(0x29a)](_0x49a998(0x1eb)+_0x21ad7f['date'],_0x4b4d06+0x3f,_0x2e2a78),_0x4c3111['fontSize'](0x9)[_0x49a998(0x29a)](_0x49a998(0x230),_0x4b4d06,_0x2e2a78+=0xb),_0x4c3111[_0x49a998(0x289)](0x9)[_0x49a998(0x29a)](_0x49a998(0x1eb)+_0x21ad7f[_0x49a998(0x1d1)],_0x4b4d06+0x3f,_0x2e2a78);const _0x8a8e45={'headers':[{'label':_0x49a998(0x293),'property':_0x49a998(0x21f),'width':0x3c,'renderer':null},{'label':_0x49a998(0x261),'property':'itemdescription','width':0xa5,'renderer':null},{'label':_0x49a998(0x1ec),'property':_0x49a998(0x259),'width':0x3c,'renderer':null},{'label':_0x49a998(0x1dd),'property':'unit','width':0x3c,'renderer':null},{'label':_0x49a998(0x29c),'property':'proddate','width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x49a998(0x220),'width':0x3f,'renderer':null},{'label':_0x49a998(0x1cf),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x4bee35=0x0;let _0x4f2c91='';var _0x57ff60=0x0;_0x21ad7f[_0x49a998(0x20d)]=='DRY\x20GOODS'?_0x4f2c91='DG':_0x4f2c91='FG';var _0x52ca18=0x0;_0x21ad7f['sale_product']['forEach'](_0x3108d4=>{const _0xf245e0=_0x49a998;console['log'](_0x3108d4);let _0x3a2f3c='';const _0x159833=_0x3108d4[_0xf245e0(0x218)];for(let _0x27592e=0x1;_0x27592e<=_0x159833;_0x27592e++){_0x159833==_0x27592e?_0x3a2f3c+=_0x3108d4[_0xf245e0(0x1d8)]:_0x3a2f3c+=_0x3108d4[_0xf245e0(0x1d8)]+',',_0x57ff60+=_0x3108d4['maxperunit'];}_0x3a2f3c+='\x20/\x20'+_0x3108d4[_0xf245e0(0x25f)];const _0x587611={'itemcode':_0x3108d4['product_code'],'itemdescription':_0x3108d4[_0xf245e0(0x292)],'qty':_0x3108d4[_0xf245e0(0x218)],'unit':_0x3108d4[_0xf245e0(0x29d)],'proddate':_0x3108d4['production_date'],'batchno':_0x3108d4[_0xf245e0(0x222)],'binloc':_0x4f2c91+_0x3108d4[_0xf245e0(0x253)]};_0x4bee35+=_0x3108d4['quantity'],_0x52ca18+=0x1,_0x8a8e45[_0xf245e0(0x28a)][_0xf245e0(0x27c)](_0x587611);}),_0x4c3111[_0x49a998(0x20c)](_0x8a8e45,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x4c3111[_0x49a998(0x1c5)](_0x49a998(0x1ed))[_0x49a998(0x289)](0x8),'prepareRow':(_0x340f36,_0x47c1da,_0x2592a6,_0xdb72a)=>_0x4c3111[_0x49a998(0x1c5)]('Helvetica')[_0x49a998(0x289)](0x8)});var _0x4bbc44=_0x4c3111['y'],_0x11006f=_0x4c3111['x'];_0x4c3111[_0x49a998(0x289)](0xa)['text'](_0x49a998(0x1c7),_0x11006f+0x7d,_0x4bbc44),console[_0x49a998(0x266)]('x:\x20'+_0x11006f+_0x49a998(0x28c)+_0x4bbc44+_0x49a998(0x1fb)+_0x52ca18);const _0xcd3931=_0x11006f*_0x52ca18;_0x4c3111[_0x49a998(0x289)](0xa)['text'](_0x49a998(0x1e3),_0x11006f,_0x4bbc44+=0x15e-_0xcd3931),_0x4c3111[_0x49a998(0x289)](0xa)[_0x49a998(0x29a)](_0x4bee35,_0x11006f+0xdc,_0x4bbc44,{'underline':!![]}),_0x4c3111[_0x49a998(0x289)](0xa)[_0x49a998(0x29a)](_0x49a998(0x25b),_0x11006f,_0x4bbc44+=0x19),_0x4c3111[_0x49a998(0x289)](0xa)[_0x49a998(0x29a)]('\x20'[_0x49a998(0x25d)](0x3c),_0x11006f+0x3e,_0x4bbc44,{'underline':!![]}),_0x4c3111['fontSize'](0xa)['text']('Checked\x20By:\x20',_0x11006f,_0x4bbc44+=0x32),_0x4c3111[_0x49a998(0x289)](0xa)[_0x49a998(0x29a)](_0x49a998(0x248),_0x11006f+0x3c,_0x4bbc44,{'underline':!![]}),_0x4c3111[_0x49a998(0x289)](0xa)[_0x49a998(0x29a)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x11006f+0x3c,_0x4bbc44+0xc);let _0x336a5d=_0x4c3111[_0x49a998(0x1f3)]();for(let _0x490599=0x0;_0x490599<_0x336a5d['count'];_0x490599++){_0x4c3111[_0x49a998(0x256)](_0x490599);let _0x4e38cb=_0x4c3111[_0x49a998(0x224)][_0x49a998(0x227)][_0x49a998(0x270)];_0x4c3111['page'][_0x49a998(0x227)][_0x49a998(0x270)]=0x0,_0x4c3111['text'](_0x49a998(0x212)+(_0x490599+0x1)+_0x49a998(0x273)+_0x336a5d[_0x49a998(0x21b)],0x0,_0x4c3111[_0x49a998(0x224)][_0x49a998(0x249)]-_0x4e38cb/0x2,{'align':_0x49a998(0x241)}),_0x4c3111[_0x49a998(0x224)][_0x49a998(0x227)][_0x49a998(0x270)]=_0x4e38cb;}const _0x434f5a=_0x4c3111['y'],_0x4de162=_0x4c3111['x'];_0x4c3111[_0x49a998(0x202)]();}catch(_0x13e2fb){console[_0x49a998(0x266)](_0x13e2fb),_0x3b5425[_0x49a998(0x204)](0x1f4)[_0x49a998(0x295)](_0x49a998(0x258));}}),router[a0_0x471199(0x24b)](a0_0x471199(0x1ee),auth,async(_0x31db87,_0x1a49de)=>{const _0x1a420e=a0_0x471199;try{const {username:_0x301ef6,email:_0x57a9cd,role:_0x1cbc67}=_0x31db87[_0x1a420e(0x29b)],_0x1ee756=_0x31db87[_0x1a420e(0x29b)],_0x49596d=await profile[_0x1a420e(0x1c9)]({'email':_0x1ee756['email']}),_0x58b4b7=await master_shop[_0x1a420e(0x236)](),_0x1d69eb=_0x31db87[_0x1a420e(0x28e)]['id'],_0x2b144a=await transfers_finished[_0x1a420e(0x283)](_0x1d69eb);var _0xf28e6d,_0x12eae2;_0xf28e6d=_0x1a420e(0x268),_0x12eae2=_0x1a420e(0x228);_0x2b144a[_0x1a420e(0x1f1)]==_0x1a420e(0x22a)&&(_0xf28e6d=_0x1a420e(0x25a),_0x12eae2='');const _0x46b6f1=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1a49de[_0x1a420e(0x272)]('Content-disposition','inline;\x20filename=\x22OUT-'+_0x1d69eb+_0x1a420e(0x269)),_0x1a49de[_0x1a420e(0x272)](_0x1a420e(0x217),_0x1a420e(0x246));var _0x1d418e=0x14,_0x402e2a=0x3c;_0x46b6f1[_0x1a420e(0x250)](_0x1a49de),_0x46b6f1[_0x1a420e(0x231)](_0x1a420e(0x1e4)+_0x58b4b7[0x0][_0x1a420e(0x231)],0x14,0x0,{'fit':[0x64,0x64]}),_0x46b6f1[_0x1a420e(0x289)](0x14)[_0x1a420e(0x29a)](_0x1a420e(0x1f7),_0x1d418e,_0x402e2a),_0x46b6f1[_0x1a420e(0x289)](0xa)[_0x1a420e(0x29a)](_0x1a420e(0x29e),_0x1d418e,_0x402e2a+=0xf),_0x46b6f1['fontSize'](0xf)[_0x1a420e(0x29a)](_0xf28e6d,_0x1d418e,_0x402e2a+=0x32),_0x46b6f1[_0x1a420e(0x289)](0xa)[_0x1a420e(0x29a)](_0x12eae2,_0x1d418e,_0x402e2a+=0x14),_0x46b6f1['fontSize'](0x9)[_0x1a420e(0x29a)](_0x1a420e(0x208),_0x1d418e,_0x402e2a+=0x28),_0x46b6f1[_0x1a420e(0x289)](0x9)[_0x1a420e(0x29a)](_0x1a420e(0x1d7)+_0x2b144a['from_warehouse'],_0x1d418e+0x3f,_0x402e2a),_0x46b6f1[_0x1a420e(0x289)](0x9)[_0x1a420e(0x29a)]('To\x20Warehouse\x20',_0x1d418e,_0x402e2a+=0xf),_0x46b6f1[_0x1a420e(0x289)](0x9)[_0x1a420e(0x29a)](_0x1a420e(0x1d7)+_0x2b144a[_0x1a420e(0x277)],_0x1d418e+0x3f,_0x402e2a),_0x46b6f1[_0x1a420e(0x289)](0x9)[_0x1a420e(0x29a)]('Date\x20',_0x1d418e,_0x402e2a+=0xb),_0x46b6f1['fontSize'](0x9)[_0x1a420e(0x29a)](_0x1a420e(0x1d7)+_0x2b144a[_0x1a420e(0x290)],_0x1d418e+0x3f,_0x402e2a),_0x46b6f1[_0x1a420e(0x289)](0x9)['text'](_0x1a420e(0x230),_0x1d418e,_0x402e2a+=0xb),_0x46b6f1[_0x1a420e(0x289)](0x9)[_0x1a420e(0x29a)]('\x20\x20\x20:\x20'+_0x2b144a['invoice'],_0x1d418e+0x3f,_0x402e2a);const _0x2b94cc={'headers':[{'label':'','property':_0x1a420e(0x21f),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':'\x20\x20FROM','property':_0x1a420e(0x21f),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x1a420e(0x223),'property':'itemdescription','width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x46b6f1['table'](_0x2b94cc,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x46b6f1[_0x1a420e(0x1c5)](_0x1a420e(0x1ed))['fontSize'](0x8),'prepareRow':(_0x5a09ce,_0x2d6d25,_0x1c47bd,_0x40a223)=>_0x46b6f1[_0x1a420e(0x1c5)](_0x1a420e(0x264))[_0x1a420e(0x289)](0x8)});const _0x2fb6d5={'headers':[{'label':_0x1a420e(0x293),'property':_0x1a420e(0x21f),'width':0x3c,'renderer':null},{'label':_0x1a420e(0x261),'property':_0x1a420e(0x1ca),'width':0x96,'renderer':null},{'label':_0x1a420e(0x1ec),'property':_0x1a420e(0x259),'width':0x28,'renderer':null},{'label':_0x1a420e(0x1dd),'property':'unit','width':0x37,'renderer':null},{'label':'Production\x20Date','property':_0x1a420e(0x29f),'width':0x4b,'renderer':null},{'label':_0x1a420e(0x282),'property':_0x1a420e(0x220),'width':0x3f,'renderer':null},{'label':_0x1a420e(0x1cf),'property':_0x1a420e(0x24c),'width':0x3f,'renderer':null},{'label':_0x1a420e(0x1cf),'property':_0x1a420e(0x24d),'width':0x3f,'renderer':null}],'datas':[]};var _0x41abdd=0x0;let _0x2bbe54='';var _0xf5bee0=0x0;if(_0x2b144a[_0x1a420e(0x1ce)]==_0x1a420e(0x1db))_0x2bbe54='DG';else _0x2b144a[_0x1a420e(0x1ce)]=='FROZEN\x20GOODS'&&(_0x2bbe54='FG');_0x2b144a[_0x1a420e(0x26c)][_0x1a420e(0x1ff)](_0x349878=>{const _0x16a1dc=_0x1a420e;var _0x838758=_0x349878[_0x16a1dc(0x1e2)],_0x24cfe0,_0x4a7e78;_0x24cfe0=_0x349878['unit'],_0x4a7e78=_0x349878[_0x16a1dc(0x286)];_0x838758=='S'&&(_0x24cfe0=_0x349878[_0x16a1dc(0x25f)],_0x4a7e78=_0x349878[_0x16a1dc(0x286)]*_0x349878['maxPerUnit']);const _0xc5f531={'itemcode':_0x349878[_0x16a1dc(0x296)],'itemdescription':_0x349878[_0x16a1dc(0x292)],'qty':_0x4a7e78,'unit':_0x24cfe0,'proddate':_0x349878[_0x16a1dc(0x1d9)],'batchno':_0x349878['batch_code'],'binloc':_0x2bbe54+_0x349878[_0x16a1dc(0x21d)],'qtyFrom':_0x349878[_0x16a1dc(0x20b)],'binlocFrom':_0x2bbe54+_0x349878[_0x16a1dc(0x1cc)]};_0x41abdd+=_0x4a7e78,_0x2fb6d5[_0x16a1dc(0x28a)][_0x16a1dc(0x27c)](_0xc5f531);}),_0x46b6f1['table'](_0x2fb6d5,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x46b6f1[_0x1a420e(0x1c5)]('Helvetica-Bold')[_0x1a420e(0x289)](0x8),'prepareRow':(_0x39820f,_0x2bdb80,_0x598eb4,_0x566882)=>_0x46b6f1[_0x1a420e(0x1c5)](_0x1a420e(0x264))[_0x1a420e(0x289)](0x8)});var _0x6caf75=_0x46b6f1['y'],_0x2d6ae4=_0x46b6f1['x'];_0x46b6f1[_0x1a420e(0x289)](0xa)['text'](_0x1a420e(0x1c7),_0x2d6ae4+0x7d,_0x6caf75),_0x46b6f1['fontSize'](0xa)[_0x1a420e(0x29a)](_0x1a420e(0x1e3),_0x2d6ae4,_0x6caf75+=0x15e),_0x46b6f1[_0x1a420e(0x289)](0xa)[_0x1a420e(0x29a)](_0x41abdd,_0x2d6ae4+0xd7,_0x6caf75,{'underline':!![]}),_0x46b6f1[_0x1a420e(0x289)](0xa)['text'](_0x1a420e(0x25b),_0x2d6ae4,_0x6caf75+=0x19),_0x46b6f1[_0x1a420e(0x289)](0xa)[_0x1a420e(0x29a)]('\x20'['repeat'](0x3c),_0x2d6ae4+0x3e,_0x6caf75,{'underline':!![]}),_0x46b6f1['fontSize'](0xa)['text'](_0x1a420e(0x23d),_0x2d6ae4,_0x6caf75+=0x32),_0x46b6f1[_0x1a420e(0x289)](0xa)[_0x1a420e(0x29a)](_0x1a420e(0x248),_0x2d6ae4+0x3c,_0x6caf75,{'underline':!![]}),_0x46b6f1[_0x1a420e(0x289)](0xa)[_0x1a420e(0x29a)](_0x1a420e(0x263),_0x2d6ae4+0x3c,_0x6caf75+0xc);let _0x2cb4ca=_0x46b6f1[_0x1a420e(0x1f3)]();for(let _0x5d5b88=0x0;_0x5d5b88<_0x2cb4ca[_0x1a420e(0x21b)];_0x5d5b88++){_0x46b6f1[_0x1a420e(0x256)](_0x5d5b88);let _0x5476dd=_0x46b6f1['page']['margins'][_0x1a420e(0x270)];_0x46b6f1[_0x1a420e(0x224)]['margins']['bottom']=0x0,_0x46b6f1['text'](_0x1a420e(0x212)+(_0x5d5b88+0x1)+_0x1a420e(0x273)+_0x2cb4ca[_0x1a420e(0x21b)],0x0,_0x46b6f1[_0x1a420e(0x224)]['height']-_0x5476dd/0x2,{'align':_0x1a420e(0x241)}),_0x46b6f1[_0x1a420e(0x224)][_0x1a420e(0x227)]['bottom']=_0x5476dd;}const _0x18df0b=_0x46b6f1['y'],_0x24b456=_0x46b6f1['x'];_0x46b6f1[_0x1a420e(0x202)]();}catch(_0x160bc7){console[_0x1a420e(0x266)](_0x160bc7),_0x1a49de[_0x1a420e(0x204)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get'](a0_0x471199(0x1e8),auth,async(_0x583d7f,_0xa3e905)=>{const _0x1e0897=a0_0x471199;try{const {username:_0xcdc56b,email:_0x454f39,role:_0x2932d5}=_0x583d7f['user'],_0x2801b1=_0x583d7f[_0x1e0897(0x29b)],_0x3a9ddf=await profile[_0x1e0897(0x1c9)]({'email':_0x2801b1[_0x1e0897(0x238)]}),_0x222f39=await master_shop[_0x1e0897(0x236)](),_0x3b259c=_0x583d7f[_0x1e0897(0x28e)]['id'],_0x5173fb=await adjustment_finished[_0x1e0897(0x283)](_0x3b259c);var _0x2fd1c6,_0x4965a7;_0x2fd1c6=_0x1e0897(0x27e),_0x4965a7=_0x1e0897(0x1ef);_0x5173fb[_0x1e0897(0x1f1)]==_0x1e0897(0x22a)&&(_0x2fd1c6=_0x1e0897(0x240),_0x4965a7='');const _0x22d44d=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0xa3e905[_0x1e0897(0x272)]('Content-disposition','inline;\x20filename=\x22OUT-'+_0x3b259c+_0x1e0897(0x269)),_0xa3e905[_0x1e0897(0x272)](_0x1e0897(0x217),_0x1e0897(0x246));var _0x56f34a=0x14,_0x46a856=0x3c;_0x22d44d['pipe'](_0xa3e905),_0x22d44d[_0x1e0897(0x231)](_0x1e0897(0x1e4)+_0x222f39[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x22d44d[_0x1e0897(0x289)](0x14)[_0x1e0897(0x29a)](_0x1e0897(0x1f7),_0x56f34a,_0x46a856),_0x22d44d[_0x1e0897(0x289)](0xa)[_0x1e0897(0x29a)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x56f34a,_0x46a856+=0xf),_0x22d44d[_0x1e0897(0x289)](0xf)[_0x1e0897(0x29a)](_0x2fd1c6,_0x56f34a,_0x46a856+=0x32),_0x22d44d[_0x1e0897(0x289)](0xa)['text'](_0x4965a7,_0x56f34a,_0x46a856+=0x14),_0x22d44d[_0x1e0897(0x289)](0x9)[_0x1e0897(0x29a)](_0x1e0897(0x20e),_0x56f34a,_0x46a856+=0x28),_0x22d44d[_0x1e0897(0x289)](0x9)[_0x1e0897(0x29a)](_0x1e0897(0x1eb)+_0x5173fb[_0x1e0897(0x20d)],_0x56f34a+0x3f,_0x46a856),_0x22d44d[_0x1e0897(0x289)](0x9)[_0x1e0897(0x29a)](_0x1e0897(0x20f),_0x56f34a,_0x46a856+=0xb),_0x22d44d[_0x1e0897(0x289)](0x9)[_0x1e0897(0x29a)]('\x20:\x20'+_0x5173fb[_0x1e0897(0x290)],_0x56f34a+0x3f,_0x46a856),_0x22d44d[_0x1e0897(0x289)](0x9)[_0x1e0897(0x29a)](_0x1e0897(0x230),_0x56f34a,_0x46a856+=0xb),_0x22d44d[_0x1e0897(0x289)](0x9)['text'](_0x1e0897(0x1eb)+_0x5173fb[_0x1e0897(0x1d1)],_0x56f34a+0x3f,_0x46a856);const _0x2fb93c={'headers':[{'label':_0x1e0897(0x293),'property':_0x1e0897(0x21f),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x1e0897(0x1ca),'width':0x96,'renderer':null},{'label':'Quantity','property':_0x1e0897(0x259),'width':0x3c,'renderer':null},{'label':_0x1e0897(0x1dd),'property':_0x1e0897(0x29d),'width':0x3c,'renderer':null},{'label':_0x1e0897(0x29c),'property':'proddate','width':0x50,'renderer':null},{'label':_0x1e0897(0x282),'property':_0x1e0897(0x220),'width':0x3f,'renderer':null},{'label':_0x1e0897(0x1cf),'property':_0x1e0897(0x24d),'width':0x3f,'renderer':null}],'datas':[]};var _0x3c190f=0x0;let _0x1fefef='';var _0x2a1a45=0x0;_0x5173fb[_0x1e0897(0x20d)]==_0x1e0897(0x1db)?_0x1fefef='DG':_0x1fefef='FG';_0x5173fb['product']['forEach'](_0x1a975f=>{const _0x1b0027=_0x1e0897;console[_0x1b0027(0x266)](_0x1a975f);var _0x4e8d74=_0x1a975f[_0x1b0027(0x1e2)],_0x380c75,_0x2f9936;_0x380c75=_0x1a975f['unit'],_0x2f9936=_0x1a975f[_0x1b0027(0x291)];_0x4e8d74=='S'&&(_0x380c75=_0x1a975f[_0x1b0027(0x25f)],_0x2f9936=_0x1a975f[_0x1b0027(0x291)]*_0x1a975f[_0x1b0027(0x26f)]);const _0x53861d={'itemcode':_0x1a975f[_0x1b0027(0x296)],'itemdescription':_0x1a975f['product_name'],'qty':_0x2f9936,'unit':_0x380c75,'proddate':_0x1a975f['production_date'],'batchno':_0x1a975f[_0x1b0027(0x222)],'binloc':_0x1fefef+_0x1a975f[_0x1b0027(0x253)]};_0x3c190f+=_0x2f9936,_0x2fb93c[_0x1b0027(0x28a)]['push'](_0x53861d);}),_0x22d44d[_0x1e0897(0x20c)](_0x2fb93c,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x22d44d[_0x1e0897(0x1c5)](_0x1e0897(0x1ed))[_0x1e0897(0x289)](0x8),'prepareRow':(_0x4a35d0,_0x153ed8,_0x381d88,_0xaf0e75)=>_0x22d44d['font'](_0x1e0897(0x264))[_0x1e0897(0x289)](0x8)});var _0x2f1fb6=_0x22d44d['y'],_0x8a4c4e=_0x22d44d['x'];_0x22d44d[_0x1e0897(0x289)](0xa)[_0x1e0897(0x29a)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x8a4c4e+0x7d,_0x2f1fb6),_0x22d44d[_0x1e0897(0x289)](0xa)[_0x1e0897(0x29a)](_0x1e0897(0x280),_0x8a4c4e,_0x2f1fb6+=0x15e),_0x22d44d['fontSize'](0xa)[_0x1e0897(0x29a)](_0x3c190f,_0x8a4c4e+0xc8,_0x2f1fb6),_0x22d44d[_0x1e0897(0x289)](0xa)[_0x1e0897(0x29a)]('Picked\x20By\x20\x20\x20:\x20',_0x8a4c4e,_0x2f1fb6+=0x19),_0x22d44d[_0x1e0897(0x289)](0xa)['text']('\x20'[_0x1e0897(0x25d)](0x3c),_0x8a4c4e+0x3e,_0x2f1fb6,{'underline':!![]}),_0x22d44d[_0x1e0897(0x289)](0xa)[_0x1e0897(0x29a)](_0x1e0897(0x237),_0x8a4c4e,_0x2f1fb6+=0x32),_0x22d44d[_0x1e0897(0x289)](0xa)[_0x1e0897(0x29a)]('\x20:\x20',_0x8a4c4e+0x37,_0x2f1fb6),_0x22d44d['fontSize'](0xa)[_0x1e0897(0x29a)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x8a4c4e+0x3c,_0x2f1fb6,{'underline':!![]}),_0x22d44d['fontSize'](0xa)[_0x1e0897(0x29a)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x8a4c4e+0x3c,_0x2f1fb6+0xc);let _0x5b1007=_0x22d44d[_0x1e0897(0x1f3)]();for(let _0x52c470=0x0;_0x52c470<_0x5b1007[_0x1e0897(0x21b)];_0x52c470++){_0x22d44d[_0x1e0897(0x256)](_0x52c470);let _0x44a7f0=_0x22d44d['page'][_0x1e0897(0x227)][_0x1e0897(0x270)];_0x22d44d[_0x1e0897(0x224)]['margins'][_0x1e0897(0x270)]=0x0,_0x22d44d[_0x1e0897(0x29a)]('Page:\x20'+(_0x52c470+0x1)+_0x1e0897(0x273)+_0x5b1007[_0x1e0897(0x21b)],0x0,_0x22d44d[_0x1e0897(0x224)]['height']-_0x44a7f0/0x2,{'align':_0x1e0897(0x241)}),_0x22d44d['page']['margins']['bottom']=_0x44a7f0;}const _0x557877=_0x22d44d['y'],_0x27eaf6=_0x22d44d['x'];_0x22d44d[_0x1e0897(0x202)]();}catch(_0xc85971){console[_0x1e0897(0x266)](_0xc85971),_0xa3e905[_0x1e0897(0x204)](0x1f4)[_0x1e0897(0x295)](_0x1e0897(0x258));}}),router['get'](a0_0x471199(0x1e9),auth,async(_0x238166,_0x42a78a)=>{const _0x4b9a8d=a0_0x471199;try{const {username:_0x5f4d2d,email:_0x13a1a9,role:_0x4ca433}=_0x238166[_0x4b9a8d(0x29b)],_0x53bf0c=_0x238166[_0x4b9a8d(0x29b)],_0x22b2fb=await profile[_0x4b9a8d(0x1c9)]({'email':_0x53bf0c['email']}),_0x574dd5=await master_shop[_0x4b9a8d(0x236)](),_0x22fffb=_0x238166[_0x4b9a8d(0x28e)]['id'],_0x5cbff0=await purchases_finished['findById'](_0x22fffb),_0x4701ca=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x42a78a[_0x4b9a8d(0x272)](_0x4b9a8d(0x275),_0x4b9a8d(0x278)+_0x22fffb+_0x4b9a8d(0x269)),_0x42a78a['setHeader'](_0x4b9a8d(0x217),_0x4b9a8d(0x246));var _0x679adf=0x14,_0x2746cf=0x3c;_0x4701ca['pipe'](_0x42a78a),_0x4701ca[_0x4b9a8d(0x231)](_0x4b9a8d(0x1e4)+_0x574dd5[0x0][_0x4b9a8d(0x231)],0x14,0x0,{'fit':[0x64,0x64]}),_0x4701ca[_0x4b9a8d(0x289)](0x14)[_0x4b9a8d(0x29a)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x679adf,_0x2746cf),_0x4701ca[_0x4b9a8d(0x289)](0xa)[_0x4b9a8d(0x29a)](_0x4b9a8d(0x29e),_0x679adf,_0x2746cf+=0xf),_0x4701ca['fontSize'](0xf)[_0x4b9a8d(0x29a)](_0x4b9a8d(0x297),_0x679adf,_0x2746cf+=0x32),_0x4701ca[_0x4b9a8d(0x289)](0xa)[_0x4b9a8d(0x29a)](_0x4b9a8d(0x1ea),_0x679adf,_0x2746cf+=0x14),_0x4701ca['fontSize'](0x9)[_0x4b9a8d(0x29a)](_0x4b9a8d(0x20e),_0x679adf,_0x2746cf+=0x28),_0x4701ca[_0x4b9a8d(0x289)](0x9)[_0x4b9a8d(0x29a)](_0x4b9a8d(0x1eb)+_0x5cbff0['warehouse_name'],_0x679adf+0x3f,_0x2746cf),_0x4701ca[_0x4b9a8d(0x289)](0x9)[_0x4b9a8d(0x29a)](_0x4b9a8d(0x1f2)+_0x5cbff0[_0x4b9a8d(0x28f)],_0x679adf+0x17c,_0x2746cf),_0x4701ca[_0x4b9a8d(0x289)](0x9)[_0x4b9a8d(0x29a)](_0x4b9a8d(0x20f),_0x679adf,_0x2746cf+=0xb),_0x4701ca[_0x4b9a8d(0x289)](0x9)[_0x4b9a8d(0x29a)](_0x4b9a8d(0x1eb)+_0x5cbff0['date'],_0x679adf+0x3f,_0x2746cf),_0x4701ca[_0x4b9a8d(0x289)](0x9)[_0x4b9a8d(0x29a)](_0x4b9a8d(0x230),_0x679adf,_0x2746cf+=0xb),_0x4701ca['fontSize'](0x9)[_0x4b9a8d(0x29a)](_0x4b9a8d(0x1eb)+_0x5cbff0[_0x4b9a8d(0x1d1)],_0x679adf+0x3f,_0x2746cf);const _0x261c0d={'headers':[{'label':_0x4b9a8d(0x293),'property':_0x4b9a8d(0x21f),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x4b9a8d(0x1ca),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x4b9a8d(0x259),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x4b9a8d(0x29d),'width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':'expdate','width':0x50,'renderer':null},{'label':_0x4b9a8d(0x282),'property':_0x4b9a8d(0x220),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x4c58cd=0x0;let _0x36e5c1='';_0x5cbff0['warehouse_name']==_0x4b9a8d(0x1db)?_0x36e5c1='DG':_0x36e5c1='FG';_0x5cbff0[_0x4b9a8d(0x26c)][_0x4b9a8d(0x1ff)](_0xb9c812=>{const _0x47d331=_0x4b9a8d;let _0x7ceaea='';var _0x2c66a7=0x0;const _0x235ef9={'itemcode':_0xb9c812[_0x47d331(0x296)],'itemdescription':_0xb9c812['product_name'],'qty':_0xb9c812[_0x47d331(0x218)],'unit':_0xb9c812[_0x47d331(0x235)],'expdate':_0xb9c812[_0x47d331(0x21c)],'batchno':_0xb9c812['batch_code'],'binloc':_0x36e5c1+_0xb9c812['bay']};_0x4c58cd+=_0xb9c812['quantity'],_0x261c0d[_0x47d331(0x28a)][_0x47d331(0x27c)](_0x235ef9);}),_0x4701ca['table'](_0x261c0d,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x4701ca['font'](_0x4b9a8d(0x1ed))[_0x4b9a8d(0x289)](0x8),'prepareRow':(_0xd19b8b,_0x57a355,_0x26ef20,_0x36c54e)=>_0x4701ca[_0x4b9a8d(0x1c5)](_0x4b9a8d(0x264))[_0x4b9a8d(0x289)](0x8)});var _0x35f02f=_0x4701ca['y'],_0x5cfdf0=_0x4701ca['x'];_0x4701ca[_0x4b9a8d(0x289)](0xa)['text'](_0x4b9a8d(0x1c7),_0x5cfdf0+0x7d,_0x35f02f),_0x4701ca[_0x4b9a8d(0x289)](0xa)[_0x4b9a8d(0x29a)](_0x4b9a8d(0x1e3),_0x5cfdf0,_0x35f02f+=0x15e),_0x4701ca[_0x4b9a8d(0x289)](0xa)['text'](_0x4c58cd,_0x5cfdf0+0xfa,_0x35f02f),_0x4701ca['fontSize'](0xa)['text'](_0x4b9a8d(0x1c6),_0x5cfdf0,_0x35f02f+=0x19),_0x4701ca[_0x4b9a8d(0x289)](0xa)[_0x4b9a8d(0x29a)](_0x4b9a8d(0x26d),_0x5cfdf0+0x37,_0x35f02f,{'underline':!![]}),_0x4701ca[_0x4b9a8d(0x289)](0xa)[_0x4b9a8d(0x29a)](_0x4b9a8d(0x1f0),_0x5cfdf0,_0x35f02f+0x32),_0x4701ca['fontSize'](0xa)[_0x4b9a8d(0x29a)](_0x4b9a8d(0x248),_0x5cfdf0+0x32,_0x35f02f+0x32,{'underline':!![]}),_0x4701ca['fontSize'](0xa)[_0x4b9a8d(0x29a)](_0x4b9a8d(0x263),_0x5cfdf0+0x32,_0x35f02f+0x3c);let _0x2cba6d=_0x4701ca[_0x4b9a8d(0x1f3)]();for(let _0x3cfe59=0x0;_0x3cfe59<_0x2cba6d[_0x4b9a8d(0x21b)];_0x3cfe59++){_0x4701ca[_0x4b9a8d(0x256)](_0x3cfe59);let _0x47fa63=_0x4701ca['page'][_0x4b9a8d(0x227)][_0x4b9a8d(0x270)];_0x4701ca[_0x4b9a8d(0x224)]['margins'][_0x4b9a8d(0x270)]=0x0,_0x4701ca[_0x4b9a8d(0x29a)]('Page:\x20'+(_0x3cfe59+0x1)+_0x4b9a8d(0x273)+_0x2cba6d['count'],0x0,_0x4701ca[_0x4b9a8d(0x224)][_0x4b9a8d(0x249)]-_0x47fa63/0x2,{'align':_0x4b9a8d(0x241)}),_0x4701ca[_0x4b9a8d(0x224)]['margins']['bottom']=_0x47fa63;}const _0x38880d=_0x4701ca['y'],_0x5592cd=_0x4701ca['x'];_0x4701ca['end']();}catch(_0x205e32){console[_0x4b9a8d(0x266)](_0x205e32),_0x42a78a[_0x4b9a8d(0x204)](0x1f4)[_0x4b9a8d(0x295)](_0x4b9a8d(0x258));}}),router[a0_0x471199(0x24b)](a0_0x471199(0x211),auth,async(_0x1f7493,_0x40b353)=>{const _0x3c53e2=a0_0x471199;try{const {username:_0x11fb5d,email:_0x49e366,role:_0x40464d}=_0x1f7493[_0x3c53e2(0x29b)],_0x3f1a23=_0x1f7493[_0x3c53e2(0x29b)],_0x423fa6=await profile[_0x3c53e2(0x1c9)]({'email':_0x3f1a23['email']}),_0x487455=await master_shop['find'](),_0x6e5fbe=_0x1f7493[_0x3c53e2(0x28e)]['id'],_0xac580f=await sales_return_finished[_0x3c53e2(0x283)](_0x6e5fbe),_0x56cb4d=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x40b353[_0x3c53e2(0x272)](_0x3c53e2(0x275),_0x3c53e2(0x278)+_0x6e5fbe+_0x3c53e2(0x269)),_0x40b353['setHeader']('Content-type',_0x3c53e2(0x246));var _0x7c475=0x14,_0x4a0d2e=0x64;_0x56cb4d[_0x3c53e2(0x250)](_0x40b353),_0x56cb4d['image'](_0x3c53e2(0x1e4)+_0x487455[0x0][_0x3c53e2(0x231)],0x14,0x0,{'fit':[0x64,0x64]}),_0x56cb4d[_0x3c53e2(0x289)](0x14)[_0x3c53e2(0x29a)](_0x3c53e2(0x1f7),_0x7c475,_0x4a0d2e),_0x56cb4d[_0x3c53e2(0x289)](0xa)['text'](_0x3c53e2(0x29e),_0x7c475,_0x4a0d2e+=0xf),_0x56cb4d[_0x3c53e2(0x289)](0xf)[_0x3c53e2(0x29a)](_0x3c53e2(0x27e),_0x7c475,_0x4a0d2e+=0x32),_0x56cb4d[_0x3c53e2(0x289)](0xa)['text'](_0x3c53e2(0x1f4),_0x7c475,_0x4a0d2e+=0x1e),_0x56cb4d[_0x3c53e2(0x289)](0x9)[_0x3c53e2(0x29a)]('Warehouse\x20:\x20'+_0xac580f[_0x3c53e2(0x1f8)],_0x7c475,_0x4a0d2e+=0x28),_0x56cb4d['fontSize'](0x9)[_0x3c53e2(0x29a)](_0x3c53e2(0x221)+_0xac580f[_0x3c53e2(0x251)],0x190,0xd2,{'underline':!![]}),_0x56cb4d[_0x3c53e2(0x289)](0x9)[_0x3c53e2(0x29a)](_0x3c53e2(0x27a),_0x7c475,_0x4a0d2e+=0xb),_0x56cb4d['fontSize'](0x9)[_0x3c53e2(0x29a)](_0x3c53e2(0x1d6)+_0xac580f[_0x3c53e2(0x290)],_0x7c475,_0x4a0d2e+=0xb),_0x56cb4d[_0x3c53e2(0x289)](0x9)[_0x3c53e2(0x29a)](_0x3c53e2(0x21e)+_0xac580f[_0x3c53e2(0x1d1)],_0x7c475,_0x4a0d2e+=0xb);var _0x1d91bc='',_0x6fddbc='',_0x51bddb=0x0,_0x1f634e;console['log'](_0xac580f[_0x3c53e2(0x298)]);_0xac580f['warehouse_cat']=='GS'?(_0xac580f[_0x3c53e2(0x20d)]==_0x3c53e2(0x1db)?warecode='DG':warecode='FG',_0x1d91bc={'headers':[{'label':_0x3c53e2(0x293),'property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x3c53e2(0x1ca),'width':0xc8,'renderer':null},{'label':_0x3c53e2(0x1ec),'property':_0x3c53e2(0x259),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x3c53e2(0x29d),'width':0x3c,'renderer':null},{'label':_0x3c53e2(0x214),'property':'expdate','width':0x50,'renderer':null},{'label':_0x3c53e2(0x282),'property':_0x3c53e2(0x220),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x3c53e2(0x24d),'width':0x3f,'renderer':null}],'datas':[]},_0xac580f[_0x3c53e2(0x225)][_0x3c53e2(0x1ff)](_0x18de1d=>{const _0x50243a=_0x3c53e2;let _0x319627='';var _0x4fecb=0x0;_0x6fddbc={'itemcode':_0x18de1d[_0x50243a(0x296)],'itemdescription':_0x18de1d[_0x50243a(0x292)],'qty':_0x18de1d[_0x50243a(0x1d5)],'unit':_0x18de1d[_0x50243a(0x29d)],'expdate':_0x18de1d[_0x50243a(0x21c)],'batchno':_0x18de1d[_0x50243a(0x222)],'binloc':warecode+_0x18de1d['bay']},_0x51bddb+=_0x18de1d[_0x50243a(0x1d5)],console['log'](_0x18de1d),_0x1d91bc[_0x50243a(0x28a)][_0x50243a(0x27c)](_0x6fddbc);})):(_0x1d91bc={'headers':[{'label':_0x3c53e2(0x293),'property':_0x3c53e2(0x21f),'width':0x3c,'renderer':null},{'label':_0x3c53e2(0x261),'property':'itemdescription','width':0xc8,'renderer':null},{'label':_0x3c53e2(0x1ec),'property':_0x3c53e2(0x259),'width':0x3c,'renderer':null},{'label':_0x3c53e2(0x1dd),'property':_0x3c53e2(0x29d),'width':0x3c,'renderer':null},{'label':_0x3c53e2(0x214),'property':_0x3c53e2(0x260),'width':0x50,'renderer':null},{'label':_0x3c53e2(0x282),'property':_0x3c53e2(0x220),'width':0x3f,'renderer':null}],'datas':[]},_0xac580f[_0x3c53e2(0x219)][_0x3c53e2(0x1ff)](_0x5e550=>{const _0x2a21fd=_0x3c53e2;let _0x34edfe='';var _0x5a7851=0x0;_0x6fddbc={'itemcode':_0x5e550[_0x2a21fd(0x296)],'itemdescription':_0x5e550[_0x2a21fd(0x292)],'qty':_0x5e550[_0x2a21fd(0x1d5)],'unit':_0x5e550['unit'],'expdate':_0x5e550[_0x2a21fd(0x21c)],'batchno':_0x5e550[_0x2a21fd(0x222)]},_0x51bddb+=_0x5e550['return_qty'],console['log'](_0x51bddb+_0x2a21fd(0x26e)+_0x5e550[_0x2a21fd(0x1d5)]),_0x1d91bc['datas'][_0x2a21fd(0x27c)](_0x6fddbc);}));_0x56cb4d[_0x3c53e2(0x20c)](_0x1d91bc,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x56cb4d[_0x3c53e2(0x1c5)](_0x3c53e2(0x1ed))['fontSize'](0x8),'prepareRow':(_0x54a7bd,_0x3014ce,_0x258069,_0x34d5c)=>_0x56cb4d[_0x3c53e2(0x1c5)](_0x3c53e2(0x264))[_0x3c53e2(0x289)](0x8)});var _0x376d18=_0x56cb4d['y'],_0x325c85=_0x56cb4d['x'];_0x56cb4d[_0x3c53e2(0x289)](0xa)[_0x3c53e2(0x29a)](_0x3c53e2(0x1c7),_0x325c85+0x7d,_0x376d18),_0x56cb4d['fontSize'](0xa)[_0x3c53e2(0x29a)](_0x3c53e2(0x1e3),_0x325c85,_0x376d18+=0x190),_0x56cb4d['fontSize'](0xa)[_0x3c53e2(0x29a)](_0x51bddb,_0x325c85+0x37,_0x376d18,{'underline':!![]}),_0x56cb4d[_0x3c53e2(0x289)](0xa)['text'](_0x3c53e2(0x229),_0x325c85,_0x376d18+0x1e),_0x56cb4d[_0x3c53e2(0x289)](0xa)[_0x3c53e2(0x29a)]('ARMAN\x20CRUZ',_0x325c85+0x32,_0x376d18+0x1e,{'underline':!![]});let _0x47f24f=_0x56cb4d[_0x3c53e2(0x1f3)]();for(let _0x21cd42=0x0;_0x21cd42<_0x47f24f['count'];_0x21cd42++){_0x56cb4d['switchToPage'](_0x21cd42);let _0x109a18=_0x56cb4d[_0x3c53e2(0x224)][_0x3c53e2(0x227)][_0x3c53e2(0x270)];_0x56cb4d[_0x3c53e2(0x224)][_0x3c53e2(0x227)][_0x3c53e2(0x270)]=0x0,_0x56cb4d[_0x3c53e2(0x29a)](_0x3c53e2(0x212)+(_0x21cd42+0x1)+_0x3c53e2(0x273)+_0x47f24f[_0x3c53e2(0x21b)],0x0,_0x56cb4d[_0x3c53e2(0x224)][_0x3c53e2(0x249)]-_0x109a18/0x2,{'align':_0x3c53e2(0x241)}),_0x56cb4d[_0x3c53e2(0x224)][_0x3c53e2(0x227)][_0x3c53e2(0x270)]=_0x109a18;}const _0x2aeaac=_0x56cb4d['y'],_0x42c649=_0x56cb4d['x'];_0x56cb4d[_0x3c53e2(0x202)]();}catch(_0x2e74c3){console[_0x3c53e2(0x266)](_0x2e74c3),_0x40b353[_0x3c53e2(0x204)](0x1f4)[_0x3c53e2(0x295)](_0x3c53e2(0x258));}}),router[a0_0x471199(0x24b)](a0_0x471199(0x20a),auth,async(_0x36d573,_0x255bb1)=>{const _0x50b1fd=a0_0x471199;try{const {username:_0x524e9d,email:_0x559d77,role:_0x4bc798}=_0x36d573[_0x50b1fd(0x29b)],_0x5bdcf4=_0x36d573[_0x50b1fd(0x29b)],_0x3db418=await profile[_0x50b1fd(0x1c9)]({'email':_0x5bdcf4[_0x50b1fd(0x238)]}),_0x3bbc62=await master_shop['find'](),_0x562aa7=_0x36d573[_0x50b1fd(0x28e)]['id'],_0x6ed7d4=await purchases[_0x50b1fd(0x283)](_0x562aa7),_0x3455a5=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x255bb1[_0x50b1fd(0x272)](_0x50b1fd(0x275),_0x50b1fd(0x278)+_0x562aa7+_0x50b1fd(0x269)),_0x255bb1[_0x50b1fd(0x272)](_0x50b1fd(0x217),_0x50b1fd(0x246));var _0x4ebc8c=0x14,_0x3bf2=0x3c;_0x3455a5[_0x50b1fd(0x250)](_0x255bb1),_0x3455a5[_0x50b1fd(0x231)](_0x50b1fd(0x1e4)+_0x3bbc62[0x0][_0x50b1fd(0x231)],0x14,0x0,{'fit':[0x64,0x64]}),_0x3455a5['fontSize'](0x14)[_0x50b1fd(0x29a)](_0x50b1fd(0x1f7),_0x4ebc8c,_0x3bf2),_0x3455a5[_0x50b1fd(0x289)](0xa)[_0x50b1fd(0x29a)](_0x50b1fd(0x29e),_0x4ebc8c,_0x3bf2+=0xf),_0x3455a5[_0x50b1fd(0x289)](0xf)['text'](_0x50b1fd(0x23e),_0x4ebc8c,_0x3bf2+=0x32),_0x3455a5[_0x50b1fd(0x289)](0xa)[_0x50b1fd(0x29a)](_0x50b1fd(0x1ea),_0x4ebc8c,_0x3bf2+=0x14),_0x3455a5[_0x50b1fd(0x289)](0x9)[_0x50b1fd(0x29a)](_0x50b1fd(0x20e),_0x4ebc8c,_0x3bf2+=0x2d),_0x3455a5['fontSize'](0x9)[_0x50b1fd(0x29a)](_0x50b1fd(0x1eb)+_0x6ed7d4[_0x50b1fd(0x20d)],_0x4ebc8c+0x3f,_0x3bf2),_0x3455a5['fontSize'](0x9)[_0x50b1fd(0x29a)](_0x50b1fd(0x1e7)+_0x6ed7d4[_0x50b1fd(0x215)],_0x4ebc8c+0x17c,_0x3bf2,{'underline':!![]}),_0x3455a5['fontSize'](0x9)[_0x50b1fd(0x29a)](_0x50b1fd(0x20f),_0x4ebc8c,_0x3bf2+=0xb),_0x3455a5[_0x50b1fd(0x289)](0x9)[_0x50b1fd(0x29a)](_0x50b1fd(0x1eb)+_0x6ed7d4[_0x50b1fd(0x290)],_0x4ebc8c+0x3f,_0x3bf2),_0x3455a5[_0x50b1fd(0x289)](0x9)['text']('Control\x20Number\x20',_0x4ebc8c,_0x3bf2+=0xb),_0x3455a5[_0x50b1fd(0x289)](0x9)['text'](_0x50b1fd(0x1eb)+_0x6ed7d4[_0x50b1fd(0x1d1)],_0x4ebc8c+0x3f,_0x3bf2);const _0x33b6ae={'headers':[{'label':_0x50b1fd(0x293),'property':_0x50b1fd(0x21f),'width':0x3c,'renderer':null},{'label':_0x50b1fd(0x261),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x50b1fd(0x1f5),'property':_0x50b1fd(0x259),'width':0x2d,'renderer':null},{'label':'UOM','property':'unit','width':0x3c,'renderer':null},{'label':_0x50b1fd(0x214),'property':_0x50b1fd(0x260),'width':0x46,'renderer':null},{'label':'Batch\x20No','property':_0x50b1fd(0x220),'width':0x3c,'renderer':null},{'label':'Bin\x20Location','property':_0x50b1fd(0x24d),'width':0x3c,'renderer':null},{'label':_0x50b1fd(0x257),'property':_0x50b1fd(0x24e),'width':0x3f,'renderer':null}],'datas':[]};var _0x5b3e32=0x0;let _0x7b346='';_0x6ed7d4[_0x50b1fd(0x26c)]['forEach'](_0x471b6c=>{const _0x4111f1=_0x50b1fd;let _0x54d74f='';var _0x561a3a=0x0;const _0x4d6baa={'itemcode':_0x471b6c['product_code'],'itemdescription':_0x471b6c['product_name'],'qty':_0x471b6c['quantity'],'unit':_0x471b6c[_0x4111f1(0x235)],'expdate':_0x471b6c[_0x4111f1(0x21c)],'batchno':_0x471b6c[_0x4111f1(0x222)],'binloc':_0x471b6c[_0x4111f1(0x1d4)]+_0x471b6c[_0x4111f1(0x27f)]+_0x471b6c[_0x4111f1(0x253)]+_0x471b6c['bin']+_0x471b6c[_0x4111f1(0x1df)][0x0]+_0x471b6c[_0x4111f1(0x1fd)],'DelCode':_0x471b6c[_0x4111f1(0x1f9)]};_0x5b3e32+=_0x471b6c[_0x4111f1(0x218)],_0x33b6ae[_0x4111f1(0x28a)][_0x4111f1(0x27c)](_0x4d6baa);}),_0x3455a5[_0x50b1fd(0x20c)](_0x33b6ae,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x3455a5[_0x50b1fd(0x1c5)](_0x50b1fd(0x1ed))[_0x50b1fd(0x289)](0x8),'prepareRow':(_0x3e31d8,_0xd37353,_0x3b58fd,_0x1017f1)=>_0x3455a5[_0x50b1fd(0x1c5)](_0x50b1fd(0x264))[_0x50b1fd(0x289)](0x8)});var _0x1b4e1f=_0x3455a5['y'],_0x28ea78=_0x3455a5['x'];_0x3455a5[_0x50b1fd(0x289)](0xa)[_0x50b1fd(0x29a)](_0x50b1fd(0x1c7),_0x28ea78+0x7d,_0x1b4e1f),_0x3455a5[_0x50b1fd(0x289)](0xa)['text'](_0x50b1fd(0x1e3),_0x28ea78,_0x1b4e1f+=0x15e),_0x3455a5[_0x50b1fd(0x289)](0xa)['text'](_0x5b3e32,_0x28ea78+0xf0,_0x1b4e1f,{'underline':!![]}),_0x3455a5[_0x50b1fd(0x289)](0xa)['text'](_0x50b1fd(0x207),_0x28ea78,_0x1b4e1f+0x28),_0x3455a5['fontSize'](0xa)[_0x50b1fd(0x29a)](_0x50b1fd(0x279),_0x28ea78+0x40,_0x1b4e1f+0x28,{'underline':!![]}),_0x3455a5[_0x50b1fd(0x289)](0xa)[_0x50b1fd(0x29a)]('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x28ea78+0x40,_0x1b4e1f+0x32);let _0x4d1cb1=_0x3455a5[_0x50b1fd(0x1f3)]();for(let _0xf45b07=0x0;_0xf45b07<_0x4d1cb1['count'];_0xf45b07++){_0x3455a5[_0x50b1fd(0x256)](_0xf45b07);let _0xe8ca12=_0x3455a5['page']['margins']['bottom'];_0x3455a5[_0x50b1fd(0x224)]['margins'][_0x50b1fd(0x270)]=0x0,_0x3455a5[_0x50b1fd(0x29a)](_0x50b1fd(0x212)+(_0xf45b07+0x1)+_0x50b1fd(0x273)+_0x4d1cb1[_0x50b1fd(0x21b)],0x0,_0x3455a5[_0x50b1fd(0x224)][_0x50b1fd(0x249)]-_0xe8ca12/0x2,{'align':'center'}),_0x3455a5[_0x50b1fd(0x224)]['margins'][_0x50b1fd(0x270)]=_0xe8ca12;}const _0x579c38=_0x3455a5['y'],_0x2528b9=_0x3455a5['x'];_0x3455a5[_0x50b1fd(0x202)]();}catch(_0x2fc978){console[_0x50b1fd(0x266)](_0x2fc978),_0x255bb1['status'](0x1f4)[_0x50b1fd(0x295)](_0x50b1fd(0x258));}}),router[a0_0x471199(0x24b)]('/PDF_Sales/:id',auth,async(_0x442d31,_0x4471e3)=>{const _0x19ee9f=a0_0x471199;try{const {username:_0x36ea0d,email:_0x33df1f,role:_0x4f29b7}=_0x442d31[_0x19ee9f(0x29b)],_0xe8933f=_0x442d31[_0x19ee9f(0x29b)],_0x41c3b0=await profile['findOne']({'email':_0xe8933f[_0x19ee9f(0x238)]}),_0x127859=await master_shop['find'](),_0x27d46f=_0x442d31[_0x19ee9f(0x28e)]['id'],_0x2ca198=await sales['findById'](_0x27d46f),_0x4cef05=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x5c5ad7;_0x5c5ad7=_0x19ee9f(0x27e);_0x2ca198[_0x19ee9f(0x1f1)]=='True'&&(_0x5c5ad7='DELIVERY\x20RECEIPT');_0x4471e3[_0x19ee9f(0x272)]('Content-disposition',_0x19ee9f(0x278)+_0x27d46f+_0x19ee9f(0x269)),_0x4471e3['setHeader'](_0x19ee9f(0x217),_0x19ee9f(0x246));var _0x3eca96=0x14,_0x3c8ad7=0x64;_0x4cef05['pipe'](_0x4471e3),_0x4cef05[_0x19ee9f(0x231)](_0x19ee9f(0x1e4)+_0x127859[0x0][_0x19ee9f(0x231)],0x14,0x0,{'fit':[0x64,0x64]}),_0x4cef05['fontSize'](0x14)[_0x19ee9f(0x29a)](_0x19ee9f(0x1f7),_0x3eca96,_0x3c8ad7),_0x4cef05['fontSize'](0xa)['text'](_0x19ee9f(0x29e),_0x3eca96,_0x3c8ad7+=0xf),_0x4cef05[_0x19ee9f(0x289)](0xf)[_0x19ee9f(0x29a)](_0x5c5ad7,_0x3eca96,_0x3c8ad7+=0x32),_0x4cef05['fontSize'](0xa)[_0x19ee9f(0x29a)]('(OUTGOING)',_0x3eca96,_0x3c8ad7+=0x14),_0x4cef05[_0x19ee9f(0x289)](0x9)[_0x19ee9f(0x29a)](_0x19ee9f(0x20f),_0x3eca96,_0x3c8ad7+=0x19),_0x4cef05[_0x19ee9f(0x289)](0x9)['text'](_0x19ee9f(0x1eb)+_0x2ca198[_0x19ee9f(0x290)],_0x3eca96+0x3f,_0x3c8ad7),_0x4cef05[_0x19ee9f(0x289)](0x9)['text']('REF\x20MRIS#\x20',_0x3eca96,_0x3c8ad7+=0xb),_0x4cef05[_0x19ee9f(0x289)](0x9)[_0x19ee9f(0x29a)](_0x19ee9f(0x1eb)+_0x2ca198['invoice'],_0x3eca96+0x3f,_0x3c8ad7);const _0x2091e5={'headers':[{'label':'ITEM\x20CODE','property':_0x19ee9f(0x21f),'align':_0x19ee9f(0x241),'width':0x2d,'renderer':null},{'label':'MATERIAL\x20DESCRIPTION','property':_0x19ee9f(0x1ca),'align':_0x19ee9f(0x241),'width':0x64,'renderer':null},{'label':_0x19ee9f(0x299),'property':_0x19ee9f(0x245),'align':_0x19ee9f(0x241),'width':0x28,'renderer':null},{'label':_0x19ee9f(0x1e0),'property':_0x19ee9f(0x24f),'align':_0x19ee9f(0x241),'width':0x28,'renderer':null},{'label':'UOM','property':_0x19ee9f(0x29d),'align':'center','width':0x28,'renderer':null},{'label':_0x19ee9f(0x239),'property':_0x19ee9f(0x26b),'align':_0x19ee9f(0x241),'width':0x32,'renderer':null},{'label':'PRODUCTION\x20DATE','property':'proddate','align':_0x19ee9f(0x241),'width':0x3c,'renderer':null},{'label':'EXPIRATION\x20DATE','property':_0x19ee9f(0x260),'align':_0x19ee9f(0x241),'width':0x3c,'renderer':null},{'label':'DELIVERY\x20DATE','property':_0x19ee9f(0x28d),'align':'center','width':0x3f,'renderer':null},{'label':'DELIVERY\x20CODE','property':_0x19ee9f(0x23f),'align':_0x19ee9f(0x241),'width':0x3f,'renderer':null}],'datas':[]};var _0x26151b=0x0;let _0x38a0cf='';var _0x9beacc=0x0,_0x3eca96=0x1;_0x2ca198['sale_product']['forEach'](_0xbad294=>{const _0x15757b=_0x19ee9f,_0x5dab09=new Date(_0xbad294[_0x15757b(0x1d9)]),_0x3d24bd={'year':_0x15757b(0x201),'month':'short','day':_0x15757b(0x201)},_0x26eb87=_0x5dab09[_0x15757b(0x255)](_0x15757b(0x252),_0x3d24bd),_0x515504=new Date(_0xbad294[_0x15757b(0x21c)]),_0x9aee2f={'year':'numeric','month':_0x15757b(0x242),'day':_0x15757b(0x201)},_0x5b9d0d=_0x515504['toLocaleDateString'](_0x15757b(0x252),_0x9aee2f),_0x3ca2cc=new Date(_0xbad294[_0x15757b(0x234)]),_0x504178={'year':_0x15757b(0x201),'month':'short','day':'numeric'};var _0x254de2=_0x3ca2cc[_0x15757b(0x255)](_0x15757b(0x252),_0x504178);typeof _0xbad294['delivery_date']==_0x15757b(0x267)&&(_0x254de2='');const _0x11ebeb={'itemcode':_0xbad294[_0x15757b(0x296)],'itemdescription':_0xbad294[_0x15757b(0x292)],'rqty':_0xbad294[_0x15757b(0x233)],'iqty':_0xbad294[_0x15757b(0x218)],'unit':_0xbad294[_0x15757b(0x29d)],'blocation':_0xbad294[_0x15757b(0x1d4)]+_0xbad294['rack']+_0xbad294[_0x15757b(0x253)]+_0xbad294[_0x15757b(0x276)]+_0xbad294['type'][0x0]+_0xbad294[_0x15757b(0x1fd)],'proddate':_0x26eb87,'expdate':_0x5b9d0d,'del_date':_0x254de2,'del_code':_0xbad294[_0x15757b(0x1f9)]};_0x3eca96++,_0x2091e5[_0x15757b(0x28a)]['push'](_0x11ebeb);}),_0x4cef05['table'](_0x2091e5,{'x':_0x3eca96+0x11,'y':_0x3c8ad7+=0x1e,'prepareHeader':()=>_0x4cef05['font'](_0x19ee9f(0x1ed))[_0x19ee9f(0x289)](6.5),'prepareRow':(_0x1d9c48,_0x18f440,_0x44634b,_0x54dfa2,_0x320eca)=>{const _0x5765fc=_0x19ee9f,{x:_0x28ef10,y:_0x5506f2,width:_0x2b9ab6,height:_0x3bfc41}=_0x320eca;_0x4cef05[_0x5765fc(0x1c5)]('Helvetica')['fontSize'](0x8),_0x4cef05['lineWidth'](0.5)[_0x5765fc(0x288)](_0x28ef10,_0x5506f2)[_0x5765fc(0x23c)](_0x28ef10,_0x5506f2+_0x3bfc41)[_0x5765fc(0x22f)]();}});var _0x51775=_0x4cef05['y'],_0x16edf2=_0x4cef05['x'],_0x434319=_0x51775-=0x8;_0x4cef05[_0x19ee9f(0x262)](0x5),_0x4cef05[_0x19ee9f(0x1e6)]('butt')[_0x19ee9f(0x288)](0x240,_0x434319)['lineTo'](0x11,_0x434319)[_0x19ee9f(0x22f)](),_0x4cef05[_0x19ee9f(0x289)](0xa)['text'](_0x19ee9f(0x1c7),_0x16edf2+0x7d,_0x51775+=0xf),_0x4cef05[_0x19ee9f(0x289)](0xb)[_0x19ee9f(0x29a)]('PREPARED\x20BY\x20:\x20',_0x16edf2,_0x51775+=0x15e),_0x4cef05[_0x19ee9f(0x289)](0xa)[_0x19ee9f(0x29a)](_0x19ee9f(0x285),_0x16edf2+0x52,_0x51775,{'underline':!![]}),_0x4cef05[_0x19ee9f(0x289)](0xa)[_0x19ee9f(0x29a)](_0x19ee9f(0x27b),_0x16edf2,_0x51775+=0x19),_0x4cef05[_0x19ee9f(0x289)](0xa)['text'](_0x19ee9f(0x1eb),_0x16edf2+0x4b,_0x51775),_0x4cef05[_0x19ee9f(0x289)](0xa)[_0x19ee9f(0x29a)]('\x20'[_0x19ee9f(0x25d)](0x3c),_0x16edf2+0x50,_0x51775,{'underline':!![]}),_0x4cef05['fontSize'](0xa)[_0x19ee9f(0x29a)](_0x19ee9f(0x21a),_0x16edf2,_0x51775+=0x32),_0x4cef05[_0x19ee9f(0x289)](0xa)['text'](_0x19ee9f(0x1eb),_0x16edf2+0x4b,_0x51775),_0x4cef05['fontSize'](0xa)['text'](_0x19ee9f(0x1de),_0x16edf2+0x50,_0x51775,{'underline':!![]}),_0x4cef05[_0x19ee9f(0x289)](0xa)[_0x19ee9f(0x29a)](_0x19ee9f(0x1e5),_0x16edf2+0x50,_0x51775+0xc);let _0x4725b9=_0x4cef05['bufferedPageRange']();for(let _0x5d89b3=0x0;_0x5d89b3<_0x4725b9['count'];_0x5d89b3++){_0x4cef05[_0x19ee9f(0x256)](_0x5d89b3);let _0x142a4b=_0x4cef05[_0x19ee9f(0x224)][_0x19ee9f(0x227)]['bottom'];_0x4cef05[_0x19ee9f(0x224)]['margins']['bottom']=0x0,_0x4cef05[_0x19ee9f(0x29a)]('Page:\x20'+(_0x5d89b3+0x1)+_0x19ee9f(0x273)+_0x4725b9[_0x19ee9f(0x21b)],0x0,_0x4cef05[_0x19ee9f(0x224)][_0x19ee9f(0x249)]-_0x142a4b/0x2,{'align':_0x19ee9f(0x241)}),_0x4cef05[_0x19ee9f(0x224)]['margins'][_0x19ee9f(0x270)]=_0x142a4b;}const _0x411073=_0x4cef05['y'],_0x54b8b2=_0x4cef05['x'];_0x4cef05['end']();}catch(_0x1733c2){console[_0x19ee9f(0x266)](_0x1733c2),_0x4471e3[_0x19ee9f(0x204)](0x1f4)[_0x19ee9f(0x295)](_0x19ee9f(0x258));}}),router[a0_0x471199(0x24b)](a0_0x471199(0x25c),auth,async(_0x4f02dc,_0xe20384)=>{const _0x239c81=a0_0x471199;try{const {username:_0x51d31a,email:_0xd35378,role:_0x208a65}=_0x4f02dc[_0x239c81(0x29b)],_0x167dd3=_0x4f02dc[_0x239c81(0x29b)],_0x466571=await profile[_0x239c81(0x1c9)]({'email':_0x167dd3[_0x239c81(0x238)]}),_0x30830e=await master_shop[_0x239c81(0x236)](),_0x3eeb6c=_0x4f02dc[_0x239c81(0x28e)]['id'],_0x55e196=await adjustment[_0x239c81(0x283)](_0x3eeb6c);var _0x41fe16,_0x7d0462;_0x41fe16=_0x239c81(0x27e),_0x7d0462=_0x239c81(0x1ef);_0x55e196[_0x239c81(0x1f1)]=='True'&&(_0x41fe16=_0x239c81(0x240),_0x7d0462='');const _0x11bc21=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0xe20384['setHeader'](_0x239c81(0x275),_0x239c81(0x278)+_0x3eeb6c+_0x239c81(0x269)),_0xe20384['setHeader']('Content-type',_0x239c81(0x246));var _0x389f21=0x14,_0xb1390e=0x3c;_0x11bc21[_0x239c81(0x250)](_0xe20384),_0x11bc21[_0x239c81(0x231)](_0x239c81(0x1e4)+_0x30830e[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x11bc21[_0x239c81(0x289)](0x14)[_0x239c81(0x29a)](_0x239c81(0x1f7),_0x389f21,_0xb1390e),_0x11bc21[_0x239c81(0x289)](0xa)[_0x239c81(0x29a)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x389f21,_0xb1390e+=0xf),_0x11bc21[_0x239c81(0x289)](0xf)[_0x239c81(0x29a)](_0x41fe16,_0x389f21,_0xb1390e+=0x32),_0x11bc21[_0x239c81(0x289)](0xa)[_0x239c81(0x29a)](_0x7d0462,_0x389f21,_0xb1390e+=0x14),_0x11bc21[_0x239c81(0x289)](0x9)[_0x239c81(0x29a)](_0x239c81(0x20e),_0x389f21,_0xb1390e+=0x28),_0x11bc21[_0x239c81(0x289)](0x9)[_0x239c81(0x29a)]('\x20:\x20'+_0x55e196['warehouse_name'],_0x389f21+0x3f,_0xb1390e),_0x11bc21[_0x239c81(0x289)](0x9)[_0x239c81(0x29a)](_0x239c81(0x20f),_0x389f21,_0xb1390e+=0xb),_0x11bc21['fontSize'](0x9)['text'](_0x239c81(0x1eb)+_0x55e196['date'],_0x389f21+0x3f,_0xb1390e),_0x11bc21['fontSize'](0x9)[_0x239c81(0x29a)](_0x239c81(0x230),_0x389f21,_0xb1390e+=0xb),_0x11bc21['fontSize'](0x9)[_0x239c81(0x29a)](_0x239c81(0x1eb)+_0x55e196[_0x239c81(0x1d1)],_0x389f21+0x3f,_0xb1390e);const _0x2e4a27={'headers':[{'label':_0x239c81(0x293),'property':_0x239c81(0x21f),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x239c81(0x1ca),'width':0x96,'renderer':null},{'label':'Quantity','property':_0x239c81(0x259),'width':0x3c,'renderer':null},{'label':_0x239c81(0x1dd),'property':_0x239c81(0x29d),'width':0x3c,'renderer':null},{'label':'Production\x20Date','property':_0x239c81(0x29f),'width':0x50,'renderer':null},{'label':_0x239c81(0x282),'property':_0x239c81(0x220),'width':0x3f,'renderer':null},{'label':_0x239c81(0x1cf),'property':_0x239c81(0x24d),'width':0x3f,'renderer':null}],'datas':[]};var _0x3573d7=0x0,_0x133665=0x0;_0x55e196[_0x239c81(0x26c)]['forEach'](_0x55c2af=>{const _0xb73fbd=_0x239c81;let _0x5241ef='';const _0x2543df=_0x55c2af[_0xb73fbd(0x286)];for(let _0x4a8e6b=0x1;_0x4a8e6b<=_0x2543df;_0x4a8e6b++){_0x2543df==_0x4a8e6b?_0x5241ef+=_0x55c2af[_0xb73fbd(0x1d8)]:_0x5241ef+=_0x55c2af[_0xb73fbd(0x1d8)]+',',_0x133665+=_0x55c2af['maxperunit'];}_0x5241ef+='\x20/\x20'+_0x55c2af['secondary_unit'];const _0x1c4566={'itemcode':_0x55c2af[_0xb73fbd(0x296)],'itemdescription':_0x55c2af['product_name'],'qty':_0x55c2af[_0xb73fbd(0x274)],'unit':_0x55c2af[_0xb73fbd(0x29d)],'proddate':_0x55c2af[_0xb73fbd(0x1d9)],'batchno':_0x55c2af[_0xb73fbd(0x222)],'binloc':_0x55c2af[_0xb73fbd(0x1d4)]+_0x55c2af[_0xb73fbd(0x27f)]+_0x55c2af['bay']+_0x55c2af[_0xb73fbd(0x276)]+_0x55c2af[_0xb73fbd(0x1df)][0x0]+_0x55c2af['floorlevel']};_0x3573d7+=_0x55c2af[_0xb73fbd(0x274)],_0x2e4a27[_0xb73fbd(0x28a)]['push'](_0x1c4566);}),_0x11bc21['table'](_0x2e4a27,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x11bc21[_0x239c81(0x1c5)](_0x239c81(0x1ed))[_0x239c81(0x289)](0x8),'prepareRow':(_0x5066fb,_0x10597e,_0x22f02b,_0x1e4c74)=>_0x11bc21['font']('Helvetica')['fontSize'](0x8)});var _0x2439cc=_0x11bc21['y'],_0x28676d=_0x11bc21['x'];_0x11bc21[_0x239c81(0x289)](0xa)[_0x239c81(0x29a)](_0x239c81(0x1c7),_0x28676d+0x7d,_0x2439cc),_0x11bc21['fontSize'](0xa)[_0x239c81(0x29a)](_0x239c81(0x280),_0x28676d,_0x2439cc+=0x136),_0x11bc21[_0x239c81(0x289)](0xa)[_0x239c81(0x29a)](_0x3573d7,_0x28676d+0xc8,_0x2439cc),_0x11bc21['fontSize'](0xa)[_0x239c81(0x29a)]('Picked\x20By\x20\x20\x20\x20\x20:\x20',_0x28676d,_0x2439cc+=0x19),_0x11bc21['fontSize'](0xa)[_0x239c81(0x29a)]('\x20'[_0x239c81(0x25d)](0x3c),_0x28676d+0x3e,_0x2439cc,{'underline':!![]}),_0x11bc21['fontSize'](0xa)[_0x239c81(0x29a)](_0x239c81(0x237),_0x28676d,_0x2439cc+=0x32),_0x11bc21[_0x239c81(0x289)](0xa)[_0x239c81(0x29a)](_0x239c81(0x1eb),_0x28676d+0x37,_0x2439cc),_0x11bc21[_0x239c81(0x289)](0xa)[_0x239c81(0x29a)](_0x239c81(0x1de),_0x28676d+0x3c,_0x2439cc,{'underline':!![]}),_0x11bc21[_0x239c81(0x289)](0xa)['text']('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x28676d+0x3c,_0x2439cc+0xc);let _0x16c0b2=_0x11bc21[_0x239c81(0x1f3)]();for(let _0x2bbfa1=0x0;_0x2bbfa1<_0x16c0b2[_0x239c81(0x21b)];_0x2bbfa1++){_0x11bc21[_0x239c81(0x256)](_0x2bbfa1);let _0x56df01=_0x11bc21['page'][_0x239c81(0x227)][_0x239c81(0x270)];_0x11bc21['page'][_0x239c81(0x227)][_0x239c81(0x270)]=0x0,_0x11bc21[_0x239c81(0x29a)](_0x239c81(0x212)+(_0x2bbfa1+0x1)+'\x20of\x20'+_0x16c0b2[_0x239c81(0x21b)],0x0,_0x11bc21['page'][_0x239c81(0x249)]-_0x56df01/0x2,{'align':_0x239c81(0x241)}),_0x11bc21[_0x239c81(0x224)][_0x239c81(0x227)][_0x239c81(0x270)]=_0x56df01;}const _0x372363=_0x11bc21['y'],_0x1e6f55=_0x11bc21['x'];_0x11bc21[_0x239c81(0x202)]();}catch(_0x17051e){console[_0x239c81(0x266)](_0x17051e),_0xe20384['status'](0x1f4)[_0x239c81(0x295)](_0x239c81(0x258));}}),router[a0_0x471199(0x24b)]('/PDF_transfer_rm/:id',auth,async(_0x3f907f,_0x541ec0)=>{const _0x542cad=a0_0x471199;try{const {username:_0xf6f00b,email:_0x1e2a31,role:_0x414351}=_0x3f907f[_0x542cad(0x29b)],_0x53229e=_0x3f907f['user'],_0xce0804=await profile[_0x542cad(0x1c9)]({'email':_0x53229e[_0x542cad(0x238)]}),_0x5a7f15=await master_shop[_0x542cad(0x236)](),_0x2e4c76=_0x3f907f[_0x542cad(0x28e)]['id'],_0x506ea4=await transfers[_0x542cad(0x283)](_0x2e4c76);var _0x2eb596,_0x26d515;_0x2eb596='Picking\x20List',_0x26d515=_0x542cad(0x228);_0x506ea4['finalize']==_0x542cad(0x22a)&&(_0x2eb596=_0x542cad(0x25a),_0x26d515='');const _0x29092f=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x541ec0['setHeader'](_0x542cad(0x275),_0x542cad(0x278)+_0x2e4c76+_0x542cad(0x269)),_0x541ec0[_0x542cad(0x272)]('Content-type',_0x542cad(0x246));var _0x1fb493=0x14,_0x4cfa86=0x3c;_0x29092f[_0x542cad(0x250)](_0x541ec0),_0x29092f[_0x542cad(0x231)]('./public/upload/'+_0x5a7f15[0x0][_0x542cad(0x231)],0x14,0x0,{'fit':[0x64,0x64]}),_0x29092f['fontSize'](0x14)[_0x542cad(0x29a)](_0x542cad(0x1f7),_0x1fb493,_0x4cfa86),_0x29092f[_0x542cad(0x289)](0xa)[_0x542cad(0x29a)](_0x542cad(0x29e),_0x1fb493,_0x4cfa86+=0xf),_0x29092f[_0x542cad(0x289)](0xf)['text'](_0x2eb596,_0x1fb493,_0x4cfa86+=0x32),_0x29092f[_0x542cad(0x289)](0xa)[_0x542cad(0x29a)](_0x26d515,_0x1fb493,_0x4cfa86+=0x14),_0x29092f[_0x542cad(0x289)](0x9)['text']('From\x20Warehouse\x20',_0x1fb493,_0x4cfa86+=0x28),_0x29092f['fontSize'](0x9)[_0x542cad(0x29a)](_0x542cad(0x1d7)+_0x506ea4[_0x542cad(0x1ce)],_0x1fb493+0x3f,_0x4cfa86),_0x29092f[_0x542cad(0x289)](0x9)[_0x542cad(0x29a)](_0x542cad(0x216),_0x1fb493,_0x4cfa86+=0xa),_0x29092f['fontSize'](0x9)[_0x542cad(0x29a)](_0x542cad(0x1d7)+_0x506ea4[_0x542cad(0x277)],_0x1fb493+0x3f,_0x4cfa86),_0x29092f[_0x542cad(0x289)](0x9)[_0x542cad(0x29a)]('Date\x20',_0x1fb493,_0x4cfa86+=0xb),_0x29092f[_0x542cad(0x289)](0x9)['text'](_0x542cad(0x1d7)+_0x506ea4['date'],_0x1fb493+0x3f,_0x4cfa86),_0x29092f[_0x542cad(0x289)](0x9)[_0x542cad(0x29a)]('Control\x20Number\x20',_0x1fb493,_0x4cfa86+=0xb),_0x29092f[_0x542cad(0x289)](0x9)[_0x542cad(0x29a)]('\x20\x20\x20:\x20'+_0x506ea4[_0x542cad(0x1d1)],_0x1fb493+0x3f,_0x4cfa86);const _0xd5747e={'headers':[{'label':'','property':_0x542cad(0x21f),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x542cad(0x213),'property':_0x542cad(0x21f),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':'\x20\x20\x20\x20\x20TO','property':_0x542cad(0x1ca),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x29092f[_0x542cad(0x20c)](_0xd5747e,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x29092f[_0x542cad(0x1c5)](_0x542cad(0x1ed))['fontSize'](0x8),'prepareRow':(_0x21ea51,_0x244612,_0x3d0caf,_0x1ad1e4)=>_0x29092f['font'](_0x542cad(0x264))[_0x542cad(0x289)](0x8)});const _0x177953={'headers':[{'label':_0x542cad(0x293),'property':_0x542cad(0x21f),'width':0x3c,'renderer':null},{'label':_0x542cad(0x261),'property':'itemdescription','width':0x96,'renderer':null},{'label':'Quantity','property':_0x542cad(0x259),'width':0x28,'renderer':null},{'label':'UOM','property':_0x542cad(0x29d),'width':0x37,'renderer':null},{'label':_0x542cad(0x29c),'property':'proddate','width':0x4b,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3f,'renderer':null},{'label':_0x542cad(0x1cf),'property':_0x542cad(0x24c),'width':0x3f,'renderer':null},{'label':_0x542cad(0x1cf),'property':_0x542cad(0x24d),'width':0x3f,'renderer':null}],'datas':[]};var _0x42cb5d=0x0;let _0x8d780='';var _0x1506b4=0x0;_0x506ea4['product'][_0x542cad(0x1ff)](_0x25be81=>{const _0x2d0554=_0x542cad;var _0x1c7cb6=_0x25be81[_0x2d0554(0x1e2)],_0x1fd7c0;_0x1fd7c0=_0x25be81[_0x2d0554(0x29d)];_0x1c7cb6=='S'&&(_0x1fd7c0=_0x25be81['secondary_unit']);const _0x23f8e0={'itemcode':_0x25be81[_0x2d0554(0x296)],'itemdescription':_0x25be81[_0x2d0554(0x292)],'qty':_0x25be81['to_quantity'],'unit':_0x1fd7c0,'proddate':_0x25be81['production_date'],'batchno':_0x25be81[_0x2d0554(0x222)],'binloc':_0x25be81[_0x2d0554(0x1d4)]+_0x25be81[_0x2d0554(0x27f)]+_0x25be81[_0x2d0554(0x21d)]+_0x25be81['to_bin']+_0x25be81[_0x2d0554(0x205)][0x0]+_0x25be81[_0x2d0554(0x287)],'qtyFrom':_0x25be81[_0x2d0554(0x20b)],'binlocFrom':_0x25be81[_0x2d0554(0x1cd)]+_0x25be81[_0x2d0554(0x1dc)]+_0x25be81['from_bay']+_0x25be81[_0x2d0554(0x284)]+_0x25be81['from_types'][0x0]+_0x25be81[_0x2d0554(0x1c8)]};_0x42cb5d+=_0x25be81['to_quantity'],_0x177953['datas'][_0x2d0554(0x27c)](_0x23f8e0);}),_0x29092f['table'](_0x177953,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x29092f[_0x542cad(0x1c5)](_0x542cad(0x1ed))[_0x542cad(0x289)](0x8),'prepareRow':(_0x2aa63a,_0x2d740b,_0x2dd053,_0x52bffb)=>_0x29092f[_0x542cad(0x1c5)](_0x542cad(0x264))[_0x542cad(0x289)](0x8)});var _0x19553a=_0x29092f['y'],_0xff2fad=_0x29092f['x'];_0x29092f[_0x542cad(0x289)](0xa)[_0x542cad(0x29a)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0xff2fad+0x7d,_0x19553a),_0x29092f[_0x542cad(0x289)](0xa)[_0x542cad(0x29a)](_0x542cad(0x1e3),_0xff2fad,_0x19553a+=0x12c),_0x29092f[_0x542cad(0x289)](0xa)[_0x542cad(0x29a)](_0x42cb5d,_0xff2fad+0xd7,_0x19553a,{'underline':!![]}),_0x29092f[_0x542cad(0x289)](0xa)[_0x542cad(0x29a)](_0x542cad(0x23d),_0xff2fad,_0x19553a+=0x32),_0x29092f[_0x542cad(0x289)](0xa)[_0x542cad(0x29a)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xff2fad+0x3c,_0x19553a,{'underline':!![]}),_0x29092f['fontSize'](0xa)[_0x542cad(0x29a)](_0x542cad(0x1e5),_0xff2fad+0x3c,_0x19553a+0xc);let _0x22f5e4=_0x29092f['bufferedPageRange']();for(let _0x518b0c=0x0;_0x518b0c<_0x22f5e4[_0x542cad(0x21b)];_0x518b0c++){_0x29092f['switchToPage'](_0x518b0c);let _0x1e67f2=_0x29092f[_0x542cad(0x224)][_0x542cad(0x227)][_0x542cad(0x270)];_0x29092f[_0x542cad(0x224)][_0x542cad(0x227)][_0x542cad(0x270)]=0x0,_0x29092f[_0x542cad(0x29a)](_0x542cad(0x212)+(_0x518b0c+0x1)+_0x542cad(0x273)+_0x22f5e4[_0x542cad(0x21b)],0x0,_0x29092f[_0x542cad(0x224)][_0x542cad(0x249)]-_0x1e67f2/0x2,{'align':_0x542cad(0x241)}),_0x29092f[_0x542cad(0x224)][_0x542cad(0x227)][_0x542cad(0x270)]=_0x1e67f2;}const _0x23d439=_0x29092f['y'],_0x17d70a=_0x29092f['x'];_0x29092f['end']();}catch(_0xd9be4b){console['log'](_0xd9be4b),_0x541ec0[_0x542cad(0x204)](0x1f4)[_0x542cad(0x295)](_0x542cad(0x258));}}),router['get'](a0_0x471199(0x1cb),auth,async(_0x1aa21a,_0x18ca7d)=>{const _0x138a38=a0_0x471199;try{const _0x49180e=_0x1c3f13=>_0x1c3f13*0x48,_0x5c15a4={'width':0x3,'height':0x1},_0x8df25e=await product[_0x138a38(0x236)](),_0xce38c6=new PDFDocument({'margin':_0x49180e(0.75),'size':[_0x49180e(_0x5c15a4[_0x138a38(0x271)]),_0x49180e(_0x5c15a4[_0x138a38(0x249)])],'bufferPages':!![]}),_0x38c97d=_0x8df25e[_0x138a38(0x25e)];for(let _0x2f999b=0x0;_0x2f999b<=_0x38c97d;_0x2f999b++){if(_0x2f999b!=_0x8df25e[_0x138a38(0x25e)]){const _0x4932df=_0x8df25e[_0x2f999b][_0x138a38(0x28b)],_0x2870af=_0x8df25e[_0x2f999b][_0x138a38(0x23a)],_0x1e10b0=_0x8df25e[_0x2f999b][_0x138a38(0x22d)],_0x29829f=_0x8df25e[_0x2f999b][_0x138a38(0x296)],_0x2d048b=new Canvas();JsBarcode(_0x2d048b,_0x2870af,{'format':_0x138a38(0x281),'height':0x32,'displayValue':!![],'text':_0x2870af}),_0xce38c6['image'](_0x2d048b[_0x138a38(0x1e1)](),0x0,0x0,{'width':0xd2}),_0xce38c6[_0x138a38(0x265)]();}}_0xce38c6[_0x138a38(0x250)](_0x18ca7d),_0xce38c6[_0x138a38(0x202)]();}catch(_0x3e175c){console[_0x138a38(0x22b)](_0x138a38(0x206),_0x3e175c),_0x18ca7d['status'](0x1f4)[_0x138a38(0x295)](_0x138a38(0x258));}}),module[a0_0x471199(0x1fa)]=router;