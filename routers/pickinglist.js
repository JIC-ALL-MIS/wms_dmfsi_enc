const a0_0x431bbd=a0_0x5dd9;function a0_0x3e7c(){const _0x4c4368=['standard_unit','express/lib/response','lineCap','quantity','(RETURN)','pipe','108348jDvMJQ','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','Date\x20','\x20<>\x20','toBuffer','DRY\x20GOODS','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','table','delivery_code','TOTAL\x20QTY:\x20','return_sale','ToWarehouse','express','prod_cat','batch_code','Check\x20By\x20\x20\x20\x20:\x20','log','PREPARED\x20BY\x20:\x20','itemdescription','product_name','inline;\x20filename=\x22','return_sale_QA','CODE128','../middleware/auth','DELIVERY\x20DATE','Helvetica','Warehouse\x20','Picked\x20By\x20\x20\x20:\x20','invoice','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','PICKING\x20LIST','112648Wpauti','xlsx','TOTAL\x20QTY\x20:\x20','floorlevel','INVENTORY\x20ADJUSTMENT','\x20of\x20','delivery_date','secondary_unit','/barcode_generator/','418NLenyt','proddate','Batch\x20No','Pick\x20By\x20:\x20','warehouse_name','Noted\x20By\x20','bay','switchToPage','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','EXPIRATION\x20DATE','storage','MATERIAL\x20DESCRIPTION','from_rack','from_types','Helvetica-Bold','return_qty','find','Quantity','to_warehouse','short','Control\x20Number\x20:\x20','REQUESTED\x20QUANTITY','\x20\x20\x20\x20\x20TO','QUANTITY\x20ISSUED','/PDF_adjustment_rm/:id','expdate','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1822UzzoyR','production_date','binlocFrom','\x20:\x20','page','\x20\x20FROM','PRODUCTION\x20DATE','rack','ITEM\x20CODE','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','DELIVERY\x20RECEIPT','to_types','DELIVERY\x20CODE','en-US','product','suppliers','image','numeric','(STOCKS\x20TRANSFER)','maxPerUnit','setHeader','primary_code','to_bay','ARMAN\x20CRUZ','fontSize','count','Item\x20Description','/PDF_transfer/:id','user','QTY','2301ClMUZU','\x20\x20TO','UOM','757532nwfKwx','.pdf\x22','sale_product','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','get','21534NQJrTa','lineWidth','warehouse_cat','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','date','iqty','type','Router','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','stroke','(INCOMING)','datas','Date\x20:\x20','product_code','to_floorlevel','application/pdf','\x20/\x20','del_date','adjust_qty','From\x20Warehouse\x20','Check\x20By:\x20','new_adjust_qty','\x20\x20\x20:\x20','unit','forEach','To\x20Warehouse\x20','Finished\x20Good\x20Warehouse\x20Supervisor','bottom','status','Content-type','addPage','finalize','Content-disposition','/pdf_puchases_fin/:id','font','from_warehouse','email','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','/PDF_transfer_rm/:id','STOCKS\x20TRANSFER','595zjgJXm','batchno','FROZEN\x20GOODS','Checked\x20By\x20\x20\x20:\x20','(INVENTORY\x20ADJUSTMENT)','Checked\x20By\x20','expiry_date','../public/language/languages.json','repeat','del_code','./public/upload/','\x20y:\x20','binloc','\x20\x20\x20\x20\x20FROM','Bin\x20Location','margins','findOne','blob-stream','qty','(OUTGOING)','\x20row:\x20','to_bin','center','bufferedPageRange','toLocaleDateString','Picked\x20By\x20\x20\x20\x20\x20:\x20','from_quantity','Production\x20Date','True','Page:\x20','174050GjOAmP','end','x:\x20','to_quantity','/pdf_sales_return_fin/:id','name','text','itemcode','findById','Control\x20Number\x20','354uUBkep','Customer\x20:\x20','push','send','from_bin','414vDBBak','/PDF_Sales/:id','jsbarcode','Raw\x20Materials\x20Warehouse\x20Supervisor','Warehouse\x20:\x20','length','Picking\x20List','undefined','moveTo','Supplier\x20:\x20','height','Expiration\x20Date','1007290qxEkWo','maxperunit','Picked\x20By\x20\x20\x20\x20:\x20','Checked\x20By:\x20','rqty','/PDF/:id','Item\x20Code','params','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pdfkit-table','Delivery\x20Code','10fXaUvC','inline;\x20filename=\x22OUT-'];a0_0x3e7c=function(){return _0x4c4368;};return a0_0x3e7c();}(function(_0x239f91,_0x24b1d6){const _0x460ebb=a0_0x5dd9,_0x2d5d62=_0x239f91();while(!![]){try{const _0x2b20ec=-parseInt(_0x460ebb(0x102))/0x1+parseInt(_0x460ebb(0x158))/0x2*(parseInt(_0x460ebb(0x1cf))/0x3)+-parseInt(_0x460ebb(0x179))/0x4*(parseInt(_0x460ebb(0x10d))/0x5)+-parseInt(_0x460ebb(0x17e))/0x6*(-parseInt(_0x460ebb(0x1a7))/0x7)+parseInt(_0x460ebb(0x134))/0x8*(parseInt(_0x460ebb(0x1d4))/0x9)+-parseInt(_0x460ebb(0x1c5))/0xa*(parseInt(_0x460ebb(0x13d))/0xb)+-parseInt(_0x460ebb(0x115))/0xc*(-parseInt(_0x460ebb(0x176))/0xd);if(_0x2b20ec===_0x24b1d6)break;else _0x2d5d62['push'](_0x2d5d62['shift']());}catch(_0x10e680){_0x2d5d62['push'](_0x2d5d62['shift']());}}}(a0_0x3e7c,0x952a0));const express=require(a0_0x431bbd(0x121)),res=require(a0_0x431bbd(0x110)),app=express(),router=express[a0_0x431bbd(0x185)](),multer=require('multer'),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require('../models/all_models'),auth=require(a0_0x431bbd(0x12c)),users=require(a0_0x431bbd(0x1ae)),excelJS=require('exceljs'),xlsx=require(a0_0x431bbd(0x135)),PDFDocument=require(a0_0x431bbd(0x10b)),fs=require('fs'),blobStream=require(a0_0x431bbd(0x1b8)),JsBarcode=require(a0_0x431bbd(0x1d6)),{Canvas}=require('canvas');function a0_0x5dd9(_0xe8fcb4,_0x15ccc2){const _0x3e7c27=a0_0x3e7c();return a0_0x5dd9=function(_0x5dd9a6,_0x2f4fb7){_0x5dd9a6=_0x5dd9a6-0xff;let _0x59ee20=_0x3e7c27[_0x5dd9a6];return _0x59ee20;},a0_0x5dd9(_0xe8fcb4,_0x15ccc2);}router[a0_0x431bbd(0x17d)](a0_0x431bbd(0x107),auth,async(_0x492b0d,_0x3b7a9d)=>{const _0x327579=a0_0x431bbd;try{const {username:_0x36e2f9,email:_0x121208,role:_0x9fabae}=_0x492b0d[_0x327579(0x174)],_0x3cac46=_0x492b0d[_0x327579(0x174)],_0x37b01f=await profile[_0x327579(0x1b7)]({'email':_0x3cac46[_0x327579(0x1a3)]}),_0x29e230=await master_shop[_0x327579(0x14d)](),_0xaa845e=_0x492b0d[_0x327579(0x109)]['id'],_0x4b45b9=await sales_finished[_0x327579(0x1cd)](_0xaa845e);var _0x3c823f;_0x3c823f='PICKING\x20LIST';_0x4b45b9[_0x327579(0x19e)]=='True'&&(_0x3c823f=_0x327579(0x162));const _0x89681=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3b7a9d[_0x327579(0x16c)](_0x327579(0x19f),_0x327579(0x129)+_0x4b45b9[_0x327579(0x131)]+_0x327579(0x17a)),_0x3b7a9d[_0x327579(0x16c)](_0x327579(0x19c),_0x327579(0x18e));var _0x118c42=0x14,_0x42a2c9=0x3c;_0x89681[_0x327579(0x114)](_0x3b7a9d),_0x89681[_0x327579(0x168)](_0x327579(0x1b1)+_0x29e230[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x89681[_0x327579(0x170)](0x14)[_0x327579(0x1cb)](_0x327579(0x116),_0x118c42,_0x42a2c9),_0x89681[_0x327579(0x170)](0xa)[_0x327579(0x1cb)](_0x327579(0x186),_0x118c42,_0x42a2c9+=0xf),_0x89681[_0x327579(0x170)](0xf)[_0x327579(0x1cb)](_0x3c823f,_0x118c42,_0x42a2c9+=0x32),_0x89681[_0x327579(0x170)](0xa)[_0x327579(0x1cb)](_0x327579(0x1ba),_0x118c42,_0x42a2c9+=0x14),_0x89681[_0x327579(0x170)](0x9)[_0x327579(0x1cb)]('Warehouse\x20',_0x118c42,_0x42a2c9+=0x28),_0x89681['fontSize'](0x9)[_0x327579(0x1cb)](_0x327579(0x15b)+_0x4b45b9['warehouse_name'],_0x118c42+0x3f,_0x42a2c9),_0x89681[_0x327579(0x170)](0x9)[_0x327579(0x1cb)](_0x327579(0x1d0)+_0x4b45b9['customer'],_0x118c42+0x17c,_0x42a2c9,{'underline':!![]}),_0x89681[_0x327579(0x170)](0x9)[_0x327579(0x1cb)](_0x327579(0x117),_0x118c42,_0x42a2c9+=0xb),_0x89681[_0x327579(0x170)](0x9)[_0x327579(0x1cb)](_0x327579(0x15b)+_0x4b45b9['date'],_0x118c42+0x3f,_0x42a2c9),_0x89681[_0x327579(0x170)](0x9)['text'](_0x327579(0x1ce),_0x118c42,_0x42a2c9+=0xb),_0x89681[_0x327579(0x170)](0x9)[_0x327579(0x1cb)]('\x20:\x20'+_0x4b45b9[_0x327579(0x131)],_0x118c42+0x3f,_0x42a2c9);const _0xde8f8b={'headers':[{'label':_0x327579(0x108),'property':_0x327579(0x1cc),'width':0x3c,'renderer':null},{'label':_0x327579(0x172),'property':'itemdescription','width':0xa5,'renderer':null},{'label':_0x327579(0x14e),'property':_0x327579(0x1b9),'width':0x3c,'renderer':null},{'label':_0x327579(0x178),'property':'unit','width':0x3c,'renderer':null},{'label':_0x327579(0x1c2),'property':_0x327579(0x13e),'width':0x50,'renderer':null},{'label':_0x327579(0x13f),'property':_0x327579(0x1a8),'width':0x3f,'renderer':null},{'label':_0x327579(0x1b5),'property':_0x327579(0x1b3),'width':0x3f,'renderer':null}],'datas':[]};var _0x38e76f=0x0;let _0x1d9200='';var _0x997f14=0x0;_0x4b45b9[_0x327579(0x141)]=='DRY\x20GOODS'?_0x1d9200='DG':_0x1d9200='FG';var _0x42e158=0x0;_0x4b45b9[_0x327579(0x17b)][_0x327579(0x197)](_0x4b7982=>{const _0x31baa1=_0x327579;console[_0x31baa1(0x125)](_0x4b7982);let _0x4f5fea='';const _0x5afbb9=_0x4b7982['quantity'];for(let _0x446e00=0x1;_0x446e00<=_0x5afbb9;_0x446e00++){_0x5afbb9==_0x446e00?_0x4f5fea+=_0x4b7982[_0x31baa1(0x103)]:_0x4f5fea+=_0x4b7982[_0x31baa1(0x103)]+',',_0x997f14+=_0x4b7982['maxperunit'];}_0x4f5fea+=_0x31baa1(0x18f)+_0x4b7982[_0x31baa1(0x13b)];const _0x2d9a5f={'itemcode':_0x4b7982[_0x31baa1(0x18c)],'itemdescription':_0x4b7982[_0x31baa1(0x128)],'qty':_0x4b7982[_0x31baa1(0x112)],'unit':_0x4b7982[_0x31baa1(0x196)],'proddate':_0x4b7982[_0x31baa1(0x159)],'batchno':_0x4b7982[_0x31baa1(0x123)],'binloc':_0x1d9200+_0x4b7982['bay']};_0x38e76f+=_0x4b7982[_0x31baa1(0x112)],_0x42e158+=0x1,_0xde8f8b['datas'][_0x31baa1(0x1d1)](_0x2d9a5f);}),_0x89681[_0x327579(0x11c)](_0xde8f8b,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x89681['font'](_0x327579(0x14b))['fontSize'](0x8),'prepareRow':(_0x5f1ea0,_0x5bbddd,_0x1c1e0f,_0x28d94e)=>_0x89681['font']('Helvetica')[_0x327579(0x170)](0x8)});var _0x5d89aa=_0x89681['y'],_0x14ca01=_0x89681['x'];_0x89681[_0x327579(0x170)](0xa)[_0x327579(0x1cb)](_0x327579(0x145),_0x14ca01+0x7d,_0x5d89aa),console[_0x327579(0x125)](_0x327579(0x1c7)+_0x14ca01+_0x327579(0x1b2)+_0x5d89aa+_0x327579(0x1bb)+_0x42e158);const _0xab7867=_0x14ca01*_0x42e158;_0x89681[_0x327579(0x170)](0xa)['text']('TOTAL\x20QTY:\x20',_0x14ca01,_0x5d89aa+=0x15e-_0xab7867),_0x89681[_0x327579(0x170)](0xa)[_0x327579(0x1cb)](_0x38e76f,_0x14ca01+0xdc,_0x5d89aa,{'underline':!![]}),_0x89681[_0x327579(0x170)](0xa)[_0x327579(0x1cb)](_0x327579(0x130),_0x14ca01,_0x5d89aa+=0x19),_0x89681[_0x327579(0x170)](0xa)[_0x327579(0x1cb)]('\x20'['repeat'](0x3c),_0x14ca01+0x3e,_0x5d89aa,{'underline':!![]}),_0x89681['fontSize'](0xa)[_0x327579(0x1cb)]('Checked\x20By:\x20',_0x14ca01,_0x5d89aa+=0x32),_0x89681[_0x327579(0x170)](0xa)['text'](_0x327579(0x181),_0x14ca01+0x3c,_0x5d89aa,{'underline':!![]}),_0x89681['fontSize'](0xa)[_0x327579(0x1cb)](_0x327579(0x199),_0x14ca01+0x3c,_0x5d89aa+0xc);let _0x1fa8a4=_0x89681[_0x327579(0x1be)]();for(let _0x5c98df=0x0;_0x5c98df<_0x1fa8a4[_0x327579(0x171)];_0x5c98df++){_0x89681[_0x327579(0x144)](_0x5c98df);let _0xe908c7=_0x89681['page'][_0x327579(0x1b6)]['bottom'];_0x89681[_0x327579(0x15c)]['margins'][_0x327579(0x19a)]=0x0,_0x89681['text'](_0x327579(0x1c4)+(_0x5c98df+0x1)+_0x327579(0x139)+_0x1fa8a4[_0x327579(0x171)],0x0,_0x89681[_0x327579(0x15c)][_0x327579(0x100)]-_0xe908c7/0x2,{'align':_0x327579(0x1bd)}),_0x89681[_0x327579(0x15c)][_0x327579(0x1b6)][_0x327579(0x19a)]=_0xe908c7;}const _0x29638a=_0x89681['y'],_0x13c777=_0x89681['x'];_0x89681[_0x327579(0x1c6)]();}catch(_0x1e4af2){console[_0x327579(0x125)](_0x1e4af2),_0x3b7a9d[_0x327579(0x19b)](0x1f4)[_0x327579(0x1d2)](_0x327579(0x132));}}),router[a0_0x431bbd(0x17d)](a0_0x431bbd(0x173),auth,async(_0x1fd385,_0x164768)=>{const _0x13b195=a0_0x431bbd;try{const {username:_0x1b06e3,email:_0x29faa2,role:_0x4205a8}=_0x1fd385['user'],_0x58c101=_0x1fd385['user'],_0x39c4b8=await profile[_0x13b195(0x1b7)]({'email':_0x58c101[_0x13b195(0x1a3)]}),_0x58b378=await master_shop[_0x13b195(0x14d)](),_0x5784c2=_0x1fd385[_0x13b195(0x109)]['id'],_0x49c1e9=await transfers_finished['findById'](_0x5784c2);var _0x29a6b4,_0x599e12;_0x29a6b4=_0x13b195(0x1da),_0x599e12=_0x13b195(0x16a);_0x49c1e9[_0x13b195(0x19e)]==_0x13b195(0x1c3)&&(_0x29a6b4='STOCKS\x20TRANSFER',_0x599e12='');const _0x48db00=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x164768[_0x13b195(0x16c)](_0x13b195(0x19f),_0x13b195(0x10e)+_0x5784c2+_0x13b195(0x17a)),_0x164768[_0x13b195(0x16c)](_0x13b195(0x19c),_0x13b195(0x18e));var _0x3bb896=0x14,_0x4ef9bc=0x3c;_0x48db00[_0x13b195(0x114)](_0x164768),_0x48db00[_0x13b195(0x168)](_0x13b195(0x1b1)+_0x58b378[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x48db00[_0x13b195(0x170)](0x14)[_0x13b195(0x1cb)](_0x13b195(0x116),_0x3bb896,_0x4ef9bc),_0x48db00[_0x13b195(0x170)](0xa)[_0x13b195(0x1cb)](_0x13b195(0x186),_0x3bb896,_0x4ef9bc+=0xf),_0x48db00[_0x13b195(0x170)](0xf)[_0x13b195(0x1cb)](_0x29a6b4,_0x3bb896,_0x4ef9bc+=0x32),_0x48db00[_0x13b195(0x170)](0xa)['text'](_0x599e12,_0x3bb896,_0x4ef9bc+=0x14),_0x48db00[_0x13b195(0x170)](0x9)[_0x13b195(0x1cb)]('From\x20Warehouse\x20',_0x3bb896,_0x4ef9bc+=0x28),_0x48db00[_0x13b195(0x170)](0x9)[_0x13b195(0x1cb)](_0x13b195(0x195)+_0x49c1e9[_0x13b195(0x1a2)],_0x3bb896+0x3f,_0x4ef9bc),_0x48db00[_0x13b195(0x170)](0x9)[_0x13b195(0x1cb)](_0x13b195(0x198),_0x3bb896,_0x4ef9bc+=0xf),_0x48db00[_0x13b195(0x170)](0x9)['text'](_0x13b195(0x195)+_0x49c1e9['to_warehouse'],_0x3bb896+0x3f,_0x4ef9bc),_0x48db00['fontSize'](0x9)[_0x13b195(0x1cb)](_0x13b195(0x117),_0x3bb896,_0x4ef9bc+=0xb),_0x48db00[_0x13b195(0x170)](0x9)[_0x13b195(0x1cb)](_0x13b195(0x195)+_0x49c1e9[_0x13b195(0x182)],_0x3bb896+0x3f,_0x4ef9bc),_0x48db00[_0x13b195(0x170)](0x9)[_0x13b195(0x1cb)]('Control\x20Number\x20',_0x3bb896,_0x4ef9bc+=0xb),_0x48db00['fontSize'](0x9)[_0x13b195(0x1cb)](_0x13b195(0x195)+_0x49c1e9[_0x13b195(0x131)],_0x3bb896+0x3f,_0x4ef9bc);const _0x578d5a={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x13b195(0x15d),'property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x13b195(0x177),'property':_0x13b195(0x127),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x48db00['table'](_0x578d5a,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x48db00['font'](_0x13b195(0x14b))[_0x13b195(0x170)](0x8),'prepareRow':(_0x5e97c1,_0xef1f02,_0x259bc8,_0x437025)=>_0x48db00['font']('Helvetica')[_0x13b195(0x170)](0x8)});const _0x32bfd9={'headers':[{'label':_0x13b195(0x108),'property':_0x13b195(0x1cc),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x13b195(0x127),'width':0x96,'renderer':null},{'label':_0x13b195(0x14e),'property':_0x13b195(0x1b9),'width':0x28,'renderer':null},{'label':_0x13b195(0x178),'property':_0x13b195(0x196),'width':0x37,'renderer':null},{'label':'Production\x20Date','property':_0x13b195(0x13e),'width':0x4b,'renderer':null},{'label':_0x13b195(0x13f),'property':_0x13b195(0x1a8),'width':0x3f,'renderer':null},{'label':_0x13b195(0x1b5),'property':_0x13b195(0x15a),'width':0x3f,'renderer':null},{'label':_0x13b195(0x1b5),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x3a8f12=0x0;let _0x25621b='';var _0x32032f=0x0;if(_0x49c1e9[_0x13b195(0x1a2)]==_0x13b195(0x11a))_0x25621b='DG';else _0x49c1e9['from_warehouse']==_0x13b195(0x1a9)&&(_0x25621b='FG');_0x49c1e9[_0x13b195(0x166)][_0x13b195(0x197)](_0x294f22=>{const _0x2893ef=_0x13b195;var _0x56ccc7=_0x294f22[_0x2893ef(0x122)],_0xe1f4df,_0x4ccd8f;_0xe1f4df=_0x294f22[_0x2893ef(0x196)],_0x4ccd8f=_0x294f22[_0x2893ef(0x1c8)];_0x56ccc7=='S'&&(_0xe1f4df=_0x294f22['secondary_unit'],_0x4ccd8f=_0x294f22[_0x2893ef(0x1c8)]*_0x294f22['maxPerUnit']);const _0x543590={'itemcode':_0x294f22[_0x2893ef(0x18c)],'itemdescription':_0x294f22[_0x2893ef(0x128)],'qty':_0x4ccd8f,'unit':_0xe1f4df,'proddate':_0x294f22[_0x2893ef(0x159)],'batchno':_0x294f22[_0x2893ef(0x123)],'binloc':_0x25621b+_0x294f22[_0x2893ef(0x16e)],'qtyFrom':_0x294f22[_0x2893ef(0x1c1)],'binlocFrom':_0x25621b+_0x294f22['from_bay']};_0x3a8f12+=_0x4ccd8f,_0x32bfd9[_0x2893ef(0x18a)][_0x2893ef(0x1d1)](_0x543590);}),_0x48db00[_0x13b195(0x11c)](_0x32bfd9,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x48db00[_0x13b195(0x1a1)](_0x13b195(0x14b))[_0x13b195(0x170)](0x8),'prepareRow':(_0x498065,_0x25d3e7,_0x2da03c,_0x1e536d)=>_0x48db00['font'](_0x13b195(0x12e))['fontSize'](0x8)});var _0x442e91=_0x48db00['y'],_0x4820d9=_0x48db00['x'];_0x48db00['fontSize'](0xa)[_0x13b195(0x1cb)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x4820d9+0x7d,_0x442e91),_0x48db00[_0x13b195(0x170)](0xa)['text'](_0x13b195(0x11e),_0x4820d9,_0x442e91+=0x15e),_0x48db00['fontSize'](0xa)[_0x13b195(0x1cb)](_0x3a8f12,_0x4820d9+0xd7,_0x442e91,{'underline':!![]}),_0x48db00['fontSize'](0xa)[_0x13b195(0x1cb)]('Picked\x20By\x20\x20\x20:\x20',_0x4820d9,_0x442e91+=0x19),_0x48db00[_0x13b195(0x170)](0xa)[_0x13b195(0x1cb)]('\x20'[_0x13b195(0x1af)](0x3c),_0x4820d9+0x3e,_0x442e91,{'underline':!![]}),_0x48db00[_0x13b195(0x170)](0xa)[_0x13b195(0x1cb)]('Checked\x20By:\x20',_0x4820d9,_0x442e91+=0x32),_0x48db00[_0x13b195(0x170)](0xa)[_0x13b195(0x1cb)](_0x13b195(0x181),_0x4820d9+0x3c,_0x442e91,{'underline':!![]}),_0x48db00[_0x13b195(0x170)](0xa)['text'](_0x13b195(0x199),_0x4820d9+0x3c,_0x442e91+0xc);let _0x5bb33b=_0x48db00[_0x13b195(0x1be)]();for(let _0x502e62=0x0;_0x502e62<_0x5bb33b[_0x13b195(0x171)];_0x502e62++){_0x48db00['switchToPage'](_0x502e62);let _0x41d37d=_0x48db00[_0x13b195(0x15c)][_0x13b195(0x1b6)][_0x13b195(0x19a)];_0x48db00[_0x13b195(0x15c)][_0x13b195(0x1b6)][_0x13b195(0x19a)]=0x0,_0x48db00[_0x13b195(0x1cb)](_0x13b195(0x1c4)+(_0x502e62+0x1)+_0x13b195(0x139)+_0x5bb33b[_0x13b195(0x171)],0x0,_0x48db00[_0x13b195(0x15c)][_0x13b195(0x100)]-_0x41d37d/0x2,{'align':_0x13b195(0x1bd)}),_0x48db00['page'][_0x13b195(0x1b6)][_0x13b195(0x19a)]=_0x41d37d;}const _0x59268d=_0x48db00['y'],_0x58bb2a=_0x48db00['x'];_0x48db00[_0x13b195(0x1c6)]();}catch(_0x11ed19){console[_0x13b195(0x125)](_0x11ed19),_0x164768['status'](0x1f4)[_0x13b195(0x1d2)](_0x13b195(0x132));}}),router[a0_0x431bbd(0x17d)]('/PDF_adjustment/:id',auth,async(_0x4c33e5,_0x40ad0f)=>{const _0x17932a=a0_0x431bbd;try{const {username:_0x5c5085,email:_0x31a109,role:_0x3df569}=_0x4c33e5[_0x17932a(0x174)],_0x235473=_0x4c33e5[_0x17932a(0x174)],_0xe0c8e1=await profile['findOne']({'email':_0x235473[_0x17932a(0x1a3)]}),_0x142324=await master_shop[_0x17932a(0x14d)](),_0x476db9=_0x4c33e5[_0x17932a(0x109)]['id'],_0x4fbd04=await adjustment_finished['findById'](_0x476db9);var _0x396c32,_0x560fd7;_0x396c32=_0x17932a(0x133),_0x560fd7=_0x17932a(0x1ab);_0x4fbd04[_0x17932a(0x19e)]==_0x17932a(0x1c3)&&(_0x396c32=_0x17932a(0x138),_0x560fd7='');const _0x1a4808=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x40ad0f[_0x17932a(0x16c)](_0x17932a(0x19f),'inline;\x20filename=\x22OUT-'+_0x476db9+_0x17932a(0x17a)),_0x40ad0f[_0x17932a(0x16c)]('Content-type',_0x17932a(0x18e));var _0x20f807=0x14,_0x43f273=0x3c;_0x1a4808[_0x17932a(0x114)](_0x40ad0f),_0x1a4808[_0x17932a(0x168)](_0x17932a(0x1b1)+_0x142324[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x1a4808['fontSize'](0x14)[_0x17932a(0x1cb)](_0x17932a(0x116),_0x20f807,_0x43f273),_0x1a4808[_0x17932a(0x170)](0xa)[_0x17932a(0x1cb)](_0x17932a(0x186),_0x20f807,_0x43f273+=0xf),_0x1a4808['fontSize'](0xf)['text'](_0x396c32,_0x20f807,_0x43f273+=0x32),_0x1a4808['fontSize'](0xa)[_0x17932a(0x1cb)](_0x560fd7,_0x20f807,_0x43f273+=0x14),_0x1a4808['fontSize'](0x9)['text']('Warehouse\x20',_0x20f807,_0x43f273+=0x28),_0x1a4808[_0x17932a(0x170)](0x9)[_0x17932a(0x1cb)](_0x17932a(0x15b)+_0x4fbd04['warehouse_name'],_0x20f807+0x3f,_0x43f273),_0x1a4808[_0x17932a(0x170)](0x9)[_0x17932a(0x1cb)]('Date\x20',_0x20f807,_0x43f273+=0xb),_0x1a4808[_0x17932a(0x170)](0x9)['text'](_0x17932a(0x15b)+_0x4fbd04[_0x17932a(0x182)],_0x20f807+0x3f,_0x43f273),_0x1a4808[_0x17932a(0x170)](0x9)[_0x17932a(0x1cb)](_0x17932a(0x1ce),_0x20f807,_0x43f273+=0xb),_0x1a4808['fontSize'](0x9)[_0x17932a(0x1cb)](_0x17932a(0x15b)+_0x4fbd04[_0x17932a(0x131)],_0x20f807+0x3f,_0x43f273);const _0x3407d0={'headers':[{'label':_0x17932a(0x108),'property':_0x17932a(0x1cc),'width':0x3c,'renderer':null},{'label':_0x17932a(0x172),'property':_0x17932a(0x127),'width':0x96,'renderer':null},{'label':'Quantity','property':_0x17932a(0x1b9),'width':0x3c,'renderer':null},{'label':_0x17932a(0x178),'property':'unit','width':0x3c,'renderer':null},{'label':_0x17932a(0x1c2),'property':_0x17932a(0x13e),'width':0x50,'renderer':null},{'label':_0x17932a(0x13f),'property':_0x17932a(0x1a8),'width':0x3f,'renderer':null},{'label':_0x17932a(0x1b5),'property':_0x17932a(0x1b3),'width':0x3f,'renderer':null}],'datas':[]};var _0x13929c=0x0;let _0x12f51c='';var _0xd03c2e=0x0;_0x4fbd04[_0x17932a(0x141)]=='DRY\x20GOODS'?_0x12f51c='DG':_0x12f51c='FG';_0x4fbd04[_0x17932a(0x166)][_0x17932a(0x197)](_0x3b3216=>{const _0x5452d8=_0x17932a;console[_0x5452d8(0x125)](_0x3b3216);var _0x41640a=_0x3b3216[_0x5452d8(0x122)],_0x29c4f6,_0x5f5a45;_0x29c4f6=_0x3b3216['unit'],_0x5f5a45=_0x3b3216[_0x5452d8(0x191)];_0x41640a=='S'&&(_0x29c4f6=_0x3b3216[_0x5452d8(0x13b)],_0x5f5a45=_0x3b3216[_0x5452d8(0x191)]*_0x3b3216[_0x5452d8(0x16b)]);const _0x1456af={'itemcode':_0x3b3216[_0x5452d8(0x18c)],'itemdescription':_0x3b3216['product_name'],'qty':_0x5f5a45,'unit':_0x29c4f6,'proddate':_0x3b3216[_0x5452d8(0x159)],'batchno':_0x3b3216['batch_code'],'binloc':_0x12f51c+_0x3b3216[_0x5452d8(0x143)]};_0x13929c+=_0x5f5a45,_0x3407d0['datas'][_0x5452d8(0x1d1)](_0x1456af);}),_0x1a4808['table'](_0x3407d0,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x1a4808['font'](_0x17932a(0x14b))['fontSize'](0x8),'prepareRow':(_0x10ece1,_0x5ec5f3,_0x31d812,_0x348b64)=>_0x1a4808[_0x17932a(0x1a1)](_0x17932a(0x12e))[_0x17932a(0x170)](0x8)});var _0x566773=_0x1a4808['y'],_0x48d92f=_0x1a4808['x'];_0x1a4808[_0x17932a(0x170)](0xa)['text'](_0x17932a(0x145),_0x48d92f+0x7d,_0x566773),_0x1a4808[_0x17932a(0x170)](0xa)[_0x17932a(0x1cb)](_0x17932a(0x136),_0x48d92f,_0x566773+=0x15e),_0x1a4808[_0x17932a(0x170)](0xa)[_0x17932a(0x1cb)](_0x13929c,_0x48d92f+0xc8,_0x566773),_0x1a4808['fontSize'](0xa)[_0x17932a(0x1cb)]('Picked\x20By\x20\x20\x20:\x20',_0x48d92f,_0x566773+=0x19),_0x1a4808[_0x17932a(0x170)](0xa)[_0x17932a(0x1cb)]('\x20'[_0x17932a(0x1af)](0x3c),_0x48d92f+0x3e,_0x566773,{'underline':!![]}),_0x1a4808[_0x17932a(0x170)](0xa)[_0x17932a(0x1cb)]('Checked\x20By\x20',_0x48d92f,_0x566773+=0x32),_0x1a4808[_0x17932a(0x170)](0xa)[_0x17932a(0x1cb)](_0x17932a(0x15b),_0x48d92f+0x37,_0x566773),_0x1a4808[_0x17932a(0x170)](0xa)[_0x17932a(0x1cb)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x48d92f+0x3c,_0x566773,{'underline':!![]}),_0x1a4808['fontSize'](0xa)['text'](_0x17932a(0x199),_0x48d92f+0x3c,_0x566773+0xc);let _0x2ada66=_0x1a4808['bufferedPageRange']();for(let _0x7dc338=0x0;_0x7dc338<_0x2ada66['count'];_0x7dc338++){_0x1a4808[_0x17932a(0x144)](_0x7dc338);let _0x506026=_0x1a4808[_0x17932a(0x15c)][_0x17932a(0x1b6)][_0x17932a(0x19a)];_0x1a4808[_0x17932a(0x15c)][_0x17932a(0x1b6)][_0x17932a(0x19a)]=0x0,_0x1a4808['text']('Page:\x20'+(_0x7dc338+0x1)+_0x17932a(0x139)+_0x2ada66[_0x17932a(0x171)],0x0,_0x1a4808[_0x17932a(0x15c)][_0x17932a(0x100)]-_0x506026/0x2,{'align':_0x17932a(0x1bd)}),_0x1a4808[_0x17932a(0x15c)][_0x17932a(0x1b6)][_0x17932a(0x19a)]=_0x506026;}const _0x4a3eeb=_0x1a4808['y'],_0x3e0695=_0x1a4808['x'];_0x1a4808[_0x17932a(0x1c6)]();}catch(_0x3ca81c){console[_0x17932a(0x125)](_0x3ca81c),_0x40ad0f[_0x17932a(0x19b)](0x1f4)[_0x17932a(0x1d2)](_0x17932a(0x132));}}),router[a0_0x431bbd(0x17d)](a0_0x431bbd(0x1a0),auth,async(_0x878dc8,_0x26fa76)=>{const _0x404557=a0_0x431bbd;try{const {username:_0x1e3491,email:_0x5f449b,role:_0x392e9b}=_0x878dc8['user'],_0x294f2b=_0x878dc8[_0x404557(0x174)],_0x1db5a3=await profile[_0x404557(0x1b7)]({'email':_0x294f2b[_0x404557(0x1a3)]}),_0x48d59b=await master_shop[_0x404557(0x14d)](),_0x1c3354=_0x878dc8[_0x404557(0x109)]['id'],_0x3420fe=await purchases_finished[_0x404557(0x1cd)](_0x1c3354),_0x1b6311=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x26fa76[_0x404557(0x16c)]('Content-disposition','inline;\x20filename=\x22OUT-'+_0x1c3354+_0x404557(0x17a)),_0x26fa76[_0x404557(0x16c)]('Content-type','application/pdf');var _0x3ea205=0x14,_0x30e3f2=0x3c;_0x1b6311[_0x404557(0x114)](_0x26fa76),_0x1b6311['image'](_0x404557(0x1b1)+_0x48d59b[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x1b6311[_0x404557(0x170)](0x14)[_0x404557(0x1cb)](_0x404557(0x116),_0x3ea205,_0x30e3f2),_0x1b6311[_0x404557(0x170)](0xa)[_0x404557(0x1cb)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x3ea205,_0x30e3f2+=0xf),_0x1b6311[_0x404557(0x170)](0xf)[_0x404557(0x1cb)](_0x404557(0x1a4),_0x3ea205,_0x30e3f2+=0x32),_0x1b6311[_0x404557(0x170)](0xa)[_0x404557(0x1cb)](_0x404557(0x189),_0x3ea205,_0x30e3f2+=0x14),_0x1b6311['fontSize'](0x9)[_0x404557(0x1cb)](_0x404557(0x12f),_0x3ea205,_0x30e3f2+=0x28),_0x1b6311[_0x404557(0x170)](0x9)[_0x404557(0x1cb)](_0x404557(0x15b)+_0x3420fe['warehouse_name'],_0x3ea205+0x3f,_0x30e3f2),_0x1b6311['fontSize'](0x9)['text']('FTGS\x20Number\x20:\x20'+_0x3420fe['POnumber'],_0x3ea205+0x17c,_0x30e3f2),_0x1b6311['fontSize'](0x9)[_0x404557(0x1cb)](_0x404557(0x117),_0x3ea205,_0x30e3f2+=0xb),_0x1b6311['fontSize'](0x9)['text'](_0x404557(0x15b)+_0x3420fe[_0x404557(0x182)],_0x3ea205+0x3f,_0x30e3f2),_0x1b6311[_0x404557(0x170)](0x9)[_0x404557(0x1cb)](_0x404557(0x1ce),_0x3ea205,_0x30e3f2+=0xb),_0x1b6311[_0x404557(0x170)](0x9)[_0x404557(0x1cb)](_0x404557(0x15b)+_0x3420fe[_0x404557(0x131)],_0x3ea205+0x3f,_0x30e3f2);const _0x39f1e6={'headers':[{'label':'Item\x20Code','property':_0x404557(0x1cc),'width':0x3c,'renderer':null},{'label':_0x404557(0x172),'property':_0x404557(0x127),'width':0xc8,'renderer':null},{'label':_0x404557(0x14e),'property':_0x404557(0x1b9),'width':0x3c,'renderer':null},{'label':_0x404557(0x178),'property':'unit','width':0x3c,'renderer':null},{'label':_0x404557(0x101),'property':_0x404557(0x156),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x404557(0x1a8),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x404557(0x1b3),'width':0x3f,'renderer':null}],'datas':[]};var _0x360227=0x0;let _0x1a0aa8='';_0x3420fe[_0x404557(0x141)]==_0x404557(0x11a)?_0x1a0aa8='DG':_0x1a0aa8='FG';_0x3420fe[_0x404557(0x166)][_0x404557(0x197)](_0x30dda2=>{const _0x41ed3f=_0x404557;let _0xe15c4d='';var _0x1395ee=0x0;const _0x52042a={'itemcode':_0x30dda2['product_code'],'itemdescription':_0x30dda2[_0x41ed3f(0x128)],'qty':_0x30dda2[_0x41ed3f(0x112)],'unit':_0x30dda2[_0x41ed3f(0x10f)],'expdate':_0x30dda2['expiry_date'],'batchno':_0x30dda2[_0x41ed3f(0x123)],'binloc':_0x1a0aa8+_0x30dda2['bay']};_0x360227+=_0x30dda2[_0x41ed3f(0x112)],_0x39f1e6['datas']['push'](_0x52042a);}),_0x1b6311[_0x404557(0x11c)](_0x39f1e6,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x1b6311[_0x404557(0x1a1)]('Helvetica-Bold')[_0x404557(0x170)](0x8),'prepareRow':(_0x5b596f,_0x540570,_0x3f2c4d,_0x59568e)=>_0x1b6311['font'](_0x404557(0x12e))['fontSize'](0x8)});var _0x57bf38=_0x1b6311['y'],_0x3dbbfe=_0x1b6311['x'];_0x1b6311[_0x404557(0x170)](0xa)[_0x404557(0x1cb)](_0x404557(0x145),_0x3dbbfe+0x7d,_0x57bf38),_0x1b6311['fontSize'](0xa)['text']('TOTAL\x20QTY:\x20',_0x3dbbfe,_0x57bf38+=0x15e),_0x1b6311[_0x404557(0x170)](0xa)[_0x404557(0x1cb)](_0x360227,_0x3dbbfe+0xfa,_0x57bf38),_0x1b6311[_0x404557(0x170)](0xa)[_0x404557(0x1cb)](_0x404557(0x104),_0x3dbbfe,_0x57bf38+=0x19),_0x1b6311['fontSize'](0xa)[_0x404557(0x1cb)](_0x404557(0x157),_0x3dbbfe+0x37,_0x57bf38,{'underline':!![]}),_0x1b6311['fontSize'](0xa)['text'](_0x404557(0x124),_0x3dbbfe,_0x57bf38+0x32),_0x1b6311[_0x404557(0x170)](0xa)[_0x404557(0x1cb)](_0x404557(0x181),_0x3dbbfe+0x32,_0x57bf38+0x32,{'underline':!![]}),_0x1b6311[_0x404557(0x170)](0xa)[_0x404557(0x1cb)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x3dbbfe+0x32,_0x57bf38+0x3c);let _0x1d11ab=_0x1b6311[_0x404557(0x1be)]();for(let _0x10764a=0x0;_0x10764a<_0x1d11ab['count'];_0x10764a++){_0x1b6311['switchToPage'](_0x10764a);let _0x314677=_0x1b6311[_0x404557(0x15c)][_0x404557(0x1b6)][_0x404557(0x19a)];_0x1b6311[_0x404557(0x15c)][_0x404557(0x1b6)]['bottom']=0x0,_0x1b6311[_0x404557(0x1cb)](_0x404557(0x1c4)+(_0x10764a+0x1)+_0x404557(0x139)+_0x1d11ab[_0x404557(0x171)],0x0,_0x1b6311['page'][_0x404557(0x100)]-_0x314677/0x2,{'align':_0x404557(0x1bd)}),_0x1b6311[_0x404557(0x15c)][_0x404557(0x1b6)][_0x404557(0x19a)]=_0x314677;}const _0x440178=_0x1b6311['y'],_0x581416=_0x1b6311['x'];_0x1b6311['end']();}catch(_0xab118f){console['log'](_0xab118f),_0x26fa76[_0x404557(0x19b)](0x1f4)[_0x404557(0x1d2)](_0x404557(0x132));}}),router[a0_0x431bbd(0x17d)](a0_0x431bbd(0x1c9),auth,async(_0x1278ac,_0x3442e5)=>{const _0x1ff4aa=a0_0x431bbd;try{const {username:_0x3b9bb5,email:_0x194b85,role:_0x2b0c68}=_0x1278ac[_0x1ff4aa(0x174)],_0x421d3e=_0x1278ac['user'],_0x19d9b1=await profile['findOne']({'email':_0x421d3e[_0x1ff4aa(0x1a3)]}),_0x37753d=await master_shop[_0x1ff4aa(0x14d)](),_0x54e38d=_0x1278ac[_0x1ff4aa(0x109)]['id'],_0x5c7d01=await sales_return_finished[_0x1ff4aa(0x1cd)](_0x54e38d),_0x2f601f=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3442e5[_0x1ff4aa(0x16c)](_0x1ff4aa(0x19f),_0x1ff4aa(0x10e)+_0x54e38d+_0x1ff4aa(0x17a)),_0x3442e5['setHeader'](_0x1ff4aa(0x19c),_0x1ff4aa(0x18e));var _0x47046c=0x14,_0x37b0ef=0x64;_0x2f601f[_0x1ff4aa(0x114)](_0x3442e5),_0x2f601f[_0x1ff4aa(0x168)](_0x1ff4aa(0x1b1)+_0x37753d[0x0][_0x1ff4aa(0x168)],0x14,0x0,{'fit':[0x64,0x64]}),_0x2f601f[_0x1ff4aa(0x170)](0x14)['text'](_0x1ff4aa(0x116),_0x47046c,_0x37b0ef),_0x2f601f[_0x1ff4aa(0x170)](0xa)['text']('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x47046c,_0x37b0ef+=0xf),_0x2f601f['fontSize'](0xf)['text']('PICKING\x20LIST',_0x47046c,_0x37b0ef+=0x32),_0x2f601f[_0x1ff4aa(0x170)](0xa)[_0x1ff4aa(0x1cb)](_0x1ff4aa(0x113),_0x47046c,_0x37b0ef+=0x1e),_0x2f601f[_0x1ff4aa(0x170)](0x9)[_0x1ff4aa(0x1cb)](_0x1ff4aa(0x1d8)+_0x5c7d01[_0x1ff4aa(0x120)],_0x47046c,_0x37b0ef+=0x28),_0x2f601f[_0x1ff4aa(0x170)](0x9)[_0x1ff4aa(0x1cb)](_0x1ff4aa(0x1d0)+_0x5c7d01['customer'],0x190,0xd2,{'underline':!![]}),_0x2f601f[_0x1ff4aa(0x170)](0x9)[_0x1ff4aa(0x1cb)](_0x1ff4aa(0x140),_0x47046c,_0x37b0ef+=0xb),_0x2f601f[_0x1ff4aa(0x170)](0x9)['text'](_0x1ff4aa(0x18b)+_0x5c7d01[_0x1ff4aa(0x182)],_0x47046c,_0x37b0ef+=0xb),_0x2f601f[_0x1ff4aa(0x170)](0x9)[_0x1ff4aa(0x1cb)](_0x1ff4aa(0x151)+_0x5c7d01['invoice'],_0x47046c,_0x37b0ef+=0xb);var _0x1b2535='',_0x4fa3f0='',_0x43f265=0x0,_0x2d777f;console[_0x1ff4aa(0x125)](_0x5c7d01['warehouse_cat']);_0x5c7d01[_0x1ff4aa(0x180)]=='GS'?(_0x5c7d01[_0x1ff4aa(0x141)]==_0x1ff4aa(0x11a)?warecode='DG':warecode='FG',_0x1b2535={'headers':[{'label':_0x1ff4aa(0x108),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x1ff4aa(0x172),'property':_0x1ff4aa(0x127),'width':0xc8,'renderer':null},{'label':_0x1ff4aa(0x14e),'property':_0x1ff4aa(0x1b9),'width':0x3c,'renderer':null},{'label':_0x1ff4aa(0x178),'property':_0x1ff4aa(0x196),'width':0x3c,'renderer':null},{'label':_0x1ff4aa(0x101),'property':_0x1ff4aa(0x156),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3f,'renderer':null},{'label':_0x1ff4aa(0x1b5),'property':_0x1ff4aa(0x1b3),'width':0x3f,'renderer':null}],'datas':[]},_0x5c7d01[_0x1ff4aa(0x11f)][_0x1ff4aa(0x197)](_0x221f71=>{const _0xcb7be1=_0x1ff4aa;let _0x26b931='';var _0x42c355=0x0;_0x4fa3f0={'itemcode':_0x221f71[_0xcb7be1(0x18c)],'itemdescription':_0x221f71['product_name'],'qty':_0x221f71['return_qty'],'unit':_0x221f71[_0xcb7be1(0x196)],'expdate':_0x221f71[_0xcb7be1(0x1ad)],'batchno':_0x221f71[_0xcb7be1(0x123)],'binloc':warecode+_0x221f71[_0xcb7be1(0x143)]},_0x43f265+=_0x221f71[_0xcb7be1(0x14c)],console['log'](_0x221f71),_0x1b2535[_0xcb7be1(0x18a)][_0xcb7be1(0x1d1)](_0x4fa3f0);})):(_0x1b2535={'headers':[{'label':_0x1ff4aa(0x108),'property':_0x1ff4aa(0x1cc),'width':0x3c,'renderer':null},{'label':_0x1ff4aa(0x172),'property':_0x1ff4aa(0x127),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x1ff4aa(0x1b9),'width':0x3c,'renderer':null},{'label':_0x1ff4aa(0x178),'property':_0x1ff4aa(0x196),'width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':_0x1ff4aa(0x156),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3f,'renderer':null}],'datas':[]},_0x5c7d01[_0x1ff4aa(0x12a)][_0x1ff4aa(0x197)](_0x33a657=>{const _0x273abf=_0x1ff4aa;let _0x5c7538='';var _0x36741b=0x0;_0x4fa3f0={'itemcode':_0x33a657[_0x273abf(0x18c)],'itemdescription':_0x33a657[_0x273abf(0x128)],'qty':_0x33a657[_0x273abf(0x14c)],'unit':_0x33a657['unit'],'expdate':_0x33a657[_0x273abf(0x1ad)],'batchno':_0x33a657['batch_code']},_0x43f265+=_0x33a657[_0x273abf(0x14c)],console[_0x273abf(0x125)](_0x43f265+_0x273abf(0x118)+_0x33a657[_0x273abf(0x14c)]),_0x1b2535['datas'][_0x273abf(0x1d1)](_0x4fa3f0);}));_0x2f601f[_0x1ff4aa(0x11c)](_0x1b2535,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x2f601f[_0x1ff4aa(0x1a1)](_0x1ff4aa(0x14b))[_0x1ff4aa(0x170)](0x8),'prepareRow':(_0x109501,_0x49cd4e,_0xdfa7eb,_0x4f7640)=>_0x2f601f[_0x1ff4aa(0x1a1)](_0x1ff4aa(0x12e))[_0x1ff4aa(0x170)](0x8)});var _0x326ef0=_0x2f601f['y'],_0x375ad4=_0x2f601f['x'];_0x2f601f[_0x1ff4aa(0x170)](0xa)[_0x1ff4aa(0x1cb)](_0x1ff4aa(0x145),_0x375ad4+0x7d,_0x326ef0),_0x2f601f['fontSize'](0xa)['text'](_0x1ff4aa(0x11e),_0x375ad4,_0x326ef0+=0x190),_0x2f601f[_0x1ff4aa(0x170)](0xa)[_0x1ff4aa(0x1cb)](_0x43f265,_0x375ad4+0x37,_0x326ef0,{'underline':!![]}),_0x2f601f[_0x1ff4aa(0x170)](0xa)[_0x1ff4aa(0x1cb)](_0x1ff4aa(0x193),_0x375ad4,_0x326ef0+0x1e),_0x2f601f['fontSize'](0xa)['text'](_0x1ff4aa(0x16f),_0x375ad4+0x32,_0x326ef0+0x1e,{'underline':!![]});let _0x43dedb=_0x2f601f[_0x1ff4aa(0x1be)]();for(let _0x48872a=0x0;_0x48872a<_0x43dedb[_0x1ff4aa(0x171)];_0x48872a++){_0x2f601f[_0x1ff4aa(0x144)](_0x48872a);let _0x614ada=_0x2f601f['page'][_0x1ff4aa(0x1b6)][_0x1ff4aa(0x19a)];_0x2f601f[_0x1ff4aa(0x15c)]['margins'][_0x1ff4aa(0x19a)]=0x0,_0x2f601f[_0x1ff4aa(0x1cb)]('Page:\x20'+(_0x48872a+0x1)+_0x1ff4aa(0x139)+_0x43dedb['count'],0x0,_0x2f601f[_0x1ff4aa(0x15c)][_0x1ff4aa(0x100)]-_0x614ada/0x2,{'align':_0x1ff4aa(0x1bd)}),_0x2f601f[_0x1ff4aa(0x15c)]['margins'][_0x1ff4aa(0x19a)]=_0x614ada;}const _0x165468=_0x2f601f['y'],_0x3175c0=_0x2f601f['x'];_0x2f601f[_0x1ff4aa(0x1c6)]();}catch(_0x27715e){console[_0x1ff4aa(0x125)](_0x27715e),_0x3442e5[_0x1ff4aa(0x19b)](0x1f4)[_0x1ff4aa(0x1d2)](_0x1ff4aa(0x132));}}),router[a0_0x431bbd(0x17d)]('/pdf_puchases/:id',auth,async(_0x5e1338,_0x350573)=>{const _0x18708d=a0_0x431bbd;try{const {username:_0x37c210,email:_0x4ea8aa,role:_0x49b86a}=_0x5e1338[_0x18708d(0x174)],_0x4242d0=_0x5e1338[_0x18708d(0x174)],_0x4f9d80=await profile[_0x18708d(0x1b7)]({'email':_0x4242d0[_0x18708d(0x1a3)]}),_0x323d94=await master_shop['find'](),_0x966f1c=_0x5e1338[_0x18708d(0x109)]['id'],_0xa2f8f4=await purchases['findById'](_0x966f1c),_0x49f236=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x350573[_0x18708d(0x16c)](_0x18708d(0x19f),_0x18708d(0x10e)+_0x966f1c+_0x18708d(0x17a)),_0x350573[_0x18708d(0x16c)](_0x18708d(0x19c),_0x18708d(0x18e));var _0x400000=0x14,_0x558820=0x3c;_0x49f236[_0x18708d(0x114)](_0x350573),_0x49f236[_0x18708d(0x168)](_0x18708d(0x1b1)+_0x323d94[0x0][_0x18708d(0x168)],0x14,0x0,{'fit':[0x64,0x64]}),_0x49f236[_0x18708d(0x170)](0x14)[_0x18708d(0x1cb)](_0x18708d(0x116),_0x400000,_0x558820),_0x49f236[_0x18708d(0x170)](0xa)[_0x18708d(0x1cb)](_0x18708d(0x186),_0x400000,_0x558820+=0xf),_0x49f236['fontSize'](0xf)[_0x18708d(0x1cb)](_0x18708d(0x187),_0x400000,_0x558820+=0x32),_0x49f236[_0x18708d(0x170)](0xa)['text'](_0x18708d(0x189),_0x400000,_0x558820+=0x14),_0x49f236['fontSize'](0x9)[_0x18708d(0x1cb)](_0x18708d(0x12f),_0x400000,_0x558820+=0x2d),_0x49f236[_0x18708d(0x170)](0x9)['text'](_0x18708d(0x15b)+_0xa2f8f4[_0x18708d(0x141)],_0x400000+0x3f,_0x558820),_0x49f236[_0x18708d(0x170)](0x9)['text'](_0x18708d(0xff)+_0xa2f8f4[_0x18708d(0x167)],_0x400000+0x17c,_0x558820,{'underline':!![]}),_0x49f236[_0x18708d(0x170)](0x9)[_0x18708d(0x1cb)](_0x18708d(0x117),_0x400000,_0x558820+=0xb),_0x49f236[_0x18708d(0x170)](0x9)[_0x18708d(0x1cb)](_0x18708d(0x15b)+_0xa2f8f4[_0x18708d(0x182)],_0x400000+0x3f,_0x558820),_0x49f236[_0x18708d(0x170)](0x9)['text'](_0x18708d(0x1ce),_0x400000,_0x558820+=0xb),_0x49f236[_0x18708d(0x170)](0x9)[_0x18708d(0x1cb)](_0x18708d(0x15b)+_0xa2f8f4[_0x18708d(0x131)],_0x400000+0x3f,_0x558820);const _0x419abb={'headers':[{'label':_0x18708d(0x108),'property':_0x18708d(0x1cc),'width':0x3c,'renderer':null},{'label':_0x18708d(0x172),'property':_0x18708d(0x127),'width':0x96,'renderer':null},{'label':_0x18708d(0x175),'property':'qty','width':0x2d,'renderer':null},{'label':_0x18708d(0x178),'property':'unit','width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':_0x18708d(0x156),'width':0x46,'renderer':null},{'label':_0x18708d(0x13f),'property':_0x18708d(0x1a8),'width':0x3c,'renderer':null},{'label':_0x18708d(0x1b5),'property':_0x18708d(0x1b3),'width':0x3c,'renderer':null},{'label':_0x18708d(0x10c),'property':'DelCode','width':0x3f,'renderer':null}],'datas':[]};var _0x580511=0x0;let _0x13866f='';_0xa2f8f4[_0x18708d(0x166)][_0x18708d(0x197)](_0xf3854f=>{const _0x3b9f7c=_0x18708d;let _0x4d6367='';var _0x5de2ee=0x0;const _0x476a25={'itemcode':_0xf3854f[_0x3b9f7c(0x18c)],'itemdescription':_0xf3854f['product_name'],'qty':_0xf3854f[_0x3b9f7c(0x112)],'unit':_0xf3854f['standard_unit'],'expdate':_0xf3854f['expiry_date'],'batchno':_0xf3854f[_0x3b9f7c(0x123)],'binloc':_0xf3854f['storage']+_0xf3854f[_0x3b9f7c(0x15f)]+_0xf3854f[_0x3b9f7c(0x143)]+_0xf3854f['bin']+_0xf3854f[_0x3b9f7c(0x184)][0x0]+_0xf3854f[_0x3b9f7c(0x137)],'DelCode':_0xf3854f[_0x3b9f7c(0x11d)]};_0x580511+=_0xf3854f[_0x3b9f7c(0x112)],_0x419abb[_0x3b9f7c(0x18a)][_0x3b9f7c(0x1d1)](_0x476a25);}),_0x49f236[_0x18708d(0x11c)](_0x419abb,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x49f236[_0x18708d(0x1a1)](_0x18708d(0x14b))[_0x18708d(0x170)](0x8),'prepareRow':(_0x5f1c40,_0x277607,_0x3e9f66,_0xbfc8c3)=>_0x49f236[_0x18708d(0x1a1)]('Helvetica')[_0x18708d(0x170)](0x8)});var _0x510b18=_0x49f236['y'],_0x22c4cd=_0x49f236['x'];_0x49f236[_0x18708d(0x170)](0xa)['text'](_0x18708d(0x145),_0x22c4cd+0x7d,_0x510b18),_0x49f236['fontSize'](0xa)[_0x18708d(0x1cb)](_0x18708d(0x11e),_0x22c4cd,_0x510b18+=0x15e),_0x49f236[_0x18708d(0x170)](0xa)[_0x18708d(0x1cb)](_0x580511,_0x22c4cd+0xf0,_0x510b18,{'underline':!![]}),_0x49f236[_0x18708d(0x170)](0xa)['text'](_0x18708d(0x1aa),_0x22c4cd,_0x510b18+0x28),_0x49f236[_0x18708d(0x170)](0xa)[_0x18708d(0x1cb)](_0x18708d(0x161),_0x22c4cd+0x40,_0x510b18+0x28,{'underline':!![]}),_0x49f236[_0x18708d(0x170)](0xa)['text']('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x22c4cd+0x40,_0x510b18+0x32);let _0x2575d0=_0x49f236[_0x18708d(0x1be)]();for(let _0x143120=0x0;_0x143120<_0x2575d0['count'];_0x143120++){_0x49f236[_0x18708d(0x144)](_0x143120);let _0x1cb9e7=_0x49f236[_0x18708d(0x15c)][_0x18708d(0x1b6)]['bottom'];_0x49f236[_0x18708d(0x15c)]['margins'][_0x18708d(0x19a)]=0x0,_0x49f236['text']('Page:\x20'+(_0x143120+0x1)+_0x18708d(0x139)+_0x2575d0[_0x18708d(0x171)],0x0,_0x49f236[_0x18708d(0x15c)]['height']-_0x1cb9e7/0x2,{'align':_0x18708d(0x1bd)}),_0x49f236['page'][_0x18708d(0x1b6)][_0x18708d(0x19a)]=_0x1cb9e7;}const _0x52c4ae=_0x49f236['y'],_0x465882=_0x49f236['x'];_0x49f236[_0x18708d(0x1c6)]();}catch(_0x5a7585){console[_0x18708d(0x125)](_0x5a7585),_0x350573[_0x18708d(0x19b)](0x1f4)[_0x18708d(0x1d2)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x431bbd(0x17d)](a0_0x431bbd(0x1d5),auth,async(_0x4aae4d,_0x65dd94)=>{const _0x1e162b=a0_0x431bbd;try{const {username:_0x421961,email:_0x5045af,role:_0x4630d8}=_0x4aae4d[_0x1e162b(0x174)],_0x411424=_0x4aae4d[_0x1e162b(0x174)],_0xbc2ccd=await profile['findOne']({'email':_0x411424[_0x1e162b(0x1a3)]}),_0x4fb754=await master_shop['find'](),_0x1a0ef1=_0x4aae4d['params']['id'],_0x1bef43=await sales[_0x1e162b(0x1cd)](_0x1a0ef1),_0xadaec1=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x263d3b;_0x263d3b=_0x1e162b(0x133);_0x1bef43[_0x1e162b(0x19e)]=='True'&&(_0x263d3b=_0x1e162b(0x162));_0x65dd94[_0x1e162b(0x16c)](_0x1e162b(0x19f),_0x1e162b(0x10e)+_0x1a0ef1+_0x1e162b(0x17a)),_0x65dd94[_0x1e162b(0x16c)](_0x1e162b(0x19c),_0x1e162b(0x18e));var _0x2938da=0x14,_0x2b8a9f=0x64;_0xadaec1['pipe'](_0x65dd94),_0xadaec1[_0x1e162b(0x168)](_0x1e162b(0x1b1)+_0x4fb754[0x0][_0x1e162b(0x168)],0x14,0x0,{'fit':[0x64,0x64]}),_0xadaec1['fontSize'](0x14)[_0x1e162b(0x1cb)](_0x1e162b(0x116),_0x2938da,_0x2b8a9f),_0xadaec1['fontSize'](0xa)['text']('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x2938da,_0x2b8a9f+=0xf),_0xadaec1[_0x1e162b(0x170)](0xf)[_0x1e162b(0x1cb)](_0x263d3b,_0x2938da,_0x2b8a9f+=0x32),_0xadaec1[_0x1e162b(0x170)](0xa)[_0x1e162b(0x1cb)](_0x1e162b(0x1ba),_0x2938da,_0x2b8a9f+=0x14),_0xadaec1[_0x1e162b(0x170)](0x9)[_0x1e162b(0x1cb)]('Date\x20',_0x2938da,_0x2b8a9f+=0x19),_0xadaec1[_0x1e162b(0x170)](0x9)['text'](_0x1e162b(0x15b)+_0x1bef43[_0x1e162b(0x182)],_0x2938da+0x3f,_0x2b8a9f),_0xadaec1[_0x1e162b(0x170)](0x9)[_0x1e162b(0x1cb)]('REF\x20MRIS#\x20',_0x2938da,_0x2b8a9f+=0xb),_0xadaec1['fontSize'](0x9)[_0x1e162b(0x1cb)]('\x20:\x20'+_0x1bef43['invoice'],_0x2938da+0x3f,_0x2b8a9f);const _0x33834f={'headers':[{'label':_0x1e162b(0x160),'property':'itemcode','align':_0x1e162b(0x1bd),'width':0x2d,'renderer':null},{'label':_0x1e162b(0x148),'property':_0x1e162b(0x127),'align':_0x1e162b(0x1bd),'width':0x64,'renderer':null},{'label':_0x1e162b(0x152),'property':_0x1e162b(0x106),'align':_0x1e162b(0x1bd),'width':0x28,'renderer':null},{'label':_0x1e162b(0x154),'property':_0x1e162b(0x183),'align':'center','width':0x28,'renderer':null},{'label':_0x1e162b(0x178),'property':_0x1e162b(0x196),'align':'center','width':0x28,'renderer':null},{'label':'LOCATION','property':'blocation','align':_0x1e162b(0x1bd),'width':0x32,'renderer':null},{'label':_0x1e162b(0x15e),'property':_0x1e162b(0x13e),'align':_0x1e162b(0x1bd),'width':0x3c,'renderer':null},{'label':_0x1e162b(0x146),'property':'expdate','align':_0x1e162b(0x1bd),'width':0x3c,'renderer':null},{'label':_0x1e162b(0x12d),'property':_0x1e162b(0x190),'align':_0x1e162b(0x1bd),'width':0x3f,'renderer':null},{'label':_0x1e162b(0x164),'property':_0x1e162b(0x1b0),'align':_0x1e162b(0x1bd),'width':0x3f,'renderer':null}],'datas':[]};var _0x55fd24=0x0;let _0x3e6bb5='';var _0x39a797=0x0,_0x2938da=0x1;_0x1bef43[_0x1e162b(0x17b)][_0x1e162b(0x197)](_0x4905b4=>{const _0x54c175=_0x1e162b,_0x2439f6=new Date(_0x4905b4['production_date']),_0x22d6fb={'year':'numeric','month':'short','day':'numeric'},_0x2dbc8c=_0x2439f6[_0x54c175(0x1bf)](_0x54c175(0x165),_0x22d6fb),_0x186b40=new Date(_0x4905b4[_0x54c175(0x1ad)]),_0x5b5296={'year':_0x54c175(0x169),'month':_0x54c175(0x150),'day':_0x54c175(0x169)},_0x4fca0a=_0x186b40['toLocaleDateString'](_0x54c175(0x165),_0x5b5296),_0x32c50d=new Date(_0x4905b4[_0x54c175(0x13a)]),_0x189efa={'year':_0x54c175(0x169),'month':_0x54c175(0x150),'day':_0x54c175(0x169)};var _0x114f3e=_0x32c50d[_0x54c175(0x1bf)](_0x54c175(0x165),_0x189efa);typeof _0x4905b4[_0x54c175(0x13a)]==_0x54c175(0x1db)&&(_0x114f3e='');const _0xf66e96={'itemcode':_0x4905b4[_0x54c175(0x18c)],'itemdescription':_0x4905b4[_0x54c175(0x128)],'rqty':_0x4905b4['requested_qty'],'iqty':_0x4905b4[_0x54c175(0x112)],'unit':_0x4905b4[_0x54c175(0x196)],'blocation':_0x4905b4['storage']+_0x4905b4[_0x54c175(0x15f)]+_0x4905b4[_0x54c175(0x143)]+_0x4905b4['bin']+_0x4905b4[_0x54c175(0x184)][0x0]+_0x4905b4['floorlevel'],'proddate':_0x2dbc8c,'expdate':_0x4fca0a,'del_date':_0x114f3e,'del_code':_0x4905b4['delivery_code']};_0x2938da++,_0x33834f[_0x54c175(0x18a)]['push'](_0xf66e96);}),_0xadaec1[_0x1e162b(0x11c)](_0x33834f,{'x':_0x2938da+0x11,'y':_0x2b8a9f+=0x1e,'prepareHeader':()=>_0xadaec1[_0x1e162b(0x1a1)](_0x1e162b(0x14b))[_0x1e162b(0x170)](6.5),'prepareRow':(_0x3aadff,_0x31e1ed,_0x40ef0d,_0x5b3519,_0x2ea400)=>{const _0x2a4955=_0x1e162b,{x:_0x1fb77f,y:_0x569040,width:_0x577a91,height:_0x456568}=_0x2ea400;_0xadaec1['font'](_0x2a4955(0x12e))['fontSize'](0x8),_0xadaec1['lineWidth'](0.5)[_0x2a4955(0x1dc)](_0x1fb77f,_0x569040)['lineTo'](_0x1fb77f,_0x569040+_0x456568)['stroke']();}});var _0x1992b7=_0xadaec1['y'],_0x106336=_0xadaec1['x'],_0x3714b6=_0x1992b7-=0x8;_0xadaec1[_0x1e162b(0x17f)](0x5),_0xadaec1[_0x1e162b(0x111)]('butt')[_0x1e162b(0x1dc)](0x240,_0x3714b6)['lineTo'](0x11,_0x3714b6)[_0x1e162b(0x188)](),_0xadaec1['fontSize'](0xa)[_0x1e162b(0x1cb)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x106336+0x7d,_0x1992b7+=0xf),_0xadaec1[_0x1e162b(0x170)](0xb)[_0x1e162b(0x1cb)](_0x1e162b(0x126),_0x106336,_0x1992b7+=0x15e),_0xadaec1[_0x1e162b(0x170)](0xa)[_0x1e162b(0x1cb)](_0x1e162b(0x10a),_0x106336+0x52,_0x1992b7,{'underline':!![]}),_0xadaec1[_0x1e162b(0x170)](0xa)[_0x1e162b(0x1cb)]('Picked\x20By',_0x106336,_0x1992b7+=0x19),_0xadaec1[_0x1e162b(0x170)](0xa)[_0x1e162b(0x1cb)](_0x1e162b(0x15b),_0x106336+0x4b,_0x1992b7),_0xadaec1[_0x1e162b(0x170)](0xa)[_0x1e162b(0x1cb)]('\x20'[_0x1e162b(0x1af)](0x3c),_0x106336+0x50,_0x1992b7,{'underline':!![]}),_0xadaec1['fontSize'](0xa)[_0x1e162b(0x1cb)](_0x1e162b(0x142),_0x106336,_0x1992b7+=0x32),_0xadaec1[_0x1e162b(0x170)](0xa)[_0x1e162b(0x1cb)](_0x1e162b(0x15b),_0x106336+0x4b,_0x1992b7),_0xadaec1[_0x1e162b(0x170)](0xa)['text'](_0x1e162b(0x11b),_0x106336+0x50,_0x1992b7,{'underline':!![]}),_0xadaec1['fontSize'](0xa)['text'](_0x1e162b(0x1d7),_0x106336+0x50,_0x1992b7+0xc);let _0x1b2715=_0xadaec1[_0x1e162b(0x1be)]();for(let _0x44f5af=0x0;_0x44f5af<_0x1b2715[_0x1e162b(0x171)];_0x44f5af++){_0xadaec1[_0x1e162b(0x144)](_0x44f5af);let _0x10fa85=_0xadaec1[_0x1e162b(0x15c)][_0x1e162b(0x1b6)][_0x1e162b(0x19a)];_0xadaec1[_0x1e162b(0x15c)]['margins'][_0x1e162b(0x19a)]=0x0,_0xadaec1[_0x1e162b(0x1cb)]('Page:\x20'+(_0x44f5af+0x1)+'\x20of\x20'+_0x1b2715[_0x1e162b(0x171)],0x0,_0xadaec1[_0x1e162b(0x15c)][_0x1e162b(0x100)]-_0x10fa85/0x2,{'align':_0x1e162b(0x1bd)}),_0xadaec1['page'][_0x1e162b(0x1b6)][_0x1e162b(0x19a)]=_0x10fa85;}const _0x14e4e0=_0xadaec1['y'],_0x510036=_0xadaec1['x'];_0xadaec1['end']();}catch(_0x51fd48){console[_0x1e162b(0x125)](_0x51fd48),_0x65dd94['status'](0x1f4)[_0x1e162b(0x1d2)](_0x1e162b(0x132));}}),router['get'](a0_0x431bbd(0x155),auth,async(_0x530627,_0x328a59)=>{const _0x5761d2=a0_0x431bbd;try{const {username:_0x445851,email:_0x1cef09,role:_0x292c3a}=_0x530627[_0x5761d2(0x174)],_0x1fdc2d=_0x530627['user'],_0x185c1d=await profile[_0x5761d2(0x1b7)]({'email':_0x1fdc2d[_0x5761d2(0x1a3)]}),_0x1fd934=await master_shop[_0x5761d2(0x14d)](),_0x4e3d10=_0x530627[_0x5761d2(0x109)]['id'],_0x11615b=await adjustment['findById'](_0x4e3d10);var _0x1b3005,_0x228dad;_0x1b3005=_0x5761d2(0x133),_0x228dad=_0x5761d2(0x1ab);_0x11615b[_0x5761d2(0x19e)]==_0x5761d2(0x1c3)&&(_0x1b3005=_0x5761d2(0x138),_0x228dad='');const _0x179ac6=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x328a59[_0x5761d2(0x16c)](_0x5761d2(0x19f),_0x5761d2(0x10e)+_0x4e3d10+_0x5761d2(0x17a)),_0x328a59[_0x5761d2(0x16c)](_0x5761d2(0x19c),_0x5761d2(0x18e));var _0x278977=0x14,_0x3a17c5=0x3c;_0x179ac6['pipe'](_0x328a59),_0x179ac6[_0x5761d2(0x168)](_0x5761d2(0x1b1)+_0x1fd934[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x179ac6[_0x5761d2(0x170)](0x14)['text'](_0x5761d2(0x116),_0x278977,_0x3a17c5),_0x179ac6[_0x5761d2(0x170)](0xa)[_0x5761d2(0x1cb)](_0x5761d2(0x186),_0x278977,_0x3a17c5+=0xf),_0x179ac6[_0x5761d2(0x170)](0xf)[_0x5761d2(0x1cb)](_0x1b3005,_0x278977,_0x3a17c5+=0x32),_0x179ac6[_0x5761d2(0x170)](0xa)[_0x5761d2(0x1cb)](_0x228dad,_0x278977,_0x3a17c5+=0x14),_0x179ac6[_0x5761d2(0x170)](0x9)[_0x5761d2(0x1cb)](_0x5761d2(0x12f),_0x278977,_0x3a17c5+=0x28),_0x179ac6['fontSize'](0x9)['text']('\x20:\x20'+_0x11615b[_0x5761d2(0x141)],_0x278977+0x3f,_0x3a17c5),_0x179ac6[_0x5761d2(0x170)](0x9)[_0x5761d2(0x1cb)](_0x5761d2(0x117),_0x278977,_0x3a17c5+=0xb),_0x179ac6[_0x5761d2(0x170)](0x9)[_0x5761d2(0x1cb)]('\x20:\x20'+_0x11615b[_0x5761d2(0x182)],_0x278977+0x3f,_0x3a17c5),_0x179ac6[_0x5761d2(0x170)](0x9)[_0x5761d2(0x1cb)](_0x5761d2(0x1ce),_0x278977,_0x3a17c5+=0xb),_0x179ac6['fontSize'](0x9)['text']('\x20:\x20'+_0x11615b[_0x5761d2(0x131)],_0x278977+0x3f,_0x3a17c5);const _0x350065={'headers':[{'label':'Item\x20Code','property':_0x5761d2(0x1cc),'width':0x3c,'renderer':null},{'label':_0x5761d2(0x172),'property':_0x5761d2(0x127),'width':0x96,'renderer':null},{'label':_0x5761d2(0x14e),'property':'qty','width':0x3c,'renderer':null},{'label':_0x5761d2(0x178),'property':_0x5761d2(0x196),'width':0x3c,'renderer':null},{'label':_0x5761d2(0x1c2),'property':'proddate','width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x5761d2(0x1a8),'width':0x3f,'renderer':null},{'label':_0x5761d2(0x1b5),'property':_0x5761d2(0x1b3),'width':0x3f,'renderer':null}],'datas':[]};var _0xce5d6c=0x0,_0x50056a=0x0;_0x11615b[_0x5761d2(0x166)][_0x5761d2(0x197)](_0x3cb6cf=>{const _0x79d350=_0x5761d2;let _0x2c5f06='';const _0x59f40b=_0x3cb6cf[_0x79d350(0x1c8)];for(let _0x35f5c9=0x1;_0x35f5c9<=_0x59f40b;_0x35f5c9++){_0x59f40b==_0x35f5c9?_0x2c5f06+=_0x3cb6cf[_0x79d350(0x103)]:_0x2c5f06+=_0x3cb6cf['maxperunit']+',',_0x50056a+=_0x3cb6cf[_0x79d350(0x103)];}_0x2c5f06+=_0x79d350(0x18f)+_0x3cb6cf[_0x79d350(0x13b)];const _0x3db405={'itemcode':_0x3cb6cf[_0x79d350(0x18c)],'itemdescription':_0x3cb6cf[_0x79d350(0x128)],'qty':_0x3cb6cf[_0x79d350(0x194)],'unit':_0x3cb6cf[_0x79d350(0x196)],'proddate':_0x3cb6cf[_0x79d350(0x159)],'batchno':_0x3cb6cf[_0x79d350(0x123)],'binloc':_0x3cb6cf['storage']+_0x3cb6cf['rack']+_0x3cb6cf[_0x79d350(0x143)]+_0x3cb6cf['bin']+_0x3cb6cf[_0x79d350(0x184)][0x0]+_0x3cb6cf[_0x79d350(0x137)]};_0xce5d6c+=_0x3cb6cf[_0x79d350(0x194)],_0x350065['datas']['push'](_0x3db405);}),_0x179ac6[_0x5761d2(0x11c)](_0x350065,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x179ac6['font'](_0x5761d2(0x14b))[_0x5761d2(0x170)](0x8),'prepareRow':(_0x478715,_0x2f916d,_0x147373,_0x50761e)=>_0x179ac6[_0x5761d2(0x1a1)](_0x5761d2(0x12e))[_0x5761d2(0x170)](0x8)});var _0x44775d=_0x179ac6['y'],_0x191530=_0x179ac6['x'];_0x179ac6['fontSize'](0xa)[_0x5761d2(0x1cb)](_0x5761d2(0x145),_0x191530+0x7d,_0x44775d),_0x179ac6[_0x5761d2(0x170)](0xa)[_0x5761d2(0x1cb)](_0x5761d2(0x136),_0x191530,_0x44775d+=0x136),_0x179ac6[_0x5761d2(0x170)](0xa)[_0x5761d2(0x1cb)](_0xce5d6c,_0x191530+0xc8,_0x44775d),_0x179ac6[_0x5761d2(0x170)](0xa)[_0x5761d2(0x1cb)](_0x5761d2(0x1c0),_0x191530,_0x44775d+=0x19),_0x179ac6[_0x5761d2(0x170)](0xa)[_0x5761d2(0x1cb)]('\x20'[_0x5761d2(0x1af)](0x3c),_0x191530+0x3e,_0x44775d,{'underline':!![]}),_0x179ac6[_0x5761d2(0x170)](0xa)[_0x5761d2(0x1cb)](_0x5761d2(0x1ac),_0x191530,_0x44775d+=0x32),_0x179ac6[_0x5761d2(0x170)](0xa)[_0x5761d2(0x1cb)](_0x5761d2(0x15b),_0x191530+0x37,_0x44775d),_0x179ac6[_0x5761d2(0x170)](0xa)[_0x5761d2(0x1cb)](_0x5761d2(0x11b),_0x191530+0x3c,_0x44775d,{'underline':!![]}),_0x179ac6[_0x5761d2(0x170)](0xa)[_0x5761d2(0x1cb)](_0x5761d2(0x1d7),_0x191530+0x3c,_0x44775d+0xc);let _0x4ad3ed=_0x179ac6[_0x5761d2(0x1be)]();for(let _0x3fc27a=0x0;_0x3fc27a<_0x4ad3ed[_0x5761d2(0x171)];_0x3fc27a++){_0x179ac6[_0x5761d2(0x144)](_0x3fc27a);let _0x276ee5=_0x179ac6[_0x5761d2(0x15c)][_0x5761d2(0x1b6)][_0x5761d2(0x19a)];_0x179ac6[_0x5761d2(0x15c)][_0x5761d2(0x1b6)][_0x5761d2(0x19a)]=0x0,_0x179ac6['text'](_0x5761d2(0x1c4)+(_0x3fc27a+0x1)+_0x5761d2(0x139)+_0x4ad3ed[_0x5761d2(0x171)],0x0,_0x179ac6['page'][_0x5761d2(0x100)]-_0x276ee5/0x2,{'align':_0x5761d2(0x1bd)}),_0x179ac6[_0x5761d2(0x15c)][_0x5761d2(0x1b6)]['bottom']=_0x276ee5;}const _0x55a06d=_0x179ac6['y'],_0xed9de=_0x179ac6['x'];_0x179ac6['end']();}catch(_0x1d0326){console[_0x5761d2(0x125)](_0x1d0326),_0x328a59[_0x5761d2(0x19b)](0x1f4)[_0x5761d2(0x1d2)](_0x5761d2(0x132));}}),router[a0_0x431bbd(0x17d)](a0_0x431bbd(0x1a5),auth,async(_0x18654d,_0x3a983b)=>{const _0x1c2945=a0_0x431bbd;try{const {username:_0x206dd6,email:_0x5ad23c,role:_0x1f005f}=_0x18654d[_0x1c2945(0x174)],_0x3385b5=_0x18654d['user'],_0x52149b=await profile['findOne']({'email':_0x3385b5['email']}),_0x2085d4=await master_shop[_0x1c2945(0x14d)](),_0x397b18=_0x18654d[_0x1c2945(0x109)]['id'],_0x10a0df=await transfers[_0x1c2945(0x1cd)](_0x397b18);var _0xcad57,_0x2ba3fb;_0xcad57=_0x1c2945(0x1da),_0x2ba3fb=_0x1c2945(0x16a);_0x10a0df[_0x1c2945(0x19e)]==_0x1c2945(0x1c3)&&(_0xcad57=_0x1c2945(0x1a6),_0x2ba3fb='');const _0xf3fc46=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3a983b['setHeader']('Content-disposition','inline;\x20filename=\x22OUT-'+_0x397b18+_0x1c2945(0x17a)),_0x3a983b[_0x1c2945(0x16c)](_0x1c2945(0x19c),_0x1c2945(0x18e));var _0x3a078d=0x14,_0x27bc5f=0x3c;_0xf3fc46[_0x1c2945(0x114)](_0x3a983b),_0xf3fc46[_0x1c2945(0x168)](_0x1c2945(0x1b1)+_0x2085d4[0x0][_0x1c2945(0x168)],0x14,0x0,{'fit':[0x64,0x64]}),_0xf3fc46[_0x1c2945(0x170)](0x14)[_0x1c2945(0x1cb)](_0x1c2945(0x116),_0x3a078d,_0x27bc5f),_0xf3fc46[_0x1c2945(0x170)](0xa)[_0x1c2945(0x1cb)](_0x1c2945(0x186),_0x3a078d,_0x27bc5f+=0xf),_0xf3fc46[_0x1c2945(0x170)](0xf)[_0x1c2945(0x1cb)](_0xcad57,_0x3a078d,_0x27bc5f+=0x32),_0xf3fc46[_0x1c2945(0x170)](0xa)[_0x1c2945(0x1cb)](_0x2ba3fb,_0x3a078d,_0x27bc5f+=0x14),_0xf3fc46[_0x1c2945(0x170)](0x9)[_0x1c2945(0x1cb)](_0x1c2945(0x192),_0x3a078d,_0x27bc5f+=0x28),_0xf3fc46[_0x1c2945(0x170)](0x9)[_0x1c2945(0x1cb)]('\x20\x20\x20:\x20'+_0x10a0df[_0x1c2945(0x1a2)],_0x3a078d+0x3f,_0x27bc5f),_0xf3fc46[_0x1c2945(0x170)](0x9)['text'](_0x1c2945(0x198),_0x3a078d,_0x27bc5f+=0xa),_0xf3fc46[_0x1c2945(0x170)](0x9)[_0x1c2945(0x1cb)](_0x1c2945(0x195)+_0x10a0df[_0x1c2945(0x14f)],_0x3a078d+0x3f,_0x27bc5f),_0xf3fc46[_0x1c2945(0x170)](0x9)['text'](_0x1c2945(0x117),_0x3a078d,_0x27bc5f+=0xb),_0xf3fc46['fontSize'](0x9)[_0x1c2945(0x1cb)]('\x20\x20\x20:\x20'+_0x10a0df[_0x1c2945(0x182)],_0x3a078d+0x3f,_0x27bc5f),_0xf3fc46['fontSize'](0x9)['text']('Control\x20Number\x20',_0x3a078d,_0x27bc5f+=0xb),_0xf3fc46[_0x1c2945(0x170)](0x9)[_0x1c2945(0x1cb)](_0x1c2945(0x195)+_0x10a0df[_0x1c2945(0x131)],_0x3a078d+0x3f,_0x27bc5f);const _0x32bc63={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x1c2945(0x1b4),'property':_0x1c2945(0x1cc),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x1c2945(0x153),'property':_0x1c2945(0x127),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0xf3fc46[_0x1c2945(0x11c)](_0x32bc63,{'x':0x5,'y':0x107,'prepareHeader':()=>_0xf3fc46[_0x1c2945(0x1a1)](_0x1c2945(0x14b))[_0x1c2945(0x170)](0x8),'prepareRow':(_0x281225,_0x51ec51,_0xc0245d,_0x3652d6)=>_0xf3fc46[_0x1c2945(0x1a1)](_0x1c2945(0x12e))[_0x1c2945(0x170)](0x8)});const _0x20f5a2={'headers':[{'label':_0x1c2945(0x108),'property':_0x1c2945(0x1cc),'width':0x3c,'renderer':null},{'label':_0x1c2945(0x172),'property':_0x1c2945(0x127),'width':0x96,'renderer':null},{'label':_0x1c2945(0x14e),'property':_0x1c2945(0x1b9),'width':0x28,'renderer':null},{'label':_0x1c2945(0x178),'property':_0x1c2945(0x196),'width':0x37,'renderer':null},{'label':_0x1c2945(0x1c2),'property':_0x1c2945(0x13e),'width':0x4b,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3f,'renderer':null},{'label':_0x1c2945(0x1b5),'property':_0x1c2945(0x15a),'width':0x3f,'renderer':null},{'label':_0x1c2945(0x1b5),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x477046=0x0;let _0x5251f6='';var _0x2943d8=0x0;_0x10a0df['product'][_0x1c2945(0x197)](_0x55b7be=>{const _0x395be4=_0x1c2945;var _0x1df7ab=_0x55b7be[_0x395be4(0x122)],_0x2f47a7;_0x2f47a7=_0x55b7be[_0x395be4(0x196)];_0x1df7ab=='S'&&(_0x2f47a7=_0x55b7be[_0x395be4(0x13b)]);const _0x56f5f1={'itemcode':_0x55b7be[_0x395be4(0x18c)],'itemdescription':_0x55b7be[_0x395be4(0x128)],'qty':_0x55b7be['to_quantity'],'unit':_0x2f47a7,'proddate':_0x55b7be['production_date'],'batchno':_0x55b7be['batch_code'],'binloc':_0x55b7be[_0x395be4(0x147)]+_0x55b7be['rack']+_0x55b7be[_0x395be4(0x16e)]+_0x55b7be[_0x395be4(0x1bc)]+_0x55b7be[_0x395be4(0x163)][0x0]+_0x55b7be[_0x395be4(0x18d)],'qtyFrom':_0x55b7be[_0x395be4(0x1c1)],'binlocFrom':_0x55b7be['from_storage']+_0x55b7be[_0x395be4(0x149)]+_0x55b7be['from_bay']+_0x55b7be[_0x395be4(0x1d3)]+_0x55b7be[_0x395be4(0x14a)][0x0]+_0x55b7be['from_floorlevel']};_0x477046+=_0x55b7be[_0x395be4(0x1c8)],_0x20f5a2[_0x395be4(0x18a)]['push'](_0x56f5f1);}),_0xf3fc46[_0x1c2945(0x11c)](_0x20f5a2,{'x':0x5,'y':0x118,'prepareHeader':()=>_0xf3fc46[_0x1c2945(0x1a1)](_0x1c2945(0x14b))[_0x1c2945(0x170)](0x8),'prepareRow':(_0x48933b,_0x4c9641,_0x326622,_0x1f83f7)=>_0xf3fc46[_0x1c2945(0x1a1)]('Helvetica')[_0x1c2945(0x170)](0x8)});var _0xd21890=_0xf3fc46['y'],_0x4ebdc0=_0xf3fc46['x'];_0xf3fc46['fontSize'](0xa)['text'](_0x1c2945(0x145),_0x4ebdc0+0x7d,_0xd21890),_0xf3fc46['fontSize'](0xa)[_0x1c2945(0x1cb)](_0x1c2945(0x11e),_0x4ebdc0,_0xd21890+=0x12c),_0xf3fc46['fontSize'](0xa)['text'](_0x477046,_0x4ebdc0+0xd7,_0xd21890,{'underline':!![]}),_0xf3fc46[_0x1c2945(0x170)](0xa)[_0x1c2945(0x1cb)](_0x1c2945(0x105),_0x4ebdc0,_0xd21890+=0x32),_0xf3fc46[_0x1c2945(0x170)](0xa)[_0x1c2945(0x1cb)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4ebdc0+0x3c,_0xd21890,{'underline':!![]}),_0xf3fc46['fontSize'](0xa)[_0x1c2945(0x1cb)](_0x1c2945(0x1d7),_0x4ebdc0+0x3c,_0xd21890+0xc);let _0x5e8849=_0xf3fc46[_0x1c2945(0x1be)]();for(let _0x2dad98=0x0;_0x2dad98<_0x5e8849[_0x1c2945(0x171)];_0x2dad98++){_0xf3fc46[_0x1c2945(0x144)](_0x2dad98);let _0x43919c=_0xf3fc46['page']['margins'][_0x1c2945(0x19a)];_0xf3fc46[_0x1c2945(0x15c)]['margins']['bottom']=0x0,_0xf3fc46['text'](_0x1c2945(0x1c4)+(_0x2dad98+0x1)+_0x1c2945(0x139)+_0x5e8849['count'],0x0,_0xf3fc46[_0x1c2945(0x15c)][_0x1c2945(0x100)]-_0x43919c/0x2,{'align':'center'}),_0xf3fc46[_0x1c2945(0x15c)][_0x1c2945(0x1b6)][_0x1c2945(0x19a)]=_0x43919c;}const _0x3b553b=_0xf3fc46['y'],_0x2f68e7=_0xf3fc46['x'];_0xf3fc46['end']();}catch(_0x5325d2){console[_0x1c2945(0x125)](_0x5325d2),_0x3a983b['status'](0x1f4)[_0x1c2945(0x1d2)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get'](a0_0x431bbd(0x13c),auth,async(_0x3d1166,_0x2044ee)=>{const _0x15443a=a0_0x431bbd;try{const _0x4a54fa=_0x2b9134=>_0x2b9134*0x48,_0x214204={'width':0x3,'height':0x1},_0x21a02b=await product[_0x15443a(0x14d)](),_0x3447c4=new PDFDocument({'margin':_0x4a54fa(0.75),'size':[_0x4a54fa(_0x214204['width']),_0x4a54fa(_0x214204['height'])],'bufferPages':!![]}),_0x316ea8=_0x21a02b[_0x15443a(0x1d9)];for(let _0x2edb0b=0x0;_0x2edb0b<=_0x316ea8;_0x2edb0b++){if(_0x2edb0b!=_0x21a02b['length']){const _0x4f2a23=_0x21a02b[_0x2edb0b][_0x15443a(0x1ca)],_0x2cf685=_0x21a02b[_0x2edb0b][_0x15443a(0x16d)],_0x4ccddd=_0x21a02b[_0x2edb0b]['secondary_code'],_0x2efb1e=_0x21a02b[_0x2edb0b][_0x15443a(0x18c)],_0x36fa28=new Canvas();JsBarcode(_0x36fa28,_0x2cf685,{'format':_0x15443a(0x12b),'height':0x32,'displayValue':!![],'text':_0x2cf685}),_0x3447c4[_0x15443a(0x168)](_0x36fa28[_0x15443a(0x119)](),0x0,0x0,{'width':0xd2}),_0x3447c4[_0x15443a(0x19d)]();}}_0x3447c4['pipe'](_0x2044ee),_0x3447c4[_0x15443a(0x1c6)]();}catch(_0x2547e2){console['error'](_0x15443a(0x17c),_0x2547e2),_0x2044ee[_0x15443a(0x19b)](0x1f4)[_0x15443a(0x1d2)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),module['exports']=router;