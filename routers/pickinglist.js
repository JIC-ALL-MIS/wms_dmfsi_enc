const a0_0x24dbbb=a0_0x3c03;function a0_0x3c03(_0x4432e4,_0x380d27){const _0x3301bd=a0_0x3301();return a0_0x3c03=function(_0x3c03a1,_0x293c0b){_0x3c03a1=_0x3c03a1-0x86;let _0x3ece12=_0x3301bd[_0x3c03a1];return _0x3ece12;},a0_0x3c03(_0x4432e4,_0x380d27);}(function(_0x357613,_0x751cba){const _0x3bf34d=a0_0x3c03,_0x49b680=_0x357613();while(!![]){try{const _0x3e9a10=-parseInt(_0x3bf34d(0xfa))/0x1+-parseInt(_0x3bf34d(0xa2))/0x2*(-parseInt(_0x3bf34d(0xfe))/0x3)+-parseInt(_0x3bf34d(0xa9))/0x4+-parseInt(_0x3bf34d(0xc1))/0x5+parseInt(_0x3bf34d(0x141))/0x6+-parseInt(_0x3bf34d(0xdb))/0x7*(-parseInt(_0x3bf34d(0xa3))/0x8)+parseInt(_0x3bf34d(0xe9))/0x9*(parseInt(_0x3bf34d(0xf0))/0xa);if(_0x3e9a10===_0x751cba)break;else _0x49b680['push'](_0x49b680['shift']());}catch(_0x5c2a94){_0x49b680['push'](_0x49b680['shift']());}}}(a0_0x3301,0x764c3));const express=require('express'),res=require(a0_0x24dbbb(0x13d)),app=express(),router=express[a0_0x24dbbb(0x95)](),multer=require(a0_0x24dbbb(0x99)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x24dbbb(0x8c)),auth=require('../middleware/auth'),users=require('../public/language/languages.json'),excelJS=require('exceljs'),xlsx=require(a0_0x24dbbb(0x12d)),PDFDocument=require(a0_0x24dbbb(0x118)),fs=require('fs'),blobStream=require(a0_0x24dbbb(0xb2)),JsBarcode=require(a0_0x24dbbb(0xfd)),{Canvas}=require('canvas');router['get'](a0_0x24dbbb(0xf5),auth,async(_0x49e55a,_0x944dc4)=>{const _0x2663b2=a0_0x24dbbb;try{const {username:_0x2251af,email:_0xa425ed,role:_0x25c939}=_0x49e55a[_0x2663b2(0xaa)],_0x588413=_0x49e55a[_0x2663b2(0xaa)],_0x9ba40a=await profile[_0x2663b2(0x10f)]({'email':_0x588413[_0x2663b2(0xd2)]}),_0x3d0d58=await master_shop[_0x2663b2(0x146)](),_0x1766b6=_0x49e55a['params']['id'],_0x5ec8fd=await sales_finished[_0x2663b2(0x120)](_0x1766b6);var _0x22918e;_0x22918e=_0x2663b2(0x12e);_0x5ec8fd[_0x2663b2(0xcf)]==_0x2663b2(0x110)&&(_0x22918e=_0x2663b2(0x143));const _0x49fcd6=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x944dc4[_0x2663b2(0x148)](_0x2663b2(0x96),'inline;\x20filename=\x22'+_0x5ec8fd[_0x2663b2(0xe5)]+_0x2663b2(0x125)),_0x944dc4['setHeader']('Content-type',_0x2663b2(0x14d));var _0xef05bb=0x14,_0x3b1e50=0x3c;_0x49fcd6['pipe'](_0x944dc4),_0x49fcd6['image'](_0x2663b2(0xb9)+_0x3d0d58[0x0][_0x2663b2(0xff)],0x14,0x0,{'fit':[0x64,0x64]}),_0x49fcd6[_0x2663b2(0x130)](0x14)['text'](_0x2663b2(0xb0),_0xef05bb,_0x3b1e50),_0x49fcd6['fontSize'](0xa)['text'](_0x2663b2(0x10e),_0xef05bb,_0x3b1e50+=0xf),_0x49fcd6[_0x2663b2(0x130)](0xf)['text'](_0x22918e,_0xef05bb,_0x3b1e50+=0x32),_0x49fcd6[_0x2663b2(0x130)](0xa)[_0x2663b2(0x93)]('(OUTGOING)',_0xef05bb,_0x3b1e50+=0x14),_0x49fcd6['fontSize'](0x9)[_0x2663b2(0x93)](_0x2663b2(0xa4),_0xef05bb,_0x3b1e50+=0x28),_0x49fcd6[_0x2663b2(0x130)](0x9)[_0x2663b2(0x93)](_0x2663b2(0x94)+_0x5ec8fd[_0x2663b2(0x14c)],_0xef05bb+0x3f,_0x3b1e50),_0x49fcd6['fontSize'](0x9)[_0x2663b2(0x93)](_0x2663b2(0x10c)+_0x5ec8fd['customer'],_0xef05bb+0x17c,_0x3b1e50,{'underline':!![]}),_0x49fcd6[_0x2663b2(0x130)](0x9)[_0x2663b2(0x93)](_0x2663b2(0x108),_0xef05bb,_0x3b1e50+=0xb),_0x49fcd6[_0x2663b2(0x130)](0x9)[_0x2663b2(0x93)](_0x2663b2(0x94)+_0x5ec8fd[_0x2663b2(0x92)],_0xef05bb+0x3f,_0x3b1e50),_0x49fcd6[_0x2663b2(0x130)](0x9)[_0x2663b2(0x93)](_0x2663b2(0xe7),_0xef05bb,_0x3b1e50+=0xb),_0x49fcd6['fontSize'](0x9)[_0x2663b2(0x93)]('\x20:\x20'+_0x5ec8fd[_0x2663b2(0xe5)],_0xef05bb+0x3f,_0x3b1e50);const _0x3c8f76={'headers':[{'label':'Item\x20Code','property':_0x2663b2(0x151),'width':0x3c,'renderer':null},{'label':_0x2663b2(0xbd),'property':_0x2663b2(0x139),'width':0xa5,'renderer':null},{'label':_0x2663b2(0xef),'property':_0x2663b2(0x154),'width':0x3c,'renderer':null},{'label':_0x2663b2(0x11b),'property':_0x2663b2(0xd8),'width':0x3c,'renderer':null},{'label':_0x2663b2(0xe6),'property':_0x2663b2(0x136),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x2663b2(0x156),'width':0x3f,'renderer':null},{'label':_0x2663b2(0xf2),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x5dc100=0x0;let _0x4cccc9='';var _0x52c944=0x0;_0x5ec8fd[_0x2663b2(0x14c)]==_0x2663b2(0x10a)?_0x4cccc9='DG':_0x4cccc9='FG';var _0x3b8579=0x0;_0x5ec8fd[_0x2663b2(0xbb)]['forEach'](_0x596932=>{const _0x40973f=_0x2663b2;console[_0x40973f(0x12c)](_0x596932);let _0x4c94b3='';const _0x419b57=_0x596932[_0x40973f(0x144)];for(let _0x162b2c=0x1;_0x162b2c<=_0x419b57;_0x162b2c++){_0x419b57==_0x162b2c?_0x4c94b3+=_0x596932['maxperunit']:_0x4c94b3+=_0x596932[_0x40973f(0xd6)]+',',_0x52c944+=_0x596932[_0x40973f(0xd6)];}_0x4c94b3+=_0x40973f(0xc3)+_0x596932[_0x40973f(0xed)];const _0x12d940={'itemcode':_0x596932[_0x40973f(0x8f)],'itemdescription':_0x596932[_0x40973f(0x86)],'qty':_0x596932['quantity'],'unit':_0x596932[_0x40973f(0xd8)],'proddate':_0x596932[_0x40973f(0x8a)],'batchno':_0x596932[_0x40973f(0x124)],'binloc':_0x4cccc9+_0x596932[_0x40973f(0xf3)]};_0x5dc100+=_0x596932[_0x40973f(0x144)],_0x3b8579+=0x1,_0x3c8f76[_0x40973f(0xf7)][_0x40973f(0x11a)](_0x12d940);}),_0x49fcd6[_0x2663b2(0xda)](_0x3c8f76,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x49fcd6[_0x2663b2(0xdf)](_0x2663b2(0x15a))['fontSize'](0x8),'prepareRow':(_0x18a72f,_0x299898,_0x2e4c37,_0x41c925)=>_0x49fcd6['font']('Helvetica')[_0x2663b2(0x130)](0x8)});var _0x1b3169=_0x49fcd6['y'],_0x35f9c0=_0x49fcd6['x'];_0x49fcd6[_0x2663b2(0x130)](0xa)[_0x2663b2(0x93)](_0x2663b2(0x11c),_0x35f9c0+0x7d,_0x1b3169),console[_0x2663b2(0x12c)]('x:\x20'+_0x35f9c0+'\x20y:\x20'+_0x1b3169+'\x20row:\x20'+_0x3b8579);const _0x49d023=_0x35f9c0*_0x3b8579;_0x49fcd6['fontSize'](0xa)[_0x2663b2(0x93)](_0x2663b2(0xab),_0x35f9c0,_0x1b3169+=0x15e-_0x49d023),_0x49fcd6[_0x2663b2(0x130)](0xa)[_0x2663b2(0x93)](_0x5dc100,_0x35f9c0+0xdc,_0x1b3169,{'underline':!![]}),_0x49fcd6[_0x2663b2(0x130)](0xa)[_0x2663b2(0x93)](_0x2663b2(0xec),_0x35f9c0,_0x1b3169+=0x19),_0x49fcd6['fontSize'](0xa)[_0x2663b2(0x93)]('\x20'['repeat'](0x3c),_0x35f9c0+0x3e,_0x1b3169,{'underline':!![]}),_0x49fcd6[_0x2663b2(0x130)](0xa)['text']('Checked\x20By:\x20',_0x35f9c0,_0x1b3169+=0x32),_0x49fcd6['fontSize'](0xa)[_0x2663b2(0x93)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x35f9c0+0x3c,_0x1b3169,{'underline':!![]}),_0x49fcd6[_0x2663b2(0x130)](0xa)[_0x2663b2(0x93)](_0x2663b2(0x140),_0x35f9c0+0x3c,_0x1b3169+0xc);let _0xb20a78=_0x49fcd6[_0x2663b2(0x14a)]();for(let _0x5f2b67=0x0;_0x5f2b67<_0xb20a78[_0x2663b2(0x97)];_0x5f2b67++){_0x49fcd6[_0x2663b2(0x111)](_0x5f2b67);let _0x1a2c85=_0x49fcd6[_0x2663b2(0x131)][_0x2663b2(0x132)]['bottom'];_0x49fcd6[_0x2663b2(0x131)]['margins']['bottom']=0x0,_0x49fcd6[_0x2663b2(0x93)](_0x2663b2(0x9c)+(_0x5f2b67+0x1)+_0x2663b2(0xf4)+_0xb20a78[_0x2663b2(0x97)],0x0,_0x49fcd6[_0x2663b2(0x131)][_0x2663b2(0x155)]-_0x1a2c85/0x2,{'align':_0x2663b2(0x11e)}),_0x49fcd6[_0x2663b2(0x131)]['margins'][_0x2663b2(0x152)]=_0x1a2c85;}const _0x26a233=_0x49fcd6['y'],_0x585e53=_0x49fcd6['x'];_0x49fcd6[_0x2663b2(0x100)]();}catch(_0x4b0402){console[_0x2663b2(0x12c)](_0x4b0402),_0x944dc4['status'](0x1f4)['send'](_0x2663b2(0xae));}}),router['get'](a0_0x24dbbb(0x14e),auth,async(_0x51e50a,_0x2110a6)=>{const _0x280838=a0_0x24dbbb;try{const {username:_0x15f74a,email:_0x4181c9,role:_0x371bd2}=_0x51e50a[_0x280838(0xaa)],_0xa752ff=_0x51e50a[_0x280838(0xaa)],_0x4d01fc=await profile[_0x280838(0x10f)]({'email':_0xa752ff[_0x280838(0xd2)]}),_0x38d1f6=await master_shop['find'](),_0x5c2dfa=_0x51e50a[_0x280838(0x126)]['id'],_0x1b7d27=await transfers_finished[_0x280838(0x120)](_0x5c2dfa);var _0x23dd01,_0x2be95a;_0x23dd01='Picking\x20List',_0x2be95a='(STOCKS\x20TRANSFER)';_0x1b7d27[_0x280838(0xcf)]==_0x280838(0x110)&&(_0x23dd01=_0x280838(0x127),_0x2be95a='');const _0x238857=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2110a6['setHeader'](_0x280838(0x96),_0x280838(0xbc)+_0x5c2dfa+_0x280838(0x125)),_0x2110a6[_0x280838(0x148)](_0x280838(0x133),_0x280838(0x14d));var _0x4bdaa2=0x14,_0x322621=0x3c;_0x238857[_0x280838(0xa5)](_0x2110a6),_0x238857[_0x280838(0xff)](_0x280838(0xb9)+_0x38d1f6[0x0][_0x280838(0xff)],0x14,0x0,{'fit':[0x64,0x64]}),_0x238857[_0x280838(0x130)](0x14)['text'](_0x280838(0xb0),_0x4bdaa2,_0x322621),_0x238857['fontSize'](0xa)[_0x280838(0x93)](_0x280838(0x10e),_0x4bdaa2,_0x322621+=0xf),_0x238857[_0x280838(0x130)](0xf)[_0x280838(0x93)](_0x23dd01,_0x4bdaa2,_0x322621+=0x32),_0x238857[_0x280838(0x130)](0xa)[_0x280838(0x93)](_0x2be95a,_0x4bdaa2,_0x322621+=0x14),_0x238857['fontSize'](0x9)[_0x280838(0x93)](_0x280838(0x119),_0x4bdaa2,_0x322621+=0x28),_0x238857[_0x280838(0x130)](0x9)[_0x280838(0x93)](_0x280838(0xca)+_0x1b7d27[_0x280838(0xcd)],_0x4bdaa2+0x3f,_0x322621),_0x238857[_0x280838(0x130)](0x9)['text']('To\x20Warehouse\x20',_0x4bdaa2,_0x322621+=0xf),_0x238857['fontSize'](0x9)['text']('\x20\x20\x20:\x20'+_0x1b7d27[_0x280838(0x9a)],_0x4bdaa2+0x3f,_0x322621),_0x238857[_0x280838(0x130)](0x9)[_0x280838(0x93)](_0x280838(0x108),_0x4bdaa2,_0x322621+=0xb),_0x238857['fontSize'](0x9)['text'](_0x280838(0xca)+_0x1b7d27['date'],_0x4bdaa2+0x3f,_0x322621),_0x238857[_0x280838(0x130)](0x9)[_0x280838(0x93)]('Control\x20Number\x20',_0x4bdaa2,_0x322621+=0xb),_0x238857['fontSize'](0x9)[_0x280838(0x93)](_0x280838(0xca)+_0x1b7d27['invoice'],_0x4bdaa2+0x3f,_0x322621);const _0x4ac9f5={'headers':[{'label':'','property':_0x280838(0x151),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':'\x20\x20FROM','property':_0x280838(0x151),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x280838(0x112),'property':_0x280838(0x139),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x238857[_0x280838(0xda)](_0x4ac9f5,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x238857[_0x280838(0xdf)](_0x280838(0x15a))[_0x280838(0x130)](0x8),'prepareRow':(_0x3428c8,_0x11ebc7,_0x1573f2,_0x1eba27)=>_0x238857[_0x280838(0xdf)]('Helvetica')['fontSize'](0x8)});const _0x4bdb24={'headers':[{'label':_0x280838(0x12f),'property':_0x280838(0x151),'width':0x3c,'renderer':null},{'label':_0x280838(0xbd),'property':_0x280838(0x139),'width':0x96,'renderer':null},{'label':_0x280838(0xef),'property':_0x280838(0x154),'width':0x28,'renderer':null},{'label':_0x280838(0x11b),'property':_0x280838(0xd8),'width':0x37,'renderer':null},{'label':_0x280838(0xe6),'property':'proddate','width':0x4b,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3f,'renderer':null},{'label':_0x280838(0xf2),'property':'binlocFrom','width':0x3f,'renderer':null},{'label':_0x280838(0xf2),'property':_0x280838(0x150),'width':0x3f,'renderer':null}],'datas':[]};var _0x41697d=0x0;let _0x279aa0='';var _0x332ef6=0x0;if(_0x1b7d27['from_warehouse']=='DRY\x20GOODS')_0x279aa0='DG';else _0x1b7d27['from_warehouse']==_0x280838(0x117)&&(_0x279aa0='FG');_0x1b7d27[_0x280838(0x8e)][_0x280838(0xdc)](_0x323bdf=>{const _0x4155eb=_0x280838;var _0x33bb1b=_0x323bdf[_0x4155eb(0xa7)],_0x3ee610,_0x3d39f9;_0x3ee610=_0x323bdf[_0x4155eb(0xd8)],_0x3d39f9=_0x323bdf[_0x4155eb(0xba)];_0x33bb1b=='S'&&(_0x3ee610=_0x323bdf['secondary_unit'],_0x3d39f9=_0x323bdf['to_quantity']*_0x323bdf[_0x4155eb(0xa6)]);const _0x419343={'itemcode':_0x323bdf[_0x4155eb(0x8f)],'itemdescription':_0x323bdf[_0x4155eb(0x86)],'qty':_0x3d39f9,'unit':_0x3ee610,'proddate':_0x323bdf[_0x4155eb(0x8a)],'batchno':_0x323bdf[_0x4155eb(0x124)],'binloc':_0x279aa0+_0x323bdf[_0x4155eb(0x15f)],'qtyFrom':_0x323bdf[_0x4155eb(0xd0)],'binlocFrom':_0x279aa0+_0x323bdf[_0x4155eb(0x13c)]};_0x41697d+=_0x3d39f9,_0x4bdb24[_0x4155eb(0xf7)][_0x4155eb(0x11a)](_0x419343);}),_0x238857['table'](_0x4bdb24,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x238857[_0x280838(0xdf)]('Helvetica-Bold')[_0x280838(0x130)](0x8),'prepareRow':(_0x19318a,_0x4601d1,_0x339e5b,_0x2f10f9)=>_0x238857[_0x280838(0xdf)]('Helvetica')['fontSize'](0x8)});var _0x36ce3f=_0x238857['y'],_0x3f0de7=_0x238857['x'];_0x238857[_0x280838(0x130)](0xa)[_0x280838(0x93)](_0x280838(0x11c),_0x3f0de7+0x7d,_0x36ce3f),_0x238857[_0x280838(0x130)](0xa)[_0x280838(0x93)](_0x280838(0xab),_0x3f0de7,_0x36ce3f+=0x15e),_0x238857['fontSize'](0xa)[_0x280838(0x93)](_0x41697d,_0x3f0de7+0xd7,_0x36ce3f,{'underline':!![]}),_0x238857[_0x280838(0x130)](0xa)[_0x280838(0x93)](_0x280838(0xec),_0x3f0de7,_0x36ce3f+=0x19),_0x238857[_0x280838(0x130)](0xa)['text']('\x20'[_0x280838(0xa1)](0x3c),_0x3f0de7+0x3e,_0x36ce3f,{'underline':!![]}),_0x238857[_0x280838(0x130)](0xa)[_0x280838(0x93)]('Checked\x20By:\x20',_0x3f0de7,_0x36ce3f+=0x32),_0x238857[_0x280838(0x130)](0xa)[_0x280838(0x93)](_0x280838(0x122),_0x3f0de7+0x3c,_0x36ce3f,{'underline':!![]}),_0x238857[_0x280838(0x130)](0xa)[_0x280838(0x93)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x3f0de7+0x3c,_0x36ce3f+0xc);let _0x135631=_0x238857['bufferedPageRange']();for(let _0x38f141=0x0;_0x38f141<_0x135631[_0x280838(0x97)];_0x38f141++){_0x238857[_0x280838(0x111)](_0x38f141);let _0x4ae16e=_0x238857['page'][_0x280838(0x132)]['bottom'];_0x238857[_0x280838(0x131)][_0x280838(0x132)]['bottom']=0x0,_0x238857[_0x280838(0x93)](_0x280838(0x9c)+(_0x38f141+0x1)+'\x20of\x20'+_0x135631[_0x280838(0x97)],0x0,_0x238857[_0x280838(0x131)][_0x280838(0x155)]-_0x4ae16e/0x2,{'align':_0x280838(0x11e)}),_0x238857['page'][_0x280838(0x132)][_0x280838(0x152)]=_0x4ae16e;}const _0xbbf650=_0x238857['y'],_0x2e8105=_0x238857['x'];_0x238857[_0x280838(0x100)]();}catch(_0x4ba1d){console[_0x280838(0x12c)](_0x4ba1d),_0x2110a6[_0x280838(0x11f)](0x1f4)['send'](_0x280838(0xae));}}),router[a0_0x24dbbb(0xd3)](a0_0x24dbbb(0xc8),auth,async(_0x5a5749,_0x4c1729)=>{const _0x207b51=a0_0x24dbbb;try{const {username:_0x52a635,email:_0x1cae5d,role:_0x53f47}=_0x5a5749[_0x207b51(0xaa)],_0xa99d08=_0x5a5749[_0x207b51(0xaa)],_0x51c1d3=await profile['findOne']({'email':_0xa99d08['email']}),_0x54a436=await master_shop[_0x207b51(0x146)](),_0x37262d=_0x5a5749[_0x207b51(0x126)]['id'],_0x5a8853=await adjustment_finished[_0x207b51(0x120)](_0x37262d);var _0x41666b,_0x130115;_0x41666b=_0x207b51(0x12e),_0x130115=_0x207b51(0x15b);_0x5a8853[_0x207b51(0xcf)]==_0x207b51(0x110)&&(_0x41666b=_0x207b51(0x158),_0x130115='');const _0x1bfcc6=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4c1729['setHeader'](_0x207b51(0x96),'inline;\x20filename=\x22OUT-'+_0x37262d+_0x207b51(0x125)),_0x4c1729[_0x207b51(0x148)](_0x207b51(0x133),_0x207b51(0x14d));var _0x155354=0x14,_0x2d41c9=0x3c;_0x1bfcc6[_0x207b51(0xa5)](_0x4c1729),_0x1bfcc6['image'](_0x207b51(0xb9)+_0x54a436[0x0][_0x207b51(0xff)],0x14,0x0,{'fit':[0x64,0x64]}),_0x1bfcc6[_0x207b51(0x130)](0x14)[_0x207b51(0x93)](_0x207b51(0xb0),_0x155354,_0x2d41c9),_0x1bfcc6[_0x207b51(0x130)](0xa)[_0x207b51(0x93)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x155354,_0x2d41c9+=0xf),_0x1bfcc6[_0x207b51(0x130)](0xf)['text'](_0x41666b,_0x155354,_0x2d41c9+=0x32),_0x1bfcc6[_0x207b51(0x130)](0xa)['text'](_0x130115,_0x155354,_0x2d41c9+=0x14),_0x1bfcc6[_0x207b51(0x130)](0x9)[_0x207b51(0x93)](_0x207b51(0xa4),_0x155354,_0x2d41c9+=0x28),_0x1bfcc6[_0x207b51(0x130)](0x9)[_0x207b51(0x93)](_0x207b51(0x94)+_0x5a8853['warehouse_name'],_0x155354+0x3f,_0x2d41c9),_0x1bfcc6[_0x207b51(0x130)](0x9)['text'](_0x207b51(0x108),_0x155354,_0x2d41c9+=0xb),_0x1bfcc6['fontSize'](0x9)[_0x207b51(0x93)]('\x20:\x20'+_0x5a8853[_0x207b51(0x92)],_0x155354+0x3f,_0x2d41c9),_0x1bfcc6['fontSize'](0x9)['text'](_0x207b51(0xe7),_0x155354,_0x2d41c9+=0xb),_0x1bfcc6['fontSize'](0x9)[_0x207b51(0x93)](_0x207b51(0x94)+_0x5a8853[_0x207b51(0xe5)],_0x155354+0x3f,_0x2d41c9);const _0x31eb03={'headers':[{'label':_0x207b51(0x12f),'property':_0x207b51(0x151),'width':0x3c,'renderer':null},{'label':_0x207b51(0xbd),'property':'itemdescription','width':0x96,'renderer':null},{'label':'Quantity','property':'qty','width':0x3c,'renderer':null},{'label':'UOM','property':_0x207b51(0xd8),'width':0x3c,'renderer':null},{'label':'Production\x20Date','property':_0x207b51(0x136),'width':0x50,'renderer':null},{'label':_0x207b51(0x15c),'property':_0x207b51(0x156),'width':0x3f,'renderer':null},{'label':_0x207b51(0xf2),'property':_0x207b51(0x150),'width':0x3f,'renderer':null}],'datas':[]};var _0x19f8fe=0x0;let _0x9e3c2c='';var _0x5b2f04=0x0;_0x5a8853[_0x207b51(0x14c)]==_0x207b51(0x10a)?_0x9e3c2c='DG':_0x9e3c2c='FG';_0x5a8853['product'][_0x207b51(0xdc)](_0x2331e3=>{const _0x366ae1=_0x207b51;console[_0x366ae1(0x12c)](_0x2331e3);var _0x56ca7a=_0x2331e3[_0x366ae1(0xa7)],_0x39304b,_0x4c9185;_0x39304b=_0x2331e3[_0x366ae1(0xd8)],_0x4c9185=_0x2331e3[_0x366ae1(0xb4)];_0x56ca7a=='S'&&(_0x39304b=_0x2331e3['secondary_unit'],_0x4c9185=_0x2331e3[_0x366ae1(0xb4)]*_0x2331e3['maxPerUnit']);const _0x575682={'itemcode':_0x2331e3[_0x366ae1(0x8f)],'itemdescription':_0x2331e3[_0x366ae1(0x86)],'qty':_0x4c9185,'unit':_0x39304b,'proddate':_0x2331e3[_0x366ae1(0x8a)],'batchno':_0x2331e3[_0x366ae1(0x124)],'binloc':_0x9e3c2c+_0x2331e3[_0x366ae1(0xf3)]};_0x19f8fe+=_0x4c9185,_0x31eb03[_0x366ae1(0xf7)][_0x366ae1(0x11a)](_0x575682);}),_0x1bfcc6[_0x207b51(0xda)](_0x31eb03,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x1bfcc6[_0x207b51(0xdf)]('Helvetica-Bold')[_0x207b51(0x130)](0x8),'prepareRow':(_0xc70b09,_0x3ab159,_0x49e9d4,_0x1ff9fc)=>_0x1bfcc6[_0x207b51(0xdf)](_0x207b51(0x9f))['fontSize'](0x8)});var _0x2dc672=_0x1bfcc6['y'],_0x3166cc=_0x1bfcc6['x'];_0x1bfcc6['fontSize'](0xa)[_0x207b51(0x93)](_0x207b51(0x11c),_0x3166cc+0x7d,_0x2dc672),_0x1bfcc6[_0x207b51(0x130)](0xa)['text'](_0x207b51(0xbf),_0x3166cc,_0x2dc672+=0x15e),_0x1bfcc6[_0x207b51(0x130)](0xa)[_0x207b51(0x93)](_0x19f8fe,_0x3166cc+0xc8,_0x2dc672),_0x1bfcc6['fontSize'](0xa)[_0x207b51(0x93)](_0x207b51(0xec),_0x3166cc,_0x2dc672+=0x19),_0x1bfcc6[_0x207b51(0x130)](0xa)[_0x207b51(0x93)]('\x20'[_0x207b51(0xa1)](0x3c),_0x3166cc+0x3e,_0x2dc672,{'underline':!![]}),_0x1bfcc6[_0x207b51(0x130)](0xa)['text'](_0x207b51(0x13e),_0x3166cc,_0x2dc672+=0x32),_0x1bfcc6[_0x207b51(0x130)](0xa)['text']('\x20:\x20',_0x3166cc+0x37,_0x2dc672),_0x1bfcc6[_0x207b51(0x130)](0xa)['text'](_0x207b51(0x122),_0x3166cc+0x3c,_0x2dc672,{'underline':!![]}),_0x1bfcc6[_0x207b51(0x130)](0xa)[_0x207b51(0x93)](_0x207b51(0x140),_0x3166cc+0x3c,_0x2dc672+0xc);let _0x11d967=_0x1bfcc6[_0x207b51(0x14a)]();for(let _0x10e34b=0x0;_0x10e34b<_0x11d967[_0x207b51(0x97)];_0x10e34b++){_0x1bfcc6[_0x207b51(0x111)](_0x10e34b);let _0x5c5a5c=_0x1bfcc6[_0x207b51(0x131)][_0x207b51(0x132)][_0x207b51(0x152)];_0x1bfcc6['page'][_0x207b51(0x132)]['bottom']=0x0,_0x1bfcc6['text'](_0x207b51(0x9c)+(_0x10e34b+0x1)+_0x207b51(0xf4)+_0x11d967[_0x207b51(0x97)],0x0,_0x1bfcc6[_0x207b51(0x131)][_0x207b51(0x155)]-_0x5c5a5c/0x2,{'align':_0x207b51(0x11e)}),_0x1bfcc6[_0x207b51(0x131)][_0x207b51(0x132)][_0x207b51(0x152)]=_0x5c5a5c;}const _0x3a934a=_0x1bfcc6['y'],_0x3a68d6=_0x1bfcc6['x'];_0x1bfcc6['end']();}catch(_0x1a8eb2){console[_0x207b51(0x12c)](_0x1a8eb2),_0x4c1729[_0x207b51(0x11f)](0x1f4)[_0x207b51(0xb5)](_0x207b51(0xae));}}),router[a0_0x24dbbb(0xd3)](a0_0x24dbbb(0xd4),auth,async(_0x894a67,_0x8beca5)=>{const _0x5e099d=a0_0x24dbbb;try{const {username:_0xc3748c,email:_0xe6806c,role:_0x3ecc15}=_0x894a67[_0x5e099d(0xaa)],_0x275d1f=_0x894a67[_0x5e099d(0xaa)],_0x1c7e0f=await profile[_0x5e099d(0x10f)]({'email':_0x275d1f[_0x5e099d(0xd2)]}),_0x4a762b=await master_shop[_0x5e099d(0x146)](),_0x1e9f96=_0x894a67['params']['id'],_0x3d1910=await purchases_finished[_0x5e099d(0x120)](_0x1e9f96),_0x107a8e=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x8beca5[_0x5e099d(0x148)]('Content-disposition',_0x5e099d(0xbc)+_0x1e9f96+_0x5e099d(0x125)),_0x8beca5[_0x5e099d(0x148)](_0x5e099d(0x133),_0x5e099d(0x14d));var _0x583072=0x14,_0x2bac4d=0x3c;_0x107a8e[_0x5e099d(0xa5)](_0x8beca5),_0x107a8e[_0x5e099d(0xff)](_0x5e099d(0xb9)+_0x4a762b[0x0][_0x5e099d(0xff)],0x14,0x0,{'fit':[0x64,0x64]}),_0x107a8e[_0x5e099d(0x130)](0x14)[_0x5e099d(0x93)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x583072,_0x2bac4d),_0x107a8e[_0x5e099d(0x130)](0xa)[_0x5e099d(0x93)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x583072,_0x2bac4d+=0xf),_0x107a8e[_0x5e099d(0x130)](0xf)['text'](_0x5e099d(0x134),_0x583072,_0x2bac4d+=0x32),_0x107a8e[_0x5e099d(0x130)](0xa)[_0x5e099d(0x93)](_0x5e099d(0x15e),_0x583072,_0x2bac4d+=0x14),_0x107a8e['fontSize'](0x9)[_0x5e099d(0x93)](_0x5e099d(0xa4),_0x583072,_0x2bac4d+=0x28),_0x107a8e[_0x5e099d(0x130)](0x9)[_0x5e099d(0x93)](_0x5e099d(0x94)+_0x3d1910[_0x5e099d(0x14c)],_0x583072+0x3f,_0x2bac4d),_0x107a8e[_0x5e099d(0x130)](0x9)[_0x5e099d(0x93)](_0x5e099d(0xa0)+_0x3d1910[_0x5e099d(0xd7)],_0x583072+0x17c,_0x2bac4d),_0x107a8e[_0x5e099d(0x130)](0x9)['text'](_0x5e099d(0x108),_0x583072,_0x2bac4d+=0xb),_0x107a8e['fontSize'](0x9)['text'](_0x5e099d(0x94)+_0x3d1910[_0x5e099d(0x92)],_0x583072+0x3f,_0x2bac4d),_0x107a8e[_0x5e099d(0x130)](0x9)['text'](_0x5e099d(0xe7),_0x583072,_0x2bac4d+=0xb),_0x107a8e[_0x5e099d(0x130)](0x9)['text'](_0x5e099d(0x94)+_0x3d1910['invoice'],_0x583072+0x3f,_0x2bac4d);const _0xa615d6={'headers':[{'label':_0x5e099d(0x12f),'property':_0x5e099d(0x151),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x5e099d(0x139),'width':0xc8,'renderer':null},{'label':_0x5e099d(0xef),'property':_0x5e099d(0x154),'width':0x3c,'renderer':null},{'label':_0x5e099d(0x11b),'property':'unit','width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':'expdate','width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x5e099d(0x156),'width':0x3f,'renderer':null},{'label':_0x5e099d(0xf2),'property':_0x5e099d(0x150),'width':0x3f,'renderer':null}],'datas':[]};var _0x62dfd3=0x0;let _0x3d009f='';_0x3d1910['warehouse_name']=='DRY\x20GOODS'?_0x3d009f='DG':_0x3d009f='FG';_0x3d1910[_0x5e099d(0x8e)][_0x5e099d(0xdc)](_0x179046=>{const _0x2d0a61=_0x5e099d;let _0x54ca75='';var _0x580a58=0x0;const _0x45d250={'itemcode':_0x179046['product_code'],'itemdescription':_0x179046[_0x2d0a61(0x86)],'qty':_0x179046[_0x2d0a61(0x144)],'unit':_0x179046[_0x2d0a61(0xe8)],'expdate':_0x179046[_0x2d0a61(0xc5)],'batchno':_0x179046[_0x2d0a61(0x124)],'binloc':_0x3d009f+_0x179046[_0x2d0a61(0xf3)]};_0x62dfd3+=_0x179046[_0x2d0a61(0x144)],_0xa615d6[_0x2d0a61(0xf7)][_0x2d0a61(0x11a)](_0x45d250);}),_0x107a8e[_0x5e099d(0xda)](_0xa615d6,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x107a8e[_0x5e099d(0xdf)]('Helvetica-Bold')[_0x5e099d(0x130)](0x8),'prepareRow':(_0x1f7a99,_0x124edc,_0x9d1fb2,_0x58380a)=>_0x107a8e[_0x5e099d(0xdf)](_0x5e099d(0x9f))[_0x5e099d(0x130)](0x8)});var _0x3160a5=_0x107a8e['y'],_0x45d2db=_0x107a8e['x'];_0x107a8e['fontSize'](0xa)[_0x5e099d(0x93)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x45d2db+0x7d,_0x3160a5),_0x107a8e[_0x5e099d(0x130)](0xa)[_0x5e099d(0x93)](_0x5e099d(0xab),_0x45d2db,_0x3160a5+=0x15e),_0x107a8e[_0x5e099d(0x130)](0xa)[_0x5e099d(0x93)](_0x62dfd3,_0x45d2db+0xfa,_0x3160a5),_0x107a8e[_0x5e099d(0x130)](0xa)[_0x5e099d(0x93)](_0x5e099d(0xdd),_0x45d2db,_0x3160a5+=0x19),_0x107a8e[_0x5e099d(0x130)](0xa)[_0x5e099d(0x93)](_0x5e099d(0x123),_0x45d2db+0x37,_0x3160a5,{'underline':!![]}),_0x107a8e[_0x5e099d(0x130)](0xa)[_0x5e099d(0x93)](_0x5e099d(0xea),_0x45d2db,_0x3160a5+0x32),_0x107a8e[_0x5e099d(0x130)](0xa)[_0x5e099d(0x93)](_0x5e099d(0x122),_0x45d2db+0x32,_0x3160a5+0x32,{'underline':!![]}),_0x107a8e[_0x5e099d(0x130)](0xa)['text']('Finished\x20Good\x20Warehouse\x20Supervisor',_0x45d2db+0x32,_0x3160a5+0x3c);let _0x1fc1c7=_0x107a8e[_0x5e099d(0x14a)]();for(let _0x563d8f=0x0;_0x563d8f<_0x1fc1c7[_0x5e099d(0x97)];_0x563d8f++){_0x107a8e[_0x5e099d(0x111)](_0x563d8f);let _0x4b4b42=_0x107a8e[_0x5e099d(0x131)][_0x5e099d(0x132)][_0x5e099d(0x152)];_0x107a8e['page'][_0x5e099d(0x132)][_0x5e099d(0x152)]=0x0,_0x107a8e['text']('Page:\x20'+(_0x563d8f+0x1)+_0x5e099d(0xf4)+_0x1fc1c7[_0x5e099d(0x97)],0x0,_0x107a8e['page']['height']-_0x4b4b42/0x2,{'align':_0x5e099d(0x11e)}),_0x107a8e['page'][_0x5e099d(0x132)][_0x5e099d(0x152)]=_0x4b4b42;}const _0x3f14b8=_0x107a8e['y'],_0x26c464=_0x107a8e['x'];_0x107a8e[_0x5e099d(0x100)]();}catch(_0x59738c){console[_0x5e099d(0x12c)](_0x59738c),_0x8beca5[_0x5e099d(0x11f)](0x1f4)[_0x5e099d(0xb5)](_0x5e099d(0xae));}}),router[a0_0x24dbbb(0xd3)](a0_0x24dbbb(0x103),auth,async(_0x58256d,_0x13cf78)=>{const _0x58eff9=a0_0x24dbbb;try{const {username:_0xb6caf2,email:_0x590d6c,role:_0x135c35}=_0x58256d[_0x58eff9(0xaa)],_0x1f1322=_0x58256d[_0x58eff9(0xaa)],_0x2589f1=await profile[_0x58eff9(0x10f)]({'email':_0x1f1322[_0x58eff9(0xd2)]}),_0x1f5639=await master_shop['find'](),_0x2def90=_0x58256d[_0x58eff9(0x126)]['id'],_0xa25c83=await sales_return_finished[_0x58eff9(0x120)](_0x2def90),_0x103478=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x13cf78['setHeader'](_0x58eff9(0x96),_0x58eff9(0xbc)+_0x2def90+_0x58eff9(0x125)),_0x13cf78[_0x58eff9(0x148)](_0x58eff9(0x133),_0x58eff9(0x14d));var _0x41ccec=0x14,_0x37d5c2=0x64;_0x103478[_0x58eff9(0xa5)](_0x13cf78),_0x103478[_0x58eff9(0xff)](_0x58eff9(0xb9)+_0x1f5639[0x0][_0x58eff9(0xff)],0x14,0x0,{'fit':[0x64,0x64]}),_0x103478[_0x58eff9(0x130)](0x14)[_0x58eff9(0x93)](_0x58eff9(0xb0),_0x41ccec,_0x37d5c2),_0x103478['fontSize'](0xa)[_0x58eff9(0x93)](_0x58eff9(0x10e),_0x41ccec,_0x37d5c2+=0xf),_0x103478['fontSize'](0xf)[_0x58eff9(0x93)]('PICKING\x20LIST',_0x41ccec,_0x37d5c2+=0x32),_0x103478['fontSize'](0xa)[_0x58eff9(0x93)](_0x58eff9(0xaf),_0x41ccec,_0x37d5c2+=0x1e),_0x103478[_0x58eff9(0x130)](0x9)[_0x58eff9(0x93)](_0x58eff9(0x9b)+_0xa25c83['ToWarehouse'],_0x41ccec,_0x37d5c2+=0x28),_0x103478[_0x58eff9(0x130)](0x9)[_0x58eff9(0x93)](_0x58eff9(0x10c)+_0xa25c83[_0x58eff9(0xde)],0x190,0xd2,{'underline':!![]}),_0x103478[_0x58eff9(0x130)](0x9)[_0x58eff9(0x93)](_0x58eff9(0xad),_0x41ccec,_0x37d5c2+=0xb),_0x103478['fontSize'](0x9)[_0x58eff9(0x93)](_0x58eff9(0x8b)+_0xa25c83['date'],_0x41ccec,_0x37d5c2+=0xb),_0x103478[_0x58eff9(0x130)](0x9)[_0x58eff9(0x93)](_0x58eff9(0x107)+_0xa25c83[_0x58eff9(0xe5)],_0x41ccec,_0x37d5c2+=0xb);var _0x22e92c='',_0x57c492='',_0x3167f8=0x0,_0x3799e2;console[_0x58eff9(0x12c)](_0xa25c83['warehouse_cat']);_0xa25c83[_0x58eff9(0x90)]=='GS'?(_0xa25c83['warehouse_name']=='DRY\x20GOODS'?warecode='DG':warecode='FG',_0x22e92c={'headers':[{'label':'Item\x20Code','property':'itemcode','width':0x3c,'renderer':null},{'label':_0x58eff9(0xbd),'property':'itemdescription','width':0xc8,'renderer':null},{'label':_0x58eff9(0xef),'property':_0x58eff9(0x154),'width':0x3c,'renderer':null},{'label':_0x58eff9(0x11b),'property':'unit','width':0x3c,'renderer':null},{'label':_0x58eff9(0x138),'property':_0x58eff9(0x159),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x58eff9(0x156),'width':0x3f,'renderer':null},{'label':_0x58eff9(0xf2),'property':_0x58eff9(0x150),'width':0x3f,'renderer':null}],'datas':[]},_0xa25c83[_0x58eff9(0x105)][_0x58eff9(0xdc)](_0x33d83e=>{const _0x405cfe=_0x58eff9;let _0x59bb21='';var _0x113f3b=0x0;_0x57c492={'itemcode':_0x33d83e['product_code'],'itemdescription':_0x33d83e[_0x405cfe(0x86)],'qty':_0x33d83e[_0x405cfe(0x115)],'unit':_0x33d83e[_0x405cfe(0xd8)],'expdate':_0x33d83e['expiry_date'],'batchno':_0x33d83e[_0x405cfe(0x124)],'binloc':warecode+_0x33d83e[_0x405cfe(0xf3)]},_0x3167f8+=_0x33d83e[_0x405cfe(0x115)],console[_0x405cfe(0x12c)](_0x33d83e),_0x22e92c[_0x405cfe(0xf7)][_0x405cfe(0x11a)](_0x57c492);})):(_0x22e92c={'headers':[{'label':_0x58eff9(0x12f),'property':_0x58eff9(0x151),'width':0x3c,'renderer':null},{'label':_0x58eff9(0xbd),'property':_0x58eff9(0x139),'width':0xc8,'renderer':null},{'label':_0x58eff9(0xef),'property':_0x58eff9(0x154),'width':0x3c,'renderer':null},{'label':_0x58eff9(0x11b),'property':'unit','width':0x3c,'renderer':null},{'label':_0x58eff9(0x138),'property':_0x58eff9(0x159),'width':0x50,'renderer':null},{'label':_0x58eff9(0x15c),'property':'batchno','width':0x3f,'renderer':null}],'datas':[]},_0xa25c83['return_sale_QA']['forEach'](_0x54f8a0=>{const _0x280248=_0x58eff9;let _0x4ba94e='';var _0x65676=0x0;_0x57c492={'itemcode':_0x54f8a0['product_code'],'itemdescription':_0x54f8a0['product_name'],'qty':_0x54f8a0[_0x280248(0x115)],'unit':_0x54f8a0[_0x280248(0xd8)],'expdate':_0x54f8a0[_0x280248(0xc5)],'batchno':_0x54f8a0[_0x280248(0x124)]},_0x3167f8+=_0x54f8a0[_0x280248(0x115)],console[_0x280248(0x12c)](_0x3167f8+'\x20<>\x20'+_0x54f8a0['return_qty']),_0x22e92c[_0x280248(0xf7)][_0x280248(0x11a)](_0x57c492);}));_0x103478[_0x58eff9(0xda)](_0x22e92c,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x103478['font']('Helvetica-Bold')[_0x58eff9(0x130)](0x8),'prepareRow':(_0x5ab17c,_0x3c5ae4,_0xeb9b4d,_0x57bd8e)=>_0x103478[_0x58eff9(0xdf)](_0x58eff9(0x9f))['fontSize'](0x8)});var _0x4cdf3b=_0x103478['y'],_0x20b11d=_0x103478['x'];_0x103478[_0x58eff9(0x130)](0xa)[_0x58eff9(0x93)](_0x58eff9(0x11c),_0x20b11d+0x7d,_0x4cdf3b),_0x103478[_0x58eff9(0x130)](0xa)[_0x58eff9(0x93)]('TOTAL\x20QTY:\x20',_0x20b11d,_0x4cdf3b+=0x190),_0x103478[_0x58eff9(0x130)](0xa)[_0x58eff9(0x93)](_0x3167f8,_0x20b11d+0x37,_0x4cdf3b,{'underline':!![]}),_0x103478[_0x58eff9(0x130)](0xa)[_0x58eff9(0x93)](_0x58eff9(0x13b),_0x20b11d,_0x4cdf3b+0x1e),_0x103478[_0x58eff9(0x130)](0xa)[_0x58eff9(0x93)]('ARMAN\x20CRUZ',_0x20b11d+0x32,_0x4cdf3b+0x1e,{'underline':!![]});let _0x35f327=_0x103478[_0x58eff9(0x14a)]();for(let _0x1e7154=0x0;_0x1e7154<_0x35f327[_0x58eff9(0x97)];_0x1e7154++){_0x103478['switchToPage'](_0x1e7154);let _0x138290=_0x103478[_0x58eff9(0x131)][_0x58eff9(0x132)]['bottom'];_0x103478[_0x58eff9(0x131)][_0x58eff9(0x132)]['bottom']=0x0,_0x103478[_0x58eff9(0x93)]('Page:\x20'+(_0x1e7154+0x1)+_0x58eff9(0xf4)+_0x35f327[_0x58eff9(0x97)],0x0,_0x103478['page'][_0x58eff9(0x155)]-_0x138290/0x2,{'align':_0x58eff9(0x11e)}),_0x103478[_0x58eff9(0x131)][_0x58eff9(0x132)][_0x58eff9(0x152)]=_0x138290;}const _0xb66172=_0x103478['y'],_0x12789e=_0x103478['x'];_0x103478[_0x58eff9(0x100)]();}catch(_0x1a6b0f){console[_0x58eff9(0x12c)](_0x1a6b0f),_0x13cf78[_0x58eff9(0x11f)](0x1f4)['send'](_0x58eff9(0xae));}}),router[a0_0x24dbbb(0xd3)]('/pdf_puchases/:id',auth,async(_0x57e8b0,_0x3f7ae3)=>{const _0x7d5e7=a0_0x24dbbb;try{const {username:_0x4db710,email:_0x5cc6a8,role:_0x2afe01}=_0x57e8b0['user'],_0x9a52e9=_0x57e8b0[_0x7d5e7(0xaa)],_0x471fc7=await profile[_0x7d5e7(0x10f)]({'email':_0x9a52e9[_0x7d5e7(0xd2)]}),_0x215311=await master_shop[_0x7d5e7(0x146)](),_0x946efd=_0x57e8b0[_0x7d5e7(0x126)]['id'],_0x64000b=await purchases[_0x7d5e7(0x120)](_0x946efd),_0x59daf4=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3f7ae3[_0x7d5e7(0x148)](_0x7d5e7(0x96),'inline;\x20filename=\x22OUT-'+_0x946efd+'.pdf\x22'),_0x3f7ae3[_0x7d5e7(0x148)](_0x7d5e7(0x133),_0x7d5e7(0x14d));var _0x2889e4=0x14,_0x3f3924=0x3c;_0x59daf4['pipe'](_0x3f7ae3),_0x59daf4[_0x7d5e7(0xff)]('./public/upload/'+_0x215311[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x59daf4[_0x7d5e7(0x130)](0x14)[_0x7d5e7(0x93)](_0x7d5e7(0xb0),_0x2889e4,_0x3f3924),_0x59daf4[_0x7d5e7(0x130)](0xa)[_0x7d5e7(0x93)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x2889e4,_0x3f3924+=0xf),_0x59daf4['fontSize'](0xf)[_0x7d5e7(0x93)](_0x7d5e7(0x128),_0x2889e4,_0x3f3924+=0x32),_0x59daf4[_0x7d5e7(0x130)](0xa)[_0x7d5e7(0x93)]('(INCOMING)',_0x2889e4,_0x3f3924+=0x14),_0x59daf4[_0x7d5e7(0x130)](0x9)['text'](_0x7d5e7(0xa4),_0x2889e4,_0x3f3924+=0x2d),_0x59daf4[_0x7d5e7(0x130)](0x9)['text'](_0x7d5e7(0x94)+_0x64000b[_0x7d5e7(0x14c)],_0x2889e4+0x3f,_0x3f3924),_0x59daf4[_0x7d5e7(0x130)](0x9)[_0x7d5e7(0x93)](_0x7d5e7(0x10d)+_0x64000b[_0x7d5e7(0xd5)],_0x2889e4+0x17c,_0x3f3924,{'underline':!![]}),_0x59daf4[_0x7d5e7(0x130)](0x9)['text']('Date\x20',_0x2889e4,_0x3f3924+=0xb),_0x59daf4[_0x7d5e7(0x130)](0x9)[_0x7d5e7(0x93)](_0x7d5e7(0x94)+_0x64000b[_0x7d5e7(0x92)],_0x2889e4+0x3f,_0x3f3924),_0x59daf4[_0x7d5e7(0x130)](0x9)[_0x7d5e7(0x93)]('Control\x20Number\x20',_0x2889e4,_0x3f3924+=0xb),_0x59daf4[_0x7d5e7(0x130)](0x9)[_0x7d5e7(0x93)](_0x7d5e7(0x94)+_0x64000b[_0x7d5e7(0xe5)],_0x2889e4+0x3f,_0x3f3924);const _0x4a2829={'headers':[{'label':_0x7d5e7(0x12f),'property':_0x7d5e7(0x151),'width':0x3c,'renderer':null},{'label':_0x7d5e7(0xbd),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x7d5e7(0x153),'property':_0x7d5e7(0x154),'width':0x2d,'renderer':null},{'label':_0x7d5e7(0x11b),'property':'unit','width':0x3c,'renderer':null},{'label':_0x7d5e7(0x138),'property':_0x7d5e7(0x159),'width':0x46,'renderer':null},{'label':_0x7d5e7(0x15c),'property':'batchno','width':0x3c,'renderer':null},{'label':_0x7d5e7(0xf2),'property':_0x7d5e7(0x150),'width':0x3c,'renderer':null},{'label':_0x7d5e7(0x9e),'property':_0x7d5e7(0xfb),'width':0x3f,'renderer':null}],'datas':[]};var _0xdcd2c4=0x0;let _0x5d5688='';_0x64000b['product'][_0x7d5e7(0xdc)](_0x4dd37b=>{const _0x5d4001=_0x7d5e7;let _0x46e025='';var _0x80e956=0x0;const _0x5e8f0a={'itemcode':_0x4dd37b[_0x5d4001(0x8f)],'itemdescription':_0x4dd37b[_0x5d4001(0x86)],'qty':_0x4dd37b[_0x5d4001(0x144)],'unit':_0x4dd37b[_0x5d4001(0xe8)],'expdate':_0x4dd37b['expiry_date'],'batchno':_0x4dd37b[_0x5d4001(0x124)],'binloc':_0x4dd37b['storage']+_0x4dd37b[_0x5d4001(0xe2)]+_0x4dd37b[_0x5d4001(0xf3)]+_0x4dd37b['bin']+_0x4dd37b[_0x5d4001(0xe1)][0x0]+_0x4dd37b[_0x5d4001(0xce)],'DelCode':_0x4dd37b[_0x5d4001(0x114)]};_0xdcd2c4+=_0x4dd37b[_0x5d4001(0x144)],_0x4a2829[_0x5d4001(0xf7)][_0x5d4001(0x11a)](_0x5e8f0a);}),_0x59daf4['table'](_0x4a2829,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x59daf4[_0x7d5e7(0xdf)]('Helvetica-Bold')['fontSize'](0x8),'prepareRow':(_0x430177,_0x2414e7,_0x274f7a,_0x46da0f)=>_0x59daf4['font'](_0x7d5e7(0x9f))[_0x7d5e7(0x130)](0x8)});var _0x53c816=_0x59daf4['y'],_0x233579=_0x59daf4['x'];_0x59daf4[_0x7d5e7(0x130)](0xa)[_0x7d5e7(0x93)](_0x7d5e7(0x11c),_0x233579+0x7d,_0x53c816),_0x59daf4[_0x7d5e7(0x130)](0xa)[_0x7d5e7(0x93)](_0x7d5e7(0xab),_0x233579,_0x53c816+=0x15e),_0x59daf4[_0x7d5e7(0x130)](0xa)[_0x7d5e7(0x93)](_0xdcd2c4,_0x233579+0xf0,_0x53c816,{'underline':!![]}),_0x59daf4[_0x7d5e7(0x130)](0xa)[_0x7d5e7(0x93)](_0x7d5e7(0x98),_0x233579,_0x53c816+0x28),_0x59daf4['fontSize'](0xa)[_0x7d5e7(0x93)](_0x7d5e7(0xd1),_0x233579+0x40,_0x53c816+0x28,{'underline':!![]}),_0x59daf4[_0x7d5e7(0x130)](0xa)['text'](_0x7d5e7(0xac),_0x233579+0x40,_0x53c816+0x32);let _0x9e0c0b=_0x59daf4[_0x7d5e7(0x14a)]();for(let _0x366f3d=0x0;_0x366f3d<_0x9e0c0b[_0x7d5e7(0x97)];_0x366f3d++){_0x59daf4[_0x7d5e7(0x111)](_0x366f3d);let _0x34fe72=_0x59daf4[_0x7d5e7(0x131)]['margins']['bottom'];_0x59daf4[_0x7d5e7(0x131)][_0x7d5e7(0x132)]['bottom']=0x0,_0x59daf4[_0x7d5e7(0x93)](_0x7d5e7(0x9c)+(_0x366f3d+0x1)+_0x7d5e7(0xf4)+_0x9e0c0b[_0x7d5e7(0x97)],0x0,_0x59daf4[_0x7d5e7(0x131)][_0x7d5e7(0x155)]-_0x34fe72/0x2,{'align':'center'}),_0x59daf4[_0x7d5e7(0x131)]['margins']['bottom']=_0x34fe72;}const _0x237b0d=_0x59daf4['y'],_0x4853ba=_0x59daf4['x'];_0x59daf4[_0x7d5e7(0x100)]();}catch(_0xfa3acb){console[_0x7d5e7(0x12c)](_0xfa3acb),_0x3f7ae3['status'](0x1f4)['send'](_0x7d5e7(0xae));}}),router[a0_0x24dbbb(0xd3)]('/PDF_Sales/:id',auth,async(_0x30ced4,_0x5404db)=>{const _0x1bd7e6=a0_0x24dbbb;try{const {username:_0x56f702,email:_0x50c968,role:_0x5311ce}=_0x30ced4[_0x1bd7e6(0xaa)],_0x5e79d6=_0x30ced4[_0x1bd7e6(0xaa)],_0x51d618=await profile[_0x1bd7e6(0x10f)]({'email':_0x5e79d6['email']}),_0x5bcf02=await master_shop['find'](),_0x486df8=_0x30ced4[_0x1bd7e6(0x126)]['id'],_0x49923a=await sales['findById'](_0x486df8),_0x43f96f=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x3fdb99;_0x3fdb99=_0x1bd7e6(0x12e);_0x49923a[_0x1bd7e6(0xcf)]==_0x1bd7e6(0x110)&&(_0x3fdb99=_0x1bd7e6(0x143));_0x5404db[_0x1bd7e6(0x148)]('Content-disposition','inline;\x20filename=\x22OUT-'+_0x486df8+_0x1bd7e6(0x125)),_0x5404db['setHeader'](_0x1bd7e6(0x133),_0x1bd7e6(0x14d));var _0x9e0b82=0x14,_0x331ae9=0x64;_0x43f96f[_0x1bd7e6(0xa5)](_0x5404db),_0x43f96f[_0x1bd7e6(0xff)](_0x1bd7e6(0xb9)+_0x5bcf02[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x43f96f[_0x1bd7e6(0x130)](0x14)[_0x1bd7e6(0x93)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x9e0b82,_0x331ae9),_0x43f96f[_0x1bd7e6(0x130)](0xa)[_0x1bd7e6(0x93)](_0x1bd7e6(0x10e),_0x9e0b82,_0x331ae9+=0xf),_0x43f96f[_0x1bd7e6(0x130)](0xf)[_0x1bd7e6(0x93)](_0x3fdb99,_0x9e0b82,_0x331ae9+=0x32),_0x43f96f['fontSize'](0xa)[_0x1bd7e6(0x93)](_0x1bd7e6(0x137),_0x9e0b82,_0x331ae9+=0x14),_0x43f96f[_0x1bd7e6(0x130)](0x9)[_0x1bd7e6(0x93)](_0x1bd7e6(0x108),_0x9e0b82,_0x331ae9+=0x19),_0x43f96f[_0x1bd7e6(0x130)](0x9)[_0x1bd7e6(0x93)](_0x1bd7e6(0x94)+_0x49923a['date'],_0x9e0b82+0x3f,_0x331ae9),_0x43f96f[_0x1bd7e6(0x130)](0x9)[_0x1bd7e6(0x93)](_0x1bd7e6(0xc9),_0x9e0b82,_0x331ae9+=0xb),_0x43f96f[_0x1bd7e6(0x130)](0x9)[_0x1bd7e6(0x93)](_0x1bd7e6(0x94)+_0x49923a[_0x1bd7e6(0xe5)],_0x9e0b82+0x3f,_0x331ae9);const _0x583d55={'headers':[{'label':_0x1bd7e6(0x135),'property':'itemcode','align':'center','width':0x2d,'renderer':null},{'label':_0x1bd7e6(0x116),'property':_0x1bd7e6(0x139),'align':'center','width':0x64,'renderer':null},{'label':_0x1bd7e6(0xcb),'property':_0x1bd7e6(0xb3),'align':_0x1bd7e6(0x11e),'width':0x28,'renderer':null},{'label':_0x1bd7e6(0x145),'property':_0x1bd7e6(0xe0),'align':_0x1bd7e6(0x11e),'width':0x28,'renderer':null},{'label':_0x1bd7e6(0x11b),'property':_0x1bd7e6(0xd8),'align':'center','width':0x28,'renderer':null},{'label':_0x1bd7e6(0x113),'property':_0x1bd7e6(0x12b),'align':'center','width':0x32,'renderer':null},{'label':_0x1bd7e6(0x10b),'property':_0x1bd7e6(0x136),'align':_0x1bd7e6(0x11e),'width':0x3c,'renderer':null},{'label':'EXPIRATION\x20DATE','property':'expdate','align':_0x1bd7e6(0x11e),'width':0x3c,'renderer':null},{'label':_0x1bd7e6(0x14f),'property':_0x1bd7e6(0x101),'align':_0x1bd7e6(0x11e),'width':0x3f,'renderer':null},{'label':_0x1bd7e6(0xf8),'property':_0x1bd7e6(0x157),'align':_0x1bd7e6(0x11e),'width':0x3f,'renderer':null}],'datas':[]};var _0x5c490a=0x0;let _0x2ffb26='';var _0x55725d=0x0,_0x9e0b82=0x1;_0x49923a[_0x1bd7e6(0xbb)][_0x1bd7e6(0xdc)](_0xa80261=>{const _0x4f4cff=_0x1bd7e6,_0xb6dfee=new Date(_0xa80261['production_date']),_0x4f3d52={'year':'numeric','month':_0x4f4cff(0x14b),'day':'numeric'},_0x46f52c=_0xb6dfee[_0x4f4cff(0xc6)](_0x4f4cff(0xa8),_0x4f3d52),_0x232c01=new Date(_0xa80261[_0x4f4cff(0xc5)]),_0x116e66={'year':_0x4f4cff(0xe3),'month':'short','day':_0x4f4cff(0xe3)},_0xfa18c6=_0x232c01[_0x4f4cff(0xc6)](_0x4f4cff(0xa8),_0x116e66),_0x5ef602=new Date(_0xa80261['delivery_date']),_0xd38891={'year':_0x4f4cff(0xe3),'month':'short','day':_0x4f4cff(0xe3)};var _0x2d640c=_0x5ef602[_0x4f4cff(0xc6)](_0x4f4cff(0xa8),_0xd38891);typeof _0xa80261[_0x4f4cff(0xd9)]==_0x4f4cff(0x11d)&&(_0x2d640c='');const _0x4e5eaa={'itemcode':_0xa80261[_0x4f4cff(0x8f)],'itemdescription':_0xa80261['product_name'],'rqty':_0xa80261[_0x4f4cff(0xfc)],'iqty':_0xa80261[_0x4f4cff(0x144)],'unit':_0xa80261[_0x4f4cff(0xd8)],'blocation':_0xa80261[_0x4f4cff(0x13a)]+_0xa80261['rack']+_0xa80261[_0x4f4cff(0xf3)]+_0xa80261[_0x4f4cff(0x88)]+_0xa80261[_0x4f4cff(0xe1)][0x0]+_0xa80261[_0x4f4cff(0xce)],'proddate':_0x46f52c,'expdate':_0xfa18c6,'del_date':_0x2d640c,'del_code':_0xa80261[_0x4f4cff(0x114)]};_0x9e0b82++,_0x583d55['datas'][_0x4f4cff(0x11a)](_0x4e5eaa);}),_0x43f96f[_0x1bd7e6(0xda)](_0x583d55,{'x':_0x9e0b82+0x11,'y':_0x331ae9+=0x1e,'prepareHeader':()=>_0x43f96f[_0x1bd7e6(0xdf)](_0x1bd7e6(0x15a))[_0x1bd7e6(0x130)](6.5),'prepareRow':(_0x3a03c0,_0x44cf66,_0xda5cca,_0x16e065,_0x21e3b4)=>{const _0x4b0e7a=_0x1bd7e6,{x:_0x6c1980,y:_0x388ab2,width:_0x9cf4a2,height:_0x2db243}=_0x21e3b4;_0x43f96f[_0x4b0e7a(0xdf)](_0x4b0e7a(0x9f))[_0x4b0e7a(0x130)](0x8),_0x43f96f[_0x4b0e7a(0x89)](0.5)[_0x4b0e7a(0xcc)](_0x6c1980,_0x388ab2)[_0x4b0e7a(0xf6)](_0x6c1980,_0x388ab2+_0x2db243)[_0x4b0e7a(0xe4)]();}});var _0x5bdb79=_0x43f96f['y'],_0xbcb2e9=_0x43f96f['x'],_0x3ad5f1=_0x5bdb79-=0x8;_0x43f96f['lineWidth'](0x5),_0x43f96f[_0x1bd7e6(0xbe)](_0x1bd7e6(0x13f))['moveTo'](0x240,_0x3ad5f1)[_0x1bd7e6(0xf6)](0x11,_0x3ad5f1)['stroke'](),_0x43f96f[_0x1bd7e6(0x130)](0xa)[_0x1bd7e6(0x93)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0xbcb2e9+0x7d,_0x5bdb79+=0xf),_0x43f96f['fontSize'](0xb)[_0x1bd7e6(0x93)](_0x1bd7e6(0x102),_0xbcb2e9,_0x5bdb79+=0x15e),_0x43f96f[_0x1bd7e6(0x130)](0xa)[_0x1bd7e6(0x93)](_0x1bd7e6(0xb8),_0xbcb2e9+0x52,_0x5bdb79,{'underline':!![]}),_0x43f96f['fontSize'](0xa)[_0x1bd7e6(0x93)](_0x1bd7e6(0xee),_0xbcb2e9,_0x5bdb79+=0x19),_0x43f96f['fontSize'](0xa)[_0x1bd7e6(0x93)]('\x20:\x20',_0xbcb2e9+0x4b,_0x5bdb79),_0x43f96f[_0x1bd7e6(0x130)](0xa)[_0x1bd7e6(0x93)]('\x20'[_0x1bd7e6(0xa1)](0x3c),_0xbcb2e9+0x50,_0x5bdb79,{'underline':!![]}),_0x43f96f[_0x1bd7e6(0x130)](0xa)[_0x1bd7e6(0x93)](_0x1bd7e6(0xf9),_0xbcb2e9,_0x5bdb79+=0x32),_0x43f96f['fontSize'](0xa)[_0x1bd7e6(0x93)](_0x1bd7e6(0x94),_0xbcb2e9+0x4b,_0x5bdb79),_0x43f96f[_0x1bd7e6(0x130)](0xa)[_0x1bd7e6(0x93)](_0x1bd7e6(0x109),_0xbcb2e9+0x50,_0x5bdb79,{'underline':!![]}),_0x43f96f[_0x1bd7e6(0x130)](0xa)[_0x1bd7e6(0x93)](_0x1bd7e6(0xac),_0xbcb2e9+0x50,_0x5bdb79+0xc);let _0x1de00e=_0x43f96f[_0x1bd7e6(0x14a)]();for(let _0x4b615c=0x0;_0x4b615c<_0x1de00e[_0x1bd7e6(0x97)];_0x4b615c++){_0x43f96f[_0x1bd7e6(0x111)](_0x4b615c);let _0x1f4413=_0x43f96f[_0x1bd7e6(0x131)][_0x1bd7e6(0x132)]['bottom'];_0x43f96f['page']['margins']['bottom']=0x0,_0x43f96f[_0x1bd7e6(0x93)](_0x1bd7e6(0x9c)+(_0x4b615c+0x1)+_0x1bd7e6(0xf4)+_0x1de00e[_0x1bd7e6(0x97)],0x0,_0x43f96f[_0x1bd7e6(0x131)][_0x1bd7e6(0x155)]-_0x1f4413/0x2,{'align':'center'}),_0x43f96f[_0x1bd7e6(0x131)][_0x1bd7e6(0x132)][_0x1bd7e6(0x152)]=_0x1f4413;}const _0x11b24b=_0x43f96f['y'],_0x553e23=_0x43f96f['x'];_0x43f96f[_0x1bd7e6(0x100)]();}catch(_0x575eb3){console[_0x1bd7e6(0x12c)](_0x575eb3),_0x5404db[_0x1bd7e6(0x11f)](0x1f4)[_0x1bd7e6(0xb5)](_0x1bd7e6(0xae));}}),router[a0_0x24dbbb(0xd3)](a0_0x24dbbb(0x15d),auth,async(_0x468945,_0x2f4f0d)=>{const _0x1b2bb7=a0_0x24dbbb;try{const {username:_0x4b9975,email:_0x3bafaa,role:_0x12cbd3}=_0x468945[_0x1b2bb7(0xaa)],_0x1f00b2=_0x468945[_0x1b2bb7(0xaa)],_0x15f3be=await profile['findOne']({'email':_0x1f00b2['email']}),_0x48e9e7=await master_shop['find'](),_0x23e183=_0x468945[_0x1b2bb7(0x126)]['id'],_0x4da468=await adjustment[_0x1b2bb7(0x120)](_0x23e183);var _0x268580,_0x4ee13b;_0x268580='PICKING\x20LIST',_0x4ee13b=_0x1b2bb7(0x15b);_0x4da468[_0x1b2bb7(0xcf)]==_0x1b2bb7(0x110)&&(_0x268580=_0x1b2bb7(0x158),_0x4ee13b='');const _0x105d02=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2f4f0d[_0x1b2bb7(0x148)](_0x1b2bb7(0x96),_0x1b2bb7(0xbc)+_0x23e183+'.pdf\x22'),_0x2f4f0d[_0x1b2bb7(0x148)](_0x1b2bb7(0x133),_0x1b2bb7(0x14d));var _0x4b8b2a=0x14,_0x493ff5=0x3c;_0x105d02[_0x1b2bb7(0xa5)](_0x2f4f0d),_0x105d02['image'](_0x1b2bb7(0xb9)+_0x48e9e7[0x0][_0x1b2bb7(0xff)],0x14,0x0,{'fit':[0x64,0x64]}),_0x105d02['fontSize'](0x14)[_0x1b2bb7(0x93)](_0x1b2bb7(0xb0),_0x4b8b2a,_0x493ff5),_0x105d02['fontSize'](0xa)[_0x1b2bb7(0x93)](_0x1b2bb7(0x10e),_0x4b8b2a,_0x493ff5+=0xf),_0x105d02[_0x1b2bb7(0x130)](0xf)[_0x1b2bb7(0x93)](_0x268580,_0x4b8b2a,_0x493ff5+=0x32),_0x105d02[_0x1b2bb7(0x130)](0xa)[_0x1b2bb7(0x93)](_0x4ee13b,_0x4b8b2a,_0x493ff5+=0x14),_0x105d02[_0x1b2bb7(0x130)](0x9)['text'](_0x1b2bb7(0xa4),_0x4b8b2a,_0x493ff5+=0x28),_0x105d02['fontSize'](0x9)[_0x1b2bb7(0x93)](_0x1b2bb7(0x94)+_0x4da468[_0x1b2bb7(0x14c)],_0x4b8b2a+0x3f,_0x493ff5),_0x105d02[_0x1b2bb7(0x130)](0x9)['text'](_0x1b2bb7(0x108),_0x4b8b2a,_0x493ff5+=0xb),_0x105d02[_0x1b2bb7(0x130)](0x9)[_0x1b2bb7(0x93)](_0x1b2bb7(0x94)+_0x4da468[_0x1b2bb7(0x92)],_0x4b8b2a+0x3f,_0x493ff5),_0x105d02[_0x1b2bb7(0x130)](0x9)[_0x1b2bb7(0x93)](_0x1b2bb7(0xe7),_0x4b8b2a,_0x493ff5+=0xb),_0x105d02[_0x1b2bb7(0x130)](0x9)[_0x1b2bb7(0x93)](_0x1b2bb7(0x94)+_0x4da468[_0x1b2bb7(0xe5)],_0x4b8b2a+0x3f,_0x493ff5);const _0x2dde62={'headers':[{'label':_0x1b2bb7(0x12f),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x1b2bb7(0xbd),'property':_0x1b2bb7(0x139),'width':0x96,'renderer':null},{'label':_0x1b2bb7(0xef),'property':_0x1b2bb7(0x154),'width':0x3c,'renderer':null},{'label':_0x1b2bb7(0x11b),'property':_0x1b2bb7(0xd8),'width':0x3c,'renderer':null},{'label':_0x1b2bb7(0xe6),'property':_0x1b2bb7(0x136),'width':0x50,'renderer':null},{'label':_0x1b2bb7(0x15c),'property':_0x1b2bb7(0x156),'width':0x3f,'renderer':null},{'label':_0x1b2bb7(0xf2),'property':_0x1b2bb7(0x150),'width':0x3f,'renderer':null}],'datas':[]};var _0x39ef5a=0x0,_0x427ac2=0x0;_0x4da468[_0x1b2bb7(0x8e)][_0x1b2bb7(0xdc)](_0x192421=>{const _0x34ee84=_0x1b2bb7;let _0x45d833='';const _0xebd4b9=_0x192421[_0x34ee84(0xba)];for(let _0x110759=0x1;_0x110759<=_0xebd4b9;_0x110759++){_0xebd4b9==_0x110759?_0x45d833+=_0x192421[_0x34ee84(0xd6)]:_0x45d833+=_0x192421[_0x34ee84(0xd6)]+',',_0x427ac2+=_0x192421['maxperunit'];}_0x45d833+=_0x34ee84(0xc3)+_0x192421[_0x34ee84(0xed)];const _0x1c16ab={'itemcode':_0x192421[_0x34ee84(0x8f)],'itemdescription':_0x192421[_0x34ee84(0x86)],'qty':_0x192421[_0x34ee84(0x147)],'unit':_0x192421[_0x34ee84(0xd8)],'proddate':_0x192421[_0x34ee84(0x8a)],'batchno':_0x192421[_0x34ee84(0x124)],'binloc':_0x192421[_0x34ee84(0x13a)]+_0x192421[_0x34ee84(0xe2)]+_0x192421[_0x34ee84(0xf3)]+_0x192421[_0x34ee84(0x88)]+_0x192421[_0x34ee84(0xe1)][0x0]+_0x192421[_0x34ee84(0xce)]};_0x39ef5a+=_0x192421[_0x34ee84(0x147)],_0x2dde62[_0x34ee84(0xf7)][_0x34ee84(0x11a)](_0x1c16ab);}),_0x105d02[_0x1b2bb7(0xda)](_0x2dde62,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x105d02[_0x1b2bb7(0xdf)](_0x1b2bb7(0x15a))[_0x1b2bb7(0x130)](0x8),'prepareRow':(_0x246a10,_0x968570,_0x42083f,_0x3dc71a)=>_0x105d02[_0x1b2bb7(0xdf)](_0x1b2bb7(0x9f))['fontSize'](0x8)});var _0x3c4c25=_0x105d02['y'],_0x18d64d=_0x105d02['x'];_0x105d02[_0x1b2bb7(0x130)](0xa)[_0x1b2bb7(0x93)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x18d64d+0x7d,_0x3c4c25),_0x105d02[_0x1b2bb7(0x130)](0xa)[_0x1b2bb7(0x93)](_0x1b2bb7(0xbf),_0x18d64d,_0x3c4c25+=0x136),_0x105d02[_0x1b2bb7(0x130)](0xa)[_0x1b2bb7(0x93)](_0x39ef5a,_0x18d64d+0xc8,_0x3c4c25),_0x105d02[_0x1b2bb7(0x130)](0xa)[_0x1b2bb7(0x93)](_0x1b2bb7(0x121),_0x18d64d,_0x3c4c25+=0x19),_0x105d02['fontSize'](0xa)[_0x1b2bb7(0x93)]('\x20'['repeat'](0x3c),_0x18d64d+0x3e,_0x3c4c25,{'underline':!![]}),_0x105d02['fontSize'](0xa)[_0x1b2bb7(0x93)](_0x1b2bb7(0x13e),_0x18d64d,_0x3c4c25+=0x32),_0x105d02[_0x1b2bb7(0x130)](0xa)['text'](_0x1b2bb7(0x94),_0x18d64d+0x37,_0x3c4c25),_0x105d02[_0x1b2bb7(0x130)](0xa)['text'](_0x1b2bb7(0x109),_0x18d64d+0x3c,_0x3c4c25,{'underline':!![]}),_0x105d02[_0x1b2bb7(0x130)](0xa)['text'](_0x1b2bb7(0xac),_0x18d64d+0x3c,_0x3c4c25+0xc);let _0x19ec96=_0x105d02[_0x1b2bb7(0x14a)]();for(let _0x142b70=0x0;_0x142b70<_0x19ec96[_0x1b2bb7(0x97)];_0x142b70++){_0x105d02[_0x1b2bb7(0x111)](_0x142b70);let _0x353400=_0x105d02[_0x1b2bb7(0x131)][_0x1b2bb7(0x132)][_0x1b2bb7(0x152)];_0x105d02['page'][_0x1b2bb7(0x132)][_0x1b2bb7(0x152)]=0x0,_0x105d02[_0x1b2bb7(0x93)](_0x1b2bb7(0x9c)+(_0x142b70+0x1)+_0x1b2bb7(0xf4)+_0x19ec96[_0x1b2bb7(0x97)],0x0,_0x105d02[_0x1b2bb7(0x131)][_0x1b2bb7(0x155)]-_0x353400/0x2,{'align':_0x1b2bb7(0x11e)}),_0x105d02['page'][_0x1b2bb7(0x132)][_0x1b2bb7(0x152)]=_0x353400;}const _0x3743bc=_0x105d02['y'],_0x4b6ffa=_0x105d02['x'];_0x105d02['end']();}catch(_0x147826){console[_0x1b2bb7(0x12c)](_0x147826),_0x2f4f0d[_0x1b2bb7(0x11f)](0x1f4)[_0x1b2bb7(0xb5)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x24dbbb(0xd3)]('/PDF_transfer_rm/:id',auth,async(_0x4634ff,_0x302986)=>{const _0x44d657=a0_0x24dbbb;try{const {username:_0x1fd756,email:_0x2c6cd2,role:_0x52daa7}=_0x4634ff[_0x44d657(0xaa)],_0x47601f=_0x4634ff['user'],_0x3f7b61=await profile[_0x44d657(0x10f)]({'email':_0x47601f[_0x44d657(0xd2)]}),_0x53e9b4=await master_shop[_0x44d657(0x146)](),_0x376b83=_0x4634ff[_0x44d657(0x126)]['id'],_0xd4f2c5=await transfers[_0x44d657(0x120)](_0x376b83);var _0x4d169b,_0x2d3542;_0x4d169b=_0x44d657(0x104),_0x2d3542=_0x44d657(0xb6);_0xd4f2c5[_0x44d657(0xcf)]==_0x44d657(0x110)&&(_0x4d169b=_0x44d657(0x127),_0x2d3542='');const _0x449a30=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x302986[_0x44d657(0x148)](_0x44d657(0x96),_0x44d657(0xbc)+_0x376b83+_0x44d657(0x125)),_0x302986['setHeader'](_0x44d657(0x133),'application/pdf');var _0x437d61=0x14,_0x486e88=0x3c;_0x449a30[_0x44d657(0xa5)](_0x302986),_0x449a30['image']('./public/upload/'+_0x53e9b4[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x449a30[_0x44d657(0x130)](0x14)[_0x44d657(0x93)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x437d61,_0x486e88),_0x449a30[_0x44d657(0x130)](0xa)[_0x44d657(0x93)](_0x44d657(0x10e),_0x437d61,_0x486e88+=0xf),_0x449a30[_0x44d657(0x130)](0xf)[_0x44d657(0x93)](_0x4d169b,_0x437d61,_0x486e88+=0x32),_0x449a30['fontSize'](0xa)['text'](_0x2d3542,_0x437d61,_0x486e88+=0x14),_0x449a30[_0x44d657(0x130)](0x9)[_0x44d657(0x93)]('From\x20Warehouse\x20',_0x437d61,_0x486e88+=0x28),_0x449a30[_0x44d657(0x130)](0x9)['text'](_0x44d657(0xca)+_0xd4f2c5[_0x44d657(0xcd)],_0x437d61+0x3f,_0x486e88),_0x449a30[_0x44d657(0x130)](0x9)['text'](_0x44d657(0xeb),_0x437d61,_0x486e88+=0xa),_0x449a30[_0x44d657(0x130)](0x9)[_0x44d657(0x93)]('\x20\x20\x20:\x20'+_0xd4f2c5[_0x44d657(0x9a)],_0x437d61+0x3f,_0x486e88),_0x449a30[_0x44d657(0x130)](0x9)[_0x44d657(0x93)](_0x44d657(0x108),_0x437d61,_0x486e88+=0xb),_0x449a30['fontSize'](0x9)[_0x44d657(0x93)](_0x44d657(0xca)+_0xd4f2c5['date'],_0x437d61+0x3f,_0x486e88),_0x449a30[_0x44d657(0x130)](0x9)[_0x44d657(0x93)]('Control\x20Number\x20',_0x437d61,_0x486e88+=0xb),_0x449a30[_0x44d657(0x130)](0x9)['text'](_0x44d657(0xca)+_0xd4f2c5[_0x44d657(0xe5)],_0x437d61+0x3f,_0x486e88);const _0x208173={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x44d657(0xc4),'property':_0x44d657(0x151),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':'\x20\x20\x20\x20\x20TO','property':'itemdescription','width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x449a30[_0x44d657(0xda)](_0x208173,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x449a30[_0x44d657(0xdf)](_0x44d657(0x15a))['fontSize'](0x8),'prepareRow':(_0x3f3d49,_0x1d5c38,_0x11bbed,_0x418603)=>_0x449a30[_0x44d657(0xdf)]('Helvetica')[_0x44d657(0x130)](0x8)});const _0x552778={'headers':[{'label':_0x44d657(0x12f),'property':_0x44d657(0x151),'width':0x3c,'renderer':null},{'label':_0x44d657(0xbd),'property':_0x44d657(0x139),'width':0x96,'renderer':null},{'label':'Quantity','property':'qty','width':0x28,'renderer':null},{'label':_0x44d657(0x11b),'property':_0x44d657(0xd8),'width':0x37,'renderer':null},{'label':_0x44d657(0xe6),'property':_0x44d657(0x136),'width':0x4b,'renderer':null},{'label':_0x44d657(0x15c),'property':_0x44d657(0x156),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':'binlocFrom','width':0x3f,'renderer':null},{'label':_0x44d657(0xf2),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x4affcc=0x0;let _0x170170='';var _0x194ca0=0x0;_0xd4f2c5['product'][_0x44d657(0xdc)](_0x3bfbe7=>{const _0x4ac5ff=_0x44d657;var _0x30e3fd=_0x3bfbe7['prod_cat'],_0x4cdd9e;_0x4cdd9e=_0x3bfbe7[_0x4ac5ff(0xd8)];_0x30e3fd=='S'&&(_0x4cdd9e=_0x3bfbe7[_0x4ac5ff(0xed)]);const _0x5587e1={'itemcode':_0x3bfbe7[_0x4ac5ff(0x8f)],'itemdescription':_0x3bfbe7[_0x4ac5ff(0x86)],'qty':_0x3bfbe7[_0x4ac5ff(0xba)],'unit':_0x4cdd9e,'proddate':_0x3bfbe7['production_date'],'batchno':_0x3bfbe7['batch_code'],'binloc':_0x3bfbe7['storage']+_0x3bfbe7['rack']+_0x3bfbe7[_0x4ac5ff(0x15f)]+_0x3bfbe7['to_bin']+_0x3bfbe7[_0x4ac5ff(0xf1)][0x0]+_0x3bfbe7[_0x4ac5ff(0x160)],'qtyFrom':_0x3bfbe7[_0x4ac5ff(0xd0)],'binlocFrom':_0x3bfbe7[_0x4ac5ff(0x149)]+_0x3bfbe7[_0x4ac5ff(0xb1)]+_0x3bfbe7[_0x4ac5ff(0x13c)]+_0x3bfbe7[_0x4ac5ff(0xc2)]+_0x3bfbe7['from_types'][0x0]+_0x3bfbe7[_0x4ac5ff(0x87)]};_0x4affcc+=_0x3bfbe7[_0x4ac5ff(0xba)],_0x552778[_0x4ac5ff(0xf7)]['push'](_0x5587e1);}),_0x449a30[_0x44d657(0xda)](_0x552778,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x449a30[_0x44d657(0xdf)](_0x44d657(0x15a))[_0x44d657(0x130)](0x8),'prepareRow':(_0x986a2e,_0x56ab60,_0x299ee9,_0xd2dba8)=>_0x449a30[_0x44d657(0xdf)](_0x44d657(0x9f))[_0x44d657(0x130)](0x8)});var _0x31598d=_0x449a30['y'],_0x5092f3=_0x449a30['x'];_0x449a30['fontSize'](0xa)[_0x44d657(0x93)](_0x44d657(0x11c),_0x5092f3+0x7d,_0x31598d),_0x449a30['fontSize'](0xa)[_0x44d657(0x93)](_0x44d657(0xab),_0x5092f3,_0x31598d+=0x12c),_0x449a30[_0x44d657(0x130)](0xa)[_0x44d657(0x93)](_0x4affcc,_0x5092f3+0xd7,_0x31598d,{'underline':!![]}),_0x449a30[_0x44d657(0x130)](0xa)[_0x44d657(0x93)](_0x44d657(0xc0),_0x5092f3,_0x31598d+=0x32),_0x449a30['fontSize'](0xa)[_0x44d657(0x93)](_0x44d657(0x106),_0x5092f3+0x3c,_0x31598d,{'underline':!![]}),_0x449a30[_0x44d657(0x130)](0xa)[_0x44d657(0x93)](_0x44d657(0xac),_0x5092f3+0x3c,_0x31598d+0xc);let _0x54874d=_0x449a30[_0x44d657(0x14a)]();for(let _0x5280df=0x0;_0x5280df<_0x54874d['count'];_0x5280df++){_0x449a30['switchToPage'](_0x5280df);let _0x591bcc=_0x449a30[_0x44d657(0x131)][_0x44d657(0x132)][_0x44d657(0x152)];_0x449a30[_0x44d657(0x131)][_0x44d657(0x132)][_0x44d657(0x152)]=0x0,_0x449a30[_0x44d657(0x93)](_0x44d657(0x9c)+(_0x5280df+0x1)+'\x20of\x20'+_0x54874d[_0x44d657(0x97)],0x0,_0x449a30[_0x44d657(0x131)]['height']-_0x591bcc/0x2,{'align':_0x44d657(0x11e)}),_0x449a30[_0x44d657(0x131)][_0x44d657(0x132)][_0x44d657(0x152)]=_0x591bcc;}const _0x441de8=_0x449a30['y'],_0x3c3a82=_0x449a30['x'];_0x449a30[_0x44d657(0x100)]();}catch(_0x1ad04b){console['log'](_0x1ad04b),_0x302986[_0x44d657(0x11f)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x24dbbb(0xd3)](a0_0x24dbbb(0x9d),auth,async(_0x4029f6,_0x3aee9b)=>{const _0xdc572c=a0_0x24dbbb;try{const _0x47d215=_0x2b0999=>_0x2b0999*0x48,_0x2f8966={'width':0x3,'height':0x1},_0x1bfc7c=await product[_0xdc572c(0x146)](),_0x4eaac9=new PDFDocument({'margin':_0x47d215(0.75),'size':[_0x47d215(_0x2f8966['width']),_0x47d215(_0x2f8966['height'])],'bufferPages':!![]}),_0x19724e=_0x1bfc7c[_0xdc572c(0x12a)];for(let _0x3f5610=0x0;_0x3f5610<=_0x19724e;_0x3f5610++){if(_0x3f5610!=_0x1bfc7c['length']){const _0x2f4fb3=_0x1bfc7c[_0x3f5610][_0xdc572c(0x8d)],_0x332ba6=_0x1bfc7c[_0x3f5610]['primary_code'],_0x5d40aa=_0x1bfc7c[_0x3f5610][_0xdc572c(0x91)],_0x2f711f=_0x1bfc7c[_0x3f5610][_0xdc572c(0x8f)],_0x27f9eb=new Canvas();JsBarcode(_0x27f9eb,_0x332ba6,{'format':_0xdc572c(0xc7),'height':0x32,'displayValue':!![],'text':_0x332ba6}),_0x4eaac9['image'](_0x27f9eb[_0xdc572c(0x129)](),0x0,0x0,{'width':0xd2}),_0x4eaac9['addPage']();}}_0x4eaac9[_0xdc572c(0xa5)](_0x3aee9b),_0x4eaac9['end']();}catch(_0x2a5708){console['error'](_0xdc572c(0xb7),_0x2a5708),_0x3aee9b[_0xdc572c(0x11f)](0x1f4)[_0xdc572c(0xb5)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),module[a0_0x24dbbb(0x142)]=router;function a0_0x3301(){const _0x48f2ae=['stroke','invoice','Production\x20Date','Control\x20Number\x20','standard_unit','18pIuzww','Check\x20By\x20\x20\x20\x20:\x20','To\x20Warehouse\x20','Picked\x20By\x20\x20\x20:\x20','secondary_unit','Picked\x20By','Quantity','4511710utYDWG','to_types','Bin\x20Location','bay','\x20of\x20','/PDF/:id','lineTo','datas','DELIVERY\x20CODE','Noted\x20By\x20','919123cAYbww','DelCode','requested_qty','jsbarcode','1253379XlQfeL','image','end','del_date','PREPARED\x20BY\x20:\x20','/pdf_sales_return_fin/:id','Picking\x20List','return_sale','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Control\x20Number\x20:\x20','Date\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','DRY\x20GOODS','PRODUCTION\x20DATE','Customer\x20:\x20','Supplier\x20:\x20','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','findOne','True','switchToPage','\x20\x20TO','LOCATION','delivery_code','return_qty','MATERIAL\x20DESCRIPTION','FROZEN\x20GOODS','pdfkit-table','From\x20Warehouse\x20','push','UOM','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','undefined','center','status','findById','Picked\x20By\x20\x20\x20\x20\x20:\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','batch_code','.pdf\x22','params','STOCKS\x20TRANSFER','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','toBuffer','length','blocation','log','xlsx','PICKING\x20LIST','Item\x20Code','fontSize','page','margins','Content-type','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','ITEM\x20CODE','proddate','(OUTGOING)','Expiration\x20Date','itemdescription','storage','Check\x20By:\x20','from_bay','express/lib/response','Checked\x20By\x20','butt','Finished\x20Good\x20Warehouse\x20Supervisor','2863434ZMJbbO','exports','DELIVERY\x20RECEIPT','quantity','QUANTITY\x20ISSUED','find','new_adjust_qty','setHeader','from_storage','bufferedPageRange','short','warehouse_name','application/pdf','/PDF_transfer/:id','DELIVERY\x20DATE','binloc','itemcode','bottom','QTY','qty','height','batchno','del_code','INVENTORY\x20ADJUSTMENT','expdate','Helvetica-Bold','(INVENTORY\x20ADJUSTMENT)','Batch\x20No','/PDF_adjustment_rm/:id','(INCOMING)','to_bay','to_floorlevel','product_name','from_floorlevel','bin','lineWidth','production_date','Date\x20:\x20','../models/all_models','name','product','product_code','warehouse_cat','secondary_code','date','text','\x20:\x20','Router','Content-disposition','count','Checked\x20By\x20\x20\x20:\x20','multer','to_warehouse','Warehouse\x20:\x20','Page:\x20','/barcode_generator/','Delivery\x20Code','Helvetica','FTGS\x20Number\x20:\x20','repeat','2xwMHHm','1395944OVMLXc','Warehouse\x20','pipe','maxPerUnit','prod_cat','en-US','92428PsQVhl','user','TOTAL\x20QTY:\x20','Raw\x20Materials\x20Warehouse\x20Supervisor','Pick\x20By\x20:\x20','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','(RETURN)','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','from_rack','blob-stream','rqty','adjust_qty','send','(STOCKS\x20TRANSFER)','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','./public/upload/','to_quantity','sale_product','inline;\x20filename=\x22OUT-','Item\x20Description','lineCap','TOTAL\x20QTY\x20:\x20','Checked\x20By:\x20','2725450PxEWqP','from_bin','\x20/\x20','\x20\x20\x20\x20\x20FROM','expiry_date','toLocaleDateString','CODE128','/PDF_adjustment/:id','REF\x20MRIS#\x20','\x20\x20\x20:\x20','REQUESTED\x20QUANTITY','moveTo','from_warehouse','floorlevel','finalize','from_quantity','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','email','get','/pdf_puchases_fin/:id','suppliers','maxperunit','POnumber','unit','delivery_date','table','7LTUFIj','forEach','Picked\x20By\x20\x20\x20\x20:\x20','customer','font','iqty','type','rack','numeric'];a0_0x3301=function(){return _0x48f2ae;};return a0_0x3301();}