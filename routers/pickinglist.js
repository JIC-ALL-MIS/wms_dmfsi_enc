function a0_0x3831(){const _0x22ef31=['1341851LKRGBP','status','DELIVERY\x20RECEIPT','bin','\x20of\x20','proddate','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','center','UOM','maxPerUnit','user','(OUTGOING)','to_warehouse','product','binloc','/PDF_adjustment/:id','ARMAN\x20CRUZ','\x20/\x20','error','Warehouse\x20','product_code','7174674Dbghzw','../middleware/auth','length','Item\x20Code','lineCap','to_bin','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(INVENTORY\x20ADJUSTMENT)','suppliers','type','iqty','warehouse_cat','application/pdf','return_sale_QA','itemdescription','Item\x20Description','lineWidth','Content-disposition','itemcode','forEach','lineTo','Date\x20:\x20','page','fontSize','setHeader','expdate','canvas','height','email','853860dFtKbb','Helvetica-Bold','Picked\x20By\x20\x20\x20:\x20','207555tzDzwL','findById','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','del_code','to_quantity','MATERIAL\x20DESCRIPTION','Picked\x20By','send','to_bay','secondary_unit','requested_qty','repeat','PREPARED\x20BY\x20:\x20','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','butt','DELIVERY\x20CODE','end','from_bay','Control\x20Number\x20:\x20','ITEM\x20CODE','Check\x20By:\x20','TOTAL\x20QTY\x20:\x20','Router','unit','binlocFrom','rqty','DelCode','moveTo','inline;\x20filename=\x22OUT-','push','find','secondary_code','delivery_date','primary_code','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','switchToPage','FROZEN\x20GOODS','express','qty','table','Production\x20Date','return_sale','warehouse_name','../public/language/languages.json','standard_unit','date','count','maxperunit','\x20\x20FROM','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','TOTAL\x20QTY:\x20','/PDF/:id','adjust_qty','express/lib/response','Checked\x20By:\x20','72OkvgXx','bottom','production_date','margins','True','from_storage','PRODUCTION\x20DATE','STOCKS\x20TRANSFER','del_date','INVENTORY\x20ADJUSTMENT','DRY\x20GOODS','invoice','Batch\x20No','/PDF_Sales/:id','\x20y:\x20','xlsx','10dqUsru','Delivery\x20Code','CODE128','batchno','product_name','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','image','12EfiXPt','/pdf_puchases_fin/:id','pipe','log','./public/upload/','From\x20Warehouse\x20','LOCATION','Checked\x20By\x20\x20\x20:\x20','.pdf\x22','REF\x20MRIS#\x20','en-US','blocation','\x20row:\x20','FTGS\x20Number\x20:\x20','floorlevel','from_types','Page:\x20','blob-stream','Checked\x20By\x20','from_quantity','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2496474ecLCEQ','batch_code','from_floorlevel','PICKING\x20LIST','rack','to_types','/pdf_puchases/:id','text','Customer\x20:\x20','\x20<>\x20','Control\x20Number\x20','return_qty','Helvetica','Content-type','width','\x20:\x20','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','(INCOMING)','undefined','findOne','(RETURN)','To\x20Warehouse\x20','Quantity','Raw\x20Materials\x20Warehouse\x20Supervisor','toLocaleDateString','from_warehouse','datas','finalize','Picking\x20List','QTY','Check\x20By\x20\x20\x20\x20:\x20','bay','prod_cat','expiry_date','to_floorlevel','get','quantity','new_adjust_qty','numeric','Expiration\x20Date','Finished\x20Good\x20Warehouse\x20Supervisor','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','bufferedPageRange','stroke','name','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','QUANTITY\x20ISSUED','sale_product','params','Picked\x20By\x20\x20\x20\x20\x20:\x20','pdfkit-table','\x20\x20\x20:\x20','Date\x20','Noted\x20By\x20','(STOCKS\x20TRANSFER)','short','\x20\x20\x20\x20\x20TO','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','1645304XTFpzi','font','storage','Bin\x20Location','318504rYiOGI','/PDF_adjustment_rm/:id'];a0_0x3831=function(){return _0x22ef31;};return a0_0x3831();}function a0_0xc2ee(_0x58fa5a,_0x39bf7c){const _0x38315d=a0_0x3831();return a0_0xc2ee=function(_0xc2eee7,_0x366885){_0xc2eee7=_0xc2eee7-0x66;let _0x2f3eb3=_0x38315d[_0xc2eee7];return _0x2f3eb3;},a0_0xc2ee(_0x58fa5a,_0x39bf7c);}const a0_0x20326b=a0_0xc2ee;(function(_0x18c147,_0x2fd06b){const _0x59774e=a0_0xc2ee,_0x5c7730=_0x18c147();while(!![]){try{const _0xe308ec=-parseInt(_0x59774e(0x73))/0x1+parseInt(_0x59774e(0x10d))/0x2+parseInt(_0x59774e(0xa7))/0x3+parseInt(_0x59774e(0xe1))/0x4*(-parseInt(_0x59774e(0xaa))/0x5)+-parseInt(_0x59774e(0xf8))/0x6*(parseInt(_0x59774e(0x75))/0x7)+-parseInt(_0x59774e(0x6f))/0x8+-parseInt(_0x59774e(0x8a))/0x9*(-parseInt(_0x59774e(0xf1))/0xa);if(_0xe308ec===_0x2fd06b)break;else _0x5c7730['push'](_0x5c7730['shift']());}catch(_0x2bb7a5){_0x5c7730['push'](_0x5c7730['shift']());}}}(a0_0x3831,0xa4ddc));const express=require(a0_0x20326b(0xcf)),res=require(a0_0x20326b(0xdf)),app=express(),router=express[a0_0x20326b(0xc0)](),multer=require('multer'),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require('../models/all_models'),auth=require(a0_0x20326b(0x8b)),users=require(a0_0x20326b(0xd5)),excelJS=require('exceljs'),xlsx=require(a0_0x20326b(0xf0)),PDFDocument=require(a0_0x20326b(0x67)),fs=require('fs'),blobStream=require(a0_0x20326b(0x109)),JsBarcode=require('jsbarcode'),{Canvas}=require(a0_0x20326b(0xa4));router[a0_0x20326b(0x130)](a0_0x20326b(0xdd),auth,async(_0x184ce8,_0x4cb319)=>{const _0x3bce1f=a0_0x20326b;try{const {username:_0x4037c8,email:_0x5bc488,role:_0x17a6f4}=_0x184ce8[_0x3bce1f(0x7f)],_0x2612a9=_0x184ce8['user'],_0x39d09b=await profile[_0x3bce1f(0x120)]({'email':_0x2612a9[_0x3bce1f(0xa6)]}),_0x148cce=await master_shop[_0x3bce1f(0xc8)](),_0x304a56=_0x184ce8[_0x3bce1f(0x13d)]['id'],_0x233874=await sales_finished[_0x3bce1f(0xab)](_0x304a56);var _0x15cdc2;_0x15cdc2=_0x3bce1f(0x110);_0x233874[_0x3bce1f(0x128)]==_0x3bce1f(0xe5)&&(_0x15cdc2=_0x3bce1f(0x77));const _0x5e406c=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4cb319[_0x3bce1f(0xa2)](_0x3bce1f(0x9b),'inline;\x20filename=\x22'+_0x233874[_0x3bce1f(0xec)]+_0x3bce1f(0x100)),_0x4cb319[_0x3bce1f(0xa2)](_0x3bce1f(0x11a),'application/pdf');var _0x2cf23f=0x14,_0x287215=0x3c;_0x5e406c[_0x3bce1f(0xfa)](_0x4cb319),_0x5e406c[_0x3bce1f(0xf7)](_0x3bce1f(0xfc)+_0x148cce[0x0][_0x3bce1f(0xf7)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5e406c[_0x3bce1f(0xa1)](0x14)[_0x3bce1f(0x114)](_0x3bce1f(0x11d),_0x2cf23f,_0x287215),_0x5e406c['fontSize'](0xa)[_0x3bce1f(0x114)](_0x3bce1f(0xdb),_0x2cf23f,_0x287215+=0xf),_0x5e406c[_0x3bce1f(0xa1)](0xf)['text'](_0x15cdc2,_0x2cf23f,_0x287215+=0x32),_0x5e406c[_0x3bce1f(0xa1)](0xa)[_0x3bce1f(0x114)](_0x3bce1f(0x80),_0x2cf23f,_0x287215+=0x14),_0x5e406c[_0x3bce1f(0xa1)](0x9)[_0x3bce1f(0x114)]('Warehouse\x20',_0x2cf23f,_0x287215+=0x28),_0x5e406c[_0x3bce1f(0xa1)](0x9)[_0x3bce1f(0x114)]('\x20:\x20'+_0x233874[_0x3bce1f(0xd4)],_0x2cf23f+0x3f,_0x287215),_0x5e406c[_0x3bce1f(0xa1)](0x9)[_0x3bce1f(0x114)](_0x3bce1f(0x115)+_0x233874['customer'],_0x2cf23f+0x17c,_0x287215,{'underline':!![]}),_0x5e406c['fontSize'](0x9)[_0x3bce1f(0x114)]('Date\x20',_0x2cf23f,_0x287215+=0xb),_0x5e406c[_0x3bce1f(0xa1)](0x9)[_0x3bce1f(0x114)](_0x3bce1f(0x11c)+_0x233874[_0x3bce1f(0xd7)],_0x2cf23f+0x3f,_0x287215),_0x5e406c[_0x3bce1f(0xa1)](0x9)[_0x3bce1f(0x114)](_0x3bce1f(0x117),_0x2cf23f,_0x287215+=0xb),_0x5e406c['fontSize'](0x9)[_0x3bce1f(0x114)](_0x3bce1f(0x11c)+_0x233874['invoice'],_0x2cf23f+0x3f,_0x287215);const _0x511e92={'headers':[{'label':_0x3bce1f(0x8d),'property':_0x3bce1f(0x9c),'width':0x3c,'renderer':null},{'label':_0x3bce1f(0x99),'property':'itemdescription','width':0xa5,'renderer':null},{'label':_0x3bce1f(0x123),'property':'qty','width':0x3c,'renderer':null},{'label':'UOM','property':_0x3bce1f(0xc1),'width':0x3c,'renderer':null},{'label':_0x3bce1f(0xd2),'property':_0x3bce1f(0x7a),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3f,'renderer':null},{'label':_0x3bce1f(0x72),'property':_0x3bce1f(0x83),'width':0x3f,'renderer':null}],'datas':[]};var _0x13e61b=0x0;let _0x2d91e0='';var _0x385501=0x0;_0x233874[_0x3bce1f(0xd4)]==_0x3bce1f(0xeb)?_0x2d91e0='DG':_0x2d91e0='FG';var _0x1c04dd=0x0;_0x233874[_0x3bce1f(0x13c)][_0x3bce1f(0x9d)](_0x43c83e=>{const _0x5e96f8=_0x3bce1f;console[_0x5e96f8(0xfb)](_0x43c83e);let _0x2c357c='';const _0x1bc4fa=_0x43c83e[_0x5e96f8(0x131)];for(let _0x390eb0=0x1;_0x390eb0<=_0x1bc4fa;_0x390eb0++){_0x1bc4fa==_0x390eb0?_0x2c357c+=_0x43c83e[_0x5e96f8(0xd9)]:_0x2c357c+=_0x43c83e['maxperunit']+',',_0x385501+=_0x43c83e['maxperunit'];}_0x2c357c+=_0x5e96f8(0x86)+_0x43c83e[_0x5e96f8(0xb3)];const _0x1b5231={'itemcode':_0x43c83e[_0x5e96f8(0x89)],'itemdescription':_0x43c83e[_0x5e96f8(0xf5)],'qty':_0x43c83e['quantity'],'unit':_0x43c83e[_0x5e96f8(0xc1)],'proddate':_0x43c83e['production_date'],'batchno':_0x43c83e[_0x5e96f8(0x10e)],'binloc':_0x2d91e0+_0x43c83e[_0x5e96f8(0x12c)]};_0x13e61b+=_0x43c83e[_0x5e96f8(0x131)],_0x1c04dd+=0x1,_0x511e92[_0x5e96f8(0x127)][_0x5e96f8(0xc7)](_0x1b5231);}),_0x5e406c[_0x3bce1f(0xd1)](_0x511e92,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x5e406c['font']('Helvetica-Bold')['fontSize'](0x8),'prepareRow':(_0x299ef3,_0x291df0,_0x3b23a7,_0x5933bd)=>_0x5e406c[_0x3bce1f(0x70)]('Helvetica')['fontSize'](0x8)});var _0x4f57ad=_0x5e406c['y'],_0x33ff1a=_0x5e406c['x'];_0x5e406c[_0x3bce1f(0xa1)](0xa)[_0x3bce1f(0x114)](_0x3bce1f(0x6e),_0x33ff1a+0x7d,_0x4f57ad),console[_0x3bce1f(0xfb)]('x:\x20'+_0x33ff1a+_0x3bce1f(0xef)+_0x4f57ad+_0x3bce1f(0x104)+_0x1c04dd);const _0x248586=_0x33ff1a*_0x1c04dd;_0x5e406c[_0x3bce1f(0xa1)](0xa)['text']('TOTAL\x20QTY:\x20',_0x33ff1a,_0x4f57ad+=0x15e-_0x248586),_0x5e406c[_0x3bce1f(0xa1)](0xa)[_0x3bce1f(0x114)](_0x13e61b,_0x33ff1a+0xdc,_0x4f57ad,{'underline':!![]}),_0x5e406c['fontSize'](0xa)[_0x3bce1f(0x114)]('Picked\x20By\x20\x20\x20:\x20',_0x33ff1a,_0x4f57ad+=0x19),_0x5e406c[_0x3bce1f(0xa1)](0xa)[_0x3bce1f(0x114)]('\x20'[_0x3bce1f(0xb5)](0x3c),_0x33ff1a+0x3e,_0x4f57ad,{'underline':!![]}),_0x5e406c['fontSize'](0xa)[_0x3bce1f(0x114)](_0x3bce1f(0xe0),_0x33ff1a,_0x4f57ad+=0x32),_0x5e406c[_0x3bce1f(0xa1)](0xa)[_0x3bce1f(0x114)](_0x3bce1f(0xf6),_0x33ff1a+0x3c,_0x4f57ad,{'underline':!![]}),_0x5e406c[_0x3bce1f(0xa1)](0xa)['text'](_0x3bce1f(0x135),_0x33ff1a+0x3c,_0x4f57ad+0xc);let _0x34aa3d=_0x5e406c['bufferedPageRange']();for(let _0x42442c=0x0;_0x42442c<_0x34aa3d[_0x3bce1f(0xd8)];_0x42442c++){_0x5e406c[_0x3bce1f(0xcd)](_0x42442c);let _0x5ceae7=_0x5e406c[_0x3bce1f(0xa0)][_0x3bce1f(0xe4)][_0x3bce1f(0xe2)];_0x5e406c[_0x3bce1f(0xa0)][_0x3bce1f(0xe4)][_0x3bce1f(0xe2)]=0x0,_0x5e406c[_0x3bce1f(0x114)](_0x3bce1f(0x108)+(_0x42442c+0x1)+_0x3bce1f(0x79)+_0x34aa3d['count'],0x0,_0x5e406c['page']['height']-_0x5ceae7/0x2,{'align':_0x3bce1f(0x7c)}),_0x5e406c[_0x3bce1f(0xa0)][_0x3bce1f(0xe4)][_0x3bce1f(0xe2)]=_0x5ceae7;}const _0x34c72e=_0x5e406c['y'],_0x32c6b8=_0x5e406c['x'];_0x5e406c['end']();}catch(_0x453e83){console[_0x3bce1f(0xfb)](_0x453e83),_0x4cb319[_0x3bce1f(0x76)](0x1f4)[_0x3bce1f(0xb1)](_0x3bce1f(0x136));}}),router['get']('/PDF_transfer/:id',auth,async(_0x2ad6ca,_0x7e9a04)=>{const _0x660533=a0_0x20326b;try{const {username:_0x1aa78e,email:_0x298833,role:_0x1cd16f}=_0x2ad6ca[_0x660533(0x7f)],_0x1c7a33=_0x2ad6ca[_0x660533(0x7f)],_0x476b9a=await profile[_0x660533(0x120)]({'email':_0x1c7a33[_0x660533(0xa6)]}),_0x552f36=await master_shop[_0x660533(0xc8)](),_0x50a7f5=_0x2ad6ca[_0x660533(0x13d)]['id'],_0x2fe9d8=await transfers_finished[_0x660533(0xab)](_0x50a7f5);var _0x598beb,_0x3f65b3;_0x598beb=_0x660533(0x129),_0x3f65b3=_0x660533(0x6b);_0x2fe9d8['finalize']==_0x660533(0xe5)&&(_0x598beb='STOCKS\x20TRANSFER',_0x3f65b3='');const _0x835dbd=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x7e9a04[_0x660533(0xa2)](_0x660533(0x9b),_0x660533(0xc6)+_0x50a7f5+_0x660533(0x100)),_0x7e9a04['setHeader'](_0x660533(0x11a),_0x660533(0x96));var _0x1146a7=0x14,_0x323bc3=0x3c;_0x835dbd[_0x660533(0xfa)](_0x7e9a04),_0x835dbd[_0x660533(0xf7)](_0x660533(0xfc)+_0x552f36[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x835dbd['fontSize'](0x14)[_0x660533(0x114)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x1146a7,_0x323bc3),_0x835dbd[_0x660533(0xa1)](0xa)['text'](_0x660533(0xdb),_0x1146a7,_0x323bc3+=0xf),_0x835dbd[_0x660533(0xa1)](0xf)[_0x660533(0x114)](_0x598beb,_0x1146a7,_0x323bc3+=0x32),_0x835dbd[_0x660533(0xa1)](0xa)[_0x660533(0x114)](_0x3f65b3,_0x1146a7,_0x323bc3+=0x14),_0x835dbd[_0x660533(0xa1)](0x9)[_0x660533(0x114)](_0x660533(0xfd),_0x1146a7,_0x323bc3+=0x28),_0x835dbd[_0x660533(0xa1)](0x9)[_0x660533(0x114)](_0x660533(0x68)+_0x2fe9d8[_0x660533(0x126)],_0x1146a7+0x3f,_0x323bc3),_0x835dbd[_0x660533(0xa1)](0x9)[_0x660533(0x114)](_0x660533(0x122),_0x1146a7,_0x323bc3+=0xf),_0x835dbd[_0x660533(0xa1)](0x9)[_0x660533(0x114)](_0x660533(0x68)+_0x2fe9d8['to_warehouse'],_0x1146a7+0x3f,_0x323bc3),_0x835dbd['fontSize'](0x9)[_0x660533(0x114)](_0x660533(0x69),_0x1146a7,_0x323bc3+=0xb),_0x835dbd[_0x660533(0xa1)](0x9)[_0x660533(0x114)](_0x660533(0x68)+_0x2fe9d8['date'],_0x1146a7+0x3f,_0x323bc3),_0x835dbd[_0x660533(0xa1)](0x9)[_0x660533(0x114)](_0x660533(0x117),_0x1146a7,_0x323bc3+=0xb),_0x835dbd[_0x660533(0xa1)](0x9)['text'](_0x660533(0x68)+_0x2fe9d8[_0x660533(0xec)],_0x1146a7+0x3f,_0x323bc3);const _0x9a531a={'headers':[{'label':'','property':_0x660533(0x9c),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x660533(0xda),'property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':'\x20\x20TO','property':_0x660533(0x98),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x835dbd[_0x660533(0xd1)](_0x9a531a,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x835dbd['font']('Helvetica-Bold')[_0x660533(0xa1)](0x8),'prepareRow':(_0x5273f7,_0x5e39ee,_0x23c867,_0x28f933)=>_0x835dbd['font'](_0x660533(0x119))[_0x660533(0xa1)](0x8)});const _0x800b1a={'headers':[{'label':_0x660533(0x8d),'property':_0x660533(0x9c),'width':0x3c,'renderer':null},{'label':_0x660533(0x99),'property':_0x660533(0x98),'width':0x96,'renderer':null},{'label':_0x660533(0x123),'property':_0x660533(0xd0),'width':0x28,'renderer':null},{'label':_0x660533(0x7d),'property':_0x660533(0xc1),'width':0x37,'renderer':null},{'label':'Production\x20Date','property':_0x660533(0x7a),'width':0x4b,'renderer':null},{'label':_0x660533(0xed),'property':_0x660533(0xf4),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x660533(0xc2),'width':0x3f,'renderer':null},{'label':_0x660533(0x72),'property':_0x660533(0x83),'width':0x3f,'renderer':null}],'datas':[]};var _0x45c48c=0x0;let _0x4d989c='';var _0xc42c1e=0x0;if(_0x2fe9d8[_0x660533(0x126)]=='DRY\x20GOODS')_0x4d989c='DG';else _0x2fe9d8[_0x660533(0x126)]==_0x660533(0xce)&&(_0x4d989c='FG');_0x2fe9d8[_0x660533(0x82)][_0x660533(0x9d)](_0x1bd299=>{const _0x1b7b97=_0x660533;var _0x554fac=_0x1bd299['prod_cat'],_0x501884,_0x106904;_0x501884=_0x1bd299['unit'],_0x106904=_0x1bd299[_0x1b7b97(0xae)];_0x554fac=='S'&&(_0x501884=_0x1bd299[_0x1b7b97(0xb3)],_0x106904=_0x1bd299[_0x1b7b97(0xae)]*_0x1bd299[_0x1b7b97(0x7e)]);const _0x385275={'itemcode':_0x1bd299[_0x1b7b97(0x89)],'itemdescription':_0x1bd299[_0x1b7b97(0xf5)],'qty':_0x106904,'unit':_0x501884,'proddate':_0x1bd299['production_date'],'batchno':_0x1bd299[_0x1b7b97(0x10e)],'binloc':_0x4d989c+_0x1bd299[_0x1b7b97(0xb2)],'qtyFrom':_0x1bd299[_0x1b7b97(0x10b)],'binlocFrom':_0x4d989c+_0x1bd299[_0x1b7b97(0xbb)]};_0x45c48c+=_0x106904,_0x800b1a[_0x1b7b97(0x127)]['push'](_0x385275);}),_0x835dbd[_0x660533(0xd1)](_0x800b1a,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x835dbd[_0x660533(0x70)](_0x660533(0xa8))[_0x660533(0xa1)](0x8),'prepareRow':(_0x4718bc,_0x1770fe,_0x1caf08,_0x58d0fb)=>_0x835dbd[_0x660533(0x70)](_0x660533(0x119))[_0x660533(0xa1)](0x8)});var _0x127434=_0x835dbd['y'],_0x4e6689=_0x835dbd['x'];_0x835dbd[_0x660533(0xa1)](0xa)[_0x660533(0x114)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x4e6689+0x7d,_0x127434),_0x835dbd[_0x660533(0xa1)](0xa)[_0x660533(0x114)](_0x660533(0xdc),_0x4e6689,_0x127434+=0x15e),_0x835dbd['fontSize'](0xa)[_0x660533(0x114)](_0x45c48c,_0x4e6689+0xd7,_0x127434,{'underline':!![]}),_0x835dbd[_0x660533(0xa1)](0xa)['text'](_0x660533(0xa9),_0x4e6689,_0x127434+=0x19),_0x835dbd[_0x660533(0xa1)](0xa)[_0x660533(0x114)]('\x20'[_0x660533(0xb5)](0x3c),_0x4e6689+0x3e,_0x127434,{'underline':!![]}),_0x835dbd[_0x660533(0xa1)](0xa)['text'](_0x660533(0xe0),_0x4e6689,_0x127434+=0x32),_0x835dbd[_0x660533(0xa1)](0xa)[_0x660533(0x114)](_0x660533(0xf6),_0x4e6689+0x3c,_0x127434,{'underline':!![]}),_0x835dbd['fontSize'](0xa)[_0x660533(0x114)](_0x660533(0x135),_0x4e6689+0x3c,_0x127434+0xc);let _0x5277ac=_0x835dbd[_0x660533(0x137)]();for(let _0x2d882b=0x0;_0x2d882b<_0x5277ac[_0x660533(0xd8)];_0x2d882b++){_0x835dbd[_0x660533(0xcd)](_0x2d882b);let _0x28436f=_0x835dbd[_0x660533(0xa0)][_0x660533(0xe4)][_0x660533(0xe2)];_0x835dbd[_0x660533(0xa0)][_0x660533(0xe4)][_0x660533(0xe2)]=0x0,_0x835dbd['text']('Page:\x20'+(_0x2d882b+0x1)+_0x660533(0x79)+_0x5277ac['count'],0x0,_0x835dbd['page'][_0x660533(0xa5)]-_0x28436f/0x2,{'align':_0x660533(0x7c)}),_0x835dbd['page'][_0x660533(0xe4)][_0x660533(0xe2)]=_0x28436f;}const _0x2299ff=_0x835dbd['y'],_0x24cab5=_0x835dbd['x'];_0x835dbd[_0x660533(0xba)]();}catch(_0x34b4f6){console[_0x660533(0xfb)](_0x34b4f6),_0x7e9a04[_0x660533(0x76)](0x1f4)[_0x660533(0xb1)](_0x660533(0x136));}}),router['get'](a0_0x20326b(0x84),auth,async(_0x25a53b,_0x105b78)=>{const _0x2ff0a5=a0_0x20326b;try{const {username:_0x4128f4,email:_0x18a2ec,role:_0x43808e}=_0x25a53b[_0x2ff0a5(0x7f)],_0x2ca5a7=_0x25a53b['user'],_0x17cf6e=await profile[_0x2ff0a5(0x120)]({'email':_0x2ca5a7['email']}),_0x1379b8=await master_shop['find'](),_0x2c88a4=_0x25a53b[_0x2ff0a5(0x13d)]['id'],_0x1ecda7=await adjustment_finished['findById'](_0x2c88a4);var _0x88ad28,_0x481461;_0x88ad28='PICKING\x20LIST',_0x481461=_0x2ff0a5(0x91);_0x1ecda7[_0x2ff0a5(0x128)]=='True'&&(_0x88ad28=_0x2ff0a5(0xea),_0x481461='');const _0x3222a=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x105b78[_0x2ff0a5(0xa2)]('Content-disposition','inline;\x20filename=\x22OUT-'+_0x2c88a4+_0x2ff0a5(0x100)),_0x105b78[_0x2ff0a5(0xa2)](_0x2ff0a5(0x11a),'application/pdf');var _0x561cc1=0x14,_0x433e50=0x3c;_0x3222a[_0x2ff0a5(0xfa)](_0x105b78),_0x3222a[_0x2ff0a5(0xf7)](_0x2ff0a5(0xfc)+_0x1379b8[0x0][_0x2ff0a5(0xf7)],0x14,0x0,{'fit':[0x64,0x64]}),_0x3222a['fontSize'](0x14)[_0x2ff0a5(0x114)](_0x2ff0a5(0x11d),_0x561cc1,_0x433e50),_0x3222a[_0x2ff0a5(0xa1)](0xa)[_0x2ff0a5(0x114)](_0x2ff0a5(0xdb),_0x561cc1,_0x433e50+=0xf),_0x3222a['fontSize'](0xf)[_0x2ff0a5(0x114)](_0x88ad28,_0x561cc1,_0x433e50+=0x32),_0x3222a[_0x2ff0a5(0xa1)](0xa)[_0x2ff0a5(0x114)](_0x481461,_0x561cc1,_0x433e50+=0x14),_0x3222a[_0x2ff0a5(0xa1)](0x9)[_0x2ff0a5(0x114)](_0x2ff0a5(0x88),_0x561cc1,_0x433e50+=0x28),_0x3222a['fontSize'](0x9)[_0x2ff0a5(0x114)](_0x2ff0a5(0x11c)+_0x1ecda7[_0x2ff0a5(0xd4)],_0x561cc1+0x3f,_0x433e50),_0x3222a['fontSize'](0x9)[_0x2ff0a5(0x114)]('Date\x20',_0x561cc1,_0x433e50+=0xb),_0x3222a[_0x2ff0a5(0xa1)](0x9)[_0x2ff0a5(0x114)](_0x2ff0a5(0x11c)+_0x1ecda7[_0x2ff0a5(0xd7)],_0x561cc1+0x3f,_0x433e50),_0x3222a[_0x2ff0a5(0xa1)](0x9)['text'](_0x2ff0a5(0x117),_0x561cc1,_0x433e50+=0xb),_0x3222a['fontSize'](0x9)[_0x2ff0a5(0x114)](_0x2ff0a5(0x11c)+_0x1ecda7['invoice'],_0x561cc1+0x3f,_0x433e50);const _0x398e4e={'headers':[{'label':_0x2ff0a5(0x8d),'property':_0x2ff0a5(0x9c),'width':0x3c,'renderer':null},{'label':_0x2ff0a5(0x99),'property':_0x2ff0a5(0x98),'width':0x96,'renderer':null},{'label':'Quantity','property':_0x2ff0a5(0xd0),'width':0x3c,'renderer':null},{'label':_0x2ff0a5(0x7d),'property':_0x2ff0a5(0xc1),'width':0x3c,'renderer':null},{'label':_0x2ff0a5(0xd2),'property':_0x2ff0a5(0x7a),'width':0x50,'renderer':null},{'label':_0x2ff0a5(0xed),'property':_0x2ff0a5(0xf4),'width':0x3f,'renderer':null},{'label':_0x2ff0a5(0x72),'property':_0x2ff0a5(0x83),'width':0x3f,'renderer':null}],'datas':[]};var _0x27c839=0x0;let _0x40d07d='';var _0x3419bd=0x0;_0x1ecda7[_0x2ff0a5(0xd4)]==_0x2ff0a5(0xeb)?_0x40d07d='DG':_0x40d07d='FG';_0x1ecda7['product'][_0x2ff0a5(0x9d)](_0x2fba85=>{const _0x557765=_0x2ff0a5;console[_0x557765(0xfb)](_0x2fba85);var _0x252581=_0x2fba85[_0x557765(0x12d)],_0x5bb890,_0x991484;_0x5bb890=_0x2fba85[_0x557765(0xc1)],_0x991484=_0x2fba85[_0x557765(0xde)];_0x252581=='S'&&(_0x5bb890=_0x2fba85[_0x557765(0xb3)],_0x991484=_0x2fba85['adjust_qty']*_0x2fba85[_0x557765(0x7e)]);const _0x382de5={'itemcode':_0x2fba85[_0x557765(0x89)],'itemdescription':_0x2fba85[_0x557765(0xf5)],'qty':_0x991484,'unit':_0x5bb890,'proddate':_0x2fba85[_0x557765(0xe3)],'batchno':_0x2fba85[_0x557765(0x10e)],'binloc':_0x40d07d+_0x2fba85['bay']};_0x27c839+=_0x991484,_0x398e4e[_0x557765(0x127)][_0x557765(0xc7)](_0x382de5);}),_0x3222a[_0x2ff0a5(0xd1)](_0x398e4e,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x3222a[_0x2ff0a5(0x70)](_0x2ff0a5(0xa8))[_0x2ff0a5(0xa1)](0x8),'prepareRow':(_0x242dd3,_0x152772,_0x36a9a9,_0x2d107b)=>_0x3222a[_0x2ff0a5(0x70)](_0x2ff0a5(0x119))['fontSize'](0x8)});var _0x53968f=_0x3222a['y'],_0x384488=_0x3222a['x'];_0x3222a[_0x2ff0a5(0xa1)](0xa)[_0x2ff0a5(0x114)](_0x2ff0a5(0x6e),_0x384488+0x7d,_0x53968f),_0x3222a['fontSize'](0xa)['text'](_0x2ff0a5(0xbf),_0x384488,_0x53968f+=0x15e),_0x3222a[_0x2ff0a5(0xa1)](0xa)[_0x2ff0a5(0x114)](_0x27c839,_0x384488+0xc8,_0x53968f),_0x3222a['fontSize'](0xa)[_0x2ff0a5(0x114)]('Picked\x20By\x20\x20\x20:\x20',_0x384488,_0x53968f+=0x19),_0x3222a[_0x2ff0a5(0xa1)](0xa)[_0x2ff0a5(0x114)]('\x20'[_0x2ff0a5(0xb5)](0x3c),_0x384488+0x3e,_0x53968f,{'underline':!![]}),_0x3222a['fontSize'](0xa)[_0x2ff0a5(0x114)](_0x2ff0a5(0x10a),_0x384488,_0x53968f+=0x32),_0x3222a[_0x2ff0a5(0xa1)](0xa)['text']('\x20:\x20',_0x384488+0x37,_0x53968f),_0x3222a[_0x2ff0a5(0xa1)](0xa)[_0x2ff0a5(0x114)](_0x2ff0a5(0xf6),_0x384488+0x3c,_0x53968f,{'underline':!![]}),_0x3222a[_0x2ff0a5(0xa1)](0xa)[_0x2ff0a5(0x114)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x384488+0x3c,_0x53968f+0xc);let _0x4be3e6=_0x3222a['bufferedPageRange']();for(let _0x58f8c7=0x0;_0x58f8c7<_0x4be3e6[_0x2ff0a5(0xd8)];_0x58f8c7++){_0x3222a['switchToPage'](_0x58f8c7);let _0x44e853=_0x3222a[_0x2ff0a5(0xa0)]['margins'][_0x2ff0a5(0xe2)];_0x3222a[_0x2ff0a5(0xa0)][_0x2ff0a5(0xe4)][_0x2ff0a5(0xe2)]=0x0,_0x3222a[_0x2ff0a5(0x114)](_0x2ff0a5(0x108)+(_0x58f8c7+0x1)+_0x2ff0a5(0x79)+_0x4be3e6[_0x2ff0a5(0xd8)],0x0,_0x3222a[_0x2ff0a5(0xa0)][_0x2ff0a5(0xa5)]-_0x44e853/0x2,{'align':_0x2ff0a5(0x7c)}),_0x3222a[_0x2ff0a5(0xa0)][_0x2ff0a5(0xe4)][_0x2ff0a5(0xe2)]=_0x44e853;}const _0xce4aac=_0x3222a['y'],_0x3e72fb=_0x3222a['x'];_0x3222a[_0x2ff0a5(0xba)]();}catch(_0x13feb7){console[_0x2ff0a5(0xfb)](_0x13feb7),_0x105b78['status'](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get'](a0_0x20326b(0xf9),auth,async(_0xd7a8f9,_0x31114a)=>{const _0x405b6f=a0_0x20326b;try{const {username:_0x47be91,email:_0x31ca01,role:_0x293c6b}=_0xd7a8f9['user'],_0x46a9e4=_0xd7a8f9[_0x405b6f(0x7f)],_0x2dc86b=await profile[_0x405b6f(0x120)]({'email':_0x46a9e4['email']}),_0x2665c6=await master_shop[_0x405b6f(0xc8)](),_0x3781e4=_0xd7a8f9[_0x405b6f(0x13d)]['id'],_0x392fb5=await purchases_finished[_0x405b6f(0xab)](_0x3781e4),_0x5cb36e=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x31114a[_0x405b6f(0xa2)]('Content-disposition',_0x405b6f(0xc6)+_0x3781e4+_0x405b6f(0x100)),_0x31114a[_0x405b6f(0xa2)](_0x405b6f(0x11a),_0x405b6f(0x96));var _0xeeb473=0x14,_0xedba74=0x3c;_0x5cb36e[_0x405b6f(0xfa)](_0x31114a),_0x5cb36e['image']('./public/upload/'+_0x2665c6[0x0][_0x405b6f(0xf7)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5cb36e[_0x405b6f(0xa1)](0x14)['text'](_0x405b6f(0x11d),_0xeeb473,_0xedba74),_0x5cb36e[_0x405b6f(0xa1)](0xa)['text']('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0xeeb473,_0xedba74+=0xf),_0x5cb36e[_0x405b6f(0xa1)](0xf)[_0x405b6f(0x114)](_0x405b6f(0xb7),_0xeeb473,_0xedba74+=0x32),_0x5cb36e[_0x405b6f(0xa1)](0xa)['text'](_0x405b6f(0x11e),_0xeeb473,_0xedba74+=0x14),_0x5cb36e[_0x405b6f(0xa1)](0x9)[_0x405b6f(0x114)]('Warehouse\x20',_0xeeb473,_0xedba74+=0x28),_0x5cb36e[_0x405b6f(0xa1)](0x9)['text'](_0x405b6f(0x11c)+_0x392fb5[_0x405b6f(0xd4)],_0xeeb473+0x3f,_0xedba74),_0x5cb36e[_0x405b6f(0xa1)](0x9)['text'](_0x405b6f(0x105)+_0x392fb5['POnumber'],_0xeeb473+0x17c,_0xedba74),_0x5cb36e['fontSize'](0x9)[_0x405b6f(0x114)](_0x405b6f(0x69),_0xeeb473,_0xedba74+=0xb),_0x5cb36e[_0x405b6f(0xa1)](0x9)[_0x405b6f(0x114)](_0x405b6f(0x11c)+_0x392fb5[_0x405b6f(0xd7)],_0xeeb473+0x3f,_0xedba74),_0x5cb36e[_0x405b6f(0xa1)](0x9)[_0x405b6f(0x114)](_0x405b6f(0x117),_0xeeb473,_0xedba74+=0xb),_0x5cb36e[_0x405b6f(0xa1)](0x9)[_0x405b6f(0x114)](_0x405b6f(0x11c)+_0x392fb5[_0x405b6f(0xec)],_0xeeb473+0x3f,_0xedba74);const _0x8f3701={'headers':[{'label':_0x405b6f(0x8d),'property':_0x405b6f(0x9c),'width':0x3c,'renderer':null},{'label':_0x405b6f(0x99),'property':'itemdescription','width':0xc8,'renderer':null},{'label':'Quantity','property':'qty','width':0x3c,'renderer':null},{'label':_0x405b6f(0x7d),'property':_0x405b6f(0xc1),'width':0x3c,'renderer':null},{'label':_0x405b6f(0x134),'property':_0x405b6f(0xa3),'width':0x50,'renderer':null},{'label':_0x405b6f(0xed),'property':_0x405b6f(0xf4),'width':0x3f,'renderer':null},{'label':_0x405b6f(0x72),'property':_0x405b6f(0x83),'width':0x3f,'renderer':null}],'datas':[]};var _0x1cc48d=0x0;let _0x402ea5='';_0x392fb5['warehouse_name']=='DRY\x20GOODS'?_0x402ea5='DG':_0x402ea5='FG';_0x392fb5['product'][_0x405b6f(0x9d)](_0x104c75=>{const _0x5cd460=_0x405b6f;let _0x36d32d='';var _0x456bdd=0x0;const _0x260bd9={'itemcode':_0x104c75[_0x5cd460(0x89)],'itemdescription':_0x104c75[_0x5cd460(0xf5)],'qty':_0x104c75[_0x5cd460(0x131)],'unit':_0x104c75[_0x5cd460(0xd6)],'expdate':_0x104c75['expiry_date'],'batchno':_0x104c75[_0x5cd460(0x10e)],'binloc':_0x402ea5+_0x104c75[_0x5cd460(0x12c)]};_0x1cc48d+=_0x104c75[_0x5cd460(0x131)],_0x8f3701['datas'][_0x5cd460(0xc7)](_0x260bd9);}),_0x5cb36e[_0x405b6f(0xd1)](_0x8f3701,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x5cb36e[_0x405b6f(0x70)](_0x405b6f(0xa8))[_0x405b6f(0xa1)](0x8),'prepareRow':(_0x2ba117,_0x2a5712,_0x5c8038,_0xff5dbd)=>_0x5cb36e[_0x405b6f(0x70)]('Helvetica')[_0x405b6f(0xa1)](0x8)});var _0x888638=_0x5cb36e['y'],_0x11e0be=_0x5cb36e['x'];_0x5cb36e[_0x405b6f(0xa1)](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x11e0be+0x7d,_0x888638),_0x5cb36e[_0x405b6f(0xa1)](0xa)[_0x405b6f(0x114)](_0x405b6f(0xdc),_0x11e0be,_0x888638+=0x15e),_0x5cb36e['fontSize'](0xa)[_0x405b6f(0x114)](_0x1cc48d,_0x11e0be+0xfa,_0x888638),_0x5cb36e[_0x405b6f(0xa1)](0xa)['text']('Picked\x20By\x20\x20\x20\x20:\x20',_0x11e0be,_0x888638+=0x19),_0x5cb36e[_0x405b6f(0xa1)](0xa)['text'](_0x405b6f(0xac),_0x11e0be+0x37,_0x888638,{'underline':!![]}),_0x5cb36e[_0x405b6f(0xa1)](0xa)['text'](_0x405b6f(0x12b),_0x11e0be,_0x888638+0x32),_0x5cb36e[_0x405b6f(0xa1)](0xa)[_0x405b6f(0x114)](_0x405b6f(0xf6),_0x11e0be+0x32,_0x888638+0x32,{'underline':!![]}),_0x5cb36e[_0x405b6f(0xa1)](0xa)[_0x405b6f(0x114)](_0x405b6f(0x135),_0x11e0be+0x32,_0x888638+0x3c);let _0x552a09=_0x5cb36e[_0x405b6f(0x137)]();for(let _0x485378=0x0;_0x485378<_0x552a09[_0x405b6f(0xd8)];_0x485378++){_0x5cb36e['switchToPage'](_0x485378);let _0x4afd00=_0x5cb36e[_0x405b6f(0xa0)]['margins'][_0x405b6f(0xe2)];_0x5cb36e[_0x405b6f(0xa0)][_0x405b6f(0xe4)]['bottom']=0x0,_0x5cb36e['text'](_0x405b6f(0x108)+(_0x485378+0x1)+'\x20of\x20'+_0x552a09[_0x405b6f(0xd8)],0x0,_0x5cb36e[_0x405b6f(0xa0)][_0x405b6f(0xa5)]-_0x4afd00/0x2,{'align':_0x405b6f(0x7c)}),_0x5cb36e[_0x405b6f(0xa0)][_0x405b6f(0xe4)][_0x405b6f(0xe2)]=_0x4afd00;}const _0x5bb95f=_0x5cb36e['y'],_0x78e44c=_0x5cb36e['x'];_0x5cb36e['end']();}catch(_0x488c44){console[_0x405b6f(0xfb)](_0x488c44),_0x31114a[_0x405b6f(0x76)](0x1f4)['send'](_0x405b6f(0x136));}}),router['get']('/pdf_sales_return_fin/:id',auth,async(_0x1a6677,_0x55e85c)=>{const _0x7163de=a0_0x20326b;try{const {username:_0x23bebf,email:_0x2ff1fa,role:_0x3443fe}=_0x1a6677['user'],_0x2e246b=_0x1a6677['user'],_0xe02802=await profile[_0x7163de(0x120)]({'email':_0x2e246b['email']}),_0x395f47=await master_shop[_0x7163de(0xc8)](),_0x33d3bf=_0x1a6677[_0x7163de(0x13d)]['id'],_0x2dcc0f=await sales_return_finished[_0x7163de(0xab)](_0x33d3bf),_0x51aa02=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x55e85c[_0x7163de(0xa2)]('Content-disposition','inline;\x20filename=\x22OUT-'+_0x33d3bf+_0x7163de(0x100)),_0x55e85c[_0x7163de(0xa2)]('Content-type','application/pdf');var _0x36a101=0x14,_0x525212=0x64;_0x51aa02[_0x7163de(0xfa)](_0x55e85c),_0x51aa02[_0x7163de(0xf7)](_0x7163de(0xfc)+_0x395f47[0x0][_0x7163de(0xf7)],0x14,0x0,{'fit':[0x64,0x64]}),_0x51aa02[_0x7163de(0xa1)](0x14)[_0x7163de(0x114)](_0x7163de(0x11d),_0x36a101,_0x525212),_0x51aa02[_0x7163de(0xa1)](0xa)['text']('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x36a101,_0x525212+=0xf),_0x51aa02[_0x7163de(0xa1)](0xf)[_0x7163de(0x114)](_0x7163de(0x110),_0x36a101,_0x525212+=0x32),_0x51aa02[_0x7163de(0xa1)](0xa)[_0x7163de(0x114)](_0x7163de(0x121),_0x36a101,_0x525212+=0x1e),_0x51aa02[_0x7163de(0xa1)](0x9)[_0x7163de(0x114)]('Warehouse\x20:\x20'+_0x2dcc0f['ToWarehouse'],_0x36a101,_0x525212+=0x28),_0x51aa02['fontSize'](0x9)[_0x7163de(0x114)](_0x7163de(0x115)+_0x2dcc0f['customer'],0x190,0xd2,{'underline':!![]}),_0x51aa02[_0x7163de(0xa1)](0x9)[_0x7163de(0x114)]('Pick\x20By\x20:\x20',_0x36a101,_0x525212+=0xb),_0x51aa02[_0x7163de(0xa1)](0x9)[_0x7163de(0x114)](_0x7163de(0x9f)+_0x2dcc0f[_0x7163de(0xd7)],_0x36a101,_0x525212+=0xb),_0x51aa02[_0x7163de(0xa1)](0x9)['text'](_0x7163de(0xbc)+_0x2dcc0f[_0x7163de(0xec)],_0x36a101,_0x525212+=0xb);var _0x23ef2d='',_0x28129f='',_0x401d12=0x0,_0x32d41d;console[_0x7163de(0xfb)](_0x2dcc0f[_0x7163de(0x95)]);_0x2dcc0f[_0x7163de(0x95)]=='GS'?(_0x2dcc0f[_0x7163de(0xd4)]==_0x7163de(0xeb)?warecode='DG':warecode='FG',_0x23ef2d={'headers':[{'label':'Item\x20Code','property':_0x7163de(0x9c),'width':0x3c,'renderer':null},{'label':_0x7163de(0x99),'property':'itemdescription','width':0xc8,'renderer':null},{'label':_0x7163de(0x123),'property':_0x7163de(0xd0),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x7163de(0xc1),'width':0x3c,'renderer':null},{'label':_0x7163de(0x134),'property':_0x7163de(0xa3),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x7163de(0xf4),'width':0x3f,'renderer':null},{'label':_0x7163de(0x72),'property':_0x7163de(0x83),'width':0x3f,'renderer':null}],'datas':[]},_0x2dcc0f[_0x7163de(0xd3)][_0x7163de(0x9d)](_0x3c4280=>{const _0x5e9625=_0x7163de;let _0x12b916='';var _0x2351d4=0x0;_0x28129f={'itemcode':_0x3c4280[_0x5e9625(0x89)],'itemdescription':_0x3c4280[_0x5e9625(0xf5)],'qty':_0x3c4280['return_qty'],'unit':_0x3c4280[_0x5e9625(0xc1)],'expdate':_0x3c4280[_0x5e9625(0x12e)],'batchno':_0x3c4280[_0x5e9625(0x10e)],'binloc':warecode+_0x3c4280['bay']},_0x401d12+=_0x3c4280[_0x5e9625(0x118)],console[_0x5e9625(0xfb)](_0x3c4280),_0x23ef2d[_0x5e9625(0x127)][_0x5e9625(0xc7)](_0x28129f);})):(_0x23ef2d={'headers':[{'label':_0x7163de(0x8d),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x7163de(0x99),'property':'itemdescription','width':0xc8,'renderer':null},{'label':_0x7163de(0x123),'property':_0x7163de(0xd0),'width':0x3c,'renderer':null},{'label':_0x7163de(0x7d),'property':'unit','width':0x3c,'renderer':null},{'label':_0x7163de(0x134),'property':_0x7163de(0xa3),'width':0x50,'renderer':null},{'label':_0x7163de(0xed),'property':_0x7163de(0xf4),'width':0x3f,'renderer':null}],'datas':[]},_0x2dcc0f[_0x7163de(0x97)][_0x7163de(0x9d)](_0x2e01da=>{const _0x3278e8=_0x7163de;let _0x5bafb3='';var _0x367208=0x0;_0x28129f={'itemcode':_0x2e01da['product_code'],'itemdescription':_0x2e01da['product_name'],'qty':_0x2e01da[_0x3278e8(0x118)],'unit':_0x2e01da['unit'],'expdate':_0x2e01da[_0x3278e8(0x12e)],'batchno':_0x2e01da[_0x3278e8(0x10e)]},_0x401d12+=_0x2e01da[_0x3278e8(0x118)],console[_0x3278e8(0xfb)](_0x401d12+_0x3278e8(0x116)+_0x2e01da[_0x3278e8(0x118)]),_0x23ef2d['datas']['push'](_0x28129f);}));_0x51aa02[_0x7163de(0xd1)](_0x23ef2d,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x51aa02[_0x7163de(0x70)]('Helvetica-Bold')[_0x7163de(0xa1)](0x8),'prepareRow':(_0x4ac08d,_0x266e00,_0x83cd31,_0x45caee)=>_0x51aa02[_0x7163de(0x70)]('Helvetica')['fontSize'](0x8)});var _0x3a3df7=_0x51aa02['y'],_0x359d34=_0x51aa02['x'];_0x51aa02[_0x7163de(0xa1)](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x359d34+0x7d,_0x3a3df7),_0x51aa02[_0x7163de(0xa1)](0xa)[_0x7163de(0x114)]('TOTAL\x20QTY:\x20',_0x359d34,_0x3a3df7+=0x190),_0x51aa02[_0x7163de(0xa1)](0xa)[_0x7163de(0x114)](_0x401d12,_0x359d34+0x37,_0x3a3df7,{'underline':!![]}),_0x51aa02[_0x7163de(0xa1)](0xa)[_0x7163de(0x114)](_0x7163de(0xbe),_0x359d34,_0x3a3df7+0x1e),_0x51aa02[_0x7163de(0xa1)](0xa)[_0x7163de(0x114)](_0x7163de(0x85),_0x359d34+0x32,_0x3a3df7+0x1e,{'underline':!![]});let _0x1c3912=_0x51aa02[_0x7163de(0x137)]();for(let _0x4a69cf=0x0;_0x4a69cf<_0x1c3912['count'];_0x4a69cf++){_0x51aa02[_0x7163de(0xcd)](_0x4a69cf);let _0xace72=_0x51aa02['page'][_0x7163de(0xe4)]['bottom'];_0x51aa02[_0x7163de(0xa0)][_0x7163de(0xe4)]['bottom']=0x0,_0x51aa02[_0x7163de(0x114)](_0x7163de(0x108)+(_0x4a69cf+0x1)+_0x7163de(0x79)+_0x1c3912[_0x7163de(0xd8)],0x0,_0x51aa02[_0x7163de(0xa0)][_0x7163de(0xa5)]-_0xace72/0x2,{'align':_0x7163de(0x7c)}),_0x51aa02[_0x7163de(0xa0)][_0x7163de(0xe4)]['bottom']=_0xace72;}const _0x450d2c=_0x51aa02['y'],_0x30b29a=_0x51aa02['x'];_0x51aa02['end']();}catch(_0x41bee3){console['log'](_0x41bee3),_0x55e85c[_0x7163de(0x76)](0x1f4)['send'](_0x7163de(0x136));}}),router[a0_0x20326b(0x130)](a0_0x20326b(0x113),auth,async(_0x197bc7,_0x2ea754)=>{const _0x5311fe=a0_0x20326b;try{const {username:_0x168781,email:_0x9df7bc,role:_0x311130}=_0x197bc7[_0x5311fe(0x7f)],_0x1a938f=_0x197bc7['user'],_0x28d96d=await profile[_0x5311fe(0x120)]({'email':_0x1a938f[_0x5311fe(0xa6)]}),_0x17bde8=await master_shop[_0x5311fe(0xc8)](),_0x10af97=_0x197bc7[_0x5311fe(0x13d)]['id'],_0x3c3b7a=await purchases[_0x5311fe(0xab)](_0x10af97),_0x3eb706=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2ea754[_0x5311fe(0xa2)](_0x5311fe(0x9b),_0x5311fe(0xc6)+_0x10af97+_0x5311fe(0x100)),_0x2ea754[_0x5311fe(0xa2)](_0x5311fe(0x11a),_0x5311fe(0x96));var _0x111c6b=0x14,_0x590a39=0x3c;_0x3eb706['pipe'](_0x2ea754),_0x3eb706[_0x5311fe(0xf7)](_0x5311fe(0xfc)+_0x17bde8[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x3eb706[_0x5311fe(0xa1)](0x14)[_0x5311fe(0x114)](_0x5311fe(0x11d),_0x111c6b,_0x590a39),_0x3eb706[_0x5311fe(0xa1)](0xa)[_0x5311fe(0x114)](_0x5311fe(0xdb),_0x111c6b,_0x590a39+=0xf),_0x3eb706[_0x5311fe(0xa1)](0xf)[_0x5311fe(0x114)](_0x5311fe(0x7b),_0x111c6b,_0x590a39+=0x32),_0x3eb706[_0x5311fe(0xa1)](0xa)[_0x5311fe(0x114)]('(INCOMING)',_0x111c6b,_0x590a39+=0x14),_0x3eb706[_0x5311fe(0xa1)](0x9)[_0x5311fe(0x114)](_0x5311fe(0x88),_0x111c6b,_0x590a39+=0x2d),_0x3eb706['fontSize'](0x9)[_0x5311fe(0x114)](_0x5311fe(0x11c)+_0x3c3b7a[_0x5311fe(0xd4)],_0x111c6b+0x3f,_0x590a39),_0x3eb706[_0x5311fe(0xa1)](0x9)[_0x5311fe(0x114)]('Supplier\x20:\x20'+_0x3c3b7a[_0x5311fe(0x92)],_0x111c6b+0x17c,_0x590a39,{'underline':!![]}),_0x3eb706[_0x5311fe(0xa1)](0x9)[_0x5311fe(0x114)](_0x5311fe(0x69),_0x111c6b,_0x590a39+=0xb),_0x3eb706[_0x5311fe(0xa1)](0x9)['text'](_0x5311fe(0x11c)+_0x3c3b7a[_0x5311fe(0xd7)],_0x111c6b+0x3f,_0x590a39),_0x3eb706[_0x5311fe(0xa1)](0x9)[_0x5311fe(0x114)](_0x5311fe(0x117),_0x111c6b,_0x590a39+=0xb),_0x3eb706[_0x5311fe(0xa1)](0x9)['text']('\x20:\x20'+_0x3c3b7a[_0x5311fe(0xec)],_0x111c6b+0x3f,_0x590a39);const _0x3c9b9f={'headers':[{'label':_0x5311fe(0x8d),'property':_0x5311fe(0x9c),'width':0x3c,'renderer':null},{'label':_0x5311fe(0x99),'property':_0x5311fe(0x98),'width':0x96,'renderer':null},{'label':_0x5311fe(0x12a),'property':_0x5311fe(0xd0),'width':0x2d,'renderer':null},{'label':_0x5311fe(0x7d),'property':'unit','width':0x3c,'renderer':null},{'label':_0x5311fe(0x134),'property':_0x5311fe(0xa3),'width':0x46,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3c,'renderer':null},{'label':_0x5311fe(0x72),'property':_0x5311fe(0x83),'width':0x3c,'renderer':null},{'label':_0x5311fe(0xf2),'property':_0x5311fe(0xc4),'width':0x3f,'renderer':null}],'datas':[]};var _0x133a31=0x0;let _0x4fb850='';_0x3c3b7a[_0x5311fe(0x82)][_0x5311fe(0x9d)](_0xbbf8c6=>{const _0x124534=_0x5311fe;let _0x3b2eea='';var _0x4d984f=0x0;const _0x407690={'itemcode':_0xbbf8c6[_0x124534(0x89)],'itemdescription':_0xbbf8c6['product_name'],'qty':_0xbbf8c6['quantity'],'unit':_0xbbf8c6[_0x124534(0xd6)],'expdate':_0xbbf8c6[_0x124534(0x12e)],'batchno':_0xbbf8c6[_0x124534(0x10e)],'binloc':_0xbbf8c6[_0x124534(0x71)]+_0xbbf8c6[_0x124534(0x111)]+_0xbbf8c6[_0x124534(0x12c)]+_0xbbf8c6[_0x124534(0x78)]+_0xbbf8c6[_0x124534(0x93)][0x0]+_0xbbf8c6[_0x124534(0x106)],'DelCode':_0xbbf8c6['delivery_code']};_0x133a31+=_0xbbf8c6[_0x124534(0x131)],_0x3c9b9f['datas'][_0x124534(0xc7)](_0x407690);}),_0x3eb706[_0x5311fe(0xd1)](_0x3c9b9f,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x3eb706[_0x5311fe(0x70)](_0x5311fe(0xa8))[_0x5311fe(0xa1)](0x8),'prepareRow':(_0x5bcbfe,_0x5b0502,_0x382ea2,_0x1f444a)=>_0x3eb706[_0x5311fe(0x70)](_0x5311fe(0x119))[_0x5311fe(0xa1)](0x8)});var _0x450515=_0x3eb706['y'],_0xe0b7b=_0x3eb706['x'];_0x3eb706[_0x5311fe(0xa1)](0xa)[_0x5311fe(0x114)](_0x5311fe(0x6e),_0xe0b7b+0x7d,_0x450515),_0x3eb706[_0x5311fe(0xa1)](0xa)[_0x5311fe(0x114)](_0x5311fe(0xdc),_0xe0b7b,_0x450515+=0x15e),_0x3eb706[_0x5311fe(0xa1)](0xa)[_0x5311fe(0x114)](_0x133a31,_0xe0b7b+0xf0,_0x450515,{'underline':!![]}),_0x3eb706[_0x5311fe(0xa1)](0xa)[_0x5311fe(0x114)](_0x5311fe(0xff),_0xe0b7b,_0x450515+0x28),_0x3eb706[_0x5311fe(0xa1)](0xa)[_0x5311fe(0x114)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xe0b7b+0x40,_0x450515+0x28,{'underline':!![]}),_0x3eb706[_0x5311fe(0xa1)](0xa)[_0x5311fe(0x114)](_0x5311fe(0x124),_0xe0b7b+0x40,_0x450515+0x32);let _0x1302f8=_0x3eb706[_0x5311fe(0x137)]();for(let _0x1d6bb6=0x0;_0x1d6bb6<_0x1302f8['count'];_0x1d6bb6++){_0x3eb706[_0x5311fe(0xcd)](_0x1d6bb6);let _0x70d12a=_0x3eb706[_0x5311fe(0xa0)][_0x5311fe(0xe4)]['bottom'];_0x3eb706[_0x5311fe(0xa0)][_0x5311fe(0xe4)]['bottom']=0x0,_0x3eb706[_0x5311fe(0x114)](_0x5311fe(0x108)+(_0x1d6bb6+0x1)+_0x5311fe(0x79)+_0x1302f8[_0x5311fe(0xd8)],0x0,_0x3eb706[_0x5311fe(0xa0)][_0x5311fe(0xa5)]-_0x70d12a/0x2,{'align':_0x5311fe(0x7c)}),_0x3eb706[_0x5311fe(0xa0)][_0x5311fe(0xe4)][_0x5311fe(0xe2)]=_0x70d12a;}const _0x319cba=_0x3eb706['y'],_0xaf5671=_0x3eb706['x'];_0x3eb706['end']();}catch(_0x33d261){console[_0x5311fe(0xfb)](_0x33d261),_0x2ea754[_0x5311fe(0x76)](0x1f4)[_0x5311fe(0xb1)](_0x5311fe(0x136));}}),router['get'](a0_0x20326b(0xee),auth,async(_0x15ca20,_0x3dc864)=>{const _0x184167=a0_0x20326b;try{const {username:_0x5259fa,email:_0x39b0eb,role:_0x4e9516}=_0x15ca20['user'],_0x2e1b01=_0x15ca20['user'],_0x362c34=await profile['findOne']({'email':_0x2e1b01[_0x184167(0xa6)]}),_0x542708=await master_shop[_0x184167(0xc8)](),_0x541a5b=_0x15ca20[_0x184167(0x13d)]['id'],_0x14ac89=await sales[_0x184167(0xab)](_0x541a5b),_0x209e51=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x102d37;_0x102d37=_0x184167(0x110);_0x14ac89[_0x184167(0x128)]==_0x184167(0xe5)&&(_0x102d37=_0x184167(0x77));_0x3dc864[_0x184167(0xa2)]('Content-disposition','inline;\x20filename=\x22OUT-'+_0x541a5b+_0x184167(0x100)),_0x3dc864[_0x184167(0xa2)](_0x184167(0x11a),_0x184167(0x96));var _0x174877=0x14,_0x2f7b27=0x64;_0x209e51[_0x184167(0xfa)](_0x3dc864),_0x209e51['image'](_0x184167(0xfc)+_0x542708[0x0][_0x184167(0xf7)],0x14,0x0,{'fit':[0x64,0x64]}),_0x209e51['fontSize'](0x14)[_0x184167(0x114)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x174877,_0x2f7b27),_0x209e51[_0x184167(0xa1)](0xa)[_0x184167(0x114)](_0x184167(0xdb),_0x174877,_0x2f7b27+=0xf),_0x209e51[_0x184167(0xa1)](0xf)[_0x184167(0x114)](_0x102d37,_0x174877,_0x2f7b27+=0x32),_0x209e51['fontSize'](0xa)[_0x184167(0x114)](_0x184167(0x80),_0x174877,_0x2f7b27+=0x14),_0x209e51[_0x184167(0xa1)](0x9)[_0x184167(0x114)](_0x184167(0x69),_0x174877,_0x2f7b27+=0x19),_0x209e51[_0x184167(0xa1)](0x9)[_0x184167(0x114)](_0x184167(0x11c)+_0x14ac89[_0x184167(0xd7)],_0x174877+0x3f,_0x2f7b27),_0x209e51[_0x184167(0xa1)](0x9)[_0x184167(0x114)](_0x184167(0x101),_0x174877,_0x2f7b27+=0xb),_0x209e51['fontSize'](0x9)['text'](_0x184167(0x11c)+_0x14ac89['invoice'],_0x174877+0x3f,_0x2f7b27);const _0x4e350d={'headers':[{'label':_0x184167(0xbd),'property':_0x184167(0x9c),'align':_0x184167(0x7c),'width':0x2d,'renderer':null},{'label':_0x184167(0xaf),'property':'itemdescription','align':_0x184167(0x7c),'width':0x64,'renderer':null},{'label':'REQUESTED\x20QUANTITY','property':_0x184167(0xc3),'align':_0x184167(0x7c),'width':0x28,'renderer':null},{'label':_0x184167(0x13b),'property':_0x184167(0x94),'align':_0x184167(0x7c),'width':0x28,'renderer':null},{'label':_0x184167(0x7d),'property':'unit','align':_0x184167(0x7c),'width':0x28,'renderer':null},{'label':_0x184167(0xfe),'property':_0x184167(0x103),'align':_0x184167(0x7c),'width':0x32,'renderer':null},{'label':_0x184167(0xe7),'property':_0x184167(0x7a),'align':_0x184167(0x7c),'width':0x3c,'renderer':null},{'label':'EXPIRATION\x20DATE','property':'expdate','align':_0x184167(0x7c),'width':0x3c,'renderer':null},{'label':'DELIVERY\x20DATE','property':_0x184167(0xe9),'align':_0x184167(0x7c),'width':0x3f,'renderer':null},{'label':_0x184167(0xb9),'property':_0x184167(0xad),'align':_0x184167(0x7c),'width':0x3f,'renderer':null}],'datas':[]};var _0x4700ee=0x0;let _0x3c23ca='';var _0x1db362=0x0,_0x174877=0x1;_0x14ac89[_0x184167(0x13c)][_0x184167(0x9d)](_0x5c6c6=>{const _0x930ab6=_0x184167,_0x4154da=new Date(_0x5c6c6['production_date']),_0x5eeca6={'year':_0x930ab6(0x133),'month':_0x930ab6(0x6c),'day':'numeric'},_0x53cd4f=_0x4154da['toLocaleDateString'](_0x930ab6(0x102),_0x5eeca6),_0xe931a7=new Date(_0x5c6c6[_0x930ab6(0x12e)]),_0x311b92={'year':_0x930ab6(0x133),'month':_0x930ab6(0x6c),'day':_0x930ab6(0x133)},_0x9b01c6=_0xe931a7[_0x930ab6(0x125)](_0x930ab6(0x102),_0x311b92),_0x2cf32d=new Date(_0x5c6c6[_0x930ab6(0xca)]),_0x15725e={'year':_0x930ab6(0x133),'month':_0x930ab6(0x6c),'day':_0x930ab6(0x133)};var _0x420fd2=_0x2cf32d[_0x930ab6(0x125)](_0x930ab6(0x102),_0x15725e);typeof _0x5c6c6[_0x930ab6(0xca)]==_0x930ab6(0x11f)&&(_0x420fd2='');const _0x36995a={'itemcode':_0x5c6c6['product_code'],'itemdescription':_0x5c6c6['product_name'],'rqty':_0x5c6c6[_0x930ab6(0xb4)],'iqty':_0x5c6c6[_0x930ab6(0x131)],'unit':_0x5c6c6[_0x930ab6(0xc1)],'blocation':_0x5c6c6[_0x930ab6(0x71)]+_0x5c6c6[_0x930ab6(0x111)]+_0x5c6c6[_0x930ab6(0x12c)]+_0x5c6c6[_0x930ab6(0x78)]+_0x5c6c6['type'][0x0]+_0x5c6c6[_0x930ab6(0x106)],'proddate':_0x53cd4f,'expdate':_0x9b01c6,'del_date':_0x420fd2,'del_code':_0x5c6c6['delivery_code']};_0x174877++,_0x4e350d[_0x930ab6(0x127)][_0x930ab6(0xc7)](_0x36995a);}),_0x209e51[_0x184167(0xd1)](_0x4e350d,{'x':_0x174877+0x11,'y':_0x2f7b27+=0x1e,'prepareHeader':()=>_0x209e51[_0x184167(0x70)](_0x184167(0xa8))['fontSize'](6.5),'prepareRow':(_0x56b75b,_0x1d3707,_0x39c382,_0x34f650,_0x5ce655)=>{const _0x2cca41=_0x184167,{x:_0x5db0c0,y:_0x2a8c94,width:_0x1a2231,height:_0x110ad5}=_0x5ce655;_0x209e51[_0x2cca41(0x70)](_0x2cca41(0x119))[_0x2cca41(0xa1)](0x8),_0x209e51[_0x2cca41(0x9a)](0.5)[_0x2cca41(0xc5)](_0x5db0c0,_0x2a8c94)[_0x2cca41(0x9e)](_0x5db0c0,_0x2a8c94+_0x110ad5)['stroke']();}});var _0x33720b=_0x209e51['y'],_0x349e95=_0x209e51['x'],_0x3c63e6=_0x33720b-=0x8;_0x209e51[_0x184167(0x9a)](0x5),_0x209e51[_0x184167(0x8e)](_0x184167(0xb8))[_0x184167(0xc5)](0x240,_0x3c63e6)[_0x184167(0x9e)](0x11,_0x3c63e6)[_0x184167(0x138)](),_0x209e51['fontSize'](0xa)[_0x184167(0x114)](_0x184167(0x6e),_0x349e95+0x7d,_0x33720b+=0xf),_0x209e51[_0x184167(0xa1)](0xb)[_0x184167(0x114)](_0x184167(0xb6),_0x349e95,_0x33720b+=0x15e),_0x209e51[_0x184167(0xa1)](0xa)[_0x184167(0x114)](_0x184167(0x10c),_0x349e95+0x52,_0x33720b,{'underline':!![]}),_0x209e51['fontSize'](0xa)[_0x184167(0x114)](_0x184167(0xb0),_0x349e95,_0x33720b+=0x19),_0x209e51['fontSize'](0xa)[_0x184167(0x114)]('\x20:\x20',_0x349e95+0x4b,_0x33720b),_0x209e51[_0x184167(0xa1)](0xa)[_0x184167(0x114)]('\x20'[_0x184167(0xb5)](0x3c),_0x349e95+0x50,_0x33720b,{'underline':!![]}),_0x209e51[_0x184167(0xa1)](0xa)[_0x184167(0x114)](_0x184167(0x6a),_0x349e95,_0x33720b+=0x32),_0x209e51['fontSize'](0xa)[_0x184167(0x114)](_0x184167(0x11c),_0x349e95+0x4b,_0x33720b),_0x209e51[_0x184167(0xa1)](0xa)[_0x184167(0x114)](_0x184167(0x90),_0x349e95+0x50,_0x33720b,{'underline':!![]}),_0x209e51[_0x184167(0xa1)](0xa)[_0x184167(0x114)](_0x184167(0x124),_0x349e95+0x50,_0x33720b+0xc);let _0x11a0a1=_0x209e51[_0x184167(0x137)]();for(let _0x3bc951=0x0;_0x3bc951<_0x11a0a1[_0x184167(0xd8)];_0x3bc951++){_0x209e51[_0x184167(0xcd)](_0x3bc951);let _0x455484=_0x209e51['page'][_0x184167(0xe4)][_0x184167(0xe2)];_0x209e51[_0x184167(0xa0)][_0x184167(0xe4)][_0x184167(0xe2)]=0x0,_0x209e51['text']('Page:\x20'+(_0x3bc951+0x1)+_0x184167(0x79)+_0x11a0a1['count'],0x0,_0x209e51['page'][_0x184167(0xa5)]-_0x455484/0x2,{'align':_0x184167(0x7c)}),_0x209e51['page'][_0x184167(0xe4)]['bottom']=_0x455484;}const _0x1e4f47=_0x209e51['y'],_0x4c8dee=_0x209e51['x'];_0x209e51[_0x184167(0xba)]();}catch(_0x457ea0){console[_0x184167(0xfb)](_0x457ea0),_0x3dc864[_0x184167(0x76)](0x1f4)[_0x184167(0xb1)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x20326b(0x130)](a0_0x20326b(0x74),auth,async(_0x49f703,_0x42e9b7)=>{const _0xffc0b3=a0_0x20326b;try{const {username:_0x58d7f3,email:_0x35eee7,role:_0x5cfa93}=_0x49f703[_0xffc0b3(0x7f)],_0x4f23e0=_0x49f703['user'],_0x5d5791=await profile[_0xffc0b3(0x120)]({'email':_0x4f23e0['email']}),_0x190194=await master_shop[_0xffc0b3(0xc8)](),_0x43289b=_0x49f703[_0xffc0b3(0x13d)]['id'],_0x397ea9=await adjustment[_0xffc0b3(0xab)](_0x43289b);var _0x3f2c25,_0x2734ed;_0x3f2c25=_0xffc0b3(0x110),_0x2734ed=_0xffc0b3(0x91);_0x397ea9[_0xffc0b3(0x128)]==_0xffc0b3(0xe5)&&(_0x3f2c25=_0xffc0b3(0xea),_0x2734ed='');const _0x3279b6=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x42e9b7[_0xffc0b3(0xa2)](_0xffc0b3(0x9b),_0xffc0b3(0xc6)+_0x43289b+_0xffc0b3(0x100)),_0x42e9b7['setHeader']('Content-type',_0xffc0b3(0x96));var _0xfc2221=0x14,_0x511cc7=0x3c;_0x3279b6[_0xffc0b3(0xfa)](_0x42e9b7),_0x3279b6[_0xffc0b3(0xf7)](_0xffc0b3(0xfc)+_0x190194[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x3279b6['fontSize'](0x14)[_0xffc0b3(0x114)](_0xffc0b3(0x11d),_0xfc2221,_0x511cc7),_0x3279b6[_0xffc0b3(0xa1)](0xa)[_0xffc0b3(0x114)](_0xffc0b3(0xdb),_0xfc2221,_0x511cc7+=0xf),_0x3279b6[_0xffc0b3(0xa1)](0xf)[_0xffc0b3(0x114)](_0x3f2c25,_0xfc2221,_0x511cc7+=0x32),_0x3279b6[_0xffc0b3(0xa1)](0xa)[_0xffc0b3(0x114)](_0x2734ed,_0xfc2221,_0x511cc7+=0x14),_0x3279b6['fontSize'](0x9)[_0xffc0b3(0x114)](_0xffc0b3(0x88),_0xfc2221,_0x511cc7+=0x28),_0x3279b6[_0xffc0b3(0xa1)](0x9)[_0xffc0b3(0x114)](_0xffc0b3(0x11c)+_0x397ea9[_0xffc0b3(0xd4)],_0xfc2221+0x3f,_0x511cc7),_0x3279b6[_0xffc0b3(0xa1)](0x9)['text'](_0xffc0b3(0x69),_0xfc2221,_0x511cc7+=0xb),_0x3279b6['fontSize'](0x9)[_0xffc0b3(0x114)](_0xffc0b3(0x11c)+_0x397ea9['date'],_0xfc2221+0x3f,_0x511cc7),_0x3279b6[_0xffc0b3(0xa1)](0x9)[_0xffc0b3(0x114)](_0xffc0b3(0x117),_0xfc2221,_0x511cc7+=0xb),_0x3279b6[_0xffc0b3(0xa1)](0x9)[_0xffc0b3(0x114)](_0xffc0b3(0x11c)+_0x397ea9[_0xffc0b3(0xec)],_0xfc2221+0x3f,_0x511cc7);const _0x2e1891={'headers':[{'label':_0xffc0b3(0x8d),'property':_0xffc0b3(0x9c),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0xffc0b3(0x98),'width':0x96,'renderer':null},{'label':_0xffc0b3(0x123),'property':'qty','width':0x3c,'renderer':null},{'label':_0xffc0b3(0x7d),'property':_0xffc0b3(0xc1),'width':0x3c,'renderer':null},{'label':_0xffc0b3(0xd2),'property':'proddate','width':0x50,'renderer':null},{'label':_0xffc0b3(0xed),'property':_0xffc0b3(0xf4),'width':0x3f,'renderer':null},{'label':_0xffc0b3(0x72),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x1bb96a=0x0,_0x2d5dc2=0x0;_0x397ea9['product']['forEach'](_0x17f8c=>{const _0x159c9f=_0xffc0b3;let _0x5335cf='';const _0x1bb31f=_0x17f8c[_0x159c9f(0xae)];for(let _0x100950=0x1;_0x100950<=_0x1bb31f;_0x100950++){_0x1bb31f==_0x100950?_0x5335cf+=_0x17f8c[_0x159c9f(0xd9)]:_0x5335cf+=_0x17f8c[_0x159c9f(0xd9)]+',',_0x2d5dc2+=_0x17f8c[_0x159c9f(0xd9)];}_0x5335cf+=_0x159c9f(0x86)+_0x17f8c[_0x159c9f(0xb3)];const _0x54059c={'itemcode':_0x17f8c[_0x159c9f(0x89)],'itemdescription':_0x17f8c[_0x159c9f(0xf5)],'qty':_0x17f8c[_0x159c9f(0x132)],'unit':_0x17f8c['unit'],'proddate':_0x17f8c['production_date'],'batchno':_0x17f8c[_0x159c9f(0x10e)],'binloc':_0x17f8c[_0x159c9f(0x71)]+_0x17f8c[_0x159c9f(0x111)]+_0x17f8c[_0x159c9f(0x12c)]+_0x17f8c[_0x159c9f(0x78)]+_0x17f8c[_0x159c9f(0x93)][0x0]+_0x17f8c[_0x159c9f(0x106)]};_0x1bb96a+=_0x17f8c[_0x159c9f(0x132)],_0x2e1891['datas']['push'](_0x54059c);}),_0x3279b6[_0xffc0b3(0xd1)](_0x2e1891,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x3279b6[_0xffc0b3(0x70)](_0xffc0b3(0xa8))[_0xffc0b3(0xa1)](0x8),'prepareRow':(_0x4a50c7,_0x5a2cc6,_0x3dadc2,_0x4c795b)=>_0x3279b6[_0xffc0b3(0x70)](_0xffc0b3(0x119))[_0xffc0b3(0xa1)](0x8)});var _0x54763=_0x3279b6['y'],_0xbbe951=_0x3279b6['x'];_0x3279b6['fontSize'](0xa)['text'](_0xffc0b3(0x6e),_0xbbe951+0x7d,_0x54763),_0x3279b6['fontSize'](0xa)[_0xffc0b3(0x114)](_0xffc0b3(0xbf),_0xbbe951,_0x54763+=0x136),_0x3279b6[_0xffc0b3(0xa1)](0xa)[_0xffc0b3(0x114)](_0x1bb96a,_0xbbe951+0xc8,_0x54763),_0x3279b6[_0xffc0b3(0xa1)](0xa)[_0xffc0b3(0x114)](_0xffc0b3(0x66),_0xbbe951,_0x54763+=0x19),_0x3279b6[_0xffc0b3(0xa1)](0xa)[_0xffc0b3(0x114)]('\x20'[_0xffc0b3(0xb5)](0x3c),_0xbbe951+0x3e,_0x54763,{'underline':!![]}),_0x3279b6['fontSize'](0xa)[_0xffc0b3(0x114)]('Checked\x20By\x20',_0xbbe951,_0x54763+=0x32),_0x3279b6[_0xffc0b3(0xa1)](0xa)['text']('\x20:\x20',_0xbbe951+0x37,_0x54763),_0x3279b6[_0xffc0b3(0xa1)](0xa)[_0xffc0b3(0x114)](_0xffc0b3(0x90),_0xbbe951+0x3c,_0x54763,{'underline':!![]}),_0x3279b6[_0xffc0b3(0xa1)](0xa)[_0xffc0b3(0x114)](_0xffc0b3(0x124),_0xbbe951+0x3c,_0x54763+0xc);let _0x933850=_0x3279b6[_0xffc0b3(0x137)]();for(let _0x174813=0x0;_0x174813<_0x933850['count'];_0x174813++){_0x3279b6[_0xffc0b3(0xcd)](_0x174813);let _0x523874=_0x3279b6[_0xffc0b3(0xa0)][_0xffc0b3(0xe4)]['bottom'];_0x3279b6[_0xffc0b3(0xa0)][_0xffc0b3(0xe4)][_0xffc0b3(0xe2)]=0x0,_0x3279b6[_0xffc0b3(0x114)](_0xffc0b3(0x108)+(_0x174813+0x1)+_0xffc0b3(0x79)+_0x933850[_0xffc0b3(0xd8)],0x0,_0x3279b6[_0xffc0b3(0xa0)][_0xffc0b3(0xa5)]-_0x523874/0x2,{'align':_0xffc0b3(0x7c)}),_0x3279b6[_0xffc0b3(0xa0)][_0xffc0b3(0xe4)]['bottom']=_0x523874;}const _0x229049=_0x3279b6['y'],_0x1e9964=_0x3279b6['x'];_0x3279b6[_0xffc0b3(0xba)]();}catch(_0x30010b){console[_0xffc0b3(0xfb)](_0x30010b),_0x42e9b7[_0xffc0b3(0x76)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x20326b(0x130)]('/PDF_transfer_rm/:id',auth,async(_0x216291,_0x59cce8)=>{const _0xf09161=a0_0x20326b;try{const {username:_0x3fa308,email:_0x3675f6,role:_0x2b350e}=_0x216291['user'],_0xdc1c6c=_0x216291['user'],_0x1e6ed6=await profile[_0xf09161(0x120)]({'email':_0xdc1c6c['email']}),_0x221adc=await master_shop[_0xf09161(0xc8)](),_0xf9de6d=_0x216291[_0xf09161(0x13d)]['id'],_0x47ba96=await transfers[_0xf09161(0xab)](_0xf9de6d);var _0x296cdd,_0x4b01d5;_0x296cdd=_0xf09161(0x129),_0x4b01d5=_0xf09161(0x6b);_0x47ba96[_0xf09161(0x128)]==_0xf09161(0xe5)&&(_0x296cdd=_0xf09161(0xe8),_0x4b01d5='');const _0xd2328f=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x59cce8[_0xf09161(0xa2)](_0xf09161(0x9b),_0xf09161(0xc6)+_0xf9de6d+_0xf09161(0x100)),_0x59cce8[_0xf09161(0xa2)](_0xf09161(0x11a),_0xf09161(0x96));var _0x581ca2=0x14,_0x26a452=0x3c;_0xd2328f[_0xf09161(0xfa)](_0x59cce8),_0xd2328f[_0xf09161(0xf7)](_0xf09161(0xfc)+_0x221adc[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0xd2328f[_0xf09161(0xa1)](0x14)[_0xf09161(0x114)](_0xf09161(0x11d),_0x581ca2,_0x26a452),_0xd2328f[_0xf09161(0xa1)](0xa)[_0xf09161(0x114)](_0xf09161(0xdb),_0x581ca2,_0x26a452+=0xf),_0xd2328f[_0xf09161(0xa1)](0xf)[_0xf09161(0x114)](_0x296cdd,_0x581ca2,_0x26a452+=0x32),_0xd2328f[_0xf09161(0xa1)](0xa)[_0xf09161(0x114)](_0x4b01d5,_0x581ca2,_0x26a452+=0x14),_0xd2328f[_0xf09161(0xa1)](0x9)[_0xf09161(0x114)](_0xf09161(0xfd),_0x581ca2,_0x26a452+=0x28),_0xd2328f[_0xf09161(0xa1)](0x9)['text'](_0xf09161(0x68)+_0x47ba96['from_warehouse'],_0x581ca2+0x3f,_0x26a452),_0xd2328f[_0xf09161(0xa1)](0x9)['text'](_0xf09161(0x122),_0x581ca2,_0x26a452+=0xa),_0xd2328f[_0xf09161(0xa1)](0x9)[_0xf09161(0x114)]('\x20\x20\x20:\x20'+_0x47ba96[_0xf09161(0x81)],_0x581ca2+0x3f,_0x26a452),_0xd2328f[_0xf09161(0xa1)](0x9)[_0xf09161(0x114)](_0xf09161(0x69),_0x581ca2,_0x26a452+=0xb),_0xd2328f[_0xf09161(0xa1)](0x9)[_0xf09161(0x114)]('\x20\x20\x20:\x20'+_0x47ba96['date'],_0x581ca2+0x3f,_0x26a452),_0xd2328f[_0xf09161(0xa1)](0x9)['text'](_0xf09161(0x117),_0x581ca2,_0x26a452+=0xb),_0xd2328f[_0xf09161(0xa1)](0x9)[_0xf09161(0x114)](_0xf09161(0x68)+_0x47ba96['invoice'],_0x581ca2+0x3f,_0x26a452);const _0x3266d9={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':'\x20\x20\x20\x20\x20FROM','property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0xf09161(0x6d),'property':'itemdescription','width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0xd2328f[_0xf09161(0xd1)](_0x3266d9,{'x':0x5,'y':0x107,'prepareHeader':()=>_0xd2328f[_0xf09161(0x70)](_0xf09161(0xa8))[_0xf09161(0xa1)](0x8),'prepareRow':(_0x4fe351,_0x38e633,_0x2e2e58,_0x3cf92f)=>_0xd2328f[_0xf09161(0x70)](_0xf09161(0x119))[_0xf09161(0xa1)](0x8)});const _0x220bdf={'headers':[{'label':_0xf09161(0x8d),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0xf09161(0x99),'property':_0xf09161(0x98),'width':0x96,'renderer':null},{'label':_0xf09161(0x123),'property':_0xf09161(0xd0),'width':0x28,'renderer':null},{'label':'UOM','property':_0xf09161(0xc1),'width':0x37,'renderer':null},{'label':_0xf09161(0xd2),'property':_0xf09161(0x7a),'width':0x4b,'renderer':null},{'label':_0xf09161(0xed),'property':'batchno','width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0xf09161(0xc2),'width':0x3f,'renderer':null},{'label':_0xf09161(0x72),'property':_0xf09161(0x83),'width':0x3f,'renderer':null}],'datas':[]};var _0x377f16=0x0;let _0x2bdd52='';var _0x3ad480=0x0;_0x47ba96[_0xf09161(0x82)][_0xf09161(0x9d)](_0x4a3b3c=>{const _0x16a45a=_0xf09161;var _0x705da9=_0x4a3b3c[_0x16a45a(0x12d)],_0xc140de;_0xc140de=_0x4a3b3c[_0x16a45a(0xc1)];_0x705da9=='S'&&(_0xc140de=_0x4a3b3c['secondary_unit']);const _0x1f0035={'itemcode':_0x4a3b3c[_0x16a45a(0x89)],'itemdescription':_0x4a3b3c['product_name'],'qty':_0x4a3b3c[_0x16a45a(0xae)],'unit':_0xc140de,'proddate':_0x4a3b3c[_0x16a45a(0xe3)],'batchno':_0x4a3b3c[_0x16a45a(0x10e)],'binloc':_0x4a3b3c['storage']+_0x4a3b3c[_0x16a45a(0x111)]+_0x4a3b3c[_0x16a45a(0xb2)]+_0x4a3b3c[_0x16a45a(0x8f)]+_0x4a3b3c[_0x16a45a(0x112)][0x0]+_0x4a3b3c[_0x16a45a(0x12f)],'qtyFrom':_0x4a3b3c[_0x16a45a(0x10b)],'binlocFrom':_0x4a3b3c[_0x16a45a(0xe6)]+_0x4a3b3c['from_rack']+_0x4a3b3c[_0x16a45a(0xbb)]+_0x4a3b3c['from_bin']+_0x4a3b3c[_0x16a45a(0x107)][0x0]+_0x4a3b3c[_0x16a45a(0x10f)]};_0x377f16+=_0x4a3b3c[_0x16a45a(0xae)],_0x220bdf[_0x16a45a(0x127)][_0x16a45a(0xc7)](_0x1f0035);}),_0xd2328f[_0xf09161(0xd1)](_0x220bdf,{'x':0x5,'y':0x118,'prepareHeader':()=>_0xd2328f[_0xf09161(0x70)](_0xf09161(0xa8))[_0xf09161(0xa1)](0x8),'prepareRow':(_0x2382bf,_0x11b5a6,_0x3484a2,_0x5b3d1e)=>_0xd2328f[_0xf09161(0x70)](_0xf09161(0x119))['fontSize'](0x8)});var _0x28fc50=_0xd2328f['y'],_0x12677c=_0xd2328f['x'];_0xd2328f[_0xf09161(0xa1)](0xa)[_0xf09161(0x114)](_0xf09161(0x6e),_0x12677c+0x7d,_0x28fc50),_0xd2328f[_0xf09161(0xa1)](0xa)['text'](_0xf09161(0xdc),_0x12677c,_0x28fc50+=0x12c),_0xd2328f[_0xf09161(0xa1)](0xa)['text'](_0x377f16,_0x12677c+0xd7,_0x28fc50,{'underline':!![]}),_0xd2328f[_0xf09161(0xa1)](0xa)[_0xf09161(0x114)]('Checked\x20By:\x20',_0x12677c,_0x28fc50+=0x32),_0xd2328f['fontSize'](0xa)[_0xf09161(0x114)](_0xf09161(0xcc),_0x12677c+0x3c,_0x28fc50,{'underline':!![]}),_0xd2328f[_0xf09161(0xa1)](0xa)[_0xf09161(0x114)](_0xf09161(0x124),_0x12677c+0x3c,_0x28fc50+0xc);let _0x3fe120=_0xd2328f[_0xf09161(0x137)]();for(let _0x8dc3c8=0x0;_0x8dc3c8<_0x3fe120[_0xf09161(0xd8)];_0x8dc3c8++){_0xd2328f[_0xf09161(0xcd)](_0x8dc3c8);let _0x3dd12f=_0xd2328f[_0xf09161(0xa0)][_0xf09161(0xe4)][_0xf09161(0xe2)];_0xd2328f[_0xf09161(0xa0)][_0xf09161(0xe4)][_0xf09161(0xe2)]=0x0,_0xd2328f[_0xf09161(0x114)](_0xf09161(0x108)+(_0x8dc3c8+0x1)+_0xf09161(0x79)+_0x3fe120[_0xf09161(0xd8)],0x0,_0xd2328f[_0xf09161(0xa0)][_0xf09161(0xa5)]-_0x3dd12f/0x2,{'align':'center'}),_0xd2328f[_0xf09161(0xa0)][_0xf09161(0xe4)][_0xf09161(0xe2)]=_0x3dd12f;}const _0x1d9703=_0xd2328f['y'],_0x31d9c0=_0xd2328f['x'];_0xd2328f[_0xf09161(0xba)]();}catch(_0x473eac){console['log'](_0x473eac),_0x59cce8[_0xf09161(0x76)](0x1f4)[_0xf09161(0xb1)](_0xf09161(0x136));}}),router[a0_0x20326b(0x130)]('/barcode_generator/',auth,async(_0x3bb613,_0x134163)=>{const _0x3f7dfd=a0_0x20326b;try{const _0x216be5=_0x4e8a46=>_0x4e8a46*0x48,_0x1974fb={'width':0x3,'height':0x1},_0x3e4af4=await product[_0x3f7dfd(0xc8)](),_0x138eab=new PDFDocument({'margin':_0x216be5(0.75),'size':[_0x216be5(_0x1974fb[_0x3f7dfd(0x11b)]),_0x216be5(_0x1974fb[_0x3f7dfd(0xa5)])],'bufferPages':!![]}),_0x36d890=_0x3e4af4[_0x3f7dfd(0x8c)];for(let _0x37dbf6=0x0;_0x37dbf6<=_0x36d890;_0x37dbf6++){if(_0x37dbf6!=_0x3e4af4[_0x3f7dfd(0x8c)]){const _0xc87bdc=_0x3e4af4[_0x37dbf6][_0x3f7dfd(0x139)],_0x3a425b=_0x3e4af4[_0x37dbf6][_0x3f7dfd(0xcb)],_0x19c2a2=_0x3e4af4[_0x37dbf6][_0x3f7dfd(0xc9)],_0x184216=_0x3e4af4[_0x37dbf6][_0x3f7dfd(0x89)],_0x22c48b=new Canvas();JsBarcode(_0x22c48b,_0x3a425b,{'format':_0x3f7dfd(0xf3),'height':0x32,'displayValue':!![],'text':_0x3a425b}),_0x138eab['image'](_0x22c48b['toBuffer'](),0x0,0x0,{'width':0xd2}),_0x138eab['addPage']();}}_0x138eab['pipe'](_0x134163),_0x138eab[_0x3f7dfd(0xba)]();}catch(_0x225593){console[_0x3f7dfd(0x87)](_0x3f7dfd(0x13a),_0x225593),_0x134163[_0x3f7dfd(0x76)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),module['exports']=router;