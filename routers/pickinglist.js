const a0_0x1329df=a0_0x2c1c;(function(_0x4fb903,_0x2aa15b){const _0x243fc2=a0_0x2c1c,_0x314a09=_0x4fb903();while(!![]){try{const _0x288cda=parseInt(_0x243fc2(0x10c))/0x1+-parseInt(_0x243fc2(0x11c))/0x2*(-parseInt(_0x243fc2(0x108))/0x3)+-parseInt(_0x243fc2(0x9f))/0x4+-parseInt(_0x243fc2(0x104))/0x5*(-parseInt(_0x243fc2(0xbf))/0x6)+-parseInt(_0x243fc2(0x123))/0x7+parseInt(_0x243fc2(0xfc))/0x8+parseInt(_0x243fc2(0x126))/0x9*(-parseInt(_0x243fc2(0xc5))/0xa);if(_0x288cda===_0x2aa15b)break;else _0x314a09['push'](_0x314a09['shift']());}catch(_0x1bc2ee){_0x314a09['push'](_0x314a09['shift']());}}}(a0_0x2ef6,0x67127));function a0_0x2c1c(_0x268201,_0xdc6a02){const _0x2ef605=a0_0x2ef6();return a0_0x2c1c=function(_0x2c1ca9,_0x3bda81){_0x2c1ca9=_0x2c1ca9-0x67;let _0x182fe0=_0x2ef605[_0x2c1ca9];return _0x182fe0;},a0_0x2c1c(_0x268201,_0xdc6a02);}const express=require(a0_0x1329df(0x98)),res=require(a0_0x1329df(0xf3)),app=express(),router=express[a0_0x1329df(0x100)](),multer=require(a0_0x1329df(0x13e)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x1329df(0x12e)),auth=require(a0_0x1329df(0x12c)),users=require('../public/language/languages.json'),excelJS=require(a0_0x1329df(0xb5)),xlsx=require(a0_0x1329df(0x113)),PDFDocument=require(a0_0x1329df(0x13a)),fs=require('fs'),blobStream=require(a0_0x1329df(0xf9)),JsBarcode=require(a0_0x1329df(0x130)),{Canvas}=require(a0_0x1329df(0xfa));router['get'](a0_0x1329df(0x101),auth,async(_0xae9a7e,_0x4a1f3a)=>{const _0x9d248b=a0_0x1329df;try{const {username:_0x5dec5c,email:_0x34c635,role:_0x27d313}=_0xae9a7e['user'],_0x12694c=_0xae9a7e[_0x9d248b(0x9c)],_0x2cdc5f=await profile['findOne']({'email':_0x12694c[_0x9d248b(0x139)]}),_0x55321b=await master_shop[_0x9d248b(0xd6)](),_0x2fd607=_0xae9a7e[_0x9d248b(0x119)]['id'],_0x550361=await sales_finished[_0x9d248b(0x7f)](_0x2fd607);var _0x276ce5;_0x276ce5=_0x9d248b(0xcb);_0x550361[_0x9d248b(0x87)]==_0x9d248b(0xc7)&&(_0x276ce5='DELIVERY\x20RECEIPT');const _0x5bc98d=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4a1f3a['setHeader'](_0x9d248b(0x8c),_0x9d248b(0x10f)+_0x550361[_0x9d248b(0x11a)]+_0x9d248b(0x127)),_0x4a1f3a[_0x9d248b(0xca)](_0x9d248b(0x6b),_0x9d248b(0xe8));var _0x49ddf0=0x14,_0x2497c5=0x3c;_0x5bc98d[_0x9d248b(0xae)](_0x4a1f3a),_0x5bc98d[_0x9d248b(0x118)](_0x9d248b(0x91)+_0x55321b[0x0][_0x9d248b(0x118)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5bc98d[_0x9d248b(0x134)](0x14)[_0x9d248b(0xa5)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x49ddf0,_0x2497c5),_0x5bc98d[_0x9d248b(0x134)](0xa)[_0x9d248b(0xa5)](_0x9d248b(0xd2),_0x49ddf0,_0x2497c5+=0xf),_0x5bc98d['fontSize'](0xf)[_0x9d248b(0xa5)](_0x276ce5,_0x49ddf0,_0x2497c5+=0x32),_0x5bc98d[_0x9d248b(0x134)](0xa)[_0x9d248b(0xa5)](_0x9d248b(0x93),_0x49ddf0,_0x2497c5+=0x14),_0x5bc98d[_0x9d248b(0x134)](0x9)[_0x9d248b(0xa5)](_0x9d248b(0x81),_0x49ddf0,_0x2497c5+=0x28),_0x5bc98d[_0x9d248b(0x134)](0x9)[_0x9d248b(0xa5)](_0x9d248b(0xb8)+_0x550361[_0x9d248b(0x92)],_0x49ddf0+0x3f,_0x2497c5),_0x5bc98d[_0x9d248b(0x134)](0x9)[_0x9d248b(0xa5)](_0x9d248b(0xb1)+_0x550361[_0x9d248b(0x10a)],_0x49ddf0+0x17c,_0x2497c5,{'underline':!![]}),_0x5bc98d['fontSize'](0x9)[_0x9d248b(0xa5)](_0x9d248b(0xdf),_0x49ddf0,_0x2497c5+=0xb),_0x5bc98d[_0x9d248b(0x134)](0x9)[_0x9d248b(0xa5)](_0x9d248b(0xb8)+_0x550361[_0x9d248b(0xba)],_0x49ddf0+0x3f,_0x2497c5),_0x5bc98d[_0x9d248b(0x134)](0x9)[_0x9d248b(0xa5)](_0x9d248b(0xfe),_0x49ddf0,_0x2497c5+=0xb),_0x5bc98d[_0x9d248b(0x134)](0x9)['text'](_0x9d248b(0xb8)+_0x550361[_0x9d248b(0x11a)],_0x49ddf0+0x3f,_0x2497c5);const _0x5e0e6d={'headers':[{'label':'Item\x20Code','property':_0x9d248b(0xee),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0xa5,'renderer':null},{'label':_0x9d248b(0xd3),'property':_0x9d248b(0xaa),'width':0x3c,'renderer':null},{'label':_0x9d248b(0x69),'property':'unit','width':0x3c,'renderer':null},{'label':_0x9d248b(0x85),'property':_0x9d248b(0x95),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x9d248b(0xc0),'width':0x3f,'renderer':null},{'label':_0x9d248b(0xa6),'property':_0x9d248b(0xb7),'width':0x3f,'renderer':null}],'datas':[]};var _0x4cd1bb=0x0;let _0x16012f='';var _0x103563=0x0;_0x550361[_0x9d248b(0x92)]==_0x9d248b(0xc4)?_0x16012f='DG':_0x16012f='FG';var _0x4f69f7=0x0;_0x550361[_0x9d248b(0x8a)][_0x9d248b(0xf7)](_0x15efce=>{const _0x2542cf=_0x9d248b;console['log'](_0x15efce);let _0x2984a3='';const _0x547447=_0x15efce[_0x2542cf(0xec)];for(let _0x21a924=0x1;_0x21a924<=_0x547447;_0x21a924++){_0x547447==_0x21a924?_0x2984a3+=_0x15efce[_0x2542cf(0xc1)]:_0x2984a3+=_0x15efce[_0x2542cf(0xc1)]+',',_0x103563+=_0x15efce[_0x2542cf(0xc1)];}_0x2984a3+=_0x2542cf(0x11b)+_0x15efce['secondary_unit'];const _0x3bc34e={'itemcode':_0x15efce['product_code'],'itemdescription':_0x15efce['product_name'],'qty':_0x15efce['quantity'],'unit':_0x15efce[_0x2542cf(0xd7)],'proddate':_0x15efce[_0x2542cf(0xf2)],'batchno':_0x15efce[_0x2542cf(0xf8)],'binloc':_0x16012f+_0x15efce['bay']};_0x4cd1bb+=_0x15efce[_0x2542cf(0xec)],_0x4f69f7+=0x1,_0x5e0e6d[_0x2542cf(0xc6)][_0x2542cf(0x90)](_0x3bc34e);}),_0x5bc98d[_0x9d248b(0xd8)](_0x5e0e6d,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x5bc98d[_0x9d248b(0x84)](_0x9d248b(0xe7))[_0x9d248b(0x134)](0x8),'prepareRow':(_0x1cf543,_0x48e0fb,_0x23788d,_0x28d0dd)=>_0x5bc98d[_0x9d248b(0x84)](_0x9d248b(0xd9))[_0x9d248b(0x134)](0x8)});var _0x2a87e8=_0x5bc98d['y'],_0x33cc14=_0x5bc98d['x'];_0x5bc98d[_0x9d248b(0x134)](0xa)['text'](_0x9d248b(0xf4),_0x33cc14+0x7d,_0x2a87e8),console[_0x9d248b(0x6a)](_0x9d248b(0x136)+_0x33cc14+_0x9d248b(0xe9)+_0x2a87e8+_0x9d248b(0xb3)+_0x4f69f7);const _0xe30420=_0x33cc14*_0x4f69f7;_0x5bc98d[_0x9d248b(0x134)](0xa)[_0x9d248b(0xa5)](_0x9d248b(0x107),_0x33cc14,_0x2a87e8+=0x15e-_0xe30420),_0x5bc98d[_0x9d248b(0x134)](0xa)['text'](_0x4cd1bb,_0x33cc14+0xdc,_0x2a87e8,{'underline':!![]}),_0x5bc98d[_0x9d248b(0x134)](0xa)[_0x9d248b(0xa5)](_0x9d248b(0x8d),_0x33cc14,_0x2a87e8+=0x19),_0x5bc98d[_0x9d248b(0x134)](0xa)[_0x9d248b(0xa5)]('\x20'[_0x9d248b(0xd1)](0x3c),_0x33cc14+0x3e,_0x2a87e8,{'underline':!![]}),_0x5bc98d[_0x9d248b(0x134)](0xa)[_0x9d248b(0xa5)]('Checked\x20By:\x20',_0x33cc14,_0x2a87e8+=0x32),_0x5bc98d[_0x9d248b(0x134)](0xa)[_0x9d248b(0xa5)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x33cc14+0x3c,_0x2a87e8,{'underline':!![]}),_0x5bc98d[_0x9d248b(0x134)](0xa)[_0x9d248b(0xa5)](_0x9d248b(0x9a),_0x33cc14+0x3c,_0x2a87e8+0xc);let _0x2f7772=_0x5bc98d[_0x9d248b(0xa4)]();for(let _0x39e3f5=0x0;_0x39e3f5<_0x2f7772[_0x9d248b(0x103)];_0x39e3f5++){_0x5bc98d[_0x9d248b(0xef)](_0x39e3f5);let _0x7c9921=_0x5bc98d[_0x9d248b(0x12f)]['margins']['bottom'];_0x5bc98d[_0x9d248b(0x12f)][_0x9d248b(0x117)][_0x9d248b(0x7a)]=0x0,_0x5bc98d[_0x9d248b(0xa5)](_0x9d248b(0x96)+(_0x39e3f5+0x1)+_0x9d248b(0x77)+_0x2f7772[_0x9d248b(0x103)],0x0,_0x5bc98d[_0x9d248b(0x12f)][_0x9d248b(0x8f)]-_0x7c9921/0x2,{'align':_0x9d248b(0xc2)}),_0x5bc98d[_0x9d248b(0x12f)]['margins'][_0x9d248b(0x7a)]=_0x7c9921;}const _0x18b4ae=_0x5bc98d['y'],_0xfb595c=_0x5bc98d['x'];_0x5bc98d[_0x9d248b(0xda)]();}catch(_0x377fd3){console[_0x9d248b(0x6a)](_0x377fd3),_0x4a1f3a['status'](0x1f4)[_0x9d248b(0xf5)](_0x9d248b(0xcc));}}),router[a0_0x1329df(0xa9)](a0_0x1329df(0xce),auth,async(_0x18166f,_0x368ffa)=>{const _0x437099=a0_0x1329df;try{const {username:_0x985554,email:_0x2ef6de,role:_0x264a6b}=_0x18166f[_0x437099(0x9c)],_0x27f397=_0x18166f[_0x437099(0x9c)],_0x29572e=await profile['findOne']({'email':_0x27f397['email']}),_0x3cf880=await master_shop['find'](),_0x1f6463=_0x18166f[_0x437099(0x119)]['id'],_0x3b1b77=await transfers_finished[_0x437099(0x7f)](_0x1f6463);var _0x41b729,_0x17f493;_0x41b729='Picking\x20List',_0x17f493=_0x437099(0xd0);_0x3b1b77['finalize']==_0x437099(0xc7)&&(_0x41b729='STOCKS\x20TRANSFER',_0x17f493='');const _0x4b8574=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x368ffa[_0x437099(0xca)]('Content-disposition',_0x437099(0x67)+_0x1f6463+_0x437099(0x127)),_0x368ffa['setHeader'](_0x437099(0x6b),_0x437099(0xe8));var _0x11194b=0x14,_0x5e81fe=0x3c;_0x4b8574['pipe'](_0x368ffa),_0x4b8574[_0x437099(0x118)](_0x437099(0x91)+_0x3cf880[0x0][_0x437099(0x118)],0x14,0x0,{'fit':[0x64,0x64]}),_0x4b8574['fontSize'](0x14)['text'](_0x437099(0x124),_0x11194b,_0x5e81fe),_0x4b8574[_0x437099(0x134)](0xa)['text'](_0x437099(0xd2),_0x11194b,_0x5e81fe+=0xf),_0x4b8574[_0x437099(0x134)](0xf)['text'](_0x41b729,_0x11194b,_0x5e81fe+=0x32),_0x4b8574['fontSize'](0xa)['text'](_0x17f493,_0x11194b,_0x5e81fe+=0x14),_0x4b8574[_0x437099(0x134)](0x9)[_0x437099(0xa5)]('From\x20Warehouse\x20',_0x11194b,_0x5e81fe+=0x28),_0x4b8574[_0x437099(0x134)](0x9)[_0x437099(0xa5)](_0x437099(0x121)+_0x3b1b77[_0x437099(0xbe)],_0x11194b+0x3f,_0x5e81fe),_0x4b8574[_0x437099(0x134)](0x9)[_0x437099(0xa5)](_0x437099(0x76),_0x11194b,_0x5e81fe+=0xf),_0x4b8574['fontSize'](0x9)[_0x437099(0xa5)]('\x20\x20\x20:\x20'+_0x3b1b77[_0x437099(0x125)],_0x11194b+0x3f,_0x5e81fe),_0x4b8574[_0x437099(0x134)](0x9)[_0x437099(0xa5)](_0x437099(0xdf),_0x11194b,_0x5e81fe+=0xb),_0x4b8574['fontSize'](0x9)[_0x437099(0xa5)]('\x20\x20\x20:\x20'+_0x3b1b77[_0x437099(0xba)],_0x11194b+0x3f,_0x5e81fe),_0x4b8574['fontSize'](0x9)['text'](_0x437099(0xfe),_0x11194b,_0x5e81fe+=0xb),_0x4b8574[_0x437099(0x134)](0x9)[_0x437099(0xa5)]('\x20\x20\x20:\x20'+_0x3b1b77['invoice'],_0x11194b+0x3f,_0x5e81fe);const _0x51d855={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':'\x20\x20FROM','property':_0x437099(0xee),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':'\x20\x20TO','property':_0x437099(0xe2),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x4b8574[_0x437099(0xd8)](_0x51d855,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x4b8574[_0x437099(0x84)](_0x437099(0xe7))['fontSize'](0x8),'prepareRow':(_0x415a8e,_0xeed7e5,_0x446c5c,_0x425764)=>_0x4b8574[_0x437099(0x84)](_0x437099(0xd9))['fontSize'](0x8)});const _0x731f44={'headers':[{'label':_0x437099(0x112),'property':_0x437099(0xee),'width':0x3c,'renderer':null},{'label':_0x437099(0x12d),'property':_0x437099(0xe2),'width':0x96,'renderer':null},{'label':_0x437099(0xd3),'property':_0x437099(0xaa),'width':0x28,'renderer':null},{'label':'UOM','property':_0x437099(0xd7),'width':0x37,'renderer':null},{'label':_0x437099(0x85),'property':'proddate','width':0x4b,'renderer':null},{'label':_0x437099(0xc8),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x437099(0xa6),'property':'binlocFrom','width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x33572f=0x0;let _0x369175='';var _0x4d83cb=0x0;if(_0x3b1b77[_0x437099(0xbe)]==_0x437099(0xc4))_0x369175='DG';else _0x3b1b77[_0x437099(0xbe)]==_0x437099(0xa3)&&(_0x369175='FG');_0x3b1b77[_0x437099(0x106)][_0x437099(0xf7)](_0x319279=>{const _0xd87589=_0x437099;var _0x5031e5=_0x319279[_0xd87589(0x10d)],_0x3a4e75,_0x44d4c0;_0x3a4e75=_0x319279[_0xd87589(0xd7)],_0x44d4c0=_0x319279[_0xd87589(0x115)];_0x5031e5=='S'&&(_0x3a4e75=_0x319279['secondary_unit'],_0x44d4c0=_0x319279[_0xd87589(0x115)]*_0x319279['maxPerUnit']);const _0x4d22de={'itemcode':_0x319279[_0xd87589(0xc9)],'itemdescription':_0x319279['product_name'],'qty':_0x44d4c0,'unit':_0x3a4e75,'proddate':_0x319279[_0xd87589(0xf2)],'batchno':_0x319279[_0xd87589(0xf8)],'binloc':_0x369175+_0x319279[_0xd87589(0xe4)],'qtyFrom':_0x319279[_0xd87589(0xac)],'binlocFrom':_0x369175+_0x319279['from_bay']};_0x33572f+=_0x44d4c0,_0x731f44[_0xd87589(0xc6)][_0xd87589(0x90)](_0x4d22de);}),_0x4b8574[_0x437099(0xd8)](_0x731f44,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x4b8574[_0x437099(0x84)](_0x437099(0xe7))[_0x437099(0x134)](0x8),'prepareRow':(_0x3cc242,_0xcc6f20,_0x31eebd,_0x58c225)=>_0x4b8574[_0x437099(0x84)](_0x437099(0xd9))[_0x437099(0x134)](0x8)});var _0x12d7fd=_0x4b8574['y'],_0x3453f5=_0x4b8574['x'];_0x4b8574['fontSize'](0xa)['text'](_0x437099(0xf4),_0x3453f5+0x7d,_0x12d7fd),_0x4b8574[_0x437099(0x134)](0xa)[_0x437099(0xa5)](_0x437099(0x107),_0x3453f5,_0x12d7fd+=0x15e),_0x4b8574[_0x437099(0x134)](0xa)[_0x437099(0xa5)](_0x33572f,_0x3453f5+0xd7,_0x12d7fd,{'underline':!![]}),_0x4b8574[_0x437099(0x134)](0xa)[_0x437099(0xa5)]('Picked\x20By\x20\x20\x20:\x20',_0x3453f5,_0x12d7fd+=0x19),_0x4b8574[_0x437099(0x134)](0xa)[_0x437099(0xa5)]('\x20'[_0x437099(0xd1)](0x3c),_0x3453f5+0x3e,_0x12d7fd,{'underline':!![]}),_0x4b8574[_0x437099(0x134)](0xa)[_0x437099(0xa5)](_0x437099(0xdc),_0x3453f5,_0x12d7fd+=0x32),_0x4b8574['fontSize'](0xa)[_0x437099(0xa5)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3453f5+0x3c,_0x12d7fd,{'underline':!![]}),_0x4b8574[_0x437099(0x134)](0xa)[_0x437099(0xa5)](_0x437099(0x9a),_0x3453f5+0x3c,_0x12d7fd+0xc);let _0x5af7f4=_0x4b8574[_0x437099(0xa4)]();for(let _0x47c117=0x0;_0x47c117<_0x5af7f4[_0x437099(0x103)];_0x47c117++){_0x4b8574[_0x437099(0xef)](_0x47c117);let _0x56dd08=_0x4b8574[_0x437099(0x12f)][_0x437099(0x117)][_0x437099(0x7a)];_0x4b8574['page']['margins'][_0x437099(0x7a)]=0x0,_0x4b8574[_0x437099(0xa5)](_0x437099(0x96)+(_0x47c117+0x1)+_0x437099(0x77)+_0x5af7f4[_0x437099(0x103)],0x0,_0x4b8574['page'][_0x437099(0x8f)]-_0x56dd08/0x2,{'align':'center'}),_0x4b8574[_0x437099(0x12f)][_0x437099(0x117)][_0x437099(0x7a)]=_0x56dd08;}const _0x44ead4=_0x4b8574['y'],_0x5b0d2a=_0x4b8574['x'];_0x4b8574[_0x437099(0xda)]();}catch(_0x447917){console[_0x437099(0x6a)](_0x447917),_0x368ffa['status'](0x1f4)[_0x437099(0xf5)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x1329df(0xa9)](a0_0x1329df(0x132),auth,async(_0xdc7b84,_0x105d47)=>{const _0x47280f=a0_0x1329df;try{const {username:_0x431db3,email:_0x3ca874,role:_0x2cf213}=_0xdc7b84[_0x47280f(0x9c)],_0x3287ef=_0xdc7b84['user'],_0x5d10e9=await profile[_0x47280f(0x8b)]({'email':_0x3287ef[_0x47280f(0x139)]}),_0x5b4014=await master_shop[_0x47280f(0xd6)](),_0x555c05=_0xdc7b84['params']['id'],_0x466656=await adjustment_finished[_0x47280f(0x7f)](_0x555c05);var _0x73058c,_0x1b5263;_0x73058c=_0x47280f(0xcb),_0x1b5263='(INVENTORY\x20ADJUSTMENT)';_0x466656['finalize']=='True'&&(_0x73058c=_0x47280f(0xcd),_0x1b5263='');const _0x433ab6=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x105d47[_0x47280f(0xca)]('Content-disposition',_0x47280f(0x67)+_0x555c05+_0x47280f(0x127)),_0x105d47['setHeader'](_0x47280f(0x6b),'application/pdf');var _0x59def5=0x14,_0x32ccaa=0x3c;_0x433ab6['pipe'](_0x105d47),_0x433ab6[_0x47280f(0x118)](_0x47280f(0x91)+_0x5b4014[0x0][_0x47280f(0x118)],0x14,0x0,{'fit':[0x64,0x64]}),_0x433ab6[_0x47280f(0x134)](0x14)[_0x47280f(0xa5)](_0x47280f(0x124),_0x59def5,_0x32ccaa),_0x433ab6[_0x47280f(0x134)](0xa)[_0x47280f(0xa5)](_0x47280f(0xd2),_0x59def5,_0x32ccaa+=0xf),_0x433ab6[_0x47280f(0x134)](0xf)['text'](_0x73058c,_0x59def5,_0x32ccaa+=0x32),_0x433ab6[_0x47280f(0x134)](0xa)['text'](_0x1b5263,_0x59def5,_0x32ccaa+=0x14),_0x433ab6[_0x47280f(0x134)](0x9)[_0x47280f(0xa5)](_0x47280f(0x81),_0x59def5,_0x32ccaa+=0x28),_0x433ab6[_0x47280f(0x134)](0x9)[_0x47280f(0xa5)](_0x47280f(0xb8)+_0x466656[_0x47280f(0x92)],_0x59def5+0x3f,_0x32ccaa),_0x433ab6[_0x47280f(0x134)](0x9)['text']('Date\x20',_0x59def5,_0x32ccaa+=0xb),_0x433ab6[_0x47280f(0x134)](0x9)['text']('\x20:\x20'+_0x466656[_0x47280f(0xba)],_0x59def5+0x3f,_0x32ccaa),_0x433ab6[_0x47280f(0x134)](0x9)[_0x47280f(0xa5)](_0x47280f(0xfe),_0x59def5,_0x32ccaa+=0xb),_0x433ab6[_0x47280f(0x134)](0x9)[_0x47280f(0xa5)](_0x47280f(0xb8)+_0x466656['invoice'],_0x59def5+0x3f,_0x32ccaa);const _0x16a0c5={'headers':[{'label':'Item\x20Code','property':_0x47280f(0xee),'width':0x3c,'renderer':null},{'label':_0x47280f(0x12d),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x47280f(0xd3),'property':_0x47280f(0xaa),'width':0x3c,'renderer':null},{'label':_0x47280f(0x69),'property':_0x47280f(0xd7),'width':0x3c,'renderer':null},{'label':'Production\x20Date','property':'proddate','width':0x50,'renderer':null},{'label':_0x47280f(0xc8),'property':_0x47280f(0xc0),'width':0x3f,'renderer':null},{'label':_0x47280f(0xa6),'property':_0x47280f(0xb7),'width':0x3f,'renderer':null}],'datas':[]};var _0x545e13=0x0;let _0x192984='';var _0x3709b4=0x0;_0x466656['warehouse_name']==_0x47280f(0xc4)?_0x192984='DG':_0x192984='FG';_0x466656['product'][_0x47280f(0xf7)](_0x2310c2=>{const _0x5f0880=_0x47280f;console[_0x5f0880(0x6a)](_0x2310c2);var _0x4e6f32=_0x2310c2[_0x5f0880(0x10d)],_0x31a4c1,_0x2f376c;_0x31a4c1=_0x2310c2[_0x5f0880(0xd7)],_0x2f376c=_0x2310c2[_0x5f0880(0x7c)];_0x4e6f32=='S'&&(_0x31a4c1=_0x2310c2[_0x5f0880(0xe1)],_0x2f376c=_0x2310c2[_0x5f0880(0x7c)]*_0x2310c2['maxPerUnit']);const _0x29ee90={'itemcode':_0x2310c2[_0x5f0880(0xc9)],'itemdescription':_0x2310c2[_0x5f0880(0xf0)],'qty':_0x2f376c,'unit':_0x31a4c1,'proddate':_0x2310c2[_0x5f0880(0xf2)],'batchno':_0x2310c2['batch_code'],'binloc':_0x192984+_0x2310c2[_0x5f0880(0x133)]};_0x545e13+=_0x2f376c,_0x16a0c5['datas']['push'](_0x29ee90);}),_0x433ab6['table'](_0x16a0c5,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x433ab6['font']('Helvetica-Bold')[_0x47280f(0x134)](0x8),'prepareRow':(_0x400f25,_0x34bf02,_0x579579,_0x437de4)=>_0x433ab6[_0x47280f(0x84)](_0x47280f(0xd9))[_0x47280f(0x134)](0x8)});var _0x5b8963=_0x433ab6['y'],_0x8a805e=_0x433ab6['x'];_0x433ab6['fontSize'](0xa)['text'](_0x47280f(0xf4),_0x8a805e+0x7d,_0x5b8963),_0x433ab6['fontSize'](0xa)[_0x47280f(0xa5)]('TOTAL\x20QTY\x20:\x20',_0x8a805e,_0x5b8963+=0x15e),_0x433ab6[_0x47280f(0x134)](0xa)[_0x47280f(0xa5)](_0x545e13,_0x8a805e+0xc8,_0x5b8963),_0x433ab6[_0x47280f(0x134)](0xa)[_0x47280f(0xa5)](_0x47280f(0x8d),_0x8a805e,_0x5b8963+=0x19),_0x433ab6['fontSize'](0xa)[_0x47280f(0xa5)]('\x20'[_0x47280f(0xd1)](0x3c),_0x8a805e+0x3e,_0x5b8963,{'underline':!![]}),_0x433ab6[_0x47280f(0x134)](0xa)[_0x47280f(0xa5)](_0x47280f(0xa2),_0x8a805e,_0x5b8963+=0x32),_0x433ab6[_0x47280f(0x134)](0xa)[_0x47280f(0xa5)](_0x47280f(0xb8),_0x8a805e+0x37,_0x5b8963),_0x433ab6[_0x47280f(0x134)](0xa)[_0x47280f(0xa5)](_0x47280f(0xad),_0x8a805e+0x3c,_0x5b8963,{'underline':!![]}),_0x433ab6[_0x47280f(0x134)](0xa)['text']('Finished\x20Good\x20Warehouse\x20Supervisor',_0x8a805e+0x3c,_0x5b8963+0xc);let _0x38632d=_0x433ab6[_0x47280f(0xa4)]();for(let _0x431d3b=0x0;_0x431d3b<_0x38632d[_0x47280f(0x103)];_0x431d3b++){_0x433ab6[_0x47280f(0xef)](_0x431d3b);let _0x38d177=_0x433ab6[_0x47280f(0x12f)][_0x47280f(0x117)]['bottom'];_0x433ab6[_0x47280f(0x12f)][_0x47280f(0x117)][_0x47280f(0x7a)]=0x0,_0x433ab6[_0x47280f(0xa5)](_0x47280f(0x96)+(_0x431d3b+0x1)+_0x47280f(0x77)+_0x38632d[_0x47280f(0x103)],0x0,_0x433ab6[_0x47280f(0x12f)]['height']-_0x38d177/0x2,{'align':_0x47280f(0xc2)}),_0x433ab6[_0x47280f(0x12f)][_0x47280f(0x117)]['bottom']=_0x38d177;}const _0x2a8c73=_0x433ab6['y'],_0x14e31c=_0x433ab6['x'];_0x433ab6[_0x47280f(0xda)]();}catch(_0x453871){console[_0x47280f(0x6a)](_0x453871),_0x105d47[_0x47280f(0x13d)](0x1f4)[_0x47280f(0xf5)](_0x47280f(0xcc));}}),router['get'](a0_0x1329df(0x74),auth,async(_0x32b6d5,_0x29568f)=>{const _0x19097c=a0_0x1329df;try{const {username:_0x5a716a,email:_0x3598c6,role:_0xa7fa25}=_0x32b6d5[_0x19097c(0x9c)],_0x32b6ba=_0x32b6d5[_0x19097c(0x9c)],_0x22fe2a=await profile[_0x19097c(0x8b)]({'email':_0x32b6ba[_0x19097c(0x139)]}),_0x268842=await master_shop['find'](),_0x7d5624=_0x32b6d5[_0x19097c(0x119)]['id'],_0x146259=await purchases_finished['findById'](_0x7d5624),_0x944c38=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x29568f[_0x19097c(0xca)](_0x19097c(0x8c),_0x19097c(0x67)+_0x7d5624+_0x19097c(0x127)),_0x29568f[_0x19097c(0xca)]('Content-type',_0x19097c(0xe8));var _0x349167=0x14,_0x1c670d=0x3c;_0x944c38[_0x19097c(0xae)](_0x29568f),_0x944c38[_0x19097c(0x118)](_0x19097c(0x91)+_0x268842[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x944c38[_0x19097c(0x134)](0x14)[_0x19097c(0xa5)](_0x19097c(0x124),_0x349167,_0x1c670d),_0x944c38[_0x19097c(0x134)](0xa)[_0x19097c(0xa5)](_0x19097c(0xd2),_0x349167,_0x1c670d+=0xf),_0x944c38[_0x19097c(0x134)](0xf)[_0x19097c(0xa5)](_0x19097c(0x82),_0x349167,_0x1c670d+=0x32),_0x944c38['fontSize'](0xa)[_0x19097c(0xa5)](_0x19097c(0x72),_0x349167,_0x1c670d+=0x14),_0x944c38[_0x19097c(0x134)](0x9)[_0x19097c(0xa5)](_0x19097c(0x81),_0x349167,_0x1c670d+=0x28),_0x944c38['fontSize'](0x9)[_0x19097c(0xa5)](_0x19097c(0xb8)+_0x146259[_0x19097c(0x92)],_0x349167+0x3f,_0x1c670d),_0x944c38[_0x19097c(0x134)](0x9)['text'](_0x19097c(0x7b)+_0x146259[_0x19097c(0x6f)],_0x349167+0x17c,_0x1c670d),_0x944c38[_0x19097c(0x134)](0x9)['text'](_0x19097c(0xdf),_0x349167,_0x1c670d+=0xb),_0x944c38[_0x19097c(0x134)](0x9)[_0x19097c(0xa5)]('\x20:\x20'+_0x146259[_0x19097c(0xba)],_0x349167+0x3f,_0x1c670d),_0x944c38[_0x19097c(0x134)](0x9)[_0x19097c(0xa5)](_0x19097c(0xfe),_0x349167,_0x1c670d+=0xb),_0x944c38['fontSize'](0x9)[_0x19097c(0xa5)](_0x19097c(0xb8)+_0x146259[_0x19097c(0x11a)],_0x349167+0x3f,_0x1c670d);const _0x20666e={'headers':[{'label':_0x19097c(0x112),'property':_0x19097c(0xee),'width':0x3c,'renderer':null},{'label':_0x19097c(0x12d),'property':_0x19097c(0xe2),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x19097c(0xaa),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x19097c(0xd7),'width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':_0x19097c(0xcf),'width':0x50,'renderer':null},{'label':_0x19097c(0xc8),'property':_0x19097c(0xc0),'width':0x3f,'renderer':null},{'label':_0x19097c(0xa6),'property':_0x19097c(0xb7),'width':0x3f,'renderer':null}],'datas':[]};var _0x31ef77=0x0;let _0x1fd435='';_0x146259[_0x19097c(0x92)]==_0x19097c(0xc4)?_0x1fd435='DG':_0x1fd435='FG';_0x146259[_0x19097c(0x106)]['forEach'](_0x36d3a5=>{const _0x5e623f=_0x19097c;let _0x68207e='';var _0x6c28=0x0;const _0x5da616={'itemcode':_0x36d3a5[_0x5e623f(0xc9)],'itemdescription':_0x36d3a5[_0x5e623f(0xf0)],'qty':_0x36d3a5['quantity'],'unit':_0x36d3a5[_0x5e623f(0x7d)],'expdate':_0x36d3a5[_0x5e623f(0xff)],'batchno':_0x36d3a5['batch_code'],'binloc':_0x1fd435+_0x36d3a5['bay']};_0x31ef77+=_0x36d3a5[_0x5e623f(0xec)],_0x20666e[_0x5e623f(0xc6)][_0x5e623f(0x90)](_0x5da616);}),_0x944c38[_0x19097c(0xd8)](_0x20666e,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x944c38[_0x19097c(0x84)](_0x19097c(0xe7))[_0x19097c(0x134)](0x8),'prepareRow':(_0xb4ce46,_0x5bcb61,_0x50cc6b,_0x42bd9e)=>_0x944c38[_0x19097c(0x84)]('Helvetica')[_0x19097c(0x134)](0x8)});var _0x44eef8=_0x944c38['y'],_0x4013f1=_0x944c38['x'];_0x944c38[_0x19097c(0x134)](0xa)[_0x19097c(0xa5)](_0x19097c(0xf4),_0x4013f1+0x7d,_0x44eef8),_0x944c38[_0x19097c(0x134)](0xa)[_0x19097c(0xa5)]('TOTAL\x20QTY:\x20',_0x4013f1,_0x44eef8+=0x15e),_0x944c38[_0x19097c(0x134)](0xa)[_0x19097c(0xa5)](_0x31ef77,_0x4013f1+0xfa,_0x44eef8),_0x944c38['fontSize'](0xa)[_0x19097c(0xa5)](_0x19097c(0xe5),_0x4013f1,_0x44eef8+=0x19),_0x944c38['fontSize'](0xa)[_0x19097c(0xa5)](_0x19097c(0xb0),_0x4013f1+0x37,_0x44eef8,{'underline':!![]}),_0x944c38[_0x19097c(0x134)](0xa)[_0x19097c(0xa5)](_0x19097c(0xe3),_0x4013f1,_0x44eef8+0x32),_0x944c38[_0x19097c(0x134)](0xa)[_0x19097c(0xa5)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4013f1+0x32,_0x44eef8+0x32,{'underline':!![]}),_0x944c38[_0x19097c(0x134)](0xa)['text'](_0x19097c(0x9a),_0x4013f1+0x32,_0x44eef8+0x3c);let _0x1424a2=_0x944c38[_0x19097c(0xa4)]();for(let _0x4c4c0b=0x0;_0x4c4c0b<_0x1424a2[_0x19097c(0x103)];_0x4c4c0b++){_0x944c38[_0x19097c(0xef)](_0x4c4c0b);let _0x9f5760=_0x944c38[_0x19097c(0x12f)][_0x19097c(0x117)][_0x19097c(0x7a)];_0x944c38['page'][_0x19097c(0x117)][_0x19097c(0x7a)]=0x0,_0x944c38['text'](_0x19097c(0x96)+(_0x4c4c0b+0x1)+_0x19097c(0x77)+_0x1424a2[_0x19097c(0x103)],0x0,_0x944c38[_0x19097c(0x12f)]['height']-_0x9f5760/0x2,{'align':_0x19097c(0xc2)}),_0x944c38[_0x19097c(0x12f)]['margins'][_0x19097c(0x7a)]=_0x9f5760;}const _0x11a412=_0x944c38['y'],_0x100eeb=_0x944c38['x'];_0x944c38[_0x19097c(0xda)]();}catch(_0x25e7a9){console[_0x19097c(0x6a)](_0x25e7a9),_0x29568f['status'](0x1f4)[_0x19097c(0xf5)](_0x19097c(0xcc));}}),router[a0_0x1329df(0xa9)](a0_0x1329df(0x6c),auth,async(_0x30bb60,_0x33ee35)=>{const _0x56e2dc=a0_0x1329df;try{const {username:_0x103915,email:_0x274db9,role:_0x145bc8}=_0x30bb60['user'],_0x310599=_0x30bb60['user'],_0x4b9e5a=await profile[_0x56e2dc(0x8b)]({'email':_0x310599[_0x56e2dc(0x139)]}),_0x5c19bf=await master_shop[_0x56e2dc(0xd6)](),_0x52402e=_0x30bb60[_0x56e2dc(0x119)]['id'],_0x35ad9c=await sales_return_finished[_0x56e2dc(0x7f)](_0x52402e),_0x4f1575=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x33ee35['setHeader'](_0x56e2dc(0x8c),'inline;\x20filename=\x22OUT-'+_0x52402e+_0x56e2dc(0x127)),_0x33ee35[_0x56e2dc(0xca)](_0x56e2dc(0x6b),_0x56e2dc(0xe8));var _0x5432fb=0x14,_0x3f6a1b=0x64;_0x4f1575[_0x56e2dc(0xae)](_0x33ee35),_0x4f1575[_0x56e2dc(0x118)](_0x56e2dc(0x91)+_0x5c19bf[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x4f1575['fontSize'](0x14)[_0x56e2dc(0xa5)](_0x56e2dc(0x124),_0x5432fb,_0x3f6a1b),_0x4f1575['fontSize'](0xa)['text'](_0x56e2dc(0xd2),_0x5432fb,_0x3f6a1b+=0xf),_0x4f1575[_0x56e2dc(0x134)](0xf)[_0x56e2dc(0xa5)]('PICKING\x20LIST',_0x5432fb,_0x3f6a1b+=0x32),_0x4f1575[_0x56e2dc(0x134)](0xa)[_0x56e2dc(0xa5)](_0x56e2dc(0xbc),_0x5432fb,_0x3f6a1b+=0x1e),_0x4f1575['fontSize'](0x9)[_0x56e2dc(0xa5)](_0x56e2dc(0x129)+_0x35ad9c['ToWarehouse'],_0x5432fb,_0x3f6a1b+=0x28),_0x4f1575['fontSize'](0x9)['text'](_0x56e2dc(0xb1)+_0x35ad9c[_0x56e2dc(0x10a)],0x190,0xd2,{'underline':!![]}),_0x4f1575[_0x56e2dc(0x134)](0x9)[_0x56e2dc(0xa5)]('Pick\x20By\x20:\x20',_0x5432fb,_0x3f6a1b+=0xb),_0x4f1575[_0x56e2dc(0x134)](0x9)[_0x56e2dc(0xa5)](_0x56e2dc(0xde)+_0x35ad9c['date'],_0x5432fb,_0x3f6a1b+=0xb),_0x4f1575[_0x56e2dc(0x134)](0x9)[_0x56e2dc(0xa5)](_0x56e2dc(0xe0)+_0x35ad9c[_0x56e2dc(0x11a)],_0x5432fb,_0x3f6a1b+=0xb);var _0x54c955='',_0x17cd9d='',_0x347ffc=0x0,_0x2cf413;console['log'](_0x35ad9c['warehouse_cat']);_0x35ad9c['warehouse_cat']=='GS'?(_0x35ad9c[_0x56e2dc(0x92)]==_0x56e2dc(0xc4)?warecode='DG':warecode='FG',_0x54c955={'headers':[{'label':_0x56e2dc(0x112),'property':_0x56e2dc(0xee),'width':0x3c,'renderer':null},{'label':_0x56e2dc(0x12d),'property':_0x56e2dc(0xe2),'width':0xc8,'renderer':null},{'label':_0x56e2dc(0xd3),'property':_0x56e2dc(0xaa),'width':0x3c,'renderer':null},{'label':_0x56e2dc(0x69),'property':_0x56e2dc(0xd7),'width':0x3c,'renderer':null},{'label':_0x56e2dc(0x105),'property':_0x56e2dc(0xcf),'width':0x50,'renderer':null},{'label':_0x56e2dc(0xc8),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x56e2dc(0xa6),'property':_0x56e2dc(0xb7),'width':0x3f,'renderer':null}],'datas':[]},_0x35ad9c[_0x56e2dc(0xa7)][_0x56e2dc(0xf7)](_0x50b2a9=>{const _0x3c1940=_0x56e2dc;let _0x2f7a5c='';var _0x543ced=0x0;_0x17cd9d={'itemcode':_0x50b2a9[_0x3c1940(0xc9)],'itemdescription':_0x50b2a9[_0x3c1940(0xf0)],'qty':_0x50b2a9[_0x3c1940(0x11e)],'unit':_0x50b2a9[_0x3c1940(0xd7)],'expdate':_0x50b2a9[_0x3c1940(0xff)],'batchno':_0x50b2a9[_0x3c1940(0xf8)],'binloc':warecode+_0x50b2a9[_0x3c1940(0x133)]},_0x347ffc+=_0x50b2a9[_0x3c1940(0x11e)],console[_0x3c1940(0x6a)](_0x50b2a9),_0x54c955[_0x3c1940(0xc6)][_0x3c1940(0x90)](_0x17cd9d);})):(_0x54c955={'headers':[{'label':_0x56e2dc(0x112),'property':_0x56e2dc(0xee),'width':0x3c,'renderer':null},{'label':_0x56e2dc(0x12d),'property':_0x56e2dc(0xe2),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x56e2dc(0xaa),'width':0x3c,'renderer':null},{'label':_0x56e2dc(0x69),'property':_0x56e2dc(0xd7),'width':0x3c,'renderer':null},{'label':_0x56e2dc(0x105),'property':_0x56e2dc(0xcf),'width':0x50,'renderer':null},{'label':_0x56e2dc(0xc8),'property':_0x56e2dc(0xc0),'width':0x3f,'renderer':null}],'datas':[]},_0x35ad9c['return_sale_QA'][_0x56e2dc(0xf7)](_0x553093=>{const _0x5d41df=_0x56e2dc;let _0x7c220e='';var _0x4825e1=0x0;_0x17cd9d={'itemcode':_0x553093[_0x5d41df(0xc9)],'itemdescription':_0x553093['product_name'],'qty':_0x553093[_0x5d41df(0x11e)],'unit':_0x553093[_0x5d41df(0xd7)],'expdate':_0x553093[_0x5d41df(0xff)],'batchno':_0x553093[_0x5d41df(0xf8)]},_0x347ffc+=_0x553093[_0x5d41df(0x11e)],console['log'](_0x347ffc+_0x5d41df(0x86)+_0x553093['return_qty']),_0x54c955[_0x5d41df(0xc6)][_0x5d41df(0x90)](_0x17cd9d);}));_0x4f1575['table'](_0x54c955,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x4f1575['font']('Helvetica-Bold')[_0x56e2dc(0x134)](0x8),'prepareRow':(_0x5e5373,_0x454991,_0x4cc030,_0x481bd7)=>_0x4f1575['font'](_0x56e2dc(0xd9))['fontSize'](0x8)});var _0x12d194=_0x4f1575['y'],_0x2caef6=_0x4f1575['x'];_0x4f1575[_0x56e2dc(0x134)](0xa)[_0x56e2dc(0xa5)](_0x56e2dc(0xf4),_0x2caef6+0x7d,_0x12d194),_0x4f1575['fontSize'](0xa)['text'](_0x56e2dc(0x107),_0x2caef6,_0x12d194+=0x190),_0x4f1575['fontSize'](0xa)['text'](_0x347ffc,_0x2caef6+0x37,_0x12d194,{'underline':!![]}),_0x4f1575['fontSize'](0xa)['text']('Check\x20By:\x20',_0x2caef6,_0x12d194+0x1e),_0x4f1575[_0x56e2dc(0x134)](0xa)['text']('ARMAN\x20CRUZ',_0x2caef6+0x32,_0x12d194+0x1e,{'underline':!![]});let _0x2c34fc=_0x4f1575[_0x56e2dc(0xa4)]();for(let _0x11e96e=0x0;_0x11e96e<_0x2c34fc[_0x56e2dc(0x103)];_0x11e96e++){_0x4f1575['switchToPage'](_0x11e96e);let _0x12771e=_0x4f1575[_0x56e2dc(0x12f)]['margins'][_0x56e2dc(0x7a)];_0x4f1575['page'][_0x56e2dc(0x117)][_0x56e2dc(0x7a)]=0x0,_0x4f1575[_0x56e2dc(0xa5)](_0x56e2dc(0x96)+(_0x11e96e+0x1)+_0x56e2dc(0x77)+_0x2c34fc[_0x56e2dc(0x103)],0x0,_0x4f1575[_0x56e2dc(0x12f)]['height']-_0x12771e/0x2,{'align':_0x56e2dc(0xc2)}),_0x4f1575[_0x56e2dc(0x12f)][_0x56e2dc(0x117)]['bottom']=_0x12771e;}const _0x28370e=_0x4f1575['y'],_0x4f1095=_0x4f1575['x'];_0x4f1575[_0x56e2dc(0xda)]();}catch(_0x10fc03){console[_0x56e2dc(0x6a)](_0x10fc03),_0x33ee35['status'](0x1f4)['send'](_0x56e2dc(0xcc));}}),router[a0_0x1329df(0xa9)](a0_0x1329df(0x79),auth,async(_0x44b66e,_0x1c2ba6)=>{const _0x2cc32d=a0_0x1329df;try{const {username:_0x8574d1,email:_0x5d5105,role:_0x1f53f3}=_0x44b66e[_0x2cc32d(0x9c)],_0x432ee5=_0x44b66e[_0x2cc32d(0x9c)],_0x178d48=await profile['findOne']({'email':_0x432ee5[_0x2cc32d(0x139)]}),_0x541a2a=await master_shop['find'](),_0x2fe141=_0x44b66e[_0x2cc32d(0x119)]['id'],_0x4bbba8=await purchases[_0x2cc32d(0x7f)](_0x2fe141),_0x5bac04=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1c2ba6[_0x2cc32d(0xca)](_0x2cc32d(0x8c),_0x2cc32d(0x67)+_0x2fe141+_0x2cc32d(0x127)),_0x1c2ba6[_0x2cc32d(0xca)](_0x2cc32d(0x6b),_0x2cc32d(0xe8));var _0x531cb1=0x14,_0x192f24=0x3c;_0x5bac04['pipe'](_0x1c2ba6),_0x5bac04[_0x2cc32d(0x118)](_0x2cc32d(0x91)+_0x541a2a[0x0][_0x2cc32d(0x118)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5bac04[_0x2cc32d(0x134)](0x14)[_0x2cc32d(0xa5)](_0x2cc32d(0x124),_0x531cb1,_0x192f24),_0x5bac04[_0x2cc32d(0x134)](0xa)['text'](_0x2cc32d(0xd2),_0x531cb1,_0x192f24+=0xf),_0x5bac04[_0x2cc32d(0x134)](0xf)[_0x2cc32d(0xa5)](_0x2cc32d(0x12b),_0x531cb1,_0x192f24+=0x32),_0x5bac04[_0x2cc32d(0x134)](0xa)[_0x2cc32d(0xa5)](_0x2cc32d(0x72),_0x531cb1,_0x192f24+=0x14),_0x5bac04[_0x2cc32d(0x134)](0x9)[_0x2cc32d(0xa5)](_0x2cc32d(0x81),_0x531cb1,_0x192f24+=0x2d),_0x5bac04[_0x2cc32d(0x134)](0x9)['text'](_0x2cc32d(0xb8)+_0x4bbba8['warehouse_name'],_0x531cb1+0x3f,_0x192f24),_0x5bac04[_0x2cc32d(0x134)](0x9)[_0x2cc32d(0xa5)](_0x2cc32d(0xed)+_0x4bbba8[_0x2cc32d(0xbb)],_0x531cb1+0x17c,_0x192f24,{'underline':!![]}),_0x5bac04[_0x2cc32d(0x134)](0x9)[_0x2cc32d(0xa5)]('Date\x20',_0x531cb1,_0x192f24+=0xb),_0x5bac04[_0x2cc32d(0x134)](0x9)['text'](_0x2cc32d(0xb8)+_0x4bbba8[_0x2cc32d(0xba)],_0x531cb1+0x3f,_0x192f24),_0x5bac04['fontSize'](0x9)[_0x2cc32d(0xa5)](_0x2cc32d(0xfe),_0x531cb1,_0x192f24+=0xb),_0x5bac04['fontSize'](0x9)['text'](_0x2cc32d(0xb8)+_0x4bbba8[_0x2cc32d(0x11a)],_0x531cb1+0x3f,_0x192f24);const _0x63626a={'headers':[{'label':_0x2cc32d(0x112),'property':_0x2cc32d(0xee),'width':0x3c,'renderer':null},{'label':_0x2cc32d(0x12d),'property':_0x2cc32d(0xe2),'width':0x96,'renderer':null},{'label':'QTY','property':_0x2cc32d(0xaa),'width':0x2d,'renderer':null},{'label':_0x2cc32d(0x69),'property':_0x2cc32d(0xd7),'width':0x3c,'renderer':null},{'label':_0x2cc32d(0x105),'property':_0x2cc32d(0xcf),'width':0x46,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3c,'renderer':null},{'label':'Bin\x20Location','property':_0x2cc32d(0xb7),'width':0x3c,'renderer':null},{'label':_0x2cc32d(0x7e),'property':_0x2cc32d(0x10e),'width':0x3f,'renderer':null}],'datas':[]};var _0x5ad10d=0x0;let _0xd72731='';_0x4bbba8[_0x2cc32d(0x106)]['forEach'](_0x500685=>{const _0x1ce87d=_0x2cc32d;let _0x9cb6f4='';var _0x4e3d89=0x0;const _0x243b1c={'itemcode':_0x500685['product_code'],'itemdescription':_0x500685[_0x1ce87d(0xf0)],'qty':_0x500685[_0x1ce87d(0xec)],'unit':_0x500685[_0x1ce87d(0x7d)],'expdate':_0x500685[_0x1ce87d(0xff)],'batchno':_0x500685['batch_code'],'binloc':_0x500685[_0x1ce87d(0xaf)]+_0x500685[_0x1ce87d(0x70)]+_0x500685['bay']+_0x500685['bin']+_0x500685[_0x1ce87d(0xc3)][0x0]+_0x500685['floorlevel'],'DelCode':_0x500685['delivery_code']};_0x5ad10d+=_0x500685[_0x1ce87d(0xec)],_0x63626a[_0x1ce87d(0xc6)]['push'](_0x243b1c);}),_0x5bac04[_0x2cc32d(0xd8)](_0x63626a,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x5bac04[_0x2cc32d(0x84)]('Helvetica-Bold')['fontSize'](0x8),'prepareRow':(_0x49bb9b,_0x2d40a1,_0x72857e,_0x30463b)=>_0x5bac04[_0x2cc32d(0x84)](_0x2cc32d(0xd9))[_0x2cc32d(0x134)](0x8)});var _0x1d4e54=_0x5bac04['y'],_0x53a960=_0x5bac04['x'];_0x5bac04['fontSize'](0xa)[_0x2cc32d(0xa5)](_0x2cc32d(0xf4),_0x53a960+0x7d,_0x1d4e54),_0x5bac04[_0x2cc32d(0x134)](0xa)[_0x2cc32d(0xa5)](_0x2cc32d(0x107),_0x53a960,_0x1d4e54+=0x15e),_0x5bac04[_0x2cc32d(0x134)](0xa)[_0x2cc32d(0xa5)](_0x5ad10d,_0x53a960+0xf0,_0x1d4e54,{'underline':!![]}),_0x5bac04['fontSize'](0xa)[_0x2cc32d(0xa5)](_0x2cc32d(0xb6),_0x53a960,_0x1d4e54+0x28),_0x5bac04['fontSize'](0xa)[_0x2cc32d(0xa5)](_0x2cc32d(0x109),_0x53a960+0x40,_0x1d4e54+0x28,{'underline':!![]}),_0x5bac04[_0x2cc32d(0x134)](0xa)['text'](_0x2cc32d(0x78),_0x53a960+0x40,_0x1d4e54+0x32);let _0x31cfdd=_0x5bac04[_0x2cc32d(0xa4)]();for(let _0x643e84=0x0;_0x643e84<_0x31cfdd[_0x2cc32d(0x103)];_0x643e84++){_0x5bac04['switchToPage'](_0x643e84);let _0x110f83=_0x5bac04[_0x2cc32d(0x12f)][_0x2cc32d(0x117)][_0x2cc32d(0x7a)];_0x5bac04[_0x2cc32d(0x12f)][_0x2cc32d(0x117)][_0x2cc32d(0x7a)]=0x0,_0x5bac04[_0x2cc32d(0xa5)](_0x2cc32d(0x96)+(_0x643e84+0x1)+'\x20of\x20'+_0x31cfdd['count'],0x0,_0x5bac04[_0x2cc32d(0x12f)][_0x2cc32d(0x8f)]-_0x110f83/0x2,{'align':'center'}),_0x5bac04[_0x2cc32d(0x12f)]['margins'][_0x2cc32d(0x7a)]=_0x110f83;}const _0x4766ce=_0x5bac04['y'],_0x501e00=_0x5bac04['x'];_0x5bac04[_0x2cc32d(0xda)]();}catch(_0x25b2a9){console[_0x2cc32d(0x6a)](_0x25b2a9),_0x1c2ba6['status'](0x1f4)[_0x2cc32d(0xf5)](_0x2cc32d(0xcc));}}),router['get'](a0_0x1329df(0x99),auth,async(_0x9a3ac0,_0xc626f9)=>{const _0x1ede0f=a0_0x1329df;try{const {username:_0xacdd42,email:_0x1b245b,role:_0x44558b}=_0x9a3ac0[_0x1ede0f(0x9c)],_0x5608c0=_0x9a3ac0[_0x1ede0f(0x9c)],_0x1e1a39=await profile['findOne']({'email':_0x5608c0[_0x1ede0f(0x139)]}),_0x281706=await master_shop[_0x1ede0f(0xd6)](),_0x30f928=_0x9a3ac0[_0x1ede0f(0x119)]['id'],_0x2b44cd=await sales[_0x1ede0f(0x7f)](_0x30f928),_0x28d97d=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x4e1c67;_0x4e1c67='PICKING\x20LIST';_0x2b44cd[_0x1ede0f(0x87)]=='True'&&(_0x4e1c67=_0x1ede0f(0xab));_0xc626f9[_0x1ede0f(0xca)](_0x1ede0f(0x8c),_0x1ede0f(0x67)+_0x30f928+_0x1ede0f(0x127)),_0xc626f9[_0x1ede0f(0xca)](_0x1ede0f(0x6b),_0x1ede0f(0xe8));var _0x45cad3=0x14,_0x5d266f=0x64;_0x28d97d[_0x1ede0f(0xae)](_0xc626f9),_0x28d97d[_0x1ede0f(0x118)]('./public/upload/'+_0x281706[0x0][_0x1ede0f(0x118)],0x14,0x0,{'fit':[0x64,0x64]}),_0x28d97d[_0x1ede0f(0x134)](0x14)[_0x1ede0f(0xa5)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x45cad3,_0x5d266f),_0x28d97d[_0x1ede0f(0x134)](0xa)[_0x1ede0f(0xa5)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x45cad3,_0x5d266f+=0xf),_0x28d97d[_0x1ede0f(0x134)](0xf)[_0x1ede0f(0xa5)](_0x4e1c67,_0x45cad3,_0x5d266f+=0x32),_0x28d97d[_0x1ede0f(0x134)](0xa)[_0x1ede0f(0xa5)]('(OUTGOING)',_0x45cad3,_0x5d266f+=0x14),_0x28d97d[_0x1ede0f(0x134)](0x9)[_0x1ede0f(0xa5)](_0x1ede0f(0xdf),_0x45cad3,_0x5d266f+=0x19),_0x28d97d['fontSize'](0x9)[_0x1ede0f(0xa5)](_0x1ede0f(0xb8)+_0x2b44cd[_0x1ede0f(0xba)],_0x45cad3+0x3f,_0x5d266f),_0x28d97d[_0x1ede0f(0x134)](0x9)['text'](_0x1ede0f(0x135),_0x45cad3,_0x5d266f+=0xb),_0x28d97d[_0x1ede0f(0x134)](0x9)[_0x1ede0f(0xa5)]('\x20:\x20'+_0x2b44cd[_0x1ede0f(0x11a)],_0x45cad3+0x3f,_0x5d266f);const _0x2fa1ca={'headers':[{'label':'ITEM\x20CODE','property':_0x1ede0f(0xee),'align':_0x1ede0f(0xc2),'width':0x2d,'renderer':null},{'label':'MATERIAL\x20DESCRIPTION','property':_0x1ede0f(0xe2),'align':_0x1ede0f(0xc2),'width':0x64,'renderer':null},{'label':'REQUESTED\x20QUANTITY','property':_0x1ede0f(0x116),'align':_0x1ede0f(0xc2),'width':0x28,'renderer':null},{'label':'QUANTITY\x20ISSUED','property':_0x1ede0f(0x88),'align':'center','width':0x28,'renderer':null},{'label':_0x1ede0f(0x69),'property':_0x1ede0f(0xd7),'align':'center','width':0x28,'renderer':null},{'label':'LOCATION','property':_0x1ede0f(0x80),'align':_0x1ede0f(0xc2),'width':0x32,'renderer':null},{'label':_0x1ede0f(0x9e),'property':_0x1ede0f(0x95),'align':'center','width':0x3c,'renderer':null},{'label':_0x1ede0f(0xfb),'property':_0x1ede0f(0xcf),'align':'center','width':0x3c,'renderer':null},{'label':_0x1ede0f(0x13f),'property':_0x1ede0f(0xa8),'align':'center','width':0x3f,'renderer':null},{'label':_0x1ede0f(0xdd),'property':'del_code','align':_0x1ede0f(0xc2),'width':0x3f,'renderer':null}],'datas':[]};var _0x25be1c=0x0;let _0x2c4efc='';var _0x469675=0x0,_0x45cad3=0x1;_0x2b44cd['sale_product'][_0x1ede0f(0xf7)](_0x53bb8c=>{const _0x410251=_0x1ede0f,_0x40835a=new Date(_0x53bb8c[_0x410251(0xf2)]),_0x2e767e={'year':_0x410251(0x137),'month':_0x410251(0xbd),'day':_0x410251(0x137)},_0xbafdc8=_0x40835a[_0x410251(0x12a)](_0x410251(0xb9),_0x2e767e),_0x4a8493=new Date(_0x53bb8c['expiry_date']),_0x58d00c={'year':_0x410251(0x137),'month':_0x410251(0xbd),'day':_0x410251(0x137)},_0x135163=_0x4a8493[_0x410251(0x12a)](_0x410251(0xb9),_0x58d00c),_0x6a6fbe=new Date(_0x53bb8c[_0x410251(0xa1)]),_0x589e11={'year':_0x410251(0x137),'month':_0x410251(0xbd),'day':'numeric'};var _0x53d103=_0x6a6fbe[_0x410251(0x12a)]('en-US',_0x589e11);typeof _0x53bb8c[_0x410251(0xa1)]==_0x410251(0x6e)&&(_0x53d103='');const _0x23caae={'itemcode':_0x53bb8c[_0x410251(0xc9)],'itemdescription':_0x53bb8c[_0x410251(0xf0)],'rqty':_0x53bb8c[_0x410251(0x102)],'iqty':_0x53bb8c[_0x410251(0xec)],'unit':_0x53bb8c[_0x410251(0xd7)],'blocation':_0x53bb8c[_0x410251(0xaf)]+_0x53bb8c[_0x410251(0x70)]+_0x53bb8c['bay']+_0x53bb8c['bin']+_0x53bb8c[_0x410251(0xc3)][0x0]+_0x53bb8c[_0x410251(0x13c)],'proddate':_0xbafdc8,'expdate':_0x135163,'del_date':_0x53d103,'del_code':_0x53bb8c[_0x410251(0x138)]};_0x45cad3++,_0x2fa1ca['datas'][_0x410251(0x90)](_0x23caae);}),_0x28d97d['table'](_0x2fa1ca,{'x':_0x45cad3+0x11,'y':_0x5d266f+=0x1e,'prepareHeader':()=>_0x28d97d[_0x1ede0f(0x84)]('Helvetica-Bold')[_0x1ede0f(0x134)](6.5),'prepareRow':(_0x54f5a3,_0x3609ea,_0x256bde,_0x48be05,_0x2a3518)=>{const _0x27b1e9=_0x1ede0f,{x:_0xc0d330,y:_0x502c36,width:_0x879f5e,height:_0xe36516}=_0x2a3518;_0x28d97d[_0x27b1e9(0x84)](_0x27b1e9(0xd9))[_0x27b1e9(0x134)](0x8),_0x28d97d['lineWidth'](0.5)['moveTo'](_0xc0d330,_0x502c36)['lineTo'](_0xc0d330,_0x502c36+_0xe36516)[_0x27b1e9(0x13b)]();}});var _0x75990=_0x28d97d['y'],_0x46e347=_0x28d97d['x'],_0x4ae627=_0x75990-=0x8;_0x28d97d[_0x1ede0f(0x128)](0x5),_0x28d97d[_0x1ede0f(0x71)](_0x1ede0f(0x9b))[_0x1ede0f(0xf1)](0x240,_0x4ae627)['lineTo'](0x11,_0x4ae627)['stroke'](),_0x28d97d['fontSize'](0xa)['text'](_0x1ede0f(0xf4),_0x46e347+0x7d,_0x75990+=0xf),_0x28d97d[_0x1ede0f(0x134)](0xb)[_0x1ede0f(0xa5)](_0x1ede0f(0xfd),_0x46e347,_0x75990+=0x15e),_0x28d97d[_0x1ede0f(0x134)](0xa)['text'](_0x1ede0f(0x94),_0x46e347+0x52,_0x75990,{'underline':!![]}),_0x28d97d[_0x1ede0f(0x134)](0xa)[_0x1ede0f(0xa5)]('Picked\x20By',_0x46e347,_0x75990+=0x19),_0x28d97d[_0x1ede0f(0x134)](0xa)['text'](_0x1ede0f(0xb8),_0x46e347+0x4b,_0x75990),_0x28d97d[_0x1ede0f(0x134)](0xa)[_0x1ede0f(0xa5)]('\x20'[_0x1ede0f(0xd1)](0x3c),_0x46e347+0x50,_0x75990,{'underline':!![]}),_0x28d97d[_0x1ede0f(0x134)](0xa)[_0x1ede0f(0xa5)](_0x1ede0f(0xd5),_0x46e347,_0x75990+=0x32),_0x28d97d[_0x1ede0f(0x134)](0xa)['text'](_0x1ede0f(0xb8),_0x46e347+0x4b,_0x75990),_0x28d97d[_0x1ede0f(0x134)](0xa)[_0x1ede0f(0xa5)](_0x1ede0f(0xeb),_0x46e347+0x50,_0x75990,{'underline':!![]}),_0x28d97d[_0x1ede0f(0x134)](0xa)[_0x1ede0f(0xa5)](_0x1ede0f(0x78),_0x46e347+0x50,_0x75990+0xc);let _0xcd9ac0=_0x28d97d[_0x1ede0f(0xa4)]();for(let _0xdb5a6e=0x0;_0xdb5a6e<_0xcd9ac0[_0x1ede0f(0x103)];_0xdb5a6e++){_0x28d97d['switchToPage'](_0xdb5a6e);let _0x51a170=_0x28d97d[_0x1ede0f(0x12f)][_0x1ede0f(0x117)]['bottom'];_0x28d97d[_0x1ede0f(0x12f)][_0x1ede0f(0x117)][_0x1ede0f(0x7a)]=0x0,_0x28d97d[_0x1ede0f(0xa5)]('Page:\x20'+(_0xdb5a6e+0x1)+_0x1ede0f(0x77)+_0xcd9ac0[_0x1ede0f(0x103)],0x0,_0x28d97d[_0x1ede0f(0x12f)][_0x1ede0f(0x8f)]-_0x51a170/0x2,{'align':'center'}),_0x28d97d[_0x1ede0f(0x12f)]['margins']['bottom']=_0x51a170;}const _0x606911=_0x28d97d['y'],_0x49f5c1=_0x28d97d['x'];_0x28d97d['end']();}catch(_0x58552c){console[_0x1ede0f(0x6a)](_0x58552c),_0xc626f9[_0x1ede0f(0x13d)](0x1f4)[_0x1ede0f(0xf5)](_0x1ede0f(0xcc));}}),router[a0_0x1329df(0xa9)]('/PDF_adjustment_rm/:id',auth,async(_0x13f258,_0x5d026e)=>{const _0x4b2f40=a0_0x1329df;try{const {username:_0x25016d,email:_0x812e41,role:_0x283f01}=_0x13f258[_0x4b2f40(0x9c)],_0x27d49d=_0x13f258['user'],_0xba865=await profile[_0x4b2f40(0x8b)]({'email':_0x27d49d[_0x4b2f40(0x139)]}),_0x56e9f7=await master_shop['find'](),_0x20b86d=_0x13f258[_0x4b2f40(0x119)]['id'],_0x2f5f66=await adjustment['findById'](_0x20b86d);var _0x504526,_0x59cee8;_0x504526=_0x4b2f40(0xcb),_0x59cee8=_0x4b2f40(0xb4);_0x2f5f66['finalize']==_0x4b2f40(0xc7)&&(_0x504526=_0x4b2f40(0xcd),_0x59cee8='');const _0x5c4c44=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5d026e[_0x4b2f40(0xca)](_0x4b2f40(0x8c),_0x4b2f40(0x67)+_0x20b86d+_0x4b2f40(0x127)),_0x5d026e[_0x4b2f40(0xca)]('Content-type','application/pdf');var _0x593738=0x14,_0x141ef5=0x3c;_0x5c4c44[_0x4b2f40(0xae)](_0x5d026e),_0x5c4c44['image']('./public/upload/'+_0x56e9f7[0x0][_0x4b2f40(0x118)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5c4c44[_0x4b2f40(0x134)](0x14)[_0x4b2f40(0xa5)](_0x4b2f40(0x124),_0x593738,_0x141ef5),_0x5c4c44[_0x4b2f40(0x134)](0xa)[_0x4b2f40(0xa5)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x593738,_0x141ef5+=0xf),_0x5c4c44[_0x4b2f40(0x134)](0xf)[_0x4b2f40(0xa5)](_0x504526,_0x593738,_0x141ef5+=0x32),_0x5c4c44[_0x4b2f40(0x134)](0xa)[_0x4b2f40(0xa5)](_0x59cee8,_0x593738,_0x141ef5+=0x14),_0x5c4c44['fontSize'](0x9)[_0x4b2f40(0xa5)](_0x4b2f40(0x81),_0x593738,_0x141ef5+=0x28),_0x5c4c44['fontSize'](0x9)[_0x4b2f40(0xa5)](_0x4b2f40(0xb8)+_0x2f5f66['warehouse_name'],_0x593738+0x3f,_0x141ef5),_0x5c4c44[_0x4b2f40(0x134)](0x9)[_0x4b2f40(0xa5)](_0x4b2f40(0xdf),_0x593738,_0x141ef5+=0xb),_0x5c4c44[_0x4b2f40(0x134)](0x9)[_0x4b2f40(0xa5)](_0x4b2f40(0xb8)+_0x2f5f66[_0x4b2f40(0xba)],_0x593738+0x3f,_0x141ef5),_0x5c4c44[_0x4b2f40(0x134)](0x9)[_0x4b2f40(0xa5)](_0x4b2f40(0xfe),_0x593738,_0x141ef5+=0xb),_0x5c4c44['fontSize'](0x9)[_0x4b2f40(0xa5)](_0x4b2f40(0xb8)+_0x2f5f66[_0x4b2f40(0x11a)],_0x593738+0x3f,_0x141ef5);const _0xda6c12={'headers':[{'label':_0x4b2f40(0x112),'property':_0x4b2f40(0xee),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0x96,'renderer':null},{'label':_0x4b2f40(0xd3),'property':'qty','width':0x3c,'renderer':null},{'label':_0x4b2f40(0x69),'property':_0x4b2f40(0xd7),'width':0x3c,'renderer':null},{'label':_0x4b2f40(0x85),'property':_0x4b2f40(0x95),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x4b2f40(0xc0),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x4b2f40(0xb7),'width':0x3f,'renderer':null}],'datas':[]};var _0x49e2fa=0x0,_0x426e4a=0x0;_0x2f5f66[_0x4b2f40(0x106)]['forEach'](_0x3049ae=>{const _0x967e93=_0x4b2f40;let _0x5a3d93='';const _0x40c2a2=_0x3049ae[_0x967e93(0x115)];for(let _0x5381fc=0x1;_0x5381fc<=_0x40c2a2;_0x5381fc++){_0x40c2a2==_0x5381fc?_0x5a3d93+=_0x3049ae['maxperunit']:_0x5a3d93+=_0x3049ae['maxperunit']+',',_0x426e4a+=_0x3049ae[_0x967e93(0xc1)];}_0x5a3d93+=_0x967e93(0x11b)+_0x3049ae[_0x967e93(0xe1)];const _0x62d3e4={'itemcode':_0x3049ae[_0x967e93(0xc9)],'itemdescription':_0x3049ae[_0x967e93(0xf0)],'qty':_0x3049ae[_0x967e93(0x131)],'unit':_0x3049ae[_0x967e93(0xd7)],'proddate':_0x3049ae[_0x967e93(0xf2)],'batchno':_0x3049ae[_0x967e93(0xf8)],'binloc':_0x3049ae[_0x967e93(0xaf)]+_0x3049ae[_0x967e93(0x70)]+_0x3049ae[_0x967e93(0x133)]+_0x3049ae[_0x967e93(0xf6)]+_0x3049ae[_0x967e93(0xc3)][0x0]+_0x3049ae[_0x967e93(0x13c)]};_0x49e2fa+=_0x3049ae[_0x967e93(0x131)],_0xda6c12['datas']['push'](_0x62d3e4);}),_0x5c4c44[_0x4b2f40(0xd8)](_0xda6c12,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x5c4c44[_0x4b2f40(0x84)](_0x4b2f40(0xe7))[_0x4b2f40(0x134)](0x8),'prepareRow':(_0x11f15b,_0x5adc35,_0x1a592e,_0x20dfa8)=>_0x5c4c44[_0x4b2f40(0x84)]('Helvetica')[_0x4b2f40(0x134)](0x8)});var _0x40fd16=_0x5c4c44['y'],_0xf0ca83=_0x5c4c44['x'];_0x5c4c44['fontSize'](0xa)[_0x4b2f40(0xa5)](_0x4b2f40(0xf4),_0xf0ca83+0x7d,_0x40fd16),_0x5c4c44[_0x4b2f40(0x134)](0xa)['text'](_0x4b2f40(0x110),_0xf0ca83,_0x40fd16+=0x136),_0x5c4c44[_0x4b2f40(0x134)](0xa)[_0x4b2f40(0xa5)](_0x49e2fa,_0xf0ca83+0xc8,_0x40fd16),_0x5c4c44[_0x4b2f40(0x134)](0xa)['text'](_0x4b2f40(0xd4),_0xf0ca83,_0x40fd16+=0x19),_0x5c4c44[_0x4b2f40(0x134)](0xa)[_0x4b2f40(0xa5)]('\x20'[_0x4b2f40(0xd1)](0x3c),_0xf0ca83+0x3e,_0x40fd16,{'underline':!![]}),_0x5c4c44[_0x4b2f40(0x134)](0xa)[_0x4b2f40(0xa5)](_0x4b2f40(0xa2),_0xf0ca83,_0x40fd16+=0x32),_0x5c4c44[_0x4b2f40(0x134)](0xa)[_0x4b2f40(0xa5)]('\x20:\x20',_0xf0ca83+0x37,_0x40fd16),_0x5c4c44['fontSize'](0xa)[_0x4b2f40(0xa5)](_0x4b2f40(0xeb),_0xf0ca83+0x3c,_0x40fd16,{'underline':!![]}),_0x5c4c44[_0x4b2f40(0x134)](0xa)['text']('Raw\x20Materials\x20Warehouse\x20Supervisor',_0xf0ca83+0x3c,_0x40fd16+0xc);let _0x3bb8a3=_0x5c4c44['bufferedPageRange']();for(let _0x12ebc0=0x0;_0x12ebc0<_0x3bb8a3[_0x4b2f40(0x103)];_0x12ebc0++){_0x5c4c44[_0x4b2f40(0xef)](_0x12ebc0);let _0x3b05b3=_0x5c4c44[_0x4b2f40(0x12f)][_0x4b2f40(0x117)][_0x4b2f40(0x7a)];_0x5c4c44[_0x4b2f40(0x12f)]['margins'][_0x4b2f40(0x7a)]=0x0,_0x5c4c44[_0x4b2f40(0xa5)](_0x4b2f40(0x96)+(_0x12ebc0+0x1)+'\x20of\x20'+_0x3bb8a3[_0x4b2f40(0x103)],0x0,_0x5c4c44[_0x4b2f40(0x12f)][_0x4b2f40(0x8f)]-_0x3b05b3/0x2,{'align':_0x4b2f40(0xc2)}),_0x5c4c44[_0x4b2f40(0x12f)][_0x4b2f40(0x117)][_0x4b2f40(0x7a)]=_0x3b05b3;}const _0x39084d=_0x5c4c44['y'],_0x4683e0=_0x5c4c44['x'];_0x5c4c44['end']();}catch(_0x14db3e){console[_0x4b2f40(0x6a)](_0x14db3e),_0x5d026e[_0x4b2f40(0x13d)](0x1f4)[_0x4b2f40(0xf5)](_0x4b2f40(0xcc));}}),router[a0_0x1329df(0xa9)](a0_0x1329df(0x114),auth,async(_0x140393,_0x4ba227)=>{const _0x59e5d8=a0_0x1329df;try{const {username:_0x69208a,email:_0x2c8468,role:_0x2d02dd}=_0x140393[_0x59e5d8(0x9c)],_0x52d69c=_0x140393[_0x59e5d8(0x9c)],_0x41d180=await profile[_0x59e5d8(0x8b)]({'email':_0x52d69c[_0x59e5d8(0x139)]}),_0x2e5f6c=await master_shop[_0x59e5d8(0xd6)](),_0xd4b0f2=_0x140393['params']['id'],_0x310233=await transfers['findById'](_0xd4b0f2);var _0x8fb84c,_0x4b5404;_0x8fb84c='Picking\x20List',_0x4b5404='(STOCKS\x20TRANSFER)';_0x310233[_0x59e5d8(0x87)]==_0x59e5d8(0xc7)&&(_0x8fb84c=_0x59e5d8(0x120),_0x4b5404='');const _0x651042=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4ba227[_0x59e5d8(0xca)]('Content-disposition',_0x59e5d8(0x67)+_0xd4b0f2+_0x59e5d8(0x127)),_0x4ba227[_0x59e5d8(0xca)](_0x59e5d8(0x6b),'application/pdf');var _0x9b7558=0x14,_0x203d0d=0x3c;_0x651042[_0x59e5d8(0xae)](_0x4ba227),_0x651042['image']('./public/upload/'+_0x2e5f6c[0x0][_0x59e5d8(0x118)],0x14,0x0,{'fit':[0x64,0x64]}),_0x651042[_0x59e5d8(0x134)](0x14)['text'](_0x59e5d8(0x124),_0x9b7558,_0x203d0d),_0x651042[_0x59e5d8(0x134)](0xa)[_0x59e5d8(0xa5)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x9b7558,_0x203d0d+=0xf),_0x651042[_0x59e5d8(0x134)](0xf)[_0x59e5d8(0xa5)](_0x8fb84c,_0x9b7558,_0x203d0d+=0x32),_0x651042[_0x59e5d8(0x134)](0xa)[_0x59e5d8(0xa5)](_0x4b5404,_0x9b7558,_0x203d0d+=0x14),_0x651042[_0x59e5d8(0x134)](0x9)[_0x59e5d8(0xa5)](_0x59e5d8(0x83),_0x9b7558,_0x203d0d+=0x28),_0x651042[_0x59e5d8(0x134)](0x9)['text'](_0x59e5d8(0x121)+_0x310233[_0x59e5d8(0xbe)],_0x9b7558+0x3f,_0x203d0d),_0x651042['fontSize'](0x9)[_0x59e5d8(0xa5)]('To\x20Warehouse\x20',_0x9b7558,_0x203d0d+=0xa),_0x651042[_0x59e5d8(0x134)](0x9)['text']('\x20\x20\x20:\x20'+_0x310233[_0x59e5d8(0x125)],_0x9b7558+0x3f,_0x203d0d),_0x651042[_0x59e5d8(0x134)](0x9)[_0x59e5d8(0xa5)](_0x59e5d8(0xdf),_0x9b7558,_0x203d0d+=0xb),_0x651042[_0x59e5d8(0x134)](0x9)[_0x59e5d8(0xa5)]('\x20\x20\x20:\x20'+_0x310233[_0x59e5d8(0xba)],_0x9b7558+0x3f,_0x203d0d),_0x651042['fontSize'](0x9)[_0x59e5d8(0xa5)](_0x59e5d8(0xfe),_0x9b7558,_0x203d0d+=0xb),_0x651042['fontSize'](0x9)[_0x59e5d8(0xa5)](_0x59e5d8(0x121)+_0x310233['invoice'],_0x9b7558+0x3f,_0x203d0d);const _0x414f22={'headers':[{'label':'','property':_0x59e5d8(0xee),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x59e5d8(0x122),'property':_0x59e5d8(0xee),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x59e5d8(0x111),'property':_0x59e5d8(0xe2),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x651042['table'](_0x414f22,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x651042[_0x59e5d8(0x84)](_0x59e5d8(0xe7))['fontSize'](0x8),'prepareRow':(_0xc19bf7,_0x313a13,_0x216d36,_0x3dff32)=>_0x651042[_0x59e5d8(0x84)](_0x59e5d8(0xd9))[_0x59e5d8(0x134)](0x8)});const _0x23de0a={'headers':[{'label':'Item\x20Code','property':_0x59e5d8(0xee),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0x96,'renderer':null},{'label':'Quantity','property':_0x59e5d8(0xaa),'width':0x28,'renderer':null},{'label':_0x59e5d8(0x69),'property':_0x59e5d8(0xd7),'width':0x37,'renderer':null},{'label':'Production\x20Date','property':_0x59e5d8(0x95),'width':0x4b,'renderer':null},{'label':_0x59e5d8(0xc8),'property':_0x59e5d8(0xc0),'width':0x3f,'renderer':null},{'label':_0x59e5d8(0xa6),'property':_0x59e5d8(0x10b),'width':0x3f,'renderer':null},{'label':_0x59e5d8(0xa6),'property':_0x59e5d8(0xb7),'width':0x3f,'renderer':null}],'datas':[]};var _0x2d2e0e=0x0;let _0x152a27='';var _0x14808f=0x0;_0x310233[_0x59e5d8(0x106)]['forEach'](_0x12c649=>{const _0x1d8739=_0x59e5d8;var _0x5bf9ba=_0x12c649['prod_cat'],_0x12859b;_0x12859b=_0x12c649[_0x1d8739(0xd7)];_0x5bf9ba=='S'&&(_0x12859b=_0x12c649[_0x1d8739(0xe1)]);const _0x3f435c={'itemcode':_0x12c649[_0x1d8739(0xc9)],'itemdescription':_0x12c649['product_name'],'qty':_0x12c649[_0x1d8739(0x115)],'unit':_0x12859b,'proddate':_0x12c649[_0x1d8739(0xf2)],'batchno':_0x12c649['batch_code'],'binloc':_0x12c649['storage']+_0x12c649[_0x1d8739(0x70)]+_0x12c649[_0x1d8739(0xe4)]+_0x12c649[_0x1d8739(0x68)]+_0x12c649[_0x1d8739(0x9d)][0x0]+_0x12c649['to_floorlevel'],'qtyFrom':_0x12c649['from_quantity'],'binlocFrom':_0x12c649[_0x1d8739(0x11f)]+_0x12c649['from_rack']+_0x12c649[_0x1d8739(0xe6)]+_0x12c649[_0x1d8739(0x6d)]+_0x12c649[_0x1d8739(0x11d)][0x0]+_0x12c649[_0x1d8739(0xdb)]};_0x2d2e0e+=_0x12c649['to_quantity'],_0x23de0a[_0x1d8739(0xc6)][_0x1d8739(0x90)](_0x3f435c);}),_0x651042['table'](_0x23de0a,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x651042[_0x59e5d8(0x84)](_0x59e5d8(0xe7))[_0x59e5d8(0x134)](0x8),'prepareRow':(_0x1b73ea,_0x25fb1e,_0x2dce41,_0x282759)=>_0x651042[_0x59e5d8(0x84)](_0x59e5d8(0xd9))['fontSize'](0x8)});var _0x1ac4c2=_0x651042['y'],_0x183bbe=_0x651042['x'];_0x651042[_0x59e5d8(0x134)](0xa)[_0x59e5d8(0xa5)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x183bbe+0x7d,_0x1ac4c2),_0x651042['fontSize'](0xa)['text']('TOTAL\x20QTY:\x20',_0x183bbe,_0x1ac4c2+=0x12c),_0x651042[_0x59e5d8(0x134)](0xa)[_0x59e5d8(0xa5)](_0x2d2e0e,_0x183bbe+0xd7,_0x1ac4c2,{'underline':!![]}),_0x651042['fontSize'](0xa)[_0x59e5d8(0xa5)](_0x59e5d8(0xdc),_0x183bbe,_0x1ac4c2+=0x32),_0x651042[_0x59e5d8(0x134)](0xa)[_0x59e5d8(0xa5)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x183bbe+0x3c,_0x1ac4c2,{'underline':!![]}),_0x651042[_0x59e5d8(0x134)](0xa)[_0x59e5d8(0xa5)](_0x59e5d8(0x78),_0x183bbe+0x3c,_0x1ac4c2+0xc);let _0xd67183=_0x651042['bufferedPageRange']();for(let _0x43cc4f=0x0;_0x43cc4f<_0xd67183[_0x59e5d8(0x103)];_0x43cc4f++){_0x651042[_0x59e5d8(0xef)](_0x43cc4f);let _0x474960=_0x651042[_0x59e5d8(0x12f)][_0x59e5d8(0x117)][_0x59e5d8(0x7a)];_0x651042[_0x59e5d8(0x12f)][_0x59e5d8(0x117)][_0x59e5d8(0x7a)]=0x0,_0x651042[_0x59e5d8(0xa5)](_0x59e5d8(0x96)+(_0x43cc4f+0x1)+_0x59e5d8(0x77)+_0xd67183[_0x59e5d8(0x103)],0x0,_0x651042[_0x59e5d8(0x12f)][_0x59e5d8(0x8f)]-_0x474960/0x2,{'align':_0x59e5d8(0xc2)}),_0x651042[_0x59e5d8(0x12f)][_0x59e5d8(0x117)][_0x59e5d8(0x7a)]=_0x474960;}const _0x5c741c=_0x651042['y'],_0x490342=_0x651042['x'];_0x651042[_0x59e5d8(0xda)]();}catch(_0x2690f6){console[_0x59e5d8(0x6a)](_0x2690f6),_0x4ba227[_0x59e5d8(0x13d)](0x1f4)['send'](_0x59e5d8(0xcc));}}),router[a0_0x1329df(0xa9)](a0_0x1329df(0xa0),auth,async(_0x11f334,_0x126ccd)=>{const _0x30805e=a0_0x1329df;try{const _0x2c259d=_0x337a84=>_0x337a84*0x48,_0x1a379f={'width':0x3,'height':0x1},_0x114b77=await product[_0x30805e(0xd6)](),_0x2dceeb=new PDFDocument({'margin':_0x2c259d(0.75),'size':[_0x2c259d(_0x1a379f[_0x30805e(0xb2)]),_0x2c259d(_0x1a379f[_0x30805e(0x8f)])],'bufferPages':!![]}),_0x410a1e=_0x114b77[_0x30805e(0x89)];for(let _0x4692d2=0x0;_0x4692d2<=_0x410a1e;_0x4692d2++){if(_0x4692d2!=_0x114b77[_0x30805e(0x89)]){const _0x3653e9=_0x114b77[_0x4692d2][_0x30805e(0x97)],_0x4d342e=_0x114b77[_0x4692d2][_0x30805e(0x8e)],_0x4aed85=_0x114b77[_0x4692d2]['secondary_code'],_0x309f81=_0x114b77[_0x4692d2][_0x30805e(0xc9)],_0x35a61d=new Canvas();JsBarcode(_0x35a61d,_0x4d342e,{'format':_0x30805e(0xea),'height':0x32,'displayValue':!![],'text':_0x4d342e}),_0x2dceeb[_0x30805e(0x118)](_0x35a61d['toBuffer'](),0x0,0x0,{'width':0xd2}),_0x2dceeb['addPage']();}}_0x2dceeb['pipe'](_0x126ccd),_0x2dceeb[_0x30805e(0xda)]();}catch(_0x326ddf){console[_0x30805e(0x73)](_0x30805e(0x75),_0x326ddf),_0x126ccd[_0x30805e(0x13d)](0x1f4)[_0x30805e(0xf5)](_0x30805e(0xcc));}}),module['exports']=router;function a0_0x2ef6(){const _0x11f9fd=['(INVENTORY\x20ADJUSTMENT)','exceljs','Checked\x20By\x20\x20\x20:\x20','binloc','\x20:\x20','en-US','date','suppliers','(RETURN)','short','from_warehouse','2478qJVxRP','batchno','maxperunit','center','type','DRY\x20GOODS','184890wpOefF','datas','True','Batch\x20No','product_code','setHeader','PICKING\x20LIST','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','INVENTORY\x20ADJUSTMENT','/PDF_transfer/:id','expdate','(STOCKS\x20TRANSFER)','repeat','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','Quantity','Picked\x20By\x20\x20\x20\x20\x20:\x20','Noted\x20By\x20','find','unit','table','Helvetica','end','from_floorlevel','Checked\x20By:\x20','DELIVERY\x20CODE','Date\x20:\x20','Date\x20','Control\x20Number\x20:\x20','secondary_unit','itemdescription','Check\x20By\x20\x20\x20\x20:\x20','to_bay','Picked\x20By\x20\x20\x20\x20:\x20','from_bay','Helvetica-Bold','application/pdf','\x20y:\x20','CODE128','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quantity','Supplier\x20:\x20','itemcode','switchToPage','product_name','moveTo','production_date','express/lib/response','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','send','bin','forEach','batch_code','blob-stream','canvas','EXPIRATION\x20DATE','3478376dIiGez','PREPARED\x20BY\x20:\x20','Control\x20Number\x20','expiry_date','Router','/PDF/:id','requested_qty','count','8785GjBrvJ','Expiration\x20Date','product','TOTAL\x20QTY:\x20','633vBvXpl','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','customer','binlocFrom','776997sVsNcI','prod_cat','DelCode','inline;\x20filename=\x22','TOTAL\x20QTY\x20:\x20','\x20\x20\x20\x20\x20TO','Item\x20Code','xlsx','/PDF_transfer_rm/:id','to_quantity','rqty','margins','image','params','invoice','\x20/\x20','3326yXHwHH','from_types','return_qty','from_storage','STOCKS\x20TRANSFER','\x20\x20\x20:\x20','\x20\x20\x20\x20\x20FROM','4805927bCKWpw','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','to_warehouse','252LGHiZz','.pdf\x22','lineWidth','Warehouse\x20:\x20','toLocaleDateString','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','../middleware/auth','Item\x20Description','../models/all_models','page','jsbarcode','new_adjust_qty','/PDF_adjustment/:id','bay','fontSize','REF\x20MRIS#\x20','x:\x20','numeric','delivery_code','email','pdfkit-table','stroke','floorlevel','status','multer','DELIVERY\x20DATE','inline;\x20filename=\x22OUT-','to_bin','UOM','log','Content-type','/pdf_sales_return_fin/:id','from_bin','undefined','POnumber','rack','lineCap','(INCOMING)','error','/pdf_puchases_fin/:id','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','To\x20Warehouse\x20','\x20of\x20','Raw\x20Materials\x20Warehouse\x20Supervisor','/pdf_puchases/:id','bottom','FTGS\x20Number\x20:\x20','adjust_qty','standard_unit','Delivery\x20Code','findById','blocation','Warehouse\x20','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','From\x20Warehouse\x20','font','Production\x20Date','\x20<>\x20','finalize','iqty','length','sale_product','findOne','Content-disposition','Picked\x20By\x20\x20\x20:\x20','primary_code','height','push','./public/upload/','warehouse_name','(OUTGOING)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','proddate','Page:\x20','name','express','/PDF_Sales/:id','Finished\x20Good\x20Warehouse\x20Supervisor','butt','user','to_types','PRODUCTION\x20DATE','2647568IRceNS','/barcode_generator/','delivery_date','Checked\x20By\x20','FROZEN\x20GOODS','bufferedPageRange','text','Bin\x20Location','return_sale','del_date','get','qty','DELIVERY\x20RECEIPT','from_quantity','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pipe','storage','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Customer\x20:\x20','width','\x20row:\x20'];a0_0x2ef6=function(){return _0x11f9fd;};return a0_0x2ef6();}