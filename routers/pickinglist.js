const a0_0x782356=a0_0xaa25;(function(_0x1eeddc,_0x479c0d){const _0xcde062=a0_0xaa25,_0x2c3491=_0x1eeddc();while(!![]){try{const _0x43aec5=-parseInt(_0xcde062(0x17d))/0x1*(-parseInt(_0xcde062(0x19e))/0x2)+parseInt(_0xcde062(0x1df))/0x3+parseInt(_0xcde062(0x1ac))/0x4*(parseInt(_0xcde062(0x25d))/0x5)+-parseInt(_0xcde062(0x1b0))/0x6+parseInt(_0xcde062(0x232))/0x7*(parseInt(_0xcde062(0x17f))/0x8)+parseInt(_0xcde062(0x1c5))/0x9*(-parseInt(_0xcde062(0x25c))/0xa)+parseInt(_0xcde062(0x1f5))/0xb;if(_0x43aec5===_0x479c0d)break;else _0x2c3491['push'](_0x2c3491['shift']());}catch(_0x11c159){_0x2c3491['push'](_0x2c3491['shift']());}}}(a0_0x5384,0x894e5));const express=require(a0_0x782356(0x211)),res=require(a0_0x782356(0x198)),app=express(),router=express[a0_0x782356(0x1ba)](),multer=require(a0_0x782356(0x236)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x782356(0x256)),auth=require(a0_0x782356(0x21a)),users=require(a0_0x782356(0x1e1)),excelJS=require(a0_0x782356(0x224)),xlsx=require(a0_0x782356(0x222)),PDFDocument=require(a0_0x782356(0x226)),fs=require('fs'),blobStream=require(a0_0x782356(0x1a1)),JsBarcode=require(a0_0x782356(0x1d5)),{Canvas}=require(a0_0x782356(0x1ce));function a0_0xaa25(_0x1d70fd,_0x455535){const _0x538416=a0_0x5384();return a0_0xaa25=function(_0xaa2510,_0x133092){_0xaa2510=_0xaa2510-0x17c;let _0x2e4b67=_0x538416[_0xaa2510];return _0x2e4b67;},a0_0xaa25(_0x1d70fd,_0x455535);}function a0_0x5384(){const _0x10da1e=['numeric','type','\x20<>\x20','count','end','warehouse_cat','From\x20Warehouse\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stroke','84453SCTZtl','delivery_code','../public/language/languages.json','inline;\x20filename=\x22OUT-','send','Date\x20:\x20','.pdf\x22','toLocaleDateString','/pdf_puchases/:id','return_sale','\x20\x20FROM','primary_code','from_bin','Checked\x20By\x20\x20\x20:\x20','adjust_qty','floorlevel','qty','ITEM\x20CODE','/PDF_adjustment_rm/:id','length','lineWidth','name','10094073swZWrA','Page:\x20','to_types','Control\x20Number\x20:\x20','UOM','DRY\x20GOODS','secondary_unit','del_date','pipe','rqty','finalize','(RETURN)','get','product_name','log','Helvetica','email','/pdf_puchases_fin/:id','DelCode','Item\x20Description','to_warehouse','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','batch_code','Check\x20By:\x20','findById','short','Raw\x20Materials\x20Warehouse\x20Supervisor','text','express','Picked\x20By\x20\x20\x20\x20:\x20','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','PREPARED\x20BY\x20:\x20','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','from_bay','Picked\x20By\x20\x20\x20\x20\x20:\x20','bay','CODE128','../middleware/auth','Checked\x20By:\x20','switchToPage','repeat','return_qty','(STOCKS\x20TRANSFER)','ToWarehouse','PICKING\x20LIST','xlsx','/PDF_adjustment/:id','exceljs','prod_cat','pdfkit-table','sale_product','DELIVERY\x20CODE','PRODUCTION\x20DATE','Production\x20Date','\x20\x20\x20:\x20','Bin\x20Location','image','table','user','batchno','QUANTITY\x20ISSUED','20657CaNgrx','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','maxperunit','Expiration\x20Date','multer','rack','application/pdf','itemcode','\x20\x20\x20\x20\x20FROM','date','quantity','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','customer','toBuffer','\x20row:\x20','center','TOTAL\x20QTY:\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(INCOMING)','to_bin','to_floorlevel','POnumber','storage','Check\x20By\x20\x20\x20\x20:\x20','Picked\x20By','Pick\x20By\x20:\x20','from_rack','bufferedPageRange','page','Finished\x20Good\x20Warehouse\x20Supervisor','production_date','font','from_quantity','expdate','REQUESTED\x20QUANTITY','../models/all_models','Batch\x20No','./public/upload/','findOne','Item\x20Code','Customer\x20:\x20','252190WoLZGS','20RqkFVK','/PDF_transfer/:id','12609XgxcEb','\x20:\x20','2272gSNXMl','push','LOCATION','QTY','/PDF/:id','Delivery\x20Code','bottom','inline;\x20filename=\x22','Checked\x20By\x20','to_quantity','forEach','binloc','REF\x20MRIS#\x20','product_code','expiry_date','\x20\x20\x20\x20\x20TO','blocation','bin','butt','Picked\x20By\x20\x20\x20:\x20','fontSize','To\x20Warehouse\x20','Content-disposition','setHeader','Date\x20','express/lib/response','INVENTORY\x20ADJUSTMENT','\x20\x20TO','moveTo','Warehouse\x20:\x20','datas','22MRemmu','(OUTGOING)','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','blob-stream','Picking\x20List','en-US','/pdf_sales_return_fin/:id','undefined','to_bay','invoice','binlocFrom','Control\x20Number\x20','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','maxPerUnit','479072VKREBY','exports','proddate','TOTAL\x20QTY\x20:\x20','6042102MRZDoU','unit','ARMAN\x20CRUZ','from_floorlevel','True','/PDF_Sales/:id','itemdescription','MATERIAL\x20DESCRIPTION','\x20/\x20','STOCKS\x20TRANSFER','Router','Content-type','Helvetica-Bold','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','product','warehouse_name','DELIVERY\x20DATE','params','status','standard_unit','Quantity','297snoFlp','from_warehouse','DELIVERY\x20RECEIPT','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineTo','\x20of\x20','Warehouse\x20','height','/barcode_generator/','canvas','find','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','Supplier\x20:\x20','width','delivery_date','margins','jsbarcode'];a0_0x5384=function(){return _0x10da1e;};return a0_0x5384();}router['get'](a0_0x782356(0x183),auth,async(_0x14b2d7,_0x4ea580)=>{const _0x49d708=a0_0x782356;try{const {username:_0x1c7ce7,email:_0x5b99b3,role:_0x5da578}=_0x14b2d7[_0x49d708(0x22f)],_0x38ed82=_0x14b2d7[_0x49d708(0x22f)],_0x20925e=await profile[_0x49d708(0x259)]({'email':_0x38ed82[_0x49d708(0x205)]}),_0x23039c=await master_shop[_0x49d708(0x1cf)](),_0x45532a=_0x14b2d7[_0x49d708(0x1c1)]['id'],_0x1b4766=await sales_finished['findById'](_0x45532a);var _0x5e87a3;_0x5e87a3='PICKING\x20LIST';_0x1b4766[_0x49d708(0x1ff)]=='True'&&(_0x5e87a3=_0x49d708(0x1c7));const _0x5f0512=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4ea580['setHeader'](_0x49d708(0x195),_0x49d708(0x186)+_0x1b4766[_0x49d708(0x1a7)]+_0x49d708(0x1e5)),_0x4ea580[_0x49d708(0x196)](_0x49d708(0x1bb),_0x49d708(0x238));var _0x21051a=0x14,_0x250e78=0x3c;_0x5f0512[_0x49d708(0x1fd)](_0x4ea580),_0x5f0512['image'](_0x49d708(0x258)+_0x23039c[0x0][_0x49d708(0x22d)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5f0512[_0x49d708(0x193)](0x14)[_0x49d708(0x210)](_0x49d708(0x23e),_0x21051a,_0x250e78),_0x5f0512['fontSize'](0xa)[_0x49d708(0x210)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x21051a,_0x250e78+=0xf),_0x5f0512[_0x49d708(0x193)](0xf)[_0x49d708(0x210)](_0x5e87a3,_0x21051a,_0x250e78+=0x32),_0x5f0512['fontSize'](0xa)[_0x49d708(0x210)](_0x49d708(0x19f),_0x21051a,_0x250e78+=0x14),_0x5f0512['fontSize'](0x9)[_0x49d708(0x210)]('Warehouse\x20',_0x21051a,_0x250e78+=0x28),_0x5f0512[_0x49d708(0x193)](0x9)['text'](_0x49d708(0x17e)+_0x1b4766['warehouse_name'],_0x21051a+0x3f,_0x250e78),_0x5f0512[_0x49d708(0x193)](0x9)[_0x49d708(0x210)](_0x49d708(0x25b)+_0x1b4766[_0x49d708(0x23f)],_0x21051a+0x17c,_0x250e78,{'underline':!![]}),_0x5f0512[_0x49d708(0x193)](0x9)['text'](_0x49d708(0x197),_0x21051a,_0x250e78+=0xb),_0x5f0512[_0x49d708(0x193)](0x9)[_0x49d708(0x210)](_0x49d708(0x17e)+_0x1b4766['date'],_0x21051a+0x3f,_0x250e78),_0x5f0512[_0x49d708(0x193)](0x9)[_0x49d708(0x210)](_0x49d708(0x1a9),_0x21051a,_0x250e78+=0xb),_0x5f0512['fontSize'](0x9)[_0x49d708(0x210)]('\x20:\x20'+_0x1b4766[_0x49d708(0x1a7)],_0x21051a+0x3f,_0x250e78);const _0x5dd485={'headers':[{'label':_0x49d708(0x25a),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x49d708(0x208),'property':'itemdescription','width':0xa5,'renderer':null},{'label':_0x49d708(0x1c4),'property':_0x49d708(0x1ef),'width':0x3c,'renderer':null},{'label':_0x49d708(0x1f9),'property':_0x49d708(0x1b1),'width':0x3c,'renderer':null},{'label':_0x49d708(0x22a),'property':_0x49d708(0x1ae),'width':0x50,'renderer':null},{'label':_0x49d708(0x257),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x49d708(0x22c),'property':_0x49d708(0x18a),'width':0x3f,'renderer':null}],'datas':[]};var _0x4b59ab=0x0;let _0x8af03f='';var _0x51e6d4=0x0;_0x1b4766[_0x49d708(0x1bf)]==_0x49d708(0x1fa)?_0x8af03f='DG':_0x8af03f='FG';var _0x598fdc=0x0;_0x1b4766[_0x49d708(0x227)][_0x49d708(0x189)](_0x614066=>{const _0xe46bb1=_0x49d708;console['log'](_0x614066);let _0x19b11a='';const _0x26ecc0=_0x614066['quantity'];for(let _0x56c497=0x1;_0x56c497<=_0x26ecc0;_0x56c497++){_0x26ecc0==_0x56c497?_0x19b11a+=_0x614066[_0xe46bb1(0x234)]:_0x19b11a+=_0x614066[_0xe46bb1(0x234)]+',',_0x51e6d4+=_0x614066[_0xe46bb1(0x234)];}_0x19b11a+='\x20/\x20'+_0x614066[_0xe46bb1(0x1fb)];const _0xb60900={'itemcode':_0x614066[_0xe46bb1(0x18c)],'itemdescription':_0x614066[_0xe46bb1(0x202)],'qty':_0x614066[_0xe46bb1(0x23c)],'unit':_0x614066['unit'],'proddate':_0x614066['production_date'],'batchno':_0x614066[_0xe46bb1(0x20b)],'binloc':_0x8af03f+_0x614066[_0xe46bb1(0x218)]};_0x4b59ab+=_0x614066[_0xe46bb1(0x23c)],_0x598fdc+=0x1,_0x5dd485[_0xe46bb1(0x19d)][_0xe46bb1(0x180)](_0xb60900);}),_0x5f0512['table'](_0x5dd485,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x5f0512[_0x49d708(0x252)](_0x49d708(0x1bc))[_0x49d708(0x193)](0x8),'prepareRow':(_0x18344b,_0x397dc9,_0x19594e,_0x3bdd68)=>_0x5f0512[_0x49d708(0x252)](_0x49d708(0x204))[_0x49d708(0x193)](0x8)});var _0x104b5f=_0x5f0512['y'],_0x28a443=_0x5f0512['x'];_0x5f0512[_0x49d708(0x193)](0xa)[_0x49d708(0x210)](_0x49d708(0x213),_0x28a443+0x7d,_0x104b5f),console[_0x49d708(0x203)]('x:\x20'+_0x28a443+'\x20y:\x20'+_0x104b5f+_0x49d708(0x241)+_0x598fdc);const _0x57b6ff=_0x28a443*_0x598fdc;_0x5f0512[_0x49d708(0x193)](0xa)[_0x49d708(0x210)](_0x49d708(0x243),_0x28a443,_0x104b5f+=0x15e-_0x57b6ff),_0x5f0512[_0x49d708(0x193)](0xa)['text'](_0x4b59ab,_0x28a443+0xdc,_0x104b5f,{'underline':!![]}),_0x5f0512[_0x49d708(0x193)](0xa)[_0x49d708(0x210)](_0x49d708(0x192),_0x28a443,_0x104b5f+=0x19),_0x5f0512['fontSize'](0xa)[_0x49d708(0x210)]('\x20'['repeat'](0x3c),_0x28a443+0x3e,_0x104b5f,{'underline':!![]}),_0x5f0512['fontSize'](0xa)[_0x49d708(0x210)]('Checked\x20By:\x20',_0x28a443,_0x104b5f+=0x32),_0x5f0512[_0x49d708(0x193)](0xa)['text'](_0x49d708(0x1c8),_0x28a443+0x3c,_0x104b5f,{'underline':!![]}),_0x5f0512['fontSize'](0xa)['text'](_0x49d708(0x250),_0x28a443+0x3c,_0x104b5f+0xc);let _0x39cbd9=_0x5f0512['bufferedPageRange']();for(let _0x4a92a2=0x0;_0x4a92a2<_0x39cbd9[_0x49d708(0x1d9)];_0x4a92a2++){_0x5f0512['switchToPage'](_0x4a92a2);let _0x395769=_0x5f0512['page'][_0x49d708(0x1d4)]['bottom'];_0x5f0512[_0x49d708(0x24f)][_0x49d708(0x1d4)]['bottom']=0x0,_0x5f0512[_0x49d708(0x210)](_0x49d708(0x1f6)+(_0x4a92a2+0x1)+_0x49d708(0x1ca)+_0x39cbd9[_0x49d708(0x1d9)],0x0,_0x5f0512[_0x49d708(0x24f)]['height']-_0x395769/0x2,{'align':_0x49d708(0x242)}),_0x5f0512[_0x49d708(0x24f)][_0x49d708(0x1d4)][_0x49d708(0x185)]=_0x395769;}const _0x4003a0=_0x5f0512['y'],_0x5cdb12=_0x5f0512['x'];_0x5f0512['end']();}catch(_0xdf8f5b){console[_0x49d708(0x203)](_0xdf8f5b),_0x4ea580[_0x49d708(0x1c2)](0x1f4)['send'](_0x49d708(0x1a0));}}),router[a0_0x782356(0x201)](a0_0x782356(0x17c),auth,async(_0x25855f,_0x185556)=>{const _0x1bbd72=a0_0x782356;try{const {username:_0x1b8be4,email:_0x2947fa,role:_0x2e28a0}=_0x25855f[_0x1bbd72(0x22f)],_0x58e1ee=_0x25855f[_0x1bbd72(0x22f)],_0x1e63ba=await profile[_0x1bbd72(0x259)]({'email':_0x58e1ee[_0x1bbd72(0x205)]}),_0x2c652e=await master_shop[_0x1bbd72(0x1cf)](),_0x19a592=_0x25855f[_0x1bbd72(0x1c1)]['id'],_0x37b81d=await transfers_finished[_0x1bbd72(0x20d)](_0x19a592);var _0x356496,_0xae397e;_0x356496='Picking\x20List',_0xae397e=_0x1bbd72(0x21f);_0x37b81d['finalize']==_0x1bbd72(0x1b4)&&(_0x356496=_0x1bbd72(0x1b9),_0xae397e='');const _0x53b632=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x185556[_0x1bbd72(0x196)](_0x1bbd72(0x195),_0x1bbd72(0x1e2)+_0x19a592+'.pdf\x22'),_0x185556[_0x1bbd72(0x196)](_0x1bbd72(0x1bb),'application/pdf');var _0x29b69c=0x14,_0x5085a2=0x3c;_0x53b632[_0x1bbd72(0x1fd)](_0x185556),_0x53b632['image'](_0x1bbd72(0x258)+_0x2c652e[0x0][_0x1bbd72(0x22d)],0x14,0x0,{'fit':[0x64,0x64]}),_0x53b632['fontSize'](0x14)[_0x1bbd72(0x210)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x29b69c,_0x5085a2),_0x53b632[_0x1bbd72(0x193)](0xa)[_0x1bbd72(0x210)](_0x1bbd72(0x1d0),_0x29b69c,_0x5085a2+=0xf),_0x53b632['fontSize'](0xf)[_0x1bbd72(0x210)](_0x356496,_0x29b69c,_0x5085a2+=0x32),_0x53b632[_0x1bbd72(0x193)](0xa)['text'](_0xae397e,_0x29b69c,_0x5085a2+=0x14),_0x53b632[_0x1bbd72(0x193)](0x9)[_0x1bbd72(0x210)]('From\x20Warehouse\x20',_0x29b69c,_0x5085a2+=0x28),_0x53b632[_0x1bbd72(0x193)](0x9)[_0x1bbd72(0x210)](_0x1bbd72(0x22b)+_0x37b81d[_0x1bbd72(0x1c6)],_0x29b69c+0x3f,_0x5085a2),_0x53b632['fontSize'](0x9)[_0x1bbd72(0x210)](_0x1bbd72(0x194),_0x29b69c,_0x5085a2+=0xf),_0x53b632[_0x1bbd72(0x193)](0x9)[_0x1bbd72(0x210)]('\x20\x20\x20:\x20'+_0x37b81d[_0x1bbd72(0x209)],_0x29b69c+0x3f,_0x5085a2),_0x53b632[_0x1bbd72(0x193)](0x9)[_0x1bbd72(0x210)](_0x1bbd72(0x197),_0x29b69c,_0x5085a2+=0xb),_0x53b632[_0x1bbd72(0x193)](0x9)[_0x1bbd72(0x210)](_0x1bbd72(0x22b)+_0x37b81d[_0x1bbd72(0x23b)],_0x29b69c+0x3f,_0x5085a2),_0x53b632[_0x1bbd72(0x193)](0x9)['text']('Control\x20Number\x20',_0x29b69c,_0x5085a2+=0xb),_0x53b632[_0x1bbd72(0x193)](0x9)['text']('\x20\x20\x20:\x20'+_0x37b81d['invoice'],_0x29b69c+0x3f,_0x5085a2);const _0x1b8162={'headers':[{'label':'','property':_0x1bbd72(0x239),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x1bbd72(0x1e9),'property':_0x1bbd72(0x239),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x1bbd72(0x19a),'property':_0x1bbd72(0x1b6),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x53b632['table'](_0x1b8162,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x53b632[_0x1bbd72(0x252)]('Helvetica-Bold')[_0x1bbd72(0x193)](0x8),'prepareRow':(_0x41a59b,_0x198b10,_0x4d10cb,_0x1c2c9d)=>_0x53b632[_0x1bbd72(0x252)]('Helvetica')[_0x1bbd72(0x193)](0x8)});const _0x5056fd={'headers':[{'label':'Item\x20Code','property':'itemcode','width':0x3c,'renderer':null},{'label':_0x1bbd72(0x208),'property':_0x1bbd72(0x1b6),'width':0x96,'renderer':null},{'label':_0x1bbd72(0x1c4),'property':_0x1bbd72(0x1ef),'width':0x28,'renderer':null},{'label':_0x1bbd72(0x1f9),'property':_0x1bbd72(0x1b1),'width':0x37,'renderer':null},{'label':_0x1bbd72(0x22a),'property':'proddate','width':0x4b,'renderer':null},{'label':_0x1bbd72(0x257),'property':_0x1bbd72(0x230),'width':0x3f,'renderer':null},{'label':_0x1bbd72(0x22c),'property':_0x1bbd72(0x1a8),'width':0x3f,'renderer':null},{'label':_0x1bbd72(0x22c),'property':_0x1bbd72(0x18a),'width':0x3f,'renderer':null}],'datas':[]};var _0x555cd9=0x0;let _0x313e81='';var _0x49987a=0x0;if(_0x37b81d[_0x1bbd72(0x1c6)]==_0x1bbd72(0x1fa))_0x313e81='DG';else _0x37b81d[_0x1bbd72(0x1c6)]=='FROZEN\x20GOODS'&&(_0x313e81='FG');_0x37b81d[_0x1bbd72(0x1be)][_0x1bbd72(0x189)](_0x4b3882=>{const _0x453117=_0x1bbd72;var _0x4bd368=_0x4b3882[_0x453117(0x225)],_0x4c47f2,_0x93865b;_0x4c47f2=_0x4b3882['unit'],_0x93865b=_0x4b3882[_0x453117(0x188)];_0x4bd368=='S'&&(_0x4c47f2=_0x4b3882[_0x453117(0x1fb)],_0x93865b=_0x4b3882[_0x453117(0x188)]*_0x4b3882[_0x453117(0x1ab)]);const _0x8b07cb={'itemcode':_0x4b3882[_0x453117(0x18c)],'itemdescription':_0x4b3882['product_name'],'qty':_0x93865b,'unit':_0x4c47f2,'proddate':_0x4b3882['production_date'],'batchno':_0x4b3882[_0x453117(0x20b)],'binloc':_0x313e81+_0x4b3882['to_bay'],'qtyFrom':_0x4b3882[_0x453117(0x253)],'binlocFrom':_0x313e81+_0x4b3882[_0x453117(0x216)]};_0x555cd9+=_0x93865b,_0x5056fd[_0x453117(0x19d)][_0x453117(0x180)](_0x8b07cb);}),_0x53b632[_0x1bbd72(0x22e)](_0x5056fd,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x53b632[_0x1bbd72(0x252)]('Helvetica-Bold')['fontSize'](0x8),'prepareRow':(_0x498b4a,_0x5d199a,_0x9f7e75,_0x5629f9)=>_0x53b632[_0x1bbd72(0x252)]('Helvetica')[_0x1bbd72(0x193)](0x8)});var _0x1ab4dd=_0x53b632['y'],_0x33b4c4=_0x53b632['x'];_0x53b632[_0x1bbd72(0x193)](0xa)[_0x1bbd72(0x210)](_0x1bbd72(0x213),_0x33b4c4+0x7d,_0x1ab4dd),_0x53b632[_0x1bbd72(0x193)](0xa)[_0x1bbd72(0x210)](_0x1bbd72(0x243),_0x33b4c4,_0x1ab4dd+=0x15e),_0x53b632[_0x1bbd72(0x193)](0xa)[_0x1bbd72(0x210)](_0x555cd9,_0x33b4c4+0xd7,_0x1ab4dd,{'underline':!![]}),_0x53b632[_0x1bbd72(0x193)](0xa)[_0x1bbd72(0x210)]('Picked\x20By\x20\x20\x20:\x20',_0x33b4c4,_0x1ab4dd+=0x19),_0x53b632[_0x1bbd72(0x193)](0xa)[_0x1bbd72(0x210)]('\x20'[_0x1bbd72(0x21d)](0x3c),_0x33b4c4+0x3e,_0x1ab4dd,{'underline':!![]}),_0x53b632[_0x1bbd72(0x193)](0xa)[_0x1bbd72(0x210)]('Checked\x20By:\x20',_0x33b4c4,_0x1ab4dd+=0x32),_0x53b632[_0x1bbd72(0x193)](0xa)[_0x1bbd72(0x210)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x33b4c4+0x3c,_0x1ab4dd,{'underline':!![]}),_0x53b632[_0x1bbd72(0x193)](0xa)['text']('Finished\x20Good\x20Warehouse\x20Supervisor',_0x33b4c4+0x3c,_0x1ab4dd+0xc);let _0x4d081b=_0x53b632[_0x1bbd72(0x24e)]();for(let _0x5a0156=0x0;_0x5a0156<_0x4d081b['count'];_0x5a0156++){_0x53b632[_0x1bbd72(0x21c)](_0x5a0156);let _0x2cb3ab=_0x53b632['page'][_0x1bbd72(0x1d4)][_0x1bbd72(0x185)];_0x53b632[_0x1bbd72(0x24f)][_0x1bbd72(0x1d4)][_0x1bbd72(0x185)]=0x0,_0x53b632[_0x1bbd72(0x210)](_0x1bbd72(0x1f6)+(_0x5a0156+0x1)+_0x1bbd72(0x1ca)+_0x4d081b[_0x1bbd72(0x1d9)],0x0,_0x53b632[_0x1bbd72(0x24f)][_0x1bbd72(0x1cc)]-_0x2cb3ab/0x2,{'align':_0x1bbd72(0x242)}),_0x53b632[_0x1bbd72(0x24f)]['margins'][_0x1bbd72(0x185)]=_0x2cb3ab;}const _0x529a64=_0x53b632['y'],_0x484870=_0x53b632['x'];_0x53b632[_0x1bbd72(0x1da)]();}catch(_0x33f961){console[_0x1bbd72(0x203)](_0x33f961),_0x185556[_0x1bbd72(0x1c2)](0x1f4)['send'](_0x1bbd72(0x1a0));}}),router['get'](a0_0x782356(0x223),auth,async(_0x37ee69,_0x44cf76)=>{const _0x4b978b=a0_0x782356;try{const {username:_0x28f6b6,email:_0x494fbe,role:_0x514226}=_0x37ee69[_0x4b978b(0x22f)],_0x492070=_0x37ee69['user'],_0x45ffc3=await profile[_0x4b978b(0x259)]({'email':_0x492070['email']}),_0x58fd3c=await master_shop[_0x4b978b(0x1cf)](),_0x222992=_0x37ee69['params']['id'],_0xed5c44=await adjustment_finished[_0x4b978b(0x20d)](_0x222992);var _0x22ece5,_0x337f6d;_0x22ece5=_0x4b978b(0x221),_0x337f6d='(INVENTORY\x20ADJUSTMENT)';_0xed5c44[_0x4b978b(0x1ff)]==_0x4b978b(0x1b4)&&(_0x22ece5='INVENTORY\x20ADJUSTMENT',_0x337f6d='');const _0x388966=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x44cf76[_0x4b978b(0x196)](_0x4b978b(0x195),_0x4b978b(0x1e2)+_0x222992+_0x4b978b(0x1e5)),_0x44cf76[_0x4b978b(0x196)](_0x4b978b(0x1bb),'application/pdf');var _0x5446c4=0x14,_0x3bd146=0x3c;_0x388966[_0x4b978b(0x1fd)](_0x44cf76),_0x388966[_0x4b978b(0x22d)]('./public/upload/'+_0x58fd3c[0x0][_0x4b978b(0x22d)],0x14,0x0,{'fit':[0x64,0x64]}),_0x388966['fontSize'](0x14)['text'](_0x4b978b(0x23e),_0x5446c4,_0x3bd146),_0x388966[_0x4b978b(0x193)](0xa)[_0x4b978b(0x210)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x5446c4,_0x3bd146+=0xf),_0x388966[_0x4b978b(0x193)](0xf)[_0x4b978b(0x210)](_0x22ece5,_0x5446c4,_0x3bd146+=0x32),_0x388966['fontSize'](0xa)[_0x4b978b(0x210)](_0x337f6d,_0x5446c4,_0x3bd146+=0x14),_0x388966[_0x4b978b(0x193)](0x9)['text'](_0x4b978b(0x1cb),_0x5446c4,_0x3bd146+=0x28),_0x388966['fontSize'](0x9)[_0x4b978b(0x210)](_0x4b978b(0x17e)+_0xed5c44[_0x4b978b(0x1bf)],_0x5446c4+0x3f,_0x3bd146),_0x388966[_0x4b978b(0x193)](0x9)[_0x4b978b(0x210)](_0x4b978b(0x197),_0x5446c4,_0x3bd146+=0xb),_0x388966[_0x4b978b(0x193)](0x9)['text']('\x20:\x20'+_0xed5c44[_0x4b978b(0x23b)],_0x5446c4+0x3f,_0x3bd146),_0x388966['fontSize'](0x9)[_0x4b978b(0x210)](_0x4b978b(0x1a9),_0x5446c4,_0x3bd146+=0xb),_0x388966['fontSize'](0x9)[_0x4b978b(0x210)](_0x4b978b(0x17e)+_0xed5c44[_0x4b978b(0x1a7)],_0x5446c4+0x3f,_0x3bd146);const _0x5e6259={'headers':[{'label':_0x4b978b(0x25a),'property':_0x4b978b(0x239),'width':0x3c,'renderer':null},{'label':_0x4b978b(0x208),'property':_0x4b978b(0x1b6),'width':0x96,'renderer':null},{'label':_0x4b978b(0x1c4),'property':_0x4b978b(0x1ef),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x4b978b(0x1b1),'width':0x3c,'renderer':null},{'label':_0x4b978b(0x22a),'property':_0x4b978b(0x1ae),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x4b978b(0x230),'width':0x3f,'renderer':null},{'label':_0x4b978b(0x22c),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x1b747a=0x0;let _0x487980='';var _0x54a295=0x0;_0xed5c44[_0x4b978b(0x1bf)]=='DRY\x20GOODS'?_0x487980='DG':_0x487980='FG';_0xed5c44['product']['forEach'](_0x41f3d9=>{const _0x11c5f5=_0x4b978b;console[_0x11c5f5(0x203)](_0x41f3d9);var _0x2fc18f=_0x41f3d9[_0x11c5f5(0x225)],_0x25d661,_0x222351;_0x25d661=_0x41f3d9['unit'],_0x222351=_0x41f3d9[_0x11c5f5(0x1ed)];_0x2fc18f=='S'&&(_0x25d661=_0x41f3d9[_0x11c5f5(0x1fb)],_0x222351=_0x41f3d9[_0x11c5f5(0x1ed)]*_0x41f3d9[_0x11c5f5(0x1ab)]);const _0x2c1978={'itemcode':_0x41f3d9['product_code'],'itemdescription':_0x41f3d9['product_name'],'qty':_0x222351,'unit':_0x25d661,'proddate':_0x41f3d9['production_date'],'batchno':_0x41f3d9['batch_code'],'binloc':_0x487980+_0x41f3d9[_0x11c5f5(0x218)]};_0x1b747a+=_0x222351,_0x5e6259['datas'][_0x11c5f5(0x180)](_0x2c1978);}),_0x388966['table'](_0x5e6259,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x388966[_0x4b978b(0x252)]('Helvetica-Bold')['fontSize'](0x8),'prepareRow':(_0x110bca,_0x94877c,_0x35d3d4,_0x371a01)=>_0x388966['font'](_0x4b978b(0x204))[_0x4b978b(0x193)](0x8)});var _0x2d220a=_0x388966['y'],_0x202012=_0x388966['x'];_0x388966[_0x4b978b(0x193)](0xa)[_0x4b978b(0x210)](_0x4b978b(0x213),_0x202012+0x7d,_0x2d220a),_0x388966[_0x4b978b(0x193)](0xa)['text']('TOTAL\x20QTY\x20:\x20',_0x202012,_0x2d220a+=0x15e),_0x388966[_0x4b978b(0x193)](0xa)[_0x4b978b(0x210)](_0x1b747a,_0x202012+0xc8,_0x2d220a),_0x388966[_0x4b978b(0x193)](0xa)[_0x4b978b(0x210)](_0x4b978b(0x192),_0x202012,_0x2d220a+=0x19),_0x388966[_0x4b978b(0x193)](0xa)['text']('\x20'[_0x4b978b(0x21d)](0x3c),_0x202012+0x3e,_0x2d220a,{'underline':!![]}),_0x388966[_0x4b978b(0x193)](0xa)['text']('Checked\x20By\x20',_0x202012,_0x2d220a+=0x32),_0x388966[_0x4b978b(0x193)](0xa)[_0x4b978b(0x210)](_0x4b978b(0x17e),_0x202012+0x37,_0x2d220a),_0x388966[_0x4b978b(0x193)](0xa)[_0x4b978b(0x210)](_0x4b978b(0x1c8),_0x202012+0x3c,_0x2d220a,{'underline':!![]}),_0x388966[_0x4b978b(0x193)](0xa)[_0x4b978b(0x210)](_0x4b978b(0x250),_0x202012+0x3c,_0x2d220a+0xc);let _0x400b73=_0x388966[_0x4b978b(0x24e)]();for(let _0x4f38f1=0x0;_0x4f38f1<_0x400b73[_0x4b978b(0x1d9)];_0x4f38f1++){_0x388966['switchToPage'](_0x4f38f1);let _0x2bbb25=_0x388966[_0x4b978b(0x24f)][_0x4b978b(0x1d4)][_0x4b978b(0x185)];_0x388966['page']['margins']['bottom']=0x0,_0x388966[_0x4b978b(0x210)](_0x4b978b(0x1f6)+(_0x4f38f1+0x1)+_0x4b978b(0x1ca)+_0x400b73[_0x4b978b(0x1d9)],0x0,_0x388966[_0x4b978b(0x24f)]['height']-_0x2bbb25/0x2,{'align':_0x4b978b(0x242)}),_0x388966['page']['margins'][_0x4b978b(0x185)]=_0x2bbb25;}const _0x4595d4=_0x388966['y'],_0x24a321=_0x388966['x'];_0x388966['end']();}catch(_0x18e339){console[_0x4b978b(0x203)](_0x18e339),_0x44cf76[_0x4b978b(0x1c2)](0x1f4)['send'](_0x4b978b(0x1a0));}}),router[a0_0x782356(0x201)](a0_0x782356(0x206),auth,async(_0x384a2e,_0x3ee1cb)=>{const _0x38fba1=a0_0x782356;try{const {username:_0x34fd3f,email:_0x2fc1a3,role:_0x24cd37}=_0x384a2e[_0x38fba1(0x22f)],_0xc17b2c=_0x384a2e['user'],_0x204fe8=await profile[_0x38fba1(0x259)]({'email':_0xc17b2c[_0x38fba1(0x205)]}),_0x3948f5=await master_shop['find'](),_0x4e3dbd=_0x384a2e[_0x38fba1(0x1c1)]['id'],_0x49c7b6=await purchases_finished[_0x38fba1(0x20d)](_0x4e3dbd),_0x3d04a0=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3ee1cb[_0x38fba1(0x196)](_0x38fba1(0x195),_0x38fba1(0x1e2)+_0x4e3dbd+_0x38fba1(0x1e5)),_0x3ee1cb['setHeader'](_0x38fba1(0x1bb),_0x38fba1(0x238));var _0x507f91=0x14,_0x1627f6=0x3c;_0x3d04a0[_0x38fba1(0x1fd)](_0x3ee1cb),_0x3d04a0[_0x38fba1(0x22d)]('./public/upload/'+_0x3948f5[0x0][_0x38fba1(0x22d)],0x14,0x0,{'fit':[0x64,0x64]}),_0x3d04a0['fontSize'](0x14)[_0x38fba1(0x210)](_0x38fba1(0x23e),_0x507f91,_0x1627f6),_0x3d04a0['fontSize'](0xa)[_0x38fba1(0x210)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x507f91,_0x1627f6+=0xf),_0x3d04a0[_0x38fba1(0x193)](0xf)[_0x38fba1(0x210)](_0x38fba1(0x1aa),_0x507f91,_0x1627f6+=0x32),_0x3d04a0[_0x38fba1(0x193)](0xa)[_0x38fba1(0x210)](_0x38fba1(0x245),_0x507f91,_0x1627f6+=0x14),_0x3d04a0[_0x38fba1(0x193)](0x9)['text'](_0x38fba1(0x1cb),_0x507f91,_0x1627f6+=0x28),_0x3d04a0[_0x38fba1(0x193)](0x9)[_0x38fba1(0x210)](_0x38fba1(0x17e)+_0x49c7b6['warehouse_name'],_0x507f91+0x3f,_0x1627f6),_0x3d04a0[_0x38fba1(0x193)](0x9)['text']('FTGS\x20Number\x20:\x20'+_0x49c7b6[_0x38fba1(0x248)],_0x507f91+0x17c,_0x1627f6),_0x3d04a0[_0x38fba1(0x193)](0x9)[_0x38fba1(0x210)]('Date\x20',_0x507f91,_0x1627f6+=0xb),_0x3d04a0[_0x38fba1(0x193)](0x9)[_0x38fba1(0x210)](_0x38fba1(0x17e)+_0x49c7b6[_0x38fba1(0x23b)],_0x507f91+0x3f,_0x1627f6),_0x3d04a0[_0x38fba1(0x193)](0x9)[_0x38fba1(0x210)]('Control\x20Number\x20',_0x507f91,_0x1627f6+=0xb),_0x3d04a0[_0x38fba1(0x193)](0x9)['text'](_0x38fba1(0x17e)+_0x49c7b6['invoice'],_0x507f91+0x3f,_0x1627f6);const _0x38eb1e={'headers':[{'label':_0x38fba1(0x25a),'property':_0x38fba1(0x239),'width':0x3c,'renderer':null},{'label':_0x38fba1(0x208),'property':_0x38fba1(0x1b6),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x38fba1(0x1ef),'width':0x3c,'renderer':null},{'label':_0x38fba1(0x1f9),'property':'unit','width':0x3c,'renderer':null},{'label':_0x38fba1(0x235),'property':_0x38fba1(0x254),'width':0x50,'renderer':null},{'label':_0x38fba1(0x257),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x38fba1(0x22c),'property':_0x38fba1(0x18a),'width':0x3f,'renderer':null}],'datas':[]};var _0x1a7c07=0x0;let _0x508791='';_0x49c7b6[_0x38fba1(0x1bf)]==_0x38fba1(0x1fa)?_0x508791='DG':_0x508791='FG';_0x49c7b6[_0x38fba1(0x1be)][_0x38fba1(0x189)](_0x44440c=>{const _0xf17ca1=_0x38fba1;let _0xd3fdfc='';var _0x31449b=0x0;const _0x134f59={'itemcode':_0x44440c[_0xf17ca1(0x18c)],'itemdescription':_0x44440c[_0xf17ca1(0x202)],'qty':_0x44440c[_0xf17ca1(0x23c)],'unit':_0x44440c[_0xf17ca1(0x1c3)],'expdate':_0x44440c['expiry_date'],'batchno':_0x44440c[_0xf17ca1(0x20b)],'binloc':_0x508791+_0x44440c[_0xf17ca1(0x218)]};_0x1a7c07+=_0x44440c['quantity'],_0x38eb1e[_0xf17ca1(0x19d)][_0xf17ca1(0x180)](_0x134f59);}),_0x3d04a0[_0x38fba1(0x22e)](_0x38eb1e,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x3d04a0[_0x38fba1(0x252)](_0x38fba1(0x1bc))[_0x38fba1(0x193)](0x8),'prepareRow':(_0x3fe755,_0x4d5967,_0x13b9ab,_0x1ccb29)=>_0x3d04a0[_0x38fba1(0x252)](_0x38fba1(0x204))[_0x38fba1(0x193)](0x8)});var _0x46c00d=_0x3d04a0['y'],_0x8205ef=_0x3d04a0['x'];_0x3d04a0[_0x38fba1(0x193)](0xa)[_0x38fba1(0x210)](_0x38fba1(0x213),_0x8205ef+0x7d,_0x46c00d),_0x3d04a0[_0x38fba1(0x193)](0xa)[_0x38fba1(0x210)](_0x38fba1(0x243),_0x8205ef,_0x46c00d+=0x15e),_0x3d04a0[_0x38fba1(0x193)](0xa)['text'](_0x1a7c07,_0x8205ef+0xfa,_0x46c00d),_0x3d04a0['fontSize'](0xa)[_0x38fba1(0x210)](_0x38fba1(0x212),_0x8205ef,_0x46c00d+=0x19),_0x3d04a0[_0x38fba1(0x193)](0xa)[_0x38fba1(0x210)](_0x38fba1(0x1dd),_0x8205ef+0x37,_0x46c00d,{'underline':!![]}),_0x3d04a0[_0x38fba1(0x193)](0xa)[_0x38fba1(0x210)](_0x38fba1(0x24a),_0x8205ef,_0x46c00d+0x32),_0x3d04a0[_0x38fba1(0x193)](0xa)[_0x38fba1(0x210)](_0x38fba1(0x1c8),_0x8205ef+0x32,_0x46c00d+0x32,{'underline':!![]}),_0x3d04a0[_0x38fba1(0x193)](0xa)[_0x38fba1(0x210)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x8205ef+0x32,_0x46c00d+0x3c);let _0x5d3a70=_0x3d04a0['bufferedPageRange']();for(let _0x31717e=0x0;_0x31717e<_0x5d3a70['count'];_0x31717e++){_0x3d04a0['switchToPage'](_0x31717e);let _0x19e231=_0x3d04a0[_0x38fba1(0x24f)]['margins']['bottom'];_0x3d04a0[_0x38fba1(0x24f)]['margins'][_0x38fba1(0x185)]=0x0,_0x3d04a0['text']('Page:\x20'+(_0x31717e+0x1)+_0x38fba1(0x1ca)+_0x5d3a70[_0x38fba1(0x1d9)],0x0,_0x3d04a0[_0x38fba1(0x24f)][_0x38fba1(0x1cc)]-_0x19e231/0x2,{'align':'center'}),_0x3d04a0[_0x38fba1(0x24f)][_0x38fba1(0x1d4)][_0x38fba1(0x185)]=_0x19e231;}const _0xebca9=_0x3d04a0['y'],_0x4e32c0=_0x3d04a0['x'];_0x3d04a0[_0x38fba1(0x1da)]();}catch(_0x1c8636){console[_0x38fba1(0x203)](_0x1c8636),_0x3ee1cb['status'](0x1f4)[_0x38fba1(0x1e3)](_0x38fba1(0x1a0));}}),router['get'](a0_0x782356(0x1a4),auth,async(_0x1c0ca3,_0x45aa39)=>{const _0x20105d=a0_0x782356;try{const {username:_0x3982ec,email:_0x4ca422,role:_0x33737e}=_0x1c0ca3['user'],_0x2c9912=_0x1c0ca3[_0x20105d(0x22f)],_0x496b54=await profile['findOne']({'email':_0x2c9912['email']}),_0x381850=await master_shop[_0x20105d(0x1cf)](),_0x4b0533=_0x1c0ca3[_0x20105d(0x1c1)]['id'],_0x2a46b8=await sales_return_finished[_0x20105d(0x20d)](_0x4b0533),_0x54f8b8=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x45aa39[_0x20105d(0x196)]('Content-disposition','inline;\x20filename=\x22OUT-'+_0x4b0533+_0x20105d(0x1e5)),_0x45aa39[_0x20105d(0x196)](_0x20105d(0x1bb),_0x20105d(0x238));var _0x25f352=0x14,_0xacfc1d=0x64;_0x54f8b8['pipe'](_0x45aa39),_0x54f8b8[_0x20105d(0x22d)](_0x20105d(0x258)+_0x381850[0x0][_0x20105d(0x22d)],0x14,0x0,{'fit':[0x64,0x64]}),_0x54f8b8[_0x20105d(0x193)](0x14)[_0x20105d(0x210)](_0x20105d(0x23e),_0x25f352,_0xacfc1d),_0x54f8b8[_0x20105d(0x193)](0xa)[_0x20105d(0x210)](_0x20105d(0x1d0),_0x25f352,_0xacfc1d+=0xf),_0x54f8b8['fontSize'](0xf)[_0x20105d(0x210)](_0x20105d(0x221),_0x25f352,_0xacfc1d+=0x32),_0x54f8b8[_0x20105d(0x193)](0xa)[_0x20105d(0x210)](_0x20105d(0x200),_0x25f352,_0xacfc1d+=0x1e),_0x54f8b8[_0x20105d(0x193)](0x9)['text'](_0x20105d(0x19c)+_0x2a46b8[_0x20105d(0x220)],_0x25f352,_0xacfc1d+=0x28),_0x54f8b8[_0x20105d(0x193)](0x9)['text'](_0x20105d(0x25b)+_0x2a46b8['customer'],0x190,0xd2,{'underline':!![]}),_0x54f8b8[_0x20105d(0x193)](0x9)['text'](_0x20105d(0x24c),_0x25f352,_0xacfc1d+=0xb),_0x54f8b8['fontSize'](0x9)[_0x20105d(0x210)](_0x20105d(0x1e4)+_0x2a46b8['date'],_0x25f352,_0xacfc1d+=0xb),_0x54f8b8['fontSize'](0x9)[_0x20105d(0x210)](_0x20105d(0x1f8)+_0x2a46b8[_0x20105d(0x1a7)],_0x25f352,_0xacfc1d+=0xb);var _0x374c83='',_0x6adce5='',_0xb37f93=0x0,_0x442e92;console[_0x20105d(0x203)](_0x2a46b8[_0x20105d(0x1db)]);_0x2a46b8[_0x20105d(0x1db)]=='GS'?(_0x2a46b8['warehouse_name']=='DRY\x20GOODS'?warecode='DG':warecode='FG',_0x374c83={'headers':[{'label':_0x20105d(0x25a),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x20105d(0x208),'property':'itemdescription','width':0xc8,'renderer':null},{'label':_0x20105d(0x1c4),'property':'qty','width':0x3c,'renderer':null},{'label':_0x20105d(0x1f9),'property':'unit','width':0x3c,'renderer':null},{'label':_0x20105d(0x235),'property':_0x20105d(0x254),'width':0x50,'renderer':null},{'label':_0x20105d(0x257),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x20105d(0x22c),'property':_0x20105d(0x18a),'width':0x3f,'renderer':null}],'datas':[]},_0x2a46b8[_0x20105d(0x1e8)]['forEach'](_0x2b790f=>{const _0x253396=_0x20105d;let _0xa33ee='';var _0x200608=0x0;_0x6adce5={'itemcode':_0x2b790f[_0x253396(0x18c)],'itemdescription':_0x2b790f[_0x253396(0x202)],'qty':_0x2b790f[_0x253396(0x21e)],'unit':_0x2b790f['unit'],'expdate':_0x2b790f[_0x253396(0x18d)],'batchno':_0x2b790f[_0x253396(0x20b)],'binloc':warecode+_0x2b790f[_0x253396(0x218)]},_0xb37f93+=_0x2b790f['return_qty'],console[_0x253396(0x203)](_0x2b790f),_0x374c83[_0x253396(0x19d)][_0x253396(0x180)](_0x6adce5);})):(_0x374c83={'headers':[{'label':_0x20105d(0x25a),'property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0xc8,'renderer':null},{'label':'Quantity','property':_0x20105d(0x1ef),'width':0x3c,'renderer':null},{'label':_0x20105d(0x1f9),'property':_0x20105d(0x1b1),'width':0x3c,'renderer':null},{'label':_0x20105d(0x235),'property':_0x20105d(0x254),'width':0x50,'renderer':null},{'label':_0x20105d(0x257),'property':'batchno','width':0x3f,'renderer':null}],'datas':[]},_0x2a46b8['return_sale_QA'][_0x20105d(0x189)](_0xfd4374=>{const _0x529437=_0x20105d;let _0x471582='';var _0x44f1b2=0x0;_0x6adce5={'itemcode':_0xfd4374[_0x529437(0x18c)],'itemdescription':_0xfd4374['product_name'],'qty':_0xfd4374['return_qty'],'unit':_0xfd4374[_0x529437(0x1b1)],'expdate':_0xfd4374[_0x529437(0x18d)],'batchno':_0xfd4374[_0x529437(0x20b)]},_0xb37f93+=_0xfd4374[_0x529437(0x21e)],console['log'](_0xb37f93+_0x529437(0x1d8)+_0xfd4374['return_qty']),_0x374c83[_0x529437(0x19d)]['push'](_0x6adce5);}));_0x54f8b8[_0x20105d(0x22e)](_0x374c83,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x54f8b8[_0x20105d(0x252)]('Helvetica-Bold')[_0x20105d(0x193)](0x8),'prepareRow':(_0x48bd15,_0x2c13be,_0x3911ca,_0x3f5aca)=>_0x54f8b8[_0x20105d(0x252)](_0x20105d(0x204))[_0x20105d(0x193)](0x8)});var _0x429daa=_0x54f8b8['y'],_0x305bfa=_0x54f8b8['x'];_0x54f8b8[_0x20105d(0x193)](0xa)[_0x20105d(0x210)](_0x20105d(0x213),_0x305bfa+0x7d,_0x429daa),_0x54f8b8[_0x20105d(0x193)](0xa)[_0x20105d(0x210)](_0x20105d(0x243),_0x305bfa,_0x429daa+=0x190),_0x54f8b8[_0x20105d(0x193)](0xa)[_0x20105d(0x210)](_0xb37f93,_0x305bfa+0x37,_0x429daa,{'underline':!![]}),_0x54f8b8[_0x20105d(0x193)](0xa)[_0x20105d(0x210)](_0x20105d(0x20c),_0x305bfa,_0x429daa+0x1e),_0x54f8b8[_0x20105d(0x193)](0xa)['text'](_0x20105d(0x1b2),_0x305bfa+0x32,_0x429daa+0x1e,{'underline':!![]});let _0x9156f7=_0x54f8b8['bufferedPageRange']();for(let _0x47ae22=0x0;_0x47ae22<_0x9156f7[_0x20105d(0x1d9)];_0x47ae22++){_0x54f8b8[_0x20105d(0x21c)](_0x47ae22);let _0x5b1c83=_0x54f8b8[_0x20105d(0x24f)]['margins'][_0x20105d(0x185)];_0x54f8b8['page']['margins'][_0x20105d(0x185)]=0x0,_0x54f8b8[_0x20105d(0x210)]('Page:\x20'+(_0x47ae22+0x1)+_0x20105d(0x1ca)+_0x9156f7[_0x20105d(0x1d9)],0x0,_0x54f8b8[_0x20105d(0x24f)][_0x20105d(0x1cc)]-_0x5b1c83/0x2,{'align':_0x20105d(0x242)}),_0x54f8b8[_0x20105d(0x24f)][_0x20105d(0x1d4)][_0x20105d(0x185)]=_0x5b1c83;}const _0x37f933=_0x54f8b8['y'],_0x1db889=_0x54f8b8['x'];_0x54f8b8[_0x20105d(0x1da)]();}catch(_0x2c3d29){console[_0x20105d(0x203)](_0x2c3d29),_0x45aa39[_0x20105d(0x1c2)](0x1f4)[_0x20105d(0x1e3)](_0x20105d(0x1a0));}}),router[a0_0x782356(0x201)](a0_0x782356(0x1e7),auth,async(_0xd5b084,_0x3d7ff7)=>{const _0x5e394d=a0_0x782356;try{const {username:_0x5f59e3,email:_0xae49ad,role:_0x4743d5}=_0xd5b084[_0x5e394d(0x22f)],_0x5c2bd3=_0xd5b084['user'],_0x59a2d7=await profile['findOne']({'email':_0x5c2bd3[_0x5e394d(0x205)]}),_0x44df65=await master_shop[_0x5e394d(0x1cf)](),_0x71bd93=_0xd5b084[_0x5e394d(0x1c1)]['id'],_0x4bc008=await purchases[_0x5e394d(0x20d)](_0x71bd93),_0x8c3232=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3d7ff7[_0x5e394d(0x196)](_0x5e394d(0x195),'inline;\x20filename=\x22OUT-'+_0x71bd93+_0x5e394d(0x1e5)),_0x3d7ff7[_0x5e394d(0x196)](_0x5e394d(0x1bb),_0x5e394d(0x238));var _0x3a986e=0x14,_0x2b7372=0x3c;_0x8c3232[_0x5e394d(0x1fd)](_0x3d7ff7),_0x8c3232[_0x5e394d(0x22d)]('./public/upload/'+_0x44df65[0x0][_0x5e394d(0x22d)],0x14,0x0,{'fit':[0x64,0x64]}),_0x8c3232['fontSize'](0x14)[_0x5e394d(0x210)](_0x5e394d(0x23e),_0x3a986e,_0x2b7372),_0x8c3232[_0x5e394d(0x193)](0xa)['text'](_0x5e394d(0x1d0),_0x3a986e,_0x2b7372+=0xf),_0x8c3232[_0x5e394d(0x193)](0xf)[_0x5e394d(0x210)](_0x5e394d(0x23d),_0x3a986e,_0x2b7372+=0x32),_0x8c3232[_0x5e394d(0x193)](0xa)[_0x5e394d(0x210)](_0x5e394d(0x245),_0x3a986e,_0x2b7372+=0x14),_0x8c3232[_0x5e394d(0x193)](0x9)[_0x5e394d(0x210)](_0x5e394d(0x1cb),_0x3a986e,_0x2b7372+=0x2d),_0x8c3232[_0x5e394d(0x193)](0x9)[_0x5e394d(0x210)]('\x20:\x20'+_0x4bc008[_0x5e394d(0x1bf)],_0x3a986e+0x3f,_0x2b7372),_0x8c3232['fontSize'](0x9)['text'](_0x5e394d(0x1d1)+_0x4bc008['suppliers'],_0x3a986e+0x17c,_0x2b7372,{'underline':!![]}),_0x8c3232[_0x5e394d(0x193)](0x9)[_0x5e394d(0x210)](_0x5e394d(0x197),_0x3a986e,_0x2b7372+=0xb),_0x8c3232['fontSize'](0x9)['text']('\x20:\x20'+_0x4bc008[_0x5e394d(0x23b)],_0x3a986e+0x3f,_0x2b7372),_0x8c3232[_0x5e394d(0x193)](0x9)[_0x5e394d(0x210)](_0x5e394d(0x1a9),_0x3a986e,_0x2b7372+=0xb),_0x8c3232[_0x5e394d(0x193)](0x9)[_0x5e394d(0x210)](_0x5e394d(0x17e)+_0x4bc008[_0x5e394d(0x1a7)],_0x3a986e+0x3f,_0x2b7372);const _0x2a5b68={'headers':[{'label':'Item\x20Code','property':_0x5e394d(0x239),'width':0x3c,'renderer':null},{'label':_0x5e394d(0x208),'property':_0x5e394d(0x1b6),'width':0x96,'renderer':null},{'label':_0x5e394d(0x182),'property':_0x5e394d(0x1ef),'width':0x2d,'renderer':null},{'label':'UOM','property':'unit','width':0x3c,'renderer':null},{'label':_0x5e394d(0x235),'property':'expdate','width':0x46,'renderer':null},{'label':_0x5e394d(0x257),'property':'batchno','width':0x3c,'renderer':null},{'label':'Bin\x20Location','property':'binloc','width':0x3c,'renderer':null},{'label':_0x5e394d(0x184),'property':_0x5e394d(0x207),'width':0x3f,'renderer':null}],'datas':[]};var _0x3f7158=0x0;let _0x42f73e='';_0x4bc008[_0x5e394d(0x1be)]['forEach'](_0x3a851c=>{const _0x5a705b=_0x5e394d;let _0xcffdae='';var _0x5429ad=0x0,_0x35a1e7=0x0,_0x4c10ab='';_0x3a851c['product_cat']=='S'?(_0x3a851c[_0x5a705b(0x234)]>0x0?_0x35a1e7=_0x3a851c['quantity']*_0x3a851c[_0x5a705b(0x234)]:_0x35a1e7=_0x3a851c[_0x5a705b(0x23c)]*0x1,_0x4c10ab=_0x3a851c[_0x5a705b(0x1fb)]):(_0x35a1e7=_0x3a851c[_0x5a705b(0x23c)]*0x1,_0x4c10ab=_0x3a851c[_0x5a705b(0x1c3)]);const _0x11fd2f={'itemcode':_0x3a851c['product_code'],'itemdescription':_0x3a851c['product_name'],'qty':_0x35a1e7,'unit':_0x4c10ab,'expdate':_0x3a851c['expiry_date'],'batchno':_0x3a851c[_0x5a705b(0x20b)],'binloc':_0x3a851c[_0x5a705b(0x249)]+_0x3a851c[_0x5a705b(0x237)]+_0x3a851c[_0x5a705b(0x218)]+_0x3a851c[_0x5a705b(0x190)]+_0x3a851c[_0x5a705b(0x1d7)][0x0]+_0x3a851c[_0x5a705b(0x1ee)],'DelCode':_0x3a851c['delivery_code']};_0x3f7158+=_0x35a1e7,_0x2a5b68['datas'][_0x5a705b(0x180)](_0x11fd2f);}),_0x8c3232[_0x5e394d(0x22e)](_0x2a5b68,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x8c3232[_0x5e394d(0x252)]('Helvetica-Bold')[_0x5e394d(0x193)](0x8),'prepareRow':(_0x514079,_0x4044a3,_0x1a46b6,_0x399944)=>_0x8c3232[_0x5e394d(0x252)](_0x5e394d(0x204))[_0x5e394d(0x193)](0x8)});var _0x142adf=_0x8c3232['y'],_0x4cf8ce=_0x8c3232['x'];_0x8c3232['fontSize'](0xa)[_0x5e394d(0x210)](_0x5e394d(0x213),_0x4cf8ce+0x7d,_0x142adf),_0x8c3232[_0x5e394d(0x193)](0xa)['text'](_0x5e394d(0x243),_0x4cf8ce,_0x142adf+=0x15e),_0x8c3232[_0x5e394d(0x193)](0xa)[_0x5e394d(0x210)](_0x3f7158,_0x4cf8ce+0xf0,_0x142adf,{'underline':!![]}),_0x8c3232[_0x5e394d(0x193)](0xa)[_0x5e394d(0x210)](_0x5e394d(0x1ec),_0x4cf8ce,_0x142adf+0x28),_0x8c3232['fontSize'](0xa)[_0x5e394d(0x210)](_0x5e394d(0x1bd),_0x4cf8ce+0x40,_0x142adf+0x28,{'underline':!![]}),_0x8c3232[_0x5e394d(0x193)](0xa)[_0x5e394d(0x210)](_0x5e394d(0x20f),_0x4cf8ce+0x40,_0x142adf+0x32);let _0x167a3c=_0x8c3232['bufferedPageRange']();for(let _0xd6c5d6=0x0;_0xd6c5d6<_0x167a3c['count'];_0xd6c5d6++){_0x8c3232['switchToPage'](_0xd6c5d6);let _0x40caee=_0x8c3232[_0x5e394d(0x24f)][_0x5e394d(0x1d4)][_0x5e394d(0x185)];_0x8c3232[_0x5e394d(0x24f)][_0x5e394d(0x1d4)][_0x5e394d(0x185)]=0x0,_0x8c3232[_0x5e394d(0x210)](_0x5e394d(0x1f6)+(_0xd6c5d6+0x1)+'\x20of\x20'+_0x167a3c[_0x5e394d(0x1d9)],0x0,_0x8c3232['page']['height']-_0x40caee/0x2,{'align':_0x5e394d(0x242)}),_0x8c3232[_0x5e394d(0x24f)][_0x5e394d(0x1d4)][_0x5e394d(0x185)]=_0x40caee;}const _0x5ad56d=_0x8c3232['y'],_0x648e5f=_0x8c3232['x'];_0x8c3232[_0x5e394d(0x1da)]();}catch(_0x264d23){console['log'](_0x264d23),_0x3d7ff7[_0x5e394d(0x1c2)](0x1f4)[_0x5e394d(0x1e3)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x782356(0x201)](a0_0x782356(0x1b5),auth,async(_0x2e7860,_0x4aab2d)=>{const _0xb52a28=a0_0x782356;try{const {username:_0x2b2858,email:_0x2d5e51,role:_0x198f2d}=_0x2e7860[_0xb52a28(0x22f)],_0x5bd746=_0x2e7860[_0xb52a28(0x22f)],_0x3b0675=await profile[_0xb52a28(0x259)]({'email':_0x5bd746[_0xb52a28(0x205)]}),_0x47b464=await master_shop[_0xb52a28(0x1cf)](),_0x40ada5=_0x2e7860[_0xb52a28(0x1c1)]['id'],_0x300654=await sales['findById'](_0x40ada5),_0x2fc412=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x50df0f;_0x50df0f=_0xb52a28(0x221);_0x300654[_0xb52a28(0x1ff)]==_0xb52a28(0x1b4)&&(_0x50df0f='DELIVERY\x20RECEIPT');_0x4aab2d[_0xb52a28(0x196)](_0xb52a28(0x195),_0xb52a28(0x1e2)+_0x40ada5+'.pdf\x22'),_0x4aab2d['setHeader'](_0xb52a28(0x1bb),_0xb52a28(0x238));var _0x2ac1b8=0x14,_0x1ccf3c=0x64;_0x2fc412[_0xb52a28(0x1fd)](_0x4aab2d),_0x2fc412['image'](_0xb52a28(0x258)+_0x47b464[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x2fc412[_0xb52a28(0x193)](0x14)[_0xb52a28(0x210)](_0xb52a28(0x23e),_0x2ac1b8,_0x1ccf3c),_0x2fc412['fontSize'](0xa)[_0xb52a28(0x210)](_0xb52a28(0x1d0),_0x2ac1b8,_0x1ccf3c+=0xf),_0x2fc412[_0xb52a28(0x193)](0xf)[_0xb52a28(0x210)](_0x50df0f,_0x2ac1b8,_0x1ccf3c+=0x32),_0x2fc412[_0xb52a28(0x193)](0xa)[_0xb52a28(0x210)](_0xb52a28(0x19f),_0x2ac1b8,_0x1ccf3c+=0x14),_0x2fc412[_0xb52a28(0x193)](0x9)[_0xb52a28(0x210)]('Date\x20',_0x2ac1b8,_0x1ccf3c+=0x19),_0x2fc412[_0xb52a28(0x193)](0x9)[_0xb52a28(0x210)](_0xb52a28(0x17e)+_0x300654[_0xb52a28(0x23b)],_0x2ac1b8+0x3f,_0x1ccf3c),_0x2fc412['fontSize'](0x9)[_0xb52a28(0x210)](_0xb52a28(0x18b),_0x2ac1b8,_0x1ccf3c+=0xb),_0x2fc412[_0xb52a28(0x193)](0x9)[_0xb52a28(0x210)](_0xb52a28(0x17e)+_0x300654[_0xb52a28(0x1a7)],_0x2ac1b8+0x3f,_0x1ccf3c);const _0x5c3b5d={'headers':[{'label':_0xb52a28(0x1f0),'property':_0xb52a28(0x239),'align':_0xb52a28(0x242),'width':0x2d,'renderer':null},{'label':_0xb52a28(0x1b7),'property':_0xb52a28(0x1b6),'align':_0xb52a28(0x242),'width':0x64,'renderer':null},{'label':_0xb52a28(0x255),'property':_0xb52a28(0x1fe),'align':'center','width':0x28,'renderer':null},{'label':_0xb52a28(0x231),'property':'iqty','align':_0xb52a28(0x242),'width':0x28,'renderer':null},{'label':_0xb52a28(0x1f9),'property':_0xb52a28(0x1b1),'align':_0xb52a28(0x242),'width':0x28,'renderer':null},{'label':_0xb52a28(0x181),'property':_0xb52a28(0x18f),'align':_0xb52a28(0x242),'width':0x32,'renderer':null},{'label':_0xb52a28(0x229),'property':'proddate','align':_0xb52a28(0x242),'width':0x3c,'renderer':null},{'label':'EXPIRATION\x20DATE','property':_0xb52a28(0x254),'align':'center','width':0x3c,'renderer':null},{'label':_0xb52a28(0x1c0),'property':_0xb52a28(0x1fc),'align':'center','width':0x3f,'renderer':null},{'label':_0xb52a28(0x228),'property':'del_code','align':_0xb52a28(0x242),'width':0x3f,'renderer':null}],'datas':[]};var _0x3e44de=0x0;let _0x1f183a='';var _0x472f7b=0x0,_0x2ac1b8=0x1;_0x300654[_0xb52a28(0x227)][_0xb52a28(0x189)](_0x3c12b7=>{const _0x38bc17=_0xb52a28,_0x7f406e=new Date(_0x3c12b7[_0x38bc17(0x251)]),_0x378a2c={'year':'numeric','month':_0x38bc17(0x20e),'day':'numeric'},_0x5891d1=_0x7f406e[_0x38bc17(0x1e6)]('en-US',_0x378a2c),_0x3ce9c6=new Date(_0x3c12b7[_0x38bc17(0x18d)]),_0x19d008={'year':_0x38bc17(0x1d6),'month':_0x38bc17(0x20e),'day':_0x38bc17(0x1d6)},_0x3b086a=_0x3ce9c6[_0x38bc17(0x1e6)](_0x38bc17(0x1a3),_0x19d008),_0xd3f0fe=new Date(_0x3c12b7['delivery_date']),_0x4e62fe={'year':_0x38bc17(0x1d6),'month':_0x38bc17(0x20e),'day':_0x38bc17(0x1d6)};var _0x15c07e=_0xd3f0fe['toLocaleDateString']('en-US',_0x4e62fe);typeof _0x3c12b7[_0x38bc17(0x1d3)]==_0x38bc17(0x1a5)&&(_0x15c07e='');console['log'](_0x3c12b7);var _0x3b8af0=0x0,_0x1ed2cf='';_0x3c12b7[_0x38bc17(0x225)]=='S'?(_0x3c12b7['maxperunit']>0x0?_0x3b8af0=_0x3c12b7[_0x38bc17(0x23c)]*_0x3c12b7[_0x38bc17(0x234)]:_0x3b8af0=_0x3c12b7['quantity']*0x1,_0x1ed2cf=_0x3c12b7[_0x38bc17(0x1fb)]):(_0x3b8af0=_0x3c12b7[_0x38bc17(0x23c)]*0x1,_0x1ed2cf=_0x3c12b7[_0x38bc17(0x1b1)]);const _0xbb6354={'itemcode':_0x3c12b7['product_code'],'itemdescription':_0x3c12b7[_0x38bc17(0x202)],'rqty':_0x3c12b7['requested_qty'],'iqty':_0x3b8af0,'unit':_0x1ed2cf,'blocation':_0x3c12b7[_0x38bc17(0x249)]+_0x3c12b7[_0x38bc17(0x237)]+_0x3c12b7[_0x38bc17(0x218)]+_0x3c12b7[_0x38bc17(0x190)]+_0x3c12b7[_0x38bc17(0x1d7)][0x0]+_0x3c12b7['floorlevel'],'proddate':_0x5891d1,'expdate':_0x3b086a,'del_date':_0x15c07e,'del_code':_0x3c12b7[_0x38bc17(0x1e0)]};_0x2ac1b8++,_0x5c3b5d[_0x38bc17(0x19d)][_0x38bc17(0x180)](_0xbb6354);}),_0x2fc412[_0xb52a28(0x22e)](_0x5c3b5d,{'x':_0x2ac1b8+0x11,'y':_0x1ccf3c+=0x1e,'prepareHeader':()=>_0x2fc412[_0xb52a28(0x252)]('Helvetica-Bold')[_0xb52a28(0x193)](6.5),'prepareRow':(_0x11ff15,_0x9466ae,_0x44d520,_0x3593c3,_0x38d8ee)=>{const _0x4ceedc=_0xb52a28,{x:_0x43ac49,y:_0x585fa8,width:_0xb050d3,height:_0x50dc7b}=_0x38d8ee;_0x2fc412[_0x4ceedc(0x252)]('Helvetica')[_0x4ceedc(0x193)](0x8),_0x2fc412[_0x4ceedc(0x1f3)](0.5)[_0x4ceedc(0x19b)](_0x43ac49,_0x585fa8)[_0x4ceedc(0x1c9)](_0x43ac49,_0x585fa8+_0x50dc7b)[_0x4ceedc(0x1de)]();}});var _0x317b1d=_0x2fc412['y'],_0x1c5ed6=_0x2fc412['x'],_0x3d274d=_0x317b1d-=0x8;_0x2fc412[_0xb52a28(0x1f3)](0x5),_0x2fc412['lineCap'](_0xb52a28(0x191))[_0xb52a28(0x19b)](0x240,_0x3d274d)['lineTo'](0x11,_0x3d274d)['stroke'](),_0x2fc412[_0xb52a28(0x193)](0xa)[_0xb52a28(0x210)](_0xb52a28(0x213),_0x1c5ed6+0x7d,_0x317b1d+=0xf),_0x2fc412[_0xb52a28(0x193)](0xb)[_0xb52a28(0x210)](_0xb52a28(0x214),_0x1c5ed6,_0x317b1d+=_0x2fc412['x']+_0x1c5ed6),_0x2fc412[_0xb52a28(0x193)](0xa)[_0xb52a28(0x210)](_0xb52a28(0x244),_0x1c5ed6+0x52,_0x317b1d,{'underline':!![]}),_0x2fc412[_0xb52a28(0x193)](0xa)['text'](_0xb52a28(0x24b),_0x1c5ed6,_0x317b1d+=0x19),_0x2fc412[_0xb52a28(0x193)](0xa)[_0xb52a28(0x210)](_0xb52a28(0x17e),_0x1c5ed6+0x4b,_0x317b1d),_0x2fc412['fontSize'](0xa)[_0xb52a28(0x210)]('\x20'[_0xb52a28(0x21d)](0x3c),_0x1c5ed6+0x50,_0x317b1d,{'underline':!![]}),_0x2fc412[_0xb52a28(0x193)](0xa)[_0xb52a28(0x210)]('Noted\x20By\x20',_0x1c5ed6,_0x317b1d+=0x32),_0x2fc412[_0xb52a28(0x193)](0xa)[_0xb52a28(0x210)]('\x20:\x20',_0x1c5ed6+0x4b,_0x317b1d),_0x2fc412[_0xb52a28(0x193)](0xa)[_0xb52a28(0x210)](_0xb52a28(0x20a),_0x1c5ed6+0x50,_0x317b1d,{'underline':!![]}),_0x2fc412[_0xb52a28(0x193)](0xa)['text'](_0xb52a28(0x20f),_0x1c5ed6+0x50,_0x317b1d+0xc);let _0x54b7dd=_0x2fc412['bufferedPageRange']();for(let _0x307684=0x0;_0x307684<_0x54b7dd[_0xb52a28(0x1d9)];_0x307684++){_0x2fc412[_0xb52a28(0x21c)](_0x307684);let _0x46317d=_0x2fc412[_0xb52a28(0x24f)]['margins'][_0xb52a28(0x185)];_0x2fc412['page'][_0xb52a28(0x1d4)]['bottom']=0x0,_0x2fc412[_0xb52a28(0x210)]('Page:\x20'+(_0x307684+0x1)+_0xb52a28(0x1ca)+_0x54b7dd[_0xb52a28(0x1d9)],0x0,_0x2fc412['page'][_0xb52a28(0x1cc)]-_0x46317d/0x2,{'align':_0xb52a28(0x242)}),_0x2fc412[_0xb52a28(0x24f)][_0xb52a28(0x1d4)][_0xb52a28(0x185)]=_0x46317d;}const _0x49e181=_0x2fc412['y'],_0x2e8f32=_0x2fc412['x'];_0x2fc412['end']();}catch(_0x2f71a9){console['log'](_0x2f71a9),_0x4aab2d['status'](0x1f4)[_0xb52a28(0x1e3)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x782356(0x201)](a0_0x782356(0x1f1),auth,async(_0x44a490,_0x2bc166)=>{const _0x45f4e8=a0_0x782356;try{const {username:_0x12b629,email:_0x4e3aa2,role:_0x1a71ba}=_0x44a490[_0x45f4e8(0x22f)],_0x4ed266=_0x44a490[_0x45f4e8(0x22f)],_0x25d321=await profile['findOne']({'email':_0x4ed266[_0x45f4e8(0x205)]}),_0x2b0e58=await master_shop['find'](),_0x162359=_0x44a490[_0x45f4e8(0x1c1)]['id'],_0x4be43f=await adjustment[_0x45f4e8(0x20d)](_0x162359);var _0x4beb6d,_0x726c69;_0x4beb6d='PICKING\x20LIST',_0x726c69='(INVENTORY\x20ADJUSTMENT)';_0x4be43f['finalize']==_0x45f4e8(0x1b4)&&(_0x4beb6d=_0x45f4e8(0x199),_0x726c69='');const _0xe22c73=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2bc166[_0x45f4e8(0x196)](_0x45f4e8(0x195),_0x45f4e8(0x1e2)+_0x162359+_0x45f4e8(0x1e5)),_0x2bc166['setHeader'](_0x45f4e8(0x1bb),_0x45f4e8(0x238));var _0xf418dd=0x14,_0x92a85d=0x3c;_0xe22c73[_0x45f4e8(0x1fd)](_0x2bc166),_0xe22c73[_0x45f4e8(0x22d)](_0x45f4e8(0x258)+_0x2b0e58[0x0][_0x45f4e8(0x22d)],0x14,0x0,{'fit':[0x64,0x64]}),_0xe22c73[_0x45f4e8(0x193)](0x14)[_0x45f4e8(0x210)](_0x45f4e8(0x23e),_0xf418dd,_0x92a85d),_0xe22c73['fontSize'](0xa)[_0x45f4e8(0x210)](_0x45f4e8(0x1d0),_0xf418dd,_0x92a85d+=0xf),_0xe22c73['fontSize'](0xf)['text'](_0x4beb6d,_0xf418dd,_0x92a85d+=0x32),_0xe22c73[_0x45f4e8(0x193)](0xa)[_0x45f4e8(0x210)](_0x726c69,_0xf418dd,_0x92a85d+=0x14),_0xe22c73[_0x45f4e8(0x193)](0x9)['text']('Warehouse\x20',_0xf418dd,_0x92a85d+=0x28),_0xe22c73[_0x45f4e8(0x193)](0x9)[_0x45f4e8(0x210)](_0x45f4e8(0x17e)+_0x4be43f[_0x45f4e8(0x1bf)],_0xf418dd+0x3f,_0x92a85d),_0xe22c73[_0x45f4e8(0x193)](0x9)[_0x45f4e8(0x210)]('Date\x20',_0xf418dd,_0x92a85d+=0xb),_0xe22c73[_0x45f4e8(0x193)](0x9)[_0x45f4e8(0x210)](_0x45f4e8(0x17e)+_0x4be43f[_0x45f4e8(0x23b)],_0xf418dd+0x3f,_0x92a85d),_0xe22c73[_0x45f4e8(0x193)](0x9)[_0x45f4e8(0x210)](_0x45f4e8(0x1a9),_0xf418dd,_0x92a85d+=0xb),_0xe22c73[_0x45f4e8(0x193)](0x9)['text'](_0x45f4e8(0x17e)+_0x4be43f[_0x45f4e8(0x1a7)],_0xf418dd+0x3f,_0x92a85d);const _0x3fbb3b={'headers':[{'label':_0x45f4e8(0x25a),'property':_0x45f4e8(0x239),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x45f4e8(0x1b6),'width':0x96,'renderer':null},{'label':_0x45f4e8(0x1c4),'property':'qty','width':0x3c,'renderer':null},{'label':'UOM','property':_0x45f4e8(0x1b1),'width':0x3c,'renderer':null},{'label':'Production\x20Date','property':'proddate','width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x45f4e8(0x230),'width':0x3f,'renderer':null},{'label':_0x45f4e8(0x22c),'property':_0x45f4e8(0x18a),'width':0x3f,'renderer':null}],'datas':[]};var _0x3feaee=0x0,_0x19d489=0x0;_0x4be43f['product'][_0x45f4e8(0x189)](_0x2c4608=>{const _0xbf42ed=_0x45f4e8;let _0x5d469='';const _0x1a51b1=_0x2c4608[_0xbf42ed(0x188)];for(let _0x4cc5e8=0x1;_0x4cc5e8<=_0x1a51b1;_0x4cc5e8++){_0x1a51b1==_0x4cc5e8?_0x5d469+=_0x2c4608[_0xbf42ed(0x234)]:_0x5d469+=_0x2c4608[_0xbf42ed(0x234)]+',',_0x19d489+=_0x2c4608[_0xbf42ed(0x234)];}_0x5d469+=_0xbf42ed(0x1b8)+_0x2c4608[_0xbf42ed(0x1fb)];const _0x56c525={'itemcode':_0x2c4608['product_code'],'itemdescription':_0x2c4608[_0xbf42ed(0x202)],'qty':_0x2c4608['new_adjust_qty'],'unit':_0x2c4608['unit'],'proddate':_0x2c4608[_0xbf42ed(0x251)],'batchno':_0x2c4608[_0xbf42ed(0x20b)],'binloc':_0x2c4608['storage']+_0x2c4608[_0xbf42ed(0x237)]+_0x2c4608[_0xbf42ed(0x218)]+_0x2c4608['bin']+_0x2c4608[_0xbf42ed(0x1d7)][0x0]+_0x2c4608['floorlevel']};_0x3feaee+=_0x2c4608['new_adjust_qty'],_0x3fbb3b[_0xbf42ed(0x19d)][_0xbf42ed(0x180)](_0x56c525);}),_0xe22c73[_0x45f4e8(0x22e)](_0x3fbb3b,{'x':0x14,'y':0x118,'prepareHeader':()=>_0xe22c73['font']('Helvetica-Bold')[_0x45f4e8(0x193)](0x8),'prepareRow':(_0x25a79a,_0x5a2424,_0x1288e8,_0x2a6c6c)=>_0xe22c73[_0x45f4e8(0x252)]('Helvetica')[_0x45f4e8(0x193)](0x8)});var _0x46c4c0=_0xe22c73['y'],_0x5e220=_0xe22c73['x'];_0xe22c73[_0x45f4e8(0x193)](0xa)[_0x45f4e8(0x210)](_0x45f4e8(0x213),_0x5e220+0x7d,_0x46c4c0),_0xe22c73[_0x45f4e8(0x193)](0xa)['text'](_0x45f4e8(0x1af),_0x5e220,_0x46c4c0+=0x136),_0xe22c73[_0x45f4e8(0x193)](0xa)[_0x45f4e8(0x210)](_0x3feaee,_0x5e220+0xc8,_0x46c4c0),_0xe22c73[_0x45f4e8(0x193)](0xa)[_0x45f4e8(0x210)](_0x45f4e8(0x217),_0x5e220,_0x46c4c0+=0x19),_0xe22c73[_0x45f4e8(0x193)](0xa)[_0x45f4e8(0x210)]('\x20'[_0x45f4e8(0x21d)](0x3c),_0x5e220+0x3e,_0x46c4c0,{'underline':!![]}),_0xe22c73[_0x45f4e8(0x193)](0xa)[_0x45f4e8(0x210)](_0x45f4e8(0x187),_0x5e220,_0x46c4c0+=0x32),_0xe22c73[_0x45f4e8(0x193)](0xa)[_0x45f4e8(0x210)](_0x45f4e8(0x17e),_0x5e220+0x37,_0x46c4c0),_0xe22c73[_0x45f4e8(0x193)](0xa)[_0x45f4e8(0x210)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5e220+0x3c,_0x46c4c0,{'underline':!![]}),_0xe22c73['fontSize'](0xa)[_0x45f4e8(0x210)](_0x45f4e8(0x20f),_0x5e220+0x3c,_0x46c4c0+0xc);let _0x82e6e=_0xe22c73[_0x45f4e8(0x24e)]();for(let _0x274367=0x0;_0x274367<_0x82e6e[_0x45f4e8(0x1d9)];_0x274367++){_0xe22c73[_0x45f4e8(0x21c)](_0x274367);let _0x4bb05c=_0xe22c73[_0x45f4e8(0x24f)][_0x45f4e8(0x1d4)][_0x45f4e8(0x185)];_0xe22c73['page'][_0x45f4e8(0x1d4)][_0x45f4e8(0x185)]=0x0,_0xe22c73[_0x45f4e8(0x210)](_0x45f4e8(0x1f6)+(_0x274367+0x1)+_0x45f4e8(0x1ca)+_0x82e6e[_0x45f4e8(0x1d9)],0x0,_0xe22c73[_0x45f4e8(0x24f)][_0x45f4e8(0x1cc)]-_0x4bb05c/0x2,{'align':'center'}),_0xe22c73[_0x45f4e8(0x24f)][_0x45f4e8(0x1d4)][_0x45f4e8(0x185)]=_0x4bb05c;}const _0x4b6dc6=_0xe22c73['y'],_0x9b6a82=_0xe22c73['x'];_0xe22c73[_0x45f4e8(0x1da)]();}catch(_0x5745ec){console[_0x45f4e8(0x203)](_0x5745ec),_0x2bc166[_0x45f4e8(0x1c2)](0x1f4)[_0x45f4e8(0x1e3)](_0x45f4e8(0x1a0));}}),router[a0_0x782356(0x201)]('/PDF_transfer_rm/:id',auth,async(_0x354000,_0x405558)=>{const _0x17170c=a0_0x782356;try{const {username:_0x18b6f6,email:_0x1e8592,role:_0x4a1926}=_0x354000[_0x17170c(0x22f)],_0x5db388=_0x354000[_0x17170c(0x22f)],_0x1fb1e7=await profile[_0x17170c(0x259)]({'email':_0x5db388[_0x17170c(0x205)]}),_0x252316=await master_shop['find'](),_0x5abe49=_0x354000[_0x17170c(0x1c1)]['id'],_0x41fc1c=await transfers[_0x17170c(0x20d)](_0x5abe49);var _0x416dcf,_0x3d7f6c;_0x416dcf=_0x17170c(0x1a2),_0x3d7f6c=_0x17170c(0x21f);_0x41fc1c[_0x17170c(0x1ff)]==_0x17170c(0x1b4)&&(_0x416dcf=_0x17170c(0x1b9),_0x3d7f6c='');const _0x17637c=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x405558[_0x17170c(0x196)](_0x17170c(0x195),_0x17170c(0x1e2)+_0x5abe49+_0x17170c(0x1e5)),_0x405558[_0x17170c(0x196)]('Content-type',_0x17170c(0x238));var _0x2bb3cc=0x14,_0x1e0074=0x3c;_0x17637c[_0x17170c(0x1fd)](_0x405558),_0x17637c['image'](_0x17170c(0x258)+_0x252316[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x17637c['fontSize'](0x14)[_0x17170c(0x210)](_0x17170c(0x23e),_0x2bb3cc,_0x1e0074),_0x17637c['fontSize'](0xa)[_0x17170c(0x210)](_0x17170c(0x1d0),_0x2bb3cc,_0x1e0074+=0xf),_0x17637c[_0x17170c(0x193)](0xf)[_0x17170c(0x210)](_0x416dcf,_0x2bb3cc,_0x1e0074+=0x32),_0x17637c[_0x17170c(0x193)](0xa)[_0x17170c(0x210)](_0x3d7f6c,_0x2bb3cc,_0x1e0074+=0x14),_0x17637c['fontSize'](0x9)['text'](_0x17170c(0x1dc),_0x2bb3cc,_0x1e0074+=0x28),_0x17637c['fontSize'](0x9)[_0x17170c(0x210)](_0x17170c(0x22b)+_0x41fc1c[_0x17170c(0x1c6)],_0x2bb3cc+0x3f,_0x1e0074),_0x17637c['fontSize'](0x9)['text'](_0x17170c(0x194),_0x2bb3cc,_0x1e0074+=0xa),_0x17637c[_0x17170c(0x193)](0x9)['text'](_0x17170c(0x22b)+_0x41fc1c['to_warehouse'],_0x2bb3cc+0x3f,_0x1e0074),_0x17637c[_0x17170c(0x193)](0x9)[_0x17170c(0x210)](_0x17170c(0x197),_0x2bb3cc,_0x1e0074+=0xb),_0x17637c['fontSize'](0x9)[_0x17170c(0x210)](_0x17170c(0x22b)+_0x41fc1c[_0x17170c(0x23b)],_0x2bb3cc+0x3f,_0x1e0074),_0x17637c[_0x17170c(0x193)](0x9)[_0x17170c(0x210)]('Control\x20Number\x20',_0x2bb3cc,_0x1e0074+=0xb),_0x17637c[_0x17170c(0x193)](0x9)[_0x17170c(0x210)](_0x17170c(0x22b)+_0x41fc1c[_0x17170c(0x1a7)],_0x2bb3cc+0x3f,_0x1e0074);const _0x5d9279={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x17170c(0x23a),'property':_0x17170c(0x239),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x17170c(0x18e),'property':'itemdescription','width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x17637c[_0x17170c(0x22e)](_0x5d9279,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x17637c[_0x17170c(0x252)]('Helvetica-Bold')[_0x17170c(0x193)](0x8),'prepareRow':(_0x505d2b,_0x2ebf66,_0x5b8518,_0x165210)=>_0x17637c[_0x17170c(0x252)](_0x17170c(0x204))['fontSize'](0x8)});const _0x5952ca={'headers':[{'label':_0x17170c(0x25a),'property':_0x17170c(0x239),'width':0x3c,'renderer':null},{'label':_0x17170c(0x208),'property':_0x17170c(0x1b6),'width':0x96,'renderer':null},{'label':_0x17170c(0x1c4),'property':_0x17170c(0x1ef),'width':0x28,'renderer':null},{'label':_0x17170c(0x1f9),'property':_0x17170c(0x1b1),'width':0x37,'renderer':null},{'label':_0x17170c(0x22a),'property':_0x17170c(0x1ae),'width':0x4b,'renderer':null},{'label':'Batch\x20No','property':_0x17170c(0x230),'width':0x3f,'renderer':null},{'label':_0x17170c(0x22c),'property':'binlocFrom','width':0x3f,'renderer':null},{'label':_0x17170c(0x22c),'property':_0x17170c(0x18a),'width':0x3f,'renderer':null}],'datas':[]};var _0x462645=0x0;let _0x6dbfe8='';var _0x5efdbc=0x0;_0x41fc1c[_0x17170c(0x1be)][_0x17170c(0x189)](_0x176072=>{const _0x20aada=_0x17170c;var _0xa3090f=_0x176072[_0x20aada(0x225)],_0x1ccb16;_0x1ccb16=_0x176072[_0x20aada(0x1b1)];_0xa3090f=='S'&&(_0x1ccb16=_0x176072[_0x20aada(0x1fb)]);const _0x10ffe3={'itemcode':_0x176072[_0x20aada(0x18c)],'itemdescription':_0x176072['product_name'],'qty':_0x176072[_0x20aada(0x188)],'unit':_0x1ccb16,'proddate':_0x176072[_0x20aada(0x251)],'batchno':_0x176072[_0x20aada(0x20b)],'binloc':_0x176072[_0x20aada(0x249)]+_0x176072[_0x20aada(0x237)]+_0x176072[_0x20aada(0x1a6)]+_0x176072[_0x20aada(0x246)]+_0x176072[_0x20aada(0x1f7)][0x0]+_0x176072[_0x20aada(0x247)],'qtyFrom':_0x176072['from_quantity'],'binlocFrom':_0x176072['from_storage']+_0x176072[_0x20aada(0x24d)]+_0x176072['from_bay']+_0x176072[_0x20aada(0x1eb)]+_0x176072['from_types'][0x0]+_0x176072[_0x20aada(0x1b3)]};_0x462645+=_0x176072[_0x20aada(0x188)],_0x5952ca[_0x20aada(0x19d)][_0x20aada(0x180)](_0x10ffe3);}),_0x17637c['table'](_0x5952ca,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x17637c[_0x17170c(0x252)](_0x17170c(0x1bc))[_0x17170c(0x193)](0x8),'prepareRow':(_0xe883d0,_0x2418d3,_0x2e05e4,_0x3a7ae4)=>_0x17637c[_0x17170c(0x252)](_0x17170c(0x204))[_0x17170c(0x193)](0x8)});var _0x273cef=_0x17637c['y'],_0x42c5f9=_0x17637c['x'];_0x17637c[_0x17170c(0x193)](0xa)[_0x17170c(0x210)](_0x17170c(0x213),_0x42c5f9+0x7d,_0x273cef),_0x17637c[_0x17170c(0x193)](0xa)['text']('TOTAL\x20QTY:\x20',_0x42c5f9,_0x273cef+=0x12c),_0x17637c[_0x17170c(0x193)](0xa)[_0x17170c(0x210)](_0x462645,_0x42c5f9+0xd7,_0x273cef,{'underline':!![]}),_0x17637c[_0x17170c(0x193)](0xa)[_0x17170c(0x210)](_0x17170c(0x21b),_0x42c5f9,_0x273cef+=0x32),_0x17637c[_0x17170c(0x193)](0xa)['text'](_0x17170c(0x233),_0x42c5f9+0x3c,_0x273cef,{'underline':!![]}),_0x17637c[_0x17170c(0x193)](0xa)[_0x17170c(0x210)](_0x17170c(0x20f),_0x42c5f9+0x3c,_0x273cef+0xc);let _0x53ade6=_0x17637c[_0x17170c(0x24e)]();for(let _0x393174=0x0;_0x393174<_0x53ade6[_0x17170c(0x1d9)];_0x393174++){_0x17637c['switchToPage'](_0x393174);let _0x3bdbe9=_0x17637c[_0x17170c(0x24f)][_0x17170c(0x1d4)]['bottom'];_0x17637c[_0x17170c(0x24f)]['margins'][_0x17170c(0x185)]=0x0,_0x17637c['text']('Page:\x20'+(_0x393174+0x1)+_0x17170c(0x1ca)+_0x53ade6[_0x17170c(0x1d9)],0x0,_0x17637c['page'][_0x17170c(0x1cc)]-_0x3bdbe9/0x2,{'align':'center'}),_0x17637c[_0x17170c(0x24f)]['margins'][_0x17170c(0x185)]=_0x3bdbe9;}const _0x25cbf6=_0x17637c['y'],_0xc758f4=_0x17637c['x'];_0x17637c['end']();}catch(_0x3c9ba1){console[_0x17170c(0x203)](_0x3c9ba1),_0x405558[_0x17170c(0x1c2)](0x1f4)[_0x17170c(0x1e3)](_0x17170c(0x1a0));}}),router[a0_0x782356(0x201)](a0_0x782356(0x1cd),auth,async(_0x1ce419,_0x3be087)=>{const _0x288aba=a0_0x782356;try{const _0x41ecc6=_0x15446a=>_0x15446a*0x48,_0x51ca8a={'width':0x3,'height':0x1},_0x35d569=await product[_0x288aba(0x1cf)](),_0xa2228a=new PDFDocument({'margin':_0x41ecc6(0.75),'size':[_0x41ecc6(_0x51ca8a[_0x288aba(0x1d2)]),_0x41ecc6(_0x51ca8a[_0x288aba(0x1cc)])],'bufferPages':!![]}),_0x1ee0b3=_0x35d569[_0x288aba(0x1f2)];for(let _0x37c83a=0x0;_0x37c83a<=_0x1ee0b3;_0x37c83a++){if(_0x37c83a!=_0x35d569[_0x288aba(0x1f2)]){const _0x28d2ef=_0x35d569[_0x37c83a][_0x288aba(0x1f4)],_0x2ce6a6=_0x35d569[_0x37c83a][_0x288aba(0x1ea)],_0x120b76=_0x35d569[_0x37c83a]['secondary_code'],_0x418796=_0x35d569[_0x37c83a][_0x288aba(0x18c)],_0x1f2029=new Canvas();JsBarcode(_0x1f2029,_0x2ce6a6,{'format':_0x288aba(0x219),'height':0x32,'displayValue':!![],'text':_0x2ce6a6}),_0xa2228a[_0x288aba(0x22d)](_0x1f2029[_0x288aba(0x240)](),0x0,0x0,{'width':0xd2}),_0xa2228a['addPage']();}}_0xa2228a[_0x288aba(0x1fd)](_0x3be087),_0xa2228a[_0x288aba(0x1da)]();}catch(_0x2f6935){console['error'](_0x288aba(0x215),_0x2f6935),_0x3be087['status'](0x1f4)[_0x288aba(0x1e3)](_0x288aba(0x1a0));}}),module[a0_0x782356(0x1ad)]=router;