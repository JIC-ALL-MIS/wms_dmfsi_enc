function a0_0xda3a(_0xb6cc65,_0x40154f){const _0x502131=a0_0x5021();return a0_0xda3a=function(_0xda3aff,_0xb61099){_0xda3aff=_0xda3aff-0x9a;let _0x13df91=_0x502131[_0xda3aff];return _0x13df91;},a0_0xda3a(_0xb6cc65,_0x40154f);}const a0_0x293053=a0_0xda3a;(function(_0x4a0500,_0xf5e088){const _0x36669a=a0_0xda3a,_0x4962c7=_0x4a0500();while(!![]){try{const _0x5cdbf9=-parseInt(_0x36669a(0xd0))/0x1+parseInt(_0x36669a(0x111))/0x2*(-parseInt(_0x36669a(0x9b))/0x3)+-parseInt(_0x36669a(0x146))/0x4+parseInt(_0x36669a(0xdc))/0x5*(parseInt(_0x36669a(0xaa))/0x6)+-parseInt(_0x36669a(0xe8))/0x7*(-parseInt(_0x36669a(0xe6))/0x8)+parseInt(_0x36669a(0xd2))/0x9+parseInt(_0x36669a(0xd8))/0xa*(-parseInt(_0x36669a(0x114))/0xb);if(_0x5cdbf9===_0xf5e088)break;else _0x4962c7['push'](_0x4962c7['shift']());}catch(_0x58a785){_0x4962c7['push'](_0x4962c7['shift']());}}}(a0_0x5021,0x8cf25));function a0_0x5021(){const _0x136a40=['An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','368337uXyYbJ','product_code','1507455YFsDFI','Bin\x20Location','Item\x20Description','LOCATION','storage','DELIVERY\x20DATE','3044790togXdR','Picked\x20By','send','adjust_qty','5730430xYxwPf','center','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','product_name','from_types','DelCode','return_sale_QA','iqty','from_storage','to_warehouse','7312624nUKfVk','text','7hdxfhn','Helvetica-Bold','express','find','prod_cat','ARMAN\x20CRUZ','height','Noted\x20By\x20','new_adjust_qty','TOTAL\x20QTY\x20:\x20','to_floorlevel','/PDF_Sales/:id','count','Checked\x20By\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','font','from_bin','exports','table','params','production_date','from_floorlevel','CODE128','blocation','ITEM\x20CODE','page','Finished\x20Good\x20Warehouse\x20Supervisor','jsbarcode','rack','image','STOCKS\x20TRANSFER','/barcode_generator/','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','toBuffer','\x20row:\x20','Checked\x20By:\x20','Picking\x20List','blob-stream','Page:\x20','standard_unit','74LNzAhw','\x20of\x20','(OUTGOING)','33ZJprpG','end','From\x20Warehouse\x20','email','inline;\x20filename=\x22','Date\x20:\x20','/PDF_adjustment_rm/:id','findById','bottom','To\x20Warehouse\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','forEach','Production\x20Date','warehouse_name','canvas','\x20y:\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','True','stroke','Customer\x20:\x20','Check\x20By\x20\x20\x20\x20:\x20','warehouse_cat','Control\x20Number\x20:\x20','user','EXPIRATION\x20DATE','secondary_code','Content-type','lineWidth','Warehouse\x20:\x20','Expiration\x20Date','date','findOne','itemdescription','lineTo','exceljs','Warehouse\x20','suppliers','UOM','lineCap','margins','../public/language/languages.json','delivery_date','en-US','return_qty','ToWarehouse','Pick\x20By\x20:\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Picked\x20By\x20\x20\x20:\x20','Quantity','1460360xfMEGj','log','pipe','.pdf\x22','numeric','fontSize','./public/upload/','del_date','length','get','Raw\x20Materials\x20Warehouse\x20Supervisor','push','sale_product','datas','Item\x20Code','\x20\x20\x20:\x20','/pdf_puchases_fin/:id','FROZEN\x20GOODS','bin','binlocFrom','Supplier\x20:\x20','quantity','from_quantity','from_warehouse','name','invoice','Router','maxperunit','PICKING\x20LIST','type','Content-disposition','to_bin','express/lib/response','expdate','xlsx','floorlevel','secondary_unit','unit','short','\x20:\x20','toLocaleDateString','\x20\x20\x20\x20\x20FROM','status','binloc','DRY\x20GOODS','moveTo','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','Date\x20','switchToPage','282sCndkk','INVENTORY\x20ADJUSTMENT','return_sale','/PDF_transfer_rm/:id','qty','MATERIAL\x20DESCRIPTION','Picked\x20By\x20\x20\x20\x20:\x20','DELIVERY\x20CODE','delivery_code','REQUESTED\x20QUANTITY','/pdf_puchases/:id','finalize','application/pdf','\x20\x20FROM','bufferedPageRange','6ZpCigH','from_rack','to_bay','(INCOMING)','/pdf_sales_return_fin/:id','itemcode','width','butt','TOTAL\x20QTY:\x20','Control\x20Number\x20','proddate','setHeader','batchno','Batch\x20No','undefined','bay','QTY','to_quantity','(RETURN)','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','expiry_date','repeat','product','inline;\x20filename=\x22OUT-','REF\x20MRIS#\x20','batch_code','Helvetica','\x20\x20TO','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','customer','../models/all_models','maxPerUnit','pdfkit-table','DELIVERY\x20RECEIPT','\x20/\x20','Checked\x20By\x20\x20\x20:\x20','POnumber'];a0_0x5021=function(){return _0x136a40;};return a0_0x5021();}const express=require(a0_0x293053(0xea)),res=require(a0_0x293053(0x166)),app=express(),router=express[a0_0x293053(0x160)](),multer=require('multer'),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x293053(0xc8)),auth=require('../middleware/auth'),users=require(a0_0x293053(0x13d)),excelJS=require(a0_0x293053(0x137)),xlsx=require(a0_0x293053(0x168)),PDFDocument=require(a0_0x293053(0xca)),fs=require('fs'),blobStream=require(a0_0x293053(0x10e)),JsBarcode=require(a0_0x293053(0x103)),{Canvas}=require(a0_0x293053(0x122));router[a0_0x293053(0x14f)]('/PDF/:id',auth,async(_0x42fa39,_0x5b18ad)=>{const _0x1288c3=a0_0x293053;try{const {username:_0x57231b,email:_0xc1cf2f,role:_0x3cd33e}=_0x42fa39[_0x1288c3(0x12c)],_0x48da3e=_0x42fa39[_0x1288c3(0x12c)],_0x4f9a3a=await profile[_0x1288c3(0x134)]({'email':_0x48da3e[_0x1288c3(0x117)]}),_0x26671a=await master_shop[_0x1288c3(0xeb)](),_0x1cd0ad=_0x42fa39[_0x1288c3(0xfb)]['id'],_0x346144=await sales_finished[_0x1288c3(0x11b)](_0x1cd0ad);var _0x1c7aa8;_0x1c7aa8='PICKING\x20LIST';_0x346144[_0x1288c3(0xa6)]=='True'&&(_0x1c7aa8=_0x1288c3(0xcb));const _0x296015=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5b18ad[_0x1288c3(0xb5)]('Content-disposition',_0x1288c3(0x118)+_0x346144[_0x1288c3(0x15f)]+_0x1288c3(0x149)),_0x5b18ad['setHeader'](_0x1288c3(0x12f),_0x1288c3(0xa7));var _0x283440=0x14,_0xe9aeec=0x3c;_0x296015[_0x1288c3(0x148)](_0x5b18ad),_0x296015['image'](_0x1288c3(0x14c)+_0x26671a[0x0][_0x1288c3(0x105)],0x14,0x0,{'fit':[0x64,0x64]}),_0x296015[_0x1288c3(0x14b)](0x14)[_0x1288c3(0xe7)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x283440,_0xe9aeec),_0x296015['fontSize'](0xa)[_0x1288c3(0xe7)](_0x1288c3(0x109),_0x283440,_0xe9aeec+=0xf),_0x296015[_0x1288c3(0x14b)](0xf)[_0x1288c3(0xe7)](_0x1c7aa8,_0x283440,_0xe9aeec+=0x32),_0x296015['fontSize'](0xa)[_0x1288c3(0xe7)](_0x1288c3(0x113),_0x283440,_0xe9aeec+=0x14),_0x296015['fontSize'](0x9)[_0x1288c3(0xe7)]('Warehouse\x20',_0x283440,_0xe9aeec+=0x28),_0x296015[_0x1288c3(0x14b)](0x9)[_0x1288c3(0xe7)](_0x1288c3(0x16d)+_0x346144[_0x1288c3(0x121)],_0x283440+0x3f,_0xe9aeec),_0x296015[_0x1288c3(0x14b)](0x9)[_0x1288c3(0xe7)]('Customer\x20:\x20'+_0x346144['customer'],_0x283440+0x17c,_0xe9aeec,{'underline':!![]}),_0x296015[_0x1288c3(0x14b)](0x9)[_0x1288c3(0xe7)](_0x1288c3(0x175),_0x283440,_0xe9aeec+=0xb),_0x296015[_0x1288c3(0x14b)](0x9)['text'](_0x1288c3(0x16d)+_0x346144['date'],_0x283440+0x3f,_0xe9aeec),_0x296015['fontSize'](0x9)[_0x1288c3(0xe7)](_0x1288c3(0xb3),_0x283440,_0xe9aeec+=0xb),_0x296015[_0x1288c3(0x14b)](0x9)[_0x1288c3(0xe7)](_0x1288c3(0x16d)+_0x346144[_0x1288c3(0x15f)],_0x283440+0x3f,_0xe9aeec);const _0x2f9adc={'headers':[{'label':_0x1288c3(0x154),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x1288c3(0xd4),'property':'itemdescription','width':0xa5,'renderer':null},{'label':_0x1288c3(0x145),'property':_0x1288c3(0x9f),'width':0x3c,'renderer':null},{'label':_0x1288c3(0x13a),'property':_0x1288c3(0x16b),'width':0x3c,'renderer':null},{'label':_0x1288c3(0x120),'property':_0x1288c3(0xb4),'width':0x50,'renderer':null},{'label':_0x1288c3(0xb7),'property':_0x1288c3(0xb6),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x2aeeb4=0x0;let _0x4a4ea3='';var _0x38cadd=0x0;_0x346144[_0x1288c3(0x121)]==_0x1288c3(0x172)?_0x4a4ea3='DG':_0x4a4ea3='FG';var _0x6820a8=0x0;_0x346144[_0x1288c3(0x152)]['forEach'](_0x448217=>{const _0xcaa944=_0x1288c3;console[_0xcaa944(0x147)](_0x448217);let _0x269544='';const _0x57b3c9=_0x448217[_0xcaa944(0x15b)];for(let _0x276391=0x1;_0x276391<=_0x57b3c9;_0x276391++){_0x57b3c9==_0x276391?_0x269544+=_0x448217['maxperunit']:_0x269544+=_0x448217[_0xcaa944(0x161)]+',',_0x38cadd+=_0x448217['maxperunit'];}_0x269544+=_0xcaa944(0xcc)+_0x448217[_0xcaa944(0x16a)];const _0xaa648e={'itemcode':_0x448217['product_code'],'itemdescription':_0x448217[_0xcaa944(0xdf)],'qty':_0x448217['quantity'],'unit':_0x448217[_0xcaa944(0x16b)],'proddate':_0x448217[_0xcaa944(0xfc)],'batchno':_0x448217[_0xcaa944(0xc3)],'binloc':_0x4a4ea3+_0x448217[_0xcaa944(0xb9)]};_0x2aeeb4+=_0x448217[_0xcaa944(0x15b)],_0x6820a8+=0x1,_0x2f9adc[_0xcaa944(0x153)]['push'](_0xaa648e);}),_0x296015[_0x1288c3(0xfa)](_0x2f9adc,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x296015[_0x1288c3(0xf7)](_0x1288c3(0xe9))['fontSize'](0x8),'prepareRow':(_0x4e0d93,_0x31a113,_0xf9abf0,_0x1b44f0)=>_0x296015[_0x1288c3(0xf7)](_0x1288c3(0xc4))[_0x1288c3(0x14b)](0x8)});var _0x281c40=_0x296015['y'],_0x3ed225=_0x296015['x'];_0x296015[_0x1288c3(0x14b)](0xa)[_0x1288c3(0xe7)](_0x1288c3(0x125),_0x3ed225+0x7d,_0x281c40),console[_0x1288c3(0x147)]('x:\x20'+_0x3ed225+_0x1288c3(0x123)+_0x281c40+_0x1288c3(0x10b)+_0x6820a8);const _0x5bf10e=_0x3ed225*_0x6820a8;_0x296015[_0x1288c3(0x14b)](0xa)[_0x1288c3(0xe7)]('TOTAL\x20QTY:\x20',_0x3ed225,_0x281c40+=0x15e-_0x5bf10e),_0x296015[_0x1288c3(0x14b)](0xa)[_0x1288c3(0xe7)](_0x2aeeb4,_0x3ed225+0xdc,_0x281c40,{'underline':!![]}),_0x296015[_0x1288c3(0x14b)](0xa)[_0x1288c3(0xe7)](_0x1288c3(0x144),_0x3ed225,_0x281c40+=0x19),_0x296015['fontSize'](0xa)[_0x1288c3(0xe7)]('\x20'[_0x1288c3(0xbf)](0x3c),_0x3ed225+0x3e,_0x281c40,{'underline':!![]}),_0x296015[_0x1288c3(0x14b)](0xa)[_0x1288c3(0xe7)](_0x1288c3(0x10c),_0x3ed225,_0x281c40+=0x32),_0x296015[_0x1288c3(0x14b)](0xa)[_0x1288c3(0xe7)](_0x1288c3(0x143),_0x3ed225+0x3c,_0x281c40,{'underline':!![]}),_0x296015[_0x1288c3(0x14b)](0xa)[_0x1288c3(0xe7)](_0x1288c3(0x102),_0x3ed225+0x3c,_0x281c40+0xc);let _0xe19c2f=_0x296015[_0x1288c3(0xa9)]();for(let _0x1f466c=0x0;_0x1f466c<_0xe19c2f[_0x1288c3(0xf4)];_0x1f466c++){_0x296015['switchToPage'](_0x1f466c);let _0x4f235d=_0x296015[_0x1288c3(0x101)][_0x1288c3(0x13c)][_0x1288c3(0x11c)];_0x296015[_0x1288c3(0x101)][_0x1288c3(0x13c)][_0x1288c3(0x11c)]=0x0,_0x296015[_0x1288c3(0xe7)](_0x1288c3(0x10f)+(_0x1f466c+0x1)+_0x1288c3(0x112)+_0xe19c2f[_0x1288c3(0xf4)],0x0,_0x296015[_0x1288c3(0x101)]['height']-_0x4f235d/0x2,{'align':_0x1288c3(0xdd)}),_0x296015['page']['margins']['bottom']=_0x4f235d;}const _0x36e320=_0x296015['y'],_0x34bbe6=_0x296015['x'];_0x296015[_0x1288c3(0x115)]();}catch(_0x2ec546){console[_0x1288c3(0x147)](_0x2ec546),_0x5b18ad[_0x1288c3(0x170)](0x1f4)[_0x1288c3(0xda)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get']('/PDF_transfer/:id',auth,async(_0x50bce9,_0x2afc1b)=>{const _0x45052c=a0_0x293053;try{const {username:_0x2e95c4,email:_0x2e7d8a,role:_0x24fe9c}=_0x50bce9['user'],_0x1707f9=_0x50bce9['user'],_0x15843c=await profile[_0x45052c(0x134)]({'email':_0x1707f9[_0x45052c(0x117)]}),_0x588020=await master_shop[_0x45052c(0xeb)](),_0x45f9e5=_0x50bce9[_0x45052c(0xfb)]['id'],_0xda9851=await transfers_finished['findById'](_0x45f9e5);var _0x554687,_0x5d21ad;_0x554687='Picking\x20List',_0x5d21ad='(STOCKS\x20TRANSFER)';_0xda9851[_0x45052c(0xa6)]=='True'&&(_0x554687=_0x45052c(0x106),_0x5d21ad='');const _0xcfde5d=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2afc1b[_0x45052c(0xb5)]('Content-disposition',_0x45052c(0xc1)+_0x45f9e5+_0x45052c(0x149)),_0x2afc1b[_0x45052c(0xb5)]('Content-type',_0x45052c(0xa7));var _0x354b9a=0x14,_0x4abc15=0x3c;_0xcfde5d[_0x45052c(0x148)](_0x2afc1b),_0xcfde5d[_0x45052c(0x105)](_0x45052c(0x14c)+_0x588020[0x0][_0x45052c(0x105)],0x14,0x0,{'fit':[0x64,0x64]}),_0xcfde5d['fontSize'](0x14)['text'](_0x45052c(0x174),_0x354b9a,_0x4abc15),_0xcfde5d[_0x45052c(0x14b)](0xa)[_0x45052c(0xe7)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x354b9a,_0x4abc15+=0xf),_0xcfde5d['fontSize'](0xf)[_0x45052c(0xe7)](_0x554687,_0x354b9a,_0x4abc15+=0x32),_0xcfde5d[_0x45052c(0x14b)](0xa)[_0x45052c(0xe7)](_0x5d21ad,_0x354b9a,_0x4abc15+=0x14),_0xcfde5d['fontSize'](0x9)['text'](_0x45052c(0x116),_0x354b9a,_0x4abc15+=0x28),_0xcfde5d[_0x45052c(0x14b)](0x9)[_0x45052c(0xe7)](_0x45052c(0x155)+_0xda9851[_0x45052c(0x15d)],_0x354b9a+0x3f,_0x4abc15),_0xcfde5d['fontSize'](0x9)[_0x45052c(0xe7)](_0x45052c(0x11d),_0x354b9a,_0x4abc15+=0xf),_0xcfde5d['fontSize'](0x9)[_0x45052c(0xe7)](_0x45052c(0x155)+_0xda9851[_0x45052c(0xe5)],_0x354b9a+0x3f,_0x4abc15),_0xcfde5d[_0x45052c(0x14b)](0x9)[_0x45052c(0xe7)](_0x45052c(0x175),_0x354b9a,_0x4abc15+=0xb),_0xcfde5d[_0x45052c(0x14b)](0x9)['text']('\x20\x20\x20:\x20'+_0xda9851[_0x45052c(0x133)],_0x354b9a+0x3f,_0x4abc15),_0xcfde5d['fontSize'](0x9)[_0x45052c(0xe7)](_0x45052c(0xb3),_0x354b9a,_0x4abc15+=0xb),_0xcfde5d[_0x45052c(0x14b)](0x9)[_0x45052c(0xe7)](_0x45052c(0x155)+_0xda9851['invoice'],_0x354b9a+0x3f,_0x4abc15);const _0x385f6d={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x45052c(0xa8),'property':_0x45052c(0xaf),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x45052c(0xc5),'property':_0x45052c(0x135),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0xcfde5d['table'](_0x385f6d,{'x':0x5,'y':0x107,'prepareHeader':()=>_0xcfde5d[_0x45052c(0xf7)](_0x45052c(0xe9))[_0x45052c(0x14b)](0x8),'prepareRow':(_0x5c48ef,_0x5780e1,_0x564316,_0x5803fb)=>_0xcfde5d['font'](_0x45052c(0xc4))['fontSize'](0x8)});const _0x218d57={'headers':[{'label':_0x45052c(0x154),'property':_0x45052c(0xaf),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x45052c(0x135),'width':0x96,'renderer':null},{'label':_0x45052c(0x145),'property':_0x45052c(0x9f),'width':0x28,'renderer':null},{'label':_0x45052c(0x13a),'property':'unit','width':0x37,'renderer':null},{'label':_0x45052c(0x120),'property':'proddate','width':0x4b,'renderer':null},{'label':_0x45052c(0xb7),'property':_0x45052c(0xb6),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x45052c(0x159),'width':0x3f,'renderer':null},{'label':_0x45052c(0xd3),'property':_0x45052c(0x171),'width':0x3f,'renderer':null}],'datas':[]};var _0x483a5e=0x0;let _0x265cc8='';var _0x56e776=0x0;if(_0xda9851['from_warehouse']==_0x45052c(0x172))_0x265cc8='DG';else _0xda9851['from_warehouse']==_0x45052c(0x157)&&(_0x265cc8='FG');_0xda9851['product'][_0x45052c(0x11f)](_0x4aae6e=>{const _0x43263d=_0x45052c;var _0x45a0dc=_0x4aae6e['prod_cat'],_0x2ca683,_0xea573b;_0x2ca683=_0x4aae6e[_0x43263d(0x16b)],_0xea573b=_0x4aae6e[_0x43263d(0xbb)];_0x45a0dc=='S'&&(_0x2ca683=_0x4aae6e[_0x43263d(0x16a)],_0xea573b=_0x4aae6e['to_quantity']*_0x4aae6e[_0x43263d(0xc9)]);const _0x59314d={'itemcode':_0x4aae6e['product_code'],'itemdescription':_0x4aae6e[_0x43263d(0xdf)],'qty':_0xea573b,'unit':_0x2ca683,'proddate':_0x4aae6e[_0x43263d(0xfc)],'batchno':_0x4aae6e[_0x43263d(0xc3)],'binloc':_0x265cc8+_0x4aae6e[_0x43263d(0xac)],'qtyFrom':_0x4aae6e[_0x43263d(0x15c)],'binlocFrom':_0x265cc8+_0x4aae6e['from_bay']};_0x483a5e+=_0xea573b,_0x218d57[_0x43263d(0x153)][_0x43263d(0x151)](_0x59314d);}),_0xcfde5d[_0x45052c(0xfa)](_0x218d57,{'x':0x5,'y':0x118,'prepareHeader':()=>_0xcfde5d[_0x45052c(0xf7)](_0x45052c(0xe9))['fontSize'](0x8),'prepareRow':(_0x5945ca,_0x2978ba,_0x5357ce,_0x4decba)=>_0xcfde5d[_0x45052c(0xf7)](_0x45052c(0xc4))[_0x45052c(0x14b)](0x8)});var _0x412216=_0xcfde5d['y'],_0x292b04=_0xcfde5d['x'];_0xcfde5d[_0x45052c(0x14b)](0xa)[_0x45052c(0xe7)](_0x45052c(0x125),_0x292b04+0x7d,_0x412216),_0xcfde5d['fontSize'](0xa)[_0x45052c(0xe7)]('TOTAL\x20QTY:\x20',_0x292b04,_0x412216+=0x15e),_0xcfde5d[_0x45052c(0x14b)](0xa)[_0x45052c(0xe7)](_0x483a5e,_0x292b04+0xd7,_0x412216,{'underline':!![]}),_0xcfde5d[_0x45052c(0x14b)](0xa)['text'](_0x45052c(0x144),_0x292b04,_0x412216+=0x19),_0xcfde5d[_0x45052c(0x14b)](0xa)[_0x45052c(0xe7)]('\x20'['repeat'](0x3c),_0x292b04+0x3e,_0x412216,{'underline':!![]}),_0xcfde5d[_0x45052c(0x14b)](0xa)['text'](_0x45052c(0x10c),_0x292b04,_0x412216+=0x32),_0xcfde5d[_0x45052c(0x14b)](0xa)[_0x45052c(0xe7)](_0x45052c(0x143),_0x292b04+0x3c,_0x412216,{'underline':!![]}),_0xcfde5d[_0x45052c(0x14b)](0xa)['text'](_0x45052c(0x102),_0x292b04+0x3c,_0x412216+0xc);let _0x3493d7=_0xcfde5d['bufferedPageRange']();for(let _0x1dd651=0x0;_0x1dd651<_0x3493d7[_0x45052c(0xf4)];_0x1dd651++){_0xcfde5d[_0x45052c(0x9a)](_0x1dd651);let _0x44f92e=_0xcfde5d[_0x45052c(0x101)][_0x45052c(0x13c)][_0x45052c(0x11c)];_0xcfde5d[_0x45052c(0x101)]['margins'][_0x45052c(0x11c)]=0x0,_0xcfde5d[_0x45052c(0xe7)]('Page:\x20'+(_0x1dd651+0x1)+_0x45052c(0x112)+_0x3493d7[_0x45052c(0xf4)],0x0,_0xcfde5d[_0x45052c(0x101)]['height']-_0x44f92e/0x2,{'align':_0x45052c(0xdd)}),_0xcfde5d[_0x45052c(0x101)]['margins'][_0x45052c(0x11c)]=_0x44f92e;}const _0x1b3c7b=_0xcfde5d['y'],_0x33d1f4=_0xcfde5d['x'];_0xcfde5d[_0x45052c(0x115)]();}catch(_0x438789){console[_0x45052c(0x147)](_0x438789),_0x2afc1b[_0x45052c(0x170)](0x1f4)['send'](_0x45052c(0xcf));}}),router[a0_0x293053(0x14f)]('/PDF_adjustment/:id',auth,async(_0x18e698,_0x182d27)=>{const _0x16f6fc=a0_0x293053;try{const {username:_0x5487cd,email:_0x27b0dd,role:_0x12c71d}=_0x18e698[_0x16f6fc(0x12c)],_0x2a07dc=_0x18e698[_0x16f6fc(0x12c)],_0x2f464d=await profile['findOne']({'email':_0x2a07dc[_0x16f6fc(0x117)]}),_0x35e394=await master_shop[_0x16f6fc(0xeb)](),_0x44af56=_0x18e698['params']['id'],_0x3065b3=await adjustment_finished[_0x16f6fc(0x11b)](_0x44af56);var _0x43c430,_0x1a5b5e;_0x43c430=_0x16f6fc(0x162),_0x1a5b5e='(INVENTORY\x20ADJUSTMENT)';_0x3065b3[_0x16f6fc(0xa6)]==_0x16f6fc(0x126)&&(_0x43c430=_0x16f6fc(0x9c),_0x1a5b5e='');const _0x6f75a5=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x182d27['setHeader'](_0x16f6fc(0x164),_0x16f6fc(0xc1)+_0x44af56+_0x16f6fc(0x149)),_0x182d27['setHeader'](_0x16f6fc(0x12f),_0x16f6fc(0xa7));var _0x3d72e5=0x14,_0x28668b=0x3c;_0x6f75a5[_0x16f6fc(0x148)](_0x182d27),_0x6f75a5[_0x16f6fc(0x105)](_0x16f6fc(0x14c)+_0x35e394[0x0][_0x16f6fc(0x105)],0x14,0x0,{'fit':[0x64,0x64]}),_0x6f75a5[_0x16f6fc(0x14b)](0x14)[_0x16f6fc(0xe7)](_0x16f6fc(0x174),_0x3d72e5,_0x28668b),_0x6f75a5[_0x16f6fc(0x14b)](0xa)[_0x16f6fc(0xe7)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x3d72e5,_0x28668b+=0xf),_0x6f75a5[_0x16f6fc(0x14b)](0xf)[_0x16f6fc(0xe7)](_0x43c430,_0x3d72e5,_0x28668b+=0x32),_0x6f75a5[_0x16f6fc(0x14b)](0xa)[_0x16f6fc(0xe7)](_0x1a5b5e,_0x3d72e5,_0x28668b+=0x14),_0x6f75a5[_0x16f6fc(0x14b)](0x9)[_0x16f6fc(0xe7)](_0x16f6fc(0x138),_0x3d72e5,_0x28668b+=0x28),_0x6f75a5[_0x16f6fc(0x14b)](0x9)['text']('\x20:\x20'+_0x3065b3[_0x16f6fc(0x121)],_0x3d72e5+0x3f,_0x28668b),_0x6f75a5[_0x16f6fc(0x14b)](0x9)[_0x16f6fc(0xe7)](_0x16f6fc(0x175),_0x3d72e5,_0x28668b+=0xb),_0x6f75a5['fontSize'](0x9)['text']('\x20:\x20'+_0x3065b3[_0x16f6fc(0x133)],_0x3d72e5+0x3f,_0x28668b),_0x6f75a5[_0x16f6fc(0x14b)](0x9)[_0x16f6fc(0xe7)]('Control\x20Number\x20',_0x3d72e5,_0x28668b+=0xb),_0x6f75a5[_0x16f6fc(0x14b)](0x9)['text']('\x20:\x20'+_0x3065b3[_0x16f6fc(0x15f)],_0x3d72e5+0x3f,_0x28668b);const _0x1d94f3={'headers':[{'label':_0x16f6fc(0x154),'property':_0x16f6fc(0xaf),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x16f6fc(0x135),'width':0x96,'renderer':null},{'label':_0x16f6fc(0x145),'property':'qty','width':0x3c,'renderer':null},{'label':'UOM','property':_0x16f6fc(0x16b),'width':0x3c,'renderer':null},{'label':_0x16f6fc(0x120),'property':_0x16f6fc(0xb4),'width':0x50,'renderer':null},{'label':_0x16f6fc(0xb7),'property':_0x16f6fc(0xb6),'width':0x3f,'renderer':null},{'label':_0x16f6fc(0xd3),'property':_0x16f6fc(0x171),'width':0x3f,'renderer':null}],'datas':[]};var _0x3a5db9=0x0;let _0x503a02='';var _0x3d1996=0x0;_0x3065b3[_0x16f6fc(0x121)]=='DRY\x20GOODS'?_0x503a02='DG':_0x503a02='FG';_0x3065b3[_0x16f6fc(0xc0)]['forEach'](_0x5acd91=>{const _0x3ad983=_0x16f6fc;console['log'](_0x5acd91);var _0x2a2ed5=_0x5acd91[_0x3ad983(0xec)],_0x1d3a31,_0x4b8ef6;_0x1d3a31=_0x5acd91['unit'],_0x4b8ef6=_0x5acd91[_0x3ad983(0xdb)];_0x2a2ed5=='S'&&(_0x1d3a31=_0x5acd91['secondary_unit'],_0x4b8ef6=_0x5acd91[_0x3ad983(0xdb)]*_0x5acd91[_0x3ad983(0xc9)]);const _0x3de8c5={'itemcode':_0x5acd91['product_code'],'itemdescription':_0x5acd91[_0x3ad983(0xdf)],'qty':_0x4b8ef6,'unit':_0x1d3a31,'proddate':_0x5acd91[_0x3ad983(0xfc)],'batchno':_0x5acd91[_0x3ad983(0xc3)],'binloc':_0x503a02+_0x5acd91[_0x3ad983(0xb9)]};_0x3a5db9+=_0x4b8ef6,_0x1d94f3[_0x3ad983(0x153)][_0x3ad983(0x151)](_0x3de8c5);}),_0x6f75a5[_0x16f6fc(0xfa)](_0x1d94f3,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x6f75a5[_0x16f6fc(0xf7)](_0x16f6fc(0xe9))['fontSize'](0x8),'prepareRow':(_0x6d8646,_0x5b1da6,_0x58040e,_0x5de133)=>_0x6f75a5['font'](_0x16f6fc(0xc4))['fontSize'](0x8)});var _0x3bb4c3=_0x6f75a5['y'],_0x4fb155=_0x6f75a5['x'];_0x6f75a5[_0x16f6fc(0x14b)](0xa)[_0x16f6fc(0xe7)](_0x16f6fc(0x125),_0x4fb155+0x7d,_0x3bb4c3),_0x6f75a5[_0x16f6fc(0x14b)](0xa)[_0x16f6fc(0xe7)](_0x16f6fc(0xf1),_0x4fb155,_0x3bb4c3+=0x15e),_0x6f75a5['fontSize'](0xa)[_0x16f6fc(0xe7)](_0x3a5db9,_0x4fb155+0xc8,_0x3bb4c3),_0x6f75a5[_0x16f6fc(0x14b)](0xa)[_0x16f6fc(0xe7)](_0x16f6fc(0x144),_0x4fb155,_0x3bb4c3+=0x19),_0x6f75a5['fontSize'](0xa)[_0x16f6fc(0xe7)]('\x20'[_0x16f6fc(0xbf)](0x3c),_0x4fb155+0x3e,_0x3bb4c3,{'underline':!![]}),_0x6f75a5[_0x16f6fc(0x14b)](0xa)[_0x16f6fc(0xe7)]('Checked\x20By\x20',_0x4fb155,_0x3bb4c3+=0x32),_0x6f75a5[_0x16f6fc(0x14b)](0xa)[_0x16f6fc(0xe7)](_0x16f6fc(0x16d),_0x4fb155+0x37,_0x3bb4c3),_0x6f75a5[_0x16f6fc(0x14b)](0xa)[_0x16f6fc(0xe7)](_0x16f6fc(0x143),_0x4fb155+0x3c,_0x3bb4c3,{'underline':!![]}),_0x6f75a5['fontSize'](0xa)[_0x16f6fc(0xe7)](_0x16f6fc(0x102),_0x4fb155+0x3c,_0x3bb4c3+0xc);let _0x1d8c45=_0x6f75a5[_0x16f6fc(0xa9)]();for(let _0x15c375=0x0;_0x15c375<_0x1d8c45['count'];_0x15c375++){_0x6f75a5[_0x16f6fc(0x9a)](_0x15c375);let _0xb02257=_0x6f75a5[_0x16f6fc(0x101)][_0x16f6fc(0x13c)][_0x16f6fc(0x11c)];_0x6f75a5[_0x16f6fc(0x101)][_0x16f6fc(0x13c)][_0x16f6fc(0x11c)]=0x0,_0x6f75a5['text']('Page:\x20'+(_0x15c375+0x1)+_0x16f6fc(0x112)+_0x1d8c45[_0x16f6fc(0xf4)],0x0,_0x6f75a5[_0x16f6fc(0x101)][_0x16f6fc(0xee)]-_0xb02257/0x2,{'align':'center'}),_0x6f75a5[_0x16f6fc(0x101)][_0x16f6fc(0x13c)]['bottom']=_0xb02257;}const _0x20e676=_0x6f75a5['y'],_0x2230f7=_0x6f75a5['x'];_0x6f75a5[_0x16f6fc(0x115)]();}catch(_0x34f57c){console[_0x16f6fc(0x147)](_0x34f57c),_0x182d27['status'](0x1f4)['send'](_0x16f6fc(0xcf));}}),router[a0_0x293053(0x14f)](a0_0x293053(0x156),auth,async(_0x2dc76e,_0x45d4a7)=>{const _0x4958b2=a0_0x293053;try{const {username:_0x26bfea,email:_0x4755ca,role:_0x566316}=_0x2dc76e[_0x4958b2(0x12c)],_0x599c19=_0x2dc76e[_0x4958b2(0x12c)],_0x53b42e=await profile['findOne']({'email':_0x599c19['email']}),_0x2c230f=await master_shop[_0x4958b2(0xeb)](),_0x3f1178=_0x2dc76e[_0x4958b2(0xfb)]['id'],_0x1543d1=await purchases_finished['findById'](_0x3f1178),_0x3b6303=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x45d4a7[_0x4958b2(0xb5)]('Content-disposition',_0x4958b2(0xc1)+_0x3f1178+_0x4958b2(0x149)),_0x45d4a7[_0x4958b2(0xb5)](_0x4958b2(0x12f),_0x4958b2(0xa7));var _0x3069ea=0x14,_0x6f51fc=0x3c;_0x3b6303['pipe'](_0x45d4a7),_0x3b6303[_0x4958b2(0x105)]('./public/upload/'+_0x2c230f[0x0][_0x4958b2(0x105)],0x14,0x0,{'fit':[0x64,0x64]}),_0x3b6303['fontSize'](0x14)[_0x4958b2(0xe7)](_0x4958b2(0x174),_0x3069ea,_0x6f51fc),_0x3b6303[_0x4958b2(0x14b)](0xa)[_0x4958b2(0xe7)](_0x4958b2(0x109),_0x3069ea,_0x6f51fc+=0xf),_0x3b6303[_0x4958b2(0x14b)](0xf)[_0x4958b2(0xe7)]('FINISHED\x20GOODS\x20TRANSFER\x20SLIP',_0x3069ea,_0x6f51fc+=0x32),_0x3b6303[_0x4958b2(0x14b)](0xa)[_0x4958b2(0xe7)]('(INCOMING)',_0x3069ea,_0x6f51fc+=0x14),_0x3b6303[_0x4958b2(0x14b)](0x9)[_0x4958b2(0xe7)](_0x4958b2(0x138),_0x3069ea,_0x6f51fc+=0x28),_0x3b6303[_0x4958b2(0x14b)](0x9)['text'](_0x4958b2(0x16d)+_0x1543d1[_0x4958b2(0x121)],_0x3069ea+0x3f,_0x6f51fc),_0x3b6303[_0x4958b2(0x14b)](0x9)[_0x4958b2(0xe7)]('FTGS\x20Number\x20:\x20'+_0x1543d1[_0x4958b2(0xce)],_0x3069ea+0x17c,_0x6f51fc),_0x3b6303[_0x4958b2(0x14b)](0x9)[_0x4958b2(0xe7)](_0x4958b2(0x175),_0x3069ea,_0x6f51fc+=0xb),_0x3b6303[_0x4958b2(0x14b)](0x9)['text']('\x20:\x20'+_0x1543d1[_0x4958b2(0x133)],_0x3069ea+0x3f,_0x6f51fc),_0x3b6303[_0x4958b2(0x14b)](0x9)[_0x4958b2(0xe7)]('Control\x20Number\x20',_0x3069ea,_0x6f51fc+=0xb),_0x3b6303[_0x4958b2(0x14b)](0x9)[_0x4958b2(0xe7)](_0x4958b2(0x16d)+_0x1543d1[_0x4958b2(0x15f)],_0x3069ea+0x3f,_0x6f51fc);const _0x3fa11b={'headers':[{'label':_0x4958b2(0x154),'property':_0x4958b2(0xaf),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x4958b2(0x135),'width':0xc8,'renderer':null},{'label':_0x4958b2(0x145),'property':_0x4958b2(0x9f),'width':0x3c,'renderer':null},{'label':_0x4958b2(0x13a),'property':'unit','width':0x3c,'renderer':null},{'label':_0x4958b2(0x132),'property':'expdate','width':0x50,'renderer':null},{'label':_0x4958b2(0xb7),'property':_0x4958b2(0xb6),'width':0x3f,'renderer':null},{'label':_0x4958b2(0xd3),'property':_0x4958b2(0x171),'width':0x3f,'renderer':null}],'datas':[]};var _0x5287a2=0x0;let _0x37ab07='';_0x1543d1[_0x4958b2(0x121)]==_0x4958b2(0x172)?_0x37ab07='DG':_0x37ab07='FG';_0x1543d1['product']['forEach'](_0x5ab325=>{const _0x357979=_0x4958b2;let _0x69d26b='';var _0x2e3014=0x0;const _0x4ffac4={'itemcode':_0x5ab325[_0x357979(0xd1)],'itemdescription':_0x5ab325[_0x357979(0xdf)],'qty':_0x5ab325['quantity'],'unit':_0x5ab325[_0x357979(0x110)],'expdate':_0x5ab325[_0x357979(0xbe)],'batchno':_0x5ab325['batch_code'],'binloc':_0x37ab07+_0x5ab325['bay']};_0x5287a2+=_0x5ab325[_0x357979(0x15b)],_0x3fa11b['datas'][_0x357979(0x151)](_0x4ffac4);}),_0x3b6303[_0x4958b2(0xfa)](_0x3fa11b,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x3b6303[_0x4958b2(0xf7)](_0x4958b2(0xe9))[_0x4958b2(0x14b)](0x8),'prepareRow':(_0xa7b279,_0x310081,_0x20da17,_0x4e54e0)=>_0x3b6303['font']('Helvetica')['fontSize'](0x8)});var _0x4135e8=_0x3b6303['y'],_0x206a88=_0x3b6303['x'];_0x3b6303[_0x4958b2(0x14b)](0xa)[_0x4958b2(0xe7)](_0x4958b2(0x125),_0x206a88+0x7d,_0x4135e8),_0x3b6303['fontSize'](0xa)[_0x4958b2(0xe7)](_0x4958b2(0xb2),_0x206a88,_0x4135e8+=0x15e),_0x3b6303[_0x4958b2(0x14b)](0xa)['text'](_0x5287a2,_0x206a88+0xfa,_0x4135e8),_0x3b6303[_0x4958b2(0x14b)](0xa)[_0x4958b2(0xe7)](_0x4958b2(0xa1),_0x206a88,_0x4135e8+=0x19),_0x3b6303[_0x4958b2(0x14b)](0xa)[_0x4958b2(0xe7)](_0x4958b2(0x11e),_0x206a88+0x37,_0x4135e8,{'underline':!![]}),_0x3b6303[_0x4958b2(0x14b)](0xa)['text'](_0x4958b2(0x129),_0x206a88,_0x4135e8+0x32),_0x3b6303['fontSize'](0xa)['text']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x206a88+0x32,_0x4135e8+0x32,{'underline':!![]}),_0x3b6303[_0x4958b2(0x14b)](0xa)[_0x4958b2(0xe7)](_0x4958b2(0x102),_0x206a88+0x32,_0x4135e8+0x3c);let _0x5b873b=_0x3b6303['bufferedPageRange']();for(let _0xf1927=0x0;_0xf1927<_0x5b873b[_0x4958b2(0xf4)];_0xf1927++){_0x3b6303[_0x4958b2(0x9a)](_0xf1927);let _0xd8485c=_0x3b6303[_0x4958b2(0x101)][_0x4958b2(0x13c)]['bottom'];_0x3b6303[_0x4958b2(0x101)]['margins']['bottom']=0x0,_0x3b6303[_0x4958b2(0xe7)](_0x4958b2(0x10f)+(_0xf1927+0x1)+_0x4958b2(0x112)+_0x5b873b['count'],0x0,_0x3b6303[_0x4958b2(0x101)]['height']-_0xd8485c/0x2,{'align':_0x4958b2(0xdd)}),_0x3b6303['page'][_0x4958b2(0x13c)][_0x4958b2(0x11c)]=_0xd8485c;}const _0x1f0633=_0x3b6303['y'],_0x570ce9=_0x3b6303['x'];_0x3b6303[_0x4958b2(0x115)]();}catch(_0x3b196c){console[_0x4958b2(0x147)](_0x3b196c),_0x45d4a7[_0x4958b2(0x170)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x293053(0x14f)](a0_0x293053(0xae),auth,async(_0x3b158b,_0x33a436)=>{const _0x420ff3=a0_0x293053;try{const {username:_0x354862,email:_0x4b6fc9,role:_0x4b491d}=_0x3b158b[_0x420ff3(0x12c)],_0x4d2d9c=_0x3b158b[_0x420ff3(0x12c)],_0x5b0986=await profile['findOne']({'email':_0x4d2d9c[_0x420ff3(0x117)]}),_0x1dec44=await master_shop[_0x420ff3(0xeb)](),_0x1aaff2=_0x3b158b['params']['id'],_0x307fed=await sales_return_finished[_0x420ff3(0x11b)](_0x1aaff2),_0x24d9fa=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x33a436['setHeader'](_0x420ff3(0x164),_0x420ff3(0xc1)+_0x1aaff2+'.pdf\x22'),_0x33a436[_0x420ff3(0xb5)](_0x420ff3(0x12f),_0x420ff3(0xa7));var _0x407d8c=0x14,_0x281182=0x64;_0x24d9fa[_0x420ff3(0x148)](_0x33a436),_0x24d9fa[_0x420ff3(0x105)](_0x420ff3(0x14c)+_0x1dec44[0x0][_0x420ff3(0x105)],0x14,0x0,{'fit':[0x64,0x64]}),_0x24d9fa['fontSize'](0x14)['text'](_0x420ff3(0x174),_0x407d8c,_0x281182),_0x24d9fa['fontSize'](0xa)[_0x420ff3(0xe7)](_0x420ff3(0x109),_0x407d8c,_0x281182+=0xf),_0x24d9fa[_0x420ff3(0x14b)](0xf)[_0x420ff3(0xe7)](_0x420ff3(0x162),_0x407d8c,_0x281182+=0x32),_0x24d9fa[_0x420ff3(0x14b)](0xa)[_0x420ff3(0xe7)](_0x420ff3(0xbc),_0x407d8c,_0x281182+=0x1e),_0x24d9fa['fontSize'](0x9)[_0x420ff3(0xe7)](_0x420ff3(0x131)+_0x307fed[_0x420ff3(0x141)],_0x407d8c,_0x281182+=0x28),_0x24d9fa[_0x420ff3(0x14b)](0x9)[_0x420ff3(0xe7)](_0x420ff3(0x128)+_0x307fed[_0x420ff3(0xc7)],0x190,0xd2,{'underline':!![]}),_0x24d9fa[_0x420ff3(0x14b)](0x9)[_0x420ff3(0xe7)](_0x420ff3(0x142),_0x407d8c,_0x281182+=0xb),_0x24d9fa[_0x420ff3(0x14b)](0x9)[_0x420ff3(0xe7)](_0x420ff3(0x119)+_0x307fed['date'],_0x407d8c,_0x281182+=0xb),_0x24d9fa[_0x420ff3(0x14b)](0x9)[_0x420ff3(0xe7)](_0x420ff3(0x12b)+_0x307fed[_0x420ff3(0x15f)],_0x407d8c,_0x281182+=0xb);var _0x58e0bc='',_0x280d60='',_0x57e32d=0x0,_0xad25d4;console[_0x420ff3(0x147)](_0x307fed[_0x420ff3(0x12a)]);_0x307fed[_0x420ff3(0x12a)]=='GS'?(_0x307fed['warehouse_name']==_0x420ff3(0x172)?warecode='DG':warecode='FG',_0x58e0bc={'headers':[{'label':'Item\x20Code','property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0xc8,'renderer':null},{'label':'Quantity','property':_0x420ff3(0x9f),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x420ff3(0x16b),'width':0x3c,'renderer':null},{'label':_0x420ff3(0x132),'property':_0x420ff3(0x167),'width':0x50,'renderer':null},{'label':_0x420ff3(0xb7),'property':_0x420ff3(0xb6),'width':0x3f,'renderer':null},{'label':_0x420ff3(0xd3),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]},_0x307fed[_0x420ff3(0x9d)]['forEach'](_0x193aaf=>{const _0x960cee=_0x420ff3;let _0x31c59f='';var _0x5f2237=0x0;_0x280d60={'itemcode':_0x193aaf[_0x960cee(0xd1)],'itemdescription':_0x193aaf[_0x960cee(0xdf)],'qty':_0x193aaf['return_qty'],'unit':_0x193aaf[_0x960cee(0x16b)],'expdate':_0x193aaf['expiry_date'],'batchno':_0x193aaf['batch_code'],'binloc':warecode+_0x193aaf[_0x960cee(0xb9)]},_0x57e32d+=_0x193aaf[_0x960cee(0x140)],console['log'](_0x193aaf),_0x58e0bc['datas'][_0x960cee(0x151)](_0x280d60);})):(_0x58e0bc={'headers':[{'label':'Item\x20Code','property':_0x420ff3(0xaf),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x420ff3(0x135),'width':0xc8,'renderer':null},{'label':_0x420ff3(0x145),'property':_0x420ff3(0x9f),'width':0x3c,'renderer':null},{'label':_0x420ff3(0x13a),'property':_0x420ff3(0x16b),'width':0x3c,'renderer':null},{'label':_0x420ff3(0x132),'property':_0x420ff3(0x167),'width':0x50,'renderer':null},{'label':_0x420ff3(0xb7),'property':'batchno','width':0x3f,'renderer':null}],'datas':[]},_0x307fed[_0x420ff3(0xe2)][_0x420ff3(0x11f)](_0x44699e=>{const _0x1adc04=_0x420ff3;let _0x505a89='';var _0x5bd301=0x0;_0x280d60={'itemcode':_0x44699e[_0x1adc04(0xd1)],'itemdescription':_0x44699e[_0x1adc04(0xdf)],'qty':_0x44699e[_0x1adc04(0x140)],'unit':_0x44699e[_0x1adc04(0x16b)],'expdate':_0x44699e[_0x1adc04(0xbe)],'batchno':_0x44699e[_0x1adc04(0xc3)]},_0x57e32d+=_0x44699e[_0x1adc04(0x140)],console[_0x1adc04(0x147)](_0x57e32d+'\x20<>\x20'+_0x44699e[_0x1adc04(0x140)]),_0x58e0bc[_0x1adc04(0x153)][_0x1adc04(0x151)](_0x280d60);}));_0x24d9fa[_0x420ff3(0xfa)](_0x58e0bc,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x24d9fa['font']('Helvetica-Bold')[_0x420ff3(0x14b)](0x8),'prepareRow':(_0x371ea4,_0x4f8176,_0x264a9f,_0x219ffa)=>_0x24d9fa[_0x420ff3(0xf7)]('Helvetica')['fontSize'](0x8)});var _0x2ae467=_0x24d9fa['y'],_0x38ecff=_0x24d9fa['x'];_0x24d9fa['fontSize'](0xa)[_0x420ff3(0xe7)](_0x420ff3(0x125),_0x38ecff+0x7d,_0x2ae467),_0x24d9fa['fontSize'](0xa)[_0x420ff3(0xe7)]('TOTAL\x20QTY:\x20',_0x38ecff,_0x2ae467+=0x190),_0x24d9fa[_0x420ff3(0x14b)](0xa)[_0x420ff3(0xe7)](_0x57e32d,_0x38ecff+0x37,_0x2ae467,{'underline':!![]}),_0x24d9fa['fontSize'](0xa)[_0x420ff3(0xe7)]('Check\x20By:\x20',_0x38ecff,_0x2ae467+0x1e),_0x24d9fa['fontSize'](0xa)[_0x420ff3(0xe7)](_0x420ff3(0xed),_0x38ecff+0x32,_0x2ae467+0x1e,{'underline':!![]});let _0x1eebcf=_0x24d9fa['bufferedPageRange']();for(let _0x4bd8f6=0x0;_0x4bd8f6<_0x1eebcf[_0x420ff3(0xf4)];_0x4bd8f6++){_0x24d9fa[_0x420ff3(0x9a)](_0x4bd8f6);let _0x3d3c83=_0x24d9fa['page'][_0x420ff3(0x13c)][_0x420ff3(0x11c)];_0x24d9fa['page']['margins'][_0x420ff3(0x11c)]=0x0,_0x24d9fa[_0x420ff3(0xe7)](_0x420ff3(0x10f)+(_0x4bd8f6+0x1)+'\x20of\x20'+_0x1eebcf[_0x420ff3(0xf4)],0x0,_0x24d9fa[_0x420ff3(0x101)][_0x420ff3(0xee)]-_0x3d3c83/0x2,{'align':_0x420ff3(0xdd)}),_0x24d9fa['page'][_0x420ff3(0x13c)][_0x420ff3(0x11c)]=_0x3d3c83;}const _0x146933=_0x24d9fa['y'],_0xd5a622=_0x24d9fa['x'];_0x24d9fa['end']();}catch(_0x50c445){console[_0x420ff3(0x147)](_0x50c445),_0x33a436['status'](0x1f4)[_0x420ff3(0xda)](_0x420ff3(0xcf));}}),router[a0_0x293053(0x14f)](a0_0x293053(0xa5),auth,async(_0x4cf03f,_0x312db1)=>{const _0x3fec84=a0_0x293053;try{const {username:_0x5036bb,email:_0x521631,role:_0x21a3fc}=_0x4cf03f[_0x3fec84(0x12c)],_0x157de6=_0x4cf03f[_0x3fec84(0x12c)],_0x30c9f9=await profile[_0x3fec84(0x134)]({'email':_0x157de6[_0x3fec84(0x117)]}),_0x4d95cc=await master_shop[_0x3fec84(0xeb)](),_0x2fecd9=_0x4cf03f['params']['id'],_0x3a76b5=await purchases['findById'](_0x2fecd9),_0x535afb=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x312db1['setHeader'](_0x3fec84(0x164),_0x3fec84(0xc1)+_0x2fecd9+_0x3fec84(0x149)),_0x312db1[_0x3fec84(0xb5)](_0x3fec84(0x12f),'application/pdf');var _0x1a35b1=0x14,_0x12a2c2=0x3c;_0x535afb[_0x3fec84(0x148)](_0x312db1),_0x535afb[_0x3fec84(0x105)](_0x3fec84(0x14c)+_0x4d95cc[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x535afb[_0x3fec84(0x14b)](0x14)[_0x3fec84(0xe7)](_0x3fec84(0x174),_0x1a35b1,_0x12a2c2),_0x535afb[_0x3fec84(0x14b)](0xa)[_0x3fec84(0xe7)](_0x3fec84(0x109),_0x1a35b1,_0x12a2c2+=0xf),_0x535afb[_0x3fec84(0x14b)](0xf)[_0x3fec84(0xe7)](_0x3fec84(0xbd),_0x1a35b1,_0x12a2c2+=0x32),_0x535afb[_0x3fec84(0x14b)](0xa)[_0x3fec84(0xe7)](_0x3fec84(0xad),_0x1a35b1,_0x12a2c2+=0x14),_0x535afb[_0x3fec84(0x14b)](0x9)['text'](_0x3fec84(0x138),_0x1a35b1,_0x12a2c2+=0x2d),_0x535afb[_0x3fec84(0x14b)](0x9)[_0x3fec84(0xe7)]('\x20:\x20'+_0x3a76b5[_0x3fec84(0x121)],_0x1a35b1+0x3f,_0x12a2c2),_0x535afb[_0x3fec84(0x14b)](0x9)[_0x3fec84(0xe7)](_0x3fec84(0x15a)+_0x3a76b5[_0x3fec84(0x139)],_0x1a35b1+0x17c,_0x12a2c2,{'underline':!![]}),_0x535afb[_0x3fec84(0x14b)](0x9)[_0x3fec84(0xe7)](_0x3fec84(0x175),_0x1a35b1,_0x12a2c2+=0xb),_0x535afb[_0x3fec84(0x14b)](0x9)[_0x3fec84(0xe7)](_0x3fec84(0x16d)+_0x3a76b5[_0x3fec84(0x133)],_0x1a35b1+0x3f,_0x12a2c2),_0x535afb['fontSize'](0x9)['text'](_0x3fec84(0xb3),_0x1a35b1,_0x12a2c2+=0xb),_0x535afb['fontSize'](0x9)[_0x3fec84(0xe7)](_0x3fec84(0x16d)+_0x3a76b5[_0x3fec84(0x15f)],_0x1a35b1+0x3f,_0x12a2c2);const _0xd3898b={'headers':[{'label':_0x3fec84(0x154),'property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x3fec84(0x135),'width':0x96,'renderer':null},{'label':_0x3fec84(0xba),'property':'qty','width':0x2d,'renderer':null},{'label':_0x3fec84(0x13a),'property':_0x3fec84(0x16b),'width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':_0x3fec84(0x167),'width':0x46,'renderer':null},{'label':_0x3fec84(0xb7),'property':_0x3fec84(0xb6),'width':0x3c,'renderer':null},{'label':_0x3fec84(0xd3),'property':_0x3fec84(0x171),'width':0x3c,'renderer':null},{'label':'Delivery\x20Code','property':_0x3fec84(0xe1),'width':0x3f,'renderer':null}],'datas':[]};var _0x2f44d3=0x0;let _0x5f487c='';_0x3a76b5[_0x3fec84(0xc0)][_0x3fec84(0x11f)](_0x4c9aed=>{const _0x5f3c5e=_0x3fec84;let _0x1f6797='';var _0x379a14=0x0;const _0x18bcfa={'itemcode':_0x4c9aed[_0x5f3c5e(0xd1)],'itemdescription':_0x4c9aed[_0x5f3c5e(0xdf)],'qty':_0x4c9aed['quantity'],'unit':_0x4c9aed[_0x5f3c5e(0x110)],'expdate':_0x4c9aed[_0x5f3c5e(0xbe)],'batchno':_0x4c9aed[_0x5f3c5e(0xc3)],'binloc':_0x4c9aed[_0x5f3c5e(0xd6)]+_0x4c9aed[_0x5f3c5e(0x104)]+_0x4c9aed[_0x5f3c5e(0xb9)]+_0x4c9aed[_0x5f3c5e(0x158)]+_0x4c9aed[_0x5f3c5e(0x163)][0x0]+_0x4c9aed['floorlevel'],'DelCode':_0x4c9aed[_0x5f3c5e(0xa3)]};_0x2f44d3+=_0x4c9aed[_0x5f3c5e(0x15b)],_0xd3898b[_0x5f3c5e(0x153)]['push'](_0x18bcfa);}),_0x535afb[_0x3fec84(0xfa)](_0xd3898b,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x535afb[_0x3fec84(0xf7)](_0x3fec84(0xe9))[_0x3fec84(0x14b)](0x8),'prepareRow':(_0x28a8a0,_0x801c34,_0x39b480,_0x37c695)=>_0x535afb[_0x3fec84(0xf7)](_0x3fec84(0xc4))['fontSize'](0x8)});var _0x580ed5=_0x535afb['y'],_0x3be0a1=_0x535afb['x'];_0x535afb['fontSize'](0xa)[_0x3fec84(0xe7)](_0x3fec84(0x125),_0x3be0a1+0x7d,_0x580ed5),_0x535afb[_0x3fec84(0x14b)](0xa)[_0x3fec84(0xe7)]('TOTAL\x20QTY:\x20',_0x3be0a1,_0x580ed5+=0x15e),_0x535afb['fontSize'](0xa)[_0x3fec84(0xe7)](_0x2f44d3,_0x3be0a1+0xf0,_0x580ed5,{'underline':!![]}),_0x535afb['fontSize'](0xa)[_0x3fec84(0xe7)](_0x3fec84(0xcd),_0x3be0a1,_0x580ed5+0x28),_0x535afb[_0x3fec84(0x14b)](0xa)[_0x3fec84(0xe7)](_0x3fec84(0xf6),_0x3be0a1+0x40,_0x580ed5+0x28,{'underline':!![]}),_0x535afb[_0x3fec84(0x14b)](0xa)[_0x3fec84(0xe7)](_0x3fec84(0x150),_0x3be0a1+0x40,_0x580ed5+0x32);let _0x444a55=_0x535afb[_0x3fec84(0xa9)]();for(let _0x5c982f=0x0;_0x5c982f<_0x444a55['count'];_0x5c982f++){_0x535afb[_0x3fec84(0x9a)](_0x5c982f);let _0x52b589=_0x535afb['page'][_0x3fec84(0x13c)][_0x3fec84(0x11c)];_0x535afb[_0x3fec84(0x101)][_0x3fec84(0x13c)][_0x3fec84(0x11c)]=0x0,_0x535afb[_0x3fec84(0xe7)](_0x3fec84(0x10f)+(_0x5c982f+0x1)+_0x3fec84(0x112)+_0x444a55['count'],0x0,_0x535afb[_0x3fec84(0x101)][_0x3fec84(0xee)]-_0x52b589/0x2,{'align':'center'}),_0x535afb[_0x3fec84(0x101)][_0x3fec84(0x13c)][_0x3fec84(0x11c)]=_0x52b589;}const _0x1293d3=_0x535afb['y'],_0x589f67=_0x535afb['x'];_0x535afb[_0x3fec84(0x115)]();}catch(_0x43ccc4){console[_0x3fec84(0x147)](_0x43ccc4),_0x312db1[_0x3fec84(0x170)](0x1f4)[_0x3fec84(0xda)](_0x3fec84(0xcf));}}),router[a0_0x293053(0x14f)](a0_0x293053(0xf3),auth,async(_0x37fd71,_0x4468ea)=>{const _0x172852=a0_0x293053;try{const {username:_0x280c6a,email:_0x4a2934,role:_0x3a54c2}=_0x37fd71['user'],_0x3e2812=_0x37fd71['user'],_0x4a45c2=await profile[_0x172852(0x134)]({'email':_0x3e2812[_0x172852(0x117)]}),_0x1f7adb=await master_shop[_0x172852(0xeb)](),_0x36b867=_0x37fd71[_0x172852(0xfb)]['id'],_0x48e175=await sales[_0x172852(0x11b)](_0x36b867),_0x3f02f6=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x12d660;_0x12d660=_0x172852(0x162);_0x48e175[_0x172852(0xa6)]==_0x172852(0x126)&&(_0x12d660=_0x172852(0xcb));_0x4468ea[_0x172852(0xb5)](_0x172852(0x164),_0x172852(0xc1)+_0x36b867+_0x172852(0x149)),_0x4468ea[_0x172852(0xb5)](_0x172852(0x12f),_0x172852(0xa7));var _0x51e9ad=0x14,_0x3d3cc5=0x64;_0x3f02f6[_0x172852(0x148)](_0x4468ea),_0x3f02f6[_0x172852(0x105)](_0x172852(0x14c)+_0x1f7adb[0x0][_0x172852(0x105)],0x14,0x0,{'fit':[0x64,0x64]}),_0x3f02f6[_0x172852(0x14b)](0x14)['text'](_0x172852(0x174),_0x51e9ad,_0x3d3cc5),_0x3f02f6['fontSize'](0xa)[_0x172852(0xe7)](_0x172852(0x109),_0x51e9ad,_0x3d3cc5+=0xf),_0x3f02f6[_0x172852(0x14b)](0xf)[_0x172852(0xe7)](_0x12d660,_0x51e9ad,_0x3d3cc5+=0x32),_0x3f02f6['fontSize'](0xa)[_0x172852(0xe7)](_0x172852(0x113),_0x51e9ad,_0x3d3cc5+=0x14),_0x3f02f6[_0x172852(0x14b)](0x9)['text'](_0x172852(0x175),_0x51e9ad,_0x3d3cc5+=0x19),_0x3f02f6[_0x172852(0x14b)](0x9)[_0x172852(0xe7)](_0x172852(0x16d)+_0x48e175[_0x172852(0x133)],_0x51e9ad+0x3f,_0x3d3cc5),_0x3f02f6[_0x172852(0x14b)](0x9)[_0x172852(0xe7)](_0x172852(0xc2),_0x51e9ad,_0x3d3cc5+=0xb),_0x3f02f6[_0x172852(0x14b)](0x9)[_0x172852(0xe7)](_0x172852(0x16d)+_0x48e175[_0x172852(0x15f)],_0x51e9ad+0x3f,_0x3d3cc5);const _0x3a5eb8={'headers':[{'label':_0x172852(0x100),'property':'itemcode','align':_0x172852(0xdd),'width':0x2d,'renderer':null},{'label':_0x172852(0xa0),'property':_0x172852(0x135),'align':_0x172852(0xdd),'width':0x64,'renderer':null},{'label':_0x172852(0xa4),'property':'rqty','align':_0x172852(0xdd),'width':0x28,'renderer':null},{'label':'QUANTITY\x20ISSUED','property':_0x172852(0xe3),'align':_0x172852(0xdd),'width':0x28,'renderer':null},{'label':_0x172852(0x13a),'property':'unit','align':'center','width':0x28,'renderer':null},{'label':_0x172852(0xd5),'property':_0x172852(0xff),'align':_0x172852(0xdd),'width':0x32,'renderer':null},{'label':'PRODUCTION\x20DATE','property':_0x172852(0xb4),'align':_0x172852(0xdd),'width':0x3c,'renderer':null},{'label':_0x172852(0x12d),'property':_0x172852(0x167),'align':_0x172852(0xdd),'width':0x3c,'renderer':null},{'label':_0x172852(0xd7),'property':_0x172852(0x14d),'align':_0x172852(0xdd),'width':0x3f,'renderer':null},{'label':_0x172852(0xa2),'property':'del_code','align':_0x172852(0xdd),'width':0x3f,'renderer':null}],'datas':[]};var _0x4a0148=0x0;let _0x5940fd='';var _0x17e14d=0x0,_0x51e9ad=0x1;_0x48e175['sale_product'][_0x172852(0x11f)](_0x5cb22b=>{const _0x1ed7a8=_0x172852,_0x52523f=new Date(_0x5cb22b[_0x1ed7a8(0xfc)]),_0x3dee85={'year':_0x1ed7a8(0x14a),'month':_0x1ed7a8(0x16c),'day':_0x1ed7a8(0x14a)},_0x1e824f=_0x52523f[_0x1ed7a8(0x16e)]('en-US',_0x3dee85),_0x249d6e=new Date(_0x5cb22b[_0x1ed7a8(0xbe)]),_0xb29995={'year':_0x1ed7a8(0x14a),'month':_0x1ed7a8(0x16c),'day':_0x1ed7a8(0x14a)},_0x546d33=_0x249d6e[_0x1ed7a8(0x16e)](_0x1ed7a8(0x13f),_0xb29995),_0x18d67c=new Date(_0x5cb22b[_0x1ed7a8(0x13e)]),_0x135bef={'year':_0x1ed7a8(0x14a),'month':'short','day':_0x1ed7a8(0x14a)};var _0x3261f7=_0x18d67c[_0x1ed7a8(0x16e)](_0x1ed7a8(0x13f),_0x135bef);typeof _0x5cb22b[_0x1ed7a8(0x13e)]==_0x1ed7a8(0xb8)&&(_0x3261f7='');const _0x5dcb23={'itemcode':_0x5cb22b[_0x1ed7a8(0xd1)],'itemdescription':_0x5cb22b[_0x1ed7a8(0xdf)],'rqty':_0x5cb22b['requested_qty'],'iqty':_0x5cb22b[_0x1ed7a8(0x15b)],'unit':_0x5cb22b['unit'],'blocation':_0x5cb22b[_0x1ed7a8(0xd6)]+_0x5cb22b['rack']+_0x5cb22b[_0x1ed7a8(0xb9)]+_0x5cb22b[_0x1ed7a8(0x158)]+_0x5cb22b[_0x1ed7a8(0x163)][0x0]+_0x5cb22b['floorlevel'],'proddate':_0x1e824f,'expdate':_0x546d33,'del_date':_0x3261f7,'del_code':_0x5cb22b[_0x1ed7a8(0xa3)]};_0x51e9ad++,_0x3a5eb8['datas'][_0x1ed7a8(0x151)](_0x5dcb23);}),_0x3f02f6[_0x172852(0xfa)](_0x3a5eb8,{'x':_0x51e9ad+0x11,'y':_0x3d3cc5+=0x1e,'prepareHeader':()=>_0x3f02f6[_0x172852(0xf7)](_0x172852(0xe9))[_0x172852(0x14b)](6.5),'prepareRow':(_0x4869cf,_0x3e6b6e,_0x44aaf3,_0x3fdde2,_0x555e17)=>{const _0x31c85f=_0x172852,{x:_0x5d20e5,y:_0x38ea9b,width:_0x36f812,height:_0x4a5b51}=_0x555e17;_0x3f02f6[_0x31c85f(0xf7)]('Helvetica')['fontSize'](0x8),_0x3f02f6[_0x31c85f(0x130)](0.5)[_0x31c85f(0x173)](_0x5d20e5,_0x38ea9b)['lineTo'](_0x5d20e5,_0x38ea9b+_0x4a5b51)[_0x31c85f(0x127)]();}});var _0x4f23c5=_0x3f02f6['y'],_0x115929=_0x3f02f6['x'],_0x3fd342=_0x4f23c5-=0x8;_0x3f02f6[_0x172852(0x130)](0x5),_0x3f02f6[_0x172852(0x13b)](_0x172852(0xb1))['moveTo'](0x240,_0x3fd342)[_0x172852(0x136)](0x11,_0x3fd342)['stroke'](),_0x3f02f6[_0x172852(0x14b)](0xa)[_0x172852(0xe7)](_0x172852(0x125),_0x115929+0x7d,_0x4f23c5+=0xf),_0x3f02f6[_0x172852(0x14b)](0xb)[_0x172852(0xe7)]('PREPARED\x20BY\x20:\x20',_0x115929,_0x4f23c5+=0x15e),_0x3f02f6['fontSize'](0xa)[_0x172852(0xe7)](_0x172852(0xc6),_0x115929+0x52,_0x4f23c5,{'underline':!![]}),_0x3f02f6[_0x172852(0x14b)](0xa)[_0x172852(0xe7)](_0x172852(0xd9),_0x115929,_0x4f23c5+=0x19),_0x3f02f6['fontSize'](0xa)[_0x172852(0xe7)](_0x172852(0x16d),_0x115929+0x4b,_0x4f23c5),_0x3f02f6['fontSize'](0xa)[_0x172852(0xe7)]('\x20'[_0x172852(0xbf)](0x3c),_0x115929+0x50,_0x4f23c5,{'underline':!![]}),_0x3f02f6['fontSize'](0xa)['text'](_0x172852(0xef),_0x115929,_0x4f23c5+=0x32),_0x3f02f6[_0x172852(0x14b)](0xa)[_0x172852(0xe7)](_0x172852(0x16d),_0x115929+0x4b,_0x4f23c5),_0x3f02f6[_0x172852(0x14b)](0xa)[_0x172852(0xe7)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x115929+0x50,_0x4f23c5,{'underline':!![]}),_0x3f02f6[_0x172852(0x14b)](0xa)['text'](_0x172852(0x150),_0x115929+0x50,_0x4f23c5+0xc);let _0x321c7a=_0x3f02f6[_0x172852(0xa9)]();for(let _0x229610=0x0;_0x229610<_0x321c7a[_0x172852(0xf4)];_0x229610++){_0x3f02f6[_0x172852(0x9a)](_0x229610);let _0x30b06f=_0x3f02f6[_0x172852(0x101)]['margins'][_0x172852(0x11c)];_0x3f02f6[_0x172852(0x101)][_0x172852(0x13c)][_0x172852(0x11c)]=0x0,_0x3f02f6[_0x172852(0xe7)](_0x172852(0x10f)+(_0x229610+0x1)+_0x172852(0x112)+_0x321c7a[_0x172852(0xf4)],0x0,_0x3f02f6[_0x172852(0x101)]['height']-_0x30b06f/0x2,{'align':'center'}),_0x3f02f6[_0x172852(0x101)]['margins']['bottom']=_0x30b06f;}const _0x4fe695=_0x3f02f6['y'],_0x4303c0=_0x3f02f6['x'];_0x3f02f6[_0x172852(0x115)]();}catch(_0x5e460d){console[_0x172852(0x147)](_0x5e460d),_0x4468ea[_0x172852(0x170)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get'](a0_0x293053(0x11a),auth,async(_0x4a15a2,_0x92f0c9)=>{const _0x2e3d73=a0_0x293053;try{const {username:_0x1cbbe9,email:_0x6c6855,role:_0x1f2c3b}=_0x4a15a2['user'],_0x4464f8=_0x4a15a2[_0x2e3d73(0x12c)],_0x4797ab=await profile[_0x2e3d73(0x134)]({'email':_0x4464f8['email']}),_0x4fe8ab=await master_shop['find'](),_0x4e3301=_0x4a15a2[_0x2e3d73(0xfb)]['id'],_0x426ce0=await adjustment[_0x2e3d73(0x11b)](_0x4e3301);var _0x1f0daa,_0x4b05b9;_0x1f0daa=_0x2e3d73(0x162),_0x4b05b9='(INVENTORY\x20ADJUSTMENT)';_0x426ce0['finalize']=='True'&&(_0x1f0daa='INVENTORY\x20ADJUSTMENT',_0x4b05b9='');const _0x5958bc=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x92f0c9[_0x2e3d73(0xb5)](_0x2e3d73(0x164),'inline;\x20filename=\x22OUT-'+_0x4e3301+'.pdf\x22'),_0x92f0c9[_0x2e3d73(0xb5)](_0x2e3d73(0x12f),_0x2e3d73(0xa7));var _0x5f56e3=0x14,_0xe7757=0x3c;_0x5958bc[_0x2e3d73(0x148)](_0x92f0c9),_0x5958bc[_0x2e3d73(0x105)](_0x2e3d73(0x14c)+_0x4fe8ab[0x0][_0x2e3d73(0x105)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5958bc['fontSize'](0x14)[_0x2e3d73(0xe7)](_0x2e3d73(0x174),_0x5f56e3,_0xe7757),_0x5958bc[_0x2e3d73(0x14b)](0xa)['text'](_0x2e3d73(0x109),_0x5f56e3,_0xe7757+=0xf),_0x5958bc['fontSize'](0xf)['text'](_0x1f0daa,_0x5f56e3,_0xe7757+=0x32),_0x5958bc[_0x2e3d73(0x14b)](0xa)[_0x2e3d73(0xe7)](_0x4b05b9,_0x5f56e3,_0xe7757+=0x14),_0x5958bc['fontSize'](0x9)['text'](_0x2e3d73(0x138),_0x5f56e3,_0xe7757+=0x28),_0x5958bc['fontSize'](0x9)[_0x2e3d73(0xe7)](_0x2e3d73(0x16d)+_0x426ce0[_0x2e3d73(0x121)],_0x5f56e3+0x3f,_0xe7757),_0x5958bc['fontSize'](0x9)[_0x2e3d73(0xe7)](_0x2e3d73(0x175),_0x5f56e3,_0xe7757+=0xb),_0x5958bc[_0x2e3d73(0x14b)](0x9)['text'](_0x2e3d73(0x16d)+_0x426ce0[_0x2e3d73(0x133)],_0x5f56e3+0x3f,_0xe7757),_0x5958bc['fontSize'](0x9)[_0x2e3d73(0xe7)](_0x2e3d73(0xb3),_0x5f56e3,_0xe7757+=0xb),_0x5958bc[_0x2e3d73(0x14b)](0x9)[_0x2e3d73(0xe7)](_0x2e3d73(0x16d)+_0x426ce0['invoice'],_0x5f56e3+0x3f,_0xe7757);const _0x44ced7={'headers':[{'label':_0x2e3d73(0x154),'property':_0x2e3d73(0xaf),'width':0x3c,'renderer':null},{'label':_0x2e3d73(0xd4),'property':_0x2e3d73(0x135),'width':0x96,'renderer':null},{'label':_0x2e3d73(0x145),'property':_0x2e3d73(0x9f),'width':0x3c,'renderer':null},{'label':_0x2e3d73(0x13a),'property':_0x2e3d73(0x16b),'width':0x3c,'renderer':null},{'label':_0x2e3d73(0x120),'property':_0x2e3d73(0xb4),'width':0x50,'renderer':null},{'label':_0x2e3d73(0xb7),'property':_0x2e3d73(0xb6),'width':0x3f,'renderer':null},{'label':_0x2e3d73(0xd3),'property':_0x2e3d73(0x171),'width':0x3f,'renderer':null}],'datas':[]};var _0x2012ba=0x0,_0x127a35=0x0;_0x426ce0['product'][_0x2e3d73(0x11f)](_0x13fcae=>{const _0x5a6cfe=_0x2e3d73;let _0x54c031='';const _0x10bce0=_0x13fcae[_0x5a6cfe(0xbb)];for(let _0x54b7c2=0x1;_0x54b7c2<=_0x10bce0;_0x54b7c2++){_0x10bce0==_0x54b7c2?_0x54c031+=_0x13fcae[_0x5a6cfe(0x161)]:_0x54c031+=_0x13fcae[_0x5a6cfe(0x161)]+',',_0x127a35+=_0x13fcae[_0x5a6cfe(0x161)];}_0x54c031+=_0x5a6cfe(0xcc)+_0x13fcae['secondary_unit'];const _0x10dbee={'itemcode':_0x13fcae[_0x5a6cfe(0xd1)],'itemdescription':_0x13fcae['product_name'],'qty':_0x13fcae['new_adjust_qty'],'unit':_0x13fcae[_0x5a6cfe(0x16b)],'proddate':_0x13fcae[_0x5a6cfe(0xfc)],'batchno':_0x13fcae[_0x5a6cfe(0xc3)],'binloc':_0x13fcae[_0x5a6cfe(0xd6)]+_0x13fcae[_0x5a6cfe(0x104)]+_0x13fcae[_0x5a6cfe(0xb9)]+_0x13fcae[_0x5a6cfe(0x158)]+_0x13fcae['type'][0x0]+_0x13fcae[_0x5a6cfe(0x169)]};_0x2012ba+=_0x13fcae[_0x5a6cfe(0xf0)],_0x44ced7['datas'][_0x5a6cfe(0x151)](_0x10dbee);}),_0x5958bc[_0x2e3d73(0xfa)](_0x44ced7,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x5958bc[_0x2e3d73(0xf7)](_0x2e3d73(0xe9))['fontSize'](0x8),'prepareRow':(_0x37bb85,_0x4d6c27,_0x2ce929,_0xab70d0)=>_0x5958bc['font'](_0x2e3d73(0xc4))[_0x2e3d73(0x14b)](0x8)});var _0x9f51ae=_0x5958bc['y'],_0x30eb13=_0x5958bc['x'];_0x5958bc['fontSize'](0xa)['text'](_0x2e3d73(0x125),_0x30eb13+0x7d,_0x9f51ae),_0x5958bc['fontSize'](0xa)['text'](_0x2e3d73(0xf1),_0x30eb13,_0x9f51ae+=0x136),_0x5958bc[_0x2e3d73(0x14b)](0xa)[_0x2e3d73(0xe7)](_0x2012ba,_0x30eb13+0xc8,_0x9f51ae),_0x5958bc[_0x2e3d73(0x14b)](0xa)[_0x2e3d73(0xe7)]('Picked\x20By\x20\x20\x20\x20\x20:\x20',_0x30eb13,_0x9f51ae+=0x19),_0x5958bc[_0x2e3d73(0x14b)](0xa)['text']('\x20'['repeat'](0x3c),_0x30eb13+0x3e,_0x9f51ae,{'underline':!![]}),_0x5958bc[_0x2e3d73(0x14b)](0xa)[_0x2e3d73(0xe7)](_0x2e3d73(0xf5),_0x30eb13,_0x9f51ae+=0x32),_0x5958bc[_0x2e3d73(0x14b)](0xa)['text'](_0x2e3d73(0x16d),_0x30eb13+0x37,_0x9f51ae),_0x5958bc[_0x2e3d73(0x14b)](0xa)[_0x2e3d73(0xe7)](_0x2e3d73(0x124),_0x30eb13+0x3c,_0x9f51ae,{'underline':!![]}),_0x5958bc['fontSize'](0xa)[_0x2e3d73(0xe7)](_0x2e3d73(0x150),_0x30eb13+0x3c,_0x9f51ae+0xc);let _0x53a1c2=_0x5958bc['bufferedPageRange']();for(let _0x4ea17e=0x0;_0x4ea17e<_0x53a1c2['count'];_0x4ea17e++){_0x5958bc[_0x2e3d73(0x9a)](_0x4ea17e);let _0x2b345c=_0x5958bc[_0x2e3d73(0x101)]['margins'][_0x2e3d73(0x11c)];_0x5958bc[_0x2e3d73(0x101)]['margins'][_0x2e3d73(0x11c)]=0x0,_0x5958bc['text'](_0x2e3d73(0x10f)+(_0x4ea17e+0x1)+_0x2e3d73(0x112)+_0x53a1c2['count'],0x0,_0x5958bc[_0x2e3d73(0x101)][_0x2e3d73(0xee)]-_0x2b345c/0x2,{'align':'center'}),_0x5958bc[_0x2e3d73(0x101)]['margins']['bottom']=_0x2b345c;}const _0x292a60=_0x5958bc['y'],_0x278b0e=_0x5958bc['x'];_0x5958bc[_0x2e3d73(0x115)]();}catch(_0x44ce2e){console[_0x2e3d73(0x147)](_0x44ce2e),_0x92f0c9[_0x2e3d73(0x170)](0x1f4)[_0x2e3d73(0xda)](_0x2e3d73(0xcf));}}),router['get'](a0_0x293053(0x9e),auth,async(_0x8279b1,_0x19e025)=>{const _0x3cdb1f=a0_0x293053;try{const {username:_0xce3e05,email:_0x2a78b8,role:_0x1c1662}=_0x8279b1[_0x3cdb1f(0x12c)],_0x41ffd7=_0x8279b1[_0x3cdb1f(0x12c)],_0x126f1f=await profile[_0x3cdb1f(0x134)]({'email':_0x41ffd7[_0x3cdb1f(0x117)]}),_0x2de829=await master_shop['find'](),_0x17766d=_0x8279b1['params']['id'],_0x5a5886=await transfers[_0x3cdb1f(0x11b)](_0x17766d);var _0x41fee4,_0x1f9d8f;_0x41fee4=_0x3cdb1f(0x10d),_0x1f9d8f='(STOCKS\x20TRANSFER)';_0x5a5886[_0x3cdb1f(0xa6)]==_0x3cdb1f(0x126)&&(_0x41fee4=_0x3cdb1f(0x106),_0x1f9d8f='');const _0x1730d1=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x19e025[_0x3cdb1f(0xb5)]('Content-disposition','inline;\x20filename=\x22OUT-'+_0x17766d+_0x3cdb1f(0x149)),_0x19e025['setHeader'](_0x3cdb1f(0x12f),_0x3cdb1f(0xa7));var _0x4c0b3c=0x14,_0x4097fa=0x3c;_0x1730d1[_0x3cdb1f(0x148)](_0x19e025),_0x1730d1[_0x3cdb1f(0x105)](_0x3cdb1f(0x14c)+_0x2de829[0x0][_0x3cdb1f(0x105)],0x14,0x0,{'fit':[0x64,0x64]}),_0x1730d1['fontSize'](0x14)[_0x3cdb1f(0xe7)](_0x3cdb1f(0x174),_0x4c0b3c,_0x4097fa),_0x1730d1[_0x3cdb1f(0x14b)](0xa)[_0x3cdb1f(0xe7)](_0x3cdb1f(0x109),_0x4c0b3c,_0x4097fa+=0xf),_0x1730d1[_0x3cdb1f(0x14b)](0xf)[_0x3cdb1f(0xe7)](_0x41fee4,_0x4c0b3c,_0x4097fa+=0x32),_0x1730d1[_0x3cdb1f(0x14b)](0xa)[_0x3cdb1f(0xe7)](_0x1f9d8f,_0x4c0b3c,_0x4097fa+=0x14),_0x1730d1[_0x3cdb1f(0x14b)](0x9)[_0x3cdb1f(0xe7)](_0x3cdb1f(0x116),_0x4c0b3c,_0x4097fa+=0x28),_0x1730d1[_0x3cdb1f(0x14b)](0x9)[_0x3cdb1f(0xe7)]('\x20\x20\x20:\x20'+_0x5a5886[_0x3cdb1f(0x15d)],_0x4c0b3c+0x3f,_0x4097fa),_0x1730d1[_0x3cdb1f(0x14b)](0x9)[_0x3cdb1f(0xe7)](_0x3cdb1f(0x11d),_0x4c0b3c,_0x4097fa+=0xa),_0x1730d1[_0x3cdb1f(0x14b)](0x9)[_0x3cdb1f(0xe7)](_0x3cdb1f(0x155)+_0x5a5886['to_warehouse'],_0x4c0b3c+0x3f,_0x4097fa),_0x1730d1['fontSize'](0x9)[_0x3cdb1f(0xe7)](_0x3cdb1f(0x175),_0x4c0b3c,_0x4097fa+=0xb),_0x1730d1['fontSize'](0x9)[_0x3cdb1f(0xe7)](_0x3cdb1f(0x155)+_0x5a5886[_0x3cdb1f(0x133)],_0x4c0b3c+0x3f,_0x4097fa),_0x1730d1[_0x3cdb1f(0x14b)](0x9)[_0x3cdb1f(0xe7)](_0x3cdb1f(0xb3),_0x4c0b3c,_0x4097fa+=0xb),_0x1730d1[_0x3cdb1f(0x14b)](0x9)[_0x3cdb1f(0xe7)](_0x3cdb1f(0x155)+_0x5a5886['invoice'],_0x4c0b3c+0x3f,_0x4097fa);const _0x2e986e={'headers':[{'label':'','property':_0x3cdb1f(0xaf),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x3cdb1f(0x16f),'property':_0x3cdb1f(0xaf),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':'\x20\x20\x20\x20\x20TO','property':_0x3cdb1f(0x135),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x1730d1[_0x3cdb1f(0xfa)](_0x2e986e,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x1730d1['font']('Helvetica-Bold')['fontSize'](0x8),'prepareRow':(_0x2d0658,_0x44ca34,_0x32b851,_0x1fee0f)=>_0x1730d1['font']('Helvetica')[_0x3cdb1f(0x14b)](0x8)});const _0x1076f9={'headers':[{'label':_0x3cdb1f(0x154),'property':_0x3cdb1f(0xaf),'width':0x3c,'renderer':null},{'label':_0x3cdb1f(0xd4),'property':_0x3cdb1f(0x135),'width':0x96,'renderer':null},{'label':_0x3cdb1f(0x145),'property':_0x3cdb1f(0x9f),'width':0x28,'renderer':null},{'label':_0x3cdb1f(0x13a),'property':_0x3cdb1f(0x16b),'width':0x37,'renderer':null},{'label':_0x3cdb1f(0x120),'property':_0x3cdb1f(0xb4),'width':0x4b,'renderer':null},{'label':_0x3cdb1f(0xb7),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x3cdb1f(0xd3),'property':_0x3cdb1f(0x159),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x3cdb1f(0x171),'width':0x3f,'renderer':null}],'datas':[]};var _0x31c559=0x0;let _0x5e8559='';var _0x4cad84=0x0;_0x5a5886[_0x3cdb1f(0xc0)]['forEach'](_0x2c305d=>{const _0x41dd0e=_0x3cdb1f;var _0x3a1ff7=_0x2c305d['prod_cat'],_0x4db61b;_0x4db61b=_0x2c305d['unit'];_0x3a1ff7=='S'&&(_0x4db61b=_0x2c305d[_0x41dd0e(0x16a)]);const _0x114f2b={'itemcode':_0x2c305d['product_code'],'itemdescription':_0x2c305d['product_name'],'qty':_0x2c305d[_0x41dd0e(0xbb)],'unit':_0x4db61b,'proddate':_0x2c305d[_0x41dd0e(0xfc)],'batchno':_0x2c305d[_0x41dd0e(0xc3)],'binloc':_0x2c305d['storage']+_0x2c305d[_0x41dd0e(0x104)]+_0x2c305d[_0x41dd0e(0xac)]+_0x2c305d[_0x41dd0e(0x165)]+_0x2c305d['to_types'][0x0]+_0x2c305d[_0x41dd0e(0xf2)],'qtyFrom':_0x2c305d[_0x41dd0e(0x15c)],'binlocFrom':_0x2c305d[_0x41dd0e(0xe4)]+_0x2c305d[_0x41dd0e(0xab)]+_0x2c305d['from_bay']+_0x2c305d[_0x41dd0e(0xf8)]+_0x2c305d[_0x41dd0e(0xe0)][0x0]+_0x2c305d[_0x41dd0e(0xfd)]};_0x31c559+=_0x2c305d[_0x41dd0e(0xbb)],_0x1076f9[_0x41dd0e(0x153)][_0x41dd0e(0x151)](_0x114f2b);}),_0x1730d1[_0x3cdb1f(0xfa)](_0x1076f9,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x1730d1[_0x3cdb1f(0xf7)](_0x3cdb1f(0xe9))[_0x3cdb1f(0x14b)](0x8),'prepareRow':(_0x2cd331,_0x3423a5,_0x4476bb,_0x59a90a)=>_0x1730d1[_0x3cdb1f(0xf7)](_0x3cdb1f(0xc4))[_0x3cdb1f(0x14b)](0x8)});var _0x3c90d3=_0x1730d1['y'],_0x9a12d0=_0x1730d1['x'];_0x1730d1[_0x3cdb1f(0x14b)](0xa)[_0x3cdb1f(0xe7)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x9a12d0+0x7d,_0x3c90d3),_0x1730d1[_0x3cdb1f(0x14b)](0xa)['text']('TOTAL\x20QTY:\x20',_0x9a12d0,_0x3c90d3+=0x12c),_0x1730d1['fontSize'](0xa)['text'](_0x31c559,_0x9a12d0+0xd7,_0x3c90d3,{'underline':!![]}),_0x1730d1['fontSize'](0xa)[_0x3cdb1f(0xe7)]('Checked\x20By:\x20',_0x9a12d0,_0x3c90d3+=0x32),_0x1730d1['fontSize'](0xa)[_0x3cdb1f(0xe7)](_0x3cdb1f(0x108),_0x9a12d0+0x3c,_0x3c90d3,{'underline':!![]}),_0x1730d1[_0x3cdb1f(0x14b)](0xa)[_0x3cdb1f(0xe7)](_0x3cdb1f(0x150),_0x9a12d0+0x3c,_0x3c90d3+0xc);let _0x29e1dc=_0x1730d1[_0x3cdb1f(0xa9)]();for(let _0x40bdcd=0x0;_0x40bdcd<_0x29e1dc[_0x3cdb1f(0xf4)];_0x40bdcd++){_0x1730d1[_0x3cdb1f(0x9a)](_0x40bdcd);let _0x2f86b7=_0x1730d1[_0x3cdb1f(0x101)][_0x3cdb1f(0x13c)]['bottom'];_0x1730d1[_0x3cdb1f(0x101)][_0x3cdb1f(0x13c)]['bottom']=0x0,_0x1730d1['text']('Page:\x20'+(_0x40bdcd+0x1)+_0x3cdb1f(0x112)+_0x29e1dc[_0x3cdb1f(0xf4)],0x0,_0x1730d1[_0x3cdb1f(0x101)]['height']-_0x2f86b7/0x2,{'align':_0x3cdb1f(0xdd)}),_0x1730d1[_0x3cdb1f(0x101)]['margins'][_0x3cdb1f(0x11c)]=_0x2f86b7;}const _0x98392c=_0x1730d1['y'],_0x1f16e0=_0x1730d1['x'];_0x1730d1[_0x3cdb1f(0x115)]();}catch(_0x43b188){console[_0x3cdb1f(0x147)](_0x43b188),_0x19e025['status'](0x1f4)[_0x3cdb1f(0xda)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get'](a0_0x293053(0x107),auth,async(_0x44147c,_0x444d03)=>{const _0x1757f1=a0_0x293053;try{const _0x505437=_0xc14416=>_0xc14416*0x48,_0x3d294a={'width':0x3,'height':0x1},_0x1fa286=await product[_0x1757f1(0xeb)](),_0x3cfadb=new PDFDocument({'margin':_0x505437(0.75),'size':[_0x505437(_0x3d294a[_0x1757f1(0xb0)]),_0x505437(_0x3d294a['height'])],'bufferPages':!![]}),_0x2994d3=_0x1fa286[_0x1757f1(0x14e)];for(let _0x3833b2=0x0;_0x3833b2<=_0x2994d3;_0x3833b2++){if(_0x3833b2!=_0x1fa286[_0x1757f1(0x14e)]){const _0x351f5f=_0x1fa286[_0x3833b2][_0x1757f1(0x15e)],_0x6a824d=_0x1fa286[_0x3833b2]['primary_code'],_0x461ffd=_0x1fa286[_0x3833b2][_0x1757f1(0x12e)],_0x448758=_0x1fa286[_0x3833b2]['product_code'],_0x5a00f4=new Canvas();JsBarcode(_0x5a00f4,_0x6a824d,{'format':_0x1757f1(0xfe),'height':0x32,'displayValue':!![],'text':_0x6a824d}),_0x3cfadb[_0x1757f1(0x105)](_0x5a00f4[_0x1757f1(0x10a)](),0x0,0x0,{'width':0xd2}),_0x3cfadb['addPage']();}}_0x3cfadb[_0x1757f1(0x148)](_0x444d03),_0x3cfadb[_0x1757f1(0x115)]();}catch(_0x2c01a9){console['error'](_0x1757f1(0xde),_0x2c01a9),_0x444d03[_0x1757f1(0x170)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),module[a0_0x293053(0xf9)]=router;