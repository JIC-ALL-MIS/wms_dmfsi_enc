const a0_0x300145=a0_0x1681;function a0_0x4c63(){const _0x3d0922=['date','UOM','maxperunit','PREPARED\x20BY\x20:\x20','PRODUCTION\x20DATE','FROZEN\x20GOODS','./public/upload/','From\x20Warehouse\x20','to_quantity','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','batchno','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','qty','findOne','iqty','width','suppliers','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','REF\x20MRIS#\x20','delivery_code','\x20\x20TO','Picked\x20By\x20\x20\x20\x20:\x20','Expiration\x20Date','expiry_date','image','maxPerUnit','Batch\x20No','\x20\x20\x20\x20\x20FROM','Bin\x20Location','Picked\x20By\x20\x20\x20:\x20','\x20:\x20','QUANTITY\x20ISSUED','product','rqty','Item\x20Description','bay','binlocFrom','count','DELIVERY\x20DATE','Check\x20By:\x20','express','1905102VBseJI','from_bin','type','en-US','from_warehouse','find','INVENTORY\x20ADJUSTMENT','delivery_date','standard_unit','findById','Customer\x20:\x20','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','itemdescription','margins','jsbarcode','CODE128','(STOCKS\x20TRANSFER)','product_code','center','floorlevel','(INCOMING)','requested_qty','application/pdf','height','warehouse_name','Finished\x20Good\x20Warehouse\x20Supervisor','lineCap','to_warehouse','/PDF/:id','prod_cat','Picked\x20By','1033182kLLODE','params','from_floorlevel','lineWidth','secondary_unit','lineTo','TOTAL\x20QTY\x20:\x20','adjust_qty','pipe','pdfkit-table','addPage','DRY\x20GOODS','product_name','moveTo','Delivery\x20Code','STOCKS\x20TRANSFER','setHeader','811980bWYrFL','../models/all_models','Production\x20Date','/barcode_generator/','invoice','fontSize','numeric','Helvetica','Picking\x20List','/PDF_transfer/:id','PICKING\x20LIST','\x20\x20\x20:\x20','get','Noted\x20By\x20','Control\x20Number\x20','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','page','bottom','/pdf_sales_return_fin/:id','itemcode','to_bay','Pick\x20By\x20:\x20','datas','font','blob-stream','Router','from_bay','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','repeat','to_floorlevel','Item\x20Code','forEach','Warehouse\x20','Page:\x20','MATERIAL\x20DESCRIPTION','/PDF_transfer_rm/:id','\x20\x20FROM','bin','return_sale_QA','(RETURN)','to_types','production_date','express/lib/response','523272kPiuvD','butt','binloc','length','Checked\x20By\x20','\x20row:\x20','customer','table','end','(INVENTORY\x20ADJUSTMENT)','sale_product','LOCATION','POnumber','status','inline;\x20filename=\x22','Check\x20By\x20\x20\x20\x20:\x20','../middleware/auth','/PDF_adjustment_rm/:id','user','expdate','(OUTGOING)','warehouse_cat','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','return_sale','.pdf\x22','ToWarehouse','secondary_code','Control\x20Number\x20:\x20','from_types','FTGS\x20Number\x20:\x20','Raw\x20Materials\x20Warehouse\x20Supervisor','proddate','log','DELIVERY\x20CODE','to_bin','primary_code','\x20\x20\x20\x20\x20TO','7QjcuCU','1cZJLbB','Content-disposition','Warehouse\x20:\x20','del_code','DELIVERY\x20RECEIPT','send','batch_code','Date\x20','push','161306EBfuNX','unit','undefined','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','EXPIRATION\x20DATE','short','To\x20Warehouse\x20','bufferedPageRange','\x20/\x20','Helvetica-Bold','4wTQjCj','22905SJOEWn','Date\x20:\x20','Picked\x20By\x20\x20\x20\x20\x20:\x20','inline;\x20filename=\x22OUT-','finalize','xlsx','../public/language/languages.json','quantity','\x20of\x20','/PDF_Sales/:id','switchToPage','new_adjust_qty','Quantity','Content-type','rack','del_date','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','return_qty','Checked\x20By:\x20','multer','Checked\x20By\x20\x20\x20:\x20','text','exports','storage','True','toLocaleDateString','toBuffer','ARMAN\x20CRUZ','ITEM\x20CODE','TOTAL\x20QTY:\x20','/PDF_adjustment/:id','509185heHWmS','email','exceljs'];a0_0x4c63=function(){return _0x3d0922;};return a0_0x4c63();}function a0_0x1681(_0x59eca2,_0x3d0e87){const _0x4c6397=a0_0x4c63();return a0_0x1681=function(_0x1681df,_0x23f8d5){_0x1681df=_0x1681df-0xa7;let _0x644ceb=_0x4c6397[_0x1681df];return _0x644ceb;},a0_0x1681(_0x59eca2,_0x3d0e87);}(function(_0x11c672,_0x498815){const _0x2e226e=a0_0x1681,_0xbe7371=_0x11c672();while(!![]){try{const _0x52bc70=-parseInt(_0x2e226e(0x146))/0x1*(parseInt(_0x2e226e(0x14f))/0x2)+-parseInt(_0x2e226e(0x15a))/0x3*(-parseInt(_0x2e226e(0x159))/0x4)+parseInt(_0x2e226e(0x179))/0x5+-parseInt(_0x2e226e(0xe4))/0x6*(-parseInt(_0x2e226e(0x145))/0x7)+parseInt(_0x2e226e(0x120))/0x8+-parseInt(_0x2e226e(0xc5))/0x9+parseInt(_0x2e226e(0xf5))/0xa;if(_0x52bc70===_0x498815)break;else _0xbe7371['push'](_0xbe7371['shift']());}catch(_0x2e086d){_0xbe7371['push'](_0xbe7371['shift']());}}}(a0_0x4c63,0x21309));const express=require(a0_0x300145(0xc4)),res=require(a0_0x300145(0x11f)),app=express(),router=express[a0_0x300145(0x10e)](),multer=require(a0_0x300145(0x16d)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x300145(0xf6)),auth=require(a0_0x300145(0x130)),users=require(a0_0x300145(0x160)),excelJS=require(a0_0x300145(0x17b)),xlsx=require(a0_0x300145(0x15f)),PDFDocument=require(a0_0x300145(0xed)),fs=require('fs'),blobStream=require(a0_0x300145(0x10d)),JsBarcode=require(a0_0x300145(0xd3)),{Canvas}=require('canvas');router[a0_0x300145(0x101)](a0_0x300145(0xe1),auth,async(_0xd8dce4,_0x577344)=>{const _0x4a466a=a0_0x300145;try{const {username:_0x4f8e3b,email:_0x205607,role:_0x4e316c}=_0xd8dce4[_0x4a466a(0x132)],_0x1ef95b=_0xd8dce4[_0x4a466a(0x132)],_0x3f184a=await profile[_0x4a466a(0xa9)]({'email':_0x1ef95b[_0x4a466a(0x17a)]}),_0x2b907c=await master_shop[_0x4a466a(0xca)](),_0x18a904=_0xd8dce4['params']['id'],_0x40fd34=await sales_finished[_0x4a466a(0xce)](_0x18a904);var _0x26cbce;_0x26cbce=_0x4a466a(0xff);_0x40fd34[_0x4a466a(0x15e)]==_0x4a466a(0x172)&&(_0x26cbce=_0x4a466a(0x14a));const _0x382cfa=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x577344['setHeader'](_0x4a466a(0x147),_0x4a466a(0x12e)+_0x40fd34[_0x4a466a(0xf9)]+_0x4a466a(0x138)),_0x577344[_0x4a466a(0xf4)](_0x4a466a(0x167),_0x4a466a(0xdb));var _0x2e175b=0x14,_0x48e7fe=0x3c;_0x382cfa[_0x4a466a(0xec)](_0x577344),_0x382cfa['image'](_0x4a466a(0x182)+_0x2b907c[0x0][_0x4a466a(0xb4)],0x14,0x0,{'fit':[0x64,0x64]}),_0x382cfa['fontSize'](0x14)['text']('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x2e175b,_0x48e7fe),_0x382cfa[_0x4a466a(0xfa)](0xa)['text'](_0x4a466a(0x16a),_0x2e175b,_0x48e7fe+=0xf),_0x382cfa[_0x4a466a(0xfa)](0xf)[_0x4a466a(0x16f)](_0x26cbce,_0x2e175b,_0x48e7fe+=0x32),_0x382cfa['fontSize'](0xa)[_0x4a466a(0x16f)]('(OUTGOING)',_0x2e175b,_0x48e7fe+=0x14),_0x382cfa[_0x4a466a(0xfa)](0x9)[_0x4a466a(0x16f)](_0x4a466a(0x115),_0x2e175b,_0x48e7fe+=0x28),_0x382cfa[_0x4a466a(0xfa)](0x9)['text'](_0x4a466a(0xba)+_0x40fd34['warehouse_name'],_0x2e175b+0x3f,_0x48e7fe),_0x382cfa[_0x4a466a(0xfa)](0x9)[_0x4a466a(0x16f)](_0x4a466a(0xcf)+_0x40fd34['customer'],_0x2e175b+0x17c,_0x48e7fe,{'underline':!![]}),_0x382cfa[_0x4a466a(0xfa)](0x9)[_0x4a466a(0x16f)](_0x4a466a(0x14d),_0x2e175b,_0x48e7fe+=0xb),_0x382cfa[_0x4a466a(0xfa)](0x9)[_0x4a466a(0x16f)](_0x4a466a(0xba)+_0x40fd34[_0x4a466a(0x17c)],_0x2e175b+0x3f,_0x48e7fe),_0x382cfa[_0x4a466a(0xfa)](0x9)[_0x4a466a(0x16f)](_0x4a466a(0x103),_0x2e175b,_0x48e7fe+=0xb),_0x382cfa[_0x4a466a(0xfa)](0x9)[_0x4a466a(0x16f)](_0x4a466a(0xba)+_0x40fd34[_0x4a466a(0xf9)],_0x2e175b+0x3f,_0x48e7fe);const _0x11802b={'headers':[{'label':_0x4a466a(0x113),'property':_0x4a466a(0x108),'width':0x3c,'renderer':null},{'label':_0x4a466a(0xbe),'property':_0x4a466a(0xd1),'width':0xa5,'renderer':null},{'label':_0x4a466a(0x166),'property':_0x4a466a(0xa8),'width':0x3c,'renderer':null},{'label':_0x4a466a(0x17d),'property':'unit','width':0x3c,'renderer':null},{'label':_0x4a466a(0xf7),'property':_0x4a466a(0x13f),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x4a466a(0x186),'width':0x3f,'renderer':null},{'label':_0x4a466a(0xb8),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x3d53bf=0x0;let _0x347324='';var _0x3e0efe=0x0;_0x40fd34[_0x4a466a(0xdd)]==_0x4a466a(0xef)?_0x347324='DG':_0x347324='FG';var _0x5d3203=0x0;_0x40fd34['sale_product']['forEach'](_0x289759=>{const _0x22f095=_0x4a466a;console[_0x22f095(0x140)](_0x289759);let _0x4f284f='';const _0x8f2e77=_0x289759[_0x22f095(0x161)];for(let _0x19dfd0=0x1;_0x19dfd0<=_0x8f2e77;_0x19dfd0++){_0x8f2e77==_0x19dfd0?_0x4f284f+=_0x289759['maxperunit']:_0x4f284f+=_0x289759[_0x22f095(0x17e)]+',',_0x3e0efe+=_0x289759[_0x22f095(0x17e)];}_0x4f284f+=_0x22f095(0x157)+_0x289759[_0x22f095(0xe8)];const _0x513326={'itemcode':_0x289759[_0x22f095(0xd6)],'itemdescription':_0x289759[_0x22f095(0xf0)],'qty':_0x289759['quantity'],'unit':_0x289759[_0x22f095(0x150)],'proddate':_0x289759[_0x22f095(0x11e)],'batchno':_0x289759[_0x22f095(0x14c)],'binloc':_0x347324+_0x289759[_0x22f095(0xbf)]};_0x3d53bf+=_0x289759[_0x22f095(0x161)],_0x5d3203+=0x1,_0x11802b['datas'][_0x22f095(0x14e)](_0x513326);}),_0x382cfa['table'](_0x11802b,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x382cfa['font'](_0x4a466a(0x158))[_0x4a466a(0xfa)](0x8),'prepareRow':(_0x41702a,_0x5a4c2d,_0xc58fe5,_0x18d4ab)=>_0x382cfa[_0x4a466a(0x10c)]('Helvetica')['fontSize'](0x8)});var _0x34c8ce=_0x382cfa['y'],_0x245e79=_0x382cfa['x'];_0x382cfa[_0x4a466a(0xfa)](0xa)[_0x4a466a(0x16f)](_0x4a466a(0x136),_0x245e79+0x7d,_0x34c8ce),console[_0x4a466a(0x140)]('x:\x20'+_0x245e79+'\x20y:\x20'+_0x34c8ce+_0x4a466a(0x125)+_0x5d3203);const _0x2e4e6b=_0x245e79*_0x5d3203;_0x382cfa[_0x4a466a(0xfa)](0xa)[_0x4a466a(0x16f)]('TOTAL\x20QTY:\x20',_0x245e79,_0x34c8ce+=0x15e-_0x2e4e6b),_0x382cfa['fontSize'](0xa)[_0x4a466a(0x16f)](_0x3d53bf,_0x245e79+0xdc,_0x34c8ce,{'underline':!![]}),_0x382cfa['fontSize'](0xa)[_0x4a466a(0x16f)](_0x4a466a(0xb9),_0x245e79,_0x34c8ce+=0x19),_0x382cfa[_0x4a466a(0xfa)](0xa)[_0x4a466a(0x16f)]('\x20'[_0x4a466a(0x111)](0x3c),_0x245e79+0x3e,_0x34c8ce,{'underline':!![]}),_0x382cfa['fontSize'](0xa)['text'](_0x4a466a(0x16c),_0x245e79,_0x34c8ce+=0x32),_0x382cfa[_0x4a466a(0xfa)](0xa)[_0x4a466a(0x16f)](_0x4a466a(0x185),_0x245e79+0x3c,_0x34c8ce,{'underline':!![]}),_0x382cfa[_0x4a466a(0xfa)](0xa)[_0x4a466a(0x16f)](_0x4a466a(0xde),_0x245e79+0x3c,_0x34c8ce+0xc);let _0xd1b7a=_0x382cfa[_0x4a466a(0x156)]();for(let _0x10d1ec=0x0;_0x10d1ec<_0xd1b7a[_0x4a466a(0xc1)];_0x10d1ec++){_0x382cfa['switchToPage'](_0x10d1ec);let _0x12d81b=_0x382cfa[_0x4a466a(0x105)][_0x4a466a(0xd2)][_0x4a466a(0x106)];_0x382cfa['page'][_0x4a466a(0xd2)][_0x4a466a(0x106)]=0x0,_0x382cfa[_0x4a466a(0x16f)](_0x4a466a(0x116)+(_0x10d1ec+0x1)+_0x4a466a(0x162)+_0xd1b7a[_0x4a466a(0xc1)],0x0,_0x382cfa[_0x4a466a(0x105)][_0x4a466a(0xdc)]-_0x12d81b/0x2,{'align':_0x4a466a(0xd7)}),_0x382cfa[_0x4a466a(0x105)]['margins'][_0x4a466a(0x106)]=_0x12d81b;}const _0x447370=_0x382cfa['y'],_0x5ec1b7=_0x382cfa['x'];_0x382cfa[_0x4a466a(0x128)]();}catch(_0x5275ef){console[_0x4a466a(0x140)](_0x5275ef),_0x577344[_0x4a466a(0x12d)](0x1f4)[_0x4a466a(0x14b)](_0x4a466a(0x104));}}),router[a0_0x300145(0x101)](a0_0x300145(0xfe),auth,async(_0x5b7e59,_0x57b42d)=>{const _0x5b1159=a0_0x300145;try{const {username:_0x4a503a,email:_0xd3c81b,role:_0x698ba8}=_0x5b7e59[_0x5b1159(0x132)],_0xda1378=_0x5b7e59['user'],_0x3f49a5=await profile[_0x5b1159(0xa9)]({'email':_0xda1378[_0x5b1159(0x17a)]}),_0x564933=await master_shop[_0x5b1159(0xca)](),_0x32662d=_0x5b7e59[_0x5b1159(0xe5)]['id'],_0x490765=await transfers_finished['findById'](_0x32662d);var _0x1426bc,_0x1fd814;_0x1426bc='Picking\x20List',_0x1fd814='(STOCKS\x20TRANSFER)';_0x490765[_0x5b1159(0x15e)]==_0x5b1159(0x172)&&(_0x1426bc=_0x5b1159(0xf3),_0x1fd814='');const _0x4b7e86=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x57b42d[_0x5b1159(0xf4)](_0x5b1159(0x147),'inline;\x20filename=\x22OUT-'+_0x32662d+'.pdf\x22'),_0x57b42d[_0x5b1159(0xf4)]('Content-type',_0x5b1159(0xdb));var _0x57e54d=0x14,_0x84d4e6=0x3c;_0x4b7e86[_0x5b1159(0xec)](_0x57b42d),_0x4b7e86['image']('./public/upload/'+_0x564933[0x0][_0x5b1159(0xb4)],0x14,0x0,{'fit':[0x64,0x64]}),_0x4b7e86[_0x5b1159(0xfa)](0x14)[_0x5b1159(0x16f)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x57e54d,_0x84d4e6),_0x4b7e86['fontSize'](0xa)['text'](_0x5b1159(0x16a),_0x57e54d,_0x84d4e6+=0xf),_0x4b7e86[_0x5b1159(0xfa)](0xf)[_0x5b1159(0x16f)](_0x1426bc,_0x57e54d,_0x84d4e6+=0x32),_0x4b7e86[_0x5b1159(0xfa)](0xa)['text'](_0x1fd814,_0x57e54d,_0x84d4e6+=0x14),_0x4b7e86['fontSize'](0x9)[_0x5b1159(0x16f)](_0x5b1159(0x183),_0x57e54d,_0x84d4e6+=0x28),_0x4b7e86[_0x5b1159(0xfa)](0x9)[_0x5b1159(0x16f)](_0x5b1159(0x100)+_0x490765['from_warehouse'],_0x57e54d+0x3f,_0x84d4e6),_0x4b7e86['fontSize'](0x9)[_0x5b1159(0x16f)](_0x5b1159(0x155),_0x57e54d,_0x84d4e6+=0xf),_0x4b7e86['fontSize'](0x9)[_0x5b1159(0x16f)](_0x5b1159(0x100)+_0x490765['to_warehouse'],_0x57e54d+0x3f,_0x84d4e6),_0x4b7e86[_0x5b1159(0xfa)](0x9)[_0x5b1159(0x16f)]('Date\x20',_0x57e54d,_0x84d4e6+=0xb),_0x4b7e86[_0x5b1159(0xfa)](0x9)[_0x5b1159(0x16f)](_0x5b1159(0x100)+_0x490765[_0x5b1159(0x17c)],_0x57e54d+0x3f,_0x84d4e6),_0x4b7e86[_0x5b1159(0xfa)](0x9)['text'](_0x5b1159(0x103),_0x57e54d,_0x84d4e6+=0xb),_0x4b7e86[_0x5b1159(0xfa)](0x9)[_0x5b1159(0x16f)]('\x20\x20\x20:\x20'+_0x490765[_0x5b1159(0xf9)],_0x57e54d+0x3f,_0x84d4e6);const _0x17acfd={'headers':[{'label':'','property':_0x5b1159(0x108),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x5b1159(0x119),'property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x5b1159(0xb0),'property':_0x5b1159(0xd1),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x4b7e86['table'](_0x17acfd,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x4b7e86[_0x5b1159(0x10c)](_0x5b1159(0x158))[_0x5b1159(0xfa)](0x8),'prepareRow':(_0x255fe2,_0x819859,_0x552da9,_0x3f2e51)=>_0x4b7e86['font'](_0x5b1159(0xfc))[_0x5b1159(0xfa)](0x8)});const _0x2417a0={'headers':[{'label':'Item\x20Code','property':_0x5b1159(0x108),'width':0x3c,'renderer':null},{'label':_0x5b1159(0xbe),'property':_0x5b1159(0xd1),'width':0x96,'renderer':null},{'label':_0x5b1159(0x166),'property':_0x5b1159(0xa8),'width':0x28,'renderer':null},{'label':_0x5b1159(0x17d),'property':'unit','width':0x37,'renderer':null},{'label':_0x5b1159(0xf7),'property':_0x5b1159(0x13f),'width':0x4b,'renderer':null},{'label':_0x5b1159(0xb6),'property':_0x5b1159(0x186),'width':0x3f,'renderer':null},{'label':_0x5b1159(0xb8),'property':_0x5b1159(0xc0),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x5b1159(0x122),'width':0x3f,'renderer':null}],'datas':[]};var _0x38b660=0x0;let _0x3d2e3b='';var _0xa78179=0x0;if(_0x490765[_0x5b1159(0xc9)]==_0x5b1159(0xef))_0x3d2e3b='DG';else _0x490765[_0x5b1159(0xc9)]==_0x5b1159(0x181)&&(_0x3d2e3b='FG');_0x490765[_0x5b1159(0xbc)][_0x5b1159(0x114)](_0x2844a6=>{const _0x5c502f=_0x5b1159;var _0xfaa981=_0x2844a6['prod_cat'],_0x3e54a1,_0x2a1ea3;_0x3e54a1=_0x2844a6[_0x5c502f(0x150)],_0x2a1ea3=_0x2844a6[_0x5c502f(0x184)];_0xfaa981=='S'&&(_0x3e54a1=_0x2844a6[_0x5c502f(0xe8)],_0x2a1ea3=_0x2844a6['to_quantity']*_0x2844a6[_0x5c502f(0xb5)]);const _0x1d4b21={'itemcode':_0x2844a6['product_code'],'itemdescription':_0x2844a6[_0x5c502f(0xf0)],'qty':_0x2a1ea3,'unit':_0x3e54a1,'proddate':_0x2844a6['production_date'],'batchno':_0x2844a6[_0x5c502f(0x14c)],'binloc':_0x3d2e3b+_0x2844a6[_0x5c502f(0x109)],'qtyFrom':_0x2844a6['from_quantity'],'binlocFrom':_0x3d2e3b+_0x2844a6[_0x5c502f(0x10f)]};_0x38b660+=_0x2a1ea3,_0x2417a0[_0x5c502f(0x10b)][_0x5c502f(0x14e)](_0x1d4b21);}),_0x4b7e86[_0x5b1159(0x127)](_0x2417a0,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x4b7e86[_0x5b1159(0x10c)](_0x5b1159(0x158))[_0x5b1159(0xfa)](0x8),'prepareRow':(_0x43ab1b,_0x3f6d28,_0x371da7,_0x5aa9be)=>_0x4b7e86['font'](_0x5b1159(0xfc))['fontSize'](0x8)});var _0xca5c30=_0x4b7e86['y'],_0x35e97c=_0x4b7e86['x'];_0x4b7e86[_0x5b1159(0xfa)](0xa)[_0x5b1159(0x16f)](_0x5b1159(0x136),_0x35e97c+0x7d,_0xca5c30),_0x4b7e86[_0x5b1159(0xfa)](0xa)['text']('TOTAL\x20QTY:\x20',_0x35e97c,_0xca5c30+=0x15e),_0x4b7e86['fontSize'](0xa)[_0x5b1159(0x16f)](_0x38b660,_0x35e97c+0xd7,_0xca5c30,{'underline':!![]}),_0x4b7e86[_0x5b1159(0xfa)](0xa)['text']('Picked\x20By\x20\x20\x20:\x20',_0x35e97c,_0xca5c30+=0x19),_0x4b7e86['fontSize'](0xa)[_0x5b1159(0x16f)]('\x20'[_0x5b1159(0x111)](0x3c),_0x35e97c+0x3e,_0xca5c30,{'underline':!![]}),_0x4b7e86[_0x5b1159(0xfa)](0xa)[_0x5b1159(0x16f)](_0x5b1159(0x16c),_0x35e97c,_0xca5c30+=0x32),_0x4b7e86[_0x5b1159(0xfa)](0xa)[_0x5b1159(0x16f)](_0x5b1159(0x185),_0x35e97c+0x3c,_0xca5c30,{'underline':!![]}),_0x4b7e86[_0x5b1159(0xfa)](0xa)[_0x5b1159(0x16f)](_0x5b1159(0xde),_0x35e97c+0x3c,_0xca5c30+0xc);let _0x47ee99=_0x4b7e86[_0x5b1159(0x156)]();for(let _0x20ee5d=0x0;_0x20ee5d<_0x47ee99[_0x5b1159(0xc1)];_0x20ee5d++){_0x4b7e86[_0x5b1159(0x164)](_0x20ee5d);let _0x304548=_0x4b7e86[_0x5b1159(0x105)][_0x5b1159(0xd2)]['bottom'];_0x4b7e86['page']['margins'][_0x5b1159(0x106)]=0x0,_0x4b7e86[_0x5b1159(0x16f)](_0x5b1159(0x116)+(_0x20ee5d+0x1)+_0x5b1159(0x162)+_0x47ee99[_0x5b1159(0xc1)],0x0,_0x4b7e86[_0x5b1159(0x105)][_0x5b1159(0xdc)]-_0x304548/0x2,{'align':_0x5b1159(0xd7)}),_0x4b7e86[_0x5b1159(0x105)][_0x5b1159(0xd2)]['bottom']=_0x304548;}const _0x221f52=_0x4b7e86['y'],_0x3d26df=_0x4b7e86['x'];_0x4b7e86[_0x5b1159(0x128)]();}catch(_0x4b55b6){console[_0x5b1159(0x140)](_0x4b55b6),_0x57b42d[_0x5b1159(0x12d)](0x1f4)[_0x5b1159(0x14b)](_0x5b1159(0x104));}}),router[a0_0x300145(0x101)](a0_0x300145(0x178),auth,async(_0xd76b95,_0x5eb271)=>{const _0x524dde=a0_0x300145;try{const {username:_0x523eac,email:_0x508315,role:_0x5c705f}=_0xd76b95['user'],_0x422a4c=_0xd76b95['user'],_0xfc85cd=await profile[_0x524dde(0xa9)]({'email':_0x422a4c['email']}),_0x101864=await master_shop[_0x524dde(0xca)](),_0x1ddf97=_0xd76b95[_0x524dde(0xe5)]['id'],_0xaf6555=await adjustment_finished[_0x524dde(0xce)](_0x1ddf97);var _0x5cf911,_0x465818;_0x5cf911='PICKING\x20LIST',_0x465818='(INVENTORY\x20ADJUSTMENT)';_0xaf6555[_0x524dde(0x15e)]=='True'&&(_0x5cf911=_0x524dde(0xcb),_0x465818='');const _0x16df5b=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5eb271[_0x524dde(0xf4)](_0x524dde(0x147),_0x524dde(0x15d)+_0x1ddf97+_0x524dde(0x138)),_0x5eb271[_0x524dde(0xf4)](_0x524dde(0x167),_0x524dde(0xdb));var _0x5711f9=0x14,_0x58afe3=0x3c;_0x16df5b['pipe'](_0x5eb271),_0x16df5b[_0x524dde(0xb4)]('./public/upload/'+_0x101864[0x0][_0x524dde(0xb4)],0x14,0x0,{'fit':[0x64,0x64]}),_0x16df5b[_0x524dde(0xfa)](0x14)[_0x524dde(0x16f)](_0x524dde(0x152),_0x5711f9,_0x58afe3),_0x16df5b[_0x524dde(0xfa)](0xa)[_0x524dde(0x16f)](_0x524dde(0x16a),_0x5711f9,_0x58afe3+=0xf),_0x16df5b[_0x524dde(0xfa)](0xf)['text'](_0x5cf911,_0x5711f9,_0x58afe3+=0x32),_0x16df5b[_0x524dde(0xfa)](0xa)[_0x524dde(0x16f)](_0x465818,_0x5711f9,_0x58afe3+=0x14),_0x16df5b['fontSize'](0x9)[_0x524dde(0x16f)](_0x524dde(0x115),_0x5711f9,_0x58afe3+=0x28),_0x16df5b[_0x524dde(0xfa)](0x9)['text']('\x20:\x20'+_0xaf6555['warehouse_name'],_0x5711f9+0x3f,_0x58afe3),_0x16df5b[_0x524dde(0xfa)](0x9)[_0x524dde(0x16f)](_0x524dde(0x14d),_0x5711f9,_0x58afe3+=0xb),_0x16df5b['fontSize'](0x9)[_0x524dde(0x16f)](_0x524dde(0xba)+_0xaf6555[_0x524dde(0x17c)],_0x5711f9+0x3f,_0x58afe3),_0x16df5b['fontSize'](0x9)[_0x524dde(0x16f)](_0x524dde(0x103),_0x5711f9,_0x58afe3+=0xb),_0x16df5b[_0x524dde(0xfa)](0x9)[_0x524dde(0x16f)](_0x524dde(0xba)+_0xaf6555[_0x524dde(0xf9)],_0x5711f9+0x3f,_0x58afe3);const _0x59d694={'headers':[{'label':_0x524dde(0x113),'property':_0x524dde(0x108),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x524dde(0xd1),'width':0x96,'renderer':null},{'label':_0x524dde(0x166),'property':_0x524dde(0xa8),'width':0x3c,'renderer':null},{'label':_0x524dde(0x17d),'property':'unit','width':0x3c,'renderer':null},{'label':_0x524dde(0xf7),'property':_0x524dde(0x13f),'width':0x50,'renderer':null},{'label':_0x524dde(0xb6),'property':_0x524dde(0x186),'width':0x3f,'renderer':null},{'label':_0x524dde(0xb8),'property':_0x524dde(0x122),'width':0x3f,'renderer':null}],'datas':[]};var _0x460fc4=0x0;let _0x5aaa6d='';var _0x445e08=0x0;_0xaf6555[_0x524dde(0xdd)]==_0x524dde(0xef)?_0x5aaa6d='DG':_0x5aaa6d='FG';_0xaf6555[_0x524dde(0xbc)][_0x524dde(0x114)](_0x269dd6=>{const _0x15cdf9=_0x524dde;console[_0x15cdf9(0x140)](_0x269dd6);var _0x5e607a=_0x269dd6['prod_cat'],_0x323a70,_0x15da57;_0x323a70=_0x269dd6[_0x15cdf9(0x150)],_0x15da57=_0x269dd6[_0x15cdf9(0xeb)];_0x5e607a=='S'&&(_0x323a70=_0x269dd6[_0x15cdf9(0xe8)],_0x15da57=_0x269dd6[_0x15cdf9(0xeb)]*_0x269dd6[_0x15cdf9(0xb5)]);const _0x70618f={'itemcode':_0x269dd6[_0x15cdf9(0xd6)],'itemdescription':_0x269dd6[_0x15cdf9(0xf0)],'qty':_0x15da57,'unit':_0x323a70,'proddate':_0x269dd6[_0x15cdf9(0x11e)],'batchno':_0x269dd6[_0x15cdf9(0x14c)],'binloc':_0x5aaa6d+_0x269dd6[_0x15cdf9(0xbf)]};_0x460fc4+=_0x15da57,_0x59d694[_0x15cdf9(0x10b)][_0x15cdf9(0x14e)](_0x70618f);}),_0x16df5b[_0x524dde(0x127)](_0x59d694,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x16df5b['font'](_0x524dde(0x158))[_0x524dde(0xfa)](0x8),'prepareRow':(_0x38b776,_0x12e81a,_0x4b8c5a,_0x266af0)=>_0x16df5b[_0x524dde(0x10c)]('Helvetica')['fontSize'](0x8)});var _0x5322ef=_0x16df5b['y'],_0x2c7473=_0x16df5b['x'];_0x16df5b[_0x524dde(0xfa)](0xa)[_0x524dde(0x16f)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x2c7473+0x7d,_0x5322ef),_0x16df5b[_0x524dde(0xfa)](0xa)[_0x524dde(0x16f)](_0x524dde(0xea),_0x2c7473,_0x5322ef+=0x15e),_0x16df5b['fontSize'](0xa)['text'](_0x460fc4,_0x2c7473+0xc8,_0x5322ef),_0x16df5b[_0x524dde(0xfa)](0xa)[_0x524dde(0x16f)](_0x524dde(0xb9),_0x2c7473,_0x5322ef+=0x19),_0x16df5b[_0x524dde(0xfa)](0xa)['text']('\x20'[_0x524dde(0x111)](0x3c),_0x2c7473+0x3e,_0x5322ef,{'underline':!![]}),_0x16df5b['fontSize'](0xa)['text'](_0x524dde(0x124),_0x2c7473,_0x5322ef+=0x32),_0x16df5b[_0x524dde(0xfa)](0xa)[_0x524dde(0x16f)](_0x524dde(0xba),_0x2c7473+0x37,_0x5322ef),_0x16df5b['fontSize'](0xa)['text'](_0x524dde(0x185),_0x2c7473+0x3c,_0x5322ef,{'underline':!![]}),_0x16df5b[_0x524dde(0xfa)](0xa)['text'](_0x524dde(0xde),_0x2c7473+0x3c,_0x5322ef+0xc);let _0x568e18=_0x16df5b[_0x524dde(0x156)]();for(let _0x234fe4=0x0;_0x234fe4<_0x568e18[_0x524dde(0xc1)];_0x234fe4++){_0x16df5b[_0x524dde(0x164)](_0x234fe4);let _0x5e5792=_0x16df5b[_0x524dde(0x105)][_0x524dde(0xd2)][_0x524dde(0x106)];_0x16df5b[_0x524dde(0x105)][_0x524dde(0xd2)][_0x524dde(0x106)]=0x0,_0x16df5b[_0x524dde(0x16f)](_0x524dde(0x116)+(_0x234fe4+0x1)+_0x524dde(0x162)+_0x568e18[_0x524dde(0xc1)],0x0,_0x16df5b['page']['height']-_0x5e5792/0x2,{'align':_0x524dde(0xd7)}),_0x16df5b[_0x524dde(0x105)][_0x524dde(0xd2)][_0x524dde(0x106)]=_0x5e5792;}const _0x19e85a=_0x16df5b['y'],_0x4df75d=_0x16df5b['x'];_0x16df5b['end']();}catch(_0x24ae8b){console[_0x524dde(0x140)](_0x24ae8b),_0x5eb271[_0x524dde(0x12d)](0x1f4)[_0x524dde(0x14b)](_0x524dde(0x104));}}),router['get']('/pdf_puchases_fin/:id',auth,async(_0x4f5a06,_0x97e1a1)=>{const _0x29a081=a0_0x300145;try{const {username:_0xfa7a62,email:_0x143e1a,role:_0x25ecff}=_0x4f5a06['user'],_0xfca9c0=_0x4f5a06[_0x29a081(0x132)],_0x51a141=await profile[_0x29a081(0xa9)]({'email':_0xfca9c0['email']}),_0x2e6fa3=await master_shop[_0x29a081(0xca)](),_0x1112ca=_0x4f5a06[_0x29a081(0xe5)]['id'],_0x30bbde=await purchases_finished['findById'](_0x1112ca),_0x2813be=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x97e1a1[_0x29a081(0xf4)](_0x29a081(0x147),_0x29a081(0x15d)+_0x1112ca+_0x29a081(0x138)),_0x97e1a1['setHeader'](_0x29a081(0x167),_0x29a081(0xdb));var _0x299b53=0x14,_0x4cf7f1=0x3c;_0x2813be[_0x29a081(0xec)](_0x97e1a1),_0x2813be['image'](_0x29a081(0x182)+_0x2e6fa3[0x0][_0x29a081(0xb4)],0x14,0x0,{'fit':[0x64,0x64]}),_0x2813be['fontSize'](0x14)['text'](_0x29a081(0x152),_0x299b53,_0x4cf7f1),_0x2813be[_0x29a081(0xfa)](0xa)[_0x29a081(0x16f)](_0x29a081(0x16a),_0x299b53,_0x4cf7f1+=0xf),_0x2813be['fontSize'](0xf)[_0x29a081(0x16f)](_0x29a081(0xd0),_0x299b53,_0x4cf7f1+=0x32),_0x2813be[_0x29a081(0xfa)](0xa)[_0x29a081(0x16f)](_0x29a081(0xd9),_0x299b53,_0x4cf7f1+=0x14),_0x2813be[_0x29a081(0xfa)](0x9)[_0x29a081(0x16f)](_0x29a081(0x115),_0x299b53,_0x4cf7f1+=0x28),_0x2813be[_0x29a081(0xfa)](0x9)[_0x29a081(0x16f)](_0x29a081(0xba)+_0x30bbde[_0x29a081(0xdd)],_0x299b53+0x3f,_0x4cf7f1),_0x2813be[_0x29a081(0xfa)](0x9)[_0x29a081(0x16f)](_0x29a081(0x13d)+_0x30bbde[_0x29a081(0x12c)],_0x299b53+0x17c,_0x4cf7f1),_0x2813be[_0x29a081(0xfa)](0x9)[_0x29a081(0x16f)](_0x29a081(0x14d),_0x299b53,_0x4cf7f1+=0xb),_0x2813be['fontSize'](0x9)['text']('\x20:\x20'+_0x30bbde['date'],_0x299b53+0x3f,_0x4cf7f1),_0x2813be[_0x29a081(0xfa)](0x9)[_0x29a081(0x16f)](_0x29a081(0x103),_0x299b53,_0x4cf7f1+=0xb),_0x2813be[_0x29a081(0xfa)](0x9)[_0x29a081(0x16f)]('\x20:\x20'+_0x30bbde[_0x29a081(0xf9)],_0x299b53+0x3f,_0x4cf7f1);const _0x277f80={'headers':[{'label':'Item\x20Code','property':_0x29a081(0x108),'width':0x3c,'renderer':null},{'label':_0x29a081(0xbe),'property':'itemdescription','width':0xc8,'renderer':null},{'label':_0x29a081(0x166),'property':_0x29a081(0xa8),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x29a081(0x150),'width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':'expdate','width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x29a081(0x186),'width':0x3f,'renderer':null},{'label':_0x29a081(0xb8),'property':_0x29a081(0x122),'width':0x3f,'renderer':null}],'datas':[]};var _0x16309e=0x0;let _0x4f11b8='';_0x30bbde[_0x29a081(0xdd)]==_0x29a081(0xef)?_0x4f11b8='DG':_0x4f11b8='FG';_0x30bbde[_0x29a081(0xbc)][_0x29a081(0x114)](_0x4eb83d=>{const _0x58dbfd=_0x29a081;let _0x3e4694='';var _0x3b07df=0x0;const _0x2701fb={'itemcode':_0x4eb83d[_0x58dbfd(0xd6)],'itemdescription':_0x4eb83d[_0x58dbfd(0xf0)],'qty':_0x4eb83d[_0x58dbfd(0x161)],'unit':_0x4eb83d['standard_unit'],'expdate':_0x4eb83d[_0x58dbfd(0xb3)],'batchno':_0x4eb83d[_0x58dbfd(0x14c)],'binloc':_0x4f11b8+_0x4eb83d['bay']};_0x16309e+=_0x4eb83d['quantity'],_0x277f80[_0x58dbfd(0x10b)][_0x58dbfd(0x14e)](_0x2701fb);}),_0x2813be[_0x29a081(0x127)](_0x277f80,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x2813be[_0x29a081(0x10c)](_0x29a081(0x158))[_0x29a081(0xfa)](0x8),'prepareRow':(_0x55852e,_0x30cc12,_0x4ec0e9,_0x1b381b)=>_0x2813be[_0x29a081(0x10c)](_0x29a081(0xfc))[_0x29a081(0xfa)](0x8)});var _0x5ce8ea=_0x2813be['y'],_0x3ed383=_0x2813be['x'];_0x2813be['fontSize'](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x3ed383+0x7d,_0x5ce8ea),_0x2813be[_0x29a081(0xfa)](0xa)['text'](_0x29a081(0x177),_0x3ed383,_0x5ce8ea+=0x15e),_0x2813be['fontSize'](0xa)[_0x29a081(0x16f)](_0x16309e,_0x3ed383+0xfa,_0x5ce8ea),_0x2813be[_0x29a081(0xfa)](0xa)[_0x29a081(0x16f)](_0x29a081(0xb1),_0x3ed383,_0x5ce8ea+=0x19),_0x2813be['fontSize'](0xa)[_0x29a081(0x16f)](_0x29a081(0xad),_0x3ed383+0x37,_0x5ce8ea,{'underline':!![]}),_0x2813be[_0x29a081(0xfa)](0xa)[_0x29a081(0x16f)](_0x29a081(0x12f),_0x3ed383,_0x5ce8ea+0x32),_0x2813be[_0x29a081(0xfa)](0xa)[_0x29a081(0x16f)](_0x29a081(0x185),_0x3ed383+0x32,_0x5ce8ea+0x32,{'underline':!![]}),_0x2813be[_0x29a081(0xfa)](0xa)[_0x29a081(0x16f)](_0x29a081(0xde),_0x3ed383+0x32,_0x5ce8ea+0x3c);let _0x11aa89=_0x2813be[_0x29a081(0x156)]();for(let _0x340441=0x0;_0x340441<_0x11aa89[_0x29a081(0xc1)];_0x340441++){_0x2813be[_0x29a081(0x164)](_0x340441);let _0x301f4d=_0x2813be[_0x29a081(0x105)]['margins'][_0x29a081(0x106)];_0x2813be[_0x29a081(0x105)][_0x29a081(0xd2)][_0x29a081(0x106)]=0x0,_0x2813be[_0x29a081(0x16f)](_0x29a081(0x116)+(_0x340441+0x1)+'\x20of\x20'+_0x11aa89[_0x29a081(0xc1)],0x0,_0x2813be['page'][_0x29a081(0xdc)]-_0x301f4d/0x2,{'align':_0x29a081(0xd7)}),_0x2813be[_0x29a081(0x105)][_0x29a081(0xd2)][_0x29a081(0x106)]=_0x301f4d;}const _0x28f1ac=_0x2813be['y'],_0xf46724=_0x2813be['x'];_0x2813be[_0x29a081(0x128)]();}catch(_0x58b103){console[_0x29a081(0x140)](_0x58b103),_0x97e1a1[_0x29a081(0x12d)](0x1f4)['send'](_0x29a081(0x104));}}),router['get'](a0_0x300145(0x107),auth,async(_0x1b19ef,_0x4aeff7)=>{const _0x304268=a0_0x300145;try{const {username:_0x39b75e,email:_0xff0547,role:_0x5942a0}=_0x1b19ef[_0x304268(0x132)],_0x327745=_0x1b19ef[_0x304268(0x132)],_0x135be9=await profile[_0x304268(0xa9)]({'email':_0x327745['email']}),_0x2b4ac7=await master_shop['find'](),_0x1e4d7d=_0x1b19ef[_0x304268(0xe5)]['id'],_0x9298ed=await sales_return_finished[_0x304268(0xce)](_0x1e4d7d),_0x391bed=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4aeff7[_0x304268(0xf4)](_0x304268(0x147),'inline;\x20filename=\x22OUT-'+_0x1e4d7d+_0x304268(0x138)),_0x4aeff7[_0x304268(0xf4)](_0x304268(0x167),'application/pdf');var _0x3081bf=0x14,_0x4b3961=0x64;_0x391bed[_0x304268(0xec)](_0x4aeff7),_0x391bed[_0x304268(0xb4)]('./public/upload/'+_0x2b4ac7[0x0][_0x304268(0xb4)],0x14,0x0,{'fit':[0x64,0x64]}),_0x391bed[_0x304268(0xfa)](0x14)[_0x304268(0x16f)](_0x304268(0x152),_0x3081bf,_0x4b3961),_0x391bed[_0x304268(0xfa)](0xa)['text']('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x3081bf,_0x4b3961+=0xf),_0x391bed['fontSize'](0xf)['text']('PICKING\x20LIST',_0x3081bf,_0x4b3961+=0x32),_0x391bed[_0x304268(0xfa)](0xa)[_0x304268(0x16f)](_0x304268(0x11c),_0x3081bf,_0x4b3961+=0x1e),_0x391bed[_0x304268(0xfa)](0x9)[_0x304268(0x16f)](_0x304268(0x148)+_0x9298ed[_0x304268(0x139)],_0x3081bf,_0x4b3961+=0x28),_0x391bed[_0x304268(0xfa)](0x9)[_0x304268(0x16f)](_0x304268(0xcf)+_0x9298ed[_0x304268(0x126)],0x190,0xd2,{'underline':!![]}),_0x391bed[_0x304268(0xfa)](0x9)['text'](_0x304268(0x10a),_0x3081bf,_0x4b3961+=0xb),_0x391bed['fontSize'](0x9)[_0x304268(0x16f)](_0x304268(0x15b)+_0x9298ed[_0x304268(0x17c)],_0x3081bf,_0x4b3961+=0xb),_0x391bed[_0x304268(0xfa)](0x9)[_0x304268(0x16f)](_0x304268(0x13b)+_0x9298ed['invoice'],_0x3081bf,_0x4b3961+=0xb);var _0x3699be='',_0x30a5fa='',_0x3689e4=0x0,_0x317bf7;console['log'](_0x9298ed[_0x304268(0x135)]);_0x9298ed[_0x304268(0x135)]=='GS'?(_0x9298ed['warehouse_name']==_0x304268(0xef)?warecode='DG':warecode='FG',_0x3699be={'headers':[{'label':'Item\x20Code','property':'itemcode','width':0x3c,'renderer':null},{'label':_0x304268(0xbe),'property':_0x304268(0xd1),'width':0xc8,'renderer':null},{'label':_0x304268(0x166),'property':_0x304268(0xa8),'width':0x3c,'renderer':null},{'label':_0x304268(0x17d),'property':_0x304268(0x150),'width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':'expdate','width':0x50,'renderer':null},{'label':_0x304268(0xb6),'property':_0x304268(0x186),'width':0x3f,'renderer':null},{'label':_0x304268(0xb8),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]},_0x9298ed[_0x304268(0x137)][_0x304268(0x114)](_0x44d7cb=>{const _0x264986=_0x304268;let _0x436b5c='';var _0x11b8c7=0x0;_0x30a5fa={'itemcode':_0x44d7cb['product_code'],'itemdescription':_0x44d7cb[_0x264986(0xf0)],'qty':_0x44d7cb['return_qty'],'unit':_0x44d7cb[_0x264986(0x150)],'expdate':_0x44d7cb[_0x264986(0xb3)],'batchno':_0x44d7cb[_0x264986(0x14c)],'binloc':warecode+_0x44d7cb['bay']},_0x3689e4+=_0x44d7cb[_0x264986(0x16b)],console[_0x264986(0x140)](_0x44d7cb),_0x3699be[_0x264986(0x10b)][_0x264986(0x14e)](_0x30a5fa);})):(_0x3699be={'headers':[{'label':_0x304268(0x113),'property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x304268(0xd1),'width':0xc8,'renderer':null},{'label':_0x304268(0x166),'property':_0x304268(0xa8),'width':0x3c,'renderer':null},{'label':_0x304268(0x17d),'property':_0x304268(0x150),'width':0x3c,'renderer':null},{'label':_0x304268(0xb2),'property':_0x304268(0x133),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x304268(0x186),'width':0x3f,'renderer':null}],'datas':[]},_0x9298ed[_0x304268(0x11b)][_0x304268(0x114)](_0x544012=>{const _0x1c4fb8=_0x304268;let _0x50b3bd='';var _0x3a09ba=0x0;_0x30a5fa={'itemcode':_0x544012['product_code'],'itemdescription':_0x544012[_0x1c4fb8(0xf0)],'qty':_0x544012[_0x1c4fb8(0x16b)],'unit':_0x544012[_0x1c4fb8(0x150)],'expdate':_0x544012[_0x1c4fb8(0xb3)],'batchno':_0x544012[_0x1c4fb8(0x14c)]},_0x3689e4+=_0x544012[_0x1c4fb8(0x16b)],console[_0x1c4fb8(0x140)](_0x3689e4+'\x20<>\x20'+_0x544012['return_qty']),_0x3699be[_0x1c4fb8(0x10b)][_0x1c4fb8(0x14e)](_0x30a5fa);}));_0x391bed[_0x304268(0x127)](_0x3699be,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x391bed[_0x304268(0x10c)](_0x304268(0x158))[_0x304268(0xfa)](0x8),'prepareRow':(_0x425ec1,_0x5415de,_0x23ac36,_0x1dccdb)=>_0x391bed[_0x304268(0x10c)](_0x304268(0xfc))['fontSize'](0x8)});var _0x4e5b9a=_0x391bed['y'],_0x4c171d=_0x391bed['x'];_0x391bed[_0x304268(0xfa)](0xa)[_0x304268(0x16f)](_0x304268(0x136),_0x4c171d+0x7d,_0x4e5b9a),_0x391bed[_0x304268(0xfa)](0xa)[_0x304268(0x16f)]('TOTAL\x20QTY:\x20',_0x4c171d,_0x4e5b9a+=0x190),_0x391bed[_0x304268(0xfa)](0xa)[_0x304268(0x16f)](_0x3689e4,_0x4c171d+0x37,_0x4e5b9a,{'underline':!![]}),_0x391bed[_0x304268(0xfa)](0xa)[_0x304268(0x16f)](_0x304268(0xc3),_0x4c171d,_0x4e5b9a+0x1e),_0x391bed[_0x304268(0xfa)](0xa)['text'](_0x304268(0x175),_0x4c171d+0x32,_0x4e5b9a+0x1e,{'underline':!![]});let _0x14cc3d=_0x391bed[_0x304268(0x156)]();for(let _0x569821=0x0;_0x569821<_0x14cc3d[_0x304268(0xc1)];_0x569821++){_0x391bed[_0x304268(0x164)](_0x569821);let _0x28fd1d=_0x391bed[_0x304268(0x105)]['margins'][_0x304268(0x106)];_0x391bed[_0x304268(0x105)][_0x304268(0xd2)]['bottom']=0x0,_0x391bed[_0x304268(0x16f)](_0x304268(0x116)+(_0x569821+0x1)+_0x304268(0x162)+_0x14cc3d[_0x304268(0xc1)],0x0,_0x391bed['page'][_0x304268(0xdc)]-_0x28fd1d/0x2,{'align':_0x304268(0xd7)}),_0x391bed[_0x304268(0x105)][_0x304268(0xd2)][_0x304268(0x106)]=_0x28fd1d;}const _0x3ddd1b=_0x391bed['y'],_0x87f7c0=_0x391bed['x'];_0x391bed[_0x304268(0x128)]();}catch(_0x5b1fff){console['log'](_0x5b1fff),_0x4aeff7[_0x304268(0x12d)](0x1f4)['send'](_0x304268(0x104));}}),router[a0_0x300145(0x101)]('/pdf_puchases/:id',auth,async(_0x3ee66a,_0x5798dc)=>{const _0x367f37=a0_0x300145;try{const {username:_0x5565ef,email:_0x2e8806,role:_0x34eddb}=_0x3ee66a[_0x367f37(0x132)],_0x3cef2a=_0x3ee66a[_0x367f37(0x132)],_0x5862b1=await profile[_0x367f37(0xa9)]({'email':_0x3cef2a['email']}),_0x2fef58=await master_shop[_0x367f37(0xca)](),_0x2cc6c3=_0x3ee66a[_0x367f37(0xe5)]['id'],_0xce9c1b=await purchases[_0x367f37(0xce)](_0x2cc6c3),_0x2fd184=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5798dc[_0x367f37(0xf4)](_0x367f37(0x147),_0x367f37(0x15d)+_0x2cc6c3+_0x367f37(0x138)),_0x5798dc['setHeader'](_0x367f37(0x167),_0x367f37(0xdb));var _0x5a914c=0x14,_0x3726b8=0x3c;_0x2fd184[_0x367f37(0xec)](_0x5798dc),_0x2fd184['image']('./public/upload/'+_0x2fef58[0x0][_0x367f37(0xb4)],0x14,0x0,{'fit':[0x64,0x64]}),_0x2fd184[_0x367f37(0xfa)](0x14)[_0x367f37(0x16f)](_0x367f37(0x152),_0x5a914c,_0x3726b8),_0x2fd184[_0x367f37(0xfa)](0xa)[_0x367f37(0x16f)](_0x367f37(0x16a),_0x5a914c,_0x3726b8+=0xf),_0x2fd184['fontSize'](0xf)[_0x367f37(0x16f)]('RAW\x20MATERIALS\x20RECEIVING\x20REPORT',_0x5a914c,_0x3726b8+=0x32),_0x2fd184[_0x367f37(0xfa)](0xa)[_0x367f37(0x16f)](_0x367f37(0xd9),_0x5a914c,_0x3726b8+=0x14),_0x2fd184[_0x367f37(0xfa)](0x9)[_0x367f37(0x16f)](_0x367f37(0x115),_0x5a914c,_0x3726b8+=0x2d),_0x2fd184[_0x367f37(0xfa)](0x9)['text']('\x20:\x20'+_0xce9c1b[_0x367f37(0xdd)],_0x5a914c+0x3f,_0x3726b8),_0x2fd184[_0x367f37(0xfa)](0x9)[_0x367f37(0x16f)]('Supplier\x20:\x20'+_0xce9c1b[_0x367f37(0xac)],_0x5a914c+0x17c,_0x3726b8,{'underline':!![]}),_0x2fd184['fontSize'](0x9)[_0x367f37(0x16f)](_0x367f37(0x14d),_0x5a914c,_0x3726b8+=0xb),_0x2fd184[_0x367f37(0xfa)](0x9)[_0x367f37(0x16f)](_0x367f37(0xba)+_0xce9c1b[_0x367f37(0x17c)],_0x5a914c+0x3f,_0x3726b8),_0x2fd184[_0x367f37(0xfa)](0x9)[_0x367f37(0x16f)](_0x367f37(0x103),_0x5a914c,_0x3726b8+=0xb),_0x2fd184[_0x367f37(0xfa)](0x9)['text']('\x20:\x20'+_0xce9c1b[_0x367f37(0xf9)],_0x5a914c+0x3f,_0x3726b8);const _0x3fee65={'headers':[{'label':_0x367f37(0x113),'property':_0x367f37(0x108),'width':0x3c,'renderer':null},{'label':_0x367f37(0xbe),'property':_0x367f37(0xd1),'width':0x96,'renderer':null},{'label':'QTY','property':_0x367f37(0xa8),'width':0x2d,'renderer':null},{'label':_0x367f37(0x17d),'property':_0x367f37(0x150),'width':0x3c,'renderer':null},{'label':_0x367f37(0xb2),'property':'expdate','width':0x46,'renderer':null},{'label':'Batch\x20No','property':_0x367f37(0x186),'width':0x3c,'renderer':null},{'label':_0x367f37(0xb8),'property':_0x367f37(0x122),'width':0x3c,'renderer':null},{'label':_0x367f37(0xf2),'property':'DelCode','width':0x3f,'renderer':null}],'datas':[]};var _0x32dbea=0x0;let _0x52ffac='';_0xce9c1b[_0x367f37(0xbc)][_0x367f37(0x114)](_0x21f437=>{const _0x51027a=_0x367f37;let _0x20adbc='';var _0x266e4d=0x0,_0x276e8c=0x0,_0x1cb083='';_0x21f437['product_cat']=='S'?(_0x21f437[_0x51027a(0x17e)]>0x0?_0x276e8c=_0x21f437[_0x51027a(0x161)]*_0x21f437[_0x51027a(0x17e)]:_0x276e8c=_0x21f437['quantity']*0x1,_0x1cb083=_0x21f437[_0x51027a(0xe8)]):(_0x276e8c=_0x21f437[_0x51027a(0x161)]*0x1,_0x1cb083=_0x21f437[_0x51027a(0xcd)]);const _0x366ec6={'itemcode':_0x21f437[_0x51027a(0xd6)],'itemdescription':_0x21f437[_0x51027a(0xf0)],'qty':_0x276e8c,'unit':_0x1cb083,'expdate':_0x21f437[_0x51027a(0xb3)],'batchno':_0x21f437[_0x51027a(0x14c)],'binloc':_0x21f437[_0x51027a(0x171)]+_0x21f437[_0x51027a(0x168)]+_0x21f437[_0x51027a(0xbf)]+_0x21f437['bin']+_0x21f437['type'][0x0]+_0x21f437[_0x51027a(0xd8)],'DelCode':_0x21f437[_0x51027a(0xaf)]};_0x32dbea+=_0x276e8c,_0x3fee65['datas']['push'](_0x366ec6);}),_0x2fd184[_0x367f37(0x127)](_0x3fee65,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x2fd184[_0x367f37(0x10c)](_0x367f37(0x158))[_0x367f37(0xfa)](0x8),'prepareRow':(_0xd68101,_0x4e3c57,_0x17273b,_0x47d8f0)=>_0x2fd184[_0x367f37(0x10c)](_0x367f37(0xfc))[_0x367f37(0xfa)](0x8)});var _0x2dcfdc=_0x2fd184['y'],_0x2c70f4=_0x2fd184['x'];_0x2fd184[_0x367f37(0xfa)](0xa)[_0x367f37(0x16f)](_0x367f37(0x136),_0x2c70f4+0x7d,_0x2dcfdc),_0x2fd184[_0x367f37(0xfa)](0xa)[_0x367f37(0x16f)](_0x367f37(0x177),_0x2c70f4,_0x2dcfdc+=0x15e),_0x2fd184[_0x367f37(0xfa)](0xa)[_0x367f37(0x16f)](_0x32dbea,_0x2c70f4+0xf0,_0x2dcfdc,{'underline':!![]}),_0x2fd184[_0x367f37(0xfa)](0xa)['text'](_0x367f37(0x16e),_0x2c70f4,_0x2dcfdc+0x28),_0x2fd184[_0x367f37(0xfa)](0xa)[_0x367f37(0x16f)](_0x367f37(0xa7),_0x2c70f4+0x40,_0x2dcfdc+0x28,{'underline':!![]}),_0x2fd184['fontSize'](0xa)[_0x367f37(0x16f)](_0x367f37(0x13e),_0x2c70f4+0x40,_0x2dcfdc+0x32);let _0x1feb57=_0x2fd184[_0x367f37(0x156)]();for(let _0x40c059=0x0;_0x40c059<_0x1feb57[_0x367f37(0xc1)];_0x40c059++){_0x2fd184[_0x367f37(0x164)](_0x40c059);let _0x177084=_0x2fd184[_0x367f37(0x105)]['margins'][_0x367f37(0x106)];_0x2fd184[_0x367f37(0x105)][_0x367f37(0xd2)][_0x367f37(0x106)]=0x0,_0x2fd184[_0x367f37(0x16f)]('Page:\x20'+(_0x40c059+0x1)+_0x367f37(0x162)+_0x1feb57['count'],0x0,_0x2fd184[_0x367f37(0x105)][_0x367f37(0xdc)]-_0x177084/0x2,{'align':_0x367f37(0xd7)}),_0x2fd184['page'][_0x367f37(0xd2)][_0x367f37(0x106)]=_0x177084;}const _0x2fd4dc=_0x2fd184['y'],_0x12d495=_0x2fd184['x'];_0x2fd184['end']();}catch(_0xfd1ee4){console[_0x367f37(0x140)](_0xfd1ee4),_0x5798dc[_0x367f37(0x12d)](0x1f4)[_0x367f37(0x14b)](_0x367f37(0x104));}}),router[a0_0x300145(0x101)](a0_0x300145(0x163),auth,async(_0x377c46,_0x24074f)=>{const _0x1f6814=a0_0x300145;try{const {username:_0x2ca61a,email:_0x1c6a16,role:_0x2f9e98}=_0x377c46[_0x1f6814(0x132)],_0x4fca05=_0x377c46[_0x1f6814(0x132)],_0x5d96b0=await profile[_0x1f6814(0xa9)]({'email':_0x4fca05['email']}),_0x343155=await master_shop[_0x1f6814(0xca)](),_0x579937=_0x377c46[_0x1f6814(0xe5)]['id'],_0xb2074f=await sales['findById'](_0x579937),_0x24eeaa=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x388d0a;_0x388d0a='PICKING\x20LIST';_0xb2074f[_0x1f6814(0x15e)]==_0x1f6814(0x172)&&(_0x388d0a='DELIVERY\x20RECEIPT');_0x24074f[_0x1f6814(0xf4)](_0x1f6814(0x147),_0x1f6814(0x15d)+_0x579937+_0x1f6814(0x138)),_0x24074f['setHeader']('Content-type','application/pdf');var _0x52eb20=0x14,_0xad8c46=0x64;_0x24eeaa[_0x1f6814(0xec)](_0x24074f),_0x24eeaa[_0x1f6814(0xb4)](_0x1f6814(0x182)+_0x343155[0x0][_0x1f6814(0xb4)],0x14,0x0,{'fit':[0x64,0x64]}),_0x24eeaa[_0x1f6814(0xfa)](0x14)[_0x1f6814(0x16f)](_0x1f6814(0x152),_0x52eb20,_0xad8c46),_0x24eeaa[_0x1f6814(0xfa)](0xa)[_0x1f6814(0x16f)](_0x1f6814(0x16a),_0x52eb20,_0xad8c46+=0xf),_0x24eeaa[_0x1f6814(0xfa)](0xf)['text'](_0x388d0a,_0x52eb20,_0xad8c46+=0x32),_0x24eeaa[_0x1f6814(0xfa)](0xa)[_0x1f6814(0x16f)](_0x1f6814(0x134),_0x52eb20,_0xad8c46+=0x14),_0x24eeaa[_0x1f6814(0xfa)](0x9)['text'](_0x1f6814(0x14d),_0x52eb20,_0xad8c46+=0x19),_0x24eeaa[_0x1f6814(0xfa)](0x9)['text'](_0x1f6814(0xba)+_0xb2074f['date'],_0x52eb20+0x3f,_0xad8c46),_0x24eeaa['fontSize'](0x9)['text'](_0x1f6814(0xae),_0x52eb20,_0xad8c46+=0xb),_0x24eeaa[_0x1f6814(0xfa)](0x9)[_0x1f6814(0x16f)]('\x20:\x20'+_0xb2074f['invoice'],_0x52eb20+0x3f,_0xad8c46);const _0x53eab4={'headers':[{'label':_0x1f6814(0x176),'property':_0x1f6814(0x108),'align':'center','width':0x2d,'renderer':null},{'label':_0x1f6814(0x117),'property':_0x1f6814(0xd1),'align':'center','width':0x64,'renderer':null},{'label':'REQUESTED\x20QUANTITY','property':_0x1f6814(0xbd),'align':_0x1f6814(0xd7),'width':0x28,'renderer':null},{'label':_0x1f6814(0xbb),'property':_0x1f6814(0xaa),'align':_0x1f6814(0xd7),'width':0x28,'renderer':null},{'label':_0x1f6814(0x17d),'property':'unit','align':_0x1f6814(0xd7),'width':0x28,'renderer':null},{'label':_0x1f6814(0x12b),'property':'blocation','align':_0x1f6814(0xd7),'width':0x32,'renderer':null},{'label':_0x1f6814(0x180),'property':_0x1f6814(0x13f),'align':'center','width':0x3c,'renderer':null},{'label':_0x1f6814(0x153),'property':_0x1f6814(0x133),'align':_0x1f6814(0xd7),'width':0x3c,'renderer':null},{'label':_0x1f6814(0xc2),'property':_0x1f6814(0x169),'align':_0x1f6814(0xd7),'width':0x3f,'renderer':null},{'label':_0x1f6814(0x141),'property':_0x1f6814(0x149),'align':_0x1f6814(0xd7),'width':0x3f,'renderer':null}],'datas':[]};var _0x11da32=0x0;let _0x57b316='';var _0x3551fb=0x0,_0x52eb20=0x1;_0xb2074f[_0x1f6814(0x12a)][_0x1f6814(0x114)](_0x1a18a9=>{const _0x5c5dc5=_0x1f6814,_0x684785=new Date(_0x1a18a9[_0x5c5dc5(0x11e)]),_0x4b6525={'year':_0x5c5dc5(0xfb),'month':'short','day':_0x5c5dc5(0xfb)},_0x47cee4=_0x684785[_0x5c5dc5(0x173)]('en-US',_0x4b6525),_0x4c75f2=new Date(_0x1a18a9[_0x5c5dc5(0xb3)]),_0x477657={'year':_0x5c5dc5(0xfb),'month':'short','day':_0x5c5dc5(0xfb)},_0x2851b3=_0x4c75f2[_0x5c5dc5(0x173)](_0x5c5dc5(0xc8),_0x477657),_0x23a56d=new Date(_0x1a18a9[_0x5c5dc5(0xcc)]),_0x27a12e={'year':_0x5c5dc5(0xfb),'month':_0x5c5dc5(0x154),'day':_0x5c5dc5(0xfb)};var _0x7337a=_0x23a56d[_0x5c5dc5(0x173)](_0x5c5dc5(0xc8),_0x27a12e);typeof _0x1a18a9[_0x5c5dc5(0xcc)]==_0x5c5dc5(0x151)&&(_0x7337a='');console['log'](_0x1a18a9);var _0x493af3=0x0,_0x29b316='';_0x1a18a9[_0x5c5dc5(0xe2)]=='S'?(_0x1a18a9['maxperunit']>0x0?_0x493af3=_0x1a18a9[_0x5c5dc5(0x161)]*_0x1a18a9[_0x5c5dc5(0x17e)]:_0x493af3=_0x1a18a9[_0x5c5dc5(0x161)]*0x1,_0x29b316=_0x1a18a9[_0x5c5dc5(0xe8)]):(_0x493af3=_0x1a18a9[_0x5c5dc5(0x161)]*0x1,_0x29b316=_0x1a18a9['unit']);const _0x43c007={'itemcode':_0x1a18a9[_0x5c5dc5(0xd6)],'itemdescription':_0x1a18a9[_0x5c5dc5(0xf0)],'rqty':_0x1a18a9[_0x5c5dc5(0xda)],'iqty':_0x493af3,'unit':_0x29b316,'blocation':_0x1a18a9[_0x5c5dc5(0x171)]+_0x1a18a9[_0x5c5dc5(0x168)]+_0x1a18a9['bay']+_0x1a18a9[_0x5c5dc5(0x11a)]+_0x1a18a9[_0x5c5dc5(0xc7)][0x0]+_0x1a18a9[_0x5c5dc5(0xd8)],'proddate':_0x47cee4,'expdate':_0x2851b3,'del_date':_0x7337a,'del_code':_0x1a18a9[_0x5c5dc5(0xaf)]};_0x52eb20++,_0x53eab4[_0x5c5dc5(0x10b)][_0x5c5dc5(0x14e)](_0x43c007);}),_0x24eeaa[_0x1f6814(0x127)](_0x53eab4,{'x':_0x52eb20+0x11,'y':_0xad8c46+=0x1e,'prepareHeader':()=>_0x24eeaa['font']('Helvetica-Bold')[_0x1f6814(0xfa)](6.5),'prepareRow':(_0x3e6ad0,_0x1dbfc8,_0x478d35,_0x8277c7,_0xc64258)=>{const _0xe027cc=_0x1f6814,{x:_0x46447b,y:_0x50d737,width:_0x51ec02,height:_0x2c14d0}=_0xc64258;_0x24eeaa[_0xe027cc(0x10c)](_0xe027cc(0xfc))[_0xe027cc(0xfa)](0x8),_0x24eeaa[_0xe027cc(0xe7)](0.5)[_0xe027cc(0xf1)](_0x46447b,_0x50d737)['lineTo'](_0x46447b,_0x50d737+_0x2c14d0)['stroke']();}});var _0x31782a=_0x24eeaa['y'],_0x10f18c=_0x24eeaa['x'],_0xc7e6a=_0x31782a-=0x8;_0x24eeaa[_0x1f6814(0xe7)](0x5),_0x24eeaa[_0x1f6814(0xdf)](_0x1f6814(0x121))[_0x1f6814(0xf1)](0x240,_0xc7e6a)[_0x1f6814(0xe9)](0x11,_0xc7e6a)['stroke'](),_0x24eeaa[_0x1f6814(0xfa)](0xa)[_0x1f6814(0x16f)](_0x1f6814(0x136),_0x10f18c+0x7d,_0x31782a+=0xf),_0x24eeaa['fontSize'](0xb)[_0x1f6814(0x16f)](_0x1f6814(0x17f),_0x10f18c,_0x31782a+=_0x24eeaa['x']+_0x10f18c),_0x24eeaa[_0x1f6814(0xfa)](0xa)['text']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x10f18c+0x52,_0x31782a,{'underline':!![]}),_0x24eeaa[_0x1f6814(0xfa)](0xa)[_0x1f6814(0x16f)](_0x1f6814(0xe3),_0x10f18c,_0x31782a+=0x19),_0x24eeaa[_0x1f6814(0xfa)](0xa)[_0x1f6814(0x16f)]('\x20:\x20',_0x10f18c+0x4b,_0x31782a),_0x24eeaa['fontSize'](0xa)[_0x1f6814(0x16f)]('\x20'['repeat'](0x3c),_0x10f18c+0x50,_0x31782a,{'underline':!![]}),_0x24eeaa[_0x1f6814(0xfa)](0xa)['text'](_0x1f6814(0x102),_0x10f18c,_0x31782a+=0x32),_0x24eeaa[_0x1f6814(0xfa)](0xa)[_0x1f6814(0x16f)](_0x1f6814(0xba),_0x10f18c+0x4b,_0x31782a),_0x24eeaa[_0x1f6814(0xfa)](0xa)[_0x1f6814(0x16f)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x10f18c+0x50,_0x31782a,{'underline':!![]}),_0x24eeaa[_0x1f6814(0xfa)](0xa)[_0x1f6814(0x16f)](_0x1f6814(0x13e),_0x10f18c+0x50,_0x31782a+0xc);let _0x469b1d=_0x24eeaa[_0x1f6814(0x156)]();for(let _0x1a5b75=0x0;_0x1a5b75<_0x469b1d[_0x1f6814(0xc1)];_0x1a5b75++){_0x24eeaa['switchToPage'](_0x1a5b75);let _0x384ed5=_0x24eeaa[_0x1f6814(0x105)][_0x1f6814(0xd2)][_0x1f6814(0x106)];_0x24eeaa[_0x1f6814(0x105)][_0x1f6814(0xd2)]['bottom']=0x0,_0x24eeaa[_0x1f6814(0x16f)](_0x1f6814(0x116)+(_0x1a5b75+0x1)+'\x20of\x20'+_0x469b1d['count'],0x0,_0x24eeaa[_0x1f6814(0x105)][_0x1f6814(0xdc)]-_0x384ed5/0x2,{'align':_0x1f6814(0xd7)}),_0x24eeaa[_0x1f6814(0x105)][_0x1f6814(0xd2)][_0x1f6814(0x106)]=_0x384ed5;}const _0x1dc443=_0x24eeaa['y'],_0x229997=_0x24eeaa['x'];_0x24eeaa['end']();}catch(_0x45cc98){console[_0x1f6814(0x140)](_0x45cc98),_0x24074f[_0x1f6814(0x12d)](0x1f4)[_0x1f6814(0x14b)](_0x1f6814(0x104));}}),router[a0_0x300145(0x101)](a0_0x300145(0x131),auth,async(_0xbde32d,_0x2c4953)=>{const _0x2a3e20=a0_0x300145;try{const {username:_0x149577,email:_0x1d9bed,role:_0x48622d}=_0xbde32d['user'],_0x5263b0=_0xbde32d[_0x2a3e20(0x132)],_0x4ca2dc=await profile[_0x2a3e20(0xa9)]({'email':_0x5263b0[_0x2a3e20(0x17a)]}),_0x3d3313=await master_shop[_0x2a3e20(0xca)](),_0x42ca82=_0xbde32d[_0x2a3e20(0xe5)]['id'],_0x4851a3=await adjustment[_0x2a3e20(0xce)](_0x42ca82);var _0x35914c,_0x36cf40;_0x35914c='PICKING\x20LIST',_0x36cf40=_0x2a3e20(0x129);_0x4851a3[_0x2a3e20(0x15e)]=='True'&&(_0x35914c=_0x2a3e20(0xcb),_0x36cf40='');const _0x5d3044=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2c4953[_0x2a3e20(0xf4)]('Content-disposition',_0x2a3e20(0x15d)+_0x42ca82+_0x2a3e20(0x138)),_0x2c4953['setHeader'](_0x2a3e20(0x167),'application/pdf');var _0x3098d0=0x14,_0x5796ba=0x3c;_0x5d3044[_0x2a3e20(0xec)](_0x2c4953),_0x5d3044[_0x2a3e20(0xb4)](_0x2a3e20(0x182)+_0x3d3313[0x0][_0x2a3e20(0xb4)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5d3044[_0x2a3e20(0xfa)](0x14)[_0x2a3e20(0x16f)](_0x2a3e20(0x152),_0x3098d0,_0x5796ba),_0x5d3044[_0x2a3e20(0xfa)](0xa)['text'](_0x2a3e20(0x16a),_0x3098d0,_0x5796ba+=0xf),_0x5d3044[_0x2a3e20(0xfa)](0xf)['text'](_0x35914c,_0x3098d0,_0x5796ba+=0x32),_0x5d3044['fontSize'](0xa)[_0x2a3e20(0x16f)](_0x36cf40,_0x3098d0,_0x5796ba+=0x14),_0x5d3044['fontSize'](0x9)[_0x2a3e20(0x16f)](_0x2a3e20(0x115),_0x3098d0,_0x5796ba+=0x28),_0x5d3044['fontSize'](0x9)[_0x2a3e20(0x16f)](_0x2a3e20(0xba)+_0x4851a3[_0x2a3e20(0xdd)],_0x3098d0+0x3f,_0x5796ba),_0x5d3044[_0x2a3e20(0xfa)](0x9)['text']('Date\x20',_0x3098d0,_0x5796ba+=0xb),_0x5d3044['fontSize'](0x9)[_0x2a3e20(0x16f)](_0x2a3e20(0xba)+_0x4851a3[_0x2a3e20(0x17c)],_0x3098d0+0x3f,_0x5796ba),_0x5d3044[_0x2a3e20(0xfa)](0x9)[_0x2a3e20(0x16f)](_0x2a3e20(0x103),_0x3098d0,_0x5796ba+=0xb),_0x5d3044[_0x2a3e20(0xfa)](0x9)[_0x2a3e20(0x16f)](_0x2a3e20(0xba)+_0x4851a3[_0x2a3e20(0xf9)],_0x3098d0+0x3f,_0x5796ba);const _0x264d21={'headers':[{'label':_0x2a3e20(0x113),'property':_0x2a3e20(0x108),'width':0x3c,'renderer':null},{'label':_0x2a3e20(0xbe),'property':_0x2a3e20(0xd1),'width':0x96,'renderer':null},{'label':_0x2a3e20(0x166),'property':_0x2a3e20(0xa8),'width':0x3c,'renderer':null},{'label':_0x2a3e20(0x17d),'property':_0x2a3e20(0x150),'width':0x3c,'renderer':null},{'label':'Production\x20Date','property':_0x2a3e20(0x13f),'width':0x50,'renderer':null},{'label':_0x2a3e20(0xb6),'property':_0x2a3e20(0x186),'width':0x3f,'renderer':null},{'label':_0x2a3e20(0xb8),'property':_0x2a3e20(0x122),'width':0x3f,'renderer':null}],'datas':[]};var _0x476e2e=0x0,_0x366049=0x0;_0x4851a3[_0x2a3e20(0xbc)][_0x2a3e20(0x114)](_0x2cf7f6=>{const _0xee7890=_0x2a3e20;let _0x44c512='';const _0x312d60=_0x2cf7f6[_0xee7890(0x184)];for(let _0x3404dd=0x1;_0x3404dd<=_0x312d60;_0x3404dd++){_0x312d60==_0x3404dd?_0x44c512+=_0x2cf7f6[_0xee7890(0x17e)]:_0x44c512+=_0x2cf7f6[_0xee7890(0x17e)]+',',_0x366049+=_0x2cf7f6[_0xee7890(0x17e)];}_0x44c512+=_0xee7890(0x157)+_0x2cf7f6[_0xee7890(0xe8)];const _0x76defd={'itemcode':_0x2cf7f6[_0xee7890(0xd6)],'itemdescription':_0x2cf7f6[_0xee7890(0xf0)],'qty':_0x2cf7f6['new_adjust_qty'],'unit':_0x2cf7f6[_0xee7890(0x150)],'proddate':_0x2cf7f6[_0xee7890(0x11e)],'batchno':_0x2cf7f6[_0xee7890(0x14c)],'binloc':_0x2cf7f6[_0xee7890(0x171)]+_0x2cf7f6[_0xee7890(0x168)]+_0x2cf7f6['bay']+_0x2cf7f6['bin']+_0x2cf7f6[_0xee7890(0xc7)][0x0]+_0x2cf7f6[_0xee7890(0xd8)]};_0x476e2e+=_0x2cf7f6[_0xee7890(0x165)],_0x264d21[_0xee7890(0x10b)][_0xee7890(0x14e)](_0x76defd);}),_0x5d3044[_0x2a3e20(0x127)](_0x264d21,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x5d3044['font'](_0x2a3e20(0x158))['fontSize'](0x8),'prepareRow':(_0x59163c,_0x4f0e26,_0x54cf09,_0x487852)=>_0x5d3044['font']('Helvetica')[_0x2a3e20(0xfa)](0x8)});var _0x14e7aa=_0x5d3044['y'],_0x1f6644=_0x5d3044['x'];_0x5d3044[_0x2a3e20(0xfa)](0xa)[_0x2a3e20(0x16f)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x1f6644+0x7d,_0x14e7aa),_0x5d3044[_0x2a3e20(0xfa)](0xa)[_0x2a3e20(0x16f)](_0x2a3e20(0xea),_0x1f6644,_0x14e7aa+=0x136),_0x5d3044[_0x2a3e20(0xfa)](0xa)[_0x2a3e20(0x16f)](_0x476e2e,_0x1f6644+0xc8,_0x14e7aa),_0x5d3044[_0x2a3e20(0xfa)](0xa)['text'](_0x2a3e20(0x15c),_0x1f6644,_0x14e7aa+=0x19),_0x5d3044['fontSize'](0xa)[_0x2a3e20(0x16f)]('\x20'[_0x2a3e20(0x111)](0x3c),_0x1f6644+0x3e,_0x14e7aa,{'underline':!![]}),_0x5d3044[_0x2a3e20(0xfa)](0xa)[_0x2a3e20(0x16f)](_0x2a3e20(0x124),_0x1f6644,_0x14e7aa+=0x32),_0x5d3044[_0x2a3e20(0xfa)](0xa)[_0x2a3e20(0x16f)]('\x20:\x20',_0x1f6644+0x37,_0x14e7aa),_0x5d3044[_0x2a3e20(0xfa)](0xa)['text'](_0x2a3e20(0x110),_0x1f6644+0x3c,_0x14e7aa,{'underline':!![]}),_0x5d3044[_0x2a3e20(0xfa)](0xa)[_0x2a3e20(0x16f)](_0x2a3e20(0x13e),_0x1f6644+0x3c,_0x14e7aa+0xc);let _0x5d84d3=_0x5d3044[_0x2a3e20(0x156)]();for(let _0x2a1d0f=0x0;_0x2a1d0f<_0x5d84d3[_0x2a3e20(0xc1)];_0x2a1d0f++){_0x5d3044[_0x2a3e20(0x164)](_0x2a1d0f);let _0x5f79c1=_0x5d3044[_0x2a3e20(0x105)][_0x2a3e20(0xd2)]['bottom'];_0x5d3044['page']['margins'][_0x2a3e20(0x106)]=0x0,_0x5d3044[_0x2a3e20(0x16f)]('Page:\x20'+(_0x2a1d0f+0x1)+_0x2a3e20(0x162)+_0x5d84d3[_0x2a3e20(0xc1)],0x0,_0x5d3044['page'][_0x2a3e20(0xdc)]-_0x5f79c1/0x2,{'align':_0x2a3e20(0xd7)}),_0x5d3044['page'][_0x2a3e20(0xd2)][_0x2a3e20(0x106)]=_0x5f79c1;}const _0x1d5641=_0x5d3044['y'],_0x140fbf=_0x5d3044['x'];_0x5d3044[_0x2a3e20(0x128)]();}catch(_0x399e96){console['log'](_0x399e96),_0x2c4953[_0x2a3e20(0x12d)](0x1f4)[_0x2a3e20(0x14b)](_0x2a3e20(0x104));}}),router[a0_0x300145(0x101)](a0_0x300145(0x118),auth,async(_0xa8dff5,_0x33c234)=>{const _0x195ab1=a0_0x300145;try{const {username:_0x292b5c,email:_0x389a86,role:_0x43b638}=_0xa8dff5[_0x195ab1(0x132)],_0x10483b=_0xa8dff5['user'],_0x575871=await profile[_0x195ab1(0xa9)]({'email':_0x10483b[_0x195ab1(0x17a)]}),_0x292ee4=await master_shop[_0x195ab1(0xca)](),_0x10bd16=_0xa8dff5['params']['id'],_0x43d30c=await transfers[_0x195ab1(0xce)](_0x10bd16);var _0x43096f,_0x4b799b;_0x43096f=_0x195ab1(0xfd),_0x4b799b=_0x195ab1(0xd5);_0x43d30c['finalize']==_0x195ab1(0x172)&&(_0x43096f=_0x195ab1(0xf3),_0x4b799b='');const _0x1337cd=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x33c234[_0x195ab1(0xf4)](_0x195ab1(0x147),_0x195ab1(0x15d)+_0x10bd16+_0x195ab1(0x138)),_0x33c234[_0x195ab1(0xf4)](_0x195ab1(0x167),_0x195ab1(0xdb));var _0x3ab23d=0x14,_0x4d1d76=0x3c;_0x1337cd['pipe'](_0x33c234),_0x1337cd[_0x195ab1(0xb4)](_0x195ab1(0x182)+_0x292ee4[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x1337cd[_0x195ab1(0xfa)](0x14)['text'](_0x195ab1(0x152),_0x3ab23d,_0x4d1d76),_0x1337cd[_0x195ab1(0xfa)](0xa)[_0x195ab1(0x16f)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x3ab23d,_0x4d1d76+=0xf),_0x1337cd[_0x195ab1(0xfa)](0xf)[_0x195ab1(0x16f)](_0x43096f,_0x3ab23d,_0x4d1d76+=0x32),_0x1337cd[_0x195ab1(0xfa)](0xa)[_0x195ab1(0x16f)](_0x4b799b,_0x3ab23d,_0x4d1d76+=0x14),_0x1337cd['fontSize'](0x9)[_0x195ab1(0x16f)](_0x195ab1(0x183),_0x3ab23d,_0x4d1d76+=0x28),_0x1337cd[_0x195ab1(0xfa)](0x9)['text']('\x20\x20\x20:\x20'+_0x43d30c[_0x195ab1(0xc9)],_0x3ab23d+0x3f,_0x4d1d76),_0x1337cd[_0x195ab1(0xfa)](0x9)[_0x195ab1(0x16f)](_0x195ab1(0x155),_0x3ab23d,_0x4d1d76+=0xa),_0x1337cd[_0x195ab1(0xfa)](0x9)[_0x195ab1(0x16f)]('\x20\x20\x20:\x20'+_0x43d30c[_0x195ab1(0xe0)],_0x3ab23d+0x3f,_0x4d1d76),_0x1337cd[_0x195ab1(0xfa)](0x9)['text']('Date\x20',_0x3ab23d,_0x4d1d76+=0xb),_0x1337cd['fontSize'](0x9)[_0x195ab1(0x16f)](_0x195ab1(0x100)+_0x43d30c[_0x195ab1(0x17c)],_0x3ab23d+0x3f,_0x4d1d76),_0x1337cd[_0x195ab1(0xfa)](0x9)['text']('Control\x20Number\x20',_0x3ab23d,_0x4d1d76+=0xb),_0x1337cd[_0x195ab1(0xfa)](0x9)[_0x195ab1(0x16f)](_0x195ab1(0x100)+_0x43d30c[_0x195ab1(0xf9)],_0x3ab23d+0x3f,_0x4d1d76);const _0x1cf431={'headers':[{'label':'','property':_0x195ab1(0x108),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x195ab1(0xb7),'property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x195ab1(0x144),'property':_0x195ab1(0xd1),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x1337cd[_0x195ab1(0x127)](_0x1cf431,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x1337cd['font'](_0x195ab1(0x158))[_0x195ab1(0xfa)](0x8),'prepareRow':(_0x48a181,_0x495f34,_0x163044,_0x43f300)=>_0x1337cd[_0x195ab1(0x10c)](_0x195ab1(0xfc))[_0x195ab1(0xfa)](0x8)});const _0x188eeb={'headers':[{'label':_0x195ab1(0x113),'property':_0x195ab1(0x108),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x195ab1(0xd1),'width':0x96,'renderer':null},{'label':_0x195ab1(0x166),'property':'qty','width':0x28,'renderer':null},{'label':'UOM','property':'unit','width':0x37,'renderer':null},{'label':'Production\x20Date','property':'proddate','width':0x4b,'renderer':null},{'label':'Batch\x20No','property':_0x195ab1(0x186),'width':0x3f,'renderer':null},{'label':_0x195ab1(0xb8),'property':_0x195ab1(0xc0),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x195ab1(0x122),'width':0x3f,'renderer':null}],'datas':[]};var _0x1adb9a=0x0;let _0x12f6f5='';var _0x130598=0x0;_0x43d30c[_0x195ab1(0xbc)][_0x195ab1(0x114)](_0x4a5b18=>{const _0x3fceed=_0x195ab1;var _0x5a6bfe=_0x4a5b18[_0x3fceed(0xe2)],_0x8a8554;_0x8a8554=_0x4a5b18['unit'];_0x5a6bfe=='S'&&(_0x8a8554=_0x4a5b18[_0x3fceed(0xe8)]);const _0x245386={'itemcode':_0x4a5b18['product_code'],'itemdescription':_0x4a5b18[_0x3fceed(0xf0)],'qty':_0x4a5b18[_0x3fceed(0x184)],'unit':_0x8a8554,'proddate':_0x4a5b18[_0x3fceed(0x11e)],'batchno':_0x4a5b18[_0x3fceed(0x14c)],'binloc':_0x4a5b18[_0x3fceed(0x171)]+_0x4a5b18[_0x3fceed(0x168)]+_0x4a5b18['to_bay']+_0x4a5b18[_0x3fceed(0x142)]+_0x4a5b18[_0x3fceed(0x11d)][0x0]+_0x4a5b18[_0x3fceed(0x112)],'qtyFrom':_0x4a5b18['from_quantity'],'binlocFrom':_0x4a5b18['from_storage']+_0x4a5b18['from_rack']+_0x4a5b18[_0x3fceed(0x10f)]+_0x4a5b18[_0x3fceed(0xc6)]+_0x4a5b18[_0x3fceed(0x13c)][0x0]+_0x4a5b18[_0x3fceed(0xe6)]};_0x1adb9a+=_0x4a5b18[_0x3fceed(0x184)],_0x188eeb[_0x3fceed(0x10b)][_0x3fceed(0x14e)](_0x245386);}),_0x1337cd['table'](_0x188eeb,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x1337cd[_0x195ab1(0x10c)]('Helvetica-Bold')[_0x195ab1(0xfa)](0x8),'prepareRow':(_0x4d69ab,_0x168e13,_0x121cbb,_0x32fe2f)=>_0x1337cd[_0x195ab1(0x10c)](_0x195ab1(0xfc))[_0x195ab1(0xfa)](0x8)});var _0x42ab28=_0x1337cd['y'],_0x3ef49b=_0x1337cd['x'];_0x1337cd['fontSize'](0xa)['text'](_0x195ab1(0x136),_0x3ef49b+0x7d,_0x42ab28),_0x1337cd[_0x195ab1(0xfa)](0xa)['text']('TOTAL\x20QTY:\x20',_0x3ef49b,_0x42ab28+=0x12c),_0x1337cd[_0x195ab1(0xfa)](0xa)['text'](_0x1adb9a,_0x3ef49b+0xd7,_0x42ab28,{'underline':!![]}),_0x1337cd[_0x195ab1(0xfa)](0xa)[_0x195ab1(0x16f)](_0x195ab1(0x16c),_0x3ef49b,_0x42ab28+=0x32),_0x1337cd[_0x195ab1(0xfa)](0xa)['text']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3ef49b+0x3c,_0x42ab28,{'underline':!![]}),_0x1337cd['fontSize'](0xa)[_0x195ab1(0x16f)](_0x195ab1(0x13e),_0x3ef49b+0x3c,_0x42ab28+0xc);let _0x2192dd=_0x1337cd[_0x195ab1(0x156)]();for(let _0x4f4fad=0x0;_0x4f4fad<_0x2192dd['count'];_0x4f4fad++){_0x1337cd[_0x195ab1(0x164)](_0x4f4fad);let _0x402fdb=_0x1337cd[_0x195ab1(0x105)][_0x195ab1(0xd2)]['bottom'];_0x1337cd[_0x195ab1(0x105)][_0x195ab1(0xd2)]['bottom']=0x0,_0x1337cd[_0x195ab1(0x16f)](_0x195ab1(0x116)+(_0x4f4fad+0x1)+_0x195ab1(0x162)+_0x2192dd[_0x195ab1(0xc1)],0x0,_0x1337cd[_0x195ab1(0x105)][_0x195ab1(0xdc)]-_0x402fdb/0x2,{'align':_0x195ab1(0xd7)}),_0x1337cd[_0x195ab1(0x105)]['margins'][_0x195ab1(0x106)]=_0x402fdb;}const _0x1d50e5=_0x1337cd['y'],_0x5d4840=_0x1337cd['x'];_0x1337cd[_0x195ab1(0x128)]();}catch(_0xc8a2fa){console[_0x195ab1(0x140)](_0xc8a2fa),_0x33c234['status'](0x1f4)[_0x195ab1(0x14b)](_0x195ab1(0x104));}}),router['get'](a0_0x300145(0xf8),auth,async(_0x513235,_0x498887)=>{const _0x962cc6=a0_0x300145;try{const _0x39921c=_0x126228=>_0x126228*0x48,_0x53879f={'width':0x3,'height':0x1},_0x42340f=await product[_0x962cc6(0xca)](),_0x1b4c2b=new PDFDocument({'margin':_0x39921c(0.75),'size':[_0x39921c(_0x53879f[_0x962cc6(0xab)]),_0x39921c(_0x53879f[_0x962cc6(0xdc)])],'bufferPages':!![]}),_0x1d16b4=_0x42340f['length'];for(let _0x1f5c13=0x0;_0x1f5c13<=_0x1d16b4;_0x1f5c13++){if(_0x1f5c13!=_0x42340f[_0x962cc6(0x123)]){const _0x4fedfb=_0x42340f[_0x1f5c13]['name'],_0x3edbe8=_0x42340f[_0x1f5c13][_0x962cc6(0x143)],_0x4b0f12=_0x42340f[_0x1f5c13][_0x962cc6(0x13a)],_0x282028=_0x42340f[_0x1f5c13][_0x962cc6(0xd6)],_0x1929d4=new Canvas();JsBarcode(_0x1929d4,_0x3edbe8,{'format':_0x962cc6(0xd4),'height':0x32,'displayValue':!![],'text':_0x3edbe8}),_0x1b4c2b[_0x962cc6(0xb4)](_0x1929d4[_0x962cc6(0x174)](),0x0,0x0,{'width':0xd2}),_0x1b4c2b[_0x962cc6(0xee)]();}}_0x1b4c2b[_0x962cc6(0xec)](_0x498887),_0x1b4c2b[_0x962cc6(0x128)]();}catch(_0x438fb3){console['error']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:',_0x438fb3),_0x498887[_0x962cc6(0x12d)](0x1f4)[_0x962cc6(0x14b)](_0x962cc6(0x104));}}),module[a0_0x300145(0x170)]=router;