const a0_0x2f8265=a0_0x59f9;(function(_0x4ad50e,_0x3cbddc){const _0x5d8c83=a0_0x59f9,_0xe08c77=_0x4ad50e();while(!![]){try{const _0x11fd3b=parseInt(_0x5d8c83(0x296))/0x1+-parseInt(_0x5d8c83(0x2c3))/0x2*(-parseInt(_0x5d8c83(0x228))/0x3)+parseInt(_0x5d8c83(0x2c8))/0x4*(parseInt(_0x5d8c83(0x2d1))/0x5)+-parseInt(_0x5d8c83(0x282))/0x6+-parseInt(_0x5d8c83(0x268))/0x7*(-parseInt(_0x5d8c83(0x2c0))/0x8)+-parseInt(_0x5d8c83(0x2b2))/0x9*(-parseInt(_0x5d8c83(0x22a))/0xa)+parseInt(_0x5d8c83(0x2bb))/0xb*(-parseInt(_0x5d8c83(0x277))/0xc);if(_0x11fd3b===_0x3cbddc)break;else _0xe08c77['push'](_0xe08c77['shift']());}catch(_0xa5a00b){_0xe08c77['push'](_0xe08c77['shift']());}}}(a0_0x2d41,0xb25de));function a0_0x2d41(){const _0x20c97f=['/PDF_transfer_rm/:id','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','en-US','38334USoAjN','invoice','1626850Toabgf','REQUESTED\x20QUANTITY','express/lib/response','binloc','from_rack','to_bin','warehouse_name','quantity','Batch\x20No','TOTAL\x20QTY:\x20','moveTo','return_qty','del_code','QTY','lineTo','/PDF_transfer/:id','\x20row:\x20','EXPIRATION\x20DATE','(INVENTORY\x20ADJUSTMENT)','toLocaleDateString','return_sale','to_floorlevel','repeat','name','primary_code','product_name','Checked\x20By\x20','QUANTITY\x20ISSUED','requested_qty','exports','\x20<>\x20','FTGS\x20Number\x20:\x20','find','product_cat','multer','\x20\x20\x20\x20\x20TO','PRODUCTION\x20DATE','prod_cat','setHeader','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','from_types','table','(STOCKS\x20TRANSFER)','from_quantity','Item\x20Code','Picking\x20List','production_date','ARMAN\x20CRUZ','DELIVERY\x20RECEIPT','bottom','pipe','center','undefined','Item\x20Description','Content-type','from_bin','Raw\x20Materials\x20Warehouse\x20Supervisor','TOTAL\x20QTY\x20:\x20','jsbarcode','to_types','text','floorlevel','984452RvBOka','\x20:\x20','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','rack','Content-disposition','from_bay','push','delivery_code','maxperunit','/barcode_generator/','to_quantity','customer','Checked\x20By\x20\x20\x20:\x20','Warehouse\x20:\x20','Router','40920SpxtWJ','page','end','iqty','Check\x20By\x20\x20\x20\x20:\x20','Noted\x20By\x20','PICKING\x20LIST','get','length','log','product','2455632lMuYcP','expiry_date','lineCap','switchToPage','warehouse_cat','Production\x20Date','inline;\x20filename=\x22','PREPARED\x20BY\x20:\x20','\x20\x20TO','ToWarehouse','lineWidth','Finished\x20Good\x20Warehouse\x20Supervisor','Helvetica','inline;\x20filename=\x22OUT-','../models/all_models','secondary_unit','del_date','itemdescription','pdfkit-table','font','1352995uagMvo','STOCKS\x20TRANSFER','Pick\x20By\x20:\x20','Quantity','send','datas','Date\x20','rqty','from_warehouse','type','expdate','bufferedPageRange','(OUTGOING)','qty','True','Bin\x20Location','findById','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','email','new_adjust_qty','proddate','stroke','../middleware/auth','\x20of\x20','bin','DRY\x20GOODS','canvas','bay','18rfJXRu','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','LOCATION','maxPerUnit','standard_unit','fontSize','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','To\x20Warehouse\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','6413moBjjH','UOM','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','/pdf_puchases_fin/:id','Checked\x20By:\x20','16dLxmTF','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','status','148fmLewS','.pdf\x22','ITEM\x20CODE','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','to_bay','890732KrWgxJ','margins','\x20\x20\x20\x20\x20FROM','INVENTORY\x20ADJUSTMENT','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','params','Customer\x20:\x20','xlsx','x:\x20','5OuVVsG','to_warehouse','error','short','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','DELIVERY\x20DATE','height','addPage','unit','finalize','/PDF/:id','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','blob-stream','toBuffer','user','\x20\x20\x20:\x20','image','FROZEN\x20GOODS','return_sale_QA','(INCOMING)','count','Warehouse\x20','Helvetica-Bold','storage','itemcode','butt','Control\x20Number\x20','from_storage','date','DelCode','from_floorlevel','adjust_qty','/PDF_Sales/:id','POnumber','/pdf_sales_return_fin/:id','Check\x20By:\x20','Picked\x20By\x20\x20\x20:\x20','Expiration\x20Date','./public/upload/','../public/language/languages.json','batchno','numeric','findOne','forEach','\x20\x20FROM','Picked\x20By\x20\x20\x20\x20:\x20','suppliers','batch_code','product_code','Page:\x20','sale_product','application/pdf','From\x20Warehouse\x20'];a0_0x2d41=function(){return _0x20c97f;};return a0_0x2d41();}const express=require('express'),res=require(a0_0x2f8265(0x22c)),app=express(),router=express[a0_0x2f8265(0x276)](),multer=require(a0_0x2f8265(0x24c)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x2f8265(0x290)),auth=require(a0_0x2f8265(0x2ac)),users=require(a0_0x2f8265(0x217)),excelJS=require('exceljs'),xlsx=require(a0_0x2f8265(0x2cf)),PDFDocument=require(a0_0x2f8265(0x294)),fs=require('fs'),blobStream=require(a0_0x2f8265(0x1fc)),JsBarcode=require(a0_0x2f8265(0x264)),{Canvas}=require(a0_0x2f8265(0x2b0));function a0_0x59f9(_0x28fa10,_0x1c9c0d){const _0x2d4101=a0_0x2d41();return a0_0x59f9=function(_0x59f940,_0x2f54d3){_0x59f940=_0x59f940-0x1f4;let _0x449862=_0x2d4101[_0x59f940];return _0x449862;},a0_0x59f9(_0x28fa10,_0x1c9c0d);}router[a0_0x2f8265(0x27e)](a0_0x2f8265(0x1fa),auth,async(_0x46f7fe,_0x2d4887)=>{const _0x463894=a0_0x2f8265;try{const {username:_0x45091e,email:_0x1b421b,role:_0x33be37}=_0x46f7fe['user'],_0x10e856=_0x46f7fe[_0x463894(0x1fe)],_0x4c8ae5=await profile[_0x463894(0x21a)]({'email':_0x10e856[_0x463894(0x2a8)]}),_0x2df76f=await master_shop[_0x463894(0x24a)](),_0xf8bcc9=_0x46f7fe['params']['id'],_0x32ea25=await sales_finished[_0x463894(0x2a6)](_0xf8bcc9);var _0x1710d4;_0x1710d4='PICKING\x20LIST';_0x32ea25[_0x463894(0x1f9)]=='True'&&(_0x1710d4=_0x463894(0x25a));const _0x11e7cb=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2d4887[_0x463894(0x250)](_0x463894(0x26c),_0x463894(0x288)+_0x32ea25[_0x463894(0x229)]+_0x463894(0x2c4)),_0x2d4887[_0x463894(0x250)]('Content-type',_0x463894(0x223));var _0xc0f9ba=0x14,_0x3df91c=0x3c;_0x11e7cb[_0x463894(0x25c)](_0x2d4887),_0x11e7cb[_0x463894(0x200)](_0x463894(0x216)+_0x2df76f[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x11e7cb[_0x463894(0x2b7)](0x14)['text'](_0x463894(0x251),_0xc0f9ba,_0x3df91c),_0x11e7cb[_0x463894(0x2b7)](0xa)['text'](_0x463894(0x26a),_0xc0f9ba,_0x3df91c+=0xf),_0x11e7cb[_0x463894(0x2b7)](0xf)[_0x463894(0x266)](_0x1710d4,_0xc0f9ba,_0x3df91c+=0x32),_0x11e7cb[_0x463894(0x2b7)](0xa)[_0x463894(0x266)](_0x463894(0x2a2),_0xc0f9ba,_0x3df91c+=0x14),_0x11e7cb[_0x463894(0x2b7)](0x9)[_0x463894(0x266)](_0x463894(0x205),_0xc0f9ba,_0x3df91c+=0x28),_0x11e7cb[_0x463894(0x2b7)](0x9)[_0x463894(0x266)](_0x463894(0x269)+_0x32ea25[_0x463894(0x230)],_0xc0f9ba+0x3f,_0x3df91c),_0x11e7cb[_0x463894(0x2b7)](0x9)['text']('Customer\x20:\x20'+_0x32ea25[_0x463894(0x273)],_0xc0f9ba+0x17c,_0x3df91c,{'underline':!![]}),_0x11e7cb[_0x463894(0x2b7)](0x9)[_0x463894(0x266)](_0x463894(0x29c),_0xc0f9ba,_0x3df91c+=0xb),_0x11e7cb['fontSize'](0x9)[_0x463894(0x266)](_0x463894(0x269)+_0x32ea25[_0x463894(0x20c)],_0xc0f9ba+0x3f,_0x3df91c),_0x11e7cb[_0x463894(0x2b7)](0x9)[_0x463894(0x266)]('Control\x20Number\x20',_0xc0f9ba,_0x3df91c+=0xb),_0x11e7cb['fontSize'](0x9)['text'](_0x463894(0x269)+_0x32ea25[_0x463894(0x229)],_0xc0f9ba+0x3f,_0x3df91c);const _0x281431={'headers':[{'label':_0x463894(0x256),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x463894(0x25f),'property':_0x463894(0x293),'width':0xa5,'renderer':null},{'label':'Quantity','property':'qty','width':0x3c,'renderer':null},{'label':_0x463894(0x2bc),'property':'unit','width':0x3c,'renderer':null},{'label':'Production\x20Date','property':_0x463894(0x2aa),'width':0x50,'renderer':null},{'label':_0x463894(0x232),'property':_0x463894(0x218),'width':0x3f,'renderer':null},{'label':_0x463894(0x2a5),'property':_0x463894(0x22d),'width':0x3f,'renderer':null}],'datas':[]};var _0x14cd54=0x0;let _0x165931='';var _0x202e60=0x0;_0x32ea25['warehouse_name']==_0x463894(0x2af)?_0x165931='DG':_0x165931='FG';var _0xf570db=0x0;_0x32ea25[_0x463894(0x222)][_0x463894(0x21b)](_0x565ec5=>{const _0x572a34=_0x463894;console[_0x572a34(0x280)](_0x565ec5);let _0xdb45fe='';const _0x4e02ca=_0x565ec5[_0x572a34(0x231)];for(let _0x233e1f=0x1;_0x233e1f<=_0x4e02ca;_0x233e1f++){_0x4e02ca==_0x233e1f?_0xdb45fe+=_0x565ec5['maxperunit']:_0xdb45fe+=_0x565ec5[_0x572a34(0x270)]+',',_0x202e60+=_0x565ec5[_0x572a34(0x270)];}_0xdb45fe+='\x20/\x20'+_0x565ec5[_0x572a34(0x291)];const _0x342653={'itemcode':_0x565ec5[_0x572a34(0x220)],'itemdescription':_0x565ec5[_0x572a34(0x243)],'qty':_0x565ec5[_0x572a34(0x231)],'unit':_0x565ec5['unit'],'proddate':_0x565ec5[_0x572a34(0x258)],'batchno':_0x565ec5['batch_code'],'binloc':_0x165931+_0x565ec5[_0x572a34(0x2b1)]};_0x14cd54+=_0x565ec5[_0x572a34(0x231)],_0xf570db+=0x1,_0x281431[_0x572a34(0x29b)]['push'](_0x342653);}),_0x11e7cb[_0x463894(0x253)](_0x281431,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x11e7cb[_0x463894(0x295)](_0x463894(0x206))['fontSize'](0x8),'prepareRow':(_0x28e98a,_0x10a047,_0x440943,_0x1e1b30)=>_0x11e7cb[_0x463894(0x295)](_0x463894(0x28e))['fontSize'](0x8)});var _0x330765=_0x11e7cb['y'],_0x3e9459=_0x11e7cb['x'];_0x11e7cb[_0x463894(0x2b7)](0xa)[_0x463894(0x266)](_0x463894(0x1fb),_0x3e9459+0x7d,_0x330765),console[_0x463894(0x280)](_0x463894(0x2d0)+_0x3e9459+'\x20y:\x20'+_0x330765+_0x463894(0x23a)+_0xf570db);const _0x3c4d7a=_0x3e9459*_0xf570db;_0x11e7cb['fontSize'](0xa)[_0x463894(0x266)](_0x463894(0x233),_0x3e9459,_0x330765+=0x15e-_0x3c4d7a),_0x11e7cb[_0x463894(0x2b7)](0xa)['text'](_0x14cd54,_0x3e9459+0xdc,_0x330765,{'underline':!![]}),_0x11e7cb[_0x463894(0x2b7)](0xa)[_0x463894(0x266)](_0x463894(0x214),_0x3e9459,_0x330765+=0x19),_0x11e7cb[_0x463894(0x2b7)](0xa)[_0x463894(0x266)]('\x20'['repeat'](0x3c),_0x3e9459+0x3e,_0x330765,{'underline':!![]}),_0x11e7cb[_0x463894(0x2b7)](0xa)[_0x463894(0x266)](_0x463894(0x2bf),_0x3e9459,_0x330765+=0x32),_0x11e7cb[_0x463894(0x2b7)](0xa)[_0x463894(0x266)](_0x463894(0x2a7),_0x3e9459+0x3c,_0x330765,{'underline':!![]}),_0x11e7cb['fontSize'](0xa)['text']('Finished\x20Good\x20Warehouse\x20Supervisor',_0x3e9459+0x3c,_0x330765+0xc);let _0x291c4e=_0x11e7cb[_0x463894(0x2a1)]();for(let _0x38270d=0x0;_0x38270d<_0x291c4e[_0x463894(0x204)];_0x38270d++){_0x11e7cb[_0x463894(0x285)](_0x38270d);let _0x4d9c7c=_0x11e7cb['page'][_0x463894(0x2c9)][_0x463894(0x25b)];_0x11e7cb[_0x463894(0x278)][_0x463894(0x2c9)][_0x463894(0x25b)]=0x0,_0x11e7cb[_0x463894(0x266)](_0x463894(0x221)+(_0x38270d+0x1)+_0x463894(0x2ad)+_0x291c4e[_0x463894(0x204)],0x0,_0x11e7cb[_0x463894(0x278)][_0x463894(0x1f6)]-_0x4d9c7c/0x2,{'align':'center'}),_0x11e7cb[_0x463894(0x278)][_0x463894(0x2c9)]['bottom']=_0x4d9c7c;}const _0x49522f=_0x11e7cb['y'],_0x378a9b=_0x11e7cb['x'];_0x11e7cb[_0x463894(0x279)]();}catch(_0x3ec8da){console['log'](_0x3ec8da),_0x2d4887[_0x463894(0x2c2)](0x1f4)[_0x463894(0x29a)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get'](a0_0x2f8265(0x239),auth,async(_0x5def5a,_0x3748f6)=>{const _0x248e53=a0_0x2f8265;try{const {username:_0x220b93,email:_0x2bcd67,role:_0x10d09b}=_0x5def5a[_0x248e53(0x1fe)],_0x23ba0f=_0x5def5a[_0x248e53(0x1fe)],_0xd8776e=await profile[_0x248e53(0x21a)]({'email':_0x23ba0f[_0x248e53(0x2a8)]}),_0x1f97a1=await master_shop[_0x248e53(0x24a)](),_0x49275b=_0x5def5a[_0x248e53(0x2cd)]['id'],_0x2251b4=await transfers_finished['findById'](_0x49275b);var _0x5b25f2,_0x741e67;_0x5b25f2=_0x248e53(0x257),_0x741e67=_0x248e53(0x254);_0x2251b4['finalize']==_0x248e53(0x2a4)&&(_0x5b25f2=_0x248e53(0x297),_0x741e67='');const _0x26cd4e=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x3748f6['setHeader']('Content-disposition','inline;\x20filename=\x22OUT-'+_0x49275b+'.pdf\x22'),_0x3748f6[_0x248e53(0x250)](_0x248e53(0x260),_0x248e53(0x223));var _0xd6455e=0x14,_0x1b24eb=0x3c;_0x26cd4e['pipe'](_0x3748f6),_0x26cd4e[_0x248e53(0x200)](_0x248e53(0x216)+_0x1f97a1[0x0][_0x248e53(0x200)],0x14,0x0,{'fit':[0x64,0x64]}),_0x26cd4e[_0x248e53(0x2b7)](0x14)[_0x248e53(0x266)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0xd6455e,_0x1b24eb),_0x26cd4e['fontSize'](0xa)['text']('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0xd6455e,_0x1b24eb+=0xf),_0x26cd4e[_0x248e53(0x2b7)](0xf)[_0x248e53(0x266)](_0x5b25f2,_0xd6455e,_0x1b24eb+=0x32),_0x26cd4e['fontSize'](0xa)['text'](_0x741e67,_0xd6455e,_0x1b24eb+=0x14),_0x26cd4e['fontSize'](0x9)[_0x248e53(0x266)]('From\x20Warehouse\x20',_0xd6455e,_0x1b24eb+=0x28),_0x26cd4e['fontSize'](0x9)[_0x248e53(0x266)](_0x248e53(0x1ff)+_0x2251b4['from_warehouse'],_0xd6455e+0x3f,_0x1b24eb),_0x26cd4e[_0x248e53(0x2b7)](0x9)[_0x248e53(0x266)](_0x248e53(0x2b9),_0xd6455e,_0x1b24eb+=0xf),_0x26cd4e[_0x248e53(0x2b7)](0x9)[_0x248e53(0x266)]('\x20\x20\x20:\x20'+_0x2251b4[_0x248e53(0x2d2)],_0xd6455e+0x3f,_0x1b24eb),_0x26cd4e[_0x248e53(0x2b7)](0x9)[_0x248e53(0x266)]('Date\x20',_0xd6455e,_0x1b24eb+=0xb),_0x26cd4e['fontSize'](0x9)[_0x248e53(0x266)](_0x248e53(0x1ff)+_0x2251b4[_0x248e53(0x20c)],_0xd6455e+0x3f,_0x1b24eb),_0x26cd4e[_0x248e53(0x2b7)](0x9)[_0x248e53(0x266)](_0x248e53(0x20a),_0xd6455e,_0x1b24eb+=0xb),_0x26cd4e['fontSize'](0x9)[_0x248e53(0x266)](_0x248e53(0x1ff)+_0x2251b4['invoice'],_0xd6455e+0x3f,_0x1b24eb);const _0x114ddd={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x248e53(0x21c),'property':_0x248e53(0x208),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x248e53(0x28a),'property':_0x248e53(0x293),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x26cd4e['table'](_0x114ddd,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x26cd4e[_0x248e53(0x295)](_0x248e53(0x206))[_0x248e53(0x2b7)](0x8),'prepareRow':(_0x58566c,_0x35ccdf,_0x4d432c,_0x2bb140)=>_0x26cd4e[_0x248e53(0x295)](_0x248e53(0x28e))[_0x248e53(0x2b7)](0x8)});const _0x417029={'headers':[{'label':_0x248e53(0x256),'property':_0x248e53(0x208),'width':0x3c,'renderer':null},{'label':_0x248e53(0x25f),'property':_0x248e53(0x293),'width':0x96,'renderer':null},{'label':_0x248e53(0x299),'property':_0x248e53(0x2a3),'width':0x28,'renderer':null},{'label':_0x248e53(0x2bc),'property':_0x248e53(0x1f8),'width':0x37,'renderer':null},{'label':_0x248e53(0x287),'property':_0x248e53(0x2aa),'width':0x4b,'renderer':null},{'label':_0x248e53(0x232),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x248e53(0x2a5),'property':'binlocFrom','width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x248e53(0x22d),'width':0x3f,'renderer':null}],'datas':[]};var _0x157cb6=0x0;let _0x3820d0='';var _0x179d7d=0x0;if(_0x2251b4['from_warehouse']=='DRY\x20GOODS')_0x3820d0='DG';else _0x2251b4[_0x248e53(0x29e)]==_0x248e53(0x201)&&(_0x3820d0='FG');_0x2251b4[_0x248e53(0x281)][_0x248e53(0x21b)](_0x28d222=>{const _0x22ef81=_0x248e53;var _0x3c41a4=_0x28d222[_0x22ef81(0x24f)],_0x2ec061,_0x4a8a8c;_0x2ec061=_0x28d222[_0x22ef81(0x1f8)],_0x4a8a8c=_0x28d222[_0x22ef81(0x272)];_0x3c41a4=='S'&&(_0x2ec061=_0x28d222[_0x22ef81(0x291)],_0x4a8a8c=_0x28d222[_0x22ef81(0x272)]*_0x28d222[_0x22ef81(0x2b5)]);const _0x2ae4c5={'itemcode':_0x28d222['product_code'],'itemdescription':_0x28d222[_0x22ef81(0x243)],'qty':_0x4a8a8c,'unit':_0x2ec061,'proddate':_0x28d222['production_date'],'batchno':_0x28d222[_0x22ef81(0x21f)],'binloc':_0x3820d0+_0x28d222[_0x22ef81(0x2c7)],'qtyFrom':_0x28d222['from_quantity'],'binlocFrom':_0x3820d0+_0x28d222[_0x22ef81(0x26d)]};_0x157cb6+=_0x4a8a8c,_0x417029['datas'][_0x22ef81(0x26e)](_0x2ae4c5);}),_0x26cd4e[_0x248e53(0x253)](_0x417029,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x26cd4e[_0x248e53(0x295)]('Helvetica-Bold')[_0x248e53(0x2b7)](0x8),'prepareRow':(_0x2bd3f0,_0x4ee0c1,_0x28aa3b,_0x11f1f5)=>_0x26cd4e[_0x248e53(0x295)](_0x248e53(0x28e))[_0x248e53(0x2b7)](0x8)});var _0x6bdb3a=_0x26cd4e['y'],_0x277f82=_0x26cd4e['x'];_0x26cd4e['fontSize'](0xa)[_0x248e53(0x266)](_0x248e53(0x1fb),_0x277f82+0x7d,_0x6bdb3a),_0x26cd4e['fontSize'](0xa)[_0x248e53(0x266)](_0x248e53(0x233),_0x277f82,_0x6bdb3a+=0x15e),_0x26cd4e[_0x248e53(0x2b7)](0xa)[_0x248e53(0x266)](_0x157cb6,_0x277f82+0xd7,_0x6bdb3a,{'underline':!![]}),_0x26cd4e[_0x248e53(0x2b7)](0xa)[_0x248e53(0x266)](_0x248e53(0x214),_0x277f82,_0x6bdb3a+=0x19),_0x26cd4e[_0x248e53(0x2b7)](0xa)['text']('\x20'[_0x248e53(0x240)](0x3c),_0x277f82+0x3e,_0x6bdb3a,{'underline':!![]}),_0x26cd4e['fontSize'](0xa)[_0x248e53(0x266)]('Checked\x20By:\x20',_0x277f82,_0x6bdb3a+=0x32),_0x26cd4e['fontSize'](0xa)[_0x248e53(0x266)](_0x248e53(0x2a7),_0x277f82+0x3c,_0x6bdb3a,{'underline':!![]}),_0x26cd4e[_0x248e53(0x2b7)](0xa)[_0x248e53(0x266)](_0x248e53(0x28d),_0x277f82+0x3c,_0x6bdb3a+0xc);let _0x65a03b=_0x26cd4e[_0x248e53(0x2a1)]();for(let _0x5b25dd=0x0;_0x5b25dd<_0x65a03b[_0x248e53(0x204)];_0x5b25dd++){_0x26cd4e[_0x248e53(0x285)](_0x5b25dd);let _0xe3f647=_0x26cd4e[_0x248e53(0x278)]['margins'][_0x248e53(0x25b)];_0x26cd4e[_0x248e53(0x278)]['margins'][_0x248e53(0x25b)]=0x0,_0x26cd4e[_0x248e53(0x266)](_0x248e53(0x221)+(_0x5b25dd+0x1)+_0x248e53(0x2ad)+_0x65a03b['count'],0x0,_0x26cd4e[_0x248e53(0x278)]['height']-_0xe3f647/0x2,{'align':_0x248e53(0x25d)}),_0x26cd4e['page'][_0x248e53(0x2c9)]['bottom']=_0xe3f647;}const _0x47e5ee=_0x26cd4e['y'],_0x4736ff=_0x26cd4e['x'];_0x26cd4e['end']();}catch(_0x8e66d3){console[_0x248e53(0x280)](_0x8e66d3),_0x3748f6['status'](0x1f4)[_0x248e53(0x29a)](_0x248e53(0x2b3));}}),router[a0_0x2f8265(0x27e)]('/PDF_adjustment/:id',auth,async(_0x3665be,_0xf569e8)=>{const _0x38dccf=a0_0x2f8265;try{const {username:_0x5986de,email:_0x1ec3e9,role:_0x273490}=_0x3665be[_0x38dccf(0x1fe)],_0x347c05=_0x3665be[_0x38dccf(0x1fe)],_0x4e9473=await profile[_0x38dccf(0x21a)]({'email':_0x347c05['email']}),_0x53b62b=await master_shop[_0x38dccf(0x24a)](),_0x4ee4e1=_0x3665be[_0x38dccf(0x2cd)]['id'],_0x3d6f32=await adjustment_finished[_0x38dccf(0x2a6)](_0x4ee4e1);var _0x25b226,_0x180c6a;_0x25b226=_0x38dccf(0x27d),_0x180c6a=_0x38dccf(0x23c);_0x3d6f32[_0x38dccf(0x1f9)]==_0x38dccf(0x2a4)&&(_0x25b226=_0x38dccf(0x2cb),_0x180c6a='');const _0x32de17=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0xf569e8[_0x38dccf(0x250)]('Content-disposition',_0x38dccf(0x28f)+_0x4ee4e1+_0x38dccf(0x2c4)),_0xf569e8['setHeader']('Content-type',_0x38dccf(0x223));var _0x3cf5e1=0x14,_0x26b4d0=0x3c;_0x32de17['pipe'](_0xf569e8),_0x32de17[_0x38dccf(0x200)]('./public/upload/'+_0x53b62b[0x0][_0x38dccf(0x200)],0x14,0x0,{'fit':[0x64,0x64]}),_0x32de17[_0x38dccf(0x2b7)](0x14)['text'](_0x38dccf(0x251),_0x3cf5e1,_0x26b4d0),_0x32de17[_0x38dccf(0x2b7)](0xa)[_0x38dccf(0x266)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x3cf5e1,_0x26b4d0+=0xf),_0x32de17['fontSize'](0xf)[_0x38dccf(0x266)](_0x25b226,_0x3cf5e1,_0x26b4d0+=0x32),_0x32de17[_0x38dccf(0x2b7)](0xa)[_0x38dccf(0x266)](_0x180c6a,_0x3cf5e1,_0x26b4d0+=0x14),_0x32de17[_0x38dccf(0x2b7)](0x9)[_0x38dccf(0x266)](_0x38dccf(0x205),_0x3cf5e1,_0x26b4d0+=0x28),_0x32de17[_0x38dccf(0x2b7)](0x9)[_0x38dccf(0x266)]('\x20:\x20'+_0x3d6f32['warehouse_name'],_0x3cf5e1+0x3f,_0x26b4d0),_0x32de17[_0x38dccf(0x2b7)](0x9)['text'](_0x38dccf(0x29c),_0x3cf5e1,_0x26b4d0+=0xb),_0x32de17[_0x38dccf(0x2b7)](0x9)[_0x38dccf(0x266)](_0x38dccf(0x269)+_0x3d6f32[_0x38dccf(0x20c)],_0x3cf5e1+0x3f,_0x26b4d0),_0x32de17[_0x38dccf(0x2b7)](0x9)[_0x38dccf(0x266)](_0x38dccf(0x20a),_0x3cf5e1,_0x26b4d0+=0xb),_0x32de17['fontSize'](0x9)[_0x38dccf(0x266)](_0x38dccf(0x269)+_0x3d6f32[_0x38dccf(0x229)],_0x3cf5e1+0x3f,_0x26b4d0);const _0x462dd1={'headers':[{'label':_0x38dccf(0x256),'property':_0x38dccf(0x208),'width':0x3c,'renderer':null},{'label':_0x38dccf(0x25f),'property':_0x38dccf(0x293),'width':0x96,'renderer':null},{'label':_0x38dccf(0x299),'property':'qty','width':0x3c,'renderer':null},{'label':_0x38dccf(0x2bc),'property':'unit','width':0x3c,'renderer':null},{'label':'Production\x20Date','property':_0x38dccf(0x2aa),'width':0x50,'renderer':null},{'label':_0x38dccf(0x232),'property':_0x38dccf(0x218),'width':0x3f,'renderer':null},{'label':_0x38dccf(0x2a5),'property':_0x38dccf(0x22d),'width':0x3f,'renderer':null}],'datas':[]};var _0x3664f6=0x0;let _0x4732fc='';var _0x792503=0x0;_0x3d6f32[_0x38dccf(0x230)]==_0x38dccf(0x2af)?_0x4732fc='DG':_0x4732fc='FG';_0x3d6f32['product']['forEach'](_0x3ac3bb=>{const _0x48f5a5=_0x38dccf;console[_0x48f5a5(0x280)](_0x3ac3bb);var _0x1f740f=_0x3ac3bb[_0x48f5a5(0x24f)],_0x263287,_0x14e6cb;_0x263287=_0x3ac3bb[_0x48f5a5(0x1f8)],_0x14e6cb=_0x3ac3bb[_0x48f5a5(0x20f)];_0x1f740f=='S'&&(_0x263287=_0x3ac3bb[_0x48f5a5(0x291)],_0x14e6cb=_0x3ac3bb[_0x48f5a5(0x20f)]*_0x3ac3bb[_0x48f5a5(0x2b5)]);const _0x4dd32b={'itemcode':_0x3ac3bb[_0x48f5a5(0x220)],'itemdescription':_0x3ac3bb[_0x48f5a5(0x243)],'qty':_0x14e6cb,'unit':_0x263287,'proddate':_0x3ac3bb[_0x48f5a5(0x258)],'batchno':_0x3ac3bb[_0x48f5a5(0x21f)],'binloc':_0x4732fc+_0x3ac3bb['bay']};_0x3664f6+=_0x14e6cb,_0x462dd1[_0x48f5a5(0x29b)][_0x48f5a5(0x26e)](_0x4dd32b);}),_0x32de17[_0x38dccf(0x253)](_0x462dd1,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x32de17[_0x38dccf(0x295)](_0x38dccf(0x206))[_0x38dccf(0x2b7)](0x8),'prepareRow':(_0x157501,_0x31fd75,_0x444076,_0x1faf35)=>_0x32de17[_0x38dccf(0x295)](_0x38dccf(0x28e))[_0x38dccf(0x2b7)](0x8)});var _0x4240dd=_0x32de17['y'],_0x2af3ca=_0x32de17['x'];_0x32de17[_0x38dccf(0x2b7)](0xa)['text'](_0x38dccf(0x1fb),_0x2af3ca+0x7d,_0x4240dd),_0x32de17[_0x38dccf(0x2b7)](0xa)['text'](_0x38dccf(0x263),_0x2af3ca,_0x4240dd+=0x15e),_0x32de17[_0x38dccf(0x2b7)](0xa)[_0x38dccf(0x266)](_0x3664f6,_0x2af3ca+0xc8,_0x4240dd),_0x32de17['fontSize'](0xa)[_0x38dccf(0x266)]('Picked\x20By\x20\x20\x20:\x20',_0x2af3ca,_0x4240dd+=0x19),_0x32de17['fontSize'](0xa)[_0x38dccf(0x266)]('\x20'[_0x38dccf(0x240)](0x3c),_0x2af3ca+0x3e,_0x4240dd,{'underline':!![]}),_0x32de17['fontSize'](0xa)['text']('Checked\x20By\x20',_0x2af3ca,_0x4240dd+=0x32),_0x32de17[_0x38dccf(0x2b7)](0xa)[_0x38dccf(0x266)](_0x38dccf(0x269),_0x2af3ca+0x37,_0x4240dd),_0x32de17[_0x38dccf(0x2b7)](0xa)[_0x38dccf(0x266)](_0x38dccf(0x2a7),_0x2af3ca+0x3c,_0x4240dd,{'underline':!![]}),_0x32de17[_0x38dccf(0x2b7)](0xa)[_0x38dccf(0x266)](_0x38dccf(0x28d),_0x2af3ca+0x3c,_0x4240dd+0xc);let _0x228f96=_0x32de17[_0x38dccf(0x2a1)]();for(let _0x1b8525=0x0;_0x1b8525<_0x228f96[_0x38dccf(0x204)];_0x1b8525++){_0x32de17[_0x38dccf(0x285)](_0x1b8525);let _0x3370b4=_0x32de17['page'][_0x38dccf(0x2c9)][_0x38dccf(0x25b)];_0x32de17['page'][_0x38dccf(0x2c9)][_0x38dccf(0x25b)]=0x0,_0x32de17['text'](_0x38dccf(0x221)+(_0x1b8525+0x1)+_0x38dccf(0x2ad)+_0x228f96[_0x38dccf(0x204)],0x0,_0x32de17[_0x38dccf(0x278)][_0x38dccf(0x1f6)]-_0x3370b4/0x2,{'align':_0x38dccf(0x25d)}),_0x32de17[_0x38dccf(0x278)][_0x38dccf(0x2c9)]['bottom']=_0x3370b4;}const _0x345fb5=_0x32de17['y'],_0x3ddb28=_0x32de17['x'];_0x32de17[_0x38dccf(0x279)]();}catch(_0x525e06){console[_0x38dccf(0x280)](_0x525e06),_0xf569e8['status'](0x1f4)[_0x38dccf(0x29a)](_0x38dccf(0x2b3));}}),router[a0_0x2f8265(0x27e)](a0_0x2f8265(0x2be),auth,async(_0xd317c5,_0x139fc0)=>{const _0x5d7dfd=a0_0x2f8265;try{const {username:_0x5690be,email:_0x236c7a,role:_0x21eac0}=_0xd317c5[_0x5d7dfd(0x1fe)],_0x1723fe=_0xd317c5[_0x5d7dfd(0x1fe)],_0x5a0c0a=await profile[_0x5d7dfd(0x21a)]({'email':_0x1723fe['email']}),_0x4707f8=await master_shop[_0x5d7dfd(0x24a)](),_0x2fbbf3=_0xd317c5[_0x5d7dfd(0x2cd)]['id'],_0x553064=await purchases_finished['findById'](_0x2fbbf3),_0x445f06=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x139fc0['setHeader']('Content-disposition',_0x5d7dfd(0x28f)+_0x2fbbf3+_0x5d7dfd(0x2c4)),_0x139fc0[_0x5d7dfd(0x250)](_0x5d7dfd(0x260),_0x5d7dfd(0x223));var _0x11a86c=0x14,_0xbcacbf=0x3c;_0x445f06[_0x5d7dfd(0x25c)](_0x139fc0),_0x445f06[_0x5d7dfd(0x200)](_0x5d7dfd(0x216)+_0x4707f8[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x445f06['fontSize'](0x14)[_0x5d7dfd(0x266)](_0x5d7dfd(0x251),_0x11a86c,_0xbcacbf),_0x445f06[_0x5d7dfd(0x2b7)](0xa)[_0x5d7dfd(0x266)](_0x5d7dfd(0x26a),_0x11a86c,_0xbcacbf+=0xf),_0x445f06[_0x5d7dfd(0x2b7)](0xf)[_0x5d7dfd(0x266)](_0x5d7dfd(0x2bd),_0x11a86c,_0xbcacbf+=0x32),_0x445f06[_0x5d7dfd(0x2b7)](0xa)['text'](_0x5d7dfd(0x203),_0x11a86c,_0xbcacbf+=0x14),_0x445f06[_0x5d7dfd(0x2b7)](0x9)[_0x5d7dfd(0x266)]('Warehouse\x20',_0x11a86c,_0xbcacbf+=0x28),_0x445f06[_0x5d7dfd(0x2b7)](0x9)[_0x5d7dfd(0x266)](_0x5d7dfd(0x269)+_0x553064[_0x5d7dfd(0x230)],_0x11a86c+0x3f,_0xbcacbf),_0x445f06['fontSize'](0x9)['text'](_0x5d7dfd(0x249)+_0x553064[_0x5d7dfd(0x211)],_0x11a86c+0x17c,_0xbcacbf),_0x445f06[_0x5d7dfd(0x2b7)](0x9)[_0x5d7dfd(0x266)]('Date\x20',_0x11a86c,_0xbcacbf+=0xb),_0x445f06[_0x5d7dfd(0x2b7)](0x9)['text']('\x20:\x20'+_0x553064[_0x5d7dfd(0x20c)],_0x11a86c+0x3f,_0xbcacbf),_0x445f06[_0x5d7dfd(0x2b7)](0x9)[_0x5d7dfd(0x266)]('Control\x20Number\x20',_0x11a86c,_0xbcacbf+=0xb),_0x445f06[_0x5d7dfd(0x2b7)](0x9)[_0x5d7dfd(0x266)](_0x5d7dfd(0x269)+_0x553064[_0x5d7dfd(0x229)],_0x11a86c+0x3f,_0xbcacbf);const _0x4c7bc0={'headers':[{'label':_0x5d7dfd(0x256),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x5d7dfd(0x25f),'property':_0x5d7dfd(0x293),'width':0xc8,'renderer':null},{'label':_0x5d7dfd(0x299),'property':_0x5d7dfd(0x2a3),'width':0x3c,'renderer':null},{'label':_0x5d7dfd(0x2bc),'property':_0x5d7dfd(0x1f8),'width':0x3c,'renderer':null},{'label':_0x5d7dfd(0x215),'property':_0x5d7dfd(0x2a0),'width':0x50,'renderer':null},{'label':_0x5d7dfd(0x232),'property':_0x5d7dfd(0x218),'width':0x3f,'renderer':null},{'label':_0x5d7dfd(0x2a5),'property':_0x5d7dfd(0x22d),'width':0x3f,'renderer':null}],'datas':[]};var _0x36eedf=0x0;let _0x42be04='';_0x553064[_0x5d7dfd(0x230)]==_0x5d7dfd(0x2af)?_0x42be04='DG':_0x42be04='FG';_0x553064[_0x5d7dfd(0x281)][_0x5d7dfd(0x21b)](_0x3249df=>{const _0x215bee=_0x5d7dfd;let _0x1e0647='';var _0xe08df6=0x0;const _0x52111e={'itemcode':_0x3249df['product_code'],'itemdescription':_0x3249df['product_name'],'qty':_0x3249df[_0x215bee(0x231)],'unit':_0x3249df[_0x215bee(0x2b6)],'expdate':_0x3249df[_0x215bee(0x283)],'batchno':_0x3249df[_0x215bee(0x21f)],'binloc':_0x42be04+_0x3249df[_0x215bee(0x2b1)]};_0x36eedf+=_0x3249df[_0x215bee(0x231)],_0x4c7bc0[_0x215bee(0x29b)]['push'](_0x52111e);}),_0x445f06[_0x5d7dfd(0x253)](_0x4c7bc0,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x445f06['font'](_0x5d7dfd(0x206))[_0x5d7dfd(0x2b7)](0x8),'prepareRow':(_0x94895b,_0xd7eb77,_0x1166db,_0x197be1)=>_0x445f06[_0x5d7dfd(0x295)](_0x5d7dfd(0x28e))[_0x5d7dfd(0x2b7)](0x8)});var _0x5741fd=_0x445f06['y'],_0x1d89d7=_0x445f06['x'];_0x445f06[_0x5d7dfd(0x2b7)](0xa)[_0x5d7dfd(0x266)](_0x5d7dfd(0x1fb),_0x1d89d7+0x7d,_0x5741fd),_0x445f06[_0x5d7dfd(0x2b7)](0xa)['text'](_0x5d7dfd(0x233),_0x1d89d7,_0x5741fd+=0x15e),_0x445f06['fontSize'](0xa)[_0x5d7dfd(0x266)](_0x36eedf,_0x1d89d7+0xfa,_0x5741fd),_0x445f06['fontSize'](0xa)[_0x5d7dfd(0x266)](_0x5d7dfd(0x21d),_0x1d89d7,_0x5741fd+=0x19),_0x445f06[_0x5d7dfd(0x2b7)](0xa)[_0x5d7dfd(0x266)](_0x5d7dfd(0x226),_0x1d89d7+0x37,_0x5741fd,{'underline':!![]}),_0x445f06['fontSize'](0xa)[_0x5d7dfd(0x266)](_0x5d7dfd(0x27b),_0x1d89d7,_0x5741fd+0x32),_0x445f06['fontSize'](0xa)[_0x5d7dfd(0x266)](_0x5d7dfd(0x2a7),_0x1d89d7+0x32,_0x5741fd+0x32,{'underline':!![]}),_0x445f06['fontSize'](0xa)['text'](_0x5d7dfd(0x28d),_0x1d89d7+0x32,_0x5741fd+0x3c);let _0x5ba05c=_0x445f06[_0x5d7dfd(0x2a1)]();for(let _0x2b33bb=0x0;_0x2b33bb<_0x5ba05c[_0x5d7dfd(0x204)];_0x2b33bb++){_0x445f06[_0x5d7dfd(0x285)](_0x2b33bb);let _0x312399=_0x445f06[_0x5d7dfd(0x278)]['margins'][_0x5d7dfd(0x25b)];_0x445f06[_0x5d7dfd(0x278)]['margins']['bottom']=0x0,_0x445f06[_0x5d7dfd(0x266)](_0x5d7dfd(0x221)+(_0x2b33bb+0x1)+'\x20of\x20'+_0x5ba05c[_0x5d7dfd(0x204)],0x0,_0x445f06['page'][_0x5d7dfd(0x1f6)]-_0x312399/0x2,{'align':_0x5d7dfd(0x25d)}),_0x445f06[_0x5d7dfd(0x278)][_0x5d7dfd(0x2c9)][_0x5d7dfd(0x25b)]=_0x312399;}const _0x5e8d49=_0x445f06['y'],_0x2204f7=_0x445f06['x'];_0x445f06[_0x5d7dfd(0x279)]();}catch(_0x18dcdd){console[_0x5d7dfd(0x280)](_0x18dcdd),_0x139fc0['status'](0x1f4)[_0x5d7dfd(0x29a)](_0x5d7dfd(0x2b3));}}),router[a0_0x2f8265(0x27e)](a0_0x2f8265(0x212),auth,async(_0x57fb8e,_0xd15353)=>{const _0xc39623=a0_0x2f8265;try{const {username:_0x75aaa8,email:_0x5d3d92,role:_0x22d04a}=_0x57fb8e['user'],_0x19bc80=_0x57fb8e[_0xc39623(0x1fe)],_0x2909a1=await profile[_0xc39623(0x21a)]({'email':_0x19bc80[_0xc39623(0x2a8)]}),_0x539263=await master_shop[_0xc39623(0x24a)](),_0x6ec9c4=_0x57fb8e[_0xc39623(0x2cd)]['id'],_0x4910eb=await sales_return_finished[_0xc39623(0x2a6)](_0x6ec9c4),_0x31bb21=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0xd15353[_0xc39623(0x250)](_0xc39623(0x26c),_0xc39623(0x28f)+_0x6ec9c4+_0xc39623(0x2c4)),_0xd15353[_0xc39623(0x250)]('Content-type',_0xc39623(0x223));var _0x157eef=0x14,_0x66a039=0x64;_0x31bb21[_0xc39623(0x25c)](_0xd15353),_0x31bb21[_0xc39623(0x200)](_0xc39623(0x216)+_0x539263[0x0][_0xc39623(0x200)],0x14,0x0,{'fit':[0x64,0x64]}),_0x31bb21[_0xc39623(0x2b7)](0x14)[_0xc39623(0x266)](_0xc39623(0x251),_0x157eef,_0x66a039),_0x31bb21[_0xc39623(0x2b7)](0xa)['text'](_0xc39623(0x26a),_0x157eef,_0x66a039+=0xf),_0x31bb21['fontSize'](0xf)[_0xc39623(0x266)]('PICKING\x20LIST',_0x157eef,_0x66a039+=0x32),_0x31bb21[_0xc39623(0x2b7)](0xa)[_0xc39623(0x266)]('(RETURN)',_0x157eef,_0x66a039+=0x1e),_0x31bb21[_0xc39623(0x2b7)](0x9)[_0xc39623(0x266)](_0xc39623(0x275)+_0x4910eb[_0xc39623(0x28b)],_0x157eef,_0x66a039+=0x28),_0x31bb21[_0xc39623(0x2b7)](0x9)['text'](_0xc39623(0x2ce)+_0x4910eb[_0xc39623(0x273)],0x190,0xd2,{'underline':!![]}),_0x31bb21['fontSize'](0x9)[_0xc39623(0x266)](_0xc39623(0x298),_0x157eef,_0x66a039+=0xb),_0x31bb21[_0xc39623(0x2b7)](0x9)[_0xc39623(0x266)]('Date\x20:\x20'+_0x4910eb[_0xc39623(0x20c)],_0x157eef,_0x66a039+=0xb),_0x31bb21[_0xc39623(0x2b7)](0x9)[_0xc39623(0x266)]('Control\x20Number\x20:\x20'+_0x4910eb[_0xc39623(0x229)],_0x157eef,_0x66a039+=0xb);var _0x491d89='',_0x16db3a='',_0x4e34de=0x0,_0x33f422;console['log'](_0x4910eb[_0xc39623(0x286)]);_0x4910eb[_0xc39623(0x286)]=='GS'?(_0x4910eb[_0xc39623(0x230)]==_0xc39623(0x2af)?warecode='DG':warecode='FG',_0x491d89={'headers':[{'label':_0xc39623(0x256),'property':_0xc39623(0x208),'width':0x3c,'renderer':null},{'label':_0xc39623(0x25f),'property':_0xc39623(0x293),'width':0xc8,'renderer':null},{'label':_0xc39623(0x299),'property':_0xc39623(0x2a3),'width':0x3c,'renderer':null},{'label':_0xc39623(0x2bc),'property':'unit','width':0x3c,'renderer':null},{'label':_0xc39623(0x215),'property':_0xc39623(0x2a0),'width':0x50,'renderer':null},{'label':_0xc39623(0x232),'property':_0xc39623(0x218),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':'binloc','width':0x3f,'renderer':null}],'datas':[]},_0x4910eb[_0xc39623(0x23e)][_0xc39623(0x21b)](_0x90c609=>{const _0x3d4449=_0xc39623;let _0x4c4946='';var _0x2ee950=0x0;_0x16db3a={'itemcode':_0x90c609[_0x3d4449(0x220)],'itemdescription':_0x90c609[_0x3d4449(0x243)],'qty':_0x90c609[_0x3d4449(0x235)],'unit':_0x90c609['unit'],'expdate':_0x90c609[_0x3d4449(0x283)],'batchno':_0x90c609['batch_code'],'binloc':warecode+_0x90c609['bay']},_0x4e34de+=_0x90c609['return_qty'],console[_0x3d4449(0x280)](_0x90c609),_0x491d89['datas'][_0x3d4449(0x26e)](_0x16db3a);})):(_0x491d89={'headers':[{'label':_0xc39623(0x256),'property':_0xc39623(0x208),'width':0x3c,'renderer':null},{'label':_0xc39623(0x25f),'property':_0xc39623(0x293),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0xc39623(0x2a3),'width':0x3c,'renderer':null},{'label':_0xc39623(0x2bc),'property':_0xc39623(0x1f8),'width':0x3c,'renderer':null},{'label':_0xc39623(0x215),'property':'expdate','width':0x50,'renderer':null},{'label':_0xc39623(0x232),'property':_0xc39623(0x218),'width':0x3f,'renderer':null}],'datas':[]},_0x4910eb[_0xc39623(0x202)]['forEach'](_0x46fa90=>{const _0x5b8a76=_0xc39623;let _0x2d241c='';var _0x58ac85=0x0;_0x16db3a={'itemcode':_0x46fa90['product_code'],'itemdescription':_0x46fa90['product_name'],'qty':_0x46fa90['return_qty'],'unit':_0x46fa90[_0x5b8a76(0x1f8)],'expdate':_0x46fa90[_0x5b8a76(0x283)],'batchno':_0x46fa90[_0x5b8a76(0x21f)]},_0x4e34de+=_0x46fa90[_0x5b8a76(0x235)],console[_0x5b8a76(0x280)](_0x4e34de+_0x5b8a76(0x248)+_0x46fa90[_0x5b8a76(0x235)]),_0x491d89[_0x5b8a76(0x29b)]['push'](_0x16db3a);}));_0x31bb21[_0xc39623(0x253)](_0x491d89,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x31bb21[_0xc39623(0x295)](_0xc39623(0x206))[_0xc39623(0x2b7)](0x8),'prepareRow':(_0x2c200f,_0x1cf6ec,_0x1dd6a9,_0x539325)=>_0x31bb21[_0xc39623(0x295)](_0xc39623(0x28e))[_0xc39623(0x2b7)](0x8)});var _0x1200f5=_0x31bb21['y'],_0x26bc55=_0x31bb21['x'];_0x31bb21[_0xc39623(0x2b7)](0xa)[_0xc39623(0x266)](_0xc39623(0x1fb),_0x26bc55+0x7d,_0x1200f5),_0x31bb21[_0xc39623(0x2b7)](0xa)[_0xc39623(0x266)](_0xc39623(0x233),_0x26bc55,_0x1200f5+=0x190),_0x31bb21[_0xc39623(0x2b7)](0xa)[_0xc39623(0x266)](_0x4e34de,_0x26bc55+0x37,_0x1200f5,{'underline':!![]}),_0x31bb21[_0xc39623(0x2b7)](0xa)[_0xc39623(0x266)](_0xc39623(0x213),_0x26bc55,_0x1200f5+0x1e),_0x31bb21[_0xc39623(0x2b7)](0xa)[_0xc39623(0x266)](_0xc39623(0x259),_0x26bc55+0x32,_0x1200f5+0x1e,{'underline':!![]});let _0x2135b2=_0x31bb21[_0xc39623(0x2a1)]();for(let _0x5ba738=0x0;_0x5ba738<_0x2135b2['count'];_0x5ba738++){_0x31bb21[_0xc39623(0x285)](_0x5ba738);let _0xe700b0=_0x31bb21[_0xc39623(0x278)][_0xc39623(0x2c9)][_0xc39623(0x25b)];_0x31bb21[_0xc39623(0x278)][_0xc39623(0x2c9)][_0xc39623(0x25b)]=0x0,_0x31bb21['text'](_0xc39623(0x221)+(_0x5ba738+0x1)+_0xc39623(0x2ad)+_0x2135b2[_0xc39623(0x204)],0x0,_0x31bb21[_0xc39623(0x278)][_0xc39623(0x1f6)]-_0xe700b0/0x2,{'align':'center'}),_0x31bb21[_0xc39623(0x278)][_0xc39623(0x2c9)][_0xc39623(0x25b)]=_0xe700b0;}const _0xc8da6e=_0x31bb21['y'],_0x162f25=_0x31bb21['x'];_0x31bb21[_0xc39623(0x279)]();}catch(_0x1701a8){console['log'](_0x1701a8),_0xd15353['status'](0x1f4)[_0xc39623(0x29a)](_0xc39623(0x2b3));}}),router[a0_0x2f8265(0x27e)]('/pdf_puchases/:id',auth,async(_0x5d0212,_0x14f427)=>{const _0x498d4e=a0_0x2f8265;try{const {username:_0x41e529,email:_0x4b29ce,role:_0x4930ca}=_0x5d0212['user'],_0x42c928=_0x5d0212[_0x498d4e(0x1fe)],_0x186fd4=await profile['findOne']({'email':_0x42c928['email']}),_0x1e108c=await master_shop[_0x498d4e(0x24a)](),_0x3d9d64=_0x5d0212['params']['id'],_0x20d626=await purchases[_0x498d4e(0x2a6)](_0x3d9d64),_0x126f1a=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x14f427[_0x498d4e(0x250)](_0x498d4e(0x26c),_0x498d4e(0x28f)+_0x3d9d64+_0x498d4e(0x2c4)),_0x14f427[_0x498d4e(0x250)]('Content-type','application/pdf');var _0x354e79=0x14,_0x2b661c=0x3c;_0x126f1a['pipe'](_0x14f427),_0x126f1a[_0x498d4e(0x200)]('./public/upload/'+_0x1e108c[0x0][_0x498d4e(0x200)],0x14,0x0,{'fit':[0x64,0x64]}),_0x126f1a[_0x498d4e(0x2b7)](0x14)[_0x498d4e(0x266)](_0x498d4e(0x251),_0x354e79,_0x2b661c),_0x126f1a['fontSize'](0xa)[_0x498d4e(0x266)](_0x498d4e(0x26a),_0x354e79,_0x2b661c+=0xf),_0x126f1a[_0x498d4e(0x2b7)](0xf)[_0x498d4e(0x266)](_0x498d4e(0x1f4),_0x354e79,_0x2b661c+=0x32),_0x126f1a['fontSize'](0xa)[_0x498d4e(0x266)](_0x498d4e(0x203),_0x354e79,_0x2b661c+=0x14),_0x126f1a[_0x498d4e(0x2b7)](0x9)[_0x498d4e(0x266)]('Warehouse\x20',_0x354e79,_0x2b661c+=0x2d),_0x126f1a[_0x498d4e(0x2b7)](0x9)['text']('\x20:\x20'+_0x20d626[_0x498d4e(0x230)],_0x354e79+0x3f,_0x2b661c),_0x126f1a[_0x498d4e(0x2b7)](0x9)[_0x498d4e(0x266)]('Supplier\x20:\x20'+_0x20d626[_0x498d4e(0x21e)],_0x354e79+0x17c,_0x2b661c,{'underline':!![]}),_0x126f1a['fontSize'](0x9)[_0x498d4e(0x266)]('Date\x20',_0x354e79,_0x2b661c+=0xb),_0x126f1a[_0x498d4e(0x2b7)](0x9)[_0x498d4e(0x266)](_0x498d4e(0x269)+_0x20d626[_0x498d4e(0x20c)],_0x354e79+0x3f,_0x2b661c),_0x126f1a[_0x498d4e(0x2b7)](0x9)['text'](_0x498d4e(0x20a),_0x354e79,_0x2b661c+=0xb),_0x126f1a[_0x498d4e(0x2b7)](0x9)[_0x498d4e(0x266)]('\x20:\x20'+_0x20d626[_0x498d4e(0x229)],_0x354e79+0x3f,_0x2b661c);const _0x349b26={'headers':[{'label':_0x498d4e(0x256),'property':_0x498d4e(0x208),'width':0x3c,'renderer':null},{'label':_0x498d4e(0x25f),'property':_0x498d4e(0x293),'width':0x96,'renderer':null},{'label':_0x498d4e(0x237),'property':_0x498d4e(0x2a3),'width':0x2d,'renderer':null},{'label':'UOM','property':_0x498d4e(0x1f8),'width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':_0x498d4e(0x2a0),'width':0x46,'renderer':null},{'label':_0x498d4e(0x232),'property':_0x498d4e(0x218),'width':0x3c,'renderer':null},{'label':'Bin\x20Location','property':_0x498d4e(0x22d),'width':0x3c,'renderer':null},{'label':'Delivery\x20Code','property':_0x498d4e(0x20d),'width':0x3f,'renderer':null}],'datas':[]};var _0x4c1917=0x0;let _0x49fdc9='';_0x20d626[_0x498d4e(0x281)]['forEach'](_0x39035f=>{const _0x571637=_0x498d4e;let _0x57eabc='';var _0x1c7334=0x0,_0x20ff97=0x0,_0x438afe='';_0x39035f[_0x571637(0x24b)]=='S'?(_0x39035f['maxperunit']>0x0?_0x20ff97=_0x39035f[_0x571637(0x231)]*_0x39035f[_0x571637(0x270)]:_0x20ff97=_0x39035f[_0x571637(0x231)]*0x1,_0x438afe=_0x39035f['secondary_unit']):(_0x20ff97=_0x39035f['quantity']*0x1,_0x438afe=_0x39035f[_0x571637(0x2b6)]);const _0x26dff5={'itemcode':_0x39035f['product_code'],'itemdescription':_0x39035f['product_name'],'qty':_0x20ff97,'unit':_0x438afe,'expdate':_0x39035f['expiry_date'],'batchno':_0x39035f['batch_code'],'binloc':_0x39035f[_0x571637(0x207)]+_0x39035f[_0x571637(0x26b)]+_0x39035f[_0x571637(0x2b1)]+_0x39035f['bin']+_0x39035f[_0x571637(0x29f)][0x0]+_0x39035f[_0x571637(0x267)],'DelCode':_0x39035f[_0x571637(0x26f)]};_0x4c1917+=_0x20ff97,_0x349b26[_0x571637(0x29b)][_0x571637(0x26e)](_0x26dff5);}),_0x126f1a[_0x498d4e(0x253)](_0x349b26,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x126f1a['font'](_0x498d4e(0x206))['fontSize'](0x8),'prepareRow':(_0x3af6c1,_0x223dad,_0x57a4db,_0x41c5cb)=>_0x126f1a[_0x498d4e(0x295)](_0x498d4e(0x28e))[_0x498d4e(0x2b7)](0x8)});var _0x2643dd=_0x126f1a['y'],_0x2b8a4b=_0x126f1a['x'];_0x126f1a['fontSize'](0xa)[_0x498d4e(0x266)](_0x498d4e(0x1fb),_0x2b8a4b+0x7d,_0x2643dd),_0x126f1a[_0x498d4e(0x2b7)](0xa)[_0x498d4e(0x266)](_0x498d4e(0x233),_0x2b8a4b,_0x2643dd+=0x15e),_0x126f1a[_0x498d4e(0x2b7)](0xa)['text'](_0x4c1917,_0x2b8a4b+0xf0,_0x2643dd,{'underline':!![]}),_0x126f1a[_0x498d4e(0x2b7)](0xa)[_0x498d4e(0x266)](_0x498d4e(0x274),_0x2b8a4b,_0x2643dd+0x28),_0x126f1a['fontSize'](0xa)['text'](_0x498d4e(0x2b8),_0x2b8a4b+0x40,_0x2643dd+0x28,{'underline':!![]}),_0x126f1a[_0x498d4e(0x2b7)](0xa)[_0x498d4e(0x266)](_0x498d4e(0x262),_0x2b8a4b+0x40,_0x2643dd+0x32);let _0x557a62=_0x126f1a['bufferedPageRange']();for(let _0x33eb44=0x0;_0x33eb44<_0x557a62[_0x498d4e(0x204)];_0x33eb44++){_0x126f1a[_0x498d4e(0x285)](_0x33eb44);let _0x4bc32d=_0x126f1a[_0x498d4e(0x278)]['margins']['bottom'];_0x126f1a['page'][_0x498d4e(0x2c9)][_0x498d4e(0x25b)]=0x0,_0x126f1a[_0x498d4e(0x266)](_0x498d4e(0x221)+(_0x33eb44+0x1)+_0x498d4e(0x2ad)+_0x557a62[_0x498d4e(0x204)],0x0,_0x126f1a['page']['height']-_0x4bc32d/0x2,{'align':'center'}),_0x126f1a['page'][_0x498d4e(0x2c9)]['bottom']=_0x4bc32d;}const _0x35b90e=_0x126f1a['y'],_0x25a190=_0x126f1a['x'];_0x126f1a[_0x498d4e(0x279)]();}catch(_0x5969bd){console['log'](_0x5969bd),_0x14f427['status'](0x1f4)[_0x498d4e(0x29a)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x2f8265(0x27e)](a0_0x2f8265(0x210),auth,async(_0x2e7755,_0x2f3b0b)=>{const _0x297ce6=a0_0x2f8265;try{const {username:_0x4266a3,email:_0x1fcb46,role:_0x22bdc0}=_0x2e7755[_0x297ce6(0x1fe)],_0x153d27=_0x2e7755['user'],_0x5ba7ce=await profile['findOne']({'email':_0x153d27[_0x297ce6(0x2a8)]}),_0x24cb4e=await master_shop[_0x297ce6(0x24a)](),_0x85be29=_0x2e7755[_0x297ce6(0x2cd)]['id'],_0x3310a9=await sales[_0x297ce6(0x2a6)](_0x85be29),_0x71458=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x295d78;_0x295d78=_0x297ce6(0x27d);_0x3310a9[_0x297ce6(0x1f9)]==_0x297ce6(0x2a4)&&(_0x295d78=_0x297ce6(0x25a));_0x2f3b0b[_0x297ce6(0x250)]('Content-disposition',_0x297ce6(0x28f)+_0x85be29+_0x297ce6(0x2c4)),_0x2f3b0b[_0x297ce6(0x250)]('Content-type',_0x297ce6(0x223));var _0x464829=0x14,_0x12a631=0x64;_0x71458[_0x297ce6(0x25c)](_0x2f3b0b),_0x71458['image'](_0x297ce6(0x216)+_0x24cb4e[0x0][_0x297ce6(0x200)],0x14,0x0,{'fit':[0x64,0x64]}),_0x71458[_0x297ce6(0x2b7)](0x14)[_0x297ce6(0x266)](_0x297ce6(0x251),_0x464829,_0x12a631),_0x71458[_0x297ce6(0x2b7)](0xa)['text'](_0x297ce6(0x26a),_0x464829,_0x12a631+=0xf),_0x71458[_0x297ce6(0x2b7)](0xf)[_0x297ce6(0x266)](_0x295d78,_0x464829,_0x12a631+=0x32),_0x71458[_0x297ce6(0x2b7)](0xa)['text']('(OUTGOING)',_0x464829,_0x12a631+=0x14),_0x71458[_0x297ce6(0x2b7)](0x9)[_0x297ce6(0x266)](_0x297ce6(0x29c),_0x464829,_0x12a631+=0x19),_0x71458['fontSize'](0x9)[_0x297ce6(0x266)](_0x297ce6(0x269)+_0x3310a9[_0x297ce6(0x20c)],_0x464829+0x3f,_0x12a631),_0x71458[_0x297ce6(0x2b7)](0x9)[_0x297ce6(0x266)]('REF\x20MRIS#\x20',_0x464829,_0x12a631+=0xb),_0x71458['fontSize'](0x9)['text'](_0x297ce6(0x269)+_0x3310a9[_0x297ce6(0x229)],_0x464829+0x3f,_0x12a631);const _0x8360b2={'headers':[{'label':_0x297ce6(0x2c5),'property':'itemcode','align':_0x297ce6(0x25d),'width':0x2d,'renderer':null},{'label':'MATERIAL\x20DESCRIPTION','property':_0x297ce6(0x293),'align':_0x297ce6(0x25d),'width':0x64,'renderer':null},{'label':_0x297ce6(0x22b),'property':_0x297ce6(0x29d),'align':'center','width':0x28,'renderer':null},{'label':_0x297ce6(0x245),'property':_0x297ce6(0x27a),'align':_0x297ce6(0x25d),'width':0x28,'renderer':null},{'label':_0x297ce6(0x2bc),'property':_0x297ce6(0x1f8),'align':'center','width':0x28,'renderer':null},{'label':_0x297ce6(0x2b4),'property':'blocation','align':_0x297ce6(0x25d),'width':0x32,'renderer':null},{'label':_0x297ce6(0x24e),'property':_0x297ce6(0x2aa),'align':'center','width':0x3c,'renderer':null},{'label':_0x297ce6(0x23b),'property':_0x297ce6(0x2a0),'align':'center','width':0x3c,'renderer':null},{'label':_0x297ce6(0x1f5),'property':_0x297ce6(0x292),'align':_0x297ce6(0x25d),'width':0x3f,'renderer':null},{'label':'DELIVERY\x20CODE','property':_0x297ce6(0x236),'align':_0x297ce6(0x25d),'width':0x3f,'renderer':null}],'datas':[]};var _0x9524f2=0x0;let _0xc610b7='';var _0x4fc592=0x0,_0x464829=0x1;_0x3310a9[_0x297ce6(0x222)][_0x297ce6(0x21b)](_0x239cf3=>{const _0x5c2a4a=_0x297ce6,_0x89776a=new Date(_0x239cf3['production_date']),_0x520bdf={'year':'numeric','month':_0x5c2a4a(0x2d4),'day':_0x5c2a4a(0x219)},_0x2c534b=_0x89776a[_0x5c2a4a(0x23d)](_0x5c2a4a(0x227),_0x520bdf),_0x2c400e=new Date(_0x239cf3[_0x5c2a4a(0x283)]),_0xfb5aeb={'year':_0x5c2a4a(0x219),'month':_0x5c2a4a(0x2d4),'day':_0x5c2a4a(0x219)},_0x59d85c=_0x2c400e['toLocaleDateString'](_0x5c2a4a(0x227),_0xfb5aeb),_0x13a133=new Date(_0x239cf3['delivery_date']),_0x5ee31f={'year':_0x5c2a4a(0x219),'month':'short','day':'numeric'};var _0xbd3f60=_0x13a133['toLocaleDateString']('en-US',_0x5ee31f);typeof _0x239cf3['delivery_date']==_0x5c2a4a(0x25e)&&(_0xbd3f60='');console[_0x5c2a4a(0x280)](_0x239cf3);var _0x4c7e82=0x0,_0x10bb64='';_0x239cf3[_0x5c2a4a(0x24f)]=='S'?(_0x239cf3['maxperunit']>0x0?_0x4c7e82=_0x239cf3[_0x5c2a4a(0x231)]*_0x239cf3[_0x5c2a4a(0x270)]:_0x4c7e82=_0x239cf3[_0x5c2a4a(0x231)]*0x1,_0x10bb64=_0x239cf3[_0x5c2a4a(0x291)]):(_0x4c7e82=_0x239cf3[_0x5c2a4a(0x231)]*0x1,_0x10bb64=_0x239cf3['unit']);const _0x4fee61={'itemcode':_0x239cf3[_0x5c2a4a(0x220)],'itemdescription':_0x239cf3[_0x5c2a4a(0x243)],'rqty':_0x239cf3[_0x5c2a4a(0x246)],'iqty':_0x4c7e82,'unit':_0x10bb64,'blocation':_0x239cf3[_0x5c2a4a(0x207)]+_0x239cf3[_0x5c2a4a(0x26b)]+_0x239cf3[_0x5c2a4a(0x2b1)]+_0x239cf3[_0x5c2a4a(0x2ae)]+_0x239cf3[_0x5c2a4a(0x29f)][0x0]+_0x239cf3[_0x5c2a4a(0x267)],'proddate':_0x2c534b,'expdate':_0x59d85c,'del_date':_0xbd3f60,'del_code':_0x239cf3[_0x5c2a4a(0x26f)]};_0x464829++,_0x8360b2[_0x5c2a4a(0x29b)][_0x5c2a4a(0x26e)](_0x4fee61);}),_0x71458[_0x297ce6(0x253)](_0x8360b2,{'x':_0x464829+0x11,'y':_0x12a631+=0x1e,'prepareHeader':()=>_0x71458['font'](_0x297ce6(0x206))['fontSize'](6.5),'prepareRow':(_0x559918,_0x1dacc2,_0xd700ce,_0xaf5f2f,_0x528650)=>{const _0x51ca36=_0x297ce6,{x:_0x597443,y:_0x4c17b6,width:_0x2e15c3,height:_0x31b285}=_0x528650;_0x71458[_0x51ca36(0x295)](_0x51ca36(0x28e))['fontSize'](0x8),_0x71458[_0x51ca36(0x28c)](0.5)[_0x51ca36(0x234)](_0x597443,_0x4c17b6)[_0x51ca36(0x238)](_0x597443,_0x4c17b6+_0x31b285)[_0x51ca36(0x2ab)]();}});var _0x181ac5=_0x71458['y'],_0x515e10=_0x71458['x'],_0x3b95e8=_0x181ac5-=0x8;_0x71458[_0x297ce6(0x28c)](0x5),_0x71458[_0x297ce6(0x284)](_0x297ce6(0x209))[_0x297ce6(0x234)](0x240,_0x3b95e8)[_0x297ce6(0x238)](0x11,_0x3b95e8)[_0x297ce6(0x2ab)](),_0x71458[_0x297ce6(0x2b7)](0xa)[_0x297ce6(0x266)](_0x297ce6(0x1fb),_0x515e10+0x7d,_0x181ac5+=0xf),_0x71458['fontSize'](0xb)[_0x297ce6(0x266)](_0x297ce6(0x289),_0x515e10,_0x181ac5+=_0x71458['x']+_0x515e10),_0x71458[_0x297ce6(0x2b7)](0xa)[_0x297ce6(0x266)](_0x297ce6(0x2c6),_0x515e10+0x52,_0x181ac5,{'underline':!![]}),_0x71458['fontSize'](0xa)[_0x297ce6(0x266)]('Picked\x20By',_0x515e10,_0x181ac5+=0x19),_0x71458[_0x297ce6(0x2b7)](0xa)[_0x297ce6(0x266)](_0x297ce6(0x269),_0x515e10+0x4b,_0x181ac5),_0x71458['fontSize'](0xa)[_0x297ce6(0x266)]('\x20'[_0x297ce6(0x240)](0x3c),_0x515e10+0x50,_0x181ac5,{'underline':!![]}),_0x71458[_0x297ce6(0x2b7)](0xa)['text'](_0x297ce6(0x27c),_0x515e10,_0x181ac5+=0x32),_0x71458[_0x297ce6(0x2b7)](0xa)[_0x297ce6(0x266)](_0x297ce6(0x269),_0x515e10+0x4b,_0x181ac5),_0x71458['fontSize'](0xa)['text']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x515e10+0x50,_0x181ac5,{'underline':!![]}),_0x71458[_0x297ce6(0x2b7)](0xa)[_0x297ce6(0x266)](_0x297ce6(0x262),_0x515e10+0x50,_0x181ac5+0xc);let _0x387a69=_0x71458[_0x297ce6(0x2a1)]();for(let _0x5b33f4=0x0;_0x5b33f4<_0x387a69[_0x297ce6(0x204)];_0x5b33f4++){_0x71458['switchToPage'](_0x5b33f4);let _0x848fd8=_0x71458[_0x297ce6(0x278)][_0x297ce6(0x2c9)][_0x297ce6(0x25b)];_0x71458['page'][_0x297ce6(0x2c9)][_0x297ce6(0x25b)]=0x0,_0x71458[_0x297ce6(0x266)](_0x297ce6(0x221)+(_0x5b33f4+0x1)+_0x297ce6(0x2ad)+_0x387a69['count'],0x0,_0x71458[_0x297ce6(0x278)][_0x297ce6(0x1f6)]-_0x848fd8/0x2,{'align':'center'}),_0x71458[_0x297ce6(0x278)][_0x297ce6(0x2c9)][_0x297ce6(0x25b)]=_0x848fd8;}const _0x58bd7d=_0x71458['y'],_0x47cf1f=_0x71458['x'];_0x71458[_0x297ce6(0x279)]();}catch(_0x4718a8){console[_0x297ce6(0x280)](_0x4718a8),_0x2f3b0b[_0x297ce6(0x2c2)](0x1f4)[_0x297ce6(0x29a)](_0x297ce6(0x2b3));}}),router['get']('/PDF_adjustment_rm/:id',auth,async(_0x4652ec,_0x16288d)=>{const _0x219e37=a0_0x2f8265;try{const {username:_0x2cc110,email:_0x19c3d4,role:_0x2ccb2c}=_0x4652ec[_0x219e37(0x1fe)],_0x135dbc=_0x4652ec['user'],_0x4a2354=await profile['findOne']({'email':_0x135dbc[_0x219e37(0x2a8)]}),_0x44b1e5=await master_shop[_0x219e37(0x24a)](),_0x32b5a8=_0x4652ec[_0x219e37(0x2cd)]['id'],_0x40e622=await adjustment[_0x219e37(0x2a6)](_0x32b5a8);var _0x4a8d21,_0x124bb7;_0x4a8d21=_0x219e37(0x27d),_0x124bb7=_0x219e37(0x23c);_0x40e622[_0x219e37(0x1f9)]=='True'&&(_0x4a8d21=_0x219e37(0x2cb),_0x124bb7='');const _0x58ce69=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x16288d[_0x219e37(0x250)](_0x219e37(0x26c),_0x219e37(0x28f)+_0x32b5a8+_0x219e37(0x2c4)),_0x16288d[_0x219e37(0x250)](_0x219e37(0x260),_0x219e37(0x223));var _0x2e08a5=0x14,_0x366d34=0x3c;_0x58ce69[_0x219e37(0x25c)](_0x16288d),_0x58ce69[_0x219e37(0x200)](_0x219e37(0x216)+_0x44b1e5[0x0][_0x219e37(0x200)],0x14,0x0,{'fit':[0x64,0x64]}),_0x58ce69[_0x219e37(0x2b7)](0x14)[_0x219e37(0x266)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x2e08a5,_0x366d34),_0x58ce69[_0x219e37(0x2b7)](0xa)[_0x219e37(0x266)](_0x219e37(0x26a),_0x2e08a5,_0x366d34+=0xf),_0x58ce69[_0x219e37(0x2b7)](0xf)[_0x219e37(0x266)](_0x4a8d21,_0x2e08a5,_0x366d34+=0x32),_0x58ce69[_0x219e37(0x2b7)](0xa)[_0x219e37(0x266)](_0x124bb7,_0x2e08a5,_0x366d34+=0x14),_0x58ce69['fontSize'](0x9)[_0x219e37(0x266)]('Warehouse\x20',_0x2e08a5,_0x366d34+=0x28),_0x58ce69[_0x219e37(0x2b7)](0x9)[_0x219e37(0x266)](_0x219e37(0x269)+_0x40e622['warehouse_name'],_0x2e08a5+0x3f,_0x366d34),_0x58ce69['fontSize'](0x9)[_0x219e37(0x266)](_0x219e37(0x29c),_0x2e08a5,_0x366d34+=0xb),_0x58ce69[_0x219e37(0x2b7)](0x9)[_0x219e37(0x266)](_0x219e37(0x269)+_0x40e622[_0x219e37(0x20c)],_0x2e08a5+0x3f,_0x366d34),_0x58ce69[_0x219e37(0x2b7)](0x9)[_0x219e37(0x266)](_0x219e37(0x20a),_0x2e08a5,_0x366d34+=0xb),_0x58ce69[_0x219e37(0x2b7)](0x9)[_0x219e37(0x266)](_0x219e37(0x269)+_0x40e622[_0x219e37(0x229)],_0x2e08a5+0x3f,_0x366d34);const _0x59c9e7={'headers':[{'label':'Item\x20Code','property':_0x219e37(0x208),'width':0x3c,'renderer':null},{'label':_0x219e37(0x25f),'property':_0x219e37(0x293),'width':0x96,'renderer':null},{'label':'Quantity','property':_0x219e37(0x2a3),'width':0x3c,'renderer':null},{'label':_0x219e37(0x2bc),'property':_0x219e37(0x1f8),'width':0x3c,'renderer':null},{'label':_0x219e37(0x287),'property':_0x219e37(0x2aa),'width':0x50,'renderer':null},{'label':_0x219e37(0x232),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x219e37(0x2a5),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x4c7e2c=0x0,_0x3316cb=0x0;_0x40e622[_0x219e37(0x281)][_0x219e37(0x21b)](_0x5655bf=>{const _0x5455e8=_0x219e37;let _0x5b6bda='';const _0x28e8a2=_0x5655bf[_0x5455e8(0x272)];for(let _0x2f7aa6=0x1;_0x2f7aa6<=_0x28e8a2;_0x2f7aa6++){_0x28e8a2==_0x2f7aa6?_0x5b6bda+=_0x5655bf[_0x5455e8(0x270)]:_0x5b6bda+=_0x5655bf[_0x5455e8(0x270)]+',',_0x3316cb+=_0x5655bf[_0x5455e8(0x270)];}_0x5b6bda+='\x20/\x20'+_0x5655bf[_0x5455e8(0x291)];const _0x5d8e67={'itemcode':_0x5655bf[_0x5455e8(0x220)],'itemdescription':_0x5655bf[_0x5455e8(0x243)],'qty':_0x5655bf[_0x5455e8(0x2a9)],'unit':_0x5655bf[_0x5455e8(0x1f8)],'proddate':_0x5655bf['production_date'],'batchno':_0x5655bf[_0x5455e8(0x21f)],'binloc':_0x5655bf[_0x5455e8(0x207)]+_0x5655bf[_0x5455e8(0x26b)]+_0x5655bf[_0x5455e8(0x2b1)]+_0x5655bf[_0x5455e8(0x2ae)]+_0x5655bf[_0x5455e8(0x29f)][0x0]+_0x5655bf[_0x5455e8(0x267)]};_0x4c7e2c+=_0x5655bf[_0x5455e8(0x2a9)],_0x59c9e7[_0x5455e8(0x29b)]['push'](_0x5d8e67);}),_0x58ce69[_0x219e37(0x253)](_0x59c9e7,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x58ce69['font']('Helvetica-Bold')['fontSize'](0x8),'prepareRow':(_0x5efb11,_0x44a5ac,_0x18c27c,_0x5f92fa)=>_0x58ce69[_0x219e37(0x295)](_0x219e37(0x28e))[_0x219e37(0x2b7)](0x8)});var _0x120f89=_0x58ce69['y'],_0x231125=_0x58ce69['x'];_0x58ce69[_0x219e37(0x2b7)](0xa)['text'](_0x219e37(0x1fb),_0x231125+0x7d,_0x120f89),_0x58ce69[_0x219e37(0x2b7)](0xa)[_0x219e37(0x266)](_0x219e37(0x263),_0x231125,_0x120f89+=0x136),_0x58ce69['fontSize'](0xa)[_0x219e37(0x266)](_0x4c7e2c,_0x231125+0xc8,_0x120f89),_0x58ce69[_0x219e37(0x2b7)](0xa)[_0x219e37(0x266)]('Picked\x20By\x20\x20\x20\x20\x20:\x20',_0x231125,_0x120f89+=0x19),_0x58ce69[_0x219e37(0x2b7)](0xa)[_0x219e37(0x266)]('\x20'['repeat'](0x3c),_0x231125+0x3e,_0x120f89,{'underline':!![]}),_0x58ce69[_0x219e37(0x2b7)](0xa)[_0x219e37(0x266)](_0x219e37(0x244),_0x231125,_0x120f89+=0x32),_0x58ce69[_0x219e37(0x2b7)](0xa)[_0x219e37(0x266)](_0x219e37(0x269),_0x231125+0x37,_0x120f89),_0x58ce69[_0x219e37(0x2b7)](0xa)[_0x219e37(0x266)](_0x219e37(0x2c1),_0x231125+0x3c,_0x120f89,{'underline':!![]}),_0x58ce69[_0x219e37(0x2b7)](0xa)[_0x219e37(0x266)](_0x219e37(0x262),_0x231125+0x3c,_0x120f89+0xc);let _0x2f8870=_0x58ce69[_0x219e37(0x2a1)]();for(let _0x1da6cc=0x0;_0x1da6cc<_0x2f8870[_0x219e37(0x204)];_0x1da6cc++){_0x58ce69[_0x219e37(0x285)](_0x1da6cc);let _0x40f47c=_0x58ce69['page'][_0x219e37(0x2c9)][_0x219e37(0x25b)];_0x58ce69['page']['margins'][_0x219e37(0x25b)]=0x0,_0x58ce69[_0x219e37(0x266)](_0x219e37(0x221)+(_0x1da6cc+0x1)+_0x219e37(0x2ad)+_0x2f8870[_0x219e37(0x204)],0x0,_0x58ce69[_0x219e37(0x278)][_0x219e37(0x1f6)]-_0x40f47c/0x2,{'align':_0x219e37(0x25d)}),_0x58ce69[_0x219e37(0x278)]['margins'][_0x219e37(0x25b)]=_0x40f47c;}const _0x1475f8=_0x58ce69['y'],_0x3c8126=_0x58ce69['x'];_0x58ce69[_0x219e37(0x279)]();}catch(_0x381672){console[_0x219e37(0x280)](_0x381672),_0x16288d[_0x219e37(0x2c2)](0x1f4)[_0x219e37(0x29a)](_0x219e37(0x2b3));}}),router[a0_0x2f8265(0x27e)](a0_0x2f8265(0x225),auth,async(_0x3a70e7,_0x1da302)=>{const _0x202d67=a0_0x2f8265;try{const {username:_0x20b512,email:_0x58aeab,role:_0x48528d}=_0x3a70e7['user'],_0x5789dd=_0x3a70e7[_0x202d67(0x1fe)],_0x2817e3=await profile[_0x202d67(0x21a)]({'email':_0x5789dd['email']}),_0x5ce6d8=await master_shop[_0x202d67(0x24a)](),_0xa8556d=_0x3a70e7[_0x202d67(0x2cd)]['id'],_0xb80829=await transfers[_0x202d67(0x2a6)](_0xa8556d);var _0x45f665,_0x3a4bcb;_0x45f665='Picking\x20List',_0x3a4bcb=_0x202d67(0x254);_0xb80829['finalize']==_0x202d67(0x2a4)&&(_0x45f665=_0x202d67(0x297),_0x3a4bcb='');const _0x8a5091=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1da302[_0x202d67(0x250)](_0x202d67(0x26c),'inline;\x20filename=\x22OUT-'+_0xa8556d+_0x202d67(0x2c4)),_0x1da302[_0x202d67(0x250)](_0x202d67(0x260),_0x202d67(0x223));var _0x30fbbb=0x14,_0x2d4e5d=0x3c;_0x8a5091['pipe'](_0x1da302),_0x8a5091[_0x202d67(0x200)](_0x202d67(0x216)+_0x5ce6d8[0x0][_0x202d67(0x200)],0x14,0x0,{'fit':[0x64,0x64]}),_0x8a5091[_0x202d67(0x2b7)](0x14)[_0x202d67(0x266)](_0x202d67(0x251),_0x30fbbb,_0x2d4e5d),_0x8a5091[_0x202d67(0x2b7)](0xa)[_0x202d67(0x266)](_0x202d67(0x26a),_0x30fbbb,_0x2d4e5d+=0xf),_0x8a5091[_0x202d67(0x2b7)](0xf)['text'](_0x45f665,_0x30fbbb,_0x2d4e5d+=0x32),_0x8a5091[_0x202d67(0x2b7)](0xa)['text'](_0x3a4bcb,_0x30fbbb,_0x2d4e5d+=0x14),_0x8a5091[_0x202d67(0x2b7)](0x9)['text'](_0x202d67(0x224),_0x30fbbb,_0x2d4e5d+=0x28),_0x8a5091[_0x202d67(0x2b7)](0x9)[_0x202d67(0x266)](_0x202d67(0x1ff)+_0xb80829['from_warehouse'],_0x30fbbb+0x3f,_0x2d4e5d),_0x8a5091['fontSize'](0x9)['text'](_0x202d67(0x2b9),_0x30fbbb,_0x2d4e5d+=0xa),_0x8a5091['fontSize'](0x9)[_0x202d67(0x266)]('\x20\x20\x20:\x20'+_0xb80829['to_warehouse'],_0x30fbbb+0x3f,_0x2d4e5d),_0x8a5091[_0x202d67(0x2b7)](0x9)['text'](_0x202d67(0x29c),_0x30fbbb,_0x2d4e5d+=0xb),_0x8a5091[_0x202d67(0x2b7)](0x9)[_0x202d67(0x266)](_0x202d67(0x1ff)+_0xb80829[_0x202d67(0x20c)],_0x30fbbb+0x3f,_0x2d4e5d),_0x8a5091['fontSize'](0x9)['text'](_0x202d67(0x20a),_0x30fbbb,_0x2d4e5d+=0xb),_0x8a5091[_0x202d67(0x2b7)](0x9)[_0x202d67(0x266)]('\x20\x20\x20:\x20'+_0xb80829['invoice'],_0x30fbbb+0x3f,_0x2d4e5d);const _0x33b2e9={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x202d67(0x2ca),'property':_0x202d67(0x208),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x202d67(0x24d),'property':_0x202d67(0x293),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x8a5091[_0x202d67(0x253)](_0x33b2e9,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x8a5091[_0x202d67(0x295)](_0x202d67(0x206))[_0x202d67(0x2b7)](0x8),'prepareRow':(_0x48823b,_0xb706b0,_0x44922b,_0x58b7f9)=>_0x8a5091['font']('Helvetica')[_0x202d67(0x2b7)](0x8)});const _0x162c68={'headers':[{'label':'Item\x20Code','property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x202d67(0x293),'width':0x96,'renderer':null},{'label':_0x202d67(0x299),'property':_0x202d67(0x2a3),'width':0x28,'renderer':null},{'label':'UOM','property':_0x202d67(0x1f8),'width':0x37,'renderer':null},{'label':'Production\x20Date','property':_0x202d67(0x2aa),'width':0x4b,'renderer':null},{'label':_0x202d67(0x232),'property':_0x202d67(0x218),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':'binlocFrom','width':0x3f,'renderer':null},{'label':_0x202d67(0x2a5),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x2216a5=0x0;let _0x491cf2='';var _0x45f216=0x0;_0xb80829[_0x202d67(0x281)][_0x202d67(0x21b)](_0x2835f6=>{const _0x1a01a8=_0x202d67;var _0x1e790b=_0x2835f6[_0x1a01a8(0x24f)],_0x5400b4;_0x5400b4=_0x2835f6[_0x1a01a8(0x1f8)];_0x1e790b=='S'&&(_0x5400b4=_0x2835f6[_0x1a01a8(0x291)]);const _0x14fbb8={'itemcode':_0x2835f6[_0x1a01a8(0x220)],'itemdescription':_0x2835f6[_0x1a01a8(0x243)],'qty':_0x2835f6[_0x1a01a8(0x272)],'unit':_0x5400b4,'proddate':_0x2835f6[_0x1a01a8(0x258)],'batchno':_0x2835f6['batch_code'],'binloc':_0x2835f6[_0x1a01a8(0x207)]+_0x2835f6[_0x1a01a8(0x26b)]+_0x2835f6[_0x1a01a8(0x2c7)]+_0x2835f6[_0x1a01a8(0x22f)]+_0x2835f6[_0x1a01a8(0x265)][0x0]+_0x2835f6[_0x1a01a8(0x23f)],'qtyFrom':_0x2835f6[_0x1a01a8(0x255)],'binlocFrom':_0x2835f6[_0x1a01a8(0x20b)]+_0x2835f6[_0x1a01a8(0x22e)]+_0x2835f6['from_bay']+_0x2835f6[_0x1a01a8(0x261)]+_0x2835f6[_0x1a01a8(0x252)][0x0]+_0x2835f6[_0x1a01a8(0x20e)]};_0x2216a5+=_0x2835f6[_0x1a01a8(0x272)],_0x162c68[_0x1a01a8(0x29b)][_0x1a01a8(0x26e)](_0x14fbb8);}),_0x8a5091[_0x202d67(0x253)](_0x162c68,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x8a5091[_0x202d67(0x295)](_0x202d67(0x206))[_0x202d67(0x2b7)](0x8),'prepareRow':(_0x3fb228,_0x3b0870,_0x5be1b6,_0x4212a5)=>_0x8a5091[_0x202d67(0x295)](_0x202d67(0x28e))[_0x202d67(0x2b7)](0x8)});var _0x3ca458=_0x8a5091['y'],_0x55d6cc=_0x8a5091['x'];_0x8a5091[_0x202d67(0x2b7)](0xa)['text'](_0x202d67(0x1fb),_0x55d6cc+0x7d,_0x3ca458),_0x8a5091[_0x202d67(0x2b7)](0xa)['text']('TOTAL\x20QTY:\x20',_0x55d6cc,_0x3ca458+=0x12c),_0x8a5091[_0x202d67(0x2b7)](0xa)[_0x202d67(0x266)](_0x2216a5,_0x55d6cc+0xd7,_0x3ca458,{'underline':!![]}),_0x8a5091[_0x202d67(0x2b7)](0xa)[_0x202d67(0x266)](_0x202d67(0x2bf),_0x55d6cc,_0x3ca458+=0x32),_0x8a5091[_0x202d67(0x2b7)](0xa)[_0x202d67(0x266)](_0x202d67(0x2ba),_0x55d6cc+0x3c,_0x3ca458,{'underline':!![]}),_0x8a5091['fontSize'](0xa)['text']('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x55d6cc+0x3c,_0x3ca458+0xc);let _0x33c8d8=_0x8a5091[_0x202d67(0x2a1)]();for(let _0x2440ff=0x0;_0x2440ff<_0x33c8d8['count'];_0x2440ff++){_0x8a5091[_0x202d67(0x285)](_0x2440ff);let _0x3cc07d=_0x8a5091['page'][_0x202d67(0x2c9)][_0x202d67(0x25b)];_0x8a5091['page']['margins']['bottom']=0x0,_0x8a5091[_0x202d67(0x266)](_0x202d67(0x221)+(_0x2440ff+0x1)+_0x202d67(0x2ad)+_0x33c8d8['count'],0x0,_0x8a5091[_0x202d67(0x278)]['height']-_0x3cc07d/0x2,{'align':_0x202d67(0x25d)}),_0x8a5091['page']['margins']['bottom']=_0x3cc07d;}const _0x44945f=_0x8a5091['y'],_0x38dd75=_0x8a5091['x'];_0x8a5091['end']();}catch(_0x1851f2){console[_0x202d67(0x280)](_0x1851f2),_0x1da302[_0x202d67(0x2c2)](0x1f4)[_0x202d67(0x29a)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x2f8265(0x27e)](a0_0x2f8265(0x271),auth,async(_0x57d588,_0xeb9355)=>{const _0x58cdf0=a0_0x2f8265;try{const _0x2c036c=_0x71716a=>_0x71716a*0x48,_0x17af48={'width':0x3,'height':0x1},_0x16f597=await product[_0x58cdf0(0x24a)](),_0x53ba87=new PDFDocument({'margin':_0x2c036c(0.75),'size':[_0x2c036c(_0x17af48['width']),_0x2c036c(_0x17af48[_0x58cdf0(0x1f6)])],'bufferPages':!![]}),_0x56628f=_0x16f597[_0x58cdf0(0x27f)];for(let _0x57ef88=0x0;_0x57ef88<=_0x56628f;_0x57ef88++){if(_0x57ef88!=_0x16f597[_0x58cdf0(0x27f)]){const _0x2d17a5=_0x16f597[_0x57ef88][_0x58cdf0(0x241)],_0x335682=_0x16f597[_0x57ef88][_0x58cdf0(0x242)],_0x13e54c=_0x16f597[_0x57ef88]['secondary_code'],_0x49d49c=_0x16f597[_0x57ef88]['product_code'],_0x5eb343=new Canvas();JsBarcode(_0x5eb343,_0x335682,{'format':'CODE128','height':0x32,'displayValue':!![],'text':_0x335682}),_0x53ba87['image'](_0x5eb343[_0x58cdf0(0x1fd)](),0x0,0x0,{'width':0xd2}),_0x53ba87[_0x58cdf0(0x1f7)]();}}_0x53ba87['pipe'](_0xeb9355),_0x53ba87[_0x58cdf0(0x279)]();}catch(_0x3e9e60){console[_0x58cdf0(0x2d3)](_0x58cdf0(0x2cc),_0x3e9e60),_0xeb9355[_0x58cdf0(0x2c2)](0x1f4)[_0x58cdf0(0x29a)](_0x58cdf0(0x2b3));}}),module[a0_0x2f8265(0x247)]=router;