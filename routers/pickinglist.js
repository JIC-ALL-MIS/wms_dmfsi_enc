const a0_0x15f9b0=a0_0x2c01;(function(_0x5a79fe,_0x1f2233){const _0x1b1791=a0_0x2c01,_0x9d22ce=_0x5a79fe();while(!![]){try{const _0x2be8a4=parseInt(_0x1b1791(0x19a))/0x1*(parseInt(_0x1b1791(0x181))/0x2)+parseInt(_0x1b1791(0x1f3))/0x3+-parseInt(_0x1b1791(0x178))/0x4+parseInt(_0x1b1791(0x223))/0x5+parseInt(_0x1b1791(0x171))/0x6*(-parseInt(_0x1b1791(0x163))/0x7)+-parseInt(_0x1b1791(0x193))/0x8+parseInt(_0x1b1791(0x1d8))/0x9;if(_0x2be8a4===_0x1f2233)break;else _0x9d22ce['push'](_0x9d22ce['shift']());}catch(_0xaba232){_0x9d22ce['push'](_0x9d22ce['shift']());}}}(a0_0x471f,0x23ba4));const express=require(a0_0x15f9b0(0x15d)),res=require(a0_0x15f9b0(0x176)),app=express(),router=express[a0_0x15f9b0(0x1c6)](),multer=require(a0_0x15f9b0(0x19f)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x15f9b0(0x179)),auth=require(a0_0x15f9b0(0x18b)),users=require(a0_0x15f9b0(0x204)),excelJS=require(a0_0x15f9b0(0x1bb)),xlsx=require(a0_0x15f9b0(0x1ce)),PDFDocument=require(a0_0x15f9b0(0x221)),fs=require('fs'),blobStream=require(a0_0x15f9b0(0x1b9)),JsBarcode=require(a0_0x15f9b0(0x1ad)),{Canvas}=require(a0_0x15f9b0(0x15e));function a0_0x471f(){const _0x261019=['Check\x20By\x20\x20\x20\x20:\x20','\x20\x20\x20\x20\x20FROM','setHeader','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(STOCKS\x20TRANSFER)','Content-type','invoice','status','error','blob-stream','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','exceljs','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','quantity','/barcode_generator/','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','batchno','/PDF_transfer/:id','x:\x20','UOM','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','font','Router','Check\x20By:\x20','Finished\x20Good\x20Warehouse\x20Supervisor','sale_product','toBuffer','\x20:\x20','QTY','REQUESTED\x20QUANTITY','xlsx','qty','moveTo','delivery_code','TOTAL\x20QTY:\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MATERIAL\x20DESCRIPTION','Checked\x20By:\x20','\x20<>\x20','Helvetica-Bold','4901715kDpCta','TOTAL\x20QTY\x20:\x20','from_storage','STOCKS\x20TRANSFER','QUANTITY\x20ISSUED','lineWidth','Bin\x20Location','height','floorlevel','\x20of\x20','inline;\x20filename=\x22OUT-','\x20\x20\x20\x20\x20TO','/pdf_sales_return_fin/:id','proddate','expiry_date','secondary_code','bufferedPageRange','requested_qty','prod_cat','Quantity','toLocaleDateString','Page:\x20','\x20\x20\x20:\x20','maxperunit','return_sale','datas','/PDF_adjustment/:id','673608hvCLow','\x20\x20FROM','Delivery\x20Code','Customer\x20:\x20','standard_unit','Production\x20Date','forEach','PRODUCTION\x20DATE','(INVENTORY\x20ADJUSTMENT)','DELIVERY\x20DATE','type','push','adjust_qty','to_bay','LOCATION','new_adjust_qty','to_quantity','../public/language/languages.json','rqty','switchToPage','table','en-US','date','POnumber','/PDF_adjustment_rm/:id','(RETURN)','/pdf_puchases_fin/:id','itemdescription','stroke','EXPIRATION\x20DATE','PREPARED\x20BY\x20:\x20','end','blocation','iqty','pipe','margins','findOne','Picked\x20By','binlocFrom','bay','count','To\x20Warehouse\x20','secondary_unit','batch_code','to_warehouse','CODE128','pdfkit-table','rack','564225LQpaXs','email','PICKING\x20LIST','bottom','from_quantity','unit','DELIVERY\x20RECEIPT','fontSize','repeat','Helvetica','Date\x20','expdate','product','findById','del_date','maxPerUnit','express','canvas','Item\x20Description','Picked\x20By\x20\x20\x20\x20:\x20','bin','Raw\x20Materials\x20Warehouse\x20Supervisor','26824kCFRSW','warehouse_cat','./public/upload/','length','/PDF_transfer_rm/:id','center','DelCode','find','Expiration\x20Date','to_bin','Control\x20Number\x20','warehouse_name','INVENTORY\x20ADJUSTMENT','to_floorlevel','444WqaDHv','.pdf\x22','params','lineTo','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','express/lib/response','short','1062408ZACjKM','../models/all_models','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','product_name','REF\x20MRIS#\x20','Warehouse\x20','Picked\x20By\x20\x20\x20:\x20','DRY\x20GOODS','True','4TABXnf','from_warehouse','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','itemcode','DELIVERY\x20CODE','finalize','Supplier\x20:\x20','Item\x20Code','Checked\x20By\x20','send','../middleware/auth','/PDF/:id','user','From\x20Warehouse\x20','product_code','return_sale_QA','customer','inline;\x20filename=\x22','1996912GFIWSN','production_date','log','image','FTGS\x20Number\x20:\x20','Content-disposition','to_types','31554funyns','ARMAN\x20CRUZ','binloc','numeric','Batch\x20No','multer','lineCap','get','undefined','suppliers','text','Warehouse\x20:\x20','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','from_bay','application/pdf','return_qty','\x20/\x20','Picked\x20By\x20\x20\x20\x20\x20:\x20','jsbarcode','storage','page'];a0_0x471f=function(){return _0x261019;};return a0_0x471f();}function a0_0x2c01(_0x4c7c01,_0xda4dea){const _0x471fa6=a0_0x471f();return a0_0x2c01=function(_0x2c01f2,_0x7d38b8){_0x2c01f2=_0x2c01f2-0x15c;let _0x38bd87=_0x471fa6[_0x2c01f2];return _0x38bd87;},a0_0x2c01(_0x4c7c01,_0xda4dea);}router[a0_0x15f9b0(0x1a1)](a0_0x15f9b0(0x18c),auth,async(_0x543f32,_0x308875)=>{const _0x21620b=a0_0x15f9b0;try{const {username:_0x543b56,email:_0x3723c5,role:_0x5df927}=_0x543f32[_0x21620b(0x18d)],_0x351f7d=_0x543f32[_0x21620b(0x18d)],_0x356a63=await profile[_0x21620b(0x217)]({'email':_0x351f7d[_0x21620b(0x224)]}),_0x324165=await master_shop[_0x21620b(0x16a)](),_0x2838b9=_0x543f32[_0x21620b(0x173)]['id'],_0x511fb1=await sales_finished[_0x21620b(0x230)](_0x2838b9);var _0x564c2d;_0x564c2d=_0x21620b(0x225);_0x511fb1[_0x21620b(0x186)]==_0x21620b(0x180)&&(_0x564c2d=_0x21620b(0x229));const _0x53a545=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x308875['setHeader']('Content-disposition',_0x21620b(0x192)+_0x511fb1[_0x21620b(0x1b6)]+_0x21620b(0x172)),_0x308875['setHeader'](_0x21620b(0x1b5),_0x21620b(0x1a9));var _0x25c5fe=0x14,_0x570ea2=0x3c;_0x53a545[_0x21620b(0x215)](_0x308875),_0x53a545[_0x21620b(0x196)]('./public/upload/'+_0x324165[0x0][_0x21620b(0x196)],0x14,0x0,{'fit':[0x64,0x64]}),_0x53a545['fontSize'](0x14)['text'](_0x21620b(0x17a),_0x25c5fe,_0x570ea2),_0x53a545[_0x21620b(0x22a)](0xa)[_0x21620b(0x1a4)](_0x21620b(0x1bc),_0x25c5fe,_0x570ea2+=0xf),_0x53a545[_0x21620b(0x22a)](0xf)[_0x21620b(0x1a4)](_0x564c2d,_0x25c5fe,_0x570ea2+=0x32),_0x53a545[_0x21620b(0x22a)](0xa)[_0x21620b(0x1a4)]('(OUTGOING)',_0x25c5fe,_0x570ea2+=0x14),_0x53a545[_0x21620b(0x22a)](0x9)[_0x21620b(0x1a4)](_0x21620b(0x17d),_0x25c5fe,_0x570ea2+=0x28),_0x53a545[_0x21620b(0x22a)](0x9)[_0x21620b(0x1a4)]('\x20:\x20'+_0x511fb1['warehouse_name'],_0x25c5fe+0x3f,_0x570ea2),_0x53a545['fontSize'](0x9)[_0x21620b(0x1a4)](_0x21620b(0x1f6)+_0x511fb1[_0x21620b(0x191)],_0x25c5fe+0x17c,_0x570ea2,{'underline':!![]}),_0x53a545[_0x21620b(0x22a)](0x9)[_0x21620b(0x1a4)](_0x21620b(0x22d),_0x25c5fe,_0x570ea2+=0xb),_0x53a545[_0x21620b(0x22a)](0x9)[_0x21620b(0x1a4)](_0x21620b(0x1cb)+_0x511fb1[_0x21620b(0x209)],_0x25c5fe+0x3f,_0x570ea2),_0x53a545[_0x21620b(0x22a)](0x9)[_0x21620b(0x1a4)](_0x21620b(0x16d),_0x25c5fe,_0x570ea2+=0xb),_0x53a545[_0x21620b(0x22a)](0x9)[_0x21620b(0x1a4)](_0x21620b(0x1cb)+_0x511fb1[_0x21620b(0x1b6)],_0x25c5fe+0x3f,_0x570ea2);const _0x55d632={'headers':[{'label':_0x21620b(0x188),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x21620b(0x15f),'property':_0x21620b(0x20e),'width':0xa5,'renderer':null},{'label':_0x21620b(0x1eb),'property':'qty','width':0x3c,'renderer':null},{'label':_0x21620b(0x1c3),'property':'unit','width':0x3c,'renderer':null},{'label':_0x21620b(0x1f8),'property':'proddate','width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x21620b(0x1c0),'width':0x3f,'renderer':null},{'label':_0x21620b(0x1de),'property':_0x21620b(0x19c),'width':0x3f,'renderer':null}],'datas':[]};var _0x58a8f4=0x0;let _0x2b4484='';var _0x22ee34=0x0;_0x511fb1['warehouse_name']==_0x21620b(0x17f)?_0x2b4484='DG':_0x2b4484='FG';var _0xe460eb=0x0;_0x511fb1[_0x21620b(0x1c9)][_0x21620b(0x1f9)](_0x2046e4=>{const _0x262350=_0x21620b;console[_0x262350(0x195)](_0x2046e4);let _0xfa57ff='';const _0x2f716a=_0x2046e4[_0x262350(0x1bd)];for(let _0x3fd7e0=0x1;_0x3fd7e0<=_0x2f716a;_0x3fd7e0++){_0x2f716a==_0x3fd7e0?_0xfa57ff+=_0x2046e4[_0x262350(0x1ef)]:_0xfa57ff+=_0x2046e4[_0x262350(0x1ef)]+',',_0x22ee34+=_0x2046e4[_0x262350(0x1ef)];}_0xfa57ff+='\x20/\x20'+_0x2046e4[_0x262350(0x21d)];const _0x5606de={'itemcode':_0x2046e4[_0x262350(0x18f)],'itemdescription':_0x2046e4['product_name'],'qty':_0x2046e4['quantity'],'unit':_0x2046e4[_0x262350(0x228)],'proddate':_0x2046e4[_0x262350(0x194)],'batchno':_0x2046e4[_0x262350(0x21e)],'binloc':_0x2b4484+_0x2046e4[_0x262350(0x21a)]};_0x58a8f4+=_0x2046e4[_0x262350(0x1bd)],_0xe460eb+=0x1,_0x55d632['datas'][_0x262350(0x1fe)](_0x5606de);}),_0x53a545[_0x21620b(0x207)](_0x55d632,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x53a545[_0x21620b(0x1c5)](_0x21620b(0x1d7))['fontSize'](0x8),'prepareRow':(_0x4b5664,_0xd208f2,_0x505baa,_0x1741b6)=>_0x53a545[_0x21620b(0x1c5)](_0x21620b(0x22c))['fontSize'](0x8)});var _0x539719=_0x53a545['y'],_0x389ae5=_0x53a545['x'];_0x53a545[_0x21620b(0x22a)](0xa)[_0x21620b(0x1a4)](_0x21620b(0x1a7),_0x389ae5+0x7d,_0x539719),console[_0x21620b(0x195)](_0x21620b(0x1c2)+_0x389ae5+'\x20y:\x20'+_0x539719+'\x20row:\x20'+_0xe460eb);const _0x4c05f6=_0x389ae5*_0xe460eb;_0x53a545[_0x21620b(0x22a)](0xa)['text'](_0x21620b(0x1d2),_0x389ae5,_0x539719+=0x15e-_0x4c05f6),_0x53a545['fontSize'](0xa)['text'](_0x58a8f4,_0x389ae5+0xdc,_0x539719,{'underline':!![]}),_0x53a545[_0x21620b(0x22a)](0xa)[_0x21620b(0x1a4)]('Picked\x20By\x20\x20\x20:\x20',_0x389ae5,_0x539719+=0x19),_0x53a545[_0x21620b(0x22a)](0xa)['text']('\x20'[_0x21620b(0x22b)](0x3c),_0x389ae5+0x3e,_0x539719,{'underline':!![]}),_0x53a545[_0x21620b(0x22a)](0xa)[_0x21620b(0x1a4)](_0x21620b(0x1d5),_0x389ae5,_0x539719+=0x32),_0x53a545['fontSize'](0xa)['text']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x389ae5+0x3c,_0x539719,{'underline':!![]}),_0x53a545[_0x21620b(0x22a)](0xa)['text'](_0x21620b(0x1c8),_0x389ae5+0x3c,_0x539719+0xc);let _0x1587cf=_0x53a545['bufferedPageRange']();for(let _0x95f68=0x0;_0x95f68<_0x1587cf['count'];_0x95f68++){_0x53a545[_0x21620b(0x206)](_0x95f68);let _0x4b63f9=_0x53a545[_0x21620b(0x1af)]['margins'][_0x21620b(0x226)];_0x53a545[_0x21620b(0x1af)][_0x21620b(0x216)]['bottom']=0x0,_0x53a545['text'](_0x21620b(0x1ed)+(_0x95f68+0x1)+_0x21620b(0x1e1)+_0x1587cf[_0x21620b(0x21b)],0x0,_0x53a545[_0x21620b(0x1af)][_0x21620b(0x1df)]-_0x4b63f9/0x2,{'align':_0x21620b(0x168)}),_0x53a545[_0x21620b(0x1af)][_0x21620b(0x216)][_0x21620b(0x226)]=_0x4b63f9;}const _0x533142=_0x53a545['y'],_0x300029=_0x53a545['x'];_0x53a545['end']();}catch(_0x45040d){console[_0x21620b(0x195)](_0x45040d),_0x308875['status'](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x15f9b0(0x1a1)](a0_0x15f9b0(0x1c1),auth,async(_0x47000a,_0x50d909)=>{const _0x29a246=a0_0x15f9b0;try{const {username:_0x48f3b4,email:_0x1d898d,role:_0x441688}=_0x47000a['user'],_0x1d9544=_0x47000a[_0x29a246(0x18d)],_0x35e134=await profile[_0x29a246(0x217)]({'email':_0x1d9544[_0x29a246(0x224)]}),_0x4a3efc=await master_shop['find'](),_0x41a7fe=_0x47000a[_0x29a246(0x173)]['id'],_0x5beaa7=await transfers_finished[_0x29a246(0x230)](_0x41a7fe);var _0x301739,_0x135f2b;_0x301739='Picking\x20List',_0x135f2b=_0x29a246(0x1b4);_0x5beaa7['finalize']==_0x29a246(0x180)&&(_0x301739='STOCKS\x20TRANSFER',_0x135f2b='');const _0x913b08=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x50d909[_0x29a246(0x1b2)](_0x29a246(0x198),_0x29a246(0x1e2)+_0x41a7fe+_0x29a246(0x172)),_0x50d909[_0x29a246(0x1b2)](_0x29a246(0x1b5),_0x29a246(0x1a9));var _0xdecf7b=0x14,_0x16171f=0x3c;_0x913b08[_0x29a246(0x215)](_0x50d909),_0x913b08[_0x29a246(0x196)](_0x29a246(0x165)+_0x4a3efc[0x0][_0x29a246(0x196)],0x14,0x0,{'fit':[0x64,0x64]}),_0x913b08[_0x29a246(0x22a)](0x14)[_0x29a246(0x1a4)](_0x29a246(0x17a),_0xdecf7b,_0x16171f),_0x913b08['fontSize'](0xa)[_0x29a246(0x1a4)](_0x29a246(0x1bc),_0xdecf7b,_0x16171f+=0xf),_0x913b08[_0x29a246(0x22a)](0xf)[_0x29a246(0x1a4)](_0x301739,_0xdecf7b,_0x16171f+=0x32),_0x913b08[_0x29a246(0x22a)](0xa)[_0x29a246(0x1a4)](_0x135f2b,_0xdecf7b,_0x16171f+=0x14),_0x913b08['fontSize'](0x9)['text']('From\x20Warehouse\x20',_0xdecf7b,_0x16171f+=0x28),_0x913b08['fontSize'](0x9)[_0x29a246(0x1a4)](_0x29a246(0x1ee)+_0x5beaa7[_0x29a246(0x182)],_0xdecf7b+0x3f,_0x16171f),_0x913b08['fontSize'](0x9)[_0x29a246(0x1a4)](_0x29a246(0x21c),_0xdecf7b,_0x16171f+=0xf),_0x913b08[_0x29a246(0x22a)](0x9)['text'](_0x29a246(0x1ee)+_0x5beaa7['to_warehouse'],_0xdecf7b+0x3f,_0x16171f),_0x913b08['fontSize'](0x9)[_0x29a246(0x1a4)](_0x29a246(0x22d),_0xdecf7b,_0x16171f+=0xb),_0x913b08[_0x29a246(0x22a)](0x9)[_0x29a246(0x1a4)](_0x29a246(0x1ee)+_0x5beaa7[_0x29a246(0x209)],_0xdecf7b+0x3f,_0x16171f),_0x913b08[_0x29a246(0x22a)](0x9)[_0x29a246(0x1a4)](_0x29a246(0x16d),_0xdecf7b,_0x16171f+=0xb),_0x913b08[_0x29a246(0x22a)](0x9)[_0x29a246(0x1a4)](_0x29a246(0x1ee)+_0x5beaa7[_0x29a246(0x1b6)],_0xdecf7b+0x3f,_0x16171f);const _0x21370c={'headers':[{'label':'','property':_0x29a246(0x184),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x29a246(0x1f4),'property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':'\x20\x20TO','property':_0x29a246(0x20e),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x913b08[_0x29a246(0x207)](_0x21370c,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x913b08[_0x29a246(0x1c5)](_0x29a246(0x1d7))[_0x29a246(0x22a)](0x8),'prepareRow':(_0x17dac4,_0x4f27cb,_0x455cfc,_0x3fe5ce)=>_0x913b08[_0x29a246(0x1c5)](_0x29a246(0x22c))[_0x29a246(0x22a)](0x8)});const _0x1d2ace={'headers':[{'label':_0x29a246(0x188),'property':_0x29a246(0x184),'width':0x3c,'renderer':null},{'label':_0x29a246(0x15f),'property':_0x29a246(0x20e),'width':0x96,'renderer':null},{'label':_0x29a246(0x1eb),'property':_0x29a246(0x1cf),'width':0x28,'renderer':null},{'label':_0x29a246(0x1c3),'property':_0x29a246(0x228),'width':0x37,'renderer':null},{'label':'Production\x20Date','property':'proddate','width':0x4b,'renderer':null},{'label':_0x29a246(0x19e),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x29a246(0x1de),'property':_0x29a246(0x219),'width':0x3f,'renderer':null},{'label':_0x29a246(0x1de),'property':_0x29a246(0x19c),'width':0x3f,'renderer':null}],'datas':[]};var _0x377141=0x0;let _0x5420fe='';var _0x415732=0x0;if(_0x5beaa7[_0x29a246(0x182)]==_0x29a246(0x17f))_0x5420fe='DG';else _0x5beaa7[_0x29a246(0x182)]=='FROZEN\x20GOODS'&&(_0x5420fe='FG');_0x5beaa7[_0x29a246(0x22f)][_0x29a246(0x1f9)](_0x585c50=>{const _0x4f6bf7=_0x29a246;var _0x2da984=_0x585c50[_0x4f6bf7(0x1ea)],_0x7871f7,_0x2bb298;_0x7871f7=_0x585c50['unit'],_0x2bb298=_0x585c50[_0x4f6bf7(0x203)];_0x2da984=='S'&&(_0x7871f7=_0x585c50[_0x4f6bf7(0x21d)],_0x2bb298=_0x585c50[_0x4f6bf7(0x203)]*_0x585c50[_0x4f6bf7(0x15c)]);const _0x5c52ad={'itemcode':_0x585c50[_0x4f6bf7(0x18f)],'itemdescription':_0x585c50['product_name'],'qty':_0x2bb298,'unit':_0x7871f7,'proddate':_0x585c50[_0x4f6bf7(0x194)],'batchno':_0x585c50['batch_code'],'binloc':_0x5420fe+_0x585c50[_0x4f6bf7(0x200)],'qtyFrom':_0x585c50[_0x4f6bf7(0x227)],'binlocFrom':_0x5420fe+_0x585c50[_0x4f6bf7(0x1a8)]};_0x377141+=_0x2bb298,_0x1d2ace[_0x4f6bf7(0x1f1)][_0x4f6bf7(0x1fe)](_0x5c52ad);}),_0x913b08[_0x29a246(0x207)](_0x1d2ace,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x913b08['font']('Helvetica-Bold')['fontSize'](0x8),'prepareRow':(_0x53d109,_0xc3d92e,_0x58a07f,_0x386070)=>_0x913b08[_0x29a246(0x1c5)](_0x29a246(0x22c))[_0x29a246(0x22a)](0x8)});var _0x5ccdaf=_0x913b08['y'],_0x33b051=_0x913b08['x'];_0x913b08[_0x29a246(0x22a)](0xa)['text'](_0x29a246(0x1a7),_0x33b051+0x7d,_0x5ccdaf),_0x913b08[_0x29a246(0x22a)](0xa)[_0x29a246(0x1a4)]('TOTAL\x20QTY:\x20',_0x33b051,_0x5ccdaf+=0x15e),_0x913b08[_0x29a246(0x22a)](0xa)[_0x29a246(0x1a4)](_0x377141,_0x33b051+0xd7,_0x5ccdaf,{'underline':!![]}),_0x913b08[_0x29a246(0x22a)](0xa)['text'](_0x29a246(0x17e),_0x33b051,_0x5ccdaf+=0x19),_0x913b08['fontSize'](0xa)[_0x29a246(0x1a4)]('\x20'[_0x29a246(0x22b)](0x3c),_0x33b051+0x3e,_0x5ccdaf,{'underline':!![]}),_0x913b08[_0x29a246(0x22a)](0xa)['text'](_0x29a246(0x1d5),_0x33b051,_0x5ccdaf+=0x32),_0x913b08[_0x29a246(0x22a)](0xa)[_0x29a246(0x1a4)](_0x29a246(0x1b3),_0x33b051+0x3c,_0x5ccdaf,{'underline':!![]}),_0x913b08[_0x29a246(0x22a)](0xa)[_0x29a246(0x1a4)](_0x29a246(0x1c8),_0x33b051+0x3c,_0x5ccdaf+0xc);let _0x523a60=_0x913b08[_0x29a246(0x1e8)]();for(let _0x548425=0x0;_0x548425<_0x523a60['count'];_0x548425++){_0x913b08[_0x29a246(0x206)](_0x548425);let _0x3247a2=_0x913b08[_0x29a246(0x1af)][_0x29a246(0x216)]['bottom'];_0x913b08['page'][_0x29a246(0x216)][_0x29a246(0x226)]=0x0,_0x913b08[_0x29a246(0x1a4)](_0x29a246(0x1ed)+(_0x548425+0x1)+_0x29a246(0x1e1)+_0x523a60[_0x29a246(0x21b)],0x0,_0x913b08[_0x29a246(0x1af)][_0x29a246(0x1df)]-_0x3247a2/0x2,{'align':_0x29a246(0x168)}),_0x913b08['page'][_0x29a246(0x216)][_0x29a246(0x226)]=_0x3247a2;}const _0x3a745a=_0x913b08['y'],_0x3bf0f8=_0x913b08['x'];_0x913b08[_0x29a246(0x212)]();}catch(_0x8a9fab){console[_0x29a246(0x195)](_0x8a9fab),_0x50d909[_0x29a246(0x1b7)](0x1f4)['send'](_0x29a246(0x1c4));}}),router[a0_0x15f9b0(0x1a1)](a0_0x15f9b0(0x1f2),auth,async(_0x462edf,_0x4d7a4a)=>{const _0x210fa5=a0_0x15f9b0;try{const {username:_0x5e647e,email:_0x41df60,role:_0x30638f}=_0x462edf[_0x210fa5(0x18d)],_0x28872f=_0x462edf['user'],_0x3b08b2=await profile[_0x210fa5(0x217)]({'email':_0x28872f[_0x210fa5(0x224)]}),_0x1ac25f=await master_shop[_0x210fa5(0x16a)](),_0x13b85d=_0x462edf[_0x210fa5(0x173)]['id'],_0x213156=await adjustment_finished['findById'](_0x13b85d);var _0x54f256,_0x342385;_0x54f256=_0x210fa5(0x225),_0x342385=_0x210fa5(0x1fb);_0x213156['finalize']==_0x210fa5(0x180)&&(_0x54f256=_0x210fa5(0x16f),_0x342385='');const _0x526821=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4d7a4a[_0x210fa5(0x1b2)]('Content-disposition',_0x210fa5(0x1e2)+_0x13b85d+_0x210fa5(0x172)),_0x4d7a4a[_0x210fa5(0x1b2)]('Content-type',_0x210fa5(0x1a9));var _0x55cd8f=0x14,_0x262e26=0x3c;_0x526821[_0x210fa5(0x215)](_0x4d7a4a),_0x526821['image'](_0x210fa5(0x165)+_0x1ac25f[0x0][_0x210fa5(0x196)],0x14,0x0,{'fit':[0x64,0x64]}),_0x526821[_0x210fa5(0x22a)](0x14)[_0x210fa5(0x1a4)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x55cd8f,_0x262e26),_0x526821[_0x210fa5(0x22a)](0xa)[_0x210fa5(0x1a4)](_0x210fa5(0x1bc),_0x55cd8f,_0x262e26+=0xf),_0x526821[_0x210fa5(0x22a)](0xf)[_0x210fa5(0x1a4)](_0x54f256,_0x55cd8f,_0x262e26+=0x32),_0x526821[_0x210fa5(0x22a)](0xa)[_0x210fa5(0x1a4)](_0x342385,_0x55cd8f,_0x262e26+=0x14),_0x526821[_0x210fa5(0x22a)](0x9)['text']('Warehouse\x20',_0x55cd8f,_0x262e26+=0x28),_0x526821['fontSize'](0x9)[_0x210fa5(0x1a4)](_0x210fa5(0x1cb)+_0x213156[_0x210fa5(0x16e)],_0x55cd8f+0x3f,_0x262e26),_0x526821[_0x210fa5(0x22a)](0x9)[_0x210fa5(0x1a4)](_0x210fa5(0x22d),_0x55cd8f,_0x262e26+=0xb),_0x526821[_0x210fa5(0x22a)](0x9)['text']('\x20:\x20'+_0x213156[_0x210fa5(0x209)],_0x55cd8f+0x3f,_0x262e26),_0x526821[_0x210fa5(0x22a)](0x9)['text']('Control\x20Number\x20',_0x55cd8f,_0x262e26+=0xb),_0x526821[_0x210fa5(0x22a)](0x9)['text'](_0x210fa5(0x1cb)+_0x213156[_0x210fa5(0x1b6)],_0x55cd8f+0x3f,_0x262e26);const _0x2dc886={'headers':[{'label':'Item\x20Code','property':_0x210fa5(0x184),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x210fa5(0x20e),'width':0x96,'renderer':null},{'label':_0x210fa5(0x1eb),'property':'qty','width':0x3c,'renderer':null},{'label':'UOM','property':_0x210fa5(0x228),'width':0x3c,'renderer':null},{'label':_0x210fa5(0x1f8),'property':'proddate','width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x210fa5(0x1c0),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x210fa5(0x19c),'width':0x3f,'renderer':null}],'datas':[]};var _0xea6352=0x0;let _0x53c539='';var _0x4cd5ee=0x0;_0x213156[_0x210fa5(0x16e)]=='DRY\x20GOODS'?_0x53c539='DG':_0x53c539='FG';_0x213156[_0x210fa5(0x22f)]['forEach'](_0x3061d3=>{const _0x1891da=_0x210fa5;console[_0x1891da(0x195)](_0x3061d3);var _0x7e35b1=_0x3061d3['prod_cat'],_0x5d8743,_0x33c8cc;_0x5d8743=_0x3061d3['unit'],_0x33c8cc=_0x3061d3[_0x1891da(0x1ff)];_0x7e35b1=='S'&&(_0x5d8743=_0x3061d3[_0x1891da(0x21d)],_0x33c8cc=_0x3061d3['adjust_qty']*_0x3061d3[_0x1891da(0x15c)]);const _0x59ac39={'itemcode':_0x3061d3[_0x1891da(0x18f)],'itemdescription':_0x3061d3[_0x1891da(0x17b)],'qty':_0x33c8cc,'unit':_0x5d8743,'proddate':_0x3061d3[_0x1891da(0x194)],'batchno':_0x3061d3[_0x1891da(0x21e)],'binloc':_0x53c539+_0x3061d3['bay']};_0xea6352+=_0x33c8cc,_0x2dc886[_0x1891da(0x1f1)][_0x1891da(0x1fe)](_0x59ac39);}),_0x526821[_0x210fa5(0x207)](_0x2dc886,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x526821[_0x210fa5(0x1c5)]('Helvetica-Bold')[_0x210fa5(0x22a)](0x8),'prepareRow':(_0xe37af3,_0x592d70,_0x5dfe5e,_0x2e565a)=>_0x526821[_0x210fa5(0x1c5)](_0x210fa5(0x22c))[_0x210fa5(0x22a)](0x8)});var _0x44bcd3=_0x526821['y'],_0x140575=_0x526821['x'];_0x526821[_0x210fa5(0x22a)](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x140575+0x7d,_0x44bcd3),_0x526821[_0x210fa5(0x22a)](0xa)['text'](_0x210fa5(0x1d9),_0x140575,_0x44bcd3+=0x15e),_0x526821['fontSize'](0xa)['text'](_0xea6352,_0x140575+0xc8,_0x44bcd3),_0x526821['fontSize'](0xa)[_0x210fa5(0x1a4)](_0x210fa5(0x17e),_0x140575,_0x44bcd3+=0x19),_0x526821[_0x210fa5(0x22a)](0xa)[_0x210fa5(0x1a4)]('\x20'['repeat'](0x3c),_0x140575+0x3e,_0x44bcd3,{'underline':!![]}),_0x526821[_0x210fa5(0x22a)](0xa)[_0x210fa5(0x1a4)](_0x210fa5(0x189),_0x140575,_0x44bcd3+=0x32),_0x526821[_0x210fa5(0x22a)](0xa)[_0x210fa5(0x1a4)]('\x20:\x20',_0x140575+0x37,_0x44bcd3),_0x526821[_0x210fa5(0x22a)](0xa)[_0x210fa5(0x1a4)](_0x210fa5(0x1b3),_0x140575+0x3c,_0x44bcd3,{'underline':!![]}),_0x526821[_0x210fa5(0x22a)](0xa)['text'](_0x210fa5(0x1c8),_0x140575+0x3c,_0x44bcd3+0xc);let _0x4bb930=_0x526821['bufferedPageRange']();for(let _0x38b560=0x0;_0x38b560<_0x4bb930[_0x210fa5(0x21b)];_0x38b560++){_0x526821[_0x210fa5(0x206)](_0x38b560);let _0x529cb3=_0x526821[_0x210fa5(0x1af)]['margins'][_0x210fa5(0x226)];_0x526821['page']['margins'][_0x210fa5(0x226)]=0x0,_0x526821['text'](_0x210fa5(0x1ed)+(_0x38b560+0x1)+_0x210fa5(0x1e1)+_0x4bb930['count'],0x0,_0x526821[_0x210fa5(0x1af)][_0x210fa5(0x1df)]-_0x529cb3/0x2,{'align':_0x210fa5(0x168)}),_0x526821['page']['margins'][_0x210fa5(0x226)]=_0x529cb3;}const _0x43798a=_0x526821['y'],_0x5938ac=_0x526821['x'];_0x526821['end']();}catch(_0x4381a8){console['log'](_0x4381a8),_0x4d7a4a[_0x210fa5(0x1b7)](0x1f4)[_0x210fa5(0x18a)](_0x210fa5(0x1c4));}}),router[a0_0x15f9b0(0x1a1)](a0_0x15f9b0(0x20d),auth,async(_0x536b39,_0x560a99)=>{const _0x491c1b=a0_0x15f9b0;try{const {username:_0x2bd47f,email:_0x353c33,role:_0x42fe15}=_0x536b39['user'],_0x2f02a9=_0x536b39['user'],_0x2679af=await profile[_0x491c1b(0x217)]({'email':_0x2f02a9[_0x491c1b(0x224)]}),_0x9c1264=await master_shop[_0x491c1b(0x16a)](),_0x3d45cb=_0x536b39[_0x491c1b(0x173)]['id'],_0xafb3dd=await purchases_finished[_0x491c1b(0x230)](_0x3d45cb),_0x5a63b5=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x560a99['setHeader']('Content-disposition',_0x491c1b(0x1e2)+_0x3d45cb+_0x491c1b(0x172)),_0x560a99[_0x491c1b(0x1b2)]('Content-type','application/pdf');var _0x56daf8=0x14,_0x2aac15=0x3c;_0x5a63b5[_0x491c1b(0x215)](_0x560a99),_0x5a63b5['image'](_0x491c1b(0x165)+_0x9c1264[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x5a63b5[_0x491c1b(0x22a)](0x14)[_0x491c1b(0x1a4)](_0x491c1b(0x17a),_0x56daf8,_0x2aac15),_0x5a63b5['fontSize'](0xa)[_0x491c1b(0x1a4)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x56daf8,_0x2aac15+=0xf),_0x5a63b5[_0x491c1b(0x22a)](0xf)[_0x491c1b(0x1a4)](_0x491c1b(0x1bf),_0x56daf8,_0x2aac15+=0x32),_0x5a63b5['fontSize'](0xa)[_0x491c1b(0x1a4)]('(INCOMING)',_0x56daf8,_0x2aac15+=0x14),_0x5a63b5[_0x491c1b(0x22a)](0x9)[_0x491c1b(0x1a4)]('Warehouse\x20',_0x56daf8,_0x2aac15+=0x28),_0x5a63b5[_0x491c1b(0x22a)](0x9)['text'](_0x491c1b(0x1cb)+_0xafb3dd[_0x491c1b(0x16e)],_0x56daf8+0x3f,_0x2aac15),_0x5a63b5[_0x491c1b(0x22a)](0x9)['text'](_0x491c1b(0x197)+_0xafb3dd[_0x491c1b(0x20a)],_0x56daf8+0x17c,_0x2aac15),_0x5a63b5[_0x491c1b(0x22a)](0x9)[_0x491c1b(0x1a4)]('Date\x20',_0x56daf8,_0x2aac15+=0xb),_0x5a63b5[_0x491c1b(0x22a)](0x9)[_0x491c1b(0x1a4)]('\x20:\x20'+_0xafb3dd[_0x491c1b(0x209)],_0x56daf8+0x3f,_0x2aac15),_0x5a63b5[_0x491c1b(0x22a)](0x9)['text'](_0x491c1b(0x16d),_0x56daf8,_0x2aac15+=0xb),_0x5a63b5['fontSize'](0x9)['text']('\x20:\x20'+_0xafb3dd['invoice'],_0x56daf8+0x3f,_0x2aac15);const _0xcbe68b={'headers':[{'label':_0x491c1b(0x188),'property':_0x491c1b(0x184),'width':0x3c,'renderer':null},{'label':_0x491c1b(0x15f),'property':'itemdescription','width':0xc8,'renderer':null},{'label':_0x491c1b(0x1eb),'property':'qty','width':0x3c,'renderer':null},{'label':_0x491c1b(0x1c3),'property':'unit','width':0x3c,'renderer':null},{'label':_0x491c1b(0x16b),'property':_0x491c1b(0x22e),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x491c1b(0x1c0),'width':0x3f,'renderer':null},{'label':_0x491c1b(0x1de),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x26c25c=0x0;let _0x41393b='';_0xafb3dd[_0x491c1b(0x16e)]=='DRY\x20GOODS'?_0x41393b='DG':_0x41393b='FG';_0xafb3dd[_0x491c1b(0x22f)][_0x491c1b(0x1f9)](_0x14a579=>{const _0x16145d=_0x491c1b;let _0x3c845d='';var _0x4250d6=0x0;const _0x30f1fb={'itemcode':_0x14a579['product_code'],'itemdescription':_0x14a579[_0x16145d(0x17b)],'qty':_0x14a579[_0x16145d(0x1bd)],'unit':_0x14a579[_0x16145d(0x1f7)],'expdate':_0x14a579[_0x16145d(0x1e6)],'batchno':_0x14a579[_0x16145d(0x21e)],'binloc':_0x41393b+_0x14a579['bay']};_0x26c25c+=_0x14a579['quantity'],_0xcbe68b[_0x16145d(0x1f1)][_0x16145d(0x1fe)](_0x30f1fb);}),_0x5a63b5[_0x491c1b(0x207)](_0xcbe68b,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x5a63b5['font'](_0x491c1b(0x1d7))['fontSize'](0x8),'prepareRow':(_0x1c9288,_0xa6ae4f,_0x55c751,_0x19e785)=>_0x5a63b5['font'](_0x491c1b(0x22c))[_0x491c1b(0x22a)](0x8)});var _0x2309a5=_0x5a63b5['y'],_0xdf554=_0x5a63b5['x'];_0x5a63b5[_0x491c1b(0x22a)](0xa)[_0x491c1b(0x1a4)](_0x491c1b(0x1a7),_0xdf554+0x7d,_0x2309a5),_0x5a63b5[_0x491c1b(0x22a)](0xa)[_0x491c1b(0x1a4)]('TOTAL\x20QTY:\x20',_0xdf554,_0x2309a5+=0x15e),_0x5a63b5['fontSize'](0xa)[_0x491c1b(0x1a4)](_0x26c25c,_0xdf554+0xfa,_0x2309a5),_0x5a63b5[_0x491c1b(0x22a)](0xa)[_0x491c1b(0x1a4)](_0x491c1b(0x160),_0xdf554,_0x2309a5+=0x19),_0x5a63b5['fontSize'](0xa)[_0x491c1b(0x1a4)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xdf554+0x37,_0x2309a5,{'underline':!![]}),_0x5a63b5[_0x491c1b(0x22a)](0xa)[_0x491c1b(0x1a4)](_0x491c1b(0x1b0),_0xdf554,_0x2309a5+0x32),_0x5a63b5[_0x491c1b(0x22a)](0xa)[_0x491c1b(0x1a4)](_0x491c1b(0x1b3),_0xdf554+0x32,_0x2309a5+0x32,{'underline':!![]}),_0x5a63b5[_0x491c1b(0x22a)](0xa)[_0x491c1b(0x1a4)](_0x491c1b(0x1c8),_0xdf554+0x32,_0x2309a5+0x3c);let _0x42cf98=_0x5a63b5['bufferedPageRange']();for(let _0x5f6c81=0x0;_0x5f6c81<_0x42cf98[_0x491c1b(0x21b)];_0x5f6c81++){_0x5a63b5[_0x491c1b(0x206)](_0x5f6c81);let _0x221d7a=_0x5a63b5['page'][_0x491c1b(0x216)][_0x491c1b(0x226)];_0x5a63b5[_0x491c1b(0x1af)][_0x491c1b(0x216)][_0x491c1b(0x226)]=0x0,_0x5a63b5[_0x491c1b(0x1a4)]('Page:\x20'+(_0x5f6c81+0x1)+_0x491c1b(0x1e1)+_0x42cf98[_0x491c1b(0x21b)],0x0,_0x5a63b5[_0x491c1b(0x1af)][_0x491c1b(0x1df)]-_0x221d7a/0x2,{'align':_0x491c1b(0x168)}),_0x5a63b5['page'][_0x491c1b(0x216)][_0x491c1b(0x226)]=_0x221d7a;}const _0x206c15=_0x5a63b5['y'],_0x221786=_0x5a63b5['x'];_0x5a63b5[_0x491c1b(0x212)]();}catch(_0x444cb4){console[_0x491c1b(0x195)](_0x444cb4),_0x560a99['status'](0x1f4)[_0x491c1b(0x18a)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x15f9b0(0x1a1)](a0_0x15f9b0(0x1e4),auth,async(_0x267bb1,_0x490499)=>{const _0x3c66a8=a0_0x15f9b0;try{const {username:_0x236370,email:_0x5b411f,role:_0x264ca4}=_0x267bb1[_0x3c66a8(0x18d)],_0x40100a=_0x267bb1[_0x3c66a8(0x18d)],_0x138411=await profile[_0x3c66a8(0x217)]({'email':_0x40100a[_0x3c66a8(0x224)]}),_0x29e56f=await master_shop[_0x3c66a8(0x16a)](),_0x2f4507=_0x267bb1[_0x3c66a8(0x173)]['id'],_0x1d0f0a=await sales_return_finished[_0x3c66a8(0x230)](_0x2f4507),_0x1392dc=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x490499['setHeader'](_0x3c66a8(0x198),_0x3c66a8(0x1e2)+_0x2f4507+_0x3c66a8(0x172)),_0x490499[_0x3c66a8(0x1b2)]('Content-type','application/pdf');var _0x2cbac5=0x14,_0x48d234=0x64;_0x1392dc[_0x3c66a8(0x215)](_0x490499),_0x1392dc[_0x3c66a8(0x196)](_0x3c66a8(0x165)+_0x29e56f[0x0][_0x3c66a8(0x196)],0x14,0x0,{'fit':[0x64,0x64]}),_0x1392dc[_0x3c66a8(0x22a)](0x14)[_0x3c66a8(0x1a4)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x2cbac5,_0x48d234),_0x1392dc[_0x3c66a8(0x22a)](0xa)[_0x3c66a8(0x1a4)](_0x3c66a8(0x1bc),_0x2cbac5,_0x48d234+=0xf),_0x1392dc[_0x3c66a8(0x22a)](0xf)[_0x3c66a8(0x1a4)](_0x3c66a8(0x225),_0x2cbac5,_0x48d234+=0x32),_0x1392dc[_0x3c66a8(0x22a)](0xa)[_0x3c66a8(0x1a4)](_0x3c66a8(0x20c),_0x2cbac5,_0x48d234+=0x1e),_0x1392dc[_0x3c66a8(0x22a)](0x9)[_0x3c66a8(0x1a4)](_0x3c66a8(0x1a5)+_0x1d0f0a['ToWarehouse'],_0x2cbac5,_0x48d234+=0x28),_0x1392dc['fontSize'](0x9)[_0x3c66a8(0x1a4)]('Customer\x20:\x20'+_0x1d0f0a[_0x3c66a8(0x191)],0x190,0xd2,{'underline':!![]}),_0x1392dc[_0x3c66a8(0x22a)](0x9)['text']('Pick\x20By\x20:\x20',_0x2cbac5,_0x48d234+=0xb),_0x1392dc[_0x3c66a8(0x22a)](0x9)[_0x3c66a8(0x1a4)]('Date\x20:\x20'+_0x1d0f0a[_0x3c66a8(0x209)],_0x2cbac5,_0x48d234+=0xb),_0x1392dc[_0x3c66a8(0x22a)](0x9)[_0x3c66a8(0x1a4)]('Control\x20Number\x20:\x20'+_0x1d0f0a[_0x3c66a8(0x1b6)],_0x2cbac5,_0x48d234+=0xb);var _0x181c60='',_0x5cb5d8='',_0x3c6373=0x0,_0x2d8066;console[_0x3c66a8(0x195)](_0x1d0f0a[_0x3c66a8(0x164)]);_0x1d0f0a[_0x3c66a8(0x164)]=='GS'?(_0x1d0f0a[_0x3c66a8(0x16e)]==_0x3c66a8(0x17f)?warecode='DG':warecode='FG',_0x181c60={'headers':[{'label':_0x3c66a8(0x188),'property':_0x3c66a8(0x184),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x3c66a8(0x20e),'width':0xc8,'renderer':null},{'label':_0x3c66a8(0x1eb),'property':'qty','width':0x3c,'renderer':null},{'label':_0x3c66a8(0x1c3),'property':_0x3c66a8(0x228),'width':0x3c,'renderer':null},{'label':_0x3c66a8(0x16b),'property':'expdate','width':0x50,'renderer':null},{'label':_0x3c66a8(0x19e),'property':_0x3c66a8(0x1c0),'width':0x3f,'renderer':null},{'label':_0x3c66a8(0x1de),'property':_0x3c66a8(0x19c),'width':0x3f,'renderer':null}],'datas':[]},_0x1d0f0a[_0x3c66a8(0x1f0)][_0x3c66a8(0x1f9)](_0x554273=>{const _0x2def9a=_0x3c66a8;let _0x1e222e='';var _0x4a9335=0x0;_0x5cb5d8={'itemcode':_0x554273[_0x2def9a(0x18f)],'itemdescription':_0x554273['product_name'],'qty':_0x554273[_0x2def9a(0x1aa)],'unit':_0x554273[_0x2def9a(0x228)],'expdate':_0x554273['expiry_date'],'batchno':_0x554273[_0x2def9a(0x21e)],'binloc':warecode+_0x554273['bay']},_0x3c6373+=_0x554273[_0x2def9a(0x1aa)],console[_0x2def9a(0x195)](_0x554273),_0x181c60['datas'][_0x2def9a(0x1fe)](_0x5cb5d8);})):(_0x181c60={'headers':[{'label':_0x3c66a8(0x188),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x3c66a8(0x15f),'property':_0x3c66a8(0x20e),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x3c66a8(0x1cf),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x3c66a8(0x228),'width':0x3c,'renderer':null},{'label':_0x3c66a8(0x16b),'property':'expdate','width':0x50,'renderer':null},{'label':_0x3c66a8(0x19e),'property':_0x3c66a8(0x1c0),'width':0x3f,'renderer':null}],'datas':[]},_0x1d0f0a[_0x3c66a8(0x190)][_0x3c66a8(0x1f9)](_0x17d6b7=>{const _0x3d801b=_0x3c66a8;let _0x3d5376='';var _0x498aa9=0x0;_0x5cb5d8={'itemcode':_0x17d6b7['product_code'],'itemdescription':_0x17d6b7['product_name'],'qty':_0x17d6b7[_0x3d801b(0x1aa)],'unit':_0x17d6b7['unit'],'expdate':_0x17d6b7[_0x3d801b(0x1e6)],'batchno':_0x17d6b7[_0x3d801b(0x21e)]},_0x3c6373+=_0x17d6b7[_0x3d801b(0x1aa)],console[_0x3d801b(0x195)](_0x3c6373+_0x3d801b(0x1d6)+_0x17d6b7[_0x3d801b(0x1aa)]),_0x181c60[_0x3d801b(0x1f1)][_0x3d801b(0x1fe)](_0x5cb5d8);}));_0x1392dc[_0x3c66a8(0x207)](_0x181c60,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x1392dc[_0x3c66a8(0x1c5)](_0x3c66a8(0x1d7))[_0x3c66a8(0x22a)](0x8),'prepareRow':(_0x38ff5c,_0x20f54b,_0xe571d2,_0x2e92d8)=>_0x1392dc[_0x3c66a8(0x1c5)]('Helvetica')['fontSize'](0x8)});var _0x408d85=_0x1392dc['y'],_0x409e1f=_0x1392dc['x'];_0x1392dc[_0x3c66a8(0x22a)](0xa)[_0x3c66a8(0x1a4)](_0x3c66a8(0x1a7),_0x409e1f+0x7d,_0x408d85),_0x1392dc['fontSize'](0xa)[_0x3c66a8(0x1a4)](_0x3c66a8(0x1d2),_0x409e1f,_0x408d85+=0x190),_0x1392dc[_0x3c66a8(0x22a)](0xa)[_0x3c66a8(0x1a4)](_0x3c6373,_0x409e1f+0x37,_0x408d85,{'underline':!![]}),_0x1392dc[_0x3c66a8(0x22a)](0xa)[_0x3c66a8(0x1a4)](_0x3c66a8(0x1c7),_0x409e1f,_0x408d85+0x1e),_0x1392dc[_0x3c66a8(0x22a)](0xa)[_0x3c66a8(0x1a4)](_0x3c66a8(0x19b),_0x409e1f+0x32,_0x408d85+0x1e,{'underline':!![]});let _0x1aebfb=_0x1392dc[_0x3c66a8(0x1e8)]();for(let _0x3c4002=0x0;_0x3c4002<_0x1aebfb[_0x3c66a8(0x21b)];_0x3c4002++){_0x1392dc[_0x3c66a8(0x206)](_0x3c4002);let _0x319dc3=_0x1392dc[_0x3c66a8(0x1af)][_0x3c66a8(0x216)][_0x3c66a8(0x226)];_0x1392dc['page'][_0x3c66a8(0x216)][_0x3c66a8(0x226)]=0x0,_0x1392dc[_0x3c66a8(0x1a4)](_0x3c66a8(0x1ed)+(_0x3c4002+0x1)+_0x3c66a8(0x1e1)+_0x1aebfb[_0x3c66a8(0x21b)],0x0,_0x1392dc[_0x3c66a8(0x1af)][_0x3c66a8(0x1df)]-_0x319dc3/0x2,{'align':'center'}),_0x1392dc['page'][_0x3c66a8(0x216)][_0x3c66a8(0x226)]=_0x319dc3;}const _0x55c44f=_0x1392dc['y'],_0x4a5ab6=_0x1392dc['x'];_0x1392dc[_0x3c66a8(0x212)]();}catch(_0x35d3f0){console[_0x3c66a8(0x195)](_0x35d3f0),_0x490499[_0x3c66a8(0x1b7)](0x1f4)['send'](_0x3c66a8(0x1c4));}}),router[a0_0x15f9b0(0x1a1)]('/pdf_puchases/:id',auth,async(_0xc85fb6,_0x92cd6a)=>{const _0x454e07=a0_0x15f9b0;try{const {username:_0x495a76,email:_0x4b3aa8,role:_0x5b28cc}=_0xc85fb6['user'],_0x4b663c=_0xc85fb6['user'],_0x5a77fe=await profile['findOne']({'email':_0x4b663c[_0x454e07(0x224)]}),_0x2184c9=await master_shop[_0x454e07(0x16a)](),_0x59e2ad=_0xc85fb6[_0x454e07(0x173)]['id'],_0x289fb6=await purchases[_0x454e07(0x230)](_0x59e2ad),_0x240270=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x92cd6a[_0x454e07(0x1b2)](_0x454e07(0x198),_0x454e07(0x1e2)+_0x59e2ad+_0x454e07(0x172)),_0x92cd6a[_0x454e07(0x1b2)](_0x454e07(0x1b5),_0x454e07(0x1a9));var _0x3f6f7f=0x14,_0x56f22c=0x3c;_0x240270['pipe'](_0x92cd6a),_0x240270[_0x454e07(0x196)](_0x454e07(0x165)+_0x2184c9[0x0][_0x454e07(0x196)],0x14,0x0,{'fit':[0x64,0x64]}),_0x240270[_0x454e07(0x22a)](0x14)['text']('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x3f6f7f,_0x56f22c),_0x240270[_0x454e07(0x22a)](0xa)[_0x454e07(0x1a4)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x3f6f7f,_0x56f22c+=0xf),_0x240270[_0x454e07(0x22a)](0xf)['text'](_0x454e07(0x1ba),_0x3f6f7f,_0x56f22c+=0x32),_0x240270[_0x454e07(0x22a)](0xa)[_0x454e07(0x1a4)]('(INCOMING)',_0x3f6f7f,_0x56f22c+=0x14),_0x240270[_0x454e07(0x22a)](0x9)[_0x454e07(0x1a4)](_0x454e07(0x17d),_0x3f6f7f,_0x56f22c+=0x2d),_0x240270[_0x454e07(0x22a)](0x9)[_0x454e07(0x1a4)](_0x454e07(0x1cb)+_0x289fb6[_0x454e07(0x16e)],_0x3f6f7f+0x3f,_0x56f22c),_0x240270[_0x454e07(0x22a)](0x9)[_0x454e07(0x1a4)](_0x454e07(0x187)+_0x289fb6[_0x454e07(0x1a3)],_0x3f6f7f+0x17c,_0x56f22c,{'underline':!![]}),_0x240270[_0x454e07(0x22a)](0x9)[_0x454e07(0x1a4)](_0x454e07(0x22d),_0x3f6f7f,_0x56f22c+=0xb),_0x240270[_0x454e07(0x22a)](0x9)['text']('\x20:\x20'+_0x289fb6[_0x454e07(0x209)],_0x3f6f7f+0x3f,_0x56f22c),_0x240270[_0x454e07(0x22a)](0x9)[_0x454e07(0x1a4)](_0x454e07(0x16d),_0x3f6f7f,_0x56f22c+=0xb),_0x240270[_0x454e07(0x22a)](0x9)['text'](_0x454e07(0x1cb)+_0x289fb6[_0x454e07(0x1b6)],_0x3f6f7f+0x3f,_0x56f22c);const _0xcf1bf={'headers':[{'label':_0x454e07(0x188),'property':_0x454e07(0x184),'width':0x3c,'renderer':null},{'label':_0x454e07(0x15f),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x454e07(0x1cc),'property':_0x454e07(0x1cf),'width':0x2d,'renderer':null},{'label':_0x454e07(0x1c3),'property':_0x454e07(0x228),'width':0x3c,'renderer':null},{'label':_0x454e07(0x16b),'property':_0x454e07(0x22e),'width':0x46,'renderer':null},{'label':_0x454e07(0x19e),'property':_0x454e07(0x1c0),'width':0x3c,'renderer':null},{'label':_0x454e07(0x1de),'property':_0x454e07(0x19c),'width':0x3c,'renderer':null},{'label':_0x454e07(0x1f5),'property':_0x454e07(0x169),'width':0x3f,'renderer':null}],'datas':[]};var _0xc32b49=0x0;let _0x4dd838='';_0x289fb6[_0x454e07(0x22f)]['forEach'](_0x267101=>{const _0x426f16=_0x454e07;let _0x6a62a0='';var _0xcf3ee9=0x0;const _0x33606b={'itemcode':_0x267101['product_code'],'itemdescription':_0x267101[_0x426f16(0x17b)],'qty':_0x267101[_0x426f16(0x1bd)],'unit':_0x267101[_0x426f16(0x1f7)],'expdate':_0x267101[_0x426f16(0x1e6)],'batchno':_0x267101['batch_code'],'binloc':_0x267101['storage']+_0x267101[_0x426f16(0x222)]+_0x267101[_0x426f16(0x21a)]+_0x267101['bin']+_0x267101[_0x426f16(0x1fd)][0x0]+_0x267101[_0x426f16(0x1e0)],'DelCode':_0x267101[_0x426f16(0x1d1)]};_0xc32b49+=_0x267101[_0x426f16(0x1bd)],_0xcf1bf[_0x426f16(0x1f1)][_0x426f16(0x1fe)](_0x33606b);}),_0x240270['table'](_0xcf1bf,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x240270[_0x454e07(0x1c5)](_0x454e07(0x1d7))[_0x454e07(0x22a)](0x8),'prepareRow':(_0x38d463,_0xe51d80,_0x2020e3,_0x23958b)=>_0x240270[_0x454e07(0x1c5)](_0x454e07(0x22c))[_0x454e07(0x22a)](0x8)});var _0x1812ee=_0x240270['y'],_0x1385a5=_0x240270['x'];_0x240270[_0x454e07(0x22a)](0xa)['text'](_0x454e07(0x1a7),_0x1385a5+0x7d,_0x1812ee),_0x240270[_0x454e07(0x22a)](0xa)[_0x454e07(0x1a4)](_0x454e07(0x1d2),_0x1385a5,_0x1812ee+=0x15e),_0x240270[_0x454e07(0x22a)](0xa)[_0x454e07(0x1a4)](_0xc32b49,_0x1385a5+0xf0,_0x1812ee,{'underline':!![]}),_0x240270['fontSize'](0xa)[_0x454e07(0x1a4)]('Checked\x20By\x20\x20\x20:\x20',_0x1385a5,_0x1812ee+0x28),_0x240270[_0x454e07(0x22a)](0xa)[_0x454e07(0x1a4)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1385a5+0x40,_0x1812ee+0x28,{'underline':!![]}),_0x240270['fontSize'](0xa)['text']('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x1385a5+0x40,_0x1812ee+0x32);let _0x4ea139=_0x240270[_0x454e07(0x1e8)]();for(let _0x283f85=0x0;_0x283f85<_0x4ea139[_0x454e07(0x21b)];_0x283f85++){_0x240270[_0x454e07(0x206)](_0x283f85);let _0x4b8370=_0x240270[_0x454e07(0x1af)][_0x454e07(0x216)][_0x454e07(0x226)];_0x240270[_0x454e07(0x1af)][_0x454e07(0x216)]['bottom']=0x0,_0x240270[_0x454e07(0x1a4)]('Page:\x20'+(_0x283f85+0x1)+'\x20of\x20'+_0x4ea139[_0x454e07(0x21b)],0x0,_0x240270[_0x454e07(0x1af)]['height']-_0x4b8370/0x2,{'align':_0x454e07(0x168)}),_0x240270[_0x454e07(0x1af)][_0x454e07(0x216)][_0x454e07(0x226)]=_0x4b8370;}const _0x24da30=_0x240270['y'],_0x2452cb=_0x240270['x'];_0x240270['end']();}catch(_0x9d3cb0){console[_0x454e07(0x195)](_0x9d3cb0),_0x92cd6a[_0x454e07(0x1b7)](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router['get']('/PDF_Sales/:id',auth,async(_0x54d266,_0x5c7636)=>{const _0x4577e3=a0_0x15f9b0;try{const {username:_0x20ceba,email:_0x3d9c22,role:_0x35437f}=_0x54d266['user'],_0x1c9ea4=_0x54d266['user'],_0x492397=await profile[_0x4577e3(0x217)]({'email':_0x1c9ea4[_0x4577e3(0x224)]}),_0x39e61b=await master_shop[_0x4577e3(0x16a)](),_0x292628=_0x54d266[_0x4577e3(0x173)]['id'],_0x17e0ff=await sales[_0x4577e3(0x230)](_0x292628),_0x46297b=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x3de1df;_0x3de1df=_0x4577e3(0x225);_0x17e0ff[_0x4577e3(0x186)]==_0x4577e3(0x180)&&(_0x3de1df=_0x4577e3(0x229));_0x5c7636[_0x4577e3(0x1b2)](_0x4577e3(0x198),_0x4577e3(0x1e2)+_0x292628+_0x4577e3(0x172)),_0x5c7636[_0x4577e3(0x1b2)](_0x4577e3(0x1b5),_0x4577e3(0x1a9));var _0x52c0d1=0x14,_0x58f207=0x64;_0x46297b['pipe'](_0x5c7636),_0x46297b[_0x4577e3(0x196)](_0x4577e3(0x165)+_0x39e61b[0x0][_0x4577e3(0x196)],0x14,0x0,{'fit':[0x64,0x64]}),_0x46297b[_0x4577e3(0x22a)](0x14)[_0x4577e3(0x1a4)](_0x4577e3(0x17a),_0x52c0d1,_0x58f207),_0x46297b[_0x4577e3(0x22a)](0xa)[_0x4577e3(0x1a4)](_0x4577e3(0x1bc),_0x52c0d1,_0x58f207+=0xf),_0x46297b[_0x4577e3(0x22a)](0xf)[_0x4577e3(0x1a4)](_0x3de1df,_0x52c0d1,_0x58f207+=0x32),_0x46297b['fontSize'](0xa)['text']('(OUTGOING)',_0x52c0d1,_0x58f207+=0x14),_0x46297b[_0x4577e3(0x22a)](0x9)[_0x4577e3(0x1a4)](_0x4577e3(0x22d),_0x52c0d1,_0x58f207+=0x19),_0x46297b[_0x4577e3(0x22a)](0x9)[_0x4577e3(0x1a4)]('\x20:\x20'+_0x17e0ff[_0x4577e3(0x209)],_0x52c0d1+0x3f,_0x58f207),_0x46297b[_0x4577e3(0x22a)](0x9)['text'](_0x4577e3(0x17c),_0x52c0d1,_0x58f207+=0xb),_0x46297b[_0x4577e3(0x22a)](0x9)[_0x4577e3(0x1a4)](_0x4577e3(0x1cb)+_0x17e0ff['invoice'],_0x52c0d1+0x3f,_0x58f207);const _0x4accbe={'headers':[{'label':'ITEM\x20CODE','property':_0x4577e3(0x184),'align':_0x4577e3(0x168),'width':0x2d,'renderer':null},{'label':_0x4577e3(0x1d4),'property':_0x4577e3(0x20e),'align':_0x4577e3(0x168),'width':0x64,'renderer':null},{'label':_0x4577e3(0x1cd),'property':_0x4577e3(0x205),'align':'center','width':0x28,'renderer':null},{'label':_0x4577e3(0x1dc),'property':_0x4577e3(0x214),'align':'center','width':0x28,'renderer':null},{'label':_0x4577e3(0x1c3),'property':'unit','align':_0x4577e3(0x168),'width':0x28,'renderer':null},{'label':_0x4577e3(0x201),'property':_0x4577e3(0x213),'align':'center','width':0x32,'renderer':null},{'label':_0x4577e3(0x1fa),'property':_0x4577e3(0x1e5),'align':_0x4577e3(0x168),'width':0x3c,'renderer':null},{'label':_0x4577e3(0x210),'property':_0x4577e3(0x22e),'align':'center','width':0x3c,'renderer':null},{'label':_0x4577e3(0x1fc),'property':_0x4577e3(0x231),'align':_0x4577e3(0x168),'width':0x3f,'renderer':null},{'label':_0x4577e3(0x185),'property':'del_code','align':_0x4577e3(0x168),'width':0x3f,'renderer':null}],'datas':[]};var _0x4a8816=0x0;let _0x36e006='';var _0x148521=0x0,_0x52c0d1=0x1;_0x17e0ff[_0x4577e3(0x1c9)][_0x4577e3(0x1f9)](_0x47f1a4=>{const _0x1debb6=_0x4577e3,_0x2778e8=new Date(_0x47f1a4['production_date']),_0xed23bc={'year':'numeric','month':_0x1debb6(0x177),'day':_0x1debb6(0x19d)},_0x3ef55f=_0x2778e8[_0x1debb6(0x1ec)](_0x1debb6(0x208),_0xed23bc),_0x25487a=new Date(_0x47f1a4[_0x1debb6(0x1e6)]),_0x2844dc={'year':_0x1debb6(0x19d),'month':'short','day':_0x1debb6(0x19d)},_0x3df393=_0x25487a[_0x1debb6(0x1ec)](_0x1debb6(0x208),_0x2844dc),_0x505157=new Date(_0x47f1a4['delivery_date']),_0x47ff9a={'year':_0x1debb6(0x19d),'month':_0x1debb6(0x177),'day':_0x1debb6(0x19d)};var _0x47d280=_0x505157['toLocaleDateString'](_0x1debb6(0x208),_0x47ff9a);typeof _0x47f1a4['delivery_date']==_0x1debb6(0x1a2)&&(_0x47d280='');const _0x5ebf44={'itemcode':_0x47f1a4['product_code'],'itemdescription':_0x47f1a4[_0x1debb6(0x17b)],'rqty':_0x47f1a4[_0x1debb6(0x1e9)],'iqty':_0x47f1a4[_0x1debb6(0x1bd)],'unit':_0x47f1a4[_0x1debb6(0x228)],'blocation':_0x47f1a4[_0x1debb6(0x1ae)]+_0x47f1a4[_0x1debb6(0x222)]+_0x47f1a4[_0x1debb6(0x21a)]+_0x47f1a4[_0x1debb6(0x161)]+_0x47f1a4['type'][0x0]+_0x47f1a4[_0x1debb6(0x1e0)],'proddate':_0x3ef55f,'expdate':_0x3df393,'del_date':_0x47d280,'del_code':_0x47f1a4[_0x1debb6(0x1d1)]};_0x52c0d1++,_0x4accbe[_0x1debb6(0x1f1)]['push'](_0x5ebf44);}),_0x46297b[_0x4577e3(0x207)](_0x4accbe,{'x':_0x52c0d1+0x11,'y':_0x58f207+=0x1e,'prepareHeader':()=>_0x46297b['font'](_0x4577e3(0x1d7))[_0x4577e3(0x22a)](6.5),'prepareRow':(_0x4d4c9a,_0x3352e2,_0x1524f5,_0x2fb819,_0x570578)=>{const _0x796540=_0x4577e3,{x:_0x213fe3,y:_0x29b3a4,width:_0x3b861f,height:_0x1beda9}=_0x570578;_0x46297b[_0x796540(0x1c5)](_0x796540(0x22c))[_0x796540(0x22a)](0x8),_0x46297b[_0x796540(0x1dd)](0.5)['moveTo'](_0x213fe3,_0x29b3a4)[_0x796540(0x174)](_0x213fe3,_0x29b3a4+_0x1beda9)[_0x796540(0x20f)]();}});var _0x5cc834=_0x46297b['y'],_0x253ba0=_0x46297b['x'],_0xf3a571=_0x5cc834-=0x8;_0x46297b['lineWidth'](0x5),_0x46297b[_0x4577e3(0x1a0)]('butt')[_0x4577e3(0x1d0)](0x240,_0xf3a571)[_0x4577e3(0x174)](0x11,_0xf3a571)[_0x4577e3(0x20f)](),_0x46297b['fontSize'](0xa)[_0x4577e3(0x1a4)](_0x4577e3(0x1a7),_0x253ba0+0x7d,_0x5cc834+=0xf),_0x46297b['fontSize'](0xb)[_0x4577e3(0x1a4)](_0x4577e3(0x211),_0x253ba0,_0x5cc834+=0x15e),_0x46297b[_0x4577e3(0x22a)](0xa)['text'](_0x4577e3(0x1d3),_0x253ba0+0x52,_0x5cc834,{'underline':!![]}),_0x46297b[_0x4577e3(0x22a)](0xa)['text'](_0x4577e3(0x218),_0x253ba0,_0x5cc834+=0x19),_0x46297b[_0x4577e3(0x22a)](0xa)[_0x4577e3(0x1a4)](_0x4577e3(0x1cb),_0x253ba0+0x4b,_0x5cc834),_0x46297b[_0x4577e3(0x22a)](0xa)['text']('\x20'[_0x4577e3(0x22b)](0x3c),_0x253ba0+0x50,_0x5cc834,{'underline':!![]}),_0x46297b['fontSize'](0xa)['text']('Noted\x20By\x20',_0x253ba0,_0x5cc834+=0x32),_0x46297b[_0x4577e3(0x22a)](0xa)[_0x4577e3(0x1a4)](_0x4577e3(0x1cb),_0x253ba0+0x4b,_0x5cc834),_0x46297b[_0x4577e3(0x22a)](0xa)[_0x4577e3(0x1a4)](_0x4577e3(0x183),_0x253ba0+0x50,_0x5cc834,{'underline':!![]}),_0x46297b['fontSize'](0xa)[_0x4577e3(0x1a4)](_0x4577e3(0x162),_0x253ba0+0x50,_0x5cc834+0xc);let _0x57ec67=_0x46297b[_0x4577e3(0x1e8)]();for(let _0x384e69=0x0;_0x384e69<_0x57ec67[_0x4577e3(0x21b)];_0x384e69++){_0x46297b[_0x4577e3(0x206)](_0x384e69);let _0xc4353b=_0x46297b[_0x4577e3(0x1af)][_0x4577e3(0x216)][_0x4577e3(0x226)];_0x46297b[_0x4577e3(0x1af)]['margins'][_0x4577e3(0x226)]=0x0,_0x46297b[_0x4577e3(0x1a4)](_0x4577e3(0x1ed)+(_0x384e69+0x1)+'\x20of\x20'+_0x57ec67['count'],0x0,_0x46297b[_0x4577e3(0x1af)][_0x4577e3(0x1df)]-_0xc4353b/0x2,{'align':_0x4577e3(0x168)}),_0x46297b[_0x4577e3(0x1af)][_0x4577e3(0x216)][_0x4577e3(0x226)]=_0xc4353b;}const _0x1a9d62=_0x46297b['y'],_0x2973d2=_0x46297b['x'];_0x46297b[_0x4577e3(0x212)]();}catch(_0x2d4460){console[_0x4577e3(0x195)](_0x2d4460),_0x5c7636[_0x4577e3(0x1b7)](0x1f4)[_0x4577e3(0x18a)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x15f9b0(0x1a1)](a0_0x15f9b0(0x20b),auth,async(_0x4595f3,_0x1f9554)=>{const _0x3f5573=a0_0x15f9b0;try{const {username:_0x5f4fd4,email:_0x21c7d3,role:_0x3b4a5a}=_0x4595f3[_0x3f5573(0x18d)],_0x478abb=_0x4595f3[_0x3f5573(0x18d)],_0x2b083b=await profile[_0x3f5573(0x217)]({'email':_0x478abb[_0x3f5573(0x224)]}),_0x1307ef=await master_shop['find'](),_0x1fdee6=_0x4595f3[_0x3f5573(0x173)]['id'],_0x472b12=await adjustment[_0x3f5573(0x230)](_0x1fdee6);var _0x4b7cd8,_0x4428c6;_0x4b7cd8='PICKING\x20LIST',_0x4428c6=_0x3f5573(0x1fb);_0x472b12[_0x3f5573(0x186)]==_0x3f5573(0x180)&&(_0x4b7cd8=_0x3f5573(0x16f),_0x4428c6='');const _0x1a9cd9=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1f9554[_0x3f5573(0x1b2)](_0x3f5573(0x198),_0x3f5573(0x1e2)+_0x1fdee6+_0x3f5573(0x172)),_0x1f9554[_0x3f5573(0x1b2)](_0x3f5573(0x1b5),_0x3f5573(0x1a9));var _0x5a0a60=0x14,_0x1944b5=0x3c;_0x1a9cd9[_0x3f5573(0x215)](_0x1f9554),_0x1a9cd9['image'](_0x3f5573(0x165)+_0x1307ef[0x0][_0x3f5573(0x196)],0x14,0x0,{'fit':[0x64,0x64]}),_0x1a9cd9['fontSize'](0x14)[_0x3f5573(0x1a4)](_0x3f5573(0x17a),_0x5a0a60,_0x1944b5),_0x1a9cd9[_0x3f5573(0x22a)](0xa)[_0x3f5573(0x1a4)](_0x3f5573(0x1bc),_0x5a0a60,_0x1944b5+=0xf),_0x1a9cd9[_0x3f5573(0x22a)](0xf)[_0x3f5573(0x1a4)](_0x4b7cd8,_0x5a0a60,_0x1944b5+=0x32),_0x1a9cd9[_0x3f5573(0x22a)](0xa)[_0x3f5573(0x1a4)](_0x4428c6,_0x5a0a60,_0x1944b5+=0x14),_0x1a9cd9['fontSize'](0x9)['text'](_0x3f5573(0x17d),_0x5a0a60,_0x1944b5+=0x28),_0x1a9cd9[_0x3f5573(0x22a)](0x9)[_0x3f5573(0x1a4)](_0x3f5573(0x1cb)+_0x472b12[_0x3f5573(0x16e)],_0x5a0a60+0x3f,_0x1944b5),_0x1a9cd9[_0x3f5573(0x22a)](0x9)[_0x3f5573(0x1a4)](_0x3f5573(0x22d),_0x5a0a60,_0x1944b5+=0xb),_0x1a9cd9[_0x3f5573(0x22a)](0x9)[_0x3f5573(0x1a4)](_0x3f5573(0x1cb)+_0x472b12[_0x3f5573(0x209)],_0x5a0a60+0x3f,_0x1944b5),_0x1a9cd9['fontSize'](0x9)[_0x3f5573(0x1a4)](_0x3f5573(0x16d),_0x5a0a60,_0x1944b5+=0xb),_0x1a9cd9[_0x3f5573(0x22a)](0x9)[_0x3f5573(0x1a4)]('\x20:\x20'+_0x472b12[_0x3f5573(0x1b6)],_0x5a0a60+0x3f,_0x1944b5);const _0xa8090d={'headers':[{'label':'Item\x20Code','property':_0x3f5573(0x184),'width':0x3c,'renderer':null},{'label':_0x3f5573(0x15f),'property':_0x3f5573(0x20e),'width':0x96,'renderer':null},{'label':_0x3f5573(0x1eb),'property':_0x3f5573(0x1cf),'width':0x3c,'renderer':null},{'label':_0x3f5573(0x1c3),'property':'unit','width':0x3c,'renderer':null},{'label':_0x3f5573(0x1f8),'property':_0x3f5573(0x1e5),'width':0x50,'renderer':null},{'label':_0x3f5573(0x19e),'property':_0x3f5573(0x1c0),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x3f5573(0x19c),'width':0x3f,'renderer':null}],'datas':[]};var _0x794349=0x0,_0x21662b=0x0;_0x472b12['product'][_0x3f5573(0x1f9)](_0x246b19=>{const _0x32084b=_0x3f5573;let _0x3d5b74='';const _0x589ff1=_0x246b19[_0x32084b(0x203)];for(let _0x1d7499=0x1;_0x1d7499<=_0x589ff1;_0x1d7499++){_0x589ff1==_0x1d7499?_0x3d5b74+=_0x246b19[_0x32084b(0x1ef)]:_0x3d5b74+=_0x246b19['maxperunit']+',',_0x21662b+=_0x246b19[_0x32084b(0x1ef)];}_0x3d5b74+=_0x32084b(0x1ab)+_0x246b19[_0x32084b(0x21d)];const _0x45177a={'itemcode':_0x246b19['product_code'],'itemdescription':_0x246b19['product_name'],'qty':_0x246b19[_0x32084b(0x202)],'unit':_0x246b19[_0x32084b(0x228)],'proddate':_0x246b19[_0x32084b(0x194)],'batchno':_0x246b19[_0x32084b(0x21e)],'binloc':_0x246b19[_0x32084b(0x1ae)]+_0x246b19[_0x32084b(0x222)]+_0x246b19['bay']+_0x246b19[_0x32084b(0x161)]+_0x246b19[_0x32084b(0x1fd)][0x0]+_0x246b19[_0x32084b(0x1e0)]};_0x794349+=_0x246b19[_0x32084b(0x202)],_0xa8090d[_0x32084b(0x1f1)]['push'](_0x45177a);}),_0x1a9cd9[_0x3f5573(0x207)](_0xa8090d,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x1a9cd9[_0x3f5573(0x1c5)](_0x3f5573(0x1d7))[_0x3f5573(0x22a)](0x8),'prepareRow':(_0x26bee0,_0x10264f,_0x5f3fe0,_0x216618)=>_0x1a9cd9[_0x3f5573(0x1c5)](_0x3f5573(0x22c))[_0x3f5573(0x22a)](0x8)});var _0x12a7af=_0x1a9cd9['y'],_0x21b06d=_0x1a9cd9['x'];_0x1a9cd9[_0x3f5573(0x22a)](0xa)[_0x3f5573(0x1a4)](_0x3f5573(0x1a7),_0x21b06d+0x7d,_0x12a7af),_0x1a9cd9[_0x3f5573(0x22a)](0xa)[_0x3f5573(0x1a4)](_0x3f5573(0x1d9),_0x21b06d,_0x12a7af+=0x136),_0x1a9cd9[_0x3f5573(0x22a)](0xa)[_0x3f5573(0x1a4)](_0x794349,_0x21b06d+0xc8,_0x12a7af),_0x1a9cd9[_0x3f5573(0x22a)](0xa)[_0x3f5573(0x1a4)](_0x3f5573(0x1ac),_0x21b06d,_0x12a7af+=0x19),_0x1a9cd9[_0x3f5573(0x22a)](0xa)[_0x3f5573(0x1a4)]('\x20'[_0x3f5573(0x22b)](0x3c),_0x21b06d+0x3e,_0x12a7af,{'underline':!![]}),_0x1a9cd9[_0x3f5573(0x22a)](0xa)[_0x3f5573(0x1a4)]('Checked\x20By\x20',_0x21b06d,_0x12a7af+=0x32),_0x1a9cd9['fontSize'](0xa)[_0x3f5573(0x1a4)](_0x3f5573(0x1cb),_0x21b06d+0x37,_0x12a7af),_0x1a9cd9[_0x3f5573(0x22a)](0xa)['text'](_0x3f5573(0x183),_0x21b06d+0x3c,_0x12a7af,{'underline':!![]}),_0x1a9cd9[_0x3f5573(0x22a)](0xa)[_0x3f5573(0x1a4)](_0x3f5573(0x162),_0x21b06d+0x3c,_0x12a7af+0xc);let _0x33ddd4=_0x1a9cd9[_0x3f5573(0x1e8)]();for(let _0x3ed620=0x0;_0x3ed620<_0x33ddd4[_0x3f5573(0x21b)];_0x3ed620++){_0x1a9cd9['switchToPage'](_0x3ed620);let _0x4a7e6e=_0x1a9cd9[_0x3f5573(0x1af)][_0x3f5573(0x216)][_0x3f5573(0x226)];_0x1a9cd9[_0x3f5573(0x1af)][_0x3f5573(0x216)][_0x3f5573(0x226)]=0x0,_0x1a9cd9[_0x3f5573(0x1a4)]('Page:\x20'+(_0x3ed620+0x1)+_0x3f5573(0x1e1)+_0x33ddd4[_0x3f5573(0x21b)],0x0,_0x1a9cd9[_0x3f5573(0x1af)]['height']-_0x4a7e6e/0x2,{'align':_0x3f5573(0x168)}),_0x1a9cd9['page'][_0x3f5573(0x216)][_0x3f5573(0x226)]=_0x4a7e6e;}const _0x464ad1=_0x1a9cd9['y'],_0x2cf0d7=_0x1a9cd9['x'];_0x1a9cd9[_0x3f5573(0x212)]();}catch(_0x4b0d07){console[_0x3f5573(0x195)](_0x4b0d07),_0x1f9554['status'](0x1f4)[_0x3f5573(0x18a)](_0x3f5573(0x1c4));}}),router[a0_0x15f9b0(0x1a1)](a0_0x15f9b0(0x167),auth,async(_0x1b430c,_0x59dcbc)=>{const _0x22463d=a0_0x15f9b0;try{const {username:_0x27d8a8,email:_0x24bf2b,role:_0x34a811}=_0x1b430c[_0x22463d(0x18d)],_0x1f2a25=_0x1b430c[_0x22463d(0x18d)],_0x317863=await profile[_0x22463d(0x217)]({'email':_0x1f2a25[_0x22463d(0x224)]}),_0x1be50b=await master_shop[_0x22463d(0x16a)](),_0x49f3f8=_0x1b430c[_0x22463d(0x173)]['id'],_0x2874c8=await transfers[_0x22463d(0x230)](_0x49f3f8);var _0x2cbcd4,_0x5d7470;_0x2cbcd4='Picking\x20List',_0x5d7470=_0x22463d(0x1b4);_0x2874c8[_0x22463d(0x186)]=='True'&&(_0x2cbcd4=_0x22463d(0x1db),_0x5d7470='');const _0x23cbff=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x59dcbc[_0x22463d(0x1b2)](_0x22463d(0x198),'inline;\x20filename=\x22OUT-'+_0x49f3f8+_0x22463d(0x172)),_0x59dcbc[_0x22463d(0x1b2)](_0x22463d(0x1b5),_0x22463d(0x1a9));var _0x377279=0x14,_0x814500=0x3c;_0x23cbff[_0x22463d(0x215)](_0x59dcbc),_0x23cbff[_0x22463d(0x196)]('./public/upload/'+_0x1be50b[0x0][_0x22463d(0x196)],0x14,0x0,{'fit':[0x64,0x64]}),_0x23cbff['fontSize'](0x14)['text'](_0x22463d(0x17a),_0x377279,_0x814500),_0x23cbff[_0x22463d(0x22a)](0xa)['text'](_0x22463d(0x1bc),_0x377279,_0x814500+=0xf),_0x23cbff[_0x22463d(0x22a)](0xf)[_0x22463d(0x1a4)](_0x2cbcd4,_0x377279,_0x814500+=0x32),_0x23cbff['fontSize'](0xa)[_0x22463d(0x1a4)](_0x5d7470,_0x377279,_0x814500+=0x14),_0x23cbff[_0x22463d(0x22a)](0x9)[_0x22463d(0x1a4)](_0x22463d(0x18e),_0x377279,_0x814500+=0x28),_0x23cbff[_0x22463d(0x22a)](0x9)[_0x22463d(0x1a4)]('\x20\x20\x20:\x20'+_0x2874c8[_0x22463d(0x182)],_0x377279+0x3f,_0x814500),_0x23cbff['fontSize'](0x9)[_0x22463d(0x1a4)]('To\x20Warehouse\x20',_0x377279,_0x814500+=0xa),_0x23cbff[_0x22463d(0x22a)](0x9)[_0x22463d(0x1a4)](_0x22463d(0x1ee)+_0x2874c8[_0x22463d(0x21f)],_0x377279+0x3f,_0x814500),_0x23cbff[_0x22463d(0x22a)](0x9)[_0x22463d(0x1a4)](_0x22463d(0x22d),_0x377279,_0x814500+=0xb),_0x23cbff[_0x22463d(0x22a)](0x9)[_0x22463d(0x1a4)](_0x22463d(0x1ee)+_0x2874c8[_0x22463d(0x209)],_0x377279+0x3f,_0x814500),_0x23cbff[_0x22463d(0x22a)](0x9)[_0x22463d(0x1a4)]('Control\x20Number\x20',_0x377279,_0x814500+=0xb),_0x23cbff[_0x22463d(0x22a)](0x9)[_0x22463d(0x1a4)](_0x22463d(0x1ee)+_0x2874c8[_0x22463d(0x1b6)],_0x377279+0x3f,_0x814500);const _0x246466={'headers':[{'label':'','property':_0x22463d(0x184),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x22463d(0x1b1),'property':_0x22463d(0x184),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x22463d(0x1e3),'property':_0x22463d(0x20e),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x23cbff['table'](_0x246466,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x23cbff[_0x22463d(0x1c5)](_0x22463d(0x1d7))[_0x22463d(0x22a)](0x8),'prepareRow':(_0x29271f,_0x4e6d53,_0x5c04cb,_0x92e197)=>_0x23cbff[_0x22463d(0x1c5)](_0x22463d(0x22c))[_0x22463d(0x22a)](0x8)});const _0x11aa66={'headers':[{'label':_0x22463d(0x188),'property':_0x22463d(0x184),'width':0x3c,'renderer':null},{'label':_0x22463d(0x15f),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x22463d(0x1eb),'property':_0x22463d(0x1cf),'width':0x28,'renderer':null},{'label':_0x22463d(0x1c3),'property':'unit','width':0x37,'renderer':null},{'label':_0x22463d(0x1f8),'property':_0x22463d(0x1e5),'width':0x4b,'renderer':null},{'label':_0x22463d(0x19e),'property':'batchno','width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x22463d(0x219),'width':0x3f,'renderer':null},{'label':_0x22463d(0x1de),'property':_0x22463d(0x19c),'width':0x3f,'renderer':null}],'datas':[]};var _0x4563f9=0x0;let _0x36d67c='';var _0x15c668=0x0;_0x2874c8[_0x22463d(0x22f)]['forEach'](_0x29595a=>{const _0x53031d=_0x22463d;var _0x584f07=_0x29595a['prod_cat'],_0x5a1fad;_0x5a1fad=_0x29595a[_0x53031d(0x228)];_0x584f07=='S'&&(_0x5a1fad=_0x29595a[_0x53031d(0x21d)]);const _0x578755={'itemcode':_0x29595a[_0x53031d(0x18f)],'itemdescription':_0x29595a[_0x53031d(0x17b)],'qty':_0x29595a[_0x53031d(0x203)],'unit':_0x5a1fad,'proddate':_0x29595a[_0x53031d(0x194)],'batchno':_0x29595a[_0x53031d(0x21e)],'binloc':_0x29595a[_0x53031d(0x1ae)]+_0x29595a[_0x53031d(0x222)]+_0x29595a[_0x53031d(0x200)]+_0x29595a[_0x53031d(0x16c)]+_0x29595a[_0x53031d(0x199)][0x0]+_0x29595a[_0x53031d(0x170)],'qtyFrom':_0x29595a[_0x53031d(0x227)],'binlocFrom':_0x29595a[_0x53031d(0x1da)]+_0x29595a['from_rack']+_0x29595a[_0x53031d(0x1a8)]+_0x29595a['from_bin']+_0x29595a['from_types'][0x0]+_0x29595a['from_floorlevel']};_0x4563f9+=_0x29595a[_0x53031d(0x203)],_0x11aa66['datas'][_0x53031d(0x1fe)](_0x578755);}),_0x23cbff['table'](_0x11aa66,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x23cbff[_0x22463d(0x1c5)](_0x22463d(0x1d7))[_0x22463d(0x22a)](0x8),'prepareRow':(_0x332817,_0x3eaa0c,_0x14db1e,_0x1f3f9f)=>_0x23cbff[_0x22463d(0x1c5)](_0x22463d(0x22c))['fontSize'](0x8)});var _0x4796ad=_0x23cbff['y'],_0x530cf2=_0x23cbff['x'];_0x23cbff[_0x22463d(0x22a)](0xa)[_0x22463d(0x1a4)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x530cf2+0x7d,_0x4796ad),_0x23cbff[_0x22463d(0x22a)](0xa)[_0x22463d(0x1a4)](_0x22463d(0x1d2),_0x530cf2,_0x4796ad+=0x12c),_0x23cbff[_0x22463d(0x22a)](0xa)['text'](_0x4563f9,_0x530cf2+0xd7,_0x4796ad,{'underline':!![]}),_0x23cbff['fontSize'](0xa)['text'](_0x22463d(0x1d5),_0x530cf2,_0x4796ad+=0x32),_0x23cbff[_0x22463d(0x22a)](0xa)['text'](_0x22463d(0x175),_0x530cf2+0x3c,_0x4796ad,{'underline':!![]}),_0x23cbff['fontSize'](0xa)['text']('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x530cf2+0x3c,_0x4796ad+0xc);let _0x325f10=_0x23cbff['bufferedPageRange']();for(let _0x48ad5c=0x0;_0x48ad5c<_0x325f10[_0x22463d(0x21b)];_0x48ad5c++){_0x23cbff[_0x22463d(0x206)](_0x48ad5c);let _0x74e463=_0x23cbff[_0x22463d(0x1af)][_0x22463d(0x216)][_0x22463d(0x226)];_0x23cbff[_0x22463d(0x1af)][_0x22463d(0x216)][_0x22463d(0x226)]=0x0,_0x23cbff[_0x22463d(0x1a4)]('Page:\x20'+(_0x48ad5c+0x1)+'\x20of\x20'+_0x325f10[_0x22463d(0x21b)],0x0,_0x23cbff[_0x22463d(0x1af)][_0x22463d(0x1df)]-_0x74e463/0x2,{'align':'center'}),_0x23cbff[_0x22463d(0x1af)][_0x22463d(0x216)][_0x22463d(0x226)]=_0x74e463;}const _0x43db5c=_0x23cbff['y'],_0x1ceb3d=_0x23cbff['x'];_0x23cbff['end']();}catch(_0x2af813){console[_0x22463d(0x195)](_0x2af813),_0x59dcbc[_0x22463d(0x1b7)](0x1f4)[_0x22463d(0x18a)](_0x22463d(0x1c4));}}),router[a0_0x15f9b0(0x1a1)](a0_0x15f9b0(0x1be),auth,async(_0x2b2186,_0x4a48e9)=>{const _0x58cac2=a0_0x15f9b0;try{const _0x4ff383=_0x11433b=>_0x11433b*0x48,_0x201c81={'width':0x3,'height':0x1},_0x145a77=await product[_0x58cac2(0x16a)](),_0xc1985=new PDFDocument({'margin':_0x4ff383(0.75),'size':[_0x4ff383(_0x201c81['width']),_0x4ff383(_0x201c81['height'])],'bufferPages':!![]}),_0x1566ee=_0x145a77[_0x58cac2(0x166)];for(let _0x52d858=0x0;_0x52d858<=_0x1566ee;_0x52d858++){if(_0x52d858!=_0x145a77[_0x58cac2(0x166)]){const _0x131a24=_0x145a77[_0x52d858]['name'],_0x35f727=_0x145a77[_0x52d858]['primary_code'],_0x4abb02=_0x145a77[_0x52d858][_0x58cac2(0x1e7)],_0x1cc1ad=_0x145a77[_0x52d858]['product_code'],_0x434c02=new Canvas();JsBarcode(_0x434c02,_0x35f727,{'format':_0x58cac2(0x220),'height':0x32,'displayValue':!![],'text':_0x35f727}),_0xc1985[_0x58cac2(0x196)](_0x434c02[_0x58cac2(0x1ca)](),0x0,0x0,{'width':0xd2}),_0xc1985['addPage']();}}_0xc1985[_0x58cac2(0x215)](_0x4a48e9),_0xc1985[_0x58cac2(0x212)]();}catch(_0x38b328){console[_0x58cac2(0x1b8)](_0x58cac2(0x1a6),_0x38b328),_0x4a48e9[_0x58cac2(0x1b7)](0x1f4)[_0x58cac2(0x18a)](_0x58cac2(0x1c4));}}),module['exports']=router;