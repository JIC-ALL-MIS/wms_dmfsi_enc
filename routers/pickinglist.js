const a0_0x5e2b8b=a0_0x5b6e;(function(_0x1a17ad,_0x31f811){const _0x5c298d=a0_0x5b6e,_0x49079b=_0x1a17ad();while(!![]){try{const _0x4fd430=-parseInt(_0x5c298d(0x10e))/0x1+parseInt(_0x5c298d(0xdf))/0x2*(parseInt(_0x5c298d(0x141))/0x3)+parseInt(_0x5c298d(0xbf))/0x4*(-parseInt(_0x5c298d(0x104))/0x5)+-parseInt(_0x5c298d(0x8e))/0x6+-parseInt(_0x5c298d(0x12c))/0x7*(parseInt(_0x5c298d(0xd9))/0x8)+parseInt(_0x5c298d(0x14a))/0x9+parseInt(_0x5c298d(0x6f))/0xa;if(_0x4fd430===_0x31f811)break;else _0x49079b['push'](_0x49079b['shift']());}catch(_0x56127d){_0x49079b['push'](_0x49079b['shift']());}}}(a0_0x3e1c,0xe2e6f));const express=require(a0_0x5e2b8b(0x11b)),res=require(a0_0x5e2b8b(0xf4)),app=express(),router=express[a0_0x5e2b8b(0x144)](),multer=require(a0_0x5e2b8b(0x125)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x5e2b8b(0xcb)),auth=require(a0_0x5e2b8b(0x120)),users=require(a0_0x5e2b8b(0x106)),excelJS=require(a0_0x5e2b8b(0x10a)),xlsx=require(a0_0x5e2b8b(0x97)),PDFDocument=require('pdfkit-table'),fs=require('fs'),blobStream=require(a0_0x5e2b8b(0x7e)),JsBarcode=require(a0_0x5e2b8b(0xbb)),{Canvas}=require(a0_0x5e2b8b(0xb8));function a0_0x5b6e(_0x59fa9d,_0x2dca8b){const _0x3e1cde=a0_0x3e1c();return a0_0x5b6e=function(_0x5b6e0b,_0x258100){_0x5b6e0b=_0x5b6e0b-0x6e;let _0x551ccc=_0x3e1cde[_0x5b6e0b];return _0x551ccc;},a0_0x5b6e(_0x59fa9d,_0x2dca8b);}function a0_0x3e1c(){const _0x322af9=['maxPerUnit','toBuffer','Content-disposition','(RETURN)','to_warehouse','1925472JcbPHS','FTGS\x20Number\x20:\x20','LOCATION','Warehouse\x20','Checked\x20By\x20\x20\x20:\x20','unit','/PDF_adjustment/:id','exports','Picked\x20By\x20\x20\x20\x20:\x20','xlsx','find','push','addPage','Delivery\x20Code','batch_code','bottom','DELIVERY\x20DATE','product_name','ITEM\x20CODE','MATERIAL\x20DESCRIPTION','QUANTITY\x20ISSUED','inline;\x20filename=\x22OUT-','user','ARMAN\x20CRUZ','pipe','forEach','binloc','Finished\x20Good\x20Warehouse\x20Supervisor','from_warehouse','UOM','log','maxperunit','requested_qty','send','to_floorlevel','finalize','qty','from_bay','batchno','Expiration\x20Date','from_quantity','True','canvas','TOTAL\x20QTY\x20:\x20','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','jsbarcode','POnumber','Production\x20Date','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','8NsbFqL','/PDF_transfer_rm/:id','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','product_code','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','inline;\x20filename=\x22','Raw\x20Materials\x20Warehouse\x20Supervisor','standard_unit','page','\x20/\x20','itemdescription','text','../models/all_models','Noted\x20By\x20','lineTo','delivery_date','Check\x20By:\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bay','Checked\x20By:\x20','expiry_date','margins','DRY\x20GOODS','invoice','new_adjust_qty','Picked\x20By\x20\x20\x20:\x20','136sNDaxj','status','Check\x20By\x20\x20\x20\x20:\x20','findById','lineWidth','PRODUCTION\x20DATE','16zHikFu','stroke','\x20\x20FROM','expdate','proddate','Date\x20','to_bin','to_bay','image','Quantity','customer','del_code','DelCode','table','return_sale_QA','Item\x20Description','Helvetica','blocation','\x20of\x20','application/pdf','fontSize','express/lib/response','get','secondary_code','DELIVERY\x20CODE','To\x20Warehouse\x20','/pdf_puchases/:id','floorlevel','height','font','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','QTY','REQUESTED\x20QUANTITY','\x20\x20\x20\x20\x20FROM','\x20<>\x20','iqty','Checked\x20By\x20','1736835PcNYQp','From\x20Warehouse\x20','../public/language/languages.json','Warehouse\x20:\x20','\x20y:\x20','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exceljs','sale_product','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','./public/upload/','814873vLtmuG','setHeader','count','.pdf\x22','Bin\x20Location','bufferedPageRange','date','Supplier\x20:\x20','end','(INVENTORY\x20ADJUSTMENT)','butt','REF\x20MRIS#\x20','Item\x20Code','express','lineCap','params','primary_code','bin','../middleware/auth','to_quantity','\x20:\x20','center','Picking\x20List','multer','email','(OUTGOING)','datas','rack','from_types','warehouse_cat','245406ERBzhN','switchToPage','return_qty','INVENTORY\x20ADJUSTMENT','FROZEN\x20GOODS','STOCKS\x20TRANSFER','Date\x20:\x20','Page:\x20','name','storage','rqty','findOne','delivery_code','Content-type','(STOCKS\x20TRANSFER)','product','type','short','CODE128','suppliers','numeric','429810fctpfN','production_date','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Router','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','error','product_cat','to_types','Control\x20Number\x20','14116050ootAYx','en-US','6412860OhhAwU','itemcode','FINISHED\x20GOODS\x20TRANSFER\x20SLIP','Helvetica-Bold','repeat','binlocFrom','adjust_qty','from_storage','quantity','toLocaleDateString','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','secondary_unit','(INCOMING)','warehouse_name','width','blob-stream','x:\x20','PICKING\x20LIST','Customer\x20:\x20','Batch\x20No','\x20\x20\x20\x20\x20TO','DELIVERY\x20RECEIPT','prod_cat','TOTAL\x20QTY:\x20','\x20row:\x20','\x20\x20\x20:\x20'];a0_0x3e1c=function(){return _0x322af9;};return a0_0x3e1c();}router['get']('/PDF/:id',auth,async(_0x44d241,_0x1a2b10)=>{const _0x7a32de=a0_0x5e2b8b;try{const {username:_0x1484db,email:_0x29b623,role:_0x3ae552}=_0x44d241[_0x7a32de(0xa4)],_0x1af7fc=_0x44d241[_0x7a32de(0xa4)],_0x44ff56=await profile[_0x7a32de(0x137)]({'email':_0x1af7fc[_0x7a32de(0x126)]}),_0x242e7e=await master_shop[_0x7a32de(0x98)](),_0x595f19=_0x44d241['params']['id'],_0xc77d02=await sales_finished[_0x7a32de(0xdc)](_0x595f19);var _0x303bb1;_0x303bb1=_0x7a32de(0x80);_0xc77d02['finalize']==_0x7a32de(0xb7)&&(_0x303bb1=_0x7a32de(0x84));const _0x48c88b=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1a2b10[_0x7a32de(0x10f)](_0x7a32de(0x8b),_0x7a32de(0xc4)+_0xc77d02[_0x7a32de(0xd6)]+_0x7a32de(0x111)),_0x1a2b10['setHeader'](_0x7a32de(0x139),_0x7a32de(0xf2));var _0x4d9b32=0x14,_0x5a0548=0x3c;_0x48c88b[_0x7a32de(0xa6)](_0x1a2b10),_0x48c88b[_0x7a32de(0xe7)](_0x7a32de(0x10d)+_0x242e7e[0x0][_0x7a32de(0xe7)],0x14,0x0,{'fit':[0x64,0x64]}),_0x48c88b[_0x7a32de(0xf3)](0x14)[_0x7a32de(0xca)](_0x7a32de(0xfd),_0x4d9b32,_0x5a0548),_0x48c88b['fontSize'](0xa)[_0x7a32de(0xca)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x4d9b32,_0x5a0548+=0xf),_0x48c88b[_0x7a32de(0xf3)](0xf)[_0x7a32de(0xca)](_0x303bb1,_0x4d9b32,_0x5a0548+=0x32),_0x48c88b['fontSize'](0xa)[_0x7a32de(0xca)](_0x7a32de(0x127),_0x4d9b32,_0x5a0548+=0x14),_0x48c88b[_0x7a32de(0xf3)](0x9)[_0x7a32de(0xca)](_0x7a32de(0x91),_0x4d9b32,_0x5a0548+=0x28),_0x48c88b[_0x7a32de(0xf3)](0x9)[_0x7a32de(0xca)](_0x7a32de(0x122)+_0xc77d02[_0x7a32de(0x7c)],_0x4d9b32+0x3f,_0x5a0548),_0x48c88b[_0x7a32de(0xf3)](0x9)[_0x7a32de(0xca)](_0x7a32de(0x81)+_0xc77d02[_0x7a32de(0xe9)],_0x4d9b32+0x17c,_0x5a0548,{'underline':!![]}),_0x48c88b[_0x7a32de(0xf3)](0x9)[_0x7a32de(0xca)](_0x7a32de(0xe4),_0x4d9b32,_0x5a0548+=0xb),_0x48c88b[_0x7a32de(0xf3)](0x9)[_0x7a32de(0xca)](_0x7a32de(0x122)+_0xc77d02['date'],_0x4d9b32+0x3f,_0x5a0548),_0x48c88b[_0x7a32de(0xf3)](0x9)[_0x7a32de(0xca)]('Control\x20Number\x20',_0x4d9b32,_0x5a0548+=0xb),_0x48c88b['fontSize'](0x9)[_0x7a32de(0xca)](_0x7a32de(0x122)+_0xc77d02[_0x7a32de(0xd6)],_0x4d9b32+0x3f,_0x5a0548);const _0x2d49ae={'headers':[{'label':'Item\x20Code','property':_0x7a32de(0x70),'width':0x3c,'renderer':null},{'label':_0x7a32de(0xee),'property':_0x7a32de(0xc9),'width':0xa5,'renderer':null},{'label':'Quantity','property':_0x7a32de(0xb2),'width':0x3c,'renderer':null},{'label':_0x7a32de(0xab),'property':'unit','width':0x3c,'renderer':null},{'label':_0x7a32de(0xbd),'property':'proddate','width':0x50,'renderer':null},{'label':_0x7a32de(0x82),'property':_0x7a32de(0xb4),'width':0x3f,'renderer':null},{'label':_0x7a32de(0x112),'property':_0x7a32de(0xa8),'width':0x3f,'renderer':null}],'datas':[]};var _0x4bb055=0x0;let _0x2a8273='';var _0x5792cd=0x0;_0xc77d02[_0x7a32de(0x7c)]=='DRY\x20GOODS'?_0x2a8273='DG':_0x2a8273='FG';var _0x503a25=0x0;_0xc77d02['sale_product'][_0x7a32de(0xa7)](_0x58af5c=>{const _0x1ef133=_0x7a32de;console[_0x1ef133(0xac)](_0x58af5c);let _0x4d0d9a='';const _0x493e45=_0x58af5c[_0x1ef133(0x77)];for(let _0x1388c5=0x1;_0x1388c5<=_0x493e45;_0x1388c5++){_0x493e45==_0x1388c5?_0x4d0d9a+=_0x58af5c[_0x1ef133(0xad)]:_0x4d0d9a+=_0x58af5c[_0x1ef133(0xad)]+',',_0x5792cd+=_0x58af5c[_0x1ef133(0xad)];}_0x4d0d9a+=_0x1ef133(0xc8)+_0x58af5c[_0x1ef133(0x7a)];const _0xf1aba0={'itemcode':_0x58af5c[_0x1ef133(0xc2)],'itemdescription':_0x58af5c[_0x1ef133(0x9f)],'qty':_0x58af5c[_0x1ef133(0x77)],'unit':_0x58af5c[_0x1ef133(0x93)],'proddate':_0x58af5c[_0x1ef133(0x142)],'batchno':_0x58af5c[_0x1ef133(0x9c)],'binloc':_0x2a8273+_0x58af5c[_0x1ef133(0xd1)]};_0x4bb055+=_0x58af5c[_0x1ef133(0x77)],_0x503a25+=0x1,_0x2d49ae[_0x1ef133(0x128)][_0x1ef133(0x99)](_0xf1aba0);}),_0x48c88b[_0x7a32de(0xec)](_0x2d49ae,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x48c88b[_0x7a32de(0xfc)](_0x7a32de(0x72))['fontSize'](0x8),'prepareRow':(_0x545481,_0x56a547,_0x14d965,_0x319cae)=>_0x48c88b[_0x7a32de(0xfc)](_0x7a32de(0xef))[_0x7a32de(0xf3)](0x8)});var _0x4946dd=_0x48c88b['y'],_0x2dcb65=_0x48c88b['x'];_0x48c88b['fontSize'](0xa)[_0x7a32de(0xca)](_0x7a32de(0xc3),_0x2dcb65+0x7d,_0x4946dd),console[_0x7a32de(0xac)](_0x7a32de(0x7f)+_0x2dcb65+_0x7a32de(0x108)+_0x4946dd+_0x7a32de(0x87)+_0x503a25);const _0x4d8089=_0x2dcb65*_0x503a25;_0x48c88b[_0x7a32de(0xf3)](0xa)[_0x7a32de(0xca)](_0x7a32de(0x86),_0x2dcb65,_0x4946dd+=0x15e-_0x4d8089),_0x48c88b['fontSize'](0xa)[_0x7a32de(0xca)](_0x4bb055,_0x2dcb65+0xdc,_0x4946dd,{'underline':!![]}),_0x48c88b[_0x7a32de(0xf3)](0xa)[_0x7a32de(0xca)](_0x7a32de(0xd8),_0x2dcb65,_0x4946dd+=0x19),_0x48c88b['fontSize'](0xa)[_0x7a32de(0xca)]('\x20'['repeat'](0x3c),_0x2dcb65+0x3e,_0x4946dd,{'underline':!![]}),_0x48c88b['fontSize'](0xa)[_0x7a32de(0xca)](_0x7a32de(0xd2),_0x2dcb65,_0x4946dd+=0x32),_0x48c88b[_0x7a32de(0xf3)](0xa)[_0x7a32de(0xca)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2dcb65+0x3c,_0x4946dd,{'underline':!![]}),_0x48c88b[_0x7a32de(0xf3)](0xa)[_0x7a32de(0xca)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x2dcb65+0x3c,_0x4946dd+0xc);let _0x71b802=_0x48c88b[_0x7a32de(0x113)]();for(let _0x47f800=0x0;_0x47f800<_0x71b802[_0x7a32de(0x110)];_0x47f800++){_0x48c88b[_0x7a32de(0x12d)](_0x47f800);let _0x50b6a6=_0x48c88b[_0x7a32de(0xc7)][_0x7a32de(0xd4)][_0x7a32de(0x9d)];_0x48c88b['page'][_0x7a32de(0xd4)][_0x7a32de(0x9d)]=0x0,_0x48c88b['text'](_0x7a32de(0x133)+(_0x47f800+0x1)+'\x20of\x20'+_0x71b802['count'],0x0,_0x48c88b['page'][_0x7a32de(0xfb)]-_0x50b6a6/0x2,{'align':'center'}),_0x48c88b[_0x7a32de(0xc7)][_0x7a32de(0xd4)]['bottom']=_0x50b6a6;}const _0x4f8b4e=_0x48c88b['y'],_0x230733=_0x48c88b['x'];_0x48c88b['end']();}catch(_0x8f0088){console[_0x7a32de(0xac)](_0x8f0088),_0x1a2b10['status'](0x1f4)[_0x7a32de(0xaf)](_0x7a32de(0xba));}}),router[a0_0x5e2b8b(0xf5)]('/PDF_transfer/:id',auth,async(_0x4ab693,_0xcfc75f)=>{const _0x36f372=a0_0x5e2b8b;try{const {username:_0x14e9ba,email:_0x36f306,role:_0x55fcfe}=_0x4ab693[_0x36f372(0xa4)],_0x34c620=_0x4ab693['user'],_0x553a6a=await profile['findOne']({'email':_0x34c620['email']}),_0x586df5=await master_shop[_0x36f372(0x98)](),_0x54e689=_0x4ab693[_0x36f372(0x11d)]['id'],_0x4e8656=await transfers_finished[_0x36f372(0xdc)](_0x54e689);var _0x2034e3,_0x404aa8;_0x2034e3=_0x36f372(0x124),_0x404aa8=_0x36f372(0x13a);_0x4e8656[_0x36f372(0xb1)]==_0x36f372(0xb7)&&(_0x2034e3=_0x36f372(0x131),_0x404aa8='');const _0x5b4fa2=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0xcfc75f[_0x36f372(0x10f)](_0x36f372(0x8b),'inline;\x20filename=\x22OUT-'+_0x54e689+_0x36f372(0x111)),_0xcfc75f[_0x36f372(0x10f)]('Content-type',_0x36f372(0xf2));var _0x3b1f7a=0x14,_0x466220=0x3c;_0x5b4fa2[_0x36f372(0xa6)](_0xcfc75f),_0x5b4fa2['image']('./public/upload/'+_0x586df5[0x0][_0x36f372(0xe7)],0x14,0x0,{'fit':[0x64,0x64]}),_0x5b4fa2[_0x36f372(0xf3)](0x14)['text']('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x3b1f7a,_0x466220),_0x5b4fa2[_0x36f372(0xf3)](0xa)[_0x36f372(0xca)](_0x36f372(0x79),_0x3b1f7a,_0x466220+=0xf),_0x5b4fa2['fontSize'](0xf)[_0x36f372(0xca)](_0x2034e3,_0x3b1f7a,_0x466220+=0x32),_0x5b4fa2[_0x36f372(0xf3)](0xa)['text'](_0x404aa8,_0x3b1f7a,_0x466220+=0x14),_0x5b4fa2['fontSize'](0x9)[_0x36f372(0xca)](_0x36f372(0x105),_0x3b1f7a,_0x466220+=0x28),_0x5b4fa2['fontSize'](0x9)['text']('\x20\x20\x20:\x20'+_0x4e8656[_0x36f372(0xaa)],_0x3b1f7a+0x3f,_0x466220),_0x5b4fa2[_0x36f372(0xf3)](0x9)[_0x36f372(0xca)]('To\x20Warehouse\x20',_0x3b1f7a,_0x466220+=0xf),_0x5b4fa2['fontSize'](0x9)[_0x36f372(0xca)]('\x20\x20\x20:\x20'+_0x4e8656['to_warehouse'],_0x3b1f7a+0x3f,_0x466220),_0x5b4fa2[_0x36f372(0xf3)](0x9)['text'](_0x36f372(0xe4),_0x3b1f7a,_0x466220+=0xb),_0x5b4fa2['fontSize'](0x9)[_0x36f372(0xca)](_0x36f372(0x88)+_0x4e8656[_0x36f372(0x114)],_0x3b1f7a+0x3f,_0x466220),_0x5b4fa2['fontSize'](0x9)[_0x36f372(0xca)](_0x36f372(0x149),_0x3b1f7a,_0x466220+=0xb),_0x5b4fa2[_0x36f372(0xf3)](0x9)['text']('\x20\x20\x20:\x20'+_0x4e8656[_0x36f372(0xd6)],_0x3b1f7a+0x3f,_0x466220);const _0x36955a={'headers':[{'label':'','property':_0x36f372(0x70),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x36f372(0xe1),'property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':'\x20\x20TO','property':_0x36f372(0xc9),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x5b4fa2[_0x36f372(0xec)](_0x36955a,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x5b4fa2[_0x36f372(0xfc)](_0x36f372(0x72))[_0x36f372(0xf3)](0x8),'prepareRow':(_0x2bafd7,_0x21faef,_0x3f3ba6,_0x192676)=>_0x5b4fa2[_0x36f372(0xfc)](_0x36f372(0xef))[_0x36f372(0xf3)](0x8)});const _0x2ac2a1={'headers':[{'label':_0x36f372(0x11a),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x36f372(0xee),'property':_0x36f372(0xc9),'width':0x96,'renderer':null},{'label':'Quantity','property':_0x36f372(0xb2),'width':0x28,'renderer':null},{'label':'UOM','property':_0x36f372(0x93),'width':0x37,'renderer':null},{'label':'Production\x20Date','property':_0x36f372(0xe3),'width':0x4b,'renderer':null},{'label':'Batch\x20No','property':_0x36f372(0xb4),'width':0x3f,'renderer':null},{'label':_0x36f372(0x112),'property':_0x36f372(0x74),'width':0x3f,'renderer':null},{'label':_0x36f372(0x112),'property':_0x36f372(0xa8),'width':0x3f,'renderer':null}],'datas':[]};var _0x2bf9ae=0x0;let _0x5ce7e1='';var _0x3caae7=0x0;if(_0x4e8656[_0x36f372(0xaa)]==_0x36f372(0xd5))_0x5ce7e1='DG';else _0x4e8656['from_warehouse']==_0x36f372(0x130)&&(_0x5ce7e1='FG');_0x4e8656[_0x36f372(0x13b)][_0x36f372(0xa7)](_0x191a41=>{const _0x4414f4=_0x36f372;var _0x5634bc=_0x191a41[_0x4414f4(0x85)],_0x3ae866,_0x4634e7;_0x3ae866=_0x191a41[_0x4414f4(0x93)],_0x4634e7=_0x191a41[_0x4414f4(0x121)];_0x5634bc=='S'&&(_0x3ae866=_0x191a41[_0x4414f4(0x7a)],_0x4634e7=_0x191a41[_0x4414f4(0x121)]*_0x191a41['maxPerUnit']);const _0x1c2710={'itemcode':_0x191a41['product_code'],'itemdescription':_0x191a41[_0x4414f4(0x9f)],'qty':_0x4634e7,'unit':_0x3ae866,'proddate':_0x191a41[_0x4414f4(0x142)],'batchno':_0x191a41[_0x4414f4(0x9c)],'binloc':_0x5ce7e1+_0x191a41[_0x4414f4(0xe6)],'qtyFrom':_0x191a41[_0x4414f4(0xb6)],'binlocFrom':_0x5ce7e1+_0x191a41[_0x4414f4(0xb3)]};_0x2bf9ae+=_0x4634e7,_0x2ac2a1['datas'][_0x4414f4(0x99)](_0x1c2710);}),_0x5b4fa2[_0x36f372(0xec)](_0x2ac2a1,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x5b4fa2['font'](_0x36f372(0x72))[_0x36f372(0xf3)](0x8),'prepareRow':(_0x2af962,_0x13edc9,_0x22b372,_0x48389d)=>_0x5b4fa2['font'](_0x36f372(0xef))[_0x36f372(0xf3)](0x8)});var _0x417344=_0x5b4fa2['y'],_0x53d743=_0x5b4fa2['x'];_0x5b4fa2['fontSize'](0xa)[_0x36f372(0xca)](_0x36f372(0xc3),_0x53d743+0x7d,_0x417344),_0x5b4fa2[_0x36f372(0xf3)](0xa)[_0x36f372(0xca)](_0x36f372(0x86),_0x53d743,_0x417344+=0x15e),_0x5b4fa2['fontSize'](0xa)[_0x36f372(0xca)](_0x2bf9ae,_0x53d743+0xd7,_0x417344,{'underline':!![]}),_0x5b4fa2[_0x36f372(0xf3)](0xa)[_0x36f372(0xca)]('Picked\x20By\x20\x20\x20:\x20',_0x53d743,_0x417344+=0x19),_0x5b4fa2['fontSize'](0xa)[_0x36f372(0xca)]('\x20'[_0x36f372(0x73)](0x3c),_0x53d743+0x3e,_0x417344,{'underline':!![]}),_0x5b4fa2[_0x36f372(0xf3)](0xa)[_0x36f372(0xca)](_0x36f372(0xd2),_0x53d743,_0x417344+=0x32),_0x5b4fa2[_0x36f372(0xf3)](0xa)[_0x36f372(0xca)](_0x36f372(0x143),_0x53d743+0x3c,_0x417344,{'underline':!![]}),_0x5b4fa2[_0x36f372(0xf3)](0xa)[_0x36f372(0xca)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x53d743+0x3c,_0x417344+0xc);let _0x36f199=_0x5b4fa2[_0x36f372(0x113)]();for(let _0x5d7d79=0x0;_0x5d7d79<_0x36f199['count'];_0x5d7d79++){_0x5b4fa2['switchToPage'](_0x5d7d79);let _0x26177a=_0x5b4fa2['page'][_0x36f372(0xd4)][_0x36f372(0x9d)];_0x5b4fa2['page']['margins'][_0x36f372(0x9d)]=0x0,_0x5b4fa2[_0x36f372(0xca)](_0x36f372(0x133)+(_0x5d7d79+0x1)+_0x36f372(0xf1)+_0x36f199['count'],0x0,_0x5b4fa2['page']['height']-_0x26177a/0x2,{'align':_0x36f372(0x123)}),_0x5b4fa2[_0x36f372(0xc7)][_0x36f372(0xd4)][_0x36f372(0x9d)]=_0x26177a;}const _0xbf7d27=_0x5b4fa2['y'],_0x2b4440=_0x5b4fa2['x'];_0x5b4fa2[_0x36f372(0x116)]();}catch(_0x475a32){console[_0x36f372(0xac)](_0x475a32),_0xcfc75f[_0x36f372(0xda)](0x1f4)[_0x36f372(0xaf)](_0x36f372(0xba));}}),router[a0_0x5e2b8b(0xf5)](a0_0x5e2b8b(0x94),auth,async(_0x5cf765,_0x2025e5)=>{const _0x145ec1=a0_0x5e2b8b;try{const {username:_0x2d9dae,email:_0x2c959c,role:_0x2b3e30}=_0x5cf765['user'],_0x2791c4=_0x5cf765[_0x145ec1(0xa4)],_0x2a146a=await profile['findOne']({'email':_0x2791c4[_0x145ec1(0x126)]}),_0x667575=await master_shop[_0x145ec1(0x98)](),_0x20eb11=_0x5cf765[_0x145ec1(0x11d)]['id'],_0x5cb02e=await adjustment_finished[_0x145ec1(0xdc)](_0x20eb11);var _0x5ea6b2,_0x10fb48;_0x5ea6b2=_0x145ec1(0x80),_0x10fb48=_0x145ec1(0x117);_0x5cb02e['finalize']==_0x145ec1(0xb7)&&(_0x5ea6b2=_0x145ec1(0x12f),_0x10fb48='');const _0x44c5e0=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2025e5[_0x145ec1(0x10f)](_0x145ec1(0x8b),_0x145ec1(0xa3)+_0x20eb11+_0x145ec1(0x111)),_0x2025e5[_0x145ec1(0x10f)]('Content-type',_0x145ec1(0xf2));var _0x431632=0x14,_0x226979=0x3c;_0x44c5e0[_0x145ec1(0xa6)](_0x2025e5),_0x44c5e0[_0x145ec1(0xe7)](_0x145ec1(0x10d)+_0x667575[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x44c5e0[_0x145ec1(0xf3)](0x14)[_0x145ec1(0xca)](_0x145ec1(0xfd),_0x431632,_0x226979),_0x44c5e0[_0x145ec1(0xf3)](0xa)[_0x145ec1(0xca)](_0x145ec1(0x79),_0x431632,_0x226979+=0xf),_0x44c5e0['fontSize'](0xf)[_0x145ec1(0xca)](_0x5ea6b2,_0x431632,_0x226979+=0x32),_0x44c5e0[_0x145ec1(0xf3)](0xa)[_0x145ec1(0xca)](_0x10fb48,_0x431632,_0x226979+=0x14),_0x44c5e0[_0x145ec1(0xf3)](0x9)[_0x145ec1(0xca)](_0x145ec1(0x91),_0x431632,_0x226979+=0x28),_0x44c5e0[_0x145ec1(0xf3)](0x9)['text'](_0x145ec1(0x122)+_0x5cb02e[_0x145ec1(0x7c)],_0x431632+0x3f,_0x226979),_0x44c5e0[_0x145ec1(0xf3)](0x9)['text'](_0x145ec1(0xe4),_0x431632,_0x226979+=0xb),_0x44c5e0[_0x145ec1(0xf3)](0x9)[_0x145ec1(0xca)](_0x145ec1(0x122)+_0x5cb02e[_0x145ec1(0x114)],_0x431632+0x3f,_0x226979),_0x44c5e0[_0x145ec1(0xf3)](0x9)[_0x145ec1(0xca)](_0x145ec1(0x149),_0x431632,_0x226979+=0xb),_0x44c5e0[_0x145ec1(0xf3)](0x9)[_0x145ec1(0xca)](_0x145ec1(0x122)+_0x5cb02e[_0x145ec1(0xd6)],_0x431632+0x3f,_0x226979);const _0x2e85bf={'headers':[{'label':_0x145ec1(0x11a),'property':_0x145ec1(0x70),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x145ec1(0xc9),'width':0x96,'renderer':null},{'label':_0x145ec1(0xe8),'property':_0x145ec1(0xb2),'width':0x3c,'renderer':null},{'label':_0x145ec1(0xab),'property':_0x145ec1(0x93),'width':0x3c,'renderer':null},{'label':_0x145ec1(0xbd),'property':'proddate','width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x145ec1(0xb4),'width':0x3f,'renderer':null},{'label':_0x145ec1(0x112),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x2e7c6b=0x0;let _0x42c56b='';var _0x2f4fe0=0x0;_0x5cb02e[_0x145ec1(0x7c)]==_0x145ec1(0xd5)?_0x42c56b='DG':_0x42c56b='FG';_0x5cb02e[_0x145ec1(0x13b)][_0x145ec1(0xa7)](_0x575a26=>{const _0x4e4bc9=_0x145ec1;console[_0x4e4bc9(0xac)](_0x575a26);var _0x346eae=_0x575a26[_0x4e4bc9(0x85)],_0x25d9f2,_0x502938;_0x25d9f2=_0x575a26[_0x4e4bc9(0x93)],_0x502938=_0x575a26[_0x4e4bc9(0x75)];_0x346eae=='S'&&(_0x25d9f2=_0x575a26[_0x4e4bc9(0x7a)],_0x502938=_0x575a26[_0x4e4bc9(0x75)]*_0x575a26[_0x4e4bc9(0x89)]);const _0x153a48={'itemcode':_0x575a26[_0x4e4bc9(0xc2)],'itemdescription':_0x575a26[_0x4e4bc9(0x9f)],'qty':_0x502938,'unit':_0x25d9f2,'proddate':_0x575a26[_0x4e4bc9(0x142)],'batchno':_0x575a26[_0x4e4bc9(0x9c)],'binloc':_0x42c56b+_0x575a26[_0x4e4bc9(0xd1)]};_0x2e7c6b+=_0x502938,_0x2e85bf['datas'][_0x4e4bc9(0x99)](_0x153a48);}),_0x44c5e0['table'](_0x2e85bf,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x44c5e0[_0x145ec1(0xfc)](_0x145ec1(0x72))['fontSize'](0x8),'prepareRow':(_0x2baa28,_0x24a0a7,_0x4a1e84,_0x1de76c)=>_0x44c5e0[_0x145ec1(0xfc)](_0x145ec1(0xef))['fontSize'](0x8)});var _0x4e7fdf=_0x44c5e0['y'],_0x346acb=_0x44c5e0['x'];_0x44c5e0[_0x145ec1(0xf3)](0xa)['text'](_0x145ec1(0xc3),_0x346acb+0x7d,_0x4e7fdf),_0x44c5e0['fontSize'](0xa)[_0x145ec1(0xca)](_0x145ec1(0xb9),_0x346acb,_0x4e7fdf+=0x15e),_0x44c5e0[_0x145ec1(0xf3)](0xa)[_0x145ec1(0xca)](_0x2e7c6b,_0x346acb+0xc8,_0x4e7fdf),_0x44c5e0[_0x145ec1(0xf3)](0xa)[_0x145ec1(0xca)](_0x145ec1(0xd8),_0x346acb,_0x4e7fdf+=0x19),_0x44c5e0[_0x145ec1(0xf3)](0xa)['text']('\x20'[_0x145ec1(0x73)](0x3c),_0x346acb+0x3e,_0x4e7fdf,{'underline':!![]}),_0x44c5e0[_0x145ec1(0xf3)](0xa)[_0x145ec1(0xca)](_0x145ec1(0x103),_0x346acb,_0x4e7fdf+=0x32),_0x44c5e0[_0x145ec1(0xf3)](0xa)[_0x145ec1(0xca)](_0x145ec1(0x122),_0x346acb+0x37,_0x4e7fdf),_0x44c5e0[_0x145ec1(0xf3)](0xa)['text'](_0x145ec1(0x143),_0x346acb+0x3c,_0x4e7fdf,{'underline':!![]}),_0x44c5e0[_0x145ec1(0xf3)](0xa)['text'](_0x145ec1(0xa9),_0x346acb+0x3c,_0x4e7fdf+0xc);let _0x1cf68f=_0x44c5e0[_0x145ec1(0x113)]();for(let _0x222563=0x0;_0x222563<_0x1cf68f['count'];_0x222563++){_0x44c5e0['switchToPage'](_0x222563);let _0x47e84f=_0x44c5e0[_0x145ec1(0xc7)][_0x145ec1(0xd4)]['bottom'];_0x44c5e0[_0x145ec1(0xc7)][_0x145ec1(0xd4)]['bottom']=0x0,_0x44c5e0[_0x145ec1(0xca)](_0x145ec1(0x133)+(_0x222563+0x1)+'\x20of\x20'+_0x1cf68f[_0x145ec1(0x110)],0x0,_0x44c5e0['page'][_0x145ec1(0xfb)]-_0x47e84f/0x2,{'align':_0x145ec1(0x123)}),_0x44c5e0['page'][_0x145ec1(0xd4)]['bottom']=_0x47e84f;}const _0x46e0d3=_0x44c5e0['y'],_0x4ea11a=_0x44c5e0['x'];_0x44c5e0[_0x145ec1(0x116)]();}catch(_0x440adc){console[_0x145ec1(0xac)](_0x440adc),_0x2025e5[_0x145ec1(0xda)](0x1f4)[_0x145ec1(0xaf)](_0x145ec1(0xba));}}),router[a0_0x5e2b8b(0xf5)]('/pdf_puchases_fin/:id',auth,async(_0x39a7aa,_0x153ef9)=>{const _0x310dff=a0_0x5e2b8b;try{const {username:_0x1138b2,email:_0x543105,role:_0xce5e6}=_0x39a7aa[_0x310dff(0xa4)],_0x346c80=_0x39a7aa['user'],_0x22e7b4=await profile[_0x310dff(0x137)]({'email':_0x346c80[_0x310dff(0x126)]}),_0x5c90c4=await master_shop[_0x310dff(0x98)](),_0x3f32ab=_0x39a7aa[_0x310dff(0x11d)]['id'],_0x599021=await purchases_finished[_0x310dff(0xdc)](_0x3f32ab),_0x284a6e=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x153ef9[_0x310dff(0x10f)](_0x310dff(0x8b),'inline;\x20filename=\x22OUT-'+_0x3f32ab+_0x310dff(0x111)),_0x153ef9[_0x310dff(0x10f)](_0x310dff(0x139),_0x310dff(0xf2));var _0x6631aa=0x14,_0x15305b=0x3c;_0x284a6e['pipe'](_0x153ef9),_0x284a6e['image'](_0x310dff(0x10d)+_0x5c90c4[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x284a6e['fontSize'](0x14)[_0x310dff(0xca)]('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x6631aa,_0x15305b),_0x284a6e[_0x310dff(0xf3)](0xa)[_0x310dff(0xca)](_0x310dff(0x79),_0x6631aa,_0x15305b+=0xf),_0x284a6e[_0x310dff(0xf3)](0xf)[_0x310dff(0xca)](_0x310dff(0x71),_0x6631aa,_0x15305b+=0x32),_0x284a6e[_0x310dff(0xf3)](0xa)['text'](_0x310dff(0x7b),_0x6631aa,_0x15305b+=0x14),_0x284a6e[_0x310dff(0xf3)](0x9)['text']('Warehouse\x20',_0x6631aa,_0x15305b+=0x28),_0x284a6e['fontSize'](0x9)[_0x310dff(0xca)]('\x20:\x20'+_0x599021[_0x310dff(0x7c)],_0x6631aa+0x3f,_0x15305b),_0x284a6e[_0x310dff(0xf3)](0x9)[_0x310dff(0xca)](_0x310dff(0x8f)+_0x599021[_0x310dff(0xbc)],_0x6631aa+0x17c,_0x15305b),_0x284a6e[_0x310dff(0xf3)](0x9)[_0x310dff(0xca)](_0x310dff(0xe4),_0x6631aa,_0x15305b+=0xb),_0x284a6e['fontSize'](0x9)[_0x310dff(0xca)]('\x20:\x20'+_0x599021[_0x310dff(0x114)],_0x6631aa+0x3f,_0x15305b),_0x284a6e['fontSize'](0x9)[_0x310dff(0xca)](_0x310dff(0x149),_0x6631aa,_0x15305b+=0xb),_0x284a6e[_0x310dff(0xf3)](0x9)[_0x310dff(0xca)](_0x310dff(0x122)+_0x599021[_0x310dff(0xd6)],_0x6631aa+0x3f,_0x15305b);const _0x473660={'headers':[{'label':_0x310dff(0x11a),'property':_0x310dff(0x70),'width':0x3c,'renderer':null},{'label':_0x310dff(0xee),'property':'itemdescription','width':0xc8,'renderer':null},{'label':'Quantity','property':'qty','width':0x3c,'renderer':null},{'label':_0x310dff(0xab),'property':_0x310dff(0x93),'width':0x3c,'renderer':null},{'label':_0x310dff(0xb5),'property':_0x310dff(0xe2),'width':0x50,'renderer':null},{'label':_0x310dff(0x82),'property':_0x310dff(0xb4),'width':0x3f,'renderer':null},{'label':_0x310dff(0x112),'property':_0x310dff(0xa8),'width':0x3f,'renderer':null}],'datas':[]};var _0x342269=0x0;let _0x5c7d83='';_0x599021['warehouse_name']==_0x310dff(0xd5)?_0x5c7d83='DG':_0x5c7d83='FG';_0x599021['product'][_0x310dff(0xa7)](_0x25f661=>{const _0x1da718=_0x310dff;let _0xb82183='';var _0x4f4d94=0x0;const _0x30586b={'itemcode':_0x25f661[_0x1da718(0xc2)],'itemdescription':_0x25f661[_0x1da718(0x9f)],'qty':_0x25f661['quantity'],'unit':_0x25f661[_0x1da718(0xc6)],'expdate':_0x25f661[_0x1da718(0xd3)],'batchno':_0x25f661['batch_code'],'binloc':_0x5c7d83+_0x25f661[_0x1da718(0xd1)]};_0x342269+=_0x25f661[_0x1da718(0x77)],_0x473660[_0x1da718(0x128)][_0x1da718(0x99)](_0x30586b);}),_0x284a6e[_0x310dff(0xec)](_0x473660,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x284a6e[_0x310dff(0xfc)](_0x310dff(0x72))[_0x310dff(0xf3)](0x8),'prepareRow':(_0x35046a,_0x259831,_0x58a581,_0x3075e6)=>_0x284a6e['font'](_0x310dff(0xef))[_0x310dff(0xf3)](0x8)});var _0x63d353=_0x284a6e['y'],_0x3dd120=_0x284a6e['x'];_0x284a6e[_0x310dff(0xf3)](0xa)[_0x310dff(0xca)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x3dd120+0x7d,_0x63d353),_0x284a6e[_0x310dff(0xf3)](0xa)[_0x310dff(0xca)]('TOTAL\x20QTY:\x20',_0x3dd120,_0x63d353+=0x15e),_0x284a6e[_0x310dff(0xf3)](0xa)[_0x310dff(0xca)](_0x342269,_0x3dd120+0xfa,_0x63d353),_0x284a6e[_0x310dff(0xf3)](0xa)[_0x310dff(0xca)](_0x310dff(0x96),_0x3dd120,_0x63d353+=0x19),_0x284a6e[_0x310dff(0xf3)](0xa)[_0x310dff(0xca)](_0x310dff(0x10c),_0x3dd120+0x37,_0x63d353,{'underline':!![]}),_0x284a6e[_0x310dff(0xf3)](0xa)[_0x310dff(0xca)](_0x310dff(0xdb),_0x3dd120,_0x63d353+0x32),_0x284a6e['fontSize'](0xa)['text'](_0x310dff(0x143),_0x3dd120+0x32,_0x63d353+0x32,{'underline':!![]}),_0x284a6e['fontSize'](0xa)[_0x310dff(0xca)]('Finished\x20Good\x20Warehouse\x20Supervisor',_0x3dd120+0x32,_0x63d353+0x3c);let _0x58572f=_0x284a6e['bufferedPageRange']();for(let _0x4b915f=0x0;_0x4b915f<_0x58572f[_0x310dff(0x110)];_0x4b915f++){_0x284a6e[_0x310dff(0x12d)](_0x4b915f);let _0x117de6=_0x284a6e['page'][_0x310dff(0xd4)][_0x310dff(0x9d)];_0x284a6e[_0x310dff(0xc7)][_0x310dff(0xd4)]['bottom']=0x0,_0x284a6e[_0x310dff(0xca)](_0x310dff(0x133)+(_0x4b915f+0x1)+_0x310dff(0xf1)+_0x58572f['count'],0x0,_0x284a6e[_0x310dff(0xc7)][_0x310dff(0xfb)]-_0x117de6/0x2,{'align':_0x310dff(0x123)}),_0x284a6e['page']['margins'][_0x310dff(0x9d)]=_0x117de6;}const _0x13b87c=_0x284a6e['y'],_0x4a7611=_0x284a6e['x'];_0x284a6e[_0x310dff(0x116)]();}catch(_0x5c3db3){console[_0x310dff(0xac)](_0x5c3db3),_0x153ef9[_0x310dff(0xda)](0x1f4)['send'](_0x310dff(0xba));}}),router['get']('/pdf_sales_return_fin/:id',auth,async(_0xe95eb3,_0x2d0190)=>{const _0x5f559a=a0_0x5e2b8b;try{const {username:_0x392db7,email:_0x2dac4e,role:_0x5a5137}=_0xe95eb3[_0x5f559a(0xa4)],_0x4dbf0f=_0xe95eb3[_0x5f559a(0xa4)],_0x57be4f=await profile[_0x5f559a(0x137)]({'email':_0x4dbf0f[_0x5f559a(0x126)]}),_0x197394=await master_shop[_0x5f559a(0x98)](),_0x189643=_0xe95eb3[_0x5f559a(0x11d)]['id'],_0x4d1ad5=await sales_return_finished[_0x5f559a(0xdc)](_0x189643),_0x248764=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2d0190[_0x5f559a(0x10f)](_0x5f559a(0x8b),_0x5f559a(0xa3)+_0x189643+_0x5f559a(0x111)),_0x2d0190[_0x5f559a(0x10f)](_0x5f559a(0x139),_0x5f559a(0xf2));var _0x355c0c=0x14,_0x53a9b1=0x64;_0x248764[_0x5f559a(0xa6)](_0x2d0190),_0x248764['image'](_0x5f559a(0x10d)+_0x197394[0x0][_0x5f559a(0xe7)],0x14,0x0,{'fit':[0x64,0x64]}),_0x248764['fontSize'](0x14)[_0x5f559a(0xca)](_0x5f559a(0xfd),_0x355c0c,_0x53a9b1),_0x248764[_0x5f559a(0xf3)](0xa)[_0x5f559a(0xca)](_0x5f559a(0x79),_0x355c0c,_0x53a9b1+=0xf),_0x248764[_0x5f559a(0xf3)](0xf)[_0x5f559a(0xca)](_0x5f559a(0x80),_0x355c0c,_0x53a9b1+=0x32),_0x248764[_0x5f559a(0xf3)](0xa)[_0x5f559a(0xca)](_0x5f559a(0x8c),_0x355c0c,_0x53a9b1+=0x1e),_0x248764['fontSize'](0x9)['text'](_0x5f559a(0x107)+_0x4d1ad5['ToWarehouse'],_0x355c0c,_0x53a9b1+=0x28),_0x248764[_0x5f559a(0xf3)](0x9)[_0x5f559a(0xca)](_0x5f559a(0x81)+_0x4d1ad5[_0x5f559a(0xe9)],0x190,0xd2,{'underline':!![]}),_0x248764[_0x5f559a(0xf3)](0x9)[_0x5f559a(0xca)]('Pick\x20By\x20:\x20',_0x355c0c,_0x53a9b1+=0xb),_0x248764[_0x5f559a(0xf3)](0x9)['text'](_0x5f559a(0x132)+_0x4d1ad5[_0x5f559a(0x114)],_0x355c0c,_0x53a9b1+=0xb),_0x248764[_0x5f559a(0xf3)](0x9)[_0x5f559a(0xca)]('Control\x20Number\x20:\x20'+_0x4d1ad5[_0x5f559a(0xd6)],_0x355c0c,_0x53a9b1+=0xb);var _0x3ec6fc='',_0x62d077='',_0x16606a=0x0,_0x323e3f;console[_0x5f559a(0xac)](_0x4d1ad5[_0x5f559a(0x12b)]);_0x4d1ad5[_0x5f559a(0x12b)]=='GS'?(_0x4d1ad5[_0x5f559a(0x7c)]==_0x5f559a(0xd5)?warecode='DG':warecode='FG',_0x3ec6fc={'headers':[{'label':_0x5f559a(0x11a),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x5f559a(0xee),'property':'itemdescription','width':0xc8,'renderer':null},{'label':_0x5f559a(0xe8),'property':'qty','width':0x3c,'renderer':null},{'label':'UOM','property':'unit','width':0x3c,'renderer':null},{'label':_0x5f559a(0xb5),'property':_0x5f559a(0xe2),'width':0x50,'renderer':null},{'label':_0x5f559a(0x82),'property':'batchno','width':0x3f,'renderer':null},{'label':_0x5f559a(0x112),'property':_0x5f559a(0xa8),'width':0x3f,'renderer':null}],'datas':[]},_0x4d1ad5['return_sale'][_0x5f559a(0xa7)](_0x324161=>{const _0x23aae5=_0x5f559a;let _0x29d6c0='';var _0x40c630=0x0;_0x62d077={'itemcode':_0x324161[_0x23aae5(0xc2)],'itemdescription':_0x324161[_0x23aae5(0x9f)],'qty':_0x324161[_0x23aae5(0x12e)],'unit':_0x324161[_0x23aae5(0x93)],'expdate':_0x324161['expiry_date'],'batchno':_0x324161[_0x23aae5(0x9c)],'binloc':warecode+_0x324161[_0x23aae5(0xd1)]},_0x16606a+=_0x324161[_0x23aae5(0x12e)],console['log'](_0x324161),_0x3ec6fc['datas'][_0x23aae5(0x99)](_0x62d077);})):(_0x3ec6fc={'headers':[{'label':'Item\x20Code','property':_0x5f559a(0x70),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x5f559a(0xc9),'width':0xc8,'renderer':null},{'label':'Quantity','property':_0x5f559a(0xb2),'width':0x3c,'renderer':null},{'label':_0x5f559a(0xab),'property':'unit','width':0x3c,'renderer':null},{'label':_0x5f559a(0xb5),'property':'expdate','width':0x50,'renderer':null},{'label':_0x5f559a(0x82),'property':_0x5f559a(0xb4),'width':0x3f,'renderer':null}],'datas':[]},_0x4d1ad5[_0x5f559a(0xed)][_0x5f559a(0xa7)](_0x30783f=>{const _0x387478=_0x5f559a;let _0x557916='';var _0x414185=0x0;_0x62d077={'itemcode':_0x30783f[_0x387478(0xc2)],'itemdescription':_0x30783f[_0x387478(0x9f)],'qty':_0x30783f[_0x387478(0x12e)],'unit':_0x30783f['unit'],'expdate':_0x30783f[_0x387478(0xd3)],'batchno':_0x30783f[_0x387478(0x9c)]},_0x16606a+=_0x30783f[_0x387478(0x12e)],console[_0x387478(0xac)](_0x16606a+_0x387478(0x101)+_0x30783f[_0x387478(0x12e)]),_0x3ec6fc[_0x387478(0x128)]['push'](_0x62d077);}));_0x248764['table'](_0x3ec6fc,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x248764[_0x5f559a(0xfc)]('Helvetica-Bold')[_0x5f559a(0xf3)](0x8),'prepareRow':(_0x54b390,_0x1bd4b5,_0x2f4609,_0x53dd1e)=>_0x248764[_0x5f559a(0xfc)](_0x5f559a(0xef))[_0x5f559a(0xf3)](0x8)});var _0x183215=_0x248764['y'],_0x2e3204=_0x248764['x'];_0x248764[_0x5f559a(0xf3)](0xa)[_0x5f559a(0xca)](_0x5f559a(0xc3),_0x2e3204+0x7d,_0x183215),_0x248764['fontSize'](0xa)['text'](_0x5f559a(0x86),_0x2e3204,_0x183215+=0x190),_0x248764['fontSize'](0xa)[_0x5f559a(0xca)](_0x16606a,_0x2e3204+0x37,_0x183215,{'underline':!![]}),_0x248764[_0x5f559a(0xf3)](0xa)[_0x5f559a(0xca)](_0x5f559a(0xcf),_0x2e3204,_0x183215+0x1e),_0x248764['fontSize'](0xa)[_0x5f559a(0xca)](_0x5f559a(0xa5),_0x2e3204+0x32,_0x183215+0x1e,{'underline':!![]});let _0x36f1d3=_0x248764[_0x5f559a(0x113)]();for(let _0x24bd5f=0x0;_0x24bd5f<_0x36f1d3[_0x5f559a(0x110)];_0x24bd5f++){_0x248764[_0x5f559a(0x12d)](_0x24bd5f);let _0x4cacd1=_0x248764['page'][_0x5f559a(0xd4)]['bottom'];_0x248764[_0x5f559a(0xc7)][_0x5f559a(0xd4)]['bottom']=0x0,_0x248764[_0x5f559a(0xca)]('Page:\x20'+(_0x24bd5f+0x1)+'\x20of\x20'+_0x36f1d3[_0x5f559a(0x110)],0x0,_0x248764[_0x5f559a(0xc7)][_0x5f559a(0xfb)]-_0x4cacd1/0x2,{'align':_0x5f559a(0x123)}),_0x248764[_0x5f559a(0xc7)]['margins'][_0x5f559a(0x9d)]=_0x4cacd1;}const _0x1f0caa=_0x248764['y'],_0xf02f3d=_0x248764['x'];_0x248764[_0x5f559a(0x116)]();}catch(_0x429177){console[_0x5f559a(0xac)](_0x429177),_0x2d0190[_0x5f559a(0xda)](0x1f4)[_0x5f559a(0xaf)](_0x5f559a(0xba));}}),router['get'](a0_0x5e2b8b(0xf9),auth,async(_0x352a23,_0x6c0469)=>{const _0x31e08f=a0_0x5e2b8b;try{const {username:_0x3095f6,email:_0x2c2c9e,role:_0x239988}=_0x352a23[_0x31e08f(0xa4)],_0x226e72=_0x352a23[_0x31e08f(0xa4)],_0x1d3a2b=await profile['findOne']({'email':_0x226e72[_0x31e08f(0x126)]}),_0x39076a=await master_shop[_0x31e08f(0x98)](),_0x535be6=_0x352a23[_0x31e08f(0x11d)]['id'],_0x80dfd2=await purchases[_0x31e08f(0xdc)](_0x535be6),_0x123a27=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x6c0469[_0x31e08f(0x10f)](_0x31e08f(0x8b),_0x31e08f(0xa3)+_0x535be6+_0x31e08f(0x111)),_0x6c0469[_0x31e08f(0x10f)](_0x31e08f(0x139),'application/pdf');var _0x547865=0x14,_0x2ce672=0x3c;_0x123a27[_0x31e08f(0xa6)](_0x6c0469),_0x123a27[_0x31e08f(0xe7)](_0x31e08f(0x10d)+_0x39076a[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x123a27[_0x31e08f(0xf3)](0x14)[_0x31e08f(0xca)](_0x31e08f(0xfd),_0x547865,_0x2ce672),_0x123a27[_0x31e08f(0xf3)](0xa)[_0x31e08f(0xca)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x547865,_0x2ce672+=0xf),_0x123a27[_0x31e08f(0xf3)](0xf)['text'](_0x31e08f(0xc1),_0x547865,_0x2ce672+=0x32),_0x123a27[_0x31e08f(0xf3)](0xa)[_0x31e08f(0xca)](_0x31e08f(0x7b),_0x547865,_0x2ce672+=0x14),_0x123a27[_0x31e08f(0xf3)](0x9)[_0x31e08f(0xca)](_0x31e08f(0x91),_0x547865,_0x2ce672+=0x2d),_0x123a27[_0x31e08f(0xf3)](0x9)['text'](_0x31e08f(0x122)+_0x80dfd2[_0x31e08f(0x7c)],_0x547865+0x3f,_0x2ce672),_0x123a27[_0x31e08f(0xf3)](0x9)[_0x31e08f(0xca)](_0x31e08f(0x115)+_0x80dfd2[_0x31e08f(0x13f)],_0x547865+0x17c,_0x2ce672,{'underline':!![]}),_0x123a27['fontSize'](0x9)[_0x31e08f(0xca)](_0x31e08f(0xe4),_0x547865,_0x2ce672+=0xb),_0x123a27[_0x31e08f(0xf3)](0x9)[_0x31e08f(0xca)](_0x31e08f(0x122)+_0x80dfd2[_0x31e08f(0x114)],_0x547865+0x3f,_0x2ce672),_0x123a27[_0x31e08f(0xf3)](0x9)[_0x31e08f(0xca)](_0x31e08f(0x149),_0x547865,_0x2ce672+=0xb),_0x123a27[_0x31e08f(0xf3)](0x9)[_0x31e08f(0xca)](_0x31e08f(0x122)+_0x80dfd2[_0x31e08f(0xd6)],_0x547865+0x3f,_0x2ce672);const _0x34618f={'headers':[{'label':_0x31e08f(0x11a),'property':_0x31e08f(0x70),'width':0x3c,'renderer':null},{'label':_0x31e08f(0xee),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x31e08f(0xfe),'property':_0x31e08f(0xb2),'width':0x2d,'renderer':null},{'label':'UOM','property':_0x31e08f(0x93),'width':0x3c,'renderer':null},{'label':_0x31e08f(0xb5),'property':_0x31e08f(0xe2),'width':0x46,'renderer':null},{'label':'Batch\x20No','property':_0x31e08f(0xb4),'width':0x3c,'renderer':null},{'label':_0x31e08f(0x112),'property':_0x31e08f(0xa8),'width':0x3c,'renderer':null},{'label':_0x31e08f(0x9b),'property':_0x31e08f(0xeb),'width':0x3f,'renderer':null}],'datas':[]};var _0x3c6692=0x0;let _0x52cc4f='';_0x80dfd2['product'][_0x31e08f(0xa7)](_0x4ef8be=>{const _0x308abf=_0x31e08f;let _0x3e51df='';var _0x409f17=0x0,_0x3cf9c9=0x0,_0x2b619d='';_0x4ef8be[_0x308abf(0x147)]=='S'?(_0x4ef8be[_0x308abf(0xad)]>0x0?_0x3cf9c9=_0x4ef8be['quantity']*_0x4ef8be[_0x308abf(0xad)]:_0x3cf9c9=_0x4ef8be['quantity']*0x1,_0x2b619d=_0x4ef8be[_0x308abf(0x7a)]):(_0x3cf9c9=_0x4ef8be[_0x308abf(0x77)]*0x1,_0x2b619d=_0x4ef8be['standard_unit']);console[_0x308abf(0xac)](_0x4ef8be);const _0x29ccfa={'itemcode':_0x4ef8be[_0x308abf(0xc2)],'itemdescription':_0x4ef8be[_0x308abf(0x9f)],'qty':_0x3cf9c9,'unit':_0x2b619d,'expdate':_0x4ef8be[_0x308abf(0xd3)],'batchno':_0x4ef8be[_0x308abf(0x9c)],'binloc':_0x4ef8be[_0x308abf(0x135)]+_0x4ef8be[_0x308abf(0x129)]+_0x4ef8be[_0x308abf(0xd1)]+_0x4ef8be['bin']+_0x4ef8be[_0x308abf(0x13c)][0x0]+_0x4ef8be[_0x308abf(0xfa)],'DelCode':_0x4ef8be['delivery_code']};_0x3c6692+=_0x3cf9c9,_0x34618f[_0x308abf(0x128)][_0x308abf(0x99)](_0x29ccfa);}),_0x123a27[_0x31e08f(0xec)](_0x34618f,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x123a27['font'](_0x31e08f(0x72))[_0x31e08f(0xf3)](0x8),'prepareRow':(_0x4c400b,_0xecfd49,_0xa33c5c,_0x4caf49)=>_0x123a27[_0x31e08f(0xfc)](_0x31e08f(0xef))['fontSize'](0x8)});var _0xc93b2c=_0x123a27['y'],_0x3f4517=_0x123a27['x'];_0x123a27[_0x31e08f(0xf3)](0xa)[_0x31e08f(0xca)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x3f4517+0x7d,_0xc93b2c),_0x123a27[_0x31e08f(0xf3)](0xa)[_0x31e08f(0xca)](_0x31e08f(0x86),_0x3f4517,_0xc93b2c+=0x15e),_0x123a27['fontSize'](0xa)['text'](_0x3c6692,_0x3f4517+0xf0,_0xc93b2c,{'underline':!![]}),_0x123a27[_0x31e08f(0xf3)](0xa)[_0x31e08f(0xca)](_0x31e08f(0x92),_0x3f4517,_0xc93b2c+0x28),_0x123a27['fontSize'](0xa)['text']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3f4517+0x40,_0xc93b2c+0x28,{'underline':!![]}),_0x123a27[_0x31e08f(0xf3)](0xa)[_0x31e08f(0xca)](_0x31e08f(0xc5),_0x3f4517+0x40,_0xc93b2c+0x32);let _0x4768fb=_0x123a27[_0x31e08f(0x113)]();for(let _0x5efd6b=0x0;_0x5efd6b<_0x4768fb['count'];_0x5efd6b++){_0x123a27['switchToPage'](_0x5efd6b);let _0x1af03c=_0x123a27[_0x31e08f(0xc7)]['margins'][_0x31e08f(0x9d)];_0x123a27[_0x31e08f(0xc7)][_0x31e08f(0xd4)][_0x31e08f(0x9d)]=0x0,_0x123a27[_0x31e08f(0xca)](_0x31e08f(0x133)+(_0x5efd6b+0x1)+'\x20of\x20'+_0x4768fb['count'],0x0,_0x123a27[_0x31e08f(0xc7)][_0x31e08f(0xfb)]-_0x1af03c/0x2,{'align':'center'}),_0x123a27['page'][_0x31e08f(0xd4)][_0x31e08f(0x9d)]=_0x1af03c;}const _0x3014ae=_0x123a27['y'],_0x3cad20=_0x123a27['x'];_0x123a27['end']();}catch(_0x278ea5){console['log'](_0x278ea5),_0x6c0469[_0x31e08f(0xda)](0x1f4)[_0x31e08f(0xaf)](_0x31e08f(0xba));}}),router[a0_0x5e2b8b(0xf5)]('/PDF_Sales/:id',auth,async(_0x2c3c8d,_0x50dc5d)=>{const _0x19e637=a0_0x5e2b8b;try{const {username:_0x117f82,email:_0x3cdf81,role:_0x494c67}=_0x2c3c8d[_0x19e637(0xa4)],_0x4b5d89=_0x2c3c8d[_0x19e637(0xa4)],_0x194cfb=await profile['findOne']({'email':_0x4b5d89[_0x19e637(0x126)]}),_0x5ba427=await master_shop[_0x19e637(0x98)](),_0x25cf95=_0x2c3c8d['params']['id'],_0x424c1c=await sales[_0x19e637(0xdc)](_0x25cf95),_0x3bea05=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x28891c;_0x28891c=_0x19e637(0x80);_0x424c1c['finalize']==_0x19e637(0xb7)&&(_0x28891c=_0x19e637(0x84));_0x50dc5d[_0x19e637(0x10f)](_0x19e637(0x8b),_0x19e637(0xa3)+_0x25cf95+_0x19e637(0x111)),_0x50dc5d[_0x19e637(0x10f)]('Content-type','application/pdf');var _0x4f96e8=0x14,_0x27149e=0x64;_0x3bea05['pipe'](_0x50dc5d),_0x3bea05['image'](_0x19e637(0x10d)+_0x5ba427[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x3bea05[_0x19e637(0xf3)](0x14)[_0x19e637(0xca)](_0x19e637(0xfd),_0x4f96e8,_0x27149e),_0x3bea05[_0x19e637(0xf3)](0xa)[_0x19e637(0xca)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x4f96e8,_0x27149e+=0xf),_0x3bea05[_0x19e637(0xf3)](0xf)[_0x19e637(0xca)](_0x28891c,_0x4f96e8,_0x27149e+=0x32),_0x3bea05[_0x19e637(0xf3)](0xa)[_0x19e637(0xca)]('(OUTGOING)',_0x4f96e8,_0x27149e+=0x14),_0x3bea05[_0x19e637(0xf3)](0x9)['text'](_0x19e637(0xe4),_0x4f96e8,_0x27149e+=0x19),_0x3bea05[_0x19e637(0xf3)](0x9)[_0x19e637(0xca)](_0x19e637(0x122)+_0x424c1c[_0x19e637(0x114)],_0x4f96e8+0x3f,_0x27149e),_0x3bea05[_0x19e637(0xf3)](0x9)[_0x19e637(0xca)](_0x19e637(0x119),_0x4f96e8,_0x27149e+=0xb),_0x3bea05[_0x19e637(0xf3)](0x9)['text'](_0x19e637(0x122)+_0x424c1c[_0x19e637(0xd6)],_0x4f96e8+0x3f,_0x27149e);const _0x4dda40={'headers':[{'label':_0x19e637(0xa0),'property':_0x19e637(0x70),'align':'center','width':0x2d,'renderer':null},{'label':_0x19e637(0xa1),'property':_0x19e637(0xc9),'align':_0x19e637(0x123),'width':0x64,'renderer':null},{'label':_0x19e637(0xff),'property':_0x19e637(0x136),'align':_0x19e637(0x123),'width':0x28,'renderer':null},{'label':_0x19e637(0xa2),'property':_0x19e637(0x102),'align':_0x19e637(0x123),'width':0x28,'renderer':null},{'label':'UOM','property':_0x19e637(0x93),'align':_0x19e637(0x123),'width':0x28,'renderer':null},{'label':_0x19e637(0x90),'property':_0x19e637(0xf0),'align':_0x19e637(0x123),'width':0x32,'renderer':null},{'label':_0x19e637(0xde),'property':'proddate','align':_0x19e637(0x123),'width':0x3c,'renderer':null},{'label':'EXPIRATION\x20DATE','property':_0x19e637(0xe2),'align':_0x19e637(0x123),'width':0x3c,'renderer':null},{'label':_0x19e637(0x9e),'property':'del_date','align':'center','width':0x3f,'renderer':null},{'label':_0x19e637(0xf7),'property':_0x19e637(0xea),'align':'center','width':0x3f,'renderer':null}],'datas':[]};var _0x52bb4a=0x0;let _0x26060c='';var _0x3df475=0x0,_0x4f96e8=0x1;_0x424c1c[_0x19e637(0x10b)][_0x19e637(0xa7)](_0x58bdc4=>{const _0x2956d5=_0x19e637,_0x648b2a=new Date(_0x58bdc4[_0x2956d5(0x142)]),_0x21ea83={'year':_0x2956d5(0x140),'month':'short','day':_0x2956d5(0x140)},_0x3d2b92=_0x648b2a[_0x2956d5(0x78)](_0x2956d5(0x6e),_0x21ea83),_0x258a11=new Date(_0x58bdc4[_0x2956d5(0xd3)]),_0x82e02={'year':'numeric','month':'short','day':_0x2956d5(0x140)},_0x59cbdb=_0x258a11[_0x2956d5(0x78)](_0x2956d5(0x6e),_0x82e02),_0x5e7ec5=new Date(_0x58bdc4['delivery_date']),_0x28bfaa={'year':'numeric','month':_0x2956d5(0x13d),'day':_0x2956d5(0x140)};var _0x4167cf=_0x5e7ec5['toLocaleDateString'](_0x2956d5(0x6e),_0x28bfaa);typeof _0x58bdc4[_0x2956d5(0xce)]=='undefined'&&(_0x4167cf='');const _0x3219be={'itemcode':_0x58bdc4[_0x2956d5(0xc2)],'itemdescription':_0x58bdc4['product_name'],'rqty':_0x58bdc4[_0x2956d5(0xae)],'iqty':_0x58bdc4[_0x2956d5(0x77)],'unit':_0x58bdc4[_0x2956d5(0x93)],'blocation':_0x58bdc4[_0x2956d5(0x135)]+_0x58bdc4[_0x2956d5(0x129)]+_0x58bdc4[_0x2956d5(0xd1)]+_0x58bdc4['bin']+_0x58bdc4['type'][0x0]+_0x58bdc4[_0x2956d5(0xfa)],'proddate':_0x3d2b92,'expdate':_0x59cbdb,'del_date':_0x4167cf,'del_code':_0x58bdc4[_0x2956d5(0x138)]};_0x4f96e8++,_0x4dda40[_0x2956d5(0x128)]['push'](_0x3219be);}),_0x3bea05['table'](_0x4dda40,{'x':_0x4f96e8+0x11,'y':_0x27149e+=0x1e,'prepareHeader':()=>_0x3bea05[_0x19e637(0xfc)](_0x19e637(0x72))[_0x19e637(0xf3)](6.5),'prepareRow':(_0x474cb4,_0x1f699d,_0x3de8b8,_0x2b281f,_0x180a0a)=>{const _0x406474=_0x19e637,{x:_0x10b1ec,y:_0x5b92c5,width:_0x17e551,height:_0x1becea}=_0x180a0a;_0x3bea05['font'](_0x406474(0xef))[_0x406474(0xf3)](0x8),_0x3bea05[_0x406474(0xdd)](0.5)['moveTo'](_0x10b1ec,_0x5b92c5)[_0x406474(0xcd)](_0x10b1ec,_0x5b92c5+_0x1becea)[_0x406474(0xe0)]();}});var _0x380dbe=_0x3bea05['y'],_0x4b6c05=_0x3bea05['x'],_0x52a9b5=_0x380dbe-=0x8;_0x3bea05[_0x19e637(0xdd)](0x5),_0x3bea05[_0x19e637(0x11c)](_0x19e637(0x118))['moveTo'](0x240,_0x52a9b5)[_0x19e637(0xcd)](0x11,_0x52a9b5)[_0x19e637(0xe0)](),_0x3bea05[_0x19e637(0xf3)](0xa)['text']('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x4b6c05+0x7d,_0x380dbe+=0xf),_0x3bea05[_0x19e637(0xf3)](0xb)[_0x19e637(0xca)]('PREPARED\x20BY\x20:\x20',_0x4b6c05,_0x380dbe+=0x15e),_0x3bea05[_0x19e637(0xf3)](0xa)[_0x19e637(0xca)](_0x19e637(0x109),_0x4b6c05+0x52,_0x380dbe,{'underline':!![]}),_0x3bea05[_0x19e637(0xf3)](0xa)[_0x19e637(0xca)]('Picked\x20By',_0x4b6c05,_0x380dbe+=0x19),_0x3bea05[_0x19e637(0xf3)](0xa)[_0x19e637(0xca)]('\x20:\x20',_0x4b6c05+0x4b,_0x380dbe),_0x3bea05[_0x19e637(0xf3)](0xa)[_0x19e637(0xca)]('\x20'[_0x19e637(0x73)](0x3c),_0x4b6c05+0x50,_0x380dbe,{'underline':!![]}),_0x3bea05['fontSize'](0xa)[_0x19e637(0xca)](_0x19e637(0xcc),_0x4b6c05,_0x380dbe+=0x32),_0x3bea05[_0x19e637(0xf3)](0xa)['text'](_0x19e637(0x122),_0x4b6c05+0x4b,_0x380dbe),_0x3bea05[_0x19e637(0xf3)](0xa)[_0x19e637(0xca)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4b6c05+0x50,_0x380dbe,{'underline':!![]}),_0x3bea05['fontSize'](0xa)[_0x19e637(0xca)](_0x19e637(0xc5),_0x4b6c05+0x50,_0x380dbe+0xc);let _0x34e382=_0x3bea05[_0x19e637(0x113)]();for(let _0x4dc7a9=0x0;_0x4dc7a9<_0x34e382[_0x19e637(0x110)];_0x4dc7a9++){_0x3bea05[_0x19e637(0x12d)](_0x4dc7a9);let _0xbd87d3=_0x3bea05['page'][_0x19e637(0xd4)]['bottom'];_0x3bea05[_0x19e637(0xc7)][_0x19e637(0xd4)]['bottom']=0x0,_0x3bea05[_0x19e637(0xca)](_0x19e637(0x133)+(_0x4dc7a9+0x1)+_0x19e637(0xf1)+_0x34e382[_0x19e637(0x110)],0x0,_0x3bea05[_0x19e637(0xc7)]['height']-_0xbd87d3/0x2,{'align':'center'}),_0x3bea05[_0x19e637(0xc7)][_0x19e637(0xd4)][_0x19e637(0x9d)]=_0xbd87d3;}const _0xcc8d1d=_0x3bea05['y'],_0x25aabb=_0x3bea05['x'];_0x3bea05['end']();}catch(_0x273d29){console[_0x19e637(0xac)](_0x273d29),_0x50dc5d[_0x19e637(0xda)](0x1f4)[_0x19e637(0xaf)](_0x19e637(0xba));}}),router[a0_0x5e2b8b(0xf5)]('/PDF_adjustment_rm/:id',auth,async(_0x5daa76,_0x346794)=>{const _0x4ee307=a0_0x5e2b8b;try{const {username:_0xf1daf8,email:_0x23b6c3,role:_0x264e56}=_0x5daa76[_0x4ee307(0xa4)],_0x4cc96e=_0x5daa76[_0x4ee307(0xa4)],_0x4cc372=await profile[_0x4ee307(0x137)]({'email':_0x4cc96e[_0x4ee307(0x126)]}),_0x31632b=await master_shop[_0x4ee307(0x98)](),_0x46f6c6=_0x5daa76[_0x4ee307(0x11d)]['id'],_0x15c7a6=await adjustment[_0x4ee307(0xdc)](_0x46f6c6);var _0x22fbec,_0x41bad0;_0x22fbec=_0x4ee307(0x80),_0x41bad0='(INVENTORY\x20ADJUSTMENT)';_0x15c7a6[_0x4ee307(0xb1)]==_0x4ee307(0xb7)&&(_0x22fbec=_0x4ee307(0x12f),_0x41bad0='');const _0x3a16ff=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x346794[_0x4ee307(0x10f)](_0x4ee307(0x8b),_0x4ee307(0xa3)+_0x46f6c6+_0x4ee307(0x111)),_0x346794[_0x4ee307(0x10f)]('Content-type',_0x4ee307(0xf2));var _0x12805a=0x14,_0x1c749e=0x3c;_0x3a16ff[_0x4ee307(0xa6)](_0x346794),_0x3a16ff[_0x4ee307(0xe7)](_0x4ee307(0x10d)+_0x31632b[0x0][_0x4ee307(0xe7)],0x14,0x0,{'fit':[0x64,0x64]}),_0x3a16ff['fontSize'](0x14)[_0x4ee307(0xca)](_0x4ee307(0xfd),_0x12805a,_0x1c749e),_0x3a16ff[_0x4ee307(0xf3)](0xa)['text']('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x12805a,_0x1c749e+=0xf),_0x3a16ff[_0x4ee307(0xf3)](0xf)['text'](_0x22fbec,_0x12805a,_0x1c749e+=0x32),_0x3a16ff[_0x4ee307(0xf3)](0xa)[_0x4ee307(0xca)](_0x41bad0,_0x12805a,_0x1c749e+=0x14),_0x3a16ff[_0x4ee307(0xf3)](0x9)['text'](_0x4ee307(0x91),_0x12805a,_0x1c749e+=0x28),_0x3a16ff['fontSize'](0x9)[_0x4ee307(0xca)](_0x4ee307(0x122)+_0x15c7a6['warehouse_name'],_0x12805a+0x3f,_0x1c749e),_0x3a16ff['fontSize'](0x9)[_0x4ee307(0xca)](_0x4ee307(0xe4),_0x12805a,_0x1c749e+=0xb),_0x3a16ff[_0x4ee307(0xf3)](0x9)[_0x4ee307(0xca)]('\x20:\x20'+_0x15c7a6[_0x4ee307(0x114)],_0x12805a+0x3f,_0x1c749e),_0x3a16ff[_0x4ee307(0xf3)](0x9)[_0x4ee307(0xca)](_0x4ee307(0x149),_0x12805a,_0x1c749e+=0xb),_0x3a16ff[_0x4ee307(0xf3)](0x9)['text']('\x20:\x20'+_0x15c7a6[_0x4ee307(0xd6)],_0x12805a+0x3f,_0x1c749e);const _0x13b81a={'headers':[{'label':_0x4ee307(0x11a),'property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x4ee307(0xc9),'width':0x96,'renderer':null},{'label':'Quantity','property':_0x4ee307(0xb2),'width':0x3c,'renderer':null},{'label':'UOM','property':'unit','width':0x3c,'renderer':null},{'label':_0x4ee307(0xbd),'property':'proddate','width':0x50,'renderer':null},{'label':_0x4ee307(0x82),'property':_0x4ee307(0xb4),'width':0x3f,'renderer':null},{'label':_0x4ee307(0x112),'property':_0x4ee307(0xa8),'width':0x3f,'renderer':null}],'datas':[]};var _0x420a05=0x0,_0x12b2b8=0x0;_0x15c7a6['product'][_0x4ee307(0xa7)](_0x3bf172=>{const _0x3b2342=_0x4ee307;let _0x3d6177='';const _0xdfcae8=_0x3bf172[_0x3b2342(0x121)];for(let _0x6e5d1d=0x1;_0x6e5d1d<=_0xdfcae8;_0x6e5d1d++){_0xdfcae8==_0x6e5d1d?_0x3d6177+=_0x3bf172['maxperunit']:_0x3d6177+=_0x3bf172[_0x3b2342(0xad)]+',',_0x12b2b8+=_0x3bf172[_0x3b2342(0xad)];}_0x3d6177+=_0x3b2342(0xc8)+_0x3bf172[_0x3b2342(0x7a)];const _0x2114ef={'itemcode':_0x3bf172[_0x3b2342(0xc2)],'itemdescription':_0x3bf172[_0x3b2342(0x9f)],'qty':_0x3bf172[_0x3b2342(0xd7)],'unit':_0x3bf172['unit'],'proddate':_0x3bf172[_0x3b2342(0x142)],'batchno':_0x3bf172[_0x3b2342(0x9c)],'binloc':_0x3bf172['storage']+_0x3bf172[_0x3b2342(0x129)]+_0x3bf172[_0x3b2342(0xd1)]+_0x3bf172[_0x3b2342(0x11f)]+_0x3bf172[_0x3b2342(0x13c)][0x0]+_0x3bf172[_0x3b2342(0xfa)]};_0x420a05+=_0x3bf172[_0x3b2342(0xd7)],_0x13b81a[_0x3b2342(0x128)][_0x3b2342(0x99)](_0x2114ef);}),_0x3a16ff['table'](_0x13b81a,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x3a16ff[_0x4ee307(0xfc)](_0x4ee307(0x72))['fontSize'](0x8),'prepareRow':(_0x7a35f9,_0x4f8bef,_0x2d0f37,_0x2f3283)=>_0x3a16ff[_0x4ee307(0xfc)]('Helvetica')[_0x4ee307(0xf3)](0x8)});var _0x4d3484=_0x3a16ff['y'],_0x3ebefa=_0x3a16ff['x'];_0x3a16ff[_0x4ee307(0xf3)](0xa)[_0x4ee307(0xca)](_0x4ee307(0xc3),_0x3ebefa+0x7d,_0x4d3484),_0x3a16ff[_0x4ee307(0xf3)](0xa)[_0x4ee307(0xca)](_0x4ee307(0xb9),_0x3ebefa,_0x4d3484+=0x136),_0x3a16ff[_0x4ee307(0xf3)](0xa)['text'](_0x420a05,_0x3ebefa+0xc8,_0x4d3484),_0x3a16ff['fontSize'](0xa)[_0x4ee307(0xca)]('Picked\x20By\x20\x20\x20\x20\x20:\x20',_0x3ebefa,_0x4d3484+=0x19),_0x3a16ff[_0x4ee307(0xf3)](0xa)[_0x4ee307(0xca)]('\x20'['repeat'](0x3c),_0x3ebefa+0x3e,_0x4d3484,{'underline':!![]}),_0x3a16ff[_0x4ee307(0xf3)](0xa)[_0x4ee307(0xca)](_0x4ee307(0x103),_0x3ebefa,_0x4d3484+=0x32),_0x3a16ff[_0x4ee307(0xf3)](0xa)[_0x4ee307(0xca)]('\x20:\x20',_0x3ebefa+0x37,_0x4d3484),_0x3a16ff[_0x4ee307(0xf3)](0xa)['text'](_0x4ee307(0x145),_0x3ebefa+0x3c,_0x4d3484,{'underline':!![]}),_0x3a16ff['fontSize'](0xa)[_0x4ee307(0xca)](_0x4ee307(0xc5),_0x3ebefa+0x3c,_0x4d3484+0xc);let _0x226a9a=_0x3a16ff['bufferedPageRange']();for(let _0x5e74d0=0x0;_0x5e74d0<_0x226a9a['count'];_0x5e74d0++){_0x3a16ff[_0x4ee307(0x12d)](_0x5e74d0);let _0x19d554=_0x3a16ff['page'][_0x4ee307(0xd4)][_0x4ee307(0x9d)];_0x3a16ff['page']['margins'][_0x4ee307(0x9d)]=0x0,_0x3a16ff[_0x4ee307(0xca)](_0x4ee307(0x133)+(_0x5e74d0+0x1)+_0x4ee307(0xf1)+_0x226a9a[_0x4ee307(0x110)],0x0,_0x3a16ff[_0x4ee307(0xc7)][_0x4ee307(0xfb)]-_0x19d554/0x2,{'align':'center'}),_0x3a16ff[_0x4ee307(0xc7)][_0x4ee307(0xd4)]['bottom']=_0x19d554;}const _0x3088f1=_0x3a16ff['y'],_0x1e63f8=_0x3a16ff['x'];_0x3a16ff[_0x4ee307(0x116)]();}catch(_0xd6aff2){console[_0x4ee307(0xac)](_0xd6aff2),_0x346794[_0x4ee307(0xda)](0x1f4)[_0x4ee307(0xaf)](_0x4ee307(0xba));}}),router[a0_0x5e2b8b(0xf5)](a0_0x5e2b8b(0xc0),auth,async(_0x4cd1c1,_0x2a48a9)=>{const _0x29c68f=a0_0x5e2b8b;try{const {username:_0x355058,email:_0x49e221,role:_0x3a8c03}=_0x4cd1c1[_0x29c68f(0xa4)],_0x186142=_0x4cd1c1[_0x29c68f(0xa4)],_0x167c4c=await profile['findOne']({'email':_0x186142['email']}),_0x5d9b04=await master_shop[_0x29c68f(0x98)](),_0x4b7b71=_0x4cd1c1[_0x29c68f(0x11d)]['id'],_0x2f8072=await transfers['findById'](_0x4b7b71);var _0x13942b,_0x4beea4;_0x13942b=_0x29c68f(0x124),_0x4beea4='(STOCKS\x20TRANSFER)';_0x2f8072[_0x29c68f(0xb1)]==_0x29c68f(0xb7)&&(_0x13942b=_0x29c68f(0x131),_0x4beea4='');const _0x398930=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x2a48a9[_0x29c68f(0x10f)](_0x29c68f(0x8b),_0x29c68f(0xa3)+_0x4b7b71+_0x29c68f(0x111)),_0x2a48a9[_0x29c68f(0x10f)](_0x29c68f(0x139),_0x29c68f(0xf2));var _0x4c5a9a=0x14,_0x1b6da7=0x3c;_0x398930[_0x29c68f(0xa6)](_0x2a48a9),_0x398930['image']('./public/upload/'+_0x5d9b04[0x0][_0x29c68f(0xe7)],0x14,0x0,{'fit':[0x64,0x64]}),_0x398930['fontSize'](0x14)[_0x29c68f(0xca)](_0x29c68f(0xfd),_0x4c5a9a,_0x1b6da7),_0x398930[_0x29c68f(0xf3)](0xa)[_0x29c68f(0xca)]('BRGY.HALAYHAY,\x20TANZA\x20CAVITE',_0x4c5a9a,_0x1b6da7+=0xf),_0x398930[_0x29c68f(0xf3)](0xf)['text'](_0x13942b,_0x4c5a9a,_0x1b6da7+=0x32),_0x398930[_0x29c68f(0xf3)](0xa)[_0x29c68f(0xca)](_0x4beea4,_0x4c5a9a,_0x1b6da7+=0x14),_0x398930['fontSize'](0x9)[_0x29c68f(0xca)](_0x29c68f(0x105),_0x4c5a9a,_0x1b6da7+=0x28),_0x398930[_0x29c68f(0xf3)](0x9)[_0x29c68f(0xca)](_0x29c68f(0x88)+_0x2f8072[_0x29c68f(0xaa)],_0x4c5a9a+0x3f,_0x1b6da7),_0x398930[_0x29c68f(0xf3)](0x9)[_0x29c68f(0xca)](_0x29c68f(0xf8),_0x4c5a9a,_0x1b6da7+=0xa),_0x398930[_0x29c68f(0xf3)](0x9)['text'](_0x29c68f(0x88)+_0x2f8072[_0x29c68f(0x8d)],_0x4c5a9a+0x3f,_0x1b6da7),_0x398930['fontSize'](0x9)[_0x29c68f(0xca)](_0x29c68f(0xe4),_0x4c5a9a,_0x1b6da7+=0xb),_0x398930[_0x29c68f(0xf3)](0x9)[_0x29c68f(0xca)](_0x29c68f(0x88)+_0x2f8072[_0x29c68f(0x114)],_0x4c5a9a+0x3f,_0x1b6da7),_0x398930[_0x29c68f(0xf3)](0x9)[_0x29c68f(0xca)](_0x29c68f(0x149),_0x4c5a9a,_0x1b6da7+=0xb),_0x398930[_0x29c68f(0xf3)](0x9)[_0x29c68f(0xca)](_0x29c68f(0x88)+_0x2f8072[_0x29c68f(0xd6)],_0x4c5a9a+0x3f,_0x1b6da7);const _0x13bd2d={'headers':[{'label':'','property':'itemcode','width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x29c68f(0x100),'property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x29c68f(0x83),'property':_0x29c68f(0xc9),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x398930['table'](_0x13bd2d,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x398930[_0x29c68f(0xfc)](_0x29c68f(0x72))[_0x29c68f(0xf3)](0x8),'prepareRow':(_0x54bb75,_0x2c47b1,_0x3670b7,_0x5b28bf)=>_0x398930[_0x29c68f(0xfc)](_0x29c68f(0xef))[_0x29c68f(0xf3)](0x8)});const _0x309b2c={'headers':[{'label':_0x29c68f(0x11a),'property':_0x29c68f(0x70),'width':0x3c,'renderer':null},{'label':_0x29c68f(0xee),'property':'itemdescription','width':0x96,'renderer':null},{'label':'Quantity','property':_0x29c68f(0xb2),'width':0x28,'renderer':null},{'label':_0x29c68f(0xab),'property':_0x29c68f(0x93),'width':0x37,'renderer':null},{'label':_0x29c68f(0xbd),'property':'proddate','width':0x4b,'renderer':null},{'label':_0x29c68f(0x82),'property':_0x29c68f(0xb4),'width':0x3f,'renderer':null},{'label':_0x29c68f(0x112),'property':_0x29c68f(0x74),'width':0x3f,'renderer':null},{'label':_0x29c68f(0x112),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x4fa062=0x0;let _0x2566e0='';var _0x53abe0=0x0;_0x2f8072[_0x29c68f(0x13b)][_0x29c68f(0xa7)](_0x4d1018=>{const _0x3f60b7=_0x29c68f;var _0x4db794=_0x4d1018['prod_cat'],_0x5f04c3;_0x5f04c3=_0x4d1018[_0x3f60b7(0x93)];_0x4db794=='S'&&(_0x5f04c3=_0x4d1018['secondary_unit']);const _0x4e3854={'itemcode':_0x4d1018[_0x3f60b7(0xc2)],'itemdescription':_0x4d1018['product_name'],'qty':_0x4d1018[_0x3f60b7(0x121)],'unit':_0x5f04c3,'proddate':_0x4d1018['production_date'],'batchno':_0x4d1018[_0x3f60b7(0x9c)],'binloc':_0x4d1018[_0x3f60b7(0x135)]+_0x4d1018['rack']+_0x4d1018[_0x3f60b7(0xe6)]+_0x4d1018[_0x3f60b7(0xe5)]+_0x4d1018[_0x3f60b7(0x148)][0x0]+_0x4d1018[_0x3f60b7(0xb0)],'qtyFrom':_0x4d1018['from_quantity'],'binlocFrom':_0x4d1018[_0x3f60b7(0x76)]+_0x4d1018['from_rack']+_0x4d1018['from_bay']+_0x4d1018['from_bin']+_0x4d1018[_0x3f60b7(0x12a)][0x0]+_0x4d1018['from_floorlevel']};_0x4fa062+=_0x4d1018['to_quantity'],_0x309b2c['datas'][_0x3f60b7(0x99)](_0x4e3854);}),_0x398930[_0x29c68f(0xec)](_0x309b2c,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x398930[_0x29c68f(0xfc)]('Helvetica-Bold')[_0x29c68f(0xf3)](0x8),'prepareRow':(_0x4ce70c,_0x1a22cc,_0x49b595,_0x4af24b)=>_0x398930['font'](_0x29c68f(0xef))['fontSize'](0x8)});var _0x217901=_0x398930['y'],_0x384743=_0x398930['x'];_0x398930[_0x29c68f(0xf3)](0xa)[_0x29c68f(0xca)](_0x29c68f(0xc3),_0x384743+0x7d,_0x217901),_0x398930[_0x29c68f(0xf3)](0xa)['text'](_0x29c68f(0x86),_0x384743,_0x217901+=0x12c),_0x398930['fontSize'](0xa)[_0x29c68f(0xca)](_0x4fa062,_0x384743+0xd7,_0x217901,{'underline':!![]}),_0x398930[_0x29c68f(0xf3)](0xa)[_0x29c68f(0xca)](_0x29c68f(0xd2),_0x384743,_0x217901+=0x32),_0x398930[_0x29c68f(0xf3)](0xa)['text'](_0x29c68f(0xd0),_0x384743+0x3c,_0x217901,{'underline':!![]}),_0x398930[_0x29c68f(0xf3)](0xa)['text'](_0x29c68f(0xc5),_0x384743+0x3c,_0x217901+0xc);let _0x966c7a=_0x398930['bufferedPageRange']();for(let _0xb63b0d=0x0;_0xb63b0d<_0x966c7a[_0x29c68f(0x110)];_0xb63b0d++){_0x398930[_0x29c68f(0x12d)](_0xb63b0d);let _0x29d97c=_0x398930[_0x29c68f(0xc7)][_0x29c68f(0xd4)][_0x29c68f(0x9d)];_0x398930[_0x29c68f(0xc7)][_0x29c68f(0xd4)][_0x29c68f(0x9d)]=0x0,_0x398930[_0x29c68f(0xca)](_0x29c68f(0x133)+(_0xb63b0d+0x1)+_0x29c68f(0xf1)+_0x966c7a[_0x29c68f(0x110)],0x0,_0x398930['page'][_0x29c68f(0xfb)]-_0x29d97c/0x2,{'align':_0x29c68f(0x123)}),_0x398930[_0x29c68f(0xc7)][_0x29c68f(0xd4)][_0x29c68f(0x9d)]=_0x29d97c;}const _0x5e4f24=_0x398930['y'],_0x17e866=_0x398930['x'];_0x398930[_0x29c68f(0x116)]();}catch(_0x2c29a7){console[_0x29c68f(0xac)](_0x2c29a7),_0x2a48a9['status'](0x1f4)['send']('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x5e2b8b(0xf5)]('/barcode_generator/',auth,async(_0x29bd95,_0x1150bf)=>{const _0x5f4f82=a0_0x5e2b8b;try{const _0x539d8a=_0x1f7d29=>_0x1f7d29*0x48,_0x3e3c3d={'width':0x3,'height':0x1},_0x3e3bc8=await product[_0x5f4f82(0x98)](),_0x323ffd=new PDFDocument({'margin':_0x539d8a(0.75),'size':[_0x539d8a(_0x3e3c3d[_0x5f4f82(0x7d)]),_0x539d8a(_0x3e3c3d[_0x5f4f82(0xfb)])],'bufferPages':!![]}),_0x43a450=_0x3e3bc8['length'];for(let _0x345104=0x0;_0x345104<=_0x43a450;_0x345104++){if(_0x345104!=_0x3e3bc8['length']){const _0x3a2b18=_0x3e3bc8[_0x345104][_0x5f4f82(0x134)],_0x51eb0b=_0x3e3bc8[_0x345104][_0x5f4f82(0x11e)],_0x397389=_0x3e3bc8[_0x345104][_0x5f4f82(0xf6)],_0xfb1fe1=_0x3e3bc8[_0x345104]['product_code'],_0xcbd714=new Canvas();JsBarcode(_0xcbd714,_0x51eb0b,{'format':_0x5f4f82(0x13e),'height':0x32,'displayValue':!![],'text':_0x51eb0b}),_0x323ffd[_0x5f4f82(0xe7)](_0xcbd714[_0x5f4f82(0x8a)](),0x0,0x0,{'width':0xd2}),_0x323ffd[_0x5f4f82(0x9a)]();}}_0x323ffd['pipe'](_0x1150bf),_0x323ffd[_0x5f4f82(0x116)]();}catch(_0x299d66){console[_0x5f4f82(0x146)](_0x5f4f82(0xbe),_0x299d66),_0x1150bf[_0x5f4f82(0xda)](0x1f4)[_0x5f4f82(0xaf)](_0x5f4f82(0xba));}}),module[a0_0x5e2b8b(0x95)]=router;