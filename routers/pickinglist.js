const a0_0x40c793=a0_0x2781;(function(_0xb18ea8,_0x16f009){const _0x57cf29=a0_0x2781,_0x3e617d=_0xb18ea8();while(!![]){try{const _0x4ae71e=-parseInt(_0x57cf29(0x260))/0x1+parseInt(_0x57cf29(0x20f))/0x2*(parseInt(_0x57cf29(0x2a1))/0x3)+parseInt(_0x57cf29(0x261))/0x4+-parseInt(_0x57cf29(0x1d7))/0x5+parseInt(_0x57cf29(0x2a4))/0x6+-parseInt(_0x57cf29(0x1ec))/0x7*(parseInt(_0x57cf29(0x23a))/0x8)+parseInt(_0x57cf29(0x266))/0x9*(-parseInt(_0x57cf29(0x1d8))/0xa);if(_0x4ae71e===_0x16f009)break;else _0x3e617d['push'](_0x3e617d['shift']());}catch(_0x5a1b5f){_0x3e617d['push'](_0x3e617d['shift']());}}}(a0_0xcb8a,0xef3c9));function a0_0x2781(_0xdd663c,_0x518a4b){const _0xcb8aa=a0_0xcb8a();return a0_0x2781=function(_0x27816e,_0xab59a7){_0x27816e=_0x27816e-0x1cc;let _0x206eb3=_0xcb8aa[_0x27816e];return _0x206eb3;},a0_0x2781(_0xdd663c,_0x518a4b);}const express=require(a0_0x40c793(0x2a6)),res=require(a0_0x40c793(0x26f)),app=express(),router=express['Router'](),multer=require(a0_0x40c793(0x22f)),{profile,master_shop,categories,brands,units,product,purchases,warehouse,sales_finished,sales,transfers_finished,adjustment_finished,purchases_finished,sales_return_finished,adjustment,transfers}=require(a0_0x40c793(0x24b)),auth=require(a0_0x40c793(0x208)),users=require(a0_0x40c793(0x1fa)),excelJS=require('exceljs'),xlsx=require(a0_0x40c793(0x22b)),PDFDocument=require(a0_0x40c793(0x27d)),fs=require('fs'),blobStream=require(a0_0x40c793(0x254)),JsBarcode=require(a0_0x40c793(0x271)),{Canvas}=require(a0_0x40c793(0x290));function a0_0xcb8a(){const _0x57e7e6=['image','/PDF_transfer_rm/:id','standard_unit','length','\x20of\x20','From\x20Warehouse\x20','product_name','inline;\x20filename=\x22OUT-','POnumber','sale_product','(RETURN)','Bin\x20Location','./public/upload/','\x20:\x20','DELIVERY\x20CODE','name','Production\x20Date','return_sale_QA','butt','expiry_date','Checked\x20By\x20\x20\x20:\x20','xlsx','binloc','/PDF_transfer/:id','EXPIRATION\x20DATE','multer','/PDF/:id','UOM','storage','itemcode','Pick\x20By\x20:\x20','height','DELIVERY\x20RECEIPT','stroke','Picked\x20By\x20\x20\x20\x20:\x20','to_bay','876272FiiriL','True','maxperunit','Page:\x20','rack','datas','binlocFrom','addPage','product','user','Raw\x20Materials\x20Warehouse\x20Supervisor','width','/PDF_Sales/:id','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.','setHeader','***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************','prod_cat','../models/all_models','find','del_code','count','lineWidth','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Delivery\x20Code','numeric','/barcode_generator/','blob-stream','toLocaleDateString','to_quantity','from_storage','moveTo','REF\x20MRIS#\x20','\x20\x20TO','end','\x20row:\x20','bin','ARMAN\x20CRUZ','\x20<>\x20','269113NClqxh','4145416yqtNBz','findOne','bay','margins','to_warehouse','11915091gEEFeD','iqty','date','/PDF_adjustment_rm/:id','pipe','QUANTITY\x20ISSUED','Helvetica','fontSize','toBuffer','express/lib/response','push','jsbarcode','customer','PREPARED\x20BY\x20:\x20','inline;\x20filename=\x22','table','/pdf_sales_return_fin/:id','en-US','(INVENTORY\x20ADJUSTMENT)','bottom','from_types','Batch\x20No','Control\x20Number\x20','pdfkit-table','batch_code','floorlevel','page','x:\x20','new_adjust_qty','QTY','lineCap','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF:','application/pdf','TOTAL\x20QTY:\x20','Item\x20Code','LOCATION','suppliers','production_date','\x20\x20FROM','status','expdate','canvas','font','\x20y:\x20','Expiration\x20Date','\x20\x20\x20\x20\x20TO','lineTo','Date\x20','proddate','itemdescription','maxPerUnit','switchToPage','DRY\x20GOODS','batchno','adjust_qty','qty','Supplier\x20:\x20','Picking\x20List','1450533VlfKsp','FTGS\x20Number\x20:\x20','RAW\x20MATERIALS\x20RECEIVING\x20REPORT','7121652hwFfyw','Checked\x20By\x20','express','params','send','PICKING\x20LIST','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Content-type','from_warehouse','forEach','Control\x20Number\x20:\x20','\x20\x20\x20:\x20','short','ToWarehouse','(INCOMING)','warehouse_name','invoice','secondary_unit','4409180BORsZp','10tdAlIN','.pdf\x22','STOCKS\x20TRANSFER','del_date','Noted\x20By\x20','Finished\x20Good\x20Warehouse\x20Supervisor','email','Helvetica-Bold','return_qty','findById','(OUTGOING)','BRGY.HALAYHAY,\x20TANZA\x20CAVITE','Picked\x20By\x20\x20\x20:\x20','to_types','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','TOTAL\x20QTY\x20:\x20','Picked\x20By','DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.','return_sale','Customer\x20:\x20','14SAlVlq','type','FROZEN\x20GOODS','delivery_code','from_floorlevel','from_bay','Quantity','undefined','Item\x20Description','product_code','bufferedPageRange','\x20\x20\x20\x20\x20FROM','warehouse_cat','finalize','../public/language/languages.json','repeat','log','get','/pdf_puchases/:id','secondary_code','unit','blocation','REQUESTED\x20QUANTITY','To\x20Warehouse\x20','INVENTORY\x20ADJUSTMENT','Picked\x20By\x20\x20\x20\x20\x20:\x20','exports','Checked\x20By:\x20','../middleware/auth','DelCode','error','rqty','from_quantity','Warehouse\x20','(STOCKS\x20TRANSFER)','6hNivUA','MATERIAL\x20DESCRIPTION','center','text','Content-disposition','quantity','delivery_date'];a0_0xcb8a=function(){return _0x57e7e6;};return a0_0xcb8a();}router[a0_0x40c793(0x1fd)](a0_0x40c793(0x230),auth,async(_0x375baa,_0x5c1763)=>{const _0x1d234b=a0_0x40c793;try{const {username:_0x13e963,email:_0xca031b,role:_0x506191}=_0x375baa['user'],_0x2f9a10=_0x375baa['user'],_0x538c56=await profile[_0x1d234b(0x262)]({'email':_0x2f9a10[_0x1d234b(0x1de)]}),_0x12c67a=await master_shop['find'](),_0x3c037e=_0x375baa[_0x1d234b(0x2a7)]['id'],_0x101f2a=await sales_finished[_0x1d234b(0x1e1)](_0x3c037e);var _0x20de7b;_0x20de7b=_0x1d234b(0x2a9);_0x101f2a[_0x1d234b(0x1f9)]==_0x1d234b(0x23b)&&(_0x20de7b=_0x1d234b(0x236));const _0x559bac=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x5c1763[_0x1d234b(0x248)](_0x1d234b(0x213),_0x1d234b(0x274)+_0x101f2a[_0x1d234b(0x1d5)]+_0x1d234b(0x1d9)),_0x5c1763[_0x1d234b(0x248)](_0x1d234b(0x1cc),_0x1d234b(0x287));var _0x387efc=0x14,_0x487185=0x3c;_0x559bac['pipe'](_0x5c1763),_0x559bac['image'](_0x1d234b(0x222)+_0x12c67a[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x559bac[_0x1d234b(0x26d)](0x14)[_0x1d234b(0x212)](_0x1d234b(0x1e9),_0x387efc,_0x487185),_0x559bac[_0x1d234b(0x26d)](0xa)[_0x1d234b(0x212)](_0x1d234b(0x1e3),_0x387efc,_0x487185+=0xf),_0x559bac[_0x1d234b(0x26d)](0xf)[_0x1d234b(0x212)](_0x20de7b,_0x387efc,_0x487185+=0x32),_0x559bac[_0x1d234b(0x26d)](0xa)[_0x1d234b(0x212)](_0x1d234b(0x1e2),_0x387efc,_0x487185+=0x14),_0x559bac[_0x1d234b(0x26d)](0x9)[_0x1d234b(0x212)](_0x1d234b(0x20d),_0x387efc,_0x487185+=0x28),_0x559bac['fontSize'](0x9)['text'](_0x1d234b(0x223)+_0x101f2a[_0x1d234b(0x1d4)],_0x387efc+0x3f,_0x487185),_0x559bac['fontSize'](0x9)[_0x1d234b(0x212)](_0x1d234b(0x1eb)+_0x101f2a[_0x1d234b(0x272)],_0x387efc+0x17c,_0x487185,{'underline':!![]}),_0x559bac[_0x1d234b(0x26d)](0x9)[_0x1d234b(0x212)](_0x1d234b(0x296),_0x387efc,_0x487185+=0xb),_0x559bac[_0x1d234b(0x26d)](0x9)[_0x1d234b(0x212)](_0x1d234b(0x223)+_0x101f2a[_0x1d234b(0x268)],_0x387efc+0x3f,_0x487185),_0x559bac['fontSize'](0x9)[_0x1d234b(0x212)](_0x1d234b(0x27c),_0x387efc,_0x487185+=0xb),_0x559bac[_0x1d234b(0x26d)](0x9)[_0x1d234b(0x212)]('\x20:\x20'+_0x101f2a[_0x1d234b(0x1d5)],_0x387efc+0x3f,_0x487185);const _0x1d8bb5={'headers':[{'label':'Item\x20Code','property':'itemcode','width':0x3c,'renderer':null},{'label':_0x1d234b(0x1f4),'property':_0x1d234b(0x298),'width':0xa5,'renderer':null},{'label':_0x1d234b(0x1f2),'property':_0x1d234b(0x29e),'width':0x3c,'renderer':null},{'label':'UOM','property':_0x1d234b(0x200),'width':0x3c,'renderer':null},{'label':_0x1d234b(0x226),'property':_0x1d234b(0x297),'width':0x50,'renderer':null},{'label':_0x1d234b(0x27b),'property':_0x1d234b(0x29c),'width':0x3f,'renderer':null},{'label':_0x1d234b(0x221),'property':_0x1d234b(0x22c),'width':0x3f,'renderer':null}],'datas':[]};var _0x25a1a8=0x0;let _0x365aae='';var _0x2a35dc=0x0;_0x101f2a[_0x1d234b(0x1d4)]==_0x1d234b(0x29b)?_0x365aae='DG':_0x365aae='FG';var _0x985836=0x0;_0x101f2a['sale_product'][_0x1d234b(0x1ce)](_0x31401b=>{const _0x14e827=_0x1d234b;console[_0x14e827(0x1fc)](_0x31401b);let _0x595c25='';const _0x4ecb27=_0x31401b['quantity'];for(let _0x4af12b=0x1;_0x4af12b<=_0x4ecb27;_0x4af12b++){_0x4ecb27==_0x4af12b?_0x595c25+=_0x31401b['maxperunit']:_0x595c25+=_0x31401b['maxperunit']+',',_0x2a35dc+=_0x31401b[_0x14e827(0x23c)];}_0x595c25+='\x20/\x20'+_0x31401b[_0x14e827(0x1d6)];const _0x8859ec={'itemcode':_0x31401b['product_code'],'itemdescription':_0x31401b[_0x14e827(0x21c)],'qty':_0x31401b[_0x14e827(0x214)],'unit':_0x31401b[_0x14e827(0x200)],'proddate':_0x31401b[_0x14e827(0x28c)],'batchno':_0x31401b[_0x14e827(0x27e)],'binloc':_0x365aae+_0x31401b['bay']};_0x25a1a8+=_0x31401b[_0x14e827(0x214)],_0x985836+=0x1,_0x1d8bb5[_0x14e827(0x23f)][_0x14e827(0x270)](_0x8859ec);}),_0x559bac[_0x1d234b(0x275)](_0x1d8bb5,{'x':0x14,'y':0x12c,'prepareHeader':()=>_0x559bac[_0x1d234b(0x291)](_0x1d234b(0x1df))[_0x1d234b(0x26d)](0x8),'prepareRow':(_0x2c8ddb,_0x122c71,_0x568c39,_0x3ff0da)=>_0x559bac['font']('Helvetica')[_0x1d234b(0x26d)](0x8)});var _0x2de365=_0x559bac['y'],_0x5a8d4d=_0x559bac['x'];_0x559bac['fontSize'](0xa)['text'](_0x1d234b(0x249),_0x5a8d4d+0x7d,_0x2de365),console[_0x1d234b(0x1fc)](_0x1d234b(0x281)+_0x5a8d4d+_0x1d234b(0x292)+_0x2de365+_0x1d234b(0x25c)+_0x985836);const _0x45b60e=_0x5a8d4d*_0x985836;_0x559bac['fontSize'](0xa)['text'](_0x1d234b(0x288),_0x5a8d4d,_0x2de365+=0x15e-_0x45b60e),_0x559bac[_0x1d234b(0x26d)](0xa)[_0x1d234b(0x212)](_0x25a1a8,_0x5a8d4d+0xdc,_0x2de365,{'underline':!![]}),_0x559bac[_0x1d234b(0x26d)](0xa)[_0x1d234b(0x212)](_0x1d234b(0x1e4),_0x5a8d4d,_0x2de365+=0x19),_0x559bac[_0x1d234b(0x26d)](0xa)[_0x1d234b(0x212)]('\x20'['repeat'](0x3c),_0x5a8d4d+0x3e,_0x2de365,{'underline':!![]}),_0x559bac['fontSize'](0xa)[_0x1d234b(0x212)](_0x1d234b(0x207),_0x5a8d4d,_0x2de365+=0x32),_0x559bac[_0x1d234b(0x26d)](0xa)[_0x1d234b(0x212)](_0x1d234b(0x285),_0x5a8d4d+0x3c,_0x2de365,{'underline':!![]}),_0x559bac[_0x1d234b(0x26d)](0xa)[_0x1d234b(0x212)](_0x1d234b(0x1dd),_0x5a8d4d+0x3c,_0x2de365+0xc);let _0x3a4f24=_0x559bac[_0x1d234b(0x1f6)]();for(let _0x2f9c8e=0x0;_0x2f9c8e<_0x3a4f24[_0x1d234b(0x24e)];_0x2f9c8e++){_0x559bac[_0x1d234b(0x29a)](_0x2f9c8e);let _0x314aea=_0x559bac['page']['margins']['bottom'];_0x559bac[_0x1d234b(0x280)]['margins'][_0x1d234b(0x279)]=0x0,_0x559bac['text'](_0x1d234b(0x23d)+(_0x2f9c8e+0x1)+_0x1d234b(0x21a)+_0x3a4f24[_0x1d234b(0x24e)],0x0,_0x559bac[_0x1d234b(0x280)][_0x1d234b(0x235)]-_0x314aea/0x2,{'align':'center'}),_0x559bac['page'][_0x1d234b(0x264)]['bottom']=_0x314aea;}const _0x22c3e0=_0x559bac['y'],_0x5bf860=_0x559bac['x'];_0x559bac[_0x1d234b(0x25b)]();}catch(_0x561e56){console[_0x1d234b(0x1fc)](_0x561e56),_0x5c1763[_0x1d234b(0x28e)](0x1f4)[_0x1d234b(0x2a8)](_0x1d234b(0x247));}}),router[a0_0x40c793(0x1fd)](a0_0x40c793(0x22d),auth,async(_0x344365,_0x34b610)=>{const _0x500f74=a0_0x40c793;try{const {username:_0x4ee4f5,email:_0x20bf6b,role:_0x137368}=_0x344365[_0x500f74(0x243)],_0x5470d6=_0x344365[_0x500f74(0x243)],_0x41aedc=await profile[_0x500f74(0x262)]({'email':_0x5470d6[_0x500f74(0x1de)]}),_0x1e6ad1=await master_shop[_0x500f74(0x24c)](),_0x47cff4=_0x344365[_0x500f74(0x2a7)]['id'],_0x514cf2=await transfers_finished[_0x500f74(0x1e1)](_0x47cff4);var _0x15be07,_0x58ea01;_0x15be07=_0x500f74(0x2a0),_0x58ea01=_0x500f74(0x20e);_0x514cf2[_0x500f74(0x1f9)]==_0x500f74(0x23b)&&(_0x15be07=_0x500f74(0x1da),_0x58ea01='');const _0x1b7fde=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x34b610[_0x500f74(0x248)]('Content-disposition',_0x500f74(0x21d)+_0x47cff4+_0x500f74(0x1d9)),_0x34b610[_0x500f74(0x248)]('Content-type',_0x500f74(0x287));var _0x30279e=0x14,_0x3ef7e2=0x3c;_0x1b7fde[_0x500f74(0x26a)](_0x34b610),_0x1b7fde[_0x500f74(0x216)](_0x500f74(0x222)+_0x1e6ad1[0x0][_0x500f74(0x216)],0x14,0x0,{'fit':[0x64,0x64]}),_0x1b7fde[_0x500f74(0x26d)](0x14)[_0x500f74(0x212)](_0x500f74(0x1e9),_0x30279e,_0x3ef7e2),_0x1b7fde[_0x500f74(0x26d)](0xa)['text'](_0x500f74(0x1e3),_0x30279e,_0x3ef7e2+=0xf),_0x1b7fde['fontSize'](0xf)[_0x500f74(0x212)](_0x15be07,_0x30279e,_0x3ef7e2+=0x32),_0x1b7fde[_0x500f74(0x26d)](0xa)[_0x500f74(0x212)](_0x58ea01,_0x30279e,_0x3ef7e2+=0x14),_0x1b7fde['fontSize'](0x9)[_0x500f74(0x212)](_0x500f74(0x21b),_0x30279e,_0x3ef7e2+=0x28),_0x1b7fde[_0x500f74(0x26d)](0x9)['text'](_0x500f74(0x1d0)+_0x514cf2['from_warehouse'],_0x30279e+0x3f,_0x3ef7e2),_0x1b7fde[_0x500f74(0x26d)](0x9)[_0x500f74(0x212)](_0x500f74(0x203),_0x30279e,_0x3ef7e2+=0xf),_0x1b7fde[_0x500f74(0x26d)](0x9)['text']('\x20\x20\x20:\x20'+_0x514cf2[_0x500f74(0x265)],_0x30279e+0x3f,_0x3ef7e2),_0x1b7fde['fontSize'](0x9)['text']('Date\x20',_0x30279e,_0x3ef7e2+=0xb),_0x1b7fde[_0x500f74(0x26d)](0x9)[_0x500f74(0x212)](_0x500f74(0x1d0)+_0x514cf2[_0x500f74(0x268)],_0x30279e+0x3f,_0x3ef7e2),_0x1b7fde['fontSize'](0x9)[_0x500f74(0x212)](_0x500f74(0x27c),_0x30279e,_0x3ef7e2+=0xb),_0x1b7fde[_0x500f74(0x26d)](0x9)['text']('\x20\x20\x20:\x20'+_0x514cf2[_0x500f74(0x1d5)],_0x30279e+0x3f,_0x3ef7e2);const _0x2f9908={'headers':[{'label':'','property':_0x500f74(0x233),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x500f74(0x28d),'property':_0x500f74(0x233),'width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x500f74(0x25a),'property':'itemdescription','width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x1b7fde[_0x500f74(0x275)](_0x2f9908,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x1b7fde[_0x500f74(0x291)](_0x500f74(0x1df))[_0x500f74(0x26d)](0x8),'prepareRow':(_0x30bafd,_0x123eba,_0xc658d8,_0x583c47)=>_0x1b7fde[_0x500f74(0x291)](_0x500f74(0x26c))[_0x500f74(0x26d)](0x8)});const _0x279efa={'headers':[{'label':_0x500f74(0x289),'property':'itemcode','width':0x3c,'renderer':null},{'label':_0x500f74(0x1f4),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x500f74(0x1f2),'property':_0x500f74(0x29e),'width':0x28,'renderer':null},{'label':_0x500f74(0x231),'property':_0x500f74(0x200),'width':0x37,'renderer':null},{'label':_0x500f74(0x226),'property':_0x500f74(0x297),'width':0x4b,'renderer':null},{'label':_0x500f74(0x27b),'property':_0x500f74(0x29c),'width':0x3f,'renderer':null},{'label':_0x500f74(0x221),'property':_0x500f74(0x240),'width':0x3f,'renderer':null},{'label':_0x500f74(0x221),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x18217f=0x0;let _0x1ce55b='';var _0x38c742=0x0;if(_0x514cf2[_0x500f74(0x1cd)]==_0x500f74(0x29b))_0x1ce55b='DG';else _0x514cf2[_0x500f74(0x1cd)]==_0x500f74(0x1ee)&&(_0x1ce55b='FG');_0x514cf2['product'][_0x500f74(0x1ce)](_0x5a4bd5=>{const _0x492d94=_0x500f74;var _0x570aab=_0x5a4bd5[_0x492d94(0x24a)],_0x416cc2,_0x51b0b4;_0x416cc2=_0x5a4bd5[_0x492d94(0x200)],_0x51b0b4=_0x5a4bd5[_0x492d94(0x256)];_0x570aab=='S'&&(_0x416cc2=_0x5a4bd5[_0x492d94(0x1d6)],_0x51b0b4=_0x5a4bd5[_0x492d94(0x256)]*_0x5a4bd5['maxPerUnit']);const _0x292fab={'itemcode':_0x5a4bd5[_0x492d94(0x1f5)],'itemdescription':_0x5a4bd5[_0x492d94(0x21c)],'qty':_0x51b0b4,'unit':_0x416cc2,'proddate':_0x5a4bd5['production_date'],'batchno':_0x5a4bd5['batch_code'],'binloc':_0x1ce55b+_0x5a4bd5['to_bay'],'qtyFrom':_0x5a4bd5[_0x492d94(0x20c)],'binlocFrom':_0x1ce55b+_0x5a4bd5['from_bay']};_0x18217f+=_0x51b0b4,_0x279efa[_0x492d94(0x23f)]['push'](_0x292fab);}),_0x1b7fde['table'](_0x279efa,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x1b7fde[_0x500f74(0x291)](_0x500f74(0x1df))[_0x500f74(0x26d)](0x8),'prepareRow':(_0x46d7ea,_0x45f203,_0x5cc6a8,_0x26775f)=>_0x1b7fde[_0x500f74(0x291)](_0x500f74(0x26c))[_0x500f74(0x26d)](0x8)});var _0x2855c9=_0x1b7fde['y'],_0x28f1d6=_0x1b7fde['x'];_0x1b7fde['fontSize'](0xa)[_0x500f74(0x212)](_0x500f74(0x249),_0x28f1d6+0x7d,_0x2855c9),_0x1b7fde[_0x500f74(0x26d)](0xa)[_0x500f74(0x212)](_0x500f74(0x288),_0x28f1d6,_0x2855c9+=0x15e),_0x1b7fde[_0x500f74(0x26d)](0xa)[_0x500f74(0x212)](_0x18217f,_0x28f1d6+0xd7,_0x2855c9,{'underline':!![]}),_0x1b7fde[_0x500f74(0x26d)](0xa)[_0x500f74(0x212)](_0x500f74(0x1e4),_0x28f1d6,_0x2855c9+=0x19),_0x1b7fde[_0x500f74(0x26d)](0xa)[_0x500f74(0x212)]('\x20'[_0x500f74(0x1fb)](0x3c),_0x28f1d6+0x3e,_0x2855c9,{'underline':!![]}),_0x1b7fde[_0x500f74(0x26d)](0xa)['text'](_0x500f74(0x207),_0x28f1d6,_0x2855c9+=0x32),_0x1b7fde['fontSize'](0xa)['text'](_0x500f74(0x285),_0x28f1d6+0x3c,_0x2855c9,{'underline':!![]}),_0x1b7fde[_0x500f74(0x26d)](0xa)[_0x500f74(0x212)](_0x500f74(0x1dd),_0x28f1d6+0x3c,_0x2855c9+0xc);let _0x5261b6=_0x1b7fde[_0x500f74(0x1f6)]();for(let _0x46f059=0x0;_0x46f059<_0x5261b6[_0x500f74(0x24e)];_0x46f059++){_0x1b7fde[_0x500f74(0x29a)](_0x46f059);let _0x1e1781=_0x1b7fde[_0x500f74(0x280)]['margins'][_0x500f74(0x279)];_0x1b7fde[_0x500f74(0x280)][_0x500f74(0x264)][_0x500f74(0x279)]=0x0,_0x1b7fde[_0x500f74(0x212)]('Page:\x20'+(_0x46f059+0x1)+_0x500f74(0x21a)+_0x5261b6[_0x500f74(0x24e)],0x0,_0x1b7fde[_0x500f74(0x280)][_0x500f74(0x235)]-_0x1e1781/0x2,{'align':'center'}),_0x1b7fde[_0x500f74(0x280)][_0x500f74(0x264)][_0x500f74(0x279)]=_0x1e1781;}const _0x512147=_0x1b7fde['y'],_0x8c763b=_0x1b7fde['x'];_0x1b7fde[_0x500f74(0x25b)]();}catch(_0x6645c8){console['log'](_0x6645c8),_0x34b610[_0x500f74(0x28e)](0x1f4)[_0x500f74(0x2a8)](_0x500f74(0x247));}}),router[a0_0x40c793(0x1fd)]('/PDF_adjustment/:id',auth,async(_0x122395,_0x16a0da)=>{const _0x34c86b=a0_0x40c793;try{const {username:_0x2c94bb,email:_0x5723aa,role:_0x2c1eab}=_0x122395[_0x34c86b(0x243)],_0x902250=_0x122395['user'],_0xab8ae5=await profile['findOne']({'email':_0x902250['email']}),_0x29deea=await master_shop[_0x34c86b(0x24c)](),_0x4b3990=_0x122395[_0x34c86b(0x2a7)]['id'],_0x4dc739=await adjustment_finished['findById'](_0x4b3990);var _0x131911,_0x10cc30;_0x131911=_0x34c86b(0x2a9),_0x10cc30=_0x34c86b(0x278);_0x4dc739['finalize']=='True'&&(_0x131911=_0x34c86b(0x204),_0x10cc30='');const _0x484d1a=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x16a0da[_0x34c86b(0x248)](_0x34c86b(0x213),_0x34c86b(0x21d)+_0x4b3990+'.pdf\x22'),_0x16a0da['setHeader']('Content-type',_0x34c86b(0x287));var _0x50985a=0x14,_0x405bbe=0x3c;_0x484d1a[_0x34c86b(0x26a)](_0x16a0da),_0x484d1a[_0x34c86b(0x216)]('./public/upload/'+_0x29deea[0x0][_0x34c86b(0x216)],0x14,0x0,{'fit':[0x64,0x64]}),_0x484d1a[_0x34c86b(0x26d)](0x14)[_0x34c86b(0x212)](_0x34c86b(0x1e9),_0x50985a,_0x405bbe),_0x484d1a[_0x34c86b(0x26d)](0xa)[_0x34c86b(0x212)](_0x34c86b(0x1e3),_0x50985a,_0x405bbe+=0xf),_0x484d1a[_0x34c86b(0x26d)](0xf)[_0x34c86b(0x212)](_0x131911,_0x50985a,_0x405bbe+=0x32),_0x484d1a['fontSize'](0xa)[_0x34c86b(0x212)](_0x10cc30,_0x50985a,_0x405bbe+=0x14),_0x484d1a['fontSize'](0x9)[_0x34c86b(0x212)]('Warehouse\x20',_0x50985a,_0x405bbe+=0x28),_0x484d1a['fontSize'](0x9)[_0x34c86b(0x212)](_0x34c86b(0x223)+_0x4dc739[_0x34c86b(0x1d4)],_0x50985a+0x3f,_0x405bbe),_0x484d1a[_0x34c86b(0x26d)](0x9)[_0x34c86b(0x212)](_0x34c86b(0x296),_0x50985a,_0x405bbe+=0xb),_0x484d1a[_0x34c86b(0x26d)](0x9)['text']('\x20:\x20'+_0x4dc739[_0x34c86b(0x268)],_0x50985a+0x3f,_0x405bbe),_0x484d1a[_0x34c86b(0x26d)](0x9)[_0x34c86b(0x212)](_0x34c86b(0x27c),_0x50985a,_0x405bbe+=0xb),_0x484d1a[_0x34c86b(0x26d)](0x9)[_0x34c86b(0x212)]('\x20:\x20'+_0x4dc739['invoice'],_0x50985a+0x3f,_0x405bbe);const _0x2caea7={'headers':[{'label':_0x34c86b(0x289),'property':_0x34c86b(0x233),'width':0x3c,'renderer':null},{'label':_0x34c86b(0x1f4),'property':_0x34c86b(0x298),'width':0x96,'renderer':null},{'label':'Quantity','property':'qty','width':0x3c,'renderer':null},{'label':_0x34c86b(0x231),'property':'unit','width':0x3c,'renderer':null},{'label':'Production\x20Date','property':_0x34c86b(0x297),'width':0x50,'renderer':null},{'label':_0x34c86b(0x27b),'property':_0x34c86b(0x29c),'width':0x3f,'renderer':null},{'label':_0x34c86b(0x221),'property':_0x34c86b(0x22c),'width':0x3f,'renderer':null}],'datas':[]};var _0x2f5d7d=0x0;let _0x1d68b0='';var _0x47c4b5=0x0;_0x4dc739[_0x34c86b(0x1d4)]==_0x34c86b(0x29b)?_0x1d68b0='DG':_0x1d68b0='FG';_0x4dc739[_0x34c86b(0x242)]['forEach'](_0x3ff592=>{const _0x52eb0b=_0x34c86b;console[_0x52eb0b(0x1fc)](_0x3ff592);var _0x285360=_0x3ff592['prod_cat'],_0x8aedf5,_0x4f4988;_0x8aedf5=_0x3ff592['unit'],_0x4f4988=_0x3ff592[_0x52eb0b(0x29d)];_0x285360=='S'&&(_0x8aedf5=_0x3ff592['secondary_unit'],_0x4f4988=_0x3ff592[_0x52eb0b(0x29d)]*_0x3ff592[_0x52eb0b(0x299)]);const _0x1fb465={'itemcode':_0x3ff592[_0x52eb0b(0x1f5)],'itemdescription':_0x3ff592[_0x52eb0b(0x21c)],'qty':_0x4f4988,'unit':_0x8aedf5,'proddate':_0x3ff592[_0x52eb0b(0x28c)],'batchno':_0x3ff592[_0x52eb0b(0x27e)],'binloc':_0x1d68b0+_0x3ff592[_0x52eb0b(0x263)]};_0x2f5d7d+=_0x4f4988,_0x2caea7[_0x52eb0b(0x23f)][_0x52eb0b(0x270)](_0x1fb465);}),_0x484d1a[_0x34c86b(0x275)](_0x2caea7,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x484d1a[_0x34c86b(0x291)](_0x34c86b(0x1df))[_0x34c86b(0x26d)](0x8),'prepareRow':(_0x3fa753,_0x1ad951,_0x37b7dc,_0x3884b5)=>_0x484d1a[_0x34c86b(0x291)](_0x34c86b(0x26c))[_0x34c86b(0x26d)](0x8)});var _0x18d1e4=_0x484d1a['y'],_0x234696=_0x484d1a['x'];_0x484d1a['fontSize'](0xa)[_0x34c86b(0x212)](_0x34c86b(0x249),_0x234696+0x7d,_0x18d1e4),_0x484d1a[_0x34c86b(0x26d)](0xa)[_0x34c86b(0x212)](_0x34c86b(0x1e7),_0x234696,_0x18d1e4+=0x15e),_0x484d1a[_0x34c86b(0x26d)](0xa)[_0x34c86b(0x212)](_0x2f5d7d,_0x234696+0xc8,_0x18d1e4),_0x484d1a[_0x34c86b(0x26d)](0xa)[_0x34c86b(0x212)]('Picked\x20By\x20\x20\x20:\x20',_0x234696,_0x18d1e4+=0x19),_0x484d1a[_0x34c86b(0x26d)](0xa)[_0x34c86b(0x212)]('\x20'[_0x34c86b(0x1fb)](0x3c),_0x234696+0x3e,_0x18d1e4,{'underline':!![]}),_0x484d1a[_0x34c86b(0x26d)](0xa)['text'](_0x34c86b(0x2a5),_0x234696,_0x18d1e4+=0x32),_0x484d1a[_0x34c86b(0x26d)](0xa)[_0x34c86b(0x212)](_0x34c86b(0x223),_0x234696+0x37,_0x18d1e4),_0x484d1a['fontSize'](0xa)[_0x34c86b(0x212)](_0x34c86b(0x285),_0x234696+0x3c,_0x18d1e4,{'underline':!![]}),_0x484d1a['fontSize'](0xa)['text']('Finished\x20Good\x20Warehouse\x20Supervisor',_0x234696+0x3c,_0x18d1e4+0xc);let _0x38897d=_0x484d1a['bufferedPageRange']();for(let _0x1f0022=0x0;_0x1f0022<_0x38897d[_0x34c86b(0x24e)];_0x1f0022++){_0x484d1a[_0x34c86b(0x29a)](_0x1f0022);let _0x4360fe=_0x484d1a[_0x34c86b(0x280)]['margins'][_0x34c86b(0x279)];_0x484d1a[_0x34c86b(0x280)][_0x34c86b(0x264)][_0x34c86b(0x279)]=0x0,_0x484d1a[_0x34c86b(0x212)](_0x34c86b(0x23d)+(_0x1f0022+0x1)+_0x34c86b(0x21a)+_0x38897d[_0x34c86b(0x24e)],0x0,_0x484d1a[_0x34c86b(0x280)][_0x34c86b(0x235)]-_0x4360fe/0x2,{'align':_0x34c86b(0x211)}),_0x484d1a[_0x34c86b(0x280)][_0x34c86b(0x264)][_0x34c86b(0x279)]=_0x4360fe;}const _0x2b904d=_0x484d1a['y'],_0xf66bd1=_0x484d1a['x'];_0x484d1a[_0x34c86b(0x25b)]();}catch(_0x45cf8e){console[_0x34c86b(0x1fc)](_0x45cf8e),_0x16a0da[_0x34c86b(0x28e)](0x1f4)['send'](_0x34c86b(0x247));}}),router['get']('/pdf_puchases_fin/:id',auth,async(_0x23f681,_0x1b1eb9)=>{const _0x5807f8=a0_0x40c793;try{const {username:_0x2ac084,email:_0xbbb5ad,role:_0x81372e}=_0x23f681[_0x5807f8(0x243)],_0x526975=_0x23f681['user'],_0x48ba57=await profile[_0x5807f8(0x262)]({'email':_0x526975['email']}),_0x1af728=await master_shop[_0x5807f8(0x24c)](),_0x5ef8e5=_0x23f681['params']['id'],_0x5ec7cf=await purchases_finished['findById'](_0x5ef8e5),_0x3b1f6e=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x1b1eb9['setHeader']('Content-disposition','inline;\x20filename=\x22OUT-'+_0x5ef8e5+'.pdf\x22'),_0x1b1eb9[_0x5807f8(0x248)](_0x5807f8(0x1cc),_0x5807f8(0x287));var _0x546f7e=0x14,_0x5562d5=0x3c;_0x3b1f6e[_0x5807f8(0x26a)](_0x1b1eb9),_0x3b1f6e[_0x5807f8(0x216)](_0x5807f8(0x222)+_0x1af728[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x3b1f6e[_0x5807f8(0x26d)](0x14)['text'](_0x5807f8(0x1e9),_0x546f7e,_0x5562d5),_0x3b1f6e[_0x5807f8(0x26d)](0xa)[_0x5807f8(0x212)](_0x5807f8(0x1e3),_0x546f7e,_0x5562d5+=0xf),_0x3b1f6e[_0x5807f8(0x26d)](0xf)[_0x5807f8(0x212)]('FINISHED\x20GOODS\x20TRANSFER\x20SLIP',_0x546f7e,_0x5562d5+=0x32),_0x3b1f6e[_0x5807f8(0x26d)](0xa)[_0x5807f8(0x212)]('(INCOMING)',_0x546f7e,_0x5562d5+=0x14),_0x3b1f6e[_0x5807f8(0x26d)](0x9)[_0x5807f8(0x212)](_0x5807f8(0x20d),_0x546f7e,_0x5562d5+=0x28),_0x3b1f6e['fontSize'](0x9)[_0x5807f8(0x212)](_0x5807f8(0x223)+_0x5ec7cf['warehouse_name'],_0x546f7e+0x3f,_0x5562d5),_0x3b1f6e[_0x5807f8(0x26d)](0x9)[_0x5807f8(0x212)](_0x5807f8(0x2a2)+_0x5ec7cf[_0x5807f8(0x21e)],_0x546f7e+0x17c,_0x5562d5),_0x3b1f6e['fontSize'](0x9)[_0x5807f8(0x212)]('Date\x20',_0x546f7e,_0x5562d5+=0xb),_0x3b1f6e[_0x5807f8(0x26d)](0x9)[_0x5807f8(0x212)](_0x5807f8(0x223)+_0x5ec7cf['date'],_0x546f7e+0x3f,_0x5562d5),_0x3b1f6e[_0x5807f8(0x26d)](0x9)[_0x5807f8(0x212)](_0x5807f8(0x27c),_0x546f7e,_0x5562d5+=0xb),_0x3b1f6e[_0x5807f8(0x26d)](0x9)['text'](_0x5807f8(0x223)+_0x5ec7cf['invoice'],_0x546f7e+0x3f,_0x5562d5);const _0x108f5d={'headers':[{'label':_0x5807f8(0x289),'property':'itemcode','width':0x3c,'renderer':null},{'label':'Item\x20Description','property':'itemdescription','width':0xc8,'renderer':null},{'label':_0x5807f8(0x1f2),'property':'qty','width':0x3c,'renderer':null},{'label':_0x5807f8(0x231),'property':_0x5807f8(0x200),'width':0x3c,'renderer':null},{'label':_0x5807f8(0x293),'property':_0x5807f8(0x28f),'width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x5807f8(0x29c),'width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x5807f8(0x22c),'width':0x3f,'renderer':null}],'datas':[]};var _0x5cb861=0x0;let _0x186ca7='';_0x5ec7cf['warehouse_name']=='DRY\x20GOODS'?_0x186ca7='DG':_0x186ca7='FG';_0x5ec7cf[_0x5807f8(0x242)]['forEach'](_0x3e616d=>{const _0x5f1e9b=_0x5807f8;let _0x6e7d71='';var _0x265673=0x0;const _0x1fbc93={'itemcode':_0x3e616d[_0x5f1e9b(0x1f5)],'itemdescription':_0x3e616d[_0x5f1e9b(0x21c)],'qty':_0x3e616d[_0x5f1e9b(0x214)],'unit':_0x3e616d['standard_unit'],'expdate':_0x3e616d[_0x5f1e9b(0x229)],'batchno':_0x3e616d[_0x5f1e9b(0x27e)],'binloc':_0x186ca7+_0x3e616d[_0x5f1e9b(0x263)]};_0x5cb861+=_0x3e616d['quantity'],_0x108f5d['datas'][_0x5f1e9b(0x270)](_0x1fbc93);}),_0x3b1f6e[_0x5807f8(0x275)](_0x108f5d,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x3b1f6e[_0x5807f8(0x291)](_0x5807f8(0x1df))['fontSize'](0x8),'prepareRow':(_0x43b4a8,_0x3baba0,_0x469037,_0x42aeda)=>_0x3b1f6e['font'](_0x5807f8(0x26c))[_0x5807f8(0x26d)](0x8)});var _0x2bc61e=_0x3b1f6e['y'],_0x1aa717=_0x3b1f6e['x'];_0x3b1f6e[_0x5807f8(0x26d)](0xa)[_0x5807f8(0x212)](_0x5807f8(0x249),_0x1aa717+0x7d,_0x2bc61e),_0x3b1f6e[_0x5807f8(0x26d)](0xa)[_0x5807f8(0x212)](_0x5807f8(0x288),_0x1aa717,_0x2bc61e+=0x15e),_0x3b1f6e[_0x5807f8(0x26d)](0xa)[_0x5807f8(0x212)](_0x5cb861,_0x1aa717+0xfa,_0x2bc61e),_0x3b1f6e[_0x5807f8(0x26d)](0xa)['text'](_0x5807f8(0x238),_0x1aa717,_0x2bc61e+=0x19),_0x3b1f6e[_0x5807f8(0x26d)](0xa)[_0x5807f8(0x212)](_0x5807f8(0x250),_0x1aa717+0x37,_0x2bc61e,{'underline':!![]}),_0x3b1f6e[_0x5807f8(0x26d)](0xa)[_0x5807f8(0x212)]('Check\x20By\x20\x20\x20\x20:\x20',_0x1aa717,_0x2bc61e+0x32),_0x3b1f6e[_0x5807f8(0x26d)](0xa)[_0x5807f8(0x212)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ARMAN\x20CRUZ\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1aa717+0x32,_0x2bc61e+0x32,{'underline':!![]}),_0x3b1f6e[_0x5807f8(0x26d)](0xa)[_0x5807f8(0x212)](_0x5807f8(0x1dd),_0x1aa717+0x32,_0x2bc61e+0x3c);let _0x26c7ae=_0x3b1f6e[_0x5807f8(0x1f6)]();for(let _0x5d02ac=0x0;_0x5d02ac<_0x26c7ae[_0x5807f8(0x24e)];_0x5d02ac++){_0x3b1f6e[_0x5807f8(0x29a)](_0x5d02ac);let _0x29c3da=_0x3b1f6e[_0x5807f8(0x280)][_0x5807f8(0x264)][_0x5807f8(0x279)];_0x3b1f6e['page'][_0x5807f8(0x264)][_0x5807f8(0x279)]=0x0,_0x3b1f6e[_0x5807f8(0x212)](_0x5807f8(0x23d)+(_0x5d02ac+0x1)+_0x5807f8(0x21a)+_0x26c7ae[_0x5807f8(0x24e)],0x0,_0x3b1f6e[_0x5807f8(0x280)][_0x5807f8(0x235)]-_0x29c3da/0x2,{'align':_0x5807f8(0x211)}),_0x3b1f6e['page'][_0x5807f8(0x264)][_0x5807f8(0x279)]=_0x29c3da;}const _0x28f53f=_0x3b1f6e['y'],_0x4a2629=_0x3b1f6e['x'];_0x3b1f6e[_0x5807f8(0x25b)]();}catch(_0x5daea1){console[_0x5807f8(0x1fc)](_0x5daea1),_0x1b1eb9['status'](0x1f4)[_0x5807f8(0x2a8)]('An\x20error\x20occurred\x20while\x20generating\x20the\x20PDF.');}}),router[a0_0x40c793(0x1fd)](a0_0x40c793(0x276),auth,async(_0x1a4652,_0x4e7bb2)=>{const _0x191402=a0_0x40c793;try{const {username:_0xd4fc06,email:_0x138fd0,role:_0xa35683}=_0x1a4652[_0x191402(0x243)],_0x5b4571=_0x1a4652[_0x191402(0x243)],_0x286616=await profile['findOne']({'email':_0x5b4571[_0x191402(0x1de)]}),_0x31b818=await master_shop[_0x191402(0x24c)](),_0x1eb3c5=_0x1a4652['params']['id'],_0x458153=await sales_return_finished[_0x191402(0x1e1)](_0x1eb3c5),_0xe174a3=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4e7bb2['setHeader']('Content-disposition',_0x191402(0x21d)+_0x1eb3c5+'.pdf\x22'),_0x4e7bb2[_0x191402(0x248)](_0x191402(0x1cc),'application/pdf');var _0x312a20=0x14,_0x300db9=0x64;_0xe174a3['pipe'](_0x4e7bb2),_0xe174a3[_0x191402(0x216)]('./public/upload/'+_0x31b818[0x0][_0x191402(0x216)],0x14,0x0,{'fit':[0x64,0x64]}),_0xe174a3['fontSize'](0x14)['text'](_0x191402(0x1e9),_0x312a20,_0x300db9),_0xe174a3[_0x191402(0x26d)](0xa)['text'](_0x191402(0x1e3),_0x312a20,_0x300db9+=0xf),_0xe174a3[_0x191402(0x26d)](0xf)[_0x191402(0x212)]('PICKING\x20LIST',_0x312a20,_0x300db9+=0x32),_0xe174a3[_0x191402(0x26d)](0xa)[_0x191402(0x212)](_0x191402(0x220),_0x312a20,_0x300db9+=0x1e),_0xe174a3['fontSize'](0x9)[_0x191402(0x212)]('Warehouse\x20:\x20'+_0x458153[_0x191402(0x1d2)],_0x312a20,_0x300db9+=0x28),_0xe174a3['fontSize'](0x9)['text']('Customer\x20:\x20'+_0x458153['customer'],0x190,0xd2,{'underline':!![]}),_0xe174a3[_0x191402(0x26d)](0x9)[_0x191402(0x212)](_0x191402(0x234),_0x312a20,_0x300db9+=0xb),_0xe174a3[_0x191402(0x26d)](0x9)[_0x191402(0x212)]('Date\x20:\x20'+_0x458153['date'],_0x312a20,_0x300db9+=0xb),_0xe174a3[_0x191402(0x26d)](0x9)[_0x191402(0x212)](_0x191402(0x1cf)+_0x458153[_0x191402(0x1d5)],_0x312a20,_0x300db9+=0xb);var _0x2a4326='',_0x6eda78='',_0x390a48=0x0,_0x3efe06;console[_0x191402(0x1fc)](_0x458153['warehouse_cat']);_0x458153[_0x191402(0x1f8)]=='GS'?(_0x458153[_0x191402(0x1d4)]==_0x191402(0x29b)?warecode='DG':warecode='FG',_0x2a4326={'headers':[{'label':_0x191402(0x289),'property':_0x191402(0x233),'width':0x3c,'renderer':null},{'label':_0x191402(0x1f4),'property':_0x191402(0x298),'width':0xc8,'renderer':null},{'label':_0x191402(0x1f2),'property':_0x191402(0x29e),'width':0x3c,'renderer':null},{'label':_0x191402(0x231),'property':_0x191402(0x200),'width':0x3c,'renderer':null},{'label':_0x191402(0x293),'property':_0x191402(0x28f),'width':0x50,'renderer':null},{'label':_0x191402(0x27b),'property':_0x191402(0x29c),'width':0x3f,'renderer':null},{'label':_0x191402(0x221),'property':_0x191402(0x22c),'width':0x3f,'renderer':null}],'datas':[]},_0x458153[_0x191402(0x1ea)][_0x191402(0x1ce)](_0x4b90a2=>{const _0x5941fc=_0x191402;let _0xc9cca0='';var _0x3806f7=0x0;_0x6eda78={'itemcode':_0x4b90a2[_0x5941fc(0x1f5)],'itemdescription':_0x4b90a2['product_name'],'qty':_0x4b90a2['return_qty'],'unit':_0x4b90a2[_0x5941fc(0x200)],'expdate':_0x4b90a2[_0x5941fc(0x229)],'batchno':_0x4b90a2['batch_code'],'binloc':warecode+_0x4b90a2['bay']},_0x390a48+=_0x4b90a2['return_qty'],console[_0x5941fc(0x1fc)](_0x4b90a2),_0x2a4326[_0x5941fc(0x23f)][_0x5941fc(0x270)](_0x6eda78);})):(_0x2a4326={'headers':[{'label':_0x191402(0x289),'property':_0x191402(0x233),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x191402(0x298),'width':0xc8,'renderer':null},{'label':_0x191402(0x1f2),'property':'qty','width':0x3c,'renderer':null},{'label':_0x191402(0x231),'property':_0x191402(0x200),'width':0x3c,'renderer':null},{'label':_0x191402(0x293),'property':'expdate','width':0x50,'renderer':null},{'label':'Batch\x20No','property':_0x191402(0x29c),'width':0x3f,'renderer':null}],'datas':[]},_0x458153[_0x191402(0x227)][_0x191402(0x1ce)](_0x4a5982=>{const _0x3aad1c=_0x191402;let _0x193cfc='';var _0x22b5b6=0x0;_0x6eda78={'itemcode':_0x4a5982[_0x3aad1c(0x1f5)],'itemdescription':_0x4a5982[_0x3aad1c(0x21c)],'qty':_0x4a5982[_0x3aad1c(0x1e0)],'unit':_0x4a5982[_0x3aad1c(0x200)],'expdate':_0x4a5982[_0x3aad1c(0x229)],'batchno':_0x4a5982[_0x3aad1c(0x27e)]},_0x390a48+=_0x4a5982[_0x3aad1c(0x1e0)],console['log'](_0x390a48+_0x3aad1c(0x25f)+_0x4a5982[_0x3aad1c(0x1e0)]),_0x2a4326[_0x3aad1c(0x23f)][_0x3aad1c(0x270)](_0x6eda78);}));_0xe174a3[_0x191402(0x275)](_0x2a4326,{'x':0x14,'y':0x118,'prepareHeader':()=>_0xe174a3[_0x191402(0x291)]('Helvetica-Bold')[_0x191402(0x26d)](0x8),'prepareRow':(_0x310c4d,_0x34b936,_0x533f73,_0x4f509e)=>_0xe174a3[_0x191402(0x291)](_0x191402(0x26c))['fontSize'](0x8)});var _0x2be0c2=_0xe174a3['y'],_0x1b6517=_0xe174a3['x'];_0xe174a3[_0x191402(0x26d)](0xa)[_0x191402(0x212)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x1b6517+0x7d,_0x2be0c2),_0xe174a3[_0x191402(0x26d)](0xa)[_0x191402(0x212)](_0x191402(0x288),_0x1b6517,_0x2be0c2+=0x190),_0xe174a3['fontSize'](0xa)[_0x191402(0x212)](_0x390a48,_0x1b6517+0x37,_0x2be0c2,{'underline':!![]}),_0xe174a3[_0x191402(0x26d)](0xa)[_0x191402(0x212)]('Check\x20By:\x20',_0x1b6517,_0x2be0c2+0x1e),_0xe174a3[_0x191402(0x26d)](0xa)[_0x191402(0x212)](_0x191402(0x25e),_0x1b6517+0x32,_0x2be0c2+0x1e,{'underline':!![]});let _0x2274af=_0xe174a3['bufferedPageRange']();for(let _0x2a8706=0x0;_0x2a8706<_0x2274af['count'];_0x2a8706++){_0xe174a3[_0x191402(0x29a)](_0x2a8706);let _0x396fac=_0xe174a3['page'][_0x191402(0x264)][_0x191402(0x279)];_0xe174a3[_0x191402(0x280)][_0x191402(0x264)][_0x191402(0x279)]=0x0,_0xe174a3['text']('Page:\x20'+(_0x2a8706+0x1)+'\x20of\x20'+_0x2274af['count'],0x0,_0xe174a3[_0x191402(0x280)][_0x191402(0x235)]-_0x396fac/0x2,{'align':'center'}),_0xe174a3[_0x191402(0x280)][_0x191402(0x264)][_0x191402(0x279)]=_0x396fac;}const _0x31b838=_0xe174a3['y'],_0x2c9e08=_0xe174a3['x'];_0xe174a3[_0x191402(0x25b)]();}catch(_0x3e5e6f){console[_0x191402(0x1fc)](_0x3e5e6f),_0x4e7bb2[_0x191402(0x28e)](0x1f4)[_0x191402(0x2a8)](_0x191402(0x247));}}),router[a0_0x40c793(0x1fd)](a0_0x40c793(0x1fe),auth,async(_0x4adf7c,_0x4ff253)=>{const _0x55074a=a0_0x40c793;try{const {username:_0x249bc8,email:_0x5f31a8,role:_0x22d68d}=_0x4adf7c[_0x55074a(0x243)],_0x5d6304=_0x4adf7c[_0x55074a(0x243)],_0x4868c3=await profile['findOne']({'email':_0x5d6304['email']}),_0x504ef6=await master_shop['find'](),_0x55f32b=_0x4adf7c[_0x55074a(0x2a7)]['id'],_0x3ceacf=await purchases['findById'](_0x55f32b),_0x5516a1=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x4ff253['setHeader'](_0x55074a(0x213),_0x55074a(0x21d)+_0x55f32b+'.pdf\x22'),_0x4ff253[_0x55074a(0x248)](_0x55074a(0x1cc),_0x55074a(0x287));var _0x1d7582=0x14,_0x25f6bd=0x3c;_0x5516a1[_0x55074a(0x26a)](_0x4ff253),_0x5516a1['image'](_0x55074a(0x222)+_0x504ef6[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x5516a1[_0x55074a(0x26d)](0x14)[_0x55074a(0x212)](_0x55074a(0x1e9),_0x1d7582,_0x25f6bd),_0x5516a1[_0x55074a(0x26d)](0xa)['text'](_0x55074a(0x1e3),_0x1d7582,_0x25f6bd+=0xf),_0x5516a1[_0x55074a(0x26d)](0xf)[_0x55074a(0x212)](_0x55074a(0x2a3),_0x1d7582,_0x25f6bd+=0x32),_0x5516a1['fontSize'](0xa)['text'](_0x55074a(0x1d3),_0x1d7582,_0x25f6bd+=0x14),_0x5516a1[_0x55074a(0x26d)](0x9)[_0x55074a(0x212)]('Warehouse\x20',_0x1d7582,_0x25f6bd+=0x2d),_0x5516a1[_0x55074a(0x26d)](0x9)[_0x55074a(0x212)](_0x55074a(0x223)+_0x3ceacf[_0x55074a(0x1d4)],_0x1d7582+0x3f,_0x25f6bd),_0x5516a1['fontSize'](0x9)[_0x55074a(0x212)](_0x55074a(0x29f)+_0x3ceacf[_0x55074a(0x28b)],_0x1d7582+0x17c,_0x25f6bd,{'underline':!![]}),_0x5516a1['fontSize'](0x9)[_0x55074a(0x212)](_0x55074a(0x296),_0x1d7582,_0x25f6bd+=0xb),_0x5516a1[_0x55074a(0x26d)](0x9)[_0x55074a(0x212)](_0x55074a(0x223)+_0x3ceacf[_0x55074a(0x268)],_0x1d7582+0x3f,_0x25f6bd),_0x5516a1[_0x55074a(0x26d)](0x9)['text']('Control\x20Number\x20',_0x1d7582,_0x25f6bd+=0xb),_0x5516a1['fontSize'](0x9)['text']('\x20:\x20'+_0x3ceacf[_0x55074a(0x1d5)],_0x1d7582+0x3f,_0x25f6bd);const _0x297d49={'headers':[{'label':_0x55074a(0x289),'property':_0x55074a(0x233),'width':0x3c,'renderer':null},{'label':'Item\x20Description','property':_0x55074a(0x298),'width':0x96,'renderer':null},{'label':_0x55074a(0x283),'property':_0x55074a(0x29e),'width':0x2d,'renderer':null},{'label':'UOM','property':_0x55074a(0x200),'width':0x3c,'renderer':null},{'label':'Expiration\x20Date','property':_0x55074a(0x28f),'width':0x46,'renderer':null},{'label':_0x55074a(0x27b),'property':'batchno','width':0x3c,'renderer':null},{'label':_0x55074a(0x221),'property':'binloc','width':0x3c,'renderer':null},{'label':_0x55074a(0x251),'property':_0x55074a(0x209),'width':0x3f,'renderer':null}],'datas':[]};var _0x51660a=0x0;let _0xac187f='';_0x3ceacf['product']['forEach'](_0x3e3c44=>{const _0x13491d=_0x55074a;let _0x4542cd='';var _0x4bd1e7=0x0;const _0x2a73cd={'itemcode':_0x3e3c44[_0x13491d(0x1f5)],'itemdescription':_0x3e3c44[_0x13491d(0x21c)],'qty':_0x3e3c44['quantity'],'unit':_0x3e3c44[_0x13491d(0x218)],'expdate':_0x3e3c44['expiry_date'],'batchno':_0x3e3c44[_0x13491d(0x27e)],'binloc':_0x3e3c44[_0x13491d(0x232)]+_0x3e3c44['rack']+_0x3e3c44[_0x13491d(0x263)]+_0x3e3c44['bin']+_0x3e3c44['type'][0x0]+_0x3e3c44[_0x13491d(0x27f)],'DelCode':_0x3e3c44[_0x13491d(0x1ef)]};_0x51660a+=_0x3e3c44[_0x13491d(0x214)],_0x297d49['datas'][_0x13491d(0x270)](_0x2a73cd);}),_0x5516a1['table'](_0x297d49,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x5516a1[_0x55074a(0x291)](_0x55074a(0x1df))['fontSize'](0x8),'prepareRow':(_0x1884c8,_0x3ab43a,_0x45a8c5,_0x51d78d)=>_0x5516a1[_0x55074a(0x291)](_0x55074a(0x26c))[_0x55074a(0x26d)](0x8)});var _0x10d29d=_0x5516a1['y'],_0x32d635=_0x5516a1['x'];_0x5516a1[_0x55074a(0x26d)](0xa)['text'](_0x55074a(0x249),_0x32d635+0x7d,_0x10d29d),_0x5516a1[_0x55074a(0x26d)](0xa)[_0x55074a(0x212)]('TOTAL\x20QTY:\x20',_0x32d635,_0x10d29d+=0x15e),_0x5516a1[_0x55074a(0x26d)](0xa)[_0x55074a(0x212)](_0x51660a,_0x32d635+0xf0,_0x10d29d,{'underline':!![]}),_0x5516a1[_0x55074a(0x26d)](0xa)[_0x55074a(0x212)](_0x55074a(0x22a),_0x32d635,_0x10d29d+0x28),_0x5516a1[_0x55074a(0x26d)](0xa)[_0x55074a(0x212)]('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RICHARD\x20BAET\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x32d635+0x40,_0x10d29d+0x28,{'underline':!![]}),_0x5516a1[_0x55074a(0x26d)](0xa)[_0x55074a(0x212)](_0x55074a(0x244),_0x32d635+0x40,_0x10d29d+0x32);let _0x463a2c=_0x5516a1[_0x55074a(0x1f6)]();for(let _0x11af74=0x0;_0x11af74<_0x463a2c[_0x55074a(0x24e)];_0x11af74++){_0x5516a1[_0x55074a(0x29a)](_0x11af74);let _0x5ead62=_0x5516a1['page']['margins'][_0x55074a(0x279)];_0x5516a1['page'][_0x55074a(0x264)][_0x55074a(0x279)]=0x0,_0x5516a1[_0x55074a(0x212)](_0x55074a(0x23d)+(_0x11af74+0x1)+_0x55074a(0x21a)+_0x463a2c['count'],0x0,_0x5516a1['page']['height']-_0x5ead62/0x2,{'align':_0x55074a(0x211)}),_0x5516a1[_0x55074a(0x280)][_0x55074a(0x264)][_0x55074a(0x279)]=_0x5ead62;}const _0x3a14bb=_0x5516a1['y'],_0x3fe132=_0x5516a1['x'];_0x5516a1[_0x55074a(0x25b)]();}catch(_0x5aa2d2){console[_0x55074a(0x1fc)](_0x5aa2d2),_0x4ff253['status'](0x1f4)[_0x55074a(0x2a8)](_0x55074a(0x247));}}),router[a0_0x40c793(0x1fd)](a0_0x40c793(0x246),auth,async(_0xefd6ca,_0x383ea3)=>{const _0x3cdb68=a0_0x40c793;try{const {username:_0x405dcf,email:_0x3ecd00,role:_0x4ca77a}=_0xefd6ca[_0x3cdb68(0x243)],_0x591fbb=_0xefd6ca[_0x3cdb68(0x243)],_0x146950=await profile[_0x3cdb68(0x262)]({'email':_0x591fbb[_0x3cdb68(0x1de)]}),_0x4a0000=await master_shop[_0x3cdb68(0x24c)](),_0x41eb30=_0xefd6ca[_0x3cdb68(0x2a7)]['id'],_0x5f344b=await sales[_0x3cdb68(0x1e1)](_0x41eb30),_0xc8db61=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});var _0x1dff36;_0x1dff36=_0x3cdb68(0x2a9);_0x5f344b[_0x3cdb68(0x1f9)]==_0x3cdb68(0x23b)&&(_0x1dff36=_0x3cdb68(0x236));_0x383ea3[_0x3cdb68(0x248)]('Content-disposition',_0x3cdb68(0x21d)+_0x41eb30+_0x3cdb68(0x1d9)),_0x383ea3[_0x3cdb68(0x248)](_0x3cdb68(0x1cc),'application/pdf');var _0x496a3d=0x14,_0x288318=0x64;_0xc8db61[_0x3cdb68(0x26a)](_0x383ea3),_0xc8db61['image'](_0x3cdb68(0x222)+_0x4a0000[0x0][_0x3cdb68(0x216)],0x14,0x0,{'fit':[0x64,0x64]}),_0xc8db61[_0x3cdb68(0x26d)](0x14)['text']('DELI\x20MONDO\x20FOOD\x20SPECIALTIES\x20INC.',_0x496a3d,_0x288318),_0xc8db61[_0x3cdb68(0x26d)](0xa)[_0x3cdb68(0x212)](_0x3cdb68(0x1e3),_0x496a3d,_0x288318+=0xf),_0xc8db61[_0x3cdb68(0x26d)](0xf)['text'](_0x1dff36,_0x496a3d,_0x288318+=0x32),_0xc8db61['fontSize'](0xa)[_0x3cdb68(0x212)](_0x3cdb68(0x1e2),_0x496a3d,_0x288318+=0x14),_0xc8db61[_0x3cdb68(0x26d)](0x9)[_0x3cdb68(0x212)](_0x3cdb68(0x296),_0x496a3d,_0x288318+=0x19),_0xc8db61['fontSize'](0x9)[_0x3cdb68(0x212)](_0x3cdb68(0x223)+_0x5f344b[_0x3cdb68(0x268)],_0x496a3d+0x3f,_0x288318),_0xc8db61['fontSize'](0x9)[_0x3cdb68(0x212)](_0x3cdb68(0x259),_0x496a3d,_0x288318+=0xb),_0xc8db61[_0x3cdb68(0x26d)](0x9)[_0x3cdb68(0x212)]('\x20:\x20'+_0x5f344b['invoice'],_0x496a3d+0x3f,_0x288318);const _0x5d5571={'headers':[{'label':'ITEM\x20CODE','property':_0x3cdb68(0x233),'align':_0x3cdb68(0x211),'width':0x2d,'renderer':null},{'label':_0x3cdb68(0x210),'property':_0x3cdb68(0x298),'align':_0x3cdb68(0x211),'width':0x64,'renderer':null},{'label':_0x3cdb68(0x202),'property':_0x3cdb68(0x20b),'align':_0x3cdb68(0x211),'width':0x28,'renderer':null},{'label':_0x3cdb68(0x26b),'property':_0x3cdb68(0x267),'align':_0x3cdb68(0x211),'width':0x28,'renderer':null},{'label':_0x3cdb68(0x231),'property':_0x3cdb68(0x200),'align':_0x3cdb68(0x211),'width':0x28,'renderer':null},{'label':_0x3cdb68(0x28a),'property':_0x3cdb68(0x201),'align':'center','width':0x32,'renderer':null},{'label':'PRODUCTION\x20DATE','property':_0x3cdb68(0x297),'align':'center','width':0x3c,'renderer':null},{'label':_0x3cdb68(0x22e),'property':_0x3cdb68(0x28f),'align':_0x3cdb68(0x211),'width':0x3c,'renderer':null},{'label':'DELIVERY\x20DATE','property':_0x3cdb68(0x1db),'align':_0x3cdb68(0x211),'width':0x3f,'renderer':null},{'label':_0x3cdb68(0x224),'property':_0x3cdb68(0x24d),'align':_0x3cdb68(0x211),'width':0x3f,'renderer':null}],'datas':[]};var _0x5e9b01=0x0;let _0x53af0c='';var _0x67468d=0x0,_0x496a3d=0x1;_0x5f344b[_0x3cdb68(0x21f)][_0x3cdb68(0x1ce)](_0xf37466=>{const _0x339db3=_0x3cdb68,_0x1d483d=new Date(_0xf37466[_0x339db3(0x28c)]),_0x314835={'year':_0x339db3(0x252),'month':_0x339db3(0x1d1),'day':_0x339db3(0x252)},_0x1bdcdc=_0x1d483d[_0x339db3(0x255)](_0x339db3(0x277),_0x314835),_0x1f75df=new Date(_0xf37466[_0x339db3(0x229)]),_0x5514a0={'year':'numeric','month':_0x339db3(0x1d1),'day':_0x339db3(0x252)},_0x1a74a6=_0x1f75df[_0x339db3(0x255)]('en-US',_0x5514a0),_0x5dcd1f=new Date(_0xf37466[_0x339db3(0x215)]),_0xb9732e={'year':_0x339db3(0x252),'month':_0x339db3(0x1d1),'day':_0x339db3(0x252)};var _0xe88903=_0x5dcd1f[_0x339db3(0x255)](_0x339db3(0x277),_0xb9732e);typeof _0xf37466[_0x339db3(0x215)]==_0x339db3(0x1f3)&&(_0xe88903='');const _0x570a4d={'itemcode':_0xf37466[_0x339db3(0x1f5)],'itemdescription':_0xf37466[_0x339db3(0x21c)],'rqty':_0xf37466['requested_qty'],'iqty':_0xf37466['quantity'],'unit':_0xf37466[_0x339db3(0x200)],'blocation':_0xf37466['storage']+_0xf37466['rack']+_0xf37466[_0x339db3(0x263)]+_0xf37466[_0x339db3(0x25d)]+_0xf37466[_0x339db3(0x1ed)][0x0]+_0xf37466[_0x339db3(0x27f)],'proddate':_0x1bdcdc,'expdate':_0x1a74a6,'del_date':_0xe88903,'del_code':_0xf37466['delivery_code']};_0x496a3d++,_0x5d5571['datas'][_0x339db3(0x270)](_0x570a4d);}),_0xc8db61[_0x3cdb68(0x275)](_0x5d5571,{'x':_0x496a3d+0x11,'y':_0x288318+=0x1e,'prepareHeader':()=>_0xc8db61[_0x3cdb68(0x291)](_0x3cdb68(0x1df))['fontSize'](6.5),'prepareRow':(_0x194e7a,_0x193b6a,_0x19f062,_0x995c6b,_0x4d15c3)=>{const _0x478924=_0x3cdb68,{x:_0x40512f,y:_0x4b9fe7,width:_0x896bd4,height:_0x200e0f}=_0x4d15c3;_0xc8db61[_0x478924(0x291)](_0x478924(0x26c))[_0x478924(0x26d)](0x8),_0xc8db61[_0x478924(0x24f)](0.5)[_0x478924(0x258)](_0x40512f,_0x4b9fe7)['lineTo'](_0x40512f,_0x4b9fe7+_0x200e0f)[_0x478924(0x237)]();}});var _0x20677c=_0xc8db61['y'],_0x210e31=_0xc8db61['x'],_0x4b5b4d=_0x20677c-=0x8;_0xc8db61[_0x3cdb68(0x24f)](0x5),_0xc8db61[_0x3cdb68(0x284)](_0x3cdb68(0x228))[_0x3cdb68(0x258)](0x240,_0x4b5b4d)[_0x3cdb68(0x295)](0x11,_0x4b5b4d)[_0x3cdb68(0x237)](),_0xc8db61['fontSize'](0xa)['text'](_0x3cdb68(0x249),_0x210e31+0x7d,_0x20677c+=0xf),_0xc8db61[_0x3cdb68(0x26d)](0xb)[_0x3cdb68(0x212)](_0x3cdb68(0x273),_0x210e31,_0x20677c+=0x15e),_0xc8db61[_0x3cdb68(0x26d)](0xa)['text']('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x210e31+0x52,_0x20677c,{'underline':!![]}),_0xc8db61['fontSize'](0xa)[_0x3cdb68(0x212)](_0x3cdb68(0x1e8),_0x210e31,_0x20677c+=0x19),_0xc8db61[_0x3cdb68(0x26d)](0xa)['text'](_0x3cdb68(0x223),_0x210e31+0x4b,_0x20677c),_0xc8db61['fontSize'](0xa)[_0x3cdb68(0x212)]('\x20'[_0x3cdb68(0x1fb)](0x3c),_0x210e31+0x50,_0x20677c,{'underline':!![]}),_0xc8db61[_0x3cdb68(0x26d)](0xa)[_0x3cdb68(0x212)](_0x3cdb68(0x1dc),_0x210e31,_0x20677c+=0x32),_0xc8db61['fontSize'](0xa)[_0x3cdb68(0x212)]('\x20:\x20',_0x210e31+0x4b,_0x20677c),_0xc8db61['fontSize'](0xa)[_0x3cdb68(0x212)](_0x3cdb68(0x1e6),_0x210e31+0x50,_0x20677c,{'underline':!![]}),_0xc8db61[_0x3cdb68(0x26d)](0xa)[_0x3cdb68(0x212)](_0x3cdb68(0x244),_0x210e31+0x50,_0x20677c+0xc);let _0x23aa43=_0xc8db61['bufferedPageRange']();for(let _0x4d77d0=0x0;_0x4d77d0<_0x23aa43['count'];_0x4d77d0++){_0xc8db61[_0x3cdb68(0x29a)](_0x4d77d0);let _0x1bda18=_0xc8db61[_0x3cdb68(0x280)][_0x3cdb68(0x264)]['bottom'];_0xc8db61[_0x3cdb68(0x280)]['margins'][_0x3cdb68(0x279)]=0x0,_0xc8db61[_0x3cdb68(0x212)](_0x3cdb68(0x23d)+(_0x4d77d0+0x1)+_0x3cdb68(0x21a)+_0x23aa43[_0x3cdb68(0x24e)],0x0,_0xc8db61[_0x3cdb68(0x280)][_0x3cdb68(0x235)]-_0x1bda18/0x2,{'align':'center'}),_0xc8db61[_0x3cdb68(0x280)]['margins'][_0x3cdb68(0x279)]=_0x1bda18;}const _0x51f627=_0xc8db61['y'],_0x555372=_0xc8db61['x'];_0xc8db61[_0x3cdb68(0x25b)]();}catch(_0x3538d1){console[_0x3cdb68(0x1fc)](_0x3538d1),_0x383ea3[_0x3cdb68(0x28e)](0x1f4)[_0x3cdb68(0x2a8)](_0x3cdb68(0x247));}}),router['get'](a0_0x40c793(0x269),auth,async(_0xf4e4bc,_0x54b3df)=>{const _0x6d65eb=a0_0x40c793;try{const {username:_0x282184,email:_0x5e4382,role:_0x2bcc3a}=_0xf4e4bc[_0x6d65eb(0x243)],_0x56e183=_0xf4e4bc[_0x6d65eb(0x243)],_0xb39397=await profile[_0x6d65eb(0x262)]({'email':_0x56e183[_0x6d65eb(0x1de)]}),_0x546ce2=await master_shop[_0x6d65eb(0x24c)](),_0x3564ef=_0xf4e4bc[_0x6d65eb(0x2a7)]['id'],_0x260c2b=await adjustment[_0x6d65eb(0x1e1)](_0x3564ef);var _0x578e05,_0x8bc225;_0x578e05=_0x6d65eb(0x2a9),_0x8bc225=_0x6d65eb(0x278);_0x260c2b[_0x6d65eb(0x1f9)]==_0x6d65eb(0x23b)&&(_0x578e05=_0x6d65eb(0x204),_0x8bc225='');const _0x350943=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x54b3df[_0x6d65eb(0x248)](_0x6d65eb(0x213),'inline;\x20filename=\x22OUT-'+_0x3564ef+_0x6d65eb(0x1d9)),_0x54b3df['setHeader'](_0x6d65eb(0x1cc),'application/pdf');var _0x54d62a=0x14,_0x1175cd=0x3c;_0x350943[_0x6d65eb(0x26a)](_0x54b3df),_0x350943[_0x6d65eb(0x216)](_0x6d65eb(0x222)+_0x546ce2[0x0][_0x6d65eb(0x216)],0x14,0x0,{'fit':[0x64,0x64]}),_0x350943[_0x6d65eb(0x26d)](0x14)[_0x6d65eb(0x212)](_0x6d65eb(0x1e9),_0x54d62a,_0x1175cd),_0x350943[_0x6d65eb(0x26d)](0xa)['text'](_0x6d65eb(0x1e3),_0x54d62a,_0x1175cd+=0xf),_0x350943[_0x6d65eb(0x26d)](0xf)[_0x6d65eb(0x212)](_0x578e05,_0x54d62a,_0x1175cd+=0x32),_0x350943[_0x6d65eb(0x26d)](0xa)[_0x6d65eb(0x212)](_0x8bc225,_0x54d62a,_0x1175cd+=0x14),_0x350943[_0x6d65eb(0x26d)](0x9)[_0x6d65eb(0x212)](_0x6d65eb(0x20d),_0x54d62a,_0x1175cd+=0x28),_0x350943['fontSize'](0x9)['text'](_0x6d65eb(0x223)+_0x260c2b['warehouse_name'],_0x54d62a+0x3f,_0x1175cd),_0x350943[_0x6d65eb(0x26d)](0x9)[_0x6d65eb(0x212)]('Date\x20',_0x54d62a,_0x1175cd+=0xb),_0x350943['fontSize'](0x9)[_0x6d65eb(0x212)](_0x6d65eb(0x223)+_0x260c2b[_0x6d65eb(0x268)],_0x54d62a+0x3f,_0x1175cd),_0x350943[_0x6d65eb(0x26d)](0x9)[_0x6d65eb(0x212)]('Control\x20Number\x20',_0x54d62a,_0x1175cd+=0xb),_0x350943['fontSize'](0x9)[_0x6d65eb(0x212)](_0x6d65eb(0x223)+_0x260c2b[_0x6d65eb(0x1d5)],_0x54d62a+0x3f,_0x1175cd);const _0x191435={'headers':[{'label':'Item\x20Code','property':_0x6d65eb(0x233),'width':0x3c,'renderer':null},{'label':_0x6d65eb(0x1f4),'property':_0x6d65eb(0x298),'width':0x96,'renderer':null},{'label':_0x6d65eb(0x1f2),'property':_0x6d65eb(0x29e),'width':0x3c,'renderer':null},{'label':'UOM','property':'unit','width':0x3c,'renderer':null},{'label':_0x6d65eb(0x226),'property':'proddate','width':0x50,'renderer':null},{'label':'Batch\x20No','property':'batchno','width':0x3f,'renderer':null},{'label':'Bin\x20Location','property':_0x6d65eb(0x22c),'width':0x3f,'renderer':null}],'datas':[]};var _0x3479c9=0x0,_0x420966=0x0;_0x260c2b[_0x6d65eb(0x242)][_0x6d65eb(0x1ce)](_0x213845=>{const _0x3a9a56=_0x6d65eb;let _0x7e9f6c='';const _0x7c7d5f=_0x213845[_0x3a9a56(0x256)];for(let _0x2b61c8=0x1;_0x2b61c8<=_0x7c7d5f;_0x2b61c8++){_0x7c7d5f==_0x2b61c8?_0x7e9f6c+=_0x213845[_0x3a9a56(0x23c)]:_0x7e9f6c+=_0x213845[_0x3a9a56(0x23c)]+',',_0x420966+=_0x213845['maxperunit'];}_0x7e9f6c+='\x20/\x20'+_0x213845['secondary_unit'];const _0xd49504={'itemcode':_0x213845[_0x3a9a56(0x1f5)],'itemdescription':_0x213845[_0x3a9a56(0x21c)],'qty':_0x213845[_0x3a9a56(0x282)],'unit':_0x213845[_0x3a9a56(0x200)],'proddate':_0x213845[_0x3a9a56(0x28c)],'batchno':_0x213845[_0x3a9a56(0x27e)],'binloc':_0x213845[_0x3a9a56(0x232)]+_0x213845['rack']+_0x213845[_0x3a9a56(0x263)]+_0x213845[_0x3a9a56(0x25d)]+_0x213845[_0x3a9a56(0x1ed)][0x0]+_0x213845[_0x3a9a56(0x27f)]};_0x3479c9+=_0x213845['new_adjust_qty'],_0x191435[_0x3a9a56(0x23f)][_0x3a9a56(0x270)](_0xd49504);}),_0x350943[_0x6d65eb(0x275)](_0x191435,{'x':0x14,'y':0x118,'prepareHeader':()=>_0x350943[_0x6d65eb(0x291)](_0x6d65eb(0x1df))[_0x6d65eb(0x26d)](0x8),'prepareRow':(_0xc92ea1,_0x165745,_0x1f3c08,_0x4ad65e)=>_0x350943['font']('Helvetica')[_0x6d65eb(0x26d)](0x8)});var _0x570d98=_0x350943['y'],_0x4a7166=_0x350943['x'];_0x350943[_0x6d65eb(0x26d)](0xa)[_0x6d65eb(0x212)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x4a7166+0x7d,_0x570d98),_0x350943[_0x6d65eb(0x26d)](0xa)['text'](_0x6d65eb(0x1e7),_0x4a7166,_0x570d98+=0x136),_0x350943['fontSize'](0xa)[_0x6d65eb(0x212)](_0x3479c9,_0x4a7166+0xc8,_0x570d98),_0x350943['fontSize'](0xa)[_0x6d65eb(0x212)](_0x6d65eb(0x205),_0x4a7166,_0x570d98+=0x19),_0x350943[_0x6d65eb(0x26d)](0xa)[_0x6d65eb(0x212)]('\x20'[_0x6d65eb(0x1fb)](0x3c),_0x4a7166+0x3e,_0x570d98,{'underline':!![]}),_0x350943['fontSize'](0xa)[_0x6d65eb(0x212)](_0x6d65eb(0x2a5),_0x4a7166,_0x570d98+=0x32),_0x350943[_0x6d65eb(0x26d)](0xa)[_0x6d65eb(0x212)](_0x6d65eb(0x223),_0x4a7166+0x37,_0x570d98),_0x350943[_0x6d65eb(0x26d)](0xa)[_0x6d65eb(0x212)](_0x6d65eb(0x1e6),_0x4a7166+0x3c,_0x570d98,{'underline':!![]}),_0x350943[_0x6d65eb(0x26d)](0xa)[_0x6d65eb(0x212)]('Raw\x20Materials\x20Warehouse\x20Supervisor',_0x4a7166+0x3c,_0x570d98+0xc);let _0x563c57=_0x350943['bufferedPageRange']();for(let _0x1e919f=0x0;_0x1e919f<_0x563c57['count'];_0x1e919f++){_0x350943[_0x6d65eb(0x29a)](_0x1e919f);let _0x492b76=_0x350943[_0x6d65eb(0x280)][_0x6d65eb(0x264)][_0x6d65eb(0x279)];_0x350943[_0x6d65eb(0x280)][_0x6d65eb(0x264)]['bottom']=0x0,_0x350943['text'](_0x6d65eb(0x23d)+(_0x1e919f+0x1)+_0x6d65eb(0x21a)+_0x563c57[_0x6d65eb(0x24e)],0x0,_0x350943[_0x6d65eb(0x280)][_0x6d65eb(0x235)]-_0x492b76/0x2,{'align':_0x6d65eb(0x211)}),_0x350943[_0x6d65eb(0x280)][_0x6d65eb(0x264)][_0x6d65eb(0x279)]=_0x492b76;}const _0x1bb0c0=_0x350943['y'],_0x45dd0b=_0x350943['x'];_0x350943[_0x6d65eb(0x25b)]();}catch(_0xad9bae){console[_0x6d65eb(0x1fc)](_0xad9bae),_0x54b3df[_0x6d65eb(0x28e)](0x1f4)[_0x6d65eb(0x2a8)](_0x6d65eb(0x247));}}),router['get'](a0_0x40c793(0x217),auth,async(_0x3b9929,_0x13fdd9)=>{const _0x35c9b9=a0_0x40c793;try{const {username:_0x217f03,email:_0x3f8c23,role:_0x54ebaa}=_0x3b9929[_0x35c9b9(0x243)],_0x17d0ab=_0x3b9929[_0x35c9b9(0x243)],_0x2472a4=await profile[_0x35c9b9(0x262)]({'email':_0x17d0ab[_0x35c9b9(0x1de)]}),_0x3df7c0=await master_shop[_0x35c9b9(0x24c)](),_0x4b414c=_0x3b9929[_0x35c9b9(0x2a7)]['id'],_0x38f358=await transfers[_0x35c9b9(0x1e1)](_0x4b414c);var _0x3c82f3,_0x46b83a;_0x3c82f3=_0x35c9b9(0x2a0),_0x46b83a=_0x35c9b9(0x20e);_0x38f358['finalize']==_0x35c9b9(0x23b)&&(_0x3c82f3=_0x35c9b9(0x1da),_0x46b83a='');const _0x129adf=new PDFDocument({'margin':0x1e,'size':'A4','bufferPages':!![]});_0x13fdd9[_0x35c9b9(0x248)](_0x35c9b9(0x213),_0x35c9b9(0x21d)+_0x4b414c+_0x35c9b9(0x1d9)),_0x13fdd9['setHeader'](_0x35c9b9(0x1cc),_0x35c9b9(0x287));var _0x4845d=0x14,_0xeb5893=0x3c;_0x129adf[_0x35c9b9(0x26a)](_0x13fdd9),_0x129adf[_0x35c9b9(0x216)]('./public/upload/'+_0x3df7c0[0x0]['image'],0x14,0x0,{'fit':[0x64,0x64]}),_0x129adf[_0x35c9b9(0x26d)](0x14)[_0x35c9b9(0x212)](_0x35c9b9(0x1e9),_0x4845d,_0xeb5893),_0x129adf[_0x35c9b9(0x26d)](0xa)[_0x35c9b9(0x212)](_0x35c9b9(0x1e3),_0x4845d,_0xeb5893+=0xf),_0x129adf['fontSize'](0xf)['text'](_0x3c82f3,_0x4845d,_0xeb5893+=0x32),_0x129adf['fontSize'](0xa)[_0x35c9b9(0x212)](_0x46b83a,_0x4845d,_0xeb5893+=0x14),_0x129adf['fontSize'](0x9)[_0x35c9b9(0x212)](_0x35c9b9(0x21b),_0x4845d,_0xeb5893+=0x28),_0x129adf['fontSize'](0x9)['text'](_0x35c9b9(0x1d0)+_0x38f358['from_warehouse'],_0x4845d+0x3f,_0xeb5893),_0x129adf[_0x35c9b9(0x26d)](0x9)[_0x35c9b9(0x212)](_0x35c9b9(0x203),_0x4845d,_0xeb5893+=0xa),_0x129adf[_0x35c9b9(0x26d)](0x9)[_0x35c9b9(0x212)](_0x35c9b9(0x1d0)+_0x38f358[_0x35c9b9(0x265)],_0x4845d+0x3f,_0xeb5893),_0x129adf[_0x35c9b9(0x26d)](0x9)[_0x35c9b9(0x212)](_0x35c9b9(0x296),_0x4845d,_0xeb5893+=0xb),_0x129adf[_0x35c9b9(0x26d)](0x9)[_0x35c9b9(0x212)](_0x35c9b9(0x1d0)+_0x38f358[_0x35c9b9(0x268)],_0x4845d+0x3f,_0xeb5893),_0x129adf['fontSize'](0x9)[_0x35c9b9(0x212)](_0x35c9b9(0x27c),_0x4845d,_0xeb5893+=0xb),_0x129adf[_0x35c9b9(0x26d)](0x9)[_0x35c9b9(0x212)]('\x20\x20\x20:\x20'+_0x38f358[_0x35c9b9(0x1d5)],_0x4845d+0x3f,_0xeb5893);const _0xd59617={'headers':[{'label':'','property':_0x35c9b9(0x233),'width':0x1bb,'renderer':null,'textCenter':!![]},{'label':_0x35c9b9(0x1f7),'property':'itemcode','width':0x3f,'renderer':null,'textCenter':!![]},{'label':_0x35c9b9(0x294),'property':_0x35c9b9(0x298),'width':0x3f,'renderer':null,'textCenter':!![]}],'datas':[]};_0x129adf[_0x35c9b9(0x275)](_0xd59617,{'x':0x5,'y':0x107,'prepareHeader':()=>_0x129adf['font'](_0x35c9b9(0x1df))[_0x35c9b9(0x26d)](0x8),'prepareRow':(_0xc4f668,_0x407f7e,_0x8d6217,_0x3cba67)=>_0x129adf[_0x35c9b9(0x291)](_0x35c9b9(0x26c))['fontSize'](0x8)});const _0x497375={'headers':[{'label':_0x35c9b9(0x289),'property':_0x35c9b9(0x233),'width':0x3c,'renderer':null},{'label':_0x35c9b9(0x1f4),'property':'itemdescription','width':0x96,'renderer':null},{'label':_0x35c9b9(0x1f2),'property':_0x35c9b9(0x29e),'width':0x28,'renderer':null},{'label':_0x35c9b9(0x231),'property':_0x35c9b9(0x200),'width':0x37,'renderer':null},{'label':_0x35c9b9(0x226),'property':_0x35c9b9(0x297),'width':0x4b,'renderer':null},{'label':_0x35c9b9(0x27b),'property':_0x35c9b9(0x29c),'width':0x3f,'renderer':null},{'label':_0x35c9b9(0x221),'property':_0x35c9b9(0x240),'width':0x3f,'renderer':null},{'label':_0x35c9b9(0x221),'property':'binloc','width':0x3f,'renderer':null}],'datas':[]};var _0x4703a5=0x0;let _0x1d0340='';var _0x24cf44=0x0;_0x38f358[_0x35c9b9(0x242)][_0x35c9b9(0x1ce)](_0x24163a=>{const _0xeabf89=_0x35c9b9;var _0x5bb632=_0x24163a[_0xeabf89(0x24a)],_0x1c8077;_0x1c8077=_0x24163a[_0xeabf89(0x200)];_0x5bb632=='S'&&(_0x1c8077=_0x24163a['secondary_unit']);const _0x46cd50={'itemcode':_0x24163a[_0xeabf89(0x1f5)],'itemdescription':_0x24163a['product_name'],'qty':_0x24163a['to_quantity'],'unit':_0x1c8077,'proddate':_0x24163a[_0xeabf89(0x28c)],'batchno':_0x24163a[_0xeabf89(0x27e)],'binloc':_0x24163a[_0xeabf89(0x232)]+_0x24163a[_0xeabf89(0x23e)]+_0x24163a[_0xeabf89(0x239)]+_0x24163a['to_bin']+_0x24163a[_0xeabf89(0x1e5)][0x0]+_0x24163a['to_floorlevel'],'qtyFrom':_0x24163a[_0xeabf89(0x20c)],'binlocFrom':_0x24163a[_0xeabf89(0x257)]+_0x24163a['from_rack']+_0x24163a[_0xeabf89(0x1f1)]+_0x24163a['from_bin']+_0x24163a[_0xeabf89(0x27a)][0x0]+_0x24163a[_0xeabf89(0x1f0)]};_0x4703a5+=_0x24163a[_0xeabf89(0x256)],_0x497375[_0xeabf89(0x23f)]['push'](_0x46cd50);}),_0x129adf[_0x35c9b9(0x275)](_0x497375,{'x':0x5,'y':0x118,'prepareHeader':()=>_0x129adf[_0x35c9b9(0x291)](_0x35c9b9(0x1df))[_0x35c9b9(0x26d)](0x8),'prepareRow':(_0xff6b37,_0x3742df,_0x474702,_0x3732b6)=>_0x129adf['font'](_0x35c9b9(0x26c))[_0x35c9b9(0x26d)](0x8)});var _0x2f7cf0=_0x129adf['y'],_0x2212af=_0x129adf['x'];_0x129adf['fontSize'](0xa)[_0x35c9b9(0x212)]('***********************\x20NOTHING\x20TO\x20FOLLOWS\x20***********************',_0x2212af+0x7d,_0x2f7cf0),_0x129adf[_0x35c9b9(0x26d)](0xa)['text'](_0x35c9b9(0x288),_0x2212af,_0x2f7cf0+=0x12c),_0x129adf[_0x35c9b9(0x26d)](0xa)[_0x35c9b9(0x212)](_0x4703a5,_0x2212af+0xd7,_0x2f7cf0,{'underline':!![]}),_0x129adf[_0x35c9b9(0x26d)](0xa)[_0x35c9b9(0x212)](_0x35c9b9(0x207),_0x2212af,_0x2f7cf0+=0x32),_0x129adf[_0x35c9b9(0x26d)](0xa)[_0x35c9b9(0x212)](_0x35c9b9(0x2aa),_0x2212af+0x3c,_0x2f7cf0,{'underline':!![]}),_0x129adf[_0x35c9b9(0x26d)](0xa)['text'](_0x35c9b9(0x244),_0x2212af+0x3c,_0x2f7cf0+0xc);let _0x291619=_0x129adf[_0x35c9b9(0x1f6)]();for(let _0x3c28fe=0x0;_0x3c28fe<_0x291619[_0x35c9b9(0x24e)];_0x3c28fe++){_0x129adf[_0x35c9b9(0x29a)](_0x3c28fe);let _0x254f00=_0x129adf[_0x35c9b9(0x280)][_0x35c9b9(0x264)][_0x35c9b9(0x279)];_0x129adf[_0x35c9b9(0x280)][_0x35c9b9(0x264)][_0x35c9b9(0x279)]=0x0,_0x129adf[_0x35c9b9(0x212)](_0x35c9b9(0x23d)+(_0x3c28fe+0x1)+_0x35c9b9(0x21a)+_0x291619[_0x35c9b9(0x24e)],0x0,_0x129adf[_0x35c9b9(0x280)][_0x35c9b9(0x235)]-_0x254f00/0x2,{'align':_0x35c9b9(0x211)}),_0x129adf[_0x35c9b9(0x280)][_0x35c9b9(0x264)][_0x35c9b9(0x279)]=_0x254f00;}const _0xf14e97=_0x129adf['y'],_0x5436d2=_0x129adf['x'];_0x129adf[_0x35c9b9(0x25b)]();}catch(_0x24ed93){console[_0x35c9b9(0x1fc)](_0x24ed93),_0x13fdd9[_0x35c9b9(0x28e)](0x1f4)[_0x35c9b9(0x2a8)](_0x35c9b9(0x247));}}),router[a0_0x40c793(0x1fd)](a0_0x40c793(0x253),auth,async(_0x4652de,_0x29fe5d)=>{const _0xc14071=a0_0x40c793;try{const _0xfa00dd=_0x2d1595=>_0x2d1595*0x48,_0x3addf6={'width':0x3,'height':0x1},_0x5d7e93=await product[_0xc14071(0x24c)](),_0x1d1d3b=new PDFDocument({'margin':_0xfa00dd(0.75),'size':[_0xfa00dd(_0x3addf6[_0xc14071(0x245)]),_0xfa00dd(_0x3addf6[_0xc14071(0x235)])],'bufferPages':!![]}),_0x303779=_0x5d7e93[_0xc14071(0x219)];for(let _0x13ac4c=0x0;_0x13ac4c<=_0x303779;_0x13ac4c++){if(_0x13ac4c!=_0x5d7e93[_0xc14071(0x219)]){const _0x1a3807=_0x5d7e93[_0x13ac4c][_0xc14071(0x225)],_0x140aa4=_0x5d7e93[_0x13ac4c]['primary_code'],_0x714dd2=_0x5d7e93[_0x13ac4c][_0xc14071(0x1ff)],_0xd4f077=_0x5d7e93[_0x13ac4c]['product_code'],_0x1f9625=new Canvas();JsBarcode(_0x1f9625,_0x140aa4,{'format':'CODE128','height':0x32,'displayValue':!![],'text':_0x140aa4}),_0x1d1d3b[_0xc14071(0x216)](_0x1f9625[_0xc14071(0x26e)](),0x0,0x0,{'width':0xd2}),_0x1d1d3b[_0xc14071(0x241)]();}}_0x1d1d3b['pipe'](_0x29fe5d),_0x1d1d3b[_0xc14071(0x25b)]();}catch(_0x4b34d6){console[_0xc14071(0x20a)](_0xc14071(0x286),_0x4b34d6),_0x29fe5d['status'](0x1f4)['send'](_0xc14071(0x247));}}),module[a0_0x40c793(0x206)]=router;