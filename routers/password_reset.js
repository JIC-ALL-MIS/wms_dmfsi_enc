function a0_0x21eb(){const _0x27638c=['3621072GxTaJy','email_reset','Email\x20sent\x20successfully','252198xAZTqS','Error\x20Occurs','True','858972HKoUtT','createTransport','/code_password/','errors','success','error','<strong>\x20Regards\x20</strong>','site_title','False','render','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','find','Password\x20Successfuly\x20Reset\x20-\x20','log','get','/forgotPassword/code/','/view','port','findOne','code','host','/code/','nodemailer','/upload/','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','Logo.png','<div>','logo','</div>','63476WZGjLO','isUsed','/login/',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','express','email_code','name','3209871jbuIqH','../models/all_models','<html><head><title></title>','save','sendMail','</head><body>','random','<h5>','232JRrcUq','<hr\x20class=\x22my-3\x22>','length','email','1443686TIMHpa','Password\x20Reset\x20-\x20','../middleware/auth','219jPRIQj','json','post','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','image','<!DOCTYPE\x20html>','</b></h1></p>','password','</h5>','floor','flash','4994460QKVLWW','hash','/forgotPassword/view','body','/../public','</body></html>','redirect','Router','<p>Hello\x20'];a0_0x21eb=function(){return _0x27638c;};return a0_0x21eb();}const a0_0x127651=a0_0x355c;(function(_0x4de425,_0x59f449){const _0x1eb0de=a0_0x355c,_0x11224b=_0x4de425();while(!![]){try{const _0x3586e3=parseInt(_0x1eb0de(0xbd))/0x1+parseInt(_0x1eb0de(0xed))/0x2+parseInt(_0x1eb0de(0xf0))/0x3*(-parseInt(_0x1eb0de(0xda))/0x4)+parseInt(_0x1eb0de(0xae))/0x5+parseInt(_0x1eb0de(0xb7))/0x6+-parseInt(_0x1eb0de(0xe1))/0x7+parseInt(_0x1eb0de(0xe9))/0x8*(-parseInt(_0x1eb0de(0xba))/0x9);if(_0x3586e3===_0x59f449)break;else _0x11224b['push'](_0x11224b['shift']());}catch(_0x15e093){_0x11224b['push'](_0x11224b['shift']());}}}(a0_0x21eb,0xb7fb7));const express=require(a0_0x127651(0xde)),app=express(),router=express[a0_0x127651(0xb5)](),bcrypt=require('bcryptjs'),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x127651(0xe2)),auth=require(a0_0x127651(0xef)),nodemailer=require(a0_0x127651(0xd3));router[a0_0x127651(0xcb)]('/view',async(_0x1a79b8,_0x483b15)=>{const _0x497f7e=a0_0x127651,_0xcdb86f=await master_shop['find']();_0x483b15[_0x497f7e(0xc6)](_0x497f7e(0xb8),{'success':_0x1a79b8[_0x497f7e(0xad)](_0x497f7e(0xc1)),'errors':_0x1a79b8[_0x497f7e(0xad)]('errors'),'master_shop':_0xcdb86f});});function generateRandomAlphanumericString(_0x1b5574=0x6){const _0x519b33=a0_0x127651,_0x5517b0='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';let _0x111b4a='';for(let _0xd3ac27=0x0;_0xd3ac27<_0x1b5574;_0xd3ac27++){const _0xaa6c98=Math[_0x519b33(0xac)](Math[_0x519b33(0xe7)]()*_0x5517b0[_0x519b33(0xeb)]);_0x111b4a+=_0x5517b0[_0xaa6c98];}return _0x111b4a;}function a0_0x355c(_0x4f722e,_0x1aa9c1){const _0x21ebb4=a0_0x21eb();return a0_0x355c=function(_0x355cd7,_0x2227f3){_0x355cd7=_0x355cd7-0xa5;let _0x444749=_0x21ebb4[_0x355cd7];return _0x444749;},a0_0x355c(_0x4f722e,_0x1aa9c1);}router[a0_0x127651(0xa5)](a0_0x127651(0xcd),async(_0x20cdba,_0x788fc9)=>{const _0x57c28b=a0_0x127651,{email:_0xe89897}=_0x20cdba[_0x57c28b(0xb1)],_0x18212c=await sing_up[_0x57c28b(0xcf)]({'email':_0xe89897});var _0x32b790=generateRandomAlphanumericString();const _0x5bc74b=await bcrypt['hash'](_0x32b790,0xa);if(_0x18212c){_0x18212c[_0x57c28b(0xd0)]=_0x32b790,_0x18212c[_0x57c28b(0xdb)]=_0x57c28b(0xc5);const _0x3900eb=_0x18212c[_0x57c28b(0xe4)](),_0x17a97b=await master_shop[_0x57c28b(0xc8)](),_0x2a3f96=await email_settings[_0x57c28b(0xcf)]();let _0x47599b=nodemailer[_0x57c28b(0xbe)]({'host':_0x2a3f96[_0x57c28b(0xd1)],'port':Number(_0x2a3f96['port']),'secure':![],'auth':{'user':_0x2a3f96[_0x57c28b(0xec)],'pass':_0x2a3f96[_0x57c28b(0xaa)]}}),_0x2427fe={'from':_0x2a3f96[_0x57c28b(0xec)],'to':_0x18212c['email'],'subject':_0x57c28b(0xee)+_0x17a97b[0x0][_0x57c28b(0xc4)],'attachments':[{'filename':_0x57c28b(0xd6),'path':__dirname+_0x57c28b(0xb2)+'/upload/'+_0x17a97b[0x0][_0x57c28b(0xa7)],'cid':_0x57c28b(0xd8)}],'html':_0x57c28b(0xa8)+_0x57c28b(0xe3)+_0x57c28b(0xe6)+'<div>'+_0x57c28b(0xc7)+'<div>'+_0x57c28b(0xd5)+_0x57c28b(0xd9)+'</div>'+_0x57c28b(0xd7)+'<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>'+_0x32b790+_0x57c28b(0xa9)+_0x57c28b(0xd9)+_0x57c28b(0xea)+_0x57c28b(0xd7)+_0x57c28b(0xc3)+_0x57c28b(0xe8)+_0x17a97b[0x0][_0x57c28b(0xc4)]+_0x57c28b(0xab)+_0x57c28b(0xd9)+_0x57c28b(0xd9)+_0x57c28b(0xb3)};_0x47599b[_0x57c28b(0xe5)](_0x2427fe,function(_0x5ed49e,_0x231084){const _0x10cf0d=_0x57c28b;_0x5ed49e?(console[_0x10cf0d(0xca)](_0x5ed49e),console['log'](_0x10cf0d(0xbb))):console[_0x10cf0d(0xca)]('Email\x20sent\x20successfully');}),_0x788fc9[_0x57c28b(0xb4)](_0x57c28b(0xcc));}else _0x20cdba[_0x57c28b(0xad)](_0x57c28b(0xc2),_0x57c28b(0xa6)),_0x788fc9['redirect'](_0x57c28b(0xb0));}),router[a0_0x127651(0xcb)](a0_0x127651(0xd2),async(_0x85b7df,_0x918a04)=>{const _0x21b52f=a0_0x127651,_0x1f58f2=await master_shop[_0x21b52f(0xc8)]();_0x918a04['render'](_0x21b52f(0xdf),{'success':_0x85b7df['flash'](_0x21b52f(0xc1)),'errors':_0x85b7df['flash'](_0x21b52f(0xc0)),'master_shop':_0x1f58f2});}),router[a0_0x127651(0xa5)](a0_0x127651(0xd2),async(_0x43ccdd,_0x4d4f2c)=>{const _0x25d449=a0_0x127651,{code:_0x28be3b}=_0x43ccdd[_0x25d449(0xb1)],_0x48b177=await sing_up['find']({'code':_0x28be3b});console[_0x25d449(0xca)](_0x48b177[_0x25d449(0xeb)]),_0x4d4f2c[_0x25d449(0xf1)](_0x48b177);}),router[a0_0x127651(0xa5)](a0_0x127651(0xbf),async(_0x5d8ce6,_0x2bd75a)=>{const _0x2d8e3c=a0_0x127651,{codex:_0x1d92e6,password:_0x128383,cpassword:_0x28d630,email:_0x38085a}=_0x5d8ce6[_0x2d8e3c(0xb1)],_0x15ac76=await sing_up[_0x2d8e3c(0xcf)]({'code':_0x1d92e6,'email':_0x38085a,'isUsed':_0x2d8e3c(0xc5)}),_0x2b1159=await bcrypt[_0x2d8e3c(0xaf)](_0x128383,0xa);if(_0x15ac76){_0x15ac76[_0x2d8e3c(0xaa)]=_0x2b1159,_0x15ac76[_0x2d8e3c(0xdb)]=_0x2d8e3c(0xbc);const _0x36e056=_0x15ac76[_0x2d8e3c(0xe4)](),_0x4645df=await master_shop['find'](),_0x185b7d=await email_settings[_0x2d8e3c(0xcf)]();let _0x313d58=nodemailer[_0x2d8e3c(0xbe)]({'host':_0x185b7d[_0x2d8e3c(0xd1)],'port':Number(_0x185b7d[_0x2d8e3c(0xce)]),'secure':![],'auth':{'user':_0x185b7d[_0x2d8e3c(0xec)],'pass':_0x185b7d[_0x2d8e3c(0xaa)]}}),_0x182a79={'from':_0x185b7d[_0x2d8e3c(0xec)],'to':_0x15ac76[_0x2d8e3c(0xec)],'subject':_0x2d8e3c(0xc9)+_0x4645df[0x0][_0x2d8e3c(0xc4)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x2d8e3c(0xb2)+_0x2d8e3c(0xd4)+_0x4645df[0x0]['image'],'cid':_0x2d8e3c(0xd8)}],'html':_0x2d8e3c(0xa8)+_0x2d8e3c(0xe3)+_0x2d8e3c(0xe6)+_0x2d8e3c(0xd7)+_0x2d8e3c(0xc7)+_0x2d8e3c(0xd7)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+'</div>'+_0x2d8e3c(0xd9)+'<div>'+_0x2d8e3c(0xb6)+_0x15ac76[_0x2d8e3c(0xe0)]+_0x2d8e3c(0xdd)+'</div>'+_0x2d8e3c(0xea)+'<div>'+'<strong>\x20Regards\x20</strong>'+_0x2d8e3c(0xe8)+_0x4645df[0x0][_0x2d8e3c(0xc4)]+_0x2d8e3c(0xab)+'</div>'+_0x2d8e3c(0xd9)+_0x2d8e3c(0xb3)};_0x313d58[_0x2d8e3c(0xe5)](_0x182a79,function(_0x555ba6,_0x36a855){const _0x201bec=_0x2d8e3c;_0x555ba6?(console[_0x201bec(0xca)](_0x555ba6),console['log']('Error\x20Occurs')):console[_0x201bec(0xca)](_0x201bec(0xb9));}),_0x2bd75a['redirect'](_0x2d8e3c(0xdc));}else _0x5d8ce6[_0x2d8e3c(0xad)](_0x2d8e3c(0xc2),_0x2d8e3c(0xa6)),_0x2bd75a[_0x2d8e3c(0xb4)]('/forgotPassword/code');}),module['exports']=router;