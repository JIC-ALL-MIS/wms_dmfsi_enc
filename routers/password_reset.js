function a0_0x473f(_0x2cddbc,_0x24fb7c){const _0x215b03=a0_0x215b();return a0_0x473f=function(_0x473f10,_0x336513){_0x473f10=_0x473f10-0x14f;let _0x99617c=_0x215b03[_0x473f10];return _0x99617c;},a0_0x473f(_0x2cddbc,_0x24fb7c);}const a0_0x5e2622=a0_0x473f;(function(_0x271290,_0x5a7ad2){const _0x178eaa=a0_0x473f,_0x1821eb=_0x271290();while(!![]){try{const _0xda6adb=-parseInt(_0x178eaa(0x165))/0x1+-parseInt(_0x178eaa(0x15c))/0x2+parseInt(_0x178eaa(0x151))/0x3*(parseInt(_0x178eaa(0x173))/0x4)+-parseInt(_0x178eaa(0x17b))/0x5*(parseInt(_0x178eaa(0x188))/0x6)+-parseInt(_0x178eaa(0x190))/0x7*(-parseInt(_0x178eaa(0x195))/0x8)+-parseInt(_0x178eaa(0x183))/0x9*(-parseInt(_0x178eaa(0x161))/0xa)+parseInt(_0x178eaa(0x157))/0xb*(parseInt(_0x178eaa(0x162))/0xc);if(_0xda6adb===_0x5a7ad2)break;else _0x1821eb['push'](_0x1821eb['shift']());}catch(_0x317a00){_0x1821eb['push'](_0x1821eb['shift']());}}}(a0_0x215b,0xa71ca));const express=require(a0_0x5e2622(0x150)),app=express(),router=express[a0_0x5e2622(0x160)](),bcrypt=require(a0_0x5e2622(0x152)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x5e2622(0x156)),auth=require(a0_0x5e2622(0x191)),nodemailer=require('nodemailer');router[a0_0x5e2622(0x177)]('/view',async(_0xc90366,_0x3b4bb2)=>{const _0xb598c3=a0_0x5e2622,_0x69f180=await master_shop[_0xb598c3(0x154)]();_0x3b4bb2[_0xb598c3(0x182)]('email_reset',{'success':_0xc90366['flash'](_0xb598c3(0x175)),'errors':_0xc90366[_0xb598c3(0x15a)]('errors'),'master_shop':_0x69f180});});function a0_0x215b(){const _0x1b6b09=['log','Password\x20Reset\x20-\x20','/forgotPassword/view','False','</div>','/view','isUsed','/code/','Logo.png','<div>','300968kWpJuF','</b></h1></p>','success','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','get','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','<hr\x20class=\x22my-3\x22>','</head><body>','35PcoePR','Error\x20Occurs','</h5>','redirect','<!DOCTYPE\x20html>','Email\x20sent\x20successfully','post','render','61281ieMBSg','</body></html>','name','floor','error','959388ICCPFj','errors','password','save','body','<strong>\x20Regards\x20</strong>','Password\x20Successfuly\x20Reset\x20-\x20','<p>Hello\x20','7CYdOzW','../middleware/auth','/upload/','/forgotPassword/code','port','7711336Qggbkv','site_title','/code_password/','<html><head><title></title>','email','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','logo','hash','express','36eGdnVw','bcryptjs','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','find','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','../models/all_models','183139ikaFto','host','/../public','flash','createTransport','1125460JUmxyZ','exports','sendMail','code','Router','430kNUFAB','492IPupYk',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','/forgotPassword/code/','475711FNHRWc','image','findOne','random'];a0_0x215b=function(){return _0x1b6b09;};return a0_0x215b();}function generateRandomAlphanumericString(_0x4f2c02=0x6){const _0x1f4c92=a0_0x5e2622,_0x49b15e=_0x1f4c92(0x178);let _0x59d268='';for(let _0x2d60b7=0x0;_0x2d60b7<_0x4f2c02;_0x2d60b7++){const _0x5657e2=Math[_0x1f4c92(0x186)](Math[_0x1f4c92(0x168)]()*_0x49b15e['length']);_0x59d268+=_0x49b15e[_0x5657e2];}return _0x59d268;}router[a0_0x5e2622(0x181)](a0_0x5e2622(0x16e),async(_0x357e3b,_0x4821df)=>{const _0x1effd1=a0_0x5e2622,{email:_0x4ebc1d}=_0x357e3b[_0x1effd1(0x18c)],_0x1b8854=await sing_up[_0x1effd1(0x167)]({'email':_0x4ebc1d});var _0x15ab5d=generateRandomAlphanumericString();const _0x3aba87=await bcrypt['hash'](_0x15ab5d,0xa);if(_0x1b8854){_0x1b8854[_0x1effd1(0x15f)]=_0x15ab5d,_0x1b8854[_0x1effd1(0x16f)]=_0x1effd1(0x16c);const _0x22b709=_0x1b8854['save'](),_0xe2476e=await master_shop[_0x1effd1(0x154)](),_0x402b38=await email_settings['findOne']();let _0x50233f=nodemailer['createTransport']({'host':_0x402b38[_0x1effd1(0x158)],'port':Number(_0x402b38[_0x1effd1(0x194)]),'secure':![],'auth':{'user':_0x402b38[_0x1effd1(0x199)],'pass':_0x402b38['password']}}),_0x4a7b16={'from':_0x402b38[_0x1effd1(0x199)],'to':_0x1b8854['email'],'subject':_0x1effd1(0x16a)+_0xe2476e[0x0][_0x1effd1(0x196)],'attachments':[{'filename':_0x1effd1(0x171),'path':__dirname+'/../public'+_0x1effd1(0x192)+_0xe2476e[0x0][_0x1effd1(0x166)],'cid':_0x1effd1(0x19b)}],'html':_0x1effd1(0x17f)+_0x1effd1(0x198)+_0x1effd1(0x17a)+'<div>'+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+'<div>'+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x1effd1(0x16d)+_0x1effd1(0x16d)+_0x1effd1(0x172)+_0x1effd1(0x155)+_0x15ab5d+_0x1effd1(0x174)+'</div>'+_0x1effd1(0x179)+_0x1effd1(0x172)+_0x1effd1(0x18d)+'<h5>'+_0xe2476e[0x0][_0x1effd1(0x196)]+_0x1effd1(0x17d)+_0x1effd1(0x16d)+_0x1effd1(0x16d)+_0x1effd1(0x184)};_0x50233f[_0x1effd1(0x15e)](_0x4a7b16,function(_0x24a1cf,_0x1f069a){const _0x435ec6=_0x1effd1;_0x24a1cf?(console[_0x435ec6(0x169)](_0x24a1cf),console[_0x435ec6(0x169)](_0x435ec6(0x17c))):console[_0x435ec6(0x169)](_0x435ec6(0x180));}),_0x4821df[_0x1effd1(0x17e)](_0x1effd1(0x164));}else _0x357e3b['flash'](_0x1effd1(0x187),_0x1effd1(0x176)),_0x4821df[_0x1effd1(0x17e)](_0x1effd1(0x16b));}),router[a0_0x5e2622(0x177)](a0_0x5e2622(0x170),async(_0x13f47d,_0x3c050e)=>{const _0x3cb620=a0_0x5e2622,_0xe8e99=await master_shop[_0x3cb620(0x154)]();_0x3c050e[_0x3cb620(0x182)]('email_code',{'success':_0x13f47d[_0x3cb620(0x15a)](_0x3cb620(0x175)),'errors':_0x13f47d[_0x3cb620(0x15a)](_0x3cb620(0x189)),'master_shop':_0xe8e99});}),router[a0_0x5e2622(0x181)]('/code/',async(_0x3b6eb1,_0xa65f01)=>{const _0xe44552=a0_0x5e2622,{code:_0x39ee4d}=_0x3b6eb1[_0xe44552(0x18c)],_0x758e21=await sing_up[_0xe44552(0x154)]({'code':_0x39ee4d});console['log'](_0x758e21['length']),_0xa65f01['json'](_0x758e21);}),router[a0_0x5e2622(0x181)](a0_0x5e2622(0x197),async(_0x4a761c,_0x44bf01)=>{const _0x2f2e17=a0_0x5e2622,{codex:_0x1c37ef,password:_0x55789d,cpassword:_0x259ba1,email:_0x461f90}=_0x4a761c[_0x2f2e17(0x18c)],_0x41db86=await sing_up[_0x2f2e17(0x167)]({'code':_0x1c37ef,'email':_0x461f90,'isUsed':_0x2f2e17(0x16c)}),_0x18bfaf=await bcrypt[_0x2f2e17(0x14f)](_0x55789d,0xa);if(_0x41db86){_0x41db86[_0x2f2e17(0x18a)]=_0x18bfaf,_0x41db86['isUsed']='True';const _0x359847=_0x41db86[_0x2f2e17(0x18b)](),_0x4d7cbb=await master_shop[_0x2f2e17(0x154)](),_0xf43f68=await email_settings['findOne']();let _0x3cd162=nodemailer[_0x2f2e17(0x15b)]({'host':_0xf43f68[_0x2f2e17(0x158)],'port':Number(_0xf43f68[_0x2f2e17(0x194)]),'secure':![],'auth':{'user':_0xf43f68['email'],'pass':_0xf43f68[_0x2f2e17(0x18a)]}}),_0x234f78={'from':_0xf43f68[_0x2f2e17(0x199)],'to':_0x41db86[_0x2f2e17(0x199)],'subject':_0x2f2e17(0x18e)+_0x4d7cbb[0x0][_0x2f2e17(0x196)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x2f2e17(0x159)+_0x2f2e17(0x192)+_0x4d7cbb[0x0][_0x2f2e17(0x166)],'cid':'logo'}],'html':_0x2f2e17(0x17f)+_0x2f2e17(0x198)+'</head><body>'+_0x2f2e17(0x172)+_0x2f2e17(0x19a)+'<div>'+_0x2f2e17(0x153)+_0x2f2e17(0x16d)+'</div>'+_0x2f2e17(0x172)+_0x2f2e17(0x18f)+_0x41db86[_0x2f2e17(0x185)]+_0x2f2e17(0x163)+'</div>'+_0x2f2e17(0x179)+_0x2f2e17(0x172)+_0x2f2e17(0x18d)+'<h5>'+_0x4d7cbb[0x0][_0x2f2e17(0x196)]+_0x2f2e17(0x17d)+_0x2f2e17(0x16d)+_0x2f2e17(0x16d)+_0x2f2e17(0x184)};_0x3cd162[_0x2f2e17(0x15e)](_0x234f78,function(_0x1f8767,_0x3761b8){const _0x355726=_0x2f2e17;_0x1f8767?(console[_0x355726(0x169)](_0x1f8767),console[_0x355726(0x169)]('Error\x20Occurs')):console[_0x355726(0x169)](_0x355726(0x180));}),_0x44bf01['redirect']('/login/');}else _0x4a761c[_0x2f2e17(0x15a)](_0x2f2e17(0x187),_0x2f2e17(0x176)),_0x44bf01[_0x2f2e17(0x17e)](_0x2f2e17(0x193));}),module[a0_0x5e2622(0x15d)]=router;