function a0_0x3390(_0x5d9750,_0x3703eb){const _0x3ea3bc=a0_0x3ea3();return a0_0x3390=function(_0x33904c,_0x5890f6){_0x33904c=_0x33904c-0xab;let _0x58bae1=_0x3ea3bc[_0x33904c];return _0x58bae1;},a0_0x3390(_0x5d9750,_0x3703eb);}const a0_0xd42725=a0_0x3390;function a0_0x3ea3(){const _0x3010eb=['10581588TgkUrI','email_reset','save','random','bcryptjs','success','render','1488056QlgiAb','redirect','error','exports','<!DOCTYPE\x20html>','post','/forgotPassword/code','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','/forgotPassword/view','</h5>','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','flash','376518lagBVT','443727NOjLGB','<hr\x20class=\x22my-3\x22>','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','581MdweDL','Password\x20Successfuly\x20Reset\x20-\x20','<div>','../models/all_models','image','1296380lbaVMa','Router','</head><body>','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','password','True','find','log','2317290LdHmyI','../middleware/auth','host','port','26104wCkslI','logo','Email\x20sent\x20successfully','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','createTransport','sendMail','<h5>','email','Logo.png','length','</div>','json','Error\x20Occurs','</body></html>','isUsed','False',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','5iortsj','name','get','findOne','floor','body','nodemailer','site_title','code','<html><head><title></title>','/../public','errors','email_code','<strong>\x20Regards\x20</strong>','/forgotPassword/code/','/upload/','express'];a0_0x3ea3=function(){return _0x3010eb;};return a0_0x3ea3();}(function(_0xcd40cb,_0x3429ae){const _0x581713=a0_0x3390,_0xfd0d42=_0xcd40cb();while(!![]){try{const _0x4c08c3=-parseInt(_0x581713(0xc7))/0x1+parseInt(_0x581713(0xba))/0x2+-parseInt(_0x581713(0xd7))/0x3+-parseInt(_0x581713(0xcf))/0x4+parseInt(_0x581713(0xec))/0x5*(-parseInt(_0x581713(0xc6))/0x6)+parseInt(_0x581713(0xca))/0x7*(parseInt(_0x581713(0xdb))/0x8)+parseInt(_0x581713(0xb3))/0x9;if(_0x4c08c3===_0x3429ae)break;else _0xfd0d42['push'](_0xfd0d42['shift']());}catch(_0x37efc8){_0xfd0d42['push'](_0xfd0d42['shift']());}}}(a0_0x3ea3,0x8f740));const express=require(a0_0xd42725(0xb2)),app=express(),router=express[a0_0xd42725(0xd0)](),bcrypt=require(a0_0xd42725(0xb7)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0xd42725(0xcd)),auth=require(a0_0xd42725(0xd8)),nodemailer=require(a0_0xd42725(0xf2));router[a0_0xd42725(0xee)]('/view',async(_0x32a4fb,_0x3718f4)=>{const _0x5881d4=a0_0xd42725,_0x3a8853=await master_shop['find']();_0x3718f4[_0x5881d4(0xb9)](_0x5881d4(0xb4),{'success':_0x32a4fb[_0x5881d4(0xc5)](_0x5881d4(0xb8)),'errors':_0x32a4fb[_0x5881d4(0xc5)]('errors'),'master_shop':_0x3a8853});});function generateRandomAlphanumericString(_0x1ec050=0x6){const _0x5635f0=a0_0xd42725,_0x1e859d=_0x5635f0(0xc9);let _0x285da4='';for(let _0x1abd91=0x0;_0x1abd91<_0x1ec050;_0x1abd91++){const _0x19bc7f=Math[_0x5635f0(0xf0)](Math[_0x5635f0(0xb6)]()*_0x1e859d[_0x5635f0(0xe4)]);_0x285da4+=_0x1e859d[_0x19bc7f];}return _0x285da4;}router[a0_0xd42725(0xbf)]('/view',async(_0x134571,_0x5d4086)=>{const _0x30fb4a=a0_0xd42725,{email:_0x2fae8e}=_0x134571['body'],_0x4cb1ed=await sing_up['findOne']({'email':_0x2fae8e});var _0x1b6e97=generateRandomAlphanumericString();const _0x300676=await bcrypt['hash'](_0x1b6e97,0xa);if(_0x4cb1ed){_0x4cb1ed[_0x30fb4a(0xf4)]=_0x1b6e97,_0x4cb1ed[_0x30fb4a(0xe9)]=_0x30fb4a(0xea);const _0x1700e4=_0x4cb1ed[_0x30fb4a(0xb5)](),_0x39a060=await master_shop['find'](),_0x2a9a47=await email_settings[_0x30fb4a(0xef)]();let _0x1568a3=nodemailer[_0x30fb4a(0xdf)]({'host':_0x2a9a47[_0x30fb4a(0xd9)],'port':Number(_0x2a9a47['port']),'secure':![],'auth':{'user':_0x2a9a47[_0x30fb4a(0xe2)],'pass':_0x2a9a47[_0x30fb4a(0xd3)]}}),_0x1a2f3e={'from':_0x2a9a47[_0x30fb4a(0xe2)],'to':_0x4cb1ed[_0x30fb4a(0xe2)],'subject':'Password\x20Reset\x20-\x20'+_0x39a060[0x0][_0x30fb4a(0xf3)],'attachments':[{'filename':_0x30fb4a(0xe3),'path':__dirname+'/../public'+_0x30fb4a(0xb1)+_0x39a060[0x0][_0x30fb4a(0xce)],'cid':_0x30fb4a(0xdc)}],'html':'<!DOCTYPE\x20html>'+_0x30fb4a(0xab)+'</head><body>'+_0x30fb4a(0xcc)+_0x30fb4a(0xc4)+_0x30fb4a(0xcc)+_0x30fb4a(0xc1)+_0x30fb4a(0xe5)+'</div>'+'<div>'+_0x30fb4a(0xd2)+_0x1b6e97+'</b></h1></p>'+'</div>'+_0x30fb4a(0xc8)+_0x30fb4a(0xcc)+_0x30fb4a(0xaf)+'<h5>'+_0x39a060[0x0]['site_title']+_0x30fb4a(0xc3)+_0x30fb4a(0xe5)+_0x30fb4a(0xe5)+_0x30fb4a(0xe8)};_0x1568a3[_0x30fb4a(0xe0)](_0x1a2f3e,function(_0x4c4855,_0x2a4dd5){const _0x3a794f=_0x30fb4a;_0x4c4855?(console[_0x3a794f(0xd6)](_0x4c4855),console[_0x3a794f(0xd6)](_0x3a794f(0xe7))):console[_0x3a794f(0xd6)](_0x3a794f(0xdd));}),_0x5d4086[_0x30fb4a(0xbb)](_0x30fb4a(0xb0));}else _0x134571[_0x30fb4a(0xc5)](_0x30fb4a(0xbc),_0x30fb4a(0xde)),_0x5d4086[_0x30fb4a(0xbb)](_0x30fb4a(0xc2));}),router[a0_0xd42725(0xee)]('/code/',async(_0x4270d7,_0x13f4cc)=>{const _0x1d508e=a0_0xd42725,_0x136814=await master_shop['find']();_0x13f4cc[_0x1d508e(0xb9)](_0x1d508e(0xae),{'success':_0x4270d7[_0x1d508e(0xc5)](_0x1d508e(0xb8)),'errors':_0x4270d7['flash'](_0x1d508e(0xad)),'master_shop':_0x136814});}),router[a0_0xd42725(0xbf)]('/code/',async(_0x208207,_0x3fe926)=>{const _0x7cfe4=a0_0xd42725,{code:_0x33cc71}=_0x208207[_0x7cfe4(0xf1)],_0x4f8a87=await sing_up[_0x7cfe4(0xd5)]({'code':_0x33cc71});console[_0x7cfe4(0xd6)](_0x4f8a87[_0x7cfe4(0xe4)]),_0x3fe926[_0x7cfe4(0xe6)](_0x4f8a87);}),router[a0_0xd42725(0xbf)]('/code_password/',async(_0x13bc09,_0x168fa8)=>{const _0x5461a1=a0_0xd42725,{codex:_0x59f2f3,password:_0x196f72,cpassword:_0x6645d4,email:_0x4f01bf}=_0x13bc09[_0x5461a1(0xf1)],_0xf3e16b=await sing_up[_0x5461a1(0xef)]({'code':_0x59f2f3,'email':_0x4f01bf,'isUsed':'False'}),_0x8fb986=await bcrypt['hash'](_0x196f72,0xa);if(_0xf3e16b){_0xf3e16b['password']=_0x8fb986,_0xf3e16b[_0x5461a1(0xe9)]=_0x5461a1(0xd4);const _0x3c8c20=_0xf3e16b['save'](),_0x4a1264=await master_shop[_0x5461a1(0xd5)](),_0x52a97b=await email_settings[_0x5461a1(0xef)]();let _0x2e4720=nodemailer[_0x5461a1(0xdf)]({'host':_0x52a97b[_0x5461a1(0xd9)],'port':Number(_0x52a97b[_0x5461a1(0xda)]),'secure':![],'auth':{'user':_0x52a97b[_0x5461a1(0xe2)],'pass':_0x52a97b[_0x5461a1(0xd3)]}}),_0x422326={'from':_0x52a97b[_0x5461a1(0xe2)],'to':_0xf3e16b['email'],'subject':_0x5461a1(0xcb)+_0x4a1264[0x0][_0x5461a1(0xf3)],'attachments':[{'filename':_0x5461a1(0xe3),'path':__dirname+_0x5461a1(0xac)+_0x5461a1(0xb1)+_0x4a1264[0x0][_0x5461a1(0xce)],'cid':_0x5461a1(0xdc)}],'html':_0x5461a1(0xbe)+'<html><head><title></title>'+_0x5461a1(0xd1)+_0x5461a1(0xcc)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x5461a1(0xcc)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+'</div>'+_0x5461a1(0xe5)+_0x5461a1(0xcc)+'<p>Hello\x20'+_0xf3e16b[_0x5461a1(0xed)]+_0x5461a1(0xeb)+_0x5461a1(0xe5)+_0x5461a1(0xc8)+_0x5461a1(0xcc)+_0x5461a1(0xaf)+_0x5461a1(0xe1)+_0x4a1264[0x0][_0x5461a1(0xf3)]+_0x5461a1(0xc3)+_0x5461a1(0xe5)+_0x5461a1(0xe5)+_0x5461a1(0xe8)};_0x2e4720['sendMail'](_0x422326,function(_0x2e03a2,_0x2c074d){const _0x1b3570=_0x5461a1;_0x2e03a2?(console['log'](_0x2e03a2),console[_0x1b3570(0xd6)](_0x1b3570(0xe7))):console[_0x1b3570(0xd6)](_0x1b3570(0xdd));}),_0x168fa8[_0x5461a1(0xbb)]('/login/');}else _0x13bc09[_0x5461a1(0xc5)](_0x5461a1(0xbc),_0x5461a1(0xde)),_0x168fa8[_0x5461a1(0xbb)](_0x5461a1(0xc0));}),module[a0_0xd42725(0xbd)]=router;