function a0_0x4640(){const _0x3327b2=['body','password','123537ZslwzR','findOne','post','1344065ZsurSD','<h5>','/forgotPassword/code/','hash','</h5>','port','<!DOCTYPE\x20html>','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','48YqoNqI','<p>Hello\x20','createTransport','</div>','length','<html><head><title></title>','save','code','1209656ddxicT','/view','email_reset','host','../models/all_models','/forgotPassword/view','name','Error\x20Occurs','/upload/','json','False','46650DHrBIW','email','../middleware/auth','floor','<strong>\x20Regards\x20</strong>','468BpYQsJ','Email\x20sent\x20successfully',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','32950ynIHgz','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','/forgotPassword/code','<hr\x20class=\x22my-3\x22>','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','1085720fkAtAG','bcryptjs','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','Password\x20Successfuly\x20Reset\x20-\x20','</b></h1></p>','email_code','Logo.png','find','get','True','/code_password/','render','/code/','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','isUsed','sendMail','/../public','</body></html>','redirect','image','Password\x20Reset\x20-\x20','site_title','errors','log','600954UlbtbA','logo','<div>','12UuKyQM','/login/','flash','error'];a0_0x4640=function(){return _0x3327b2;};return a0_0x4640();}function a0_0xcc76(_0x549948,_0x21dc9d){const _0x4640f6=a0_0x4640();return a0_0xcc76=function(_0xcc7671,_0x3aba2a){_0xcc7671=_0xcc7671-0x6d;let _0x39591e=_0x4640f6[_0xcc7671];return _0x39591e;},a0_0xcc76(_0x549948,_0x21dc9d);}const a0_0x277b4f=a0_0xcc76;(function(_0x5cd746,_0x1ab10e){const _0x1f79dc=a0_0xcc76,_0x4f5638=_0x5cd746();while(!![]){try{const _0x384d14=parseInt(_0x1f79dc(0x6e))/0x1+parseInt(_0x1f79dc(0xb1))/0x2+parseInt(_0x1f79dc(0x8c))/0x3*(-parseInt(_0x1f79dc(0x79))/0x4)+parseInt(_0x1f79dc(0x71))/0x5+parseInt(_0x1f79dc(0xb4))/0x6*(-parseInt(_0x1f79dc(0x81))/0x7)+-parseInt(_0x1f79dc(0x99))/0x8+parseInt(_0x1f79dc(0x91))/0x9*(parseInt(_0x1f79dc(0x94))/0xa);if(_0x384d14===_0x1ab10e)break;else _0x4f5638['push'](_0x4f5638['shift']());}catch(_0x40b98d){_0x4f5638['push'](_0x4f5638['shift']());}}}(a0_0x4640,0x2fe8c));const express=require('express'),app=express(),router=express['Router'](),bcrypt=require(a0_0x277b4f(0x9a)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x277b4f(0x85)),auth=require(a0_0x277b4f(0x8e)),nodemailer=require('nodemailer');router[a0_0x277b4f(0xa1)](a0_0x277b4f(0x82),async(_0x3761a9,_0x430ac8)=>{const _0x23045e=a0_0x277b4f,_0x288ded=await master_shop[_0x23045e(0xa0)]();_0x430ac8[_0x23045e(0xa4)](_0x23045e(0x83),{'success':_0x3761a9[_0x23045e(0xb6)]('success'),'errors':_0x3761a9['flash'](_0x23045e(0xaf)),'master_shop':_0x288ded});});function generateRandomAlphanumericString(_0x28c702=0x6){const _0x19dbd7=a0_0x277b4f,_0x1aac82=_0x19dbd7(0x9b);let _0x5db221='';for(let _0x22fdf0=0x0;_0x22fdf0<_0x28c702;_0x22fdf0++){const _0x4eda36=Math[_0x19dbd7(0x8f)](Math['random']()*_0x1aac82['length']);_0x5db221+=_0x1aac82[_0x4eda36];}return _0x5db221;}router[a0_0x277b4f(0x70)]('/view',async(_0x461646,_0x2cd17f)=>{const _0x1fccb1=a0_0x277b4f,{email:_0x9e4aaa}=_0x461646[_0x1fccb1(0xb8)],_0x49385=await sing_up['findOne']({'email':_0x9e4aaa});var _0x4b7838=generateRandomAlphanumericString();const _0x48a0c7=await bcrypt[_0x1fccb1(0x74)](_0x4b7838,0xa);if(_0x49385){_0x49385[_0x1fccb1(0x80)]=_0x4b7838,_0x49385[_0x1fccb1(0xa7)]=_0x1fccb1(0x8b);const _0x585b40=_0x49385[_0x1fccb1(0x7f)](),_0x3a2955=await master_shop[_0x1fccb1(0xa0)](),_0x5ff881=await email_settings[_0x1fccb1(0x6f)]();let _0x3eeb55=nodemailer[_0x1fccb1(0x7b)]({'host':_0x5ff881['host'],'port':Number(_0x5ff881[_0x1fccb1(0x76)]),'secure':![],'auth':{'user':_0x5ff881[_0x1fccb1(0x8d)],'pass':_0x5ff881[_0x1fccb1(0x6d)]}}),_0x170e15={'from':_0x5ff881['email'],'to':_0x49385['email'],'subject':_0x1fccb1(0xad)+_0x3a2955[0x0][_0x1fccb1(0xae)],'attachments':[{'filename':_0x1fccb1(0x9f),'path':__dirname+_0x1fccb1(0xa9)+_0x1fccb1(0x89)+_0x3a2955[0x0][_0x1fccb1(0xac)],'cid':'logo'}],'html':_0x1fccb1(0x77)+'<html><head><title></title>'+'</head><body>'+'<div>'+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x1fccb1(0xb3)+_0x1fccb1(0xa6)+'</div>'+_0x1fccb1(0x7c)+'<div>'+_0x1fccb1(0x78)+_0x4b7838+_0x1fccb1(0x9d)+'</div>'+_0x1fccb1(0x97)+'<div>'+_0x1fccb1(0x90)+_0x1fccb1(0x72)+_0x3a2955[0x0]['site_title']+_0x1fccb1(0x75)+_0x1fccb1(0x7c)+_0x1fccb1(0x7c)+_0x1fccb1(0xaa)};_0x3eeb55['sendMail'](_0x170e15,function(_0x372758,_0x5a79c6){const _0x4af3b3=_0x1fccb1;_0x372758?(console['log'](_0x372758),console['log'](_0x4af3b3(0x88))):console[_0x4af3b3(0xb0)](_0x4af3b3(0x92));}),_0x2cd17f['redirect'](_0x1fccb1(0x73));}else _0x461646[_0x1fccb1(0xb6)](_0x1fccb1(0xb7),_0x1fccb1(0x95)),_0x2cd17f[_0x1fccb1(0xab)](_0x1fccb1(0x86));}),router[a0_0x277b4f(0xa1)](a0_0x277b4f(0xa5),async(_0x54c38b,_0x177b19)=>{const _0x55020d=a0_0x277b4f,_0x1ef3dd=await master_shop[_0x55020d(0xa0)]();_0x177b19[_0x55020d(0xa4)](_0x55020d(0x9e),{'success':_0x54c38b[_0x55020d(0xb6)]('success'),'errors':_0x54c38b[_0x55020d(0xb6)]('errors'),'master_shop':_0x1ef3dd});}),router[a0_0x277b4f(0x70)]('/code/',async(_0x7afc23,_0x128ef8)=>{const _0x1a7ac7=a0_0x277b4f,{code:_0x232097}=_0x7afc23['body'],_0x2541cd=await sing_up[_0x1a7ac7(0xa0)]({'code':_0x232097});console['log'](_0x2541cd[_0x1a7ac7(0x7d)]),_0x128ef8[_0x1a7ac7(0x8a)](_0x2541cd);}),router['post'](a0_0x277b4f(0xa3),async(_0x38b21a,_0x2c14d2)=>{const _0x1c3f14=a0_0x277b4f,{codex:_0x2bb554,password:_0x5cc2d0,cpassword:_0x5d9945,email:_0x2e45e6}=_0x38b21a[_0x1c3f14(0xb8)],_0xf593d=await sing_up[_0x1c3f14(0x6f)]({'code':_0x2bb554,'email':_0x2e45e6,'isUsed':_0x1c3f14(0x8b)}),_0x35425d=await bcrypt[_0x1c3f14(0x74)](_0x5cc2d0,0xa);if(_0xf593d){_0xf593d['password']=_0x35425d,_0xf593d[_0x1c3f14(0xa7)]=_0x1c3f14(0xa2);const _0x2fa7cb=_0xf593d[_0x1c3f14(0x7f)](),_0x20384c=await master_shop['find'](),_0x278923=await email_settings[_0x1c3f14(0x6f)]();let _0x338aa6=nodemailer[_0x1c3f14(0x7b)]({'host':_0x278923[_0x1c3f14(0x84)],'port':Number(_0x278923[_0x1c3f14(0x76)]),'secure':![],'auth':{'user':_0x278923['email'],'pass':_0x278923[_0x1c3f14(0x6d)]}}),_0x39c7e4={'from':_0x278923[_0x1c3f14(0x8d)],'to':_0xf593d[_0x1c3f14(0x8d)],'subject':_0x1c3f14(0x9c)+_0x20384c[0x0]['site_title'],'attachments':[{'filename':_0x1c3f14(0x9f),'path':__dirname+'/../public'+_0x1c3f14(0x89)+_0x20384c[0x0][_0x1c3f14(0xac)],'cid':_0x1c3f14(0xb2)}],'html':'<!DOCTYPE\x20html>'+_0x1c3f14(0x7e)+'</head><body>'+_0x1c3f14(0xb3)+_0x1c3f14(0x98)+_0x1c3f14(0xb3)+_0x1c3f14(0xa6)+_0x1c3f14(0x7c)+_0x1c3f14(0x7c)+_0x1c3f14(0xb3)+_0x1c3f14(0x7a)+_0xf593d[_0x1c3f14(0x87)]+_0x1c3f14(0x93)+_0x1c3f14(0x7c)+_0x1c3f14(0x97)+_0x1c3f14(0xb3)+_0x1c3f14(0x90)+'<h5>'+_0x20384c[0x0][_0x1c3f14(0xae)]+_0x1c3f14(0x75)+_0x1c3f14(0x7c)+'</div>'+_0x1c3f14(0xaa)};_0x338aa6[_0x1c3f14(0xa8)](_0x39c7e4,function(_0xe62e26,_0x26295e){const _0x205ea7=_0x1c3f14;_0xe62e26?(console[_0x205ea7(0xb0)](_0xe62e26),console['log'](_0x205ea7(0x88))):console[_0x205ea7(0xb0)](_0x205ea7(0x92));}),_0x2c14d2[_0x1c3f14(0xab)](_0x1c3f14(0xb5));}else _0x38b21a[_0x1c3f14(0xb6)](_0x1c3f14(0xb7),_0x1c3f14(0x95)),_0x2c14d2[_0x1c3f14(0xab)](_0x1c3f14(0x96));}),module['exports']=router;