const a0_0x381ce1=a0_0x24f7;function a0_0x24f7(_0x40741c,_0x158cff){const _0x711eef=a0_0x711e();return a0_0x24f7=function(_0x24f745,_0x4b413b){_0x24f745=_0x24f745-0x94;let _0x8af6a8=_0x711eef[_0x24f745];return _0x8af6a8;},a0_0x24f7(_0x40741c,_0x158cff);}(function(_0x518306,_0x3be9e8){const _0x35627e=a0_0x24f7,_0x32d7b7=_0x518306();while(!![]){try{const _0x270808=-parseInt(_0x35627e(0xc8))/0x1*(-parseInt(_0x35627e(0xc1))/0x2)+-parseInt(_0x35627e(0xcf))/0x3*(-parseInt(_0x35627e(0xd1))/0x4)+-parseInt(_0x35627e(0x94))/0x5+parseInt(_0x35627e(0x96))/0x6*(parseInt(_0x35627e(0xa5))/0x7)+-parseInt(_0x35627e(0x97))/0x8+-parseInt(_0x35627e(0xb6))/0x9*(-parseInt(_0x35627e(0xd3))/0xa)+parseInt(_0x35627e(0x99))/0xb*(-parseInt(_0x35627e(0xda))/0xc);if(_0x270808===_0x3be9e8)break;else _0x32d7b7['push'](_0x32d7b7['shift']());}catch(_0x313549){_0x32d7b7['push'](_0x32d7b7['shift']());}}}(a0_0x711e,0x874c8));const express=require('express'),app=express(),router=express['Router'](),bcrypt=require('bcryptjs'),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x381ce1(0xc4)),auth=require(a0_0x381ce1(0x9b)),nodemailer=require(a0_0x381ce1(0xb7));function a0_0x711e(){const _0x4a527b=['flash','<hr\x20class=\x22my-3\x22>','host','body','find','12168fgvXxM','Password\x20Successfuly\x20Reset\x20-\x20','password','160690uSYBWM','image','929580FGHXTy','5454280xVmHQt','port','8118VQszkQ','log','../middleware/auth','</div>','sendMail','isUsed','name','/login/','<p>Hello\x20','Logo.png','logo','errors','7Uqjbbp','success','</body></html>','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','save','json','Email\x20sent\x20successfully','Password\x20Reset\x20-\x20','error','floor','email','/view','<div>','email_code','/forgotPassword/view','get','length','774pwLHea','nodemailer','post','</h5>','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','/forgotPassword/code/','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','<html><head><title></title>','code','redirect','226qmopmb','<strong>\x20Regards\x20</strong>','createTransport','../models/all_models','/../public','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','True','3323DrbYsA','</b></h1></p>','/upload/','render','hash','site_title','<!DOCTYPE\x20html>','111kPWNNo','exports','100896FCZugB','findOne','64270HGqOVR',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>'];a0_0x711e=function(){return _0x4a527b;};return a0_0x711e();}router[a0_0x381ce1(0xb4)](a0_0x381ce1(0xb0),async(_0x33c02b,_0xf2ac5e)=>{const _0x3909f7=a0_0x381ce1,_0x1348d0=await master_shop['find']();_0xf2ac5e['render']('email_reset',{'success':_0x33c02b[_0x3909f7(0xd5)](_0x3909f7(0xa6)),'errors':_0x33c02b[_0x3909f7(0xd5)](_0x3909f7(0xa4)),'master_shop':_0x1348d0});});function generateRandomAlphanumericString(_0x35575c=0x6){const _0x2e63ef=a0_0x381ce1,_0x2f76c9=_0x2e63ef(0xc6);let _0x4b7695='';for(let _0x5af3d2=0x0;_0x5af3d2<_0x35575c;_0x5af3d2++){const _0x1bfe05=Math[_0x2e63ef(0xae)](Math['random']()*_0x2f76c9['length']);_0x4b7695+=_0x2f76c9[_0x1bfe05];}return _0x4b7695;}router[a0_0x381ce1(0xb8)]('/view',async(_0x5e4913,_0x27be29)=>{const _0x458967=a0_0x381ce1,{email:_0x12bd74}=_0x5e4913[_0x458967(0xd8)],_0x4378fc=await sing_up['findOne']({'email':_0x12bd74});var _0x1c01f4=generateRandomAlphanumericString();const _0xe4585e=await bcrypt[_0x458967(0xcc)](_0x1c01f4,0xa);if(_0x4378fc){_0x4378fc[_0x458967(0xbf)]=_0x1c01f4,_0x4378fc[_0x458967(0x9e)]='False';const _0x2c5287=_0x4378fc[_0x458967(0xa9)](),_0x40910a=await master_shop[_0x458967(0xd9)](),_0x14ad06=await email_settings[_0x458967(0xd2)]();let _0x59ad63=nodemailer[_0x458967(0xc3)]({'host':_0x14ad06[_0x458967(0xd7)],'port':Number(_0x14ad06[_0x458967(0x98)]),'secure':![],'auth':{'user':_0x14ad06[_0x458967(0xaf)],'pass':_0x14ad06['password']}}),_0x5d053e={'from':_0x14ad06[_0x458967(0xaf)],'to':_0x4378fc[_0x458967(0xaf)],'subject':_0x458967(0xac)+_0x40910a[0x0][_0x458967(0xcd)],'attachments':[{'filename':_0x458967(0xa2),'path':__dirname+_0x458967(0xc5)+_0x458967(0xca)+_0x40910a[0x0][_0x458967(0x95)],'cid':_0x458967(0xa3)}],'html':_0x458967(0xce)+_0x458967(0xbe)+'</head><body>'+_0x458967(0xb1)+_0x458967(0xa8)+_0x458967(0xb1)+_0x458967(0xba)+_0x458967(0x9c)+'</div>'+_0x458967(0xb1)+_0x458967(0xbd)+_0x1c01f4+_0x458967(0xc9)+_0x458967(0x9c)+_0x458967(0xd6)+_0x458967(0xb1)+_0x458967(0xc2)+'<h5>'+_0x40910a[0x0]['site_title']+'</h5>'+_0x458967(0x9c)+'</div>'+'</body></html>'};_0x59ad63[_0x458967(0x9d)](_0x5d053e,function(_0x214c6e,_0xf9a7f1){const _0xdf5467=_0x458967;_0x214c6e?(console[_0xdf5467(0x9a)](_0x214c6e),console[_0xdf5467(0x9a)]('Error\x20Occurs')):console[_0xdf5467(0x9a)](_0xdf5467(0xab));}),_0x27be29[_0x458967(0xc0)](_0x458967(0xbb));}else _0x5e4913['flash'](_0x458967(0xad),_0x458967(0xbc)),_0x27be29['redirect'](_0x458967(0xb3));}),router[a0_0x381ce1(0xb4)]('/code/',async(_0x9c9140,_0xda4644)=>{const _0x53e46f=a0_0x381ce1,_0xf666db=await master_shop[_0x53e46f(0xd9)]();_0xda4644[_0x53e46f(0xcb)](_0x53e46f(0xb2),{'success':_0x9c9140['flash'](_0x53e46f(0xa6)),'errors':_0x9c9140[_0x53e46f(0xd5)](_0x53e46f(0xa4)),'master_shop':_0xf666db});}),router[a0_0x381ce1(0xb8)]('/code/',async(_0x260f91,_0x278f1c)=>{const _0x45b328=a0_0x381ce1,{code:_0x289daa}=_0x260f91[_0x45b328(0xd8)],_0x2a2480=await sing_up[_0x45b328(0xd9)]({'code':_0x289daa});console[_0x45b328(0x9a)](_0x2a2480[_0x45b328(0xb5)]),_0x278f1c[_0x45b328(0xaa)](_0x2a2480);}),router[a0_0x381ce1(0xb8)]('/code_password/',async(_0x5e0e00,_0x553ac3)=>{const _0xdf4078=a0_0x381ce1,{codex:_0x5d628e,password:_0xf0d3be,cpassword:_0x42e09c,email:_0x26d063}=_0x5e0e00['body'],_0x3693de=await sing_up[_0xdf4078(0xd2)]({'code':_0x5d628e,'email':_0x26d063,'isUsed':'False'}),_0x268f80=await bcrypt['hash'](_0xf0d3be,0xa);if(_0x3693de){_0x3693de[_0xdf4078(0xdc)]=_0x268f80,_0x3693de[_0xdf4078(0x9e)]=_0xdf4078(0xc7);const _0x49680d=_0x3693de[_0xdf4078(0xa9)](),_0x4f3209=await master_shop['find'](),_0x5eea9d=await email_settings[_0xdf4078(0xd2)]();let _0x1571e9=nodemailer[_0xdf4078(0xc3)]({'host':_0x5eea9d[_0xdf4078(0xd7)],'port':Number(_0x5eea9d[_0xdf4078(0x98)]),'secure':![],'auth':{'user':_0x5eea9d[_0xdf4078(0xaf)],'pass':_0x5eea9d['password']}}),_0x335c15={'from':_0x5eea9d[_0xdf4078(0xaf)],'to':_0x3693de[_0xdf4078(0xaf)],'subject':_0xdf4078(0xdb)+_0x4f3209[0x0][_0xdf4078(0xcd)],'attachments':[{'filename':'Logo.png','path':__dirname+_0xdf4078(0xc5)+'/upload/'+_0x4f3209[0x0]['image'],'cid':_0xdf4078(0xa3)}],'html':_0xdf4078(0xce)+_0xdf4078(0xbe)+'</head><body>'+'<div>'+_0xdf4078(0xa8)+_0xdf4078(0xb1)+_0xdf4078(0xba)+_0xdf4078(0x9c)+_0xdf4078(0x9c)+'<div>'+_0xdf4078(0xa1)+_0x3693de[_0xdf4078(0x9f)]+_0xdf4078(0xd4)+'</div>'+_0xdf4078(0xd6)+'<div>'+_0xdf4078(0xc2)+'<h5>'+_0x4f3209[0x0][_0xdf4078(0xcd)]+_0xdf4078(0xb9)+_0xdf4078(0x9c)+_0xdf4078(0x9c)+_0xdf4078(0xa7)};_0x1571e9[_0xdf4078(0x9d)](_0x335c15,function(_0x3b2721,_0x4eebff){const _0x1cfd3a=_0xdf4078;_0x3b2721?(console[_0x1cfd3a(0x9a)](_0x3b2721),console[_0x1cfd3a(0x9a)]('Error\x20Occurs')):console[_0x1cfd3a(0x9a)](_0x1cfd3a(0xab));}),_0x553ac3[_0xdf4078(0xc0)](_0xdf4078(0xa0));}else _0x5e0e00['flash'](_0xdf4078(0xad),_0xdf4078(0xbc)),_0x553ac3[_0xdf4078(0xc0)]('/forgotPassword/code');}),module[a0_0x381ce1(0xd0)]=router;