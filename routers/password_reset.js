function a0_0x6c77(_0x31d972,_0x1b00bc){const _0x3a9df8=a0_0x3a9d();return a0_0x6c77=function(_0x6c775d,_0x411a72){_0x6c775d=_0x6c775d-0x98;let _0x2b7b64=_0x3a9df8[_0x6c775d];return _0x2b7b64;},a0_0x6c77(_0x31d972,_0x1b00bc);}const a0_0x246239=a0_0x6c77;(function(_0x574024,_0x5b01d1){const _0x2fbf34=a0_0x6c77,_0x43e90c=_0x574024();while(!![]){try{const _0x20c094=parseInt(_0x2fbf34(0xbd))/0x1+parseInt(_0x2fbf34(0xbf))/0x2*(-parseInt(_0x2fbf34(0x9b))/0x3)+parseInt(_0x2fbf34(0x9e))/0x4+-parseInt(_0x2fbf34(0xb5))/0x5*(parseInt(_0x2fbf34(0xd6))/0x6)+parseInt(_0x2fbf34(0xb0))/0x7+parseInt(_0x2fbf34(0xc3))/0x8+-parseInt(_0x2fbf34(0xa7))/0x9;if(_0x20c094===_0x5b01d1)break;else _0x43e90c['push'](_0x43e90c['shift']());}catch(_0x2e5627){_0x43e90c['push'](_0x43e90c['shift']());}}}(a0_0x3a9d,0x696e5));const express=require(a0_0x246239(0xab)),app=express(),router=express['Router'](),bcrypt=require('bcryptjs'),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x246239(0xa5)),auth=require(a0_0x246239(0xb2)),nodemailer=require(a0_0x246239(0xad));router[a0_0x246239(0xd3)]('/view',async(_0x3fbb47,_0x21bc7e)=>{const _0x382d70=a0_0x246239,_0x455e61=await master_shop[_0x382d70(0xd7)]();_0x21bc7e['render']('email_reset',{'success':_0x3fbb47[_0x382d70(0xcc)]('success'),'errors':_0x3fbb47[_0x382d70(0xcc)](_0x382d70(0x98)),'master_shop':_0x455e61});});function generateRandomAlphanumericString(_0x5234aa=0x6){const _0x33cc33=a0_0x246239,_0x1b9a1a='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';let _0x771afb='';for(let _0x3f5675=0x0;_0x3f5675<_0x5234aa;_0x3f5675++){const _0x31c55d=Math[_0x33cc33(0xb7)](Math[_0x33cc33(0xaf)]()*_0x1b9a1a[_0x33cc33(0x9f)]);_0x771afb+=_0x1b9a1a[_0x31c55d];}return _0x771afb;}router[a0_0x246239(0xd1)](a0_0x246239(0xc9),async(_0x13352c,_0x23e021)=>{const _0x1c43ec=a0_0x246239,{email:_0x2f8694}=_0x13352c['body'],_0x43b24d=await sing_up['findOne']({'email':_0x2f8694});var _0x31e7e2=generateRandomAlphanumericString();const _0x46fd5a=await bcrypt[_0x1c43ec(0xc4)](_0x31e7e2,0xa);if(_0x43b24d){_0x43b24d[_0x1c43ec(0xb4)]=_0x31e7e2,_0x43b24d[_0x1c43ec(0xa9)]=_0x1c43ec(0xc8);const _0x3b5049=_0x43b24d[_0x1c43ec(0xb1)](),_0x447128=await master_shop[_0x1c43ec(0xd7)](),_0xdfe1c4=await email_settings['findOne']();let _0x3c221f=nodemailer['createTransport']({'host':_0xdfe1c4['host'],'port':Number(_0xdfe1c4[_0x1c43ec(0xd2)]),'secure':![],'auth':{'user':_0xdfe1c4[_0x1c43ec(0xdd)],'pass':_0xdfe1c4['password']}}),_0x33baea={'from':_0xdfe1c4['email'],'to':_0x43b24d[_0x1c43ec(0xdd)],'subject':'Password\x20Reset\x20-\x20'+_0x447128[0x0][_0x1c43ec(0xdb)],'attachments':[{'filename':_0x1c43ec(0xdc),'path':__dirname+_0x1c43ec(0xbe)+'/upload/'+_0x447128[0x0][_0x1c43ec(0xc6)],'cid':_0x1c43ec(0xd4)}],'html':_0x1c43ec(0x99)+_0x1c43ec(0xa4)+_0x1c43ec(0xb8)+_0x1c43ec(0xba)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x1c43ec(0xba)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x1c43ec(0xcf)+'</div>'+_0x1c43ec(0xba)+_0x1c43ec(0xa2)+_0x31e7e2+'</b></h1></p>'+_0x1c43ec(0xcf)+_0x1c43ec(0xbb)+'<div>'+_0x1c43ec(0xa6)+_0x1c43ec(0xb3)+_0x447128[0x0][_0x1c43ec(0xdb)]+'</h5>'+'</div>'+_0x1c43ec(0xcf)+_0x1c43ec(0x9d)};_0x3c221f[_0x1c43ec(0xae)](_0x33baea,function(_0x605ef1,_0x509953){const _0x17b1d0=_0x1c43ec;_0x605ef1?(console[_0x17b1d0(0xbc)](_0x605ef1),console[_0x17b1d0(0xbc)](_0x17b1d0(0xca))):console[_0x17b1d0(0xbc)](_0x17b1d0(0xb9));}),_0x23e021[_0x1c43ec(0xd9)](_0x1c43ec(0xac));}else _0x13352c['flash'](_0x1c43ec(0x9a),_0x1c43ec(0xd5)),_0x23e021[_0x1c43ec(0xd9)](_0x1c43ec(0xc0));}),router[a0_0x246239(0xd3)](a0_0x246239(0xc1),async(_0x1b8e3f,_0x53d8)=>{const _0x1724b9=a0_0x246239,_0x5421b0=await master_shop['find']();_0x53d8[_0x1724b9(0xc7)](_0x1724b9(0xda),{'success':_0x1b8e3f[_0x1724b9(0xcc)](_0x1724b9(0xaa)),'errors':_0x1b8e3f[_0x1724b9(0xcc)]('errors'),'master_shop':_0x5421b0});}),router[a0_0x246239(0xd1)](a0_0x246239(0xc1),async(_0x978e6a,_0x2423aa)=>{const _0x127215=a0_0x246239,{code:_0x3e7398}=_0x978e6a['body'],_0x476980=await sing_up[_0x127215(0xd7)]({'code':_0x3e7398});console[_0x127215(0xbc)](_0x476980[_0x127215(0x9f)]),_0x2423aa['json'](_0x476980);}),router[a0_0x246239(0xd1)](a0_0x246239(0xcd),async(_0x33195e,_0x9606a0)=>{const _0x2e9987=a0_0x246239,{codex:_0xf74e69,password:_0x19370d,cpassword:_0xcb5e07,email:_0x1b84dd}=_0x33195e[_0x2e9987(0xce)],_0x48f0ce=await sing_up[_0x2e9987(0xd0)]({'code':_0xf74e69,'email':_0x1b84dd,'isUsed':_0x2e9987(0xc8)}),_0x34b5cf=await bcrypt[_0x2e9987(0xc4)](_0x19370d,0xa);if(_0x48f0ce){_0x48f0ce[_0x2e9987(0xd8)]=_0x34b5cf,_0x48f0ce[_0x2e9987(0xa9)]=_0x2e9987(0xa1);const _0x315577=_0x48f0ce[_0x2e9987(0xb1)](),_0x132622=await master_shop[_0x2e9987(0xd7)](),_0x274dce=await email_settings[_0x2e9987(0xd0)]();let _0x40b879=nodemailer['createTransport']({'host':_0x274dce[_0x2e9987(0xcb)],'port':Number(_0x274dce[_0x2e9987(0xd2)]),'secure':![],'auth':{'user':_0x274dce['email'],'pass':_0x274dce[_0x2e9987(0xd8)]}}),_0x3a0ead={'from':_0x274dce[_0x2e9987(0xdd)],'to':_0x48f0ce['email'],'subject':_0x2e9987(0xb6)+_0x132622[0x0][_0x2e9987(0xdb)],'attachments':[{'filename':_0x2e9987(0xdc),'path':__dirname+_0x2e9987(0xbe)+'/upload/'+_0x132622[0x0][_0x2e9987(0xc6)],'cid':_0x2e9987(0xd4)}],'html':'<!DOCTYPE\x20html>'+_0x2e9987(0xa4)+'</head><body>'+_0x2e9987(0xba)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x2e9987(0xba)+_0x2e9987(0xa3)+_0x2e9987(0xcf)+_0x2e9987(0xcf)+_0x2e9987(0xba)+'<p>Hello\x20'+_0x48f0ce[_0x2e9987(0xc2)]+',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>'+_0x2e9987(0xcf)+_0x2e9987(0xbb)+_0x2e9987(0xba)+_0x2e9987(0xa6)+_0x2e9987(0xb3)+_0x132622[0x0]['site_title']+_0x2e9987(0xc5)+_0x2e9987(0xcf)+_0x2e9987(0xcf)+'</body></html>'};_0x40b879['sendMail'](_0x3a0ead,function(_0x3ba509,_0x48b22d){const _0xe9fe92=_0x2e9987;_0x3ba509?(console[_0xe9fe92(0xbc)](_0x3ba509),console[_0xe9fe92(0xbc)](_0xe9fe92(0xca))):console['log'](_0xe9fe92(0xb9));}),_0x9606a0['redirect'](_0x2e9987(0x9c));}else _0x33195e['flash']('error','Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x9606a0[_0x2e9987(0xd9)](_0x2e9987(0xa8));}),module[a0_0x246239(0xa0)]=router;function a0_0x3a9d(){const _0x3533f9=['220510yHIxNV','/forgotPassword/view','/code/','name','2951880HplAry','hash','</h5>','image','render','False','/view','Error\x20Occurs','host','flash','/code_password/','body','</div>','findOne','post','port','get','logo','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','12NWXNOF','find','password','redirect','email_code','site_title','Logo.png','email','errors','<!DOCTYPE\x20html>','error','3oaEYxd','/login/','</body></html>','1525756hTaKbW','length','exports','True','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','<html><head><title></title>','../models/all_models','<strong>\x20Regards\x20</strong>','6052203TysZtY','/forgotPassword/code','isUsed','success','express','/forgotPassword/code/','nodemailer','sendMail','random','4356205URtdch','save','../middleware/auth','<h5>','code','1297235SfmIcS','Password\x20Successfuly\x20Reset\x20-\x20','floor','</head><body>','Email\x20sent\x20successfully','<div>','<hr\x20class=\x22my-3\x22>','log','360722NBQagA','/../public'];a0_0x3a9d=function(){return _0x3533f9;};return a0_0x3a9d();}