const a0_0x5eb27c=a0_0x11f3;(function(_0x41c98c,_0x2737a9){const _0x547eae=a0_0x11f3,_0x46bc8e=_0x41c98c();while(!![]){try{const _0x31f0a8=-parseInt(_0x547eae(0x99))/0x1+-parseInt(_0x547eae(0x8e))/0x2*(parseInt(_0x547eae(0x8f))/0x3)+-parseInt(_0x547eae(0xa1))/0x4+-parseInt(_0x547eae(0x89))/0x5+-parseInt(_0x547eae(0x96))/0x6*(parseInt(_0x547eae(0x75))/0x7)+parseInt(_0x547eae(0x6d))/0x8*(parseInt(_0x547eae(0x94))/0x9)+parseInt(_0x547eae(0x72))/0xa;if(_0x31f0a8===_0x2737a9)break;else _0x46bc8e['push'](_0x46bc8e['shift']());}catch(_0x420ab0){_0x46bc8e['push'](_0x46bc8e['shift']());}}}(a0_0x4701,0xb6f99));const express=require(a0_0x5eb27c(0xb3)),app=express(),router=express[a0_0x5eb27c(0x9a)](),bcrypt=require(a0_0x5eb27c(0x8b)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x5eb27c(0xa8)),auth=require(a0_0x5eb27c(0x7f)),nodemailer=require(a0_0x5eb27c(0xab));router[a0_0x5eb27c(0x6a)](a0_0x5eb27c(0x76),async(_0x138e37,_0x434b9a)=>{const _0x208da0=a0_0x5eb27c,_0x2b5067=await master_shop[_0x208da0(0xa7)]();_0x434b9a[_0x208da0(0x68)](_0x208da0(0xb5),{'success':_0x138e37[_0x208da0(0x82)](_0x208da0(0x7c)),'errors':_0x138e37[_0x208da0(0x82)]('errors'),'master_shop':_0x2b5067});});function generateRandomAlphanumericString(_0x227a60=0x6){const _0x1a45ff=a0_0x5eb27c,_0xe6377d=_0x1a45ff(0xb0);let _0x3fed87='';for(let _0x4a3016=0x0;_0x4a3016<_0x227a60;_0x4a3016++){const _0xb8de0d=Math[_0x1a45ff(0xaf)](Math[_0x1a45ff(0xb1)]()*_0xe6377d['length']);_0x3fed87+=_0xe6377d[_0xb8de0d];}return _0x3fed87;}function a0_0x4701(){const _0x11ad2e=['host','<strong>\x20Regards\x20</strong>','image','save','find','../models/all_models','log','exports','nodemailer','error','/forgotPassword/code/','Email\x20sent\x20successfully','floor','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','random','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','express','createTransport','email_reset','<!DOCTYPE\x20html>','Password\x20Successfuly\x20Reset\x20-\x20','render','<hr\x20class=\x22my-3\x22>','get','port','errors','8tqjrWF','logo','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','sendMail','</body></html>','27446320TvObWq','email','email_code','7357Qfgish','/view','/code/','Error\x20Occurs','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','</h5>','findOne','success',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','hash','../middleware/auth','/../public','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','flash','isUsed','/forgotPassword/view','<p>Hello\x20','</div>','False','/login/','2921730SFlQIJ','<h5>','bcryptjs','<div>','/code_password/','3282sGlvwv','477DBlFOC','</head><body>','Logo.png','code','site_title','11520153HYizBF','Password\x20Reset\x20-\x20','4482oMwcHN','body','True','749622fkYUqp','Router','redirect','/forgotPassword/code','json','name','post','/upload/','3580800dXOFMG','password'];a0_0x4701=function(){return _0x11ad2e;};return a0_0x4701();}function a0_0x11f3(_0x3d0c24,_0x177c49){const _0x470107=a0_0x4701();return a0_0x11f3=function(_0x11f3aa,_0x73daf1){_0x11f3aa=_0x11f3aa-0x67;let _0x41c931=_0x470107[_0x11f3aa];return _0x41c931;},a0_0x11f3(_0x3d0c24,_0x177c49);}router[a0_0x5eb27c(0x9f)]('/view',async(_0x493b5e,_0x422948)=>{const _0x46a29e=a0_0x5eb27c,{email:_0xbc36ec}=_0x493b5e[_0x46a29e(0x97)],_0x1ca3c0=await sing_up[_0x46a29e(0x7b)]({'email':_0xbc36ec});var _0x5c48e7=generateRandomAlphanumericString();const _0xc65518=await bcrypt[_0x46a29e(0x7e)](_0x5c48e7,0xa);if(_0x1ca3c0){_0x1ca3c0[_0x46a29e(0x92)]=_0x5c48e7,_0x1ca3c0[_0x46a29e(0x83)]=_0x46a29e(0x87);const _0x433ebe=_0x1ca3c0[_0x46a29e(0xa6)](),_0x8c1494=await master_shop[_0x46a29e(0xa7)](),_0x24699e=await email_settings['findOne']();let _0x45fd15=nodemailer[_0x46a29e(0xb4)]({'host':_0x24699e[_0x46a29e(0xa3)],'port':Number(_0x24699e[_0x46a29e(0x6b)]),'secure':![],'auth':{'user':_0x24699e['email'],'pass':_0x24699e['password']}}),_0x573abc={'from':_0x24699e['email'],'to':_0x1ca3c0[_0x46a29e(0x73)],'subject':_0x46a29e(0x95)+_0x8c1494[0x0]['site_title'],'attachments':[{'filename':'Logo.png','path':__dirname+'/../public'+_0x46a29e(0xa0)+_0x8c1494[0x0][_0x46a29e(0xa5)],'cid':_0x46a29e(0x6e)}],'html':_0x46a29e(0xb6)+'<html><head><title></title>'+_0x46a29e(0x90)+'<div>'+_0x46a29e(0x6f)+_0x46a29e(0x8c)+_0x46a29e(0xb2)+_0x46a29e(0x86)+_0x46a29e(0x86)+'<div>'+_0x46a29e(0x79)+_0x5c48e7+'</b></h1></p>'+_0x46a29e(0x86)+_0x46a29e(0x69)+'<div>'+_0x46a29e(0xa4)+_0x46a29e(0x8a)+_0x8c1494[0x0][_0x46a29e(0x93)]+_0x46a29e(0x7a)+'</div>'+_0x46a29e(0x86)+'</body></html>'};_0x45fd15[_0x46a29e(0x70)](_0x573abc,function(_0x4b6666,_0x36a461){const _0x418c3d=_0x46a29e;_0x4b6666?(console[_0x418c3d(0xa9)](_0x4b6666),console[_0x418c3d(0xa9)](_0x418c3d(0x78))):console['log']('Email\x20sent\x20successfully');}),_0x422948[_0x46a29e(0x9b)](_0x46a29e(0xad));}else _0x493b5e[_0x46a29e(0x82)](_0x46a29e(0xac),_0x46a29e(0x81)),_0x422948[_0x46a29e(0x9b)](_0x46a29e(0x84));}),router[a0_0x5eb27c(0x6a)](a0_0x5eb27c(0x77),async(_0x2226fc,_0x17439c)=>{const _0x2168d6=a0_0x5eb27c,_0x1c2ba1=await master_shop[_0x2168d6(0xa7)]();_0x17439c[_0x2168d6(0x68)](_0x2168d6(0x74),{'success':_0x2226fc['flash']('success'),'errors':_0x2226fc[_0x2168d6(0x82)](_0x2168d6(0x6c)),'master_shop':_0x1c2ba1});}),router[a0_0x5eb27c(0x9f)]('/code/',async(_0x2c3df0,_0x2ce110)=>{const _0x177a02=a0_0x5eb27c,{code:_0x3c3256}=_0x2c3df0[_0x177a02(0x97)],_0x21a889=await sing_up['find']({'code':_0x3c3256});console[_0x177a02(0xa9)](_0x21a889['length']),_0x2ce110[_0x177a02(0x9d)](_0x21a889);}),router['post'](a0_0x5eb27c(0x8d),async(_0x219fa3,_0x1a7ff3)=>{const _0x1b172c=a0_0x5eb27c,{codex:_0x5d7dc8,password:_0x52c067,cpassword:_0x459dbe,email:_0xad8b59}=_0x219fa3[_0x1b172c(0x97)],_0x151b48=await sing_up[_0x1b172c(0x7b)]({'code':_0x5d7dc8,'email':_0xad8b59,'isUsed':_0x1b172c(0x87)}),_0x4a8d71=await bcrypt[_0x1b172c(0x7e)](_0x52c067,0xa);if(_0x151b48){_0x151b48[_0x1b172c(0xa2)]=_0x4a8d71,_0x151b48[_0x1b172c(0x83)]=_0x1b172c(0x98);const _0x4b02b=_0x151b48[_0x1b172c(0xa6)](),_0x550485=await master_shop[_0x1b172c(0xa7)](),_0x1af8a8=await email_settings['findOne']();let _0x5ac0a4=nodemailer[_0x1b172c(0xb4)]({'host':_0x1af8a8[_0x1b172c(0xa3)],'port':Number(_0x1af8a8[_0x1b172c(0x6b)]),'secure':![],'auth':{'user':_0x1af8a8[_0x1b172c(0x73)],'pass':_0x1af8a8[_0x1b172c(0xa2)]}}),_0x151aee={'from':_0x1af8a8[_0x1b172c(0x73)],'to':_0x151b48[_0x1b172c(0x73)],'subject':_0x1b172c(0x67)+_0x550485[0x0]['site_title'],'attachments':[{'filename':_0x1b172c(0x91),'path':__dirname+_0x1b172c(0x80)+'/upload/'+_0x550485[0x0][_0x1b172c(0xa5)],'cid':_0x1b172c(0x6e)}],'html':_0x1b172c(0xb6)+'<html><head><title></title>'+_0x1b172c(0x90)+_0x1b172c(0x8c)+_0x1b172c(0x6f)+_0x1b172c(0x8c)+_0x1b172c(0xb2)+_0x1b172c(0x86)+_0x1b172c(0x86)+_0x1b172c(0x8c)+_0x1b172c(0x85)+_0x151b48[_0x1b172c(0x9e)]+_0x1b172c(0x7d)+_0x1b172c(0x86)+'<hr\x20class=\x22my-3\x22>'+'<div>'+_0x1b172c(0xa4)+'<h5>'+_0x550485[0x0]['site_title']+_0x1b172c(0x7a)+_0x1b172c(0x86)+_0x1b172c(0x86)+_0x1b172c(0x71)};_0x5ac0a4[_0x1b172c(0x70)](_0x151aee,function(_0x51ba6e,_0x1c83b5){const _0x5c4601=_0x1b172c;_0x51ba6e?(console[_0x5c4601(0xa9)](_0x51ba6e),console[_0x5c4601(0xa9)](_0x5c4601(0x78))):console['log'](_0x5c4601(0xae));}),_0x1a7ff3[_0x1b172c(0x9b)](_0x1b172c(0x88));}else _0x219fa3[_0x1b172c(0x82)](_0x1b172c(0xac),_0x1b172c(0x81)),_0x1a7ff3[_0x1b172c(0x9b)](_0x1b172c(0x9c));}),module[a0_0x5eb27c(0xaa)]=router;