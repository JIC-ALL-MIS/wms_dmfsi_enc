function a0_0xcb33(_0x58c0ec,_0x168cbe){const _0x2d55b8=a0_0x2d55();return a0_0xcb33=function(_0xcb336d,_0x1a1b3e){_0xcb336d=_0xcb336d-0x18a;let _0x5ccd91=_0x2d55b8[_0xcb336d];return _0x5ccd91;},a0_0xcb33(_0x58c0ec,_0x168cbe);}function a0_0x2d55(){const _0x5a9581=['password','log','host','647184xxqhcj','render','1146615QJzUmx','nodemailer','/view','Router','<hr\x20class=\x22my-3\x22>','<p>Hello\x20','Password\x20Successfuly\x20Reset\x20-\x20','/login/','</b></h1></p>','sendMail','270638tdkYbZ','<h5>','isUsed','email','Email\x20sent\x20successfully','email_reset','name','length','../middleware/auth','389061mayRnH','flash','</div>','redirect','<!DOCTYPE\x20html>','image','body','express','port','3517059asPcXK','/forgotPassword/code','/upload/','Error\x20Occurs','<div>','/../public',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','/code_password/','<html><head><title></title>','findOne','<strong>\x20Regards\x20</strong>','True','get','success','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','False','1453656SpLPgl','</body></html>','bcryptjs','site_title','6fEtlyR','/forgotPassword/view','hash','370eHmTYh','random','find','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','email_code','code','1dVFvMw','Password\x20Reset\x20-\x20','errors','Logo.png','post','</head><body>','</h5>','floor','logo','save','2324200KXTOJj','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'];a0_0x2d55=function(){return _0x5a9581;};return a0_0x2d55();}const a0_0x5acbbd=a0_0xcb33;(function(_0x2c80a9,_0x38cc38){const _0xd617c=a0_0xcb33,_0x3ab425=_0x2c80a9();while(!![]){try{const _0x59f595=-parseInt(_0xd617c(0x19a))/0x1*(parseInt(_0xd617c(0x1b6))/0x2)+-parseInt(_0xd617c(0x1aa))/0x3+-parseInt(_0xd617c(0x18d))/0x4+parseInt(_0xd617c(0x1ac))/0x5+-parseInt(_0xd617c(0x191))/0x6*(parseInt(_0xd617c(0x1c8))/0x7)+-parseInt(_0xd617c(0x1a4))/0x8+parseInt(_0xd617c(0x1bf))/0x9*(parseInt(_0xd617c(0x194))/0xa);if(_0x59f595===_0x38cc38)break;else _0x3ab425['push'](_0x3ab425['shift']());}catch(_0x3d4209){_0x3ab425['push'](_0x3ab425['shift']());}}}(a0_0x2d55,0x4e75d));const express=require(a0_0x5acbbd(0x1c6)),app=express(),router=express[a0_0x5acbbd(0x1af)](),bcrypt=require(a0_0x5acbbd(0x18f)),{sing_up,staff,profile,master_shop,email_settings}=require('../models/all_models'),auth=require(a0_0x5acbbd(0x1be)),nodemailer=require(a0_0x5acbbd(0x1ad));router[a0_0x5acbbd(0x1d4)]('/view',async(_0x343588,_0x445725)=>{const _0x149616=a0_0x5acbbd,_0xdff0f4=await master_shop[_0x149616(0x196)]();_0x445725['render'](_0x149616(0x1bb),{'success':_0x343588['flash'](_0x149616(0x1d5)),'errors':_0x343588[_0x149616(0x1c0)](_0x149616(0x19c)),'master_shop':_0xdff0f4});});function generateRandomAlphanumericString(_0x880330=0x6){const _0x59d52a=a0_0x5acbbd,_0x26d9ce=_0x59d52a(0x1a6);let _0x35d0c4='';for(let _0x5b250d=0x0;_0x5b250d<_0x880330;_0x5b250d++){const _0x559c4a=Math[_0x59d52a(0x1a1)](Math[_0x59d52a(0x195)]()*_0x26d9ce[_0x59d52a(0x1bd)]);_0x35d0c4+=_0x26d9ce[_0x559c4a];}return _0x35d0c4;}router[a0_0x5acbbd(0x19e)](a0_0x5acbbd(0x1ae),async(_0x11f632,_0x38010c)=>{const _0x55efc9=a0_0x5acbbd,{email:_0x1d9461}=_0x11f632[_0x55efc9(0x1c5)],_0x286122=await sing_up[_0x55efc9(0x1d1)]({'email':_0x1d9461});var _0x6a889f=generateRandomAlphanumericString();const _0x429110=await bcrypt[_0x55efc9(0x193)](_0x6a889f,0xa);if(_0x286122){_0x286122[_0x55efc9(0x199)]=_0x6a889f,_0x286122[_0x55efc9(0x1b8)]=_0x55efc9(0x18c);const _0x244cd8=_0x286122['save'](),_0x42ade5=await master_shop[_0x55efc9(0x196)](),_0xa4af38=await email_settings[_0x55efc9(0x1d1)]();let _0x45cca5=nodemailer['createTransport']({'host':_0xa4af38['host'],'port':Number(_0xa4af38[_0x55efc9(0x1c7)]),'secure':![],'auth':{'user':_0xa4af38[_0x55efc9(0x1b9)],'pass':_0xa4af38[_0x55efc9(0x1a7)]}}),_0x1fb5d4={'from':_0xa4af38['email'],'to':_0x286122[_0x55efc9(0x1b9)],'subject':_0x55efc9(0x19b)+_0x42ade5[0x0][_0x55efc9(0x190)],'attachments':[{'filename':_0x55efc9(0x19d),'path':__dirname+_0x55efc9(0x1cd)+'/upload/'+_0x42ade5[0x0]['image'],'cid':_0x55efc9(0x1a2)}],'html':_0x55efc9(0x1c3)+_0x55efc9(0x1d0)+_0x55efc9(0x19f)+_0x55efc9(0x1cc)+_0x55efc9(0x197)+_0x55efc9(0x1cc)+_0x55efc9(0x18b)+_0x55efc9(0x1c1)+_0x55efc9(0x1c1)+'<div>'+_0x55efc9(0x1a5)+_0x6a889f+_0x55efc9(0x1b4)+_0x55efc9(0x1c1)+_0x55efc9(0x1b0)+_0x55efc9(0x1cc)+_0x55efc9(0x1d2)+_0x55efc9(0x1b7)+_0x42ade5[0x0][_0x55efc9(0x190)]+_0x55efc9(0x1a0)+_0x55efc9(0x1c1)+_0x55efc9(0x1c1)+'</body></html>'};_0x45cca5[_0x55efc9(0x1b5)](_0x1fb5d4,function(_0x566fc7,_0x320802){const _0x1a2fb0=_0x55efc9;_0x566fc7?(console[_0x1a2fb0(0x1a8)](_0x566fc7),console[_0x1a2fb0(0x1a8)]('Error\x20Occurs')):console[_0x1a2fb0(0x1a8)](_0x1a2fb0(0x1ba));}),_0x38010c[_0x55efc9(0x1c2)]('/forgotPassword/code/');}else _0x11f632[_0x55efc9(0x1c0)]('error',_0x55efc9(0x18a)),_0x38010c[_0x55efc9(0x1c2)](_0x55efc9(0x192));}),router['get']('/code/',async(_0x99a37,_0x3b1f28)=>{const _0x29cf2f=a0_0x5acbbd,_0x23abfe=await master_shop[_0x29cf2f(0x196)]();_0x3b1f28[_0x29cf2f(0x1ab)](_0x29cf2f(0x198),{'success':_0x99a37[_0x29cf2f(0x1c0)](_0x29cf2f(0x1d5)),'errors':_0x99a37['flash'](_0x29cf2f(0x19c)),'master_shop':_0x23abfe});}),router[a0_0x5acbbd(0x19e)]('/code/',async(_0x488030,_0x215a45)=>{const _0x2986f4=a0_0x5acbbd,{code:_0x2f5d41}=_0x488030[_0x2986f4(0x1c5)],_0x5b4bdc=await sing_up[_0x2986f4(0x196)]({'code':_0x2f5d41});console[_0x2986f4(0x1a8)](_0x5b4bdc[_0x2986f4(0x1bd)]),_0x215a45['json'](_0x5b4bdc);}),router[a0_0x5acbbd(0x19e)](a0_0x5acbbd(0x1cf),async(_0x2ba114,_0x39f1a9)=>{const _0x110c2c=a0_0x5acbbd,{codex:_0x57d8c2,password:_0x358ce9,cpassword:_0x1dda2a,email:_0xb1a056}=_0x2ba114[_0x110c2c(0x1c5)],_0x438089=await sing_up[_0x110c2c(0x1d1)]({'code':_0x57d8c2,'email':_0xb1a056,'isUsed':'False'}),_0x11d422=await bcrypt[_0x110c2c(0x193)](_0x358ce9,0xa);if(_0x438089){_0x438089[_0x110c2c(0x1a7)]=_0x11d422,_0x438089[_0x110c2c(0x1b8)]=_0x110c2c(0x1d3);const _0x1eb731=_0x438089[_0x110c2c(0x1a3)](),_0x201627=await master_shop[_0x110c2c(0x196)](),_0x2df6a0=await email_settings[_0x110c2c(0x1d1)]();let _0x23fe23=nodemailer['createTransport']({'host':_0x2df6a0[_0x110c2c(0x1a9)],'port':Number(_0x2df6a0[_0x110c2c(0x1c7)]),'secure':![],'auth':{'user':_0x2df6a0[_0x110c2c(0x1b9)],'pass':_0x2df6a0[_0x110c2c(0x1a7)]}}),_0x182f65={'from':_0x2df6a0[_0x110c2c(0x1b9)],'to':_0x438089[_0x110c2c(0x1b9)],'subject':_0x110c2c(0x1b2)+_0x201627[0x0][_0x110c2c(0x190)],'attachments':[{'filename':_0x110c2c(0x19d),'path':__dirname+'/../public'+_0x110c2c(0x1ca)+_0x201627[0x0][_0x110c2c(0x1c4)],'cid':_0x110c2c(0x1a2)}],'html':'<!DOCTYPE\x20html>'+_0x110c2c(0x1d0)+_0x110c2c(0x19f)+_0x110c2c(0x1cc)+_0x110c2c(0x197)+'<div>'+_0x110c2c(0x18b)+'</div>'+_0x110c2c(0x1c1)+_0x110c2c(0x1cc)+_0x110c2c(0x1b1)+_0x438089[_0x110c2c(0x1bc)]+_0x110c2c(0x1ce)+'</div>'+_0x110c2c(0x1b0)+_0x110c2c(0x1cc)+_0x110c2c(0x1d2)+'<h5>'+_0x201627[0x0][_0x110c2c(0x190)]+'</h5>'+'</div>'+_0x110c2c(0x1c1)+_0x110c2c(0x18e)};_0x23fe23[_0x110c2c(0x1b5)](_0x182f65,function(_0x19bc52,_0x2bc326){const _0x592fdb=_0x110c2c;_0x19bc52?(console['log'](_0x19bc52),console[_0x592fdb(0x1a8)](_0x592fdb(0x1cb))):console[_0x592fdb(0x1a8)](_0x592fdb(0x1ba));}),_0x39f1a9[_0x110c2c(0x1c2)](_0x110c2c(0x1b3));}else _0x2ba114[_0x110c2c(0x1c0)]('error',_0x110c2c(0x18a)),_0x39f1a9['redirect'](_0x110c2c(0x1c9));}),module['exports']=router;