function a0_0x5740(_0x580c0a,_0x3beb3c){const _0x4d50a9=a0_0x4d50();return a0_0x5740=function(_0x574033,_0x199f5d){_0x574033=_0x574033-0x146;let _0x601991=_0x4d50a9[_0x574033];return _0x601991;},a0_0x5740(_0x580c0a,_0x3beb3c);}const a0_0x246420=a0_0x5740;(function(_0x4295a6,_0x117b4a){const _0x5a222f=a0_0x5740,_0xe670cf=_0x4295a6();while(!![]){try{const _0x3e6bb0=parseInt(_0x5a222f(0x152))/0x1+parseInt(_0x5a222f(0x155))/0x2+-parseInt(_0x5a222f(0x17b))/0x3*(parseInt(_0x5a222f(0x14f))/0x4)+parseInt(_0x5a222f(0x154))/0x5*(parseInt(_0x5a222f(0x147))/0x6)+-parseInt(_0x5a222f(0x16c))/0x7*(-parseInt(_0x5a222f(0x150))/0x8)+-parseInt(_0x5a222f(0x178))/0x9+-parseInt(_0x5a222f(0x15c))/0xa;if(_0x3e6bb0===_0x117b4a)break;else _0xe670cf['push'](_0xe670cf['shift']());}catch(_0x45db38){_0xe670cf['push'](_0xe670cf['shift']());}}}(a0_0x4d50,0x77fb2));function a0_0x4d50(){const _0x5bc093=['<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','<strong>\x20Regards\x20</strong>','flash','floor','findOne','2604nplaYO','log','<div>','length','</body></html>','</head><body>','body','host','59836ejfzHs','16ECZYPE','</div>','586927albENx','random','10610ljFXIa','1153998KwVHSB','redirect','<!DOCTYPE\x20html>','site_title','</h5>','email','exports','8957410mrLzcu','<p>Hello\x20','False','hash','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','/forgotPassword/code/','name','createTransport','<h5>','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','<html><head><title></title>','post','render','success','Router','errors','322819BZWuyM','isUsed','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','json','Email\x20sent\x20successfully','/upload/','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','find','image','Logo.png','/view',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','4955229sfZqtS','port','error','48ezCKLH','<hr\x20class=\x22my-3\x22>','../models/all_models','sendMail','save','Password\x20Successfuly\x20Reset\x20-\x20','express','password','</b></h1></p>','Error\x20Occurs','logo','True','/forgotPassword/code','/code/','bcryptjs'];a0_0x4d50=function(){return _0x5bc093;};return a0_0x4d50();}const express=require(a0_0x246420(0x181)),app=express(),router=express[a0_0x246420(0x16a)](),bcrypt=require(a0_0x246420(0x189)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x246420(0x17d)),auth=require('../middleware/auth'),nodemailer=require('nodemailer');router['get'](a0_0x246420(0x176),async(_0x3790de,_0x1cab52)=>{const _0x45893e=a0_0x246420,_0x4a9c69=await master_shop[_0x45893e(0x173)]();_0x1cab52['render']('email_reset',{'success':_0x3790de[_0x45893e(0x18c)]('success'),'errors':_0x3790de[_0x45893e(0x18c)](_0x45893e(0x16b)),'master_shop':_0x4a9c69});});function generateRandomAlphanumericString(_0x2603f7=0x6){const _0x22b5ef=a0_0x246420,_0xbdbd52=_0x22b5ef(0x172);let _0x36da13='';for(let _0x9e5d0d=0x0;_0x9e5d0d<_0x2603f7;_0x9e5d0d++){const _0x38fbb9=Math[_0x22b5ef(0x18d)](Math[_0x22b5ef(0x153)]()*_0xbdbd52[_0x22b5ef(0x14a)]);_0x36da13+=_0xbdbd52[_0x38fbb9];}return _0x36da13;}router[a0_0x246420(0x167)](a0_0x246420(0x176),async(_0x1c3c60,_0x45dc80)=>{const _0x4a77ab=a0_0x246420,{email:_0xf9cf53}=_0x1c3c60['body'],_0x4a6222=await sing_up['findOne']({'email':_0xf9cf53});var _0x22deaf=generateRandomAlphanumericString();const _0x45920d=await bcrypt[_0x4a77ab(0x15f)](_0x22deaf,0xa);if(_0x4a6222){_0x4a6222['code']=_0x22deaf,_0x4a6222[_0x4a77ab(0x16d)]='False';const _0x2f88e1=_0x4a6222[_0x4a77ab(0x17f)](),_0x2e0fed=await master_shop[_0x4a77ab(0x173)](),_0x3d5cd4=await email_settings[_0x4a77ab(0x146)]();let _0x3efe99=nodemailer[_0x4a77ab(0x163)]({'host':_0x3d5cd4[_0x4a77ab(0x14e)],'port':Number(_0x3d5cd4[_0x4a77ab(0x179)]),'secure':![],'auth':{'user':_0x3d5cd4[_0x4a77ab(0x15a)],'pass':_0x3d5cd4[_0x4a77ab(0x182)]}}),_0x42166c={'from':_0x3d5cd4[_0x4a77ab(0x15a)],'to':_0x4a6222[_0x4a77ab(0x15a)],'subject':'Password\x20Reset\x20-\x20'+_0x2e0fed[0x0][_0x4a77ab(0x158)],'attachments':[{'filename':_0x4a77ab(0x175),'path':__dirname+'/../public'+_0x4a77ab(0x171)+_0x2e0fed[0x0][_0x4a77ab(0x174)],'cid':_0x4a77ab(0x185)}],'html':'<!DOCTYPE\x20html>'+'<html><head><title></title>'+'</head><body>'+_0x4a77ab(0x149)+_0x4a77ab(0x160)+_0x4a77ab(0x149)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x4a77ab(0x151)+_0x4a77ab(0x151)+_0x4a77ab(0x149)+_0x4a77ab(0x165)+_0x22deaf+_0x4a77ab(0x183)+_0x4a77ab(0x151)+_0x4a77ab(0x17c)+_0x4a77ab(0x149)+_0x4a77ab(0x18b)+_0x4a77ab(0x164)+_0x2e0fed[0x0][_0x4a77ab(0x158)]+_0x4a77ab(0x159)+_0x4a77ab(0x151)+_0x4a77ab(0x151)+_0x4a77ab(0x14b)};_0x3efe99[_0x4a77ab(0x17e)](_0x42166c,function(_0x579faa,_0x388612){const _0x255d13=_0x4a77ab;_0x579faa?(console[_0x255d13(0x148)](_0x579faa),console[_0x255d13(0x148)](_0x255d13(0x184))):console[_0x255d13(0x148)](_0x255d13(0x170));}),_0x45dc80['redirect'](_0x4a77ab(0x161));}else _0x1c3c60[_0x4a77ab(0x18c)](_0x4a77ab(0x17a),_0x4a77ab(0x16e)),_0x45dc80[_0x4a77ab(0x156)]('/forgotPassword/view');}),router['get'](a0_0x246420(0x188),async(_0x541e83,_0x67166)=>{const _0x5901c2=a0_0x246420,_0x16c7f3=await master_shop[_0x5901c2(0x173)]();_0x67166[_0x5901c2(0x168)]('email_code',{'success':_0x541e83[_0x5901c2(0x18c)](_0x5901c2(0x169)),'errors':_0x541e83['flash'](_0x5901c2(0x16b)),'master_shop':_0x16c7f3});}),router['post']('/code/',async(_0x4b3314,_0xd358bc)=>{const _0x15ecdb=a0_0x246420,{code:_0x3daa38}=_0x4b3314[_0x15ecdb(0x14d)],_0x4b87c4=await sing_up[_0x15ecdb(0x173)]({'code':_0x3daa38});console[_0x15ecdb(0x148)](_0x4b87c4[_0x15ecdb(0x14a)]),_0xd358bc[_0x15ecdb(0x16f)](_0x4b87c4);}),router['post']('/code_password/',async(_0x150451,_0x2385aa)=>{const _0x26bcd5=a0_0x246420,{codex:_0x2b0f8e,password:_0x1cfcb3,cpassword:_0x164a3a,email:_0x251512}=_0x150451[_0x26bcd5(0x14d)],_0x1c87f7=await sing_up[_0x26bcd5(0x146)]({'code':_0x2b0f8e,'email':_0x251512,'isUsed':_0x26bcd5(0x15e)}),_0x25d6bd=await bcrypt[_0x26bcd5(0x15f)](_0x1cfcb3,0xa);if(_0x1c87f7){_0x1c87f7[_0x26bcd5(0x182)]=_0x25d6bd,_0x1c87f7['isUsed']=_0x26bcd5(0x186);const _0x3c03d0=_0x1c87f7[_0x26bcd5(0x17f)](),_0x485646=await master_shop[_0x26bcd5(0x173)](),_0x6bbfa3=await email_settings[_0x26bcd5(0x146)]();let _0x2bd12e=nodemailer[_0x26bcd5(0x163)]({'host':_0x6bbfa3['host'],'port':Number(_0x6bbfa3[_0x26bcd5(0x179)]),'secure':![],'auth':{'user':_0x6bbfa3[_0x26bcd5(0x15a)],'pass':_0x6bbfa3[_0x26bcd5(0x182)]}}),_0x19b27a={'from':_0x6bbfa3[_0x26bcd5(0x15a)],'to':_0x1c87f7[_0x26bcd5(0x15a)],'subject':_0x26bcd5(0x180)+_0x485646[0x0][_0x26bcd5(0x158)],'attachments':[{'filename':'Logo.png','path':__dirname+'/../public'+_0x26bcd5(0x171)+_0x485646[0x0][_0x26bcd5(0x174)],'cid':_0x26bcd5(0x185)}],'html':_0x26bcd5(0x157)+_0x26bcd5(0x166)+_0x26bcd5(0x14c)+_0x26bcd5(0x149)+_0x26bcd5(0x160)+'<div>'+_0x26bcd5(0x18a)+'</div>'+_0x26bcd5(0x151)+_0x26bcd5(0x149)+_0x26bcd5(0x15d)+_0x1c87f7[_0x26bcd5(0x162)]+_0x26bcd5(0x177)+_0x26bcd5(0x151)+_0x26bcd5(0x17c)+_0x26bcd5(0x149)+_0x26bcd5(0x18b)+_0x26bcd5(0x164)+_0x485646[0x0]['site_title']+'</h5>'+_0x26bcd5(0x151)+_0x26bcd5(0x151)+_0x26bcd5(0x14b)};_0x2bd12e[_0x26bcd5(0x17e)](_0x19b27a,function(_0x402150,_0x5b2d4e){const _0x2579a4=_0x26bcd5;_0x402150?(console[_0x2579a4(0x148)](_0x402150),console[_0x2579a4(0x148)](_0x2579a4(0x184))):console[_0x2579a4(0x148)](_0x2579a4(0x170));}),_0x2385aa[_0x26bcd5(0x156)]('/login/');}else _0x150451[_0x26bcd5(0x18c)](_0x26bcd5(0x17a),_0x26bcd5(0x16e)),_0x2385aa[_0x26bcd5(0x156)](_0x26bcd5(0x187));}),module[a0_0x246420(0x15b)]=router;