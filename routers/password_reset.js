function a0_0x1dfe(_0x1c42bc,_0x4dc459){const _0x1c9919=a0_0x1c99();return a0_0x1dfe=function(_0x1dfe40,_0x281ebb){_0x1dfe40=_0x1dfe40-0x1ed;let _0x2c0b27=_0x1c9919[_0x1dfe40];return _0x2c0b27;},a0_0x1dfe(_0x1c42bc,_0x4dc459);}function a0_0x1c99(){const _0xfe92f2=['<strong>\x20Regards\x20</strong>','save','success','37058JZaoIz','268795bsgMEF','/../public','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','Password\x20Reset\x20-\x20','<div>','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','name','host','json','port','find','/view','code','hash','../models/all_models','<hr\x20class=\x22my-3\x22>','password','redirect','513092lVVeuC','bcryptjs','Logo.png','</h5>','logo','sendMail','log','Router','/forgotPassword/code/','65539LVsUeG','<!DOCTYPE\x20html>','floor','error','length','random','/upload/','../middleware/auth','render','False','express','True','Password\x20Successfuly\x20Reset\x20-\x20','546255UlWWTD','</div>','image','</body></html>','/forgotPassword/view','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','isUsed','1115808KFRMrw','</b></h1></p>','<html><head><title></title>','Error\x20Occurs',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','/code/','Email\x20sent\x20successfully','get','email','site_title','body','findOne','flash','</head><body>','post','<p>Hello\x20','1430828PMOTCG'];a0_0x1c99=function(){return _0xfe92f2;};return a0_0x1c99();}const a0_0x1cd7d5=a0_0x1dfe;(function(_0x471b47,_0x316ae4){const _0x2c044e=a0_0x1dfe,_0x3798f7=_0x471b47();while(!![]){try{const _0x4c3a19=parseInt(_0x2c044e(0x228))/0x1+parseInt(_0x2c044e(0x20c))/0x2+parseInt(_0x2c044e(0x1f0))/0x3+-parseInt(_0x2c044e(0x21f))/0x4+-parseInt(_0x2c044e(0x20d))/0x5+-parseInt(_0x2c044e(0x1f7))/0x6+parseInt(_0x2c044e(0x208))/0x7;if(_0x4c3a19===_0x316ae4)break;else _0x3798f7['push'](_0x3798f7['shift']());}catch(_0x25c834){_0x3798f7['push'](_0x3798f7['shift']());}}}(a0_0x1c99,0x1909d));const express=require(a0_0x1cd7d5(0x1ed)),app=express(),router=express[a0_0x1cd7d5(0x226)](),bcrypt=require(a0_0x1cd7d5(0x220)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x1cd7d5(0x21b)),auth=require(a0_0x1cd7d5(0x22f)),nodemailer=require('nodemailer');router[a0_0x1cd7d5(0x1ff)](a0_0x1cd7d5(0x218),async(_0x2108e0,_0x24c38e)=>{const _0x61e62e=a0_0x1cd7d5,_0x2d8514=await master_shop[_0x61e62e(0x217)]();_0x24c38e[_0x61e62e(0x230)]('email_reset',{'success':_0x2108e0['flash']('success'),'errors':_0x2108e0['flash']('errors'),'master_shop':_0x2d8514});});function generateRandomAlphanumericString(_0x5e2149=0x6){const _0x1c6ac4=a0_0x1cd7d5,_0x3a331b=_0x1c6ac4(0x1f5);let _0x530186='';for(let _0x558db9=0x0;_0x558db9<_0x5e2149;_0x558db9++){const _0xfb0691=Math[_0x1c6ac4(0x22a)](Math[_0x1c6ac4(0x22d)]()*_0x3a331b[_0x1c6ac4(0x22c)]);_0x530186+=_0x3a331b[_0xfb0691];}return _0x530186;}router[a0_0x1cd7d5(0x206)](a0_0x1cd7d5(0x218),async(_0x3d6afa,_0x1f9eb8)=>{const _0x18b32d=a0_0x1cd7d5,{email:_0x2373ae}=_0x3d6afa[_0x18b32d(0x202)],_0x3a5620=await sing_up['findOne']({'email':_0x2373ae});var _0x12dc1b=generateRandomAlphanumericString();const _0x51701f=await bcrypt[_0x18b32d(0x21a)](_0x12dc1b,0xa);if(_0x3a5620){_0x3a5620[_0x18b32d(0x219)]=_0x12dc1b,_0x3a5620[_0x18b32d(0x1f6)]=_0x18b32d(0x231);const _0x3c865c=_0x3a5620[_0x18b32d(0x20a)](),_0x434302=await master_shop[_0x18b32d(0x217)](),_0x32e2ed=await email_settings['findOne']();let _0x46e506=nodemailer['createTransport']({'host':_0x32e2ed[_0x18b32d(0x214)],'port':Number(_0x32e2ed[_0x18b32d(0x216)]),'secure':![],'auth':{'user':_0x32e2ed[_0x18b32d(0x200)],'pass':_0x32e2ed[_0x18b32d(0x21d)]}}),_0x5db820={'from':_0x32e2ed[_0x18b32d(0x200)],'to':_0x3a5620[_0x18b32d(0x200)],'subject':_0x18b32d(0x210)+_0x434302[0x0][_0x18b32d(0x201)],'attachments':[{'filename':_0x18b32d(0x221),'path':__dirname+_0x18b32d(0x20e)+_0x18b32d(0x22e)+_0x434302[0x0]['image'],'cid':_0x18b32d(0x223)}],'html':'<!DOCTYPE\x20html>'+_0x18b32d(0x1f9)+_0x18b32d(0x205)+_0x18b32d(0x211)+_0x18b32d(0x1fc)+_0x18b32d(0x211)+_0x18b32d(0x20f)+_0x18b32d(0x1f1)+_0x18b32d(0x1f1)+_0x18b32d(0x211)+'<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>'+_0x12dc1b+_0x18b32d(0x1f8)+'</div>'+_0x18b32d(0x21c)+_0x18b32d(0x211)+_0x18b32d(0x209)+'<h5>'+_0x434302[0x0][_0x18b32d(0x201)]+_0x18b32d(0x222)+_0x18b32d(0x1f1)+'</div>'+_0x18b32d(0x1f3)};_0x46e506[_0x18b32d(0x224)](_0x5db820,function(_0x44567b,_0x44f91f){const _0x213396=_0x18b32d;_0x44567b?(console[_0x213396(0x225)](_0x44567b),console[_0x213396(0x225)]('Error\x20Occurs')):console['log']('Email\x20sent\x20successfully');}),_0x1f9eb8['redirect'](_0x18b32d(0x227));}else _0x3d6afa[_0x18b32d(0x204)](_0x18b32d(0x22b),_0x18b32d(0x212)),_0x1f9eb8[_0x18b32d(0x21e)](_0x18b32d(0x1f4));}),router[a0_0x1cd7d5(0x1ff)](a0_0x1cd7d5(0x1fd),async(_0x6e7ab0,_0x3935aa)=>{const _0x7ab5d5=a0_0x1cd7d5,_0x4ff4dc=await master_shop['find']();_0x3935aa[_0x7ab5d5(0x230)]('email_code',{'success':_0x6e7ab0[_0x7ab5d5(0x204)](_0x7ab5d5(0x20b)),'errors':_0x6e7ab0['flash']('errors'),'master_shop':_0x4ff4dc});}),router[a0_0x1cd7d5(0x206)](a0_0x1cd7d5(0x1fd),async(_0x2b36de,_0x59e8ce)=>{const _0x54c2db=a0_0x1cd7d5,{code:_0x3f13a7}=_0x2b36de[_0x54c2db(0x202)],_0x5158c0=await sing_up[_0x54c2db(0x217)]({'code':_0x3f13a7});console[_0x54c2db(0x225)](_0x5158c0['length']),_0x59e8ce[_0x54c2db(0x215)](_0x5158c0);}),router[a0_0x1cd7d5(0x206)]('/code_password/',async(_0xdc82ce,_0x3151eb)=>{const _0x5eb522=a0_0x1cd7d5,{codex:_0x1ea156,password:_0x569907,cpassword:_0x69b88,email:_0x567387}=_0xdc82ce['body'],_0x2e38a4=await sing_up['findOne']({'code':_0x1ea156,'email':_0x567387,'isUsed':_0x5eb522(0x231)}),_0x19e30b=await bcrypt[_0x5eb522(0x21a)](_0x569907,0xa);if(_0x2e38a4){_0x2e38a4['password']=_0x19e30b,_0x2e38a4[_0x5eb522(0x1f6)]=_0x5eb522(0x1ee);const _0x28666c=_0x2e38a4[_0x5eb522(0x20a)](),_0xfb429c=await master_shop[_0x5eb522(0x217)](),_0x283369=await email_settings[_0x5eb522(0x203)]();let _0x272633=nodemailer['createTransport']({'host':_0x283369[_0x5eb522(0x214)],'port':Number(_0x283369[_0x5eb522(0x216)]),'secure':![],'auth':{'user':_0x283369['email'],'pass':_0x283369[_0x5eb522(0x21d)]}}),_0xe5baf9={'from':_0x283369[_0x5eb522(0x200)],'to':_0x2e38a4[_0x5eb522(0x200)],'subject':_0x5eb522(0x1ef)+_0xfb429c[0x0]['site_title'],'attachments':[{'filename':_0x5eb522(0x221),'path':__dirname+_0x5eb522(0x20e)+_0x5eb522(0x22e)+_0xfb429c[0x0][_0x5eb522(0x1f2)],'cid':_0x5eb522(0x223)}],'html':_0x5eb522(0x229)+_0x5eb522(0x1f9)+_0x5eb522(0x205)+_0x5eb522(0x211)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x5eb522(0x211)+_0x5eb522(0x20f)+_0x5eb522(0x1f1)+_0x5eb522(0x1f1)+_0x5eb522(0x211)+_0x5eb522(0x207)+_0x2e38a4[_0x5eb522(0x213)]+_0x5eb522(0x1fb)+_0x5eb522(0x1f1)+_0x5eb522(0x21c)+_0x5eb522(0x211)+_0x5eb522(0x209)+'<h5>'+_0xfb429c[0x0][_0x5eb522(0x201)]+_0x5eb522(0x222)+_0x5eb522(0x1f1)+_0x5eb522(0x1f1)+_0x5eb522(0x1f3)};_0x272633['sendMail'](_0xe5baf9,function(_0x17b269,_0x272e0){const _0xba3285=_0x5eb522;_0x17b269?(console[_0xba3285(0x225)](_0x17b269),console[_0xba3285(0x225)](_0xba3285(0x1fa))):console[_0xba3285(0x225)](_0xba3285(0x1fe));}),_0x3151eb[_0x5eb522(0x21e)]('/login/');}else _0xdc82ce['flash'](_0x5eb522(0x22b),_0x5eb522(0x212)),_0x3151eb[_0x5eb522(0x21e)]('/forgotPassword/code');}),module['exports']=router;