function a0_0x44e5(_0x30e4c2,_0x3c11ae){const _0x18f15d=a0_0x18f1();return a0_0x44e5=function(_0x44e51d,_0x5f46d){_0x44e51d=_0x44e51d-0x1a5;let _0x4a9e07=_0x18f15d[_0x44e51d];return _0x4a9e07;},a0_0x44e5(_0x30e4c2,_0x3c11ae);}const a0_0x3f753c=a0_0x44e5;(function(_0x98522f,_0x261db7){const _0x33594e=a0_0x44e5,_0x2a0610=_0x98522f();while(!![]){try{const _0x2139bc=-parseInt(_0x33594e(0x1c3))/0x1+parseInt(_0x33594e(0x1e4))/0x2*(-parseInt(_0x33594e(0x1d4))/0x3)+-parseInt(_0x33594e(0x1e9))/0x4+-parseInt(_0x33594e(0x1ae))/0x5*(-parseInt(_0x33594e(0x1c1))/0x6)+parseInt(_0x33594e(0x1bb))/0x7+parseInt(_0x33594e(0x1ec))/0x8+parseInt(_0x33594e(0x1da))/0x9;if(_0x2139bc===_0x261db7)break;else _0x2a0610['push'](_0x2a0610['shift']());}catch(_0x3a4a27){_0x2a0610['push'](_0x2a0610['shift']());}}}(a0_0x18f1,0x3c757));function a0_0x18f1(){const _0x215012=['2451918HuWlSA','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','<div>','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','<h5>','/forgotPassword/code','682026vkKuiv','findOne','424051VqffIH','</div>','Logo.png','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','password','json','email_code','Password\x20Successfuly\x20Reset\x20-\x20','logo','exports','body','redirect','/code_password/','</head><body>','../middleware/auth','isUsed','32709xEFzYa','../models/all_models','Error\x20Occurs','Password\x20Reset\x20-\x20','save','post','1765566ejIYrA','Email\x20sent\x20successfully','name','get','site_title','<strong>\x20Regards\x20</strong>','host','random','<hr\x20class=\x22my-3\x22>','error','80TVaAdI','success','<html><head><title></title>','find','<!DOCTYPE\x20html>','518012plDIWU','log','flash','2798816OkNVlI','email_reset','hash','/../public','sendMail','express','port','<p>Hello\x20','code','bcryptjs','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','False','length','</body></html>','15BnSndI','</h5>','nodemailer','errors','createTransport','/upload/','/login/','/view','email','render','</b></h1></p>','/code/','floor'];a0_0x18f1=function(){return _0x215012;};return a0_0x18f1();}const express=require(a0_0x3f753c(0x1a5)),app=express(),router=express['Router'](),bcrypt=require(a0_0x3f753c(0x1a9)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x3f753c(0x1d5)),auth=require(a0_0x3f753c(0x1d2)),nodemailer=require(a0_0x3f753c(0x1b0));router['get'](a0_0x3f753c(0x1b5),async(_0x17bce8,_0x4ec90f)=>{const _0x265418=a0_0x3f753c,_0x31eaea=await master_shop[_0x265418(0x1e7)]();_0x4ec90f[_0x265418(0x1b7)](_0x265418(0x1ed),{'success':_0x17bce8['flash'](_0x265418(0x1e5)),'errors':_0x17bce8[_0x265418(0x1eb)](_0x265418(0x1b1)),'master_shop':_0x31eaea});});function generateRandomAlphanumericString(_0x1954b7=0x6){const _0x2abedb=a0_0x3f753c,_0x3013b0=_0x2abedb(0x1bc);let _0x3f65ef='';for(let _0x141056=0x0;_0x141056<_0x1954b7;_0x141056++){const _0x514e97=Math[_0x2abedb(0x1ba)](Math[_0x2abedb(0x1e1)]()*_0x3013b0[_0x2abedb(0x1ac)]);_0x3f65ef+=_0x3013b0[_0x514e97];}return _0x3f65ef;}router[a0_0x3f753c(0x1d9)](a0_0x3f753c(0x1b5),async(_0x55f777,_0xa86ee2)=>{const _0x9dfd48=a0_0x3f753c,{email:_0xb73de6}=_0x55f777[_0x9dfd48(0x1ce)],_0x52295f=await sing_up[_0x9dfd48(0x1c2)]({'email':_0xb73de6});var _0x3466bf=generateRandomAlphanumericString();const _0x472ade=await bcrypt['hash'](_0x3466bf,0xa);if(_0x52295f){_0x52295f[_0x9dfd48(0x1a8)]=_0x3466bf,_0x52295f[_0x9dfd48(0x1d3)]='False';const _0xef126d=_0x52295f[_0x9dfd48(0x1d8)](),_0x3dd292=await master_shop['find'](),_0x13941a=await email_settings[_0x9dfd48(0x1c2)]();let _0x510b8a=nodemailer['createTransport']({'host':_0x13941a['host'],'port':Number(_0x13941a[_0x9dfd48(0x1a6)]),'secure':![],'auth':{'user':_0x13941a[_0x9dfd48(0x1b6)],'pass':_0x13941a[_0x9dfd48(0x1c8)]}}),_0x8a5e7d={'from':_0x13941a[_0x9dfd48(0x1b6)],'to':_0x52295f['email'],'subject':_0x9dfd48(0x1d7)+_0x3dd292[0x0][_0x9dfd48(0x1de)],'attachments':[{'filename':_0x9dfd48(0x1c5),'path':__dirname+'/../public'+_0x9dfd48(0x1b3)+_0x3dd292[0x0]['image'],'cid':_0x9dfd48(0x1cc)}],'html':_0x9dfd48(0x1e8)+_0x9dfd48(0x1e6)+'</head><body>'+_0x9dfd48(0x1bd)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x9dfd48(0x1bd)+_0x9dfd48(0x1c7)+_0x9dfd48(0x1c4)+_0x9dfd48(0x1c4)+_0x9dfd48(0x1bd)+_0x9dfd48(0x1be)+_0x3466bf+_0x9dfd48(0x1b8)+_0x9dfd48(0x1c4)+_0x9dfd48(0x1e2)+'<div>'+_0x9dfd48(0x1df)+'<h5>'+_0x3dd292[0x0][_0x9dfd48(0x1de)]+_0x9dfd48(0x1af)+_0x9dfd48(0x1c4)+'</div>'+'</body></html>'};_0x510b8a[_0x9dfd48(0x1f0)](_0x8a5e7d,function(_0x4488b1,_0x928e46){const _0x3424a3=_0x9dfd48;_0x4488b1?(console[_0x3424a3(0x1ea)](_0x4488b1),console[_0x3424a3(0x1ea)](_0x3424a3(0x1d6))):console['log'](_0x3424a3(0x1db));}),_0xa86ee2[_0x9dfd48(0x1cf)]('/forgotPassword/code/');}else _0x55f777['flash'](_0x9dfd48(0x1e3),_0x9dfd48(0x1aa)),_0xa86ee2[_0x9dfd48(0x1cf)]('/forgotPassword/view');}),router[a0_0x3f753c(0x1dd)]('/code/',async(_0x44b4df,_0x3026f8)=>{const _0x30c6da=a0_0x3f753c,_0x22b3eb=await master_shop[_0x30c6da(0x1e7)]();_0x3026f8[_0x30c6da(0x1b7)](_0x30c6da(0x1ca),{'success':_0x44b4df[_0x30c6da(0x1eb)](_0x30c6da(0x1e5)),'errors':_0x44b4df[_0x30c6da(0x1eb)]('errors'),'master_shop':_0x22b3eb});}),router['post'](a0_0x3f753c(0x1b9),async(_0x3c9506,_0x45030d)=>{const _0x36809c=a0_0x3f753c,{code:_0x16501d}=_0x3c9506[_0x36809c(0x1ce)],_0x5b088d=await sing_up[_0x36809c(0x1e7)]({'code':_0x16501d});console['log'](_0x5b088d[_0x36809c(0x1ac)]),_0x45030d[_0x36809c(0x1c9)](_0x5b088d);}),router['post'](a0_0x3f753c(0x1d0),async(_0x2deb87,_0x4cfc10)=>{const _0x3a748f=a0_0x3f753c,{codex:_0x59cb16,password:_0xfea5f6,cpassword:_0xdddaa0,email:_0x158378}=_0x2deb87['body'],_0x278ca1=await sing_up[_0x3a748f(0x1c2)]({'code':_0x59cb16,'email':_0x158378,'isUsed':_0x3a748f(0x1ab)}),_0x355f3d=await bcrypt[_0x3a748f(0x1ee)](_0xfea5f6,0xa);if(_0x278ca1){_0x278ca1['password']=_0x355f3d,_0x278ca1[_0x3a748f(0x1d3)]='True';const _0x2819c0=_0x278ca1[_0x3a748f(0x1d8)](),_0x453b32=await master_shop[_0x3a748f(0x1e7)](),_0x2b7b2f=await email_settings['findOne']();let _0x4f90da=nodemailer[_0x3a748f(0x1b2)]({'host':_0x2b7b2f[_0x3a748f(0x1e0)],'port':Number(_0x2b7b2f[_0x3a748f(0x1a6)]),'secure':![],'auth':{'user':_0x2b7b2f[_0x3a748f(0x1b6)],'pass':_0x2b7b2f['password']}}),_0x5daa94={'from':_0x2b7b2f[_0x3a748f(0x1b6)],'to':_0x278ca1[_0x3a748f(0x1b6)],'subject':_0x3a748f(0x1cb)+_0x453b32[0x0][_0x3a748f(0x1de)],'attachments':[{'filename':_0x3a748f(0x1c5),'path':__dirname+_0x3a748f(0x1ef)+_0x3a748f(0x1b3)+_0x453b32[0x0]['image'],'cid':'logo'}],'html':_0x3a748f(0x1e8)+'<html><head><title></title>'+_0x3a748f(0x1d1)+_0x3a748f(0x1bd)+_0x3a748f(0x1c6)+_0x3a748f(0x1bd)+_0x3a748f(0x1c7)+_0x3a748f(0x1c4)+'</div>'+_0x3a748f(0x1bd)+_0x3a748f(0x1a7)+_0x278ca1[_0x3a748f(0x1dc)]+',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>'+_0x3a748f(0x1c4)+_0x3a748f(0x1e2)+_0x3a748f(0x1bd)+_0x3a748f(0x1df)+_0x3a748f(0x1bf)+_0x453b32[0x0]['site_title']+_0x3a748f(0x1af)+_0x3a748f(0x1c4)+'</div>'+_0x3a748f(0x1ad)};_0x4f90da[_0x3a748f(0x1f0)](_0x5daa94,function(_0x572435,_0x2c46a7){const _0x1b0fda=_0x3a748f;_0x572435?(console[_0x1b0fda(0x1ea)](_0x572435),console[_0x1b0fda(0x1ea)]('Error\x20Occurs')):console[_0x1b0fda(0x1ea)](_0x1b0fda(0x1db));}),_0x4cfc10[_0x3a748f(0x1cf)](_0x3a748f(0x1b4));}else _0x2deb87['flash'](_0x3a748f(0x1e3),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x4cfc10[_0x3a748f(0x1cf)](_0x3a748f(0x1c0));}),module[a0_0x3f753c(0x1cd)]=router;