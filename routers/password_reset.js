const a0_0x22e9cf=a0_0x54c7;(function(_0x79d97e,_0x1470b1){const _0x3b3be=a0_0x54c7,_0x251b68=_0x79d97e();while(!![]){try{const _0x45bfd3=-parseInt(_0x3b3be(0x14b))/0x1*(-parseInt(_0x3b3be(0x132))/0x2)+-parseInt(_0x3b3be(0x107))/0x3*(parseInt(_0x3b3be(0x10e))/0x4)+parseInt(_0x3b3be(0x127))/0x5*(-parseInt(_0x3b3be(0x111))/0x6)+parseInt(_0x3b3be(0x128))/0x7+parseInt(_0x3b3be(0x143))/0x8+parseInt(_0x3b3be(0x106))/0x9+-parseInt(_0x3b3be(0x10d))/0xa;if(_0x45bfd3===_0x1470b1)break;else _0x251b68['push'](_0x251b68['shift']());}catch(_0x4ed8d9){_0x251b68['push'](_0x251b68['shift']());}}}(a0_0x32c3,0x91063));function a0_0x54c7(_0x4105c0,_0x1ebced){const _0x32c326=a0_0x32c3();return a0_0x54c7=function(_0x54c726,_0x2fdf37){_0x54c726=_0x54c726-0x104;let _0x40a1fa=_0x32c326[_0x54c726];return _0x40a1fa;},a0_0x54c7(_0x4105c0,_0x1ebced);}const express=require(a0_0x22e9cf(0x12f)),app=express(),router=express[a0_0x22e9cf(0x112)](),bcrypt=require(a0_0x22e9cf(0x135)),{sing_up,staff,profile,master_shop,email_settings}=require('../models/all_models'),auth=require('../middleware/auth'),nodemailer=require(a0_0x22e9cf(0x13b));router[a0_0x22e9cf(0x138)]('/view',async(_0x508b9f,_0x11022b)=>{const _0x5a9ac6=a0_0x22e9cf,_0x3731fd=await master_shop[_0x5a9ac6(0x130)]();_0x11022b[_0x5a9ac6(0x14c)]('email_reset',{'success':_0x508b9f['flash']('success'),'errors':_0x508b9f[_0x5a9ac6(0x11c)](_0x5a9ac6(0x113)),'master_shop':_0x3731fd});});function a0_0x32c3(){const _0x368332=['bcryptjs','sendMail','length','get','floor','password','nodemailer','redirect','post','<!DOCTYPE\x20html>','site_title','</body></html>','/forgotPassword/view','code','115256UtgFVD','<div>','<h5>','findOne','exports','success','log','image','24551ZRIcCE','render','error','logo','9467829Hghfry','6cWhXEK','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','/forgotPassword/code/','Password\x20Reset\x20-\x20','/../public','<html><head><title></title>','4139570OnZqJh','1111232CcttMA','Password\x20Successfuly\x20Reset\x20-\x20','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','66piWAoD','Router','errors','/forgotPassword/code','save','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','body','/view','/code_password/','createTransport',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','flash','</h5>','</div>','/code/','/upload/','name','email','host','</b></h1></p>','Logo.png','hash','439490abOwgc','3374294Zigmlc','/login/','<p>Hello\x20','Email\x20sent\x20successfully','Error\x20Occurs','True','isUsed','express','find','port','80yEvEaQ','<strong>\x20Regards\x20</strong>','False'];a0_0x32c3=function(){return _0x368332;};return a0_0x32c3();}function generateRandomAlphanumericString(_0x9ae9fc=0x6){const _0x4f2222=a0_0x22e9cf,_0x6a3fc1='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';let _0x3499b0='';for(let _0x46bb4c=0x0;_0x46bb4c<_0x9ae9fc;_0x46bb4c++){const _0x3fb9c0=Math[_0x4f2222(0x139)](Math['random']()*_0x6a3fc1[_0x4f2222(0x137)]);_0x3499b0+=_0x6a3fc1[_0x3fb9c0];}return _0x3499b0;}router['post'](a0_0x22e9cf(0x118),async(_0xdee4b3,_0x40c861)=>{const _0x52b298=a0_0x22e9cf,{email:_0x14e1ba}=_0xdee4b3[_0x52b298(0x117)],_0x5a4489=await sing_up[_0x52b298(0x146)]({'email':_0x14e1ba});var _0x3cf180=generateRandomAlphanumericString();const _0x14fa21=await bcrypt[_0x52b298(0x126)](_0x3cf180,0xa);if(_0x5a4489){_0x5a4489[_0x52b298(0x142)]=_0x3cf180,_0x5a4489[_0x52b298(0x12e)]='False';const _0x48da36=_0x5a4489[_0x52b298(0x115)](),_0x2ab217=await master_shop[_0x52b298(0x130)](),_0x296e23=await email_settings[_0x52b298(0x146)]();let _0x329de4=nodemailer[_0x52b298(0x11a)]({'host':_0x296e23[_0x52b298(0x123)],'port':Number(_0x296e23['port']),'secure':![],'auth':{'user':_0x296e23[_0x52b298(0x122)],'pass':_0x296e23['password']}}),_0x19ad77={'from':_0x296e23[_0x52b298(0x122)],'to':_0x5a4489[_0x52b298(0x122)],'subject':_0x52b298(0x10a)+_0x2ab217[0x0][_0x52b298(0x13f)],'attachments':[{'filename':'Logo.png','path':__dirname+'/../public'+_0x52b298(0x120)+_0x2ab217[0x0][_0x52b298(0x14a)],'cid':'logo'}],'html':_0x52b298(0x13e)+_0x52b298(0x10c)+'</head><body>'+_0x52b298(0x144)+_0x52b298(0x108)+_0x52b298(0x144)+_0x52b298(0x110)+'</div>'+_0x52b298(0x11e)+_0x52b298(0x144)+'<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>'+_0x3cf180+_0x52b298(0x124)+_0x52b298(0x11e)+'<hr\x20class=\x22my-3\x22>'+'<div>'+_0x52b298(0x133)+_0x52b298(0x145)+_0x2ab217[0x0]['site_title']+_0x52b298(0x11d)+_0x52b298(0x11e)+'</div>'+'</body></html>'};_0x329de4[_0x52b298(0x136)](_0x19ad77,function(_0x32305b,_0x51852f){const _0xd38765=_0x52b298;_0x32305b?(console[_0xd38765(0x149)](_0x32305b),console[_0xd38765(0x149)](_0xd38765(0x12c))):console[_0xd38765(0x149)](_0xd38765(0x12b));}),_0x40c861[_0x52b298(0x13c)](_0x52b298(0x109));}else _0xdee4b3['flash'](_0x52b298(0x104),_0x52b298(0x116)),_0x40c861[_0x52b298(0x13c)](_0x52b298(0x141));}),router['get'](a0_0x22e9cf(0x11f),async(_0x45de31,_0x5d8d6a)=>{const _0x4713e9=a0_0x22e9cf,_0x289900=await master_shop[_0x4713e9(0x130)]();_0x5d8d6a[_0x4713e9(0x14c)]('email_code',{'success':_0x45de31[_0x4713e9(0x11c)](_0x4713e9(0x148)),'errors':_0x45de31[_0x4713e9(0x11c)]('errors'),'master_shop':_0x289900});}),router['post'](a0_0x22e9cf(0x11f),async(_0x41ebf8,_0x31481b)=>{const _0x141ef6=a0_0x22e9cf,{code:_0x31e0fb}=_0x41ebf8[_0x141ef6(0x117)],_0x4269f2=await sing_up[_0x141ef6(0x130)]({'code':_0x31e0fb});console[_0x141ef6(0x149)](_0x4269f2[_0x141ef6(0x137)]),_0x31481b['json'](_0x4269f2);}),router[a0_0x22e9cf(0x13d)](a0_0x22e9cf(0x119),async(_0x1b91ff,_0x1ab43b)=>{const _0x57a09f=a0_0x22e9cf,{codex:_0x48476b,password:_0x1974ec,cpassword:_0x9d9853,email:_0xe698c3}=_0x1b91ff[_0x57a09f(0x117)],_0x2ff8a3=await sing_up[_0x57a09f(0x146)]({'code':_0x48476b,'email':_0xe698c3,'isUsed':_0x57a09f(0x134)}),_0x266602=await bcrypt['hash'](_0x1974ec,0xa);if(_0x2ff8a3){_0x2ff8a3[_0x57a09f(0x13a)]=_0x266602,_0x2ff8a3['isUsed']=_0x57a09f(0x12d);const _0x55b68a=_0x2ff8a3[_0x57a09f(0x115)](),_0x554659=await master_shop[_0x57a09f(0x130)](),_0x562f71=await email_settings[_0x57a09f(0x146)]();let _0x5c4093=nodemailer[_0x57a09f(0x11a)]({'host':_0x562f71[_0x57a09f(0x123)],'port':Number(_0x562f71[_0x57a09f(0x131)]),'secure':![],'auth':{'user':_0x562f71[_0x57a09f(0x122)],'pass':_0x562f71[_0x57a09f(0x13a)]}}),_0x479f14={'from':_0x562f71['email'],'to':_0x2ff8a3[_0x57a09f(0x122)],'subject':_0x57a09f(0x10f)+_0x554659[0x0][_0x57a09f(0x13f)],'attachments':[{'filename':_0x57a09f(0x125),'path':__dirname+_0x57a09f(0x10b)+_0x57a09f(0x120)+_0x554659[0x0]['image'],'cid':_0x57a09f(0x105)}],'html':'<!DOCTYPE\x20html>'+_0x57a09f(0x10c)+'</head><body>'+'<div>'+_0x57a09f(0x108)+_0x57a09f(0x144)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x57a09f(0x11e)+_0x57a09f(0x11e)+'<div>'+_0x57a09f(0x12a)+_0x2ff8a3[_0x57a09f(0x121)]+_0x57a09f(0x11b)+_0x57a09f(0x11e)+'<hr\x20class=\x22my-3\x22>'+_0x57a09f(0x144)+_0x57a09f(0x133)+'<h5>'+_0x554659[0x0]['site_title']+_0x57a09f(0x11d)+_0x57a09f(0x11e)+'</div>'+_0x57a09f(0x140)};_0x5c4093['sendMail'](_0x479f14,function(_0x1dca91,_0x57bc8c){const _0x1acd0b=_0x57a09f;_0x1dca91?(console['log'](_0x1dca91),console[_0x1acd0b(0x149)]('Error\x20Occurs')):console[_0x1acd0b(0x149)](_0x1acd0b(0x12b));}),_0x1ab43b[_0x57a09f(0x13c)](_0x57a09f(0x129));}else _0x1b91ff[_0x57a09f(0x11c)]('error',_0x57a09f(0x116)),_0x1ab43b[_0x57a09f(0x13c)](_0x57a09f(0x114));}),module[a0_0x22e9cf(0x147)]=router;