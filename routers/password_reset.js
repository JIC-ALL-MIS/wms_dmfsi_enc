function a0_0x2ae3(){const _0x20241a=['</body></html>','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','Logo.png','<p>Hello\x20','errors','Password\x20Reset\x20-\x20',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','get','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','<h5>','2056278MRSTee','<!DOCTYPE\x20html>','sendMail','False','Error\x20Occurs','../models/all_models','bcryptjs','Email\x20sent\x20successfully','1101144xcWTIA','logo','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','hash','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','image','password','/view','/code/','createTransport','isUsed','True','3023013rCenVw','/code_password/','652065tmBSnw','save','</b></h1></p>','body','624596fYkQMQ','code','<div>','email_reset','length','/upload/','exports','site_title','floor','nodemailer','</h5>','log','flash','redirect','Router','8nRoBcJ','</div>','find','<html><head><title></title>','email_code','port','email','</head><body>','error','success','render','findOne','post','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','3392778QABrGN','<strong>\x20Regards\x20</strong>','250220reGBUp','<hr\x20class=\x22my-3\x22>','host'];a0_0x2ae3=function(){return _0x20241a;};return a0_0x2ae3();}const a0_0x3b613c=a0_0x4efb;(function(_0x299b11,_0x1d8bb9){const _0x1fdff0=a0_0x4efb,_0x1a07be=_0x299b11();while(!![]){try{const _0x516e86=parseInt(_0x1fdff0(0x190))/0x1+-parseInt(_0x1fdff0(0x1b7))/0x2+parseInt(_0x1fdff0(0x19d))/0x3+-parseInt(_0x1fdff0(0x1a5))/0x4+parseInt(_0x1fdff0(0x1b3))/0x5+-parseInt(_0x1fdff0(0x18e))/0x6+-parseInt(_0x1fdff0(0x1b1))/0x7*(-parseInt(_0x1fdff0(0x180))/0x8);if(_0x516e86===_0x1d8bb9)break;else _0x1a07be['push'](_0x1a07be['shift']());}catch(_0x58e2bd){_0x1a07be['push'](_0x1a07be['shift']());}}}(a0_0x2ae3,0x54327));const express=require('express'),app=express(),router=express[a0_0x3b613c(0x1c5)](),bcrypt=require(a0_0x3b613c(0x1a3)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x3b613c(0x1a2)),auth=require('../middleware/auth'),nodemailer=require(a0_0x3b613c(0x1c0));router[a0_0x3b613c(0x19a)]('/view',async(_0x51e04a,_0x1642e5)=>{const _0x475c6d=a0_0x3b613c,_0x46c2ea=await master_shop[_0x475c6d(0x182)]();_0x1642e5['render'](_0x475c6d(0x1ba),{'success':_0x51e04a[_0x475c6d(0x1c3)](_0x475c6d(0x189)),'errors':_0x51e04a[_0x475c6d(0x1c3)](_0x475c6d(0x197)),'master_shop':_0x46c2ea});});function a0_0x4efb(_0x363514,_0x2e403e){const _0x2ae301=a0_0x2ae3();return a0_0x4efb=function(_0x4efb26,_0x4693e1){_0x4efb26=_0x4efb26-0x180;let _0x5ea168=_0x2ae301[_0x4efb26];return _0x5ea168;},a0_0x4efb(_0x363514,_0x2e403e);}function generateRandomAlphanumericString(_0x6c098b=0x6){const _0x44fbaa=a0_0x3b613c,_0x586a61=_0x44fbaa(0x1a9);let _0x4c55eb='';for(let _0x1bf2bc=0x0;_0x1bf2bc<_0x6c098b;_0x1bf2bc++){const _0x297c07=Math[_0x44fbaa(0x1bf)](Math['random']()*_0x586a61[_0x44fbaa(0x1bb)]);_0x4c55eb+=_0x586a61[_0x297c07];}return _0x4c55eb;}router[a0_0x3b613c(0x18c)](a0_0x3b613c(0x1ac),async(_0x363e27,_0x313979)=>{const _0x2e2ea9=a0_0x3b613c,{email:_0x361c6e}=_0x363e27[_0x2e2ea9(0x1b6)],_0x2e0bbf=await sing_up[_0x2e2ea9(0x18b)]({'email':_0x361c6e});var _0xa9afaa=generateRandomAlphanumericString();const _0x4f682f=await bcrypt[_0x2e2ea9(0x1a8)](_0xa9afaa,0xa);if(_0x2e0bbf){_0x2e0bbf[_0x2e2ea9(0x1b8)]=_0xa9afaa,_0x2e0bbf[_0x2e2ea9(0x1af)]=_0x2e2ea9(0x1a0);const _0x424ebc=_0x2e0bbf[_0x2e2ea9(0x1b4)](),_0x1c5c9b=await master_shop[_0x2e2ea9(0x182)](),_0x3a9418=await email_settings['findOne']();let _0x549cb4=nodemailer[_0x2e2ea9(0x1ae)]({'host':_0x3a9418[_0x2e2ea9(0x192)],'port':Number(_0x3a9418[_0x2e2ea9(0x185)]),'secure':![],'auth':{'user':_0x3a9418[_0x2e2ea9(0x186)],'pass':_0x3a9418[_0x2e2ea9(0x1ab)]}}),_0xdd1d7e={'from':_0x3a9418[_0x2e2ea9(0x186)],'to':_0x2e0bbf[_0x2e2ea9(0x186)],'subject':_0x2e2ea9(0x198)+_0x1c5c9b[0x0][_0x2e2ea9(0x1be)],'attachments':[{'filename':_0x2e2ea9(0x195),'path':__dirname+'/../public'+_0x2e2ea9(0x1bc)+_0x1c5c9b[0x0]['image'],'cid':_0x2e2ea9(0x1a6)}],'html':'<!DOCTYPE\x20html>'+_0x2e2ea9(0x183)+'</head><body>'+_0x2e2ea9(0x1b9)+_0x2e2ea9(0x1a7)+_0x2e2ea9(0x1b9)+_0x2e2ea9(0x194)+_0x2e2ea9(0x181)+_0x2e2ea9(0x181)+_0x2e2ea9(0x1b9)+_0x2e2ea9(0x18d)+_0xa9afaa+_0x2e2ea9(0x1b5)+_0x2e2ea9(0x181)+_0x2e2ea9(0x191)+'<div>'+_0x2e2ea9(0x18f)+_0x2e2ea9(0x19c)+_0x1c5c9b[0x0]['site_title']+_0x2e2ea9(0x1c1)+'</div>'+_0x2e2ea9(0x181)+_0x2e2ea9(0x193)};_0x549cb4[_0x2e2ea9(0x19f)](_0xdd1d7e,function(_0x1e07b6,_0x575677){const _0x2c2834=_0x2e2ea9;_0x1e07b6?(console[_0x2c2834(0x1c2)](_0x1e07b6),console[_0x2c2834(0x1c2)](_0x2c2834(0x1a1))):console[_0x2c2834(0x1c2)]('Email\x20sent\x20successfully');}),_0x313979['redirect']('/forgotPassword/code/');}else _0x363e27['flash'](_0x2e2ea9(0x188),_0x2e2ea9(0x19b)),_0x313979[_0x2e2ea9(0x1c4)]('/forgotPassword/view');}),router['get'](a0_0x3b613c(0x1ad),async(_0xbe09c6,_0x2bd8d2)=>{const _0x38f6a4=a0_0x3b613c,_0x287dec=await master_shop[_0x38f6a4(0x182)]();_0x2bd8d2[_0x38f6a4(0x18a)](_0x38f6a4(0x184),{'success':_0xbe09c6[_0x38f6a4(0x1c3)](_0x38f6a4(0x189)),'errors':_0xbe09c6[_0x38f6a4(0x1c3)]('errors'),'master_shop':_0x287dec});}),router[a0_0x3b613c(0x18c)](a0_0x3b613c(0x1ad),async(_0x578342,_0x54086b)=>{const _0x332026=a0_0x3b613c,{code:_0x24ab82}=_0x578342[_0x332026(0x1b6)],_0x2b1c7e=await sing_up[_0x332026(0x182)]({'code':_0x24ab82});console['log'](_0x2b1c7e[_0x332026(0x1bb)]),_0x54086b['json'](_0x2b1c7e);}),router[a0_0x3b613c(0x18c)](a0_0x3b613c(0x1b2),async(_0x4db308,_0x11d7ae)=>{const _0x4368a8=a0_0x3b613c,{codex:_0x139ec3,password:_0x14a728,cpassword:_0x204068,email:_0x5ea69a}=_0x4db308[_0x4368a8(0x1b6)],_0x5ebd1d=await sing_up[_0x4368a8(0x18b)]({'code':_0x139ec3,'email':_0x5ea69a,'isUsed':'False'}),_0xeaa7ae=await bcrypt[_0x4368a8(0x1a8)](_0x14a728,0xa);if(_0x5ebd1d){_0x5ebd1d['password']=_0xeaa7ae,_0x5ebd1d['isUsed']=_0x4368a8(0x1b0);const _0x15abcc=_0x5ebd1d[_0x4368a8(0x1b4)](),_0x18acc6=await master_shop[_0x4368a8(0x182)](),_0x57a98d=await email_settings[_0x4368a8(0x18b)]();let _0x29eda2=nodemailer['createTransport']({'host':_0x57a98d['host'],'port':Number(_0x57a98d[_0x4368a8(0x185)]),'secure':![],'auth':{'user':_0x57a98d[_0x4368a8(0x186)],'pass':_0x57a98d['password']}}),_0x3641af={'from':_0x57a98d['email'],'to':_0x5ebd1d[_0x4368a8(0x186)],'subject':'Password\x20Successfuly\x20Reset\x20-\x20'+_0x18acc6[0x0][_0x4368a8(0x1be)],'attachments':[{'filename':_0x4368a8(0x195),'path':__dirname+'/../public'+_0x4368a8(0x1bc)+_0x18acc6[0x0][_0x4368a8(0x1aa)],'cid':_0x4368a8(0x1a6)}],'html':_0x4368a8(0x19e)+_0x4368a8(0x183)+_0x4368a8(0x187)+_0x4368a8(0x1b9)+_0x4368a8(0x1a7)+_0x4368a8(0x1b9)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x4368a8(0x181)+_0x4368a8(0x181)+_0x4368a8(0x1b9)+_0x4368a8(0x196)+_0x5ebd1d['name']+_0x4368a8(0x199)+_0x4368a8(0x181)+_0x4368a8(0x191)+_0x4368a8(0x1b9)+'<strong>\x20Regards\x20</strong>'+_0x4368a8(0x19c)+_0x18acc6[0x0][_0x4368a8(0x1be)]+'</h5>'+_0x4368a8(0x181)+_0x4368a8(0x181)+_0x4368a8(0x193)};_0x29eda2[_0x4368a8(0x19f)](_0x3641af,function(_0x250bb2,_0x20fb8d){const _0x23c1e5=_0x4368a8;_0x250bb2?(console[_0x23c1e5(0x1c2)](_0x250bb2),console[_0x23c1e5(0x1c2)](_0x23c1e5(0x1a1))):console[_0x23c1e5(0x1c2)](_0x23c1e5(0x1a4));}),_0x11d7ae['redirect']('/login/');}else _0x4db308[_0x4368a8(0x1c3)]('error','Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x11d7ae[_0x4368a8(0x1c4)]('/forgotPassword/code');}),module[a0_0x3b613c(0x1bd)]=router;