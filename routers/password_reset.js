function a0_0x4dfb(){const _0x40417d=['<p>Hello\x20','Email\x20sent\x20successfully','image','310446NhJVlg','site_title','<html><head><title></title>','729900YZTIyA','Password\x20Reset\x20-\x20','575267PmuWDm','logo','/view','redirect','floor','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','738COOsvv','Error\x20Occurs','90LIGdpb','bcryptjs','name','save','success','host','length','code','exports','</div>','json','Logo.png','</body></html>','637nNJqoS','flash','render','<h5>','/../public','../models/all_models','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','28tzVxFM','port','find','<strong>\x20Regards\x20</strong>','</b></h1></p>','error','<hr\x20class=\x22my-3\x22>','/upload/','</head><body>','get','Password\x20Successfuly\x20Reset\x20-\x20','<div>','sendMail','email','/forgotPassword/view','<!DOCTYPE\x20html>','</h5>','findOne','body','password','3928QFNkti','email_code','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','/login/','log','Router','False','hash','/code/','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','isUsed','nodemailer','/forgotPassword/code','7926TUBAAK','127045AziJVs','12770gVcHUo','post','random'];a0_0x4dfb=function(){return _0x40417d;};return a0_0x4dfb();}const a0_0x2178a8=a0_0x2d10;(function(_0x57cd62,_0x3ca6ee){const _0x590e93=a0_0x2d10,_0x102baf=_0x57cd62();while(!![]){try{const _0x1afa45=-parseInt(_0x590e93(0x13b))/0x1+-parseInt(_0x590e93(0x142))/0x2+-parseInt(_0x590e93(0x145))/0x3+parseInt(_0x590e93(0x118))/0x4*(parseInt(_0x590e93(0x13c))/0x5)+parseInt(_0x590e93(0x13a))/0x6*(parseInt(_0x590e93(0x111))/0x7)+parseInt(_0x590e93(0x12c))/0x8*(parseInt(_0x590e93(0x14d))/0x9)+-parseInt(_0x590e93(0x14f))/0xa*(-parseInt(_0x590e93(0x147))/0xb);if(_0x1afa45===_0x3ca6ee)break;else _0x102baf['push'](_0x102baf['shift']());}catch(_0x3d2421){_0x102baf['push'](_0x102baf['shift']());}}}(a0_0x4dfb,0x1e240));const express=require('express'),app=express(),router=express[a0_0x2178a8(0x132)](),bcrypt=require(a0_0x2178a8(0x150)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x2178a8(0x116)),auth=require('../middleware/auth'),nodemailer=require(a0_0x2178a8(0x138));router['get'](a0_0x2178a8(0x149),async(_0x1e55b9,_0x814484)=>{const _0xadd339=a0_0x2178a8,_0x207c53=await master_shop[_0xadd339(0x11a)]();_0x814484[_0xadd339(0x113)]('email_reset',{'success':_0x1e55b9[_0xadd339(0x112)](_0xadd339(0x153)),'errors':_0x1e55b9[_0xadd339(0x112)]('errors'),'master_shop':_0x207c53});});function generateRandomAlphanumericString(_0x3a4cf8=0x6){const _0x10489a=a0_0x2178a8,_0x112fcf='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';let _0x565c5c='';for(let _0x4fa651=0x0;_0x4fa651<_0x3a4cf8;_0x4fa651++){const _0x1c1f17=Math[_0x10489a(0x14b)](Math[_0x10489a(0x13e)]()*_0x112fcf[_0x10489a(0x10a)]);_0x565c5c+=_0x112fcf[_0x1c1f17];}return _0x565c5c;}function a0_0x2d10(_0x271282,_0x2a1e51){const _0x4dfb53=a0_0x4dfb();return a0_0x2d10=function(_0x2d10ff,_0x2b39be){_0x2d10ff=_0x2d10ff-0x109;let _0x3ee844=_0x4dfb53[_0x2d10ff];return _0x3ee844;},a0_0x2d10(_0x271282,_0x2a1e51);}router[a0_0x2178a8(0x13d)]('/view',async(_0x35bcd6,_0x50e40d)=>{const _0x53c07f=a0_0x2178a8,{email:_0x41cd53}=_0x35bcd6[_0x53c07f(0x12a)],_0x43e6c1=await sing_up[_0x53c07f(0x129)]({'email':_0x41cd53});var _0x21b70c=generateRandomAlphanumericString();const _0x193075=await bcrypt[_0x53c07f(0x134)](_0x21b70c,0xa);if(_0x43e6c1){_0x43e6c1[_0x53c07f(0x10b)]=_0x21b70c,_0x43e6c1[_0x53c07f(0x137)]=_0x53c07f(0x133);const _0x5322a0=_0x43e6c1[_0x53c07f(0x152)](),_0x2443ee=await master_shop['find'](),_0x115e45=await email_settings[_0x53c07f(0x129)]();let _0x45afd1=nodemailer['createTransport']({'host':_0x115e45[_0x53c07f(0x109)],'port':Number(_0x115e45[_0x53c07f(0x119)]),'secure':![],'auth':{'user':_0x115e45[_0x53c07f(0x125)],'pass':_0x115e45['password']}}),_0xa3ae3c={'from':_0x115e45[_0x53c07f(0x125)],'to':_0x43e6c1['email'],'subject':_0x53c07f(0x146)+_0x2443ee[0x0][_0x53c07f(0x143)],'attachments':[{'filename':_0x53c07f(0x10f),'path':__dirname+_0x53c07f(0x115)+_0x53c07f(0x11f)+_0x2443ee[0x0][_0x53c07f(0x141)],'cid':_0x53c07f(0x148)}],'html':_0x53c07f(0x127)+_0x53c07f(0x144)+_0x53c07f(0x120)+_0x53c07f(0x123)+_0x53c07f(0x14c)+'<div>'+_0x53c07f(0x117)+_0x53c07f(0x10d)+'</div>'+'<div>'+_0x53c07f(0x12e)+_0x21b70c+_0x53c07f(0x11c)+_0x53c07f(0x10d)+_0x53c07f(0x11e)+_0x53c07f(0x123)+_0x53c07f(0x11b)+_0x53c07f(0x114)+_0x2443ee[0x0]['site_title']+_0x53c07f(0x128)+_0x53c07f(0x10d)+_0x53c07f(0x10d)+_0x53c07f(0x110)};_0x45afd1['sendMail'](_0xa3ae3c,function(_0x4e03ee,_0x46935f){const _0x28742d=_0x53c07f;_0x4e03ee?(console[_0x28742d(0x131)](_0x4e03ee),console[_0x28742d(0x131)](_0x28742d(0x14e))):console[_0x28742d(0x131)](_0x28742d(0x140));}),_0x50e40d['redirect']('/forgotPassword/code/');}else _0x35bcd6[_0x53c07f(0x112)](_0x53c07f(0x11d),_0x53c07f(0x136)),_0x50e40d[_0x53c07f(0x14a)](_0x53c07f(0x126));}),router[a0_0x2178a8(0x121)]('/code/',async(_0x38de02,_0x14717f)=>{const _0x5546fb=a0_0x2178a8,_0x52c086=await master_shop[_0x5546fb(0x11a)]();_0x14717f[_0x5546fb(0x113)](_0x5546fb(0x12d),{'success':_0x38de02[_0x5546fb(0x112)]('success'),'errors':_0x38de02[_0x5546fb(0x112)]('errors'),'master_shop':_0x52c086});}),router[a0_0x2178a8(0x13d)](a0_0x2178a8(0x135),async(_0x423054,_0x4c6f10)=>{const _0x48fb3a=a0_0x2178a8,{code:_0x534980}=_0x423054[_0x48fb3a(0x12a)],_0x428c43=await sing_up[_0x48fb3a(0x11a)]({'code':_0x534980});console[_0x48fb3a(0x131)](_0x428c43[_0x48fb3a(0x10a)]),_0x4c6f10[_0x48fb3a(0x10e)](_0x428c43);}),router[a0_0x2178a8(0x13d)]('/code_password/',async(_0x55009a,_0x1887a6)=>{const _0x19d701=a0_0x2178a8,{codex:_0xb6c127,password:_0xbd0eee,cpassword:_0x2513e6,email:_0x5c2149}=_0x55009a[_0x19d701(0x12a)],_0x2455e6=await sing_up[_0x19d701(0x129)]({'code':_0xb6c127,'email':_0x5c2149,'isUsed':_0x19d701(0x133)}),_0xd27015=await bcrypt[_0x19d701(0x134)](_0xbd0eee,0xa);if(_0x2455e6){_0x2455e6['password']=_0xd27015,_0x2455e6[_0x19d701(0x137)]='True';const _0x22d757=_0x2455e6[_0x19d701(0x152)](),_0x4c110b=await master_shop[_0x19d701(0x11a)](),_0x522ce9=await email_settings[_0x19d701(0x129)]();let _0x879473=nodemailer['createTransport']({'host':_0x522ce9['host'],'port':Number(_0x522ce9['port']),'secure':![],'auth':{'user':_0x522ce9[_0x19d701(0x125)],'pass':_0x522ce9[_0x19d701(0x12b)]}}),_0x1f0e59={'from':_0x522ce9[_0x19d701(0x125)],'to':_0x2455e6['email'],'subject':_0x19d701(0x122)+_0x4c110b[0x0][_0x19d701(0x143)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x19d701(0x115)+_0x19d701(0x11f)+_0x4c110b[0x0]['image'],'cid':_0x19d701(0x148)}],'html':'<!DOCTYPE\x20html>'+'<html><head><title></title>'+_0x19d701(0x120)+'<div>'+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x19d701(0x123)+_0x19d701(0x117)+_0x19d701(0x10d)+'</div>'+_0x19d701(0x123)+_0x19d701(0x13f)+_0x2455e6[_0x19d701(0x151)]+_0x19d701(0x12f)+_0x19d701(0x10d)+_0x19d701(0x11e)+_0x19d701(0x123)+_0x19d701(0x11b)+'<h5>'+_0x4c110b[0x0][_0x19d701(0x143)]+_0x19d701(0x128)+_0x19d701(0x10d)+_0x19d701(0x10d)+'</body></html>'};_0x879473[_0x19d701(0x124)](_0x1f0e59,function(_0x2eabdb,_0x3289de){const _0x5c1f15=_0x19d701;_0x2eabdb?(console['log'](_0x2eabdb),console[_0x5c1f15(0x131)](_0x5c1f15(0x14e))):console[_0x5c1f15(0x131)]('Email\x20sent\x20successfully');}),_0x1887a6[_0x19d701(0x14a)](_0x19d701(0x130));}else _0x55009a[_0x19d701(0x112)](_0x19d701(0x11d),_0x19d701(0x136)),_0x1887a6['redirect'](_0x19d701(0x139));}),module[a0_0x2178a8(0x10c)]=router;