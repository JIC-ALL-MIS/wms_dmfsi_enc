function a0_0x1470(){const _0x1f4e1d=['findOne','7630395fvatcP','/forgotPassword/view','/upload/','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','success','exports','length','</h5>','port','host','/forgotPassword/code','hash','Router','902ouCNxj','False','bcryptjs','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','Password\x20Reset\x20-\x20','/login/','../models/all_models','password','save','<html><head><title></title>','random','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','1136LPLxIO','3606Asonyz','render','14cMiBJr','1575NXDMGX','19950HnTcwb','redirect','/code_password/','5914064HirzcB','email_code','Password\x20Successfuly\x20Reset\x20-\x20','get','site_title','Error\x20Occurs','createTransport','log','Email\x20sent\x20successfully','post','name','</b></h1></p>','code','isUsed','</head><body>','email','flash','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','<p>Hello\x20','</div>','nodemailer','160750zFdmrY','</body></html>','../middleware/auth','error','<h5>','errors','email_reset','/view','find','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','json','32250KJQkRe','Logo.png','<hr\x20class=\x22my-3\x22>','<div>','/code/','<!DOCTYPE\x20html>','1728RxeRHJ','body','100428KjLAfQ','/forgotPassword/code/','/../public'];a0_0x1470=function(){return _0x1f4e1d;};return a0_0x1470();}const a0_0x988b86=a0_0x339a;(function(_0x4ded96,_0x400c92){const _0x5cb0b3=a0_0x339a,_0xdfa647=_0x4ded96();while(!![]){try{const _0x139aed=parseInt(_0x5cb0b3(0x1bb))/0x1*(-parseInt(_0x5cb0b3(0x1d5))/0x2)+parseInt(_0x5cb0b3(0x1b9))/0x3*(parseInt(_0x5cb0b3(0x1b8))/0x4)+parseInt(_0x5cb0b3(0x1ec))/0x5+-parseInt(_0x5cb0b3(0x1bd))/0x6*(parseInt(_0x5cb0b3(0x1bc))/0x7)+parseInt(_0x5cb0b3(0x1c0))/0x8+-parseInt(_0x5cb0b3(0x1e6))/0x9*(parseInt(_0x5cb0b3(0x1e0))/0xa)+parseInt(_0x5cb0b3(0x1ac))/0xb*(parseInt(_0x5cb0b3(0x1e8))/0xc);if(_0x139aed===_0x400c92)break;else _0xdfa647['push'](_0xdfa647['shift']());}catch(_0x3f2603){_0xdfa647['push'](_0xdfa647['shift']());}}}(a0_0x1470,0xc3684));const express=require('express'),app=express(),router=express[a0_0x988b86(0x1f8)](),bcrypt=require(a0_0x988b86(0x1ae)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x988b86(0x1b2)),auth=require(a0_0x988b86(0x1d7)),nodemailer=require(a0_0x988b86(0x1d4));router[a0_0x988b86(0x1c3)](a0_0x988b86(0x1dc),async(_0x3c6bc0,_0x31d1f4)=>{const _0x25df97=a0_0x988b86,_0x3a3edb=await master_shop[_0x25df97(0x1dd)]();_0x31d1f4[_0x25df97(0x1ba)](_0x25df97(0x1db),{'success':_0x3c6bc0[_0x25df97(0x1d0)](_0x25df97(0x1f0)),'errors':_0x3c6bc0[_0x25df97(0x1d0)]('errors'),'master_shop':_0x3a3edb});});function a0_0x339a(_0x49f844,_0x30f03b){const _0x14700f=a0_0x1470();return a0_0x339a=function(_0x339aa6,_0x2cd791){_0x339aa6=_0x339aa6-0x1ac;let _0x27b3f5=_0x14700f[_0x339aa6];return _0x27b3f5;},a0_0x339a(_0x49f844,_0x30f03b);}function generateRandomAlphanumericString(_0x379c71=0x6){const _0x1bd952=a0_0x988b86,_0x47db3e=_0x1bd952(0x1ef);let _0x4371c3='';for(let _0x3a1a59=0x0;_0x3a1a59<_0x379c71;_0x3a1a59++){const _0x4e177c=Math['floor'](Math[_0x1bd952(0x1b6)]()*_0x47db3e[_0x1bd952(0x1f2)]);_0x4371c3+=_0x47db3e[_0x4e177c];}return _0x4371c3;}router[a0_0x988b86(0x1c9)](a0_0x988b86(0x1dc),async(_0x1f9ad0,_0x3d6cdf)=>{const _0xafd0b5=a0_0x988b86,{email:_0x5c5fa9}=_0x1f9ad0[_0xafd0b5(0x1e7)],_0x1a64c1=await sing_up['findOne']({'email':_0x5c5fa9});var _0xffae=generateRandomAlphanumericString();const _0x5787da=await bcrypt['hash'](_0xffae,0xa);if(_0x1a64c1){_0x1a64c1[_0xafd0b5(0x1cc)]=_0xffae,_0x1a64c1[_0xafd0b5(0x1cd)]='False';const _0x39f815=_0x1a64c1[_0xafd0b5(0x1b4)](),_0x3ec1c5=await master_shop[_0xafd0b5(0x1dd)](),_0x8411df=await email_settings[_0xafd0b5(0x1eb)]();let _0x58596e=nodemailer['createTransport']({'host':_0x8411df[_0xafd0b5(0x1f5)],'port':Number(_0x8411df[_0xafd0b5(0x1f4)]),'secure':![],'auth':{'user':_0x8411df['email'],'pass':_0x8411df['password']}}),_0x20f566={'from':_0x8411df[_0xafd0b5(0x1cf)],'to':_0x1a64c1[_0xafd0b5(0x1cf)],'subject':_0xafd0b5(0x1b0)+_0x3ec1c5[0x0][_0xafd0b5(0x1c4)],'attachments':[{'filename':_0xafd0b5(0x1e1),'path':__dirname+'/../public'+_0xafd0b5(0x1ee)+_0x3ec1c5[0x0]['image'],'cid':'logo'}],'html':_0xafd0b5(0x1e5)+'<html><head><title></title>'+_0xafd0b5(0x1ce)+_0xafd0b5(0x1e3)+_0xafd0b5(0x1af)+'<div>'+_0xafd0b5(0x1de)+_0xafd0b5(0x1d3)+'</div>'+_0xafd0b5(0x1e3)+_0xafd0b5(0x1b7)+_0xffae+_0xafd0b5(0x1cb)+_0xafd0b5(0x1d3)+'<hr\x20class=\x22my-3\x22>'+_0xafd0b5(0x1e3)+'<strong>\x20Regards\x20</strong>'+'<h5>'+_0x3ec1c5[0x0]['site_title']+_0xafd0b5(0x1f3)+_0xafd0b5(0x1d3)+_0xafd0b5(0x1d3)+_0xafd0b5(0x1d6)};_0x58596e['sendMail'](_0x20f566,function(_0x5861a2,_0xd28256){const _0x223987=_0xafd0b5;_0x5861a2?(console[_0x223987(0x1c7)](_0x5861a2),console[_0x223987(0x1c7)](_0x223987(0x1c5))):console[_0x223987(0x1c7)](_0x223987(0x1c8));}),_0x3d6cdf[_0xafd0b5(0x1be)](_0xafd0b5(0x1e9));}else _0x1f9ad0['flash'](_0xafd0b5(0x1d8),_0xafd0b5(0x1d1)),_0x3d6cdf[_0xafd0b5(0x1be)](_0xafd0b5(0x1ed));}),router[a0_0x988b86(0x1c3)](a0_0x988b86(0x1e4),async(_0x47f73d,_0x52ef85)=>{const _0x165f10=a0_0x988b86,_0x15043d=await master_shop[_0x165f10(0x1dd)]();_0x52ef85[_0x165f10(0x1ba)](_0x165f10(0x1c1),{'success':_0x47f73d[_0x165f10(0x1d0)](_0x165f10(0x1f0)),'errors':_0x47f73d[_0x165f10(0x1d0)](_0x165f10(0x1da)),'master_shop':_0x15043d});}),router[a0_0x988b86(0x1c9)](a0_0x988b86(0x1e4),async(_0x2e14c0,_0x516bb6)=>{const _0x5ec1d2=a0_0x988b86,{code:_0x1ee17b}=_0x2e14c0[_0x5ec1d2(0x1e7)],_0x56465c=await sing_up[_0x5ec1d2(0x1dd)]({'code':_0x1ee17b});console[_0x5ec1d2(0x1c7)](_0x56465c[_0x5ec1d2(0x1f2)]),_0x516bb6[_0x5ec1d2(0x1df)](_0x56465c);}),router[a0_0x988b86(0x1c9)](a0_0x988b86(0x1bf),async(_0x2ea217,_0x1b1bb8)=>{const _0xce9d5=a0_0x988b86,{codex:_0x42977e,password:_0x621573,cpassword:_0x3687cd,email:_0x3475af}=_0x2ea217[_0xce9d5(0x1e7)],_0x12b33c=await sing_up[_0xce9d5(0x1eb)]({'code':_0x42977e,'email':_0x3475af,'isUsed':_0xce9d5(0x1ad)}),_0xde650f=await bcrypt[_0xce9d5(0x1f7)](_0x621573,0xa);if(_0x12b33c){_0x12b33c['password']=_0xde650f,_0x12b33c[_0xce9d5(0x1cd)]='True';const _0x28c487=_0x12b33c[_0xce9d5(0x1b4)](),_0x2af84c=await master_shop[_0xce9d5(0x1dd)](),_0x58152d=await email_settings[_0xce9d5(0x1eb)]();let _0x41d80e=nodemailer[_0xce9d5(0x1c6)]({'host':_0x58152d['host'],'port':Number(_0x58152d[_0xce9d5(0x1f4)]),'secure':![],'auth':{'user':_0x58152d['email'],'pass':_0x58152d[_0xce9d5(0x1b3)]}}),_0x56986c={'from':_0x58152d[_0xce9d5(0x1cf)],'to':_0x12b33c[_0xce9d5(0x1cf)],'subject':_0xce9d5(0x1c2)+_0x2af84c[0x0][_0xce9d5(0x1c4)],'attachments':[{'filename':_0xce9d5(0x1e1),'path':__dirname+_0xce9d5(0x1ea)+'/upload/'+_0x2af84c[0x0]['image'],'cid':'logo'}],'html':_0xce9d5(0x1e5)+_0xce9d5(0x1b5)+_0xce9d5(0x1ce)+'<div>'+_0xce9d5(0x1af)+_0xce9d5(0x1e3)+_0xce9d5(0x1de)+_0xce9d5(0x1d3)+_0xce9d5(0x1d3)+_0xce9d5(0x1e3)+_0xce9d5(0x1d2)+_0x12b33c[_0xce9d5(0x1ca)]+',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>'+_0xce9d5(0x1d3)+_0xce9d5(0x1e2)+_0xce9d5(0x1e3)+'<strong>\x20Regards\x20</strong>'+_0xce9d5(0x1d9)+_0x2af84c[0x0][_0xce9d5(0x1c4)]+_0xce9d5(0x1f3)+'</div>'+'</div>'+_0xce9d5(0x1d6)};_0x41d80e['sendMail'](_0x56986c,function(_0x1f5947,_0x336d79){const _0x971093=_0xce9d5;_0x1f5947?(console[_0x971093(0x1c7)](_0x1f5947),console[_0x971093(0x1c7)](_0x971093(0x1c5))):console['log'](_0x971093(0x1c8));}),_0x1b1bb8[_0xce9d5(0x1be)](_0xce9d5(0x1b1));}else _0x2ea217['flash'](_0xce9d5(0x1d8),_0xce9d5(0x1d1)),_0x1b1bb8['redirect'](_0xce9d5(0x1f6));}),module[a0_0x988b86(0x1f1)]=router;