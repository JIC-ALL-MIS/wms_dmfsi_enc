const a0_0x41c39c=a0_0x4a70;(function(_0x16147f,_0x1093a2){const _0x524a86=a0_0x4a70,_0x2d6638=_0x16147f();while(!![]){try{const _0x53a8da=-parseInt(_0x524a86(0x1b6))/0x1+parseInt(_0x524a86(0x1b3))/0x2*(-parseInt(_0x524a86(0x19d))/0x3)+parseInt(_0x524a86(0x1be))/0x4+-parseInt(_0x524a86(0x1a7))/0x5+-parseInt(_0x524a86(0x19b))/0x6+-parseInt(_0x524a86(0x1bb))/0x7*(parseInt(_0x524a86(0x197))/0x8)+-parseInt(_0x524a86(0x186))/0x9*(-parseInt(_0x524a86(0x189))/0xa);if(_0x53a8da===_0x1093a2)break;else _0x2d6638['push'](_0x2d6638['shift']());}catch(_0x201df6){_0x2d6638['push'](_0x2d6638['shift']());}}}(a0_0xde78,0x826fb));const express=require(a0_0x41c39c(0x191)),app=express(),router=express[a0_0x41c39c(0x195)](),bcrypt=require(a0_0x41c39c(0x1a3)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x41c39c(0x1cb)),auth=require(a0_0x41c39c(0x1a8)),nodemailer=require(a0_0x41c39c(0x1c1));router[a0_0x41c39c(0x1bf)]('/view',async(_0x43e00d,_0x594140)=>{const _0x688b4=a0_0x41c39c,_0x7cd2c2=await master_shop[_0x688b4(0x1b9)]();_0x594140['render'](_0x688b4(0x1bc),{'success':_0x43e00d[_0x688b4(0x1a2)](_0x688b4(0x187)),'errors':_0x43e00d[_0x688b4(0x1a2)](_0x688b4(0x181)),'master_shop':_0x7cd2c2});});function a0_0xde78(){const _0x59f297=['<h5>','floor','../models/all_models','errors','<strong>\x20Regards\x20</strong>','isUsed','sendMail','False','9iBROjF','success','image','26605710vRKGhN','error','True','length','</body></html>','/forgotPassword/code/','/../public','host','express','createTransport','/forgotPassword/code','</h5>','Router','</div>','1432qHCTmm','Logo.png','Password\x20Reset\x20-\x20','render','3895818oKwabl','random','188421PLjRCQ','body','exports','port','hash','flash','bcryptjs','save','Error\x20Occurs','logo','3272040lHSfyn','../middleware/auth','/login/','json','post','/code/','log','password','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','redirect','/upload/','26NvCEKd','email_code','<p>Hello\x20','46005xSzWlV','site_title','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','find','<div>','6496SiETfi','email_reset','<html><head><title></title>','824060vMKhyP','get','</b></h1></p>','nodemailer','findOne','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','<!DOCTYPE\x20html>','</head><body>','email','<hr\x20class=\x22my-3\x22>','Email\x20sent\x20successfully'];a0_0xde78=function(){return _0x59f297;};return a0_0xde78();}function generateRandomAlphanumericString(_0x4cf16d=0x6){const _0x396195=a0_0x41c39c,_0x30f878='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';let _0x43a9d2='';for(let _0x19fbad=0x0;_0x19fbad<_0x4cf16d;_0x19fbad++){const _0x5e96ef=Math[_0x396195(0x1ca)](Math[_0x396195(0x19c)]()*_0x30f878[_0x396195(0x18c)]);_0x43a9d2+=_0x30f878[_0x5e96ef];}return _0x43a9d2;}function a0_0x4a70(_0x326b8d,_0x4ece64){const _0xde785c=a0_0xde78();return a0_0x4a70=function(_0x4a7081,_0x28769b){_0x4a7081=_0x4a7081-0x181;let _0x2b3b07=_0xde785c[_0x4a7081];return _0x2b3b07;},a0_0x4a70(_0x326b8d,_0x4ece64);}router[a0_0x41c39c(0x1ab)]('/view',async(_0x341ea8,_0x2f8653)=>{const _0x12a985=a0_0x41c39c,{email:_0x9a0856}=_0x341ea8[_0x12a985(0x19e)],_0x29823c=await sing_up[_0x12a985(0x1c2)]({'email':_0x9a0856});var _0x54f18c=generateRandomAlphanumericString();const _0x8c7ea4=await bcrypt['hash'](_0x54f18c,0xa);if(_0x29823c){_0x29823c['code']=_0x54f18c,_0x29823c[_0x12a985(0x183)]='False';const _0x31e37e=_0x29823c[_0x12a985(0x1a4)](),_0x122c61=await master_shop['find'](),_0x3bcc21=await email_settings[_0x12a985(0x1c2)]();let _0x519243=nodemailer[_0x12a985(0x192)]({'host':_0x3bcc21[_0x12a985(0x190)],'port':Number(_0x3bcc21[_0x12a985(0x1a0)]),'secure':![],'auth':{'user':_0x3bcc21[_0x12a985(0x1c6)],'pass':_0x3bcc21[_0x12a985(0x1ae)]}}),_0x20222a={'from':_0x3bcc21['email'],'to':_0x29823c[_0x12a985(0x1c6)],'subject':_0x12a985(0x199)+_0x122c61[0x0][_0x12a985(0x1b7)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x12a985(0x18f)+_0x12a985(0x1b2)+_0x122c61[0x0][_0x12a985(0x188)],'cid':_0x12a985(0x1a6)}],'html':_0x12a985(0x1c4)+_0x12a985(0x1bd)+'</head><body>'+_0x12a985(0x1ba)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x12a985(0x1ba)+_0x12a985(0x1b8)+_0x12a985(0x196)+_0x12a985(0x196)+'<div>'+_0x12a985(0x1af)+_0x54f18c+_0x12a985(0x1c0)+_0x12a985(0x196)+_0x12a985(0x1c7)+_0x12a985(0x1ba)+_0x12a985(0x182)+'<h5>'+_0x122c61[0x0][_0x12a985(0x1b7)]+_0x12a985(0x194)+_0x12a985(0x196)+'</div>'+_0x12a985(0x18d)};_0x519243[_0x12a985(0x184)](_0x20222a,function(_0x22be68,_0x211102){const _0x30fadb=_0x12a985;_0x22be68?(console[_0x30fadb(0x1ad)](_0x22be68),console[_0x30fadb(0x1ad)](_0x30fadb(0x1a5))):console['log'](_0x30fadb(0x1c8));}),_0x2f8653[_0x12a985(0x1b1)](_0x12a985(0x18e));}else _0x341ea8['flash'](_0x12a985(0x18a),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x2f8653[_0x12a985(0x1b1)]('/forgotPassword/view');}),router[a0_0x41c39c(0x1bf)](a0_0x41c39c(0x1ac),async(_0x3ac75e,_0x32e3f2)=>{const _0x1e52ef=a0_0x41c39c,_0x3afb93=await master_shop[_0x1e52ef(0x1b9)]();_0x32e3f2[_0x1e52ef(0x19a)](_0x1e52ef(0x1b4),{'success':_0x3ac75e['flash'](_0x1e52ef(0x187)),'errors':_0x3ac75e[_0x1e52ef(0x1a2)](_0x1e52ef(0x181)),'master_shop':_0x3afb93});}),router[a0_0x41c39c(0x1ab)](a0_0x41c39c(0x1ac),async(_0x1edec3,_0x3ca4c3)=>{const _0xbaf2cf=a0_0x41c39c,{code:_0x32b3ae}=_0x1edec3[_0xbaf2cf(0x19e)],_0x5f2dc8=await sing_up[_0xbaf2cf(0x1b9)]({'code':_0x32b3ae});console[_0xbaf2cf(0x1ad)](_0x5f2dc8[_0xbaf2cf(0x18c)]),_0x3ca4c3[_0xbaf2cf(0x1aa)](_0x5f2dc8);}),router[a0_0x41c39c(0x1ab)]('/code_password/',async(_0xf2cb88,_0x2098fe)=>{const _0x19ba8c=a0_0x41c39c,{codex:_0x2571c6,password:_0x14f21d,cpassword:_0x40a423,email:_0x2e5879}=_0xf2cb88['body'],_0x2e4966=await sing_up[_0x19ba8c(0x1c2)]({'code':_0x2571c6,'email':_0x2e5879,'isUsed':_0x19ba8c(0x185)}),_0x4710f2=await bcrypt[_0x19ba8c(0x1a1)](_0x14f21d,0xa);if(_0x2e4966){_0x2e4966[_0x19ba8c(0x1ae)]=_0x4710f2,_0x2e4966['isUsed']=_0x19ba8c(0x18b);const _0x14e7ef=_0x2e4966[_0x19ba8c(0x1a4)](),_0x27ad3e=await master_shop[_0x19ba8c(0x1b9)](),_0x2f7353=await email_settings[_0x19ba8c(0x1c2)]();let _0x55736c=nodemailer[_0x19ba8c(0x192)]({'host':_0x2f7353[_0x19ba8c(0x190)],'port':Number(_0x2f7353[_0x19ba8c(0x1a0)]),'secure':![],'auth':{'user':_0x2f7353['email'],'pass':_0x2f7353[_0x19ba8c(0x1ae)]}}),_0x27a052={'from':_0x2f7353[_0x19ba8c(0x1c6)],'to':_0x2e4966[_0x19ba8c(0x1c6)],'subject':'Password\x20Successfuly\x20Reset\x20-\x20'+_0x27ad3e[0x0][_0x19ba8c(0x1b7)],'attachments':[{'filename':_0x19ba8c(0x198),'path':__dirname+_0x19ba8c(0x18f)+_0x19ba8c(0x1b2)+_0x27ad3e[0x0][_0x19ba8c(0x188)],'cid':'logo'}],'html':_0x19ba8c(0x1c4)+_0x19ba8c(0x1bd)+_0x19ba8c(0x1c5)+_0x19ba8c(0x1ba)+_0x19ba8c(0x1c3)+_0x19ba8c(0x1ba)+_0x19ba8c(0x1b8)+_0x19ba8c(0x196)+_0x19ba8c(0x196)+_0x19ba8c(0x1ba)+_0x19ba8c(0x1b5)+_0x2e4966['name']+',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>'+'</div>'+_0x19ba8c(0x1c7)+_0x19ba8c(0x1ba)+'<strong>\x20Regards\x20</strong>'+_0x19ba8c(0x1c9)+_0x27ad3e[0x0]['site_title']+_0x19ba8c(0x194)+'</div>'+_0x19ba8c(0x196)+'</body></html>'};_0x55736c[_0x19ba8c(0x184)](_0x27a052,function(_0x302fac,_0x3822c0){const _0x4736b6=_0x19ba8c;_0x302fac?(console[_0x4736b6(0x1ad)](_0x302fac),console[_0x4736b6(0x1ad)](_0x4736b6(0x1a5))):console['log'](_0x4736b6(0x1c8));}),_0x2098fe[_0x19ba8c(0x1b1)](_0x19ba8c(0x1a9));}else _0xf2cb88[_0x19ba8c(0x1a2)]('error',_0x19ba8c(0x1b0)),_0x2098fe[_0x19ba8c(0x1b1)](_0x19ba8c(0x193));}),module[a0_0x41c39c(0x19f)]=router;