const a0_0x35fec7=a0_0x5f4e;(function(_0x2464ea,_0x2022d0){const _0x5a8899=a0_0x5f4e,_0xfec411=_0x2464ea();while(!![]){try{const _0x55b358=parseInt(_0x5a8899(0x11b))/0x1*(-parseInt(_0x5a8899(0x140))/0x2)+parseInt(_0x5a8899(0x150))/0x3+-parseInt(_0x5a8899(0x149))/0x4+parseInt(_0x5a8899(0x12a))/0x5*(-parseInt(_0x5a8899(0x120))/0x6)+parseInt(_0x5a8899(0x136))/0x7*(parseInt(_0x5a8899(0x14c))/0x8)+parseInt(_0x5a8899(0x132))/0x9+parseInt(_0x5a8899(0x144))/0xa;if(_0x55b358===_0x2022d0)break;else _0xfec411['push'](_0xfec411['shift']());}catch(_0x58951e){_0xfec411['push'](_0xfec411['shift']());}}}(a0_0x40c6,0x7ec75));const express=require(a0_0x35fec7(0x130)),app=express(),router=express[a0_0x35fec7(0x122)](),bcrypt=require(a0_0x35fec7(0x12b)),{sing_up,staff,profile,master_shop,email_settings}=require('../models/all_models'),auth=require(a0_0x35fec7(0x13f)),nodemailer=require(a0_0x35fec7(0x135));router['get'](a0_0x35fec7(0x13c),async(_0x32a227,_0x19eb69)=>{const _0x1db152=a0_0x35fec7,_0x3f6f97=await master_shop[_0x1db152(0x155)]();_0x19eb69['render'](_0x1db152(0x160),{'success':_0x32a227[_0x1db152(0x153)](_0x1db152(0x137)),'errors':_0x32a227['flash'](_0x1db152(0x146)),'master_shop':_0x3f6f97});});function a0_0x5f4e(_0x247095,_0x36d8e3){const _0x40c6bc=a0_0x40c6();return a0_0x5f4e=function(_0x5f4edc,_0x34717d){_0x5f4edc=_0x5f4edc-0x11b;let _0x55073b=_0x40c6bc[_0x5f4edc];return _0x55073b;},a0_0x5f4e(_0x247095,_0x36d8e3);}function generateRandomAlphanumericString(_0x3879a6=0x6){const _0x12b4b2=a0_0x35fec7,_0x59802d=_0x12b4b2(0x169);let _0x2d7f70='';for(let _0x1cff8d=0x0;_0x1cff8d<_0x3879a6;_0x1cff8d++){const _0x443888=Math[_0x12b4b2(0x161)](Math[_0x12b4b2(0x154)]()*_0x59802d[_0x12b4b2(0x145)]);_0x2d7f70+=_0x59802d[_0x443888];}return _0x2d7f70;}router[a0_0x35fec7(0x11d)](a0_0x35fec7(0x13c),async(_0x1ca932,_0x229c0f)=>{const _0xb29a29=a0_0x35fec7,{email:_0x575e88}=_0x1ca932[_0xb29a29(0x133)],_0xea5c11=await sing_up[_0xb29a29(0x168)]({'email':_0x575e88});var _0x10513e=generateRandomAlphanumericString();const _0x2a6af7=await bcrypt[_0xb29a29(0x125)](_0x10513e,0xa);if(_0xea5c11){_0xea5c11[_0xb29a29(0x14b)]=_0x10513e,_0xea5c11[_0xb29a29(0x15d)]=_0xb29a29(0x11f);const _0x1033de=_0xea5c11[_0xb29a29(0x162)](),_0x9d1518=await master_shop[_0xb29a29(0x155)](),_0x37af44=await email_settings['findOne']();let _0x457de1=nodemailer[_0xb29a29(0x14e)]({'host':_0x37af44[_0xb29a29(0x13a)],'port':Number(_0x37af44['port']),'secure':![],'auth':{'user':_0x37af44[_0xb29a29(0x13d)],'pass':_0x37af44[_0xb29a29(0x163)]}}),_0x27f2f0={'from':_0x37af44[_0xb29a29(0x13d)],'to':_0xea5c11[_0xb29a29(0x13d)],'subject':_0xb29a29(0x11c)+_0x9d1518[0x0][_0xb29a29(0x12f)],'attachments':[{'filename':_0xb29a29(0x128),'path':__dirname+'/../public'+_0xb29a29(0x129)+_0x9d1518[0x0][_0xb29a29(0x15b)],'cid':_0xb29a29(0x15a)}],'html':'<!DOCTYPE\x20html>'+_0xb29a29(0x147)+_0xb29a29(0x142)+_0xb29a29(0x165)+_0xb29a29(0x12c)+'<div>'+_0xb29a29(0x138)+_0xb29a29(0x134)+_0xb29a29(0x134)+_0xb29a29(0x165)+_0xb29a29(0x121)+_0x10513e+_0xb29a29(0x14d)+'</div>'+_0xb29a29(0x14a)+_0xb29a29(0x165)+_0xb29a29(0x123)+'<h5>'+_0x9d1518[0x0]['site_title']+_0xb29a29(0x13e)+'</div>'+_0xb29a29(0x134)+_0xb29a29(0x151)};_0x457de1[_0xb29a29(0x11e)](_0x27f2f0,function(_0x5c8c1d,_0x2897ca){const _0x4d2c44=_0xb29a29;_0x5c8c1d?(console['log'](_0x5c8c1d),console[_0x4d2c44(0x15f)]('Error\x20Occurs')):console['log'](_0x4d2c44(0x127));}),_0x229c0f[_0xb29a29(0x13b)](_0xb29a29(0x14f));}else _0x1ca932[_0xb29a29(0x153)](_0xb29a29(0x164),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x229c0f['redirect'](_0xb29a29(0x166));}),router[a0_0x35fec7(0x156)](a0_0x35fec7(0x139),async(_0x4e0194,_0x5d4e7d)=>{const _0x541a5d=a0_0x35fec7,_0x3e1a9f=await master_shop[_0x541a5d(0x155)]();_0x5d4e7d[_0x541a5d(0x126)](_0x541a5d(0x159),{'success':_0x4e0194['flash'](_0x541a5d(0x137)),'errors':_0x4e0194[_0x541a5d(0x153)](_0x541a5d(0x146)),'master_shop':_0x3e1a9f});}),router[a0_0x35fec7(0x11d)](a0_0x35fec7(0x139),async(_0x4bbb38,_0x289a18)=>{const _0x32b91a=a0_0x35fec7,{code:_0x59ac49}=_0x4bbb38[_0x32b91a(0x133)],_0x240863=await sing_up['find']({'code':_0x59ac49});console[_0x32b91a(0x15f)](_0x240863[_0x32b91a(0x145)]),_0x289a18[_0x32b91a(0x158)](_0x240863);}),router[a0_0x35fec7(0x11d)](a0_0x35fec7(0x167),async(_0x5cebb3,_0x1b6e37)=>{const _0x3ef3a1=a0_0x35fec7,{codex:_0x3c64a5,password:_0x222743,cpassword:_0x42ff1e,email:_0x40a3e0}=_0x5cebb3[_0x3ef3a1(0x133)],_0xb9b099=await sing_up[_0x3ef3a1(0x168)]({'code':_0x3c64a5,'email':_0x40a3e0,'isUsed':_0x3ef3a1(0x11f)}),_0x84dcb2=await bcrypt[_0x3ef3a1(0x125)](_0x222743,0xa);if(_0xb9b099){_0xb9b099[_0x3ef3a1(0x163)]=_0x84dcb2,_0xb9b099[_0x3ef3a1(0x15d)]=_0x3ef3a1(0x15e);const _0xaef39d=_0xb9b099[_0x3ef3a1(0x162)](),_0x1bada8=await master_shop['find'](),_0xcb1486=await email_settings[_0x3ef3a1(0x168)]();let _0x260680=nodemailer['createTransport']({'host':_0xcb1486[_0x3ef3a1(0x13a)],'port':Number(_0xcb1486[_0x3ef3a1(0x124)]),'secure':![],'auth':{'user':_0xcb1486[_0x3ef3a1(0x13d)],'pass':_0xcb1486[_0x3ef3a1(0x163)]}}),_0x11cd1d={'from':_0xcb1486[_0x3ef3a1(0x13d)],'to':_0xb9b099[_0x3ef3a1(0x13d)],'subject':_0x3ef3a1(0x141)+_0x1bada8[0x0][_0x3ef3a1(0x12f)],'attachments':[{'filename':_0x3ef3a1(0x128),'path':__dirname+'/../public'+_0x3ef3a1(0x129)+_0x1bada8[0x0][_0x3ef3a1(0x15b)],'cid':_0x3ef3a1(0x15a)}],'html':_0x3ef3a1(0x131)+_0x3ef3a1(0x147)+_0x3ef3a1(0x142)+_0x3ef3a1(0x165)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+'<div>'+_0x3ef3a1(0x138)+'</div>'+'</div>'+_0x3ef3a1(0x165)+_0x3ef3a1(0x12d)+_0xb9b099['name']+_0x3ef3a1(0x157)+_0x3ef3a1(0x134)+'<hr\x20class=\x22my-3\x22>'+_0x3ef3a1(0x165)+'<strong>\x20Regards\x20</strong>'+_0x3ef3a1(0x148)+_0x1bada8[0x0][_0x3ef3a1(0x12f)]+_0x3ef3a1(0x13e)+_0x3ef3a1(0x134)+_0x3ef3a1(0x134)+_0x3ef3a1(0x151)};_0x260680['sendMail'](_0x11cd1d,function(_0x522b8,_0x458938){const _0x567a58=_0x3ef3a1;_0x522b8?(console[_0x567a58(0x15f)](_0x522b8),console[_0x567a58(0x15f)](_0x567a58(0x152))):console[_0x567a58(0x15f)]('Email\x20sent\x20successfully');}),_0x1b6e37[_0x3ef3a1(0x13b)](_0x3ef3a1(0x15c));}else _0x5cebb3[_0x3ef3a1(0x153)](_0x3ef3a1(0x164),_0x3ef3a1(0x143)),_0x1b6e37[_0x3ef3a1(0x13b)]('/forgotPassword/code');}),module[a0_0x35fec7(0x12e)]=router;function a0_0x40c6(){const _0xbc1048=[',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','json','email_code','logo','image','/login/','isUsed','True','log','email_reset','floor','save','password','error','<div>','/forgotPassword/view','/code_password/','findOne','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','5nbQGgu','Password\x20Reset\x20-\x20','post','sendMail','False','126gkYLmp','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','Router','<strong>\x20Regards\x20</strong>','port','hash','render','Email\x20sent\x20successfully','Logo.png','/upload/','145080bnqidO','bcryptjs','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','<p>Hello\x20','exports','site_title','express','<!DOCTYPE\x20html>','4189140BSDSBW','body','</div>','nodemailer','4767630NVuSLL','success','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','/code/','host','redirect','/view','email','</h5>','../middleware/auth','187080xsjMEL','Password\x20Successfuly\x20Reset\x20-\x20','</head><body>','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','1694650DlAGis','length','errors','<html><head><title></title>','<h5>','2080172bqdSOB','<hr\x20class=\x22my-3\x22>','code','8HiKrbn','</b></h1></p>','createTransport','/forgotPassword/code/','2401047qHlVZD','</body></html>','Error\x20Occurs','flash','random','find','get'];a0_0x40c6=function(){return _0xbc1048;};return a0_0x40c6();}