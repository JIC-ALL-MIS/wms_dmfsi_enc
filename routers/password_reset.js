const a0_0x25b30e=a0_0x2bf6;(function(_0x1c9608,_0x1ef950){const _0xe3ef98=a0_0x2bf6,_0x66e2b5=_0x1c9608();while(!![]){try{const _0x57d52e=parseInt(_0xe3ef98(0x1c7))/0x1+parseInt(_0xe3ef98(0x1df))/0x2*(-parseInt(_0xe3ef98(0x1bc))/0x3)+-parseInt(_0xe3ef98(0x1fe))/0x4+parseInt(_0xe3ef98(0x1d3))/0x5*(-parseInt(_0xe3ef98(0x1e3))/0x6)+parseInt(_0xe3ef98(0x1eb))/0x7*(-parseInt(_0xe3ef98(0x1f9))/0x8)+parseInt(_0xe3ef98(0x1d6))/0x9+parseInt(_0xe3ef98(0x1c2))/0xa*(parseInt(_0xe3ef98(0x202))/0xb);if(_0x57d52e===_0x1ef950)break;else _0x66e2b5['push'](_0x66e2b5['shift']());}catch(_0x5b96de){_0x66e2b5['push'](_0x66e2b5['shift']());}}}(a0_0x853b,0x8fcdc));const express=require(a0_0x25b30e(0x1ef)),app=express(),router=express[a0_0x25b30e(0x1ed)](),bcrypt=require(a0_0x25b30e(0x1bf)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x25b30e(0x1ea)),auth=require('../middleware/auth'),nodemailer=require(a0_0x25b30e(0x1e0));router['get']('/view',async(_0x5d12b5,_0x29c1a3)=>{const _0x25d35c=a0_0x25b30e,_0x5289f2=await master_shop[_0x25d35c(0x1da)]();_0x29c1a3[_0x25d35c(0x1ba)](_0x25d35c(0x1f1),{'success':_0x5d12b5[_0x25d35c(0x1f6)](_0x25d35c(0x1bb)),'errors':_0x5d12b5[_0x25d35c(0x1f6)]('errors'),'master_shop':_0x5289f2});});function generateRandomAlphanumericString(_0x14f099=0x6){const _0x4c0c53=a0_0x25b30e,_0x3f619e=_0x4c0c53(0x200);let _0x191361='';for(let _0x131820=0x0;_0x131820<_0x14f099;_0x131820++){const _0x3908da=Math[_0x4c0c53(0x203)](Math[_0x4c0c53(0x1f4)]()*_0x3f619e[_0x4c0c53(0x1e8)]);_0x191361+=_0x3f619e[_0x3908da];}return _0x191361;}router[a0_0x25b30e(0x1c8)](a0_0x25b30e(0x1c9),async(_0x58f2df,_0x483f75)=>{const _0x26ddca=a0_0x25b30e,{email:_0xe21b03}=_0x58f2df[_0x26ddca(0x1dc)],_0x1cff6b=await sing_up['findOne']({'email':_0xe21b03});var _0x33e493=generateRandomAlphanumericString();const _0x2f97b6=await bcrypt[_0x26ddca(0x1cc)](_0x33e493,0xa);if(_0x1cff6b){_0x1cff6b[_0x26ddca(0x1ff)]=_0x33e493,_0x1cff6b[_0x26ddca(0x1e5)]=_0x26ddca(0x1ca);const _0x3d17db=_0x1cff6b[_0x26ddca(0x1fa)](),_0x5154aa=await master_shop[_0x26ddca(0x1da)](),_0xe27d28=await email_settings['findOne']();let _0x52183d=nodemailer[_0x26ddca(0x1e6)]({'host':_0xe27d28[_0x26ddca(0x1d1)],'port':Number(_0xe27d28[_0x26ddca(0x1f5)]),'secure':![],'auth':{'user':_0xe27d28[_0x26ddca(0x1d0)],'pass':_0xe27d28[_0x26ddca(0x1cd)]}}),_0x45cf50={'from':_0xe27d28[_0x26ddca(0x1d0)],'to':_0x1cff6b['email'],'subject':_0x26ddca(0x1fc)+_0x5154aa[0x0][_0x26ddca(0x1c6)],'attachments':[{'filename':_0x26ddca(0x1c1),'path':__dirname+_0x26ddca(0x201)+_0x26ddca(0x1ec)+_0x5154aa[0x0][_0x26ddca(0x1cf)],'cid':_0x26ddca(0x1f0)}],'html':_0x26ddca(0x1d4)+_0x26ddca(0x1b9)+_0x26ddca(0x1f7)+_0x26ddca(0x1d2)+_0x26ddca(0x1c4)+_0x26ddca(0x1d2)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x26ddca(0x1d5)+'</div>'+_0x26ddca(0x1d2)+'<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>'+_0x33e493+_0x26ddca(0x1f3)+_0x26ddca(0x1d5)+'<hr\x20class=\x22my-3\x22>'+_0x26ddca(0x1d2)+_0x26ddca(0x1e7)+_0x26ddca(0x1c3)+_0x5154aa[0x0]['site_title']+_0x26ddca(0x1bd)+_0x26ddca(0x1d5)+_0x26ddca(0x1d5)+_0x26ddca(0x1ce)};_0x52183d[_0x26ddca(0x1c5)](_0x45cf50,function(_0x3f6a0c,_0x5888bc){const _0x3cb246=_0x26ddca;_0x3f6a0c?(console[_0x3cb246(0x1db)](_0x3f6a0c),console[_0x3cb246(0x1db)]('Error\x20Occurs')):console['log']('Email\x20sent\x20successfully');}),_0x483f75[_0x26ddca(0x1d9)](_0x26ddca(0x1e2));}else _0x58f2df[_0x26ddca(0x1f6)]('error',_0x26ddca(0x1ee)),_0x483f75[_0x26ddca(0x1d9)]('/forgotPassword/view');}),router[a0_0x25b30e(0x1be)](a0_0x25b30e(0x1d8),async(_0x2eb1ae,_0xfabd68)=>{const _0x552e43=a0_0x25b30e,_0x4d7efe=await master_shop[_0x552e43(0x1da)]();_0xfabd68[_0x552e43(0x1ba)](_0x552e43(0x1dd),{'success':_0x2eb1ae[_0x552e43(0x1f6)](_0x552e43(0x1bb)),'errors':_0x2eb1ae['flash'](_0x552e43(0x1fb)),'master_shop':_0x4d7efe});}),router[a0_0x25b30e(0x1c8)](a0_0x25b30e(0x1d8),async(_0xd8a9f1,_0x102cd0)=>{const _0x4f939f=a0_0x25b30e,{code:_0x2709e0}=_0xd8a9f1[_0x4f939f(0x1dc)],_0x3100d6=await sing_up[_0x4f939f(0x1da)]({'code':_0x2709e0});console[_0x4f939f(0x1db)](_0x3100d6[_0x4f939f(0x1e8)]),_0x102cd0[_0x4f939f(0x1c0)](_0x3100d6);}),router[a0_0x25b30e(0x1c8)]('/code_password/',async(_0x1fc3b3,_0x322650)=>{const _0x48d7ff=a0_0x25b30e,{codex:_0x2822bf,password:_0x191c3f,cpassword:_0x54f14c,email:_0x5da751}=_0x1fc3b3['body'],_0x4f4bef=await sing_up['findOne']({'code':_0x2822bf,'email':_0x5da751,'isUsed':'False'}),_0x156a53=await bcrypt[_0x48d7ff(0x1cc)](_0x191c3f,0xa);if(_0x4f4bef){_0x4f4bef[_0x48d7ff(0x1cd)]=_0x156a53,_0x4f4bef[_0x48d7ff(0x1e5)]=_0x48d7ff(0x1e9);const _0x3d3dbd=_0x4f4bef[_0x48d7ff(0x1fa)](),_0x2a9239=await master_shop[_0x48d7ff(0x1da)](),_0x481fa5=await email_settings['findOne']();let _0x3481e0=nodemailer[_0x48d7ff(0x1e6)]({'host':_0x481fa5['host'],'port':Number(_0x481fa5['port']),'secure':![],'auth':{'user':_0x481fa5['email'],'pass':_0x481fa5[_0x48d7ff(0x1cd)]}}),_0x4f6266={'from':_0x481fa5[_0x48d7ff(0x1d0)],'to':_0x4f4bef['email'],'subject':_0x48d7ff(0x1fd)+_0x2a9239[0x0]['site_title'],'attachments':[{'filename':_0x48d7ff(0x1c1),'path':__dirname+'/../public'+_0x48d7ff(0x1ec)+_0x2a9239[0x0][_0x48d7ff(0x1cf)],'cid':_0x48d7ff(0x1f0)}],'html':_0x48d7ff(0x1d4)+_0x48d7ff(0x1b9)+_0x48d7ff(0x1f7)+'<div>'+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x48d7ff(0x1d2)+_0x48d7ff(0x1de)+_0x48d7ff(0x1d5)+_0x48d7ff(0x1d5)+_0x48d7ff(0x1d2)+'<p>Hello\x20'+_0x4f4bef['name']+_0x48d7ff(0x1f8)+'</div>'+'<hr\x20class=\x22my-3\x22>'+_0x48d7ff(0x1d2)+'<strong>\x20Regards\x20</strong>'+_0x48d7ff(0x1c3)+_0x2a9239[0x0]['site_title']+_0x48d7ff(0x1bd)+'</div>'+_0x48d7ff(0x1d5)+'</body></html>'};_0x3481e0[_0x48d7ff(0x1c5)](_0x4f6266,function(_0x5131a3,_0x49a09a){const _0x1e0235=_0x48d7ff;_0x5131a3?(console[_0x1e0235(0x1db)](_0x5131a3),console['log'](_0x1e0235(0x1f2))):console[_0x1e0235(0x1db)](_0x1e0235(0x1d7));}),_0x322650['redirect'](_0x48d7ff(0x1e4));}else _0x1fc3b3[_0x48d7ff(0x1f6)](_0x48d7ff(0x1cb),_0x48d7ff(0x1ee)),_0x322650[_0x48d7ff(0x1d9)](_0x48d7ff(0x1e1));}),module['exports']=router;function a0_0x2bf6(_0x11cea3,_0x2091d5){const _0x853b7=a0_0x853b();return a0_0x2bf6=function(_0x2bf645,_0x47257b){_0x2bf645=_0x2bf645-0x1b9;let _0x664af2=_0x853b7[_0x2bf645];return _0x664af2;},a0_0x2bf6(_0x11cea3,_0x2091d5);}function a0_0x853b(){const _0x16b721=['4824115XyqrFL','<!DOCTYPE\x20html>','</div>','2691225JMfRub','Email\x20sent\x20successfully','/code/','redirect','find','log','body','email_code','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','15260UfDzZP','nodemailer','/forgotPassword/code','/forgotPassword/code/','6cmztlW','/login/','isUsed','createTransport','<strong>\x20Regards\x20</strong>','length','True','../models/all_models','7TMQwVp','/upload/','Router','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','express','logo','email_reset','Error\x20Occurs','</b></h1></p>','random','port','flash','</head><body>',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','465056BxLULR','save','errors','Password\x20Reset\x20-\x20','Password\x20Successfuly\x20Reset\x20-\x20','3913532NSSfvu','code','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','/../public','26540833WhAodz','floor','<html><head><title></title>','render','success','396nplmjp','</h5>','get','bcryptjs','json','Logo.png','10EvsdyB','<h5>','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','sendMail','site_title','885690zSKMzd','post','/view','False','error','hash','password','</body></html>','image','email','host','<div>'];a0_0x853b=function(){return _0x16b721;};return a0_0x853b();}