const a0_0xf7f450=a0_0x2fa0;(function(_0x11ba97,_0x367d3d){const _0x1435f7=a0_0x2fa0,_0x13dade=_0x11ba97();while(!![]){try{const _0x591778=parseInt(_0x1435f7(0x161))/0x1*(parseInt(_0x1435f7(0x150))/0x2)+parseInt(_0x1435f7(0x17d))/0x3*(parseInt(_0x1435f7(0x184))/0x4)+-parseInt(_0x1435f7(0x14e))/0x5*(-parseInt(_0x1435f7(0x17e))/0x6)+parseInt(_0x1435f7(0x181))/0x7*(-parseInt(_0x1435f7(0x15f))/0x8)+parseInt(_0x1435f7(0x147))/0x9+parseInt(_0x1435f7(0x14d))/0xa*(parseInt(_0x1435f7(0x166))/0xb)+parseInt(_0x1435f7(0x165))/0xc*(-parseInt(_0x1435f7(0x14b))/0xd);if(_0x591778===_0x367d3d)break;else _0x13dade['push'](_0x13dade['shift']());}catch(_0x50f81c){_0x13dade['push'](_0x13dade['shift']());}}}(a0_0x3994,0xc1c4a));const express=require(a0_0xf7f450(0x168)),app=express(),router=express[a0_0xf7f450(0x176)](),bcrypt=require('bcryptjs'),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0xf7f450(0x185)),auth=require('../middleware/auth'),nodemailer=require(a0_0xf7f450(0x146));function a0_0x2fa0(_0x3e8273,_0x7b25bb){const _0x399477=a0_0x3994();return a0_0x2fa0=function(_0x2fa07f,_0x1f06c6){_0x2fa07f=_0x2fa07f-0x13f;let _0x5ac3c0=_0x399477[_0x2fa07f];return _0x5ac3c0;},a0_0x2fa0(_0x3e8273,_0x7b25bb);}router[a0_0xf7f450(0x158)]('/view',async(_0x1ebc83,_0x2fbdf7)=>{const _0x4ed73f=a0_0xf7f450,_0x183b48=await master_shop[_0x4ed73f(0x14c)]();_0x2fbdf7[_0x4ed73f(0x144)](_0x4ed73f(0x167),{'success':_0x1ebc83['flash'](_0x4ed73f(0x141)),'errors':_0x1ebc83['flash'](_0x4ed73f(0x13f)),'master_shop':_0x183b48});});function generateRandomAlphanumericString(_0x1f9cc1=0x6){const _0x4737c8=a0_0xf7f450,_0x1cf6a3='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';let _0x3d4abc='';for(let _0x2086e7=0x0;_0x2086e7<_0x1f9cc1;_0x2086e7++){const _0x4dd5a2=Math[_0x4737c8(0x189)](Math[_0x4737c8(0x188)]()*_0x1cf6a3[_0x4737c8(0x157)]);_0x3d4abc+=_0x1cf6a3[_0x4dd5a2];}return _0x3d4abc;}router[a0_0xf7f450(0x16f)]('/view',async(_0x24ce89,_0x459773)=>{const _0x35a602=a0_0xf7f450,{email:_0x332db7}=_0x24ce89[_0x35a602(0x163)],_0x49dc75=await sing_up[_0x35a602(0x15a)]({'email':_0x332db7});var _0x116750=generateRandomAlphanumericString();const _0x4240d7=await bcrypt[_0x35a602(0x145)](_0x116750,0xa);if(_0x49dc75){_0x49dc75[_0x35a602(0x15e)]=_0x116750,_0x49dc75[_0x35a602(0x16b)]='False';const _0x2b76a8=_0x49dc75[_0x35a602(0x16c)](),_0x4004ce=await master_shop[_0x35a602(0x14c)](),_0x1ac049=await email_settings[_0x35a602(0x15a)]();let _0x34f3ed=nodemailer[_0x35a602(0x182)]({'host':_0x1ac049['host'],'port':Number(_0x1ac049[_0x35a602(0x15b)]),'secure':![],'auth':{'user':_0x1ac049[_0x35a602(0x143)],'pass':_0x1ac049[_0x35a602(0x152)]}}),_0x10c894={'from':_0x1ac049[_0x35a602(0x143)],'to':_0x49dc75[_0x35a602(0x143)],'subject':_0x35a602(0x177)+_0x4004ce[0x0][_0x35a602(0x154)],'attachments':[{'filename':_0x35a602(0x16e),'path':__dirname+'/../public'+_0x35a602(0x164)+_0x4004ce[0x0][_0x35a602(0x153)],'cid':'logo'}],'html':_0x35a602(0x155)+_0x35a602(0x171)+_0x35a602(0x162)+_0x35a602(0x142)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x35a602(0x142)+_0x35a602(0x17a)+_0x35a602(0x149)+_0x35a602(0x149)+'<div>'+_0x35a602(0x151)+_0x116750+'</b></h1></p>'+_0x35a602(0x149)+_0x35a602(0x172)+_0x35a602(0x142)+_0x35a602(0x16d)+_0x35a602(0x180)+_0x4004ce[0x0][_0x35a602(0x154)]+'</h5>'+_0x35a602(0x149)+_0x35a602(0x149)+_0x35a602(0x17b)};_0x34f3ed[_0x35a602(0x160)](_0x10c894,function(_0x3db145,_0x1585a3){const _0x41a15c=_0x35a602;_0x3db145?(console[_0x41a15c(0x15c)](_0x3db145),console['log'](_0x41a15c(0x175))):console[_0x41a15c(0x15c)](_0x41a15c(0x159));}),_0x459773[_0x35a602(0x179)](_0x35a602(0x169));}else _0x24ce89[_0x35a602(0x186)](_0x35a602(0x148),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x459773[_0x35a602(0x179)]('/forgotPassword/view');}),router[a0_0xf7f450(0x158)](a0_0xf7f450(0x178),async(_0x355988,_0x3b38d9)=>{const _0x6e4f44=a0_0xf7f450,_0x542910=await master_shop['find']();_0x3b38d9[_0x6e4f44(0x144)]('email_code',{'success':_0x355988['flash']('success'),'errors':_0x355988[_0x6e4f44(0x186)](_0x6e4f44(0x13f)),'master_shop':_0x542910});}),router[a0_0xf7f450(0x16f)]('/code/',async(_0xfe5865,_0x5be92d)=>{const _0xfb5d82=a0_0xf7f450,{code:_0x49a525}=_0xfe5865[_0xfb5d82(0x163)],_0x1ed3eb=await sing_up[_0xfb5d82(0x14c)]({'code':_0x49a525});console[_0xfb5d82(0x15c)](_0x1ed3eb[_0xfb5d82(0x157)]),_0x5be92d[_0xfb5d82(0x170)](_0x1ed3eb);}),router[a0_0xf7f450(0x16f)](a0_0xf7f450(0x183),async(_0x2b4e49,_0x4e2116)=>{const _0x3856df=a0_0xf7f450,{codex:_0x4c481f,password:_0x36667e,cpassword:_0x20ed72,email:_0x454e62}=_0x2b4e49[_0x3856df(0x163)],_0x132c6b=await sing_up[_0x3856df(0x15a)]({'code':_0x4c481f,'email':_0x454e62,'isUsed':_0x3856df(0x16a)}),_0x2f5407=await bcrypt['hash'](_0x36667e,0xa);if(_0x132c6b){_0x132c6b['password']=_0x2f5407,_0x132c6b[_0x3856df(0x16b)]=_0x3856df(0x18a);const _0x263e31=_0x132c6b[_0x3856df(0x16c)](),_0x14f41c=await master_shop[_0x3856df(0x14c)](),_0x9810c2=await email_settings[_0x3856df(0x15a)]();let _0x524737=nodemailer[_0x3856df(0x182)]({'host':_0x9810c2[_0x3856df(0x187)],'port':Number(_0x9810c2[_0x3856df(0x15b)]),'secure':![],'auth':{'user':_0x9810c2[_0x3856df(0x143)],'pass':_0x9810c2[_0x3856df(0x152)]}}),_0x15ec02={'from':_0x9810c2[_0x3856df(0x143)],'to':_0x132c6b[_0x3856df(0x143)],'subject':_0x3856df(0x15d)+_0x14f41c[0x0][_0x3856df(0x154)],'attachments':[{'filename':'Logo.png','path':__dirname+'/../public'+_0x3856df(0x164)+_0x14f41c[0x0][_0x3856df(0x153)],'cid':'logo'}],'html':_0x3856df(0x155)+_0x3856df(0x171)+_0x3856df(0x162)+_0x3856df(0x142)+_0x3856df(0x156)+'<div>'+_0x3856df(0x17a)+_0x3856df(0x149)+_0x3856df(0x149)+_0x3856df(0x142)+_0x3856df(0x174)+_0x132c6b[_0x3856df(0x17c)]+_0x3856df(0x140)+'</div>'+_0x3856df(0x172)+_0x3856df(0x142)+_0x3856df(0x16d)+_0x3856df(0x180)+_0x14f41c[0x0][_0x3856df(0x154)]+_0x3856df(0x14f)+_0x3856df(0x149)+_0x3856df(0x149)+_0x3856df(0x17b)};_0x524737[_0x3856df(0x160)](_0x15ec02,function(_0x3922ec,_0x281c44){const _0x79e2c6=_0x3856df;_0x3922ec?(console[_0x79e2c6(0x15c)](_0x3922ec),console[_0x79e2c6(0x15c)](_0x79e2c6(0x175))):console[_0x79e2c6(0x15c)](_0x79e2c6(0x159));}),_0x4e2116[_0x3856df(0x179)](_0x3856df(0x14a));}else _0x2b4e49[_0x3856df(0x186)](_0x3856df(0x148),_0x3856df(0x17f)),_0x4e2116[_0x3856df(0x179)](_0x3856df(0x173));}),module['exports']=router;function a0_0x3994(){const _0x198b90=['../models/all_models','flash','host','random','floor','True','errors',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','success','<div>','email','render','hash','nodemailer','1132227pJacgP','error','</div>','/login/','5990062CReRsq','find','2050JcvXBg','7799045eXFSRq','</h5>','628052tIhNRY','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','password','image','site_title','<!DOCTYPE\x20html>','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','length','get','Email\x20sent\x20successfully','findOne','port','log','Password\x20Successfuly\x20Reset\x20-\x20','code','21856hSFEhx','sendMail','2UkHZgC','</head><body>','body','/upload/','36YhofcG','22033jJDqRY','email_reset','express','/forgotPassword/code/','False','isUsed','save','<strong>\x20Regards\x20</strong>','Logo.png','post','json','<html><head><title></title>','<hr\x20class=\x22my-3\x22>','/forgotPassword/code','<p>Hello\x20','Error\x20Occurs','Router','Password\x20Reset\x20-\x20','/code/','redirect','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','</body></html>','name','2748207nSIhCO','6tyJITN','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','<h5>','3752TtOKup','createTransport','/code_password/','4tWGDkw'];a0_0x3994=function(){return _0x198b90;};return a0_0x3994();}