function a0_0x17f2(_0xe0abaa,_0x19d3d2){const _0x45bb18=a0_0x45bb();return a0_0x17f2=function(_0x17f2d8,_0x1e3051){_0x17f2d8=_0x17f2d8-0x98;let _0x592b7e=_0x45bb18[_0x17f2d8];return _0x592b7e;},a0_0x17f2(_0xe0abaa,_0x19d3d2);}const a0_0xc02435=a0_0x17f2;function a0_0x45bb(){const _0x200d88=['success','get','name','180nDVmQz','isUsed','../models/all_models','</h5>','post','code','False','<strong>\x20Regards\x20</strong>','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','10ssTxtd','<hr\x20class=\x22my-3\x22>','error','express','</head><body>','createTransport','render','Logo.png','<h5>','884982mfXjTX','findOne','120229cjHfqe',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','2908TRhSuI','True','floor','image','24876480OGoyyr','email','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','../middleware/auth','site_title','4486108KNKfOa','<div>','/code_password/','random','/login/','length','exports','120Lxrsoi','Password\x20Successfuly\x20Reset\x20-\x20','nodemailer','json','password','bcryptjs','sendMail','logo','18YyLEYB','170523kdbIBH','/../public','redirect','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','email_code','</body></html>','port','<!DOCTYPE\x20html>','</b></h1></p>','body','<html><head><title></title>','errors','/view','7kTTXHU','/upload/','<p>Hello\x20','find','save','flash','100295alYVLT','/code/','host','hash','</div>','log'];a0_0x45bb=function(){return _0x200d88;};return a0_0x45bb();}(function(_0x6c4ed5,_0x7e08fa){const _0x42d5e3=a0_0x17f2,_0x2e4877=_0x6c4ed5();while(!![]){try{const _0x9a7f45=-parseInt(_0x42d5e3(0xd3))/0x1+-parseInt(_0x42d5e3(0xd5))/0x2*(parseInt(_0x42d5e3(0xa2))/0x3)+-parseInt(_0x42d5e3(0xbf))/0x4*(parseInt(_0x42d5e3(0xb6))/0x5)+parseInt(_0x42d5e3(0xd1))/0x6*(parseInt(_0x42d5e3(0xb0))/0x7)+-parseInt(_0x42d5e3(0x9a))/0x8*(parseInt(_0x42d5e3(0xa3))/0x9)+-parseInt(_0x42d5e3(0xc8))/0xa*(parseInt(_0x42d5e3(0xde))/0xb)+parseInt(_0x42d5e3(0xd9))/0xc;if(_0x9a7f45===_0x7e08fa)break;else _0x2e4877['push'](_0x2e4877['shift']());}catch(_0x3b2050){_0x2e4877['push'](_0x2e4877['shift']());}}}(a0_0x45bb,0x79500));const express=require(a0_0xc02435(0xcb)),app=express(),router=express['Router'](),bcrypt=require(a0_0xc02435(0x9f)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0xc02435(0xc1)),auth=require(a0_0xc02435(0xdc)),nodemailer=require(a0_0xc02435(0x9c));router[a0_0xc02435(0xbd)](a0_0xc02435(0xaf),async(_0xfc081b,_0x5b2f40)=>{const _0x4f5738=a0_0xc02435,_0x4ada59=await master_shop[_0x4f5738(0xb3)]();_0x5b2f40[_0x4f5738(0xce)]('email_reset',{'success':_0xfc081b[_0x4f5738(0xb5)](_0x4f5738(0xbc)),'errors':_0xfc081b[_0x4f5738(0xb5)](_0x4f5738(0xae)),'master_shop':_0x4ada59});});function generateRandomAlphanumericString(_0x341981=0x6){const _0x54da80=a0_0xc02435,_0x1f637a=_0x54da80(0xdb);let _0x7ae9b='';for(let _0x49129c=0x0;_0x49129c<_0x341981;_0x49129c++){const _0x1f7a72=Math[_0x54da80(0xd7)](Math[_0x54da80(0xe1)]()*_0x1f637a['length']);_0x7ae9b+=_0x1f637a[_0x1f7a72];}return _0x7ae9b;}router[a0_0xc02435(0xc3)](a0_0xc02435(0xaf),async(_0x4ff8dd,_0x15de66)=>{const _0x2fd4a0=a0_0xc02435,{email:_0x459d15}=_0x4ff8dd[_0x2fd4a0(0xac)],_0x1d2944=await sing_up[_0x2fd4a0(0xd2)]({'email':_0x459d15});var _0x5bcd95=generateRandomAlphanumericString();const _0x313e86=await bcrypt[_0x2fd4a0(0xb9)](_0x5bcd95,0xa);if(_0x1d2944){_0x1d2944[_0x2fd4a0(0xc4)]=_0x5bcd95,_0x1d2944[_0x2fd4a0(0xc0)]=_0x2fd4a0(0xc5);const _0x1cfeba=_0x1d2944[_0x2fd4a0(0xb4)](),_0x57f9d6=await master_shop[_0x2fd4a0(0xb3)](),_0x3be54d=await email_settings[_0x2fd4a0(0xd2)]();let _0x2c9f0e=nodemailer['createTransport']({'host':_0x3be54d[_0x2fd4a0(0xb8)],'port':Number(_0x3be54d[_0x2fd4a0(0xa9)]),'secure':![],'auth':{'user':_0x3be54d['email'],'pass':_0x3be54d[_0x2fd4a0(0x9e)]}}),_0x1f4398={'from':_0x3be54d[_0x2fd4a0(0xda)],'to':_0x1d2944[_0x2fd4a0(0xda)],'subject':'Password\x20Reset\x20-\x20'+_0x57f9d6[0x0][_0x2fd4a0(0xdd)],'attachments':[{'filename':_0x2fd4a0(0xcf),'path':__dirname+_0x2fd4a0(0xa4)+'/upload/'+_0x57f9d6[0x0][_0x2fd4a0(0xd8)],'cid':'logo'}],'html':'<!DOCTYPE\x20html>'+_0x2fd4a0(0xad)+_0x2fd4a0(0xcc)+'<div>'+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+'<div>'+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x2fd4a0(0xba)+'</div>'+'<div>'+'<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>'+_0x5bcd95+_0x2fd4a0(0xab)+'</div>'+_0x2fd4a0(0xc9)+_0x2fd4a0(0xdf)+_0x2fd4a0(0xc6)+'<h5>'+_0x57f9d6[0x0]['site_title']+_0x2fd4a0(0xc2)+'</div>'+_0x2fd4a0(0xba)+_0x2fd4a0(0xa8)};_0x2c9f0e[_0x2fd4a0(0xa0)](_0x1f4398,function(_0x4a37b5,_0x49b8dd){const _0x156ab4=_0x2fd4a0;_0x4a37b5?(console[_0x156ab4(0xbb)](_0x4a37b5),console['log']('Error\x20Occurs')):console[_0x156ab4(0xbb)]('Email\x20sent\x20successfully');}),_0x15de66['redirect']('/forgotPassword/code/');}else _0x4ff8dd[_0x2fd4a0(0xb5)](_0x2fd4a0(0xca),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x15de66[_0x2fd4a0(0xa5)]('/forgotPassword/view');}),router[a0_0xc02435(0xbd)](a0_0xc02435(0xb7),async(_0x4d6fa4,_0x55a72a)=>{const _0x3d9eaa=a0_0xc02435,_0x36667c=await master_shop[_0x3d9eaa(0xb3)]();_0x55a72a[_0x3d9eaa(0xce)](_0x3d9eaa(0xa7),{'success':_0x4d6fa4['flash'](_0x3d9eaa(0xbc)),'errors':_0x4d6fa4[_0x3d9eaa(0xb5)](_0x3d9eaa(0xae)),'master_shop':_0x36667c});}),router[a0_0xc02435(0xc3)](a0_0xc02435(0xb7),async(_0x5a7d39,_0x567f2c)=>{const _0x56aaa6=a0_0xc02435,{code:_0x54789d}=_0x5a7d39['body'],_0xaf6933=await sing_up[_0x56aaa6(0xb3)]({'code':_0x54789d});console[_0x56aaa6(0xbb)](_0xaf6933[_0x56aaa6(0x98)]),_0x567f2c[_0x56aaa6(0x9d)](_0xaf6933);}),router['post'](a0_0xc02435(0xe0),async(_0x2e0857,_0x1c674a)=>{const _0x584899=a0_0xc02435,{codex:_0x551bbe,password:_0x2a30d1,cpassword:_0x588e3f,email:_0x5b313a}=_0x2e0857[_0x584899(0xac)],_0x1efddb=await sing_up[_0x584899(0xd2)]({'code':_0x551bbe,'email':_0x5b313a,'isUsed':_0x584899(0xc5)}),_0x34f7e5=await bcrypt[_0x584899(0xb9)](_0x2a30d1,0xa);if(_0x1efddb){_0x1efddb[_0x584899(0x9e)]=_0x34f7e5,_0x1efddb[_0x584899(0xc0)]=_0x584899(0xd6);const _0x26eabd=_0x1efddb[_0x584899(0xb4)](),_0x52fd46=await master_shop['find'](),_0x50fdc2=await email_settings[_0x584899(0xd2)]();let _0x33b551=nodemailer[_0x584899(0xcd)]({'host':_0x50fdc2[_0x584899(0xb8)],'port':Number(_0x50fdc2[_0x584899(0xa9)]),'secure':![],'auth':{'user':_0x50fdc2['email'],'pass':_0x50fdc2['password']}}),_0x2bc9e0={'from':_0x50fdc2[_0x584899(0xda)],'to':_0x1efddb[_0x584899(0xda)],'subject':_0x584899(0x9b)+_0x52fd46[0x0]['site_title'],'attachments':[{'filename':'Logo.png','path':__dirname+_0x584899(0xa4)+_0x584899(0xb1)+_0x52fd46[0x0][_0x584899(0xd8)],'cid':_0x584899(0xa1)}],'html':_0x584899(0xaa)+_0x584899(0xad)+_0x584899(0xcc)+_0x584899(0xdf)+_0x584899(0xa6)+'<div>'+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x584899(0xba)+_0x584899(0xba)+_0x584899(0xdf)+_0x584899(0xb2)+_0x1efddb[_0x584899(0xbe)]+_0x584899(0xd4)+'</div>'+_0x584899(0xc9)+_0x584899(0xdf)+'<strong>\x20Regards\x20</strong>'+_0x584899(0xd0)+_0x52fd46[0x0][_0x584899(0xdd)]+_0x584899(0xc2)+'</div>'+'</div>'+_0x584899(0xa8)};_0x33b551['sendMail'](_0x2bc9e0,function(_0xc3131,_0x33ef3d){const _0x1f252d=_0x584899;_0xc3131?(console[_0x1f252d(0xbb)](_0xc3131),console['log']('Error\x20Occurs')):console[_0x1f252d(0xbb)]('Email\x20sent\x20successfully');}),_0x1c674a['redirect'](_0x584899(0xe2));}else _0x2e0857[_0x584899(0xb5)](_0x584899(0xca),_0x584899(0xc7)),_0x1c674a['redirect']('/forgotPassword/code');}),module[a0_0xc02435(0x99)]=router;