const a0_0x269e11=a0_0x5ec6;function a0_0x5ec6(_0x42861c,_0x145b87){const _0x5e4cb2=a0_0x5e4c();return a0_0x5ec6=function(_0x5ec68c,_0x177946){_0x5ec68c=_0x5ec68c-0x144;let _0x41d11a=_0x5e4cb2[_0x5ec68c];return _0x41d11a;},a0_0x5ec6(_0x42861c,_0x145b87);}(function(_0x1594c9,_0x20fd11){const _0xdb8143=a0_0x5ec6,_0x117715=_0x1594c9();while(!![]){try{const _0x4901cc=parseInt(_0xdb8143(0x190))/0x1*(parseInt(_0xdb8143(0x173))/0x2)+parseInt(_0xdb8143(0x180))/0x3+parseInt(_0xdb8143(0x15e))/0x4*(parseInt(_0xdb8143(0x187))/0x5)+-parseInt(_0xdb8143(0x17f))/0x6+-parseInt(_0xdb8143(0x18f))/0x7+-parseInt(_0xdb8143(0x181))/0x8*(parseInt(_0xdb8143(0x14e))/0x9)+-parseInt(_0xdb8143(0x14d))/0xa;if(_0x4901cc===_0x20fd11)break;else _0x117715['push'](_0x117715['shift']());}catch(_0xc855a1){_0x117715['push'](_0x117715['shift']());}}}(a0_0x5e4c,0xaf2f0));const express=require('express'),app=express(),router=express[a0_0x269e11(0x171)](),bcrypt=require('bcryptjs'),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x269e11(0x177)),auth=require(a0_0x269e11(0x175)),nodemailer=require(a0_0x269e11(0x16a));router['get'](a0_0x269e11(0x182),async(_0x3aeb5d,_0x3f61e3)=>{const _0x9f638b=a0_0x269e11,_0x53aa25=await master_shop['find']();_0x3f61e3[_0x9f638b(0x14c)](_0x9f638b(0x14b),{'success':_0x3aeb5d[_0x9f638b(0x16c)](_0x9f638b(0x186)),'errors':_0x3aeb5d['flash'](_0x9f638b(0x18d)),'master_shop':_0x53aa25});});function generateRandomAlphanumericString(_0x1749e0=0x6){const _0x4b9f1b=a0_0x269e11,_0x386460=_0x4b9f1b(0x174);let _0x40b12d='';for(let _0x2159d0=0x0;_0x2159d0<_0x1749e0;_0x2159d0++){const _0xddb4ce=Math[_0x4b9f1b(0x15f)](Math['random']()*_0x386460[_0x4b9f1b(0x156)]);_0x40b12d+=_0x386460[_0xddb4ce];}return _0x40b12d;}router[a0_0x269e11(0x165)](a0_0x269e11(0x182),async(_0x24db6d,_0x4208b1)=>{const _0x34fd3b=a0_0x269e11,{email:_0x191737}=_0x24db6d[_0x34fd3b(0x15b)],_0x19f550=await sing_up['findOne']({'email':_0x191737});var _0x5aa833=generateRandomAlphanumericString();const _0x32eac5=await bcrypt['hash'](_0x5aa833,0xa);if(_0x19f550){_0x19f550[_0x34fd3b(0x167)]=_0x5aa833,_0x19f550[_0x34fd3b(0x16f)]=_0x34fd3b(0x16e);const _0x51bfd3=_0x19f550[_0x34fd3b(0x179)](),_0x4458e0=await master_shop['find'](),_0x26b0e4=await email_settings[_0x34fd3b(0x149)]();let _0x553cc6=nodemailer[_0x34fd3b(0x16b)]({'host':_0x26b0e4[_0x34fd3b(0x154)],'port':Number(_0x26b0e4[_0x34fd3b(0x158)]),'secure':![],'auth':{'user':_0x26b0e4[_0x34fd3b(0x164)],'pass':_0x26b0e4[_0x34fd3b(0x18c)]}}),_0x4bfd41={'from':_0x26b0e4['email'],'to':_0x19f550['email'],'subject':_0x34fd3b(0x145)+_0x4458e0[0x0][_0x34fd3b(0x192)],'attachments':[{'filename':_0x34fd3b(0x153),'path':__dirname+_0x34fd3b(0x147)+_0x34fd3b(0x146)+_0x4458e0[0x0][_0x34fd3b(0x144)],'cid':_0x34fd3b(0x157)}],'html':_0x34fd3b(0x185)+_0x34fd3b(0x17d)+_0x34fd3b(0x15c)+_0x34fd3b(0x169)+_0x34fd3b(0x15d)+'<div>'+_0x34fd3b(0x17b)+_0x34fd3b(0x188)+'</div>'+'<div>'+'<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>'+_0x5aa833+_0x34fd3b(0x150)+_0x34fd3b(0x188)+'<hr\x20class=\x22my-3\x22>'+_0x34fd3b(0x169)+'<strong>\x20Regards\x20</strong>'+_0x34fd3b(0x15a)+_0x4458e0[0x0][_0x34fd3b(0x192)]+_0x34fd3b(0x168)+'</div>'+_0x34fd3b(0x188)+_0x34fd3b(0x176)};_0x553cc6[_0x34fd3b(0x16d)](_0x4bfd41,function(_0x5f527e,_0x1a0170){const _0x1b8436=_0x34fd3b;_0x5f527e?(console[_0x1b8436(0x191)](_0x5f527e),console[_0x1b8436(0x191)](_0x1b8436(0x152))):console[_0x1b8436(0x191)](_0x1b8436(0x161));}),_0x4208b1[_0x34fd3b(0x18b)](_0x34fd3b(0x170));}else _0x24db6d['flash'](_0x34fd3b(0x159),_0x34fd3b(0x17c)),_0x4208b1['redirect'](_0x34fd3b(0x17e));}),router[a0_0x269e11(0x166)]('/code/',async(_0x58e24d,_0x2c1061)=>{const _0x18ec13=a0_0x269e11,_0x4988ed=await master_shop[_0x18ec13(0x172)]();_0x2c1061['render'](_0x18ec13(0x148),{'success':_0x58e24d[_0x18ec13(0x16c)](_0x18ec13(0x186)),'errors':_0x58e24d[_0x18ec13(0x16c)](_0x18ec13(0x18d)),'master_shop':_0x4988ed});}),router[a0_0x269e11(0x165)](a0_0x269e11(0x163),async(_0x7b9526,_0x310121)=>{const _0xda3817=a0_0x269e11,{code:_0x406592}=_0x7b9526['body'],_0x22eb1a=await sing_up[_0xda3817(0x172)]({'code':_0x406592});console[_0xda3817(0x191)](_0x22eb1a[_0xda3817(0x156)]),_0x310121[_0xda3817(0x18a)](_0x22eb1a);}),router[a0_0x269e11(0x165)](a0_0x269e11(0x160),async(_0x2941cd,_0x70164a)=>{const _0x4d95b1=a0_0x269e11,{codex:_0x3667ee,password:_0x5c83b9,cpassword:_0xa8b70f,email:_0x527785}=_0x2941cd[_0x4d95b1(0x15b)],_0x3c021d=await sing_up[_0x4d95b1(0x149)]({'code':_0x3667ee,'email':_0x527785,'isUsed':_0x4d95b1(0x16e)}),_0x3b33cc=await bcrypt[_0x4d95b1(0x183)](_0x5c83b9,0xa);if(_0x3c021d){_0x3c021d[_0x4d95b1(0x18c)]=_0x3b33cc,_0x3c021d[_0x4d95b1(0x16f)]=_0x4d95b1(0x14a);const _0x56bf9f=_0x3c021d[_0x4d95b1(0x179)](),_0x3f8fe4=await master_shop[_0x4d95b1(0x172)](),_0x21f94f=await email_settings[_0x4d95b1(0x149)]();let _0x30589b=nodemailer[_0x4d95b1(0x16b)]({'host':_0x21f94f[_0x4d95b1(0x154)],'port':Number(_0x21f94f[_0x4d95b1(0x158)]),'secure':![],'auth':{'user':_0x21f94f[_0x4d95b1(0x164)],'pass':_0x21f94f[_0x4d95b1(0x18c)]}}),_0x44f816={'from':_0x21f94f['email'],'to':_0x3c021d[_0x4d95b1(0x164)],'subject':_0x4d95b1(0x162)+_0x3f8fe4[0x0][_0x4d95b1(0x192)],'attachments':[{'filename':_0x4d95b1(0x153),'path':__dirname+'/../public'+_0x4d95b1(0x146)+_0x3f8fe4[0x0][_0x4d95b1(0x144)],'cid':'logo'}],'html':_0x4d95b1(0x185)+_0x4d95b1(0x17d)+_0x4d95b1(0x15c)+'<div>'+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x4d95b1(0x169)+_0x4d95b1(0x17b)+_0x4d95b1(0x188)+_0x4d95b1(0x188)+'<div>'+_0x4d95b1(0x184)+_0x3c021d[_0x4d95b1(0x155)]+_0x4d95b1(0x17a)+_0x4d95b1(0x188)+_0x4d95b1(0x14f)+_0x4d95b1(0x169)+_0x4d95b1(0x18e)+_0x4d95b1(0x15a)+_0x3f8fe4[0x0][_0x4d95b1(0x192)]+'</h5>'+'</div>'+'</div>'+'</body></html>'};_0x30589b[_0x4d95b1(0x16d)](_0x44f816,function(_0x2c0cfa,_0x13ce63){const _0x5a5206=_0x4d95b1;_0x2c0cfa?(console['log'](_0x2c0cfa),console[_0x5a5206(0x191)](_0x5a5206(0x152))):console[_0x5a5206(0x191)](_0x5a5206(0x161));}),_0x70164a['redirect'](_0x4d95b1(0x151));}else _0x2941cd['flash'](_0x4d95b1(0x159),_0x4d95b1(0x17c)),_0x70164a[_0x4d95b1(0x18b)](_0x4d95b1(0x189));}),module[a0_0x269e11(0x178)]=router;function a0_0x5e4c(){const _0x3dc054=['Email\x20Not\x20Found\x20please\x20check\x20your\x20email','<html><head><title></title>','/forgotPassword/view','4244460gTKnGV','3627207tIbzxx','41264HeuNFA','/view','hash','<p>Hello\x20','<!DOCTYPE\x20html>','success','303705rzpdsV','</div>','/forgotPassword/code','json','redirect','password','errors','<strong>\x20Regards\x20</strong>','2190951BWWWud','47193lHMgvG','log','site_title','image','Password\x20Reset\x20-\x20','/upload/','/../public','email_code','findOne','True','email_reset','render','6709540rONUez','495CdnRiw','<hr\x20class=\x22my-3\x22>','</b></h1></p>','/login/','Error\x20Occurs','Logo.png','host','name','length','logo','port','error','<h5>','body','</head><body>','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','20zIESpA','floor','/code_password/','Email\x20sent\x20successfully','Password\x20Successfuly\x20Reset\x20-\x20','/code/','email','post','get','code','</h5>','<div>','nodemailer','createTransport','flash','sendMail','False','isUsed','/forgotPassword/code/','Router','find','50OeaWKF','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','../middleware/auth','</body></html>','../models/all_models','exports','save',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'];a0_0x5e4c=function(){return _0x3dc054;};return a0_0x5e4c();}