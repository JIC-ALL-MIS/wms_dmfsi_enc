function a0_0x25bb(_0x18af75,_0x1a966f){const _0x105825=a0_0x1058();return a0_0x25bb=function(_0x25bb83,_0xea213c){_0x25bb83=_0x25bb83-0x112;let _0x4b2045=_0x105825[_0x25bb83];return _0x4b2045;},a0_0x25bb(_0x18af75,_0x1a966f);}const a0_0x1d3070=a0_0x25bb;(function(_0x561cae,_0x761fa){const _0x1c6fca=a0_0x25bb,_0x818aca=_0x561cae();while(!![]){try{const _0x31c579=parseInt(_0x1c6fca(0x12e))/0x1*(-parseInt(_0x1c6fca(0x13a))/0x2)+parseInt(_0x1c6fca(0x127))/0x3*(-parseInt(_0x1c6fca(0x119))/0x4)+parseInt(_0x1c6fca(0x12a))/0x5*(parseInt(_0x1c6fca(0x11e))/0x6)+-parseInt(_0x1c6fca(0x13c))/0x7*(parseInt(_0x1c6fca(0x15e))/0x8)+parseInt(_0x1c6fca(0x14b))/0x9*(parseInt(_0x1c6fca(0x149))/0xa)+parseInt(_0x1c6fca(0x148))/0xb*(-parseInt(_0x1c6fca(0x15a))/0xc)+parseInt(_0x1c6fca(0x145))/0xd;if(_0x31c579===_0x761fa)break;else _0x818aca['push'](_0x818aca['shift']());}catch(_0x5bee99){_0x818aca['push'](_0x818aca['shift']());}}}(a0_0x1058,0xbd981));function a0_0x1058(){const _0x4c3bb0=['10RqfogX','Error\x20Occurs','3110409zOqdNg','log','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','hash','/code/','site_title','post','True','success','/forgotPassword/code/','/forgotPassword/code','code','errors','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','1200hKmDjy','length','Router','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','170248DYVCAU','</h5>','image','render','random','find','flash','exports','</b></h1></p>','<div>','2828424LgOitr','</div>','<p>Hello\x20','Email\x20sent\x20successfully','<strong>\x20Regards\x20</strong>','9618GWOjYB','/code_password/','save','../models/all_models',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','/upload/','<html><head><title></title>','port','Logo.png','6UVLmSt','json','/view','4485iNXCbo','host','email','<hr\x20class=\x22my-3\x22>','3341KMNaPm','isUsed','logo','<!DOCTYPE\x20html>','Password\x20Successfuly\x20Reset\x20-\x20','/login/','body','../middleware/auth','/../public','Password\x20Reset\x20-\x20','error','password','176lEaWGW','</head><body>','357lXAxiO','findOne','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','<h5>','express','floor','name','get','email_reset','38888668fysDVv','nodemailer','sendMail','132528FYGrDp'];a0_0x1058=function(){return _0x4c3bb0;};return a0_0x1058();}const express=require(a0_0x1d3070(0x140)),app=express(),router=express[a0_0x1d3070(0x15c)](),bcrypt=require('bcryptjs'),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x1d3070(0x121)),auth=require(a0_0x1d3070(0x135)),nodemailer=require(a0_0x1d3070(0x146));router[a0_0x1d3070(0x143)](a0_0x1d3070(0x129),async(_0x3ca9c5,_0x45a0bf)=>{const _0x4fbb5a=a0_0x1d3070,_0x204c47=await master_shop[_0x4fbb5a(0x114)]();_0x45a0bf[_0x4fbb5a(0x112)](_0x4fbb5a(0x144),{'success':_0x3ca9c5[_0x4fbb5a(0x115)](_0x4fbb5a(0x153)),'errors':_0x3ca9c5[_0x4fbb5a(0x115)]('errors'),'master_shop':_0x204c47});});function generateRandomAlphanumericString(_0x3c1dc8=0x6){const _0x2d43e8=a0_0x1d3070,_0x525e49=_0x2d43e8(0x14d);let _0x297cb7='';for(let _0x5d11e9=0x0;_0x5d11e9<_0x3c1dc8;_0x5d11e9++){const _0x100165=Math[_0x2d43e8(0x141)](Math[_0x2d43e8(0x113)]()*_0x525e49[_0x2d43e8(0x15b)]);_0x297cb7+=_0x525e49[_0x100165];}return _0x297cb7;}router[a0_0x1d3070(0x151)](a0_0x1d3070(0x129),async(_0x56847f,_0x13a04a)=>{const _0x2438df=a0_0x1d3070,{email:_0x1ef0fc}=_0x56847f[_0x2438df(0x134)],_0x29b5c3=await sing_up['findOne']({'email':_0x1ef0fc});var _0x2ecbc2=generateRandomAlphanumericString();const _0xe3f74=await bcrypt['hash'](_0x2ecbc2,0xa);if(_0x29b5c3){_0x29b5c3[_0x2438df(0x156)]=_0x2ecbc2,_0x29b5c3[_0x2438df(0x12f)]='False';const _0x297964=_0x29b5c3[_0x2438df(0x120)](),_0x526de1=await master_shop[_0x2438df(0x114)](),_0x21e979=await email_settings[_0x2438df(0x13d)]();let _0x59021c=nodemailer['createTransport']({'host':_0x21e979[_0x2438df(0x12b)],'port':Number(_0x21e979[_0x2438df(0x125)]),'secure':![],'auth':{'user':_0x21e979[_0x2438df(0x12c)],'pass':_0x21e979[_0x2438df(0x139)]}}),_0x4ef761={'from':_0x21e979[_0x2438df(0x12c)],'to':_0x29b5c3[_0x2438df(0x12c)],'subject':_0x2438df(0x137)+_0x526de1[0x0][_0x2438df(0x150)],'attachments':[{'filename':_0x2438df(0x126),'path':__dirname+'/../public'+'/upload/'+_0x526de1[0x0][_0x2438df(0x160)],'cid':_0x2438df(0x130)}],'html':'<!DOCTYPE\x20html>'+_0x2438df(0x124)+'</head><body>'+_0x2438df(0x118)+_0x2438df(0x158)+'<div>'+_0x2438df(0x159)+'</div>'+_0x2438df(0x11a)+'<div>'+_0x2438df(0x15d)+_0x2ecbc2+_0x2438df(0x117)+'</div>'+'<hr\x20class=\x22my-3\x22>'+_0x2438df(0x118)+_0x2438df(0x11d)+_0x2438df(0x13f)+_0x526de1[0x0][_0x2438df(0x150)]+_0x2438df(0x15f)+_0x2438df(0x11a)+_0x2438df(0x11a)+'</body></html>'};_0x59021c['sendMail'](_0x4ef761,function(_0xcde4f3,_0xeaa5ed){const _0x14de15=_0x2438df;_0xcde4f3?(console['log'](_0xcde4f3),console[_0x14de15(0x14c)](_0x14de15(0x14a))):console[_0x14de15(0x14c)](_0x14de15(0x11c));}),_0x13a04a['redirect'](_0x2438df(0x154));}else _0x56847f['flash'](_0x2438df(0x138),_0x2438df(0x13e)),_0x13a04a['redirect']('/forgotPassword/view');}),router[a0_0x1d3070(0x143)](a0_0x1d3070(0x14f),async(_0x5837f2,_0x3e1b89)=>{const _0x328791=a0_0x1d3070,_0x5c82b7=await master_shop['find']();_0x3e1b89[_0x328791(0x112)]('email_code',{'success':_0x5837f2[_0x328791(0x115)](_0x328791(0x153)),'errors':_0x5837f2[_0x328791(0x115)](_0x328791(0x157)),'master_shop':_0x5c82b7});}),router['post']('/code/',async(_0x594a44,_0x49bd13)=>{const _0x23b40a=a0_0x1d3070,{code:_0x32d43b}=_0x594a44[_0x23b40a(0x134)],_0x36f0fd=await sing_up[_0x23b40a(0x114)]({'code':_0x32d43b});console['log'](_0x36f0fd['length']),_0x49bd13[_0x23b40a(0x128)](_0x36f0fd);}),router[a0_0x1d3070(0x151)](a0_0x1d3070(0x11f),async(_0x52be45,_0x57067f)=>{const _0x46515e=a0_0x1d3070,{codex:_0x5c6765,password:_0x2d898f,cpassword:_0x2b11fd,email:_0x4a2698}=_0x52be45['body'],_0x3ebf81=await sing_up[_0x46515e(0x13d)]({'code':_0x5c6765,'email':_0x4a2698,'isUsed':'False'}),_0x3b3ed3=await bcrypt[_0x46515e(0x14e)](_0x2d898f,0xa);if(_0x3ebf81){_0x3ebf81[_0x46515e(0x139)]=_0x3b3ed3,_0x3ebf81[_0x46515e(0x12f)]=_0x46515e(0x152);const _0x53c0d7=_0x3ebf81['save'](),_0x57b841=await master_shop[_0x46515e(0x114)](),_0x380a14=await email_settings['findOne']();let _0x5410ec=nodemailer['createTransport']({'host':_0x380a14['host'],'port':Number(_0x380a14[_0x46515e(0x125)]),'secure':![],'auth':{'user':_0x380a14[_0x46515e(0x12c)],'pass':_0x380a14[_0x46515e(0x139)]}}),_0x14e0ee={'from':_0x380a14[_0x46515e(0x12c)],'to':_0x3ebf81[_0x46515e(0x12c)],'subject':_0x46515e(0x132)+_0x57b841[0x0][_0x46515e(0x150)],'attachments':[{'filename':'Logo.png','path':__dirname+_0x46515e(0x136)+_0x46515e(0x123)+_0x57b841[0x0][_0x46515e(0x160)],'cid':'logo'}],'html':_0x46515e(0x131)+_0x46515e(0x124)+_0x46515e(0x13b)+'<div>'+_0x46515e(0x158)+_0x46515e(0x118)+_0x46515e(0x159)+'</div>'+_0x46515e(0x11a)+_0x46515e(0x118)+_0x46515e(0x11b)+_0x3ebf81[_0x46515e(0x142)]+_0x46515e(0x122)+_0x46515e(0x11a)+_0x46515e(0x12d)+_0x46515e(0x118)+'<strong>\x20Regards\x20</strong>'+_0x46515e(0x13f)+_0x57b841[0x0][_0x46515e(0x150)]+'</h5>'+_0x46515e(0x11a)+_0x46515e(0x11a)+'</body></html>'};_0x5410ec[_0x46515e(0x147)](_0x14e0ee,function(_0x107a5f,_0x236d30){const _0x2d2f9e=_0x46515e;_0x107a5f?(console[_0x2d2f9e(0x14c)](_0x107a5f),console[_0x2d2f9e(0x14c)]('Error\x20Occurs')):console['log'](_0x2d2f9e(0x11c));}),_0x57067f['redirect'](_0x46515e(0x133));}else _0x52be45[_0x46515e(0x115)]('error',_0x46515e(0x13e)),_0x57067f['redirect'](_0x46515e(0x155));}),module[a0_0x1d3070(0x116)]=router;