function a0_0x442e(_0x39ebc6,_0x44447e){const _0x3cfae2=a0_0x3cfa();return a0_0x442e=function(_0x442e6d,_0x4264b3){_0x442e6d=_0x442e6d-0x154;let _0x1099a9=_0x3cfae2[_0x442e6d];return _0x1099a9;},a0_0x442e(_0x39ebc6,_0x44447e);}const a0_0x1fe20c=a0_0x442e;(function(_0x3d4528,_0xb63f5a){const _0x243650=a0_0x442e,_0x219efd=_0x3d4528();while(!![]){try{const _0x464b7c=parseInt(_0x243650(0x19a))/0x1+parseInt(_0x243650(0x168))/0x2+-parseInt(_0x243650(0x195))/0x3+-parseInt(_0x243650(0x16f))/0x4*(-parseInt(_0x243650(0x197))/0x5)+-parseInt(_0x243650(0x16d))/0x6+-parseInt(_0x243650(0x173))/0x7*(-parseInt(_0x243650(0x163))/0x8)+-parseInt(_0x243650(0x185))/0x9;if(_0x464b7c===_0xb63f5a)break;else _0x219efd['push'](_0x219efd['shift']());}catch(_0x4b5f25){_0x219efd['push'](_0x219efd['shift']());}}}(a0_0x3cfa,0x539fb));const express=require('express'),app=express(),router=express[a0_0x1fe20c(0x17d)](),bcrypt=require('bcryptjs'),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x1fe20c(0x15e)),auth=require(a0_0x1fe20c(0x15d)),nodemailer=require(a0_0x1fe20c(0x174));router['get']('/view',async(_0x56308e,_0x68375e)=>{const _0x1631b2=a0_0x1fe20c,_0x2475a3=await master_shop['find']();_0x68375e[_0x1631b2(0x17b)](_0x1631b2(0x190),{'success':_0x56308e['flash'](_0x1631b2(0x19c)),'errors':_0x56308e[_0x1631b2(0x15f)](_0x1631b2(0x18b)),'master_shop':_0x2475a3});});function generateRandomAlphanumericString(_0x4f749b=0x6){const _0x1bca73=a0_0x1fe20c,_0x5bc136='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';let _0x5e4506='';for(let _0x422174=0x0;_0x422174<_0x4f749b;_0x422174++){const _0x1c2733=Math[_0x1bca73(0x186)](Math['random']()*_0x5bc136[_0x1bca73(0x177)]);_0x5e4506+=_0x5bc136[_0x1c2733];}return _0x5e4506;}function a0_0x3cfa(){const _0x1f59a2=['code','post','Password\x20Reset\x20-\x20',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','2867112kcVaoF','floor','</b></h1></p>','</head><body>','site_title','image','errors','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','<html><head><title></title>','</h5>','Error\x20Occurs','email_reset','Email\x20sent\x20successfully','password','isUsed','</div>','722244nrEFUC','/upload/','900uyKTbh','Password\x20Successfuly\x20Reset\x20-\x20','<!DOCTYPE\x20html>','673699nJOdNb','True','success','<strong>\x20Regards\x20</strong>','logo','Logo.png','/view','<div>','email','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','<p>Hello\x20','/login/','../middleware/auth','../models/all_models','flash','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','body','</body></html>','6112wYuBuw','False','email_code','findOne','get','1084584yTFHtR','port','find','hash','host','3963168XtfXzQ','createTransport','4828tdYrtu','save','/code/','<hr\x20class=\x22my-3\x22>','1183PrfNdM','nodemailer','error','/forgotPassword/view','length','exports','redirect','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','render','/code_password/','Router','log','/../public','sendMail'];a0_0x3cfa=function(){return _0x1f59a2;};return a0_0x3cfa();}router[a0_0x1fe20c(0x182)](a0_0x1fe20c(0x157),async(_0x247c65,_0x9ee7b2)=>{const _0x10d42a=a0_0x1fe20c,{email:_0x481068}=_0x247c65['body'],_0x3f010b=await sing_up['findOne']({'email':_0x481068});var _0x3d5eea=generateRandomAlphanumericString();const _0x19f22e=await bcrypt[_0x10d42a(0x16b)](_0x3d5eea,0xa);if(_0x3f010b){_0x3f010b[_0x10d42a(0x181)]=_0x3d5eea,_0x3f010b['isUsed']=_0x10d42a(0x164);const _0x444846=_0x3f010b[_0x10d42a(0x170)](),_0x190be8=await master_shop['find'](),_0x400f9d=await email_settings['findOne']();let _0x3ac7ae=nodemailer[_0x10d42a(0x16e)]({'host':_0x400f9d[_0x10d42a(0x16c)],'port':Number(_0x400f9d[_0x10d42a(0x169)]),'secure':![],'auth':{'user':_0x400f9d[_0x10d42a(0x159)],'pass':_0x400f9d[_0x10d42a(0x192)]}}),_0x38c3a6={'from':_0x400f9d[_0x10d42a(0x159)],'to':_0x3f010b['email'],'subject':_0x10d42a(0x183)+_0x190be8[0x0]['site_title'],'attachments':[{'filename':_0x10d42a(0x156),'path':__dirname+'/../public'+'/upload/'+_0x190be8[0x0][_0x10d42a(0x18a)],'cid':_0x10d42a(0x155)}],'html':_0x10d42a(0x199)+_0x10d42a(0x18d)+_0x10d42a(0x188)+_0x10d42a(0x158)+_0x10d42a(0x17a)+'<div>'+_0x10d42a(0x15a)+_0x10d42a(0x194)+'</div>'+_0x10d42a(0x158)+_0x10d42a(0x18c)+_0x3d5eea+_0x10d42a(0x187)+_0x10d42a(0x194)+_0x10d42a(0x172)+_0x10d42a(0x158)+_0x10d42a(0x154)+'<h5>'+_0x190be8[0x0][_0x10d42a(0x189)]+'</h5>'+_0x10d42a(0x194)+'</div>'+_0x10d42a(0x162)};_0x3ac7ae['sendMail'](_0x38c3a6,function(_0x3df272,_0x123d6a){const _0x7e78ff=_0x10d42a;_0x3df272?(console[_0x7e78ff(0x17e)](_0x3df272),console['log']('Error\x20Occurs')):console[_0x7e78ff(0x17e)](_0x7e78ff(0x191));}),_0x9ee7b2['redirect']('/forgotPassword/code/');}else _0x247c65['flash'](_0x10d42a(0x175),_0x10d42a(0x160)),_0x9ee7b2[_0x10d42a(0x179)](_0x10d42a(0x176));}),router[a0_0x1fe20c(0x167)](a0_0x1fe20c(0x171),async(_0x329ae7,_0x3148cb)=>{const _0x3404ac=a0_0x1fe20c,_0x5f3d86=await master_shop[_0x3404ac(0x16a)]();_0x3148cb[_0x3404ac(0x17b)](_0x3404ac(0x165),{'success':_0x329ae7[_0x3404ac(0x15f)](_0x3404ac(0x19c)),'errors':_0x329ae7[_0x3404ac(0x15f)](_0x3404ac(0x18b)),'master_shop':_0x5f3d86});}),router[a0_0x1fe20c(0x182)](a0_0x1fe20c(0x171),async(_0x1f0c3d,_0x1acc59)=>{const _0x4d4b47=a0_0x1fe20c,{code:_0x2ff441}=_0x1f0c3d[_0x4d4b47(0x161)],_0x415997=await sing_up[_0x4d4b47(0x16a)]({'code':_0x2ff441});console['log'](_0x415997[_0x4d4b47(0x177)]),_0x1acc59['json'](_0x415997);}),router['post'](a0_0x1fe20c(0x17c),async(_0x4db53c,_0x26c73d)=>{const _0x406a3e=a0_0x1fe20c,{codex:_0x11c49f,password:_0x5e2e31,cpassword:_0x9141c4,email:_0x1bfac9}=_0x4db53c['body'],_0x4511d7=await sing_up[_0x406a3e(0x166)]({'code':_0x11c49f,'email':_0x1bfac9,'isUsed':_0x406a3e(0x164)}),_0x28b823=await bcrypt[_0x406a3e(0x16b)](_0x5e2e31,0xa);if(_0x4511d7){_0x4511d7[_0x406a3e(0x192)]=_0x28b823,_0x4511d7[_0x406a3e(0x193)]=_0x406a3e(0x19b);const _0x3bb545=_0x4511d7[_0x406a3e(0x170)](),_0x5b68b2=await master_shop['find'](),_0x370452=await email_settings['findOne']();let _0x44ebe3=nodemailer[_0x406a3e(0x16e)]({'host':_0x370452[_0x406a3e(0x16c)],'port':Number(_0x370452['port']),'secure':![],'auth':{'user':_0x370452['email'],'pass':_0x370452['password']}}),_0x14b7d7={'from':_0x370452[_0x406a3e(0x159)],'to':_0x4511d7[_0x406a3e(0x159)],'subject':_0x406a3e(0x198)+_0x5b68b2[0x0][_0x406a3e(0x189)],'attachments':[{'filename':_0x406a3e(0x156),'path':__dirname+_0x406a3e(0x17f)+_0x406a3e(0x196)+_0x5b68b2[0x0][_0x406a3e(0x18a)],'cid':'logo'}],'html':_0x406a3e(0x199)+_0x406a3e(0x18d)+_0x406a3e(0x188)+_0x406a3e(0x158)+_0x406a3e(0x17a)+_0x406a3e(0x158)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+'</div>'+_0x406a3e(0x194)+_0x406a3e(0x158)+_0x406a3e(0x15b)+_0x4511d7['name']+_0x406a3e(0x184)+'</div>'+_0x406a3e(0x172)+'<div>'+_0x406a3e(0x154)+'<h5>'+_0x5b68b2[0x0][_0x406a3e(0x189)]+_0x406a3e(0x18e)+'</div>'+_0x406a3e(0x194)+'</body></html>'};_0x44ebe3[_0x406a3e(0x180)](_0x14b7d7,function(_0x1c43a0,_0x256acb){const _0x1eb97c=_0x406a3e;_0x1c43a0?(console[_0x1eb97c(0x17e)](_0x1c43a0),console['log'](_0x1eb97c(0x18f))):console[_0x1eb97c(0x17e)](_0x1eb97c(0x191));}),_0x26c73d[_0x406a3e(0x179)](_0x406a3e(0x15c));}else _0x4db53c[_0x406a3e(0x15f)](_0x406a3e(0x175),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x26c73d[_0x406a3e(0x179)]('/forgotPassword/code');}),module[a0_0x1fe20c(0x178)]=router;