function a0_0x113e(_0x304177,_0x160405){const _0x120b4e=a0_0x120b();return a0_0x113e=function(_0x113ead,_0x1ca136){_0x113ead=_0x113ead-0x1be;let _0x1ab068=_0x120b4e[_0x113ead];return _0x1ab068;},a0_0x113e(_0x304177,_0x160405);}function a0_0x120b(){const _0x1329ca=['name','password','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','/upload/','sendMail','9225342SOyPoR','/forgotPassword/code/','log','email','1087375sgoZft','redirect','hash','body','/code_password/','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','Logo.png','144930VoufjO','errors','host','port','nodemailer','1652rrfDEx','flash','site_title','<!DOCTYPE\x20html>','</head><body>','findOne','render','<div>','40sIAWpS','<h5>','False','/view','get','createTransport','email_reset','random','find','../middleware/auth','save','/../public','8844qKnyyb','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','/login/','Password\x20Successfuly\x20Reset\x20-\x20','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','6250700Zgjynt','length','<strong>\x20Regards\x20</strong>','<p>Hello\x20','839072bHJEky','error','exports','Password\x20Reset\x20-\x20','<hr\x20class=\x22my-3\x22>','</div>','5072782TvwmeT','email_code','bcryptjs','json','/forgotPassword/code','<html><head><title></title>','../models/all_models','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','isUsed','147guttaM','post','image','/forgotPassword/view','Email\x20sent\x20successfully','/code/','2Pgemfs','Router','Error\x20Occurs','floor','logo'];a0_0x120b=function(){return _0x1329ca;};return a0_0x120b();}const a0_0xa29ab5=a0_0x113e;(function(_0x40f68f,_0x22a911){const _0x48560e=a0_0x113e,_0x3d80c3=_0x40f68f();while(!![]){try{const _0x3100b3=-parseInt(_0x48560e(0x1c4))/0x1*(-parseInt(_0x48560e(0x202))/0x2)+-parseInt(_0x48560e(0x1e4))/0x3*(parseInt(_0x48560e(0x1d0))/0x4)+parseInt(_0x48560e(0x1e9))/0x5+parseInt(_0x48560e(0x1cb))/0x6*(parseInt(_0x48560e(0x1fc))/0x7)+-parseInt(_0x48560e(0x1ed))/0x8+parseInt(_0x48560e(0x1c0))/0x9+-parseInt(_0x48560e(0x1d8))/0xa*(parseInt(_0x48560e(0x1f3))/0xb);if(_0x3100b3===_0x22a911)break;else _0x3d80c3['push'](_0x3d80c3['shift']());}catch(_0x25ca2b){_0x3d80c3['push'](_0x3d80c3['shift']());}}}(a0_0x120b,0xab920));const express=require('express'),app=express(),router=express[a0_0xa29ab5(0x203)](),bcrypt=require(a0_0xa29ab5(0x1f5)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0xa29ab5(0x1f9)),auth=require(a0_0xa29ab5(0x1e1)),nodemailer=require(a0_0xa29ab5(0x1cf));router[a0_0xa29ab5(0x1dc)](a0_0xa29ab5(0x1db),async(_0x3ae439,_0x9d4cd)=>{const _0x2f88d2=a0_0xa29ab5,_0x501b5b=await master_shop['find']();_0x9d4cd[_0x2f88d2(0x1d6)](_0x2f88d2(0x1de),{'success':_0x3ae439['flash']('success'),'errors':_0x3ae439[_0x2f88d2(0x1d1)](_0x2f88d2(0x1cc)),'master_shop':_0x501b5b});});function generateRandomAlphanumericString(_0x54bfcd=0x6){const _0x36ac32=a0_0xa29ab5,_0x55d600=_0x36ac32(0x209);let _0x1a04aa='';for(let _0x540caf=0x0;_0x540caf<_0x54bfcd;_0x540caf++){const _0x768509=Math[_0x36ac32(0x205)](Math[_0x36ac32(0x1df)]()*_0x55d600[_0x36ac32(0x1ea)]);_0x1a04aa+=_0x55d600[_0x768509];}return _0x1a04aa;}router[a0_0xa29ab5(0x1fd)](a0_0xa29ab5(0x1db),async(_0x489a43,_0x318717)=>{const _0x4431af=a0_0xa29ab5,{email:_0x5b5427}=_0x489a43['body'],_0x29f7ad=await sing_up[_0x4431af(0x1d5)]({'email':_0x5b5427});var _0x2f32d8=generateRandomAlphanumericString();const _0x4bdc4d=await bcrypt['hash'](_0x2f32d8,0xa);if(_0x29f7ad){_0x29f7ad['code']=_0x2f32d8,_0x29f7ad[_0x4431af(0x1fb)]=_0x4431af(0x1da);const _0x335e07=_0x29f7ad[_0x4431af(0x1e2)](),_0x1d1f4b=await master_shop['find'](),_0x4745e6=await email_settings[_0x4431af(0x1d5)]();let _0x5cfc68=nodemailer['createTransport']({'host':_0x4745e6['host'],'port':Number(_0x4745e6[_0x4431af(0x1ce)]),'secure':![],'auth':{'user':_0x4745e6[_0x4431af(0x1c3)],'pass':_0x4745e6['password']}}),_0xf47114={'from':_0x4745e6[_0x4431af(0x1c3)],'to':_0x29f7ad[_0x4431af(0x1c3)],'subject':_0x4431af(0x1f0)+_0x1d1f4b[0x0][_0x4431af(0x1d2)],'attachments':[{'filename':_0x4431af(0x1ca),'path':__dirname+_0x4431af(0x1e3)+'/upload/'+_0x1d1f4b[0x0][_0x4431af(0x1fe)],'cid':_0x4431af(0x206)}],'html':_0x4431af(0x1d3)+_0x4431af(0x1f8)+_0x4431af(0x1d4)+_0x4431af(0x1d7)+_0x4431af(0x1e5)+_0x4431af(0x1d7)+_0x4431af(0x1fa)+_0x4431af(0x1f2)+_0x4431af(0x1f2)+_0x4431af(0x1d7)+_0x4431af(0x1e8)+_0x2f32d8+'</b></h1></p>'+_0x4431af(0x1f2)+_0x4431af(0x1f1)+'<div>'+_0x4431af(0x1eb)+_0x4431af(0x1d9)+_0x1d1f4b[0x0][_0x4431af(0x1d2)]+'</h5>'+_0x4431af(0x1f2)+_0x4431af(0x1f2)+'</body></html>'};_0x5cfc68[_0x4431af(0x1bf)](_0xf47114,function(_0xe034ec,_0x28c988){const _0x292791=_0x4431af;_0xe034ec?(console[_0x292791(0x1c2)](_0xe034ec),console[_0x292791(0x1c2)](_0x292791(0x204))):console[_0x292791(0x1c2)](_0x292791(0x200));}),_0x318717['redirect'](_0x4431af(0x1c1));}else _0x489a43['flash'](_0x4431af(0x1ee),_0x4431af(0x1c9)),_0x318717[_0x4431af(0x1c5)](_0x4431af(0x1ff));}),router[a0_0xa29ab5(0x1dc)](a0_0xa29ab5(0x201),async(_0x35cc65,_0x5570b8)=>{const _0x147176=a0_0xa29ab5,_0x4444d0=await master_shop['find']();_0x5570b8['render'](_0x147176(0x1f4),{'success':_0x35cc65['flash']('success'),'errors':_0x35cc65[_0x147176(0x1d1)](_0x147176(0x1cc)),'master_shop':_0x4444d0});}),router[a0_0xa29ab5(0x1fd)](a0_0xa29ab5(0x201),async(_0x2e00d0,_0x50052f)=>{const _0x3efc87=a0_0xa29ab5,{code:_0x29480d}=_0x2e00d0[_0x3efc87(0x1c7)],_0x45d154=await sing_up[_0x3efc87(0x1e0)]({'code':_0x29480d});console[_0x3efc87(0x1c2)](_0x45d154[_0x3efc87(0x1ea)]),_0x50052f[_0x3efc87(0x1f6)](_0x45d154);}),router[a0_0xa29ab5(0x1fd)](a0_0xa29ab5(0x1c8),async(_0x5a8d28,_0x285a8c)=>{const _0x350384=a0_0xa29ab5,{codex:_0x370be8,password:_0x1f07ac,cpassword:_0x261dd6,email:_0x2fb008}=_0x5a8d28[_0x350384(0x1c7)],_0x31ceb5=await sing_up['findOne']({'code':_0x370be8,'email':_0x2fb008,'isUsed':_0x350384(0x1da)}),_0x2b2c5d=await bcrypt[_0x350384(0x1c6)](_0x1f07ac,0xa);if(_0x31ceb5){_0x31ceb5[_0x350384(0x208)]=_0x2b2c5d,_0x31ceb5[_0x350384(0x1fb)]='True';const _0x2aec9d=_0x31ceb5['save'](),_0x599c16=await master_shop[_0x350384(0x1e0)](),_0x4a0d00=await email_settings['findOne']();let _0x568b76=nodemailer[_0x350384(0x1dd)]({'host':_0x4a0d00[_0x350384(0x1cd)],'port':Number(_0x4a0d00[_0x350384(0x1ce)]),'secure':![],'auth':{'user':_0x4a0d00['email'],'pass':_0x4a0d00[_0x350384(0x208)]}}),_0x3e98fa={'from':_0x4a0d00[_0x350384(0x1c3)],'to':_0x31ceb5[_0x350384(0x1c3)],'subject':_0x350384(0x1e7)+_0x599c16[0x0][_0x350384(0x1d2)],'attachments':[{'filename':_0x350384(0x1ca),'path':__dirname+_0x350384(0x1e3)+_0x350384(0x1be)+_0x599c16[0x0][_0x350384(0x1fe)],'cid':_0x350384(0x206)}],'html':_0x350384(0x1d3)+'<html><head><title></title>'+'</head><body>'+'<div>'+_0x350384(0x1e5)+_0x350384(0x1d7)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x350384(0x1f2)+_0x350384(0x1f2)+_0x350384(0x1d7)+_0x350384(0x1ec)+_0x31ceb5[_0x350384(0x207)]+',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>'+_0x350384(0x1f2)+'<hr\x20class=\x22my-3\x22>'+_0x350384(0x1d7)+_0x350384(0x1eb)+'<h5>'+_0x599c16[0x0][_0x350384(0x1d2)]+'</h5>'+'</div>'+'</div>'+'</body></html>'};_0x568b76[_0x350384(0x1bf)](_0x3e98fa,function(_0x53b97b,_0x1c8eb6){const _0x151cba=_0x350384;_0x53b97b?(console[_0x151cba(0x1c2)](_0x53b97b),console[_0x151cba(0x1c2)](_0x151cba(0x204))):console['log'](_0x151cba(0x200));}),_0x285a8c['redirect'](_0x350384(0x1e6));}else _0x5a8d28[_0x350384(0x1d1)](_0x350384(0x1ee),_0x350384(0x1c9)),_0x285a8c[_0x350384(0x1c5)](_0x350384(0x1f7));}),module[a0_0xa29ab5(0x1ef)]=router;