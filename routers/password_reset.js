function a0_0x5df6(_0x3ae74a,_0x1baf06){const _0x162a0c=a0_0x162a();return a0_0x5df6=function(_0x5df691,_0x10024c){_0x5df691=_0x5df691-0x6d;let _0x284dac=_0x162a0c[_0x5df691];return _0x284dac;},a0_0x5df6(_0x3ae74a,_0x1baf06);}const a0_0x186120=a0_0x5df6;(function(_0x4c5a46,_0xa69b06){const _0x5d3809=a0_0x5df6,_0x2586ca=_0x4c5a46();while(!![]){try{const _0x5446bf=-parseInt(_0x5d3809(0x7b))/0x1*(-parseInt(_0x5d3809(0x8d))/0x2)+parseInt(_0x5d3809(0xb4))/0x3+parseInt(_0x5d3809(0x81))/0x4*(parseInt(_0x5d3809(0x77))/0x5)+-parseInt(_0x5d3809(0x98))/0x6*(parseInt(_0x5d3809(0xaf))/0x7)+parseInt(_0x5d3809(0x9a))/0x8*(-parseInt(_0x5d3809(0xb2))/0x9)+-parseInt(_0x5d3809(0x9d))/0xa*(-parseInt(_0x5d3809(0x89))/0xb)+-parseInt(_0x5d3809(0xa4))/0xc;if(_0x5446bf===_0xa69b06)break;else _0x2586ca['push'](_0x2586ca['shift']());}catch(_0x106b78){_0x2586ca['push'](_0x2586ca['shift']());}}}(a0_0x162a,0x885f8));const express=require('express'),app=express(),router=express[a0_0x186120(0xa3)](),bcrypt=require(a0_0x186120(0x7e)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x186120(0x83)),auth=require(a0_0x186120(0x6d)),nodemailer=require('nodemailer');router['get'](a0_0x186120(0xae),async(_0x5df6a6,_0x5e0fbb)=>{const _0x368346=a0_0x186120,_0x1b7cf1=await master_shop['find']();_0x5e0fbb['render']('email_reset',{'success':_0x5df6a6[_0x368346(0xac)](_0x368346(0x80)),'errors':_0x5df6a6['flash'](_0x368346(0x6e)),'master_shop':_0x1b7cf1});});function generateRandomAlphanumericString(_0x2f115a=0x6){const _0x5f3191=a0_0x186120,_0x2a5374=_0x5f3191(0xad);let _0x1574be='';for(let _0xa48144=0x0;_0xa48144<_0x2f115a;_0xa48144++){const _0x87ca95=Math[_0x5f3191(0xab)](Math[_0x5f3191(0x8e)]()*_0x2a5374['length']);_0x1574be+=_0x2a5374[_0x87ca95];}return _0x1574be;}router[a0_0x186120(0x9b)](a0_0x186120(0xae),async(_0x224c56,_0x182dea)=>{const _0x4985ab=a0_0x186120,{email:_0x3d1113}=_0x224c56[_0x4985ab(0x8c)],_0x5046e8=await sing_up[_0x4985ab(0xb3)]({'email':_0x3d1113});var _0x4e9301=generateRandomAlphanumericString();const _0x5cf9a7=await bcrypt['hash'](_0x4e9301,0xa);if(_0x5046e8){_0x5046e8[_0x4985ab(0xa1)]=_0x4e9301,_0x5046e8[_0x4985ab(0x74)]=_0x4985ab(0x94);const _0x4f6396=_0x5046e8[_0x4985ab(0x75)](),_0x1bc71a=await master_shop[_0x4985ab(0x7a)](),_0x4144a7=await email_settings[_0x4985ab(0xb3)]();let _0x203e80=nodemailer[_0x4985ab(0x88)]({'host':_0x4144a7[_0x4985ab(0x8f)],'port':Number(_0x4144a7['port']),'secure':![],'auth':{'user':_0x4144a7[_0x4985ab(0xb5)],'pass':_0x4144a7['password']}}),_0x48de20={'from':_0x4144a7[_0x4985ab(0xb5)],'to':_0x5046e8[_0x4985ab(0xb5)],'subject':_0x4985ab(0x72)+_0x1bc71a[0x0][_0x4985ab(0x86)],'attachments':[{'filename':_0x4985ab(0x87),'path':__dirname+_0x4985ab(0x70)+_0x4985ab(0x85)+_0x1bc71a[0x0]['image'],'cid':'logo'}],'html':_0x4985ab(0x8b)+_0x4985ab(0x7f)+'</head><body>'+_0x4985ab(0x9f)+_0x4985ab(0x90)+_0x4985ab(0x9f)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x4985ab(0xa7)+'</div>'+_0x4985ab(0x9f)+'<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>'+_0x4e9301+_0x4985ab(0x6f)+_0x4985ab(0xa7)+_0x4985ab(0xb6)+_0x4985ab(0x9f)+'<strong>\x20Regards\x20</strong>'+_0x4985ab(0x71)+_0x1bc71a[0x0][_0x4985ab(0x86)]+_0x4985ab(0x84)+_0x4985ab(0xa7)+'</div>'+'</body></html>'};_0x203e80['sendMail'](_0x48de20,function(_0x499978,_0x3799e4){const _0x1c1204=_0x4985ab;_0x499978?(console[_0x1c1204(0xa2)](_0x499978),console[_0x1c1204(0xa2)](_0x1c1204(0x9e))):console['log'](_0x1c1204(0xa8));}),_0x182dea[_0x4985ab(0xa6)](_0x4985ab(0x96));}else _0x224c56['flash'](_0x4985ab(0x7c),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x182dea[_0x4985ab(0xa6)](_0x4985ab(0xa9));}),router['get']('/code/',async(_0xd9ab77,_0xfc1383)=>{const _0x3454e3=a0_0x186120,_0x2865dd=await master_shop[_0x3454e3(0x7a)]();_0xfc1383['render']('email_code',{'success':_0xd9ab77[_0x3454e3(0xac)](_0x3454e3(0x80)),'errors':_0xd9ab77[_0x3454e3(0xac)]('errors'),'master_shop':_0x2865dd});}),router[a0_0x186120(0x9b)](a0_0x186120(0xb0),async(_0x2346ae,_0xfcc2ce)=>{const _0x4dab8f=a0_0x186120,{code:_0x3837a7}=_0x2346ae[_0x4dab8f(0x8c)],_0xc7f9da=await sing_up[_0x4dab8f(0x7a)]({'code':_0x3837a7});console['log'](_0xc7f9da[_0x4dab8f(0x76)]),_0xfcc2ce['json'](_0xc7f9da);}),router[a0_0x186120(0x9b)](a0_0x186120(0x95),async(_0x43bef9,_0x487bbd)=>{const _0x1f2f9c=a0_0x186120,{codex:_0x253584,password:_0x451cb6,cpassword:_0x1a4bd1,email:_0xba2c32}=_0x43bef9[_0x1f2f9c(0x8c)],_0x30574b=await sing_up['findOne']({'code':_0x253584,'email':_0xba2c32,'isUsed':_0x1f2f9c(0x94)}),_0x1e0ea6=await bcrypt[_0x1f2f9c(0x91)](_0x451cb6,0xa);if(_0x30574b){_0x30574b[_0x1f2f9c(0x92)]=_0x1e0ea6,_0x30574b[_0x1f2f9c(0x74)]=_0x1f2f9c(0x7d);const _0x49b87b=_0x30574b[_0x1f2f9c(0x75)](),_0x57d7ad=await master_shop[_0x1f2f9c(0x7a)](),_0x401086=await email_settings[_0x1f2f9c(0xb3)]();let _0x52853c=nodemailer[_0x1f2f9c(0x88)]({'host':_0x401086[_0x1f2f9c(0x8f)],'port':Number(_0x401086[_0x1f2f9c(0x9c)]),'secure':![],'auth':{'user':_0x401086[_0x1f2f9c(0xb5)],'pass':_0x401086['password']}}),_0x197dcf={'from':_0x401086['email'],'to':_0x30574b[_0x1f2f9c(0xb5)],'subject':_0x1f2f9c(0x79)+_0x57d7ad[0x0]['site_title'],'attachments':[{'filename':_0x1f2f9c(0x87),'path':__dirname+_0x1f2f9c(0x70)+_0x1f2f9c(0x85)+_0x57d7ad[0x0][_0x1f2f9c(0x93)],'cid':'logo'}],'html':_0x1f2f9c(0x8b)+_0x1f2f9c(0x7f)+'</head><body>'+_0x1f2f9c(0x9f)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+_0x1f2f9c(0x9f)+_0x1f2f9c(0x78)+_0x1f2f9c(0xa7)+_0x1f2f9c(0xa7)+_0x1f2f9c(0x9f)+_0x1f2f9c(0xa0)+_0x30574b[_0x1f2f9c(0x73)]+_0x1f2f9c(0xa5)+_0x1f2f9c(0xa7)+_0x1f2f9c(0xb6)+_0x1f2f9c(0x9f)+_0x1f2f9c(0x97)+'<h5>'+_0x57d7ad[0x0]['site_title']+_0x1f2f9c(0x84)+_0x1f2f9c(0xa7)+'</div>'+_0x1f2f9c(0x82)};_0x52853c[_0x1f2f9c(0xaa)](_0x197dcf,function(_0x3326b5,_0x86f623){const _0x2b92a3=_0x1f2f9c;_0x3326b5?(console[_0x2b92a3(0xa2)](_0x3326b5),console[_0x2b92a3(0xa2)](_0x2b92a3(0x9e))):console[_0x2b92a3(0xa2)](_0x2b92a3(0xa8));}),_0x487bbd[_0x1f2f9c(0xa6)](_0x1f2f9c(0x99));}else _0x43bef9['flash'](_0x1f2f9c(0x7c),_0x1f2f9c(0x8a)),_0x487bbd['redirect']('/forgotPassword/code');}),module[a0_0x186120(0xb1)]=router;function a0_0x162a(){const _0xf7b361=['/code_password/','/forgotPassword/code/','<strong>\x20Regards\x20</strong>','1502346NGdBvP','/login/','4857064ULSgkP','post','port','2164760JeKZsd','Error\x20Occurs','<div>','<p>Hello\x20','code','log','Router','8283420NdfLWr',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','redirect','</div>','Email\x20sent\x20successfully','/forgotPassword/view','sendMail','floor','flash','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','/view','14JWQCsM','/code/','exports','9gMLdOx','findOne','1909203llcFjt','email','<hr\x20class=\x22my-3\x22>','../middleware/auth','errors','</b></h1></p>','/../public','<h5>','Password\x20Reset\x20-\x20','name','isUsed','save','length','4905GSLSuB','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','Password\x20Successfuly\x20Reset\x20-\x20','find','4ZeEeYV','error','True','bcryptjs','<html><head><title></title>','success','4012aSQros','</body></html>','../models/all_models','</h5>','/upload/','site_title','Logo.png','createTransport','33SfeUtL','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','<!DOCTYPE\x20html>','body','43506VjMPsJ','random','host','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','hash','password','image','False'];a0_0x162a=function(){return _0xf7b361;};return a0_0x162a();}