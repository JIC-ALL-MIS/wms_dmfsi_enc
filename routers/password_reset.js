const a0_0x7ea529=a0_0x5164;(function(_0x581873,_0x3d5b03){const _0x3957a1=a0_0x5164,_0x5da21c=_0x581873();while(!![]){try{const _0x1ba1dc=-parseInt(_0x3957a1(0x193))/0x1*(parseInt(_0x3957a1(0x19e))/0x2)+-parseInt(_0x3957a1(0x17c))/0x3+parseInt(_0x3957a1(0x17d))/0x4*(-parseInt(_0x3957a1(0x1ac))/0x5)+parseInt(_0x3957a1(0x195))/0x6*(parseInt(_0x3957a1(0x1b9))/0x7)+-parseInt(_0x3957a1(0x178))/0x8+parseInt(_0x3957a1(0x191))/0x9*(-parseInt(_0x3957a1(0x188))/0xa)+parseInt(_0x3957a1(0x182))/0xb;if(_0x1ba1dc===_0x3d5b03)break;else _0x5da21c['push'](_0x5da21c['shift']());}catch(_0x54dafc){_0x5da21c['push'](_0x5da21c['shift']());}}}(a0_0x53bb,0x83dd7));const express=require('express'),app=express(),router=express[a0_0x7ea529(0x18b)](),bcrypt=require(a0_0x7ea529(0x189)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x7ea529(0x17f)),auth=require(a0_0x7ea529(0x179)),nodemailer=require(a0_0x7ea529(0x1a9));router[a0_0x7ea529(0x199)]('/view',async(_0x1b7b2e,_0x46f898)=>{const _0x205334=a0_0x7ea529,_0x3f19bf=await master_shop[_0x205334(0x1a1)]();_0x46f898[_0x205334(0x1b4)]('email_reset',{'success':_0x1b7b2e[_0x205334(0x17b)](_0x205334(0x18d)),'errors':_0x1b7b2e[_0x205334(0x17b)](_0x205334(0x187)),'master_shop':_0x3f19bf});});function a0_0x53bb(){const _0x27627b=['random','hash','get','Logo.png','logo','image','/../public','645630ZyLuRT','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','length','find','</h5>','True','json','/code/','</div>','error','code','nodemailer','False','post','3492835seavgP','</b></h1></p>','<!DOCTYPE\x20html>','/forgotPassword/code/','email','<strong>\x20Regards\x20</strong>','log','/view','render','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','/forgotPassword/code','</body></html>','Password\x20Reset\x20-\x20','14RnMGuV','<hr\x20class=\x22my-3\x22>','<html><head><title></title>','</head><body>','body','<div>','exports','sendMail','site_title','password','/login/','/forgotPassword/view','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','5790472XXCuYm','../middleware/auth','<h5>','flash','1946253iZpCAl','4qOsXgf','createTransport','../models/all_models','findOne','/upload/','44581097rWJzfJ','host','<p>Hello\x20','save','floor','errors','610FoggSh','bcryptjs','email_code','Router','Error\x20Occurs','success','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','port','Password\x20Successfuly\x20Reset\x20-\x20','72666LXmOys','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','3BFOlKu','redirect','58134FAsFue','Email\x20sent\x20successfully'];a0_0x53bb=function(){return _0x27627b;};return a0_0x53bb();}function generateRandomAlphanumericString(_0x5acb1f=0x6){const _0x44d10a=a0_0x7ea529,_0x304ed0=_0x44d10a(0x19f);let _0x3842cd='';for(let _0x264630=0x0;_0x264630<_0x5acb1f;_0x264630++){const _0x3b0c54=Math[_0x44d10a(0x186)](Math[_0x44d10a(0x197)]()*_0x304ed0['length']);_0x3842cd+=_0x304ed0[_0x3b0c54];}return _0x3842cd;}function a0_0x5164(_0x5c616b,_0x5cf2e8){const _0x53bb7e=a0_0x53bb();return a0_0x5164=function(_0x5164a4,_0x841f43){_0x5164a4=_0x5164a4-0x177;let _0x4da795=_0x53bb7e[_0x5164a4];return _0x4da795;},a0_0x5164(_0x5c616b,_0x5cf2e8);}router[a0_0x7ea529(0x1ab)](a0_0x7ea529(0x1b3),async(_0x14ff26,_0x3768a7)=>{const _0x50d7ee=a0_0x7ea529,{email:_0x575553}=_0x14ff26[_0x50d7ee(0x1bd)],_0x3676a7=await sing_up[_0x50d7ee(0x180)]({'email':_0x575553});var _0x2d6e38=generateRandomAlphanumericString();const _0x157a98=await bcrypt[_0x50d7ee(0x198)](_0x2d6e38,0xa);if(_0x3676a7){_0x3676a7[_0x50d7ee(0x1a8)]=_0x2d6e38,_0x3676a7['isUsed']=_0x50d7ee(0x1aa);const _0x4f9796=_0x3676a7[_0x50d7ee(0x185)](),_0x59b4fe=await master_shop[_0x50d7ee(0x1a1)](),_0x1e8a7e=await email_settings[_0x50d7ee(0x180)]();let _0xf4e95d=nodemailer[_0x50d7ee(0x17e)]({'host':_0x1e8a7e['host'],'port':Number(_0x1e8a7e['port']),'secure':![],'auth':{'user':_0x1e8a7e[_0x50d7ee(0x1b0)],'pass':_0x1e8a7e[_0x50d7ee(0x1c2)]}}),_0x2d186c={'from':_0x1e8a7e[_0x50d7ee(0x1b0)],'to':_0x3676a7['email'],'subject':_0x50d7ee(0x1b8)+_0x59b4fe[0x0]['site_title'],'attachments':[{'filename':_0x50d7ee(0x19a),'path':__dirname+_0x50d7ee(0x19d)+_0x50d7ee(0x181)+_0x59b4fe[0x0][_0x50d7ee(0x19c)],'cid':_0x50d7ee(0x19b)}],'html':_0x50d7ee(0x1ae)+_0x50d7ee(0x1bb)+_0x50d7ee(0x1bc)+_0x50d7ee(0x1be)+_0x50d7ee(0x192)+_0x50d7ee(0x1be)+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x50d7ee(0x1a6)+_0x50d7ee(0x1a6)+_0x50d7ee(0x1be)+_0x50d7ee(0x18e)+_0x2d6e38+_0x50d7ee(0x1ad)+_0x50d7ee(0x1a6)+_0x50d7ee(0x1ba)+'<div>'+_0x50d7ee(0x1b1)+_0x50d7ee(0x17a)+_0x59b4fe[0x0][_0x50d7ee(0x1c1)]+'</h5>'+_0x50d7ee(0x1a6)+_0x50d7ee(0x1a6)+_0x50d7ee(0x1b7)};_0xf4e95d[_0x50d7ee(0x1c0)](_0x2d186c,function(_0x265dd2,_0x3435c1){const _0x242588=_0x50d7ee;_0x265dd2?(console[_0x242588(0x1b2)](_0x265dd2),console[_0x242588(0x1b2)](_0x242588(0x18c))):console[_0x242588(0x1b2)](_0x242588(0x196));}),_0x3768a7[_0x50d7ee(0x194)](_0x50d7ee(0x1af));}else _0x14ff26[_0x50d7ee(0x17b)](_0x50d7ee(0x1a7),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x3768a7[_0x50d7ee(0x194)](_0x50d7ee(0x1c4));}),router['get'](a0_0x7ea529(0x1a5),async(_0x4e3e64,_0x15f2a5)=>{const _0x5f382a=a0_0x7ea529,_0x53cadc=await master_shop['find']();_0x15f2a5['render'](_0x5f382a(0x18a),{'success':_0x4e3e64[_0x5f382a(0x17b)]('success'),'errors':_0x4e3e64['flash'](_0x5f382a(0x187)),'master_shop':_0x53cadc});}),router[a0_0x7ea529(0x1ab)](a0_0x7ea529(0x1a5),async(_0x3061f8,_0x40fc43)=>{const _0x190700=a0_0x7ea529,{code:_0x2643ab}=_0x3061f8[_0x190700(0x1bd)],_0x3ac64d=await sing_up[_0x190700(0x1a1)]({'code':_0x2643ab});console[_0x190700(0x1b2)](_0x3ac64d[_0x190700(0x1a0)]),_0x40fc43[_0x190700(0x1a4)](_0x3ac64d);}),router[a0_0x7ea529(0x1ab)]('/code_password/',async(_0x1d96dc,_0x2b7609)=>{const _0x5f48bf=a0_0x7ea529,{codex:_0x446f39,password:_0xd64baf,cpassword:_0x5c69ea,email:_0x33d480}=_0x1d96dc['body'],_0xddf15c=await sing_up['findOne']({'code':_0x446f39,'email':_0x33d480,'isUsed':_0x5f48bf(0x1aa)}),_0x17e4a2=await bcrypt[_0x5f48bf(0x198)](_0xd64baf,0xa);if(_0xddf15c){_0xddf15c['password']=_0x17e4a2,_0xddf15c['isUsed']=_0x5f48bf(0x1a3);const _0x671254=_0xddf15c['save'](),_0x5ee07e=await master_shop[_0x5f48bf(0x1a1)](),_0x105de9=await email_settings['findOne']();let _0x12db55=nodemailer['createTransport']({'host':_0x105de9[_0x5f48bf(0x183)],'port':Number(_0x105de9[_0x5f48bf(0x18f)]),'secure':![],'auth':{'user':_0x105de9['email'],'pass':_0x105de9['password']}}),_0x3d19f4={'from':_0x105de9[_0x5f48bf(0x1b0)],'to':_0xddf15c[_0x5f48bf(0x1b0)],'subject':_0x5f48bf(0x190)+_0x5ee07e[0x0]['site_title'],'attachments':[{'filename':'Logo.png','path':__dirname+_0x5f48bf(0x19d)+_0x5f48bf(0x181)+_0x5ee07e[0x0][_0x5f48bf(0x19c)],'cid':_0x5f48bf(0x19b)}],'html':_0x5f48bf(0x1ae)+_0x5f48bf(0x1bb)+_0x5f48bf(0x1bc)+_0x5f48bf(0x1be)+_0x5f48bf(0x192)+_0x5f48bf(0x1be)+_0x5f48bf(0x177)+_0x5f48bf(0x1a6)+_0x5f48bf(0x1a6)+_0x5f48bf(0x1be)+_0x5f48bf(0x184)+_0xddf15c['name']+',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>'+'</div>'+_0x5f48bf(0x1ba)+_0x5f48bf(0x1be)+'<strong>\x20Regards\x20</strong>'+_0x5f48bf(0x17a)+_0x5ee07e[0x0]['site_title']+_0x5f48bf(0x1a2)+'</div>'+_0x5f48bf(0x1a6)+_0x5f48bf(0x1b7)};_0x12db55['sendMail'](_0x3d19f4,function(_0x336dc0,_0x11a0d3){const _0x1dc3ad=_0x5f48bf;_0x336dc0?(console[_0x1dc3ad(0x1b2)](_0x336dc0),console[_0x1dc3ad(0x1b2)]('Error\x20Occurs')):console[_0x1dc3ad(0x1b2)](_0x1dc3ad(0x196));}),_0x2b7609[_0x5f48bf(0x194)](_0x5f48bf(0x1c3));}else _0x1d96dc[_0x5f48bf(0x17b)]('error',_0x5f48bf(0x1b5)),_0x2b7609[_0x5f48bf(0x194)](_0x5f48bf(0x1b6));}),module[a0_0x7ea529(0x1bf)]=router;