const a0_0x4dec12=a0_0x20bc;function a0_0x7350(){const _0x29e5df=['<p>Hello\x20','/forgotPassword/code','error','/login/','/upload/','54880ZMiXRZ','password',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','findOne','../models/all_models','5Tertgi','random','<hr\x20class=\x22my-3\x22>','exports','json','email','port','get','sendMail','nodemailer','</body></html>','<div>','111959eWPtNs','Email\x20sent\x20successfully','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','</b></h1></p>','/../public','/view','log','<html><head><title></title>','name','isUsed','../middleware/auth','18BQMmcA','/code/','<strong>\x20Regards\x20</strong>','/forgotPassword/view','bcryptjs','flash','createTransport','Router','errors','redirect','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','Password\x20Reset\x20-\x20','1381266dfliRR','save','success','Error\x20Occurs','/forgotPassword/code/','False','code','</head><body>','length','Logo.png','express','4802408HjdZCj','hash','image','7WylDjT','host','email_code','post','/code_password/','<!DOCTYPE\x20html>','body','render','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','<h5>','</h5>','find','359325NnmhlC','</div>','1911936ycFeYr','floor','359408ZGJUEL','Password\x20Successfuly\x20Reset\x20-\x20','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'];a0_0x7350=function(){return _0x29e5df;};return a0_0x7350();}(function(_0x3ca1f3,_0x2e29e7){const _0x3d7c89=a0_0x20bc,_0xd849c3=_0x3ca1f3();while(!![]){try{const _0x2300f6=parseInt(_0x3d7c89(0x20d))/0x1+parseInt(_0x3d7c89(0x1f3))/0x2+parseInt(_0x3d7c89(0x1ef))/0x3+-parseInt(_0x3d7c89(0x1f1))/0x4+-parseInt(_0x3d7c89(0x201))/0x5*(parseInt(_0x3d7c89(0x1d5))/0x6)+parseInt(_0x3d7c89(0x1e3))/0x7*(parseInt(_0x3d7c89(0x1e0))/0x8)+-parseInt(_0x3d7c89(0x1c9))/0x9*(-parseInt(_0x3d7c89(0x1fb))/0xa);if(_0x2300f6===_0x2e29e7)break;else _0xd849c3['push'](_0xd849c3['shift']());}catch(_0x2a6c82){_0xd849c3['push'](_0xd849c3['shift']());}}}(a0_0x7350,0x4cc98));const express=require(a0_0x4dec12(0x1df)),app=express(),router=express[a0_0x4dec12(0x1d0)](),bcrypt=require(a0_0x4dec12(0x1cd)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x4dec12(0x200)),auth=require(a0_0x4dec12(0x1c8)),nodemailer=require(a0_0x4dec12(0x20a));function a0_0x20bc(_0x1cb45d,_0xc65eda){const _0x735011=a0_0x7350();return a0_0x20bc=function(_0x20bc8b,_0x1bf6f1){_0x20bc8b=_0x20bc8b-0x1c2;let _0x29e78e=_0x735011[_0x20bc8b];return _0x29e78e;},a0_0x20bc(_0x1cb45d,_0xc65eda);}router[a0_0x4dec12(0x208)]('/view',async(_0xe5a99a,_0x16e348)=>{const _0x2ede6f=a0_0x4dec12,_0x341e63=await master_shop[_0x2ede6f(0x1ee)]();_0x16e348[_0x2ede6f(0x1ea)]('email_reset',{'success':_0xe5a99a[_0x2ede6f(0x1ce)](_0x2ede6f(0x1d7)),'errors':_0xe5a99a['flash']('errors'),'master_shop':_0x341e63});});function generateRandomAlphanumericString(_0x107f2a=0x6){const _0x3751c=a0_0x4dec12,_0x591096=_0x3751c(0x1d3);let _0x2900bc='';for(let _0x346415=0x0;_0x346415<_0x107f2a;_0x346415++){const _0xc452c3=Math[_0x3751c(0x1f2)](Math[_0x3751c(0x202)]()*_0x591096['length']);_0x2900bc+=_0x591096[_0xc452c3];}return _0x2900bc;}router[a0_0x4dec12(0x1e6)](a0_0x4dec12(0x1c3),async(_0x8ec5b0,_0x3377c4)=>{const _0x429d69=a0_0x4dec12,{email:_0xf1cc69}=_0x8ec5b0['body'],_0x4d936b=await sing_up[_0x429d69(0x1ff)]({'email':_0xf1cc69});var _0x226cd2=generateRandomAlphanumericString();const _0x5530cb=await bcrypt['hash'](_0x226cd2,0xa);if(_0x4d936b){_0x4d936b[_0x429d69(0x1db)]=_0x226cd2,_0x4d936b[_0x429d69(0x1c7)]=_0x429d69(0x1da);const _0x2b6f9f=_0x4d936b[_0x429d69(0x1d6)](),_0xf6a892=await master_shop[_0x429d69(0x1ee)](),_0x131525=await email_settings[_0x429d69(0x1ff)]();let _0x1d992d=nodemailer[_0x429d69(0x1cf)]({'host':_0x131525[_0x429d69(0x1e4)],'port':Number(_0x131525[_0x429d69(0x207)]),'secure':![],'auth':{'user':_0x131525['email'],'pass':_0x131525[_0x429d69(0x1fc)]}}),_0x45dc23={'from':_0x131525['email'],'to':_0x4d936b[_0x429d69(0x206)],'subject':_0x429d69(0x1d4)+_0xf6a892[0x0]['site_title'],'attachments':[{'filename':_0x429d69(0x1de),'path':__dirname+_0x429d69(0x1c2)+_0x429d69(0x1fa)+_0xf6a892[0x0][_0x429d69(0x1e2)],'cid':'logo'}],'html':_0x429d69(0x1e8)+_0x429d69(0x1c5)+'</head><body>'+_0x429d69(0x20c)+_0x429d69(0x1f5)+_0x429d69(0x20c)+_0x429d69(0x1eb)+_0x429d69(0x1f0)+_0x429d69(0x1f0)+'<div>'+_0x429d69(0x1fe)+_0x226cd2+_0x429d69(0x210)+'</div>'+_0x429d69(0x203)+_0x429d69(0x20c)+_0x429d69(0x1cb)+_0x429d69(0x1ec)+_0xf6a892[0x0]['site_title']+_0x429d69(0x1ed)+'</div>'+'</div>'+_0x429d69(0x20b)};_0x1d992d[_0x429d69(0x209)](_0x45dc23,function(_0x14dd91,_0x4900f8){const _0x484fa6=_0x429d69;_0x14dd91?(console[_0x484fa6(0x1c4)](_0x14dd91),console['log'](_0x484fa6(0x1d8))):console['log'](_0x484fa6(0x20e));}),_0x3377c4[_0x429d69(0x1d2)](_0x429d69(0x1d9));}else _0x8ec5b0[_0x429d69(0x1ce)](_0x429d69(0x1f8),_0x429d69(0x20f)),_0x3377c4[_0x429d69(0x1d2)](_0x429d69(0x1cc));}),router[a0_0x4dec12(0x208)](a0_0x4dec12(0x1ca),async(_0x519c43,_0x4ee26e)=>{const _0x33d683=a0_0x4dec12,_0x40bb2b=await master_shop[_0x33d683(0x1ee)]();_0x4ee26e['render'](_0x33d683(0x1e5),{'success':_0x519c43[_0x33d683(0x1ce)]('success'),'errors':_0x519c43[_0x33d683(0x1ce)](_0x33d683(0x1d1)),'master_shop':_0x40bb2b});}),router[a0_0x4dec12(0x1e6)](a0_0x4dec12(0x1ca),async(_0x417709,_0x27190b)=>{const _0x52ee75=a0_0x4dec12,{code:_0x5e4b0e}=_0x417709[_0x52ee75(0x1e9)],_0x863ad8=await sing_up[_0x52ee75(0x1ee)]({'code':_0x5e4b0e});console[_0x52ee75(0x1c4)](_0x863ad8[_0x52ee75(0x1dd)]),_0x27190b[_0x52ee75(0x205)](_0x863ad8);}),router[a0_0x4dec12(0x1e6)](a0_0x4dec12(0x1e7),async(_0x48bae4,_0x1ba6cc)=>{const _0x2b5bac=a0_0x4dec12,{codex:_0x340d6c,password:_0x221315,cpassword:_0x6ae4f1,email:_0x1beba4}=_0x48bae4[_0x2b5bac(0x1e9)],_0x17c200=await sing_up[_0x2b5bac(0x1ff)]({'code':_0x340d6c,'email':_0x1beba4,'isUsed':'False'}),_0x3a4536=await bcrypt[_0x2b5bac(0x1e1)](_0x221315,0xa);if(_0x17c200){_0x17c200[_0x2b5bac(0x1fc)]=_0x3a4536,_0x17c200['isUsed']='True';const _0x4a4716=_0x17c200[_0x2b5bac(0x1d6)](),_0x5bfb23=await master_shop[_0x2b5bac(0x1ee)](),_0x4afdf0=await email_settings[_0x2b5bac(0x1ff)]();let _0x3b1261=nodemailer[_0x2b5bac(0x1cf)]({'host':_0x4afdf0[_0x2b5bac(0x1e4)],'port':Number(_0x4afdf0[_0x2b5bac(0x207)]),'secure':![],'auth':{'user':_0x4afdf0[_0x2b5bac(0x206)],'pass':_0x4afdf0[_0x2b5bac(0x1fc)]}}),_0x3b3940={'from':_0x4afdf0[_0x2b5bac(0x206)],'to':_0x17c200[_0x2b5bac(0x206)],'subject':_0x2b5bac(0x1f4)+_0x5bfb23[0x0]['site_title'],'attachments':[{'filename':'Logo.png','path':__dirname+_0x2b5bac(0x1c2)+_0x2b5bac(0x1fa)+_0x5bfb23[0x0]['image'],'cid':'logo'}],'html':'<!DOCTYPE\x20html>'+_0x2b5bac(0x1c5)+_0x2b5bac(0x1dc)+_0x2b5bac(0x20c)+_0x2b5bac(0x1f5)+'<div>'+_0x2b5bac(0x1eb)+'</div>'+_0x2b5bac(0x1f0)+_0x2b5bac(0x20c)+_0x2b5bac(0x1f6)+_0x17c200[_0x2b5bac(0x1c6)]+_0x2b5bac(0x1fd)+_0x2b5bac(0x1f0)+_0x2b5bac(0x203)+_0x2b5bac(0x20c)+_0x2b5bac(0x1cb)+_0x2b5bac(0x1ec)+_0x5bfb23[0x0]['site_title']+_0x2b5bac(0x1ed)+_0x2b5bac(0x1f0)+_0x2b5bac(0x1f0)+_0x2b5bac(0x20b)};_0x3b1261[_0x2b5bac(0x209)](_0x3b3940,function(_0x2d81aa,_0x434548){const _0xbebf98=_0x2b5bac;_0x2d81aa?(console[_0xbebf98(0x1c4)](_0x2d81aa),console[_0xbebf98(0x1c4)](_0xbebf98(0x1d8))):console[_0xbebf98(0x1c4)]('Email\x20sent\x20successfully');}),_0x1ba6cc['redirect'](_0x2b5bac(0x1f9));}else _0x48bae4[_0x2b5bac(0x1ce)]('error',_0x2b5bac(0x20f)),_0x1ba6cc[_0x2b5bac(0x1d2)](_0x2b5bac(0x1f7));}),module[a0_0x4dec12(0x204)]=router;