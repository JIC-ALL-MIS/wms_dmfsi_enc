function a0_0x4792(){const _0x31c514=['port','express','post','hash','find','<html><head><title></title>','../middleware/auth','../models/all_models','13318LnZQFP','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','flash','</h5>','/login/','<div>','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','nodemailer','4VvtvLd','</head><body>','isUsed','success','/forgotPassword/code','sendMail','logo','/view','body','</body></html>','code','3682QtCbVf',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','11868XOCmLL','render','password','89568tmxbmY','/forgotPassword/code/','length','Error\x20Occurs','Password\x20Reset\x20-\x20','<!DOCTYPE\x20html>','email','error','save','redirect','Email\x20sent\x20successfully','/../public','204965yJRxyC','get','findOne','email_code','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','image','/upload/','/code/','906viLCWy','<p>Hello\x20','<strong>\x20Regards\x20</strong>','site_title','False','name','Password\x20Successfuly\x20Reset\x20-\x20','2157980WlfWpt','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','email_reset','</div>','log','Logo.png','/forgotPassword/view','<hr\x20class=\x22my-3\x22>','createTransport','host','<h5>','25zNbyXJ','994184YFLhFS','json','errors'];a0_0x4792=function(){return _0x31c514;};return a0_0x4792();}const a0_0x3339d0=a0_0x556b;(function(_0x6bc649,_0x2518f4){const _0x58e44d=a0_0x556b,_0xb8dd98=_0x6bc649();while(!![]){try{const _0x2c3685=parseInt(_0x58e44d(0x160))/0x1*(-parseInt(_0x58e44d(0x16c))/0x2)+parseInt(_0x58e44d(0x137))/0x3+parseInt(_0x58e44d(0x129))/0x4*(parseInt(_0x58e44d(0x146))/0x5)+-parseInt(_0x58e44d(0x14e))/0x6*(parseInt(_0x58e44d(0x134))/0x7)+parseInt(_0x58e44d(0x161))/0x8+-parseInt(_0x58e44d(0x13a))/0x9+parseInt(_0x58e44d(0x155))/0xa;if(_0x2c3685===_0x2518f4)break;else _0xb8dd98['push'](_0xb8dd98['shift']());}catch(_0x49ab53){_0xb8dd98['push'](_0xb8dd98['shift']());}}}(a0_0x4792,0x1f88f));const express=require(a0_0x3339d0(0x165)),app=express(),router=express['Router'](),bcrypt=require('bcryptjs'),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x3339d0(0x16b)),auth=require(a0_0x3339d0(0x16a)),nodemailer=require(a0_0x3339d0(0x128));router[a0_0x3339d0(0x147)](a0_0x3339d0(0x130),async(_0x5ef93f,_0x12ce61)=>{const _0xd81b01=a0_0x3339d0,_0x3d355e=await master_shop[_0xd81b01(0x168)]();_0x12ce61['render'](_0xd81b01(0x157),{'success':_0x5ef93f[_0xd81b01(0x123)](_0xd81b01(0x12c)),'errors':_0x5ef93f[_0xd81b01(0x123)](_0xd81b01(0x163)),'master_shop':_0x3d355e});});function a0_0x556b(_0x365385,_0x164f50){const _0x4792c7=a0_0x4792();return a0_0x556b=function(_0x556b95,_0x1ee41e){_0x556b95=_0x556b95-0x123;let _0x3c0ae6=_0x4792c7[_0x556b95];return _0x3c0ae6;},a0_0x556b(_0x365385,_0x164f50);}function generateRandomAlphanumericString(_0x119015=0x6){const _0x121585=a0_0x3339d0,_0x3718ce=_0x121585(0x156);let _0x351d80='';for(let _0x348318=0x0;_0x348318<_0x119015;_0x348318++){const _0x238ad0=Math['floor'](Math['random']()*_0x3718ce[_0x121585(0x13c)]);_0x351d80+=_0x3718ce[_0x238ad0];}return _0x351d80;}router['post'](a0_0x3339d0(0x130),async(_0x4ecf46,_0x76c4ca)=>{const _0xddebc7=a0_0x3339d0,{email:_0x232d98}=_0x4ecf46[_0xddebc7(0x131)],_0x54a7e2=await sing_up[_0xddebc7(0x148)]({'email':_0x232d98});var _0x5d1777=generateRandomAlphanumericString();const _0x262f84=await bcrypt[_0xddebc7(0x167)](_0x5d1777,0xa);if(_0x54a7e2){_0x54a7e2[_0xddebc7(0x133)]=_0x5d1777,_0x54a7e2['isUsed']='False';const _0x319149=_0x54a7e2[_0xddebc7(0x142)](),_0x28fd8d=await master_shop[_0xddebc7(0x168)](),_0x2abc0e=await email_settings[_0xddebc7(0x148)]();let _0x5c2ee0=nodemailer[_0xddebc7(0x15d)]({'host':_0x2abc0e['host'],'port':Number(_0x2abc0e[_0xddebc7(0x164)]),'secure':![],'auth':{'user':_0x2abc0e[_0xddebc7(0x140)],'pass':_0x2abc0e[_0xddebc7(0x139)]}}),_0x4ef03c={'from':_0x2abc0e[_0xddebc7(0x140)],'to':_0x54a7e2[_0xddebc7(0x140)],'subject':_0xddebc7(0x13e)+_0x28fd8d[0x0][_0xddebc7(0x151)],'attachments':[{'filename':_0xddebc7(0x15a),'path':__dirname+_0xddebc7(0x145)+_0xddebc7(0x14c)+_0x28fd8d[0x0][_0xddebc7(0x14b)],'cid':_0xddebc7(0x12f)}],'html':_0xddebc7(0x13f)+_0xddebc7(0x169)+_0xddebc7(0x12a)+'<div>'+_0xddebc7(0x127)+_0xddebc7(0x126)+_0xddebc7(0x14a)+_0xddebc7(0x158)+'</div>'+_0xddebc7(0x126)+_0xddebc7(0x136)+_0x5d1777+'</b></h1></p>'+_0xddebc7(0x158)+_0xddebc7(0x15c)+'<div>'+_0xddebc7(0x150)+_0xddebc7(0x15f)+_0x28fd8d[0x0][_0xddebc7(0x151)]+_0xddebc7(0x124)+_0xddebc7(0x158)+_0xddebc7(0x158)+'</body></html>'};_0x5c2ee0[_0xddebc7(0x12e)](_0x4ef03c,function(_0x16a7bf,_0x5bdadc){const _0x419154=_0xddebc7;_0x16a7bf?(console[_0x419154(0x159)](_0x16a7bf),console[_0x419154(0x159)]('Error\x20Occurs')):console['log'](_0x419154(0x144));}),_0x76c4ca[_0xddebc7(0x143)](_0xddebc7(0x13b));}else _0x4ecf46[_0xddebc7(0x123)](_0xddebc7(0x141),_0xddebc7(0x16d)),_0x76c4ca[_0xddebc7(0x143)](_0xddebc7(0x15b));}),router[a0_0x3339d0(0x147)](a0_0x3339d0(0x14d),async(_0x1fa831,_0x197ea6)=>{const _0x3c6358=a0_0x3339d0,_0x22dc54=await master_shop[_0x3c6358(0x168)]();_0x197ea6[_0x3c6358(0x138)](_0x3c6358(0x149),{'success':_0x1fa831[_0x3c6358(0x123)](_0x3c6358(0x12c)),'errors':_0x1fa831[_0x3c6358(0x123)](_0x3c6358(0x163)),'master_shop':_0x22dc54});}),router[a0_0x3339d0(0x166)](a0_0x3339d0(0x14d),async(_0x5a32cd,_0x540690)=>{const _0x4cc85e=a0_0x3339d0,{code:_0x33db10}=_0x5a32cd['body'],_0x3c55ae=await sing_up[_0x4cc85e(0x168)]({'code':_0x33db10});console[_0x4cc85e(0x159)](_0x3c55ae['length']),_0x540690[_0x4cc85e(0x162)](_0x3c55ae);}),router[a0_0x3339d0(0x166)]('/code_password/',async(_0x1141d,_0x38e252)=>{const _0x4be0d6=a0_0x3339d0,{codex:_0x40e30b,password:_0xaa5eb2,cpassword:_0xf14d4b,email:_0x5a2cbd}=_0x1141d[_0x4be0d6(0x131)],_0x3e65aa=await sing_up[_0x4be0d6(0x148)]({'code':_0x40e30b,'email':_0x5a2cbd,'isUsed':_0x4be0d6(0x152)}),_0x21431d=await bcrypt[_0x4be0d6(0x167)](_0xaa5eb2,0xa);if(_0x3e65aa){_0x3e65aa[_0x4be0d6(0x139)]=_0x21431d,_0x3e65aa[_0x4be0d6(0x12b)]='True';const _0x580085=_0x3e65aa[_0x4be0d6(0x142)](),_0x46308a=await master_shop[_0x4be0d6(0x168)](),_0xb509a4=await email_settings['findOne']();let _0x351d39=nodemailer[_0x4be0d6(0x15d)]({'host':_0xb509a4[_0x4be0d6(0x15e)],'port':Number(_0xb509a4[_0x4be0d6(0x164)]),'secure':![],'auth':{'user':_0xb509a4[_0x4be0d6(0x140)],'pass':_0xb509a4[_0x4be0d6(0x139)]}}),_0x22f1ce={'from':_0xb509a4[_0x4be0d6(0x140)],'to':_0x3e65aa['email'],'subject':_0x4be0d6(0x154)+_0x46308a[0x0][_0x4be0d6(0x151)],'attachments':[{'filename':_0x4be0d6(0x15a),'path':__dirname+'/../public'+'/upload/'+_0x46308a[0x0]['image'],'cid':_0x4be0d6(0x12f)}],'html':'<!DOCTYPE\x20html>'+'<html><head><title></title>'+_0x4be0d6(0x12a)+_0x4be0d6(0x126)+_0x4be0d6(0x127)+'<div>'+'<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>'+_0x4be0d6(0x158)+'</div>'+'<div>'+_0x4be0d6(0x14f)+_0x3e65aa[_0x4be0d6(0x153)]+_0x4be0d6(0x135)+'</div>'+_0x4be0d6(0x15c)+'<div>'+_0x4be0d6(0x150)+_0x4be0d6(0x15f)+_0x46308a[0x0][_0x4be0d6(0x151)]+_0x4be0d6(0x124)+_0x4be0d6(0x158)+_0x4be0d6(0x158)+_0x4be0d6(0x132)};_0x351d39['sendMail'](_0x22f1ce,function(_0x31083e,_0x138f17){const _0x44841c=_0x4be0d6;_0x31083e?(console[_0x44841c(0x159)](_0x31083e),console[_0x44841c(0x159)](_0x44841c(0x13d))):console[_0x44841c(0x159)](_0x44841c(0x144));}),_0x38e252[_0x4be0d6(0x143)](_0x4be0d6(0x125));}else _0x1141d[_0x4be0d6(0x123)](_0x4be0d6(0x141),'Email\x20Not\x20Found\x20please\x20check\x20your\x20email'),_0x38e252[_0x4be0d6(0x143)](_0x4be0d6(0x12d));}),module['exports']=router;