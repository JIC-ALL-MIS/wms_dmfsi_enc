const a0_0x72c19a=a0_0x2323;(function(_0x3d0d14,_0x3df051){const _0x49ee73=a0_0x2323,_0x824ed2=_0x3d0d14();while(!![]){try{const _0x38cc9a=-parseInt(_0x49ee73(0xf4))/0x1+parseInt(_0x49ee73(0xbd))/0x2*(parseInt(_0x49ee73(0xfc))/0x3)+parseInt(_0x49ee73(0xbe))/0x4+-parseInt(_0x49ee73(0xe2))/0x5+-parseInt(_0x49ee73(0xd7))/0x6*(-parseInt(_0x49ee73(0xc4))/0x7)+-parseInt(_0x49ee73(0xf3))/0x8*(parseInt(_0x49ee73(0x102))/0x9)+-parseInt(_0x49ee73(0xd4))/0xa*(-parseInt(_0x49ee73(0xf2))/0xb);if(_0x38cc9a===_0x3df051)break;else _0x824ed2['push'](_0x824ed2['shift']());}catch(_0x1dbd5e){_0x824ed2['push'](_0x824ed2['shift']());}}}(a0_0x3c52,0x7c848));function a0_0x3c52(){const _0x7c28ee=['707LTMMQE','<h5>','../models/all_models','<strong>\x20Regards\x20</strong>','</body></html>','code','/login/','<div>','email_reset','site_title','</div>','/../public','<html><head><title></title>','<p>Hello,\x20<br>\x20We\x20have\x20sent\x20you\x20this\x20email\x20in\x20response\x20to\x20your\x20request\x20to\x20reset\x20please\x20copy\x20this\x20code\x20<h1><b>','findOne','random','980QPZQYD','/forgotPassword/view','/code/','5394ceyRMc','get','password','host','render','</head><body>','Email\x20sent\x20successfully','False','Router','/forgotPassword/code/','json','2032620JesENV','hash','length','errors','Password\x20Reset\x20-\x20','floor','ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789','createTransport','Password\x20Successfuly\x20Reset\x20-\x20','port','name','</h5>','<p>Hello\x20','error','find','redirect','168762AlItji','5975608obXXYE','824509yofMUK','exports','bcryptjs','Email\x20Not\x20Found\x20please\x20check\x20your\x20email','<hr\x20class=\x22my-3\x22>','success','/forgotPassword/code','post','1612593HCWqJs','express','sendMail','flash','log',',\x20<br>Your\x20password\x20has\x20been\x20successfully\x20reset.\x20You\x20can\x20now\x20log\x20in\x20with\x20your\x20new\x20password.</p>','9lTOHQp','Logo.png','</b></h1></p>','email','<!DOCTYPE\x20html>','logo','image','Error\x20Occurs','/view','body','2LyzWcw','1424648csDqSl','<img\x20src=\x22cid:logo\x22\x20class=\x22rounded\x22\x20width=\x2266.5px\x22\x20height=\x2266.5px\x22></img>','save','<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>','/upload/','True'];a0_0x3c52=function(){return _0x7c28ee;};return a0_0x3c52();}const express=require(a0_0x72c19a(0xfd)),app=express(),router=express[a0_0x72c19a(0xdf)](),bcrypt=require(a0_0x72c19a(0xf6)),{sing_up,staff,profile,master_shop,email_settings}=require(a0_0x72c19a(0xc6)),auth=require('../middleware/auth'),nodemailer=require('nodemailer');router[a0_0x72c19a(0xd8)]('/view',async(_0x5e9218,_0x6bef80)=>{const _0x4bd4e4=a0_0x72c19a,_0x2a6106=await master_shop[_0x4bd4e4(0xf0)]();_0x6bef80[_0x4bd4e4(0xdb)](_0x4bd4e4(0xcc),{'success':_0x5e9218[_0x4bd4e4(0xff)](_0x4bd4e4(0xf9)),'errors':_0x5e9218[_0x4bd4e4(0xff)]('errors'),'master_shop':_0x2a6106});});function a0_0x2323(_0x2b41a3,_0x3b580e){const _0x3c527b=a0_0x3c52();return a0_0x2323=function(_0x2323b8,_0x2cc594){_0x2323b8=_0x2323b8-0xb4;let _0xe9de75=_0x3c527b[_0x2323b8];return _0xe9de75;},a0_0x2323(_0x2b41a3,_0x3b580e);}function generateRandomAlphanumericString(_0x42f166=0x6){const _0x2c4040=a0_0x72c19a,_0x28e69f=_0x2c4040(0xe8);let _0x346a9e='';for(let _0xf1bbeb=0x0;_0xf1bbeb<_0x42f166;_0xf1bbeb++){const _0x55f866=Math[_0x2c4040(0xe7)](Math[_0x2c4040(0xd3)]()*_0x28e69f[_0x2c4040(0xe4)]);_0x346a9e+=_0x28e69f[_0x55f866];}return _0x346a9e;}router[a0_0x72c19a(0xfb)](a0_0x72c19a(0xbb),async(_0x2a84ad,_0xdc3ff9)=>{const _0x1d1965=a0_0x72c19a,{email:_0xb995dc}=_0x2a84ad[_0x1d1965(0xbc)],_0x46d34a=await sing_up[_0x1d1965(0xd2)]({'email':_0xb995dc});var _0x48731f=generateRandomAlphanumericString();const _0x286397=await bcrypt[_0x1d1965(0xe3)](_0x48731f,0xa);if(_0x46d34a){_0x46d34a[_0x1d1965(0xc9)]=_0x48731f,_0x46d34a['isUsed']=_0x1d1965(0xde);const _0x93b7c8=_0x46d34a[_0x1d1965(0xc0)](),_0x4e3700=await master_shop[_0x1d1965(0xf0)](),_0x146dc0=await email_settings[_0x1d1965(0xd2)]();let _0x174d37=nodemailer[_0x1d1965(0xe9)]({'host':_0x146dc0[_0x1d1965(0xda)],'port':Number(_0x146dc0[_0x1d1965(0xeb)]),'secure':![],'auth':{'user':_0x146dc0[_0x1d1965(0xb6)],'pass':_0x146dc0[_0x1d1965(0xd9)]}}),_0xff6586={'from':_0x146dc0[_0x1d1965(0xb6)],'to':_0x46d34a[_0x1d1965(0xb6)],'subject':_0x1d1965(0xe6)+_0x4e3700[0x0][_0x1d1965(0xcd)],'attachments':[{'filename':_0x1d1965(0xb4),'path':__dirname+_0x1d1965(0xcf)+_0x1d1965(0xc2)+_0x4e3700[0x0][_0x1d1965(0xb9)],'cid':'logo'}],'html':'<!DOCTYPE\x20html>'+_0x1d1965(0xd0)+_0x1d1965(0xdc)+_0x1d1965(0xcb)+_0x1d1965(0xc1)+'<div>'+_0x1d1965(0xbf)+'</div>'+'</div>'+_0x1d1965(0xcb)+_0x1d1965(0xd1)+_0x48731f+_0x1d1965(0xb5)+_0x1d1965(0xce)+'<hr\x20class=\x22my-3\x22>'+'<div>'+_0x1d1965(0xc7)+'<h5>'+_0x4e3700[0x0][_0x1d1965(0xcd)]+_0x1d1965(0xed)+_0x1d1965(0xce)+_0x1d1965(0xce)+'</body></html>'};_0x174d37[_0x1d1965(0xfe)](_0xff6586,function(_0x1fae18,_0x5c9247){const _0x6fb5cb=_0x1d1965;_0x1fae18?(console[_0x6fb5cb(0x100)](_0x1fae18),console[_0x6fb5cb(0x100)](_0x6fb5cb(0xba))):console[_0x6fb5cb(0x100)]('Email\x20sent\x20successfully');}),_0xdc3ff9[_0x1d1965(0xf1)](_0x1d1965(0xe0));}else _0x2a84ad[_0x1d1965(0xff)](_0x1d1965(0xef),_0x1d1965(0xf7)),_0xdc3ff9[_0x1d1965(0xf1)](_0x1d1965(0xd5));}),router[a0_0x72c19a(0xd8)](a0_0x72c19a(0xd6),async(_0x15f053,_0x87a6a5)=>{const _0x1e0427=a0_0x72c19a,_0xcf40dc=await master_shop[_0x1e0427(0xf0)]();_0x87a6a5[_0x1e0427(0xdb)]('email_code',{'success':_0x15f053['flash'](_0x1e0427(0xf9)),'errors':_0x15f053[_0x1e0427(0xff)](_0x1e0427(0xe5)),'master_shop':_0xcf40dc});}),router[a0_0x72c19a(0xfb)](a0_0x72c19a(0xd6),async(_0x1827a4,_0x2e5574)=>{const _0x2c9599=a0_0x72c19a,{code:_0x335431}=_0x1827a4[_0x2c9599(0xbc)],_0x296b7a=await sing_up['find']({'code':_0x335431});console[_0x2c9599(0x100)](_0x296b7a[_0x2c9599(0xe4)]),_0x2e5574[_0x2c9599(0xe1)](_0x296b7a);}),router[a0_0x72c19a(0xfb)]('/code_password/',async(_0x32883a,_0x3ff01b)=>{const _0x234467=a0_0x72c19a,{codex:_0x2ebadc,password:_0x4aba89,cpassword:_0x151579,email:_0x3c608d}=_0x32883a[_0x234467(0xbc)],_0x22754f=await sing_up[_0x234467(0xd2)]({'code':_0x2ebadc,'email':_0x3c608d,'isUsed':_0x234467(0xde)}),_0x249d7d=await bcrypt['hash'](_0x4aba89,0xa);if(_0x22754f){_0x22754f[_0x234467(0xd9)]=_0x249d7d,_0x22754f['isUsed']=_0x234467(0xc3);const _0x3b2b0e=_0x22754f['save'](),_0x504ae2=await master_shop[_0x234467(0xf0)](),_0x5be7ec=await email_settings['findOne']();let _0x56e950=nodemailer[_0x234467(0xe9)]({'host':_0x5be7ec[_0x234467(0xda)],'port':Number(_0x5be7ec[_0x234467(0xeb)]),'secure':![],'auth':{'user':_0x5be7ec['email'],'pass':_0x5be7ec['password']}}),_0x1e1215={'from':_0x5be7ec[_0x234467(0xb6)],'to':_0x22754f['email'],'subject':_0x234467(0xea)+_0x504ae2[0x0]['site_title'],'attachments':[{'filename':_0x234467(0xb4),'path':__dirname+_0x234467(0xcf)+_0x234467(0xc2)+_0x504ae2[0x0][_0x234467(0xb9)],'cid':_0x234467(0xb8)}],'html':_0x234467(0xb7)+_0x234467(0xd0)+_0x234467(0xdc)+_0x234467(0xcb)+'<div\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>'+'<div>'+_0x234467(0xbf)+_0x234467(0xce)+_0x234467(0xce)+'<div>'+_0x234467(0xee)+_0x22754f[_0x234467(0xec)]+_0x234467(0x101)+'</div>'+_0x234467(0xf8)+_0x234467(0xcb)+_0x234467(0xc7)+_0x234467(0xc5)+_0x504ae2[0x0]['site_title']+_0x234467(0xed)+_0x234467(0xce)+_0x234467(0xce)+_0x234467(0xc8)};_0x56e950[_0x234467(0xfe)](_0x1e1215,function(_0x3c6882,_0x2ad0fd){const _0x1d1674=_0x234467;_0x3c6882?(console[_0x1d1674(0x100)](_0x3c6882),console[_0x1d1674(0x100)](_0x1d1674(0xba))):console[_0x1d1674(0x100)](_0x1d1674(0xdd));}),_0x3ff01b[_0x234467(0xf1)](_0x234467(0xca));}else _0x32883a['flash'](_0x234467(0xef),_0x234467(0xf7)),_0x3ff01b[_0x234467(0xf1)](_0x234467(0xfa));}),module[a0_0x72c19a(0xf5)]=router;