const a0_0x486612=a0_0x1bd3;function a0_0x2047(){const _0x30b6f5=['findOne','4617BUjmhy','37922456wKTESA','name','20848Teywnv','post','1843854HkVBDP','/view/add_expenses','/view','countDocuments','log','\x20expenses\x20is\x20alredy\x20added.\x20please\x20choose\x20another','errors','/type','master','23160mRgbfk','findById','Chinese','expenses','416992WVDpAv','Portuguese\x20(BR)','3227ttgxaX','language','find','express','/all_expenses/type','email','German','add_expenses','Arabic\x20(ae)','4366665lZKSMb','/view/:id','expenses\x20data\x20update\x20successfully','English','user','findByIdAndDelete','redirect','../models/all_models','findByIdAndUpdate','toJSON','body','Hindi','English\x20(US)','render','\x20expenses\x20is\x20add\x20successfully','12oQPndx','flash','/all_expenses/view','Router','Portuguese','Spanish','success','params','get','37JrbMpB','map','13658rZAsbW','exports','French','/type/:id','save','edit_expenses','/type/delete/:id','Arabic','all'];a0_0x2047=function(){return _0x30b6f5;};return a0_0x2047();}function a0_0x1bd3(_0x3351c1,_0x21949a){const _0x2047ca=a0_0x2047();return a0_0x1bd3=function(_0x1bd3d2,_0x393373){_0x1bd3d2=_0x1bd3d2-0x81;let _0x219adb=_0x2047ca[_0x1bd3d2];return _0x219adb;},a0_0x1bd3(_0x3351c1,_0x21949a);}(function(_0x46766b,_0x458fe4){const _0x42d16d=a0_0x1bd3,_0x205cf8=_0x46766b();while(!![]){try{const _0x9cce42=parseInt(_0x42d16d(0x9a))/0x1*(-parseInt(_0x42d16d(0x9c))/0x2)+-parseInt(_0x42d16d(0x91))/0x3*(parseInt(_0x42d16d(0xb8))/0x4)+parseInt(_0x42d16d(0x82))/0x5+-parseInt(_0x42d16d(0xab))/0x6+-parseInt(_0x42d16d(0xba))/0x7*(parseInt(_0x42d16d(0xa9))/0x8)+-parseInt(_0x42d16d(0xa6))/0x9*(parseInt(_0x42d16d(0xb4))/0xa)+parseInt(_0x42d16d(0xa7))/0xb;if(_0x9cce42===_0x458fe4)break;else _0x205cf8['push'](_0x205cf8['shift']());}catch(_0x233989){_0x205cf8['push'](_0x205cf8['shift']());}}}(a0_0x2047,0xe900d));const express=require(a0_0x486612(0xbd)),app=express(),router=express[a0_0x486612(0x94)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,suppliers_payment,expenses_type,all_expenses}=require(a0_0x486612(0x89)),auth=require('../middleware/auth'),users=require('../public/language/languages.json');router[a0_0x486612(0x99)](a0_0x486612(0xb2),auth,async(_0x1ca905,_0x25dae2)=>{const _0x2074fd=a0_0x486612;try{const {username:_0x18618e,email:_0x37ae32,role:_0x22aeb4}=_0x1ca905[_0x2074fd(0x86)],_0x4a71a3=_0x1ca905[_0x2074fd(0x86)],_0x1de1ea=await profile[_0x2074fd(0xa5)]({'email':_0x4a71a3[_0x2074fd(0xbf)]}),_0x166781=await master_shop[_0x2074fd(0xbc)]();if(_0x166781[0x0][_0x2074fd(0xbb)]==_0x2074fd(0x8e)){var _0x146985=users[_0x2074fd(0x85)];console['log'](_0x146985);}else{if(_0x166781[0x0][_0x2074fd(0xbb)]==_0x2074fd(0x8d))var _0x146985=users[_0x2074fd(0x8d)];else{if(_0x166781[0x0][_0x2074fd(0xbb)]==_0x2074fd(0xc0))var _0x146985=users[_0x2074fd(0xc0)];else{if(_0x166781[0x0][_0x2074fd(0xbb)]==_0x2074fd(0x96))var _0x146985=users[_0x2074fd(0x96)];else{if(_0x166781[0x0][_0x2074fd(0xbb)]==_0x2074fd(0x9e))var _0x146985=users[_0x2074fd(0x9e)];else{if(_0x166781[0x0]['language']==_0x2074fd(0xb9))var _0x146985=users['Portuguese'];else{if(_0x166781[0x0][_0x2074fd(0xbb)]==_0x2074fd(0xb6))var _0x146985=users['Chinese'];else{if(_0x166781[0x0][_0x2074fd(0xbb)]=='Arabic\x20(ae)')var _0x146985=users['Arabic'];}}}}}}}const _0x11ea31=await expenses_type[_0x2074fd(0xbc)]({}),_0x42f8b5=await Promise[_0x2074fd(0xa4)](_0x11ea31[_0x2074fd(0x9b)](async _0x4a2df8=>{const _0x57c87a=_0x2074fd,_0x17d0e3=await all_expenses[_0x57c87a(0xae)]({'type':_0x4a2df8['name']});return{..._0x4a2df8[_0x57c87a(0x8b)](),'count':_0x17d0e3};}));_0x25dae2[_0x2074fd(0x8f)]('expenses_type',{'success':_0x1ca905[_0x2074fd(0x92)](_0x2074fd(0x97)),'errors':_0x1ca905[_0x2074fd(0x92)](_0x2074fd(0xb1)),'role':_0x4a71a3,'profile':_0x1de1ea,'master_shop':_0x166781,'language':_0x146985,'expensesData':_0x42f8b5});}catch(_0x46acc8){console['log'](_0x46acc8);}}),router[a0_0x486612(0xaa)](a0_0x486612(0xb2),auth,async(_0x496571,_0x394373)=>{const _0x1957ab=a0_0x486612;try{const {name:_0x5b0e0c}=_0x496571[_0x1957ab(0x8c)],_0x5e2475=new expenses_type({'name':_0x5b0e0c}),_0x1a20b8=await expenses_type['findOne']({'name':_0x5b0e0c});if(_0x1a20b8)_0x496571[_0x1957ab(0x92)](_0x1957ab(0xb1),_0x5b0e0c+_0x1957ab(0xb0));else{_0x496571[_0x1957ab(0x92)](_0x1957ab(0x97),_0x5b0e0c+_0x1957ab(0x90));const _0x50e60a=await _0x5e2475['save']();}_0x394373[_0x1957ab(0x88)](_0x1957ab(0xbe));}catch(_0x3e36fd){console[_0x1957ab(0xaf)](_0x3e36fd);}}),router[a0_0x486612(0xaa)](a0_0x486612(0x9f),auth,async(_0x4e53e4,_0x5bd53e)=>{const _0x53ed21=a0_0x486612;try{const _0x501087=_0x4e53e4[_0x53ed21(0x98)]['id'],_0x3fea95=await expenses_type[_0x53ed21(0xb5)](_0x501087),_0xd4e5b5=await expenses_type['findByIdAndUpdate'](_0x501087,_0x4e53e4[_0x53ed21(0x8c)]),_0x68abc4=await all_expenses['updateMany']({'type':_0x3fea95['name']},{'$set':{'type':_0x4e53e4[_0x53ed21(0x8c)][_0x53ed21(0xa8)]}});_0x4e53e4[_0x53ed21(0x92)](_0x53ed21(0x97),_0x53ed21(0x84)),_0x5bd53e[_0x53ed21(0x88)](_0x53ed21(0xbe));}catch(_0x36adb7){console[_0x53ed21(0xaf)](_0x36adb7);}}),router['get'](a0_0x486612(0xa2),auth,async(_0x52eab8,_0x272c74)=>{const _0x2b5c3b=a0_0x486612;try{const _0x2a0d21=_0x52eab8[_0x2b5c3b(0x98)]['id'],_0x1f62e2=await expenses_type[_0x2b5c3b(0x87)](_0x2a0d21);_0x52eab8[_0x2b5c3b(0x92)](_0x2b5c3b(0x97),'Expenses\x20data\x20delete\x20successfully'),_0x272c74[_0x2b5c3b(0x88)](_0x2b5c3b(0xbe));}catch(_0x16deae){console[_0x2b5c3b(0xaf)](_0x16deae);}}),router[a0_0x486612(0x99)](a0_0x486612(0xad),auth,async(_0x2bc961,_0x4b9515)=>{const _0x3ccd6f=a0_0x486612;try{const {username:_0x5d07ee,email:_0xa67e61,role:_0x343829}=_0x2bc961[_0x3ccd6f(0x86)],_0x196750=_0x2bc961[_0x3ccd6f(0x86)],_0xf78629=await profile[_0x3ccd6f(0xa5)]({'email':_0x196750[_0x3ccd6f(0xbf)]}),_0x47dbd1=await master_shop[_0x3ccd6f(0xbc)]();console[_0x3ccd6f(0xaf)]('master',_0x47dbd1);const _0x1f9a84=await expenses_type[_0x3ccd6f(0xbc)]({}),_0x58709c=await all_expenses[_0x3ccd6f(0xbc)]({});console[_0x3ccd6f(0xaf)](_0x58709c);if(_0x47dbd1[0x0][_0x3ccd6f(0xbb)]==_0x3ccd6f(0x8e)){var _0x6949cc=users[_0x3ccd6f(0x85)];console[_0x3ccd6f(0xaf)](_0x6949cc);}else{if(_0x47dbd1[0x0]['language']==_0x3ccd6f(0x8d))var _0x6949cc=users[_0x3ccd6f(0x8d)];else{if(_0x47dbd1[0x0][_0x3ccd6f(0xbb)]==_0x3ccd6f(0xc0))var _0x6949cc=users[_0x3ccd6f(0xc0)];else{if(_0x47dbd1[0x0][_0x3ccd6f(0xbb)]=='Spanish')var _0x6949cc=users[_0x3ccd6f(0x96)];else{if(_0x47dbd1[0x0]['language']==_0x3ccd6f(0x9e))var _0x6949cc=users['French'];else{if(_0x47dbd1[0x0][_0x3ccd6f(0xbb)]==_0x3ccd6f(0xb9))var _0x6949cc=users[_0x3ccd6f(0x95)];else{if(_0x47dbd1[0x0][_0x3ccd6f(0xbb)]==_0x3ccd6f(0xb6))var _0x6949cc=users[_0x3ccd6f(0xb6)];else{if(_0x47dbd1[0x0][_0x3ccd6f(0xbb)]=='Arabic\x20(ae)')var _0x6949cc=users[_0x3ccd6f(0xa3)];}}}}}}}_0x4b9515[_0x3ccd6f(0x8f)](_0x3ccd6f(0xb7),{'success':_0x2bc961['flash']('success'),'errors':_0x2bc961[_0x3ccd6f(0x92)]('errors'),'role':_0x196750,'profile':_0xf78629,'data':_0x1f9a84,'expenses_data':_0x58709c,'master_shop':_0x47dbd1,'language':_0x6949cc});}catch(_0x33ec16){console['log'](_0x33ec16);}}),router['get'](a0_0x486612(0xac),auth,async(_0x579584,_0x581380)=>{const _0x4a8ba6=a0_0x486612;try{const {username:_0x72da97,email:_0x352f7c,role:_0x214358}=_0x579584[_0x4a8ba6(0x86)],_0x88b042=_0x579584[_0x4a8ba6(0x86)],_0x51ed52=await profile['findOne']({'email':_0x88b042['email']}),_0x35874a=await master_shop[_0x4a8ba6(0xbc)]();console['log'](_0x4a8ba6(0xb3),_0x35874a);const _0x42d43c=await expenses_type[_0x4a8ba6(0xbc)]({});if(_0x35874a[0x0][_0x4a8ba6(0xbb)]==_0x4a8ba6(0x8e)){var _0x27e052=users['English'];console[_0x4a8ba6(0xaf)](_0x27e052);}else{if(_0x35874a[0x0][_0x4a8ba6(0xbb)]=='Hindi')var _0x27e052=users[_0x4a8ba6(0x8d)];else{if(_0x35874a[0x0][_0x4a8ba6(0xbb)]==_0x4a8ba6(0xc0))var _0x27e052=users[_0x4a8ba6(0xc0)];else{if(_0x35874a[0x0][_0x4a8ba6(0xbb)]==_0x4a8ba6(0x96))var _0x27e052=users['Spanish'];else{if(_0x35874a[0x0][_0x4a8ba6(0xbb)]==_0x4a8ba6(0x9e))var _0x27e052=users[_0x4a8ba6(0x9e)];else{if(_0x35874a[0x0][_0x4a8ba6(0xbb)]=='Portuguese\x20(BR)')var _0x27e052=users['Portuguese'];else{if(_0x35874a[0x0][_0x4a8ba6(0xbb)]==_0x4a8ba6(0xb6))var _0x27e052=users['Chinese'];else{if(_0x35874a[0x0][_0x4a8ba6(0xbb)]=='Arabic\x20(ae)')var _0x27e052=users[_0x4a8ba6(0xa3)];}}}}}}}_0x581380[_0x4a8ba6(0x8f)](_0x4a8ba6(0xc1),{'success':_0x579584['flash'](_0x4a8ba6(0x97)),'errors':_0x579584[_0x4a8ba6(0x92)](_0x4a8ba6(0xb1)),'role':_0x88b042,'profile':_0x51ed52,'data':_0x42d43c,'master_shop':_0x35874a,'language':_0x27e052});}catch(_0x31b87a){console[_0x4a8ba6(0xaf)](_0x31b87a);}}),router[a0_0x486612(0xaa)]('/view/add_expenses',auth,async(_0x160b6a,_0x2bef47)=>{const _0x30a0b4=a0_0x486612;try{const {type:_0x3d9d7a,date:_0x3c5850,amount:_0x3da472,note:_0x43ce99}=_0x160b6a[_0x30a0b4(0x8c)],_0x4a4a65=new all_expenses({'type':_0x3d9d7a,'date':_0x3c5850,'amount':_0x3da472,'note':_0x43ce99}),_0x1aa173=await _0x4a4a65[_0x30a0b4(0xa0)]();_0x2bef47[_0x30a0b4(0x88)](_0x30a0b4(0x93));}catch(_0x218dfb){console[_0x30a0b4(0xaf)](_0x218dfb);}}),router[a0_0x486612(0x99)](a0_0x486612(0x83),auth,async(_0x3c74a9,_0x42beb8)=>{const _0x59f8f4=a0_0x486612;try{const {username:_0x2c3311,email:_0x5a55d3,role:_0x2b90c0}=_0x3c74a9[_0x59f8f4(0x86)],_0x2b62bc=_0x3c74a9[_0x59f8f4(0x86)],_0x4b5f60=await profile[_0x59f8f4(0xa5)]({'email':_0x2b62bc['email']}),_0x58739d=await master_shop[_0x59f8f4(0xbc)]();console[_0x59f8f4(0xaf)]('master',_0x58739d);const _0x1e5a6a=await expenses_type['find']({});console['log'](_0x1e5a6a);const _0x1dde72=await all_expenses[_0x59f8f4(0xb5)](_0x3c74a9[_0x59f8f4(0x98)]['id']);console['log'](_0x1dde72);if(_0x58739d[0x0][_0x59f8f4(0xbb)]==_0x59f8f4(0x8e)){var _0x57e776=users['English'];console['log'](_0x57e776);}else{if(_0x58739d[0x0][_0x59f8f4(0xbb)]=='Hindi')var _0x57e776=users[_0x59f8f4(0x8d)];else{if(_0x58739d[0x0][_0x59f8f4(0xbb)]=='German')var _0x57e776=users[_0x59f8f4(0xc0)];else{if(_0x58739d[0x0][_0x59f8f4(0xbb)]==_0x59f8f4(0x96))var _0x57e776=users[_0x59f8f4(0x96)];else{if(_0x58739d[0x0][_0x59f8f4(0xbb)]==_0x59f8f4(0x9e))var _0x57e776=users[_0x59f8f4(0x9e)];else{if(_0x58739d[0x0][_0x59f8f4(0xbb)]=='Portuguese\x20(BR)')var _0x57e776=users[_0x59f8f4(0x95)];else{if(_0x58739d[0x0]['language']==_0x59f8f4(0xb6))var _0x57e776=users[_0x59f8f4(0xb6)];else{if(_0x58739d[0x0][_0x59f8f4(0xbb)]==_0x59f8f4(0x81))var _0x57e776=users[_0x59f8f4(0xa3)];}}}}}}}_0x42beb8['render'](_0x59f8f4(0xa1),{'success':_0x3c74a9[_0x59f8f4(0x92)](_0x59f8f4(0x97)),'errors':_0x3c74a9[_0x59f8f4(0x92)](_0x59f8f4(0xb1)),'role':_0x2b62bc,'profile':_0x4b5f60,'data':_0x1e5a6a,'expenses_data':_0x1dde72,'master_shop':_0x58739d,'language':_0x57e776});}catch(_0x4b40a4){console[_0x59f8f4(0xaf)](_0x4b40a4);}}),router['post'](a0_0x486612(0x83),auth,async(_0x161d69,_0x4aac8b)=>{const _0x4bb369=a0_0x486612;try{const _0x30bc39=_0x161d69[_0x4bb369(0x98)]['id'];console[_0x4bb369(0xaf)](_0x30bc39);const _0x3728a3=await all_expenses[_0x4bb369(0x8a)](_0x30bc39,_0x161d69[_0x4bb369(0x8c)]);console[_0x4bb369(0xaf)](_0x3728a3),_0x161d69[_0x4bb369(0x92)](_0x4bb369(0x97),_0x4bb369(0x84)),_0x4aac8b[_0x4bb369(0x88)](_0x4bb369(0x93));}catch(_0x5371b1){console[_0x4bb369(0xaf)](_0x5371b1);}}),module[a0_0x486612(0x9d)]=router;