const a0_0x21e6b3=a0_0x3209;function a0_0x4bb2(){const _0x4106ea=['595980ktNILz','/view/:id','180HdibrB','Arabic\x20(ae)','\x20expenses\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Chinese','../public/language/languages.json','toJSON','Arabic','/type/delete/:id','182882hNuxtY','master','Spanish','English','body','German','name','144Nddiit','/type/:id','params','138446cXKjsS','expenses_type','Hindi','all','errors','exports','Router','add_expenses','/view','expenses\x20data\x20update\x20successfully','email','957365xebKlK','find','/view/add_expenses','12oWZbZG','/all_expenses/type','map','save','user','558mCgUXW','findById','/type','get','356406ZIgRrs','Portuguese\x20(BR)','language','findByIdAndUpdate','French','flash','English\x20(US)','redirect','../models/all_models','findOne','15256wojicW','log','/all_expenses/view','success','47qCcelS','11486VxYrsA','Portuguese','expenses','post','render'];a0_0x4bb2=function(){return _0x4106ea;};return a0_0x4bb2();}(function(_0x523094,_0x4b3e36){const _0x2e21a1=a0_0x3209,_0x47b851=_0x523094();while(!![]){try{const _0x1d6968=parseInt(_0x2e21a1(0xee))/0x1*(-parseInt(_0x2e21a1(0xef))/0x2)+parseInt(_0x2e21a1(0xe0))/0x3*(-parseInt(_0x2e21a1(0x116))/0x4)+parseInt(_0x2e21a1(0x113))/0x5+parseInt(_0x2e21a1(0x105))/0x6*(parseInt(_0x2e21a1(0xfe))/0x7)+parseInt(_0x2e21a1(0xea))/0x8*(parseInt(_0x2e21a1(0xdc))/0x9)+parseInt(_0x2e21a1(0xf4))/0xa+parseInt(_0x2e21a1(0x108))/0xb*(parseInt(_0x2e21a1(0xf6))/0xc);if(_0x1d6968===_0x4b3e36)break;else _0x47b851['push'](_0x47b851['shift']());}catch(_0x138ba4){_0x47b851['push'](_0x47b851['shift']());}}}(a0_0x4bb2,0x886c8));const express=require('express'),app=express(),router=express[a0_0x21e6b3(0x10e)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,suppliers_payment,expenses_type,all_expenses}=require(a0_0x21e6b3(0xe8)),auth=require('../middleware/auth'),users=require(a0_0x21e6b3(0xfa));function a0_0x3209(_0x3a4157,_0x568ac7){const _0x4bb2cd=a0_0x4bb2();return a0_0x3209=function(_0x32095a,_0x210f1a){_0x32095a=_0x32095a-0xda;let _0x6064b8=_0x4bb2cd[_0x32095a];return _0x6064b8;},a0_0x3209(_0x3a4157,_0x568ac7);}router[a0_0x21e6b3(0xdf)](a0_0x21e6b3(0xde),auth,async(_0x29248a,_0x34b8df)=>{const _0x359f38=a0_0x21e6b3;try{const {username:_0x4655d4,email:_0xaf4c99,role:_0x384716}=_0x29248a['user'],_0x3a0420=_0x29248a['user'],_0x5c1332=await profile['findOne']({'email':_0x3a0420[_0x359f38(0x112)]}),_0x1d29a9=await master_shop[_0x359f38(0x114)]();if(_0x1d29a9[0x0][_0x359f38(0xe2)]==_0x359f38(0xe6)){var _0x1a19b3=users[_0x359f38(0x101)];console[_0x359f38(0xeb)](_0x1a19b3);}else{if(_0x1d29a9[0x0][_0x359f38(0xe2)]==_0x359f38(0x10a))var _0x1a19b3=users['Hindi'];else{if(_0x1d29a9[0x0][_0x359f38(0xe2)]==_0x359f38(0x103))var _0x1a19b3=users[_0x359f38(0x103)];else{if(_0x1d29a9[0x0][_0x359f38(0xe2)]==_0x359f38(0x100))var _0x1a19b3=users[_0x359f38(0x100)];else{if(_0x1d29a9[0x0][_0x359f38(0xe2)]==_0x359f38(0xe4))var _0x1a19b3=users[_0x359f38(0xe4)];else{if(_0x1d29a9[0x0]['language']==_0x359f38(0xe1))var _0x1a19b3=users[_0x359f38(0xf0)];else{if(_0x1d29a9[0x0][_0x359f38(0xe2)]=='Chinese')var _0x1a19b3=users[_0x359f38(0xf9)];else{if(_0x1d29a9[0x0][_0x359f38(0xe2)]==_0x359f38(0xf7))var _0x1a19b3=users[_0x359f38(0xfc)];}}}}}}}const _0x3abc66=await expenses_type[_0x359f38(0x114)]({}),_0x5a70b6=await Promise[_0x359f38(0x10b)](_0x3abc66[_0x359f38(0x118)](async _0xad34aa=>{const _0x193191=_0x359f38,_0x1e3c52=await all_expenses['countDocuments']({'type':_0xad34aa[_0x193191(0x104)]});return{..._0xad34aa[_0x193191(0xfb)](),'count':_0x1e3c52};}));_0x34b8df[_0x359f38(0xf3)](_0x359f38(0x109),{'success':_0x29248a['flash'](_0x359f38(0xed)),'errors':_0x29248a[_0x359f38(0xe5)](_0x359f38(0x10c)),'role':_0x3a0420,'profile':_0x5c1332,'master_shop':_0x1d29a9,'language':_0x1a19b3,'expensesData':_0x5a70b6});}catch(_0x4c3c6b){console[_0x359f38(0xeb)](_0x4c3c6b);}}),router[a0_0x21e6b3(0xf2)]('/type',auth,async(_0x403f94,_0x34a2d5)=>{const _0x4b95ab=a0_0x21e6b3;try{const {name:_0x23a2a1}=_0x403f94['body'],_0x59f657=new expenses_type({'name':_0x23a2a1}),_0x3bfc0f=await expenses_type[_0x4b95ab(0xe9)]({'name':_0x23a2a1});if(_0x3bfc0f)_0x403f94[_0x4b95ab(0xe5)](_0x4b95ab(0x10c),_0x23a2a1+_0x4b95ab(0xf8));else{_0x403f94[_0x4b95ab(0xe5)](_0x4b95ab(0xed),_0x23a2a1+'\x20expenses\x20is\x20add\x20successfully');const _0x17b181=await _0x59f657['save']();}_0x34a2d5[_0x4b95ab(0xe7)](_0x4b95ab(0x117));}catch(_0x4a636f){console[_0x4b95ab(0xeb)](_0x4a636f);}}),router[a0_0x21e6b3(0xf2)](a0_0x21e6b3(0x106),auth,async(_0x850dda,_0x5c20b3)=>{const _0x4a2ba0=a0_0x21e6b3;try{const _0x142884=_0x850dda[_0x4a2ba0(0x107)]['id'],_0x530117=await expenses_type[_0x4a2ba0(0xdd)](_0x142884),_0x4dbc6a=await expenses_type[_0x4a2ba0(0xe3)](_0x142884,_0x850dda['body']),_0x5da64c=await all_expenses['updateMany']({'type':_0x530117[_0x4a2ba0(0x104)]},{'$set':{'type':_0x850dda[_0x4a2ba0(0x102)][_0x4a2ba0(0x104)]}});_0x850dda[_0x4a2ba0(0xe5)](_0x4a2ba0(0xed),'expenses\x20data\x20update\x20successfully'),_0x5c20b3[_0x4a2ba0(0xe7)](_0x4a2ba0(0x117));}catch(_0x595b11){console['log'](_0x595b11);}}),router[a0_0x21e6b3(0xdf)](a0_0x21e6b3(0xfd),auth,async(_0x4471ad,_0x4bdab0)=>{const _0xe7220d=a0_0x21e6b3;try{const _0x385dca=_0x4471ad[_0xe7220d(0x107)]['id'],_0x400d45=await expenses_type['findByIdAndDelete'](_0x385dca);_0x4471ad[_0xe7220d(0xe5)](_0xe7220d(0xed),'Expenses\x20data\x20delete\x20successfully'),_0x4bdab0[_0xe7220d(0xe7)](_0xe7220d(0x117));}catch(_0x16b33f){console['log'](_0x16b33f);}}),router[a0_0x21e6b3(0xdf)](a0_0x21e6b3(0x110),auth,async(_0x861075,_0x34cd86)=>{const _0x2a3f1c=a0_0x21e6b3;try{const {username:_0x24285b,email:_0x5292c9,role:_0x490614}=_0x861075[_0x2a3f1c(0xdb)],_0x5c18dd=_0x861075[_0x2a3f1c(0xdb)],_0x538922=await profile['findOne']({'email':_0x5c18dd[_0x2a3f1c(0x112)]}),_0x2b208d=await master_shop[_0x2a3f1c(0x114)]();console['log']('master',_0x2b208d);const _0x195349=await expenses_type[_0x2a3f1c(0x114)]({}),_0x1e4bc0=await all_expenses[_0x2a3f1c(0x114)]({});console[_0x2a3f1c(0xeb)](_0x1e4bc0);if(_0x2b208d[0x0][_0x2a3f1c(0xe2)]==_0x2a3f1c(0xe6)){var _0x2809f5=users[_0x2a3f1c(0x101)];console['log'](_0x2809f5);}else{if(_0x2b208d[0x0]['language']=='Hindi')var _0x2809f5=users[_0x2a3f1c(0x10a)];else{if(_0x2b208d[0x0]['language']==_0x2a3f1c(0x103))var _0x2809f5=users[_0x2a3f1c(0x103)];else{if(_0x2b208d[0x0][_0x2a3f1c(0xe2)]==_0x2a3f1c(0x100))var _0x2809f5=users['Spanish'];else{if(_0x2b208d[0x0][_0x2a3f1c(0xe2)]==_0x2a3f1c(0xe4))var _0x2809f5=users[_0x2a3f1c(0xe4)];else{if(_0x2b208d[0x0][_0x2a3f1c(0xe2)]=='Portuguese\x20(BR)')var _0x2809f5=users[_0x2a3f1c(0xf0)];else{if(_0x2b208d[0x0]['language']==_0x2a3f1c(0xf9))var _0x2809f5=users[_0x2a3f1c(0xf9)];else{if(_0x2b208d[0x0][_0x2a3f1c(0xe2)]=='Arabic\x20(ae)')var _0x2809f5=users[_0x2a3f1c(0xfc)];}}}}}}}_0x34cd86[_0x2a3f1c(0xf3)](_0x2a3f1c(0xf1),{'success':_0x861075[_0x2a3f1c(0xe5)]('success'),'errors':_0x861075[_0x2a3f1c(0xe5)](_0x2a3f1c(0x10c)),'role':_0x5c18dd,'profile':_0x538922,'data':_0x195349,'expenses_data':_0x1e4bc0,'master_shop':_0x2b208d,'language':_0x2809f5});}catch(_0x429799){console[_0x2a3f1c(0xeb)](_0x429799);}}),router[a0_0x21e6b3(0xdf)]('/view/add_expenses',auth,async(_0x28ebda,_0x31204d)=>{const _0x924abd=a0_0x21e6b3;try{const {username:_0x2278e1,email:_0x219f63,role:_0x5b5c41}=_0x28ebda[_0x924abd(0xdb)],_0x33b686=_0x28ebda[_0x924abd(0xdb)],_0x1a8b7b=await profile[_0x924abd(0xe9)]({'email':_0x33b686['email']}),_0x518e91=await master_shop[_0x924abd(0x114)]();console[_0x924abd(0xeb)](_0x924abd(0xff),_0x518e91);const _0x5660ee=await expenses_type[_0x924abd(0x114)]({});if(_0x518e91[0x0][_0x924abd(0xe2)]==_0x924abd(0xe6)){var _0x230d1f=users[_0x924abd(0x101)];console['log'](_0x230d1f);}else{if(_0x518e91[0x0][_0x924abd(0xe2)]==_0x924abd(0x10a))var _0x230d1f=users[_0x924abd(0x10a)];else{if(_0x518e91[0x0][_0x924abd(0xe2)]==_0x924abd(0x103))var _0x230d1f=users[_0x924abd(0x103)];else{if(_0x518e91[0x0]['language']==_0x924abd(0x100))var _0x230d1f=users[_0x924abd(0x100)];else{if(_0x518e91[0x0][_0x924abd(0xe2)]==_0x924abd(0xe4))var _0x230d1f=users[_0x924abd(0xe4)];else{if(_0x518e91[0x0][_0x924abd(0xe2)]==_0x924abd(0xe1))var _0x230d1f=users[_0x924abd(0xf0)];else{if(_0x518e91[0x0][_0x924abd(0xe2)]==_0x924abd(0xf9))var _0x230d1f=users[_0x924abd(0xf9)];else{if(_0x518e91[0x0]['language']==_0x924abd(0xf7))var _0x230d1f=users[_0x924abd(0xfc)];}}}}}}}_0x31204d['render'](_0x924abd(0x10f),{'success':_0x28ebda[_0x924abd(0xe5)](_0x924abd(0xed)),'errors':_0x28ebda[_0x924abd(0xe5)](_0x924abd(0x10c)),'role':_0x33b686,'profile':_0x1a8b7b,'data':_0x5660ee,'master_shop':_0x518e91,'language':_0x230d1f});}catch(_0x3a55d7){console['log'](_0x3a55d7);}}),router['post'](a0_0x21e6b3(0x115),auth,async(_0x5add11,_0x4c6876)=>{const _0x1339c3=a0_0x21e6b3;try{const {type:_0x1fb904,date:_0x72a1e9,amount:_0x18699a,note:_0x3f336b}=_0x5add11['body'],_0x58ce45=new all_expenses({'type':_0x1fb904,'date':_0x72a1e9,'amount':_0x18699a,'note':_0x3f336b}),_0x486d61=await _0x58ce45[_0x1339c3(0xda)]();_0x4c6876['redirect'](_0x1339c3(0xec));}catch(_0x177b99){console[_0x1339c3(0xeb)](_0x177b99);}}),router[a0_0x21e6b3(0xdf)](a0_0x21e6b3(0xf5),auth,async(_0x2a6d04,_0x2b9e3a)=>{const _0x4e8a39=a0_0x21e6b3;try{const {username:_0x11a99b,email:_0x11829f,role:_0x157c1b}=_0x2a6d04['user'],_0x4ac6f1=_0x2a6d04[_0x4e8a39(0xdb)],_0x137e57=await profile[_0x4e8a39(0xe9)]({'email':_0x4ac6f1['email']}),_0x397a7b=await master_shop[_0x4e8a39(0x114)]();console[_0x4e8a39(0xeb)](_0x4e8a39(0xff),_0x397a7b);const _0x58ac7a=await expenses_type[_0x4e8a39(0x114)]({});console['log'](_0x58ac7a);const _0x4b3d7b=await all_expenses[_0x4e8a39(0xdd)](_0x2a6d04[_0x4e8a39(0x107)]['id']);console[_0x4e8a39(0xeb)](_0x4b3d7b);if(_0x397a7b[0x0][_0x4e8a39(0xe2)]==_0x4e8a39(0xe6)){var _0x497d09=users[_0x4e8a39(0x101)];console[_0x4e8a39(0xeb)](_0x497d09);}else{if(_0x397a7b[0x0]['language']==_0x4e8a39(0x10a))var _0x497d09=users[_0x4e8a39(0x10a)];else{if(_0x397a7b[0x0][_0x4e8a39(0xe2)]=='German')var _0x497d09=users['German'];else{if(_0x397a7b[0x0]['language']==_0x4e8a39(0x100))var _0x497d09=users[_0x4e8a39(0x100)];else{if(_0x397a7b[0x0][_0x4e8a39(0xe2)]==_0x4e8a39(0xe4))var _0x497d09=users[_0x4e8a39(0xe4)];else{if(_0x397a7b[0x0][_0x4e8a39(0xe2)]==_0x4e8a39(0xe1))var _0x497d09=users[_0x4e8a39(0xf0)];else{if(_0x397a7b[0x0][_0x4e8a39(0xe2)]==_0x4e8a39(0xf9))var _0x497d09=users[_0x4e8a39(0xf9)];else{if(_0x397a7b[0x0]['language']==_0x4e8a39(0xf7))var _0x497d09=users[_0x4e8a39(0xfc)];}}}}}}}_0x2b9e3a[_0x4e8a39(0xf3)]('edit_expenses',{'success':_0x2a6d04[_0x4e8a39(0xe5)](_0x4e8a39(0xed)),'errors':_0x2a6d04['flash'](_0x4e8a39(0x10c)),'role':_0x4ac6f1,'profile':_0x137e57,'data':_0x58ac7a,'expenses_data':_0x4b3d7b,'master_shop':_0x397a7b,'language':_0x497d09});}catch(_0x342c3e){console['log'](_0x342c3e);}}),router[a0_0x21e6b3(0xf2)](a0_0x21e6b3(0xf5),auth,async(_0x55386e,_0x19d9c0)=>{const _0x1e07e8=a0_0x21e6b3;try{const _0x5927c4=_0x55386e[_0x1e07e8(0x107)]['id'];console[_0x1e07e8(0xeb)](_0x5927c4);const _0x3a38c1=await all_expenses[_0x1e07e8(0xe3)](_0x5927c4,_0x55386e[_0x1e07e8(0x102)]);console[_0x1e07e8(0xeb)](_0x3a38c1),_0x55386e[_0x1e07e8(0xe5)]('success',_0x1e07e8(0x111)),_0x19d9c0['redirect'](_0x1e07e8(0xec));}catch(_0x2e7a5){console[_0x1e07e8(0xeb)](_0x2e7a5);}}),module[a0_0x21e6b3(0x10d)]=router;