const a0_0x73e0f=a0_0x40a7;(function(_0x31ddca,_0x170934){const _0x4f6f4c=a0_0x40a7,_0x56662f=_0x31ddca();while(!![]){try{const _0x596dfc=parseInt(_0x4f6f4c(0x7d))/0x1+parseInt(_0x4f6f4c(0x9a))/0x2+parseInt(_0x4f6f4c(0xaa))/0x3*(-parseInt(_0x4f6f4c(0x83))/0x4)+parseInt(_0x4f6f4c(0x76))/0x5*(parseInt(_0x4f6f4c(0x7a))/0x6)+parseInt(_0x4f6f4c(0x9e))/0x7*(parseInt(_0x4f6f4c(0x86))/0x8)+parseInt(_0x4f6f4c(0x8a))/0x9+-parseInt(_0x4f6f4c(0x77))/0xa;if(_0x596dfc===_0x170934)break;else _0x56662f['push'](_0x56662f['shift']());}catch(_0x452ef2){_0x56662f['push'](_0x56662f['shift']());}}}(a0_0x16a5,0xec7fa));const express=require('express'),app=express(),router=express[a0_0x73e0f(0x96)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,suppliers_payment,expenses_type,all_expenses}=require(a0_0x73e0f(0x9d)),auth=require(a0_0x73e0f(0x79)),users=require('../public/language/languages.json');router[a0_0x73e0f(0x78)](a0_0x73e0f(0xac),auth,async(_0x17da8f,_0x569e53)=>{const _0x3c5534=a0_0x73e0f;try{const {username:_0x21f022,email:_0x2f6ea9,role:_0x2addf3}=_0x17da8f[_0x3c5534(0xa1)],_0x49dec9=_0x17da8f[_0x3c5534(0xa1)],_0x2c526e=await profile[_0x3c5534(0x82)]({'email':_0x49dec9['email']}),_0x494c56=await master_shop['find']();if(_0x494c56[0x0][_0x3c5534(0x7b)]=='English\x20(US)'){var _0x42d3b9=users[_0x3c5534(0x87)];console[_0x3c5534(0x9b)](_0x42d3b9);}else{if(_0x494c56[0x0][_0x3c5534(0x7b)]==_0x3c5534(0xa7))var _0x42d3b9=users['Hindi'];else{if(_0x494c56[0x0][_0x3c5534(0x7b)]==_0x3c5534(0x98))var _0x42d3b9=users[_0x3c5534(0x98)];else{if(_0x494c56[0x0][_0x3c5534(0x7b)]=='Spanish')var _0x42d3b9=users['Spanish'];else{if(_0x494c56[0x0][_0x3c5534(0x7b)]=='French')var _0x42d3b9=users[_0x3c5534(0xa6)];else{if(_0x494c56[0x0]['language']==_0x3c5534(0xa9))var _0x42d3b9=users[_0x3c5534(0x92)];else{if(_0x494c56[0x0][_0x3c5534(0x7b)]=='Chinese')var _0x42d3b9=users['Chinese'];else{if(_0x494c56[0x0]['language']=='Arabic\x20(ae)')var _0x42d3b9=users[_0x3c5534(0xa8)];}}}}}}}const _0x4004e8=await expenses_type[_0x3c5534(0x99)]({}),_0xdd7839=await Promise['all'](_0x4004e8['map'](async _0x3ac83e=>{const _0x2c9fd4=_0x3c5534,_0x2ee7bf=await all_expenses[_0x2c9fd4(0x89)]({'type':_0x3ac83e[_0x2c9fd4(0x8b)]});return{..._0x3ac83e['toJSON'](),'count':_0x2ee7bf};}));_0x569e53['render'](_0x3c5534(0xa5),{'success':_0x17da8f[_0x3c5534(0x94)]('success'),'errors':_0x17da8f['flash']('errors'),'role':_0x49dec9,'profile':_0x2c526e,'master_shop':_0x494c56,'language':_0x42d3b9,'expensesData':_0xdd7839});}catch(_0x4444e6){console['log'](_0x4444e6);}}),router[a0_0x73e0f(0x85)](a0_0x73e0f(0xac),auth,async(_0x368f71,_0x4222b7)=>{const _0x2e54a3=a0_0x73e0f;try{const {name:_0x34ae17}=_0x368f71[_0x2e54a3(0x81)],_0x464314=new expenses_type({'name':_0x34ae17}),_0x125109=await expenses_type[_0x2e54a3(0x82)]({'name':_0x34ae17});if(_0x125109)_0x368f71[_0x2e54a3(0x94)](_0x2e54a3(0x9c),_0x34ae17+_0x2e54a3(0x7f));else{_0x368f71[_0x2e54a3(0x94)](_0x2e54a3(0xa3),_0x34ae17+_0x2e54a3(0xad));const _0x2d9a4a=await _0x464314[_0x2e54a3(0x7c)]();}_0x4222b7[_0x2e54a3(0x91)](_0x2e54a3(0x95));}catch(_0xbd8363){console[_0x2e54a3(0x9b)](_0xbd8363);}}),router[a0_0x73e0f(0x85)]('/type/:id',auth,async(_0x3317af,_0x44b977)=>{const _0x4febfa=a0_0x73e0f;try{const _0x506260=_0x3317af['params']['id'],_0x46b6f0=await expenses_type['findById'](_0x506260),_0x185e4a=await expenses_type['findByIdAndUpdate'](_0x506260,_0x3317af[_0x4febfa(0x81)]),_0x2b0e06=await all_expenses['updateMany']({'type':_0x46b6f0[_0x4febfa(0x8b)]},{'$set':{'type':_0x3317af[_0x4febfa(0x81)][_0x4febfa(0x8b)]}});_0x3317af['flash'](_0x4febfa(0xa3),_0x4febfa(0x93)),_0x44b977[_0x4febfa(0x91)](_0x4febfa(0x95));}catch(_0x58f69d){console[_0x4febfa(0x9b)](_0x58f69d);}}),router['get'](a0_0x73e0f(0x8f),auth,async(_0x11c3e4,_0x3b7eca)=>{const _0x1ae84f=a0_0x73e0f;try{const _0x33db40=_0x11c3e4['params']['id'],_0x4d3b11=await expenses_type['findByIdAndDelete'](_0x33db40);_0x11c3e4['flash'](_0x1ae84f(0xa3),_0x1ae84f(0xa4)),_0x3b7eca['redirect'](_0x1ae84f(0x95));}catch(_0x2ebecf){console[_0x1ae84f(0x9b)](_0x2ebecf);}}),router[a0_0x73e0f(0x78)](a0_0x73e0f(0xab),auth,async(_0x37949b,_0x4a4827)=>{const _0x4a80c9=a0_0x73e0f;try{const {username:_0x8b051c,email:_0x37102e,role:_0x2f1f40}=_0x37949b[_0x4a80c9(0xa1)],_0x58a811=_0x37949b[_0x4a80c9(0xa1)],_0x470d87=await profile[_0x4a80c9(0x82)]({'email':_0x58a811[_0x4a80c9(0x90)]}),_0x2e15a8=await master_shop[_0x4a80c9(0x99)]();console[_0x4a80c9(0x9b)](_0x4a80c9(0x84),_0x2e15a8);const _0x18843e=await expenses_type['find']({}),_0x47db3f=await all_expenses[_0x4a80c9(0x99)]({});console[_0x4a80c9(0x9b)](_0x47db3f);if(_0x2e15a8[0x0]['language']==_0x4a80c9(0x8d)){var _0x1c7026=users[_0x4a80c9(0x87)];console[_0x4a80c9(0x9b)](_0x1c7026);}else{if(_0x2e15a8[0x0]['language']==_0x4a80c9(0xa7))var _0x1c7026=users[_0x4a80c9(0xa7)];else{if(_0x2e15a8[0x0][_0x4a80c9(0x7b)]==_0x4a80c9(0x98))var _0x1c7026=users[_0x4a80c9(0x98)];else{if(_0x2e15a8[0x0]['language']==_0x4a80c9(0x8e))var _0x1c7026=users[_0x4a80c9(0x8e)];else{if(_0x2e15a8[0x0]['language']==_0x4a80c9(0xa6))var _0x1c7026=users[_0x4a80c9(0xa6)];else{if(_0x2e15a8[0x0][_0x4a80c9(0x7b)]=='Portuguese\x20(BR)')var _0x1c7026=users[_0x4a80c9(0x92)];else{if(_0x2e15a8[0x0][_0x4a80c9(0x7b)]=='Chinese')var _0x1c7026=users[_0x4a80c9(0xa0)];else{if(_0x2e15a8[0x0][_0x4a80c9(0x7b)]=='Arabic\x20(ae)')var _0x1c7026=users[_0x4a80c9(0xa8)];}}}}}}}_0x4a4827['render'](_0x4a80c9(0x7e),{'success':_0x37949b[_0x4a80c9(0x94)]('success'),'errors':_0x37949b[_0x4a80c9(0x94)](_0x4a80c9(0x9c)),'role':_0x58a811,'profile':_0x470d87,'data':_0x18843e,'expenses_data':_0x47db3f,'master_shop':_0x2e15a8,'language':_0x1c7026});}catch(_0xb3fbf3){console[_0x4a80c9(0x9b)](_0xb3fbf3);}}),router[a0_0x73e0f(0x78)](a0_0x73e0f(0xae),auth,async(_0x11707c,_0x141e3c)=>{const _0x564491=a0_0x73e0f;try{const {username:_0x234e8a,email:_0x4dc457,role:_0x39cebd}=_0x11707c[_0x564491(0xa1)],_0x342ffd=_0x11707c['user'],_0x3f9791=await profile['findOne']({'email':_0x342ffd[_0x564491(0x90)]}),_0xb80b39=await master_shop['find']();console[_0x564491(0x9b)](_0x564491(0x84),_0xb80b39);const _0x13b14c=await expenses_type[_0x564491(0x99)]({});if(_0xb80b39[0x0][_0x564491(0x7b)]==_0x564491(0x8d)){var _0x38e64e=users[_0x564491(0x87)];console[_0x564491(0x9b)](_0x38e64e);}else{if(_0xb80b39[0x0][_0x564491(0x7b)]==_0x564491(0xa7))var _0x38e64e=users[_0x564491(0xa7)];else{if(_0xb80b39[0x0][_0x564491(0x7b)]==_0x564491(0x98))var _0x38e64e=users[_0x564491(0x98)];else{if(_0xb80b39[0x0][_0x564491(0x7b)]=='Spanish')var _0x38e64e=users[_0x564491(0x8e)];else{if(_0xb80b39[0x0][_0x564491(0x7b)]=='French')var _0x38e64e=users['French'];else{if(_0xb80b39[0x0][_0x564491(0x7b)]==_0x564491(0xa9))var _0x38e64e=users[_0x564491(0x92)];else{if(_0xb80b39[0x0][_0x564491(0x7b)]==_0x564491(0xa0))var _0x38e64e=users[_0x564491(0xa0)];else{if(_0xb80b39[0x0][_0x564491(0x7b)]==_0x564491(0x97))var _0x38e64e=users['Arabic'];}}}}}}}_0x141e3c[_0x564491(0x9f)](_0x564491(0x88),{'success':_0x11707c[_0x564491(0x94)]('success'),'errors':_0x11707c[_0x564491(0x94)](_0x564491(0x9c)),'role':_0x342ffd,'profile':_0x3f9791,'data':_0x13b14c,'master_shop':_0xb80b39,'language':_0x38e64e});}catch(_0x118cfc){console[_0x564491(0x9b)](_0x118cfc);}}),router[a0_0x73e0f(0x85)]('/view/add_expenses',auth,async(_0x276098,_0x1bba64)=>{const _0x5c6ac3=a0_0x73e0f;try{const {type:_0xce7fcf,date:_0x53de,amount:_0xb5d3c2,note:_0x126a45}=_0x276098['body'],_0xaae863=new all_expenses({'type':_0xce7fcf,'date':_0x53de,'amount':_0xb5d3c2,'note':_0x126a45}),_0x4af9c2=await _0xaae863['save']();_0x1bba64[_0x5c6ac3(0x91)](_0x5c6ac3(0x8c));}catch(_0x3e1e85){console['log'](_0x3e1e85);}}),router['get'](a0_0x73e0f(0xa2),auth,async(_0x1c384f,_0x2ecdaf)=>{const _0x54c074=a0_0x73e0f;try{const {username:_0x562648,email:_0x44ca17,role:_0x1266e1}=_0x1c384f[_0x54c074(0xa1)],_0x1be9c6=_0x1c384f[_0x54c074(0xa1)],_0x3c5157=await profile[_0x54c074(0x82)]({'email':_0x1be9c6['email']}),_0x5ecfe0=await master_shop[_0x54c074(0x99)]();console[_0x54c074(0x9b)](_0x54c074(0x84),_0x5ecfe0);const _0x52f124=await expenses_type[_0x54c074(0x99)]({});console[_0x54c074(0x9b)](_0x52f124);const _0x245664=await all_expenses[_0x54c074(0xaf)](_0x1c384f[_0x54c074(0xb0)]['id']);console[_0x54c074(0x9b)](_0x245664);if(_0x5ecfe0[0x0]['language']==_0x54c074(0x8d)){var _0x3dba0b=users[_0x54c074(0x87)];console[_0x54c074(0x9b)](_0x3dba0b);}else{if(_0x5ecfe0[0x0][_0x54c074(0x7b)]==_0x54c074(0xa7))var _0x3dba0b=users[_0x54c074(0xa7)];else{if(_0x5ecfe0[0x0][_0x54c074(0x7b)]==_0x54c074(0x98))var _0x3dba0b=users[_0x54c074(0x98)];else{if(_0x5ecfe0[0x0][_0x54c074(0x7b)]=='Spanish')var _0x3dba0b=users[_0x54c074(0x8e)];else{if(_0x5ecfe0[0x0][_0x54c074(0x7b)]==_0x54c074(0xa6))var _0x3dba0b=users[_0x54c074(0xa6)];else{if(_0x5ecfe0[0x0][_0x54c074(0x7b)]=='Portuguese\x20(BR)')var _0x3dba0b=users[_0x54c074(0x92)];else{if(_0x5ecfe0[0x0][_0x54c074(0x7b)]==_0x54c074(0xa0))var _0x3dba0b=users[_0x54c074(0xa0)];else{if(_0x5ecfe0[0x0][_0x54c074(0x7b)]==_0x54c074(0x97))var _0x3dba0b=users[_0x54c074(0xa8)];}}}}}}}_0x2ecdaf['render'](_0x54c074(0x80),{'success':_0x1c384f[_0x54c074(0x94)](_0x54c074(0xa3)),'errors':_0x1c384f[_0x54c074(0x94)](_0x54c074(0x9c)),'role':_0x1be9c6,'profile':_0x3c5157,'data':_0x52f124,'expenses_data':_0x245664,'master_shop':_0x5ecfe0,'language':_0x3dba0b});}catch(_0x2bf225){console[_0x54c074(0x9b)](_0x2bf225);}}),router[a0_0x73e0f(0x85)]('/view/:id',auth,async(_0x17333a,_0x500f66)=>{const _0x593d47=a0_0x73e0f;try{const _0x43fe01=_0x17333a['params']['id'];console[_0x593d47(0x9b)](_0x43fe01);const _0x579522=await all_expenses['findByIdAndUpdate'](_0x43fe01,_0x17333a[_0x593d47(0x81)]);console[_0x593d47(0x9b)](_0x579522),_0x17333a[_0x593d47(0x94)](_0x593d47(0xa3),'expenses\x20data\x20update\x20successfully'),_0x500f66[_0x593d47(0x91)]('/all_expenses/view');}catch(_0x2a4e9d){console[_0x593d47(0x9b)](_0x2a4e9d);}}),module['exports']=router;function a0_0x40a7(_0x1f824e,_0x552b4d){const _0x16a54c=a0_0x16a5();return a0_0x40a7=function(_0x40a728,_0x2f5196){_0x40a728=_0x40a728-0x76;let _0x52ba21=_0x16a54c[_0x40a728];return _0x52ba21;},a0_0x40a7(_0x1f824e,_0x552b4d);}function a0_0x16a5(){const _0x5afb7c=['French','Hindi','Arabic','Portuguese\x20(BR)','342219zxBDSe','/view','/type','\x20expenses\x20is\x20add\x20successfully','/view/add_expenses','findById','params','5IOPmeF','1487940mdPKiG','get','../middleware/auth','3957018JYkBXE','language','save','707250AlFHMq','expenses','\x20expenses\x20is\x20alredy\x20added.\x20please\x20choose\x20another','edit_expenses','body','findOne','52pgBATS','master','post','56FWLAGK','English','add_expenses','countDocuments','6707871xvlKBP','name','/all_expenses/view','English\x20(US)','Spanish','/type/delete/:id','email','redirect','Portuguese','expenses\x20data\x20update\x20successfully','flash','/all_expenses/type','Router','Arabic\x20(ae)','German','find','384650wNpsjq','log','errors','../models/all_models','296044JjICCj','render','Chinese','user','/view/:id','success','Expenses\x20data\x20delete\x20successfully','expenses_type'];a0_0x16a5=function(){return _0x5afb7c;};return a0_0x16a5();}