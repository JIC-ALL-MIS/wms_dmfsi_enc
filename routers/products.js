function a0_0x1093(_0x4e154c,_0x1ebbe4){const _0x2adda7=a0_0x2add();return a0_0x1093=function(_0x10934c,_0x3fbfe3){_0x10934c=_0x10934c-0x1c3;let _0x65067d=_0x2adda7[_0x10934c];return _0x65067d;},a0_0x1093(_0x4e154c,_0x1ebbe4);}const a0_0x252a87=a0_0x1093;(function(_0x269440,_0x4b97eb){const _0x2b0ac7=a0_0x1093,_0xa0c5fb=_0x269440();while(!![]){try{const _0xdc3667=-parseInt(_0x2b0ac7(0x249))/0x1+parseInt(_0x2b0ac7(0x1db))/0x2+-parseInt(_0x2b0ac7(0x1c4))/0x3+parseInt(_0x2b0ac7(0x264))/0x4+-parseInt(_0x2b0ac7(0x269))/0x5+parseInt(_0x2b0ac7(0x1cb))/0x6+parseInt(_0x2b0ac7(0x1f0))/0x7*(-parseInt(_0x2b0ac7(0x277))/0x8);if(_0xdc3667===_0x4b97eb)break;else _0xa0c5fb['push'](_0xa0c5fb['shift']());}catch(_0x3121d2){_0xa0c5fb['push'](_0xa0c5fb['shift']());}}}(a0_0x2add,0x2002b));const express=require(a0_0x252a87(0x27d)),res=require(a0_0x252a87(0x233)),app=express(),router=express['Router'](),multer=require(a0_0x252a87(0x242)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require('../models/all_models'),auth=require('../middleware/auth'),users=require('../public/language/languages.json'),excelJS=require(a0_0x252a87(0x262)),xlsx=require(a0_0x252a87(0x20c)),JsBarcode=require(a0_0x252a87(0x1eb)),{Canvas}=require(a0_0x252a87(0x224)),PDFDocument=require(a0_0x252a87(0x20a));router[a0_0x252a87(0x1c3)](a0_0x252a87(0x1e5),auth,async(_0x5b74cb,_0x43709d)=>{const _0x2a3448=a0_0x252a87;try{const {username:_0x5d2188,email:_0x40d4df,role:_0x153db3}=_0x5b74cb['user'],_0x212301=_0x5b74cb[_0x2a3448(0x217)],_0x5a753f=await profile[_0x2a3448(0x243)]({'email':_0x212301[_0x2a3448(0x205)]}),_0x5b96d1=await master_shop[_0x2a3448(0x267)]();console['log'](_0x2a3448(0x25f),_0x5b96d1);const _0x30e850=await categories['find']();if(_0x5b96d1[0x0][_0x2a3448(0x22e)]==_0x2a3448(0x25e))var _0x13a665=users[_0x2a3448(0x230)];else{if(_0x5b96d1[0x0][_0x2a3448(0x22e)]==_0x2a3448(0x1d3))var _0x13a665=users[_0x2a3448(0x1d3)];else{if(_0x5b96d1[0x0][_0x2a3448(0x22e)]=='German')var _0x13a665=users[_0x2a3448(0x212)];else{if(_0x5b96d1[0x0][_0x2a3448(0x22e)]==_0x2a3448(0x218))var _0x13a665=users[_0x2a3448(0x218)];else{if(_0x5b96d1[0x0][_0x2a3448(0x22e)]==_0x2a3448(0x254))var _0x13a665=users[_0x2a3448(0x254)];else{if(_0x5b96d1[0x0][_0x2a3448(0x22e)]==_0x2a3448(0x252))var _0x13a665=users['Portuguese'];else{if(_0x5b96d1[0x0][_0x2a3448(0x22e)]==_0x2a3448(0x25c))var _0x13a665=users[_0x2a3448(0x25c)];else{if(_0x5b96d1[0x0][_0x2a3448(0x22e)]==_0x2a3448(0x26f))var _0x13a665=users[_0x2a3448(0x223)];}}}}}}}_0x43709d[_0x2a3448(0x202)](_0x2a3448(0x26b),{'success':_0x5b74cb[_0x2a3448(0x24e)]('success'),'errors':_0x5b74cb[_0x2a3448(0x24e)](_0x2a3448(0x257)),'role':_0x212301,'profile':_0x5a753f,'user':_0x30e850,'master_shop':_0x5b96d1,'language':_0x13a665});}catch(_0x4af5ec){console[_0x2a3448(0x1f8)](_0x4af5ec);}}),router[a0_0x252a87(0x26c)]('/categories',auth,async(_0x4fa571,_0x5b5d10)=>{const _0x124202=a0_0x252a87;try{const {name:_0x472c93,products:_0x9e436f}=_0x4fa571[_0x124202(0x20b)],_0x3b552a=new categories({'name':_0x472c93,'products':_0x9e436f}),_0xca1db6=await categories['findOne']({'name':_0x472c93});_0xca1db6?_0x4fa571[_0x124202(0x24e)](_0x124202(0x257),_0x472c93+_0x124202(0x26d)):_0x4fa571[_0x124202(0x24e)](_0x124202(0x268),_0x472c93+_0x124202(0x25a));const _0x3b7d32=await _0x3b552a[_0x124202(0x27e)]();_0x5b5d10[_0x124202(0x23f)](_0x124202(0x1e1));}catch(_0x538090){console[_0x124202(0x1f8)](_0x538090);}}),router[a0_0x252a87(0x1c3)](a0_0x252a87(0x216),auth,async(_0x5af5d2,_0x18ce78)=>{const _0x542a8b=a0_0x252a87;try{const {username:_0x5389de,email:_0x44c2d6,role:_0x46a15e}=_0x5af5d2['user'],_0x2ca26e=_0x5af5d2[_0x542a8b(0x217)],_0x48ce48=await profile[_0x542a8b(0x243)]({'email':_0x2ca26e['email']}),_0xf25ed1=await master_shop[_0x542a8b(0x267)]();console[_0x542a8b(0x1f8)](_0x542a8b(0x25f),_0xf25ed1);const _0x26bedc=_0x5af5d2['params']['id'];console[_0x542a8b(0x1f8)](_0x26bedc);const _0x4b0126=await categories[_0x542a8b(0x1ec)](_0x26bedc);if(_0xf25ed1[0x0][_0x542a8b(0x22e)]==_0x542a8b(0x25e))var _0xe54852=users[_0x542a8b(0x230)];else{if(_0xf25ed1[0x0]['language']==_0x542a8b(0x1d3))var _0xe54852=users[_0x542a8b(0x1d3)];else{if(_0xf25ed1[0x0][_0x542a8b(0x22e)]==_0x542a8b(0x212))var _0xe54852=users[_0x542a8b(0x212)];else{if(_0xf25ed1[0x0]['language']=='Spanish')var _0xe54852=users[_0x542a8b(0x218)];else{if(_0xf25ed1[0x0][_0x542a8b(0x22e)]==_0x542a8b(0x254))var _0xe54852=users[_0x542a8b(0x254)];else{if(_0xf25ed1[0x0][_0x542a8b(0x22e)]==_0x542a8b(0x252))var _0xe54852=users[_0x542a8b(0x247)];else{if(_0xf25ed1[0x0][_0x542a8b(0x22e)]==_0x542a8b(0x25c))var _0xe54852=users[_0x542a8b(0x25c)];else{if(_0xf25ed1[0x0]['language']==_0x542a8b(0x26f))var _0xe54852=users['Arabic'];}}}}}}}_0x18ce78[_0x542a8b(0x202)]('categories',{'success':_0x5af5d2[_0x542a8b(0x24e)](_0x542a8b(0x268)),'errors':_0x5af5d2[_0x542a8b(0x24e)]('errors'),'role':_0x2ca26e,'profile':_0x48ce48,'master_shop':_0xf25ed1,'user':_0x4b0126,'language':_0xe54852});}catch(_0x2c6c63){console['log'](_0x2c6c63);}}),router[a0_0x252a87(0x26c)](a0_0x252a87(0x216),auth,async(_0x574560,_0x304742)=>{const _0x23d288=a0_0x252a87;try{const _0x1df6d6=_0x574560[_0x23d288(0x1e6)]['id'],_0x134f6d=await categories[_0x23d288(0x1fc)](_0x1df6d6,_0x574560[_0x23d288(0x20b)]);_0x574560[_0x23d288(0x24e)](_0x23d288(0x268),''+users[_0x23d288(0x1cd)]),_0x304742[_0x23d288(0x23f)]('/products/categories');}catch(_0x3bc86a){console['log'](_0x3bc86a);}}),router[a0_0x252a87(0x1c3)](a0_0x252a87(0x23a),auth,async(_0x38072b,_0x45c962)=>{const _0x2edd0c=a0_0x252a87;try{const _0x5f3221=_0x38072b[_0x2edd0c(0x1e6)]['id'],_0x5bf070=await categories[_0x2edd0c(0x214)](_0x5f3221);_0x38072b['flash']('success',_0x2edd0c(0x228)),_0x45c962['redirect'](_0x2edd0c(0x1e1));}catch(_0x84fc52){console[_0x2edd0c(0x1f8)](_0x84fc52);}}),router[a0_0x252a87(0x1c3)]('/brands',auth,async(_0x29f74f,_0x469b45)=>{const _0x566f54=a0_0x252a87;try{const {username:_0x36e7ca,email:_0x482ce3,role:_0x17de68}=_0x29f74f['user'],_0x192dc6=_0x29f74f[_0x566f54(0x217)],_0x165bc1=await profile[_0x566f54(0x243)]({'email':_0x192dc6[_0x566f54(0x205)]}),_0x5bdd66=await master_shop[_0x566f54(0x267)]();console[_0x566f54(0x1f8)](_0x566f54(0x25f),_0x5bdd66);const _0x300b00=await brands[_0x566f54(0x267)]();if(_0x5bdd66[0x0][_0x566f54(0x22e)]==_0x566f54(0x25e))var _0x28c3e9=users['English'];else{if(_0x5bdd66[0x0]['language']==_0x566f54(0x1d3))var _0x28c3e9=users[_0x566f54(0x1d3)];else{if(_0x5bdd66[0x0][_0x566f54(0x22e)]==_0x566f54(0x212))var _0x28c3e9=users['German'];else{if(_0x5bdd66[0x0][_0x566f54(0x22e)]==_0x566f54(0x218))var _0x28c3e9=users[_0x566f54(0x218)];else{if(_0x5bdd66[0x0][_0x566f54(0x22e)]==_0x566f54(0x254))var _0x28c3e9=users[_0x566f54(0x254)];else{if(_0x5bdd66[0x0][_0x566f54(0x22e)]==_0x566f54(0x252))var _0x28c3e9=users[_0x566f54(0x247)];else{if(_0x5bdd66[0x0][_0x566f54(0x22e)]==_0x566f54(0x25c))var _0x28c3e9=users[_0x566f54(0x25c)];else{if(_0x5bdd66[0x0]['language']==_0x566f54(0x26f))var _0x28c3e9=users[_0x566f54(0x223)];}}}}}}}_0x469b45['render'](_0x566f54(0x248),{'success':_0x29f74f[_0x566f54(0x24e)](_0x566f54(0x268)),'errors':_0x29f74f['flash'](_0x566f54(0x257)),'role':_0x192dc6,'profile':_0x165bc1,'master_shop':_0x5bdd66,'user':_0x300b00,'language':_0x28c3e9});}catch(_0x2be6ca){console[_0x566f54(0x1f8)](_0x2be6ca);}}),router['post']('/brands',auth,async(_0x3e47d1,_0x56d5e2)=>{const _0x89028b=a0_0x252a87;try{const {name:_0x56417e,products:_0x28c703}=_0x3e47d1[_0x89028b(0x20b)],_0x515a7c=new brands({'name':_0x56417e,'products':_0x28c703}),_0x467c6b=await brands[_0x89028b(0x243)]({'name':_0x56417e});_0x467c6b?_0x3e47d1['flash']('errors',_0x56417e+_0x89028b(0x1cc)):_0x3e47d1[_0x89028b(0x24e)](_0x89028b(0x268),_0x56417e+_0x89028b(0x1e4));const _0x1a2b9e=await _0x515a7c[_0x89028b(0x27e)]();_0x56d5e2[_0x89028b(0x23f)](_0x89028b(0x23c));}catch(_0x1371e6){console[_0x89028b(0x1f8)](_0x1371e6);}}),router['get'](a0_0x252a87(0x25d),auth,async(_0x5a3c6d,_0x11b108)=>{const _0xea005f=a0_0x252a87;try{const {username:_0x33643e,email:_0x2e0f5e,role:_0x191183}=_0x5a3c6d[_0xea005f(0x217)],_0x248440=_0x5a3c6d[_0xea005f(0x217)],_0x198e9a=await profile[_0xea005f(0x243)]({'email':_0x248440[_0xea005f(0x205)]}),_0x411d98=await master_shop['find']();console[_0xea005f(0x1f8)](_0xea005f(0x25f),_0x411d98);const _0x2f2e3e=_0x5a3c6d[_0xea005f(0x1e6)]['id'];console[_0xea005f(0x1f8)](_0x2f2e3e);const _0x4f8e63=await brands['findById'](_0x2f2e3e);if(_0x411d98[0x0]['language']==_0xea005f(0x25e))var _0x525113=users[_0xea005f(0x230)];else{if(_0x411d98[0x0][_0xea005f(0x22e)]==_0xea005f(0x1d3))var _0x525113=users[_0xea005f(0x1d3)];else{if(_0x411d98[0x0][_0xea005f(0x22e)]=='German')var _0x525113=users[_0xea005f(0x212)];else{if(_0x411d98[0x0][_0xea005f(0x22e)]==_0xea005f(0x218))var _0x525113=users[_0xea005f(0x218)];else{if(_0x411d98[0x0][_0xea005f(0x22e)]==_0xea005f(0x254))var _0x525113=users[_0xea005f(0x254)];else{if(_0x411d98[0x0][_0xea005f(0x22e)]==_0xea005f(0x252))var _0x525113=users['Portuguese'];else{if(_0x411d98[0x0][_0xea005f(0x22e)]==_0xea005f(0x25c))var _0x525113=users[_0xea005f(0x25c)];else{if(_0x411d98[0x0][_0xea005f(0x22e)]==_0xea005f(0x26f))var _0x525113=users['Arabic'];}}}}}}}_0x11b108[_0xea005f(0x202)](_0xea005f(0x248),{'success':_0x5a3c6d[_0xea005f(0x24e)](_0xea005f(0x268)),'errors':_0x5a3c6d[_0xea005f(0x24e)](_0xea005f(0x257)),'role':_0x248440,'profile':_0x198e9a,'master_shop':_0x411d98,'user':_0x4f8e63,'language':_0x525113});}catch(_0x1bf2e6){console[_0xea005f(0x1f8)](_0x1bf2e6);}}),router['post'](a0_0x252a87(0x25d),auth,async(_0x4cca93,_0x536861)=>{const _0x4fd2b2=a0_0x252a87;try{const _0x8a6d39=_0x4cca93[_0x4fd2b2(0x1e6)]['id'],_0x259720=await brands['findByIdAndUpdate'](_0x8a6d39,_0x4cca93[_0x4fd2b2(0x20b)]);_0x4cca93[_0x4fd2b2(0x24e)](_0x4fd2b2(0x268),_0x4fd2b2(0x1e9)),_0x536861[_0x4fd2b2(0x23f)]('/products/brands');}catch(_0x59a6f7){console[_0x4fd2b2(0x1f8)](_0x59a6f7);}}),router['get'](a0_0x252a87(0x21f),auth,async(_0x2419c8,_0x231c2c)=>{const _0x49c550=a0_0x252a87;try{const _0x16d6ee=_0x2419c8[_0x49c550(0x1e6)]['id'],_0x38989a=await brands[_0x49c550(0x214)](_0x16d6ee);_0x2419c8['flash'](_0x49c550(0x268),_0x49c550(0x22b)),_0x231c2c['redirect'](_0x49c550(0x23c));}catch(_0x582f21){console[_0x49c550(0x1f8)](_0x582f21);}}),router[a0_0x252a87(0x1c3)](a0_0x252a87(0x22d),auth,async(_0x46f6d3,_0x2212a4)=>{const _0x5612ec=a0_0x252a87;try{const {username:_0x493b3d,email:_0xcc32b6,role:_0x62723e}=_0x46f6d3[_0x5612ec(0x217)],_0xf2404a=_0x46f6d3[_0x5612ec(0x217)],_0x32af36=await profile['findOne']({'email':_0xf2404a[_0x5612ec(0x205)]}),_0x4160c1=await master_shop[_0x5612ec(0x267)]();console['log'](_0x5612ec(0x25f),_0x4160c1);const _0x29324f=await units[_0x5612ec(0x267)]();if(_0x4160c1[0x0][_0x5612ec(0x22e)]==_0x5612ec(0x25e))var _0x81e85e=users['English'];else{if(_0x4160c1[0x0]['language']==_0x5612ec(0x1d3))var _0x81e85e=users[_0x5612ec(0x1d3)];else{if(_0x4160c1[0x0][_0x5612ec(0x22e)]=='German')var _0x81e85e=users[_0x5612ec(0x212)];else{if(_0x4160c1[0x0][_0x5612ec(0x22e)]==_0x5612ec(0x218))var _0x81e85e=users['Spanish'];else{if(_0x4160c1[0x0]['language']=='French')var _0x81e85e=users[_0x5612ec(0x254)];else{if(_0x4160c1[0x0][_0x5612ec(0x22e)]==_0x5612ec(0x252))var _0x81e85e=users['Portuguese'];else{if(_0x4160c1[0x0][_0x5612ec(0x22e)]==_0x5612ec(0x25c))var _0x81e85e=users[_0x5612ec(0x25c)];else{if(_0x4160c1[0x0][_0x5612ec(0x22e)]=='Arabic\x20(ae)')var _0x81e85e=users[_0x5612ec(0x223)];}}}}}}}_0x2212a4[_0x5612ec(0x202)](_0x5612ec(0x203),{'success':_0x46f6d3[_0x5612ec(0x24e)]('success'),'errors':_0x46f6d3['flash']('errors'),'role':_0xf2404a,'profile':_0x32af36,'master_shop':_0x4160c1,'user':_0x29324f,'language':_0x81e85e});}catch(_0x2b07d6){console['log'](_0x2b07d6);}}),router[a0_0x252a87(0x26c)](a0_0x252a87(0x22d),auth,async(_0x2fbd40,_0xa042b8)=>{const _0x481451=a0_0x252a87;try{const {name:_0x4f2753,secondary_unit:_0x59f6a9,products:_0x5b995e}=_0x2fbd40[_0x481451(0x20b)],_0x599b55=new units({'name':_0x4f2753,'secondary_unit':_0x59f6a9,'products':_0x5b995e}),_0x4d684d=await units[_0x481451(0x243)]({'name':_0x4f2753});_0x4d684d?_0x2fbd40[_0x481451(0x24e)]('errors',_0x4f2753+'\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x2fbd40['flash'](_0x481451(0x268),_0x4f2753+_0x481451(0x1fe));const _0x21061b=await _0x599b55['save']();_0xa042b8['redirect']('/products/units');}catch(_0x3b34f9){console[_0x481451(0x1f8)](_0x3b34f9);}}),router[a0_0x252a87(0x1c3)](a0_0x252a87(0x1e8),auth,async(_0x592ee4,_0xff8725)=>{const _0x1c399a=a0_0x252a87;try{const {username:_0x274fbf,email:_0x27d919,role:_0x252e9e}=_0x592ee4['user'],_0x2c3bae=_0x592ee4[_0x1c399a(0x217)],_0x1b14ac=await profile[_0x1c399a(0x243)]({'email':_0x2c3bae[_0x1c399a(0x205)]}),_0x2d19c1=await master_shop[_0x1c399a(0x267)]();console[_0x1c399a(0x1f8)]('master',_0x2d19c1);const _0x369f9b=_0x592ee4[_0x1c399a(0x1e6)]['id'],_0x4b3330=await units[_0x1c399a(0x1ec)](_0x369f9b);if(_0x2d19c1[0x0][_0x1c399a(0x22e)]==_0x1c399a(0x25e))var _0x420a7c=users[_0x1c399a(0x230)];else{if(_0x2d19c1[0x0][_0x1c399a(0x22e)]==_0x1c399a(0x1d3))var _0x420a7c=users[_0x1c399a(0x1d3)];else{if(_0x2d19c1[0x0]['language']==_0x1c399a(0x212))var _0x420a7c=users['German'];else{if(_0x2d19c1[0x0][_0x1c399a(0x22e)]==_0x1c399a(0x218))var _0x420a7c=users[_0x1c399a(0x218)];else{if(_0x2d19c1[0x0][_0x1c399a(0x22e)]==_0x1c399a(0x254))var _0x420a7c=users[_0x1c399a(0x254)];else{if(_0x2d19c1[0x0]['language']==_0x1c399a(0x252))var _0x420a7c=users[_0x1c399a(0x247)];else{if(_0x2d19c1[0x0][_0x1c399a(0x22e)]=='Chinese')var _0x420a7c=users['Chinese'];else{if(_0x2d19c1[0x0][_0x1c399a(0x22e)]==_0x1c399a(0x26f))var _0x420a7c=users[_0x1c399a(0x223)];}}}}}}}_0xff8725[_0x1c399a(0x202)](_0x1c399a(0x203),{'success':_0x592ee4[_0x1c399a(0x24e)](_0x1c399a(0x268)),'errors':_0x592ee4[_0x1c399a(0x24e)](_0x1c399a(0x257)),'role':_0x2c3bae,'profile':_0x1b14ac,'master_shop':_0x2d19c1,'user':_0x4b3330,'language':_0x420a7c});}catch(_0x4af826){console['log'](_0x4af826);}}),router[a0_0x252a87(0x26c)](a0_0x252a87(0x1e8),auth,async(_0x4ab1ff,_0x346e41)=>{const _0x5c6b85=a0_0x252a87;try{const _0x389366=_0x4ab1ff[_0x5c6b85(0x1e6)]['id'],_0x55cda4=await units[_0x5c6b85(0x1fc)](_0x389366,_0x4ab1ff[_0x5c6b85(0x20b)]);_0x4ab1ff[_0x5c6b85(0x24e)](_0x5c6b85(0x268),_0x5c6b85(0x1df)),_0x346e41[_0x5c6b85(0x23f)](_0x5c6b85(0x207));}catch(_0x1260ab){console[_0x5c6b85(0x1f8)](_0x1260ab);}}),router[a0_0x252a87(0x1c3)](a0_0x252a87(0x1e7),auth,async(_0x2ed56e,_0x5938f5)=>{const _0x1f880a=a0_0x252a87;try{const _0x2ec976=_0x2ed56e[_0x1f880a(0x1e6)]['id'],_0x2e13eb=await units[_0x1f880a(0x214)](_0x2ec976);_0x2ed56e['flash'](_0x1f880a(0x268),_0x1f880a(0x225)),_0x5938f5[_0x1f880a(0x23f)](_0x1f880a(0x207));}catch(_0x47ae0b){console[_0x1f880a(0x1f8)](_0x47ae0b);}});const storage=multer[a0_0x252a87(0x274)]({'destination':(_0x461813,_0x2b8bdb,_0x498c07)=>{const _0x4c4bf9=a0_0x252a87;_0x498c07(null,_0x4c4bf9(0x219));},'filename':(_0x3f6c09,_0x98c044,_0xdacbca)=>{const _0x1ca7b0=a0_0x252a87;_0xdacbca(null,Date[_0x1ca7b0(0x1dd)]()+_0x98c044[_0x1ca7b0(0x20e)]);}}),upload=multer({'storage':storage});function a0_0x2add(){const _0x1e6480=['/brands/delete/:id','$product_category','Content-Disposition','image','Arabic','canvas','unit\x20data\x20delete\x20successfully','categ','Secondary_Code','categories\x20data\x20delete\x20successfully','status','/view/add_products','brand\x20data\x20delete\x20successfully','Product_Name','/units','language','product_category','English','map','/products_export_migrate_file','express/lib/response','PBrands','Primary_Code','PCat','brand','Product_Code','Products\x20find_data','/categories/delete/:id','unit','/products/brands','toString','Products\x20warehouse_data','redirect','write','/print_barcode_filter/','multer','findOne','min','concat','$product_stock','Portuguese','brands','6309AOoHbX','Sheets','migrate_product_fule','$product_name','Brands','flash','Products','width','Products\x20master','Portuguese\x20(BR)','public/Migration','French','products','aggregate','errors','json','maxStocks','\x20categories\x20is\x20add\x20successfully','toBuffer','Chinese','/brands/:id','English\x20(US)','master','sku','/products_import_migrate_file','exceljs','/view','630440SisQpt','secondary_unit','category','find','success','483020WEmYPQ','/products/view','categories','post','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','barcode\x20Product\x20master','Arabic\x20(ae)','PAlQty','add_product','end','message','diskStorage','/view/:id','/barcode/:id','56600xHDJnr','exports','bind','$product_docs','data','$product_details.product_stock','express','save','barcode\x20user_id','get','495357iEknYL','alertquantity','Prod_Cat','/barcode_data','ProductCode','max_number_per_units','Content-Type','1282452zfxBoW','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','categories_edit','prod_categ','Maximum_Stocks','/select_data','/print_barcode','Units','Hindi','push','warehouse','maxProdPerUnit','send','SheetNames','public/Migration/','primary_code','197090PwUrVt','$brand','now','length','unit\x20data\x20update\x20successfully','long','/products/categories','$_id','product\x20update\x20successfully','\x20brand\x20is\x20add\x20successfully','/categories','params','/units/delete/:id','/units/:id','brand\x20data\x20update\x20successfully','$secondary_unit','jsbarcode','findById','hello','Raw\x20Materials','file','70QzuFAm','base64','\x20Edit\x20Successfully','defaultProduct.avif','Finished\x20Goods','Enabled','product_stock','CODE128','log','then','filename','readFile','findByIdAndUpdate','/print_barcode_single/:id','\x20unit\x20is\x20add\x20successfully','Secondary_Units','Category','forEach','render','units','single','email','numeric','/products/units','product_code','\x20<>\x20','pdfkit-table','body','xlsx','name','originalname','Products_category','/filter_product','$category','German','setHeader','findByIdAndDelete','/barcode_filter','/categories/:id','user','Spanish','public/upload','height','addPage','\x20added\x20successfully','secondary_code','Alert_QTY'];a0_0x2add=function(){return _0x1e6480;};return a0_0x2add();}router[a0_0x252a87(0x1c3)](a0_0x252a87(0x263),auth,async(_0x14a1ca,_0x3d1660)=>{const _0x61145f=a0_0x252a87;try{const {username:_0x27daa9,email:_0x4c6100,role:_0x166ebd}=_0x14a1ca[_0x61145f(0x217)],_0x49d5d2=_0x14a1ca[_0x61145f(0x217)],_0x5ad780=await profile[_0x61145f(0x243)]({'email':_0x49d5d2['email']}),_0x561455={'year':_0x61145f(0x206),'month':_0x61145f(0x1e0),'day':_0x61145f(0x206)},_0xe5e340=await master_shop[_0x61145f(0x267)]();console[_0x61145f(0x1f8)](_0x61145f(0x251),_0xe5e340);const _0x206713=await product['find']();console[_0x61145f(0x1f8)](_0x61145f(0x239),_0x206713);const _0x4a5dc0=await warehouse[_0x61145f(0x256)]([{'$unwind':'$product_details'},{'$lookup':{'from':'products','localField':'product_details.product_name','foreignField':_0x61145f(0x20d),'as':'product_docs'}},{'$unwind':_0x61145f(0x27a)},{'$project':{'product_name':'$product_details.product_name','product_stock':_0x61145f(0x27c)}},{'$group':{'_id':_0x61145f(0x24c),'product_stock':{'$sum':_0x61145f(0x246)}}}]);console[_0x61145f(0x1f8)](_0x61145f(0x23e),_0x4a5dc0),_0x4a5dc0[_0x61145f(0x201)](_0x38ede1=>{const _0x3fc249=_0x61145f,_0x2514d8=_0x206713[_0x3fc249(0x231)](_0x1f985f=>{const _0xcde4a2=_0x3fc249;_0x1f985f[_0xcde4a2(0x20d)]==_0x38ede1['_id']&&(_0x1f985f['stock']=parseInt(_0x1f985f['stock'])+parseInt(_0x38ede1[_0xcde4a2(0x1f6)]));});}),console['log'](_0x61145f(0x239),_0x206713);if(_0xe5e340[0x0][_0x61145f(0x22e)]==_0x61145f(0x25e))var _0x34f0ed=users['English'];else{if(_0xe5e340[0x0]['language']=='Hindi')var _0x34f0ed=users[_0x61145f(0x1d3)];else{if(_0xe5e340[0x0][_0x61145f(0x22e)]==_0x61145f(0x212))var _0x34f0ed=users[_0x61145f(0x212)];else{if(_0xe5e340[0x0][_0x61145f(0x22e)]==_0x61145f(0x218))var _0x34f0ed=users[_0x61145f(0x218)];else{if(_0xe5e340[0x0][_0x61145f(0x22e)]=='French')var _0x34f0ed=users['French'];else{if(_0xe5e340[0x0][_0x61145f(0x22e)]=='Portuguese\x20(BR)')var _0x34f0ed=users['Portuguese'];else{if(_0xe5e340[0x0][_0x61145f(0x22e)]==_0x61145f(0x25c))var _0x34f0ed=users[_0x61145f(0x25c)];else{if(_0xe5e340[0x0][_0x61145f(0x22e)]==_0x61145f(0x26f))var _0x34f0ed=users[_0x61145f(0x223)];}}}}}}}_0x3d1660[_0x61145f(0x202)](_0x61145f(0x255),{'success':_0x14a1ca[_0x61145f(0x24e)](_0x61145f(0x268)),'errors':_0x14a1ca[_0x61145f(0x24e)](_0x61145f(0x257)),'alldata':_0x206713,'profile':_0x5ad780,'master_shop':_0xe5e340,'role':_0x49d5d2,'product_stock':_0x4a5dc0,'language':_0x34f0ed});}catch(_0x48901f){console[_0x61145f(0x1f8)](_0x48901f);}}),router['get']('/view/add_products',auth,async(_0xe56b15,_0x39a910)=>{const _0x2ecf3f=a0_0x252a87;try{const {username:_0x4cc201,email:_0x1f64a2,role:_0x764245}=_0xe56b15[_0x2ecf3f(0x217)],_0x5281c9=_0xe56b15['user'],_0x441fc9=await profile[_0x2ecf3f(0x243)]({'email':_0x5281c9[_0x2ecf3f(0x205)]}),_0x571638=await master_shop[_0x2ecf3f(0x267)]();console[_0x2ecf3f(0x1f8)](_0x2ecf3f(0x25f),_0x571638);const _0x1d8b79=await categories[_0x2ecf3f(0x267)]({}),_0x2054b3=await brands[_0x2ecf3f(0x267)]({}),_0x4e93f3=await units[_0x2ecf3f(0x267)]({}),_0x42a854=await warehouse[_0x2ecf3f(0x267)]({'status':_0x2ecf3f(0x1f5)});if(_0x571638[0x0][_0x2ecf3f(0x22e)]==_0x2ecf3f(0x25e))var _0x1f111a=users[_0x2ecf3f(0x230)];else{if(_0x571638[0x0][_0x2ecf3f(0x22e)]==_0x2ecf3f(0x1d3))var _0x1f111a=users[_0x2ecf3f(0x1d3)];else{if(_0x571638[0x0]['language']==_0x2ecf3f(0x212))var _0x1f111a=users[_0x2ecf3f(0x212)];else{if(_0x571638[0x0][_0x2ecf3f(0x22e)]==_0x2ecf3f(0x218))var _0x1f111a=users[_0x2ecf3f(0x218)];else{if(_0x571638[0x0][_0x2ecf3f(0x22e)]==_0x2ecf3f(0x254))var _0x1f111a=users[_0x2ecf3f(0x254)];else{if(_0x571638[0x0]['language']==_0x2ecf3f(0x252))var _0x1f111a=users['Portuguese'];else{if(_0x571638[0x0][_0x2ecf3f(0x22e)]==_0x2ecf3f(0x25c))var _0x1f111a=users[_0x2ecf3f(0x25c)];else{if(_0x571638[0x0][_0x2ecf3f(0x22e)]=='Arabic\x20(ae)')var _0x1f111a=users['Arabic'];}}}}}}}_0x39a910[_0x2ecf3f(0x202)](_0x2ecf3f(0x271),{'success':_0xe56b15[_0x2ecf3f(0x24e)](_0x2ecf3f(0x268)),'errors':_0xe56b15[_0x2ecf3f(0x24e)](_0x2ecf3f(0x257)),'role':_0x5281c9,'profile':_0x441fc9,'categories':_0x1d8b79,'brands':_0x2054b3,'master_shop':_0x571638,'units':_0x4e93f3,'language':_0x1f111a,'find_data':_0x42a854});}catch(_0x35c5a5){console['log'](_0x35c5a5);}}),router[a0_0x252a87(0x26c)](a0_0x252a87(0x22a),auth,upload[a0_0x252a87(0x204)](a0_0x252a87(0x222)),async(_0x721b44,_0x366269)=>{const _0x3f9b2b=a0_0x252a87;try{const {name:_0x19bec9,category:_0x153ab9,brand:_0x5dcd0e,unit:_0x1bb475,alertquantity:_0x2c699e,stock:_0x9ff48e,product_code:_0x2a0619,warehouse:_0x56f4c1,primary_ItemCode:_0x2961d9,second_ItemCode:_0x562c20,second_unit:_0x5d06f4,maxPerUnit:_0x1bb1ef,MaxPerProduct:_0x3d81d1}=_0x721b44[_0x3f9b2b(0x20b)],_0x469f55=_0x721b44[_0x3f9b2b(0x1ef)]?.[_0x3f9b2b(0x1fa)]||_0x3f9b2b(0x1f3),_0x2e79d5=new product({'image':_0x469f55,'name':_0x19bec9,'category':_0x153ab9,'brand':_0x5dcd0e,'unit':_0x1bb475,'alertquantity':_0x2c699e,'stock':_0x9ff48e,'product_code':_0x2a0619,'warehouse':_0x56f4c1,'primary_code':_0x2961d9,'secondary_code':_0x562c20,'second_unit':_0x5d06f4,'maxStocks':_0x3d81d1,'maxProdPerUnit':_0x1bb1ef}),_0x1871de=await _0x2e79d5[_0x3f9b2b(0x27e)](),_0x560f9b=await categories[_0x3f9b2b(0x243)]({'name':_0x153ab9});_0x560f9b[_0x3f9b2b(0x255)]=parseInt(_0x560f9b[_0x3f9b2b(0x255)])+0x1,await _0x560f9b[_0x3f9b2b(0x27e)]();const _0x1ac11c=await brands['findOne']({'name':_0x5dcd0e});_0x1ac11c['products']=parseInt(_0x1ac11c['products'])+0x1,await _0x1ac11c[_0x3f9b2b(0x27e)]();const _0x1d24d8=await units['findOne']({'name':_0x1bb475});_0x1d24d8[_0x3f9b2b(0x255)]=parseInt(_0x1d24d8[_0x3f9b2b(0x255)])+0x1,await _0x1d24d8[_0x3f9b2b(0x27e)](),_0x721b44[_0x3f9b2b(0x24e)](_0x3f9b2b(0x268),'product\x20add\x20successfully'),_0x366269[_0x3f9b2b(0x23f)]('/products/view');}catch(_0x327f52){console['log'](_0x327f52);}}),router[a0_0x252a87(0x1c3)](a0_0x252a87(0x275),auth,async(_0xada8a8,_0x261336)=>{const _0x13b389=a0_0x252a87;try{const {username:_0x4d757f,email:_0x244a14,role:_0x20a4ad}=_0xada8a8['user'],_0x4c7d61=_0xada8a8[_0x13b389(0x217)],_0x5bec26=await profile[_0x13b389(0x243)]({'email':_0x4c7d61[_0x13b389(0x205)]}),_0x59bf73=await master_shop['find']();console[_0x13b389(0x1f8)]('edit\x20Product\x20master',_0x59bf73);const _0x24eb59=_0xada8a8['params']['id'],_0x1cba96=await product[_0x13b389(0x1ec)](_0x24eb59),_0x3d3ed6=await categories[_0x13b389(0x267)]({}),_0x48730b=await brands['find']({}),_0x13e633=await units[_0x13b389(0x267)]({}),_0x45cf66=await warehouse[_0x13b389(0x267)]({'status':_0x13b389(0x1f5)}),_0x2b3c52=await units[_0x13b389(0x256)]([{'$group':{'_id':'$_id','secondaryunit':{'$first':_0x13b389(0x1ea)}}}]);if(_0x59bf73[0x0][_0x13b389(0x22e)]==_0x13b389(0x25e))var _0x1b24a7=users[_0x13b389(0x230)];else{if(_0x59bf73[0x0][_0x13b389(0x22e)]==_0x13b389(0x1d3))var _0x1b24a7=users[_0x13b389(0x1d3)];else{if(_0x59bf73[0x0][_0x13b389(0x22e)]==_0x13b389(0x212))var _0x1b24a7=users[_0x13b389(0x212)];else{if(_0x59bf73[0x0][_0x13b389(0x22e)]==_0x13b389(0x218))var _0x1b24a7=users[_0x13b389(0x218)];else{if(_0x59bf73[0x0][_0x13b389(0x22e)]=='French')var _0x1b24a7=users[_0x13b389(0x254)];else{if(_0x59bf73[0x0]['language']==_0x13b389(0x252))var _0x1b24a7=users[_0x13b389(0x247)];else{if(_0x59bf73[0x0]['language']==_0x13b389(0x25c))var _0x1b24a7=users[_0x13b389(0x25c)];else{if(_0x59bf73[0x0]['language']==_0x13b389(0x26f))var _0x1b24a7=users['Arabic'];}}}}}}}_0x261336[_0x13b389(0x202)]('edit_product',{'success':_0xada8a8['flash']('success'),'errors':_0xada8a8[_0x13b389(0x24e)]('errors'),'role':_0x4c7d61,'profile':_0x5bec26,'alldata':_0x1cba96,'categories':_0x3d3ed6,'brands':_0x48730b,'master_shop':_0x59bf73,'units':_0x13e633,'secondunit':_0x2b3c52,'find_data':_0x45cf66,'language':_0x1b24a7});}catch(_0x62dfc7){console[_0x13b389(0x1f8)](_0x62dfc7);}}),router[a0_0x252a87(0x26c)](a0_0x252a87(0x275),auth,upload[a0_0x252a87(0x204)](a0_0x252a87(0x222)),async(_0x1fe078,_0x1b0501)=>{const _0x52f8a7=a0_0x252a87;try{console['log'](_0x52f8a7(0x1ed));const _0x4908bf=_0x1fe078[_0x52f8a7(0x1e6)]['id'],_0x1c3c8d=await product[_0x52f8a7(0x1ec)](_0x4908bf),{image:_0x3dbeeb,name:_0x48d962,category:_0x243c7f,brand:_0x38b172,sku:_0x1297e9,unit:_0x4188ab,alertquantity:_0x5a028a,product_code:_0x421c22,warehouse:_0x42ed29,primary_ItemCode:_0x465073,second_ItemCode:_0x452b81,second_unit:_0x5e9228,maxPerUnit:_0x4731ae,MaxPerProduct:_0x13c8e9,prod_catdata:_0x56f558}=_0x1fe078[_0x52f8a7(0x20b)];_0x1fe078[_0x52f8a7(0x1ef)]&&(_0x1c3c8d['image']=_0x1fe078[_0x52f8a7(0x1ef)][_0x52f8a7(0x1fa)]);_0x1c3c8d[_0x52f8a7(0x20d)]=_0x48d962,_0x1c3c8d[_0x52f8a7(0x266)]=_0x243c7f,_0x1c3c8d[_0x52f8a7(0x237)]=_0x38b172,_0x1c3c8d[_0x52f8a7(0x260)]=_0x1297e9,_0x1c3c8d[_0x52f8a7(0x23b)]=_0x4188ab,_0x1c3c8d[_0x52f8a7(0x1c5)]=_0x5a028a,_0x1c3c8d[_0x52f8a7(0x208)]=_0x421c22,_0x1c3c8d[_0x52f8a7(0x1d5)]=_0x42ed29,_0x1c3c8d[_0x52f8a7(0x1da)]=_0x465073,_0x1c3c8d[_0x52f8a7(0x21d)]=_0x452b81,_0x1c3c8d[_0x52f8a7(0x265)]=_0x5e9228,_0x1c3c8d[_0x52f8a7(0x259)]=_0x13c8e9,_0x1c3c8d[_0x52f8a7(0x1d6)]=_0x4731ae,_0x1c3c8d[_0x52f8a7(0x22f)]=_0x56f558;const _0x2a5900=await _0x1c3c8d[_0x52f8a7(0x27e)]();console[_0x52f8a7(0x1f8)]('product\x20edit',_0x1c3c8d),_0x1fe078[_0x52f8a7(0x24e)]('success',_0x52f8a7(0x1e3)),_0x1b0501[_0x52f8a7(0x23f)]('/products/view');}catch(_0x57e840){console[_0x52f8a7(0x1f8)](_0x57e840);}}),router['get'](a0_0x252a87(0x276),auth,async(_0x1eb46f,_0x5b8692)=>{const _0x4ccdc0=a0_0x252a87;try{const {username:_0x21079c,email:_0x4fc89e,role:_0x146997}=_0x1eb46f[_0x4ccdc0(0x217)],_0x38abf2=_0x1eb46f['user'],_0x1d2d4c=await profile['findOne']({'email':_0x38abf2[_0x4ccdc0(0x205)]}),_0x4fd6ae=await master_shop[_0x4ccdc0(0x267)]();console['log'](_0x4ccdc0(0x26e),_0x4fd6ae);const _0x2c5cac=_0x1eb46f[_0x4ccdc0(0x1e6)]['id'],_0x4ea21f=await product[_0x4ccdc0(0x1ec)](_0x2c5cac);console[_0x4ccdc0(0x1f8)](_0x4ccdc0(0x27f),_0x4ea21f);if(_0x4fd6ae[0x0][_0x4ccdc0(0x22e)]==_0x4ccdc0(0x25e))var _0x133a78=users[_0x4ccdc0(0x230)];else{if(_0x4fd6ae[0x0][_0x4ccdc0(0x22e)]==_0x4ccdc0(0x1d3))var _0x133a78=users['Hindi'];else{if(_0x4fd6ae[0x0][_0x4ccdc0(0x22e)]==_0x4ccdc0(0x212))var _0x133a78=users['German'];else{if(_0x4fd6ae[0x0][_0x4ccdc0(0x22e)]==_0x4ccdc0(0x218))var _0x133a78=users[_0x4ccdc0(0x218)];else{if(_0x4fd6ae[0x0][_0x4ccdc0(0x22e)]==_0x4ccdc0(0x254))var _0x133a78=users[_0x4ccdc0(0x254)];else{if(_0x4fd6ae[0x0][_0x4ccdc0(0x22e)]==_0x4ccdc0(0x252))var _0x133a78=users[_0x4ccdc0(0x247)];else{if(_0x4fd6ae[0x0][_0x4ccdc0(0x22e)]==_0x4ccdc0(0x25c))var _0x133a78=users[_0x4ccdc0(0x25c)];else{if(_0x4fd6ae[0x0]['language']==_0x4ccdc0(0x26f))var _0x133a78=users[_0x4ccdc0(0x223)];}}}}}}}_0x5b8692[_0x4ccdc0(0x202)]('product_barcode',{'success':_0x1eb46f[_0x4ccdc0(0x24e)]('success'),'errors':_0x1eb46f[_0x4ccdc0(0x24e)](_0x4ccdc0(0x257)),'role':_0x38abf2,'profile':_0x1d2d4c,'alldata':_0x4ea21f,'master_shop':_0x4fd6ae,'language':_0x133a78});}catch(_0x17b091){console[_0x4ccdc0(0x1f8)](_0x17b091);}}),router['get'](a0_0x252a87(0x232),auth,async(_0x1095e2,_0x23661f)=>{const _0x3cd9d3=a0_0x252a87;try{const _0x1b183f=new excelJS['Workbook'](),_0x2e397f=_0x1b183f['addWorksheet'](_0x3cd9d3(0x24f));return _0x2e397f['columns']=[{'header':_0x3cd9d3(0x22c),'key':'PName','width':0xa},{'header':_0x3cd9d3(0x24d),'key':_0x3cd9d3(0x234),'width':0xa},{'header':'Units','key':'PUnits','width':0xa},{'header':_0x3cd9d3(0x1ff),'key':'PSecondaryUnits','width':0xa},{'header':_0x3cd9d3(0x1c9),'key':'MaxperUnits','width':0xa},{'header':'Primary_Code','key':_0x3cd9d3(0x1c8),'width':0xa},{'header':_0x3cd9d3(0x227),'key':_0x3cd9d3(0x1c8),'width':0xa},{'header':_0x3cd9d3(0x238),'key':_0x3cd9d3(0x1c8),'width':0xa},{'header':_0x3cd9d3(0x200),'key':_0x3cd9d3(0x236),'width':0xa},{'header':_0x3cd9d3(0x21e),'key':_0x3cd9d3(0x270),'width':0xa},{'header':_0x3cd9d3(0x1cf),'key':_0x3cd9d3(0x270),'width':0xa},{'header':_0x3cd9d3(0x20f),'key':_0x3cd9d3(0x1c6),'width':0xa}],_0x23661f[_0x3cd9d3(0x213)](_0x3cd9d3(0x1ca),'application/vnd.openxmlformats-officedocument.spreadsheatml.sheet'),_0x23661f[_0x3cd9d3(0x213)](_0x3cd9d3(0x221),'attachment;\x20filename=Product_Migration_File.xlsx'),_0x1b183f['xlsx'][_0x3cd9d3(0x240)](_0x23661f)[_0x3cd9d3(0x1f9)](()=>{const _0x24ed09=_0x3cd9d3;_0x23661f[_0x24ed09(0x229)](0xc8);});}catch(_0x12be1a){_0x23661f[_0x3cd9d3(0x229)](0x190)[_0x3cd9d3(0x1d7)](_0x12be1a);}});const storage1=multer['diskStorage']({'destination':(_0x173748,_0x7ee8f5,_0x5d3a3b)=>{const _0x5eaadb=a0_0x252a87;_0x5d3a3b(null,_0x5eaadb(0x253));},'filename':(_0x5322ac,_0x2cf09d,_0x44cd95)=>{const _0x92e7ce=a0_0x252a87;_0x44cd95(null,Date[_0x92e7ce(0x1dd)]()+_0x2cf09d[_0x92e7ce(0x20e)]);}}),uploadMigrate=multer({'storage':storage1});router['post'](a0_0x252a87(0x261),auth,uploadMigrate[a0_0x252a87(0x204)](a0_0x252a87(0x24b)),async(_0x20a27a,_0x469fe7)=>{const _0x428eea=a0_0x252a87,_0x4892be=_0x20a27a['file'][_0x428eea(0x1fa)],_0x4d14c3=await xlsx[_0x428eea(0x1fb)](_0x428eea(0x1d9)+_0x4892be);let _0x106078=_0x4d14c3[_0x428eea(0x1d8)],_0x34f45f=xlsx['utils']['sheet_to_json'](_0x4d14c3[_0x428eea(0x24a)][_0x106078[0x0]]);for(const _0x3680f4 of _0x34f45f){const _0x55a5c2=_0x3680f4[_0x428eea(0x22c)],_0xa86c24=_0x3680f4[_0x428eea(0x24d)],_0x1dc8ba=_0x3680f4[_0x428eea(0x1d2)],_0x3842db=_0x3680f4[_0x428eea(0x1ff)],_0x3185d1=_0x3680f4[_0x428eea(0x238)],_0x4af6c6=_0x3680f4[_0x428eea(0x200)],_0x2c415e=_0x3680f4[_0x428eea(0x21e)],_0x2a1d52=_0x3680f4[_0x428eea(0x235)],_0x1bf4f0=_0x3680f4[_0x428eea(0x227)],_0x26be5c=_0x3680f4[_0x428eea(0x1cf)],_0x1a77f8=_0x3680f4[_0x428eea(0x1c9)],_0x456dd1=_0x3680f4[_0x428eea(0x20f)];try{let _0x421162=await categories[_0x428eea(0x243)]({'name':_0x4af6c6});if(!_0x421162){const _0x1cf8c0=new categories({'name':_0x4af6c6,'products':'0'});_0x421162=await _0x1cf8c0[_0x428eea(0x27e)]();}let _0x510985=await brands[_0x428eea(0x243)]({'name':_0xa86c24});if(!_0x510985){const _0x124b58=new brands({'name':_0xa86c24,'products':'0'});_0x510985=await _0x124b58[_0x428eea(0x27e)]();}let _0x9de9be=await units['findOne']({'name':_0x1dc8ba,'secondary_unit':_0x3842db});if(!_0x9de9be){const _0x4e740b=new units({'name':_0x1dc8ba,'secondary_unit':_0x3842db,'products':'0'});_0x9de9be=await _0x4e740b[_0x428eea(0x27e)]();}const _0x4831f7=await product[_0x428eea(0x267)]({'name':_0x55a5c2,'category':_0x421162[_0x428eea(0x20d)],'brand':_0x510985[_0x428eea(0x20d)],'secondary_unit':_0x9de9be[_0x428eea(0x265)],'product_code':_0x3185d1});console[_0x428eea(0x1f8)](_0x4831f7[_0x428eea(0x1de)]+'\x20<>\x20'+_0x421162['name']+_0x428eea(0x209)+_0x510985[_0x428eea(0x20d)]+'\x20<>\x20'+_0x9de9be['secondary_unit']+_0x428eea(0x209)+_0x3185d1+'\x20<>\x20'+_0x55a5c2);if(_0x4831f7[_0x428eea(0x1de)]===0x0){const _0x58c598=new product({'image':'defaultProduct.avif','name':_0x55a5c2,'category':_0x421162[_0x428eea(0x20d)],'brand':_0x510985[_0x428eea(0x20d)],'unit':_0x9de9be[_0x428eea(0x20d)],'alertquantity':_0x2c415e,'product_code':_0x3185d1,'secondary_unit':_0x9de9be[_0x428eea(0x265)],'primary_code':_0x2a1d52,'secondary_code':_0x1bf4f0,'maxStocks':_0x26be5c,'maxProdPerUnit':_0x1a77f8,'product_category':_0x456dd1}),_0x448d3c=await _0x58c598['save']();_0x421162[_0x428eea(0x255)]=parseInt(_0x421162[_0x428eea(0x255)])+0x1,await _0x421162[_0x428eea(0x27e)](),_0x510985[_0x428eea(0x255)]=parseInt(_0x510985[_0x428eea(0x255)])+0x1,await _0x510985[_0x428eea(0x27e)](),_0x9de9be[_0x428eea(0x255)]=parseInt(_0x9de9be[_0x428eea(0x255)])+0x1,await _0x9de9be[_0x428eea(0x27e)](),_0x20a27a[_0x428eea(0x24e)](_0x428eea(0x268),_0x55a5c2+_0x428eea(0x21c));}else{console[_0x428eea(0x1f8)](_0x4831f7[0x0]);const _0x2e6d42=_0x4831f7[0x0];_0x2e6d42[_0x428eea(0x266)]=_0x421162['name'],_0x2e6d42['brand']=_0x510985[_0x428eea(0x20d)],_0x2e6d42[_0x428eea(0x23b)]=_0x9de9be['name'],_0x2e6d42['alertquantity']=_0x2c415e,_0x2e6d42['product_code']=_0x3185d1,_0x2e6d42[_0x428eea(0x265)]=_0x9de9be[_0x428eea(0x265)],_0x2e6d42[_0x428eea(0x1da)]=_0x2a1d52,_0x2e6d42[_0x428eea(0x21d)]=_0x1bf4f0,_0x2e6d42['maxStocks']=_0x26be5c,_0x2e6d42[_0x428eea(0x1d6)]=_0x1a77f8,_0x2e6d42[_0x428eea(0x22f)]=_0x456dd1;const _0x8a6b09=await _0x2e6d42[_0x428eea(0x27e)]();_0x20a27a['flash'](_0x428eea(0x268),_0x8a6b09[_0x428eea(0x20d)]+_0x428eea(0x1f2));}}catch(_0x1a7b9c){_0x469fe7[_0x428eea(0x229)](0x1f4)[_0x428eea(0x258)]({'proderror':_0x1a7b9c[_0x428eea(0x273)],'aproduct':_0x55a5c2});}}_0x469fe7[_0x428eea(0x23f)](_0x428eea(0x26a));}),router[a0_0x252a87(0x26c)](a0_0x252a87(0x1d0),auth,async(_0x3770a5,_0x4b59b5)=>{const _0x37047e=a0_0x252a87;try{console[_0x37047e(0x1f8)](_0x3770a5['body']);const {data_cateory:_0x1eed52,datachoose:_0x58b8db}=_0x3770a5['body'];var _0x4c529a;if(_0x58b8db==_0x37047e(0x1ce))_0x4c529a=await product[_0x37047e(0x256)]([{'$group':{'_id':_0x37047e(0x220)}}]);else{if(_0x58b8db==_0x37047e(0x248))_0x4c529a=await product[_0x37047e(0x256)]([{'$match':{'product_category':_0x1eed52}},{'$group':{'_id':_0x37047e(0x1dc)}}]);else _0x58b8db==_0x37047e(0x226)&&(_0x4c529a=await product[_0x37047e(0x256)]([{'$match':{'product_category':_0x1eed52}},{'$group':{'_id':_0x37047e(0x211)}}]));}_0x4b59b5[_0x37047e(0x258)](_0x4c529a);}catch(_0x1bb644){_0x4b59b5[_0x37047e(0x258)]({'message':_0x1bb644[_0x37047e(0x273)]});}}),router[a0_0x252a87(0x26c)](a0_0x252a87(0x210),auth,async(_0x3c8c27,_0x22184b)=>{const _0x38cb3d=a0_0x252a87;try{const {data_choosing:_0x1e4695,data_selected:_0x5acd99}=_0x3c8c27[_0x38cb3d(0x20b)];var _0x3409df;if(_0x1e4695==_0x38cb3d(0x1ce))_0x3409df=await product[_0x38cb3d(0x256)]([{'$match':{'product_category':_0x5acd99}}]);else{if(_0x1e4695==_0x38cb3d(0x248))_0x3409df=await product[_0x38cb3d(0x256)]([{'$match':{'brand':_0x5acd99}}]);else _0x1e4695==_0x38cb3d(0x226)&&(_0x3409df=await product[_0x38cb3d(0x256)]([{'$match':{'category':_0x5acd99}}]));}_0x22184b[_0x38cb3d(0x258)](_0x3409df);}catch(_0x2e7f1f){_0x22184b['json']({'message':_0x2e7f1f['message']});}}),router['get'](a0_0x252a87(0x1d1),auth,async(_0x351171,_0x5b1aad)=>{const _0x2841b5=a0_0x252a87,_0x38bbb2=_0x351171[_0x2841b5(0x217)],_0xdd30c7=await profile[_0x2841b5(0x243)]({'email':_0x38bbb2[_0x2841b5(0x205)]}),_0x567b85=await master_shop[_0x2841b5(0x267)](),_0x17d6d5=await product['find']();if(_0x567b85[0x0][_0x2841b5(0x22e)]=='English\x20(US)')var _0x3a11ee=users[_0x2841b5(0x230)];else{if(_0x567b85[0x0][_0x2841b5(0x22e)]==_0x2841b5(0x1d3))var _0x3a11ee=users['Hindi'];else{if(_0x567b85[0x0][_0x2841b5(0x22e)]==_0x2841b5(0x212))var _0x3a11ee=users['German'];else{if(_0x567b85[0x0][_0x2841b5(0x22e)]=='Spanish')var _0x3a11ee=users[_0x2841b5(0x218)];else{if(_0x567b85[0x0][_0x2841b5(0x22e)]=='French')var _0x3a11ee=users[_0x2841b5(0x254)];else{if(_0x567b85[0x0][_0x2841b5(0x22e)]==_0x2841b5(0x252))var _0x3a11ee=users[_0x2841b5(0x247)];else{if(_0x567b85[0x0][_0x2841b5(0x22e)]==_0x2841b5(0x25c))var _0x3a11ee=users[_0x2841b5(0x25c)];else{if(_0x567b85[0x0][_0x2841b5(0x22e)]==_0x2841b5(0x26f))var _0x3a11ee=users[_0x2841b5(0x223)];}}}}}}}_0x5b1aad[_0x2841b5(0x202)]('product_barcode_products',{'success':_0x351171[_0x2841b5(0x24e)](_0x2841b5(0x268)),'errors':_0x351171['flash'](_0x2841b5(0x257)),'role':_0x38bbb2,'profile':_0xdd30c7,'products':_0x17d6d5,'master_shop':_0x567b85,'language':_0x3a11ee});}),router[a0_0x252a87(0x26c)](a0_0x252a87(0x1c7),auth,async(_0x3d32a2,_0x32e19d)=>{const _0x36d240=a0_0x252a87,_0xc6a745=await product['find']();_0x32e19d[_0x36d240(0x258)]({'data':_0xc6a745});}),router[a0_0x252a87(0x26c)](a0_0x252a87(0x215),auth,async(_0x2ad4ce,_0x3e1688)=>{const _0x22606d=a0_0x252a87;try{const {dataProdCat:_0x5351e4,dataProdIdentity:_0x219ca1}=_0x2ad4ce[_0x22606d(0x20b)];var _0xccf231;switch(_0x5351e4){case'fg':switch(_0x219ca1){case'Brands':_0xccf231=await product[_0x22606d(0x256)]([{'$match':{'product_category':_0x22606d(0x1f4)}},{'$group':{'_id':_0x22606d(0x1dc)}},{'$project':{'brand':'$_id'}}]);break;case'Category':_0xccf231=await product['aggregate']([{'$match':{'product_category':_0x22606d(0x1f4)}},{'$group':{'_id':'$category'}},{'$project':{'category':_0x22606d(0x1e2)}}]);break;}break;case'rm':switch(_0x219ca1){case'Brands':_0xccf231=await product[_0x22606d(0x256)]([{'$match':{'product_category':_0x22606d(0x1ee)}},{'$group':{'_id':_0x22606d(0x1dc)}},{'$project':{'brand':_0x22606d(0x1e2)}}]);break;case _0x22606d(0x200):_0xccf231=await product[_0x22606d(0x256)]([{'$match':{'product_category':_0x22606d(0x1ee)}},{'$group':{'_id':_0x22606d(0x211)}},{'$project':{'category':_0x22606d(0x1e2)}}]);break;}break;}_0x3e1688[_0x22606d(0x258)](_0xccf231);}catch(_0x4d9517){_0x3e1688[_0x22606d(0x258)]({'message':_0x4d9517[_0x22606d(0x273)]});}}),router[a0_0x252a87(0x26c)](a0_0x252a87(0x241),auth,async(_0x24f275,_0x36bfe8)=>{const _0x483262=a0_0x252a87;try{console[_0x483262(0x1f8)](_0x24f275[_0x483262(0x20b)]);const {prod_cat:_0x71e850,identity:_0xce3fbf,valueData:_0x550486,typeofbarcode:_0xd294a4}=_0x24f275[_0x483262(0x20b)];let _0x25168a;switch(_0x71e850){case'fg':if(_0xce3fbf==_0x483262(0x24d))_0x25168a=await product[_0x483262(0x256)]([{'$match':{'product_category':_0x483262(0x1f4),'brand':_0x550486}}]);else _0xce3fbf==_0x483262(0x200)&&(_0x25168a=await product[_0x483262(0x256)]([{'$match':{'product_category':_0x483262(0x1f4),'category':_0x550486}}]));break;case'rm':if(_0xce3fbf==_0x483262(0x24d))_0x25168a=await product[_0x483262(0x256)]([{'$match':{'product_category':_0x483262(0x1ee),'brand':_0x550486}}]);else _0xce3fbf==_0x483262(0x200)&&(_0x25168a=await product[_0x483262(0x256)]([{'$match':{'product_category':'Raw\x20Materials','category':_0x550486}}]));break;}const _0x3d45b8=_0x120e20=>_0x120e20*0x48,_0x197425={'width':0x3,'height':0x1},_0x9fcf3d=new PDFDocument({'margin':_0x3d45b8(0.75),'size':[_0x3d45b8(_0x197425[_0x483262(0x250)]),_0x3d45b8(_0x197425['height'])],'bufferPages':!![]}),_0x3a234f=_0x25168a[_0x483262(0x1de)];for(let _0x39aaa3=0x0;_0x39aaa3<=_0x3a234f;_0x39aaa3++){if(_0x39aaa3!=_0x3a234f){const _0xa2263e=_0x25168a[_0x39aaa3][_0x483262(0x20d)],_0x36da67=_0x25168a[_0x39aaa3][_0x483262(0x1da)],_0x15afc7=_0x25168a[_0x39aaa3][_0x483262(0x21d)],_0x2aca7c=_0x25168a[_0x39aaa3][_0x483262(0x208)];var _0x44aa3c;switch(_0xd294a4){case'1':_0x44aa3c=_0x36da67;break;case'2':_0x44aa3c=_0x15afc7;break;case'3':_0x44aa3c=_0x2aca7c;break;}const _0x1ca216={'width':0xd2,'height':0x64},_0x588fa7={'width':_0x3d45b8(_0x197425[_0x483262(0x250)]),'height':_0x3d45b8(_0x197425[_0x483262(0x21a)])},_0x10a658=new Canvas();JsBarcode(_0x10a658,_0x44aa3c,{'format':'CODE128','height':_0x1ca216[_0x483262(0x21a)],'displayValue':!![],'text':_0x44aa3c});const _0x3be845=_0x10a658[_0x483262(0x25b)](),_0x2e1355=_0x588fa7[_0x483262(0x250)]/_0x1ca216[_0x483262(0x250)],_0x275d3c=_0x588fa7['height']/_0x1ca216[_0x483262(0x21a)],_0x1f8037=Math[_0x483262(0x244)](_0x2e1355,_0x275d3c),_0x2d1c3d=_0x1ca216[_0x483262(0x250)]*_0x1f8037,_0x4a5b65=_0x1ca216[_0x483262(0x21a)]*_0x1f8037,_0x2e9ce6=(_0x588fa7['width']-_0x2d1c3d)/0x2,_0x58f770=(_0x588fa7[_0x483262(0x21a)]-_0x4a5b65)/0x2;_0x9fcf3d[_0x483262(0x222)](_0x3be845,_0x2e9ce6,_0x58f770,{'width':_0x2d1c3d,'height':_0x4a5b65}),_0x39aaa3!=_0x3a234f&&_0x9fcf3d[_0x483262(0x21b)]();}}const _0x21ce91=[];_0x9fcf3d['on'](_0x483262(0x27b),_0x21ce91[_0x483262(0x1d4)][_0x483262(0x279)](_0x21ce91)),_0x9fcf3d['on']('end',()=>{const _0x1c002b=_0x483262,_0x2ffcf9=Buffer[_0x1c002b(0x245)](_0x21ce91),_0x27ec1=_0x2ffcf9[_0x1c002b(0x23d)]('base64');_0x36bfe8[_0x1c002b(0x258)]({'pdfContent':_0x27ec1});}),_0x9fcf3d[_0x483262(0x272)]();}catch(_0x369092){_0x36bfe8['json']({'message':_0x369092[_0x483262(0x273)]});}}),router[a0_0x252a87(0x26c)]('/print_barcode_filter_search/',auth,async(_0x115a2e,_0x39910c)=>{const _0x492c28=a0_0x252a87;try{console[_0x492c28(0x1f8)](_0x115a2e[_0x492c28(0x20b)]);const {prod_cat:_0x30b3e0,identity:_0xd9fb15,valueData:_0x4b2440}=_0x115a2e[_0x492c28(0x20b)];let _0x3072a2;switch(_0x30b3e0){case'fg':if(_0xd9fb15==_0x492c28(0x24d))_0x3072a2=await product[_0x492c28(0x256)]([{'$match':{'product_category':_0x492c28(0x1f4),'brand':_0x4b2440}}]);else _0xd9fb15==_0x492c28(0x200)&&(_0x3072a2=await product[_0x492c28(0x256)]([{'$match':{'product_category':_0x492c28(0x1f4),'category':_0x4b2440}}]));break;case'rm':if(_0xd9fb15==_0x492c28(0x24d))_0x3072a2=await product[_0x492c28(0x256)]([{'$match':{'product_category':_0x492c28(0x1ee),'brand':_0x4b2440}}]);else _0xd9fb15==_0x492c28(0x200)&&(_0x3072a2=await product['aggregate']([{'$match':{'product_category':_0x492c28(0x1ee),'category':_0x4b2440}}]));break;}_0x39910c[_0x492c28(0x258)]({'data':_0x3072a2});}catch(_0x3a9a63){_0x39910c[_0x492c28(0x258)]({'message':_0x3a9a63[_0x492c28(0x273)]});}}),router[a0_0x252a87(0x26c)](a0_0x252a87(0x1fd),auth,async(_0x1464a9,_0x232968)=>{const _0x4c26e1=a0_0x252a87;try{const _0x39f293=_0x1464a9[_0x4c26e1(0x1e6)]['id'],{copies:_0x1f8e86,typeofbarcode:_0x4c567e}=_0x1464a9[_0x4c26e1(0x20b)];var _0x46a205=await product[_0x4c26e1(0x1ec)](_0x39f293);const _0x19fe62=_0x2c6ce2=>_0x2c6ce2*0x48,_0x1791ac={'width':0x3,'height':0x1},_0x4dc784=new PDFDocument({'margin':_0x19fe62(0.75),'size':[_0x19fe62(_0x1791ac[_0x4c26e1(0x250)]),_0x19fe62(_0x1791ac[_0x4c26e1(0x21a)])],'bufferPages':!![]}),_0x4b43bf=_0x1f8e86,_0x5cf173=_0x46a205[_0x4c26e1(0x20d)],_0x1bcbc3=_0x46a205[_0x4c26e1(0x1da)],_0x3396dd=_0x46a205[_0x4c26e1(0x21d)],_0x1ce529=_0x46a205[_0x4c26e1(0x208)];let _0x416dbc;switch(_0x4c567e){case'1':_0x416dbc=_0x1bcbc3;break;case'2':_0x416dbc=_0x3396dd;break;case'3':_0x416dbc=_0x1ce529;break;}const _0x5e4014={'width':0xd2,'height':0x64},_0x483a1e={'width':_0x19fe62(_0x1791ac[_0x4c26e1(0x250)]),'height':_0x19fe62(_0x1791ac[_0x4c26e1(0x21a)])};for(let _0x2afa66=0x1;_0x2afa66<=_0x4b43bf;_0x2afa66++){const _0x17ca27=new Canvas();JsBarcode(_0x17ca27,_0x416dbc,{'format':_0x4c26e1(0x1f7),'height':_0x5e4014[_0x4c26e1(0x21a)],'displayValue':!![],'text':_0x416dbc});const _0x221424=_0x17ca27[_0x4c26e1(0x25b)](),_0x45c606=_0x483a1e['width']/_0x5e4014[_0x4c26e1(0x250)],_0x4e66ef=_0x483a1e[_0x4c26e1(0x21a)]/_0x5e4014[_0x4c26e1(0x21a)],_0x3e14e1=Math['min'](_0x45c606,_0x4e66ef),_0x1276c3=_0x5e4014[_0x4c26e1(0x250)]*_0x3e14e1,_0x80669d=_0x5e4014['height']*_0x3e14e1,_0x1f5f6b=(_0x483a1e['width']-_0x1276c3)/0x2,_0x54086c=(_0x483a1e[_0x4c26e1(0x21a)]-_0x80669d)/0x2;_0x4dc784[_0x4c26e1(0x222)](_0x221424,_0x1f5f6b,_0x54086c,{'width':_0x1276c3,'height':_0x80669d}),_0x2afa66!=_0x4b43bf&&_0x4dc784['addPage']();}const _0x1a7d9f=[];_0x4dc784['on']('data',_0x1a7d9f[_0x4c26e1(0x1d4)][_0x4c26e1(0x279)](_0x1a7d9f)),_0x4dc784['on']('end',()=>{const _0x49622d=_0x4c26e1,_0x44bc2b=Buffer[_0x49622d(0x245)](_0x1a7d9f),_0x3a20ef=_0x44bc2b[_0x49622d(0x23d)](_0x49622d(0x1f1));_0x232968[_0x49622d(0x258)]({'pdfContent':_0x3a20ef});}),_0x4dc784[_0x4c26e1(0x272)]();}catch(_0x5dd37a){_0x232968['json']({'message':_0x5dd37a[_0x4c26e1(0x273)]});}}),module[a0_0x252a87(0x278)]=router;