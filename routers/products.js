const a0_0x5e82ab=a0_0x579f;(function(_0xffccd9,_0x536730){const _0x427511=a0_0x579f,_0x198692=_0xffccd9();while(!![]){try{const _0x188bee=parseInt(_0x427511(0x20d))/0x1*(-parseInt(_0x427511(0x16b))/0x2)+parseInt(_0x427511(0x1d9))/0x3+parseInt(_0x427511(0x18e))/0x4+-parseInt(_0x427511(0x1ba))/0x5*(-parseInt(_0x427511(0x172))/0x6)+-parseInt(_0x427511(0x183))/0x7+parseInt(_0x427511(0x18d))/0x8+-parseInt(_0x427511(0x1f7))/0x9*(parseInt(_0x427511(0x196))/0xa);if(_0x188bee===_0x536730)break;else _0x198692['push'](_0x198692['shift']());}catch(_0x2d56e6){_0x198692['push'](_0x198692['shift']());}}}(a0_0x140a,0x9150c));const express=require(a0_0x5e82ab(0x1d1)),res=require(a0_0x5e82ab(0x1a5)),app=express(),router=express[a0_0x5e82ab(0x1e2)](),multer=require(a0_0x5e82ab(0x167)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x5e82ab(0x1c6)),auth=require(a0_0x5e82ab(0x14e)),users=require('../public/language/languages.json'),excelJS=require(a0_0x5e82ab(0x20f)),xlsx=require(a0_0x5e82ab(0x1a4)),JsBarcode=require(a0_0x5e82ab(0x151)),{Canvas}=require(a0_0x5e82ab(0x1b5)),PDFDocument=require(a0_0x5e82ab(0x1c5));function a0_0x579f(_0xdd5010,_0x30aaf5){const _0x140a8b=a0_0x140a();return a0_0x579f=function(_0x579fef,_0x4d6209){_0x579fef=_0x579fef-0x14b;let _0x480df1=_0x140a8b[_0x579fef];return _0x480df1;},a0_0x579f(_0xdd5010,_0x30aaf5);}router[a0_0x5e82ab(0x1f4)]('/categories',auth,async(_0x38bbee,_0x3ae711)=>{const _0x4be589=a0_0x5e82ab;try{const {username:_0x1b81b7,email:_0x2a4073,role:_0x57a2cb}=_0x38bbee['user'],_0x1cc207=_0x38bbee[_0x4be589(0x19d)],_0x42f8d6=await profile[_0x4be589(0x1d5)]({'email':_0x1cc207[_0x4be589(0x1cf)]}),_0x23a2a2=await master_shop[_0x4be589(0x1de)]();console[_0x4be589(0x194)](_0x4be589(0x16e),_0x23a2a2);const _0x11a8d7=await categories[_0x4be589(0x1de)]();if(_0x23a2a2[0x0][_0x4be589(0x17e)]==_0x4be589(0x1a9))var _0x2f7a1e=users['English'];else{if(_0x23a2a2[0x0][_0x4be589(0x17e)]==_0x4be589(0x1fd))var _0x2f7a1e=users['Hindi'];else{if(_0x23a2a2[0x0]['language']==_0x4be589(0x17a))var _0x2f7a1e=users['German'];else{if(_0x23a2a2[0x0]['language']==_0x4be589(0x1df))var _0x2f7a1e=users[_0x4be589(0x1df)];else{if(_0x23a2a2[0x0]['language']==_0x4be589(0x1a7))var _0x2f7a1e=users[_0x4be589(0x1a7)];else{if(_0x23a2a2[0x0][_0x4be589(0x17e)]==_0x4be589(0x17d))var _0x2f7a1e=users['Portuguese'];else{if(_0x23a2a2[0x0][_0x4be589(0x17e)]==_0x4be589(0x155))var _0x2f7a1e=users['Chinese'];else{if(_0x23a2a2[0x0]['language']=='Arabic\x20(ae)')var _0x2f7a1e=users['Arabic'];}}}}}}}_0x3ae711[_0x4be589(0x1ee)]('categories',{'success':_0x38bbee[_0x4be589(0x1c4)](_0x4be589(0x188)),'errors':_0x38bbee[_0x4be589(0x1c4)]('errors'),'role':_0x1cc207,'profile':_0x42f8d6,'user':_0x11a8d7,'master_shop':_0x23a2a2,'language':_0x2f7a1e});}catch(_0x542a3a){console[_0x4be589(0x194)](_0x542a3a);}}),router[a0_0x5e82ab(0x1d3)]('/categories',auth,async(_0x5c738e,_0x2fb546)=>{const _0x433b27=a0_0x5e82ab;try{const {name:_0x3be582,products:_0x413110}=_0x5c738e[_0x433b27(0x15d)],_0x4f297b=new categories({'name':_0x3be582,'products':_0x413110}),_0x26c52f=await categories[_0x433b27(0x1d5)]({'name':_0x3be582});_0x26c52f?_0x5c738e[_0x433b27(0x1c4)]('errors',_0x3be582+_0x433b27(0x205)):_0x5c738e[_0x433b27(0x1c4)](_0x433b27(0x188),_0x3be582+'\x20categories\x20is\x20add\x20successfully');const _0x69ba3f=await _0x4f297b[_0x433b27(0x1e5)]();_0x2fb546[_0x433b27(0x1ac)](_0x433b27(0x1e7));}catch(_0xd7776e){console['log'](_0xd7776e);}}),router[a0_0x5e82ab(0x1f4)](a0_0x5e82ab(0x16f),auth,async(_0x4b4e25,_0x1a523f)=>{const _0x16a7ac=a0_0x5e82ab;try{const {username:_0x33c163,email:_0x431592,role:_0x5d4449}=_0x4b4e25[_0x16a7ac(0x19d)],_0x437c81=_0x4b4e25[_0x16a7ac(0x19d)],_0x491f44=await profile[_0x16a7ac(0x1d5)]({'email':_0x437c81['email']}),_0x44232b=await master_shop['find']();console[_0x16a7ac(0x194)](_0x16a7ac(0x16e),_0x44232b);const _0x4068e4=_0x4b4e25[_0x16a7ac(0x1b0)]['id'];console[_0x16a7ac(0x194)](_0x4068e4);const _0x40070f=await categories[_0x16a7ac(0x175)](_0x4068e4);if(_0x44232b[0x0][_0x16a7ac(0x17e)]==_0x16a7ac(0x1a9))var _0x2b1830=users[_0x16a7ac(0x1bc)];else{if(_0x44232b[0x0][_0x16a7ac(0x17e)]==_0x16a7ac(0x1fd))var _0x2b1830=users[_0x16a7ac(0x1fd)];else{if(_0x44232b[0x0][_0x16a7ac(0x17e)]==_0x16a7ac(0x17a))var _0x2b1830=users[_0x16a7ac(0x17a)];else{if(_0x44232b[0x0][_0x16a7ac(0x17e)]=='Spanish')var _0x2b1830=users['Spanish'];else{if(_0x44232b[0x0][_0x16a7ac(0x17e)]=='French')var _0x2b1830=users[_0x16a7ac(0x1a7)];else{if(_0x44232b[0x0]['language']==_0x16a7ac(0x17d))var _0x2b1830=users[_0x16a7ac(0x1cd)];else{if(_0x44232b[0x0][_0x16a7ac(0x17e)]==_0x16a7ac(0x155))var _0x2b1830=users['Chinese'];else{if(_0x44232b[0x0][_0x16a7ac(0x17e)]==_0x16a7ac(0x210))var _0x2b1830=users[_0x16a7ac(0x20a)];}}}}}}}_0x1a523f[_0x16a7ac(0x1ee)](_0x16a7ac(0x166),{'success':_0x4b4e25[_0x16a7ac(0x1c4)](_0x16a7ac(0x188)),'errors':_0x4b4e25[_0x16a7ac(0x1c4)](_0x16a7ac(0x1e3)),'role':_0x437c81,'profile':_0x491f44,'master_shop':_0x44232b,'user':_0x40070f,'language':_0x2b1830});}catch(_0x47e0ef){console[_0x16a7ac(0x194)](_0x47e0ef);}}),router[a0_0x5e82ab(0x1d3)](a0_0x5e82ab(0x16f),auth,async(_0x30778c,_0xd0a6c5)=>{const _0x44a3cf=a0_0x5e82ab;try{const _0x304b01=_0x30778c['params']['id'],_0x491118=await categories[_0x44a3cf(0x1ed)](_0x304b01,_0x30778c[_0x44a3cf(0x15d)]);_0x30778c['flash'](_0x44a3cf(0x188),''+users['categories_edit']),_0xd0a6c5[_0x44a3cf(0x1ac)](_0x44a3cf(0x1e7));}catch(_0x1ee054){console[_0x44a3cf(0x194)](_0x1ee054);}}),router['get']('/categories/delete/:id',auth,async(_0x561bfe,_0x49017e)=>{const _0x2b50cd=a0_0x5e82ab;try{const _0x4708fb=_0x561bfe['params']['id'],_0x4e4f03=await categories[_0x2b50cd(0x1c0)](_0x4708fb);_0x561bfe['flash'](_0x2b50cd(0x188),_0x2b50cd(0x1b4)),_0x49017e['redirect'](_0x2b50cd(0x1e7));}catch(_0x340510){console[_0x2b50cd(0x194)](_0x340510);}}),router['get']('/brands',auth,async(_0x3fe2c5,_0x44f49e)=>{const _0x22d84c=a0_0x5e82ab;try{const {username:_0x2504c2,email:_0x44af28,role:_0x29b92c}=_0x3fe2c5[_0x22d84c(0x19d)],_0x3ec3e6=_0x3fe2c5[_0x22d84c(0x19d)],_0x300e86=await profile[_0x22d84c(0x1d5)]({'email':_0x3ec3e6[_0x22d84c(0x1cf)]}),_0xfaaeb1=await master_shop[_0x22d84c(0x1de)]();console[_0x22d84c(0x194)]('master',_0xfaaeb1);const _0x37f3f4=await brands['find']();if(_0xfaaeb1[0x0]['language']=='English\x20(US)')var _0x2e5079=users[_0x22d84c(0x1bc)];else{if(_0xfaaeb1[0x0][_0x22d84c(0x17e)]==_0x22d84c(0x1fd))var _0x2e5079=users[_0x22d84c(0x1fd)];else{if(_0xfaaeb1[0x0][_0x22d84c(0x17e)]==_0x22d84c(0x17a))var _0x2e5079=users['German'];else{if(_0xfaaeb1[0x0][_0x22d84c(0x17e)]==_0x22d84c(0x1df))var _0x2e5079=users['Spanish'];else{if(_0xfaaeb1[0x0][_0x22d84c(0x17e)]==_0x22d84c(0x1a7))var _0x2e5079=users[_0x22d84c(0x1a7)];else{if(_0xfaaeb1[0x0][_0x22d84c(0x17e)]==_0x22d84c(0x17d))var _0x2e5079=users[_0x22d84c(0x1cd)];else{if(_0xfaaeb1[0x0][_0x22d84c(0x17e)]=='Chinese')var _0x2e5079=users[_0x22d84c(0x155)];else{if(_0xfaaeb1[0x0][_0x22d84c(0x17e)]==_0x22d84c(0x210))var _0x2e5079=users['Arabic'];}}}}}}}_0x44f49e[_0x22d84c(0x1ee)](_0x22d84c(0x1ff),{'success':_0x3fe2c5[_0x22d84c(0x1c4)](_0x22d84c(0x188)),'errors':_0x3fe2c5[_0x22d84c(0x1c4)](_0x22d84c(0x1e3)),'role':_0x3ec3e6,'profile':_0x300e86,'master_shop':_0xfaaeb1,'user':_0x37f3f4,'language':_0x2e5079});}catch(_0x148751){console[_0x22d84c(0x194)](_0x148751);}}),router[a0_0x5e82ab(0x1d3)](a0_0x5e82ab(0x163),auth,async(_0x5527cf,_0x205c11)=>{const _0x146fde=a0_0x5e82ab;try{const {name:_0x39b836,products:_0x4bfee2}=_0x5527cf['body'],_0x5e4fe0=new brands({'name':_0x39b836,'products':_0x4bfee2}),_0x389b84=await brands['findOne']({'name':_0x39b836});_0x389b84?_0x5527cf[_0x146fde(0x1c4)]('errors',_0x39b836+'\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x5527cf[_0x146fde(0x1c4)](_0x146fde(0x188),_0x39b836+_0x146fde(0x156));const _0x393148=await _0x5e4fe0['save']();_0x205c11[_0x146fde(0x1ac)]('/products/brands');}catch(_0x282c1d){console[_0x146fde(0x194)](_0x282c1d);}}),router[a0_0x5e82ab(0x1f4)]('/brands/:id',auth,async(_0x3ef47b,_0xb5f070)=>{const _0x48082f=a0_0x5e82ab;try{const {username:_0x1de079,email:_0x3a96ea,role:_0x2b0f26}=_0x3ef47b['user'],_0x5e5bdc=_0x3ef47b[_0x48082f(0x19d)],_0x181772=await profile[_0x48082f(0x1d5)]({'email':_0x5e5bdc[_0x48082f(0x1cf)]}),_0x43f58a=await master_shop[_0x48082f(0x1de)]();console[_0x48082f(0x194)]('master',_0x43f58a);const _0x1b9b81=_0x3ef47b[_0x48082f(0x1b0)]['id'];console[_0x48082f(0x194)](_0x1b9b81);const _0x3ea4a8=await brands[_0x48082f(0x175)](_0x1b9b81);if(_0x43f58a[0x0]['language']==_0x48082f(0x1a9))var _0x4ab685=users[_0x48082f(0x1bc)];else{if(_0x43f58a[0x0]['language']==_0x48082f(0x1fd))var _0x4ab685=users[_0x48082f(0x1fd)];else{if(_0x43f58a[0x0][_0x48082f(0x17e)]==_0x48082f(0x17a))var _0x4ab685=users[_0x48082f(0x17a)];else{if(_0x43f58a[0x0][_0x48082f(0x17e)]==_0x48082f(0x1df))var _0x4ab685=users[_0x48082f(0x1df)];else{if(_0x43f58a[0x0][_0x48082f(0x17e)]=='French')var _0x4ab685=users[_0x48082f(0x1a7)];else{if(_0x43f58a[0x0]['language']==_0x48082f(0x17d))var _0x4ab685=users[_0x48082f(0x1cd)];else{if(_0x43f58a[0x0][_0x48082f(0x17e)]==_0x48082f(0x155))var _0x4ab685=users['Chinese'];else{if(_0x43f58a[0x0][_0x48082f(0x17e)]==_0x48082f(0x210))var _0x4ab685=users['Arabic'];}}}}}}}_0xb5f070[_0x48082f(0x1ee)](_0x48082f(0x1ff),{'success':_0x3ef47b[_0x48082f(0x1c4)]('success'),'errors':_0x3ef47b[_0x48082f(0x1c4)](_0x48082f(0x1e3)),'role':_0x5e5bdc,'profile':_0x181772,'master_shop':_0x43f58a,'user':_0x3ea4a8,'language':_0x4ab685});}catch(_0x224e59){console[_0x48082f(0x194)](_0x224e59);}}),router[a0_0x5e82ab(0x1d3)]('/brands/:id',auth,async(_0x232dcf,_0x1422d5)=>{const _0x20c478=a0_0x5e82ab;try{const _0x544169=_0x232dcf[_0x20c478(0x1b0)]['id'],_0xc1bf4a=await brands[_0x20c478(0x1ed)](_0x544169,_0x232dcf[_0x20c478(0x15d)]);_0x232dcf['flash'](_0x20c478(0x188),_0x20c478(0x170)),_0x1422d5[_0x20c478(0x1ac)](_0x20c478(0x15f));}catch(_0x20c5d8){console[_0x20c478(0x194)](_0x20c5d8);}}),router[a0_0x5e82ab(0x1f4)](a0_0x5e82ab(0x1d6),auth,async(_0x81cb2e,_0x4c98c0)=>{const _0xbdc786=a0_0x5e82ab;try{const _0x3a401b=_0x81cb2e[_0xbdc786(0x1b0)]['id'],_0x3b4cc2=await brands[_0xbdc786(0x1c0)](_0x3a401b);_0x81cb2e[_0xbdc786(0x1c4)](_0xbdc786(0x188),'brand\x20data\x20delete\x20successfully'),_0x4c98c0['redirect'](_0xbdc786(0x15f));}catch(_0x433bea){console[_0xbdc786(0x194)](_0x433bea);}}),router[a0_0x5e82ab(0x1f4)]('/units',auth,async(_0x344e58,_0xe896da)=>{const _0x2a8958=a0_0x5e82ab;try{const {username:_0x480a0c,email:_0x29b1d7,role:_0x6b8a47}=_0x344e58['user'],_0x3bb715=_0x344e58[_0x2a8958(0x19d)],_0xdbac99=await profile['findOne']({'email':_0x3bb715[_0x2a8958(0x1cf)]}),_0x5ae8ef=await master_shop['find']();console[_0x2a8958(0x194)](_0x2a8958(0x16e),_0x5ae8ef);const _0x11773e=await units[_0x2a8958(0x1de)]();if(_0x5ae8ef[0x0][_0x2a8958(0x17e)]==_0x2a8958(0x1a9))var _0xcd9f9d=users[_0x2a8958(0x1bc)];else{if(_0x5ae8ef[0x0][_0x2a8958(0x17e)]==_0x2a8958(0x1fd))var _0xcd9f9d=users[_0x2a8958(0x1fd)];else{if(_0x5ae8ef[0x0][_0x2a8958(0x17e)]==_0x2a8958(0x17a))var _0xcd9f9d=users['German'];else{if(_0x5ae8ef[0x0][_0x2a8958(0x17e)]==_0x2a8958(0x1df))var _0xcd9f9d=users[_0x2a8958(0x1df)];else{if(_0x5ae8ef[0x0][_0x2a8958(0x17e)]==_0x2a8958(0x1a7))var _0xcd9f9d=users['French'];else{if(_0x5ae8ef[0x0]['language']==_0x2a8958(0x17d))var _0xcd9f9d=users[_0x2a8958(0x1cd)];else{if(_0x5ae8ef[0x0][_0x2a8958(0x17e)]==_0x2a8958(0x155))var _0xcd9f9d=users[_0x2a8958(0x155)];else{if(_0x5ae8ef[0x0][_0x2a8958(0x17e)]==_0x2a8958(0x210))var _0xcd9f9d=users[_0x2a8958(0x20a)];}}}}}}}_0xe896da['render'](_0x2a8958(0x1ce),{'success':_0x344e58['flash'](_0x2a8958(0x188)),'errors':_0x344e58[_0x2a8958(0x1c4)](_0x2a8958(0x1e3)),'role':_0x3bb715,'profile':_0xdbac99,'master_shop':_0x5ae8ef,'user':_0x11773e,'language':_0xcd9f9d});}catch(_0x3528b6){console[_0x2a8958(0x194)](_0x3528b6);}}),router[a0_0x5e82ab(0x1d3)](a0_0x5e82ab(0x1ca),auth,async(_0x4f4487,_0x3b7f33)=>{const _0x5923c7=a0_0x5e82ab;try{const {name:_0x1672db,secondary_unit:_0x113510,products:_0x233148}=_0x4f4487[_0x5923c7(0x15d)],_0x1018f1=new units({'name':_0x1672db,'secondary_unit':_0x113510,'products':_0x233148}),_0x229b02=await units[_0x5923c7(0x1d5)]({'name':_0x1672db});_0x229b02?_0x4f4487[_0x5923c7(0x1c4)](_0x5923c7(0x1e3),_0x1672db+_0x5923c7(0x1f0)):_0x4f4487[_0x5923c7(0x1c4)]('success',_0x1672db+'\x20unit\x20is\x20add\x20successfully');const _0x31f139=await _0x1018f1['save']();_0x3b7f33[_0x5923c7(0x1ac)](_0x5923c7(0x164));}catch(_0xd5230a){console['log'](_0xd5230a);}}),router[a0_0x5e82ab(0x1f4)]('/units/:id',auth,async(_0x4823ac,_0x4dbe9e)=>{const _0x32efec=a0_0x5e82ab;try{const {username:_0x168424,email:_0xc82f16,role:_0xca07c4}=_0x4823ac[_0x32efec(0x19d)],_0x5665df=_0x4823ac[_0x32efec(0x19d)],_0x52c253=await profile[_0x32efec(0x1d5)]({'email':_0x5665df['email']}),_0x48c6d4=await master_shop[_0x32efec(0x1de)]();console[_0x32efec(0x194)](_0x32efec(0x16e),_0x48c6d4);const _0x17351f=_0x4823ac[_0x32efec(0x1b0)]['id'],_0x59ad6e=await units['findById'](_0x17351f);if(_0x48c6d4[0x0][_0x32efec(0x17e)]==_0x32efec(0x1a9))var _0x48abd5=users[_0x32efec(0x1bc)];else{if(_0x48c6d4[0x0]['language']==_0x32efec(0x1fd))var _0x48abd5=users['Hindi'];else{if(_0x48c6d4[0x0][_0x32efec(0x17e)]==_0x32efec(0x17a))var _0x48abd5=users['German'];else{if(_0x48c6d4[0x0][_0x32efec(0x17e)]==_0x32efec(0x1df))var _0x48abd5=users[_0x32efec(0x1df)];else{if(_0x48c6d4[0x0][_0x32efec(0x17e)]==_0x32efec(0x1a7))var _0x48abd5=users['French'];else{if(_0x48c6d4[0x0][_0x32efec(0x17e)]==_0x32efec(0x17d))var _0x48abd5=users[_0x32efec(0x1cd)];else{if(_0x48c6d4[0x0][_0x32efec(0x17e)]==_0x32efec(0x155))var _0x48abd5=users['Chinese'];else{if(_0x48c6d4[0x0]['language']==_0x32efec(0x210))var _0x48abd5=users[_0x32efec(0x20a)];}}}}}}}_0x4dbe9e[_0x32efec(0x1ee)]('units',{'success':_0x4823ac['flash']('success'),'errors':_0x4823ac[_0x32efec(0x1c4)](_0x32efec(0x1e3)),'role':_0x5665df,'profile':_0x52c253,'master_shop':_0x48c6d4,'user':_0x59ad6e,'language':_0x48abd5});}catch(_0x308631){console[_0x32efec(0x194)](_0x308631);}}),router[a0_0x5e82ab(0x1d3)]('/units/:id',auth,async(_0x1431a3,_0x4c7765)=>{const _0x306463=a0_0x5e82ab;try{const _0x81a5d9=_0x1431a3['params']['id'],_0xa53eb9=await units[_0x306463(0x1ed)](_0x81a5d9,_0x1431a3[_0x306463(0x15d)]);_0x1431a3[_0x306463(0x1c4)]('success',_0x306463(0x1eb)),_0x4c7765[_0x306463(0x1ac)](_0x306463(0x164));}catch(_0x3a8d31){console['log'](_0x3a8d31);}}),router[a0_0x5e82ab(0x1f4)]('/units/delete/:id',auth,async(_0xb013fc,_0x5eeb7a)=>{const _0x4c03a5=a0_0x5e82ab;try{const _0x40a795=_0xb013fc[_0x4c03a5(0x1b0)]['id'],_0x3356a4=await units[_0x4c03a5(0x1c0)](_0x40a795);_0xb013fc['flash'](_0x4c03a5(0x188),_0x4c03a5(0x17c)),_0x5eeb7a[_0x4c03a5(0x1ac)](_0x4c03a5(0x164));}catch(_0x47642c){console[_0x4c03a5(0x194)](_0x47642c);}});const storage=multer[a0_0x5e82ab(0x1f5)]({'destination':(_0x3e1494,_0x1d3d81,_0x387a70)=>{const _0x40c4cc=a0_0x5e82ab;_0x387a70(null,_0x40c4cc(0x1b1));},'filename':(_0x22efe1,_0x275e4c,_0x15d110)=>{_0x15d110(null,Date['now']()+_0x275e4c['originalname']);}}),upload=multer({'storage':storage});function a0_0x140a(){const _0x412c51=['$product_stock','base64','now','product_code','brand','max_number_per_units','user','/print_barcode','name','PName','Sheets','$category','PBrands','xlsx','express/lib/response','barcode\x20user_id','French','unit','English\x20(US)','Units','message','redirect','/select_data','/view/:id','product_barcode','params','public/upload','/products_export_migrate_file','\x20added\x20successfully','categories\x20data\x20delete\x20successfully','canvas','product\x20update\x20successfully','Workbook','sku','$product_docs','5714185zOjygk','/barcode_data','English','$brand','min','product_category','findByIdAndDelete','width','status','Maximum_Stocks','flash','pdfkit-table','../models/all_models','utils','PUnits','product_barcode_products','/units','maxStocks','$secondary_unit','Portuguese','units','email','Product_Name','express','$_id','post','$product_name','findOne','/brands/delete/:id','filename','/print_barcode_filter/','2370321HjJgFI','/filter_product','prod_categ','exports','SheetNames','find','Spanish','push','addPage','Router','errors','MaxperUnits','save','Products\x20find_data','/products/categories','barcode\x20Product\x20master','primary_code','secondary_code','unit\x20data\x20update\x20successfully','sheet_to_json','findByIdAndUpdate','render','Primary_Code','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','product_stock','data','Product_Code','get','diskStorage','bind','117ePJejQ','stock','single','PAlQty','/print_barcode_filter_search/','aggregate','Hindi','CODE128','brands','Enabled','product\x20add\x20successfully','PCat','send','Alert_QTY','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Content-Type','columns','Finished\x20Goods','category','Arabic','forEach','end','1789hlZDRd','defaultProduct.avif','exceljs','Arabic\x20(ae)','attachment;\x20filename=Product_Migration_File.xlsx','\x20<>\x20','$product_details.product_name','../middleware/auth','concat','Products','jsbarcode','Secondary_Code','/barcode/:id','file','Chinese','\x20brand\x20is\x20add\x20successfully','product_docs','PSecondaryUnits','numeric','originalname','/products/view','maxProdPerUnit','body','Secondary_Units','/products/brands','secondary_unit','/view/add_products','Category','/brands','/products/units','setHeader','categories','multer','add_product','hello','image','1174mHqaFd','alertquantity','product\x20edit','master','/categories/:id','brand\x20data\x20update\x20successfully','edit\x20Product\x20master','6wUKSZH','$product_details','$product_category','findById','products','readFile','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','length','German','ProductCode','unit\x20data\x20delete\x20successfully','Portuguese\x20(BR)','language','toString','product_details.product_name','Products\x20warehouse_data','\x20Edit\x20Successfully','7430276LvXGNm','Content-Disposition','/view','Brands','json','success','Products_category','addWorksheet','warehouse','toBuffer','3917688vkxSAV','3670996wSaPEP','height','write','categ','Products\x20master','/products_import_migrate_file','log','Raw\x20Materials','487370GreKfZ'];a0_0x140a=function(){return _0x412c51;};return a0_0x140a();}router['get'](a0_0x5e82ab(0x185),auth,async(_0x12fdfb,_0x255105)=>{const _0x4836be=a0_0x5e82ab;try{const {username:_0x19817e,email:_0x190986,role:_0x4088b9}=_0x12fdfb[_0x4836be(0x19d)],_0x454217=_0x12fdfb[_0x4836be(0x19d)],_0x2e29d2=await profile['findOne']({'email':_0x454217['email']}),_0x8461b5={'year':_0x4836be(0x159),'month':'long','day':'numeric'},_0x27aac9=await master_shop[_0x4836be(0x1de)]();console['log'](_0x4836be(0x192),_0x27aac9);const _0x121a46=await product['find']();console['log']('Products\x20find_data',_0x121a46);const _0x3b884d=await warehouse[_0x4836be(0x1fc)]([{'$unwind':_0x4836be(0x173)},{'$lookup':{'from':'products','localField':_0x4836be(0x180),'foreignField':'name','as':_0x4836be(0x157)}},{'$unwind':_0x4836be(0x1b9)},{'$project':{'product_name':_0x4836be(0x14d),'product_stock':'$product_details.product_stock'}},{'$group':{'_id':_0x4836be(0x1d4),'product_stock':{'$sum':_0x4836be(0x197)}}}]);console['log'](_0x4836be(0x181),_0x3b884d),_0x3b884d[_0x4836be(0x20b)](_0x916b0a=>{const _0x19ab30=_0x121a46['map'](_0x243a58=>{const _0x465adc=a0_0x579f;_0x243a58['name']==_0x916b0a['_id']&&(_0x243a58[_0x465adc(0x1f8)]=parseInt(_0x243a58[_0x465adc(0x1f8)])+parseInt(_0x916b0a[_0x465adc(0x1f1)]));});}),console[_0x4836be(0x194)](_0x4836be(0x1e6),_0x121a46);if(_0x27aac9[0x0][_0x4836be(0x17e)]==_0x4836be(0x1a9))var _0xe3a176=users[_0x4836be(0x1bc)];else{if(_0x27aac9[0x0]['language']=='Hindi')var _0xe3a176=users[_0x4836be(0x1fd)];else{if(_0x27aac9[0x0]['language']==_0x4836be(0x17a))var _0xe3a176=users[_0x4836be(0x17a)];else{if(_0x27aac9[0x0][_0x4836be(0x17e)]==_0x4836be(0x1df))var _0xe3a176=users[_0x4836be(0x1df)];else{if(_0x27aac9[0x0][_0x4836be(0x17e)]=='French')var _0xe3a176=users[_0x4836be(0x1a7)];else{if(_0x27aac9[0x0][_0x4836be(0x17e)]=='Portuguese\x20(BR)')var _0xe3a176=users['Portuguese'];else{if(_0x27aac9[0x0][_0x4836be(0x17e)]=='Chinese')var _0xe3a176=users[_0x4836be(0x155)];else{if(_0x27aac9[0x0][_0x4836be(0x17e)]==_0x4836be(0x210))var _0xe3a176=users[_0x4836be(0x20a)];}}}}}}}_0x255105[_0x4836be(0x1ee)](_0x4836be(0x176),{'success':_0x12fdfb['flash'](_0x4836be(0x188)),'errors':_0x12fdfb[_0x4836be(0x1c4)](_0x4836be(0x1e3)),'alldata':_0x121a46,'profile':_0x2e29d2,'master_shop':_0x27aac9,'role':_0x454217,'product_stock':_0x3b884d,'language':_0xe3a176});}catch(_0x20d294){console[_0x4836be(0x194)](_0x20d294);}}),router[a0_0x5e82ab(0x1f4)](a0_0x5e82ab(0x161),auth,async(_0x55e9b8,_0x533d26)=>{const _0x422bc6=a0_0x5e82ab;try{const {username:_0x3e0860,email:_0x1c47ca,role:_0x58c6ba}=_0x55e9b8[_0x422bc6(0x19d)],_0x174de8=_0x55e9b8[_0x422bc6(0x19d)],_0x5e9c3c=await profile['findOne']({'email':_0x174de8[_0x422bc6(0x1cf)]}),_0x59a742=await master_shop[_0x422bc6(0x1de)]();console[_0x422bc6(0x194)]('master',_0x59a742);const _0x190086=await categories[_0x422bc6(0x1de)]({}),_0x4a1dcd=await brands[_0x422bc6(0x1de)]({}),_0x55ade2=await units[_0x422bc6(0x1de)]({}),_0x26ee9b=await warehouse['find']({'status':_0x422bc6(0x200)});if(_0x59a742[0x0]['language']=='English\x20(US)')var _0x3960e2=users[_0x422bc6(0x1bc)];else{if(_0x59a742[0x0]['language']=='Hindi')var _0x3960e2=users[_0x422bc6(0x1fd)];else{if(_0x59a742[0x0][_0x422bc6(0x17e)]==_0x422bc6(0x17a))var _0x3960e2=users[_0x422bc6(0x17a)];else{if(_0x59a742[0x0][_0x422bc6(0x17e)]==_0x422bc6(0x1df))var _0x3960e2=users[_0x422bc6(0x1df)];else{if(_0x59a742[0x0][_0x422bc6(0x17e)]==_0x422bc6(0x1a7))var _0x3960e2=users['French'];else{if(_0x59a742[0x0]['language']==_0x422bc6(0x17d))var _0x3960e2=users[_0x422bc6(0x1cd)];else{if(_0x59a742[0x0][_0x422bc6(0x17e)]==_0x422bc6(0x155))var _0x3960e2=users[_0x422bc6(0x155)];else{if(_0x59a742[0x0]['language']=='Arabic\x20(ae)')var _0x3960e2=users[_0x422bc6(0x20a)];}}}}}}}_0x533d26[_0x422bc6(0x1ee)](_0x422bc6(0x168),{'success':_0x55e9b8[_0x422bc6(0x1c4)](_0x422bc6(0x188)),'errors':_0x55e9b8['flash'](_0x422bc6(0x1e3)),'role':_0x174de8,'profile':_0x5e9c3c,'categories':_0x190086,'brands':_0x4a1dcd,'master_shop':_0x59a742,'units':_0x55ade2,'language':_0x3960e2,'find_data':_0x26ee9b});}catch(_0x347e4a){console[_0x422bc6(0x194)](_0x347e4a);}}),router[a0_0x5e82ab(0x1d3)]('/view/add_products',auth,upload[a0_0x5e82ab(0x1f9)](a0_0x5e82ab(0x16a)),async(_0x487da6,_0xb00afc)=>{const _0x523a25=a0_0x5e82ab;try{const {name:_0x4fdf74,category:_0x4257e7,brand:_0x1568dc,unit:_0x437bf9,alertquantity:_0x39d1a0,stock:_0x428df6,product_code:_0x38c2df,warehouse:_0x6ae65b,primary_ItemCode:_0x5d83cc,second_ItemCode:_0x2d238a,second_unit:_0x57f923,maxPerUnit:_0x55af1b,MaxPerProduct:_0xef5ac4}=_0x487da6[_0x523a25(0x15d)],_0x4ee34f=_0x487da6[_0x523a25(0x154)]?.[_0x523a25(0x1d7)]||'defaultProduct.avif',_0x96f7b=new product({'image':_0x4ee34f,'name':_0x4fdf74,'category':_0x4257e7,'brand':_0x1568dc,'unit':_0x437bf9,'alertquantity':_0x39d1a0,'stock':_0x428df6,'product_code':_0x38c2df,'warehouse':_0x6ae65b,'primary_code':_0x5d83cc,'secondary_code':_0x2d238a,'second_unit':_0x57f923,'maxStocks':_0xef5ac4,'maxProdPerUnit':_0x55af1b}),_0x4cda16=await _0x96f7b[_0x523a25(0x1e5)](),_0x50ec18=await categories[_0x523a25(0x1d5)]({'name':_0x4257e7});_0x50ec18['products']=parseInt(_0x50ec18[_0x523a25(0x176)])+0x1,await _0x50ec18[_0x523a25(0x1e5)]();const _0x3b92b2=await brands[_0x523a25(0x1d5)]({'name':_0x1568dc});_0x3b92b2[_0x523a25(0x176)]=parseInt(_0x3b92b2[_0x523a25(0x176)])+0x1,await _0x3b92b2[_0x523a25(0x1e5)]();const _0x5c4e6e=await units['findOne']({'name':_0x437bf9});_0x5c4e6e[_0x523a25(0x176)]=parseInt(_0x5c4e6e[_0x523a25(0x176)])+0x1,await _0x5c4e6e['save'](),_0x487da6[_0x523a25(0x1c4)](_0x523a25(0x188),_0x523a25(0x201)),_0xb00afc[_0x523a25(0x1ac)](_0x523a25(0x15b));}catch(_0x29fcde){console['log'](_0x29fcde);}}),router[a0_0x5e82ab(0x1f4)]('/view/:id',auth,async(_0xfec20,_0x3ec57d)=>{const _0x109f32=a0_0x5e82ab;try{const {username:_0x26edb5,email:_0x379734,role:_0x359556}=_0xfec20['user'],_0x3aa816=_0xfec20[_0x109f32(0x19d)],_0x802478=await profile['findOne']({'email':_0x3aa816[_0x109f32(0x1cf)]}),_0x490f8a=await master_shop[_0x109f32(0x1de)]();console[_0x109f32(0x194)](_0x109f32(0x171),_0x490f8a);const _0x34f1f7=_0xfec20[_0x109f32(0x1b0)]['id'],_0x254569=await product['findById'](_0x34f1f7),_0x58cfe7=await categories[_0x109f32(0x1de)]({}),_0x5bfb9d=await brands['find']({}),_0x4f2f4d=await units[_0x109f32(0x1de)]({}),_0x95f9b8=await warehouse[_0x109f32(0x1de)]({'status':_0x109f32(0x200)}),_0x54c4da=await units['aggregate']([{'$group':{'_id':_0x109f32(0x1d2),'secondaryunit':{'$first':_0x109f32(0x1cc)}}}]);if(_0x490f8a[0x0][_0x109f32(0x17e)]=='English\x20(US)')var _0x16061b=users['English'];else{if(_0x490f8a[0x0]['language']==_0x109f32(0x1fd))var _0x16061b=users['Hindi'];else{if(_0x490f8a[0x0][_0x109f32(0x17e)]==_0x109f32(0x17a))var _0x16061b=users[_0x109f32(0x17a)];else{if(_0x490f8a[0x0][_0x109f32(0x17e)]=='Spanish')var _0x16061b=users[_0x109f32(0x1df)];else{if(_0x490f8a[0x0][_0x109f32(0x17e)]==_0x109f32(0x1a7))var _0x16061b=users['French'];else{if(_0x490f8a[0x0]['language']==_0x109f32(0x17d))var _0x16061b=users['Portuguese'];else{if(_0x490f8a[0x0][_0x109f32(0x17e)]==_0x109f32(0x155))var _0x16061b=users[_0x109f32(0x155)];else{if(_0x490f8a[0x0][_0x109f32(0x17e)]==_0x109f32(0x210))var _0x16061b=users[_0x109f32(0x20a)];}}}}}}}_0x3ec57d[_0x109f32(0x1ee)]('edit_product',{'success':_0xfec20[_0x109f32(0x1c4)](_0x109f32(0x188)),'errors':_0xfec20[_0x109f32(0x1c4)](_0x109f32(0x1e3)),'role':_0x3aa816,'profile':_0x802478,'alldata':_0x254569,'categories':_0x58cfe7,'brands':_0x5bfb9d,'master_shop':_0x490f8a,'units':_0x4f2f4d,'secondunit':_0x54c4da,'find_data':_0x95f9b8,'language':_0x16061b});}catch(_0xaa980){console[_0x109f32(0x194)](_0xaa980);}}),router[a0_0x5e82ab(0x1d3)](a0_0x5e82ab(0x1ae),auth,upload[a0_0x5e82ab(0x1f9)](a0_0x5e82ab(0x16a)),async(_0x58c7af,_0x3fe7f2)=>{const _0x5030e1=a0_0x5e82ab;try{console[_0x5030e1(0x194)](_0x5030e1(0x169));const _0x18eef5=_0x58c7af[_0x5030e1(0x1b0)]['id'],_0x5dbd5a=await product[_0x5030e1(0x175)](_0x18eef5),{image:_0x4e77ba,name:_0x530493,category:_0x1743a9,brand:_0x3052e3,sku:_0x1ce730,unit:_0x4c9d99,alertquantity:_0x168763,product_code:_0x2eef62,warehouse:_0x5af87c,primary_ItemCode:_0x4ac395,second_ItemCode:_0x4bfc56,second_unit:_0x4daae1,maxPerUnit:_0x27d014,MaxPerProduct:_0x9a991b,prod_catdata:_0x146cbf}=_0x58c7af['body'];_0x58c7af[_0x5030e1(0x154)]&&(_0x5dbd5a['image']=_0x58c7af[_0x5030e1(0x154)][_0x5030e1(0x1d7)]);_0x5dbd5a[_0x5030e1(0x19f)]=_0x530493,_0x5dbd5a[_0x5030e1(0x209)]=_0x1743a9,_0x5dbd5a['brand']=_0x3052e3,_0x5dbd5a[_0x5030e1(0x1b8)]=_0x1ce730,_0x5dbd5a[_0x5030e1(0x1a8)]=_0x4c9d99,_0x5dbd5a[_0x5030e1(0x16c)]=_0x168763,_0x5dbd5a[_0x5030e1(0x19a)]=_0x2eef62,_0x5dbd5a[_0x5030e1(0x18b)]=_0x5af87c,_0x5dbd5a[_0x5030e1(0x1e9)]=_0x4ac395,_0x5dbd5a[_0x5030e1(0x1ea)]=_0x4bfc56,_0x5dbd5a[_0x5030e1(0x160)]=_0x4daae1,_0x5dbd5a['maxStocks']=_0x9a991b,_0x5dbd5a['maxProdPerUnit']=_0x27d014,_0x5dbd5a[_0x5030e1(0x1bf)]=_0x146cbf;const _0x3ba3ea=await _0x5dbd5a[_0x5030e1(0x1e5)]();console[_0x5030e1(0x194)](_0x5030e1(0x16d),_0x5dbd5a),_0x58c7af[_0x5030e1(0x1c4)]('success',_0x5030e1(0x1b6)),_0x3fe7f2[_0x5030e1(0x1ac)](_0x5030e1(0x15b));}catch(_0x1c152a){console[_0x5030e1(0x194)](_0x1c152a);}}),router[a0_0x5e82ab(0x1f4)](a0_0x5e82ab(0x153),auth,async(_0x3d182d,_0x2ffbda)=>{const _0x490fa0=a0_0x5e82ab;try{const {username:_0x564837,email:_0x462e1f,role:_0x5f4f78}=_0x3d182d[_0x490fa0(0x19d)],_0x214689=_0x3d182d[_0x490fa0(0x19d)],_0x6f9659=await profile[_0x490fa0(0x1d5)]({'email':_0x214689[_0x490fa0(0x1cf)]}),_0xdfd321=await master_shop[_0x490fa0(0x1de)]();console[_0x490fa0(0x194)](_0x490fa0(0x1e8),_0xdfd321);const _0x1d8306=_0x3d182d[_0x490fa0(0x1b0)]['id'],_0x267b65=await product[_0x490fa0(0x175)](_0x1d8306);console[_0x490fa0(0x194)](_0x490fa0(0x1a6),_0x267b65);if(_0xdfd321[0x0]['language']==_0x490fa0(0x1a9))var _0x247080=users[_0x490fa0(0x1bc)];else{if(_0xdfd321[0x0][_0x490fa0(0x17e)]=='Hindi')var _0x247080=users[_0x490fa0(0x1fd)];else{if(_0xdfd321[0x0][_0x490fa0(0x17e)]=='German')var _0x247080=users[_0x490fa0(0x17a)];else{if(_0xdfd321[0x0][_0x490fa0(0x17e)]=='Spanish')var _0x247080=users[_0x490fa0(0x1df)];else{if(_0xdfd321[0x0][_0x490fa0(0x17e)]==_0x490fa0(0x1a7))var _0x247080=users[_0x490fa0(0x1a7)];else{if(_0xdfd321[0x0][_0x490fa0(0x17e)]==_0x490fa0(0x17d))var _0x247080=users[_0x490fa0(0x1cd)];else{if(_0xdfd321[0x0][_0x490fa0(0x17e)]==_0x490fa0(0x155))var _0x247080=users[_0x490fa0(0x155)];else{if(_0xdfd321[0x0][_0x490fa0(0x17e)]==_0x490fa0(0x210))var _0x247080=users[_0x490fa0(0x20a)];}}}}}}}_0x2ffbda[_0x490fa0(0x1ee)](_0x490fa0(0x1af),{'success':_0x3d182d[_0x490fa0(0x1c4)](_0x490fa0(0x188)),'errors':_0x3d182d[_0x490fa0(0x1c4)](_0x490fa0(0x1e3)),'role':_0x214689,'profile':_0x6f9659,'alldata':_0x267b65,'master_shop':_0xdfd321,'language':_0x247080});}catch(_0xef2a3){console[_0x490fa0(0x194)](_0xef2a3);}}),router[a0_0x5e82ab(0x1f4)](a0_0x5e82ab(0x1b2),auth,async(_0x575d80,_0x5e0129)=>{const _0x5be09a=a0_0x5e82ab;try{const _0x3dbb7f=new excelJS[(_0x5be09a(0x1b7))](),_0x135678=_0x3dbb7f[_0x5be09a(0x18a)](_0x5be09a(0x150));return _0x135678[_0x5be09a(0x207)]=[{'header':_0x5be09a(0x1d0),'key':_0x5be09a(0x1a0),'width':0xa},{'header':_0x5be09a(0x186),'key':_0x5be09a(0x1a3),'width':0xa},{'header':_0x5be09a(0x1aa),'key':_0x5be09a(0x1c8),'width':0xa},{'header':_0x5be09a(0x15e),'key':_0x5be09a(0x158),'width':0xa},{'header':_0x5be09a(0x19c),'key':_0x5be09a(0x1e4),'width':0xa},{'header':_0x5be09a(0x1ef),'key':'ProductCode','width':0xa},{'header':_0x5be09a(0x152),'key':'ProductCode','width':0xa},{'header':'Product_Code','key':_0x5be09a(0x17b),'width':0xa},{'header':_0x5be09a(0x162),'key':_0x5be09a(0x202),'width':0xa},{'header':_0x5be09a(0x204),'key':_0x5be09a(0x1fa),'width':0xa},{'header':_0x5be09a(0x1c3),'key':'PAlQty','width':0xa},{'header':_0x5be09a(0x189),'key':'Prod_Cat','width':0xa}],_0x5e0129[_0x5be09a(0x165)](_0x5be09a(0x206),_0x5be09a(0x178)),_0x5e0129['setHeader'](_0x5be09a(0x184),_0x5be09a(0x14b)),_0x3dbb7f[_0x5be09a(0x1a4)][_0x5be09a(0x190)](_0x5e0129)['then'](()=>{const _0x11a6d=_0x5be09a;_0x5e0129[_0x11a6d(0x1c2)](0xc8);});}catch(_0x43603a){_0x5e0129[_0x5be09a(0x1c2)](0x190)[_0x5be09a(0x203)](_0x43603a);}});const storage1=multer['diskStorage']({'destination':(_0x21a658,_0x2ea9c0,_0x2ff373)=>{_0x2ff373(null,'public/Migration');},'filename':(_0x500c6e,_0x2799c9,_0x4b604e)=>{const _0x2da39d=a0_0x5e82ab;_0x4b604e(null,Date[_0x2da39d(0x199)]()+_0x2799c9[_0x2da39d(0x15a)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x5e82ab(0x1d3)](a0_0x5e82ab(0x193),auth,uploadMigrate['single']('migrate_product_fule'),async(_0x89a448,_0x14cf36)=>{const _0x491205=a0_0x5e82ab,_0x5ac169=_0x89a448[_0x491205(0x154)][_0x491205(0x1d7)],_0x590558=await xlsx[_0x491205(0x177)]('public/Migration/'+_0x5ac169);let _0x1b55e9=_0x590558[_0x491205(0x1dd)],_0x4a1980=xlsx[_0x491205(0x1c7)][_0x491205(0x1ec)](_0x590558[_0x491205(0x1a1)][_0x1b55e9[0x0]]);for(const _0x2225aa of _0x4a1980){const _0x13ee64=_0x2225aa['Product_Name'],_0x3fcc67=_0x2225aa[_0x491205(0x186)],_0x266054=_0x2225aa[_0x491205(0x1aa)],_0x5390aa=_0x2225aa[_0x491205(0x15e)],_0x18ff62=_0x2225aa[_0x491205(0x1f3)],_0x46124e=_0x2225aa[_0x491205(0x162)],_0x166503=_0x2225aa['Alert_QTY'],_0x438952=_0x2225aa[_0x491205(0x1ef)],_0x68436c=_0x2225aa[_0x491205(0x152)],_0x32425b=_0x2225aa[_0x491205(0x1c3)],_0x18afe3=_0x2225aa['max_number_per_units'],_0x4d2192=_0x2225aa['Products_category'];try{let _0x26022b=await categories['findOne']({'name':_0x46124e});if(!_0x26022b){const _0x3e630e=new categories({'name':_0x46124e,'products':'0'});_0x26022b=await _0x3e630e[_0x491205(0x1e5)]();}let _0x2060b5=await brands[_0x491205(0x1d5)]({'name':_0x3fcc67});if(!_0x2060b5){const _0x5485ad=new brands({'name':_0x3fcc67,'products':'0'});_0x2060b5=await _0x5485ad[_0x491205(0x1e5)]();}let _0x51b018=await units[_0x491205(0x1d5)]({'name':_0x266054,'secondary_unit':_0x5390aa});if(!_0x51b018){const _0x30864f=new units({'name':_0x266054,'secondary_unit':_0x5390aa,'products':'0'});_0x51b018=await _0x30864f[_0x491205(0x1e5)]();}const _0x4ed58a=await product[_0x491205(0x1de)]({'name':_0x13ee64,'category':_0x26022b[_0x491205(0x19f)],'brand':_0x2060b5[_0x491205(0x19f)],'secondary_unit':_0x51b018['secondary_unit'],'product_code':_0x18ff62});console['log'](_0x4ed58a['length']+'\x20<>\x20'+_0x26022b[_0x491205(0x19f)]+_0x491205(0x14c)+_0x2060b5[_0x491205(0x19f)]+'\x20<>\x20'+_0x51b018[_0x491205(0x160)]+_0x491205(0x14c)+_0x18ff62+'\x20<>\x20'+_0x13ee64);if(_0x4ed58a[_0x491205(0x179)]===0x0){const _0x1de3df=new product({'image':_0x491205(0x20e),'name':_0x13ee64,'category':_0x26022b[_0x491205(0x19f)],'brand':_0x2060b5['name'],'unit':_0x51b018[_0x491205(0x19f)],'alertquantity':_0x166503,'product_code':_0x18ff62,'secondary_unit':_0x51b018[_0x491205(0x160)],'primary_code':_0x438952,'secondary_code':_0x68436c,'maxStocks':_0x32425b,'maxProdPerUnit':_0x18afe3,'product_category':_0x4d2192}),_0xdcb5e7=await _0x1de3df['save']();_0x26022b[_0x491205(0x176)]=parseInt(_0x26022b[_0x491205(0x176)])+0x1,await _0x26022b['save'](),_0x2060b5[_0x491205(0x176)]=parseInt(_0x2060b5['products'])+0x1,await _0x2060b5[_0x491205(0x1e5)](),_0x51b018['products']=parseInt(_0x51b018['products'])+0x1,await _0x51b018[_0x491205(0x1e5)](),_0x89a448[_0x491205(0x1c4)](_0x491205(0x188),_0x13ee64+_0x491205(0x1b3));}else{console[_0x491205(0x194)](_0x4ed58a[0x0]);const _0x339096=_0x4ed58a[0x0];_0x339096['category']=_0x26022b[_0x491205(0x19f)],_0x339096[_0x491205(0x19b)]=_0x2060b5[_0x491205(0x19f)],_0x339096[_0x491205(0x1a8)]=_0x51b018[_0x491205(0x19f)],_0x339096[_0x491205(0x16c)]=_0x166503,_0x339096[_0x491205(0x19a)]=_0x18ff62,_0x339096[_0x491205(0x160)]=_0x51b018[_0x491205(0x160)],_0x339096[_0x491205(0x1e9)]=_0x438952,_0x339096[_0x491205(0x1ea)]=_0x68436c,_0x339096[_0x491205(0x1cb)]=_0x32425b,_0x339096[_0x491205(0x15c)]=_0x18afe3,_0x339096[_0x491205(0x1bf)]=_0x4d2192;const _0x5411cd=await _0x339096[_0x491205(0x1e5)]();_0x89a448[_0x491205(0x1c4)](_0x491205(0x188),_0x5411cd['name']+_0x491205(0x182));}}catch(_0x5db367){_0x14cf36['status'](0x1f4)[_0x491205(0x187)]({'proderror':_0x5db367[_0x491205(0x1ab)],'aproduct':_0x13ee64});}}_0x14cf36[_0x491205(0x1ac)]('/products/view');}),router[a0_0x5e82ab(0x1d3)](a0_0x5e82ab(0x1ad),auth,async(_0x473086,_0x34ce92)=>{const _0x3d3ce3=a0_0x5e82ab;try{console['log'](_0x473086['body']);const {data_cateory:_0x4be992,datachoose:_0x958e1a}=_0x473086['body'];var _0x353169;if(_0x958e1a==_0x3d3ce3(0x1db))_0x353169=await product[_0x3d3ce3(0x1fc)]([{'$group':{'_id':_0x3d3ce3(0x174)}}]);else{if(_0x958e1a==_0x3d3ce3(0x1ff))_0x353169=await product[_0x3d3ce3(0x1fc)]([{'$match':{'product_category':_0x4be992}},{'$group':{'_id':'$brand'}}]);else _0x958e1a=='categ'&&(_0x353169=await product[_0x3d3ce3(0x1fc)]([{'$match':{'product_category':_0x4be992}},{'$group':{'_id':_0x3d3ce3(0x1a2)}}]));}_0x34ce92[_0x3d3ce3(0x187)](_0x353169);}catch(_0x3ec471){_0x34ce92[_0x3d3ce3(0x187)]({'message':_0x3ec471[_0x3d3ce3(0x1ab)]});}}),router['post'](a0_0x5e82ab(0x1da),auth,async(_0x1b2310,_0x463e7e)=>{const _0x1f4090=a0_0x5e82ab;try{const {data_choosing:_0x160bb3,data_selected:_0x1530b8}=_0x1b2310['body'];var _0x3ecf9b;if(_0x160bb3=='prod_categ')_0x3ecf9b=await product[_0x1f4090(0x1fc)]([{'$match':{'product_category':_0x1530b8}}]);else{if(_0x160bb3==_0x1f4090(0x1ff))_0x3ecf9b=await product['aggregate']([{'$match':{'brand':_0x1530b8}}]);else _0x160bb3==_0x1f4090(0x191)&&(_0x3ecf9b=await product['aggregate']([{'$match':{'category':_0x1530b8}}]));}_0x463e7e[_0x1f4090(0x187)](_0x3ecf9b);}catch(_0x5cd06e){_0x463e7e[_0x1f4090(0x187)]({'message':_0x5cd06e[_0x1f4090(0x1ab)]});}}),router[a0_0x5e82ab(0x1f4)](a0_0x5e82ab(0x19e),auth,async(_0x386a3b,_0x523eb1)=>{const _0x2199e7=a0_0x5e82ab,_0xccffdb=_0x386a3b['user'],_0x1b0735=await profile[_0x2199e7(0x1d5)]({'email':_0xccffdb[_0x2199e7(0x1cf)]}),_0x526e6d=await master_shop[_0x2199e7(0x1de)](),_0x3dbb96=await product[_0x2199e7(0x1de)]();if(_0x526e6d[0x0][_0x2199e7(0x17e)]==_0x2199e7(0x1a9))var _0x43b32d=users[_0x2199e7(0x1bc)];else{if(_0x526e6d[0x0][_0x2199e7(0x17e)]=='Hindi')var _0x43b32d=users[_0x2199e7(0x1fd)];else{if(_0x526e6d[0x0][_0x2199e7(0x17e)]==_0x2199e7(0x17a))var _0x43b32d=users['German'];else{if(_0x526e6d[0x0]['language']==_0x2199e7(0x1df))var _0x43b32d=users['Spanish'];else{if(_0x526e6d[0x0][_0x2199e7(0x17e)]==_0x2199e7(0x1a7))var _0x43b32d=users[_0x2199e7(0x1a7)];else{if(_0x526e6d[0x0][_0x2199e7(0x17e)]=='Portuguese\x20(BR)')var _0x43b32d=users[_0x2199e7(0x1cd)];else{if(_0x526e6d[0x0][_0x2199e7(0x17e)]==_0x2199e7(0x155))var _0x43b32d=users['Chinese'];else{if(_0x526e6d[0x0][_0x2199e7(0x17e)]=='Arabic\x20(ae)')var _0x43b32d=users[_0x2199e7(0x20a)];}}}}}}}_0x523eb1[_0x2199e7(0x1ee)](_0x2199e7(0x1c9),{'success':_0x386a3b[_0x2199e7(0x1c4)]('success'),'errors':_0x386a3b['flash']('errors'),'role':_0xccffdb,'profile':_0x1b0735,'products':_0x3dbb96,'master_shop':_0x526e6d,'language':_0x43b32d});}),router[a0_0x5e82ab(0x1d3)](a0_0x5e82ab(0x1bb),auth,async(_0x48a34e,_0x227d71)=>{const _0x4a6f58=a0_0x5e82ab,_0x1b0dfe=await product[_0x4a6f58(0x1de)]();_0x227d71[_0x4a6f58(0x187)]({'data':_0x1b0dfe});}),router[a0_0x5e82ab(0x1d3)]('/barcode_filter',auth,async(_0x1bbb1e,_0x3ad14c)=>{const _0x1874e5=a0_0x5e82ab;try{const {dataProdCat:_0x3c0c9a,dataProdIdentity:_0x15560d}=_0x1bbb1e['body'];var _0x262e1e;switch(_0x3c0c9a){case'fg':switch(_0x15560d){case _0x1874e5(0x186):_0x262e1e=await product[_0x1874e5(0x1fc)]([{'$match':{'product_category':_0x1874e5(0x208)}},{'$group':{'_id':_0x1874e5(0x1bd)}},{'$project':{'brand':_0x1874e5(0x1d2)}}]);break;case'Category':_0x262e1e=await product['aggregate']([{'$match':{'product_category':_0x1874e5(0x208)}},{'$group':{'_id':_0x1874e5(0x1a2)}},{'$project':{'category':_0x1874e5(0x1d2)}}]);break;}break;case'rm':switch(_0x15560d){case _0x1874e5(0x186):_0x262e1e=await product[_0x1874e5(0x1fc)]([{'$match':{'product_category':_0x1874e5(0x195)}},{'$group':{'_id':_0x1874e5(0x1bd)}},{'$project':{'brand':_0x1874e5(0x1d2)}}]);break;case'Category':_0x262e1e=await product[_0x1874e5(0x1fc)]([{'$match':{'product_category':_0x1874e5(0x195)}},{'$group':{'_id':_0x1874e5(0x1a2)}},{'$project':{'category':_0x1874e5(0x1d2)}}]);break;}break;}_0x3ad14c[_0x1874e5(0x187)](_0x262e1e);}catch(_0x414316){_0x3ad14c[_0x1874e5(0x187)]({'message':_0x414316['message']});}}),router[a0_0x5e82ab(0x1d3)](a0_0x5e82ab(0x1d8),auth,async(_0x2486c9,_0x469de8)=>{const _0x19fe16=a0_0x5e82ab;try{console[_0x19fe16(0x194)](_0x2486c9[_0x19fe16(0x15d)]);const {prod_cat:_0x393655,identity:_0x512a66,valueData:_0x235d78,typeofbarcode:_0x21f550}=_0x2486c9[_0x19fe16(0x15d)];let _0x58a25b;switch(_0x393655){case'fg':if(_0x512a66==_0x19fe16(0x186))_0x58a25b=await product[_0x19fe16(0x1fc)]([{'$match':{'product_category':_0x19fe16(0x208),'brand':_0x235d78}}]);else _0x512a66==_0x19fe16(0x162)&&(_0x58a25b=await product[_0x19fe16(0x1fc)]([{'$match':{'product_category':'Finished\x20Goods','category':_0x235d78}}]));break;case'rm':if(_0x512a66==_0x19fe16(0x186))_0x58a25b=await product[_0x19fe16(0x1fc)]([{'$match':{'product_category':_0x19fe16(0x195),'brand':_0x235d78}}]);else _0x512a66==_0x19fe16(0x162)&&(_0x58a25b=await product['aggregate']([{'$match':{'product_category':_0x19fe16(0x195),'category':_0x235d78}}]));break;}const _0x36e83f=_0x134830=>_0x134830*0x48,_0x301874={'width':0x3,'height':0x1},_0x2df1ba=new PDFDocument({'margin':_0x36e83f(0.75),'size':[_0x36e83f(_0x301874['width']),_0x36e83f(_0x301874[_0x19fe16(0x18f)])],'bufferPages':!![]}),_0x154709=_0x58a25b[_0x19fe16(0x179)];for(let _0x365f32=0x0;_0x365f32<=_0x154709;_0x365f32++){if(_0x365f32!=_0x154709){const _0xb1f9de=_0x58a25b[_0x365f32][_0x19fe16(0x19f)],_0x5e447e=_0x58a25b[_0x365f32][_0x19fe16(0x1e9)],_0x53edc4=_0x58a25b[_0x365f32][_0x19fe16(0x1ea)],_0x1209c8=_0x58a25b[_0x365f32][_0x19fe16(0x19a)];var _0x49de34;switch(_0x21f550){case'1':_0x49de34=_0x5e447e;break;case'2':_0x49de34=_0x53edc4;break;case'3':_0x49de34=_0x1209c8;break;}const _0x28f75d={'width':0xd2,'height':0x64},_0x34aee8={'width':_0x36e83f(_0x301874[_0x19fe16(0x1c1)]),'height':_0x36e83f(_0x301874[_0x19fe16(0x18f)])},_0x35fa87=new Canvas();JsBarcode(_0x35fa87,_0x49de34,{'format':_0x19fe16(0x1fe),'height':_0x28f75d['height'],'displayValue':!![],'text':_0x49de34});const _0x51e014=_0x35fa87['toBuffer'](),_0x58079c=_0x34aee8[_0x19fe16(0x1c1)]/_0x28f75d[_0x19fe16(0x1c1)],_0x3ac2d8=_0x34aee8['height']/_0x28f75d['height'],_0x590620=Math[_0x19fe16(0x1be)](_0x58079c,_0x3ac2d8),_0x17a9b3=_0x28f75d[_0x19fe16(0x1c1)]*_0x590620,_0x3787cb=_0x28f75d[_0x19fe16(0x18f)]*_0x590620,_0x88b544=(_0x34aee8['width']-_0x17a9b3)/0x2,_0x371bb8=(_0x34aee8[_0x19fe16(0x18f)]-_0x3787cb)/0x2;_0x2df1ba[_0x19fe16(0x16a)](_0x51e014,_0x88b544,_0x371bb8,{'width':_0x17a9b3,'height':_0x3787cb}),_0x365f32!=_0x154709&&_0x2df1ba[_0x19fe16(0x1e1)]();}}const _0x21496d=[];_0x2df1ba['on'](_0x19fe16(0x1f2),_0x21496d['push'][_0x19fe16(0x1f6)](_0x21496d)),_0x2df1ba['on'](_0x19fe16(0x20c),()=>{const _0x50e356=_0x19fe16,_0x3a7bfa=Buffer[_0x50e356(0x14f)](_0x21496d),_0x183eb1=_0x3a7bfa[_0x50e356(0x17f)](_0x50e356(0x198));_0x469de8['json']({'pdfContent':_0x183eb1});}),_0x2df1ba[_0x19fe16(0x20c)]();}catch(_0x58a871){_0x469de8[_0x19fe16(0x187)]({'message':_0x58a871[_0x19fe16(0x1ab)]});}}),router[a0_0x5e82ab(0x1d3)](a0_0x5e82ab(0x1fb),auth,async(_0x4d6dde,_0x4959b6)=>{const _0x474dd5=a0_0x5e82ab;try{console[_0x474dd5(0x194)](_0x4d6dde[_0x474dd5(0x15d)]);const {prod_cat:_0x3063eb,identity:_0x173fd9,valueData:_0x5f0530}=_0x4d6dde[_0x474dd5(0x15d)];let _0x27793a;switch(_0x3063eb){case'fg':if(_0x173fd9==_0x474dd5(0x186))_0x27793a=await product[_0x474dd5(0x1fc)]([{'$match':{'product_category':_0x474dd5(0x208),'brand':_0x5f0530}}]);else _0x173fd9=='Category'&&(_0x27793a=await product[_0x474dd5(0x1fc)]([{'$match':{'product_category':_0x474dd5(0x208),'category':_0x5f0530}}]));break;case'rm':if(_0x173fd9==_0x474dd5(0x186))_0x27793a=await product[_0x474dd5(0x1fc)]([{'$match':{'product_category':_0x474dd5(0x195),'brand':_0x5f0530}}]);else _0x173fd9==_0x474dd5(0x162)&&(_0x27793a=await product[_0x474dd5(0x1fc)]([{'$match':{'product_category':_0x474dd5(0x195),'category':_0x5f0530}}]));break;}_0x4959b6[_0x474dd5(0x187)]({'data':_0x27793a});}catch(_0x39c825){_0x4959b6[_0x474dd5(0x187)]({'message':_0x39c825[_0x474dd5(0x1ab)]});}}),router['post']('/print_barcode_single/:id',auth,async(_0x2a9cb3,_0x419e2d)=>{const _0x291d31=a0_0x5e82ab;try{const _0x3e4b7a=_0x2a9cb3[_0x291d31(0x1b0)]['id'],{copies:_0x3fcc97,typeofbarcode:_0x55a7f3}=_0x2a9cb3[_0x291d31(0x15d)];var _0x1d4870=await product['findById'](_0x3e4b7a);const _0x1e870d=_0x20f6ff=>_0x20f6ff*0x48,_0x23a0bc={'width':0x3,'height':0x1},_0x598c5c=new PDFDocument({'margin':_0x1e870d(0.75),'size':[_0x1e870d(_0x23a0bc[_0x291d31(0x1c1)]),_0x1e870d(_0x23a0bc[_0x291d31(0x18f)])],'bufferPages':!![]}),_0x209311=_0x3fcc97,_0x67a07c=_0x1d4870['name'],_0x33e95c=_0x1d4870[_0x291d31(0x1e9)],_0x23c502=_0x1d4870[_0x291d31(0x1ea)],_0x166252=_0x1d4870[_0x291d31(0x19a)];let _0x5a5d02;switch(_0x55a7f3){case'1':_0x5a5d02=_0x33e95c;break;case'2':_0x5a5d02=_0x23c502;break;case'3':_0x5a5d02=_0x166252;break;}const _0x3d1aaf={'width':0xd2,'height':0x64},_0x248bde={'width':_0x1e870d(_0x23a0bc['width']),'height':_0x1e870d(_0x23a0bc[_0x291d31(0x18f)])};for(let _0x47ec91=0x1;_0x47ec91<=_0x209311;_0x47ec91++){const _0x262f63=new Canvas();JsBarcode(_0x262f63,_0x5a5d02,{'format':_0x291d31(0x1fe),'height':_0x3d1aaf[_0x291d31(0x18f)],'displayValue':!![],'text':_0x5a5d02});const _0xeaa2c1=_0x262f63[_0x291d31(0x18c)](),_0x2e1c9c=_0x248bde['width']/_0x3d1aaf[_0x291d31(0x1c1)],_0x1c7128=_0x248bde[_0x291d31(0x18f)]/_0x3d1aaf[_0x291d31(0x18f)],_0x2924bb=Math[_0x291d31(0x1be)](_0x2e1c9c,_0x1c7128),_0x338dd9=_0x3d1aaf[_0x291d31(0x1c1)]*_0x2924bb,_0x19fd20=_0x3d1aaf[_0x291d31(0x18f)]*_0x2924bb,_0x16cadf=(_0x248bde[_0x291d31(0x1c1)]-_0x338dd9)/0x2,_0x9070aa=(_0x248bde[_0x291d31(0x18f)]-_0x19fd20)/0x2;_0x598c5c[_0x291d31(0x16a)](_0xeaa2c1,_0x16cadf,_0x9070aa,{'width':_0x338dd9,'height':_0x19fd20}),_0x47ec91!=_0x209311&&_0x598c5c[_0x291d31(0x1e1)]();}const _0x261b3d=[];_0x598c5c['on'](_0x291d31(0x1f2),_0x261b3d[_0x291d31(0x1e0)]['bind'](_0x261b3d)),_0x598c5c['on'](_0x291d31(0x20c),()=>{const _0x12f1f9=_0x291d31,_0x106faf=Buffer[_0x12f1f9(0x14f)](_0x261b3d),_0x2b3460=_0x106faf[_0x12f1f9(0x17f)](_0x12f1f9(0x198));_0x419e2d['json']({'pdfContent':_0x2b3460});}),_0x598c5c['end']();}catch(_0x5778ce){_0x419e2d[_0x291d31(0x187)]({'message':_0x5778ce[_0x291d31(0x1ab)]});}}),module[a0_0x5e82ab(0x1dc)]=router;