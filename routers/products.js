function a0_0x5c4c(_0x225194,_0x380e9f){const _0x196d06=a0_0x196d();return a0_0x5c4c=function(_0x5c4cf2,_0x6083ad){_0x5c4cf2=_0x5c4cf2-0xc3;let _0xad1434=_0x196d06[_0x5c4cf2];return _0xad1434;},a0_0x5c4c(_0x225194,_0x380e9f);}const a0_0x29dc92=a0_0x5c4c;(function(_0x208b28,_0x51ef6b){const _0x35b9e6=a0_0x5c4c,_0x324b49=_0x208b28();while(!![]){try{const _0x4ed988=-parseInt(_0x35b9e6(0xea))/0x1*(-parseInt(_0x35b9e6(0x137))/0x2)+-parseInt(_0x35b9e6(0x147))/0x3*(parseInt(_0x35b9e6(0x16c))/0x4)+-parseInt(_0x35b9e6(0xeb))/0x5+-parseInt(_0x35b9e6(0xec))/0x6+-parseInt(_0x35b9e6(0x140))/0x7+-parseInt(_0x35b9e6(0x12f))/0x8+-parseInt(_0x35b9e6(0xcd))/0x9*(-parseInt(_0x35b9e6(0x178))/0xa);if(_0x4ed988===_0x51ef6b)break;else _0x324b49['push'](_0x324b49['shift']());}catch(_0x31c3ec){_0x324b49['push'](_0x324b49['shift']());}}}(a0_0x196d,0x9acd2));const express=require(a0_0x29dc92(0xf1)),res=require(a0_0x29dc92(0x160)),app=express(),router=express[a0_0x29dc92(0x171)](),multer=require(a0_0x29dc92(0x182)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x29dc92(0xd6)),auth=require('../middleware/auth'),users=require(a0_0x29dc92(0x12d)),excelJS=require(a0_0x29dc92(0x184)),xlsx=require(a0_0x29dc92(0x100)),JsBarcode=require(a0_0x29dc92(0x141)),{Canvas}=require('canvas'),PDFDocument=require('pdfkit-table');router['get'](a0_0x29dc92(0x114),auth,async(_0x324bb0,_0x5b6b6f)=>{const _0x27290f=a0_0x29dc92;try{const {username:_0x3e201b,email:_0x188eb0,role:_0xd7d0ae}=_0x324bb0['user'],_0x4df006=_0x324bb0[_0x27290f(0x177)],_0x5e6e03=await profile['findOne']({'email':_0x4df006[_0x27290f(0xd7)]}),_0x39f8ce=await master_shop[_0x27290f(0x149)]();console['log'](_0x27290f(0x15a),_0x39f8ce);const _0x2be1df=await categories[_0x27290f(0x149)]();if(_0x39f8ce[0x0][_0x27290f(0xf7)]==_0x27290f(0x150))var _0x285bfc=users['English'];else{if(_0x39f8ce[0x0][_0x27290f(0xf7)]=='Hindi')var _0x285bfc=users[_0x27290f(0x144)];else{if(_0x39f8ce[0x0][_0x27290f(0xf7)]==_0x27290f(0x138))var _0x285bfc=users['German'];else{if(_0x39f8ce[0x0][_0x27290f(0xf7)]=='Spanish')var _0x285bfc=users['Spanish'];else{if(_0x39f8ce[0x0][_0x27290f(0xf7)]==_0x27290f(0x17d))var _0x285bfc=users['French'];else{if(_0x39f8ce[0x0][_0x27290f(0xf7)]==_0x27290f(0x16f))var _0x285bfc=users[_0x27290f(0xd1)];else{if(_0x39f8ce[0x0][_0x27290f(0xf7)]=='Chinese')var _0x285bfc=users[_0x27290f(0xef)];else{if(_0x39f8ce[0x0]['language']==_0x27290f(0x121))var _0x285bfc=users[_0x27290f(0x115)];}}}}}}}_0x5b6b6f['render'](_0x27290f(0xf4),{'success':_0x324bb0[_0x27290f(0x120)](_0x27290f(0x174)),'errors':_0x324bb0[_0x27290f(0x120)](_0x27290f(0x112)),'role':_0x4df006,'profile':_0x5e6e03,'user':_0x2be1df,'master_shop':_0x39f8ce,'language':_0x285bfc});}catch(_0x25b246){console[_0x27290f(0x125)](_0x25b246);}}),router[a0_0x29dc92(0x161)](a0_0x29dc92(0x114),auth,async(_0x54691e,_0x2ffd7f)=>{const _0x3156c9=a0_0x29dc92;try{const {name:_0xdee7d2,products:_0x2a58ea}=_0x54691e[_0x3156c9(0xff)],_0x55cf56=new categories({'name':_0xdee7d2,'products':_0x2a58ea}),_0x2797f8=await categories[_0x3156c9(0x11f)]({'name':_0xdee7d2});_0x2797f8?_0x54691e[_0x3156c9(0x120)](_0x3156c9(0x112),_0xdee7d2+_0x3156c9(0x122)):_0x54691e[_0x3156c9(0x120)](_0x3156c9(0x174),_0xdee7d2+_0x3156c9(0x11e));const _0x5028ce=await _0x55cf56['save']();_0x2ffd7f[_0x3156c9(0x128)](_0x3156c9(0xdc));}catch(_0x2ea9eb){console[_0x3156c9(0x125)](_0x2ea9eb);}}),router[a0_0x29dc92(0xd5)](a0_0x29dc92(0x106),auth,async(_0x4292c0,_0x5004ee)=>{const _0x546553=a0_0x29dc92;try{const {username:_0x49aca2,email:_0x86c4d7,role:_0x2d60be}=_0x4292c0[_0x546553(0x177)],_0x1cf456=_0x4292c0[_0x546553(0x177)],_0x222695=await profile[_0x546553(0x11f)]({'email':_0x1cf456['email']}),_0x1e2979=await master_shop['find']();console[_0x546553(0x125)](_0x546553(0x15a),_0x1e2979);const _0x37ad78=_0x4292c0[_0x546553(0x133)]['id'];console[_0x546553(0x125)](_0x37ad78);const _0x2cfb66=await categories[_0x546553(0xf2)](_0x37ad78);if(_0x1e2979[0x0][_0x546553(0xf7)]==_0x546553(0x150))var _0x4d7c6c=users[_0x546553(0x129)];else{if(_0x1e2979[0x0][_0x546553(0xf7)]=='Hindi')var _0x4d7c6c=users[_0x546553(0x144)];else{if(_0x1e2979[0x0][_0x546553(0xf7)]==_0x546553(0x138))var _0x4d7c6c=users[_0x546553(0x138)];else{if(_0x1e2979[0x0][_0x546553(0xf7)]==_0x546553(0x17a))var _0x4d7c6c=users[_0x546553(0x17a)];else{if(_0x1e2979[0x0]['language']==_0x546553(0x17d))var _0x4d7c6c=users['French'];else{if(_0x1e2979[0x0][_0x546553(0xf7)]=='Portuguese\x20(BR)')var _0x4d7c6c=users[_0x546553(0xd1)];else{if(_0x1e2979[0x0][_0x546553(0xf7)]==_0x546553(0xef))var _0x4d7c6c=users['Chinese'];else{if(_0x1e2979[0x0][_0x546553(0xf7)]==_0x546553(0x121))var _0x4d7c6c=users[_0x546553(0x115)];}}}}}}}_0x5004ee['render'](_0x546553(0xf4),{'success':_0x4292c0[_0x546553(0x120)]('success'),'errors':_0x4292c0['flash'](_0x546553(0x112)),'role':_0x1cf456,'profile':_0x222695,'master_shop':_0x1e2979,'user':_0x2cfb66,'language':_0x4d7c6c});}catch(_0x4b87b4){console[_0x546553(0x125)](_0x4b87b4);}}),router[a0_0x29dc92(0x161)](a0_0x29dc92(0x106),auth,async(_0x3e3329,_0x191687)=>{const _0x4666db=a0_0x29dc92;try{const _0xdb0ad3=_0x3e3329[_0x4666db(0x133)]['id'],_0x139a0b=await categories['findByIdAndUpdate'](_0xdb0ad3,_0x3e3329[_0x4666db(0xff)]);_0x3e3329[_0x4666db(0x120)](_0x4666db(0x174),''+users[_0x4666db(0xca)]),_0x191687[_0x4666db(0x128)](_0x4666db(0xdc));}catch(_0x5e11d2){console['log'](_0x5e11d2);}}),router['get'](a0_0x29dc92(0x12e),auth,async(_0x12e653,_0x55ba2a)=>{const _0x2f8c31=a0_0x29dc92;try{const _0x383f0f=_0x12e653[_0x2f8c31(0x133)]['id'],_0x521d81=await categories[_0x2f8c31(0x126)](_0x383f0f);_0x12e653['flash'](_0x2f8c31(0x174),_0x2f8c31(0x173)),_0x55ba2a[_0x2f8c31(0x128)](_0x2f8c31(0xdc));}catch(_0x45e0d1){console['log'](_0x45e0d1);}}),router[a0_0x29dc92(0xd5)](a0_0x29dc92(0x14b),auth,async(_0x54ae46,_0xb19f83)=>{const _0x4787cd=a0_0x29dc92;try{const {username:_0x16727b,email:_0x1918b6,role:_0x4f3d27}=_0x54ae46[_0x4787cd(0x177)],_0x10dd33=_0x54ae46[_0x4787cd(0x177)],_0x28bbd6=await profile[_0x4787cd(0x11f)]({'email':_0x10dd33[_0x4787cd(0xd7)]}),_0x5eeead=await master_shop[_0x4787cd(0x149)]();console[_0x4787cd(0x125)]('master',_0x5eeead);const _0x153f6b=await brands[_0x4787cd(0x149)]();if(_0x5eeead[0x0]['language']==_0x4787cd(0x150))var _0x2ac44f=users[_0x4787cd(0x129)];else{if(_0x5eeead[0x0][_0x4787cd(0xf7)]==_0x4787cd(0x144))var _0x2ac44f=users[_0x4787cd(0x144)];else{if(_0x5eeead[0x0][_0x4787cd(0xf7)]==_0x4787cd(0x138))var _0x2ac44f=users[_0x4787cd(0x138)];else{if(_0x5eeead[0x0][_0x4787cd(0xf7)]==_0x4787cd(0x17a))var _0x2ac44f=users[_0x4787cd(0x17a)];else{if(_0x5eeead[0x0][_0x4787cd(0xf7)]==_0x4787cd(0x17d))var _0x2ac44f=users['French'];else{if(_0x5eeead[0x0][_0x4787cd(0xf7)]==_0x4787cd(0x16f))var _0x2ac44f=users[_0x4787cd(0xd1)];else{if(_0x5eeead[0x0][_0x4787cd(0xf7)]==_0x4787cd(0xef))var _0x2ac44f=users[_0x4787cd(0xef)];else{if(_0x5eeead[0x0]['language']=='Arabic\x20(ae)')var _0x2ac44f=users[_0x4787cd(0x115)];}}}}}}}_0xb19f83[_0x4787cd(0x13f)](_0x4787cd(0x164),{'success':_0x54ae46['flash'](_0x4787cd(0x174)),'errors':_0x54ae46[_0x4787cd(0x120)](_0x4787cd(0x112)),'role':_0x10dd33,'profile':_0x28bbd6,'master_shop':_0x5eeead,'user':_0x153f6b,'language':_0x2ac44f});}catch(_0x19df2a){console[_0x4787cd(0x125)](_0x19df2a);}}),router['post'](a0_0x29dc92(0x14b),auth,async(_0x4ac51d,_0x1b5aee)=>{const _0xd39a4d=a0_0x29dc92;try{const {name:_0x337178,products:_0x570efa}=_0x4ac51d[_0xd39a4d(0xff)],_0x503714=new brands({'name':_0x337178,'products':_0x570efa}),_0x5cb511=await brands[_0xd39a4d(0x11f)]({'name':_0x337178});_0x5cb511?_0x4ac51d['flash'](_0xd39a4d(0x112),_0x337178+_0xd39a4d(0x169)):_0x4ac51d[_0xd39a4d(0x120)](_0xd39a4d(0x174),_0x337178+_0xd39a4d(0x119));const _0x52ad2f=await _0x503714[_0xd39a4d(0xd8)]();_0x1b5aee[_0xd39a4d(0x128)](_0xd39a4d(0x17f));}catch(_0x3b886a){console[_0xd39a4d(0x125)](_0x3b886a);}}),router[a0_0x29dc92(0xd5)]('/brands/:id',auth,async(_0x2d04b0,_0x553ed2)=>{const _0x23209e=a0_0x29dc92;try{const {username:_0x45aaf2,email:_0x52ac13,role:_0x45f52e}=_0x2d04b0[_0x23209e(0x177)],_0x40c4c1=_0x2d04b0['user'],_0x7745f5=await profile[_0x23209e(0x11f)]({'email':_0x40c4c1[_0x23209e(0xd7)]}),_0x4b83cf=await master_shop[_0x23209e(0x149)]();console[_0x23209e(0x125)]('master',_0x4b83cf);const _0x27de5d=_0x2d04b0[_0x23209e(0x133)]['id'];console[_0x23209e(0x125)](_0x27de5d);const _0x5a2c59=await brands['findById'](_0x27de5d);if(_0x4b83cf[0x0][_0x23209e(0xf7)]==_0x23209e(0x150))var _0x45374e=users[_0x23209e(0x129)];else{if(_0x4b83cf[0x0][_0x23209e(0xf7)]=='Hindi')var _0x45374e=users[_0x23209e(0x144)];else{if(_0x4b83cf[0x0]['language']==_0x23209e(0x138))var _0x45374e=users[_0x23209e(0x138)];else{if(_0x4b83cf[0x0][_0x23209e(0xf7)]==_0x23209e(0x17a))var _0x45374e=users[_0x23209e(0x17a)];else{if(_0x4b83cf[0x0][_0x23209e(0xf7)]==_0x23209e(0x17d))var _0x45374e=users['French'];else{if(_0x4b83cf[0x0][_0x23209e(0xf7)]==_0x23209e(0x16f))var _0x45374e=users['Portuguese'];else{if(_0x4b83cf[0x0][_0x23209e(0xf7)]==_0x23209e(0xef))var _0x45374e=users['Chinese'];else{if(_0x4b83cf[0x0]['language']==_0x23209e(0x121))var _0x45374e=users[_0x23209e(0x115)];}}}}}}}_0x553ed2['render']('brands',{'success':_0x2d04b0[_0x23209e(0x120)](_0x23209e(0x174)),'errors':_0x2d04b0[_0x23209e(0x120)](_0x23209e(0x112)),'role':_0x40c4c1,'profile':_0x7745f5,'master_shop':_0x4b83cf,'user':_0x5a2c59,'language':_0x45374e});}catch(_0x3001ce){console[_0x23209e(0x125)](_0x3001ce);}}),router[a0_0x29dc92(0x161)](a0_0x29dc92(0x162),auth,async(_0x416d6e,_0xd25e0f)=>{const _0x5269ae=a0_0x29dc92;try{const _0x54795c=_0x416d6e['params']['id'],_0x46e81f=await brands[_0x5269ae(0x13e)](_0x54795c,_0x416d6e[_0x5269ae(0xff)]);_0x416d6e[_0x5269ae(0x120)](_0x5269ae(0x174),_0x5269ae(0xf8)),_0xd25e0f['redirect'](_0x5269ae(0x17f));}catch(_0x478e91){console[_0x5269ae(0x125)](_0x478e91);}}),router[a0_0x29dc92(0xd5)](a0_0x29dc92(0x14c),auth,async(_0x3260fa,_0x2874a5)=>{const _0x43f75a=a0_0x29dc92;try{const _0x49d72d=_0x3260fa[_0x43f75a(0x133)]['id'],_0x9432a1=await brands[_0x43f75a(0x126)](_0x49d72d);_0x3260fa[_0x43f75a(0x120)](_0x43f75a(0x174),_0x43f75a(0xc4)),_0x2874a5['redirect']('/products/brands');}catch(_0x1d5c7b){console[_0x43f75a(0x125)](_0x1d5c7b);}}),router[a0_0x29dc92(0xd5)](a0_0x29dc92(0x17e),auth,async(_0x20a4be,_0xbb859b)=>{const _0x33da87=a0_0x29dc92;try{const {username:_0x7c0536,email:_0x9f4201,role:_0x1021a5}=_0x20a4be[_0x33da87(0x177)],_0x40f106=_0x20a4be['user'],_0x3a12fe=await profile[_0x33da87(0x11f)]({'email':_0x40f106['email']}),_0x70b956=await master_shop[_0x33da87(0x149)]();console['log'](_0x33da87(0x15a),_0x70b956);const _0x5ba0aa=await units[_0x33da87(0x149)]();if(_0x70b956[0x0][_0x33da87(0xf7)]=='English\x20(US)')var _0x444a9c=users[_0x33da87(0x129)];else{if(_0x70b956[0x0]['language']=='Hindi')var _0x444a9c=users[_0x33da87(0x144)];else{if(_0x70b956[0x0]['language']==_0x33da87(0x138))var _0x444a9c=users[_0x33da87(0x138)];else{if(_0x70b956[0x0][_0x33da87(0xf7)]==_0x33da87(0x17a))var _0x444a9c=users['Spanish'];else{if(_0x70b956[0x0][_0x33da87(0xf7)]==_0x33da87(0x17d))var _0x444a9c=users[_0x33da87(0x17d)];else{if(_0x70b956[0x0][_0x33da87(0xf7)]==_0x33da87(0x16f))var _0x444a9c=users['Portuguese'];else{if(_0x70b956[0x0][_0x33da87(0xf7)]==_0x33da87(0xef))var _0x444a9c=users[_0x33da87(0xef)];else{if(_0x70b956[0x0]['language']==_0x33da87(0x121))var _0x444a9c=users[_0x33da87(0x115)];}}}}}}}_0xbb859b['render'](_0x33da87(0xc7),{'success':_0x20a4be[_0x33da87(0x120)](_0x33da87(0x174)),'errors':_0x20a4be[_0x33da87(0x120)](_0x33da87(0x112)),'role':_0x40f106,'profile':_0x3a12fe,'master_shop':_0x70b956,'user':_0x5ba0aa,'language':_0x444a9c});}catch(_0x23d2b5){console[_0x33da87(0x125)](_0x23d2b5);}}),router['post'](a0_0x29dc92(0x17e),auth,async(_0x17ecbf,_0x28eee9)=>{const _0x4f635f=a0_0x29dc92;try{const {name:_0x697d17,secondary_unit:_0x24255d,products:_0x1ad673}=_0x17ecbf[_0x4f635f(0xff)],_0x3cd45e=new units({'name':_0x697d17,'secondary_unit':_0x24255d,'products':_0x1ad673}),_0x20b51f=await units[_0x4f635f(0x11f)]({'name':_0x697d17});_0x20b51f?_0x17ecbf[_0x4f635f(0x120)](_0x4f635f(0x112),_0x697d17+'\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x17ecbf[_0x4f635f(0x120)](_0x4f635f(0x174),_0x697d17+'\x20unit\x20is\x20add\x20successfully');const _0x474ce5=await _0x3cd45e[_0x4f635f(0xd8)]();_0x28eee9[_0x4f635f(0x128)]('/products/units');}catch(_0x19f72a){console[_0x4f635f(0x125)](_0x19f72a);}}),router[a0_0x29dc92(0xd5)](a0_0x29dc92(0x155),auth,async(_0x2b5545,_0x7b48cb)=>{const _0xcce0aa=a0_0x29dc92;try{const {username:_0x2e5f75,email:_0xe7336f,role:_0xc9415b}=_0x2b5545[_0xcce0aa(0x177)],_0x241ebe=_0x2b5545[_0xcce0aa(0x177)],_0x5d2b13=await profile[_0xcce0aa(0x11f)]({'email':_0x241ebe['email']}),_0x259195=await master_shop[_0xcce0aa(0x149)]();console[_0xcce0aa(0x125)]('master',_0x259195);const _0x47f19c=_0x2b5545['params']['id'],_0x343282=await units[_0xcce0aa(0xf2)](_0x47f19c);if(_0x259195[0x0][_0xcce0aa(0xf7)]==_0xcce0aa(0x150))var _0x1a4a60=users[_0xcce0aa(0x129)];else{if(_0x259195[0x0]['language']=='Hindi')var _0x1a4a60=users[_0xcce0aa(0x144)];else{if(_0x259195[0x0]['language']==_0xcce0aa(0x138))var _0x1a4a60=users[_0xcce0aa(0x138)];else{if(_0x259195[0x0][_0xcce0aa(0xf7)]==_0xcce0aa(0x17a))var _0x1a4a60=users['Spanish'];else{if(_0x259195[0x0]['language']==_0xcce0aa(0x17d))var _0x1a4a60=users[_0xcce0aa(0x17d)];else{if(_0x259195[0x0][_0xcce0aa(0xf7)]==_0xcce0aa(0x16f))var _0x1a4a60=users[_0xcce0aa(0xd1)];else{if(_0x259195[0x0]['language']==_0xcce0aa(0xef))var _0x1a4a60=users['Chinese'];else{if(_0x259195[0x0][_0xcce0aa(0xf7)]==_0xcce0aa(0x121))var _0x1a4a60=users[_0xcce0aa(0x115)];}}}}}}}_0x7b48cb[_0xcce0aa(0x13f)](_0xcce0aa(0xc7),{'success':_0x2b5545[_0xcce0aa(0x120)](_0xcce0aa(0x174)),'errors':_0x2b5545[_0xcce0aa(0x120)](_0xcce0aa(0x112)),'role':_0x241ebe,'profile':_0x5d2b13,'master_shop':_0x259195,'user':_0x343282,'language':_0x1a4a60});}catch(_0x3dee63){console[_0xcce0aa(0x125)](_0x3dee63);}}),router['post'](a0_0x29dc92(0x155),auth,async(_0x4424af,_0x3038f4)=>{const _0x15be11=a0_0x29dc92;try{const _0x551f30=_0x4424af['params']['id'],_0x1a8466=await units[_0x15be11(0x13e)](_0x551f30,_0x4424af[_0x15be11(0xff)]);_0x4424af['flash'](_0x15be11(0x174),'unit\x20data\x20update\x20successfully'),_0x3038f4[_0x15be11(0x128)](_0x15be11(0xf5));}catch(_0x30a8c1){console['log'](_0x30a8c1);}}),router[a0_0x29dc92(0xd5)](a0_0x29dc92(0x12a),auth,async(_0x4b6428,_0x7058b8)=>{const _0x174d27=a0_0x29dc92;try{const _0xe39eea=_0x4b6428[_0x174d27(0x133)]['id'],_0x26caf3=await units[_0x174d27(0x126)](_0xe39eea);_0x4b6428[_0x174d27(0x120)]('success',_0x174d27(0x123)),_0x7058b8[_0x174d27(0x128)]('/products/units');}catch(_0x5ba5c4){console[_0x174d27(0x125)](_0x5ba5c4);}});const storage=multer[a0_0x29dc92(0x136)]({'destination':(_0x5abe89,_0x590ccb,_0x5278a2)=>{const _0x43c463=a0_0x29dc92;_0x5278a2(null,_0x43c463(0x170));},'filename':(_0x5552e,_0x2fdd4e,_0x195114)=>{const _0x59611f=a0_0x29dc92;_0x195114(null,Date['now']()+_0x2fdd4e[_0x59611f(0x154)]);}}),upload=multer({'storage':storage});function a0_0x196d(){const _0x5a3e9e=['/units/:id','/print_barcode','message','Product_Code','bind','master','Workbook','numeric','Products_category','secondary_code','ProductCode','express/lib/response','post','/brands/:id','add_product','brands','/view/:id','PUnits','toString','/print_barcode_filter/','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','categ','$product_name','336fQlxiM','alertquantity','width','Portuguese\x20(BR)','public/upload','Router','maxStocks','categories\x20data\x20delete\x20successfully','success','Finished\x20Goods','/products_import_migrate_file','user','20GecrAd','utils','Spanish','$category','_id','French','/units','/products/brands','Raw\x20Materials','Content-Type','multer','Primary_Code','exceljs','Products\x20find_data','columns','brand\x20data\x20delete\x20successfully','$product_details','$product_docs','units','Products','now','categories_edit','PCat','product_barcode_products','10191348izKdFY','primary_code','/barcode_filter','$brand','Portuguese','PBrands','Sheets','stock','get','../models/all_models','email','save','warehouse','$product_details.product_stock','image','/products/categories','Alert_QTY','Products\x20master','json','/products/view','Products\x20warehouse_data','data','edit_product','product_category','edit\x20Product\x20master','concat','addWorksheet','\x20<>\x20','brand','2FSUxXy','202370pKRwfK','2103852RsfrQq','setHeader','Secondary_Code','Chinese','Units','express','findById','height','categories','/products/units','$product_details.product_name','language','brand\x20data\x20update\x20successfully','aggregate','PAlQty','$product_stock','/view/add_products','public/Migration','barcode\x20Product\x20master','body','xlsx','category','$_id','/view','/select_data','Product_Name','/categories/:id','min','/print_barcode_filter_search/','/print_barcode_single/:id','/products_export_migrate_file','Category','CODE128','max_number_per_units','products','length','product_code','name','errors','toBuffer','/categories','Arabic','/barcode/:id','public/Migration/','filename','\x20brand\x20is\x20add\x20successfully','base64','product_barcode','PName','Secondary_Units','\x20categories\x20is\x20add\x20successfully','findOne','flash','Arabic\x20(ae)','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','unit\x20data\x20delete\x20successfully','send','log','findByIdAndDelete','addPage','redirect','English','/units/delete/:id','file','Enabled','../public/language/languages.json','/categories/delete/:id','2332752coeYxc','prod_categ','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','MaxperUnits','params','SheetNames','product_docs','diskStorage','101948wKDvHK','German','product\x20edit','end','\x20added\x20successfully','\x20Edit\x20Successfully','Prod_Cat','findByIdAndUpdate','render','4748688dBvwsC','jsbarcode','write','status','Hindi','Brands','single','13269ARMYKS','exports','find','sku','/brands','/brands/delete/:id','Maximum_Stocks','unit','defaultProduct.avif','English\x20(US)','$secondary_unit','secondary_unit','map','originalname'];a0_0x196d=function(){return _0x5a3e9e;};return a0_0x196d();}router[a0_0x29dc92(0xd5)](a0_0x29dc92(0x103),auth,async(_0xdee48b,_0x1adc35)=>{const _0x26a873=a0_0x29dc92;try{const {username:_0x5f447b,email:_0x541788,role:_0x2dd5cc}=_0xdee48b[_0x26a873(0x177)],_0x582f8e=_0xdee48b['user'],_0x190593=await profile[_0x26a873(0x11f)]({'email':_0x582f8e[_0x26a873(0xd7)]}),_0x19d85a={'year':_0x26a873(0x15c),'month':'long','day':'numeric'},_0x156f65=await master_shop[_0x26a873(0x149)]();console['log'](_0x26a873(0xde),_0x156f65);const _0x499c1c=await product['find']();console[_0x26a873(0x125)](_0x26a873(0x185),_0x499c1c);const _0x5cab14=await warehouse[_0x26a873(0xf9)]([{'$unwind':_0x26a873(0xc5)},{'$lookup':{'from':_0x26a873(0x10e),'localField':'product_details.product_name','foreignField':_0x26a873(0x111),'as':_0x26a873(0x135)}},{'$unwind':_0x26a873(0xc6)},{'$project':{'product_name':_0x26a873(0xf6),'product_stock':_0x26a873(0xda)}},{'$group':{'_id':_0x26a873(0x16b),'product_stock':{'$sum':_0x26a873(0xfb)}}}]);console[_0x26a873(0x125)](_0x26a873(0xe1),_0x5cab14),_0x5cab14['forEach'](_0x5b89e1=>{const _0xd8163d=_0x26a873,_0x4b8012=_0x499c1c[_0xd8163d(0x153)](_0x2d248f=>{const _0x3a2fd0=_0xd8163d;_0x2d248f[_0x3a2fd0(0x111)]==_0x5b89e1[_0x3a2fd0(0x17c)]&&(_0x2d248f[_0x3a2fd0(0xd4)]=parseInt(_0x2d248f['stock'])+parseInt(_0x5b89e1['product_stock']));});}),console['log'](_0x26a873(0x185),_0x499c1c);if(_0x156f65[0x0]['language']=='English\x20(US)')var _0x1abfd3=users['English'];else{if(_0x156f65[0x0][_0x26a873(0xf7)]==_0x26a873(0x144))var _0x1abfd3=users[_0x26a873(0x144)];else{if(_0x156f65[0x0][_0x26a873(0xf7)]==_0x26a873(0x138))var _0x1abfd3=users['German'];else{if(_0x156f65[0x0][_0x26a873(0xf7)]=='Spanish')var _0x1abfd3=users[_0x26a873(0x17a)];else{if(_0x156f65[0x0][_0x26a873(0xf7)]==_0x26a873(0x17d))var _0x1abfd3=users['French'];else{if(_0x156f65[0x0][_0x26a873(0xf7)]==_0x26a873(0x16f))var _0x1abfd3=users[_0x26a873(0xd1)];else{if(_0x156f65[0x0][_0x26a873(0xf7)]==_0x26a873(0xef))var _0x1abfd3=users[_0x26a873(0xef)];else{if(_0x156f65[0x0]['language']=='Arabic\x20(ae)')var _0x1abfd3=users[_0x26a873(0x115)];}}}}}}}_0x1adc35['render'](_0x26a873(0x10e),{'success':_0xdee48b['flash'](_0x26a873(0x174)),'errors':_0xdee48b[_0x26a873(0x120)](_0x26a873(0x112)),'alldata':_0x499c1c,'profile':_0x190593,'master_shop':_0x156f65,'role':_0x582f8e,'product_stock':_0x5cab14,'language':_0x1abfd3});}catch(_0x531c76){console[_0x26a873(0x125)](_0x531c76);}}),router[a0_0x29dc92(0xd5)](a0_0x29dc92(0xfc),auth,async(_0x4ccded,_0x159b76)=>{const _0x194b60=a0_0x29dc92;try{const {username:_0x21cc8e,email:_0x20e620,role:_0x1b2181}=_0x4ccded[_0x194b60(0x177)],_0x49644b=_0x4ccded['user'],_0x196413=await profile['findOne']({'email':_0x49644b[_0x194b60(0xd7)]}),_0x496366=await master_shop['find']();console[_0x194b60(0x125)](_0x194b60(0x15a),_0x496366);const _0x1c8d3d=await categories['find']({}),_0x1ade45=await brands['find']({}),_0x369c07=await units[_0x194b60(0x149)]({}),_0x4d477d=await warehouse[_0x194b60(0x149)]({'status':_0x194b60(0x12c)});if(_0x496366[0x0][_0x194b60(0xf7)]==_0x194b60(0x150))var _0x90e28c=users[_0x194b60(0x129)];else{if(_0x496366[0x0][_0x194b60(0xf7)]==_0x194b60(0x144))var _0x90e28c=users[_0x194b60(0x144)];else{if(_0x496366[0x0][_0x194b60(0xf7)]==_0x194b60(0x138))var _0x90e28c=users[_0x194b60(0x138)];else{if(_0x496366[0x0]['language']==_0x194b60(0x17a))var _0x90e28c=users[_0x194b60(0x17a)];else{if(_0x496366[0x0]['language']=='French')var _0x90e28c=users[_0x194b60(0x17d)];else{if(_0x496366[0x0]['language']==_0x194b60(0x16f))var _0x90e28c=users[_0x194b60(0xd1)];else{if(_0x496366[0x0]['language']==_0x194b60(0xef))var _0x90e28c=users[_0x194b60(0xef)];else{if(_0x496366[0x0]['language']==_0x194b60(0x121))var _0x90e28c=users[_0x194b60(0x115)];}}}}}}}_0x159b76[_0x194b60(0x13f)](_0x194b60(0x163),{'success':_0x4ccded['flash']('success'),'errors':_0x4ccded['flash'](_0x194b60(0x112)),'role':_0x49644b,'profile':_0x196413,'categories':_0x1c8d3d,'brands':_0x1ade45,'master_shop':_0x496366,'units':_0x369c07,'language':_0x90e28c,'find_data':_0x4d477d});}catch(_0x29d36a){console[_0x194b60(0x125)](_0x29d36a);}}),router['post'](a0_0x29dc92(0xfc),auth,upload[a0_0x29dc92(0x146)](a0_0x29dc92(0xdb)),async(_0x56aff0,_0xf72706)=>{const _0x3a4e96=a0_0x29dc92;try{const {name:_0x37935b,category:_0x35a378,brand:_0x1cf3f0,unit:_0x372b80,alertquantity:_0x3c38e5,stock:_0x1a861f,product_code:_0x3b2ecc,warehouse:_0x58f582,primary_ItemCode:_0x28f608,second_ItemCode:_0x3ba7bb,second_unit:_0x71ffef,maxPerUnit:_0x438bc2,MaxPerProduct:_0x295e8f}=_0x56aff0[_0x3a4e96(0xff)],_0x42c191=_0x56aff0['file']?.['filename']||_0x3a4e96(0x14f),_0x1680f7=new product({'image':_0x42c191,'name':_0x37935b,'category':_0x35a378,'brand':_0x1cf3f0,'unit':_0x372b80,'alertquantity':_0x3c38e5,'stock':_0x1a861f,'product_code':_0x3b2ecc,'warehouse':_0x58f582,'primary_code':_0x28f608,'secondary_code':_0x3ba7bb,'second_unit':_0x71ffef,'maxStocks':_0x295e8f,'maxProdPerUnit':_0x438bc2}),_0x556bb1=await _0x1680f7[_0x3a4e96(0xd8)](),_0x54016d=await categories['findOne']({'name':_0x35a378});_0x54016d[_0x3a4e96(0x10e)]=parseInt(_0x54016d[_0x3a4e96(0x10e)])+0x1,await _0x54016d[_0x3a4e96(0xd8)]();const _0x768d85=await brands[_0x3a4e96(0x11f)]({'name':_0x1cf3f0});_0x768d85[_0x3a4e96(0x10e)]=parseInt(_0x768d85['products'])+0x1,await _0x768d85[_0x3a4e96(0xd8)]();const _0x4fe7a2=await units[_0x3a4e96(0x11f)]({'name':_0x372b80});_0x4fe7a2[_0x3a4e96(0x10e)]=parseInt(_0x4fe7a2['products'])+0x1,await _0x4fe7a2[_0x3a4e96(0xd8)](),_0x56aff0['flash'](_0x3a4e96(0x174),'product\x20add\x20successfully'),_0xf72706['redirect'](_0x3a4e96(0xe0));}catch(_0x258da8){console[_0x3a4e96(0x125)](_0x258da8);}}),router[a0_0x29dc92(0xd5)](a0_0x29dc92(0x165),auth,async(_0x16e80c,_0x579509)=>{const _0x2ccce5=a0_0x29dc92;try{const {username:_0x206e7a,email:_0x40f043,role:_0x2d2407}=_0x16e80c[_0x2ccce5(0x177)],_0x3651d7=_0x16e80c['user'],_0x436b63=await profile['findOne']({'email':_0x3651d7[_0x2ccce5(0xd7)]}),_0x1340c6=await master_shop[_0x2ccce5(0x149)]();console[_0x2ccce5(0x125)](_0x2ccce5(0xe5),_0x1340c6);const _0x26c597=_0x16e80c[_0x2ccce5(0x133)]['id'],_0x3159fb=await product[_0x2ccce5(0xf2)](_0x26c597),_0x1a8d5a=await categories['find']({}),_0x41e5c9=await brands[_0x2ccce5(0x149)]({}),_0xb7ac58=await units[_0x2ccce5(0x149)]({}),_0x24e2ff=await warehouse[_0x2ccce5(0x149)]({'status':_0x2ccce5(0x12c)}),_0x4a2529=await units[_0x2ccce5(0xf9)]([{'$group':{'_id':_0x2ccce5(0x102),'secondaryunit':{'$first':_0x2ccce5(0x151)}}}]);if(_0x1340c6[0x0][_0x2ccce5(0xf7)]==_0x2ccce5(0x150))var _0x530840=users[_0x2ccce5(0x129)];else{if(_0x1340c6[0x0][_0x2ccce5(0xf7)]=='Hindi')var _0x530840=users['Hindi'];else{if(_0x1340c6[0x0]['language']==_0x2ccce5(0x138))var _0x530840=users['German'];else{if(_0x1340c6[0x0][_0x2ccce5(0xf7)]==_0x2ccce5(0x17a))var _0x530840=users[_0x2ccce5(0x17a)];else{if(_0x1340c6[0x0]['language']==_0x2ccce5(0x17d))var _0x530840=users[_0x2ccce5(0x17d)];else{if(_0x1340c6[0x0]['language']==_0x2ccce5(0x16f))var _0x530840=users['Portuguese'];else{if(_0x1340c6[0x0][_0x2ccce5(0xf7)]==_0x2ccce5(0xef))var _0x530840=users['Chinese'];else{if(_0x1340c6[0x0][_0x2ccce5(0xf7)]=='Arabic\x20(ae)')var _0x530840=users['Arabic'];}}}}}}}_0x579509['render'](_0x2ccce5(0xe3),{'success':_0x16e80c['flash'](_0x2ccce5(0x174)),'errors':_0x16e80c[_0x2ccce5(0x120)](_0x2ccce5(0x112)),'role':_0x3651d7,'profile':_0x436b63,'alldata':_0x3159fb,'categories':_0x1a8d5a,'brands':_0x41e5c9,'master_shop':_0x1340c6,'units':_0xb7ac58,'secondunit':_0x4a2529,'find_data':_0x24e2ff,'language':_0x530840});}catch(_0x41d8f2){console['log'](_0x41d8f2);}}),router[a0_0x29dc92(0x161)]('/view/:id',auth,upload[a0_0x29dc92(0x146)]('image'),async(_0x5d9d83,_0x27ad41)=>{const _0x18f21c=a0_0x29dc92;try{console[_0x18f21c(0x125)]('hello');const _0x4c64c0=_0x5d9d83[_0x18f21c(0x133)]['id'],_0x1fc319=await product[_0x18f21c(0xf2)](_0x4c64c0),{image:_0x5a1c83,name:_0x5d2688,category:_0x32bf1f,brand:_0x5ccd6c,sku:_0x59acb8,unit:_0x3536f6,alertquantity:_0x2dc9f2,product_code:_0x1f7d88,warehouse:_0xdbe8a6,primary_ItemCode:_0x2a76cf,second_ItemCode:_0x1a02c1,second_unit:_0x148277,maxPerUnit:_0x3e7abf,MaxPerProduct:_0x301c41,prod_catdata:_0x489a82}=_0x5d9d83[_0x18f21c(0xff)];_0x5d9d83[_0x18f21c(0x12b)]&&(_0x1fc319[_0x18f21c(0xdb)]=_0x5d9d83['file'][_0x18f21c(0x118)]);_0x1fc319[_0x18f21c(0x111)]=_0x5d2688,_0x1fc319[_0x18f21c(0x101)]=_0x32bf1f,_0x1fc319[_0x18f21c(0xe9)]=_0x5ccd6c,_0x1fc319[_0x18f21c(0x14a)]=_0x59acb8,_0x1fc319[_0x18f21c(0x14e)]=_0x3536f6,_0x1fc319['alertquantity']=_0x2dc9f2,_0x1fc319[_0x18f21c(0x110)]=_0x1f7d88,_0x1fc319[_0x18f21c(0xd9)]=_0xdbe8a6,_0x1fc319[_0x18f21c(0xce)]=_0x2a76cf,_0x1fc319[_0x18f21c(0x15e)]=_0x1a02c1,_0x1fc319[_0x18f21c(0x152)]=_0x148277,_0x1fc319[_0x18f21c(0x172)]=_0x301c41,_0x1fc319['maxProdPerUnit']=_0x3e7abf,_0x1fc319['product_category']=_0x489a82;const _0x5764fb=await _0x1fc319[_0x18f21c(0xd8)]();console['log'](_0x18f21c(0x139),_0x1fc319),_0x5d9d83[_0x18f21c(0x120)](_0x18f21c(0x174),'product\x20update\x20successfully'),_0x27ad41[_0x18f21c(0x128)](_0x18f21c(0xe0));}catch(_0x2d49a0){console[_0x18f21c(0x125)](_0x2d49a0);}}),router[a0_0x29dc92(0xd5)](a0_0x29dc92(0x116),auth,async(_0x2484e1,_0x40026b)=>{const _0xd78fea=a0_0x29dc92;try{const {username:_0x1acf2f,email:_0x403ff6,role:_0xff6648}=_0x2484e1[_0xd78fea(0x177)],_0x486c06=_0x2484e1[_0xd78fea(0x177)],_0x177648=await profile[_0xd78fea(0x11f)]({'email':_0x486c06[_0xd78fea(0xd7)]}),_0x15d959=await master_shop['find']();console[_0xd78fea(0x125)](_0xd78fea(0xfe),_0x15d959);const _0x39ca94=_0x2484e1[_0xd78fea(0x133)]['id'],_0xbb7108=await product['findById'](_0x39ca94);console[_0xd78fea(0x125)]('barcode\x20user_id',_0xbb7108);if(_0x15d959[0x0]['language']==_0xd78fea(0x150))var _0x4b1178=users[_0xd78fea(0x129)];else{if(_0x15d959[0x0][_0xd78fea(0xf7)]==_0xd78fea(0x144))var _0x4b1178=users['Hindi'];else{if(_0x15d959[0x0][_0xd78fea(0xf7)]==_0xd78fea(0x138))var _0x4b1178=users[_0xd78fea(0x138)];else{if(_0x15d959[0x0][_0xd78fea(0xf7)]=='Spanish')var _0x4b1178=users[_0xd78fea(0x17a)];else{if(_0x15d959[0x0]['language']==_0xd78fea(0x17d))var _0x4b1178=users[_0xd78fea(0x17d)];else{if(_0x15d959[0x0]['language']==_0xd78fea(0x16f))var _0x4b1178=users[_0xd78fea(0xd1)];else{if(_0x15d959[0x0][_0xd78fea(0xf7)]=='Chinese')var _0x4b1178=users[_0xd78fea(0xef)];else{if(_0x15d959[0x0]['language']=='Arabic\x20(ae)')var _0x4b1178=users['Arabic'];}}}}}}}_0x40026b[_0xd78fea(0x13f)](_0xd78fea(0x11b),{'success':_0x2484e1['flash']('success'),'errors':_0x2484e1['flash'](_0xd78fea(0x112)),'role':_0x486c06,'profile':_0x177648,'alldata':_0xbb7108,'master_shop':_0x15d959,'language':_0x4b1178});}catch(_0x12345e){console[_0xd78fea(0x125)](_0x12345e);}}),router[a0_0x29dc92(0xd5)](a0_0x29dc92(0x10a),auth,async(_0x363294,_0x3d94f5)=>{const _0x2a977f=a0_0x29dc92;try{const _0x20a388=new excelJS[(_0x2a977f(0x15b))](),_0x28e060=_0x20a388[_0x2a977f(0xe7)](_0x2a977f(0xc8));return _0x28e060[_0x2a977f(0xc3)]=[{'header':_0x2a977f(0x105),'key':_0x2a977f(0x11c),'width':0xa},{'header':'Brands','key':_0x2a977f(0xd2),'width':0xa},{'header':_0x2a977f(0xf0),'key':_0x2a977f(0x166),'width':0xa},{'header':_0x2a977f(0x11d),'key':'PSecondaryUnits','width':0xa},{'header':'max_number_per_units','key':_0x2a977f(0x132),'width':0xa},{'header':_0x2a977f(0x183),'key':_0x2a977f(0x15f),'width':0xa},{'header':_0x2a977f(0xee),'key':_0x2a977f(0x15f),'width':0xa},{'header':'Product_Code','key':_0x2a977f(0x15f),'width':0xa},{'header':_0x2a977f(0x10b),'key':_0x2a977f(0xcb),'width':0xa},{'header':_0x2a977f(0xdd),'key':_0x2a977f(0xfa),'width':0xa},{'header':_0x2a977f(0x14d),'key':_0x2a977f(0xfa),'width':0xa},{'header':_0x2a977f(0x15d),'key':_0x2a977f(0x13d),'width':0xa}],_0x3d94f5['setHeader'](_0x2a977f(0x181),_0x2a977f(0x131)),_0x3d94f5[_0x2a977f(0xed)]('Content-Disposition','attachment;\x20filename=Product_Migration_File.xlsx'),_0x20a388[_0x2a977f(0x100)][_0x2a977f(0x142)](_0x3d94f5)['then'](()=>{const _0x1c48c9=_0x2a977f;_0x3d94f5[_0x1c48c9(0x143)](0xc8);});}catch(_0x1638e2){_0x3d94f5['status'](0x190)[_0x2a977f(0x124)](_0x1638e2);}});const storage1=multer[a0_0x29dc92(0x136)]({'destination':(_0x259f87,_0x3c448f,_0x1700d9)=>{const _0x37bae7=a0_0x29dc92;_0x1700d9(null,_0x37bae7(0xfd));},'filename':(_0x29c673,_0x15ba96,_0x118dfd)=>{const _0x511de9=a0_0x29dc92;_0x118dfd(null,Date[_0x511de9(0xc9)]()+_0x15ba96[_0x511de9(0x154)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x29dc92(0x161)](a0_0x29dc92(0x176),auth,uploadMigrate[a0_0x29dc92(0x146)]('migrate_product_fule'),async(_0x251530,_0x427b0b)=>{const _0x2680c9=a0_0x29dc92,_0x43ff13=_0x251530[_0x2680c9(0x12b)]['filename'],_0xc1e76d=await xlsx['readFile'](_0x2680c9(0x117)+_0x43ff13);let _0x5cd426=_0xc1e76d[_0x2680c9(0x134)],_0x11092a=xlsx[_0x2680c9(0x179)]['sheet_to_json'](_0xc1e76d[_0x2680c9(0xd3)][_0x5cd426[0x0]]);for(const _0x4aab1f of _0x11092a){const _0x4c71b2=_0x4aab1f[_0x2680c9(0x105)],_0x41716f=_0x4aab1f['Brands'],_0x4c983c=_0x4aab1f[_0x2680c9(0xf0)],_0x49cf25=_0x4aab1f[_0x2680c9(0x11d)],_0x42d1af=_0x4aab1f[_0x2680c9(0x158)],_0x28ce23=_0x4aab1f[_0x2680c9(0x10b)],_0x5a1f3c=_0x4aab1f[_0x2680c9(0xdd)],_0x49ad31=_0x4aab1f[_0x2680c9(0x183)],_0x37c8ba=_0x4aab1f['Secondary_Code'],_0x131649=_0x4aab1f[_0x2680c9(0x14d)],_0x50e8cd=_0x4aab1f[_0x2680c9(0x10d)],_0x4c612f=_0x4aab1f[_0x2680c9(0x15d)];try{let _0x33a849=await categories[_0x2680c9(0x11f)]({'name':_0x28ce23});if(!_0x33a849){const _0xdceb82=new categories({'name':_0x28ce23,'products':'0'});_0x33a849=await _0xdceb82[_0x2680c9(0xd8)]();}let _0x4e2a16=await brands['findOne']({'name':_0x41716f});if(!_0x4e2a16){const _0x410145=new brands({'name':_0x41716f,'products':'0'});_0x4e2a16=await _0x410145[_0x2680c9(0xd8)]();}let _0x156f9b=await units[_0x2680c9(0x11f)]({'name':_0x4c983c,'secondary_unit':_0x49cf25});if(!_0x156f9b){const _0x29fcb1=new units({'name':_0x4c983c,'secondary_unit':_0x49cf25,'products':'0'});_0x156f9b=await _0x29fcb1[_0x2680c9(0xd8)]();}const _0x341f87=await product[_0x2680c9(0x149)]({'name':_0x4c71b2,'category':_0x33a849[_0x2680c9(0x111)],'brand':_0x4e2a16[_0x2680c9(0x111)],'secondary_unit':_0x156f9b[_0x2680c9(0x152)],'product_code':_0x42d1af});console[_0x2680c9(0x125)](_0x341f87[_0x2680c9(0x10f)]+'\x20<>\x20'+_0x33a849[_0x2680c9(0x111)]+_0x2680c9(0xe8)+_0x4e2a16[_0x2680c9(0x111)]+'\x20<>\x20'+_0x156f9b[_0x2680c9(0x152)]+_0x2680c9(0xe8)+_0x42d1af+_0x2680c9(0xe8)+_0x4c71b2);if(_0x341f87[_0x2680c9(0x10f)]===0x0){const _0x42f7ea=new product({'image':'defaultProduct.avif','name':_0x4c71b2,'category':_0x33a849[_0x2680c9(0x111)],'brand':_0x4e2a16[_0x2680c9(0x111)],'unit':_0x156f9b[_0x2680c9(0x111)],'alertquantity':_0x5a1f3c,'product_code':_0x42d1af,'secondary_unit':_0x156f9b[_0x2680c9(0x152)],'primary_code':_0x49ad31,'secondary_code':_0x37c8ba,'maxStocks':_0x131649,'maxProdPerUnit':_0x50e8cd,'product_category':_0x4c612f}),_0x31297d=await _0x42f7ea['save']();_0x33a849['products']=parseInt(_0x33a849[_0x2680c9(0x10e)])+0x1,await _0x33a849['save'](),_0x4e2a16['products']=parseInt(_0x4e2a16[_0x2680c9(0x10e)])+0x1,await _0x4e2a16[_0x2680c9(0xd8)](),_0x156f9b[_0x2680c9(0x10e)]=parseInt(_0x156f9b[_0x2680c9(0x10e)])+0x1,await _0x156f9b[_0x2680c9(0xd8)](),_0x251530[_0x2680c9(0x120)](_0x2680c9(0x174),_0x4c71b2+_0x2680c9(0x13b));}else{console['log'](_0x341f87[0x0]);const _0xcf1411=_0x341f87[0x0];_0xcf1411[_0x2680c9(0x101)]=_0x33a849['name'],_0xcf1411['brand']=_0x4e2a16[_0x2680c9(0x111)],_0xcf1411[_0x2680c9(0x14e)]=_0x156f9b[_0x2680c9(0x111)],_0xcf1411[_0x2680c9(0x16d)]=_0x5a1f3c,_0xcf1411['product_code']=_0x42d1af,_0xcf1411[_0x2680c9(0x152)]=_0x156f9b['secondary_unit'],_0xcf1411['primary_code']=_0x49ad31,_0xcf1411[_0x2680c9(0x15e)]=_0x37c8ba,_0xcf1411[_0x2680c9(0x172)]=_0x131649,_0xcf1411['maxProdPerUnit']=_0x50e8cd,_0xcf1411[_0x2680c9(0xe4)]=_0x4c612f;const _0x3d5101=await _0xcf1411[_0x2680c9(0xd8)]();_0x251530[_0x2680c9(0x120)](_0x2680c9(0x174),_0x3d5101[_0x2680c9(0x111)]+_0x2680c9(0x13c));}}catch(_0x310950){_0x427b0b[_0x2680c9(0x143)](0x1f4)[_0x2680c9(0xdf)]({'proderror':_0x310950['message'],'aproduct':_0x4c71b2});}}_0x427b0b['redirect'](_0x2680c9(0xe0));}),router[a0_0x29dc92(0x161)](a0_0x29dc92(0x104),auth,async(_0x5e0524,_0x5388b8)=>{const _0x42cf1b=a0_0x29dc92;try{console[_0x42cf1b(0x125)](_0x5e0524[_0x42cf1b(0xff)]);const {data_cateory:_0xb72485,datachoose:_0x5ee215}=_0x5e0524[_0x42cf1b(0xff)];var _0x170b15;if(_0x5ee215==_0x42cf1b(0x130))_0x170b15=await product[_0x42cf1b(0xf9)]([{'$group':{'_id':'$product_category'}}]);else{if(_0x5ee215==_0x42cf1b(0x164))_0x170b15=await product['aggregate']([{'$match':{'product_category':_0xb72485}},{'$group':{'_id':_0x42cf1b(0xd0)}}]);else _0x5ee215==_0x42cf1b(0x16a)&&(_0x170b15=await product['aggregate']([{'$match':{'product_category':_0xb72485}},{'$group':{'_id':'$category'}}]));}_0x5388b8[_0x42cf1b(0xdf)](_0x170b15);}catch(_0x492840){_0x5388b8[_0x42cf1b(0xdf)]({'message':_0x492840[_0x42cf1b(0x157)]});}}),router[a0_0x29dc92(0x161)]('/filter_product',auth,async(_0x12ee35,_0x34e3b5)=>{const _0x37dc64=a0_0x29dc92;try{const {data_choosing:_0x59c541,data_selected:_0x13241e}=_0x12ee35[_0x37dc64(0xff)];var _0x57c172;if(_0x59c541==_0x37dc64(0x130))_0x57c172=await product[_0x37dc64(0xf9)]([{'$match':{'product_category':_0x13241e}}]);else{if(_0x59c541==_0x37dc64(0x164))_0x57c172=await product[_0x37dc64(0xf9)]([{'$match':{'brand':_0x13241e}}]);else _0x59c541=='categ'&&(_0x57c172=await product[_0x37dc64(0xf9)]([{'$match':{'category':_0x13241e}}]));}_0x34e3b5[_0x37dc64(0xdf)](_0x57c172);}catch(_0x3f2b17){_0x34e3b5[_0x37dc64(0xdf)]({'message':_0x3f2b17[_0x37dc64(0x157)]});}}),router[a0_0x29dc92(0xd5)](a0_0x29dc92(0x156),auth,async(_0x10bc85,_0x5a2af1)=>{const _0x17121d=a0_0x29dc92,_0x14df7b=_0x10bc85['user'],_0x37b2c0=await profile[_0x17121d(0x11f)]({'email':_0x14df7b[_0x17121d(0xd7)]}),_0x3dd628=await master_shop[_0x17121d(0x149)](),_0x52b730=await product[_0x17121d(0x149)]();if(_0x3dd628[0x0][_0x17121d(0xf7)]=='English\x20(US)')var _0x341962=users[_0x17121d(0x129)];else{if(_0x3dd628[0x0][_0x17121d(0xf7)]==_0x17121d(0x144))var _0x341962=users['Hindi'];else{if(_0x3dd628[0x0][_0x17121d(0xf7)]==_0x17121d(0x138))var _0x341962=users[_0x17121d(0x138)];else{if(_0x3dd628[0x0][_0x17121d(0xf7)]==_0x17121d(0x17a))var _0x341962=users[_0x17121d(0x17a)];else{if(_0x3dd628[0x0][_0x17121d(0xf7)]==_0x17121d(0x17d))var _0x341962=users[_0x17121d(0x17d)];else{if(_0x3dd628[0x0]['language']=='Portuguese\x20(BR)')var _0x341962=users[_0x17121d(0xd1)];else{if(_0x3dd628[0x0][_0x17121d(0xf7)]==_0x17121d(0xef))var _0x341962=users['Chinese'];else{if(_0x3dd628[0x0][_0x17121d(0xf7)]==_0x17121d(0x121))var _0x341962=users[_0x17121d(0x115)];}}}}}}}_0x5a2af1[_0x17121d(0x13f)](_0x17121d(0xcc),{'success':_0x10bc85['flash'](_0x17121d(0x174)),'errors':_0x10bc85[_0x17121d(0x120)](_0x17121d(0x112)),'role':_0x14df7b,'profile':_0x37b2c0,'products':_0x52b730,'master_shop':_0x3dd628,'language':_0x341962});}),router[a0_0x29dc92(0x161)]('/barcode_data',auth,async(_0x3bed2b,_0x1d2b5b)=>{const _0x156141=a0_0x29dc92,_0x582d4a=await product[_0x156141(0x149)]();_0x1d2b5b['json']({'data':_0x582d4a});}),router[a0_0x29dc92(0x161)](a0_0x29dc92(0xcf),auth,async(_0x50a4ad,_0x5e35a6)=>{const _0x29dba4=a0_0x29dc92;try{const {dataProdCat:_0xd026f8,dataProdIdentity:_0x40cf03}=_0x50a4ad[_0x29dba4(0xff)];var _0x3990bd;switch(_0xd026f8){case'fg':switch(_0x40cf03){case _0x29dba4(0x145):_0x3990bd=await product[_0x29dba4(0xf9)]([{'$match':{'product_category':'Finished\x20Goods'}},{'$group':{'_id':_0x29dba4(0xd0)}},{'$project':{'brand':_0x29dba4(0x102)}}]);break;case _0x29dba4(0x10b):_0x3990bd=await product[_0x29dba4(0xf9)]([{'$match':{'product_category':_0x29dba4(0x175)}},{'$group':{'_id':_0x29dba4(0x17b)}},{'$project':{'category':_0x29dba4(0x102)}}]);break;}break;case'rm':switch(_0x40cf03){case _0x29dba4(0x145):_0x3990bd=await product[_0x29dba4(0xf9)]([{'$match':{'product_category':_0x29dba4(0x180)}},{'$group':{'_id':_0x29dba4(0xd0)}},{'$project':{'brand':_0x29dba4(0x102)}}]);break;case'Category':_0x3990bd=await product[_0x29dba4(0xf9)]([{'$match':{'product_category':_0x29dba4(0x180)}},{'$group':{'_id':'$category'}},{'$project':{'category':_0x29dba4(0x102)}}]);break;}break;}_0x5e35a6[_0x29dba4(0xdf)](_0x3990bd);}catch(_0x289373){_0x5e35a6['json']({'message':_0x289373['message']});}}),router[a0_0x29dc92(0x161)](a0_0x29dc92(0x168),auth,async(_0x29c462,_0x33637c)=>{const _0x2967ea=a0_0x29dc92;try{console[_0x2967ea(0x125)](_0x29c462[_0x2967ea(0xff)]);const {prod_cat:_0x71a84d,identity:_0x4e50e2,valueData:_0x7211f7,typeofbarcode:_0x4fcad}=_0x29c462[_0x2967ea(0xff)];let _0x4ccd24;switch(_0x71a84d){case'fg':if(_0x4e50e2==_0x2967ea(0x145))_0x4ccd24=await product[_0x2967ea(0xf9)]([{'$match':{'product_category':'Finished\x20Goods','brand':_0x7211f7}}]);else _0x4e50e2==_0x2967ea(0x10b)&&(_0x4ccd24=await product[_0x2967ea(0xf9)]([{'$match':{'product_category':_0x2967ea(0x175),'category':_0x7211f7}}]));break;case'rm':if(_0x4e50e2==_0x2967ea(0x145))_0x4ccd24=await product[_0x2967ea(0xf9)]([{'$match':{'product_category':_0x2967ea(0x180),'brand':_0x7211f7}}]);else _0x4e50e2==_0x2967ea(0x10b)&&(_0x4ccd24=await product[_0x2967ea(0xf9)]([{'$match':{'product_category':'Raw\x20Materials','category':_0x7211f7}}]));break;}const _0x4038f1=_0x1b39b4=>_0x1b39b4*0x48,_0x26fa61={'width':0x3,'height':0x1},_0x1fdbf7=new PDFDocument({'margin':_0x4038f1(0.75),'size':[_0x4038f1(_0x26fa61['width']),_0x4038f1(_0x26fa61[_0x2967ea(0xf3)])],'bufferPages':!![]}),_0x373afd=_0x4ccd24[_0x2967ea(0x10f)];for(let _0x2b0d5a=0x0;_0x2b0d5a<=_0x373afd;_0x2b0d5a++){if(_0x2b0d5a!=_0x373afd){const _0x5a3667=_0x4ccd24[_0x2b0d5a]['name'],_0x13fa75=_0x4ccd24[_0x2b0d5a][_0x2967ea(0xce)],_0x4cc167=_0x4ccd24[_0x2b0d5a]['secondary_code'],_0x3b2fe4=_0x4ccd24[_0x2b0d5a][_0x2967ea(0x110)];var _0x4ed1f5;switch(_0x4fcad){case'1':_0x4ed1f5=_0x13fa75;break;case'2':_0x4ed1f5=_0x4cc167;break;case'3':_0x4ed1f5=_0x3b2fe4;break;}const _0x1c8c7b={'width':0xd2,'height':0x64},_0x4d726e={'width':_0x4038f1(_0x26fa61[_0x2967ea(0x16e)]),'height':_0x4038f1(_0x26fa61[_0x2967ea(0xf3)])},_0x424d34=new Canvas();JsBarcode(_0x424d34,_0x4ed1f5,{'format':_0x2967ea(0x10c),'height':_0x1c8c7b['height'],'displayValue':!![],'text':_0x4ed1f5});const _0x45da2f=_0x424d34[_0x2967ea(0x113)](),_0xc3659f=_0x4d726e[_0x2967ea(0x16e)]/_0x1c8c7b[_0x2967ea(0x16e)],_0x1453c7=_0x4d726e[_0x2967ea(0xf3)]/_0x1c8c7b[_0x2967ea(0xf3)],_0x497319=Math[_0x2967ea(0x107)](_0xc3659f,_0x1453c7),_0x11a04a=_0x1c8c7b[_0x2967ea(0x16e)]*_0x497319,_0x46cab1=_0x1c8c7b[_0x2967ea(0xf3)]*_0x497319,_0x1698e0=(_0x4d726e['width']-_0x11a04a)/0x2,_0x5749d9=(_0x4d726e[_0x2967ea(0xf3)]-_0x46cab1)/0x2;_0x1fdbf7[_0x2967ea(0xdb)](_0x45da2f,_0x1698e0,_0x5749d9,{'width':_0x11a04a,'height':_0x46cab1}),_0x2b0d5a!=_0x373afd&&_0x1fdbf7['addPage']();}}const _0x120856=[];_0x1fdbf7['on'](_0x2967ea(0xe2),_0x120856['push'][_0x2967ea(0x159)](_0x120856)),_0x1fdbf7['on'](_0x2967ea(0x13a),()=>{const _0x5087e9=_0x2967ea,_0x116a7e=Buffer[_0x5087e9(0xe6)](_0x120856),_0x10b298=_0x116a7e[_0x5087e9(0x167)](_0x5087e9(0x11a));_0x33637c[_0x5087e9(0xdf)]({'pdfContent':_0x10b298});}),_0x1fdbf7['end']();}catch(_0x2b9b96){_0x33637c[_0x2967ea(0xdf)]({'message':_0x2b9b96['message']});}}),router['post'](a0_0x29dc92(0x108),auth,async(_0x8f6b5,_0x241123)=>{const _0x17fff8=a0_0x29dc92;try{console[_0x17fff8(0x125)](_0x8f6b5[_0x17fff8(0xff)]);const {prod_cat:_0x17b483,identity:_0x591bae,valueData:_0x50d454}=_0x8f6b5['body'];let _0x1f5453;switch(_0x17b483){case'fg':if(_0x591bae==_0x17fff8(0x145))_0x1f5453=await product[_0x17fff8(0xf9)]([{'$match':{'product_category':_0x17fff8(0x175),'brand':_0x50d454}}]);else _0x591bae=='Category'&&(_0x1f5453=await product[_0x17fff8(0xf9)]([{'$match':{'product_category':_0x17fff8(0x175),'category':_0x50d454}}]));break;case'rm':if(_0x591bae==_0x17fff8(0x145))_0x1f5453=await product[_0x17fff8(0xf9)]([{'$match':{'product_category':_0x17fff8(0x180),'brand':_0x50d454}}]);else _0x591bae==_0x17fff8(0x10b)&&(_0x1f5453=await product[_0x17fff8(0xf9)]([{'$match':{'product_category':_0x17fff8(0x180),'category':_0x50d454}}]));break;}_0x241123[_0x17fff8(0xdf)]({'data':_0x1f5453});}catch(_0x34f0dc){_0x241123[_0x17fff8(0xdf)]({'message':_0x34f0dc[_0x17fff8(0x157)]});}}),router[a0_0x29dc92(0x161)](a0_0x29dc92(0x109),auth,async(_0x127bf0,_0x3559a7)=>{const _0x3faaf3=a0_0x29dc92;try{const _0x58011a=_0x127bf0[_0x3faaf3(0x133)]['id'],{copies:_0x159214,typeofbarcode:_0x541511}=_0x127bf0[_0x3faaf3(0xff)];var _0x2505a4=await product[_0x3faaf3(0xf2)](_0x58011a);const _0x81340d=_0x21974d=>_0x21974d*0x48,_0x5dfd7a={'width':0x3,'height':0x1},_0x556d8e=new PDFDocument({'margin':_0x81340d(0.75),'size':[_0x81340d(_0x5dfd7a['width']),_0x81340d(_0x5dfd7a[_0x3faaf3(0xf3)])],'bufferPages':!![]}),_0x4f6a7c=_0x159214,_0x261abf=_0x2505a4[_0x3faaf3(0x111)],_0x15dd70=_0x2505a4[_0x3faaf3(0xce)],_0x15ca1a=_0x2505a4['secondary_code'],_0x488fed=_0x2505a4[_0x3faaf3(0x110)];let _0x11d1a7;switch(_0x541511){case'1':_0x11d1a7=_0x15dd70;break;case'2':_0x11d1a7=_0x15ca1a;break;case'3':_0x11d1a7=_0x488fed;break;}const _0x38c4b1={'width':0xd2,'height':0x64},_0x1d0a2d={'width':_0x81340d(_0x5dfd7a[_0x3faaf3(0x16e)]),'height':_0x81340d(_0x5dfd7a[_0x3faaf3(0xf3)])};for(let _0x5c21f2=0x1;_0x5c21f2<=_0x4f6a7c;_0x5c21f2++){const _0x501bd5=new Canvas();JsBarcode(_0x501bd5,_0x11d1a7,{'format':_0x3faaf3(0x10c),'height':_0x38c4b1[_0x3faaf3(0xf3)],'displayValue':!![],'text':_0x11d1a7});const _0x17b392=_0x501bd5[_0x3faaf3(0x113)](),_0x3ee53b=_0x1d0a2d['width']/_0x38c4b1['width'],_0x3ee8be=_0x1d0a2d[_0x3faaf3(0xf3)]/_0x38c4b1['height'],_0x1ad99d=Math[_0x3faaf3(0x107)](_0x3ee53b,_0x3ee8be),_0x8197e9=_0x38c4b1[_0x3faaf3(0x16e)]*_0x1ad99d,_0x323ca0=_0x38c4b1['height']*_0x1ad99d,_0x29d3f0=(_0x1d0a2d[_0x3faaf3(0x16e)]-_0x8197e9)/0x2,_0x1bc99d=(_0x1d0a2d[_0x3faaf3(0xf3)]-_0x323ca0)/0x2;_0x556d8e[_0x3faaf3(0xdb)](_0x17b392,_0x29d3f0,_0x1bc99d,{'width':_0x8197e9,'height':_0x323ca0}),_0x5c21f2!=_0x4f6a7c&&_0x556d8e[_0x3faaf3(0x127)]();}const _0x59750b=[];_0x556d8e['on']('data',_0x59750b['push']['bind'](_0x59750b)),_0x556d8e['on'](_0x3faaf3(0x13a),()=>{const _0x63f878=_0x3faaf3,_0x3e22c7=Buffer['concat'](_0x59750b),_0x1b18d5=_0x3e22c7[_0x63f878(0x167)]('base64');_0x3559a7[_0x63f878(0xdf)]({'pdfContent':_0x1b18d5});}),_0x556d8e[_0x3faaf3(0x13a)]();}catch(_0x2d80b6){_0x3559a7[_0x3faaf3(0xdf)]({'message':_0x2d80b6[_0x3faaf3(0x157)]});}}),module[a0_0x29dc92(0x148)]=router;