function a0_0x1378(_0x3ddd82,_0x46b220){const _0x439cd1=a0_0x439c();return a0_0x1378=function(_0x13781f,_0xfd139b){_0x13781f=_0x13781f-0x108;let _0x3f1887=_0x439cd1[_0x13781f];return _0x3f1887;},a0_0x1378(_0x3ddd82,_0x46b220);}const a0_0x792d87=a0_0x1378;(function(_0x3ed6c0,_0x477704){const _0x1eb3bf=a0_0x1378,_0x5274c8=_0x3ed6c0();while(!![]){try{const _0x42624a=-parseInt(_0x1eb3bf(0x18e))/0x1+-parseInt(_0x1eb3bf(0x17b))/0x2*(parseInt(_0x1eb3bf(0x16f))/0x3)+parseInt(_0x1eb3bf(0x125))/0x4*(-parseInt(_0x1eb3bf(0x14c))/0x5)+-parseInt(_0x1eb3bf(0x198))/0x6+-parseInt(_0x1eb3bf(0x15a))/0x7*(-parseInt(_0x1eb3bf(0x1b8))/0x8)+parseInt(_0x1eb3bf(0x1ab))/0x9+-parseInt(_0x1eb3bf(0x1a7))/0xa*(-parseInt(_0x1eb3bf(0x1a0))/0xb);if(_0x42624a===_0x477704)break;else _0x5274c8['push'](_0x5274c8['shift']());}catch(_0x3dcf32){_0x5274c8['push'](_0x5274c8['shift']());}}}(a0_0x439c,0xa5778));const express=require(a0_0x792d87(0x10f)),res=require(a0_0x792d87(0x109)),app=express(),router=express[a0_0x792d87(0x16a)](),multer=require(a0_0x792d87(0x186)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x792d87(0x17d)),auth=require(a0_0x792d87(0x18f)),users=require(a0_0x792d87(0x16c)),excelJS=require('exceljs'),xlsx=require(a0_0x792d87(0x1b0)),JsBarcode=require(a0_0x792d87(0x17c)),{Canvas}=require(a0_0x792d87(0x199)),PDFDocument=require(a0_0x792d87(0x1c6));router['get'](a0_0x792d87(0x118),auth,async(_0x142014,_0x1e14af)=>{const _0x289c6c=a0_0x792d87;try{const {username:_0x35cd2c,email:_0x3be17c,role:_0x202bc5}=_0x142014['user'],_0xd6dccb=_0x142014[_0x289c6c(0x11e)],_0x48f10c=await profile[_0x289c6c(0x10b)]({'email':_0xd6dccb[_0x289c6c(0x1b4)]}),_0x1536f8=await master_shop['find']();console[_0x289c6c(0x115)]('master',_0x1536f8);const _0x58100e=await categories[_0x289c6c(0x11d)]();if(_0x1536f8[0x0]['language']==_0x289c6c(0x1bb))var _0x2ea5ad=users[_0x289c6c(0x1b3)];else{if(_0x1536f8[0x0][_0x289c6c(0x181)]==_0x289c6c(0x12b))var _0x2ea5ad=users[_0x289c6c(0x12b)];else{if(_0x1536f8[0x0]['language']==_0x289c6c(0x11a))var _0x2ea5ad=users[_0x289c6c(0x11a)];else{if(_0x1536f8[0x0][_0x289c6c(0x181)]==_0x289c6c(0x1a4))var _0x2ea5ad=users[_0x289c6c(0x1a4)];else{if(_0x1536f8[0x0][_0x289c6c(0x181)]==_0x289c6c(0x12c))var _0x2ea5ad=users[_0x289c6c(0x12c)];else{if(_0x1536f8[0x0][_0x289c6c(0x181)]==_0x289c6c(0x1ad))var _0x2ea5ad=users[_0x289c6c(0x19c)];else{if(_0x1536f8[0x0][_0x289c6c(0x181)]=='Chinese')var _0x2ea5ad=users[_0x289c6c(0x160)];else{if(_0x1536f8[0x0]['language']==_0x289c6c(0x15d))var _0x2ea5ad=users[_0x289c6c(0x196)];}}}}}}}_0x1e14af[_0x289c6c(0x17e)](_0x289c6c(0x19e),{'success':_0x142014['flash'](_0x289c6c(0x187)),'errors':_0x142014[_0x289c6c(0x13e)](_0x289c6c(0x14b)),'role':_0xd6dccb,'profile':_0x48f10c,'user':_0x58100e,'master_shop':_0x1536f8,'language':_0x2ea5ad});}catch(_0x27e6fe){console[_0x289c6c(0x115)](_0x27e6fe);}}),router[a0_0x792d87(0x11f)](a0_0x792d87(0x118),auth,async(_0x2fa88f,_0x2c604c)=>{const _0x43907a=a0_0x792d87;try{const {name:_0x5bd33b,products:_0x3a71e7}=_0x2fa88f[_0x43907a(0x1c0)],_0x57b02a=new categories({'name':_0x5bd33b,'products':_0x3a71e7}),_0x35333e=await categories['findOne']({'name':_0x5bd33b});_0x35333e?_0x2fa88f[_0x43907a(0x13e)](_0x43907a(0x14b),_0x5bd33b+_0x43907a(0x180)):_0x2fa88f[_0x43907a(0x13e)](_0x43907a(0x187),_0x5bd33b+'\x20categories\x20is\x20add\x20successfully');const _0x3dc528=await _0x57b02a[_0x43907a(0x190)]();_0x2c604c['redirect'](_0x43907a(0x161));}catch(_0x3af274){console[_0x43907a(0x115)](_0x3af274);}}),router[a0_0x792d87(0x197)](a0_0x792d87(0x12e),auth,async(_0x17a884,_0x865a39)=>{const _0xa84a73=a0_0x792d87;try{const {username:_0xb3ec6f,email:_0x3080f1,role:_0x1b4ffc}=_0x17a884[_0xa84a73(0x11e)],_0x27af5c=_0x17a884[_0xa84a73(0x11e)],_0x545525=await profile[_0xa84a73(0x10b)]({'email':_0x27af5c['email']}),_0x3ca096=await master_shop[_0xa84a73(0x11d)]();console[_0xa84a73(0x115)](_0xa84a73(0x1b6),_0x3ca096);const _0x19db35=_0x17a884[_0xa84a73(0x175)]['id'];console[_0xa84a73(0x115)](_0x19db35);const _0x561b73=await categories[_0xa84a73(0x154)](_0x19db35);if(_0x3ca096[0x0][_0xa84a73(0x181)]=='English\x20(US)')var _0x3a690d=users[_0xa84a73(0x1b3)];else{if(_0x3ca096[0x0][_0xa84a73(0x181)]=='Hindi')var _0x3a690d=users[_0xa84a73(0x12b)];else{if(_0x3ca096[0x0][_0xa84a73(0x181)]=='German')var _0x3a690d=users[_0xa84a73(0x11a)];else{if(_0x3ca096[0x0][_0xa84a73(0x181)]==_0xa84a73(0x1a4))var _0x3a690d=users[_0xa84a73(0x1a4)];else{if(_0x3ca096[0x0][_0xa84a73(0x181)]=='French')var _0x3a690d=users[_0xa84a73(0x12c)];else{if(_0x3ca096[0x0]['language']==_0xa84a73(0x1ad))var _0x3a690d=users[_0xa84a73(0x19c)];else{if(_0x3ca096[0x0][_0xa84a73(0x181)]==_0xa84a73(0x160))var _0x3a690d=users[_0xa84a73(0x160)];else{if(_0x3ca096[0x0]['language']==_0xa84a73(0x15d))var _0x3a690d=users[_0xa84a73(0x196)];}}}}}}}_0x865a39['render'](_0xa84a73(0x19e),{'success':_0x17a884[_0xa84a73(0x13e)](_0xa84a73(0x187)),'errors':_0x17a884[_0xa84a73(0x13e)]('errors'),'role':_0x27af5c,'profile':_0x545525,'master_shop':_0x3ca096,'user':_0x561b73,'language':_0x3a690d});}catch(_0x555b33){console[_0xa84a73(0x115)](_0x555b33);}}),router[a0_0x792d87(0x11f)](a0_0x792d87(0x12e),auth,async(_0x28cfed,_0x47f1a9)=>{const _0x45417f=a0_0x792d87;try{const _0x5a1852=_0x28cfed[_0x45417f(0x175)]['id'],_0x3fe4d8=await categories[_0x45417f(0x174)](_0x5a1852,_0x28cfed[_0x45417f(0x1c0)]);_0x28cfed['flash'](_0x45417f(0x187),''+users[_0x45417f(0x10e)]),_0x47f1a9[_0x45417f(0x16d)](_0x45417f(0x161));}catch(_0x4b8409){console[_0x45417f(0x115)](_0x4b8409);}}),router[a0_0x792d87(0x197)]('/categories/delete/:id',auth,async(_0x196c59,_0x57700d)=>{const _0x47137a=a0_0x792d87;try{const _0x1aec77=_0x196c59['params']['id'],_0x24f244=await categories[_0x47137a(0x189)](_0x1aec77);_0x196c59[_0x47137a(0x13e)]('success','categories\x20data\x20delete\x20successfully'),_0x57700d[_0x47137a(0x16d)](_0x47137a(0x161));}catch(_0x44817c){console[_0x47137a(0x115)](_0x44817c);}}),router['get'](a0_0x792d87(0x184),auth,async(_0x5c532f,_0x779a56)=>{const _0x483d0c=a0_0x792d87;try{const {username:_0x2a20c2,email:_0x5769fd,role:_0xc94e04}=_0x5c532f[_0x483d0c(0x11e)],_0x7fc85a=_0x5c532f['user'],_0xf74d9f=await profile[_0x483d0c(0x10b)]({'email':_0x7fc85a[_0x483d0c(0x1b4)]}),_0x345d76=await master_shop[_0x483d0c(0x11d)]();console[_0x483d0c(0x115)]('master',_0x345d76);const _0x4eacea=await brands[_0x483d0c(0x11d)]();if(_0x345d76[0x0][_0x483d0c(0x181)]==_0x483d0c(0x1bb))var _0x32a9f4=users['English'];else{if(_0x345d76[0x0][_0x483d0c(0x181)]=='Hindi')var _0x32a9f4=users['Hindi'];else{if(_0x345d76[0x0][_0x483d0c(0x181)]=='German')var _0x32a9f4=users['German'];else{if(_0x345d76[0x0][_0x483d0c(0x181)]==_0x483d0c(0x1a4))var _0x32a9f4=users[_0x483d0c(0x1a4)];else{if(_0x345d76[0x0][_0x483d0c(0x181)]==_0x483d0c(0x12c))var _0x32a9f4=users[_0x483d0c(0x12c)];else{if(_0x345d76[0x0][_0x483d0c(0x181)]==_0x483d0c(0x1ad))var _0x32a9f4=users[_0x483d0c(0x19c)];else{if(_0x345d76[0x0][_0x483d0c(0x181)]==_0x483d0c(0x160))var _0x32a9f4=users['Chinese'];else{if(_0x345d76[0x0]['language']==_0x483d0c(0x15d))var _0x32a9f4=users[_0x483d0c(0x196)];}}}}}}}_0x779a56['render'](_0x483d0c(0x19f),{'success':_0x5c532f['flash'](_0x483d0c(0x187)),'errors':_0x5c532f['flash'](_0x483d0c(0x14b)),'role':_0x7fc85a,'profile':_0xf74d9f,'master_shop':_0x345d76,'user':_0x4eacea,'language':_0x32a9f4});}catch(_0x991877){console[_0x483d0c(0x115)](_0x991877);}}),router['post']('/brands',auth,async(_0x456992,_0x1f6585)=>{const _0x5e45e4=a0_0x792d87;try{const {name:_0x2bb694,products:_0x43d481}=_0x456992[_0x5e45e4(0x1c0)],_0x48dc3=new brands({'name':_0x2bb694,'products':_0x43d481}),_0x550264=await brands[_0x5e45e4(0x10b)]({'name':_0x2bb694});_0x550264?_0x456992[_0x5e45e4(0x13e)](_0x5e45e4(0x14b),_0x2bb694+_0x5e45e4(0x164)):_0x456992[_0x5e45e4(0x13e)]('success',_0x2bb694+_0x5e45e4(0x137));const _0x5e1854=await _0x48dc3[_0x5e45e4(0x190)]();_0x1f6585[_0x5e45e4(0x16d)](_0x5e45e4(0x146));}catch(_0x47b780){console['log'](_0x47b780);}}),router[a0_0x792d87(0x197)](a0_0x792d87(0x14a),auth,async(_0x1e9c34,_0x501dce)=>{const _0x114648=a0_0x792d87;try{const {username:_0x23b1ba,email:_0x3d6206,role:_0x4a9bff}=_0x1e9c34[_0x114648(0x11e)],_0x1dbd37=_0x1e9c34[_0x114648(0x11e)],_0x306015=await profile[_0x114648(0x10b)]({'email':_0x1dbd37[_0x114648(0x1b4)]}),_0x44aa29=await master_shop[_0x114648(0x11d)]();console[_0x114648(0x115)](_0x114648(0x1b6),_0x44aa29);const _0x5a9270=_0x1e9c34[_0x114648(0x175)]['id'];console['log'](_0x5a9270);const _0x370d35=await brands['findById'](_0x5a9270);if(_0x44aa29[0x0][_0x114648(0x181)]==_0x114648(0x1bb))var _0x32cf34=users[_0x114648(0x1b3)];else{if(_0x44aa29[0x0]['language']==_0x114648(0x12b))var _0x32cf34=users[_0x114648(0x12b)];else{if(_0x44aa29[0x0][_0x114648(0x181)]==_0x114648(0x11a))var _0x32cf34=users[_0x114648(0x11a)];else{if(_0x44aa29[0x0][_0x114648(0x181)]==_0x114648(0x1a4))var _0x32cf34=users[_0x114648(0x1a4)];else{if(_0x44aa29[0x0][_0x114648(0x181)]==_0x114648(0x12c))var _0x32cf34=users[_0x114648(0x12c)];else{if(_0x44aa29[0x0][_0x114648(0x181)]==_0x114648(0x1ad))var _0x32cf34=users['Portuguese'];else{if(_0x44aa29[0x0]['language']==_0x114648(0x160))var _0x32cf34=users['Chinese'];else{if(_0x44aa29[0x0]['language']=='Arabic\x20(ae)')var _0x32cf34=users[_0x114648(0x196)];}}}}}}}_0x501dce[_0x114648(0x17e)]('brands',{'success':_0x1e9c34['flash'](_0x114648(0x187)),'errors':_0x1e9c34[_0x114648(0x13e)](_0x114648(0x14b)),'role':_0x1dbd37,'profile':_0x306015,'master_shop':_0x44aa29,'user':_0x370d35,'language':_0x32cf34});}catch(_0x1298ec){console[_0x114648(0x115)](_0x1298ec);}}),router[a0_0x792d87(0x11f)](a0_0x792d87(0x14a),auth,async(_0x36c224,_0x19077f)=>{const _0x305bfc=a0_0x792d87;try{const _0x24f840=_0x36c224[_0x305bfc(0x175)]['id'],_0x2c906e=await brands[_0x305bfc(0x174)](_0x24f840,_0x36c224[_0x305bfc(0x1c0)]);_0x36c224[_0x305bfc(0x13e)](_0x305bfc(0x187),_0x305bfc(0x1bd)),_0x19077f[_0x305bfc(0x16d)](_0x305bfc(0x146));}catch(_0x110fbb){console[_0x305bfc(0x115)](_0x110fbb);}}),router[a0_0x792d87(0x197)](a0_0x792d87(0x1a1),auth,async(_0x5aed00,_0x56253f)=>{const _0x8ba32d=a0_0x792d87;try{const _0x530ce9=_0x5aed00['params']['id'],_0x3d8f57=await brands[_0x8ba32d(0x189)](_0x530ce9);_0x5aed00[_0x8ba32d(0x13e)](_0x8ba32d(0x187),_0x8ba32d(0x13f)),_0x56253f[_0x8ba32d(0x16d)](_0x8ba32d(0x146));}catch(_0x35b897){console[_0x8ba32d(0x115)](_0x35b897);}}),router['get'](a0_0x792d87(0x18a),auth,async(_0x49ca8b,_0x33ecfb)=>{const _0x2063d4=a0_0x792d87;try{const {username:_0x2f15f5,email:_0xc8f13f,role:_0x3b6058}=_0x49ca8b['user'],_0x59c99c=_0x49ca8b[_0x2063d4(0x11e)],_0x380ed8=await profile[_0x2063d4(0x10b)]({'email':_0x59c99c[_0x2063d4(0x1b4)]}),_0x2e9a52=await master_shop[_0x2063d4(0x11d)]();console[_0x2063d4(0x115)](_0x2063d4(0x1b6),_0x2e9a52);const _0x23c23c=await units['find']();if(_0x2e9a52[0x0][_0x2063d4(0x181)]=='English\x20(US)')var _0x5169fb=users[_0x2063d4(0x1b3)];else{if(_0x2e9a52[0x0][_0x2063d4(0x181)]==_0x2063d4(0x12b))var _0x5169fb=users['Hindi'];else{if(_0x2e9a52[0x0][_0x2063d4(0x181)]=='German')var _0x5169fb=users[_0x2063d4(0x11a)];else{if(_0x2e9a52[0x0][_0x2063d4(0x181)]==_0x2063d4(0x1a4))var _0x5169fb=users['Spanish'];else{if(_0x2e9a52[0x0][_0x2063d4(0x181)]==_0x2063d4(0x12c))var _0x5169fb=users['French'];else{if(_0x2e9a52[0x0][_0x2063d4(0x181)]=='Portuguese\x20(BR)')var _0x5169fb=users['Portuguese'];else{if(_0x2e9a52[0x0][_0x2063d4(0x181)]=='Chinese')var _0x5169fb=users[_0x2063d4(0x160)];else{if(_0x2e9a52[0x0][_0x2063d4(0x181)]==_0x2063d4(0x15d))var _0x5169fb=users[_0x2063d4(0x196)];}}}}}}}_0x33ecfb[_0x2063d4(0x17e)]('units',{'success':_0x49ca8b['flash'](_0x2063d4(0x187)),'errors':_0x49ca8b[_0x2063d4(0x13e)](_0x2063d4(0x14b)),'role':_0x59c99c,'profile':_0x380ed8,'master_shop':_0x2e9a52,'user':_0x23c23c,'language':_0x5169fb});}catch(_0x3e96f7){console[_0x2063d4(0x115)](_0x3e96f7);}}),router[a0_0x792d87(0x11f)](a0_0x792d87(0x18a),auth,async(_0x50af32,_0x44ae7b)=>{const _0x1acd15=a0_0x792d87;try{const {name:_0x56e8fa,secondary_unit:_0x130a8e,products:_0x44fbfd}=_0x50af32[_0x1acd15(0x1c0)],_0x56b119=new units({'name':_0x56e8fa,'secondary_unit':_0x130a8e,'products':_0x44fbfd}),_0x36e6c6=await units['findOne']({'name':_0x56e8fa});_0x36e6c6?_0x50af32[_0x1acd15(0x13e)](_0x1acd15(0x14b),_0x56e8fa+_0x1acd15(0x177)):_0x50af32[_0x1acd15(0x13e)](_0x1acd15(0x187),_0x56e8fa+'\x20unit\x20is\x20add\x20successfully');const _0x23fc17=await _0x56b119[_0x1acd15(0x190)]();_0x44ae7b[_0x1acd15(0x16d)]('/products/units');}catch(_0x30add1){console[_0x1acd15(0x115)](_0x30add1);}}),router[a0_0x792d87(0x197)](a0_0x792d87(0x165),auth,async(_0x403b9b,_0x3cfb1d)=>{const _0x21b531=a0_0x792d87;try{const {username:_0x3159b6,email:_0x5cba53,role:_0x3ba8c1}=_0x403b9b['user'],_0x2c8571=_0x403b9b[_0x21b531(0x11e)],_0x59b4c6=await profile[_0x21b531(0x10b)]({'email':_0x2c8571['email']}),_0xb19dc4=await master_shop[_0x21b531(0x11d)]();console[_0x21b531(0x115)]('master',_0xb19dc4);const _0x2538a5=_0x403b9b[_0x21b531(0x175)]['id'],_0x13493a=await units[_0x21b531(0x154)](_0x2538a5);if(_0xb19dc4[0x0][_0x21b531(0x181)]==_0x21b531(0x1bb))var _0x138b29=users['English'];else{if(_0xb19dc4[0x0][_0x21b531(0x181)]==_0x21b531(0x12b))var _0x138b29=users['Hindi'];else{if(_0xb19dc4[0x0][_0x21b531(0x181)]==_0x21b531(0x11a))var _0x138b29=users[_0x21b531(0x11a)];else{if(_0xb19dc4[0x0][_0x21b531(0x181)]==_0x21b531(0x1a4))var _0x138b29=users['Spanish'];else{if(_0xb19dc4[0x0][_0x21b531(0x181)]==_0x21b531(0x12c))var _0x138b29=users[_0x21b531(0x12c)];else{if(_0xb19dc4[0x0][_0x21b531(0x181)]==_0x21b531(0x1ad))var _0x138b29=users[_0x21b531(0x19c)];else{if(_0xb19dc4[0x0][_0x21b531(0x181)]=='Chinese')var _0x138b29=users[_0x21b531(0x160)];else{if(_0xb19dc4[0x0][_0x21b531(0x181)]==_0x21b531(0x15d))var _0x138b29=users['Arabic'];}}}}}}}_0x3cfb1d[_0x21b531(0x17e)](_0x21b531(0x155),{'success':_0x403b9b[_0x21b531(0x13e)](_0x21b531(0x187)),'errors':_0x403b9b[_0x21b531(0x13e)]('errors'),'role':_0x2c8571,'profile':_0x59b4c6,'master_shop':_0xb19dc4,'user':_0x13493a,'language':_0x138b29});}catch(_0x15fd9d){console[_0x21b531(0x115)](_0x15fd9d);}}),router['post'](a0_0x792d87(0x165),auth,async(_0x4f57eb,_0x26146f)=>{const _0x27c140=a0_0x792d87;try{const _0x23d752=_0x4f57eb[_0x27c140(0x175)]['id'],_0x2a5c32=await units[_0x27c140(0x174)](_0x23d752,_0x4f57eb[_0x27c140(0x1c0)]);_0x4f57eb[_0x27c140(0x13e)](_0x27c140(0x187),_0x27c140(0x12a)),_0x26146f[_0x27c140(0x16d)](_0x27c140(0x133));}catch(_0x39fd16){console[_0x27c140(0x115)](_0x39fd16);}}),router[a0_0x792d87(0x197)]('/units/delete/:id',auth,async(_0x5d5303,_0x212151)=>{const _0x11dc2c=a0_0x792d87;try{const _0x472e2b=_0x5d5303['params']['id'],_0x96bee9=await units[_0x11dc2c(0x189)](_0x472e2b);_0x5d5303[_0x11dc2c(0x13e)]('success','unit\x20data\x20delete\x20successfully'),_0x212151['redirect'](_0x11dc2c(0x133));}catch(_0xeea822){console[_0x11dc2c(0x115)](_0xeea822);}});const storage=multer[a0_0x792d87(0x142)]({'destination':(_0x39a65a,_0x3360af,_0x3c8cce)=>{const _0x65e7f4=a0_0x792d87;_0x3c8cce(null,_0x65e7f4(0x1b9));},'filename':(_0x481ed2,_0x5633f6,_0x21f262)=>{const _0x26b54f=a0_0x792d87;_0x21f262(null,Date['now']()+_0x5633f6[_0x26b54f(0x1c1)]);}}),upload=multer({'storage':storage});router[a0_0x792d87(0x197)]('/view',auth,async(_0xd477ad,_0x4cfe76)=>{const _0x9678a2=a0_0x792d87;try{const {username:_0x3b7160,email:_0x4a662b,role:_0x2f688a}=_0xd477ad[_0x9678a2(0x11e)],_0x4202ef=_0xd477ad[_0x9678a2(0x11e)],_0x115e4f=await profile[_0x9678a2(0x10b)]({'email':_0x4202ef[_0x9678a2(0x1b4)]}),_0x46d493={'year':_0x9678a2(0x150),'month':_0x9678a2(0x1b5),'day':_0x9678a2(0x150)},_0x399766=await master_shop['find']();console[_0x9678a2(0x115)](_0x9678a2(0x156),_0x399766);const _0x925206=await product['find']();console[_0x9678a2(0x115)]('Products\x20find_data',_0x925206);const _0x3a9b69=await warehouse[_0x9678a2(0x126)]([{'$unwind':_0x9678a2(0x1a6)},{'$lookup':{'from':_0x9678a2(0x14d),'localField':_0x9678a2(0x132),'foreignField':_0x9678a2(0x122),'as':'product_docs'}},{'$unwind':_0x9678a2(0x119)},{'$project':{'product_name':_0x9678a2(0x147),'product_stock':_0x9678a2(0x14e)}},{'$group':{'_id':_0x9678a2(0x162),'product_stock':{'$sum':_0x9678a2(0x149)}}}]);console[_0x9678a2(0x115)](_0x9678a2(0x1b1),_0x3a9b69),_0x3a9b69[_0x9678a2(0x193)](_0x301ac8=>{const _0x5abf51=_0x9678a2,_0x4d588e=_0x925206[_0x5abf51(0x141)](_0x1b2fef=>{const _0x3f94bc=_0x5abf51;_0x1b2fef[_0x3f94bc(0x122)]==_0x301ac8['_id']&&(_0x1b2fef[_0x3f94bc(0x17a)]=parseInt(_0x1b2fef[_0x3f94bc(0x17a)])+parseInt(_0x301ac8[_0x3f94bc(0x134)]));});}),console['log'](_0x9678a2(0x1bf),_0x925206);if(_0x399766[0x0][_0x9678a2(0x181)]==_0x9678a2(0x1bb))var _0x2551fc=users[_0x9678a2(0x1b3)];else{if(_0x399766[0x0][_0x9678a2(0x181)]==_0x9678a2(0x12b))var _0x2551fc=users[_0x9678a2(0x12b)];else{if(_0x399766[0x0][_0x9678a2(0x181)]==_0x9678a2(0x11a))var _0x2551fc=users[_0x9678a2(0x11a)];else{if(_0x399766[0x0][_0x9678a2(0x181)]==_0x9678a2(0x1a4))var _0x2551fc=users[_0x9678a2(0x1a4)];else{if(_0x399766[0x0][_0x9678a2(0x181)]==_0x9678a2(0x12c))var _0x2551fc=users['French'];else{if(_0x399766[0x0][_0x9678a2(0x181)]==_0x9678a2(0x1ad))var _0x2551fc=users[_0x9678a2(0x19c)];else{if(_0x399766[0x0]['language']==_0x9678a2(0x160))var _0x2551fc=users['Chinese'];else{if(_0x399766[0x0][_0x9678a2(0x181)]=='Arabic\x20(ae)')var _0x2551fc=users[_0x9678a2(0x196)];}}}}}}}_0x4cfe76[_0x9678a2(0x17e)](_0x9678a2(0x14d),{'success':_0xd477ad[_0x9678a2(0x13e)](_0x9678a2(0x187)),'errors':_0xd477ad[_0x9678a2(0x13e)]('errors'),'alldata':_0x925206,'profile':_0x115e4f,'master_shop':_0x399766,'role':_0x4202ef,'product_stock':_0x3a9b69,'language':_0x2551fc});}catch(_0x95bf5f){console[_0x9678a2(0x115)](_0x95bf5f);}}),router[a0_0x792d87(0x197)](a0_0x792d87(0x15e),auth,async(_0x486621,_0x1fd25e)=>{const _0x35c6fa=a0_0x792d87;try{const {username:_0x5c2cbd,email:_0x1ee2fa,role:_0x33f0c9}=_0x486621[_0x35c6fa(0x11e)],_0x41c2ad=_0x486621[_0x35c6fa(0x11e)],_0x7cacde=await profile['findOne']({'email':_0x41c2ad['email']}),_0x246e4f=await master_shop['find']();console[_0x35c6fa(0x115)](_0x35c6fa(0x1b6),_0x246e4f);const _0xea296=await categories['find']({}),_0x3d1031=await brands[_0x35c6fa(0x11d)]({}),_0x28afd1=await units[_0x35c6fa(0x11d)]({}),_0x4ffc2a=await warehouse[_0x35c6fa(0x11d)]({'status':_0x35c6fa(0x1a2)});if(_0x246e4f[0x0]['language']=='English\x20(US)')var _0x54c417=users['English'];else{if(_0x246e4f[0x0]['language']==_0x35c6fa(0x12b))var _0x54c417=users[_0x35c6fa(0x12b)];else{if(_0x246e4f[0x0][_0x35c6fa(0x181)]==_0x35c6fa(0x11a))var _0x54c417=users[_0x35c6fa(0x11a)];else{if(_0x246e4f[0x0][_0x35c6fa(0x181)]==_0x35c6fa(0x1a4))var _0x54c417=users['Spanish'];else{if(_0x246e4f[0x0][_0x35c6fa(0x181)]==_0x35c6fa(0x12c))var _0x54c417=users[_0x35c6fa(0x12c)];else{if(_0x246e4f[0x0][_0x35c6fa(0x181)]==_0x35c6fa(0x1ad))var _0x54c417=users[_0x35c6fa(0x19c)];else{if(_0x246e4f[0x0][_0x35c6fa(0x181)]==_0x35c6fa(0x160))var _0x54c417=users[_0x35c6fa(0x160)];else{if(_0x246e4f[0x0][_0x35c6fa(0x181)]=='Arabic\x20(ae)')var _0x54c417=users['Arabic'];}}}}}}}_0x1fd25e[_0x35c6fa(0x17e)]('add_product',{'success':_0x486621[_0x35c6fa(0x13e)]('success'),'errors':_0x486621[_0x35c6fa(0x13e)](_0x35c6fa(0x14b)),'role':_0x41c2ad,'profile':_0x7cacde,'categories':_0xea296,'brands':_0x3d1031,'master_shop':_0x246e4f,'units':_0x28afd1,'language':_0x54c417,'find_data':_0x4ffc2a});}catch(_0x18c194){console[_0x35c6fa(0x115)](_0x18c194);}}),router[a0_0x792d87(0x11f)](a0_0x792d87(0x15e),auth,upload['single'](a0_0x792d87(0x192)),async(_0xec42ab,_0x4bda65)=>{const _0x5471ff=a0_0x792d87;try{const {name:_0x3c220d,category:_0x38ae20,brand:_0x359ade,unit:_0x351e27,alertquantity:_0x488457,stock:_0x2de4ca,product_code:_0x45b2af,warehouse:_0x52f7f2,primary_ItemCode:_0x131443,second_ItemCode:_0x52d2dd,second_unit:_0x5ca64a,maxPerUnit:_0x58dd77,MaxPerProduct:_0x1fe542}=_0xec42ab['body'],_0x79fb1b=_0xec42ab['file']?.['filename']||'defaultProduct.avif',_0x19cdcd=new product({'image':_0x79fb1b,'name':_0x3c220d,'category':_0x38ae20,'brand':_0x359ade,'unit':_0x351e27,'alertquantity':_0x488457,'stock':_0x2de4ca,'product_code':_0x45b2af,'warehouse':_0x52f7f2,'primary_code':_0x131443,'secondary_code':_0x52d2dd,'second_unit':_0x5ca64a,'maxStocks':_0x1fe542,'maxProdPerUnit':_0x58dd77}),_0x3be70b=await _0x19cdcd[_0x5471ff(0x190)](),_0x18c4ee=await categories['findOne']({'name':_0x38ae20});_0x18c4ee['products']=parseInt(_0x18c4ee[_0x5471ff(0x14d)])+0x1,await _0x18c4ee['save']();const _0x3e3fe3=await brands[_0x5471ff(0x10b)]({'name':_0x359ade});_0x3e3fe3[_0x5471ff(0x14d)]=parseInt(_0x3e3fe3[_0x5471ff(0x14d)])+0x1,await _0x3e3fe3[_0x5471ff(0x190)]();const _0x4ce343=await units['findOne']({'name':_0x351e27});_0x4ce343['products']=parseInt(_0x4ce343[_0x5471ff(0x14d)])+0x1,await _0x4ce343[_0x5471ff(0x190)](),_0xec42ab[_0x5471ff(0x13e)](_0x5471ff(0x187),_0x5471ff(0x182)),_0x4bda65['redirect']('/products/view');}catch(_0x4010ee){console[_0x5471ff(0x115)](_0x4010ee);}}),router[a0_0x792d87(0x197)](a0_0x792d87(0x116),auth,async(_0x5261bb,_0x1d11d6)=>{const _0xa40ba0=a0_0x792d87;try{const {username:_0x1a1968,email:_0x24625a,role:_0x10bd45}=_0x5261bb[_0xa40ba0(0x11e)],_0x44ee3c=_0x5261bb['user'],_0x40bbff=await profile[_0xa40ba0(0x10b)]({'email':_0x44ee3c[_0xa40ba0(0x1b4)]}),_0x14582e=await master_shop[_0xa40ba0(0x11d)]();console[_0xa40ba0(0x115)]('edit\x20Product\x20master',_0x14582e);const _0x457cff=_0x5261bb[_0xa40ba0(0x175)]['id'],_0x162166=await product['findById'](_0x457cff),_0x1f8143=await categories[_0xa40ba0(0x11d)]({}),_0x139203=await brands[_0xa40ba0(0x11d)]({}),_0x7e6f07=await units[_0xa40ba0(0x11d)]({}),_0x18728c=await warehouse[_0xa40ba0(0x11d)]({'status':'Enabled'}),_0x6a2fb3=await units[_0xa40ba0(0x126)]([{'$group':{'_id':_0xa40ba0(0x176),'secondaryunit':{'$first':_0xa40ba0(0x158)}}}]);if(_0x14582e[0x0][_0xa40ba0(0x181)]=='English\x20(US)')var _0x26b901=users[_0xa40ba0(0x1b3)];else{if(_0x14582e[0x0][_0xa40ba0(0x181)]==_0xa40ba0(0x12b))var _0x26b901=users[_0xa40ba0(0x12b)];else{if(_0x14582e[0x0][_0xa40ba0(0x181)]==_0xa40ba0(0x11a))var _0x26b901=users[_0xa40ba0(0x11a)];else{if(_0x14582e[0x0][_0xa40ba0(0x181)]==_0xa40ba0(0x1a4))var _0x26b901=users[_0xa40ba0(0x1a4)];else{if(_0x14582e[0x0][_0xa40ba0(0x181)]==_0xa40ba0(0x12c))var _0x26b901=users[_0xa40ba0(0x12c)];else{if(_0x14582e[0x0]['language']=='Portuguese\x20(BR)')var _0x26b901=users['Portuguese'];else{if(_0x14582e[0x0][_0xa40ba0(0x181)]=='Chinese')var _0x26b901=users[_0xa40ba0(0x160)];else{if(_0x14582e[0x0][_0xa40ba0(0x181)]=='Arabic\x20(ae)')var _0x26b901=users[_0xa40ba0(0x196)];}}}}}}}_0x1d11d6[_0xa40ba0(0x17e)]('edit_product',{'success':_0x5261bb[_0xa40ba0(0x13e)](_0xa40ba0(0x187)),'errors':_0x5261bb[_0xa40ba0(0x13e)]('errors'),'role':_0x44ee3c,'profile':_0x40bbff,'alldata':_0x162166,'categories':_0x1f8143,'brands':_0x139203,'master_shop':_0x14582e,'units':_0x7e6f07,'secondunit':_0x6a2fb3,'find_data':_0x18728c,'language':_0x26b901});}catch(_0x4f411f){console[_0xa40ba0(0x115)](_0x4f411f);}}),router[a0_0x792d87(0x11f)](a0_0x792d87(0x116),auth,upload[a0_0x792d87(0x1c4)](a0_0x792d87(0x192)),async(_0x3433d8,_0xfd879c)=>{const _0xeda73e=a0_0x792d87;try{console[_0xeda73e(0x115)]('hello');const _0x314b73=_0x3433d8[_0xeda73e(0x175)]['id'],_0x1347fe=await product[_0xeda73e(0x154)](_0x314b73),{image:_0x3fcb38,name:_0x4ac27c,category:_0xc42d44,brand:_0x35d2a1,sku:_0x49ae02,unit:_0x27fb6b,alertquantity:_0x507322,product_code:_0x27d114,warehouse:_0x4e0969,primary_ItemCode:_0x102195,second_ItemCode:_0x42394a,second_unit:_0x2b5d02,maxPerUnit:_0x3e8ec5,MaxPerProduct:_0x583dfe,prod_catdata:_0xeccb71}=_0x3433d8[_0xeda73e(0x1c0)];_0x3433d8[_0xeda73e(0x1af)]&&(_0x1347fe[_0xeda73e(0x192)]=_0x3433d8[_0xeda73e(0x1af)][_0xeda73e(0x112)]);_0x1347fe['name']=_0x4ac27c,_0x1347fe['category']=_0xc42d44,_0x1347fe['brand']=_0x35d2a1,_0x1347fe[_0xeda73e(0x194)]=_0x49ae02,_0x1347fe['unit']=_0x27fb6b,_0x1347fe[_0xeda73e(0x117)]=_0x507322,_0x1347fe[_0xeda73e(0x127)]=_0x27d114,_0x1347fe[_0xeda73e(0x108)]=_0x4e0969,_0x1347fe[_0xeda73e(0x172)]=_0x102195,_0x1347fe['secondary_code']=_0x42394a,_0x1347fe[_0xeda73e(0x143)]=_0x2b5d02,_0x1347fe[_0xeda73e(0x1aa)]=_0x583dfe,_0x1347fe[_0xeda73e(0x140)]=_0x3e8ec5,_0x1347fe[_0xeda73e(0x15f)]=_0xeccb71;const _0xd8d3a=await _0x1347fe[_0xeda73e(0x190)]();console[_0xeda73e(0x115)]('product\x20edit',_0x1347fe),_0x3433d8[_0xeda73e(0x13e)](_0xeda73e(0x187),_0xeda73e(0x135)),_0xfd879c[_0xeda73e(0x16d)]('/products/view');}catch(_0x333146){console[_0xeda73e(0x115)](_0x333146);}}),router[a0_0x792d87(0x197)](a0_0x792d87(0x124),auth,async(_0x1b5105,_0x43f2e1)=>{const _0x514952=a0_0x792d87;try{const {username:_0x2abfef,email:_0x5c6540,role:_0x5c6f38}=_0x1b5105[_0x514952(0x11e)],_0x1549a8=_0x1b5105['user'],_0x18bae0=await profile[_0x514952(0x10b)]({'email':_0x1549a8[_0x514952(0x1b4)]}),_0x195f34=await master_shop['find']();console['log']('barcode\x20Product\x20master',_0x195f34);const _0x59ee95=_0x1b5105['params']['id'],_0x5eed3d=await product[_0x514952(0x154)](_0x59ee95);console['log'](_0x514952(0x113),_0x5eed3d);if(_0x195f34[0x0][_0x514952(0x181)]==_0x514952(0x1bb))var _0x1b9bae=users[_0x514952(0x1b3)];else{if(_0x195f34[0x0][_0x514952(0x181)]=='Hindi')var _0x1b9bae=users[_0x514952(0x12b)];else{if(_0x195f34[0x0][_0x514952(0x181)]==_0x514952(0x11a))var _0x1b9bae=users[_0x514952(0x11a)];else{if(_0x195f34[0x0][_0x514952(0x181)]==_0x514952(0x1a4))var _0x1b9bae=users[_0x514952(0x1a4)];else{if(_0x195f34[0x0][_0x514952(0x181)]==_0x514952(0x12c))var _0x1b9bae=users[_0x514952(0x12c)];else{if(_0x195f34[0x0][_0x514952(0x181)]=='Portuguese\x20(BR)')var _0x1b9bae=users[_0x514952(0x19c)];else{if(_0x195f34[0x0][_0x514952(0x181)]=='Chinese')var _0x1b9bae=users['Chinese'];else{if(_0x195f34[0x0][_0x514952(0x181)]==_0x514952(0x15d))var _0x1b9bae=users[_0x514952(0x196)];}}}}}}}_0x43f2e1[_0x514952(0x17e)]('product_barcode',{'success':_0x1b5105['flash'](_0x514952(0x187)),'errors':_0x1b5105[_0x514952(0x13e)](_0x514952(0x14b)),'role':_0x1549a8,'profile':_0x18bae0,'alldata':_0x5eed3d,'master_shop':_0x195f34,'language':_0x1b9bae});}catch(_0x3b148d){console[_0x514952(0x115)](_0x3b148d);}}),router[a0_0x792d87(0x197)](a0_0x792d87(0x167),auth,async(_0x1170fc,_0x2fdf72)=>{const _0x28b31b=a0_0x792d87;try{const _0x2c8e07=new excelJS[(_0x28b31b(0x15b))](),_0x2a40fc=_0x2c8e07[_0x28b31b(0x12f)]('Products');return _0x2a40fc[_0x28b31b(0x1b7)]=[{'header':_0x28b31b(0x1a9),'key':'PName','width':0xa},{'header':'Brands','key':'PBrands','width':0xa},{'header':_0x28b31b(0x1b2),'key':_0x28b31b(0x10a),'width':0xa},{'header':'Secondary_Units','key':_0x28b31b(0x191),'width':0xa},{'header':'max_number_per_units','key':_0x28b31b(0x11c),'width':0xa},{'header':'Primary_Code','key':_0x28b31b(0x18b),'width':0xa},{'header':'Secondary_Code','key':_0x28b31b(0x18b),'width':0xa},{'header':_0x28b31b(0x16e),'key':_0x28b31b(0x18b),'width':0xa},{'header':'Category','key':'PCat','width':0xa},{'header':'Alert_QTY','key':'PAlQty','width':0xa},{'header':'Maximum_Stocks','key':_0x28b31b(0x170),'width':0xa},{'header':'Products_category','key':_0x28b31b(0x1be),'width':0xa}],_0x2fdf72[_0x28b31b(0x19d)](_0x28b31b(0x144),_0x28b31b(0x163)),_0x2fdf72[_0x28b31b(0x19d)]('Content-Disposition',_0x28b31b(0x13a)),_0x2c8e07[_0x28b31b(0x1b0)][_0x28b31b(0x19b)](_0x2fdf72)[_0x28b31b(0x13c)](()=>{const _0x52bedc=_0x28b31b;_0x2fdf72[_0x52bedc(0x1ac)](0xc8);});}catch(_0x243ff0){_0x2fdf72[_0x28b31b(0x1ac)](0x190)['send'](_0x243ff0);}});function a0_0x439c(){const _0x5b2af4=['\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','/units/:id','toBuffer','/products_export_migrate_file','width','height','Router','brand','../public/language/languages.json','redirect','Product_Code','281241KgPVga','PAlQty','unit','primary_code','public/Migration/','findByIdAndUpdate','params','$_id','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','/print_barcode_filter/','Category','stock','6ZwfsuO','jsbarcode','../models/all_models','render','\x20added\x20successfully','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','language','product\x20add\x20successfully','push','/brands','/products/view','multer','success','/filter_product','findByIdAndDelete','/units','ProductCode','/print_barcode_single/:id','base64','1055551hRIaTl','../middleware/auth','save','PSecondaryUnits','image','forEach','sku','sheet_to_json','Arabic','get','4996668tIiLwr','canvas','defaultProduct.avif','write','Portuguese','setHeader','categories','brands','25113770rXzcHd','/brands/delete/:id','Enabled','end','Spanish','categ','$product_details','10NLNRfK','Secondary_Units','Product_Name','maxStocks','8016462MBlpzz','status','Portuguese\x20(BR)','/print_barcode','file','xlsx','Products\x20warehouse_data','Units','English','email','long','master','columns','292520lmmvtc','public/upload','Primary_Code','English\x20(US)','$product_category','brand\x20data\x20update\x20successfully','Prod_Cat','Products\x20find_data','body','originalname','length','concat','single','product_barcode_products','pdfkit-table','warehouse','express/lib/response','PUnits','findOne','max_number_per_units','message','categories_edit','express','data','public/Migration','filename','barcode\x20user_id','Raw\x20Materials','log','/view/:id','alertquantity','/categories','$product_docs','German','secondary_code','MaxperUnits','find','user','post','/barcode_filter','category','name','addPage','/barcode/:id','40232stKUWF','aggregate','product_code','/print_barcode_filter_search/','CODE128','unit\x20data\x20update\x20successfully','Hindi','French','min','/categories/:id','addWorksheet','exports','Brands','product_details.product_name','/products/units','product_stock','product\x20update\x20successfully','/barcode_data','\x20brand\x20is\x20add\x20successfully','utils','toString','attachment;\x20filename=Product_Migration_File.xlsx','now','then','$category','flash','brand\x20data\x20delete\x20successfully','maxProdPerUnit','map','diskStorage','secondary_unit','Content-Type','\x20<>\x20','/products/brands','$product_details.product_name','/select_data','$product_stock','/brands/:id','errors','235wLnBpp','products','$product_details.product_stock','$brand','numeric','json','readFile','Finished\x20Goods','findById','units','Products\x20master','Products_category','$secondary_unit','Alert_QTY','28GiMwax','Workbook','prod_categ','Arabic\x20(ae)','/view/add_products','product_category','Chinese','/products/categories','$product_name','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet'];a0_0x439c=function(){return _0x5b2af4;};return a0_0x439c();}const storage1=multer[a0_0x792d87(0x142)]({'destination':(_0x17e00a,_0x41169,_0x28f335)=>{const _0x215657=a0_0x792d87;_0x28f335(null,_0x215657(0x111));},'filename':(_0x249ce5,_0x437255,_0x13ea38)=>{const _0x353327=a0_0x792d87;_0x13ea38(null,Date[_0x353327(0x13b)]()+_0x437255[_0x353327(0x1c1)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x792d87(0x11f)]('/products_import_migrate_file',auth,uploadMigrate[a0_0x792d87(0x1c4)]('migrate_product_fule'),async(_0xa6b589,_0x142bd1)=>{const _0x26d44a=a0_0x792d87,_0x42d0d3=_0xa6b589['file'][_0x26d44a(0x112)],_0x368318=await xlsx[_0x26d44a(0x152)](_0x26d44a(0x173)+_0x42d0d3);let _0x3dfd42=_0x368318['SheetNames'],_0x203423=xlsx[_0x26d44a(0x138)][_0x26d44a(0x195)](_0x368318['Sheets'][_0x3dfd42[0x0]]);for(const _0x237b24 of _0x203423){const _0x4077ed=_0x237b24[_0x26d44a(0x1a9)],_0x3942ae=_0x237b24[_0x26d44a(0x131)],_0x2413be=_0x237b24[_0x26d44a(0x1b2)],_0x2bd292=_0x237b24[_0x26d44a(0x1a8)],_0x1c9b96=_0x237b24[_0x26d44a(0x16e)],_0x1a1783=_0x237b24[_0x26d44a(0x179)],_0x228f65=_0x237b24[_0x26d44a(0x159)],_0xddc0fa=_0x237b24[_0x26d44a(0x1ba)],_0x3a7af3=_0x237b24['Secondary_Code'],_0xdc80ae=_0x237b24['Maximum_Stocks'],_0x1e9f2b=_0x237b24[_0x26d44a(0x10c)],_0x3c3333=_0x237b24[_0x26d44a(0x157)];try{let _0x3ac0fc=await categories[_0x26d44a(0x10b)]({'name':_0x1a1783});if(!_0x3ac0fc){const _0x36548f=new categories({'name':_0x1a1783,'products':'0'});_0x3ac0fc=await _0x36548f[_0x26d44a(0x190)]();}let _0x294533=await brands[_0x26d44a(0x10b)]({'name':_0x3942ae});if(!_0x294533){const _0xd9485b=new brands({'name':_0x3942ae,'products':'0'});_0x294533=await _0xd9485b['save']();}let _0x1af24c=await units[_0x26d44a(0x10b)]({'name':_0x2413be,'secondary_unit':_0x2bd292});if(!_0x1af24c){const _0x223b9a=new units({'name':_0x2413be,'secondary_unit':_0x2bd292,'products':'0'});_0x1af24c=await _0x223b9a[_0x26d44a(0x190)]();}const _0x3b418a=await product['find']({'name':_0x4077ed,'category':_0x3ac0fc[_0x26d44a(0x122)],'brand':_0x294533[_0x26d44a(0x122)],'secondary_unit':_0x1af24c[_0x26d44a(0x143)],'product_code':_0x1c9b96});console['log'](_0x3b418a[_0x26d44a(0x1c2)]+'\x20<>\x20'+_0x3ac0fc[_0x26d44a(0x122)]+_0x26d44a(0x145)+_0x294533[_0x26d44a(0x122)]+_0x26d44a(0x145)+_0x1af24c[_0x26d44a(0x143)]+'\x20<>\x20'+_0x1c9b96+_0x26d44a(0x145)+_0x4077ed);if(_0x3b418a[_0x26d44a(0x1c2)]===0x0){const _0x45215c=new product({'image':_0x26d44a(0x19a),'name':_0x4077ed,'category':_0x3ac0fc[_0x26d44a(0x122)],'brand':_0x294533[_0x26d44a(0x122)],'unit':_0x1af24c[_0x26d44a(0x122)],'alertquantity':_0x228f65,'product_code':_0x1c9b96,'secondary_unit':_0x1af24c[_0x26d44a(0x143)],'primary_code':_0xddc0fa,'secondary_code':_0x3a7af3,'maxStocks':_0xdc80ae,'maxProdPerUnit':_0x1e9f2b,'product_category':_0x3c3333}),_0x3630b4=await _0x45215c['save']();_0x3ac0fc[_0x26d44a(0x14d)]=parseInt(_0x3ac0fc[_0x26d44a(0x14d)])+0x1,await _0x3ac0fc[_0x26d44a(0x190)](),_0x294533[_0x26d44a(0x14d)]=parseInt(_0x294533['products'])+0x1,await _0x294533[_0x26d44a(0x190)](),_0x1af24c[_0x26d44a(0x14d)]=parseInt(_0x1af24c[_0x26d44a(0x14d)])+0x1,await _0x1af24c[_0x26d44a(0x190)](),_0xa6b589['flash']('success',_0x4077ed+_0x26d44a(0x17f));}else{console[_0x26d44a(0x115)](_0x3b418a[0x0]);const _0x2f968d=_0x3b418a[0x0];_0x2f968d[_0x26d44a(0x121)]=_0x3ac0fc[_0x26d44a(0x122)],_0x2f968d[_0x26d44a(0x16b)]=_0x294533['name'],_0x2f968d[_0x26d44a(0x171)]=_0x1af24c[_0x26d44a(0x122)],_0x2f968d[_0x26d44a(0x117)]=_0x228f65,_0x2f968d['product_code']=_0x1c9b96,_0x2f968d['secondary_unit']=_0x1af24c[_0x26d44a(0x143)],_0x2f968d['primary_code']=_0xddc0fa,_0x2f968d['secondary_code']=_0x3a7af3,_0x2f968d[_0x26d44a(0x1aa)]=_0xdc80ae,_0x2f968d[_0x26d44a(0x140)]=_0x1e9f2b,_0x2f968d['product_category']=_0x3c3333;const _0x12b1e9=await _0x2f968d[_0x26d44a(0x190)]();_0xa6b589[_0x26d44a(0x13e)](_0x26d44a(0x187),_0x12b1e9[_0x26d44a(0x122)]+'\x20Edit\x20Successfully');}}catch(_0x45d948){_0x142bd1[_0x26d44a(0x1ac)](0x1f4)['json']({'proderror':_0x45d948[_0x26d44a(0x10d)],'aproduct':_0x4077ed});}}_0x142bd1[_0x26d44a(0x16d)](_0x26d44a(0x185));}),router[a0_0x792d87(0x11f)](a0_0x792d87(0x148),auth,async(_0x54f32e,_0xb65677)=>{const _0x137f85=a0_0x792d87;try{console[_0x137f85(0x115)](_0x54f32e[_0x137f85(0x1c0)]);const {data_cateory:_0x33bb09,datachoose:_0x3343a0}=_0x54f32e[_0x137f85(0x1c0)];var _0x3b83f7;if(_0x3343a0==_0x137f85(0x15c))_0x3b83f7=await product[_0x137f85(0x126)]([{'$group':{'_id':_0x137f85(0x1bc)}}]);else{if(_0x3343a0=='brands')_0x3b83f7=await product['aggregate']([{'$match':{'product_category':_0x33bb09}},{'$group':{'_id':_0x137f85(0x14f)}}]);else _0x3343a0==_0x137f85(0x1a5)&&(_0x3b83f7=await product[_0x137f85(0x126)]([{'$match':{'product_category':_0x33bb09}},{'$group':{'_id':'$category'}}]));}_0xb65677['json'](_0x3b83f7);}catch(_0x18bd6d){_0xb65677[_0x137f85(0x151)]({'message':_0x18bd6d[_0x137f85(0x10d)]});}}),router['post'](a0_0x792d87(0x188),auth,async(_0x14866e,_0x4e0804)=>{const _0xb828a2=a0_0x792d87;try{const {data_choosing:_0x26404c,data_selected:_0x341b4b}=_0x14866e[_0xb828a2(0x1c0)];var _0x129687;if(_0x26404c==_0xb828a2(0x15c))_0x129687=await product['aggregate']([{'$match':{'product_category':_0x341b4b}}]);else{if(_0x26404c==_0xb828a2(0x19f))_0x129687=await product[_0xb828a2(0x126)]([{'$match':{'brand':_0x341b4b}}]);else _0x26404c==_0xb828a2(0x1a5)&&(_0x129687=await product[_0xb828a2(0x126)]([{'$match':{'category':_0x341b4b}}]));}_0x4e0804[_0xb828a2(0x151)](_0x129687);}catch(_0x322b71){_0x4e0804[_0xb828a2(0x151)]({'message':_0x322b71['message']});}}),router[a0_0x792d87(0x197)](a0_0x792d87(0x1ae),auth,async(_0x357222,_0x24a7fe)=>{const _0x10341e=a0_0x792d87,_0xe664f1=_0x357222[_0x10341e(0x11e)],_0x3259dd=await profile[_0x10341e(0x10b)]({'email':_0xe664f1[_0x10341e(0x1b4)]}),_0xf8e3e7=await master_shop[_0x10341e(0x11d)](),_0x1e99ac=await product[_0x10341e(0x11d)]();if(_0xf8e3e7[0x0][_0x10341e(0x181)]==_0x10341e(0x1bb))var _0xfebe1a=users['English'];else{if(_0xf8e3e7[0x0]['language']==_0x10341e(0x12b))var _0xfebe1a=users[_0x10341e(0x12b)];else{if(_0xf8e3e7[0x0][_0x10341e(0x181)]==_0x10341e(0x11a))var _0xfebe1a=users['German'];else{if(_0xf8e3e7[0x0][_0x10341e(0x181)]==_0x10341e(0x1a4))var _0xfebe1a=users[_0x10341e(0x1a4)];else{if(_0xf8e3e7[0x0]['language']==_0x10341e(0x12c))var _0xfebe1a=users[_0x10341e(0x12c)];else{if(_0xf8e3e7[0x0][_0x10341e(0x181)]==_0x10341e(0x1ad))var _0xfebe1a=users[_0x10341e(0x19c)];else{if(_0xf8e3e7[0x0][_0x10341e(0x181)]==_0x10341e(0x160))var _0xfebe1a=users[_0x10341e(0x160)];else{if(_0xf8e3e7[0x0]['language']==_0x10341e(0x15d))var _0xfebe1a=users['Arabic'];}}}}}}}_0x24a7fe[_0x10341e(0x17e)](_0x10341e(0x1c5),{'success':_0x357222['flash'](_0x10341e(0x187)),'errors':_0x357222['flash'](_0x10341e(0x14b)),'role':_0xe664f1,'profile':_0x3259dd,'products':_0x1e99ac,'master_shop':_0xf8e3e7,'language':_0xfebe1a});}),router[a0_0x792d87(0x11f)](a0_0x792d87(0x136),auth,async(_0x4bf143,_0x1ed3c3)=>{const _0x49b91f=a0_0x792d87,_0x579ec4=await product[_0x49b91f(0x11d)]();_0x1ed3c3[_0x49b91f(0x151)]({'data':_0x579ec4});}),router['post'](a0_0x792d87(0x120),auth,async(_0x3c36f7,_0x23a583)=>{const _0x42b626=a0_0x792d87;try{const {dataProdCat:_0x639fd0,dataProdIdentity:_0x20d253}=_0x3c36f7[_0x42b626(0x1c0)];var _0x2863d3;switch(_0x639fd0){case'fg':switch(_0x20d253){case _0x42b626(0x131):_0x2863d3=await product['aggregate']([{'$match':{'product_category':_0x42b626(0x153)}},{'$group':{'_id':_0x42b626(0x14f)}},{'$project':{'brand':_0x42b626(0x176)}}]);break;case _0x42b626(0x179):_0x2863d3=await product[_0x42b626(0x126)]([{'$match':{'product_category':'Finished\x20Goods'}},{'$group':{'_id':_0x42b626(0x13d)}},{'$project':{'category':_0x42b626(0x176)}}]);break;}break;case'rm':switch(_0x20d253){case _0x42b626(0x131):_0x2863d3=await product[_0x42b626(0x126)]([{'$match':{'product_category':_0x42b626(0x114)}},{'$group':{'_id':_0x42b626(0x14f)}},{'$project':{'brand':'$_id'}}]);break;case _0x42b626(0x179):_0x2863d3=await product['aggregate']([{'$match':{'product_category':_0x42b626(0x114)}},{'$group':{'_id':_0x42b626(0x13d)}},{'$project':{'category':_0x42b626(0x176)}}]);break;}break;}_0x23a583[_0x42b626(0x151)](_0x2863d3);}catch(_0x4a475e){_0x23a583[_0x42b626(0x151)]({'message':_0x4a475e[_0x42b626(0x10d)]});}}),router['post'](a0_0x792d87(0x178),auth,async(_0x5b4b17,_0x2f0278)=>{const _0x23859c=a0_0x792d87;try{console['log'](_0x5b4b17['body']);const {prod_cat:_0x1ca309,identity:_0x385f1a,valueData:_0x3f12d2,typeofbarcode:_0x404eb5}=_0x5b4b17['body'];let _0x58c430;switch(_0x1ca309){case'fg':if(_0x385f1a=='Brands')_0x58c430=await product[_0x23859c(0x126)]([{'$match':{'product_category':_0x23859c(0x153),'brand':_0x3f12d2}}]);else _0x385f1a==_0x23859c(0x179)&&(_0x58c430=await product[_0x23859c(0x126)]([{'$match':{'product_category':_0x23859c(0x153),'category':_0x3f12d2}}]));break;case'rm':if(_0x385f1a==_0x23859c(0x131))_0x58c430=await product[_0x23859c(0x126)]([{'$match':{'product_category':_0x23859c(0x114),'brand':_0x3f12d2}}]);else _0x385f1a==_0x23859c(0x179)&&(_0x58c430=await product[_0x23859c(0x126)]([{'$match':{'product_category':_0x23859c(0x114),'category':_0x3f12d2}}]));break;}const _0x17fc67=_0x2e5869=>_0x2e5869*0x48,_0x438df5={'width':0x3,'height':0x1},_0x1e979d=new PDFDocument({'margin':_0x17fc67(0.75),'size':[_0x17fc67(_0x438df5[_0x23859c(0x168)]),_0x17fc67(_0x438df5[_0x23859c(0x169)])],'bufferPages':!![]}),_0x33d45b=_0x58c430[_0x23859c(0x1c2)];for(let _0x29831b=0x0;_0x29831b<=_0x33d45b;_0x29831b++){if(_0x29831b!=_0x33d45b){const _0x2708b0=_0x58c430[_0x29831b]['name'],_0x295fd8=_0x58c430[_0x29831b][_0x23859c(0x172)],_0x5ed52a=_0x58c430[_0x29831b][_0x23859c(0x11b)],_0x1f7ae1=_0x58c430[_0x29831b][_0x23859c(0x127)];var _0x1f02bd;switch(_0x404eb5){case'1':_0x1f02bd=_0x295fd8;break;case'2':_0x1f02bd=_0x5ed52a;break;case'3':_0x1f02bd=_0x1f7ae1;break;}const _0x10c8bf={'width':0xd2,'height':0x64},_0x4e7a42={'width':_0x17fc67(_0x438df5['width']),'height':_0x17fc67(_0x438df5['height'])},_0x249e6d=new Canvas();JsBarcode(_0x249e6d,_0x1f02bd,{'format':'CODE128','height':_0x10c8bf[_0x23859c(0x169)],'displayValue':!![],'text':_0x1f02bd});const _0x1d615e=_0x249e6d[_0x23859c(0x166)](),_0x574203=_0x4e7a42['width']/_0x10c8bf[_0x23859c(0x168)],_0x4c5f61=_0x4e7a42[_0x23859c(0x169)]/_0x10c8bf[_0x23859c(0x169)],_0x193cd0=Math[_0x23859c(0x12d)](_0x574203,_0x4c5f61),_0x4f72f0=_0x10c8bf[_0x23859c(0x168)]*_0x193cd0,_0x4e9341=_0x10c8bf['height']*_0x193cd0,_0x2de3f1=(_0x4e7a42[_0x23859c(0x168)]-_0x4f72f0)/0x2,_0x5dc588=(_0x4e7a42[_0x23859c(0x169)]-_0x4e9341)/0x2;_0x1e979d[_0x23859c(0x192)](_0x1d615e,_0x2de3f1,_0x5dc588,{'width':_0x4f72f0,'height':_0x4e9341}),_0x29831b!=_0x33d45b&&_0x1e979d[_0x23859c(0x123)]();}}const _0x2af52d=[];_0x1e979d['on'](_0x23859c(0x110),_0x2af52d[_0x23859c(0x183)]['bind'](_0x2af52d)),_0x1e979d['on'](_0x23859c(0x1a3),()=>{const _0x59d014=_0x23859c,_0x633d56=Buffer[_0x59d014(0x1c3)](_0x2af52d),_0x5d2d16=_0x633d56[_0x59d014(0x139)](_0x59d014(0x18d));_0x2f0278[_0x59d014(0x151)]({'pdfContent':_0x5d2d16});}),_0x1e979d[_0x23859c(0x1a3)]();}catch(_0x28ca99){_0x2f0278[_0x23859c(0x151)]({'message':_0x28ca99[_0x23859c(0x10d)]});}}),router[a0_0x792d87(0x11f)](a0_0x792d87(0x128),auth,async(_0x591387,_0x20fa74)=>{const _0x350854=a0_0x792d87;try{console[_0x350854(0x115)](_0x591387['body']);const {prod_cat:_0x3aff54,identity:_0x3ac503,valueData:_0x2826bd}=_0x591387[_0x350854(0x1c0)];let _0x2b0e56;switch(_0x3aff54){case'fg':if(_0x3ac503=='Brands')_0x2b0e56=await product[_0x350854(0x126)]([{'$match':{'product_category':'Finished\x20Goods','brand':_0x2826bd}}]);else _0x3ac503==_0x350854(0x179)&&(_0x2b0e56=await product[_0x350854(0x126)]([{'$match':{'product_category':_0x350854(0x153),'category':_0x2826bd}}]));break;case'rm':if(_0x3ac503==_0x350854(0x131))_0x2b0e56=await product[_0x350854(0x126)]([{'$match':{'product_category':'Raw\x20Materials','brand':_0x2826bd}}]);else _0x3ac503=='Category'&&(_0x2b0e56=await product[_0x350854(0x126)]([{'$match':{'product_category':'Raw\x20Materials','category':_0x2826bd}}]));break;}_0x20fa74[_0x350854(0x151)]({'data':_0x2b0e56});}catch(_0x26ea4e){_0x20fa74[_0x350854(0x151)]({'message':_0x26ea4e[_0x350854(0x10d)]});}}),router[a0_0x792d87(0x11f)](a0_0x792d87(0x18c),auth,async(_0xba4852,_0x52d7fa)=>{const _0x1d59b2=a0_0x792d87;try{const _0x204399=_0xba4852[_0x1d59b2(0x175)]['id'],{copies:_0x8c6ec9,typeofbarcode:_0xd7a12}=_0xba4852[_0x1d59b2(0x1c0)];var _0x3b569a=await product['findById'](_0x204399);const _0x2748fe=_0x134178=>_0x134178*0x48,_0x565519={'width':0x3,'height':0x1},_0x21ec33=new PDFDocument({'margin':_0x2748fe(0.75),'size':[_0x2748fe(_0x565519['width']),_0x2748fe(_0x565519['height'])],'bufferPages':!![]}),_0xbe331e=_0x8c6ec9,_0x40dfa5=_0x3b569a[_0x1d59b2(0x122)],_0x1d92d8=_0x3b569a[_0x1d59b2(0x172)],_0x59aaa0=_0x3b569a['secondary_code'],_0x118a13=_0x3b569a[_0x1d59b2(0x127)];let _0x43ee46;switch(_0xd7a12){case'1':_0x43ee46=_0x1d92d8;break;case'2':_0x43ee46=_0x59aaa0;break;case'3':_0x43ee46=_0x118a13;break;}const _0x5e7cd5={'width':0xd2,'height':0x64},_0x5937fb={'width':_0x2748fe(_0x565519['width']),'height':_0x2748fe(_0x565519[_0x1d59b2(0x169)])};for(let _0x3f1683=0x1;_0x3f1683<=_0xbe331e;_0x3f1683++){const _0x4dcee5=new Canvas();JsBarcode(_0x4dcee5,_0x43ee46,{'format':_0x1d59b2(0x129),'height':_0x5e7cd5[_0x1d59b2(0x169)],'displayValue':!![],'text':_0x43ee46});const _0x4bccb6=_0x4dcee5[_0x1d59b2(0x166)](),_0x3141a0=_0x5937fb[_0x1d59b2(0x168)]/_0x5e7cd5[_0x1d59b2(0x168)],_0xdabdc3=_0x5937fb[_0x1d59b2(0x169)]/_0x5e7cd5[_0x1d59b2(0x169)],_0x1a2a1d=Math['min'](_0x3141a0,_0xdabdc3),_0xeb38d2=_0x5e7cd5[_0x1d59b2(0x168)]*_0x1a2a1d,_0x2c05be=_0x5e7cd5[_0x1d59b2(0x169)]*_0x1a2a1d,_0x2b9bad=(_0x5937fb[_0x1d59b2(0x168)]-_0xeb38d2)/0x2,_0x1a324e=(_0x5937fb[_0x1d59b2(0x169)]-_0x2c05be)/0x2;_0x21ec33[_0x1d59b2(0x192)](_0x4bccb6,_0x2b9bad,_0x1a324e,{'width':_0xeb38d2,'height':_0x2c05be}),_0x3f1683!=_0xbe331e&&_0x21ec33[_0x1d59b2(0x123)]();}const _0x396c1c=[];_0x21ec33['on'](_0x1d59b2(0x110),_0x396c1c[_0x1d59b2(0x183)]['bind'](_0x396c1c)),_0x21ec33['on'](_0x1d59b2(0x1a3),()=>{const _0x3ed2eb=_0x1d59b2,_0x135862=Buffer[_0x3ed2eb(0x1c3)](_0x396c1c),_0x21b33f=_0x135862['toString'](_0x3ed2eb(0x18d));_0x52d7fa[_0x3ed2eb(0x151)]({'pdfContent':_0x21b33f});}),_0x21ec33[_0x1d59b2(0x1a3)]();}catch(_0x2bb9b1){_0x52d7fa['json']({'message':_0x2bb9b1['message']});}}),module[a0_0x792d87(0x130)]=router;