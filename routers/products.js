const a0_0x4c0a20=a0_0x4432;(function(_0x15b2a2,_0x3429fa){const _0x596d43=a0_0x4432,_0x153e3a=_0x15b2a2();while(!![]){try{const _0x4a3541=parseInt(_0x596d43(0xf1))/0x1+-parseInt(_0x596d43(0xdf))/0x2+-parseInt(_0x596d43(0x99))/0x3*(-parseInt(_0x596d43(0xa8))/0x4)+-parseInt(_0x596d43(0xdb))/0x5+-parseInt(_0x596d43(0x9f))/0x6+parseInt(_0x596d43(0xe2))/0x7*(parseInt(_0x596d43(0xec))/0x8)+parseInt(_0x596d43(0xe1))/0x9;if(_0x4a3541===_0x3429fa)break;else _0x153e3a['push'](_0x153e3a['shift']());}catch(_0xb0a7ef){_0x153e3a['push'](_0x153e3a['shift']());}}}(a0_0x24a1,0x907d1));const express=require(a0_0x4c0a20(0xf3)),res=require(a0_0x4c0a20(0x92)),app=express(),router=express[a0_0x4c0a20(0xa1)](),multer=require('multer'),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x4c0a20(0xd7)),auth=require(a0_0x4c0a20(0xaf)),users=require(a0_0x4c0a20(0x9a)),excelJS=require(a0_0x4c0a20(0xa0)),xlsx=require('xlsx'),JsBarcode=require(a0_0x4c0a20(0x108)),{Canvas}=require(a0_0x4c0a20(0xd3)),PDFDocument=require(a0_0x4c0a20(0x74));router[a0_0x4c0a20(0xb6)](a0_0x4c0a20(0x94),auth,async(_0x317ab0,_0x95fc97)=>{const _0x51a58d=a0_0x4c0a20;try{const {username:_0x5cd96a,email:_0x4949c0,role:_0x16fb68}=_0x317ab0[_0x51a58d(0x12b)],_0x5f2576=_0x317ab0[_0x51a58d(0x12b)],_0x503e9f=await profile[_0x51a58d(0x10c)]({'email':_0x5f2576['email']}),_0x202bd3=await master_shop[_0x51a58d(0x76)]();console[_0x51a58d(0xc3)](_0x51a58d(0xa9),_0x202bd3);const _0xae2da4=await categories[_0x51a58d(0x76)]();if(_0x202bd3[0x0][_0x51a58d(0x78)]==_0x51a58d(0x118))var _0x595ae3=users[_0x51a58d(0x82)];else{if(_0x202bd3[0x0][_0x51a58d(0x78)]==_0x51a58d(0x121))var _0x595ae3=users['Hindi'];else{if(_0x202bd3[0x0]['language']==_0x51a58d(0x120))var _0x595ae3=users[_0x51a58d(0x120)];else{if(_0x202bd3[0x0]['language']==_0x51a58d(0xea))var _0x595ae3=users['Spanish'];else{if(_0x202bd3[0x0][_0x51a58d(0x78)]==_0x51a58d(0xb5))var _0x595ae3=users[_0x51a58d(0xb5)];else{if(_0x202bd3[0x0][_0x51a58d(0x78)]=='Portuguese\x20(BR)')var _0x595ae3=users[_0x51a58d(0x8b)];else{if(_0x202bd3[0x0][_0x51a58d(0x78)]=='Chinese')var _0x595ae3=users[_0x51a58d(0x9e)];else{if(_0x202bd3[0x0]['language']==_0x51a58d(0xdc))var _0x595ae3=users[_0x51a58d(0xfa)];}}}}}}}_0x95fc97[_0x51a58d(0x127)](_0x51a58d(0xa2),{'success':_0x317ab0[_0x51a58d(0x8c)](_0x51a58d(0xab)),'errors':_0x317ab0[_0x51a58d(0x8c)](_0x51a58d(0x81)),'role':_0x5f2576,'profile':_0x503e9f,'user':_0xae2da4,'master_shop':_0x202bd3,'language':_0x595ae3});}catch(_0x429053){console[_0x51a58d(0xc3)](_0x429053);}}),router['post'](a0_0x4c0a20(0x94),auth,async(_0x2bb675,_0x5cacab)=>{const _0x459c9b=a0_0x4c0a20;try{const {name:_0x181628,products:_0x1bdd46}=_0x2bb675[_0x459c9b(0xdd)],_0x5c7e59=new categories({'name':_0x181628,'products':_0x1bdd46}),_0x2cee18=await categories['findOne']({'name':_0x181628});_0x2cee18?_0x2bb675[_0x459c9b(0x8c)](_0x459c9b(0x81),_0x181628+_0x459c9b(0xf6)):_0x2bb675[_0x459c9b(0x8c)](_0x459c9b(0xab),_0x181628+'\x20categories\x20is\x20add\x20successfully');const _0x489bbc=await _0x5c7e59[_0x459c9b(0x129)]();_0x5cacab['redirect'](_0x459c9b(0x111));}catch(_0x50160c){console[_0x459c9b(0xc3)](_0x50160c);}}),router[a0_0x4c0a20(0xb6)](a0_0x4c0a20(0xf5),auth,async(_0x2aaca7,_0x54d204)=>{const _0x159978=a0_0x4c0a20;try{const {username:_0x3426d4,email:_0x4c33c5,role:_0x53d7e3}=_0x2aaca7['user'],_0x5c76c5=_0x2aaca7[_0x159978(0x12b)],_0x443415=await profile['findOne']({'email':_0x5c76c5[_0x159978(0xca)]}),_0x85bb91=await master_shop['find']();console[_0x159978(0xc3)](_0x159978(0xa9),_0x85bb91);const _0x917857=_0x2aaca7[_0x159978(0xb8)]['id'];console[_0x159978(0xc3)](_0x917857);const _0x183073=await categories[_0x159978(0x80)](_0x917857);if(_0x85bb91[0x0][_0x159978(0x78)]=='English\x20(US)')var _0x8e667f=users[_0x159978(0x82)];else{if(_0x85bb91[0x0][_0x159978(0x78)]==_0x159978(0x121))var _0x8e667f=users[_0x159978(0x121)];else{if(_0x85bb91[0x0][_0x159978(0x78)]==_0x159978(0x120))var _0x8e667f=users[_0x159978(0x120)];else{if(_0x85bb91[0x0][_0x159978(0x78)]=='Spanish')var _0x8e667f=users[_0x159978(0xea)];else{if(_0x85bb91[0x0][_0x159978(0x78)]==_0x159978(0xb5))var _0x8e667f=users[_0x159978(0xb5)];else{if(_0x85bb91[0x0]['language']==_0x159978(0xc6))var _0x8e667f=users[_0x159978(0x8b)];else{if(_0x85bb91[0x0][_0x159978(0x78)]=='Chinese')var _0x8e667f=users[_0x159978(0x9e)];else{if(_0x85bb91[0x0][_0x159978(0x78)]==_0x159978(0xdc))var _0x8e667f=users[_0x159978(0xfa)];}}}}}}}_0x54d204[_0x159978(0x127)](_0x159978(0xa2),{'success':_0x2aaca7[_0x159978(0x8c)](_0x159978(0xab)),'errors':_0x2aaca7[_0x159978(0x8c)]('errors'),'role':_0x5c76c5,'profile':_0x443415,'master_shop':_0x85bb91,'user':_0x183073,'language':_0x8e667f});}catch(_0xde9ac2){console[_0x159978(0xc3)](_0xde9ac2);}}),router[a0_0x4c0a20(0xd2)](a0_0x4c0a20(0xf5),auth,async(_0x31d689,_0x234101)=>{const _0x2ef351=a0_0x4c0a20;try{const _0x45671b=_0x31d689[_0x2ef351(0xb8)]['id'],_0x5dcf14=await categories[_0x2ef351(0x12f)](_0x45671b,_0x31d689[_0x2ef351(0xdd)]);_0x31d689[_0x2ef351(0x8c)](_0x2ef351(0xab),''+users[_0x2ef351(0x9c)]),_0x234101[_0x2ef351(0x83)]('/products/categories');}catch(_0x3cc157){console[_0x2ef351(0xc3)](_0x3cc157);}}),router[a0_0x4c0a20(0xb6)](a0_0x4c0a20(0x75),auth,async(_0x4b8928,_0x2a4ead)=>{const _0x1a54dc=a0_0x4c0a20;try{const _0x362332=_0x4b8928[_0x1a54dc(0xb8)]['id'],_0x7e3d55=await categories[_0x1a54dc(0x77)](_0x362332);_0x4b8928['flash'](_0x1a54dc(0xab),_0x1a54dc(0x103)),_0x2a4ead[_0x1a54dc(0x83)]('/products/categories');}catch(_0x51bcd6){console[_0x1a54dc(0xc3)](_0x51bcd6);}}),router[a0_0x4c0a20(0xb6)](a0_0x4c0a20(0x11d),auth,async(_0x332d2d,_0x21aa49)=>{const _0x28d54a=a0_0x4c0a20;try{const {username:_0x7f8ba3,email:_0xba8541,role:_0x40e944}=_0x332d2d[_0x28d54a(0x12b)],_0x2dcb9e=_0x332d2d[_0x28d54a(0x12b)],_0x53e5da=await profile[_0x28d54a(0x10c)]({'email':_0x2dcb9e[_0x28d54a(0xca)]}),_0x504a17=await master_shop[_0x28d54a(0x76)]();console[_0x28d54a(0xc3)](_0x28d54a(0xa9),_0x504a17);const _0x250d15=await brands['find']();if(_0x504a17[0x0][_0x28d54a(0x78)]=='English\x20(US)')var _0x256b92=users[_0x28d54a(0x82)];else{if(_0x504a17[0x0][_0x28d54a(0x78)]=='Hindi')var _0x256b92=users['Hindi'];else{if(_0x504a17[0x0][_0x28d54a(0x78)]==_0x28d54a(0x120))var _0x256b92=users[_0x28d54a(0x120)];else{if(_0x504a17[0x0][_0x28d54a(0x78)]==_0x28d54a(0xea))var _0x256b92=users[_0x28d54a(0xea)];else{if(_0x504a17[0x0][_0x28d54a(0x78)]==_0x28d54a(0xb5))var _0x256b92=users['French'];else{if(_0x504a17[0x0][_0x28d54a(0x78)]==_0x28d54a(0xc6))var _0x256b92=users[_0x28d54a(0x8b)];else{if(_0x504a17[0x0]['language']==_0x28d54a(0x9e))var _0x256b92=users[_0x28d54a(0x9e)];else{if(_0x504a17[0x0][_0x28d54a(0x78)]==_0x28d54a(0xdc))var _0x256b92=users['Arabic'];}}}}}}}_0x21aa49['render'](_0x28d54a(0xbc),{'success':_0x332d2d[_0x28d54a(0x8c)](_0x28d54a(0xab)),'errors':_0x332d2d['flash'](_0x28d54a(0x81)),'role':_0x2dcb9e,'profile':_0x53e5da,'master_shop':_0x504a17,'user':_0x250d15,'language':_0x256b92});}catch(_0xefd24c){console[_0x28d54a(0xc3)](_0xefd24c);}}),router[a0_0x4c0a20(0xd2)](a0_0x4c0a20(0x11d),auth,async(_0x58a7f3,_0xe02434)=>{const _0x47deff=a0_0x4c0a20;try{const {name:_0x2d6151,products:_0x395c66}=_0x58a7f3[_0x47deff(0xdd)],_0x2ff54c=new brands({'name':_0x2d6151,'products':_0x395c66}),_0x316a70=await brands[_0x47deff(0x10c)]({'name':_0x2d6151});_0x316a70?_0x58a7f3[_0x47deff(0x8c)]('errors',_0x2d6151+_0x47deff(0x117)):_0x58a7f3['flash'](_0x47deff(0xab),_0x2d6151+_0x47deff(0x12c));const _0x3b75c0=await _0x2ff54c['save']();_0xe02434[_0x47deff(0x83)](_0x47deff(0x7d));}catch(_0x37c5fa){console[_0x47deff(0xc3)](_0x37c5fa);}}),router[a0_0x4c0a20(0xb6)]('/brands/:id',auth,async(_0x5e3748,_0x13d6b2)=>{const _0x18de74=a0_0x4c0a20;try{const {username:_0xf61aac,email:_0x537828,role:_0x3db905}=_0x5e3748[_0x18de74(0x12b)],_0x2b0392=_0x5e3748[_0x18de74(0x12b)],_0xb0e6ed=await profile[_0x18de74(0x10c)]({'email':_0x2b0392[_0x18de74(0xca)]}),_0x511a9a=await master_shop[_0x18de74(0x76)]();console[_0x18de74(0xc3)](_0x18de74(0xa9),_0x511a9a);const _0x308e88=_0x5e3748['params']['id'];console[_0x18de74(0xc3)](_0x308e88);const _0x1b8239=await brands[_0x18de74(0x80)](_0x308e88);if(_0x511a9a[0x0][_0x18de74(0x78)]==_0x18de74(0x118))var _0x1630f4=users[_0x18de74(0x82)];else{if(_0x511a9a[0x0][_0x18de74(0x78)]==_0x18de74(0x121))var _0x1630f4=users['Hindi'];else{if(_0x511a9a[0x0][_0x18de74(0x78)]==_0x18de74(0x120))var _0x1630f4=users[_0x18de74(0x120)];else{if(_0x511a9a[0x0]['language']=='Spanish')var _0x1630f4=users[_0x18de74(0xea)];else{if(_0x511a9a[0x0][_0x18de74(0x78)]=='French')var _0x1630f4=users[_0x18de74(0xb5)];else{if(_0x511a9a[0x0][_0x18de74(0x78)]==_0x18de74(0xc6))var _0x1630f4=users[_0x18de74(0x8b)];else{if(_0x511a9a[0x0][_0x18de74(0x78)]==_0x18de74(0x9e))var _0x1630f4=users[_0x18de74(0x9e)];else{if(_0x511a9a[0x0][_0x18de74(0x78)]==_0x18de74(0xdc))var _0x1630f4=users['Arabic'];}}}}}}}_0x13d6b2['render']('brands',{'success':_0x5e3748[_0x18de74(0x8c)](_0x18de74(0xab)),'errors':_0x5e3748[_0x18de74(0x8c)](_0x18de74(0x81)),'role':_0x2b0392,'profile':_0xb0e6ed,'master_shop':_0x511a9a,'user':_0x1b8239,'language':_0x1630f4});}catch(_0x3c631a){console[_0x18de74(0xc3)](_0x3c631a);}}),router[a0_0x4c0a20(0xd2)](a0_0x4c0a20(0xf0),auth,async(_0x32b3ee,_0x3fa53c)=>{const _0x5d85b1=a0_0x4c0a20;try{const _0x33c3e8=_0x32b3ee[_0x5d85b1(0xb8)]['id'],_0x3ec6e3=await brands[_0x5d85b1(0x12f)](_0x33c3e8,_0x32b3ee[_0x5d85b1(0xdd)]);_0x32b3ee[_0x5d85b1(0x8c)](_0x5d85b1(0xab),_0x5d85b1(0xef)),_0x3fa53c[_0x5d85b1(0x83)](_0x5d85b1(0x7d));}catch(_0xb5bc24){console[_0x5d85b1(0xc3)](_0xb5bc24);}}),router['get'](a0_0x4c0a20(0x11b),auth,async(_0x28c5c,_0x578bdf)=>{const _0x55d300=a0_0x4c0a20;try{const _0x19488d=_0x28c5c[_0x55d300(0xb8)]['id'],_0x538438=await brands['findByIdAndDelete'](_0x19488d);_0x28c5c[_0x55d300(0x8c)](_0x55d300(0xab),_0x55d300(0xa6)),_0x578bdf[_0x55d300(0x83)]('/products/brands');}catch(_0x3fc25c){console['log'](_0x3fc25c);}}),router[a0_0x4c0a20(0xb6)]('/units',auth,async(_0x203ddc,_0x441402)=>{const _0x4e84db=a0_0x4c0a20;try{const {username:_0x3ccc9c,email:_0x3bb212,role:_0x3dee23}=_0x203ddc[_0x4e84db(0x12b)],_0x2f91d8=_0x203ddc[_0x4e84db(0x12b)],_0x382437=await profile[_0x4e84db(0x10c)]({'email':_0x2f91d8[_0x4e84db(0xca)]}),_0x4f1ab7=await master_shop[_0x4e84db(0x76)]();console[_0x4e84db(0xc3)]('master',_0x4f1ab7);const _0x5e5b14=await units[_0x4e84db(0x76)]();if(_0x4f1ab7[0x0]['language']==_0x4e84db(0x118))var _0xa50e62=users['English'];else{if(_0x4f1ab7[0x0][_0x4e84db(0x78)]==_0x4e84db(0x121))var _0xa50e62=users[_0x4e84db(0x121)];else{if(_0x4f1ab7[0x0][_0x4e84db(0x78)]=='German')var _0xa50e62=users[_0x4e84db(0x120)];else{if(_0x4f1ab7[0x0]['language']==_0x4e84db(0xea))var _0xa50e62=users[_0x4e84db(0xea)];else{if(_0x4f1ab7[0x0][_0x4e84db(0x78)]==_0x4e84db(0xb5))var _0xa50e62=users[_0x4e84db(0xb5)];else{if(_0x4f1ab7[0x0][_0x4e84db(0x78)]=='Portuguese\x20(BR)')var _0xa50e62=users[_0x4e84db(0x8b)];else{if(_0x4f1ab7[0x0][_0x4e84db(0x78)]==_0x4e84db(0x9e))var _0xa50e62=users['Chinese'];else{if(_0x4f1ab7[0x0][_0x4e84db(0x78)]==_0x4e84db(0xdc))var _0xa50e62=users[_0x4e84db(0xfa)];}}}}}}}_0x441402[_0x4e84db(0x127)](_0x4e84db(0x109),{'success':_0x203ddc['flash'](_0x4e84db(0xab)),'errors':_0x203ddc[_0x4e84db(0x8c)](_0x4e84db(0x81)),'role':_0x2f91d8,'profile':_0x382437,'master_shop':_0x4f1ab7,'user':_0x5e5b14,'language':_0xa50e62});}catch(_0x1d9e30){console[_0x4e84db(0xc3)](_0x1d9e30);}}),router[a0_0x4c0a20(0xd2)](a0_0x4c0a20(0x110),auth,async(_0x41de23,_0x511eca)=>{const _0x4de81f=a0_0x4c0a20;try{const {name:_0x492ee6,secondary_unit:_0x4cbf6a,products:_0x47c3fa}=_0x41de23[_0x4de81f(0xdd)],_0x17c016=new units({'name':_0x492ee6,'secondary_unit':_0x4cbf6a,'products':_0x47c3fa}),_0x4267a3=await units[_0x4de81f(0x10c)]({'name':_0x492ee6});_0x4267a3?_0x41de23['flash'](_0x4de81f(0x81),_0x492ee6+_0x4de81f(0xa4)):_0x41de23[_0x4de81f(0x8c)](_0x4de81f(0xab),_0x492ee6+'\x20unit\x20is\x20add\x20successfully');const _0x4ab2b5=await _0x17c016[_0x4de81f(0x129)]();_0x511eca[_0x4de81f(0x83)](_0x4de81f(0xc9));}catch(_0x3c0cb3){console[_0x4de81f(0xc3)](_0x3c0cb3);}}),router[a0_0x4c0a20(0xb6)](a0_0x4c0a20(0xd8),auth,async(_0x2fa792,_0x19bae2)=>{const _0x329967=a0_0x4c0a20;try{const {username:_0x35fbfe,email:_0x1ad0eb,role:_0x22f732}=_0x2fa792[_0x329967(0x12b)],_0x5c38c8=_0x2fa792['user'],_0x3ec470=await profile['findOne']({'email':_0x5c38c8[_0x329967(0xca)]}),_0x4c0161=await master_shop['find']();console[_0x329967(0xc3)](_0x329967(0xa9),_0x4c0161);const _0x45c51a=_0x2fa792[_0x329967(0xb8)]['id'],_0x2bece3=await units['findById'](_0x45c51a);if(_0x4c0161[0x0][_0x329967(0x78)]==_0x329967(0x118))var _0x58a351=users[_0x329967(0x82)];else{if(_0x4c0161[0x0][_0x329967(0x78)]=='Hindi')var _0x58a351=users['Hindi'];else{if(_0x4c0161[0x0][_0x329967(0x78)]=='German')var _0x58a351=users[_0x329967(0x120)];else{if(_0x4c0161[0x0][_0x329967(0x78)]==_0x329967(0xea))var _0x58a351=users['Spanish'];else{if(_0x4c0161[0x0]['language']=='French')var _0x58a351=users[_0x329967(0xb5)];else{if(_0x4c0161[0x0][_0x329967(0x78)]==_0x329967(0xc6))var _0x58a351=users['Portuguese'];else{if(_0x4c0161[0x0][_0x329967(0x78)]=='Chinese')var _0x58a351=users[_0x329967(0x9e)];else{if(_0x4c0161[0x0][_0x329967(0x78)]==_0x329967(0xdc))var _0x58a351=users[_0x329967(0xfa)];}}}}}}}_0x19bae2[_0x329967(0x127)]('units',{'success':_0x2fa792[_0x329967(0x8c)](_0x329967(0xab)),'errors':_0x2fa792['flash'](_0x329967(0x81)),'role':_0x5c38c8,'profile':_0x3ec470,'master_shop':_0x4c0161,'user':_0x2bece3,'language':_0x58a351});}catch(_0x510d91){console[_0x329967(0xc3)](_0x510d91);}}),router[a0_0x4c0a20(0xd2)](a0_0x4c0a20(0xd8),auth,async(_0x2d94cb,_0x5306e6)=>{const _0x523476=a0_0x4c0a20;try{const _0x3a7f5d=_0x2d94cb['params']['id'],_0x3f0522=await units['findByIdAndUpdate'](_0x3a7f5d,_0x2d94cb[_0x523476(0xdd)]);_0x2d94cb['flash'](_0x523476(0xab),'unit\x20data\x20update\x20successfully'),_0x5306e6[_0x523476(0x83)](_0x523476(0xc9));}catch(_0xdc5875){console[_0x523476(0xc3)](_0xdc5875);}}),router['get'](a0_0x4c0a20(0x124),auth,async(_0x4661fd,_0x350d59)=>{const _0x39bfe9=a0_0x4c0a20;try{const _0x255f60=_0x4661fd['params']['id'],_0x869771=await units[_0x39bfe9(0x77)](_0x255f60);_0x4661fd['flash'](_0x39bfe9(0xab),_0x39bfe9(0x128)),_0x350d59[_0x39bfe9(0x83)](_0x39bfe9(0xc9));}catch(_0x191cb0){console[_0x39bfe9(0xc3)](_0x191cb0);}});const storage=multer[a0_0x4c0a20(0x7b)]({'destination':(_0xee370d,_0x1899a4,_0x30858c)=>{_0x30858c(null,'public/upload');},'filename':(_0x39d3d3,_0x3f0f58,_0xc35f03)=>{const _0x58e319=a0_0x4c0a20;_0xc35f03(null,Date[_0x58e319(0x100)]()+_0x3f0f58['originalname']);}}),upload=multer({'storage':storage});function a0_0x24a1(){const _0x37a804=['push','unit','category','/products_import_migrate_file','forEach','_id','product_code','\x20Edit\x20Successfully','maxProdPerUnit','secondary_code','pdfkit-table','/categories/delete/:id','find','findByIdAndDelete','language','map','end','diskStorage','$product_details.product_name','/products/brands','min','prod_categ','findById','errors','English','redirect','/select_data','PUnits','defaultProduct.avif','$brand','setHeader','then','Category','Portuguese','flash','$category','json','Product_Name','Product_Code','filename','express/lib/response','edit_product','/categories','$product_stock','/view','Secondary_Units','max_number_per_units','193863qzuDgA','../public/language/languages.json','migrate_product_fule','categories_edit','product_barcode_products','Chinese','7030338IZgDeY','exceljs','Router','categories','name','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Secondary_Code','brand\x20data\x20delete\x20successfully','single','16CMfUgd','master','barcode\x20user_id','success','CODE128','addPage','data','../middleware/auth','columns','public/Migration/','ProductCode','status','toBuffer','French','get','product_details.product_name','params','image','/print_barcode_single/:id','/barcode/:id','brands','$product_docs','numeric','Brands','/print_barcode_filter_search/','/view/add_products','Enabled','log','Products_category','product_barcode','Portuguese\x20(BR)','product_stock','categ','/products/units','email','\x20<>\x20','PAlQty','/filter_product','PName','Prod_Cat','/view/:id','/products/view','post','canvas','$_id','aggregate','attachment;\x20filename=Product_Migration_File.xlsx','../models/all_models','/units/:id','Products\x20master','$product_details.product_stock','5223370gBoSeE','Arabic\x20(ae)','body','products','52392vrJzIy','product\x20update\x20successfully','13282155NBNIww','5110uKrGIa','length','addWorksheet','Products\x20warehouse_data','sheet_to_json','Content-Disposition','PCat','$product_name','Spanish','maxStocks','7160FZGaAL','stock','SheetNames','brand\x20data\x20update\x20successfully','/brands/:id','446789uaLrFy','product_category','express','$secondary_unit','/categories/:id','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','width','primary_code','toString','Arabic','warehouse','alertquantity','Primary_Code','/print_barcode','Sheets','now','base64','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','categories\x20data\x20delete\x20successfully','file','brand','/barcode_filter','height','jsbarcode','units','long','message','findOne','send','/products_export_migrate_file','edit\x20Product\x20master','/units','/products/categories','concat','Units','secondary_unit','/barcode_data','MaxperUnits','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','English\x20(US)','public/Migration','/print_barcode_filter/','/brands/delete/:id','Raw\x20Materials','/brands','Maximum_Stocks','Finished\x20Goods','German','Hindi','product\x20add\x20successfully','Products\x20find_data','/units/delete/:id','write','\x20added\x20successfully','render','unit\x20data\x20delete\x20successfully','save','readFile','user','\x20brand\x20is\x20add\x20successfully','Alert_QTY','bind','findByIdAndUpdate'];a0_0x24a1=function(){return _0x37a804;};return a0_0x24a1();}function a0_0x4432(_0x4035ac,_0x2c6f6b){const _0x24a1b4=a0_0x24a1();return a0_0x4432=function(_0x4432e5,_0x4d062a){_0x4432e5=_0x4432e5-0x71;let _0x2f4a0c=_0x24a1b4[_0x4432e5];return _0x2f4a0c;},a0_0x4432(_0x4035ac,_0x2c6f6b);}router[a0_0x4c0a20(0xb6)](a0_0x4c0a20(0x96),auth,async(_0x3df118,_0x4c73bb)=>{const _0xa6fc98=a0_0x4c0a20;try{const {username:_0x46c155,email:_0x5562bd,role:_0x205ebf}=_0x3df118[_0xa6fc98(0x12b)],_0x5bec3c=_0x3df118[_0xa6fc98(0x12b)],_0x2255e9=await profile['findOne']({'email':_0x5bec3c[_0xa6fc98(0xca)]}),_0x16d891={'year':_0xa6fc98(0xbe),'month':_0xa6fc98(0x10a),'day':_0xa6fc98(0xbe)},_0x2e7bb3=await master_shop[_0xa6fc98(0x76)]();console[_0xa6fc98(0xc3)](_0xa6fc98(0xd9),_0x2e7bb3);const _0x1884db=await product[_0xa6fc98(0x76)]();console[_0xa6fc98(0xc3)](_0xa6fc98(0x123),_0x1884db);const _0x3a5c89=await warehouse[_0xa6fc98(0xd5)]([{'$unwind':'$product_details'},{'$lookup':{'from':'products','localField':_0xa6fc98(0xb7),'foreignField':_0xa6fc98(0xa3),'as':'product_docs'}},{'$unwind':_0xa6fc98(0xbd)},{'$project':{'product_name':_0xa6fc98(0x7c),'product_stock':_0xa6fc98(0xda)}},{'$group':{'_id':_0xa6fc98(0xe9),'product_stock':{'$sum':_0xa6fc98(0x95)}}}]);console[_0xa6fc98(0xc3)](_0xa6fc98(0xe5),_0x3a5c89),_0x3a5c89[_0xa6fc98(0x134)](_0x98383f=>{const _0x1dc5f2=_0xa6fc98,_0xac0179=_0x1884db[_0x1dc5f2(0x79)](_0x21c525=>{const _0x2e9b79=_0x1dc5f2;_0x21c525[_0x2e9b79(0xa3)]==_0x98383f[_0x2e9b79(0x135)]&&(_0x21c525[_0x2e9b79(0xed)]=parseInt(_0x21c525['stock'])+parseInt(_0x98383f[_0x2e9b79(0xc7)]));});}),console[_0xa6fc98(0xc3)]('Products\x20find_data',_0x1884db);if(_0x2e7bb3[0x0][_0xa6fc98(0x78)]=='English\x20(US)')var _0xb91979=users[_0xa6fc98(0x82)];else{if(_0x2e7bb3[0x0][_0xa6fc98(0x78)]==_0xa6fc98(0x121))var _0xb91979=users[_0xa6fc98(0x121)];else{if(_0x2e7bb3[0x0]['language']=='German')var _0xb91979=users[_0xa6fc98(0x120)];else{if(_0x2e7bb3[0x0][_0xa6fc98(0x78)]==_0xa6fc98(0xea))var _0xb91979=users['Spanish'];else{if(_0x2e7bb3[0x0][_0xa6fc98(0x78)]==_0xa6fc98(0xb5))var _0xb91979=users[_0xa6fc98(0xb5)];else{if(_0x2e7bb3[0x0]['language']==_0xa6fc98(0xc6))var _0xb91979=users[_0xa6fc98(0x8b)];else{if(_0x2e7bb3[0x0]['language']=='Chinese')var _0xb91979=users[_0xa6fc98(0x9e)];else{if(_0x2e7bb3[0x0][_0xa6fc98(0x78)]==_0xa6fc98(0xdc))var _0xb91979=users[_0xa6fc98(0xfa)];}}}}}}}_0x4c73bb[_0xa6fc98(0x127)](_0xa6fc98(0xde),{'success':_0x3df118[_0xa6fc98(0x8c)](_0xa6fc98(0xab)),'errors':_0x3df118[_0xa6fc98(0x8c)]('errors'),'alldata':_0x1884db,'profile':_0x2255e9,'master_shop':_0x2e7bb3,'role':_0x5bec3c,'product_stock':_0x3a5c89,'language':_0xb91979});}catch(_0x3cc782){console[_0xa6fc98(0xc3)](_0x3cc782);}}),router[a0_0x4c0a20(0xb6)](a0_0x4c0a20(0xc1),auth,async(_0x401232,_0x254b4f)=>{const _0x43de22=a0_0x4c0a20;try{const {username:_0x14a6da,email:_0x37b776,role:_0x28347e}=_0x401232[_0x43de22(0x12b)],_0x346f10=_0x401232['user'],_0x3afea5=await profile[_0x43de22(0x10c)]({'email':_0x346f10[_0x43de22(0xca)]}),_0x551d11=await master_shop[_0x43de22(0x76)]();console[_0x43de22(0xc3)](_0x43de22(0xa9),_0x551d11);const _0x5777a3=await categories[_0x43de22(0x76)]({}),_0x93dbff=await brands['find']({}),_0x21dc1b=await units[_0x43de22(0x76)]({}),_0x4f21a0=await warehouse['find']({'status':'Enabled'});if(_0x551d11[0x0][_0x43de22(0x78)]=='English\x20(US)')var _0x9a6262=users[_0x43de22(0x82)];else{if(_0x551d11[0x0][_0x43de22(0x78)]=='Hindi')var _0x9a6262=users[_0x43de22(0x121)];else{if(_0x551d11[0x0][_0x43de22(0x78)]==_0x43de22(0x120))var _0x9a6262=users[_0x43de22(0x120)];else{if(_0x551d11[0x0][_0x43de22(0x78)]==_0x43de22(0xea))var _0x9a6262=users[_0x43de22(0xea)];else{if(_0x551d11[0x0]['language']==_0x43de22(0xb5))var _0x9a6262=users[_0x43de22(0xb5)];else{if(_0x551d11[0x0]['language']==_0x43de22(0xc6))var _0x9a6262=users['Portuguese'];else{if(_0x551d11[0x0][_0x43de22(0x78)]==_0x43de22(0x9e))var _0x9a6262=users['Chinese'];else{if(_0x551d11[0x0][_0x43de22(0x78)]=='Arabic\x20(ae)')var _0x9a6262=users[_0x43de22(0xfa)];}}}}}}}_0x254b4f[_0x43de22(0x127)]('add_product',{'success':_0x401232[_0x43de22(0x8c)](_0x43de22(0xab)),'errors':_0x401232[_0x43de22(0x8c)](_0x43de22(0x81)),'role':_0x346f10,'profile':_0x3afea5,'categories':_0x5777a3,'brands':_0x93dbff,'master_shop':_0x551d11,'units':_0x21dc1b,'language':_0x9a6262,'find_data':_0x4f21a0});}catch(_0x1cf943){console[_0x43de22(0xc3)](_0x1cf943);}}),router[a0_0x4c0a20(0xd2)](a0_0x4c0a20(0xc1),auth,upload['single'](a0_0x4c0a20(0xb9)),async(_0x54eca5,_0x3277b6)=>{const _0x51d4e3=a0_0x4c0a20;try{const {name:_0x2149fd,category:_0x30542c,brand:_0x63fae7,unit:_0x24e35f,alertquantity:_0x2f974b,stock:_0x2b14be,product_code:_0x2577e6,warehouse:_0x2924fc,primary_ItemCode:_0x13eaf3,second_ItemCode:_0x1a355a,second_unit:_0x1f25c4,maxPerUnit:_0x568e68,MaxPerProduct:_0x32a97e}=_0x54eca5[_0x51d4e3(0xdd)],_0x58eb87=_0x54eca5[_0x51d4e3(0x104)]?.[_0x51d4e3(0x91)]||_0x51d4e3(0x86),_0x32b894=new product({'image':_0x58eb87,'name':_0x2149fd,'category':_0x30542c,'brand':_0x63fae7,'unit':_0x24e35f,'alertquantity':_0x2f974b,'stock':_0x2b14be,'product_code':_0x2577e6,'warehouse':_0x2924fc,'primary_code':_0x13eaf3,'secondary_code':_0x1a355a,'second_unit':_0x1f25c4,'maxStocks':_0x32a97e,'maxProdPerUnit':_0x568e68}),_0x176950=await _0x32b894[_0x51d4e3(0x129)](),_0x243d14=await categories[_0x51d4e3(0x10c)]({'name':_0x30542c});_0x243d14['products']=parseInt(_0x243d14[_0x51d4e3(0xde)])+0x1,await _0x243d14[_0x51d4e3(0x129)]();const _0x21c33c=await brands['findOne']({'name':_0x63fae7});_0x21c33c[_0x51d4e3(0xde)]=parseInt(_0x21c33c[_0x51d4e3(0xde)])+0x1,await _0x21c33c[_0x51d4e3(0x129)]();const _0x362b85=await units['findOne']({'name':_0x24e35f});_0x362b85[_0x51d4e3(0xde)]=parseInt(_0x362b85[_0x51d4e3(0xde)])+0x1,await _0x362b85[_0x51d4e3(0x129)](),_0x54eca5['flash'](_0x51d4e3(0xab),_0x51d4e3(0x122)),_0x3277b6['redirect']('/products/view');}catch(_0x32aae8){console[_0x51d4e3(0xc3)](_0x32aae8);}}),router[a0_0x4c0a20(0xb6)](a0_0x4c0a20(0xd0),auth,async(_0x3022b5,_0x15af38)=>{const _0x533cbf=a0_0x4c0a20;try{const {username:_0x22c47c,email:_0x1bd2a2,role:_0x1bf54f}=_0x3022b5['user'],_0x4d72bd=_0x3022b5[_0x533cbf(0x12b)],_0x1b6b6d=await profile[_0x533cbf(0x10c)]({'email':_0x4d72bd['email']}),_0x2faeea=await master_shop[_0x533cbf(0x76)]();console['log'](_0x533cbf(0x10f),_0x2faeea);const _0x2b2855=_0x3022b5[_0x533cbf(0xb8)]['id'],_0x41487a=await product['findById'](_0x2b2855),_0x404fe3=await categories['find']({}),_0x11fb7b=await brands['find']({}),_0x50ca1f=await units[_0x533cbf(0x76)]({}),_0x56d8df=await warehouse[_0x533cbf(0x76)]({'status':_0x533cbf(0xc2)}),_0x5d1084=await units[_0x533cbf(0xd5)]([{'$group':{'_id':_0x533cbf(0xd4),'secondaryunit':{'$first':_0x533cbf(0xf4)}}}]);if(_0x2faeea[0x0][_0x533cbf(0x78)]=='English\x20(US)')var _0x3264fe=users['English'];else{if(_0x2faeea[0x0][_0x533cbf(0x78)]=='Hindi')var _0x3264fe=users[_0x533cbf(0x121)];else{if(_0x2faeea[0x0][_0x533cbf(0x78)]==_0x533cbf(0x120))var _0x3264fe=users[_0x533cbf(0x120)];else{if(_0x2faeea[0x0][_0x533cbf(0x78)]==_0x533cbf(0xea))var _0x3264fe=users[_0x533cbf(0xea)];else{if(_0x2faeea[0x0]['language']==_0x533cbf(0xb5))var _0x3264fe=users[_0x533cbf(0xb5)];else{if(_0x2faeea[0x0]['language']==_0x533cbf(0xc6))var _0x3264fe=users['Portuguese'];else{if(_0x2faeea[0x0][_0x533cbf(0x78)]==_0x533cbf(0x9e))var _0x3264fe=users[_0x533cbf(0x9e)];else{if(_0x2faeea[0x0][_0x533cbf(0x78)]=='Arabic\x20(ae)')var _0x3264fe=users[_0x533cbf(0xfa)];}}}}}}}_0x15af38[_0x533cbf(0x127)](_0x533cbf(0x93),{'success':_0x3022b5[_0x533cbf(0x8c)](_0x533cbf(0xab)),'errors':_0x3022b5['flash'](_0x533cbf(0x81)),'role':_0x4d72bd,'profile':_0x1b6b6d,'alldata':_0x41487a,'categories':_0x404fe3,'brands':_0x11fb7b,'master_shop':_0x2faeea,'units':_0x50ca1f,'secondunit':_0x5d1084,'find_data':_0x56d8df,'language':_0x3264fe});}catch(_0x348488){console['log'](_0x348488);}}),router[a0_0x4c0a20(0xd2)](a0_0x4c0a20(0xd0),auth,upload[a0_0x4c0a20(0xa7)](a0_0x4c0a20(0xb9)),async(_0x42cc16,_0x36e4fe)=>{const _0x362f47=a0_0x4c0a20;try{console[_0x362f47(0xc3)]('hello');const _0xdb3f=_0x42cc16[_0x362f47(0xb8)]['id'],_0x5b8ec5=await product[_0x362f47(0x80)](_0xdb3f),{image:_0x7c09d5,name:_0x37b3fe,category:_0x5aa143,brand:_0x4c2fe3,sku:_0xf74bbc,unit:_0x55d150,alertquantity:_0x718e3b,product_code:_0x46fb4d,warehouse:_0x2b77e5,primary_ItemCode:_0x409f3f,second_ItemCode:_0x1054ca,second_unit:_0x448bbe,maxPerUnit:_0x287dc5,MaxPerProduct:_0x463bc8,prod_catdata:_0x2357cb}=_0x42cc16['body'];_0x42cc16[_0x362f47(0x104)]&&(_0x5b8ec5[_0x362f47(0xb9)]=_0x42cc16[_0x362f47(0x104)][_0x362f47(0x91)]);_0x5b8ec5[_0x362f47(0xa3)]=_0x37b3fe,_0x5b8ec5['category']=_0x5aa143,_0x5b8ec5[_0x362f47(0x105)]=_0x4c2fe3,_0x5b8ec5['sku']=_0xf74bbc,_0x5b8ec5[_0x362f47(0x131)]=_0x55d150,_0x5b8ec5[_0x362f47(0xfc)]=_0x718e3b,_0x5b8ec5[_0x362f47(0x136)]=_0x46fb4d,_0x5b8ec5[_0x362f47(0xfb)]=_0x2b77e5,_0x5b8ec5[_0x362f47(0xf8)]=_0x409f3f,_0x5b8ec5[_0x362f47(0x73)]=_0x1054ca,_0x5b8ec5[_0x362f47(0x114)]=_0x448bbe,_0x5b8ec5[_0x362f47(0xeb)]=_0x463bc8,_0x5b8ec5[_0x362f47(0x72)]=_0x287dc5,_0x5b8ec5[_0x362f47(0xf2)]=_0x2357cb;const _0x17e86b=await _0x5b8ec5[_0x362f47(0x129)]();console[_0x362f47(0xc3)]('product\x20edit',_0x5b8ec5),_0x42cc16[_0x362f47(0x8c)](_0x362f47(0xab),_0x362f47(0xe0)),_0x36e4fe[_0x362f47(0x83)](_0x362f47(0xd1));}catch(_0x955667){console[_0x362f47(0xc3)](_0x955667);}}),router[a0_0x4c0a20(0xb6)](a0_0x4c0a20(0xbb),auth,async(_0xccd383,_0x55cd23)=>{const _0x40e39a=a0_0x4c0a20;try{const {username:_0x36b0a5,email:_0x56b117,role:_0x172c98}=_0xccd383['user'],_0x1d5c05=_0xccd383['user'],_0x280407=await profile['findOne']({'email':_0x1d5c05[_0x40e39a(0xca)]}),_0xc278d=await master_shop['find']();console['log']('barcode\x20Product\x20master',_0xc278d);const _0x4ca00c=_0xccd383[_0x40e39a(0xb8)]['id'],_0x4ee7f4=await product[_0x40e39a(0x80)](_0x4ca00c);console[_0x40e39a(0xc3)](_0x40e39a(0xaa),_0x4ee7f4);if(_0xc278d[0x0][_0x40e39a(0x78)]==_0x40e39a(0x118))var _0x5d4986=users[_0x40e39a(0x82)];else{if(_0xc278d[0x0]['language']==_0x40e39a(0x121))var _0x5d4986=users[_0x40e39a(0x121)];else{if(_0xc278d[0x0]['language']==_0x40e39a(0x120))var _0x5d4986=users[_0x40e39a(0x120)];else{if(_0xc278d[0x0][_0x40e39a(0x78)]==_0x40e39a(0xea))var _0x5d4986=users[_0x40e39a(0xea)];else{if(_0xc278d[0x0][_0x40e39a(0x78)]==_0x40e39a(0xb5))var _0x5d4986=users[_0x40e39a(0xb5)];else{if(_0xc278d[0x0][_0x40e39a(0x78)]==_0x40e39a(0xc6))var _0x5d4986=users['Portuguese'];else{if(_0xc278d[0x0][_0x40e39a(0x78)]==_0x40e39a(0x9e))var _0x5d4986=users[_0x40e39a(0x9e)];else{if(_0xc278d[0x0][_0x40e39a(0x78)]=='Arabic\x20(ae)')var _0x5d4986=users[_0x40e39a(0xfa)];}}}}}}}_0x55cd23['render'](_0x40e39a(0xc5),{'success':_0xccd383['flash'](_0x40e39a(0xab)),'errors':_0xccd383[_0x40e39a(0x8c)](_0x40e39a(0x81)),'role':_0x1d5c05,'profile':_0x280407,'alldata':_0x4ee7f4,'master_shop':_0xc278d,'language':_0x5d4986});}catch(_0x6c6517){console['log'](_0x6c6517);}}),router['get'](a0_0x4c0a20(0x10e),auth,async(_0x1d11dc,_0x4a4f2d)=>{const _0x4d7bed=a0_0x4c0a20;try{const _0xed487b=new excelJS['Workbook'](),_0x4c649c=_0xed487b[_0x4d7bed(0xe4)]('Products');return _0x4c649c[_0x4d7bed(0xb0)]=[{'header':_0x4d7bed(0x8f),'key':_0x4d7bed(0xce),'width':0xa},{'header':_0x4d7bed(0xbf),'key':'PBrands','width':0xa},{'header':_0x4d7bed(0x113),'key':_0x4d7bed(0x85),'width':0xa},{'header':_0x4d7bed(0x97),'key':'PSecondaryUnits','width':0xa},{'header':_0x4d7bed(0x98),'key':_0x4d7bed(0x116),'width':0xa},{'header':_0x4d7bed(0xfd),'key':'ProductCode','width':0xa},{'header':_0x4d7bed(0xa5),'key':_0x4d7bed(0xb2),'width':0xa},{'header':'Product_Code','key':_0x4d7bed(0xb2),'width':0xa},{'header':_0x4d7bed(0x8a),'key':_0x4d7bed(0xe8),'width':0xa},{'header':_0x4d7bed(0x12d),'key':_0x4d7bed(0xcc),'width':0xa},{'header':_0x4d7bed(0x11e),'key':_0x4d7bed(0xcc),'width':0xa},{'header':'Products_category','key':_0x4d7bed(0xcf),'width':0xa}],_0x4a4f2d[_0x4d7bed(0x88)]('Content-Type',_0x4d7bed(0x102)),_0x4a4f2d[_0x4d7bed(0x88)](_0x4d7bed(0xe7),_0x4d7bed(0xd6)),_0xed487b['xlsx'][_0x4d7bed(0x125)](_0x4a4f2d)[_0x4d7bed(0x89)](()=>{const _0x107a21=_0x4d7bed;_0x4a4f2d[_0x107a21(0xb3)](0xc8);});}catch(_0x40ba53){_0x4a4f2d[_0x4d7bed(0xb3)](0x190)[_0x4d7bed(0x10d)](_0x40ba53);}});const storage1=multer[a0_0x4c0a20(0x7b)]({'destination':(_0x3ba1c5,_0x232ed3,_0x2dfbf9)=>{const _0x3faa65=a0_0x4c0a20;_0x2dfbf9(null,_0x3faa65(0x119));},'filename':(_0xa62822,_0x1ae5c3,_0x84a806)=>{_0x84a806(null,Date['now']()+_0x1ae5c3['originalname']);}}),uploadMigrate=multer({'storage':storage1});router['post'](a0_0x4c0a20(0x133),auth,uploadMigrate['single'](a0_0x4c0a20(0x9b)),async(_0x5837f5,_0x241aa7)=>{const _0x2b6d5b=a0_0x4c0a20,_0x2b4ed2=_0x5837f5['file'][_0x2b6d5b(0x91)],_0x35367a=await xlsx[_0x2b6d5b(0x12a)](_0x2b6d5b(0xb1)+_0x2b4ed2);let _0x3f37a1=_0x35367a[_0x2b6d5b(0xee)],_0x456c42=xlsx['utils'][_0x2b6d5b(0xe6)](_0x35367a[_0x2b6d5b(0xff)][_0x3f37a1[0x0]]);for(const _0x22f756 of _0x456c42){const _0x56d6bd=_0x22f756[_0x2b6d5b(0x8f)],_0x48fa21=_0x22f756[_0x2b6d5b(0xbf)],_0x3433e0=_0x22f756[_0x2b6d5b(0x113)],_0x4148b4=_0x22f756[_0x2b6d5b(0x97)],_0x5b66e2=_0x22f756[_0x2b6d5b(0x90)],_0xec102=_0x22f756[_0x2b6d5b(0x8a)],_0x4664fd=_0x22f756[_0x2b6d5b(0x12d)],_0x6c3114=_0x22f756[_0x2b6d5b(0xfd)],_0x3fd1c5=_0x22f756[_0x2b6d5b(0xa5)],_0x112bff=_0x22f756[_0x2b6d5b(0x11e)],_0x5010f0=_0x22f756[_0x2b6d5b(0x98)],_0x1fc408=_0x22f756[_0x2b6d5b(0xc4)];try{let _0x33daca=await categories[_0x2b6d5b(0x10c)]({'name':_0xec102});if(!_0x33daca){const _0x14e3fa=new categories({'name':_0xec102,'products':'0'});_0x33daca=await _0x14e3fa[_0x2b6d5b(0x129)]();}let _0x2cfc43=await brands['findOne']({'name':_0x48fa21});if(!_0x2cfc43){const _0x246d23=new brands({'name':_0x48fa21,'products':'0'});_0x2cfc43=await _0x246d23[_0x2b6d5b(0x129)]();}let _0x1ff46b=await units['findOne']({'name':_0x3433e0,'secondary_unit':_0x4148b4});if(!_0x1ff46b){const _0xf40fb=new units({'name':_0x3433e0,'secondary_unit':_0x4148b4,'products':'0'});_0x1ff46b=await _0xf40fb['save']();}const _0x42fe07=await product[_0x2b6d5b(0x76)]({'name':_0x56d6bd,'category':_0x33daca['name'],'brand':_0x2cfc43[_0x2b6d5b(0xa3)],'secondary_unit':_0x1ff46b['secondary_unit'],'product_code':_0x5b66e2});console[_0x2b6d5b(0xc3)](_0x42fe07[_0x2b6d5b(0xe3)]+_0x2b6d5b(0xcb)+_0x33daca[_0x2b6d5b(0xa3)]+_0x2b6d5b(0xcb)+_0x2cfc43[_0x2b6d5b(0xa3)]+'\x20<>\x20'+_0x1ff46b[_0x2b6d5b(0x114)]+_0x2b6d5b(0xcb)+_0x5b66e2+_0x2b6d5b(0xcb)+_0x56d6bd);if(_0x42fe07['length']===0x0){const _0x21f891=new product({'image':_0x2b6d5b(0x86),'name':_0x56d6bd,'category':_0x33daca['name'],'brand':_0x2cfc43[_0x2b6d5b(0xa3)],'unit':_0x1ff46b[_0x2b6d5b(0xa3)],'alertquantity':_0x4664fd,'product_code':_0x5b66e2,'secondary_unit':_0x1ff46b[_0x2b6d5b(0x114)],'primary_code':_0x6c3114,'secondary_code':_0x3fd1c5,'maxStocks':_0x112bff,'maxProdPerUnit':_0x5010f0,'product_category':_0x1fc408}),_0x4b5122=await _0x21f891['save']();_0x33daca['products']=parseInt(_0x33daca['products'])+0x1,await _0x33daca[_0x2b6d5b(0x129)](),_0x2cfc43['products']=parseInt(_0x2cfc43[_0x2b6d5b(0xde)])+0x1,await _0x2cfc43['save'](),_0x1ff46b[_0x2b6d5b(0xde)]=parseInt(_0x1ff46b[_0x2b6d5b(0xde)])+0x1,await _0x1ff46b[_0x2b6d5b(0x129)](),_0x5837f5[_0x2b6d5b(0x8c)](_0x2b6d5b(0xab),_0x56d6bd+_0x2b6d5b(0x126));}else{console[_0x2b6d5b(0xc3)](_0x42fe07[0x0]);const _0x2cb51f=_0x42fe07[0x0];_0x2cb51f[_0x2b6d5b(0x132)]=_0x33daca[_0x2b6d5b(0xa3)],_0x2cb51f[_0x2b6d5b(0x105)]=_0x2cfc43[_0x2b6d5b(0xa3)],_0x2cb51f[_0x2b6d5b(0x131)]=_0x1ff46b[_0x2b6d5b(0xa3)],_0x2cb51f[_0x2b6d5b(0xfc)]=_0x4664fd,_0x2cb51f[_0x2b6d5b(0x136)]=_0x5b66e2,_0x2cb51f[_0x2b6d5b(0x114)]=_0x1ff46b[_0x2b6d5b(0x114)],_0x2cb51f[_0x2b6d5b(0xf8)]=_0x6c3114,_0x2cb51f[_0x2b6d5b(0x73)]=_0x3fd1c5,_0x2cb51f[_0x2b6d5b(0xeb)]=_0x112bff,_0x2cb51f['maxProdPerUnit']=_0x5010f0,_0x2cb51f['product_category']=_0x1fc408;const _0x153d1e=await _0x2cb51f[_0x2b6d5b(0x129)]();_0x5837f5['flash']('success',_0x153d1e[_0x2b6d5b(0xa3)]+_0x2b6d5b(0x71));}}catch(_0x492bf5){_0x241aa7[_0x2b6d5b(0xb3)](0x1f4)[_0x2b6d5b(0x8e)]({'proderror':_0x492bf5[_0x2b6d5b(0x10b)],'aproduct':_0x56d6bd});}}_0x241aa7[_0x2b6d5b(0x83)](_0x2b6d5b(0xd1));}),router[a0_0x4c0a20(0xd2)](a0_0x4c0a20(0x84),auth,async(_0x52c489,_0xeb179f)=>{const _0x4812ed=a0_0x4c0a20;try{console[_0x4812ed(0xc3)](_0x52c489[_0x4812ed(0xdd)]);const {data_cateory:_0x3eff3,datachoose:_0x2a3e1c}=_0x52c489['body'];var _0x50ceb1;if(_0x2a3e1c==_0x4812ed(0x7f))_0x50ceb1=await product[_0x4812ed(0xd5)]([{'$group':{'_id':'$product_category'}}]);else{if(_0x2a3e1c=='brands')_0x50ceb1=await product[_0x4812ed(0xd5)]([{'$match':{'product_category':_0x3eff3}},{'$group':{'_id':_0x4812ed(0x87)}}]);else _0x2a3e1c==_0x4812ed(0xc8)&&(_0x50ceb1=await product[_0x4812ed(0xd5)]([{'$match':{'product_category':_0x3eff3}},{'$group':{'_id':_0x4812ed(0x8d)}}]));}_0xeb179f[_0x4812ed(0x8e)](_0x50ceb1);}catch(_0x5372d0){_0xeb179f[_0x4812ed(0x8e)]({'message':_0x5372d0[_0x4812ed(0x10b)]});}}),router[a0_0x4c0a20(0xd2)](a0_0x4c0a20(0xcd),auth,async(_0x105c22,_0xcf0725)=>{const _0x226a11=a0_0x4c0a20;try{const {data_choosing:_0xad5ed1,data_selected:_0x294c1d}=_0x105c22['body'];var _0x43b6ec;if(_0xad5ed1==_0x226a11(0x7f))_0x43b6ec=await product[_0x226a11(0xd5)]([{'$match':{'product_category':_0x294c1d}}]);else{if(_0xad5ed1==_0x226a11(0xbc))_0x43b6ec=await product[_0x226a11(0xd5)]([{'$match':{'brand':_0x294c1d}}]);else _0xad5ed1==_0x226a11(0xc8)&&(_0x43b6ec=await product[_0x226a11(0xd5)]([{'$match':{'category':_0x294c1d}}]));}_0xcf0725['json'](_0x43b6ec);}catch(_0x24f238){_0xcf0725[_0x226a11(0x8e)]({'message':_0x24f238[_0x226a11(0x10b)]});}}),router['get'](a0_0x4c0a20(0xfe),auth,async(_0x8f2ec2,_0x506f84)=>{const _0x2cfbc0=a0_0x4c0a20,_0x3a1d45=_0x8f2ec2[_0x2cfbc0(0x12b)],_0x5becb6=await profile[_0x2cfbc0(0x10c)]({'email':_0x3a1d45['email']}),_0x2809df=await master_shop['find'](),_0x330b37=await product[_0x2cfbc0(0x76)]();if(_0x2809df[0x0][_0x2cfbc0(0x78)]==_0x2cfbc0(0x118))var _0x43bd67=users[_0x2cfbc0(0x82)];else{if(_0x2809df[0x0]['language']=='Hindi')var _0x43bd67=users[_0x2cfbc0(0x121)];else{if(_0x2809df[0x0]['language']==_0x2cfbc0(0x120))var _0x43bd67=users['German'];else{if(_0x2809df[0x0][_0x2cfbc0(0x78)]==_0x2cfbc0(0xea))var _0x43bd67=users[_0x2cfbc0(0xea)];else{if(_0x2809df[0x0]['language']==_0x2cfbc0(0xb5))var _0x43bd67=users[_0x2cfbc0(0xb5)];else{if(_0x2809df[0x0][_0x2cfbc0(0x78)]==_0x2cfbc0(0xc6))var _0x43bd67=users['Portuguese'];else{if(_0x2809df[0x0]['language']==_0x2cfbc0(0x9e))var _0x43bd67=users[_0x2cfbc0(0x9e)];else{if(_0x2809df[0x0][_0x2cfbc0(0x78)]=='Arabic\x20(ae)')var _0x43bd67=users['Arabic'];}}}}}}}_0x506f84[_0x2cfbc0(0x127)](_0x2cfbc0(0x9d),{'success':_0x8f2ec2['flash'](_0x2cfbc0(0xab)),'errors':_0x8f2ec2[_0x2cfbc0(0x8c)](_0x2cfbc0(0x81)),'role':_0x3a1d45,'profile':_0x5becb6,'products':_0x330b37,'master_shop':_0x2809df,'language':_0x43bd67});}),router['post'](a0_0x4c0a20(0x115),auth,async(_0xe17cf7,_0x4514fb)=>{const _0x3c6916=a0_0x4c0a20,_0x11ecff=await product[_0x3c6916(0x76)]();_0x4514fb[_0x3c6916(0x8e)]({'data':_0x11ecff});}),router[a0_0x4c0a20(0xd2)](a0_0x4c0a20(0x106),auth,async(_0xf94f18,_0x5dd99f)=>{const _0x334f87=a0_0x4c0a20;try{const {dataProdCat:_0x4ded89,dataProdIdentity:_0xb19753}=_0xf94f18[_0x334f87(0xdd)];var _0x6e0382;switch(_0x4ded89){case'fg':switch(_0xb19753){case _0x334f87(0xbf):_0x6e0382=await product['aggregate']([{'$match':{'product_category':_0x334f87(0x11f)}},{'$group':{'_id':_0x334f87(0x87)}},{'$project':{'brand':'$_id'}}]);break;case _0x334f87(0x8a):_0x6e0382=await product['aggregate']([{'$match':{'product_category':_0x334f87(0x11f)}},{'$group':{'_id':_0x334f87(0x8d)}},{'$project':{'category':_0x334f87(0xd4)}}]);break;}break;case'rm':switch(_0xb19753){case _0x334f87(0xbf):_0x6e0382=await product[_0x334f87(0xd5)]([{'$match':{'product_category':'Raw\x20Materials'}},{'$group':{'_id':'$brand'}},{'$project':{'brand':_0x334f87(0xd4)}}]);break;case _0x334f87(0x8a):_0x6e0382=await product[_0x334f87(0xd5)]([{'$match':{'product_category':'Raw\x20Materials'}},{'$group':{'_id':'$category'}},{'$project':{'category':_0x334f87(0xd4)}}]);break;}break;}_0x5dd99f[_0x334f87(0x8e)](_0x6e0382);}catch(_0x3ab581){_0x5dd99f[_0x334f87(0x8e)]({'message':_0x3ab581[_0x334f87(0x10b)]});}}),router[a0_0x4c0a20(0xd2)](a0_0x4c0a20(0x11a),auth,async(_0x5ce554,_0xb9e9ca)=>{const _0x856a4a=a0_0x4c0a20;try{console[_0x856a4a(0xc3)](_0x5ce554[_0x856a4a(0xdd)]);const {prod_cat:_0x39b5a3,identity:_0x5aebcd,valueData:_0x3d3735,typeofbarcode:_0x54d4b8}=_0x5ce554[_0x856a4a(0xdd)];let _0x5be19d;switch(_0x39b5a3){case'fg':if(_0x5aebcd==_0x856a4a(0xbf))_0x5be19d=await product[_0x856a4a(0xd5)]([{'$match':{'product_category':'Finished\x20Goods','brand':_0x3d3735}}]);else _0x5aebcd==_0x856a4a(0x8a)&&(_0x5be19d=await product[_0x856a4a(0xd5)]([{'$match':{'product_category':_0x856a4a(0x11f),'category':_0x3d3735}}]));break;case'rm':if(_0x5aebcd=='Brands')_0x5be19d=await product['aggregate']([{'$match':{'product_category':_0x856a4a(0x11c),'brand':_0x3d3735}}]);else _0x5aebcd==_0x856a4a(0x8a)&&(_0x5be19d=await product[_0x856a4a(0xd5)]([{'$match':{'product_category':'Raw\x20Materials','category':_0x3d3735}}]));break;}const _0xae1712=_0xffbcc4=>_0xffbcc4*0x48,_0x9ae039={'width':0x3,'height':0x1},_0x4d269d=new PDFDocument({'margin':_0xae1712(0.75),'size':[_0xae1712(_0x9ae039[_0x856a4a(0xf7)]),_0xae1712(_0x9ae039['height'])],'bufferPages':!![]}),_0x2fe5f9=_0x5be19d[_0x856a4a(0xe3)];for(let _0xad02c7=0x0;_0xad02c7<=_0x2fe5f9;_0xad02c7++){if(_0xad02c7!=_0x2fe5f9){const _0x33c520=_0x5be19d[_0xad02c7][_0x856a4a(0xa3)],_0x3555ce=_0x5be19d[_0xad02c7][_0x856a4a(0xf8)],_0x4bea71=_0x5be19d[_0xad02c7][_0x856a4a(0x73)],_0x460528=_0x5be19d[_0xad02c7]['product_code'];var _0x333b10;switch(_0x54d4b8){case'1':_0x333b10=_0x3555ce;break;case'2':_0x333b10=_0x4bea71;break;case'3':_0x333b10=_0x460528;break;}const _0x457d5d={'width':0xd2,'height':0x64},_0x2b9eb8={'width':_0xae1712(_0x9ae039[_0x856a4a(0xf7)]),'height':_0xae1712(_0x9ae039[_0x856a4a(0x107)])},_0x2c3221=new Canvas();JsBarcode(_0x2c3221,_0x333b10,{'format':_0x856a4a(0xac),'height':_0x457d5d[_0x856a4a(0x107)],'displayValue':!![],'text':_0x333b10});const _0x17cef9=_0x2c3221[_0x856a4a(0xb4)](),_0x5484f9=_0x2b9eb8[_0x856a4a(0xf7)]/_0x457d5d[_0x856a4a(0xf7)],_0xbb15e=_0x2b9eb8['height']/_0x457d5d[_0x856a4a(0x107)],_0x49cd99=Math[_0x856a4a(0x7e)](_0x5484f9,_0xbb15e),_0x9d9916=_0x457d5d[_0x856a4a(0xf7)]*_0x49cd99,_0x8a0873=_0x457d5d[_0x856a4a(0x107)]*_0x49cd99,_0x33c4b4=(_0x2b9eb8['width']-_0x9d9916)/0x2,_0x3dd738=(_0x2b9eb8[_0x856a4a(0x107)]-_0x8a0873)/0x2;_0x4d269d[_0x856a4a(0xb9)](_0x17cef9,_0x33c4b4,_0x3dd738,{'width':_0x9d9916,'height':_0x8a0873}),_0xad02c7!=_0x2fe5f9&&_0x4d269d['addPage']();}}const _0x1d691e=[];_0x4d269d['on']('data',_0x1d691e[_0x856a4a(0x130)]['bind'](_0x1d691e)),_0x4d269d['on'](_0x856a4a(0x7a),()=>{const _0xa75f46=_0x856a4a,_0x2a891a=Buffer['concat'](_0x1d691e),_0x31872e=_0x2a891a[_0xa75f46(0xf9)]('base64');_0xb9e9ca['json']({'pdfContent':_0x31872e});}),_0x4d269d['end']();}catch(_0x523893){_0xb9e9ca[_0x856a4a(0x8e)]({'message':_0x523893[_0x856a4a(0x10b)]});}}),router[a0_0x4c0a20(0xd2)](a0_0x4c0a20(0xc0),auth,async(_0x783480,_0x5308c2)=>{const _0x1a3697=a0_0x4c0a20;try{console[_0x1a3697(0xc3)](_0x783480[_0x1a3697(0xdd)]);const {prod_cat:_0x324a39,identity:_0x451d67,valueData:_0x253f1a}=_0x783480['body'];let _0x461fe4;switch(_0x324a39){case'fg':if(_0x451d67==_0x1a3697(0xbf))_0x461fe4=await product[_0x1a3697(0xd5)]([{'$match':{'product_category':_0x1a3697(0x11f),'brand':_0x253f1a}}]);else _0x451d67=='Category'&&(_0x461fe4=await product[_0x1a3697(0xd5)]([{'$match':{'product_category':_0x1a3697(0x11f),'category':_0x253f1a}}]));break;case'rm':if(_0x451d67==_0x1a3697(0xbf))_0x461fe4=await product[_0x1a3697(0xd5)]([{'$match':{'product_category':_0x1a3697(0x11c),'brand':_0x253f1a}}]);else _0x451d67==_0x1a3697(0x8a)&&(_0x461fe4=await product[_0x1a3697(0xd5)]([{'$match':{'product_category':_0x1a3697(0x11c),'category':_0x253f1a}}]));break;}_0x5308c2['json']({'data':_0x461fe4});}catch(_0x5cad68){_0x5308c2[_0x1a3697(0x8e)]({'message':_0x5cad68[_0x1a3697(0x10b)]});}}),router[a0_0x4c0a20(0xd2)](a0_0x4c0a20(0xba),auth,async(_0x4dbf71,_0x44cea3)=>{const _0xf9b59e=a0_0x4c0a20;try{const _0x1ee061=_0x4dbf71[_0xf9b59e(0xb8)]['id'],{copies:_0x142600,typeofbarcode:_0x5b5ca7}=_0x4dbf71[_0xf9b59e(0xdd)];var _0x47bb29=await product[_0xf9b59e(0x80)](_0x1ee061);const _0x36df71=_0x4e182=>_0x4e182*0x48,_0x35df77={'width':0x3,'height':0x1},_0x2e8a0d=new PDFDocument({'margin':_0x36df71(0.75),'size':[_0x36df71(_0x35df77[_0xf9b59e(0xf7)]),_0x36df71(_0x35df77[_0xf9b59e(0x107)])],'bufferPages':!![]}),_0x5632aa=_0x142600,_0x31fab5=_0x47bb29['name'],_0x377afb=_0x47bb29[_0xf9b59e(0xf8)],_0x5118a7=_0x47bb29['secondary_code'],_0x1f728a=_0x47bb29[_0xf9b59e(0x136)];let _0x35ae2b;switch(_0x5b5ca7){case'1':_0x35ae2b=_0x377afb;break;case'2':_0x35ae2b=_0x5118a7;break;case'3':_0x35ae2b=_0x1f728a;break;}const _0x1f2855={'width':0xd2,'height':0x64},_0x41e475={'width':_0x36df71(_0x35df77[_0xf9b59e(0xf7)]),'height':_0x36df71(_0x35df77[_0xf9b59e(0x107)])};for(let _0x505554=0x1;_0x505554<=_0x5632aa;_0x505554++){const _0x1e3d9f=new Canvas();JsBarcode(_0x1e3d9f,_0x35ae2b,{'format':_0xf9b59e(0xac),'height':_0x1f2855['height'],'displayValue':!![],'text':_0x35ae2b});const _0x1290b0=_0x1e3d9f['toBuffer'](),_0x219500=_0x41e475[_0xf9b59e(0xf7)]/_0x1f2855[_0xf9b59e(0xf7)],_0x111f3d=_0x41e475[_0xf9b59e(0x107)]/_0x1f2855[_0xf9b59e(0x107)],_0x146319=Math[_0xf9b59e(0x7e)](_0x219500,_0x111f3d),_0x292ad1=_0x1f2855[_0xf9b59e(0xf7)]*_0x146319,_0xa5c52d=_0x1f2855[_0xf9b59e(0x107)]*_0x146319,_0x3f4464=(_0x41e475[_0xf9b59e(0xf7)]-_0x292ad1)/0x2,_0x27631f=(_0x41e475[_0xf9b59e(0x107)]-_0xa5c52d)/0x2;_0x2e8a0d[_0xf9b59e(0xb9)](_0x1290b0,_0x3f4464,_0x27631f,{'width':_0x292ad1,'height':_0xa5c52d}),_0x505554!=_0x5632aa&&_0x2e8a0d[_0xf9b59e(0xad)]();}const _0x16f801=[];_0x2e8a0d['on'](_0xf9b59e(0xae),_0x16f801['push'][_0xf9b59e(0x12e)](_0x16f801)),_0x2e8a0d['on']('end',()=>{const _0xdb3a2a=_0xf9b59e,_0x51dd46=Buffer[_0xdb3a2a(0x112)](_0x16f801),_0x1c6cf5=_0x51dd46['toString'](_0xdb3a2a(0x101));_0x44cea3[_0xdb3a2a(0x8e)]({'pdfContent':_0x1c6cf5});}),_0x2e8a0d['end']();}catch(_0x132cca){_0x44cea3[_0xf9b59e(0x8e)]({'message':_0x132cca[_0xf9b59e(0x10b)]});}}),module['exports']=router;