const a0_0x485530=a0_0x53f7;(function(_0x13e11c,_0x2206b0){const _0x5571be=a0_0x53f7,_0x497b6b=_0x13e11c();while(!![]){try{const _0x3b08d8=-parseInt(_0x5571be(0x20e))/0x1+parseInt(_0x5571be(0x241))/0x2+parseInt(_0x5571be(0x299))/0x3+parseInt(_0x5571be(0x28a))/0x4+-parseInt(_0x5571be(0x2ae))/0x5*(parseInt(_0x5571be(0x215))/0x6)+parseInt(_0x5571be(0x222))/0x7*(parseInt(_0x5571be(0x29d))/0x8)+-parseInt(_0x5571be(0x259))/0x9;if(_0x3b08d8===_0x2206b0)break;else _0x497b6b['push'](_0x497b6b['shift']());}catch(_0x4dc066){_0x497b6b['push'](_0x497b6b['shift']());}}}(a0_0x56aa,0x39370));const express=require('express'),res=require('express/lib/response'),app=express(),router=express[a0_0x485530(0x20a)](),multer=require(a0_0x485530(0x295)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x485530(0x21b)),auth=require(a0_0x485530(0x250)),users=require(a0_0x485530(0x29c)),excelJS=require(a0_0x485530(0x220)),xlsx=require(a0_0x485530(0x237)),JsBarcode=require(a0_0x485530(0x279)),{Canvas}=require('canvas'),PDFDocument=require(a0_0x485530(0x21d));router[a0_0x485530(0x230)](a0_0x485530(0x2ab),auth,async(_0x49dba5,_0x40aa69)=>{const _0x4971ff=a0_0x485530;try{const {username:_0x45434d,email:_0x447f16,role:_0x44fdce}=_0x49dba5['user'],_0x178636=_0x49dba5[_0x4971ff(0x287)],_0xd2f9fa=await profile[_0x4971ff(0x212)]({'email':_0x178636[_0x4971ff(0x242)]}),_0x2760bf=await master_shop[_0x4971ff(0x224)]();console[_0x4971ff(0x286)](_0x4971ff(0x205),_0x2760bf);const _0x54530d=await categories[_0x4971ff(0x224)]();if(_0x2760bf[0x0][_0x4971ff(0x227)]=='English\x20(US)')var _0x4afc51=users['English'];else{if(_0x2760bf[0x0][_0x4971ff(0x227)]==_0x4971ff(0x21c))var _0x4afc51=users[_0x4971ff(0x21c)];else{if(_0x2760bf[0x0][_0x4971ff(0x227)]==_0x4971ff(0x1f7))var _0x4afc51=users['German'];else{if(_0x2760bf[0x0][_0x4971ff(0x227)]==_0x4971ff(0x291))var _0x4afc51=users[_0x4971ff(0x291)];else{if(_0x2760bf[0x0]['language']==_0x4971ff(0x248))var _0x4afc51=users[_0x4971ff(0x248)];else{if(_0x2760bf[0x0][_0x4971ff(0x227)]==_0x4971ff(0x2a2))var _0x4afc51=users['Portuguese'];else{if(_0x2760bf[0x0][_0x4971ff(0x227)]==_0x4971ff(0x24c))var _0x4afc51=users[_0x4971ff(0x24c)];else{if(_0x2760bf[0x0][_0x4971ff(0x227)]==_0x4971ff(0x284))var _0x4afc51=users[_0x4971ff(0x20c)];}}}}}}}_0x40aa69[_0x4971ff(0x235)](_0x4971ff(0x27e),{'success':_0x49dba5[_0x4971ff(0x2ba)](_0x4971ff(0x27c)),'errors':_0x49dba5[_0x4971ff(0x2ba)]('errors'),'role':_0x178636,'profile':_0xd2f9fa,'user':_0x54530d,'master_shop':_0x2760bf,'language':_0x4afc51});}catch(_0x11ee0a){console[_0x4971ff(0x286)](_0x11ee0a);}}),router[a0_0x485530(0x29a)](a0_0x485530(0x2ab),auth,async(_0x16026c,_0x50acfe)=>{const _0x23ffe3=a0_0x485530;try{const {name:_0x176dd1,products:_0x50f249}=_0x16026c[_0x23ffe3(0x28f)],_0x18eb33=new categories({'name':_0x176dd1,'products':_0x50f249}),_0x5712d2=await categories[_0x23ffe3(0x212)]({'name':_0x176dd1});_0x5712d2?_0x16026c[_0x23ffe3(0x2ba)](_0x23ffe3(0x21f),_0x176dd1+'\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x16026c[_0x23ffe3(0x2ba)](_0x23ffe3(0x27c),_0x176dd1+_0x23ffe3(0x254));const _0x19b996=await _0x18eb33[_0x23ffe3(0x263)]();_0x50acfe['redirect'](_0x23ffe3(0x2a3));}catch(_0x430674){console[_0x23ffe3(0x286)](_0x430674);}}),router[a0_0x485530(0x230)](a0_0x485530(0x26e),auth,async(_0x2c5c5c,_0x15770a)=>{const _0x1b0979=a0_0x485530;try{const {username:_0x57b5ce,email:_0x2aab90,role:_0x3e1aa3}=_0x2c5c5c[_0x1b0979(0x287)],_0x2418e5=_0x2c5c5c['user'],_0x114737=await profile[_0x1b0979(0x212)]({'email':_0x2418e5[_0x1b0979(0x242)]}),_0x4ba3fb=await master_shop[_0x1b0979(0x224)]();console[_0x1b0979(0x286)]('master',_0x4ba3fb);const _0x2c8095=_0x2c5c5c[_0x1b0979(0x27d)]['id'];console['log'](_0x2c8095);const _0x12cc07=await categories['findById'](_0x2c8095);if(_0x4ba3fb[0x0][_0x1b0979(0x227)]==_0x1b0979(0x20d))var _0x4f07f4=users[_0x1b0979(0x26b)];else{if(_0x4ba3fb[0x0][_0x1b0979(0x227)]=='Hindi')var _0x4f07f4=users['Hindi'];else{if(_0x4ba3fb[0x0][_0x1b0979(0x227)]==_0x1b0979(0x1f7))var _0x4f07f4=users[_0x1b0979(0x1f7)];else{if(_0x4ba3fb[0x0]['language']==_0x1b0979(0x291))var _0x4f07f4=users[_0x1b0979(0x291)];else{if(_0x4ba3fb[0x0][_0x1b0979(0x227)]==_0x1b0979(0x248))var _0x4f07f4=users['French'];else{if(_0x4ba3fb[0x0][_0x1b0979(0x227)]==_0x1b0979(0x2a2))var _0x4f07f4=users['Portuguese'];else{if(_0x4ba3fb[0x0]['language']==_0x1b0979(0x24c))var _0x4f07f4=users['Chinese'];else{if(_0x4ba3fb[0x0]['language']=='Arabic\x20(ae)')var _0x4f07f4=users[_0x1b0979(0x20c)];}}}}}}}_0x15770a['render']('categories',{'success':_0x2c5c5c[_0x1b0979(0x2ba)]('success'),'errors':_0x2c5c5c['flash']('errors'),'role':_0x2418e5,'profile':_0x114737,'master_shop':_0x4ba3fb,'user':_0x12cc07,'language':_0x4f07f4});}catch(_0x1cead3){console[_0x1b0979(0x286)](_0x1cead3);}}),router[a0_0x485530(0x29a)](a0_0x485530(0x26e),auth,async(_0xa88aa7,_0xac4b69)=>{const _0x64050=a0_0x485530;try{const _0x464028=_0xa88aa7[_0x64050(0x27d)]['id'],_0x3f860d=await categories['findByIdAndUpdate'](_0x464028,_0xa88aa7[_0x64050(0x28f)]);_0xa88aa7[_0x64050(0x2ba)](_0x64050(0x27c),''+users['categories_edit']),_0xac4b69[_0x64050(0x244)](_0x64050(0x2a3));}catch(_0x3cbc13){console[_0x64050(0x286)](_0x3cbc13);}}),router['get'](a0_0x485530(0x285),auth,async(_0x20907f,_0x1c8851)=>{const _0x5615f7=a0_0x485530;try{const _0x4110a3=_0x20907f[_0x5615f7(0x27d)]['id'],_0x43535e=await categories[_0x5615f7(0x278)](_0x4110a3);_0x20907f[_0x5615f7(0x2ba)]('success','categories\x20data\x20delete\x20successfully'),_0x1c8851['redirect']('/products/categories');}catch(_0x6df229){console[_0x5615f7(0x286)](_0x6df229);}}),router[a0_0x485530(0x230)](a0_0x485530(0x290),auth,async(_0x2fff18,_0x4518e9)=>{const _0x1035dc=a0_0x485530;try{const {username:_0x28e304,email:_0x34b96b,role:_0x382dc2}=_0x2fff18[_0x1035dc(0x287)],_0x5128ba=_0x2fff18[_0x1035dc(0x287)],_0x3e5d25=await profile[_0x1035dc(0x212)]({'email':_0x5128ba[_0x1035dc(0x242)]}),_0x1c107d=await master_shop[_0x1035dc(0x224)]();console[_0x1035dc(0x286)]('master',_0x1c107d);const _0x309eb1=await brands[_0x1035dc(0x224)]();if(_0x1c107d[0x0]['language']==_0x1035dc(0x20d))var _0x29b693=users[_0x1035dc(0x26b)];else{if(_0x1c107d[0x0][_0x1035dc(0x227)]==_0x1035dc(0x21c))var _0x29b693=users[_0x1035dc(0x21c)];else{if(_0x1c107d[0x0][_0x1035dc(0x227)]=='German')var _0x29b693=users[_0x1035dc(0x1f7)];else{if(_0x1c107d[0x0][_0x1035dc(0x227)]==_0x1035dc(0x291))var _0x29b693=users[_0x1035dc(0x291)];else{if(_0x1c107d[0x0][_0x1035dc(0x227)]==_0x1035dc(0x248))var _0x29b693=users[_0x1035dc(0x248)];else{if(_0x1c107d[0x0][_0x1035dc(0x227)]=='Portuguese\x20(BR)')var _0x29b693=users[_0x1035dc(0x24e)];else{if(_0x1c107d[0x0]['language']==_0x1035dc(0x24c))var _0x29b693=users[_0x1035dc(0x24c)];else{if(_0x1c107d[0x0][_0x1035dc(0x227)]=='Arabic\x20(ae)')var _0x29b693=users[_0x1035dc(0x20c)];}}}}}}}_0x4518e9[_0x1035dc(0x235)](_0x1035dc(0x216),{'success':_0x2fff18['flash'](_0x1035dc(0x27c)),'errors':_0x2fff18[_0x1035dc(0x2ba)](_0x1035dc(0x21f)),'role':_0x5128ba,'profile':_0x3e5d25,'master_shop':_0x1c107d,'user':_0x309eb1,'language':_0x29b693});}catch(_0x25f1ac){console[_0x1035dc(0x286)](_0x25f1ac);}}),router[a0_0x485530(0x29a)](a0_0x485530(0x290),auth,async(_0x109ae0,_0x2301b1)=>{const _0x14bc67=a0_0x485530;try{const {name:_0x3b077c,products:_0x3df000}=_0x109ae0['body'],_0x13b411=new brands({'name':_0x3b077c,'products':_0x3df000}),_0x185e95=await brands['findOne']({'name':_0x3b077c});_0x185e95?_0x109ae0[_0x14bc67(0x2ba)]('errors',_0x3b077c+_0x14bc67(0x26d)):_0x109ae0[_0x14bc67(0x2ba)](_0x14bc67(0x27c),_0x3b077c+_0x14bc67(0x206));const _0x19581f=await _0x13b411['save']();_0x2301b1['redirect'](_0x14bc67(0x207));}catch(_0x161db5){console['log'](_0x161db5);}}),router[a0_0x485530(0x230)](a0_0x485530(0x23b),auth,async(_0x5d3d79,_0x2d3f91)=>{const _0x4569b1=a0_0x485530;try{const {username:_0x1e2ea2,email:_0x5f0614,role:_0x45cb97}=_0x5d3d79[_0x4569b1(0x287)],_0x592b82=_0x5d3d79[_0x4569b1(0x287)],_0x4dd3ff=await profile[_0x4569b1(0x212)]({'email':_0x592b82[_0x4569b1(0x242)]}),_0x58b23b=await master_shop[_0x4569b1(0x224)]();console[_0x4569b1(0x286)](_0x4569b1(0x205),_0x58b23b);const _0x572cf2=_0x5d3d79[_0x4569b1(0x27d)]['id'];console[_0x4569b1(0x286)](_0x572cf2);const _0x49ae17=await brands[_0x4569b1(0x29f)](_0x572cf2);if(_0x58b23b[0x0][_0x4569b1(0x227)]==_0x4569b1(0x20d))var _0x395b8d=users[_0x4569b1(0x26b)];else{if(_0x58b23b[0x0][_0x4569b1(0x227)]==_0x4569b1(0x21c))var _0x395b8d=users[_0x4569b1(0x21c)];else{if(_0x58b23b[0x0][_0x4569b1(0x227)]==_0x4569b1(0x1f7))var _0x395b8d=users['German'];else{if(_0x58b23b[0x0][_0x4569b1(0x227)]==_0x4569b1(0x291))var _0x395b8d=users[_0x4569b1(0x291)];else{if(_0x58b23b[0x0][_0x4569b1(0x227)]==_0x4569b1(0x248))var _0x395b8d=users[_0x4569b1(0x248)];else{if(_0x58b23b[0x0]['language']==_0x4569b1(0x2a2))var _0x395b8d=users[_0x4569b1(0x24e)];else{if(_0x58b23b[0x0][_0x4569b1(0x227)]==_0x4569b1(0x24c))var _0x395b8d=users[_0x4569b1(0x24c)];else{if(_0x58b23b[0x0]['language']=='Arabic\x20(ae)')var _0x395b8d=users[_0x4569b1(0x20c)];}}}}}}}_0x2d3f91[_0x4569b1(0x235)](_0x4569b1(0x216),{'success':_0x5d3d79[_0x4569b1(0x2ba)]('success'),'errors':_0x5d3d79[_0x4569b1(0x2ba)](_0x4569b1(0x21f)),'role':_0x592b82,'profile':_0x4dd3ff,'master_shop':_0x58b23b,'user':_0x49ae17,'language':_0x395b8d});}catch(_0x48e100){console[_0x4569b1(0x286)](_0x48e100);}}),router[a0_0x485530(0x29a)](a0_0x485530(0x23b),auth,async(_0x53d2e2,_0x33a73e)=>{const _0x340b11=a0_0x485530;try{const _0x4c5c79=_0x53d2e2[_0x340b11(0x27d)]['id'],_0x365047=await brands[_0x340b11(0x2a0)](_0x4c5c79,_0x53d2e2['body']);_0x53d2e2['flash']('success','brand\x20data\x20update\x20successfully'),_0x33a73e[_0x340b11(0x244)](_0x340b11(0x207));}catch(_0x40e67d){console[_0x340b11(0x286)](_0x40e67d);}}),router[a0_0x485530(0x230)](a0_0x485530(0x246),auth,async(_0x465103,_0x204270)=>{const _0x528a1f=a0_0x485530;try{const _0x3f1045=_0x465103[_0x528a1f(0x27d)]['id'],_0x39c348=await brands[_0x528a1f(0x278)](_0x3f1045);_0x465103[_0x528a1f(0x2ba)](_0x528a1f(0x27c),_0x528a1f(0x24a)),_0x204270[_0x528a1f(0x244)](_0x528a1f(0x207));}catch(_0x5239b1){console[_0x528a1f(0x286)](_0x5239b1);}}),router[a0_0x485530(0x230)](a0_0x485530(0x243),auth,async(_0x9facf7,_0x5f14f8)=>{const _0x4bf65b=a0_0x485530;try{const {username:_0x3d591f,email:_0x375478,role:_0x3b65a3}=_0x9facf7[_0x4bf65b(0x287)],_0x5ac4cb=_0x9facf7['user'],_0xc22fb4=await profile[_0x4bf65b(0x212)]({'email':_0x5ac4cb[_0x4bf65b(0x242)]}),_0x5e548f=await master_shop[_0x4bf65b(0x224)]();console[_0x4bf65b(0x286)]('master',_0x5e548f);const _0x35dfda=await units[_0x4bf65b(0x224)]();if(_0x5e548f[0x0]['language']==_0x4bf65b(0x20d))var _0x439aa0=users[_0x4bf65b(0x26b)];else{if(_0x5e548f[0x0][_0x4bf65b(0x227)]==_0x4bf65b(0x21c))var _0x439aa0=users[_0x4bf65b(0x21c)];else{if(_0x5e548f[0x0]['language']==_0x4bf65b(0x1f7))var _0x439aa0=users['German'];else{if(_0x5e548f[0x0][_0x4bf65b(0x227)]==_0x4bf65b(0x291))var _0x439aa0=users['Spanish'];else{if(_0x5e548f[0x0]['language']==_0x4bf65b(0x248))var _0x439aa0=users[_0x4bf65b(0x248)];else{if(_0x5e548f[0x0][_0x4bf65b(0x227)]==_0x4bf65b(0x2a2))var _0x439aa0=users[_0x4bf65b(0x24e)];else{if(_0x5e548f[0x0][_0x4bf65b(0x227)]=='Chinese')var _0x439aa0=users[_0x4bf65b(0x24c)];else{if(_0x5e548f[0x0][_0x4bf65b(0x227)]=='Arabic\x20(ae)')var _0x439aa0=users[_0x4bf65b(0x20c)];}}}}}}}_0x5f14f8['render'](_0x4bf65b(0x2ad),{'success':_0x9facf7['flash'](_0x4bf65b(0x27c)),'errors':_0x9facf7[_0x4bf65b(0x2ba)]('errors'),'role':_0x5ac4cb,'profile':_0xc22fb4,'master_shop':_0x5e548f,'user':_0x35dfda,'language':_0x439aa0});}catch(_0x492394){console[_0x4bf65b(0x286)](_0x492394);}}),router['post'](a0_0x485530(0x243),auth,async(_0x5c3f89,_0x2a627e)=>{const _0x12d29c=a0_0x485530;try{const {name:_0x30f4dd,secondary_unit:_0x44c3ed,products:_0x31a46a}=_0x5c3f89[_0x12d29c(0x28f)],_0x128d98=new units({'name':_0x30f4dd,'secondary_unit':_0x44c3ed,'products':_0x31a46a}),_0x60b0ca=await units[_0x12d29c(0x212)]({'name':_0x30f4dd});_0x60b0ca?_0x5c3f89[_0x12d29c(0x2ba)](_0x12d29c(0x21f),_0x30f4dd+_0x12d29c(0x29e)):_0x5c3f89[_0x12d29c(0x2ba)]('success',_0x30f4dd+_0x12d29c(0x210));const _0xd9a351=await _0x128d98[_0x12d29c(0x263)]();_0x2a627e[_0x12d29c(0x244)](_0x12d29c(0x226));}catch(_0x20ef5e){console[_0x12d29c(0x286)](_0x20ef5e);}}),router['get'](a0_0x485530(0x23e),auth,async(_0x5ea127,_0x5caa99)=>{const _0x5238b3=a0_0x485530;try{const {username:_0x19b13a,email:_0xf1372d,role:_0x46ea3d}=_0x5ea127[_0x5238b3(0x287)],_0x1f87ef=_0x5ea127[_0x5238b3(0x287)],_0x16f37e=await profile[_0x5238b3(0x212)]({'email':_0x1f87ef[_0x5238b3(0x242)]}),_0x3f950f=await master_shop['find']();console[_0x5238b3(0x286)](_0x5238b3(0x205),_0x3f950f);const _0x137693=_0x5ea127[_0x5238b3(0x27d)]['id'],_0xd41bc7=await units[_0x5238b3(0x29f)](_0x137693);if(_0x3f950f[0x0][_0x5238b3(0x227)]==_0x5238b3(0x20d))var _0x5712d1=users['English'];else{if(_0x3f950f[0x0][_0x5238b3(0x227)]==_0x5238b3(0x21c))var _0x5712d1=users[_0x5238b3(0x21c)];else{if(_0x3f950f[0x0][_0x5238b3(0x227)]==_0x5238b3(0x1f7))var _0x5712d1=users[_0x5238b3(0x1f7)];else{if(_0x3f950f[0x0][_0x5238b3(0x227)]==_0x5238b3(0x291))var _0x5712d1=users['Spanish'];else{if(_0x3f950f[0x0]['language']=='French')var _0x5712d1=users[_0x5238b3(0x248)];else{if(_0x3f950f[0x0]['language']==_0x5238b3(0x2a2))var _0x5712d1=users[_0x5238b3(0x24e)];else{if(_0x3f950f[0x0][_0x5238b3(0x227)]==_0x5238b3(0x24c))var _0x5712d1=users['Chinese'];else{if(_0x3f950f[0x0]['language']==_0x5238b3(0x284))var _0x5712d1=users['Arabic'];}}}}}}}_0x5caa99['render'](_0x5238b3(0x2ad),{'success':_0x5ea127[_0x5238b3(0x2ba)](_0x5238b3(0x27c)),'errors':_0x5ea127[_0x5238b3(0x2ba)](_0x5238b3(0x21f)),'role':_0x1f87ef,'profile':_0x16f37e,'master_shop':_0x3f950f,'user':_0xd41bc7,'language':_0x5712d1});}catch(_0x1f688e){console['log'](_0x1f688e);}}),router[a0_0x485530(0x29a)](a0_0x485530(0x23e),auth,async(_0x109eb5,_0x53c8ee)=>{const _0x3c8fd7=a0_0x485530;try{const _0x24cf5a=_0x109eb5['params']['id'],_0x397891=await units[_0x3c8fd7(0x2a0)](_0x24cf5a,_0x109eb5[_0x3c8fd7(0x28f)]);_0x109eb5[_0x3c8fd7(0x2ba)](_0x3c8fd7(0x27c),_0x3c8fd7(0x233)),_0x53c8ee[_0x3c8fd7(0x244)](_0x3c8fd7(0x226));}catch(_0x4c578e){console[_0x3c8fd7(0x286)](_0x4c578e);}}),router[a0_0x485530(0x230)](a0_0x485530(0x218),auth,async(_0x1ab297,_0x3860b9)=>{const _0xcaeac7=a0_0x485530;try{const _0x55e396=_0x1ab297[_0xcaeac7(0x27d)]['id'],_0x378b8f=await units[_0xcaeac7(0x278)](_0x55e396);_0x1ab297[_0xcaeac7(0x2ba)](_0xcaeac7(0x27c),_0xcaeac7(0x270)),_0x3860b9[_0xcaeac7(0x244)](_0xcaeac7(0x226));}catch(_0x3bd28c){console[_0xcaeac7(0x286)](_0x3bd28c);}});function a0_0x56aa(){const _0x5c38b7=['max_number_per_units','/print_barcode_filter/','Primary_Code','save','min','$category','originalname','maxProdPerUnit','brand','concat','data','English','Products_category','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','/categories/:id','addPage','unit\x20data\x20delete\x20successfully','Content-Disposition','numeric','/products/view','image','Enabled','product_code','/barcode_filter','findByIdAndDelete','jsbarcode','attachment;\x20filename=Product_Migration_File.xlsx','width','success','params','categories','Secondary_Code','barcode\x20Product\x20master','public/upload','SPICEMIX_CODE','Raw\x20Materials','Arabic\x20(ae)','/categories/delete/:id','log','user','filename','product_barcode','1797268lvXckV','Products','/products_import_migrate_file','CURING_SALT_CODE','public/Migration','body','/brands','Spanish','PName','utils','categ','multer','\x20<>\x20','/barcode_data','sheet_to_json','1091262NfOxJC','post','prod_categ','../public/language/languages.json','128TxwYSX','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','findById','findByIdAndUpdate','columns','Portuguese\x20(BR)','/products/categories','warehouse_category','secondary_code','hello','products_spmx','Product_Name','name','PAlQty','/categories','CODE128','units','5xkUVnF','/filter_product','MaxperUnits','Workbook','then','file','Secondary_Units','alertquantity','Finished\x20Goods','Admin','Alert_QTY','/select_data','flash','addWorksheet','toString','single','long','German','warehouse','Maximum_Stocks','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','maxStocks','Sheets','push','end','public/Migration/','PUnits','exports','/products_import_migrate_file_spmx','\x20added\x20successfully','Category','master','\x20brand\x20is\x20add\x20successfully','/products/brands','send','now','Router','PCat','Arabic','English\x20(US)','467640qlEvcS','EXTENDERS_CODE','\x20unit\x20is\x20add\x20successfully','\x20Edit\x20Successfully','findOne','category','attachment;\x20filename=spice_mix_migration.xlsx','745320OpiYhr','brands','products','/units/delete/:id','/view/add_products','unit','../models/all_models','Hindi','pdfkit-table','Brands','errors','exceljs','$_id','171388YxMtRz','toBuffer','find','edit\x20Product\x20master','/products/units','language','product\x20edit','PSecondaryUnits','product\x20update\x20successfully','Content-Type','product_barcode_products','Units','edit_product','diskStorage','get','SPMX','height','unit\x20data\x20update\x20successfully','bind','render','/products_export_migrate_file','xlsx','setHeader','PBrands','json','/brands/:id','aggregate','add_product','/units/:id','ProductCode','sku','225728bXWeYn','email','/units','redirect','base64','/brands/delete/:id','/print_barcode','French','status','brand\x20data\x20delete\x20successfully','message','Chinese','product_category','Portuguese','defaultProduct.avif','../middleware/auth','length','staff','admin','\x20categories\x20is\x20add\x20successfully','Product_Code','/view','write','secondary_unit','4423203EeLDAp','/view/:id','primary_code','SheetNames','/products_export_migrate_file_spmx','role','$brand'];a0_0x56aa=function(){return _0x5c38b7;};return a0_0x56aa();}function a0_0x53f7(_0x322d34,_0x21acd4){const _0x56aad5=a0_0x56aa();return a0_0x53f7=function(_0x53f7cb,_0x263b37){_0x53f7cb=_0x53f7cb-0x1f4;let _0x5c0d8a=_0x56aad5[_0x53f7cb];return _0x5c0d8a;},a0_0x53f7(_0x322d34,_0x21acd4);}const storage=multer[a0_0x485530(0x22f)]({'destination':(_0x15b051,_0x5b2e34,_0x425972)=>{const _0xa4f3b1=a0_0x485530;_0x425972(null,_0xa4f3b1(0x281));},'filename':(_0x4232b1,_0xeec62d,_0x52f828)=>{const _0x8914bd=a0_0x485530;_0x52f828(null,Date[_0x8914bd(0x209)]()+_0xeec62d[_0x8914bd(0x266)]);}}),upload=multer({'storage':storage});router[a0_0x485530(0x230)](a0_0x485530(0x256),auth,async(_0x4b7023,_0x544118)=>{const _0x16ee9f=a0_0x485530;try{const {username:_0x1eff54,email:_0x5cb470,role:_0x525483}=_0x4b7023[_0x16ee9f(0x287)],_0x196623=_0x4b7023[_0x16ee9f(0x287)],_0xa0c5c8=await profile['findOne']({'email':_0x196623[_0x16ee9f(0x242)]}),_0x5c5bb8={'year':'numeric','month':_0x16ee9f(0x1f6),'day':_0x16ee9f(0x272)},_0xd33086=await master_shop[_0x16ee9f(0x224)]();if(_0x196623[_0x16ee9f(0x25e)]==_0x16ee9f(0x2b7))var _0xa80138=await product['find']();else var _0xa80138=await product[_0x16ee9f(0x224)]({'product_category':_0x196623[_0x16ee9f(0x2a4)]});if(_0xd33086[0x0]['language']==_0x16ee9f(0x20d))var _0x4e50b3=users[_0x16ee9f(0x26b)];else{if(_0xd33086[0x0][_0x16ee9f(0x227)]=='Hindi')var _0x4e50b3=users[_0x16ee9f(0x21c)];else{if(_0xd33086[0x0][_0x16ee9f(0x227)]==_0x16ee9f(0x1f7))var _0x4e50b3=users['German'];else{if(_0xd33086[0x0]['language']==_0x16ee9f(0x291))var _0x4e50b3=users[_0x16ee9f(0x291)];else{if(_0xd33086[0x0][_0x16ee9f(0x227)]==_0x16ee9f(0x248))var _0x4e50b3=users[_0x16ee9f(0x248)];else{if(_0xd33086[0x0][_0x16ee9f(0x227)]==_0x16ee9f(0x2a2))var _0x4e50b3=users[_0x16ee9f(0x24e)];else{if(_0xd33086[0x0][_0x16ee9f(0x227)]=='Chinese')var _0x4e50b3=users[_0x16ee9f(0x24c)];else{if(_0xd33086[0x0][_0x16ee9f(0x227)]==_0x16ee9f(0x284))var _0x4e50b3=users['Arabic'];}}}}}}}_0x196623[_0x16ee9f(0x2a4)]==_0x16ee9f(0x231)?_0x544118[_0x16ee9f(0x235)](_0x16ee9f(0x2a7),{'success':_0x4b7023[_0x16ee9f(0x2ba)]('success'),'errors':_0x4b7023[_0x16ee9f(0x2ba)](_0x16ee9f(0x21f)),'alldata':_0xa80138,'profile':_0xa0c5c8,'master_shop':_0xd33086,'role':_0x196623,'language':_0x4e50b3}):_0x544118[_0x16ee9f(0x235)]('products',{'success':_0x4b7023['flash']('success'),'errors':_0x4b7023['flash'](_0x16ee9f(0x21f)),'alldata':_0xa80138,'profile':_0xa0c5c8,'master_shop':_0xd33086,'role':_0x196623,'language':_0x4e50b3});}catch(_0x51ed89){console[_0x16ee9f(0x286)](_0x51ed89);}}),router['get'](a0_0x485530(0x219),auth,async(_0x39b8b1,_0x5ef732)=>{const _0x3764d2=a0_0x485530;try{const {username:_0x278527,email:_0x41ab4c,role:_0x511462}=_0x39b8b1[_0x3764d2(0x287)],_0xcd8448=_0x39b8b1[_0x3764d2(0x287)],_0x8b3962=await profile[_0x3764d2(0x212)]({'email':_0xcd8448['email']}),_0x213524=await master_shop[_0x3764d2(0x224)]();console['log'](_0x3764d2(0x205),_0x213524);const _0x3c257e=await categories[_0x3764d2(0x224)]({}),_0x242a09=await brands['find']({}),_0xdbff2a=await units['find']({}),_0xe6d830=await warehouse[_0x3764d2(0x224)]({'status':_0x3764d2(0x275)});if(_0x213524[0x0][_0x3764d2(0x227)]==_0x3764d2(0x20d))var _0x2cb3a5=users[_0x3764d2(0x26b)];else{if(_0x213524[0x0][_0x3764d2(0x227)]==_0x3764d2(0x21c))var _0x2cb3a5=users[_0x3764d2(0x21c)];else{if(_0x213524[0x0][_0x3764d2(0x227)]==_0x3764d2(0x1f7))var _0x2cb3a5=users['German'];else{if(_0x213524[0x0][_0x3764d2(0x227)]=='Spanish')var _0x2cb3a5=users[_0x3764d2(0x291)];else{if(_0x213524[0x0][_0x3764d2(0x227)]==_0x3764d2(0x248))var _0x2cb3a5=users[_0x3764d2(0x248)];else{if(_0x213524[0x0][_0x3764d2(0x227)]==_0x3764d2(0x2a2))var _0x2cb3a5=users[_0x3764d2(0x24e)];else{if(_0x213524[0x0][_0x3764d2(0x227)]==_0x3764d2(0x24c))var _0x2cb3a5=users[_0x3764d2(0x24c)];else{if(_0x213524[0x0][_0x3764d2(0x227)]==_0x3764d2(0x284))var _0x2cb3a5=users[_0x3764d2(0x20c)];}}}}}}}_0xcd8448[_0x3764d2(0x2a4)]=='SPMX'?_0x5ef732['render']('add_product_spmx',{'success':_0x39b8b1['flash'](_0x3764d2(0x27c)),'errors':_0x39b8b1[_0x3764d2(0x2ba)](_0x3764d2(0x21f)),'role':_0xcd8448,'profile':_0x8b3962,'categories':_0x3c257e,'brands':_0x242a09,'master_shop':_0x213524,'units':_0xdbff2a,'language':_0x2cb3a5,'find_data':_0xe6d830}):_0x5ef732[_0x3764d2(0x235)](_0x3764d2(0x23d),{'success':_0x39b8b1[_0x3764d2(0x2ba)]('success'),'errors':_0x39b8b1[_0x3764d2(0x2ba)]('errors'),'role':_0xcd8448,'profile':_0x8b3962,'categories':_0x3c257e,'brands':_0x242a09,'master_shop':_0x213524,'units':_0xdbff2a,'language':_0x2cb3a5,'find_data':_0xe6d830});}catch(_0x50aeb6){console[_0x3764d2(0x286)](_0x50aeb6);}}),router[a0_0x485530(0x29a)](a0_0x485530(0x219),auth,upload['single'](a0_0x485530(0x274)),async(_0xe709a1,_0x3e363c)=>{const _0xba89ba=a0_0x485530;try{const {name:_0xcbaf91,category:_0xf1cf74,brand:_0x311ffb,unit:_0x450618,alertquantity:_0x10bd53,stock:_0x32db91,product_code:_0x38270e,warehouse:_0x5671f4,primary_ItemCode:_0x5e930f,second_ItemCode:_0x4ef4e4,second_unit:_0x421b40,maxPerUnit:_0x3b0a9c,MaxPerProduct:_0x2c8eb9,prod_catdata:_0x28da10,product_code_spmx:_0x4e3458}=_0xe709a1['body'],_0x5556e7=_0xe709a1['file']?.[_0xba89ba(0x288)]||_0xba89ba(0x24f),_0x376e7b=new product({'image':_0x5556e7,'name':_0xcbaf91,'category':_0xf1cf74,'brand':_0x311ffb,'unit':_0x450618,'alertquantity':_0x10bd53,'stock':_0x32db91,'product_code_spmx':_0x4e3458,'product_code':_0x38270e,'warehouse':_0x5671f4,'primary_code':_0x5e930f,'secondary_code':_0x4ef4e4,'second_unit':_0x421b40,'maxStocks':_0x2c8eb9,'maxProdPerUnit':_0x3b0a9c,'product_category':_0x28da10}),_0x32f531=await _0x376e7b[_0xba89ba(0x263)](),_0x1bf4c3=await categories[_0xba89ba(0x212)]({'name':_0xf1cf74});_0x1bf4c3[_0xba89ba(0x217)]=parseInt(_0x1bf4c3[_0xba89ba(0x217)])+0x1,await _0x1bf4c3[_0xba89ba(0x263)]();const _0x4cda96=await brands[_0xba89ba(0x212)]({'name':_0x311ffb});_0x4cda96[_0xba89ba(0x217)]=parseInt(_0x4cda96['products'])+0x1,await _0x4cda96['save']();const _0x6cbd95=await units[_0xba89ba(0x212)]({'name':_0x450618});_0x6cbd95[_0xba89ba(0x217)]=parseInt(_0x6cbd95[_0xba89ba(0x217)])+0x1,await _0x6cbd95[_0xba89ba(0x263)](),_0xe709a1[_0xba89ba(0x2ba)](_0xba89ba(0x27c),'product\x20add\x20successfully'),_0x3e363c['redirect'](_0xba89ba(0x273));}catch(_0x2818c1){console[_0xba89ba(0x286)](_0x2818c1);}}),router[a0_0x485530(0x230)](a0_0x485530(0x25a),auth,async(_0x2a82cd,_0xb1b9e1)=>{const _0x14607c=a0_0x485530;try{const {username:_0xc02929,email:_0x37ea6e,role:_0x53f738}=_0x2a82cd['user'],_0x244833=_0x2a82cd[_0x14607c(0x287)],_0x14d27b=await profile[_0x14607c(0x212)]({'email':_0x244833[_0x14607c(0x242)]}),_0x5cbe63=await master_shop[_0x14607c(0x224)]();console[_0x14607c(0x286)](_0x14607c(0x225),_0x5cbe63);const _0x5a1e2c=_0x2a82cd[_0x14607c(0x27d)]['id'],_0x5aa2fb=await product['findById'](_0x5a1e2c),_0x1699d5=await categories['find']({}),_0x396bc1=await brands[_0x14607c(0x224)]({}),_0xe3a8a=await units[_0x14607c(0x224)]({}),_0x4f29bb=await warehouse[_0x14607c(0x224)]({'status':_0x14607c(0x275)}),_0x5e9f35=await units[_0x14607c(0x23c)]([{'$group':{'_id':_0x14607c(0x221),'secondaryunit':{'$first':'$secondary_unit'}}}]);if(_0x5cbe63[0x0][_0x14607c(0x227)]==_0x14607c(0x20d))var _0x55bc1a=users[_0x14607c(0x26b)];else{if(_0x5cbe63[0x0][_0x14607c(0x227)]=='Hindi')var _0x55bc1a=users[_0x14607c(0x21c)];else{if(_0x5cbe63[0x0][_0x14607c(0x227)]==_0x14607c(0x1f7))var _0x55bc1a=users[_0x14607c(0x1f7)];else{if(_0x5cbe63[0x0][_0x14607c(0x227)]=='Spanish')var _0x55bc1a=users[_0x14607c(0x291)];else{if(_0x5cbe63[0x0][_0x14607c(0x227)]=='French')var _0x55bc1a=users[_0x14607c(0x248)];else{if(_0x5cbe63[0x0][_0x14607c(0x227)]==_0x14607c(0x2a2))var _0x55bc1a=users[_0x14607c(0x24e)];else{if(_0x5cbe63[0x0][_0x14607c(0x227)]==_0x14607c(0x24c))var _0x55bc1a=users[_0x14607c(0x24c)];else{if(_0x5cbe63[0x0][_0x14607c(0x227)]=='Arabic\x20(ae)')var _0x55bc1a=users[_0x14607c(0x20c)];}}}}}}}_0x244833[_0x14607c(0x2a4)]==_0x14607c(0x231)?_0xb1b9e1[_0x14607c(0x235)]('edit_product_spmx',{'success':_0x2a82cd[_0x14607c(0x2ba)](_0x14607c(0x27c)),'errors':_0x2a82cd[_0x14607c(0x2ba)](_0x14607c(0x21f)),'role':_0x244833,'profile':_0x14d27b,'alldata':_0x5aa2fb,'categories':_0x1699d5,'brands':_0x396bc1,'master_shop':_0x5cbe63,'units':_0xe3a8a,'secondunit':_0x5e9f35,'find_data':_0x4f29bb,'language':_0x55bc1a}):_0xb1b9e1['render'](_0x14607c(0x22e),{'success':_0x2a82cd[_0x14607c(0x2ba)](_0x14607c(0x27c)),'errors':_0x2a82cd['flash'](_0x14607c(0x21f)),'role':_0x244833,'profile':_0x14d27b,'alldata':_0x5aa2fb,'categories':_0x1699d5,'brands':_0x396bc1,'master_shop':_0x5cbe63,'units':_0xe3a8a,'secondunit':_0x5e9f35,'find_data':_0x4f29bb,'language':_0x55bc1a});}catch(_0x316000){console[_0x14607c(0x286)](_0x316000);}}),router['post'](a0_0x485530(0x25a),auth,upload[a0_0x485530(0x1f5)](a0_0x485530(0x274)),async(_0x5f3611,_0x55e546)=>{const _0x8e603d=a0_0x485530;try{console[_0x8e603d(0x286)](_0x8e603d(0x2a6));const _0x4c0c72=_0x5f3611['params']['id'],_0xff2a48=await product[_0x8e603d(0x29f)](_0x4c0c72),{image:_0x2af000,name:_0x5ac559,category:_0x545cde,brand:_0x376060,sku:_0x175b13,unit:_0x4f774a,alertquantity:_0x9a1124,product_code:_0xb8887b,warehouse:_0x3cf776,primary_ItemCode:_0x47e4c3,second_ItemCode:_0x447479,second_unit:_0x328a32,maxPerUnit:_0x582c0c,MaxPerProduct:_0x584dc1,prod_catdata:_0x55f7fd,product_code_spmx:_0x5848c9}=_0x5f3611[_0x8e603d(0x28f)];_0x5f3611[_0x8e603d(0x2b3)]&&(_0xff2a48['image']=_0x5f3611[_0x8e603d(0x2b3)][_0x8e603d(0x288)]);_0xff2a48[_0x8e603d(0x2a9)]=_0x5ac559,_0xff2a48[_0x8e603d(0x213)]=_0x545cde,_0xff2a48[_0x8e603d(0x268)]=_0x376060,_0xff2a48[_0x8e603d(0x240)]=_0x175b13,_0xff2a48['unit']=_0x4f774a,_0xff2a48[_0x8e603d(0x2b5)]=_0x9a1124,_0xff2a48[_0x8e603d(0x276)]=_0xb8887b,_0xff2a48[_0x8e603d(0x1f8)]=_0x3cf776,_0xff2a48[_0x8e603d(0x25b)]=_0x47e4c3,_0xff2a48['secondary_code']=_0x447479,_0xff2a48[_0x8e603d(0x258)]=_0x328a32,_0xff2a48[_0x8e603d(0x1fb)]=_0x584dc1,_0xff2a48['maxProdPerUnit']=_0x582c0c,_0xff2a48[_0x8e603d(0x24d)]=_0x55f7fd,_0xff2a48['product_code_spmx']=_0x5848c9;const _0x44e0c1=await _0xff2a48['save']();console[_0x8e603d(0x286)](_0x8e603d(0x228),_0xff2a48),_0x5f3611[_0x8e603d(0x2ba)](_0x8e603d(0x27c),_0x8e603d(0x22a)),_0x55e546['redirect']('/products/view');}catch(_0x2942af){console[_0x8e603d(0x286)](_0x2942af);}}),router[a0_0x485530(0x230)]('/barcode/:id',auth,async(_0x32305c,_0x5653b3)=>{const _0x33353c=a0_0x485530;try{const {username:_0x491d39,email:_0x41269a,role:_0x5bcc8f}=_0x32305c[_0x33353c(0x287)],_0x5b0101=_0x32305c['user'],_0x194ef7=await profile['findOne']({'email':_0x5b0101[_0x33353c(0x242)]}),_0x59ce7f=await master_shop[_0x33353c(0x224)]();console[_0x33353c(0x286)](_0x33353c(0x280),_0x59ce7f);const _0x2d125f=_0x32305c[_0x33353c(0x27d)]['id'],_0x2b9dc8=await product['findById'](_0x2d125f);console['log']('barcode\x20user_id',_0x2b9dc8);if(_0x59ce7f[0x0]['language']=='English\x20(US)')var _0x141355=users[_0x33353c(0x26b)];else{if(_0x59ce7f[0x0]['language']==_0x33353c(0x21c))var _0x141355=users[_0x33353c(0x21c)];else{if(_0x59ce7f[0x0][_0x33353c(0x227)]==_0x33353c(0x1f7))var _0x141355=users[_0x33353c(0x1f7)];else{if(_0x59ce7f[0x0][_0x33353c(0x227)]==_0x33353c(0x291))var _0x141355=users[_0x33353c(0x291)];else{if(_0x59ce7f[0x0][_0x33353c(0x227)]==_0x33353c(0x248))var _0x141355=users['French'];else{if(_0x59ce7f[0x0]['language']=='Portuguese\x20(BR)')var _0x141355=users['Portuguese'];else{if(_0x59ce7f[0x0][_0x33353c(0x227)]=='Chinese')var _0x141355=users[_0x33353c(0x24c)];else{if(_0x59ce7f[0x0]['language']==_0x33353c(0x284))var _0x141355=users[_0x33353c(0x20c)];}}}}}}}_0x5653b3['render'](_0x33353c(0x289),{'success':_0x32305c[_0x33353c(0x2ba)]('success'),'errors':_0x32305c[_0x33353c(0x2ba)](_0x33353c(0x21f)),'role':_0x5b0101,'profile':_0x194ef7,'alldata':_0x2b9dc8,'master_shop':_0x59ce7f,'language':_0x141355});}catch(_0x5d9c7c){console[_0x33353c(0x286)](_0x5d9c7c);}}),router['get'](a0_0x485530(0x25d),auth,async(_0x336618,_0x47a521)=>{const _0x1ff131=a0_0x485530;try{const _0x406162=new excelJS[(_0x1ff131(0x2b1))](),_0x54a734=_0x406162['addWorksheet'](_0x1ff131(0x28b));return _0x54a734['columns']=[{'header':'Brands','key':_0x1ff131(0x239),'width':0xa},{'header':'Units','key':_0x1ff131(0x200),'width':0xa},{'header':_0x1ff131(0x282),'key':_0x1ff131(0x23f),'width':0xa},{'header':_0x1ff131(0x20f),'key':'ProductCode','width':0xa},{'header':'CURING_SALT_CODE','key':_0x1ff131(0x23f),'width':0xa},{'header':'Category','key':'PCat','width':0xa},{'header':_0x1ff131(0x26c),'key':'Prod_Cat','width':0xa}],_0x47a521[_0x1ff131(0x238)](_0x1ff131(0x22b),'application/vnd.openxmlformats-officedocument.spreadsheatml.sheet'),_0x47a521[_0x1ff131(0x238)]('Content-Disposition',_0x1ff131(0x214)),_0x406162['xlsx']['write'](_0x47a521)[_0x1ff131(0x2b2)](()=>{const _0x581151=_0x1ff131;_0x47a521[_0x581151(0x249)](0xc8);});}catch(_0x4501f8){_0x47a521[_0x1ff131(0x249)](0x190)['send'](_0x4501f8);}}),router[a0_0x485530(0x230)](a0_0x485530(0x236),auth,async(_0x51301b,_0x4f3158)=>{const _0x48092b=a0_0x485530;try{const _0x51cc26=new excelJS['Workbook'](),_0x503288=_0x51cc26[_0x48092b(0x2bb)](_0x48092b(0x28b));return _0x503288[_0x48092b(0x2a1)]=[{'header':_0x48092b(0x2a8),'key':_0x48092b(0x292),'width':0xa},{'header':_0x48092b(0x21e),'key':_0x48092b(0x239),'width':0xa},{'header':'Units','key':'PUnits','width':0xa},{'header':'Secondary_Units','key':_0x48092b(0x229),'width':0xa},{'header':_0x48092b(0x260),'key':_0x48092b(0x2b0),'width':0xa},{'header':_0x48092b(0x262),'key':'ProductCode','width':0xa},{'header':_0x48092b(0x27f),'key':_0x48092b(0x23f),'width':0xa},{'header':_0x48092b(0x255),'key':_0x48092b(0x23f),'width':0xa},{'header':_0x48092b(0x204),'key':_0x48092b(0x20b),'width':0xa},{'header':_0x48092b(0x2b8),'key':_0x48092b(0x2aa),'width':0xa},{'header':_0x48092b(0x1f9),'key':'PAlQty','width':0xa},{'header':'Products_category','key':'Prod_Cat','width':0xa}],_0x4f3158[_0x48092b(0x238)](_0x48092b(0x22b),_0x48092b(0x1fa)),_0x4f3158[_0x48092b(0x238)](_0x48092b(0x271),_0x48092b(0x27a)),_0x51cc26['xlsx'][_0x48092b(0x257)](_0x4f3158)[_0x48092b(0x2b2)](()=>{const _0x39507a=_0x48092b;_0x4f3158[_0x39507a(0x249)](0xc8);});}catch(_0x1ad033){_0x4f3158[_0x48092b(0x249)](0x190)[_0x48092b(0x208)](_0x1ad033);}});const storage1=multer['diskStorage']({'destination':(_0x457045,_0x395663,_0xc7e948)=>{const _0x40e81f=a0_0x485530;_0xc7e948(null,_0x40e81f(0x28e));},'filename':(_0x46a15a,_0x1fb8de,_0x6a5d60)=>{const _0x11b238=a0_0x485530;_0x6a5d60(null,Date[_0x11b238(0x209)]()+_0x1fb8de[_0x11b238(0x266)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x485530(0x29a)](a0_0x485530(0x28c),auth,uploadMigrate[a0_0x485530(0x1f5)]('migrate_product_fule'),async(_0x55f7f1,_0x2c468f)=>{const _0x2445a0=a0_0x485530,_0x2a1dee=_0x55f7f1['file'][_0x2445a0(0x288)],_0x287f03=await xlsx['readFile']('public/Migration/'+_0x2a1dee);let _0x5633e2=_0x287f03[_0x2445a0(0x25c)],_0x8d40b5=xlsx[_0x2445a0(0x293)][_0x2445a0(0x298)](_0x287f03['Sheets'][_0x5633e2[0x0]]);for(const _0x13a4be of _0x8d40b5){const _0x15aae3=_0x13a4be[_0x2445a0(0x2a8)],_0x65d212=_0x13a4be[_0x2445a0(0x21e)],_0x2a8c6c=_0x13a4be[_0x2445a0(0x22d)],_0x979f17=_0x13a4be[_0x2445a0(0x2b4)],_0x324825=_0x13a4be[_0x2445a0(0x255)],_0x160f35=_0x13a4be[_0x2445a0(0x204)],_0x3a13ee=_0x13a4be[_0x2445a0(0x2b8)],_0x5a652a=_0x13a4be[_0x2445a0(0x262)],_0x556c5b=_0x13a4be[_0x2445a0(0x27f)],_0x3cb1ae=_0x13a4be['Maximum_Stocks'],_0x137739=_0x13a4be[_0x2445a0(0x260)],_0x4e4126=_0x13a4be['Products_category'];try{let _0xf6f3bf=await categories[_0x2445a0(0x212)]({'name':_0x160f35});if(!_0xf6f3bf){const _0x4fcc34=new categories({'name':_0x160f35,'products':'0'});_0xf6f3bf=await _0x4fcc34['save']();}let _0x2e3e2=await brands[_0x2445a0(0x212)]({'name':_0x65d212});if(!_0x2e3e2){const _0x51ff31=new brands({'name':_0x65d212,'products':'0'});_0x2e3e2=await _0x51ff31[_0x2445a0(0x263)]();}let _0x208ac6=await units[_0x2445a0(0x212)]({'name':_0x2a8c6c,'secondary_unit':_0x979f17});if(!_0x208ac6){const _0x130728=new units({'name':_0x2a8c6c,'secondary_unit':_0x979f17,'products':'0'});_0x208ac6=await _0x130728['save']();}const _0xa2722d=await product[_0x2445a0(0x224)]({'name':_0x15aae3,'category':_0xf6f3bf[_0x2445a0(0x2a9)],'brand':_0x2e3e2[_0x2445a0(0x2a9)],'secondary_unit':_0x208ac6[_0x2445a0(0x258)],'product_code':_0x324825});console[_0x2445a0(0x286)](_0xa2722d[_0x2445a0(0x251)]+_0x2445a0(0x296)+_0xf6f3bf[_0x2445a0(0x2a9)]+_0x2445a0(0x296)+_0x2e3e2[_0x2445a0(0x2a9)]+_0x2445a0(0x296)+_0x208ac6['secondary_unit']+_0x2445a0(0x296)+_0x324825+_0x2445a0(0x296)+_0x15aae3);if(_0xa2722d[_0x2445a0(0x251)]===0x0){const _0x321cdc=new product({'image':_0x2445a0(0x24f),'name':_0x15aae3,'category':_0xf6f3bf[_0x2445a0(0x2a9)],'brand':_0x2e3e2[_0x2445a0(0x2a9)],'unit':_0x208ac6[_0x2445a0(0x2a9)],'alertquantity':_0x3a13ee,'product_code':_0x324825,'secondary_unit':_0x208ac6[_0x2445a0(0x258)],'primary_code':_0x5a652a,'secondary_code':_0x556c5b,'maxStocks':_0x3cb1ae,'maxProdPerUnit':_0x137739,'product_category':_0x4e4126}),_0x42035f=await _0x321cdc['save']();_0xf6f3bf[_0x2445a0(0x217)]=parseInt(_0xf6f3bf[_0x2445a0(0x217)])+0x1,await _0xf6f3bf[_0x2445a0(0x263)](),_0x2e3e2[_0x2445a0(0x217)]=parseInt(_0x2e3e2[_0x2445a0(0x217)])+0x1,await _0x2e3e2[_0x2445a0(0x263)](),_0x208ac6[_0x2445a0(0x217)]=parseInt(_0x208ac6[_0x2445a0(0x217)])+0x1,await _0x208ac6[_0x2445a0(0x263)](),_0x55f7f1[_0x2445a0(0x2ba)](_0x2445a0(0x27c),_0x15aae3+_0x2445a0(0x203));}else{console['log'](_0xa2722d[0x0]);const _0x5ebf0f=_0xa2722d[0x0];_0x5ebf0f['category']=_0xf6f3bf[_0x2445a0(0x2a9)],_0x5ebf0f[_0x2445a0(0x268)]=_0x2e3e2[_0x2445a0(0x2a9)],_0x5ebf0f[_0x2445a0(0x21a)]=_0x208ac6['name'],_0x5ebf0f[_0x2445a0(0x2b5)]=_0x3a13ee,_0x5ebf0f[_0x2445a0(0x276)]=_0x324825,_0x5ebf0f[_0x2445a0(0x258)]=_0x208ac6[_0x2445a0(0x258)],_0x5ebf0f[_0x2445a0(0x25b)]=_0x5a652a,_0x5ebf0f[_0x2445a0(0x2a5)]=_0x556c5b,_0x5ebf0f[_0x2445a0(0x1fb)]=_0x3cb1ae,_0x5ebf0f[_0x2445a0(0x267)]=_0x137739,_0x5ebf0f[_0x2445a0(0x24d)]=_0x4e4126;const _0x452e4f=await _0x5ebf0f[_0x2445a0(0x263)]();_0x55f7f1['flash'](_0x2445a0(0x27c),_0x452e4f[_0x2445a0(0x2a9)]+_0x2445a0(0x211));}}catch(_0x8f560e){_0x2c468f[_0x2445a0(0x249)](0x1f4)[_0x2445a0(0x23a)]({'proderror':_0x8f560e[_0x2445a0(0x24b)],'aproduct':_0x15aae3});}}_0x2c468f[_0x2445a0(0x244)](_0x2445a0(0x273));}),router[a0_0x485530(0x29a)](a0_0x485530(0x202),auth,uploadMigrate['single']('migrate_product_file_spmx'),async(_0x4d38f0,_0x44ac3f)=>{const _0xdb655=a0_0x485530,_0x4f06ab=_0x4d38f0[_0xdb655(0x2b3)][_0xdb655(0x288)],_0xe91010=await xlsx['readFile'](_0xdb655(0x1ff)+_0x4f06ab);let _0x3de4ef=_0xe91010[_0xdb655(0x25c)],_0x19762d=xlsx['utils'][_0xdb655(0x298)](_0xe91010[_0xdb655(0x1fc)][_0x3de4ef[0x0]]);for(const _0x42e5ba of _0x19762d){const _0x3cad='SPMX_M',_0x23a637=_0x42e5ba[_0xdb655(0x21e)],_0x346dc3=_0x42e5ba['Units'],_0x3b904c=_0x42e5ba[_0xdb655(0x282)],_0x136a28=_0x42e5ba[_0xdb655(0x20f)],_0x50c677=_0x42e5ba[_0xdb655(0x28d)],_0x2965da=_0x42e5ba[_0xdb655(0x204)],_0x57cd0a=_0x42e5ba['Products_category'];try{let _0x1808b6=await categories['findOne']({'name':_0x2965da});if(!_0x1808b6){const _0x3e080c=new categories({'name':_0x2965da,'products':'0'});_0x1808b6=await _0x3e080c['save']();}let _0x19cf9e=await brands[_0xdb655(0x212)]({'name':_0x23a637});if(!_0x19cf9e){const _0x41937c=new brands({'name':_0x23a637,'products':'0'});_0x19cf9e=await _0x41937c[_0xdb655(0x263)]();}let _0x22ec6c=await units[_0xdb655(0x212)]({'name':_0x346dc3});if(!_0x22ec6c){const _0x2cbbfe=new units({'name':_0x346dc3,'products':'0'});_0x22ec6c=await _0x2cbbfe[_0xdb655(0x263)]();}const _0x38122d=await product[_0xdb655(0x224)]({'product_code':_0x50c677,'primary_code':_0x3b904c,'secondary_code':_0x136a28});if(_0x38122d[_0xdb655(0x251)]===0x0){const _0x389d05=new product({'image':_0xdb655(0x24f),'name':_0x3cad,'category':_0x1808b6['name'],'brand':_0x19cf9e['name'],'unit':_0x22ec6c['name'],'product_code':_0x50c677,'primary_code':_0x3b904c,'secondary_code':_0x136a28,'product_category':_0x57cd0a}),_0x5a47fe=await _0x389d05[_0xdb655(0x263)]();_0x1808b6[_0xdb655(0x217)]=parseInt(_0x1808b6[_0xdb655(0x217)])+0x1,await _0x1808b6['save'](),_0x19cf9e['products']=parseInt(_0x19cf9e[_0xdb655(0x217)])+0x1,await _0x19cf9e[_0xdb655(0x263)](),_0x22ec6c[_0xdb655(0x217)]=parseInt(_0x22ec6c[_0xdb655(0x217)])+0x1,await _0x22ec6c[_0xdb655(0x263)](),_0x4d38f0[_0xdb655(0x2ba)]('success',_0x3cad+_0xdb655(0x203));}else{console['log'](_0x38122d[0x0]);const _0x44b683=_0x38122d[0x0];_0x44b683[_0xdb655(0x213)]=_0x1808b6['name'],_0x44b683[_0xdb655(0x268)]=_0x19cf9e[_0xdb655(0x2a9)],_0x44b683[_0xdb655(0x21a)]=_0x22ec6c[_0xdb655(0x2a9)],_0x44b683[_0xdb655(0x276)]=_0x50c677,_0x44b683['primary_code']=_0x3b904c,_0x44b683[_0xdb655(0x2a5)]=_0x136a28,_0x44b683[_0xdb655(0x24d)]=_0x57cd0a;const _0x25ecc5=await _0x44b683[_0xdb655(0x263)]();_0x4d38f0[_0xdb655(0x2ba)](_0xdb655(0x27c),_0x25ecc5[_0xdb655(0x2a9)]+'\x20Edit\x20Successfully');}}catch(_0x44ce33){_0x44ac3f[_0xdb655(0x249)](0x1f4)['json']({'proderror':_0x44ce33['message'],'aproduct':_0x3cad});}}_0x44ac3f['redirect'](_0xdb655(0x273));}),router[a0_0x485530(0x29a)](a0_0x485530(0x2b9),auth,async(_0x5d44ca,_0x40f517)=>{const _0x516c6c=a0_0x485530;try{console['log'](_0x5d44ca[_0x516c6c(0x28f)]);const {data_cateory:_0x2fc045,datachoose:_0x54ddbe}=_0x5d44ca['body'];var _0x17cd82;if(_0x54ddbe==_0x516c6c(0x29b))_0x17cd82=await product[_0x516c6c(0x23c)]([{'$group':{'_id':'$product_category'}}]);else{if(_0x54ddbe=='brands')_0x17cd82=await product[_0x516c6c(0x23c)]([{'$match':{'product_category':_0x2fc045}},{'$group':{'_id':_0x516c6c(0x25f)}}]);else _0x54ddbe==_0x516c6c(0x294)&&(_0x17cd82=await product[_0x516c6c(0x23c)]([{'$match':{'product_category':_0x2fc045}},{'$group':{'_id':_0x516c6c(0x265)}}]));}_0x40f517['json'](_0x17cd82);}catch(_0x102c6e){_0x40f517['json']({'message':_0x102c6e[_0x516c6c(0x24b)]});}}),router[a0_0x485530(0x29a)](a0_0x485530(0x2af),auth,async(_0x9e85a,_0x417bc0)=>{const _0x30c063=a0_0x485530;try{const {data_choosing:_0x4564fe,data_selected:_0x5bec27,data_cateory:_0x4db595}=_0x9e85a[_0x30c063(0x28f)],_0x3a32af=_0x9e85a['user'];console['log'](_0x3a32af);var _0x24b20e;if(_0x3a32af['role']==_0x30c063(0x253)){if(_0x4564fe=='prod_categ')_0x24b20e=await product[_0x30c063(0x23c)]([{'$match':{'product_category':_0x4db595}}]);else{if(_0x4564fe==_0x30c063(0x216))_0x24b20e=await product[_0x30c063(0x23c)]([{'$match':{'brand':_0x5bec27,'product_category':_0x4db595}}]);else _0x4564fe==_0x30c063(0x294)&&(_0x24b20e=await product[_0x30c063(0x23c)]([{'$match':{'category':_0x5bec27,'product_category':_0x4db595}}]));}}else{if(_0x3a32af[_0x30c063(0x25e)]==_0x30c063(0x252)){if(_0x4564fe==_0x30c063(0x29b))_0x24b20e=await product[_0x30c063(0x23c)]([{'$match':{'product_category':_0x5bec27}}]);else{if(_0x4564fe=='brands')_0x24b20e=await product['aggregate']([{'$match':{'brand':_0x5bec27,'product_category':_0x3a32af[_0x30c063(0x2a4)]}}]);else _0x4564fe=='categ'&&(_0x24b20e=await product['aggregate']([{'$match':{'category':_0x5bec27,'product_category':_0x3a32af[_0x30c063(0x2a4)]}}]));}}}_0x417bc0[_0x30c063(0x23a)](_0x24b20e);}catch(_0x1c45f6){_0x417bc0[_0x30c063(0x23a)]({'message':_0x1c45f6[_0x30c063(0x24b)]});}}),router['get'](a0_0x485530(0x247),auth,async(_0x509784,_0x534622)=>{const _0x226567=a0_0x485530,_0x487fdd=_0x509784['user'],_0x448b2f=await profile[_0x226567(0x212)]({'email':_0x487fdd[_0x226567(0x242)]}),_0x464888=await master_shop[_0x226567(0x224)](),_0x10f598=await product['find']();if(_0x464888[0x0][_0x226567(0x227)]==_0x226567(0x20d))var _0x30aaed=users[_0x226567(0x26b)];else{if(_0x464888[0x0][_0x226567(0x227)]==_0x226567(0x21c))var _0x30aaed=users[_0x226567(0x21c)];else{if(_0x464888[0x0][_0x226567(0x227)]=='German')var _0x30aaed=users[_0x226567(0x1f7)];else{if(_0x464888[0x0]['language']=='Spanish')var _0x30aaed=users[_0x226567(0x291)];else{if(_0x464888[0x0][_0x226567(0x227)]=='French')var _0x30aaed=users[_0x226567(0x248)];else{if(_0x464888[0x0][_0x226567(0x227)]==_0x226567(0x2a2))var _0x30aaed=users['Portuguese'];else{if(_0x464888[0x0][_0x226567(0x227)]==_0x226567(0x24c))var _0x30aaed=users[_0x226567(0x24c)];else{if(_0x464888[0x0][_0x226567(0x227)]=='Arabic\x20(ae)')var _0x30aaed=users[_0x226567(0x20c)];}}}}}}}_0x534622[_0x226567(0x235)](_0x226567(0x22c),{'success':_0x509784[_0x226567(0x2ba)]('success'),'errors':_0x509784[_0x226567(0x2ba)]('errors'),'role':_0x487fdd,'profile':_0x448b2f,'products':_0x10f598,'master_shop':_0x464888,'language':_0x30aaed});}),router[a0_0x485530(0x29a)](a0_0x485530(0x297),auth,async(_0x1bea84,_0x2b66db)=>{const _0x3fc008=a0_0x485530,_0x466d1a=_0x1bea84[_0x3fc008(0x287)];if(_0x466d1a[_0x3fc008(0x25e)]==_0x3fc008(0x253)){const _0x3fca6c=await product[_0x3fc008(0x224)]();_0x2b66db[_0x3fc008(0x23a)]({'data':_0x3fca6c});}else{if(_0x466d1a[_0x3fc008(0x25e)]=='staff'){const _0x39b3bc=await product[_0x3fc008(0x224)]({'product_category':_0x466d1a['warehouse_category']});_0x2b66db[_0x3fc008(0x23a)]({'data':_0x39b3bc});}}}),router[a0_0x485530(0x29a)](a0_0x485530(0x277),auth,async(_0x422f24,_0x13ef01)=>{const _0x2498d6=a0_0x485530;try{const {dataProdCat:_0x437ef7,dataProdIdentity:_0x46499e}=_0x422f24[_0x2498d6(0x28f)];var _0x2ae799;switch(_0x437ef7){case'fg':switch(_0x46499e){case _0x2498d6(0x21e):_0x2ae799=await product[_0x2498d6(0x23c)]([{'$match':{'product_category':_0x2498d6(0x2b6)}},{'$group':{'_id':_0x2498d6(0x25f)}},{'$project':{'brand':_0x2498d6(0x221)}}]);break;case _0x2498d6(0x204):_0x2ae799=await product[_0x2498d6(0x23c)]([{'$match':{'product_category':'Finished\x20Goods'}},{'$group':{'_id':_0x2498d6(0x265)}},{'$project':{'category':_0x2498d6(0x221)}}]);break;}break;case'rm':switch(_0x46499e){case _0x2498d6(0x21e):_0x2ae799=await product[_0x2498d6(0x23c)]([{'$match':{'product_category':_0x2498d6(0x283)}},{'$group':{'_id':_0x2498d6(0x25f)}},{'$project':{'brand':_0x2498d6(0x221)}}]);break;case _0x2498d6(0x204):_0x2ae799=await product[_0x2498d6(0x23c)]([{'$match':{'product_category':_0x2498d6(0x283)}},{'$group':{'_id':_0x2498d6(0x265)}},{'$project':{'category':_0x2498d6(0x221)}}]);break;}case _0x2498d6(0x231):switch(_0x46499e){case _0x2498d6(0x21e):_0x2ae799=await product[_0x2498d6(0x23c)]([{'$match':{'product_category':'SPMX'}},{'$group':{'_id':_0x2498d6(0x25f)}},{'$project':{'brand':'$_id'}}]);break;case _0x2498d6(0x204):_0x2ae799=await product['aggregate']([{'$match':{'product_category':_0x2498d6(0x231)}},{'$group':{'_id':_0x2498d6(0x265)}},{'$project':{'category':'$_id'}}]);break;}break;}_0x13ef01['json'](_0x2ae799);}catch(_0x5dc308){_0x13ef01[_0x2498d6(0x23a)]({'message':_0x5dc308[_0x2498d6(0x24b)]});}}),router[a0_0x485530(0x29a)](a0_0x485530(0x261),auth,async(_0xdae8eb,_0x3d6db9)=>{const _0x428b4b=a0_0x485530;try{console['log'](_0xdae8eb[_0x428b4b(0x28f)]);const {prod_cat:_0x24a149,identity:_0x1eb04f,valueData:_0x4f270e,typeofbarcode:_0x341633}=_0xdae8eb['body'];let _0x338c36;switch(_0x24a149){case'fg':if(_0x1eb04f==_0x428b4b(0x21e))_0x338c36=await product[_0x428b4b(0x23c)]([{'$match':{'product_category':'Finished\x20Goods','brand':_0x4f270e}}]);else _0x1eb04f==_0x428b4b(0x204)&&(_0x338c36=await product[_0x428b4b(0x23c)]([{'$match':{'product_category':_0x428b4b(0x2b6),'category':_0x4f270e}}]));break;case'rm':if(_0x1eb04f==_0x428b4b(0x21e))_0x338c36=await product[_0x428b4b(0x23c)]([{'$match':{'product_category':_0x428b4b(0x283),'brand':_0x4f270e}}]);else _0x1eb04f==_0x428b4b(0x204)&&(_0x338c36=await product['aggregate']([{'$match':{'product_category':'Raw\x20Materials','category':_0x4f270e}}]));break;}const _0x37727c=_0x2d5b47=>_0x2d5b47*0x48,_0x328025={'width':0x3,'height':0x1},_0x1d756a=new PDFDocument({'margin':_0x37727c(0.75),'size':[_0x37727c(_0x328025['width']),_0x37727c(_0x328025[_0x428b4b(0x232)])],'bufferPages':!![]}),_0x14af95=_0x338c36[_0x428b4b(0x251)];for(let _0x5134db=0x0;_0x5134db<=_0x14af95;_0x5134db++){if(_0x5134db!=_0x14af95){const _0x36a3f2=_0x338c36[_0x5134db][_0x428b4b(0x2a9)],_0x4a411e=_0x338c36[_0x5134db][_0x428b4b(0x25b)],_0x319204=_0x338c36[_0x5134db]['secondary_code'],_0x352d2f=_0x338c36[_0x5134db][_0x428b4b(0x276)];var _0x109939;switch(_0x341633){case'1':_0x109939=_0x4a411e;break;case'2':_0x109939=_0x319204;break;case'3':_0x109939=_0x352d2f;break;}const _0x24fbf1={'width':0xd2,'height':0x64},_0x5666d7={'width':_0x37727c(_0x328025[_0x428b4b(0x27b)]),'height':_0x37727c(_0x328025[_0x428b4b(0x232)])},_0x1d06c5=new Canvas();JsBarcode(_0x1d06c5,_0x109939,{'format':_0x428b4b(0x2ac),'height':_0x24fbf1[_0x428b4b(0x232)],'displayValue':!![],'text':_0x109939});const _0x4aa8e6=_0x1d06c5['toBuffer'](),_0x3fbb4a=_0x5666d7[_0x428b4b(0x27b)]/_0x24fbf1[_0x428b4b(0x27b)],_0x4aa1df=_0x5666d7[_0x428b4b(0x232)]/_0x24fbf1['height'],_0x41c89b=Math[_0x428b4b(0x264)](_0x3fbb4a,_0x4aa1df),_0x5aeb54=_0x24fbf1[_0x428b4b(0x27b)]*_0x41c89b,_0x53bc95=_0x24fbf1[_0x428b4b(0x232)]*_0x41c89b,_0x3253a6=(_0x5666d7[_0x428b4b(0x27b)]-_0x5aeb54)/0x2,_0x5bc620=(_0x5666d7[_0x428b4b(0x232)]-_0x53bc95)/0x2;_0x1d756a[_0x428b4b(0x274)](_0x4aa8e6,_0x3253a6,_0x5bc620,{'width':_0x5aeb54,'height':_0x53bc95}),_0x5134db!=_0x14af95&&_0x1d756a['addPage']();}}const _0x55a709=[];_0x1d756a['on'](_0x428b4b(0x26a),_0x55a709[_0x428b4b(0x1fd)][_0x428b4b(0x234)](_0x55a709)),_0x1d756a['on'](_0x428b4b(0x1fe),()=>{const _0x414f44=_0x428b4b,_0xd32dd=Buffer['concat'](_0x55a709),_0x282714=_0xd32dd[_0x414f44(0x1f4)](_0x414f44(0x245));_0x3d6db9['json']({'pdfContent':_0x282714});}),_0x1d756a[_0x428b4b(0x1fe)]();}catch(_0xc1d3ec){_0x3d6db9[_0x428b4b(0x23a)]({'message':_0xc1d3ec[_0x428b4b(0x24b)]});}}),router[a0_0x485530(0x29a)]('/print_barcode_filter_search/',auth,async(_0xd218d7,_0x4a88e9)=>{const _0x1a7e39=a0_0x485530;try{console[_0x1a7e39(0x286)](_0xd218d7[_0x1a7e39(0x28f)]);const {prod_cat:_0x3513d6,identity:_0x5401da,valueData:_0x4e2f08}=_0xd218d7['body'];let _0x1537a9;switch(_0x3513d6){case'fg':if(_0x5401da==_0x1a7e39(0x21e))_0x1537a9=await product[_0x1a7e39(0x23c)]([{'$match':{'product_category':_0x1a7e39(0x2b6),'brand':_0x4e2f08}}]);else _0x5401da==_0x1a7e39(0x204)&&(_0x1537a9=await product[_0x1a7e39(0x23c)]([{'$match':{'product_category':_0x1a7e39(0x2b6),'category':_0x4e2f08}}]));break;case'rm':if(_0x5401da==_0x1a7e39(0x21e))_0x1537a9=await product[_0x1a7e39(0x23c)]([{'$match':{'product_category':_0x1a7e39(0x283),'brand':_0x4e2f08}}]);else _0x5401da=='Category'&&(_0x1537a9=await product['aggregate']([{'$match':{'product_category':'Raw\x20Materials','category':_0x4e2f08}}]));break;case _0x1a7e39(0x231):if(_0x5401da==_0x1a7e39(0x21e))_0x1537a9=await product[_0x1a7e39(0x23c)]([{'$match':{'product_category':_0x1a7e39(0x231),'brand':_0x4e2f08}}]);else _0x5401da==_0x1a7e39(0x204)&&(_0x1537a9=await product[_0x1a7e39(0x23c)]([{'$match':{'product_category':'SPMX','category':_0x4e2f08}}]));break;}_0x4a88e9[_0x1a7e39(0x23a)]({'data':_0x1537a9});}catch(_0x149858){_0x4a88e9[_0x1a7e39(0x23a)]({'message':_0x149858[_0x1a7e39(0x24b)]});}}),router[a0_0x485530(0x29a)]('/print_barcode_single/:id',auth,async(_0x11a5ba,_0x3fa7d0)=>{const _0x5ad543=a0_0x485530;try{const _0x332267=_0x11a5ba[_0x5ad543(0x27d)]['id'],{copies:_0x419f22,typeofbarcode:_0x8a17db}=_0x11a5ba[_0x5ad543(0x28f)];var _0x4c1d1d=await product[_0x5ad543(0x29f)](_0x332267);const _0x28023e=_0x30f0c8=>_0x30f0c8*0x48,_0x4299c6={'width':0x3,'height':0x1},_0x24110c=new PDFDocument({'margin':_0x28023e(0.75),'size':[_0x28023e(_0x4299c6[_0x5ad543(0x27b)]),_0x28023e(_0x4299c6[_0x5ad543(0x232)])],'bufferPages':!![]}),_0x34ea55=_0x419f22,_0x35be5b=_0x4c1d1d['name'],_0x522762=_0x4c1d1d[_0x5ad543(0x25b)],_0x28719a=_0x4c1d1d[_0x5ad543(0x2a5)],_0x3d103e=_0x4c1d1d['product_code'];let _0x55b7a8;switch(_0x8a17db){case'1':_0x55b7a8=_0x522762;break;case'2':_0x55b7a8=_0x28719a;break;case'3':_0x55b7a8=_0x3d103e;break;}const _0x29a78d={'width':0xd2,'height':0x64},_0x57eec7={'width':_0x28023e(_0x4299c6[_0x5ad543(0x27b)]),'height':_0x28023e(_0x4299c6['height'])};for(let _0x5cfba1=0x1;_0x5cfba1<=_0x34ea55;_0x5cfba1++){const _0x3c9d24=new Canvas();JsBarcode(_0x3c9d24,_0x55b7a8,{'format':_0x5ad543(0x2ac),'height':_0x29a78d[_0x5ad543(0x232)],'displayValue':!![],'text':_0x55b7a8});const _0x4e489c=_0x3c9d24[_0x5ad543(0x223)](),_0x152830=_0x57eec7['width']/_0x29a78d['width'],_0x38d291=_0x57eec7[_0x5ad543(0x232)]/_0x29a78d[_0x5ad543(0x232)],_0x8910b5=Math['min'](_0x152830,_0x38d291),_0x1e20a1=_0x29a78d[_0x5ad543(0x27b)]*_0x8910b5,_0xd5f57a=_0x29a78d[_0x5ad543(0x232)]*_0x8910b5,_0x580aac=(_0x57eec7[_0x5ad543(0x27b)]-_0x1e20a1)/0x2,_0x1e343f=(_0x57eec7[_0x5ad543(0x232)]-_0xd5f57a)/0x2;_0x24110c[_0x5ad543(0x274)](_0x4e489c,_0x580aac,_0x1e343f,{'width':_0x1e20a1,'height':_0xd5f57a}),_0x5cfba1!=_0x34ea55&&_0x24110c[_0x5ad543(0x26f)]();}const _0x4d9cea=[];_0x24110c['on'](_0x5ad543(0x26a),_0x4d9cea['push'][_0x5ad543(0x234)](_0x4d9cea)),_0x24110c['on'](_0x5ad543(0x1fe),()=>{const _0x54b91b=_0x5ad543,_0x353f7f=Buffer[_0x54b91b(0x269)](_0x4d9cea),_0xf3bc8=_0x353f7f[_0x54b91b(0x1f4)](_0x54b91b(0x245));_0x3fa7d0[_0x54b91b(0x23a)]({'pdfContent':_0xf3bc8});}),_0x24110c[_0x5ad543(0x1fe)]();}catch(_0x551a84){_0x3fa7d0[_0x5ad543(0x23a)]({'message':_0x551a84[_0x5ad543(0x24b)]});}}),module[a0_0x485530(0x201)]=router;