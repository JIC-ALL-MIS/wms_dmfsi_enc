const a0_0x479cad=a0_0x408b;(function(_0x3294ec,_0x1fd128){const _0x53cf89=a0_0x408b,_0x22f26c=_0x3294ec();while(!![]){try{const _0x3fb17b=parseInt(_0x53cf89(0xf8))/0x1*(-parseInt(_0x53cf89(0xe9))/0x2)+parseInt(_0x53cf89(0x167))/0x3*(-parseInt(_0x53cf89(0xd0))/0x4)+parseInt(_0x53cf89(0xd4))/0x5*(-parseInt(_0x53cf89(0x110))/0x6)+-parseInt(_0x53cf89(0x105))/0x7+-parseInt(_0x53cf89(0x136))/0x8+parseInt(_0x53cf89(0x135))/0x9*(parseInt(_0x53cf89(0x15b))/0xa)+-parseInt(_0x53cf89(0x138))/0xb*(-parseInt(_0x53cf89(0x107))/0xc);if(_0x3fb17b===_0x1fd128)break;else _0x22f26c['push'](_0x22f26c['shift']());}catch(_0x1a803c){_0x22f26c['push'](_0x22f26c['shift']());}}}(a0_0x2829,0xacd63));const express=require('express'),res=require(a0_0x479cad(0x171)),app=express(),router=express['Router'](),multer=require(a0_0x479cad(0xe5)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x479cad(0x13d)),auth=require(a0_0x479cad(0x103)),users=require(a0_0x479cad(0x12e)),excelJS=require('exceljs'),xlsx=require(a0_0x479cad(0x11b)),JsBarcode=require(a0_0x479cad(0x11d)),{Canvas}=require(a0_0x479cad(0xfa)),PDFDocument=require(a0_0x479cad(0xee));router['get'](a0_0x479cad(0x163),auth,async(_0x58b7cf,_0x4c07d6)=>{const _0x41b3cc=a0_0x479cad;try{const {username:_0x5ab47f,email:_0x170845,role:_0x1a751f}=_0x58b7cf[_0x41b3cc(0x121)],_0x52a251=_0x58b7cf[_0x41b3cc(0x121)],_0x5e23ce=await profile[_0x41b3cc(0x10b)]({'email':_0x52a251[_0x41b3cc(0x14a)]}),_0x20e83a=await master_shop[_0x41b3cc(0x123)]();console['log']('master',_0x20e83a);const _0x59f627=await categories[_0x41b3cc(0x123)]();if(_0x20e83a[0x0][_0x41b3cc(0xc0)]==_0x41b3cc(0x126))var _0x335f29=users['English'];else{if(_0x20e83a[0x0][_0x41b3cc(0xc0)]==_0x41b3cc(0xdb))var _0x335f29=users[_0x41b3cc(0xdb)];else{if(_0x20e83a[0x0]['language']==_0x41b3cc(0xaf))var _0x335f29=users[_0x41b3cc(0xaf)];else{if(_0x20e83a[0x0][_0x41b3cc(0xc0)]==_0x41b3cc(0x13b))var _0x335f29=users['Spanish'];else{if(_0x20e83a[0x0][_0x41b3cc(0xc0)]==_0x41b3cc(0x152))var _0x335f29=users[_0x41b3cc(0x152)];else{if(_0x20e83a[0x0][_0x41b3cc(0xc0)]==_0x41b3cc(0xae))var _0x335f29=users[_0x41b3cc(0xfc)];else{if(_0x20e83a[0x0][_0x41b3cc(0xc0)]==_0x41b3cc(0xb7))var _0x335f29=users[_0x41b3cc(0xb7)];else{if(_0x20e83a[0x0][_0x41b3cc(0xc0)]==_0x41b3cc(0x16c))var _0x335f29=users[_0x41b3cc(0xd8)];}}}}}}}_0x4c07d6[_0x41b3cc(0x13a)](_0x41b3cc(0x10a),{'success':_0x58b7cf[_0x41b3cc(0xca)](_0x41b3cc(0x14f)),'errors':_0x58b7cf[_0x41b3cc(0xca)](_0x41b3cc(0xed)),'role':_0x52a251,'profile':_0x5e23ce,'user':_0x59f627,'master_shop':_0x20e83a,'language':_0x335f29});}catch(_0xf38078){console[_0x41b3cc(0x11e)](_0xf38078);}}),router['post'](a0_0x479cad(0x163),auth,async(_0x9b4786,_0xd30c85)=>{const _0x11bc42=a0_0x479cad;try{const {name:_0x7274b,products:_0x44b820}=_0x9b4786[_0x11bc42(0x133)],_0xd86797=new categories({'name':_0x7274b,'products':_0x44b820}),_0x1e1e08=await categories[_0x11bc42(0x10b)]({'name':_0x7274b});_0x1e1e08?_0x9b4786[_0x11bc42(0xca)](_0x11bc42(0xed),_0x7274b+_0x11bc42(0x13f)):_0x9b4786[_0x11bc42(0xca)](_0x11bc42(0x14f),_0x7274b+_0x11bc42(0xdf));const _0x1e81ad=await _0xd86797[_0x11bc42(0xce)]();_0xd30c85[_0x11bc42(0xe3)](_0x11bc42(0xf2));}catch(_0x3dd1f1){console['log'](_0x3dd1f1);}}),router[a0_0x479cad(0x122)](a0_0x479cad(0x141),auth,async(_0x5146ab,_0x290e63)=>{const _0x437fca=a0_0x479cad;try{const {username:_0x5f0837,email:_0x4cadd9,role:_0x402894}=_0x5146ab[_0x437fca(0x121)],_0x3b6fb7=_0x5146ab[_0x437fca(0x121)],_0x24e5a0=await profile['findOne']({'email':_0x3b6fb7[_0x437fca(0x14a)]}),_0x327ce2=await master_shop['find']();console['log'](_0x437fca(0xc9),_0x327ce2);const _0x24a4a0=_0x5146ab[_0x437fca(0x153)]['id'];console[_0x437fca(0x11e)](_0x24a4a0);const _0x4810de=await categories[_0x437fca(0xb9)](_0x24a4a0);if(_0x327ce2[0x0][_0x437fca(0xc0)]==_0x437fca(0x126))var _0x589764=users[_0x437fca(0xc1)];else{if(_0x327ce2[0x0][_0x437fca(0xc0)]==_0x437fca(0xdb))var _0x589764=users[_0x437fca(0xdb)];else{if(_0x327ce2[0x0][_0x437fca(0xc0)]==_0x437fca(0xaf))var _0x589764=users['German'];else{if(_0x327ce2[0x0][_0x437fca(0xc0)]==_0x437fca(0x13b))var _0x589764=users['Spanish'];else{if(_0x327ce2[0x0][_0x437fca(0xc0)]==_0x437fca(0x152))var _0x589764=users[_0x437fca(0x152)];else{if(_0x327ce2[0x0][_0x437fca(0xc0)]==_0x437fca(0xae))var _0x589764=users[_0x437fca(0xfc)];else{if(_0x327ce2[0x0][_0x437fca(0xc0)]=='Chinese')var _0x589764=users[_0x437fca(0xb7)];else{if(_0x327ce2[0x0][_0x437fca(0xc0)]==_0x437fca(0x16c))var _0x589764=users[_0x437fca(0xd8)];}}}}}}}_0x290e63[_0x437fca(0x13a)]('categories',{'success':_0x5146ab['flash'](_0x437fca(0x14f)),'errors':_0x5146ab[_0x437fca(0xca)](_0x437fca(0xed)),'role':_0x3b6fb7,'profile':_0x24e5a0,'master_shop':_0x327ce2,'user':_0x4810de,'language':_0x589764});}catch(_0x3e0c4e){console[_0x437fca(0x11e)](_0x3e0c4e);}}),router['post'](a0_0x479cad(0x141),auth,async(_0x11a430,_0x40b3fa)=>{const _0x3c7e2f=a0_0x479cad;try{const _0x3629cc=_0x11a430['params']['id'],_0x43d2df=await categories[_0x3c7e2f(0x169)](_0x3629cc,_0x11a430[_0x3c7e2f(0x133)]);_0x11a430['flash']('success',''+users[_0x3c7e2f(0xb5)]),_0x40b3fa[_0x3c7e2f(0xe3)](_0x3c7e2f(0xf2));}catch(_0x114780){console[_0x3c7e2f(0x11e)](_0x114780);}}),router['get'](a0_0x479cad(0x10e),auth,async(_0x3d93f9,_0x3435f7)=>{const _0x28d755=a0_0x479cad;try{const _0x1d3347=_0x3d93f9[_0x28d755(0x153)]['id'],_0x3f5f2b=await categories[_0x28d755(0xd5)](_0x1d3347);_0x3d93f9['flash'](_0x28d755(0x14f),_0x28d755(0xcf)),_0x3435f7[_0x28d755(0xe3)](_0x28d755(0xf2));}catch(_0x513604){console[_0x28d755(0x11e)](_0x513604);}}),router[a0_0x479cad(0x122)]('/brands',auth,async(_0x55806a,_0x286406)=>{const _0x36a39a=a0_0x479cad;try{const {username:_0x589cd4,email:_0x2223a8,role:_0x3a9e21}=_0x55806a[_0x36a39a(0x121)],_0x2c105a=_0x55806a[_0x36a39a(0x121)],_0x57544d=await profile[_0x36a39a(0x10b)]({'email':_0x2c105a[_0x36a39a(0x14a)]}),_0x397409=await master_shop[_0x36a39a(0x123)]();console[_0x36a39a(0x11e)](_0x36a39a(0xc9),_0x397409);const _0x25eaf8=await brands[_0x36a39a(0x123)]();if(_0x397409[0x0][_0x36a39a(0xc0)]=='English\x20(US)')var _0x42d763=users['English'];else{if(_0x397409[0x0][_0x36a39a(0xc0)]=='Hindi')var _0x42d763=users['Hindi'];else{if(_0x397409[0x0][_0x36a39a(0xc0)]==_0x36a39a(0xaf))var _0x42d763=users[_0x36a39a(0xaf)];else{if(_0x397409[0x0][_0x36a39a(0xc0)]==_0x36a39a(0x13b))var _0x42d763=users[_0x36a39a(0x13b)];else{if(_0x397409[0x0][_0x36a39a(0xc0)]==_0x36a39a(0x152))var _0x42d763=users[_0x36a39a(0x152)];else{if(_0x397409[0x0][_0x36a39a(0xc0)]=='Portuguese\x20(BR)')var _0x42d763=users[_0x36a39a(0xfc)];else{if(_0x397409[0x0][_0x36a39a(0xc0)]==_0x36a39a(0xb7))var _0x42d763=users[_0x36a39a(0xb7)];else{if(_0x397409[0x0][_0x36a39a(0xc0)]=='Arabic\x20(ae)')var _0x42d763=users[_0x36a39a(0xd8)];}}}}}}}_0x286406[_0x36a39a(0x13a)](_0x36a39a(0x175),{'success':_0x55806a[_0x36a39a(0xca)](_0x36a39a(0x14f)),'errors':_0x55806a[_0x36a39a(0xca)]('errors'),'role':_0x2c105a,'profile':_0x57544d,'master_shop':_0x397409,'user':_0x25eaf8,'language':_0x42d763});}catch(_0x5f492b){console[_0x36a39a(0x11e)](_0x5f492b);}}),router[a0_0x479cad(0x15d)](a0_0x479cad(0x16e),auth,async(_0x4b622e,_0x4a1b23)=>{const _0x5167c6=a0_0x479cad;try{const {name:_0x114bdd,products:_0x37219f}=_0x4b622e[_0x5167c6(0x133)],_0x2940dc=new brands({'name':_0x114bdd,'products':_0x37219f}),_0x473777=await brands[_0x5167c6(0x10b)]({'name':_0x114bdd});_0x473777?_0x4b622e[_0x5167c6(0xca)](_0x5167c6(0xed),_0x114bdd+_0x5167c6(0x155)):_0x4b622e[_0x5167c6(0xca)](_0x5167c6(0x14f),_0x114bdd+_0x5167c6(0x10c));const _0x2b456b=await _0x2940dc['save']();_0x4a1b23[_0x5167c6(0xe3)](_0x5167c6(0x142));}catch(_0x3110ca){console[_0x5167c6(0x11e)](_0x3110ca);}}),router[a0_0x479cad(0x122)](a0_0x479cad(0x156),auth,async(_0x343e8,_0x258b7a)=>{const _0x3199ea=a0_0x479cad;try{const {username:_0x50cd06,email:_0x2651bc,role:_0x1a73b2}=_0x343e8[_0x3199ea(0x121)],_0x3bf90f=_0x343e8[_0x3199ea(0x121)],_0x1ed4b2=await profile[_0x3199ea(0x10b)]({'email':_0x3bf90f[_0x3199ea(0x14a)]}),_0x208a6e=await master_shop[_0x3199ea(0x123)]();console[_0x3199ea(0x11e)]('master',_0x208a6e);const _0x3b54be=_0x343e8['params']['id'];console[_0x3199ea(0x11e)](_0x3b54be);const _0x2c6544=await brands[_0x3199ea(0xb9)](_0x3b54be);if(_0x208a6e[0x0][_0x3199ea(0xc0)]==_0x3199ea(0x126))var _0x5e9129=users[_0x3199ea(0xc1)];else{if(_0x208a6e[0x0][_0x3199ea(0xc0)]==_0x3199ea(0xdb))var _0x5e9129=users['Hindi'];else{if(_0x208a6e[0x0]['language']=='German')var _0x5e9129=users[_0x3199ea(0xaf)];else{if(_0x208a6e[0x0][_0x3199ea(0xc0)]==_0x3199ea(0x13b))var _0x5e9129=users['Spanish'];else{if(_0x208a6e[0x0][_0x3199ea(0xc0)]==_0x3199ea(0x152))var _0x5e9129=users[_0x3199ea(0x152)];else{if(_0x208a6e[0x0]['language']==_0x3199ea(0xae))var _0x5e9129=users['Portuguese'];else{if(_0x208a6e[0x0]['language']==_0x3199ea(0xb7))var _0x5e9129=users[_0x3199ea(0xb7)];else{if(_0x208a6e[0x0][_0x3199ea(0xc0)]=='Arabic\x20(ae)')var _0x5e9129=users[_0x3199ea(0xd8)];}}}}}}}_0x258b7a[_0x3199ea(0x13a)](_0x3199ea(0x175),{'success':_0x343e8[_0x3199ea(0xca)](_0x3199ea(0x14f)),'errors':_0x343e8[_0x3199ea(0xca)](_0x3199ea(0xed)),'role':_0x3bf90f,'profile':_0x1ed4b2,'master_shop':_0x208a6e,'user':_0x2c6544,'language':_0x5e9129});}catch(_0x227c21){console['log'](_0x227c21);}}),router[a0_0x479cad(0x15d)](a0_0x479cad(0x156),auth,async(_0x1a7b9d,_0x45f007)=>{const _0x569d7f=a0_0x479cad;try{const _0x233272=_0x1a7b9d[_0x569d7f(0x153)]['id'],_0x217deb=await brands[_0x569d7f(0x169)](_0x233272,_0x1a7b9d[_0x569d7f(0x133)]);_0x1a7b9d[_0x569d7f(0xca)]('success','brand\x20data\x20update\x20successfully'),_0x45f007['redirect'](_0x569d7f(0x142));}catch(_0x58460c){console[_0x569d7f(0x11e)](_0x58460c);}}),router[a0_0x479cad(0x122)](a0_0x479cad(0x137),auth,async(_0x18b0d2,_0xf76e87)=>{const _0x542f9a=a0_0x479cad;try{const _0x22e075=_0x18b0d2[_0x542f9a(0x153)]['id'],_0x7a3949=await brands[_0x542f9a(0xd5)](_0x22e075);_0x18b0d2['flash'](_0x542f9a(0x14f),_0x542f9a(0x11f)),_0xf76e87['redirect'](_0x542f9a(0x142));}catch(_0x21afbc){console[_0x542f9a(0x11e)](_0x21afbc);}}),router['get'](a0_0x479cad(0xbb),auth,async(_0xce37d0,_0x2e37e9)=>{const _0x182a76=a0_0x479cad;try{const {username:_0x54d90a,email:_0x3c05d9,role:_0x1477a9}=_0xce37d0['user'],_0x281a79=_0xce37d0[_0x182a76(0x121)],_0x69eed0=await profile['findOne']({'email':_0x281a79[_0x182a76(0x14a)]}),_0x2eee3f=await master_shop[_0x182a76(0x123)]();console[_0x182a76(0x11e)](_0x182a76(0xc9),_0x2eee3f);const _0x5a607f=await units[_0x182a76(0x123)]();if(_0x2eee3f[0x0][_0x182a76(0xc0)]==_0x182a76(0x126))var _0x2d853e=users[_0x182a76(0xc1)];else{if(_0x2eee3f[0x0]['language']==_0x182a76(0xdb))var _0x2d853e=users[_0x182a76(0xdb)];else{if(_0x2eee3f[0x0]['language']==_0x182a76(0xaf))var _0x2d853e=users[_0x182a76(0xaf)];else{if(_0x2eee3f[0x0]['language']=='Spanish')var _0x2d853e=users[_0x182a76(0x13b)];else{if(_0x2eee3f[0x0]['language']==_0x182a76(0x152))var _0x2d853e=users[_0x182a76(0x152)];else{if(_0x2eee3f[0x0][_0x182a76(0xc0)]=='Portuguese\x20(BR)')var _0x2d853e=users[_0x182a76(0xfc)];else{if(_0x2eee3f[0x0][_0x182a76(0xc0)]=='Chinese')var _0x2d853e=users[_0x182a76(0xb7)];else{if(_0x2eee3f[0x0][_0x182a76(0xc0)]=='Arabic\x20(ae)')var _0x2d853e=users['Arabic'];}}}}}}}_0x2e37e9['render']('units',{'success':_0xce37d0[_0x182a76(0xca)](_0x182a76(0x14f)),'errors':_0xce37d0[_0x182a76(0xca)]('errors'),'role':_0x281a79,'profile':_0x69eed0,'master_shop':_0x2eee3f,'user':_0x5a607f,'language':_0x2d853e});}catch(_0x2a07c0){console[_0x182a76(0x11e)](_0x2a07c0);}}),router[a0_0x479cad(0x15d)](a0_0x479cad(0xbb),auth,async(_0x18e7b9,_0x3a0d66)=>{const _0x48d6dc=a0_0x479cad;try{const {name:_0xcd5c2b,secondary_unit:_0x34270d,products:_0x381f37}=_0x18e7b9['body'],_0x391074=new units({'name':_0xcd5c2b,'secondary_unit':_0x34270d,'products':_0x381f37}),_0x4f01ca=await units[_0x48d6dc(0x10b)]({'name':_0xcd5c2b});_0x4f01ca?_0x18e7b9[_0x48d6dc(0xca)]('errors',_0xcd5c2b+_0x48d6dc(0x14b)):_0x18e7b9[_0x48d6dc(0xca)]('success',_0xcd5c2b+_0x48d6dc(0xeb));const _0x1be012=await _0x391074[_0x48d6dc(0xce)]();_0x3a0d66['redirect'](_0x48d6dc(0x140));}catch(_0x4a46a6){console['log'](_0x4a46a6);}}),router[a0_0x479cad(0x122)]('/units/:id',auth,async(_0x1ae11c,_0x3f34c0)=>{const _0x58f049=a0_0x479cad;try{const {username:_0x349663,email:_0x30ce93,role:_0x326569}=_0x1ae11c[_0x58f049(0x121)],_0x2c3a57=_0x1ae11c[_0x58f049(0x121)],_0x6d3db8=await profile['findOne']({'email':_0x2c3a57[_0x58f049(0x14a)]}),_0x4a1287=await master_shop[_0x58f049(0x123)]();console[_0x58f049(0x11e)](_0x58f049(0xc9),_0x4a1287);const _0x4d3bf6=_0x1ae11c[_0x58f049(0x153)]['id'],_0x3e5926=await units['findById'](_0x4d3bf6);if(_0x4a1287[0x0][_0x58f049(0xc0)]==_0x58f049(0x126))var _0x49369c=users[_0x58f049(0xc1)];else{if(_0x4a1287[0x0][_0x58f049(0xc0)]=='Hindi')var _0x49369c=users[_0x58f049(0xdb)];else{if(_0x4a1287[0x0][_0x58f049(0xc0)]==_0x58f049(0xaf))var _0x49369c=users['German'];else{if(_0x4a1287[0x0][_0x58f049(0xc0)]==_0x58f049(0x13b))var _0x49369c=users[_0x58f049(0x13b)];else{if(_0x4a1287[0x0][_0x58f049(0xc0)]=='French')var _0x49369c=users[_0x58f049(0x152)];else{if(_0x4a1287[0x0][_0x58f049(0xc0)]==_0x58f049(0xae))var _0x49369c=users[_0x58f049(0xfc)];else{if(_0x4a1287[0x0]['language']=='Chinese')var _0x49369c=users[_0x58f049(0xb7)];else{if(_0x4a1287[0x0][_0x58f049(0xc0)]==_0x58f049(0x16c))var _0x49369c=users['Arabic'];}}}}}}}_0x3f34c0[_0x58f049(0x13a)](_0x58f049(0xe0),{'success':_0x1ae11c[_0x58f049(0xca)](_0x58f049(0x14f)),'errors':_0x1ae11c[_0x58f049(0xca)](_0x58f049(0xed)),'role':_0x2c3a57,'profile':_0x6d3db8,'master_shop':_0x4a1287,'user':_0x3e5926,'language':_0x49369c});}catch(_0x3d9c66){console[_0x58f049(0x11e)](_0x3d9c66);}}),router['post']('/units/:id',auth,async(_0x51d6c6,_0x1d143b)=>{const _0x45752c=a0_0x479cad;try{const _0x48b1a9=_0x51d6c6[_0x45752c(0x153)]['id'],_0xf772e9=await units['findByIdAndUpdate'](_0x48b1a9,_0x51d6c6[_0x45752c(0x133)]);_0x51d6c6[_0x45752c(0xca)]('success',_0x45752c(0x118)),_0x1d143b[_0x45752c(0xe3)](_0x45752c(0x140));}catch(_0x4c91f5){console[_0x45752c(0x11e)](_0x4c91f5);}}),router['get'](a0_0x479cad(0x114),auth,async(_0x1ec6d6,_0x251b74)=>{const _0x312d12=a0_0x479cad;try{const _0x140489=_0x1ec6d6['params']['id'],_0x1b9226=await units[_0x312d12(0xd5)](_0x140489);_0x1ec6d6['flash']('success',_0x312d12(0xd7)),_0x251b74[_0x312d12(0xe3)](_0x312d12(0x140));}catch(_0x4f7e05){console[_0x312d12(0x11e)](_0x4f7e05);}});function a0_0x2829(){const _0x170942=['Content-Type','Primary_Code','categories','findOne','\x20brand\x20is\x20add\x20successfully','PUnits','/categories/delete/:id','then','3574818gjDeFU','defaultProduct.avif','name','$brand','/units/delete/:id','warehouse','toBuffer','categ','unit\x20data\x20update\x20successfully','MaxperUnits','max_number_per_units','xlsx','utils','jsbarcode','log','brand\x20data\x20delete\x20successfully','\x20<>\x20','user','get','find','Category','product\x20edit','English\x20(US)','Secondary_Units','toString','concat','public/Migration','Enabled','now','$product_details.product_stock','../public/language/languages.json','Secondary_Code','prod_categ','$product_docs','Finished\x20Goods','body','Products','1296GYubWz','7857656EJvRtE','/brands/delete/:id','43713637rkEgro','/products_import_migrate_file','render','Spanish','exports','../models/all_models','attachment;\x20filename=Product_Migration_File.xlsx','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','/products/units','/categories/:id','/products/brands','SheetNames','Products\x20warehouse_data','/print_barcode_single/:id','Products\x20find_data','product_category','alertquantity','public/upload','email','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Content-Disposition','unit','secondary_code','success','image','edit_product','French','params','category','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','/brands/:id','$product_stock','CODE128','Brands','length','61850JAAQbb','min','post','PAlQty','Products_category','Raw\x20Materials','/print_barcode_filter_search/','$product_name','/categories','/products/view','long','\x20Edit\x20Successfully','3GrIStM','products','findByIdAndUpdate','Products\x20master','sheet_to_json','Arabic\x20(ae)','height','/brands','Maximum_Stocks','/barcode/:id','express/lib/response','product_stock','Alert_QTY','PName','brands','Portuguese\x20(BR)','German','primary_code','secondary_unit','/select_data','product_barcode','\x20added\x20successfully','categories_edit','stock','Chinese','Product_Code','findById','file','/units','forEach','setHeader','bind','$secondary_unit','language','English','edit\x20Product\x20master','product\x20add\x20successfully','maxProdPerUnit','end','originalname','json','data','master','flash','width','status','/print_barcode_filter/','save','categories\x20data\x20delete\x20successfully','636676UJPEWe','PBrands','ProductCode','$product_details','5doLItc','findByIdAndDelete','filename','unit\x20data\x20delete\x20successfully','Arabic','/view/:id','$category','Hindi','Product_Name','brand','write','\x20categories\x20is\x20add\x20successfully','units','numeric','product_code','redirect','product_docs','multer','aggregate','message','base64','2791210BVpKVr','add_product','\x20unit\x20is\x20add\x20successfully','addPage','errors','pdfkit-table','maxStocks','Workbook','barcode\x20Product\x20master','/products/categories','$product_details.product_name','Units','product_details.product_name','/view/add_products','$_id','1IYmahT','diskStorage','canvas','migrate_product_fule','Portuguese','product\x20update\x20successfully','Sheets','Prod_Cat','push','single','PSecondaryUnits','../middleware/auth','/barcode_data','7167188KNefSl','hello','12mSPThX'];a0_0x2829=function(){return _0x170942;};return a0_0x2829();}function a0_0x408b(_0x31df3b,_0x43d549){const _0x28293a=a0_0x2829();return a0_0x408b=function(_0x408b8b,_0x3f539a){_0x408b8b=_0x408b8b-0xae;let _0x48a503=_0x28293a[_0x408b8b];return _0x48a503;},a0_0x408b(_0x31df3b,_0x43d549);}const storage=multer[a0_0x479cad(0xf9)]({'destination':(_0x38453a,_0xbf20a8,_0x166bca)=>{const _0x4a8df8=a0_0x479cad;_0x166bca(null,_0x4a8df8(0x149));},'filename':(_0x59f2b0,_0x153927,_0x9e4156)=>{const _0x4256ae=a0_0x479cad;_0x9e4156(null,Date[_0x4256ae(0x12c)]()+_0x153927[_0x4256ae(0xc6)]);}}),upload=multer({'storage':storage});router[a0_0x479cad(0x122)]('/view',auth,async(_0x1fe72a,_0xc2c335)=>{const _0x343b69=a0_0x479cad;try{const {username:_0x287684,email:_0x37686c,role:_0x535e17}=_0x1fe72a['user'],_0x5ab3b2=_0x1fe72a[_0x343b69(0x121)],_0x5ca4d0=await profile['findOne']({'email':_0x5ab3b2[_0x343b69(0x14a)]}),_0x197eb1={'year':'numeric','month':_0x343b69(0x165),'day':_0x343b69(0xe1)},_0x5d5c04=await master_shop[_0x343b69(0x123)]();console[_0x343b69(0x11e)](_0x343b69(0x16a),_0x5d5c04);const _0x5b361b=await product[_0x343b69(0x123)]();console['log'](_0x343b69(0x146),_0x5b361b);const _0x48053a=await warehouse[_0x343b69(0xe6)]([{'$unwind':_0x343b69(0xd3)},{'$lookup':{'from':'products','localField':_0x343b69(0xf5),'foreignField':'name','as':_0x343b69(0xe4)}},{'$unwind':_0x343b69(0x131)},{'$project':{'product_name':_0x343b69(0xf3),'product_stock':_0x343b69(0x12d)}},{'$group':{'_id':_0x343b69(0x162),'product_stock':{'$sum':_0x343b69(0x157)}}}]);console[_0x343b69(0x11e)](_0x343b69(0x144),_0x48053a),_0x48053a[_0x343b69(0xbc)](_0x56bc78=>{const _0x389f74=_0x5b361b['map'](_0x295022=>{const _0x4c6985=a0_0x408b;_0x295022[_0x4c6985(0x112)]==_0x56bc78['_id']&&(_0x295022[_0x4c6985(0xb6)]=parseInt(_0x295022[_0x4c6985(0xb6)])+parseInt(_0x56bc78[_0x4c6985(0x172)]));});}),console[_0x343b69(0x11e)](_0x343b69(0x146),_0x5b361b);if(_0x5d5c04[0x0][_0x343b69(0xc0)]=='English\x20(US)')var _0x18b29f=users[_0x343b69(0xc1)];else{if(_0x5d5c04[0x0]['language']==_0x343b69(0xdb))var _0x18b29f=users[_0x343b69(0xdb)];else{if(_0x5d5c04[0x0][_0x343b69(0xc0)]==_0x343b69(0xaf))var _0x18b29f=users[_0x343b69(0xaf)];else{if(_0x5d5c04[0x0][_0x343b69(0xc0)]=='Spanish')var _0x18b29f=users[_0x343b69(0x13b)];else{if(_0x5d5c04[0x0][_0x343b69(0xc0)]==_0x343b69(0x152))var _0x18b29f=users['French'];else{if(_0x5d5c04[0x0][_0x343b69(0xc0)]==_0x343b69(0xae))var _0x18b29f=users['Portuguese'];else{if(_0x5d5c04[0x0][_0x343b69(0xc0)]==_0x343b69(0xb7))var _0x18b29f=users['Chinese'];else{if(_0x5d5c04[0x0][_0x343b69(0xc0)]==_0x343b69(0x16c))var _0x18b29f=users[_0x343b69(0xd8)];}}}}}}}_0xc2c335[_0x343b69(0x13a)](_0x343b69(0x168),{'success':_0x1fe72a[_0x343b69(0xca)](_0x343b69(0x14f)),'errors':_0x1fe72a[_0x343b69(0xca)](_0x343b69(0xed)),'alldata':_0x5b361b,'profile':_0x5ca4d0,'master_shop':_0x5d5c04,'role':_0x5ab3b2,'product_stock':_0x48053a,'language':_0x18b29f});}catch(_0x25f3f0){console['log'](_0x25f3f0);}}),router[a0_0x479cad(0x122)](a0_0x479cad(0xf6),auth,async(_0x1c446e,_0x20e5e7)=>{const _0x54232b=a0_0x479cad;try{const {username:_0x3bf141,email:_0x1cfec5,role:_0x44799f}=_0x1c446e['user'],_0x381c30=_0x1c446e['user'],_0x2c0b0c=await profile['findOne']({'email':_0x381c30[_0x54232b(0x14a)]}),_0x356cf9=await master_shop[_0x54232b(0x123)]();console[_0x54232b(0x11e)](_0x54232b(0xc9),_0x356cf9);const _0x206064=await categories['find']({}),_0x466832=await brands['find']({}),_0x5ebf6d=await units[_0x54232b(0x123)]({}),_0x3af815=await warehouse[_0x54232b(0x123)]({'status':_0x54232b(0x12b)});if(_0x356cf9[0x0][_0x54232b(0xc0)]==_0x54232b(0x126))var _0x1c7506=users[_0x54232b(0xc1)];else{if(_0x356cf9[0x0][_0x54232b(0xc0)]==_0x54232b(0xdb))var _0x1c7506=users[_0x54232b(0xdb)];else{if(_0x356cf9[0x0][_0x54232b(0xc0)]==_0x54232b(0xaf))var _0x1c7506=users[_0x54232b(0xaf)];else{if(_0x356cf9[0x0]['language']=='Spanish')var _0x1c7506=users['Spanish'];else{if(_0x356cf9[0x0][_0x54232b(0xc0)]==_0x54232b(0x152))var _0x1c7506=users[_0x54232b(0x152)];else{if(_0x356cf9[0x0][_0x54232b(0xc0)]=='Portuguese\x20(BR)')var _0x1c7506=users[_0x54232b(0xfc)];else{if(_0x356cf9[0x0][_0x54232b(0xc0)]==_0x54232b(0xb7))var _0x1c7506=users[_0x54232b(0xb7)];else{if(_0x356cf9[0x0][_0x54232b(0xc0)]==_0x54232b(0x16c))var _0x1c7506=users[_0x54232b(0xd8)];}}}}}}}_0x20e5e7[_0x54232b(0x13a)](_0x54232b(0xea),{'success':_0x1c446e[_0x54232b(0xca)](_0x54232b(0x14f)),'errors':_0x1c446e['flash'](_0x54232b(0xed)),'role':_0x381c30,'profile':_0x2c0b0c,'categories':_0x206064,'brands':_0x466832,'master_shop':_0x356cf9,'units':_0x5ebf6d,'language':_0x1c7506,'find_data':_0x3af815});}catch(_0x2e65db){console[_0x54232b(0x11e)](_0x2e65db);}}),router[a0_0x479cad(0x15d)](a0_0x479cad(0xf6),auth,upload['single'](a0_0x479cad(0x150)),async(_0x3b0fb8,_0x28e145)=>{const _0x3a9a9a=a0_0x479cad;try{const {name:_0x1b1fec,category:_0x25b1a1,brand:_0x350918,unit:_0x55faa6,alertquantity:_0x5e4225,stock:_0x54a04d,product_code:_0x5be53f,warehouse:_0x186179,primary_ItemCode:_0x4d9622,second_ItemCode:_0x16adda,second_unit:_0xced847,maxPerUnit:_0x118cbd,MaxPerProduct:_0x594be4}=_0x3b0fb8[_0x3a9a9a(0x133)],_0x3ba274=_0x3b0fb8[_0x3a9a9a(0xba)]?.['filename']||_0x3a9a9a(0x111),_0x2d91b0=new product({'image':_0x3ba274,'name':_0x1b1fec,'category':_0x25b1a1,'brand':_0x350918,'unit':_0x55faa6,'alertquantity':_0x5e4225,'stock':_0x54a04d,'product_code':_0x5be53f,'warehouse':_0x186179,'primary_code':_0x4d9622,'secondary_code':_0x16adda,'second_unit':_0xced847,'maxStocks':_0x594be4,'maxProdPerUnit':_0x118cbd}),_0x16b41e=await _0x2d91b0[_0x3a9a9a(0xce)](),_0x44abf4=await categories['findOne']({'name':_0x25b1a1});_0x44abf4[_0x3a9a9a(0x168)]=parseInt(_0x44abf4[_0x3a9a9a(0x168)])+0x1,await _0x44abf4[_0x3a9a9a(0xce)]();const _0x1e0411=await brands[_0x3a9a9a(0x10b)]({'name':_0x350918});_0x1e0411[_0x3a9a9a(0x168)]=parseInt(_0x1e0411[_0x3a9a9a(0x168)])+0x1,await _0x1e0411['save']();const _0x445da6=await units[_0x3a9a9a(0x10b)]({'name':_0x55faa6});_0x445da6[_0x3a9a9a(0x168)]=parseInt(_0x445da6['products'])+0x1,await _0x445da6['save'](),_0x3b0fb8[_0x3a9a9a(0xca)]('success',_0x3a9a9a(0xc3)),_0x28e145[_0x3a9a9a(0xe3)](_0x3a9a9a(0x164));}catch(_0x548088){console[_0x3a9a9a(0x11e)](_0x548088);}}),router[a0_0x479cad(0x122)](a0_0x479cad(0xd9),auth,async(_0x2ad88d,_0x2f59f0)=>{const _0x4c64e5=a0_0x479cad;try{const {username:_0x5d4751,email:_0x4d7931,role:_0xa86978}=_0x2ad88d[_0x4c64e5(0x121)],_0xeeca35=_0x2ad88d[_0x4c64e5(0x121)],_0x2dce82=await profile[_0x4c64e5(0x10b)]({'email':_0xeeca35[_0x4c64e5(0x14a)]}),_0x1fbfe4=await master_shop[_0x4c64e5(0x123)]();console[_0x4c64e5(0x11e)](_0x4c64e5(0xc2),_0x1fbfe4);const _0x291a89=_0x2ad88d[_0x4c64e5(0x153)]['id'],_0x171e9a=await product[_0x4c64e5(0xb9)](_0x291a89),_0x553aef=await categories[_0x4c64e5(0x123)]({}),_0x2b485a=await brands[_0x4c64e5(0x123)]({}),_0x5cfba7=await units[_0x4c64e5(0x123)]({}),_0x23d4bf=await warehouse[_0x4c64e5(0x123)]({'status':_0x4c64e5(0x12b)}),_0x4f24dc=await units['aggregate']([{'$group':{'_id':_0x4c64e5(0xf7),'secondaryunit':{'$first':_0x4c64e5(0xbf)}}}]);if(_0x1fbfe4[0x0]['language']==_0x4c64e5(0x126))var _0x1ec015=users['English'];else{if(_0x1fbfe4[0x0][_0x4c64e5(0xc0)]==_0x4c64e5(0xdb))var _0x1ec015=users['Hindi'];else{if(_0x1fbfe4[0x0]['language']==_0x4c64e5(0xaf))var _0x1ec015=users[_0x4c64e5(0xaf)];else{if(_0x1fbfe4[0x0][_0x4c64e5(0xc0)]==_0x4c64e5(0x13b))var _0x1ec015=users[_0x4c64e5(0x13b)];else{if(_0x1fbfe4[0x0][_0x4c64e5(0xc0)]==_0x4c64e5(0x152))var _0x1ec015=users['French'];else{if(_0x1fbfe4[0x0][_0x4c64e5(0xc0)]==_0x4c64e5(0xae))var _0x1ec015=users[_0x4c64e5(0xfc)];else{if(_0x1fbfe4[0x0][_0x4c64e5(0xc0)]==_0x4c64e5(0xb7))var _0x1ec015=users[_0x4c64e5(0xb7)];else{if(_0x1fbfe4[0x0]['language']=='Arabic\x20(ae)')var _0x1ec015=users[_0x4c64e5(0xd8)];}}}}}}}_0x2f59f0['render'](_0x4c64e5(0x151),{'success':_0x2ad88d[_0x4c64e5(0xca)](_0x4c64e5(0x14f)),'errors':_0x2ad88d['flash'](_0x4c64e5(0xed)),'role':_0xeeca35,'profile':_0x2dce82,'alldata':_0x171e9a,'categories':_0x553aef,'brands':_0x2b485a,'master_shop':_0x1fbfe4,'units':_0x5cfba7,'secondunit':_0x4f24dc,'find_data':_0x23d4bf,'language':_0x1ec015});}catch(_0x204ac7){console[_0x4c64e5(0x11e)](_0x204ac7);}}),router[a0_0x479cad(0x15d)](a0_0x479cad(0xd9),auth,upload[a0_0x479cad(0x101)](a0_0x479cad(0x150)),async(_0x2a0fdd,_0x105df0)=>{const _0x118b51=a0_0x479cad;try{console[_0x118b51(0x11e)](_0x118b51(0x106));const _0x43c68f=_0x2a0fdd['params']['id'],_0x516881=await product[_0x118b51(0xb9)](_0x43c68f),{image:_0xb4a145,name:_0x294572,category:_0x4d75c8,brand:_0x32ffbb,sku:_0x3ef180,unit:_0x2858d0,alertquantity:_0x5e667a,product_code:_0x51db7d,warehouse:_0x2886f2,primary_ItemCode:_0x247cfa,second_ItemCode:_0x4c3223,second_unit:_0x383550,maxPerUnit:_0x4cc203,MaxPerProduct:_0x5f539c,prod_catdata:_0x3c420a}=_0x2a0fdd[_0x118b51(0x133)];_0x2a0fdd[_0x118b51(0xba)]&&(_0x516881[_0x118b51(0x150)]=_0x2a0fdd[_0x118b51(0xba)][_0x118b51(0xd6)]);_0x516881[_0x118b51(0x112)]=_0x294572,_0x516881['category']=_0x4d75c8,_0x516881[_0x118b51(0xdd)]=_0x32ffbb,_0x516881['sku']=_0x3ef180,_0x516881[_0x118b51(0x14d)]=_0x2858d0,_0x516881['alertquantity']=_0x5e667a,_0x516881[_0x118b51(0xe2)]=_0x51db7d,_0x516881[_0x118b51(0x115)]=_0x2886f2,_0x516881['primary_code']=_0x247cfa,_0x516881[_0x118b51(0x14e)]=_0x4c3223,_0x516881[_0x118b51(0xb1)]=_0x383550,_0x516881['maxStocks']=_0x5f539c,_0x516881[_0x118b51(0xc4)]=_0x4cc203,_0x516881[_0x118b51(0x147)]=_0x3c420a;const _0x10791c=await _0x516881[_0x118b51(0xce)]();console['log'](_0x118b51(0x125),_0x516881),_0x2a0fdd[_0x118b51(0xca)]('success',_0x118b51(0xfd)),_0x105df0[_0x118b51(0xe3)](_0x118b51(0x164));}catch(_0xd26e96){console[_0x118b51(0x11e)](_0xd26e96);}}),router[a0_0x479cad(0x122)](a0_0x479cad(0x170),auth,async(_0x5acb76,_0x5b9213)=>{const _0xf8fc43=a0_0x479cad;try{const {username:_0x4cbb80,email:_0x301f61,role:_0x3f7a43}=_0x5acb76[_0xf8fc43(0x121)],_0x2d245c=_0x5acb76[_0xf8fc43(0x121)],_0x1811bb=await profile[_0xf8fc43(0x10b)]({'email':_0x2d245c['email']}),_0x489b23=await master_shop[_0xf8fc43(0x123)]();console[_0xf8fc43(0x11e)](_0xf8fc43(0xf1),_0x489b23);const _0x133c5b=_0x5acb76[_0xf8fc43(0x153)]['id'],_0x455b52=await product[_0xf8fc43(0xb9)](_0x133c5b);console[_0xf8fc43(0x11e)]('barcode\x20user_id',_0x455b52);if(_0x489b23[0x0][_0xf8fc43(0xc0)]==_0xf8fc43(0x126))var _0x329928=users[_0xf8fc43(0xc1)];else{if(_0x489b23[0x0][_0xf8fc43(0xc0)]==_0xf8fc43(0xdb))var _0x329928=users['Hindi'];else{if(_0x489b23[0x0][_0xf8fc43(0xc0)]==_0xf8fc43(0xaf))var _0x329928=users[_0xf8fc43(0xaf)];else{if(_0x489b23[0x0][_0xf8fc43(0xc0)]=='Spanish')var _0x329928=users['Spanish'];else{if(_0x489b23[0x0][_0xf8fc43(0xc0)]==_0xf8fc43(0x152))var _0x329928=users[_0xf8fc43(0x152)];else{if(_0x489b23[0x0]['language']==_0xf8fc43(0xae))var _0x329928=users[_0xf8fc43(0xfc)];else{if(_0x489b23[0x0][_0xf8fc43(0xc0)]==_0xf8fc43(0xb7))var _0x329928=users['Chinese'];else{if(_0x489b23[0x0]['language']==_0xf8fc43(0x16c))var _0x329928=users['Arabic'];}}}}}}}_0x5b9213[_0xf8fc43(0x13a)](_0xf8fc43(0xb3),{'success':_0x5acb76[_0xf8fc43(0xca)](_0xf8fc43(0x14f)),'errors':_0x5acb76[_0xf8fc43(0xca)](_0xf8fc43(0xed)),'role':_0x2d245c,'profile':_0x1811bb,'alldata':_0x455b52,'master_shop':_0x489b23,'language':_0x329928});}catch(_0x8addcc){console[_0xf8fc43(0x11e)](_0x8addcc);}}),router[a0_0x479cad(0x122)]('/products_export_migrate_file',auth,async(_0x1144ad,_0xea169b)=>{const _0x262b5b=a0_0x479cad;try{const _0x57a269=new excelJS[(_0x262b5b(0xf0))](),_0xec22b2=_0x57a269['addWorksheet'](_0x262b5b(0x134));return _0xec22b2['columns']=[{'header':_0x262b5b(0xdc),'key':_0x262b5b(0x174),'width':0xa},{'header':'Brands','key':_0x262b5b(0xd1),'width':0xa},{'header':'Units','key':_0x262b5b(0x10d),'width':0xa},{'header':_0x262b5b(0x127),'key':_0x262b5b(0x102),'width':0xa},{'header':_0x262b5b(0x11a),'key':_0x262b5b(0x119),'width':0xa},{'header':'Primary_Code','key':_0x262b5b(0xd2),'width':0xa},{'header':'Secondary_Code','key':_0x262b5b(0xd2),'width':0xa},{'header':_0x262b5b(0xb8),'key':_0x262b5b(0xd2),'width':0xa},{'header':'Category','key':'PCat','width':0xa},{'header':_0x262b5b(0x173),'key':_0x262b5b(0x15e),'width':0xa},{'header':_0x262b5b(0x16f),'key':_0x262b5b(0x15e),'width':0xa},{'header':_0x262b5b(0x15f),'key':_0x262b5b(0xff),'width':0xa}],_0xea169b['setHeader'](_0x262b5b(0x108),'application/vnd.openxmlformats-officedocument.spreadsheatml.sheet'),_0xea169b[_0x262b5b(0xbd)](_0x262b5b(0x14c),_0x262b5b(0x13e)),_0x57a269[_0x262b5b(0x11b)][_0x262b5b(0xde)](_0xea169b)[_0x262b5b(0x10f)](()=>{const _0x180e2c=_0x262b5b;_0xea169b[_0x180e2c(0xcc)](0xc8);});}catch(_0x232b9a){_0xea169b[_0x262b5b(0xcc)](0x190)['send'](_0x232b9a);}});const storage1=multer['diskStorage']({'destination':(_0x294a19,_0x98f66c,_0x384416)=>{const _0x1e0f73=a0_0x479cad;_0x384416(null,_0x1e0f73(0x12a));},'filename':(_0x2dee93,_0x4f53aa,_0x510016)=>{const _0x3a2c0f=a0_0x479cad;_0x510016(null,Date[_0x3a2c0f(0x12c)]()+_0x4f53aa[_0x3a2c0f(0xc6)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x479cad(0x15d)](a0_0x479cad(0x139),auth,uploadMigrate[a0_0x479cad(0x101)](a0_0x479cad(0xfb)),async(_0x20edc7,_0x1994dc)=>{const _0x66fce=a0_0x479cad,_0x5c3488=_0x20edc7[_0x66fce(0xba)][_0x66fce(0xd6)],_0x10680a=await xlsx['readFile']('public/Migration/'+_0x5c3488);let _0x4e58cc=_0x10680a[_0x66fce(0x143)],_0x1dd693=xlsx[_0x66fce(0x11c)][_0x66fce(0x16b)](_0x10680a[_0x66fce(0xfe)][_0x4e58cc[0x0]]);for(const _0x1d65a6 of _0x1dd693){const _0x2b2ace=_0x1d65a6['Product_Name'],_0x37359f=_0x1d65a6['Brands'],_0x230867=_0x1d65a6[_0x66fce(0xf4)],_0x3fdc69=_0x1d65a6[_0x66fce(0x127)],_0x5548a1=_0x1d65a6[_0x66fce(0xb8)],_0x3bd457=_0x1d65a6[_0x66fce(0x124)],_0x50da65=_0x1d65a6[_0x66fce(0x173)],_0x7ab9b3=_0x1d65a6[_0x66fce(0x109)],_0x4cd232=_0x1d65a6[_0x66fce(0x12f)],_0x3e273c=_0x1d65a6[_0x66fce(0x16f)],_0x1f6acf=_0x1d65a6[_0x66fce(0x11a)],_0x25a03b=_0x1d65a6[_0x66fce(0x15f)];try{let _0x3d899c=await categories[_0x66fce(0x10b)]({'name':_0x3bd457});if(!_0x3d899c){const _0x26f811=new categories({'name':_0x3bd457,'products':'0'});_0x3d899c=await _0x26f811[_0x66fce(0xce)]();}let _0xb186a=await brands['findOne']({'name':_0x37359f});if(!_0xb186a){const _0x512eab=new brands({'name':_0x37359f,'products':'0'});_0xb186a=await _0x512eab['save']();}let _0x10e507=await units['findOne']({'name':_0x230867,'secondary_unit':_0x3fdc69});if(!_0x10e507){const _0x5e3154=new units({'name':_0x230867,'secondary_unit':_0x3fdc69,'products':'0'});_0x10e507=await _0x5e3154['save']();}const _0x140f8c=await product[_0x66fce(0x123)]({'name':_0x2b2ace,'category':_0x3d899c[_0x66fce(0x112)],'brand':_0xb186a[_0x66fce(0x112)],'secondary_unit':_0x10e507['secondary_unit'],'product_code':_0x5548a1});console['log'](_0x140f8c[_0x66fce(0x15a)]+_0x66fce(0x120)+_0x3d899c[_0x66fce(0x112)]+_0x66fce(0x120)+_0xb186a[_0x66fce(0x112)]+'\x20<>\x20'+_0x10e507[_0x66fce(0xb1)]+'\x20<>\x20'+_0x5548a1+_0x66fce(0x120)+_0x2b2ace);if(_0x140f8c[_0x66fce(0x15a)]===0x0){const _0x46aa42=new product({'image':_0x66fce(0x111),'name':_0x2b2ace,'category':_0x3d899c['name'],'brand':_0xb186a['name'],'unit':_0x10e507[_0x66fce(0x112)],'alertquantity':_0x50da65,'product_code':_0x5548a1,'secondary_unit':_0x10e507[_0x66fce(0xb1)],'primary_code':_0x7ab9b3,'secondary_code':_0x4cd232,'maxStocks':_0x3e273c,'maxProdPerUnit':_0x1f6acf,'product_category':_0x25a03b}),_0xeb2462=await _0x46aa42[_0x66fce(0xce)]();_0x3d899c[_0x66fce(0x168)]=parseInt(_0x3d899c[_0x66fce(0x168)])+0x1,await _0x3d899c[_0x66fce(0xce)](),_0xb186a['products']=parseInt(_0xb186a[_0x66fce(0x168)])+0x1,await _0xb186a[_0x66fce(0xce)](),_0x10e507[_0x66fce(0x168)]=parseInt(_0x10e507[_0x66fce(0x168)])+0x1,await _0x10e507[_0x66fce(0xce)](),_0x20edc7['flash'](_0x66fce(0x14f),_0x2b2ace+_0x66fce(0xb4));}else{console['log'](_0x140f8c[0x0]);const _0x50e6cc=_0x140f8c[0x0];_0x50e6cc[_0x66fce(0x154)]=_0x3d899c[_0x66fce(0x112)],_0x50e6cc['brand']=_0xb186a[_0x66fce(0x112)],_0x50e6cc[_0x66fce(0x14d)]=_0x10e507['name'],_0x50e6cc[_0x66fce(0x148)]=_0x50da65,_0x50e6cc[_0x66fce(0xe2)]=_0x5548a1,_0x50e6cc['secondary_unit']=_0x10e507['secondary_unit'],_0x50e6cc[_0x66fce(0xb0)]=_0x7ab9b3,_0x50e6cc[_0x66fce(0x14e)]=_0x4cd232,_0x50e6cc[_0x66fce(0xef)]=_0x3e273c,_0x50e6cc[_0x66fce(0xc4)]=_0x1f6acf,_0x50e6cc['product_category']=_0x25a03b;const _0x11239d=await _0x50e6cc[_0x66fce(0xce)]();_0x20edc7['flash']('success',_0x11239d['name']+_0x66fce(0x166));}}catch(_0x1ad8c1){_0x1994dc['status'](0x1f4)['json']({'proderror':_0x1ad8c1['message'],'aproduct':_0x2b2ace});}}_0x1994dc[_0x66fce(0xe3)](_0x66fce(0x164));}),router[a0_0x479cad(0x15d)](a0_0x479cad(0xb2),auth,async(_0x1db0dd,_0x110451)=>{const _0x30d443=a0_0x479cad;try{console['log'](_0x1db0dd[_0x30d443(0x133)]);const {data_cateory:_0x2a921b,datachoose:_0x35fb68}=_0x1db0dd['body'];var _0x39f369;if(_0x35fb68==_0x30d443(0x130))_0x39f369=await product[_0x30d443(0xe6)]([{'$group':{'_id':'$product_category'}}]);else{if(_0x35fb68==_0x30d443(0x175))_0x39f369=await product['aggregate']([{'$match':{'product_category':_0x2a921b}},{'$group':{'_id':_0x30d443(0x113)}}]);else _0x35fb68==_0x30d443(0x117)&&(_0x39f369=await product[_0x30d443(0xe6)]([{'$match':{'product_category':_0x2a921b}},{'$group':{'_id':_0x30d443(0xda)}}]));}_0x110451[_0x30d443(0xc7)](_0x39f369);}catch(_0x308f6e){_0x110451[_0x30d443(0xc7)]({'message':_0x308f6e[_0x30d443(0xe7)]});}}),router[a0_0x479cad(0x15d)]('/filter_product',auth,async(_0x174e85,_0x2858a1)=>{const _0x2bd7cb=a0_0x479cad;try{const {data_choosing:_0x524490,data_selected:_0x59c35d}=_0x174e85[_0x2bd7cb(0x133)];var _0x5d727e;if(_0x524490==_0x2bd7cb(0x130))_0x5d727e=await product[_0x2bd7cb(0xe6)]([{'$match':{'product_category':_0x59c35d}}]);else{if(_0x524490=='brands')_0x5d727e=await product[_0x2bd7cb(0xe6)]([{'$match':{'brand':_0x59c35d}}]);else _0x524490==_0x2bd7cb(0x117)&&(_0x5d727e=await product[_0x2bd7cb(0xe6)]([{'$match':{'category':_0x59c35d}}]));}_0x2858a1['json'](_0x5d727e);}catch(_0x2abf0c){_0x2858a1[_0x2bd7cb(0xc7)]({'message':_0x2abf0c[_0x2bd7cb(0xe7)]});}}),router[a0_0x479cad(0x122)]('/print_barcode',auth,async(_0x866c46,_0x2257e2)=>{const _0xe09abb=a0_0x479cad,_0x474cfd=_0x866c46['user'],_0x333601=await profile[_0xe09abb(0x10b)]({'email':_0x474cfd[_0xe09abb(0x14a)]}),_0x369369=await master_shop[_0xe09abb(0x123)](),_0x1878d4=await product[_0xe09abb(0x123)]();if(_0x369369[0x0][_0xe09abb(0xc0)]==_0xe09abb(0x126))var _0x100fea=users[_0xe09abb(0xc1)];else{if(_0x369369[0x0][_0xe09abb(0xc0)]=='Hindi')var _0x100fea=users['Hindi'];else{if(_0x369369[0x0]['language']=='German')var _0x100fea=users['German'];else{if(_0x369369[0x0]['language']==_0xe09abb(0x13b))var _0x100fea=users[_0xe09abb(0x13b)];else{if(_0x369369[0x0][_0xe09abb(0xc0)]==_0xe09abb(0x152))var _0x100fea=users[_0xe09abb(0x152)];else{if(_0x369369[0x0]['language']==_0xe09abb(0xae))var _0x100fea=users['Portuguese'];else{if(_0x369369[0x0][_0xe09abb(0xc0)]==_0xe09abb(0xb7))var _0x100fea=users[_0xe09abb(0xb7)];else{if(_0x369369[0x0]['language']==_0xe09abb(0x16c))var _0x100fea=users[_0xe09abb(0xd8)];}}}}}}}_0x2257e2[_0xe09abb(0x13a)]('product_barcode_products',{'success':_0x866c46[_0xe09abb(0xca)](_0xe09abb(0x14f)),'errors':_0x866c46[_0xe09abb(0xca)](_0xe09abb(0xed)),'role':_0x474cfd,'profile':_0x333601,'products':_0x1878d4,'master_shop':_0x369369,'language':_0x100fea});}),router[a0_0x479cad(0x15d)](a0_0x479cad(0x104),auth,async(_0x3e4bbb,_0x1f15bf)=>{const _0x24e04d=a0_0x479cad,_0x5cc06f=await product[_0x24e04d(0x123)]();_0x1f15bf['json']({'data':_0x5cc06f});}),router[a0_0x479cad(0x15d)]('/barcode_filter',auth,async(_0xafd266,_0x4d2500)=>{const _0x59da0e=a0_0x479cad;try{const {dataProdCat:_0x34542d,dataProdIdentity:_0x5e83e7}=_0xafd266[_0x59da0e(0x133)];var _0x5c9e06;switch(_0x34542d){case'fg':switch(_0x5e83e7){case _0x59da0e(0x159):_0x5c9e06=await product[_0x59da0e(0xe6)]([{'$match':{'product_category':'Finished\x20Goods'}},{'$group':{'_id':_0x59da0e(0x113)}},{'$project':{'brand':_0x59da0e(0xf7)}}]);break;case _0x59da0e(0x124):_0x5c9e06=await product[_0x59da0e(0xe6)]([{'$match':{'product_category':_0x59da0e(0x132)}},{'$group':{'_id':_0x59da0e(0xda)}},{'$project':{'category':'$_id'}}]);break;}break;case'rm':switch(_0x5e83e7){case _0x59da0e(0x159):_0x5c9e06=await product[_0x59da0e(0xe6)]([{'$match':{'product_category':'Raw\x20Materials'}},{'$group':{'_id':_0x59da0e(0x113)}},{'$project':{'brand':_0x59da0e(0xf7)}}]);break;case _0x59da0e(0x124):_0x5c9e06=await product[_0x59da0e(0xe6)]([{'$match':{'product_category':_0x59da0e(0x160)}},{'$group':{'_id':_0x59da0e(0xda)}},{'$project':{'category':'$_id'}}]);break;}break;}_0x4d2500[_0x59da0e(0xc7)](_0x5c9e06);}catch(_0x58d094){_0x4d2500[_0x59da0e(0xc7)]({'message':_0x58d094[_0x59da0e(0xe7)]});}}),router['post'](a0_0x479cad(0xcd),auth,async(_0x5bb306,_0x3aee6e)=>{const _0x201791=a0_0x479cad;try{console[_0x201791(0x11e)](_0x5bb306[_0x201791(0x133)]);const {prod_cat:_0x1371d1,identity:_0x3dd595,valueData:_0x2be537,typeofbarcode:_0x28cf41}=_0x5bb306[_0x201791(0x133)];let _0x52a783;switch(_0x1371d1){case'fg':if(_0x3dd595==_0x201791(0x159))_0x52a783=await product['aggregate']([{'$match':{'product_category':_0x201791(0x132),'brand':_0x2be537}}]);else _0x3dd595==_0x201791(0x124)&&(_0x52a783=await product[_0x201791(0xe6)]([{'$match':{'product_category':_0x201791(0x132),'category':_0x2be537}}]));break;case'rm':if(_0x3dd595==_0x201791(0x159))_0x52a783=await product['aggregate']([{'$match':{'product_category':_0x201791(0x160),'brand':_0x2be537}}]);else _0x3dd595=='Category'&&(_0x52a783=await product['aggregate']([{'$match':{'product_category':'Raw\x20Materials','category':_0x2be537}}]));break;}const _0x4a7d9f=_0x29c39b=>_0x29c39b*0x48,_0xa115be={'width':0x3,'height':0x1},_0x3480e1=new PDFDocument({'margin':_0x4a7d9f(0.75),'size':[_0x4a7d9f(_0xa115be[_0x201791(0xcb)]),_0x4a7d9f(_0xa115be[_0x201791(0x16d)])],'bufferPages':!![]}),_0x2a2b73=_0x52a783[_0x201791(0x15a)];for(let _0x4a291f=0x0;_0x4a291f<=_0x2a2b73;_0x4a291f++){if(_0x4a291f!=_0x2a2b73){const _0x3c2f71=_0x52a783[_0x4a291f]['name'],_0x495dc4=_0x52a783[_0x4a291f]['primary_code'],_0xbf70b6=_0x52a783[_0x4a291f][_0x201791(0x14e)],_0x4c8bd6=_0x52a783[_0x4a291f]['product_code'];var _0x32a594;switch(_0x28cf41){case'1':_0x32a594=_0x495dc4;break;case'2':_0x32a594=_0xbf70b6;break;case'3':_0x32a594=_0x4c8bd6;break;}const _0x11ab21={'width':0xd2,'height':0x64},_0x2a74d6={'width':_0x4a7d9f(_0xa115be[_0x201791(0xcb)]),'height':_0x4a7d9f(_0xa115be[_0x201791(0x16d)])},_0x23288c=new Canvas();JsBarcode(_0x23288c,_0x32a594,{'format':_0x201791(0x158),'height':_0x11ab21[_0x201791(0x16d)],'displayValue':!![],'text':_0x32a594});const _0x305fee=_0x23288c[_0x201791(0x116)](),_0x3c2b89=_0x2a74d6[_0x201791(0xcb)]/_0x11ab21[_0x201791(0xcb)],_0x3a3298=_0x2a74d6[_0x201791(0x16d)]/_0x11ab21['height'],_0x397ae9=Math[_0x201791(0x15c)](_0x3c2b89,_0x3a3298),_0x18aec8=_0x11ab21[_0x201791(0xcb)]*_0x397ae9,_0x3f6104=_0x11ab21[_0x201791(0x16d)]*_0x397ae9,_0x17640d=(_0x2a74d6[_0x201791(0xcb)]-_0x18aec8)/0x2,_0x2a8773=(_0x2a74d6['height']-_0x3f6104)/0x2;_0x3480e1[_0x201791(0x150)](_0x305fee,_0x17640d,_0x2a8773,{'width':_0x18aec8,'height':_0x3f6104}),_0x4a291f!=_0x2a2b73&&_0x3480e1[_0x201791(0xec)]();}}const _0x3fd67b=[];_0x3480e1['on'](_0x201791(0xc8),_0x3fd67b['push']['bind'](_0x3fd67b)),_0x3480e1['on'](_0x201791(0xc5),()=>{const _0x35ed1c=_0x201791,_0x29b22b=Buffer[_0x35ed1c(0x129)](_0x3fd67b),_0x511c75=_0x29b22b[_0x35ed1c(0x128)](_0x35ed1c(0xe8));_0x3aee6e[_0x35ed1c(0xc7)]({'pdfContent':_0x511c75});}),_0x3480e1[_0x201791(0xc5)]();}catch(_0x4919af){_0x3aee6e[_0x201791(0xc7)]({'message':_0x4919af[_0x201791(0xe7)]});}}),router[a0_0x479cad(0x15d)](a0_0x479cad(0x161),auth,async(_0x4a980f,_0x5f41c3)=>{const _0x38202c=a0_0x479cad;try{console[_0x38202c(0x11e)](_0x4a980f[_0x38202c(0x133)]);const {prod_cat:_0x267064,identity:_0x4640de,valueData:_0x854327}=_0x4a980f[_0x38202c(0x133)];let _0x2c8370;switch(_0x267064){case'fg':if(_0x4640de==_0x38202c(0x159))_0x2c8370=await product[_0x38202c(0xe6)]([{'$match':{'product_category':_0x38202c(0x132),'brand':_0x854327}}]);else _0x4640de==_0x38202c(0x124)&&(_0x2c8370=await product[_0x38202c(0xe6)]([{'$match':{'product_category':'Finished\x20Goods','category':_0x854327}}]));break;case'rm':if(_0x4640de==_0x38202c(0x159))_0x2c8370=await product[_0x38202c(0xe6)]([{'$match':{'product_category':_0x38202c(0x160),'brand':_0x854327}}]);else _0x4640de==_0x38202c(0x124)&&(_0x2c8370=await product[_0x38202c(0xe6)]([{'$match':{'product_category':_0x38202c(0x160),'category':_0x854327}}]));break;}_0x5f41c3[_0x38202c(0xc7)](_0x2c8370);}catch(_0x1fbf51){_0x5f41c3[_0x38202c(0xc7)]({'message':_0x1fbf51[_0x38202c(0xe7)]});}}),router[a0_0x479cad(0x15d)](a0_0x479cad(0x145),auth,async(_0x2fc9f1,_0x404b90)=>{const _0x105d37=a0_0x479cad;try{const _0x46b3f6=_0x2fc9f1[_0x105d37(0x153)]['id'],{copies:_0x525ff0,typeofbarcode:_0x166aa1}=_0x2fc9f1[_0x105d37(0x133)];var _0x295966=await product[_0x105d37(0xb9)](_0x46b3f6);const _0x57180c=_0x298712=>_0x298712*0x48,_0x2bff74={'width':0x3,'height':0x1},_0x5d0361=new PDFDocument({'margin':_0x57180c(0.75),'size':[_0x57180c(_0x2bff74[_0x105d37(0xcb)]),_0x57180c(_0x2bff74[_0x105d37(0x16d)])],'bufferPages':!![]}),_0x409ad5=_0x525ff0,_0xbb0dd8=_0x295966[_0x105d37(0x112)],_0x2409a7=_0x295966['primary_code'],_0x20dff4=_0x295966[_0x105d37(0x14e)],_0x119bfe=_0x295966[_0x105d37(0xe2)];let _0x26fe67;switch(_0x166aa1){case'1':_0x26fe67=_0x2409a7;break;case'2':_0x26fe67=_0x20dff4;break;case'3':_0x26fe67=_0x119bfe;break;}const _0x44f2d0={'width':0xd2,'height':0x64},_0x61eb55={'width':_0x57180c(_0x2bff74[_0x105d37(0xcb)]),'height':_0x57180c(_0x2bff74[_0x105d37(0x16d)])};for(let _0x24c9a8=0x1;_0x24c9a8<=_0x409ad5;_0x24c9a8++){const _0x163494=new Canvas();JsBarcode(_0x163494,_0x26fe67,{'format':_0x105d37(0x158),'height':_0x44f2d0[_0x105d37(0x16d)],'displayValue':!![],'text':_0x26fe67});const _0x1173e5=_0x163494[_0x105d37(0x116)](),_0x4218a9=_0x61eb55[_0x105d37(0xcb)]/_0x44f2d0[_0x105d37(0xcb)],_0x233c4e=_0x61eb55['height']/_0x44f2d0[_0x105d37(0x16d)],_0x191145=Math[_0x105d37(0x15c)](_0x4218a9,_0x233c4e),_0x4cdca2=_0x44f2d0[_0x105d37(0xcb)]*_0x191145,_0x2bff8e=_0x44f2d0[_0x105d37(0x16d)]*_0x191145,_0x496151=(_0x61eb55['width']-_0x4cdca2)/0x2,_0x3397a3=(_0x61eb55[_0x105d37(0x16d)]-_0x2bff8e)/0x2;_0x5d0361['image'](_0x1173e5,_0x496151,_0x3397a3,{'width':_0x4cdca2,'height':_0x2bff8e}),_0x24c9a8!=_0x409ad5&&_0x5d0361[_0x105d37(0xec)]();}const _0x7eaa91=[];_0x5d0361['on'](_0x105d37(0xc8),_0x7eaa91[_0x105d37(0x100)][_0x105d37(0xbe)](_0x7eaa91)),_0x5d0361['on'](_0x105d37(0xc5),()=>{const _0x6f772a=_0x105d37,_0x17dfc9=Buffer[_0x6f772a(0x129)](_0x7eaa91),_0x336812=_0x17dfc9[_0x6f772a(0x128)](_0x6f772a(0xe8));_0x404b90[_0x6f772a(0xc7)]({'pdfContent':_0x336812});}),_0x5d0361[_0x105d37(0xc5)]();}catch(_0xf11670){_0x404b90[_0x105d37(0xc7)]({'message':_0xf11670[_0x105d37(0xe7)]});}}),module[a0_0x479cad(0x13c)]=router;