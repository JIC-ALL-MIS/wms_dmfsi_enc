function a0_0x22d8(){const _0x1f843c=['log','public/Migration/','/brands/:id','message','Sheets','unit','/categories','redirect','\x20Edit\x20Successfully','$product_details','category','findByIdAndDelete','218680YrEXao','$product_category','\x20brand\x20is\x20add\x20successfully','long','map','Alert_QTY','categ','public/Migration','unit\x20data\x20update\x20successfully','product_category','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','/view/add_products','PName','Secondary_Code','$secondary_unit','Product_Name','\x20<>\x20','Chinese','$product_details.product_stock','max_number_per_units','product_stock','27845AOZZJG','72657nmIEYT','flash','secondary_unit','maxStocks','success','$brand','MaxperUnits','/products/categories','PAlQty','numeric','/barcode_filter','write','/barcode/:id','/products/units','find','findById','PBrands','diskStorage','/units/delete/:id','defaultProduct.avif','brand','Secondary_Units','Content-Disposition','filename','/filter_product','/barcode_data','French','public/upload','192vWvkUR','Content-Type','get','6632vTWtna','Products\x20warehouse_data','SheetNames','exports','aggregate','file','258064SXYVQl','now','/view/:id','Arabic','express/lib/response','\x20categories\x20is\x20add\x20successfully','body','product_code','product_details.product_name','Spanish','xlsx','/products/brands','Portuguese\x20(BR)','English\x20(US)','Maximum_Stocks','name','Arabic\x20(ae)','1413sIQREX','product_docs','post','1093096wVlaXY','English','$product_details.product_name','secondary_code','/units/:id','Category','../models/all_models','user','Hindi','columns','ProductCode','product\x20add\x20successfully','Products\x20find_data','barcode\x20Product\x20master','/products/view','Brands','prod_categ','sku','/brands/delete/:id','product_barcode','_id','status','/categories/delete/:id','render','utils','email','Raw\x20Materials','products','Finished\x20Goods','params','/print_barcode_filter/','$product_name','stock','maxProdPerUnit','$_id','units','findOne','master','/print_barcode','findByIdAndUpdate','single','primary_code','/view','save','language','length','attachment;\x20filename=Product_Migration_File.xlsx','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','barcode\x20user_id','json','image','\x20unit\x20is\x20add\x20successfully','categories\x20data\x20delete\x20successfully','product\x20edit','brands','exceljs','categories','\x20added\x20successfully','/products_import_migrate_file','/select_data','20sQpeHC','product_barcode_products','hello','$category','setHeader','/categories/:id','Primary_Code','brand\x20data\x20update\x20successfully','3LGrVSK','alertquantity','forEach','Enabled','../public/language/languages.json','edit_product','originalname','express','errors','brand\x20data\x20delete\x20successfully','German','add_product','Product_Code','Portuguese','unit\x20data\x20delete\x20successfully','/brands','PCat','Products_category','/products_export_migrate_file','1568391cpmSQM'];a0_0x22d8=function(){return _0x1f843c;};return a0_0x22d8();}const a0_0x24c600=a0_0x1c54;(function(_0x1ac602,_0x2c0dc6){const _0x505980=a0_0x1c54,_0x53193a=_0x1ac602();while(!![]){try{const _0x361be3=-parseInt(_0x505980(0x1ea))/0x1+parseInt(_0x505980(0x20f))/0x2+-parseInt(_0x505980(0x1b4))/0x3*(parseInt(_0x505980(0x223))/0x4)+parseInt(_0x505980(0x1e9))/0x5*(parseInt(_0x505980(0x206))/0x6)+parseInt(_0x505980(0x1d4))/0x7+parseInt(_0x505980(0x209))/0x8*(-parseInt(_0x505980(0x220))/0x9)+-parseInt(_0x505980(0x1ac))/0xa*(-parseInt(_0x505980(0x1c7))/0xb);if(_0x361be3===_0x2c0dc6)break;else _0x53193a['push'](_0x53193a['shift']());}catch(_0xcdbf23){_0x53193a['push'](_0x53193a['shift']());}}}(a0_0x22d8,0x24066));const express=require(a0_0x24c600(0x1bb)),res=require(a0_0x24c600(0x213)),app=express(),router=express['Router'](),multer=require('multer'),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x24c600(0x176)),auth=require('../middleware/auth'),users=require(a0_0x24c600(0x1b8)),excelJS=require(a0_0x24c600(0x1a7)),xlsx=require('xlsx');router[a0_0x24c600(0x208)](a0_0x24c600(0x1ce),auth,async(_0x5b8656,_0x571c89)=>{const _0x54250c=a0_0x24c600;try{const {username:_0x532837,email:_0x4ccf29,role:_0x4f1d03}=_0x5b8656['user'],_0x41d5d5=_0x5b8656['user'],_0xc57eae=await profile[_0x54250c(0x194)]({'email':_0x41d5d5[_0x54250c(0x189)]}),_0x569818=await master_shop[_0x54250c(0x1f8)]();console[_0x54250c(0x1c8)](_0x54250c(0x195),_0x569818);const _0x1943b2=await categories['find']();if(_0x569818[0x0]['language']==_0x54250c(0x21c))var _0x2b6409=users[_0x54250c(0x224)];else{if(_0x569818[0x0][_0x54250c(0x19c)]==_0x54250c(0x178))var _0x2b6409=users[_0x54250c(0x178)];else{if(_0x569818[0x0][_0x54250c(0x19c)]==_0x54250c(0x1be))var _0x2b6409=users[_0x54250c(0x1be)];else{if(_0x569818[0x0][_0x54250c(0x19c)]==_0x54250c(0x218))var _0x2b6409=users['Spanish'];else{if(_0x569818[0x0][_0x54250c(0x19c)]==_0x54250c(0x204))var _0x2b6409=users[_0x54250c(0x204)];else{if(_0x569818[0x0][_0x54250c(0x19c)]==_0x54250c(0x21b))var _0x2b6409=users[_0x54250c(0x1c1)];else{if(_0x569818[0x0]['language']==_0x54250c(0x1e5))var _0x2b6409=users[_0x54250c(0x1e5)];else{if(_0x569818[0x0][_0x54250c(0x19c)]=='Arabic\x20(ae)')var _0x2b6409=users[_0x54250c(0x212)];}}}}}}}_0x571c89[_0x54250c(0x187)](_0x54250c(0x1a8),{'success':_0x5b8656['flash']('success'),'errors':_0x5b8656[_0x54250c(0x1eb)](_0x54250c(0x1bc)),'role':_0x41d5d5,'profile':_0xc57eae,'user':_0x1943b2,'master_shop':_0x569818,'language':_0x2b6409});}catch(_0x1310f3){console[_0x54250c(0x1c8)](_0x1310f3);}}),router[a0_0x24c600(0x222)]('/categories',auth,async(_0x3075a7,_0x5c7a6c)=>{const _0x3a87fa=a0_0x24c600;try{const {name:_0xc18d5d,products:_0x4f4dc3}=_0x3075a7[_0x3a87fa(0x215)],_0x39d417=new categories({'name':_0xc18d5d,'products':_0x4f4dc3}),_0x2e8b15=await categories[_0x3a87fa(0x194)]({'name':_0xc18d5d});_0x2e8b15?_0x3075a7['flash'](_0x3a87fa(0x1bc),_0xc18d5d+_0x3a87fa(0x19f)):_0x3075a7[_0x3a87fa(0x1eb)](_0x3a87fa(0x1ee),_0xc18d5d+_0x3a87fa(0x214));const _0x4bfb09=await _0x39d417[_0x3a87fa(0x19b)]();_0x5c7a6c[_0x3a87fa(0x1cf)](_0x3a87fa(0x1f1));}catch(_0x30228a){console[_0x3a87fa(0x1c8)](_0x30228a);}}),router[a0_0x24c600(0x208)](a0_0x24c600(0x1b1),auth,async(_0xf45800,_0x36bcfe)=>{const _0x172a5d=a0_0x24c600;try{const {username:_0x122dd2,email:_0x5b907f,role:_0x121041}=_0xf45800[_0x172a5d(0x177)],_0x1295c5=_0xf45800[_0x172a5d(0x177)],_0x156d22=await profile[_0x172a5d(0x194)]({'email':_0x1295c5['email']}),_0x2919ec=await master_shop['find']();console['log']('master',_0x2919ec);const _0x58177c=_0xf45800[_0x172a5d(0x18d)]['id'];console[_0x172a5d(0x1c8)](_0x58177c);const _0x26dbf1=await categories['findById'](_0x58177c);if(_0x2919ec[0x0][_0x172a5d(0x19c)]=='English\x20(US)')var _0x14a7b7=users[_0x172a5d(0x224)];else{if(_0x2919ec[0x0]['language']==_0x172a5d(0x178))var _0x14a7b7=users[_0x172a5d(0x178)];else{if(_0x2919ec[0x0][_0x172a5d(0x19c)]==_0x172a5d(0x1be))var _0x14a7b7=users[_0x172a5d(0x1be)];else{if(_0x2919ec[0x0][_0x172a5d(0x19c)]=='Spanish')var _0x14a7b7=users[_0x172a5d(0x218)];else{if(_0x2919ec[0x0][_0x172a5d(0x19c)]==_0x172a5d(0x204))var _0x14a7b7=users[_0x172a5d(0x204)];else{if(_0x2919ec[0x0][_0x172a5d(0x19c)]=='Portuguese\x20(BR)')var _0x14a7b7=users['Portuguese'];else{if(_0x2919ec[0x0][_0x172a5d(0x19c)]==_0x172a5d(0x1e5))var _0x14a7b7=users[_0x172a5d(0x1e5)];else{if(_0x2919ec[0x0][_0x172a5d(0x19c)]==_0x172a5d(0x21f))var _0x14a7b7=users[_0x172a5d(0x212)];}}}}}}}_0x36bcfe[_0x172a5d(0x187)](_0x172a5d(0x1a8),{'success':_0xf45800[_0x172a5d(0x1eb)]('success'),'errors':_0xf45800[_0x172a5d(0x1eb)]('errors'),'role':_0x1295c5,'profile':_0x156d22,'master_shop':_0x2919ec,'user':_0x26dbf1,'language':_0x14a7b7});}catch(_0x5c48e9){console[_0x172a5d(0x1c8)](_0x5c48e9);}}),router[a0_0x24c600(0x222)](a0_0x24c600(0x1b1),auth,async(_0xff3024,_0x487fba)=>{const _0x405ef2=a0_0x24c600;try{const _0x53a2ee=_0xff3024[_0x405ef2(0x18d)]['id'],_0x3311ff=await categories[_0x405ef2(0x197)](_0x53a2ee,_0xff3024[_0x405ef2(0x215)]);_0xff3024[_0x405ef2(0x1eb)](_0x405ef2(0x1ee),''+users['categories_edit']),_0x487fba[_0x405ef2(0x1cf)]('/products/categories');}catch(_0x4a9210){console[_0x405ef2(0x1c8)](_0x4a9210);}}),router[a0_0x24c600(0x208)](a0_0x24c600(0x186),auth,async(_0x2d9df0,_0x58da5a)=>{const _0x55a68b=a0_0x24c600;try{const _0x16c7a1=_0x2d9df0[_0x55a68b(0x18d)]['id'],_0x54dcbf=await categories[_0x55a68b(0x1d3)](_0x16c7a1);_0x2d9df0[_0x55a68b(0x1eb)](_0x55a68b(0x1ee),_0x55a68b(0x1a4)),_0x58da5a[_0x55a68b(0x1cf)](_0x55a68b(0x1f1));}catch(_0x107db3){console[_0x55a68b(0x1c8)](_0x107db3);}}),router[a0_0x24c600(0x208)](a0_0x24c600(0x1c3),auth,async(_0x316351,_0x558110)=>{const _0x36f922=a0_0x24c600;try{const {username:_0x2688d7,email:_0x20a41b,role:_0x1fdbb8}=_0x316351[_0x36f922(0x177)],_0x8760cc=_0x316351[_0x36f922(0x177)],_0x216c7c=await profile['findOne']({'email':_0x8760cc[_0x36f922(0x189)]}),_0x3dd278=await master_shop[_0x36f922(0x1f8)]();console[_0x36f922(0x1c8)](_0x36f922(0x195),_0x3dd278);const _0x2bbbb2=await brands[_0x36f922(0x1f8)]();if(_0x3dd278[0x0][_0x36f922(0x19c)]==_0x36f922(0x21c))var _0x3c3325=users[_0x36f922(0x224)];else{if(_0x3dd278[0x0][_0x36f922(0x19c)]==_0x36f922(0x178))var _0x3c3325=users[_0x36f922(0x178)];else{if(_0x3dd278[0x0][_0x36f922(0x19c)]=='German')var _0x3c3325=users[_0x36f922(0x1be)];else{if(_0x3dd278[0x0][_0x36f922(0x19c)]==_0x36f922(0x218))var _0x3c3325=users[_0x36f922(0x218)];else{if(_0x3dd278[0x0][_0x36f922(0x19c)]==_0x36f922(0x204))var _0x3c3325=users[_0x36f922(0x204)];else{if(_0x3dd278[0x0]['language']=='Portuguese\x20(BR)')var _0x3c3325=users['Portuguese'];else{if(_0x3dd278[0x0][_0x36f922(0x19c)]==_0x36f922(0x1e5))var _0x3c3325=users[_0x36f922(0x1e5)];else{if(_0x3dd278[0x0][_0x36f922(0x19c)]==_0x36f922(0x21f))var _0x3c3325=users[_0x36f922(0x212)];}}}}}}}_0x558110['render'](_0x36f922(0x1a6),{'success':_0x316351['flash'](_0x36f922(0x1ee)),'errors':_0x316351['flash'](_0x36f922(0x1bc)),'role':_0x8760cc,'profile':_0x216c7c,'master_shop':_0x3dd278,'user':_0x2bbbb2,'language':_0x3c3325});}catch(_0x335e47){console[_0x36f922(0x1c8)](_0x335e47);}}),router[a0_0x24c600(0x222)]('/brands',auth,async(_0x5766fe,_0x43ea59)=>{const _0x12554f=a0_0x24c600;try{const {name:_0x4415ae,products:_0x1470ca}=_0x5766fe[_0x12554f(0x215)],_0x3637f9=new brands({'name':_0x4415ae,'products':_0x1470ca}),_0x168e3d=await brands[_0x12554f(0x194)]({'name':_0x4415ae});_0x168e3d?_0x5766fe[_0x12554f(0x1eb)]('errors',_0x4415ae+_0x12554f(0x1de)):_0x5766fe[_0x12554f(0x1eb)](_0x12554f(0x1ee),_0x4415ae+_0x12554f(0x1d6));const _0x672998=await _0x3637f9[_0x12554f(0x19b)]();_0x43ea59[_0x12554f(0x1cf)](_0x12554f(0x21a));}catch(_0x5d5cd1){console['log'](_0x5d5cd1);}}),router[a0_0x24c600(0x208)](a0_0x24c600(0x1ca),auth,async(_0x8d916,_0x297910)=>{const _0x2b170a=a0_0x24c600;try{const {username:_0x29fdbc,email:_0x2aebef,role:_0x2d0991}=_0x8d916[_0x2b170a(0x177)],_0x8fa566=_0x8d916[_0x2b170a(0x177)],_0x25b702=await profile[_0x2b170a(0x194)]({'email':_0x8fa566[_0x2b170a(0x189)]}),_0x4f0985=await master_shop[_0x2b170a(0x1f8)]();console[_0x2b170a(0x1c8)](_0x2b170a(0x195),_0x4f0985);const _0x18afac=_0x8d916['params']['id'];console[_0x2b170a(0x1c8)](_0x18afac);const _0x238f62=await brands[_0x2b170a(0x1f9)](_0x18afac);if(_0x4f0985[0x0][_0x2b170a(0x19c)]==_0x2b170a(0x21c))var _0x4c1c34=users[_0x2b170a(0x224)];else{if(_0x4f0985[0x0][_0x2b170a(0x19c)]==_0x2b170a(0x178))var _0x4c1c34=users['Hindi'];else{if(_0x4f0985[0x0][_0x2b170a(0x19c)]==_0x2b170a(0x1be))var _0x4c1c34=users[_0x2b170a(0x1be)];else{if(_0x4f0985[0x0][_0x2b170a(0x19c)]==_0x2b170a(0x218))var _0x4c1c34=users['Spanish'];else{if(_0x4f0985[0x0][_0x2b170a(0x19c)]==_0x2b170a(0x204))var _0x4c1c34=users['French'];else{if(_0x4f0985[0x0][_0x2b170a(0x19c)]==_0x2b170a(0x21b))var _0x4c1c34=users[_0x2b170a(0x1c1)];else{if(_0x4f0985[0x0][_0x2b170a(0x19c)]==_0x2b170a(0x1e5))var _0x4c1c34=users[_0x2b170a(0x1e5)];else{if(_0x4f0985[0x0][_0x2b170a(0x19c)]==_0x2b170a(0x21f))var _0x4c1c34=users[_0x2b170a(0x212)];}}}}}}}_0x297910[_0x2b170a(0x187)]('brands',{'success':_0x8d916[_0x2b170a(0x1eb)](_0x2b170a(0x1ee)),'errors':_0x8d916[_0x2b170a(0x1eb)](_0x2b170a(0x1bc)),'role':_0x8fa566,'profile':_0x25b702,'master_shop':_0x4f0985,'user':_0x238f62,'language':_0x4c1c34});}catch(_0x1bf7ac){console[_0x2b170a(0x1c8)](_0x1bf7ac);}}),router[a0_0x24c600(0x222)](a0_0x24c600(0x1ca),auth,async(_0x12f407,_0x2d8394)=>{const _0x25dbec=a0_0x24c600;try{const _0x20041e=_0x12f407['params']['id'],_0x1b5199=await brands[_0x25dbec(0x197)](_0x20041e,_0x12f407[_0x25dbec(0x215)]);_0x12f407['flash'](_0x25dbec(0x1ee),_0x25dbec(0x1b3)),_0x2d8394['redirect']('/products/brands');}catch(_0x3d34f7){console[_0x25dbec(0x1c8)](_0x3d34f7);}}),router[a0_0x24c600(0x208)](a0_0x24c600(0x182),auth,async(_0x4ce241,_0x56163a)=>{const _0x2c6c82=a0_0x24c600;try{const _0x18b799=_0x4ce241[_0x2c6c82(0x18d)]['id'],_0x1b5096=await brands[_0x2c6c82(0x1d3)](_0x18b799);_0x4ce241[_0x2c6c82(0x1eb)](_0x2c6c82(0x1ee),_0x2c6c82(0x1bd)),_0x56163a[_0x2c6c82(0x1cf)](_0x2c6c82(0x21a));}catch(_0x187c9f){console[_0x2c6c82(0x1c8)](_0x187c9f);}}),router[a0_0x24c600(0x208)]('/units',auth,async(_0x34664f,_0x5e0d0f)=>{const _0x2b40a0=a0_0x24c600;try{const {username:_0x38b1ee,email:_0x5a1387,role:_0x4015e2}=_0x34664f[_0x2b40a0(0x177)],_0x1210da=_0x34664f[_0x2b40a0(0x177)],_0x4de09b=await profile[_0x2b40a0(0x194)]({'email':_0x1210da[_0x2b40a0(0x189)]}),_0x43fdb4=await master_shop[_0x2b40a0(0x1f8)]();console[_0x2b40a0(0x1c8)](_0x2b40a0(0x195),_0x43fdb4);const _0x280193=await units[_0x2b40a0(0x1f8)]();if(_0x43fdb4[0x0]['language']==_0x2b40a0(0x21c))var _0x353e62=users[_0x2b40a0(0x224)];else{if(_0x43fdb4[0x0][_0x2b40a0(0x19c)]==_0x2b40a0(0x178))var _0x353e62=users[_0x2b40a0(0x178)];else{if(_0x43fdb4[0x0][_0x2b40a0(0x19c)]==_0x2b40a0(0x1be))var _0x353e62=users[_0x2b40a0(0x1be)];else{if(_0x43fdb4[0x0]['language']==_0x2b40a0(0x218))var _0x353e62=users['Spanish'];else{if(_0x43fdb4[0x0][_0x2b40a0(0x19c)]=='French')var _0x353e62=users['French'];else{if(_0x43fdb4[0x0]['language']==_0x2b40a0(0x21b))var _0x353e62=users[_0x2b40a0(0x1c1)];else{if(_0x43fdb4[0x0]['language']==_0x2b40a0(0x1e5))var _0x353e62=users[_0x2b40a0(0x1e5)];else{if(_0x43fdb4[0x0][_0x2b40a0(0x19c)]==_0x2b40a0(0x21f))var _0x353e62=users[_0x2b40a0(0x212)];}}}}}}}_0x5e0d0f[_0x2b40a0(0x187)](_0x2b40a0(0x193),{'success':_0x34664f[_0x2b40a0(0x1eb)](_0x2b40a0(0x1ee)),'errors':_0x34664f[_0x2b40a0(0x1eb)]('errors'),'role':_0x1210da,'profile':_0x4de09b,'master_shop':_0x43fdb4,'user':_0x280193,'language':_0x353e62});}catch(_0x5d1035){console[_0x2b40a0(0x1c8)](_0x5d1035);}}),router[a0_0x24c600(0x222)]('/units',auth,async(_0x39b543,_0x89c38a)=>{const _0x53c1d0=a0_0x24c600;try{const {name:_0x248f18,secondary_unit:_0x46891d,products:_0x306ed7}=_0x39b543['body'],_0x2a7b64=new units({'name':_0x248f18,'secondary_unit':_0x46891d,'products':_0x306ed7}),_0x3b395f=await units['findOne']({'name':_0x248f18});_0x3b395f?_0x39b543[_0x53c1d0(0x1eb)](_0x53c1d0(0x1bc),_0x248f18+'\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x39b543['flash'](_0x53c1d0(0x1ee),_0x248f18+_0x53c1d0(0x1a3));const _0x47d634=await _0x2a7b64['save']();_0x89c38a[_0x53c1d0(0x1cf)](_0x53c1d0(0x1f7));}catch(_0x6f86db){console[_0x53c1d0(0x1c8)](_0x6f86db);}}),router[a0_0x24c600(0x208)](a0_0x24c600(0x227),auth,async(_0x203ffe,_0x253b31)=>{const _0x52e28d=a0_0x24c600;try{const {username:_0x34a5ea,email:_0x4a8b06,role:_0x3cb3d9}=_0x203ffe[_0x52e28d(0x177)],_0x1b9d4f=_0x203ffe[_0x52e28d(0x177)],_0x9cab7a=await profile[_0x52e28d(0x194)]({'email':_0x1b9d4f[_0x52e28d(0x189)]}),_0x1497c6=await master_shop[_0x52e28d(0x1f8)]();console[_0x52e28d(0x1c8)](_0x52e28d(0x195),_0x1497c6);const _0x4c01c3=_0x203ffe[_0x52e28d(0x18d)]['id'],_0x1e2434=await units[_0x52e28d(0x1f9)](_0x4c01c3);if(_0x1497c6[0x0][_0x52e28d(0x19c)]==_0x52e28d(0x21c))var _0xab874a=users[_0x52e28d(0x224)];else{if(_0x1497c6[0x0][_0x52e28d(0x19c)]=='Hindi')var _0xab874a=users[_0x52e28d(0x178)];else{if(_0x1497c6[0x0]['language']=='German')var _0xab874a=users[_0x52e28d(0x1be)];else{if(_0x1497c6[0x0][_0x52e28d(0x19c)]==_0x52e28d(0x218))var _0xab874a=users[_0x52e28d(0x218)];else{if(_0x1497c6[0x0]['language']=='French')var _0xab874a=users['French'];else{if(_0x1497c6[0x0]['language']==_0x52e28d(0x21b))var _0xab874a=users['Portuguese'];else{if(_0x1497c6[0x0][_0x52e28d(0x19c)]==_0x52e28d(0x1e5))var _0xab874a=users['Chinese'];else{if(_0x1497c6[0x0][_0x52e28d(0x19c)]=='Arabic\x20(ae)')var _0xab874a=users['Arabic'];}}}}}}}_0x253b31[_0x52e28d(0x187)]('units',{'success':_0x203ffe['flash'](_0x52e28d(0x1ee)),'errors':_0x203ffe[_0x52e28d(0x1eb)](_0x52e28d(0x1bc)),'role':_0x1b9d4f,'profile':_0x9cab7a,'master_shop':_0x1497c6,'user':_0x1e2434,'language':_0xab874a});}catch(_0x4b2a39){console['log'](_0x4b2a39);}}),router[a0_0x24c600(0x222)](a0_0x24c600(0x227),auth,async(_0x5e2473,_0x466a1e)=>{const _0x24debe=a0_0x24c600;try{const _0x3500e3=_0x5e2473[_0x24debe(0x18d)]['id'],_0xf81229=await units['findByIdAndUpdate'](_0x3500e3,_0x5e2473[_0x24debe(0x215)]);_0x5e2473[_0x24debe(0x1eb)](_0x24debe(0x1ee),_0x24debe(0x1dc)),_0x466a1e[_0x24debe(0x1cf)](_0x24debe(0x1f7));}catch(_0x81d145){console[_0x24debe(0x1c8)](_0x81d145);}}),router[a0_0x24c600(0x208)](a0_0x24c600(0x1fc),auth,async(_0x555092,_0x15ba72)=>{const _0x4df2ff=a0_0x24c600;try{const _0x53093d=_0x555092[_0x4df2ff(0x18d)]['id'],_0x56ef31=await units[_0x4df2ff(0x1d3)](_0x53093d);_0x555092[_0x4df2ff(0x1eb)](_0x4df2ff(0x1ee),_0x4df2ff(0x1c2)),_0x15ba72['redirect'](_0x4df2ff(0x1f7));}catch(_0xda2e1a){console[_0x4df2ff(0x1c8)](_0xda2e1a);}});const storage=multer[a0_0x24c600(0x1fb)]({'destination':(_0x2df84c,_0x1c102d,_0x4cc435)=>{const _0x5382e2=a0_0x24c600;_0x4cc435(null,_0x5382e2(0x205));},'filename':(_0x36d75b,_0x48f2b6,_0x599200)=>{const _0x709947=a0_0x24c600;_0x599200(null,Date[_0x709947(0x210)]()+_0x48f2b6['originalname']);}}),upload=multer({'storage':storage});router[a0_0x24c600(0x208)](a0_0x24c600(0x19a),auth,async(_0x9691ea,_0x5e84a6)=>{const _0x22c203=a0_0x24c600;try{const {username:_0x211788,email:_0x3c29aa,role:_0x2d1cc7}=_0x9691ea[_0x22c203(0x177)],_0x25d0ed=_0x9691ea[_0x22c203(0x177)],_0xa779b0=await profile[_0x22c203(0x194)]({'email':_0x25d0ed[_0x22c203(0x189)]}),_0x465b6={'year':_0x22c203(0x1f3),'month':_0x22c203(0x1d7),'day':_0x22c203(0x1f3)},_0x45b5fc=await master_shop[_0x22c203(0x1f8)]();console[_0x22c203(0x1c8)]('Products\x20master',_0x45b5fc);const _0x44cf16=await product[_0x22c203(0x1f8)]();console[_0x22c203(0x1c8)](_0x22c203(0x17c),_0x44cf16);const _0x9abf75=await warehouse[_0x22c203(0x20d)]([{'$unwind':_0x22c203(0x1d1)},{'$lookup':{'from':_0x22c203(0x18b),'localField':_0x22c203(0x217),'foreignField':'name','as':_0x22c203(0x221)}},{'$unwind':'$product_docs'},{'$project':{'product_name':_0x22c203(0x225),'product_stock':_0x22c203(0x1e6)}},{'$group':{'_id':_0x22c203(0x18f),'product_stock':{'$sum':'$product_stock'}}}]);console[_0x22c203(0x1c8)](_0x22c203(0x20a),_0x9abf75),_0x9abf75[_0x22c203(0x1b6)](_0x343f5c=>{const _0x47c604=_0x22c203,_0x12d718=_0x44cf16[_0x47c604(0x1d8)](_0x2a96da=>{const _0x541f21=_0x47c604;_0x2a96da[_0x541f21(0x21e)]==_0x343f5c[_0x541f21(0x184)]&&(_0x2a96da['stock']=parseInt(_0x2a96da[_0x541f21(0x190)])+parseInt(_0x343f5c[_0x541f21(0x1e8)]));});}),console[_0x22c203(0x1c8)](_0x22c203(0x17c),_0x44cf16);if(_0x45b5fc[0x0][_0x22c203(0x19c)]=='English\x20(US)')var _0x2c9161=users[_0x22c203(0x224)];else{if(_0x45b5fc[0x0][_0x22c203(0x19c)]==_0x22c203(0x178))var _0x2c9161=users[_0x22c203(0x178)];else{if(_0x45b5fc[0x0][_0x22c203(0x19c)]=='German')var _0x2c9161=users[_0x22c203(0x1be)];else{if(_0x45b5fc[0x0][_0x22c203(0x19c)]==_0x22c203(0x218))var _0x2c9161=users[_0x22c203(0x218)];else{if(_0x45b5fc[0x0][_0x22c203(0x19c)]==_0x22c203(0x204))var _0x2c9161=users[_0x22c203(0x204)];else{if(_0x45b5fc[0x0][_0x22c203(0x19c)]==_0x22c203(0x21b))var _0x2c9161=users[_0x22c203(0x1c1)];else{if(_0x45b5fc[0x0][_0x22c203(0x19c)]==_0x22c203(0x1e5))var _0x2c9161=users[_0x22c203(0x1e5)];else{if(_0x45b5fc[0x0]['language']==_0x22c203(0x21f))var _0x2c9161=users[_0x22c203(0x212)];}}}}}}}_0x5e84a6[_0x22c203(0x187)]('products',{'success':_0x9691ea[_0x22c203(0x1eb)](_0x22c203(0x1ee)),'errors':_0x9691ea[_0x22c203(0x1eb)](_0x22c203(0x1bc)),'alldata':_0x44cf16,'profile':_0xa779b0,'master_shop':_0x45b5fc,'role':_0x25d0ed,'product_stock':_0x9abf75,'language':_0x2c9161});}catch(_0x528616){console['log'](_0x528616);}}),router[a0_0x24c600(0x208)](a0_0x24c600(0x1df),auth,async(_0x42cd3f,_0x1d6116)=>{const _0x4f1ab2=a0_0x24c600;try{const {username:_0x5ad0ed,email:_0xb68dc3,role:_0x3cdbad}=_0x42cd3f['user'],_0x5df67b=_0x42cd3f[_0x4f1ab2(0x177)],_0x185851=await profile[_0x4f1ab2(0x194)]({'email':_0x5df67b[_0x4f1ab2(0x189)]}),_0x2b965e=await master_shop[_0x4f1ab2(0x1f8)]();console['log'](_0x4f1ab2(0x195),_0x2b965e);const _0x16cef1=await categories[_0x4f1ab2(0x1f8)]({}),_0x590a05=await brands[_0x4f1ab2(0x1f8)]({}),_0x5ae8ce=await units['find']({}),_0x4d5fb8=await warehouse[_0x4f1ab2(0x1f8)]({'status':_0x4f1ab2(0x1b7)});if(_0x2b965e[0x0]['language']==_0x4f1ab2(0x21c))var _0x33e540=users[_0x4f1ab2(0x224)];else{if(_0x2b965e[0x0][_0x4f1ab2(0x19c)]=='Hindi')var _0x33e540=users[_0x4f1ab2(0x178)];else{if(_0x2b965e[0x0]['language']==_0x4f1ab2(0x1be))var _0x33e540=users[_0x4f1ab2(0x1be)];else{if(_0x2b965e[0x0][_0x4f1ab2(0x19c)]==_0x4f1ab2(0x218))var _0x33e540=users[_0x4f1ab2(0x218)];else{if(_0x2b965e[0x0][_0x4f1ab2(0x19c)]==_0x4f1ab2(0x204))var _0x33e540=users[_0x4f1ab2(0x204)];else{if(_0x2b965e[0x0][_0x4f1ab2(0x19c)]=='Portuguese\x20(BR)')var _0x33e540=users['Portuguese'];else{if(_0x2b965e[0x0]['language']==_0x4f1ab2(0x1e5))var _0x33e540=users[_0x4f1ab2(0x1e5)];else{if(_0x2b965e[0x0]['language']==_0x4f1ab2(0x21f))var _0x33e540=users[_0x4f1ab2(0x212)];}}}}}}}_0x1d6116[_0x4f1ab2(0x187)](_0x4f1ab2(0x1bf),{'success':_0x42cd3f[_0x4f1ab2(0x1eb)](_0x4f1ab2(0x1ee)),'errors':_0x42cd3f[_0x4f1ab2(0x1eb)](_0x4f1ab2(0x1bc)),'role':_0x5df67b,'profile':_0x185851,'categories':_0x16cef1,'brands':_0x590a05,'master_shop':_0x2b965e,'units':_0x5ae8ce,'language':_0x33e540,'find_data':_0x4d5fb8});}catch(_0x4504a4){console[_0x4f1ab2(0x1c8)](_0x4504a4);}}),router[a0_0x24c600(0x222)](a0_0x24c600(0x1df),auth,upload[a0_0x24c600(0x198)](a0_0x24c600(0x1a2)),async(_0x3ac459,_0x3cc02b)=>{const _0x2b3841=a0_0x24c600;try{const {name:_0xa15d25,category:_0x3aff8f,brand:_0x4a0c9b,unit:_0x2dc6e5,alertquantity:_0x5dfe9e,stock:_0x459711,product_code:_0x265216,warehouse:_0x9ef4f2,primary_ItemCode:_0x2b1876,second_ItemCode:_0x4c0b1c,second_unit:_0x484921,maxPerUnit:_0x1e9357,MaxPerProduct:_0x4198fb}=_0x3ac459[_0x2b3841(0x215)],_0x433aa8=_0x3ac459[_0x2b3841(0x20e)]?.[_0x2b3841(0x201)]||_0x2b3841(0x1fd),_0x2b4e2d=new product({'image':_0x433aa8,'name':_0xa15d25,'category':_0x3aff8f,'brand':_0x4a0c9b,'unit':_0x2dc6e5,'alertquantity':_0x5dfe9e,'stock':_0x459711,'product_code':_0x265216,'warehouse':_0x9ef4f2,'primary_code':_0x2b1876,'secondary_code':_0x4c0b1c,'second_unit':_0x484921,'maxStocks':_0x4198fb,'maxProdPerUnit':_0x1e9357}),_0x54cd9e=await _0x2b4e2d[_0x2b3841(0x19b)](),_0x4d21dc=await categories[_0x2b3841(0x194)]({'name':_0x3aff8f});_0x4d21dc[_0x2b3841(0x18b)]=parseInt(_0x4d21dc[_0x2b3841(0x18b)])+0x1,await _0x4d21dc[_0x2b3841(0x19b)]();const _0x7bf650=await brands[_0x2b3841(0x194)]({'name':_0x4a0c9b});_0x7bf650[_0x2b3841(0x18b)]=parseInt(_0x7bf650['products'])+0x1,await _0x7bf650[_0x2b3841(0x19b)]();const _0xfc02f4=await units['findOne']({'name':_0x2dc6e5});_0xfc02f4[_0x2b3841(0x18b)]=parseInt(_0xfc02f4[_0x2b3841(0x18b)])+0x1,await _0xfc02f4[_0x2b3841(0x19b)](),_0x3ac459[_0x2b3841(0x1eb)](_0x2b3841(0x1ee),_0x2b3841(0x17b)),_0x3cc02b['redirect'](_0x2b3841(0x17e));}catch(_0x8c21b2){console[_0x2b3841(0x1c8)](_0x8c21b2);}}),router[a0_0x24c600(0x208)](a0_0x24c600(0x211),auth,async(_0x3ce038,_0xc981a3)=>{const _0x16cd84=a0_0x24c600;try{const {username:_0x59930a,email:_0x1a81e7,role:_0x23c723}=_0x3ce038[_0x16cd84(0x177)],_0x43304f=_0x3ce038[_0x16cd84(0x177)],_0x173ee3=await profile[_0x16cd84(0x194)]({'email':_0x43304f[_0x16cd84(0x189)]}),_0x533f93=await master_shop[_0x16cd84(0x1f8)]();console[_0x16cd84(0x1c8)]('edit\x20Product\x20master',_0x533f93);const _0x4cf01a=_0x3ce038[_0x16cd84(0x18d)]['id'],_0x2e7710=await product[_0x16cd84(0x1f9)](_0x4cf01a),_0x1f4cdc=await categories[_0x16cd84(0x1f8)]({}),_0x530274=await brands[_0x16cd84(0x1f8)]({}),_0x16a043=await units[_0x16cd84(0x1f8)]({}),_0x67e741=await warehouse[_0x16cd84(0x1f8)]({'status':_0x16cd84(0x1b7)}),_0x5436e0=await units[_0x16cd84(0x20d)]([{'$group':{'_id':_0x16cd84(0x192),'secondaryunit':{'$first':_0x16cd84(0x1e2)}}}]);if(_0x533f93[0x0][_0x16cd84(0x19c)]==_0x16cd84(0x21c))var _0xaa3f93=users[_0x16cd84(0x224)];else{if(_0x533f93[0x0]['language']=='Hindi')var _0xaa3f93=users[_0x16cd84(0x178)];else{if(_0x533f93[0x0][_0x16cd84(0x19c)]=='German')var _0xaa3f93=users['German'];else{if(_0x533f93[0x0][_0x16cd84(0x19c)]==_0x16cd84(0x218))var _0xaa3f93=users[_0x16cd84(0x218)];else{if(_0x533f93[0x0][_0x16cd84(0x19c)]=='French')var _0xaa3f93=users[_0x16cd84(0x204)];else{if(_0x533f93[0x0][_0x16cd84(0x19c)]==_0x16cd84(0x21b))var _0xaa3f93=users[_0x16cd84(0x1c1)];else{if(_0x533f93[0x0][_0x16cd84(0x19c)]=='Chinese')var _0xaa3f93=users[_0x16cd84(0x1e5)];else{if(_0x533f93[0x0][_0x16cd84(0x19c)]==_0x16cd84(0x21f))var _0xaa3f93=users[_0x16cd84(0x212)];}}}}}}}_0xc981a3[_0x16cd84(0x187)](_0x16cd84(0x1b9),{'success':_0x3ce038[_0x16cd84(0x1eb)](_0x16cd84(0x1ee)),'errors':_0x3ce038[_0x16cd84(0x1eb)](_0x16cd84(0x1bc)),'role':_0x43304f,'profile':_0x173ee3,'alldata':_0x2e7710,'categories':_0x1f4cdc,'brands':_0x530274,'master_shop':_0x533f93,'units':_0x16a043,'secondunit':_0x5436e0,'find_data':_0x67e741,'language':_0xaa3f93});}catch(_0x1a7d5d){console[_0x16cd84(0x1c8)](_0x1a7d5d);}}),router['post']('/view/:id',auth,upload['single'](a0_0x24c600(0x1a2)),async(_0x141802,_0x5976f5)=>{const _0x1d883b=a0_0x24c600;try{console[_0x1d883b(0x1c8)](_0x1d883b(0x1ae));const _0x35fea0=_0x141802[_0x1d883b(0x18d)]['id'],_0x555097=await product[_0x1d883b(0x1f9)](_0x35fea0),{image:_0x5c45f0,name:_0x251bec,category:_0xb6bfbf,brand:_0x10b443,sku:_0x1475e4,unit:_0x49c273,alertquantity:_0x2dc01a,product_code:_0x3c39e4,warehouse:_0x4640b6,primary_ItemCode:_0xe88797,second_ItemCode:_0x33f9b6,second_unit:_0x2b69b2,maxPerUnit:_0x497b17,MaxPerProduct:_0x13af20,prod_catdata:_0x63b449}=_0x141802[_0x1d883b(0x215)];_0x141802['file']&&(_0x555097[_0x1d883b(0x1a2)]=_0x141802[_0x1d883b(0x20e)][_0x1d883b(0x201)]);_0x555097['name']=_0x251bec,_0x555097[_0x1d883b(0x1d2)]=_0xb6bfbf,_0x555097[_0x1d883b(0x1fe)]=_0x10b443,_0x555097[_0x1d883b(0x181)]=_0x1475e4,_0x555097['unit']=_0x49c273,_0x555097[_0x1d883b(0x1b5)]=_0x2dc01a,_0x555097[_0x1d883b(0x216)]=_0x3c39e4,_0x555097['warehouse']=_0x4640b6,_0x555097['primary_code']=_0xe88797,_0x555097['secondary_code']=_0x33f9b6,_0x555097['secondary_unit']=_0x2b69b2,_0x555097[_0x1d883b(0x1ed)]=_0x13af20,_0x555097[_0x1d883b(0x191)]=_0x497b17,_0x555097[_0x1d883b(0x1dd)]=_0x63b449;const _0x39c0ab=await _0x555097[_0x1d883b(0x19b)]();console['log'](_0x1d883b(0x1a5),_0x555097),_0x141802[_0x1d883b(0x1eb)]('success','product\x20update\x20successfully'),_0x5976f5[_0x1d883b(0x1cf)]('/products/view');}catch(_0x25f702){console[_0x1d883b(0x1c8)](_0x25f702);}}),router['get'](a0_0x24c600(0x1f6),auth,async(_0x491086,_0x433fe7)=>{const _0x57f4c5=a0_0x24c600;try{const {username:_0x11bfcd,email:_0x362569,role:_0x408ad2}=_0x491086[_0x57f4c5(0x177)],_0x558798=_0x491086[_0x57f4c5(0x177)],_0x598ba5=await profile['findOne']({'email':_0x558798['email']}),_0x61b951=await master_shop[_0x57f4c5(0x1f8)]();console[_0x57f4c5(0x1c8)](_0x57f4c5(0x17d),_0x61b951);const _0x1dfcde=_0x491086[_0x57f4c5(0x18d)]['id'],_0x2a7413=await product[_0x57f4c5(0x1f9)](_0x1dfcde);console['log'](_0x57f4c5(0x1a0),_0x2a7413);if(_0x61b951[0x0]['language']=='English\x20(US)')var _0x9d1890=users['English'];else{if(_0x61b951[0x0][_0x57f4c5(0x19c)]==_0x57f4c5(0x178))var _0x9d1890=users[_0x57f4c5(0x178)];else{if(_0x61b951[0x0][_0x57f4c5(0x19c)]==_0x57f4c5(0x1be))var _0x9d1890=users[_0x57f4c5(0x1be)];else{if(_0x61b951[0x0]['language']==_0x57f4c5(0x218))var _0x9d1890=users[_0x57f4c5(0x218)];else{if(_0x61b951[0x0][_0x57f4c5(0x19c)]=='French')var _0x9d1890=users['French'];else{if(_0x61b951[0x0]['language']==_0x57f4c5(0x21b))var _0x9d1890=users['Portuguese'];else{if(_0x61b951[0x0][_0x57f4c5(0x19c)]==_0x57f4c5(0x1e5))var _0x9d1890=users[_0x57f4c5(0x1e5)];else{if(_0x61b951[0x0][_0x57f4c5(0x19c)]==_0x57f4c5(0x21f))var _0x9d1890=users['Arabic'];}}}}}}}_0x433fe7[_0x57f4c5(0x187)](_0x57f4c5(0x183),{'success':_0x491086['flash']('success'),'errors':_0x491086[_0x57f4c5(0x1eb)](_0x57f4c5(0x1bc)),'role':_0x558798,'profile':_0x598ba5,'alldata':_0x2a7413,'master_shop':_0x61b951,'language':_0x9d1890});}catch(_0x1bea52){console[_0x57f4c5(0x1c8)](_0x1bea52);}}),router[a0_0x24c600(0x208)](a0_0x24c600(0x1c6),auth,async(_0x135c9e,_0x100899)=>{const _0x49e6d1=a0_0x24c600;try{const _0x3c46ca=new excelJS['Workbook'](),_0x5c570b=_0x3c46ca['addWorksheet']('Products');return _0x5c570b[_0x49e6d1(0x179)]=[{'header':_0x49e6d1(0x1e3),'key':_0x49e6d1(0x1e0),'width':0xa},{'header':_0x49e6d1(0x17f),'key':_0x49e6d1(0x1fa),'width':0xa},{'header':'Units','key':'PUnits','width':0xa},{'header':'Secondary_Units','key':'PSecondaryUnits','width':0xa},{'header':_0x49e6d1(0x1e7),'key':_0x49e6d1(0x1f0),'width':0xa},{'header':'Primary_Code','key':'ProductCode','width':0xa},{'header':_0x49e6d1(0x1e1),'key':_0x49e6d1(0x17a),'width':0xa},{'header':_0x49e6d1(0x1c0),'key':_0x49e6d1(0x17a),'width':0xa},{'header':_0x49e6d1(0x175),'key':_0x49e6d1(0x1c4),'width':0xa},{'header':_0x49e6d1(0x1d9),'key':_0x49e6d1(0x1f2),'width':0xa},{'header':_0x49e6d1(0x21d),'key':'PAlQty','width':0xa},{'header':_0x49e6d1(0x1c5),'key':'Prod_Cat','width':0xa}],_0x100899[_0x49e6d1(0x1b0)](_0x49e6d1(0x207),'application/vnd.openxmlformats-officedocument.spreadsheatml.sheet'),_0x100899['setHeader'](_0x49e6d1(0x200),_0x49e6d1(0x19e)),_0x3c46ca[_0x49e6d1(0x219)][_0x49e6d1(0x1f5)](_0x100899)['then'](()=>{const _0x4caac4=_0x49e6d1;_0x100899[_0x4caac4(0x185)](0xc8);});}catch(_0x25c894){_0x100899['status'](0x190)['send'](_0x25c894);}});function a0_0x1c54(_0x13a758,_0x393fd4){const _0x22d8b7=a0_0x22d8();return a0_0x1c54=function(_0x1c5403,_0x341474){_0x1c5403=_0x1c5403-0x175;let _0x497466=_0x22d8b7[_0x1c5403];return _0x497466;},a0_0x1c54(_0x13a758,_0x393fd4);}const storage1=multer[a0_0x24c600(0x1fb)]({'destination':(_0x4a97e5,_0x2c8ded,_0x4f2da7)=>{const _0x1ccb58=a0_0x24c600;_0x4f2da7(null,_0x1ccb58(0x1db));},'filename':(_0x11fc72,_0x3b4deb,_0x1357f1)=>{const _0x3b4d38=a0_0x24c600;_0x1357f1(null,Date['now']()+_0x3b4deb[_0x3b4d38(0x1ba)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x24c600(0x222)](a0_0x24c600(0x1aa),auth,uploadMigrate[a0_0x24c600(0x198)]('migrate_product_fule'),async(_0x2c40f9,_0x149c91)=>{const _0x2f17ff=a0_0x24c600,_0x291715=_0x2c40f9[_0x2f17ff(0x20e)][_0x2f17ff(0x201)],_0x591ad0=await xlsx['readFile'](_0x2f17ff(0x1c9)+_0x291715);let _0x2ac539=_0x591ad0[_0x2f17ff(0x20b)],_0x572322=xlsx[_0x2f17ff(0x188)]['sheet_to_json'](_0x591ad0[_0x2f17ff(0x1cc)][_0x2ac539[0x0]]);for(const _0x5b578e of _0x572322){const _0x3b8dfc=_0x5b578e[_0x2f17ff(0x1e3)],_0x3d5817=_0x5b578e[_0x2f17ff(0x17f)],_0x40c945=_0x5b578e['Units'],_0x48c6ab=_0x5b578e[_0x2f17ff(0x1ff)],_0x1e4f6e=_0x5b578e[_0x2f17ff(0x1c0)],_0x4d8beb=_0x5b578e[_0x2f17ff(0x175)],_0x4638ed=_0x5b578e[_0x2f17ff(0x1d9)],_0xc40862=_0x5b578e[_0x2f17ff(0x1b2)],_0x4f62c9=_0x5b578e[_0x2f17ff(0x1e1)],_0x23c1be=_0x5b578e[_0x2f17ff(0x21d)],_0x237f46=_0x5b578e[_0x2f17ff(0x1e7)],_0x597730=_0x5b578e['Products_category'];try{let _0x3b9cc0=await categories['findOne']({'name':_0x4d8beb});if(!_0x3b9cc0){const _0xd7ed1f=new categories({'name':_0x4d8beb,'products':'0'});_0x3b9cc0=await _0xd7ed1f[_0x2f17ff(0x19b)]();}let _0xd88ad9=await brands[_0x2f17ff(0x194)]({'name':_0x3d5817});if(!_0xd88ad9){const _0x3d4e6f=new brands({'name':_0x3d5817,'products':'0'});_0xd88ad9=await _0x3d4e6f[_0x2f17ff(0x19b)]();}let _0x42c00b=await units[_0x2f17ff(0x194)]({'name':_0x40c945,'secondary_unit':_0x48c6ab});if(!_0x42c00b){const _0x1d473e=new units({'name':_0x40c945,'secondary_unit':_0x48c6ab,'products':'0'});_0x42c00b=await _0x1d473e[_0x2f17ff(0x19b)]();}const _0x43b455=await product[_0x2f17ff(0x1f8)]({'name':_0x3b8dfc,'category':_0x3b9cc0[_0x2f17ff(0x21e)],'brand':_0xd88ad9[_0x2f17ff(0x21e)],'secondary_unit':_0x42c00b[_0x2f17ff(0x1ec)],'product_code':_0x1e4f6e});console[_0x2f17ff(0x1c8)](_0x43b455[_0x2f17ff(0x19d)]+_0x2f17ff(0x1e4)+_0x3b9cc0[_0x2f17ff(0x21e)]+_0x2f17ff(0x1e4)+_0xd88ad9['name']+_0x2f17ff(0x1e4)+_0x42c00b[_0x2f17ff(0x1ec)]+_0x2f17ff(0x1e4)+_0x1e4f6e+_0x2f17ff(0x1e4)+_0x3b8dfc);if(_0x43b455[_0x2f17ff(0x19d)]===0x0){const _0x3c52f9=new product({'image':_0x2f17ff(0x1fd),'name':_0x3b8dfc,'category':_0x3b9cc0['name'],'brand':_0xd88ad9[_0x2f17ff(0x21e)],'unit':_0x42c00b[_0x2f17ff(0x21e)],'alertquantity':_0x4638ed,'product_code':_0x1e4f6e,'secondary_unit':_0x42c00b[_0x2f17ff(0x1ec)],'primary_code':_0xc40862,'secondary_code':_0x4f62c9,'maxStocks':_0x23c1be,'maxProdPerUnit':_0x237f46,'product_category':_0x597730}),_0x55e64c=await _0x3c52f9[_0x2f17ff(0x19b)]();_0x3b9cc0['products']=parseInt(_0x3b9cc0[_0x2f17ff(0x18b)])+0x1,await _0x3b9cc0['save'](),_0xd88ad9[_0x2f17ff(0x18b)]=parseInt(_0xd88ad9['products'])+0x1,await _0xd88ad9[_0x2f17ff(0x19b)](),_0x42c00b[_0x2f17ff(0x18b)]=parseInt(_0x42c00b['products'])+0x1,await _0x42c00b[_0x2f17ff(0x19b)](),_0x2c40f9['flash']('success',_0x3b8dfc+_0x2f17ff(0x1a9));}else{console[_0x2f17ff(0x1c8)](_0x43b455[0x0]);const _0x4adfdd=_0x43b455[0x0];_0x4adfdd[_0x2f17ff(0x1d2)]=_0x3b9cc0[_0x2f17ff(0x21e)],_0x4adfdd[_0x2f17ff(0x1fe)]=_0xd88ad9['name'],_0x4adfdd[_0x2f17ff(0x1cd)]=_0x42c00b[_0x2f17ff(0x21e)],_0x4adfdd['alertquantity']=_0x4638ed,_0x4adfdd[_0x2f17ff(0x216)]=_0x1e4f6e,_0x4adfdd[_0x2f17ff(0x1ec)]=_0x42c00b[_0x2f17ff(0x1ec)],_0x4adfdd[_0x2f17ff(0x199)]=_0xc40862,_0x4adfdd[_0x2f17ff(0x226)]=_0x4f62c9,_0x4adfdd['maxStocks']=_0x23c1be,_0x4adfdd[_0x2f17ff(0x191)]=_0x237f46,_0x4adfdd[_0x2f17ff(0x1dd)]=_0x597730;const _0x13a208=await _0x4adfdd[_0x2f17ff(0x19b)]();_0x2c40f9[_0x2f17ff(0x1eb)](_0x2f17ff(0x1ee),_0x13a208[_0x2f17ff(0x21e)]+_0x2f17ff(0x1d0));}}catch(_0x1ccec2){_0x149c91[_0x2f17ff(0x185)](0x1f4)[_0x2f17ff(0x1a1)]({'proderror':_0x1ccec2[_0x2f17ff(0x1cb)],'aproduct':_0x3b8dfc});}}_0x149c91['redirect'](_0x2f17ff(0x17e));}),router['post'](a0_0x24c600(0x1ab),auth,async(_0x5a0936,_0x9c7afb)=>{const _0x22f0bd=a0_0x24c600;try{const {datachoose:_0x11741a}=_0x5a0936[_0x22f0bd(0x215)];var _0x1362e6;if(_0x11741a==_0x22f0bd(0x180))_0x1362e6=await product[_0x22f0bd(0x20d)]([{'$group':{'_id':_0x22f0bd(0x1d5)}}]);else{if(_0x11741a=='brands')_0x1362e6=await product[_0x22f0bd(0x20d)]([{'$group':{'_id':_0x22f0bd(0x1ef)}}]);else _0x11741a==_0x22f0bd(0x1da)&&(_0x1362e6=await product[_0x22f0bd(0x20d)]([{'$group':{'_id':_0x22f0bd(0x1af)}}]));}console[_0x22f0bd(0x1c8)](_0x1362e6),_0x9c7afb[_0x22f0bd(0x1a1)](_0x1362e6);}catch(_0x53a8ff){_0x9c7afb[_0x22f0bd(0x1a1)]({'message':_0x53a8ff['message']});}}),router[a0_0x24c600(0x222)](a0_0x24c600(0x202),auth,async(_0x1ecae2,_0x4d2bd4)=>{const _0x204e93=a0_0x24c600;try{const {data_choosing:_0x46fec5,data_selected:_0x126fd6}=_0x1ecae2[_0x204e93(0x215)];var _0x4c0107;if(_0x46fec5=='prod_categ')_0x4c0107=await product[_0x204e93(0x20d)]([{'$match':{'product_category':_0x126fd6}}]);else{if(_0x46fec5==_0x204e93(0x1a6))_0x4c0107=await product[_0x204e93(0x20d)]([{'$match':{'brand':_0x126fd6}}]);else _0x46fec5==_0x204e93(0x1da)&&(_0x4c0107=await product['aggregate']([{'$match':{'category':_0x126fd6}}]));}_0x4d2bd4[_0x204e93(0x1a1)](_0x4c0107);}catch(_0x5d4bb4){_0x4d2bd4[_0x204e93(0x1a1)]({'message':_0x5d4bb4['message']});}}),router[a0_0x24c600(0x208)](a0_0x24c600(0x196),auth,async(_0x27b68c,_0x1b42e3)=>{const _0x231104=a0_0x24c600,_0x4b9b26=_0x27b68c[_0x231104(0x177)],_0x2b750b=await profile['findOne']({'email':_0x4b9b26[_0x231104(0x189)]}),_0x492230=await master_shop['find'](),_0x38e9cb=await product[_0x231104(0x1f8)]();if(_0x492230[0x0][_0x231104(0x19c)]==_0x231104(0x21c))var _0x3226db=users[_0x231104(0x224)];else{if(_0x492230[0x0][_0x231104(0x19c)]==_0x231104(0x178))var _0x3226db=users['Hindi'];else{if(_0x492230[0x0][_0x231104(0x19c)]=='German')var _0x3226db=users['German'];else{if(_0x492230[0x0][_0x231104(0x19c)]==_0x231104(0x218))var _0x3226db=users[_0x231104(0x218)];else{if(_0x492230[0x0][_0x231104(0x19c)]==_0x231104(0x204))var _0x3226db=users[_0x231104(0x204)];else{if(_0x492230[0x0][_0x231104(0x19c)]=='Portuguese\x20(BR)')var _0x3226db=users[_0x231104(0x1c1)];else{if(_0x492230[0x0]['language']=='Chinese')var _0x3226db=users[_0x231104(0x1e5)];else{if(_0x492230[0x0][_0x231104(0x19c)]==_0x231104(0x21f))var _0x3226db=users[_0x231104(0x212)];}}}}}}}_0x1b42e3[_0x231104(0x187)](_0x231104(0x1ad),{'success':_0x27b68c[_0x231104(0x1eb)](_0x231104(0x1ee)),'errors':_0x27b68c[_0x231104(0x1eb)](_0x231104(0x1bc)),'role':_0x4b9b26,'profile':_0x2b750b,'products':_0x38e9cb,'master_shop':_0x492230,'language':_0x3226db});}),router['post'](a0_0x24c600(0x203),auth,async(_0x473eed,_0x1de50c)=>{const _0x4826cc=a0_0x24c600,_0x1e9a18=await product['find']();_0x1de50c[_0x4826cc(0x1a1)]({'data':_0x1e9a18});}),router['post'](a0_0x24c600(0x1f4),auth,async(_0x81eb50,_0x484baa)=>{const _0x4176ed=a0_0x24c600;try{const {dataProdCat:_0x50043f,dataProdIdentity:_0x37667d}=_0x81eb50[_0x4176ed(0x215)];var _0x1e795e;switch(_0x50043f){case'fg':switch(_0x37667d){case _0x4176ed(0x17f):_0x1e795e=await product['aggregate']([{'$match':{'product_category':_0x4176ed(0x18c)}},{'$group':{'_id':'$brand'}},{'$project':{'brand':'$_id'}}]);break;case _0x4176ed(0x175):_0x1e795e=await product[_0x4176ed(0x20d)]([{'$match':{'product_category':_0x4176ed(0x18c)}},{'$group':{'_id':_0x4176ed(0x1af)}},{'$project':{'category':_0x4176ed(0x192)}}]);break;}break;case'rm':switch(_0x37667d){case'Brands':_0x1e795e=await product[_0x4176ed(0x20d)]([{'$match':{'product_category':_0x4176ed(0x18a)}},{'$group':{'_id':_0x4176ed(0x1ef)}},{'$project':{'brand':_0x4176ed(0x192)}}]);break;case _0x4176ed(0x175):_0x1e795e=await product[_0x4176ed(0x20d)]([{'$match':{'product_category':'Raw\x20Materials'}},{'$group':{'_id':_0x4176ed(0x1af)}},{'$project':{'category':_0x4176ed(0x192)}}]);break;}break;}_0x484baa['json'](_0x1e795e);}catch(_0x47226f){_0x484baa[_0x4176ed(0x1a1)]({'message':_0x47226f[_0x4176ed(0x1cb)]});}}),router[a0_0x24c600(0x222)](a0_0x24c600(0x18e),auth,async(_0x33876c,_0x53431e)=>{const _0x53c13e=a0_0x24c600;try{console[_0x53c13e(0x1c8)](_0x33876c[_0x53c13e(0x215)]);const {prod_cat:_0x3b0cfe,identity:_0x126376,valueData:_0x16eb14}=_0x33876c[_0x53c13e(0x215)];let _0x3d0e5b;switch(_0x3b0cfe){case'fg':if(_0x126376==_0x53c13e(0x17f))_0x3d0e5b=await product[_0x53c13e(0x20d)]([{'$match':{'product_category':_0x53c13e(0x18c),'brand':_0x16eb14}}]);else _0x126376==_0x53c13e(0x175)&&(_0x3d0e5b=await product['aggregate']([{'$match':{'product_category':_0x53c13e(0x18c),'category':_0x16eb14}}]));break;case'rm':if(_0x126376==_0x53c13e(0x17f))_0x3d0e5b=await product[_0x53c13e(0x20d)]([{'$match':{'product_category':'Raw\x20Materials','brand':_0x16eb14}}]);else _0x126376==_0x53c13e(0x175)&&(_0x3d0e5b=await product[_0x53c13e(0x20d)]([{'$match':{'product_category':_0x53c13e(0x18a),'category':_0x16eb14}}]));break;}_0x53431e['json'](_0x3d0e5b);}catch(_0x15c96e){_0x53431e[_0x53c13e(0x1a1)]({'message':_0x15c96e[_0x53c13e(0x1cb)]});}}),module[a0_0x24c600(0x20c)]=router;