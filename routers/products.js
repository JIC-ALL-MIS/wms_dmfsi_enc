const a0_0x37698b=a0_0x14e8;(function(_0x5d426b,_0x51ccc7){const _0x3bed5a=a0_0x14e8,_0x1c50a3=_0x5d426b();while(!![]){try{const _0x48156b=-parseInt(_0x3bed5a(0x1df))/0x1+-parseInt(_0x3bed5a(0x187))/0x2+parseInt(_0x3bed5a(0x224))/0x3+-parseInt(_0x3bed5a(0x1c3))/0x4+-parseInt(_0x3bed5a(0x191))/0x5*(-parseInt(_0x3bed5a(0x1de))/0x6)+-parseInt(_0x3bed5a(0x1c0))/0x7+parseInt(_0x3bed5a(0x1fa))/0x8;if(_0x48156b===_0x51ccc7)break;else _0x1c50a3['push'](_0x1c50a3['shift']());}catch(_0xb61c81){_0x1c50a3['push'](_0x1c50a3['shift']());}}}(a0_0x26fa,0x5f247));const express=require('express'),res=require('express/lib/response'),app=express(),router=express['Router'](),multer=require(a0_0x37698b(0x1ba)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require('../models/all_models'),auth=require(a0_0x37698b(0x19b)),users=require(a0_0x37698b(0x1fb)),excelJS=require(a0_0x37698b(0x1a6)),xlsx=require('xlsx'),JsBarcode=require(a0_0x37698b(0x20b)),{Canvas}=require(a0_0x37698b(0x231)),PDFDocument=require(a0_0x37698b(0x1b6));router[a0_0x37698b(0x209)](a0_0x37698b(0x1c9),auth,async(_0x598ea,_0x4cfde7)=>{const _0x4e3c61=a0_0x37698b;try{const {username:_0x54aefc,email:_0x38bebe,role:_0x167f5a}=_0x598ea[_0x4e3c61(0x201)],_0x4f4100=_0x598ea['user'],_0x2c86bd=await profile['findOne']({'email':_0x4f4100[_0x4e3c61(0x1af)]}),_0x5a7190=await master_shop[_0x4e3c61(0x1e1)]();console[_0x4e3c61(0x1d9)](_0x4e3c61(0x1a7),_0x5a7190);const _0x41d6be=await categories[_0x4e3c61(0x1e1)]();if(_0x5a7190[0x0][_0x4e3c61(0x192)]==_0x4e3c61(0x1c1))var _0x1c8c57=users[_0x4e3c61(0x1d6)];else{if(_0x5a7190[0x0][_0x4e3c61(0x192)]==_0x4e3c61(0x21c))var _0x1c8c57=users['Hindi'];else{if(_0x5a7190[0x0]['language']==_0x4e3c61(0x182))var _0x1c8c57=users['German'];else{if(_0x5a7190[0x0][_0x4e3c61(0x192)]=='Spanish')var _0x1c8c57=users['Spanish'];else{if(_0x5a7190[0x0]['language']==_0x4e3c61(0x1a9))var _0x1c8c57=users[_0x4e3c61(0x1a9)];else{if(_0x5a7190[0x0][_0x4e3c61(0x192)]==_0x4e3c61(0x202))var _0x1c8c57=users['Portuguese'];else{if(_0x5a7190[0x0][_0x4e3c61(0x192)]=='Chinese')var _0x1c8c57=users[_0x4e3c61(0x1eb)];else{if(_0x5a7190[0x0]['language']==_0x4e3c61(0x198))var _0x1c8c57=users[_0x4e3c61(0x22d)];}}}}}}}_0x4cfde7['render'](_0x4e3c61(0x1f1),{'success':_0x598ea['flash']('success'),'errors':_0x598ea[_0x4e3c61(0x1dc)]('errors'),'role':_0x4f4100,'profile':_0x2c86bd,'user':_0x41d6be,'master_shop':_0x5a7190,'language':_0x1c8c57});}catch(_0xd7aa23){console['log'](_0xd7aa23);}}),router[a0_0x37698b(0x1b4)](a0_0x37698b(0x1c9),auth,async(_0x10e04d,_0x187557)=>{const _0x38023a=a0_0x37698b;try{const {name:_0x23106e,products:_0x41341d}=_0x10e04d['body'],_0x16bccc=new categories({'name':_0x23106e,'products':_0x41341d}),_0x260e0b=await categories[_0x38023a(0x190)]({'name':_0x23106e});_0x260e0b?_0x10e04d[_0x38023a(0x1dc)]('errors',_0x23106e+_0x38023a(0x199)):_0x10e04d['flash']('success',_0x23106e+_0x38023a(0x229));const _0x3d3799=await _0x16bccc[_0x38023a(0x1a2)]();_0x187557[_0x38023a(0x1bf)]('/products/categories');}catch(_0x39b724){console[_0x38023a(0x1d9)](_0x39b724);}}),router[a0_0x37698b(0x209)](a0_0x37698b(0x1d2),auth,async(_0x150486,_0x1c5303)=>{const _0x9812ec=a0_0x37698b;try{const {username:_0x562650,email:_0x2fad1b,role:_0x8805a2}=_0x150486['user'],_0xad7270=_0x150486[_0x9812ec(0x201)],_0x3d771c=await profile[_0x9812ec(0x190)]({'email':_0xad7270[_0x9812ec(0x1af)]}),_0x336e04=await master_shop[_0x9812ec(0x1e1)]();console['log'](_0x9812ec(0x1a7),_0x336e04);const _0x32a10c=_0x150486['params']['id'];console[_0x9812ec(0x1d9)](_0x32a10c);const _0x345454=await categories[_0x9812ec(0x1d7)](_0x32a10c);if(_0x336e04[0x0][_0x9812ec(0x192)]=='English\x20(US)')var _0x2f330d=users[_0x9812ec(0x1d6)];else{if(_0x336e04[0x0][_0x9812ec(0x192)]=='Hindi')var _0x2f330d=users[_0x9812ec(0x21c)];else{if(_0x336e04[0x0][_0x9812ec(0x192)]=='German')var _0x2f330d=users['German'];else{if(_0x336e04[0x0][_0x9812ec(0x192)]==_0x9812ec(0x20a))var _0x2f330d=users[_0x9812ec(0x20a)];else{if(_0x336e04[0x0][_0x9812ec(0x192)]=='French')var _0x2f330d=users['French'];else{if(_0x336e04[0x0]['language']=='Portuguese\x20(BR)')var _0x2f330d=users[_0x9812ec(0x1f7)];else{if(_0x336e04[0x0]['language']==_0x9812ec(0x1eb))var _0x2f330d=users[_0x9812ec(0x1eb)];else{if(_0x336e04[0x0][_0x9812ec(0x192)]==_0x9812ec(0x198))var _0x2f330d=users[_0x9812ec(0x22d)];}}}}}}}_0x1c5303['render'](_0x9812ec(0x1f1),{'success':_0x150486['flash'](_0x9812ec(0x1ed)),'errors':_0x150486[_0x9812ec(0x1dc)](_0x9812ec(0x19a)),'role':_0xad7270,'profile':_0x3d771c,'master_shop':_0x336e04,'user':_0x345454,'language':_0x2f330d});}catch(_0x786413){console[_0x9812ec(0x1d9)](_0x786413);}}),router[a0_0x37698b(0x1b4)](a0_0x37698b(0x1d2),auth,async(_0x5233e3,_0x5b82c8)=>{const _0x4d6784=a0_0x37698b;try{const _0x114959=_0x5233e3[_0x4d6784(0x1b3)]['id'],_0x5412ad=await categories[_0x4d6784(0x237)](_0x114959,_0x5233e3[_0x4d6784(0x207)]);_0x5233e3[_0x4d6784(0x1dc)](_0x4d6784(0x1ed),''+users[_0x4d6784(0x17b)]),_0x5b82c8['redirect'](_0x4d6784(0x19f));}catch(_0x299328){console[_0x4d6784(0x1d9)](_0x299328);}}),router[a0_0x37698b(0x209)](a0_0x37698b(0x1e8),auth,async(_0x159429,_0x15e829)=>{const _0x50c624=a0_0x37698b;try{const _0x530f89=_0x159429[_0x50c624(0x1b3)]['id'],_0x245638=await categories[_0x50c624(0x1ef)](_0x530f89);_0x159429['flash']('success',_0x50c624(0x1bc)),_0x15e829['redirect'](_0x50c624(0x19f));}catch(_0x167b40){console['log'](_0x167b40);}}),router['get'](a0_0x37698b(0x213),auth,async(_0x4628db,_0x2da47d)=>{const _0x2aeedf=a0_0x37698b;try{const {username:_0x36bd9a,email:_0x2673b6,role:_0x1c828c}=_0x4628db[_0x2aeedf(0x201)],_0x17de28=_0x4628db[_0x2aeedf(0x201)],_0x581249=await profile[_0x2aeedf(0x190)]({'email':_0x17de28['email']}),_0x5b9339=await master_shop[_0x2aeedf(0x1e1)]();console[_0x2aeedf(0x1d9)](_0x2aeedf(0x1a7),_0x5b9339);const _0x1c9a6b=await brands['find']();if(_0x5b9339[0x0][_0x2aeedf(0x192)]==_0x2aeedf(0x1c1))var _0xb34c9f=users[_0x2aeedf(0x1d6)];else{if(_0x5b9339[0x0]['language']==_0x2aeedf(0x21c))var _0xb34c9f=users[_0x2aeedf(0x21c)];else{if(_0x5b9339[0x0]['language']==_0x2aeedf(0x182))var _0xb34c9f=users[_0x2aeedf(0x182)];else{if(_0x5b9339[0x0][_0x2aeedf(0x192)]==_0x2aeedf(0x20a))var _0xb34c9f=users[_0x2aeedf(0x20a)];else{if(_0x5b9339[0x0][_0x2aeedf(0x192)]==_0x2aeedf(0x1a9))var _0xb34c9f=users['French'];else{if(_0x5b9339[0x0][_0x2aeedf(0x192)]==_0x2aeedf(0x202))var _0xb34c9f=users['Portuguese'];else{if(_0x5b9339[0x0]['language']==_0x2aeedf(0x1eb))var _0xb34c9f=users[_0x2aeedf(0x1eb)];else{if(_0x5b9339[0x0][_0x2aeedf(0x192)]==_0x2aeedf(0x198))var _0xb34c9f=users[_0x2aeedf(0x22d)];}}}}}}}_0x2da47d[_0x2aeedf(0x1e3)]('brands',{'success':_0x4628db[_0x2aeedf(0x1dc)](_0x2aeedf(0x1ed)),'errors':_0x4628db[_0x2aeedf(0x1dc)](_0x2aeedf(0x19a)),'role':_0x17de28,'profile':_0x581249,'master_shop':_0x5b9339,'user':_0x1c9a6b,'language':_0xb34c9f});}catch(_0x460cf9){console['log'](_0x460cf9);}}),router['post'](a0_0x37698b(0x213),auth,async(_0x609bd1,_0x52b064)=>{const _0x393396=a0_0x37698b;try{const {name:_0x1219d7,products:_0x186317}=_0x609bd1['body'],_0x3da2db=new brands({'name':_0x1219d7,'products':_0x186317}),_0x1c10db=await brands[_0x393396(0x190)]({'name':_0x1219d7});_0x1c10db?_0x609bd1['flash']('errors',_0x1219d7+_0x393396(0x1f0)):_0x609bd1[_0x393396(0x1dc)](_0x393396(0x1ed),_0x1219d7+_0x393396(0x197));const _0x55d086=await _0x3da2db[_0x393396(0x1a2)]();_0x52b064[_0x393396(0x1bf)](_0x393396(0x1a4));}catch(_0x9dc9de){console['log'](_0x9dc9de);}}),router[a0_0x37698b(0x209)](a0_0x37698b(0x1a8),auth,async(_0x3f37fb,_0x501d5f)=>{const _0x3112e2=a0_0x37698b;try{const {username:_0x7cdf05,email:_0x1b4d3f,role:_0x2c224a}=_0x3f37fb[_0x3112e2(0x201)],_0x2ae101=_0x3f37fb[_0x3112e2(0x201)],_0x45c3c6=await profile[_0x3112e2(0x190)]({'email':_0x2ae101[_0x3112e2(0x1af)]}),_0x5d245d=await master_shop[_0x3112e2(0x1e1)]();console['log']('master',_0x5d245d);const _0x40b5bf=_0x3f37fb[_0x3112e2(0x1b3)]['id'];console[_0x3112e2(0x1d9)](_0x40b5bf);const _0x4c4fc5=await brands[_0x3112e2(0x1d7)](_0x40b5bf);if(_0x5d245d[0x0]['language']==_0x3112e2(0x1c1))var _0x1bd7d5=users[_0x3112e2(0x1d6)];else{if(_0x5d245d[0x0]['language']==_0x3112e2(0x21c))var _0x1bd7d5=users[_0x3112e2(0x21c)];else{if(_0x5d245d[0x0][_0x3112e2(0x192)]=='German')var _0x1bd7d5=users[_0x3112e2(0x182)];else{if(_0x5d245d[0x0][_0x3112e2(0x192)]==_0x3112e2(0x20a))var _0x1bd7d5=users['Spanish'];else{if(_0x5d245d[0x0][_0x3112e2(0x192)]=='French')var _0x1bd7d5=users['French'];else{if(_0x5d245d[0x0][_0x3112e2(0x192)]=='Portuguese\x20(BR)')var _0x1bd7d5=users[_0x3112e2(0x1f7)];else{if(_0x5d245d[0x0]['language']==_0x3112e2(0x1eb))var _0x1bd7d5=users[_0x3112e2(0x1eb)];else{if(_0x5d245d[0x0][_0x3112e2(0x192)]==_0x3112e2(0x198))var _0x1bd7d5=users['Arabic'];}}}}}}}_0x501d5f['render']('brands',{'success':_0x3f37fb[_0x3112e2(0x1dc)](_0x3112e2(0x1ed)),'errors':_0x3f37fb['flash'](_0x3112e2(0x19a)),'role':_0x2ae101,'profile':_0x45c3c6,'master_shop':_0x5d245d,'user':_0x4c4fc5,'language':_0x1bd7d5});}catch(_0x50948e){console[_0x3112e2(0x1d9)](_0x50948e);}}),router[a0_0x37698b(0x1b4)]('/brands/:id',auth,async(_0x1bf37c,_0x2dab35)=>{const _0x490d26=a0_0x37698b;try{const _0x49c0a6=_0x1bf37c[_0x490d26(0x1b3)]['id'],_0x10f904=await brands[_0x490d26(0x237)](_0x49c0a6,_0x1bf37c[_0x490d26(0x207)]);_0x1bf37c[_0x490d26(0x1dc)](_0x490d26(0x1ed),_0x490d26(0x1ad)),_0x2dab35[_0x490d26(0x1bf)](_0x490d26(0x1a4));}catch(_0x2209e9){console[_0x490d26(0x1d9)](_0x2209e9);}}),router['get']('/brands/delete/:id',auth,async(_0x3be34f,_0x322850)=>{const _0x1b070f=a0_0x37698b;try{const _0x4268bb=_0x3be34f[_0x1b070f(0x1b3)]['id'],_0x472542=await brands[_0x1b070f(0x1ef)](_0x4268bb);_0x3be34f[_0x1b070f(0x1dc)](_0x1b070f(0x1ed),'brand\x20data\x20delete\x20successfully'),_0x322850[_0x1b070f(0x1bf)](_0x1b070f(0x1a4));}catch(_0x42051f){console[_0x1b070f(0x1d9)](_0x42051f);}}),router[a0_0x37698b(0x209)](a0_0x37698b(0x1f6),auth,async(_0x28e6b3,_0x241715)=>{const _0x289744=a0_0x37698b;try{const {username:_0x3496a3,email:_0x59d5c0,role:_0x413df8}=_0x28e6b3['user'],_0x250c75=_0x28e6b3[_0x289744(0x201)],_0x29d890=await profile['findOne']({'email':_0x250c75[_0x289744(0x1af)]}),_0x1edd40=await master_shop[_0x289744(0x1e1)]();console[_0x289744(0x1d9)](_0x289744(0x1a7),_0x1edd40);const _0x43ad1b=await units['find']();if(_0x1edd40[0x0][_0x289744(0x192)]==_0x289744(0x1c1))var _0x482d79=users[_0x289744(0x1d6)];else{if(_0x1edd40[0x0]['language']==_0x289744(0x21c))var _0x482d79=users[_0x289744(0x21c)];else{if(_0x1edd40[0x0][_0x289744(0x192)]==_0x289744(0x182))var _0x482d79=users['German'];else{if(_0x1edd40[0x0][_0x289744(0x192)]=='Spanish')var _0x482d79=users['Spanish'];else{if(_0x1edd40[0x0][_0x289744(0x192)]==_0x289744(0x1a9))var _0x482d79=users[_0x289744(0x1a9)];else{if(_0x1edd40[0x0]['language']=='Portuguese\x20(BR)')var _0x482d79=users[_0x289744(0x1f7)];else{if(_0x1edd40[0x0][_0x289744(0x192)]==_0x289744(0x1eb))var _0x482d79=users[_0x289744(0x1eb)];else{if(_0x1edd40[0x0][_0x289744(0x192)]==_0x289744(0x198))var _0x482d79=users[_0x289744(0x22d)];}}}}}}}_0x241715[_0x289744(0x1e3)](_0x289744(0x1e4),{'success':_0x28e6b3[_0x289744(0x1dc)]('success'),'errors':_0x28e6b3[_0x289744(0x1dc)](_0x289744(0x19a)),'role':_0x250c75,'profile':_0x29d890,'master_shop':_0x1edd40,'user':_0x43ad1b,'language':_0x482d79});}catch(_0x2ab6a0){console[_0x289744(0x1d9)](_0x2ab6a0);}}),router[a0_0x37698b(0x1b4)](a0_0x37698b(0x1f6),auth,async(_0xdfad33,_0x43189)=>{const _0x431d45=a0_0x37698b;try{const {name:_0x1546be,secondary_unit:_0x2b4b00,products:_0x1bfdb1}=_0xdfad33[_0x431d45(0x207)],_0x5f3556=new units({'name':_0x1546be,'secondary_unit':_0x2b4b00,'products':_0x1bfdb1}),_0x345f64=await units['findOne']({'name':_0x1546be});_0x345f64?_0xdfad33['flash']('errors',_0x1546be+_0x431d45(0x193)):_0xdfad33[_0x431d45(0x1dc)](_0x431d45(0x1ed),_0x1546be+_0x431d45(0x19e));const _0x5262c8=await _0x5f3556[_0x431d45(0x1a2)]();_0x43189[_0x431d45(0x1bf)](_0x431d45(0x1e9));}catch(_0x3687c3){console['log'](_0x3687c3);}}),router[a0_0x37698b(0x209)](a0_0x37698b(0x1cf),auth,async(_0x5c8b63,_0x4c4cda)=>{const _0x251e0e=a0_0x37698b;try{const {username:_0x24922e,email:_0x23f3d0,role:_0x317886}=_0x5c8b63['user'],_0x2baffc=_0x5c8b63[_0x251e0e(0x201)],_0x411425=await profile[_0x251e0e(0x190)]({'email':_0x2baffc['email']}),_0x2b9750=await master_shop[_0x251e0e(0x1e1)]();console[_0x251e0e(0x1d9)]('master',_0x2b9750);const _0x23a76d=_0x5c8b63[_0x251e0e(0x1b3)]['id'],_0x4c5bd7=await units[_0x251e0e(0x1d7)](_0x23a76d);if(_0x2b9750[0x0][_0x251e0e(0x192)]==_0x251e0e(0x1c1))var _0x18a870=users[_0x251e0e(0x1d6)];else{if(_0x2b9750[0x0][_0x251e0e(0x192)]==_0x251e0e(0x21c))var _0x18a870=users[_0x251e0e(0x21c)];else{if(_0x2b9750[0x0][_0x251e0e(0x192)]==_0x251e0e(0x182))var _0x18a870=users[_0x251e0e(0x182)];else{if(_0x2b9750[0x0][_0x251e0e(0x192)]==_0x251e0e(0x20a))var _0x18a870=users[_0x251e0e(0x20a)];else{if(_0x2b9750[0x0][_0x251e0e(0x192)]==_0x251e0e(0x1a9))var _0x18a870=users[_0x251e0e(0x1a9)];else{if(_0x2b9750[0x0][_0x251e0e(0x192)]==_0x251e0e(0x202))var _0x18a870=users[_0x251e0e(0x1f7)];else{if(_0x2b9750[0x0][_0x251e0e(0x192)]==_0x251e0e(0x1eb))var _0x18a870=users[_0x251e0e(0x1eb)];else{if(_0x2b9750[0x0][_0x251e0e(0x192)]=='Arabic\x20(ae)')var _0x18a870=users[_0x251e0e(0x22d)];}}}}}}}_0x4c4cda[_0x251e0e(0x1e3)](_0x251e0e(0x1e4),{'success':_0x5c8b63[_0x251e0e(0x1dc)](_0x251e0e(0x1ed)),'errors':_0x5c8b63['flash'](_0x251e0e(0x19a)),'role':_0x2baffc,'profile':_0x411425,'master_shop':_0x2b9750,'user':_0x4c5bd7,'language':_0x18a870});}catch(_0x465c93){console[_0x251e0e(0x1d9)](_0x465c93);}}),router[a0_0x37698b(0x1b4)]('/units/:id',auth,async(_0x196584,_0x194918)=>{const _0x2cc51=a0_0x37698b;try{const _0x1123c9=_0x196584['params']['id'],_0x35f34c=await units[_0x2cc51(0x237)](_0x1123c9,_0x196584[_0x2cc51(0x207)]);_0x196584[_0x2cc51(0x1dc)](_0x2cc51(0x1ed),_0x2cc51(0x1ea)),_0x194918['redirect'](_0x2cc51(0x1e9));}catch(_0x4d50ff){console[_0x2cc51(0x1d9)](_0x4d50ff);}}),router[a0_0x37698b(0x209)]('/units/delete/:id',auth,async(_0x5135bb,_0x418446)=>{const _0xb9f806=a0_0x37698b;try{const _0x1d7e9b=_0x5135bb['params']['id'],_0x3b8151=await units['findByIdAndDelete'](_0x1d7e9b);_0x5135bb[_0xb9f806(0x1dc)]('success',_0xb9f806(0x212)),_0x418446[_0xb9f806(0x1bf)]('/products/units');}catch(_0x45f740){console['log'](_0x45f740);}});const storage=multer['diskStorage']({'destination':(_0xd9803f,_0x8d9f61,_0x35da4a)=>{const _0x56cc65=a0_0x37698b;_0x35da4a(null,_0x56cc65(0x205));},'filename':(_0x3e0442,_0x93f47b,_0x798e0e)=>{const _0x19e803=a0_0x37698b;_0x798e0e(null,Date[_0x19e803(0x1c6)]()+_0x93f47b[_0x19e803(0x226)]);}}),upload=multer({'storage':storage});router[a0_0x37698b(0x209)]('/view',auth,async(_0x4c89b3,_0x1a70df)=>{const _0x2c89a3=a0_0x37698b;try{const {username:_0x424efb,email:_0x27cb83,role:_0x1f18f4}=_0x4c89b3['user'],_0x341e99=_0x4c89b3[_0x2c89a3(0x201)],_0x47956b=await profile['findOne']({'email':_0x341e99['email']}),_0x491ffd={'year':_0x2c89a3(0x20e),'month':'long','day':_0x2c89a3(0x20e)},_0x356daf=await master_shop[_0x2c89a3(0x1e1)]();console[_0x2c89a3(0x1d9)](_0x2c89a3(0x1ae),_0x356daf);const _0x56aeef=await product[_0x2c89a3(0x1e1)]();console['log'](_0x2c89a3(0x1c8),_0x56aeef);const _0x1ee139=await warehouse[_0x2c89a3(0x17e)]([{'$unwind':_0x2c89a3(0x18a)},{'$lookup':{'from':'products','localField':'product_details.product_name','foreignField':_0x2c89a3(0x1bd),'as':'product_docs'}},{'$unwind':'$product_docs'},{'$project':{'product_name':'$product_details.product_name','product_stock':_0x2c89a3(0x19c)}},{'$group':{'_id':_0x2c89a3(0x1b8),'product_stock':{'$sum':_0x2c89a3(0x1be)}}}]);console[_0x2c89a3(0x1d9)]('Products\x20warehouse_data',_0x1ee139),_0x1ee139['forEach'](_0x3ccfe9=>{const _0x27fcd2=_0x2c89a3,_0x143469=_0x56aeef[_0x27fcd2(0x1ab)](_0x1659e1=>{const _0x1d34ac=_0x27fcd2;_0x1659e1[_0x1d34ac(0x1bd)]==_0x3ccfe9[_0x1d34ac(0x18d)]&&(_0x1659e1[_0x1d34ac(0x196)]=parseInt(_0x1659e1[_0x1d34ac(0x196)])+parseInt(_0x3ccfe9[_0x1d34ac(0x188)]));});}),console[_0x2c89a3(0x1d9)](_0x2c89a3(0x1c8),_0x56aeef);if(_0x356daf[0x0][_0x2c89a3(0x192)]=='English\x20(US)')var _0x59e719=users[_0x2c89a3(0x1d6)];else{if(_0x356daf[0x0]['language']==_0x2c89a3(0x21c))var _0x59e719=users[_0x2c89a3(0x21c)];else{if(_0x356daf[0x0][_0x2c89a3(0x192)]=='German')var _0x59e719=users[_0x2c89a3(0x182)];else{if(_0x356daf[0x0]['language']==_0x2c89a3(0x20a))var _0x59e719=users[_0x2c89a3(0x20a)];else{if(_0x356daf[0x0][_0x2c89a3(0x192)]=='French')var _0x59e719=users['French'];else{if(_0x356daf[0x0][_0x2c89a3(0x192)]==_0x2c89a3(0x202))var _0x59e719=users[_0x2c89a3(0x1f7)];else{if(_0x356daf[0x0][_0x2c89a3(0x192)]=='Chinese')var _0x59e719=users[_0x2c89a3(0x1eb)];else{if(_0x356daf[0x0][_0x2c89a3(0x192)]==_0x2c89a3(0x198))var _0x59e719=users[_0x2c89a3(0x22d)];}}}}}}}_0x1a70df[_0x2c89a3(0x1e3)](_0x2c89a3(0x1c2),{'success':_0x4c89b3[_0x2c89a3(0x1dc)](_0x2c89a3(0x1ed)),'errors':_0x4c89b3[_0x2c89a3(0x1dc)](_0x2c89a3(0x19a)),'alldata':_0x56aeef,'profile':_0x47956b,'master_shop':_0x356daf,'role':_0x341e99,'product_stock':_0x1ee139,'language':_0x59e719});}catch(_0x4ecdcc){console['log'](_0x4ecdcc);}}),router['get'](a0_0x37698b(0x17d),auth,async(_0x25c01e,_0xd6397b)=>{const _0x3d2faf=a0_0x37698b;try{const {username:_0x33ebf5,email:_0x33fedf,role:_0x598a8f}=_0x25c01e[_0x3d2faf(0x201)],_0x3201df=_0x25c01e[_0x3d2faf(0x201)],_0x2f038d=await profile[_0x3d2faf(0x190)]({'email':_0x3201df[_0x3d2faf(0x1af)]}),_0x1224ef=await master_shop[_0x3d2faf(0x1e1)]();console[_0x3d2faf(0x1d9)](_0x3d2faf(0x1a7),_0x1224ef);const _0x10ec1c=await categories['find']({}),_0x53c0ab=await brands[_0x3d2faf(0x1e1)]({}),_0x22a323=await units[_0x3d2faf(0x1e1)]({}),_0x103d8f=await warehouse[_0x3d2faf(0x1e1)]({'status':'Enabled'});if(_0x1224ef[0x0][_0x3d2faf(0x192)]==_0x3d2faf(0x1c1))var _0x533ca8=users[_0x3d2faf(0x1d6)];else{if(_0x1224ef[0x0][_0x3d2faf(0x192)]==_0x3d2faf(0x21c))var _0x533ca8=users['Hindi'];else{if(_0x1224ef[0x0][_0x3d2faf(0x192)]==_0x3d2faf(0x182))var _0x533ca8=users[_0x3d2faf(0x182)];else{if(_0x1224ef[0x0][_0x3d2faf(0x192)]=='Spanish')var _0x533ca8=users[_0x3d2faf(0x20a)];else{if(_0x1224ef[0x0][_0x3d2faf(0x192)]=='French')var _0x533ca8=users[_0x3d2faf(0x1a9)];else{if(_0x1224ef[0x0]['language']==_0x3d2faf(0x202))var _0x533ca8=users[_0x3d2faf(0x1f7)];else{if(_0x1224ef[0x0][_0x3d2faf(0x192)]==_0x3d2faf(0x1eb))var _0x533ca8=users[_0x3d2faf(0x1eb)];else{if(_0x1224ef[0x0][_0x3d2faf(0x192)]==_0x3d2faf(0x198))var _0x533ca8=users[_0x3d2faf(0x22d)];}}}}}}}_0xd6397b[_0x3d2faf(0x1e3)](_0x3d2faf(0x186),{'success':_0x25c01e[_0x3d2faf(0x1dc)]('success'),'errors':_0x25c01e[_0x3d2faf(0x1dc)](_0x3d2faf(0x19a)),'role':_0x3201df,'profile':_0x2f038d,'categories':_0x10ec1c,'brands':_0x53c0ab,'master_shop':_0x1224ef,'units':_0x22a323,'language':_0x533ca8,'find_data':_0x103d8f});}catch(_0x17158f){console[_0x3d2faf(0x1d9)](_0x17158f);}}),router[a0_0x37698b(0x1b4)](a0_0x37698b(0x17d),auth,upload['single']('image'),async(_0x22dc81,_0x554a64)=>{const _0x179bbf=a0_0x37698b;try{const {name:_0x5d4b03,category:_0x31ec09,brand:_0x35c102,unit:_0x300bc0,alertquantity:_0x5c680f,stock:_0x1e9a2e,product_code:_0x55a52c,warehouse:_0xf23991,primary_ItemCode:_0x6df374,second_ItemCode:_0x48a325,second_unit:_0x3456a8,maxPerUnit:_0x49c03c,MaxPerProduct:_0xac823}=_0x22dc81['body'],_0x57797a=_0x22dc81[_0x179bbf(0x195)]?.[_0x179bbf(0x21d)]||'defaultProduct.avif',_0x5c8975=new product({'image':_0x57797a,'name':_0x5d4b03,'category':_0x31ec09,'brand':_0x35c102,'unit':_0x300bc0,'alertquantity':_0x5c680f,'stock':_0x1e9a2e,'product_code':_0x55a52c,'warehouse':_0xf23991,'primary_code':_0x6df374,'secondary_code':_0x48a325,'second_unit':_0x3456a8,'maxStocks':_0xac823,'maxProdPerUnit':_0x49c03c}),_0x375158=await _0x5c8975['save'](),_0x393a65=await categories[_0x179bbf(0x190)]({'name':_0x31ec09});_0x393a65[_0x179bbf(0x1c2)]=parseInt(_0x393a65[_0x179bbf(0x1c2)])+0x1,await _0x393a65[_0x179bbf(0x1a2)]();const _0x1ed8c1=await brands[_0x179bbf(0x190)]({'name':_0x35c102});_0x1ed8c1['products']=parseInt(_0x1ed8c1[_0x179bbf(0x1c2)])+0x1,await _0x1ed8c1[_0x179bbf(0x1a2)]();const _0x55f50d=await units['findOne']({'name':_0x300bc0});_0x55f50d['products']=parseInt(_0x55f50d[_0x179bbf(0x1c2)])+0x1,await _0x55f50d['save'](),_0x22dc81[_0x179bbf(0x1dc)]('success',_0x179bbf(0x236)),_0x554a64[_0x179bbf(0x1bf)]('/products/view');}catch(_0xe1e9a0){console[_0x179bbf(0x1d9)](_0xe1e9a0);}}),router[a0_0x37698b(0x209)](a0_0x37698b(0x17c),auth,async(_0x17bad6,_0x5a5941)=>{const _0x1a743d=a0_0x37698b;try{const {username:_0x454faf,email:_0x5aada8,role:_0x423fd0}=_0x17bad6[_0x1a743d(0x201)],_0x162f9e=_0x17bad6['user'],_0x5cc6ea=await profile[_0x1a743d(0x190)]({'email':_0x162f9e[_0x1a743d(0x1af)]}),_0x15dfac=await master_shop['find']();console[_0x1a743d(0x1d9)]('edit\x20Product\x20master',_0x15dfac);const _0x7524f=_0x17bad6[_0x1a743d(0x1b3)]['id'],_0x29a007=await product[_0x1a743d(0x1d7)](_0x7524f),_0x5bc197=await categories['find']({}),_0x1122ee=await brands[_0x1a743d(0x1e1)]({}),_0x37f48b=await units['find']({}),_0x10e052=await warehouse[_0x1a743d(0x1e1)]({'status':_0x1a743d(0x1e0)}),_0x18b76c=await units[_0x1a743d(0x17e)]([{'$group':{'_id':'$_id','secondaryunit':{'$first':'$secondary_unit'}}}]);if(_0x15dfac[0x0][_0x1a743d(0x192)]==_0x1a743d(0x1c1))var _0x5108eb=users[_0x1a743d(0x1d6)];else{if(_0x15dfac[0x0][_0x1a743d(0x192)]==_0x1a743d(0x21c))var _0x5108eb=users['Hindi'];else{if(_0x15dfac[0x0]['language']==_0x1a743d(0x182))var _0x5108eb=users[_0x1a743d(0x182)];else{if(_0x15dfac[0x0][_0x1a743d(0x192)]==_0x1a743d(0x20a))var _0x5108eb=users[_0x1a743d(0x20a)];else{if(_0x15dfac[0x0][_0x1a743d(0x192)]=='French')var _0x5108eb=users[_0x1a743d(0x1a9)];else{if(_0x15dfac[0x0][_0x1a743d(0x192)]==_0x1a743d(0x202))var _0x5108eb=users[_0x1a743d(0x1f7)];else{if(_0x15dfac[0x0][_0x1a743d(0x192)]==_0x1a743d(0x1eb))var _0x5108eb=users['Chinese'];else{if(_0x15dfac[0x0][_0x1a743d(0x192)]==_0x1a743d(0x198))var _0x5108eb=users[_0x1a743d(0x22d)];}}}}}}}_0x5a5941['render']('edit_product',{'success':_0x17bad6['flash']('success'),'errors':_0x17bad6['flash']('errors'),'role':_0x162f9e,'profile':_0x5cc6ea,'alldata':_0x29a007,'categories':_0x5bc197,'brands':_0x1122ee,'master_shop':_0x15dfac,'units':_0x37f48b,'secondunit':_0x18b76c,'find_data':_0x10e052,'language':_0x5108eb});}catch(_0x5e7ce1){console['log'](_0x5e7ce1);}}),router[a0_0x37698b(0x1b4)](a0_0x37698b(0x17c),auth,upload[a0_0x37698b(0x1fd)](a0_0x37698b(0x217)),async(_0x3a7747,_0x3ee8b0)=>{const _0x215e19=a0_0x37698b;try{console[_0x215e19(0x1d9)](_0x215e19(0x233));const _0x4435b0=_0x3a7747['params']['id'],_0x463293=await product[_0x215e19(0x1d7)](_0x4435b0),{image:_0xc0868f,name:_0x240050,category:_0x455477,brand:_0x4e4cbc,sku:_0x1dfacb,unit:_0x53de6c,alertquantity:_0x3a3ccb,product_code:_0x12207b,warehouse:_0x1bc8eb,primary_ItemCode:_0xd79718,second_ItemCode:_0x4011dc,second_unit:_0x1b5ce4,maxPerUnit:_0x3649ea,MaxPerProduct:_0x45b570,prod_catdata:_0x3cfb76}=_0x3a7747[_0x215e19(0x207)];_0x3a7747[_0x215e19(0x195)]&&(_0x463293[_0x215e19(0x217)]=_0x3a7747[_0x215e19(0x195)][_0x215e19(0x21d)]);_0x463293['name']=_0x240050,_0x463293[_0x215e19(0x221)]=_0x455477,_0x463293[_0x215e19(0x1e5)]=_0x4e4cbc,_0x463293[_0x215e19(0x1d0)]=_0x1dfacb,_0x463293['unit']=_0x53de6c,_0x463293[_0x215e19(0x1d8)]=_0x3a3ccb,_0x463293['product_code']=_0x12207b,_0x463293[_0x215e19(0x216)]=_0x1bc8eb,_0x463293[_0x215e19(0x1a1)]=_0xd79718,_0x463293[_0x215e19(0x1c5)]=_0x4011dc,_0x463293['secondary_unit']=_0x1b5ce4,_0x463293[_0x215e19(0x1ac)]=_0x45b570,_0x463293[_0x215e19(0x220)]=_0x3649ea,_0x463293[_0x215e19(0x222)]=_0x3cfb76;const _0x5c91bf=await _0x463293['save']();console['log'](_0x215e19(0x219),_0x463293),_0x3a7747[_0x215e19(0x1dc)](_0x215e19(0x1ed),_0x215e19(0x19d)),_0x3ee8b0['redirect']('/products/view');}catch(_0x30df6d){console['log'](_0x30df6d);}}),router[a0_0x37698b(0x209)]('/barcode/:id',auth,async(_0x37e661,_0x1663de)=>{const _0x1716b2=a0_0x37698b;try{const {username:_0x36b2d0,email:_0x332bf0,role:_0x31f07f}=_0x37e661[_0x1716b2(0x201)],_0x2977d2=_0x37e661[_0x1716b2(0x201)],_0xd10ebe=await profile['findOne']({'email':_0x2977d2[_0x1716b2(0x1af)]}),_0x841d40=await master_shop[_0x1716b2(0x1e1)]();console['log']('barcode\x20Product\x20master',_0x841d40);const _0x6ff8b0=_0x37e661['params']['id'],_0x50a49d=await product[_0x1716b2(0x1d7)](_0x6ff8b0);console[_0x1716b2(0x1d9)]('barcode\x20user_id',_0x50a49d);if(_0x841d40[0x0][_0x1716b2(0x192)]==_0x1716b2(0x1c1))var _0x4a51ba=users[_0x1716b2(0x1d6)];else{if(_0x841d40[0x0]['language']=='Hindi')var _0x4a51ba=users['Hindi'];else{if(_0x841d40[0x0]['language']=='German')var _0x4a51ba=users[_0x1716b2(0x182)];else{if(_0x841d40[0x0][_0x1716b2(0x192)]==_0x1716b2(0x20a))var _0x4a51ba=users[_0x1716b2(0x20a)];else{if(_0x841d40[0x0][_0x1716b2(0x192)]==_0x1716b2(0x1a9))var _0x4a51ba=users[_0x1716b2(0x1a9)];else{if(_0x841d40[0x0][_0x1716b2(0x192)]==_0x1716b2(0x202))var _0x4a51ba=users[_0x1716b2(0x1f7)];else{if(_0x841d40[0x0][_0x1716b2(0x192)]=='Chinese')var _0x4a51ba=users[_0x1716b2(0x1eb)];else{if(_0x841d40[0x0][_0x1716b2(0x192)]==_0x1716b2(0x198))var _0x4a51ba=users['Arabic'];}}}}}}}_0x1663de[_0x1716b2(0x1e3)](_0x1716b2(0x1c4),{'success':_0x37e661[_0x1716b2(0x1dc)]('success'),'errors':_0x37e661['flash'](_0x1716b2(0x19a)),'role':_0x2977d2,'profile':_0xd10ebe,'alldata':_0x50a49d,'master_shop':_0x841d40,'language':_0x4a51ba});}catch(_0x205054){console[_0x1716b2(0x1d9)](_0x205054);}}),router[a0_0x37698b(0x209)](a0_0x37698b(0x181),auth,async(_0x28b082,_0x2e41cd)=>{const _0x38412b=a0_0x37698b;try{const _0x212461=new excelJS['Workbook'](),_0x584695=_0x212461[_0x38412b(0x1d4)](_0x38412b(0x215));return _0x584695[_0x38412b(0x1e2)]=[{'header':_0x38412b(0x230),'key':_0x38412b(0x22e),'width':0xa},{'header':_0x38412b(0x21f),'key':_0x38412b(0x210),'width':0xa},{'header':_0x38412b(0x22b),'key':_0x38412b(0x1b2),'width':0xa},{'header':_0x38412b(0x203),'key':_0x38412b(0x204),'width':0xa},{'header':'max_number_per_units','key':_0x38412b(0x189),'width':0xa},{'header':'Primary_Code','key':_0x38412b(0x1b0),'width':0xa},{'header':_0x38412b(0x183),'key':_0x38412b(0x1b0),'width':0xa},{'header':_0x38412b(0x223),'key':'ProductCode','width':0xa},{'header':'Category','key':_0x38412b(0x1db),'width':0xa},{'header':_0x38412b(0x18b),'key':'PAlQty','width':0xa},{'header':'Maximum_Stocks','key':_0x38412b(0x228),'width':0xa},{'header':_0x38412b(0x1a0),'key':_0x38412b(0x1c7),'width':0xa}],_0x2e41cd[_0x38412b(0x1d5)](_0x38412b(0x1bb),'application/vnd.openxmlformats-officedocument.spreadsheatml.sheet'),_0x2e41cd['setHeader'](_0x38412b(0x1fc),_0x38412b(0x1e6)),_0x212461[_0x38412b(0x235)][_0x38412b(0x1ee)](_0x2e41cd)[_0x38412b(0x22f)](()=>{_0x2e41cd['status'](0xc8);});}catch(_0x390b1f){_0x2e41cd[_0x38412b(0x232)](0x190)[_0x38412b(0x1b1)](_0x390b1f);}});function a0_0x26fa(){const _0x579ad4=['\x20categories\x20is\x20add\x20successfully','migrate_product_fule','Units','min','Arabic','PName','then','Product_Name','canvas','status','hello','public/Migration/','xlsx','product\x20add\x20successfully','findByIdAndUpdate','categories_edit','/view/:id','/view/add_products','aggregate','product_barcode_products','$_id','/products_export_migrate_file','German','Secondary_Code','Maximum_Stocks','SheetNames','add_product','744234qHnExw','product_stock','MaxperUnits','$product_details','Alert_QTY','max_number_per_units','_id','base64','end','findOne','90PgwDAj','language','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Finished\x20Goods','file','stock','\x20brand\x20is\x20add\x20successfully','Arabic\x20(ae)','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','errors','../middleware/auth','$product_details.product_stock','product\x20update\x20successfully','\x20unit\x20is\x20add\x20successfully','/products/categories','Products_category','primary_code','save','public/Migration','/products/brands','product_code','exceljs','master','/brands/:id','French','exports','map','maxStocks','brand\x20data\x20update\x20successfully','Products\x20master','email','ProductCode','send','PUnits','params','post','bind','pdfkit-table','diskStorage','$product_name','toBuffer','multer','Content-Type','categories\x20data\x20delete\x20successfully','name','$product_stock','redirect','2650011eAcZua','English\x20(US)','products','2957756zgHEWt','product_barcode','secondary_code','now','Prod_Cat','Products\x20find_data','/categories','categ','prod_categ','/print_barcode_single/:id','brands','Primary_Code','/units/:id','sku','/filter_product','/categories/:id','\x20<>\x20','addWorksheet','setHeader','English','findById','alertquantity','log','unit','PCat','flash','$product_category','18834fkbuQH','333547xllpAy','Enabled','find','columns','render','units','brand','attachment;\x20filename=Product_Migration_File.xlsx','/barcode_filter','/categories/delete/:id','/products/units','unit\x20data\x20update\x20successfully','Chinese','height','success','write','findByIdAndDelete','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','categories','defaultProduct.avif','Raw\x20Materials','secondary_unit','$category','/units','Portuguese','readFile','Sheets','14146232wgsslX','../public/language/languages.json','Content-Disposition','single','/products_import_migrate_file','width','$brand','user','Portuguese\x20(BR)','Secondary_Units','PSecondaryUnits','public/upload','toString','body','CODE128','get','Spanish','jsbarcode','data','length','numeric','/print_barcode_filter/','PBrands','Category','unit\x20data\x20delete\x20successfully','/brands','/print_barcode_filter_search/','Products','warehouse','image','concat','product\x20edit','addPage','/print_barcode','Hindi','filename','json','Brands','maxProdPerUnit','category','product_category','Product_Code','1165794bICSFf','message','originalname','push','PAlQty'];a0_0x26fa=function(){return _0x579ad4;};return a0_0x26fa();}function a0_0x14e8(_0x56312d,_0x3599e2){const _0x26fa18=a0_0x26fa();return a0_0x14e8=function(_0x14e801,_0x2452e2){_0x14e801=_0x14e801-0x17b;let _0x53584b=_0x26fa18[_0x14e801];return _0x53584b;},a0_0x14e8(_0x56312d,_0x3599e2);}const storage1=multer[a0_0x37698b(0x1b7)]({'destination':(_0x1bf360,_0x3c42c9,_0x555ba5)=>{const _0x3d4ad6=a0_0x37698b;_0x555ba5(null,_0x3d4ad6(0x1a3));},'filename':(_0x481aec,_0x5e8b19,_0x459f92)=>{const _0x1a21ec=a0_0x37698b;_0x459f92(null,Date[_0x1a21ec(0x1c6)]()+_0x5e8b19[_0x1a21ec(0x226)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x37698b(0x1b4)](a0_0x37698b(0x1fe),auth,uploadMigrate[a0_0x37698b(0x1fd)](a0_0x37698b(0x22a)),async(_0x3f46af,_0x1944de)=>{const _0xaa5431=a0_0x37698b,_0x28c6b7=_0x3f46af[_0xaa5431(0x195)][_0xaa5431(0x21d)],_0x3ef163=await xlsx[_0xaa5431(0x1f8)](_0xaa5431(0x234)+_0x28c6b7);let _0x419540=_0x3ef163[_0xaa5431(0x185)],_0x21ed5c=xlsx['utils']['sheet_to_json'](_0x3ef163[_0xaa5431(0x1f9)][_0x419540[0x0]]);for(const _0x106dac of _0x21ed5c){const _0x10cbb2=_0x106dac[_0xaa5431(0x230)],_0xc9b3b1=_0x106dac[_0xaa5431(0x21f)],_0x3a19bc=_0x106dac[_0xaa5431(0x22b)],_0x101443=_0x106dac[_0xaa5431(0x203)],_0x3687bc=_0x106dac[_0xaa5431(0x223)],_0x3ba70b=_0x106dac[_0xaa5431(0x211)],_0x24cca2=_0x106dac[_0xaa5431(0x18b)],_0x2e65bc=_0x106dac[_0xaa5431(0x1ce)],_0x5af882=_0x106dac[_0xaa5431(0x183)],_0x5c2bd3=_0x106dac[_0xaa5431(0x184)],_0x5edc94=_0x106dac[_0xaa5431(0x18c)],_0x56e1e9=_0x106dac['Products_category'];try{let _0x115ffd=await categories[_0xaa5431(0x190)]({'name':_0x3ba70b});if(!_0x115ffd){const _0x20794c=new categories({'name':_0x3ba70b,'products':'0'});_0x115ffd=await _0x20794c['save']();}let _0x3d0559=await brands[_0xaa5431(0x190)]({'name':_0xc9b3b1});if(!_0x3d0559){const _0x53c44f=new brands({'name':_0xc9b3b1,'products':'0'});_0x3d0559=await _0x53c44f[_0xaa5431(0x1a2)]();}let _0x11af4b=await units['findOne']({'name':_0x3a19bc,'secondary_unit':_0x101443});if(!_0x11af4b){const _0x4e72e7=new units({'name':_0x3a19bc,'secondary_unit':_0x101443,'products':'0'});_0x11af4b=await _0x4e72e7[_0xaa5431(0x1a2)]();}const _0x5c3fec=await product[_0xaa5431(0x1e1)]({'name':_0x10cbb2,'category':_0x115ffd['name'],'brand':_0x3d0559[_0xaa5431(0x1bd)],'secondary_unit':_0x11af4b['secondary_unit'],'product_code':_0x3687bc});console[_0xaa5431(0x1d9)](_0x5c3fec[_0xaa5431(0x20d)]+_0xaa5431(0x1d3)+_0x115ffd[_0xaa5431(0x1bd)]+_0xaa5431(0x1d3)+_0x3d0559[_0xaa5431(0x1bd)]+_0xaa5431(0x1d3)+_0x11af4b[_0xaa5431(0x1f4)]+'\x20<>\x20'+_0x3687bc+_0xaa5431(0x1d3)+_0x10cbb2);if(_0x5c3fec[_0xaa5431(0x20d)]===0x0){const _0x2e475e=new product({'image':_0xaa5431(0x1f2),'name':_0x10cbb2,'category':_0x115ffd[_0xaa5431(0x1bd)],'brand':_0x3d0559[_0xaa5431(0x1bd)],'unit':_0x11af4b[_0xaa5431(0x1bd)],'alertquantity':_0x24cca2,'product_code':_0x3687bc,'secondary_unit':_0x11af4b[_0xaa5431(0x1f4)],'primary_code':_0x2e65bc,'secondary_code':_0x5af882,'maxStocks':_0x5c2bd3,'maxProdPerUnit':_0x5edc94,'product_category':_0x56e1e9}),_0x3b0f2a=await _0x2e475e['save']();_0x115ffd[_0xaa5431(0x1c2)]=parseInt(_0x115ffd[_0xaa5431(0x1c2)])+0x1,await _0x115ffd['save'](),_0x3d0559['products']=parseInt(_0x3d0559[_0xaa5431(0x1c2)])+0x1,await _0x3d0559[_0xaa5431(0x1a2)](),_0x11af4b[_0xaa5431(0x1c2)]=parseInt(_0x11af4b[_0xaa5431(0x1c2)])+0x1,await _0x11af4b['save'](),_0x3f46af['flash'](_0xaa5431(0x1ed),_0x10cbb2+'\x20added\x20successfully');}else{console[_0xaa5431(0x1d9)](_0x5c3fec[0x0]);const _0x1daf04=_0x5c3fec[0x0];_0x1daf04[_0xaa5431(0x221)]=_0x115ffd['name'],_0x1daf04[_0xaa5431(0x1e5)]=_0x3d0559[_0xaa5431(0x1bd)],_0x1daf04[_0xaa5431(0x1da)]=_0x11af4b['name'],_0x1daf04['alertquantity']=_0x24cca2,_0x1daf04['product_code']=_0x3687bc,_0x1daf04[_0xaa5431(0x1f4)]=_0x11af4b[_0xaa5431(0x1f4)],_0x1daf04[_0xaa5431(0x1a1)]=_0x2e65bc,_0x1daf04[_0xaa5431(0x1c5)]=_0x5af882,_0x1daf04['maxStocks']=_0x5c2bd3,_0x1daf04[_0xaa5431(0x220)]=_0x5edc94,_0x1daf04[_0xaa5431(0x222)]=_0x56e1e9;const _0x593b01=await _0x1daf04['save']();_0x3f46af[_0xaa5431(0x1dc)](_0xaa5431(0x1ed),_0x593b01['name']+'\x20Edit\x20Successfully');}}catch(_0x16d717){_0x1944de['status'](0x1f4)[_0xaa5431(0x21e)]({'proderror':_0x16d717[_0xaa5431(0x225)],'aproduct':_0x10cbb2});}}_0x1944de[_0xaa5431(0x1bf)]('/products/view');}),router['post']('/select_data',auth,async(_0x51d604,_0x140625)=>{const _0x1b8165=a0_0x37698b;try{console[_0x1b8165(0x1d9)](_0x51d604[_0x1b8165(0x207)]);const {data_cateory:_0x12d42d,datachoose:_0x3b9761}=_0x51d604[_0x1b8165(0x207)];var _0x5217d3;if(_0x3b9761==_0x1b8165(0x1cb))_0x5217d3=await product[_0x1b8165(0x17e)]([{'$group':{'_id':_0x1b8165(0x1dd)}}]);else{if(_0x3b9761==_0x1b8165(0x1cd))_0x5217d3=await product[_0x1b8165(0x17e)]([{'$match':{'product_category':_0x12d42d}},{'$group':{'_id':_0x1b8165(0x200)}}]);else _0x3b9761==_0x1b8165(0x1ca)&&(_0x5217d3=await product[_0x1b8165(0x17e)]([{'$match':{'product_category':_0x12d42d}},{'$group':{'_id':_0x1b8165(0x1f5)}}]));}_0x140625[_0x1b8165(0x21e)](_0x5217d3);}catch(_0xabde3d){_0x140625[_0x1b8165(0x21e)]({'message':_0xabde3d['message']});}}),router['post'](a0_0x37698b(0x1d1),auth,async(_0xc758cd,_0x1c9661)=>{const _0x56d50a=a0_0x37698b;try{const {data_choosing:_0x55f253,data_selected:_0x41dca4}=_0xc758cd['body'];var _0x5139f6;if(_0x55f253==_0x56d50a(0x1cb))_0x5139f6=await product[_0x56d50a(0x17e)]([{'$match':{'product_category':_0x41dca4}}]);else{if(_0x55f253==_0x56d50a(0x1cd))_0x5139f6=await product[_0x56d50a(0x17e)]([{'$match':{'brand':_0x41dca4}}]);else _0x55f253==_0x56d50a(0x1ca)&&(_0x5139f6=await product[_0x56d50a(0x17e)]([{'$match':{'category':_0x41dca4}}]));}_0x1c9661[_0x56d50a(0x21e)](_0x5139f6);}catch(_0x1daad9){_0x1c9661['json']({'message':_0x1daad9[_0x56d50a(0x225)]});}}),router[a0_0x37698b(0x209)](a0_0x37698b(0x21b),auth,async(_0x1d10e1,_0x37908d)=>{const _0x2dc885=a0_0x37698b,_0x5e407d=_0x1d10e1[_0x2dc885(0x201)],_0x52b98e=await profile[_0x2dc885(0x190)]({'email':_0x5e407d[_0x2dc885(0x1af)]}),_0x54b7b7=await master_shop[_0x2dc885(0x1e1)](),_0x3e45b7=await product[_0x2dc885(0x1e1)]();if(_0x54b7b7[0x0][_0x2dc885(0x192)]==_0x2dc885(0x1c1))var _0x50effd=users[_0x2dc885(0x1d6)];else{if(_0x54b7b7[0x0][_0x2dc885(0x192)]==_0x2dc885(0x21c))var _0x50effd=users[_0x2dc885(0x21c)];else{if(_0x54b7b7[0x0][_0x2dc885(0x192)]=='German')var _0x50effd=users[_0x2dc885(0x182)];else{if(_0x54b7b7[0x0][_0x2dc885(0x192)]=='Spanish')var _0x50effd=users[_0x2dc885(0x20a)];else{if(_0x54b7b7[0x0]['language']==_0x2dc885(0x1a9))var _0x50effd=users[_0x2dc885(0x1a9)];else{if(_0x54b7b7[0x0][_0x2dc885(0x192)]=='Portuguese\x20(BR)')var _0x50effd=users['Portuguese'];else{if(_0x54b7b7[0x0][_0x2dc885(0x192)]==_0x2dc885(0x1eb))var _0x50effd=users[_0x2dc885(0x1eb)];else{if(_0x54b7b7[0x0][_0x2dc885(0x192)]=='Arabic\x20(ae)')var _0x50effd=users['Arabic'];}}}}}}}_0x37908d[_0x2dc885(0x1e3)](_0x2dc885(0x17f),{'success':_0x1d10e1[_0x2dc885(0x1dc)](_0x2dc885(0x1ed)),'errors':_0x1d10e1['flash']('errors'),'role':_0x5e407d,'profile':_0x52b98e,'products':_0x3e45b7,'master_shop':_0x54b7b7,'language':_0x50effd});}),router['post']('/barcode_data',auth,async(_0x3b67eb,_0x204049)=>{const _0x574428=a0_0x37698b,_0x78306e=await product['find']();_0x204049[_0x574428(0x21e)]({'data':_0x78306e});}),router[a0_0x37698b(0x1b4)](a0_0x37698b(0x1e7),auth,async(_0x5af456,_0x31f42e)=>{const _0x3701a2=a0_0x37698b;try{const {dataProdCat:_0x34d229,dataProdIdentity:_0x1fae02}=_0x5af456['body'];var _0x248879;switch(_0x34d229){case'fg':switch(_0x1fae02){case _0x3701a2(0x21f):_0x248879=await product[_0x3701a2(0x17e)]([{'$match':{'product_category':'Finished\x20Goods'}},{'$group':{'_id':_0x3701a2(0x200)}},{'$project':{'brand':'$_id'}}]);break;case _0x3701a2(0x211):_0x248879=await product[_0x3701a2(0x17e)]([{'$match':{'product_category':_0x3701a2(0x194)}},{'$group':{'_id':'$category'}},{'$project':{'category':'$_id'}}]);break;}break;case'rm':switch(_0x1fae02){case _0x3701a2(0x21f):_0x248879=await product[_0x3701a2(0x17e)]([{'$match':{'product_category':_0x3701a2(0x1f3)}},{'$group':{'_id':_0x3701a2(0x200)}},{'$project':{'brand':_0x3701a2(0x180)}}]);break;case'Category':_0x248879=await product['aggregate']([{'$match':{'product_category':_0x3701a2(0x1f3)}},{'$group':{'_id':_0x3701a2(0x1f5)}},{'$project':{'category':_0x3701a2(0x180)}}]);break;}break;}_0x31f42e[_0x3701a2(0x21e)](_0x248879);}catch(_0xd30c2b){_0x31f42e['json']({'message':_0xd30c2b[_0x3701a2(0x225)]});}}),router['post'](a0_0x37698b(0x20f),auth,async(_0x3c658d,_0x1f1595)=>{const _0x21a55a=a0_0x37698b;try{console['log'](_0x3c658d['body']);const {prod_cat:_0x667587,identity:_0x1f3425,valueData:_0x49782c,typeofbarcode:_0x2f28b9}=_0x3c658d[_0x21a55a(0x207)];let _0x11c956;switch(_0x667587){case'fg':if(_0x1f3425==_0x21a55a(0x21f))_0x11c956=await product['aggregate']([{'$match':{'product_category':_0x21a55a(0x194),'brand':_0x49782c}}]);else _0x1f3425=='Category'&&(_0x11c956=await product[_0x21a55a(0x17e)]([{'$match':{'product_category':_0x21a55a(0x194),'category':_0x49782c}}]));break;case'rm':if(_0x1f3425==_0x21a55a(0x21f))_0x11c956=await product[_0x21a55a(0x17e)]([{'$match':{'product_category':_0x21a55a(0x1f3),'brand':_0x49782c}}]);else _0x1f3425==_0x21a55a(0x211)&&(_0x11c956=await product[_0x21a55a(0x17e)]([{'$match':{'product_category':_0x21a55a(0x1f3),'category':_0x49782c}}]));break;}const _0x5d231c=_0x325415=>_0x325415*0x48,_0x48de33={'width':0x3,'height':0x1},_0x2bd808=new PDFDocument({'margin':_0x5d231c(0.75),'size':[_0x5d231c(_0x48de33['width']),_0x5d231c(_0x48de33[_0x21a55a(0x1ec)])],'bufferPages':!![]}),_0x175c6f=_0x11c956[_0x21a55a(0x20d)];for(let _0x3bfd97=0x0;_0x3bfd97<=_0x175c6f;_0x3bfd97++){if(_0x3bfd97!=_0x175c6f){const _0x1fb421=_0x11c956[_0x3bfd97][_0x21a55a(0x1bd)],_0xd7d579=_0x11c956[_0x3bfd97][_0x21a55a(0x1a1)],_0x205c98=_0x11c956[_0x3bfd97][_0x21a55a(0x1c5)],_0x4f53e3=_0x11c956[_0x3bfd97][_0x21a55a(0x1a5)];var _0x94a26a;switch(_0x2f28b9){case'1':_0x94a26a=_0xd7d579;break;case'2':_0x94a26a=_0x205c98;break;case'3':_0x94a26a=_0x4f53e3;break;}const _0x172c43={'width':0xd2,'height':0x64},_0x1d8917={'width':_0x5d231c(_0x48de33[_0x21a55a(0x1ff)]),'height':_0x5d231c(_0x48de33[_0x21a55a(0x1ec)])},_0x5a46c3=new Canvas();JsBarcode(_0x5a46c3,_0x94a26a,{'format':_0x21a55a(0x208),'height':_0x172c43[_0x21a55a(0x1ec)],'displayValue':!![],'text':_0x94a26a});const _0x59383e=_0x5a46c3['toBuffer'](),_0x1a11e7=_0x1d8917[_0x21a55a(0x1ff)]/_0x172c43[_0x21a55a(0x1ff)],_0x52424a=_0x1d8917[_0x21a55a(0x1ec)]/_0x172c43['height'],_0x47e8dc=Math[_0x21a55a(0x22c)](_0x1a11e7,_0x52424a),_0x556bf7=_0x172c43['width']*_0x47e8dc,_0xa9f1c9=_0x172c43['height']*_0x47e8dc,_0x161104=(_0x1d8917['width']-_0x556bf7)/0x2,_0x460882=(_0x1d8917[_0x21a55a(0x1ec)]-_0xa9f1c9)/0x2;_0x2bd808[_0x21a55a(0x217)](_0x59383e,_0x161104,_0x460882,{'width':_0x556bf7,'height':_0xa9f1c9}),_0x3bfd97!=_0x175c6f&&_0x2bd808['addPage']();}}const _0x129d53=[];_0x2bd808['on']('data',_0x129d53[_0x21a55a(0x227)][_0x21a55a(0x1b5)](_0x129d53)),_0x2bd808['on'](_0x21a55a(0x18f),()=>{const _0x29815d=_0x21a55a,_0xa957c0=Buffer['concat'](_0x129d53),_0xa7ba23=_0xa957c0[_0x29815d(0x206)](_0x29815d(0x18e));_0x1f1595[_0x29815d(0x21e)]({'pdfContent':_0xa7ba23});}),_0x2bd808[_0x21a55a(0x18f)]();}catch(_0xb60f12){_0x1f1595[_0x21a55a(0x21e)]({'message':_0xb60f12[_0x21a55a(0x225)]});}}),router[a0_0x37698b(0x1b4)](a0_0x37698b(0x214),auth,async(_0x54dafa,_0x197657)=>{const _0x47177d=a0_0x37698b;try{console[_0x47177d(0x1d9)](_0x54dafa[_0x47177d(0x207)]);const {prod_cat:_0x3cbdce,identity:_0x508b70,valueData:_0x59e2f5}=_0x54dafa[_0x47177d(0x207)];let _0x54ad04;switch(_0x3cbdce){case'fg':if(_0x508b70==_0x47177d(0x21f))_0x54ad04=await product[_0x47177d(0x17e)]([{'$match':{'product_category':_0x47177d(0x194),'brand':_0x59e2f5}}]);else _0x508b70==_0x47177d(0x211)&&(_0x54ad04=await product[_0x47177d(0x17e)]([{'$match':{'product_category':_0x47177d(0x194),'category':_0x59e2f5}}]));break;case'rm':if(_0x508b70==_0x47177d(0x21f))_0x54ad04=await product[_0x47177d(0x17e)]([{'$match':{'product_category':_0x47177d(0x1f3),'brand':_0x59e2f5}}]);else _0x508b70==_0x47177d(0x211)&&(_0x54ad04=await product[_0x47177d(0x17e)]([{'$match':{'product_category':_0x47177d(0x1f3),'category':_0x59e2f5}}]));break;}_0x197657[_0x47177d(0x21e)]({'data':_0x54ad04});}catch(_0x4bc633){_0x197657['json']({'message':_0x4bc633[_0x47177d(0x225)]});}}),router['post'](a0_0x37698b(0x1cc),auth,async(_0x4121cf,_0x55ddcc)=>{const _0x547d07=a0_0x37698b;try{const _0x55f66e=_0x4121cf[_0x547d07(0x1b3)]['id'],{copies:_0x5c2a3e,typeofbarcode:_0x4d6f3a}=_0x4121cf[_0x547d07(0x207)];var _0x5c46d0=await product['findById'](_0x55f66e);const _0x26b448=_0x378fe4=>_0x378fe4*0x48,_0x291725={'width':0x3,'height':0x1},_0x35d066=new PDFDocument({'margin':_0x26b448(0.75),'size':[_0x26b448(_0x291725[_0x547d07(0x1ff)]),_0x26b448(_0x291725[_0x547d07(0x1ec)])],'bufferPages':!![]}),_0x1f92ef=_0x5c2a3e,_0x2b6a0e=_0x5c46d0[_0x547d07(0x1bd)],_0x159fdd=_0x5c46d0[_0x547d07(0x1a1)],_0x12f73a=_0x5c46d0[_0x547d07(0x1c5)],_0x37f361=_0x5c46d0[_0x547d07(0x1a5)];let _0x43d9bb;switch(_0x4d6f3a){case'1':_0x43d9bb=_0x159fdd;break;case'2':_0x43d9bb=_0x12f73a;break;case'3':_0x43d9bb=_0x37f361;break;}const _0x53e251={'width':0xd2,'height':0x64},_0x3ffbd6={'width':_0x26b448(_0x291725[_0x547d07(0x1ff)]),'height':_0x26b448(_0x291725[_0x547d07(0x1ec)])};for(let _0x3e5364=0x1;_0x3e5364<=_0x1f92ef;_0x3e5364++){const _0x1582e5=new Canvas();JsBarcode(_0x1582e5,_0x43d9bb,{'format':'CODE128','height':_0x53e251[_0x547d07(0x1ec)],'displayValue':!![],'text':_0x43d9bb});const _0x51bda7=_0x1582e5[_0x547d07(0x1b9)](),_0x2fde22=_0x3ffbd6[_0x547d07(0x1ff)]/_0x53e251['width'],_0x19571f=_0x3ffbd6['height']/_0x53e251[_0x547d07(0x1ec)],_0x20d254=Math[_0x547d07(0x22c)](_0x2fde22,_0x19571f),_0x20641d=_0x53e251['width']*_0x20d254,_0x582f0e=_0x53e251[_0x547d07(0x1ec)]*_0x20d254,_0x407f3a=(_0x3ffbd6[_0x547d07(0x1ff)]-_0x20641d)/0x2,_0x2d8e84=(_0x3ffbd6['height']-_0x582f0e)/0x2;_0x35d066[_0x547d07(0x217)](_0x51bda7,_0x407f3a,_0x2d8e84,{'width':_0x20641d,'height':_0x582f0e}),_0x3e5364!=_0x1f92ef&&_0x35d066[_0x547d07(0x21a)]();}const _0x9fdb1c=[];_0x35d066['on'](_0x547d07(0x20c),_0x9fdb1c[_0x547d07(0x227)][_0x547d07(0x1b5)](_0x9fdb1c)),_0x35d066['on']('end',()=>{const _0x76aa13=_0x547d07,_0x5bd956=Buffer[_0x76aa13(0x218)](_0x9fdb1c),_0x52efb7=_0x5bd956[_0x76aa13(0x206)]('base64');_0x55ddcc[_0x76aa13(0x21e)]({'pdfContent':_0x52efb7});}),_0x35d066['end']();}catch(_0xe512ca){_0x55ddcc[_0x547d07(0x21e)]({'message':_0xe512ca[_0x547d07(0x225)]});}}),module[a0_0x37698b(0x1aa)]=router;