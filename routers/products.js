const a0_0xb4edc3=a0_0x572d;(function(_0x10bace,_0x45997d){const _0x3b8067=a0_0x572d,_0x3a8716=_0x10bace();while(!![]){try{const _0x1b28d1=parseInt(_0x3b8067(0x1ec))/0x1*(-parseInt(_0x3b8067(0x1c2))/0x2)+-parseInt(_0x3b8067(0x18b))/0x3*(parseInt(_0x3b8067(0x1f3))/0x4)+-parseInt(_0x3b8067(0x1c6))/0x5+-parseInt(_0x3b8067(0x1d0))/0x6+parseInt(_0x3b8067(0x186))/0x7+-parseInt(_0x3b8067(0x1a9))/0x8+parseInt(_0x3b8067(0x1d3))/0x9;if(_0x1b28d1===_0x45997d)break;else _0x3a8716['push'](_0x3a8716['shift']());}catch(_0x42c464){_0x3a8716['push'](_0x3a8716['shift']());}}}(a0_0x14a9,0x20a61));const express=require(a0_0xb4edc3(0x1e5)),res=require('express/lib/response'),app=express(),router=express[a0_0xb4edc3(0x192)](),multer=require('multer'),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0xb4edc3(0x23b)),auth=require('../middleware/auth'),users=require(a0_0xb4edc3(0x1b6)),excelJS=require('exceljs'),xlsx=require(a0_0xb4edc3(0x1a4)),JsBarcode=require(a0_0xb4edc3(0x19e)),{Canvas}=require('canvas'),PDFDocument=require(a0_0xb4edc3(0x23e));router['get']('/categories',auth,async(_0x4c50d7,_0xf33a70)=>{const _0x11de17=a0_0xb4edc3;try{const {username:_0x356573,email:_0x51638a,role:_0x23510f}=_0x4c50d7['user'],_0x775d7f=_0x4c50d7[_0x11de17(0x1fa)],_0x13496d=await profile[_0x11de17(0x19f)]({'email':_0x775d7f[_0x11de17(0x18e)]}),_0x211c5e=await master_shop[_0x11de17(0x1ea)]();console['log']('master',_0x211c5e);const _0x44bdcd=await categories[_0x11de17(0x1ea)]();if(_0x211c5e[0x0]['language']==_0x11de17(0x1bd))var _0x52468f=users[_0x11de17(0x238)];else{if(_0x211c5e[0x0][_0x11de17(0x194)]==_0x11de17(0x1bc))var _0x52468f=users[_0x11de17(0x1bc)];else{if(_0x211c5e[0x0]['language']=='German')var _0x52468f=users[_0x11de17(0x1cd)];else{if(_0x211c5e[0x0][_0x11de17(0x194)]==_0x11de17(0x1f1))var _0x52468f=users['Spanish'];else{if(_0x211c5e[0x0]['language']==_0x11de17(0x1a1))var _0x52468f=users[_0x11de17(0x1a1)];else{if(_0x211c5e[0x0][_0x11de17(0x194)]==_0x11de17(0x1f5))var _0x52468f=users[_0x11de17(0x1af)];else{if(_0x211c5e[0x0][_0x11de17(0x194)]==_0x11de17(0x1df))var _0x52468f=users[_0x11de17(0x1df)];else{if(_0x211c5e[0x0]['language']==_0x11de17(0x240))var _0x52468f=users[_0x11de17(0x1eb)];}}}}}}}_0xf33a70[_0x11de17(0x1f6)](_0x11de17(0x1c5),{'success':_0x4c50d7[_0x11de17(0x19b)]('success'),'errors':_0x4c50d7['flash'](_0x11de17(0x1ff)),'role':_0x775d7f,'profile':_0x13496d,'user':_0x44bdcd,'master_shop':_0x211c5e,'language':_0x52468f});}catch(_0x4e5f03){console['log'](_0x4e5f03);}}),router[a0_0xb4edc3(0x1ed)]('/categories',auth,async(_0x1e65f4,_0x4b54a3)=>{const _0x470a28=a0_0xb4edc3;try{const {name:_0x2e853c,products:_0x1300c6}=_0x1e65f4[_0x470a28(0x1a8)],_0x45330b=new categories({'name':_0x2e853c,'products':_0x1300c6}),_0x537556=await categories['findOne']({'name':_0x2e853c});_0x537556?_0x1e65f4[_0x470a28(0x19b)]('errors',_0x2e853c+_0x470a28(0x1ce)):_0x1e65f4[_0x470a28(0x19b)](_0x470a28(0x1e3),_0x2e853c+'\x20categories\x20is\x20add\x20successfully');const _0x628c3e=await _0x45330b[_0x470a28(0x21b)]();_0x4b54a3['redirect'](_0x470a28(0x1d7));}catch(_0x4129a1){console[_0x470a28(0x1d2)](_0x4129a1);}}),router[a0_0xb4edc3(0x22f)](a0_0xb4edc3(0x229),auth,async(_0x3e8305,_0x55a333)=>{const _0x4f0772=a0_0xb4edc3;try{const {username:_0x320379,email:_0x3f0db1,role:_0x559a99}=_0x3e8305[_0x4f0772(0x1fa)],_0x19ea37=_0x3e8305[_0x4f0772(0x1fa)],_0x1d8e51=await profile[_0x4f0772(0x19f)]({'email':_0x19ea37[_0x4f0772(0x18e)]}),_0x1c4ced=await master_shop['find']();console[_0x4f0772(0x1d2)]('master',_0x1c4ced);const _0x5a3d6d=_0x3e8305[_0x4f0772(0x1fc)]['id'];console[_0x4f0772(0x1d2)](_0x5a3d6d);const _0x52f418=await categories[_0x4f0772(0x1dd)](_0x5a3d6d);if(_0x1c4ced[0x0][_0x4f0772(0x194)]==_0x4f0772(0x1bd))var _0x284057=users[_0x4f0772(0x238)];else{if(_0x1c4ced[0x0][_0x4f0772(0x194)]==_0x4f0772(0x1bc))var _0x284057=users['Hindi'];else{if(_0x1c4ced[0x0][_0x4f0772(0x194)]==_0x4f0772(0x1cd))var _0x284057=users[_0x4f0772(0x1cd)];else{if(_0x1c4ced[0x0][_0x4f0772(0x194)]==_0x4f0772(0x1f1))var _0x284057=users['Spanish'];else{if(_0x1c4ced[0x0]['language']==_0x4f0772(0x1a1))var _0x284057=users['French'];else{if(_0x1c4ced[0x0]['language']==_0x4f0772(0x1f5))var _0x284057=users[_0x4f0772(0x1af)];else{if(_0x1c4ced[0x0][_0x4f0772(0x194)]==_0x4f0772(0x1df))var _0x284057=users[_0x4f0772(0x1df)];else{if(_0x1c4ced[0x0][_0x4f0772(0x194)]==_0x4f0772(0x240))var _0x284057=users[_0x4f0772(0x1eb)];}}}}}}}_0x55a333[_0x4f0772(0x1f6)]('categories',{'success':_0x3e8305[_0x4f0772(0x19b)]('success'),'errors':_0x3e8305[_0x4f0772(0x19b)](_0x4f0772(0x1ff)),'role':_0x19ea37,'profile':_0x1d8e51,'master_shop':_0x1c4ced,'user':_0x52f418,'language':_0x284057});}catch(_0x51dd01){console['log'](_0x51dd01);}}),router[a0_0xb4edc3(0x1ed)](a0_0xb4edc3(0x229),auth,async(_0x1db826,_0x6bd81f)=>{const _0x431fca=a0_0xb4edc3;try{const _0x3e743f=_0x1db826['params']['id'],_0x42b148=await categories[_0x431fca(0x230)](_0x3e743f,_0x1db826[_0x431fca(0x1a8)]);_0x1db826[_0x431fca(0x19b)]('success',''+users[_0x431fca(0x1e6)]),_0x6bd81f['redirect'](_0x431fca(0x1d7));}catch(_0x1e4963){console[_0x431fca(0x1d2)](_0x1e4963);}}),router[a0_0xb4edc3(0x22f)]('/categories/delete/:id',auth,async(_0x2b0c18,_0x524c7a)=>{const _0x1048d7=a0_0xb4edc3;try{const _0x18d4af=_0x2b0c18[_0x1048d7(0x1fc)]['id'],_0x1eef65=await categories[_0x1048d7(0x23d)](_0x18d4af);_0x2b0c18[_0x1048d7(0x19b)](_0x1048d7(0x1e3),_0x1048d7(0x1b3)),_0x524c7a[_0x1048d7(0x203)]('/products/categories');}catch(_0x18b8bc){console[_0x1048d7(0x1d2)](_0x18b8bc);}}),router['get'](a0_0xb4edc3(0x199),auth,async(_0x22d47b,_0x3f8398)=>{const _0x46f4f7=a0_0xb4edc3;try{const {username:_0x3d52df,email:_0x24085f,role:_0x485566}=_0x22d47b[_0x46f4f7(0x1fa)],_0x447798=_0x22d47b[_0x46f4f7(0x1fa)],_0x4fb3c5=await profile[_0x46f4f7(0x19f)]({'email':_0x447798[_0x46f4f7(0x18e)]}),_0x414cd9=await master_shop['find']();console[_0x46f4f7(0x1d2)]('master',_0x414cd9);const _0x53b44f=await brands['find']();if(_0x414cd9[0x0][_0x46f4f7(0x194)]=='English\x20(US)')var _0x528e15=users[_0x46f4f7(0x238)];else{if(_0x414cd9[0x0][_0x46f4f7(0x194)]==_0x46f4f7(0x1bc))var _0x528e15=users[_0x46f4f7(0x1bc)];else{if(_0x414cd9[0x0][_0x46f4f7(0x194)]=='German')var _0x528e15=users['German'];else{if(_0x414cd9[0x0][_0x46f4f7(0x194)]=='Spanish')var _0x528e15=users[_0x46f4f7(0x1f1)];else{if(_0x414cd9[0x0]['language']==_0x46f4f7(0x1a1))var _0x528e15=users[_0x46f4f7(0x1a1)];else{if(_0x414cd9[0x0][_0x46f4f7(0x194)]==_0x46f4f7(0x1f5))var _0x528e15=users[_0x46f4f7(0x1af)];else{if(_0x414cd9[0x0][_0x46f4f7(0x194)]=='Chinese')var _0x528e15=users['Chinese'];else{if(_0x414cd9[0x0][_0x46f4f7(0x194)]=='Arabic\x20(ae)')var _0x528e15=users[_0x46f4f7(0x1eb)];}}}}}}}_0x3f8398[_0x46f4f7(0x1f6)]('brands',{'success':_0x22d47b['flash'](_0x46f4f7(0x1e3)),'errors':_0x22d47b[_0x46f4f7(0x19b)](_0x46f4f7(0x1ff)),'role':_0x447798,'profile':_0x4fb3c5,'master_shop':_0x414cd9,'user':_0x53b44f,'language':_0x528e15});}catch(_0xa8ec5d){console[_0x46f4f7(0x1d2)](_0xa8ec5d);}}),router[a0_0xb4edc3(0x1ed)](a0_0xb4edc3(0x199),auth,async(_0x5e71b3,_0x42251b)=>{const _0x15aecb=a0_0xb4edc3;try{const {name:_0x7893aa,products:_0x8f9284}=_0x5e71b3[_0x15aecb(0x1a8)],_0x367584=new brands({'name':_0x7893aa,'products':_0x8f9284}),_0x5ea48a=await brands['findOne']({'name':_0x7893aa});_0x5ea48a?_0x5e71b3[_0x15aecb(0x19b)](_0x15aecb(0x1ff),_0x7893aa+_0x15aecb(0x224)):_0x5e71b3[_0x15aecb(0x19b)](_0x15aecb(0x1e3),_0x7893aa+'\x20brand\x20is\x20add\x20successfully');const _0x269800=await _0x367584[_0x15aecb(0x21b)]();_0x42251b[_0x15aecb(0x203)]('/products/brands');}catch(_0x3c708b){console[_0x15aecb(0x1d2)](_0x3c708b);}}),router[a0_0xb4edc3(0x22f)](a0_0xb4edc3(0x211),auth,async(_0x235a34,_0xba6a71)=>{const _0x3d1f2b=a0_0xb4edc3;try{const {username:_0x3f65e8,email:_0x4f8c68,role:_0x11c02c}=_0x235a34['user'],_0x17ecb7=_0x235a34[_0x3d1f2b(0x1fa)],_0x59606f=await profile[_0x3d1f2b(0x19f)]({'email':_0x17ecb7[_0x3d1f2b(0x18e)]}),_0x108a79=await master_shop[_0x3d1f2b(0x1ea)]();console[_0x3d1f2b(0x1d2)]('master',_0x108a79);const _0x754d43=_0x235a34['params']['id'];console['log'](_0x754d43);const _0x49a5f2=await brands[_0x3d1f2b(0x1dd)](_0x754d43);if(_0x108a79[0x0][_0x3d1f2b(0x194)]==_0x3d1f2b(0x1bd))var _0x3eba2b=users[_0x3d1f2b(0x238)];else{if(_0x108a79[0x0][_0x3d1f2b(0x194)]==_0x3d1f2b(0x1bc))var _0x3eba2b=users[_0x3d1f2b(0x1bc)];else{if(_0x108a79[0x0][_0x3d1f2b(0x194)]==_0x3d1f2b(0x1cd))var _0x3eba2b=users[_0x3d1f2b(0x1cd)];else{if(_0x108a79[0x0][_0x3d1f2b(0x194)]==_0x3d1f2b(0x1f1))var _0x3eba2b=users[_0x3d1f2b(0x1f1)];else{if(_0x108a79[0x0][_0x3d1f2b(0x194)]==_0x3d1f2b(0x1a1))var _0x3eba2b=users[_0x3d1f2b(0x1a1)];else{if(_0x108a79[0x0][_0x3d1f2b(0x194)]==_0x3d1f2b(0x1f5))var _0x3eba2b=users['Portuguese'];else{if(_0x108a79[0x0][_0x3d1f2b(0x194)]=='Chinese')var _0x3eba2b=users[_0x3d1f2b(0x1df)];else{if(_0x108a79[0x0][_0x3d1f2b(0x194)]==_0x3d1f2b(0x240))var _0x3eba2b=users[_0x3d1f2b(0x1eb)];}}}}}}}_0xba6a71[_0x3d1f2b(0x1f6)](_0x3d1f2b(0x227),{'success':_0x235a34[_0x3d1f2b(0x19b)](_0x3d1f2b(0x1e3)),'errors':_0x235a34[_0x3d1f2b(0x19b)]('errors'),'role':_0x17ecb7,'profile':_0x59606f,'master_shop':_0x108a79,'user':_0x49a5f2,'language':_0x3eba2b});}catch(_0x424f33){console['log'](_0x424f33);}}),router[a0_0xb4edc3(0x1ed)](a0_0xb4edc3(0x211),auth,async(_0x189643,_0x3d6381)=>{const _0x105b40=a0_0xb4edc3;try{const _0x1ff689=_0x189643['params']['id'],_0x143c01=await brands[_0x105b40(0x230)](_0x1ff689,_0x189643[_0x105b40(0x1a8)]);_0x189643[_0x105b40(0x19b)]('success',_0x105b40(0x219)),_0x3d6381[_0x105b40(0x203)](_0x105b40(0x1fe));}catch(_0x4dc692){console[_0x105b40(0x1d2)](_0x4dc692);}}),router['get']('/brands/delete/:id',auth,async(_0x22b065,_0x548b3e)=>{const _0x1775e6=a0_0xb4edc3;try{const _0x872c62=_0x22b065['params']['id'],_0x58d1f6=await brands[_0x1775e6(0x23d)](_0x872c62);_0x22b065['flash'](_0x1775e6(0x1e3),_0x1775e6(0x1d9)),_0x548b3e[_0x1775e6(0x203)](_0x1775e6(0x1fe));}catch(_0xb1603c){console[_0x1775e6(0x1d2)](_0xb1603c);}}),router['get'](a0_0xb4edc3(0x1c1),auth,async(_0x540942,_0x42b1e3)=>{const _0x3853d6=a0_0xb4edc3;try{const {username:_0x2e6dfa,email:_0x412cf8,role:_0x59d567}=_0x540942[_0x3853d6(0x1fa)],_0x24d7bc=_0x540942[_0x3853d6(0x1fa)],_0x5e80d0=await profile[_0x3853d6(0x19f)]({'email':_0x24d7bc['email']}),_0x1f5327=await master_shop['find']();console[_0x3853d6(0x1d2)]('master',_0x1f5327);const _0x57500b=await units[_0x3853d6(0x1ea)]();if(_0x1f5327[0x0]['language']==_0x3853d6(0x1bd))var _0x39e9df=users[_0x3853d6(0x238)];else{if(_0x1f5327[0x0][_0x3853d6(0x194)]==_0x3853d6(0x1bc))var _0x39e9df=users[_0x3853d6(0x1bc)];else{if(_0x1f5327[0x0]['language']==_0x3853d6(0x1cd))var _0x39e9df=users[_0x3853d6(0x1cd)];else{if(_0x1f5327[0x0][_0x3853d6(0x194)]==_0x3853d6(0x1f1))var _0x39e9df=users[_0x3853d6(0x1f1)];else{if(_0x1f5327[0x0][_0x3853d6(0x194)]==_0x3853d6(0x1a1))var _0x39e9df=users[_0x3853d6(0x1a1)];else{if(_0x1f5327[0x0][_0x3853d6(0x194)]=='Portuguese\x20(BR)')var _0x39e9df=users['Portuguese'];else{if(_0x1f5327[0x0][_0x3853d6(0x194)]==_0x3853d6(0x1df))var _0x39e9df=users[_0x3853d6(0x1df)];else{if(_0x1f5327[0x0][_0x3853d6(0x194)]==_0x3853d6(0x240))var _0x39e9df=users['Arabic'];}}}}}}}_0x42b1e3['render'](_0x3853d6(0x218),{'success':_0x540942[_0x3853d6(0x19b)](_0x3853d6(0x1e3)),'errors':_0x540942[_0x3853d6(0x19b)](_0x3853d6(0x1ff)),'role':_0x24d7bc,'profile':_0x5e80d0,'master_shop':_0x1f5327,'user':_0x57500b,'language':_0x39e9df});}catch(_0x1a2be5){console['log'](_0x1a2be5);}}),router[a0_0xb4edc3(0x1ed)](a0_0xb4edc3(0x1c1),auth,async(_0x507215,_0x524acd)=>{const _0x52e11a=a0_0xb4edc3;try{const {name:_0x1f71dc,secondary_unit:_0x1adb06,products:_0x1b08bb}=_0x507215[_0x52e11a(0x1a8)],_0x295563=new units({'name':_0x1f71dc,'secondary_unit':_0x1adb06,'products':_0x1b08bb}),_0x4ac022=await units['findOne']({'name':_0x1f71dc});_0x4ac022?_0x507215[_0x52e11a(0x19b)]('errors',_0x1f71dc+_0x52e11a(0x23c)):_0x507215[_0x52e11a(0x19b)](_0x52e11a(0x1e3),_0x1f71dc+_0x52e11a(0x239));const _0x415d4d=await _0x295563[_0x52e11a(0x21b)]();_0x524acd[_0x52e11a(0x203)](_0x52e11a(0x232));}catch(_0x2ad83b){console[_0x52e11a(0x1d2)](_0x2ad83b);}}),router[a0_0xb4edc3(0x22f)]('/units/:id',auth,async(_0x5b97cd,_0xf3e20b)=>{const _0xa2345a=a0_0xb4edc3;try{const {username:_0x28b8e3,email:_0x63e57a,role:_0x2a138c}=_0x5b97cd['user'],_0x1c7e95=_0x5b97cd['user'],_0x12769f=await profile[_0xa2345a(0x19f)]({'email':_0x1c7e95[_0xa2345a(0x18e)]}),_0x1bd572=await master_shop['find']();console[_0xa2345a(0x1d2)](_0xa2345a(0x1fb),_0x1bd572);const _0x992a7d=_0x5b97cd[_0xa2345a(0x1fc)]['id'],_0x7e2ae3=await units[_0xa2345a(0x1dd)](_0x992a7d);if(_0x1bd572[0x0][_0xa2345a(0x194)]==_0xa2345a(0x1bd))var _0x41a132=users[_0xa2345a(0x238)];else{if(_0x1bd572[0x0]['language']==_0xa2345a(0x1bc))var _0x41a132=users[_0xa2345a(0x1bc)];else{if(_0x1bd572[0x0][_0xa2345a(0x194)]==_0xa2345a(0x1cd))var _0x41a132=users[_0xa2345a(0x1cd)];else{if(_0x1bd572[0x0][_0xa2345a(0x194)]=='Spanish')var _0x41a132=users[_0xa2345a(0x1f1)];else{if(_0x1bd572[0x0][_0xa2345a(0x194)]=='French')var _0x41a132=users['French'];else{if(_0x1bd572[0x0][_0xa2345a(0x194)]==_0xa2345a(0x1f5))var _0x41a132=users[_0xa2345a(0x1af)];else{if(_0x1bd572[0x0]['language']=='Chinese')var _0x41a132=users['Chinese'];else{if(_0x1bd572[0x0][_0xa2345a(0x194)]==_0xa2345a(0x240))var _0x41a132=users[_0xa2345a(0x1eb)];}}}}}}}_0xf3e20b[_0xa2345a(0x1f6)]('units',{'success':_0x5b97cd['flash'](_0xa2345a(0x1e3)),'errors':_0x5b97cd[_0xa2345a(0x19b)](_0xa2345a(0x1ff)),'role':_0x1c7e95,'profile':_0x12769f,'master_shop':_0x1bd572,'user':_0x7e2ae3,'language':_0x41a132});}catch(_0x432da7){console[_0xa2345a(0x1d2)](_0x432da7);}}),router['post']('/units/:id',auth,async(_0x55b3b9,_0x1b33da)=>{const _0x5c0f91=a0_0xb4edc3;try{const _0xbb0547=_0x55b3b9[_0x5c0f91(0x1fc)]['id'],_0x50b6ba=await units[_0x5c0f91(0x230)](_0xbb0547,_0x55b3b9[_0x5c0f91(0x1a8)]);_0x55b3b9[_0x5c0f91(0x19b)](_0x5c0f91(0x1e3),_0x5c0f91(0x1c7)),_0x1b33da['redirect']('/products/units');}catch(_0x5d1ec2){console[_0x5c0f91(0x1d2)](_0x5d1ec2);}}),router[a0_0xb4edc3(0x22f)](a0_0xb4edc3(0x1b1),auth,async(_0x4c897c,_0x33bc39)=>{const _0x20b540=a0_0xb4edc3;try{const _0x28f360=_0x4c897c[_0x20b540(0x1fc)]['id'],_0x489022=await units['findByIdAndDelete'](_0x28f360);_0x4c897c[_0x20b540(0x19b)](_0x20b540(0x1e3),_0x20b540(0x1c9)),_0x33bc39['redirect'](_0x20b540(0x232));}catch(_0x4f8ef6){console[_0x20b540(0x1d2)](_0x4f8ef6);}});function a0_0x572d(_0xf5b8d0,_0x35caad){const _0x14a9a2=a0_0x14a9();return a0_0x572d=function(_0x572d46,_0x25ec5a){_0x572d46=_0x572d46-0x186;let _0xd5ede8=_0x14a9a2[_0x572d46];return _0xd5ede8;},a0_0x572d(_0xf5b8d0,_0x35caad);}function a0_0x14a9(){const _0xed3cfe=['edit\x20Product\x20master','product_code','/brands','PAlQty','flash','then','data','jsbarcode','findOne','categ','French','alertquantity','unit','xlsx','status','/view/add_products','product_stock','body','2082888bKFwOQ','readFile','\x20added\x20successfully','/products_export_migrate_file','send','CODE128','Portuguese','add_product','/units/delete/:id','Maximum_Stocks','categories\x20data\x20delete\x20successfully','height','write','../public/language/languages.json','concat','Raw\x20Materials','bind','$product_stock','/view','Hindi','English\x20(US)','prod_categ','base64','barcode\x20Product\x20master','/units','267062vPCmlI','/print_barcode_single/:id','/view/:id','categories','315370WfSJXo','unit\x20data\x20update\x20successfully','columns','unit\x20data\x20delete\x20successfully','ProductCode','Alert_QTY','brand','German','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','SheetNames','691944umfuRo','public/Migration','log','8288883QMJPUF','$product_name','maxStocks','product\x20update\x20successfully','/products/categories','Units','brand\x20data\x20delete\x20successfully','Sheets','diskStorage','edit_product','findById','secondary_unit','Chinese','Products\x20master','file','Content-Type','success','Enabled','express','categories_edit','Content-Disposition','PUnits','hello','find','Arabic','1nUyBmr','post','Products\x20find_data','primary_code','_id','Spanish','/products/view','964276WfloYA','width','Portuguese\x20(BR)','render','min','name','product_docs','user','master','params','end','/products/brands','errors','$product_docs','Products_category','toString','redirect','/print_barcode','originalname','$_id','single','json','products','public/Migration/','/filter_product','product_category','Secondary_Code','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','push','max_number_per_units','/brands/:id','now','/print_barcode_filter/','/barcode_data','$product_details.product_name','Category','PName','units','brand\x20data\x20update\x20successfully','aggregate','save','stock','product_details.product_name','PSecondaryUnits','$brand','long','forEach','/products_import_migrate_file','length','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','maxProdPerUnit','/barcode_filter','brands','Products\x20warehouse_data','/categories/:id','$product_category','PBrands','product\x20add\x20successfully','defaultProduct.avif','Brands','get','findByIdAndUpdate','warehouse','/products/units','Secondary_Units','Finished\x20Goods','$secondary_unit','/print_barcode_filter_search/','toBuffer','English','\x20unit\x20is\x20add\x20successfully','addPage','../models/all_models','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','findByIdAndDelete','pdfkit-table','\x20<>\x20','Arabic\x20(ae)','numeric','$category','barcode\x20user_id','sku','182707MPpjwU','secondary_code','MaxperUnits','product_barcode','message','3OjhLFN','Primary_Code','Product_Name','email','image','filename','$product_details','Router','product_barcode_products','language','setHeader','PCat'];a0_0x14a9=function(){return _0xed3cfe;};return a0_0x14a9();}const storage=multer[a0_0xb4edc3(0x1db)]({'destination':(_0x17ea9b,_0x4939e4,_0x4306d3)=>{_0x4306d3(null,'public/upload');},'filename':(_0x158102,_0x4959f9,_0x2ac55c)=>{const _0x591760=a0_0xb4edc3;_0x2ac55c(null,Date['now']()+_0x4959f9[_0x591760(0x205)]);}}),upload=multer({'storage':storage});router[a0_0xb4edc3(0x22f)](a0_0xb4edc3(0x1bb),auth,async(_0x2c9936,_0x8eb1a2)=>{const _0x226df4=a0_0xb4edc3;try{const {username:_0x25b9d8,email:_0x2283ac,role:_0x121edd}=_0x2c9936[_0x226df4(0x1fa)],_0x40236e=_0x2c9936[_0x226df4(0x1fa)],_0x49f1af=await profile[_0x226df4(0x19f)]({'email':_0x40236e[_0x226df4(0x18e)]}),_0x51d8a2={'year':'numeric','month':_0x226df4(0x220),'day':_0x226df4(0x241)},_0x9c261f=await master_shop['find']();console[_0x226df4(0x1d2)](_0x226df4(0x1e0),_0x9c261f);const _0xb3326b=await product[_0x226df4(0x1ea)]();console[_0x226df4(0x1d2)](_0x226df4(0x1ee),_0xb3326b);const _0x2eb6e9=await warehouse[_0x226df4(0x21a)]([{'$unwind':_0x226df4(0x191)},{'$lookup':{'from':_0x226df4(0x209),'localField':_0x226df4(0x21d),'foreignField':_0x226df4(0x1f8),'as':_0x226df4(0x1f9)}},{'$unwind':_0x226df4(0x200)},{'$project':{'product_name':_0x226df4(0x215),'product_stock':'$product_details.product_stock'}},{'$group':{'_id':_0x226df4(0x1d4),'product_stock':{'$sum':_0x226df4(0x1ba)}}}]);console[_0x226df4(0x1d2)](_0x226df4(0x228),_0x2eb6e9),_0x2eb6e9[_0x226df4(0x221)](_0x24951f=>{const _0x840d5d=_0xb3326b['map'](_0x2132b0=>{const _0x530916=a0_0x572d;_0x2132b0['name']==_0x24951f[_0x530916(0x1f0)]&&(_0x2132b0[_0x530916(0x21c)]=parseInt(_0x2132b0[_0x530916(0x21c)])+parseInt(_0x24951f[_0x530916(0x1a7)]));});}),console['log'](_0x226df4(0x1ee),_0xb3326b);if(_0x9c261f[0x0][_0x226df4(0x194)]==_0x226df4(0x1bd))var _0x3eddf0=users['English'];else{if(_0x9c261f[0x0][_0x226df4(0x194)]=='Hindi')var _0x3eddf0=users[_0x226df4(0x1bc)];else{if(_0x9c261f[0x0]['language']==_0x226df4(0x1cd))var _0x3eddf0=users[_0x226df4(0x1cd)];else{if(_0x9c261f[0x0][_0x226df4(0x194)]==_0x226df4(0x1f1))var _0x3eddf0=users['Spanish'];else{if(_0x9c261f[0x0][_0x226df4(0x194)]==_0x226df4(0x1a1))var _0x3eddf0=users[_0x226df4(0x1a1)];else{if(_0x9c261f[0x0][_0x226df4(0x194)]=='Portuguese\x20(BR)')var _0x3eddf0=users[_0x226df4(0x1af)];else{if(_0x9c261f[0x0][_0x226df4(0x194)]==_0x226df4(0x1df))var _0x3eddf0=users[_0x226df4(0x1df)];else{if(_0x9c261f[0x0][_0x226df4(0x194)]==_0x226df4(0x240))var _0x3eddf0=users['Arabic'];}}}}}}}_0x8eb1a2['render'](_0x226df4(0x209),{'success':_0x2c9936[_0x226df4(0x19b)](_0x226df4(0x1e3)),'errors':_0x2c9936[_0x226df4(0x19b)](_0x226df4(0x1ff)),'alldata':_0xb3326b,'profile':_0x49f1af,'master_shop':_0x9c261f,'role':_0x40236e,'product_stock':_0x2eb6e9,'language':_0x3eddf0});}catch(_0x4ca672){console[_0x226df4(0x1d2)](_0x4ca672);}}),router[a0_0xb4edc3(0x22f)]('/view/add_products',auth,async(_0x595171,_0x583372)=>{const _0x56d46d=a0_0xb4edc3;try{const {username:_0x24ec56,email:_0x542277,role:_0x3bd506}=_0x595171[_0x56d46d(0x1fa)],_0x225e8f=_0x595171[_0x56d46d(0x1fa)],_0x562bf3=await profile[_0x56d46d(0x19f)]({'email':_0x225e8f[_0x56d46d(0x18e)]}),_0xc37d2e=await master_shop[_0x56d46d(0x1ea)]();console['log'](_0x56d46d(0x1fb),_0xc37d2e);const _0x1d8f36=await categories[_0x56d46d(0x1ea)]({}),_0x2b42ba=await brands[_0x56d46d(0x1ea)]({}),_0x1d2751=await units[_0x56d46d(0x1ea)]({}),_0x5f49a4=await warehouse[_0x56d46d(0x1ea)]({'status':_0x56d46d(0x1e4)});if(_0xc37d2e[0x0][_0x56d46d(0x194)]==_0x56d46d(0x1bd))var _0x57b18d=users[_0x56d46d(0x238)];else{if(_0xc37d2e[0x0][_0x56d46d(0x194)]==_0x56d46d(0x1bc))var _0x57b18d=users[_0x56d46d(0x1bc)];else{if(_0xc37d2e[0x0]['language']==_0x56d46d(0x1cd))var _0x57b18d=users['German'];else{if(_0xc37d2e[0x0]['language']=='Spanish')var _0x57b18d=users[_0x56d46d(0x1f1)];else{if(_0xc37d2e[0x0]['language']==_0x56d46d(0x1a1))var _0x57b18d=users[_0x56d46d(0x1a1)];else{if(_0xc37d2e[0x0][_0x56d46d(0x194)]==_0x56d46d(0x1f5))var _0x57b18d=users['Portuguese'];else{if(_0xc37d2e[0x0][_0x56d46d(0x194)]==_0x56d46d(0x1df))var _0x57b18d=users[_0x56d46d(0x1df)];else{if(_0xc37d2e[0x0][_0x56d46d(0x194)]==_0x56d46d(0x240))var _0x57b18d=users[_0x56d46d(0x1eb)];}}}}}}}_0x583372['render'](_0x56d46d(0x1b0),{'success':_0x595171[_0x56d46d(0x19b)](_0x56d46d(0x1e3)),'errors':_0x595171[_0x56d46d(0x19b)](_0x56d46d(0x1ff)),'role':_0x225e8f,'profile':_0x562bf3,'categories':_0x1d8f36,'brands':_0x2b42ba,'master_shop':_0xc37d2e,'units':_0x1d2751,'language':_0x57b18d,'find_data':_0x5f49a4});}catch(_0x40cd95){console[_0x56d46d(0x1d2)](_0x40cd95);}}),router['post'](a0_0xb4edc3(0x1a6),auth,upload['single']('image'),async(_0x5ea650,_0x1b060a)=>{const _0x56783f=a0_0xb4edc3;try{const {name:_0x3fbee9,category:_0x358e41,brand:_0x4c0146,unit:_0x7ff62e,alertquantity:_0x1152a2,stock:_0x29875c,product_code:_0xc00cc3,warehouse:_0x25e8b6,primary_ItemCode:_0xf3f40,second_ItemCode:_0x44a8c4,second_unit:_0x540e96,maxPerUnit:_0x2b1dc6,MaxPerProduct:_0x22e8e5}=_0x5ea650[_0x56783f(0x1a8)],_0x4cf3f0=_0x5ea650[_0x56783f(0x1e1)]?.['filename']||_0x56783f(0x22d),_0x4ccd7e=new product({'image':_0x4cf3f0,'name':_0x3fbee9,'category':_0x358e41,'brand':_0x4c0146,'unit':_0x7ff62e,'alertquantity':_0x1152a2,'stock':_0x29875c,'product_code':_0xc00cc3,'warehouse':_0x25e8b6,'primary_code':_0xf3f40,'secondary_code':_0x44a8c4,'second_unit':_0x540e96,'maxStocks':_0x22e8e5,'maxProdPerUnit':_0x2b1dc6}),_0x4a6a69=await _0x4ccd7e[_0x56783f(0x21b)](),_0x3400d6=await categories['findOne']({'name':_0x358e41});_0x3400d6[_0x56783f(0x209)]=parseInt(_0x3400d6[_0x56783f(0x209)])+0x1,await _0x3400d6[_0x56783f(0x21b)]();const _0x3c19b6=await brands[_0x56783f(0x19f)]({'name':_0x4c0146});_0x3c19b6['products']=parseInt(_0x3c19b6[_0x56783f(0x209)])+0x1,await _0x3c19b6[_0x56783f(0x21b)]();const _0x5d7dd0=await units[_0x56783f(0x19f)]({'name':_0x7ff62e});_0x5d7dd0[_0x56783f(0x209)]=parseInt(_0x5d7dd0[_0x56783f(0x209)])+0x1,await _0x5d7dd0['save'](),_0x5ea650[_0x56783f(0x19b)](_0x56783f(0x1e3),_0x56783f(0x22c)),_0x1b060a[_0x56783f(0x203)](_0x56783f(0x1f2));}catch(_0x5a63b1){console[_0x56783f(0x1d2)](_0x5a63b1);}}),router[a0_0xb4edc3(0x22f)](a0_0xb4edc3(0x1c4),auth,async(_0x2faf56,_0x4b5800)=>{const _0x2a36ae=a0_0xb4edc3;try{const {username:_0x578a0e,email:_0x11efc3,role:_0x3e2950}=_0x2faf56['user'],_0x2f01e6=_0x2faf56['user'],_0x66da45=await profile[_0x2a36ae(0x19f)]({'email':_0x2f01e6[_0x2a36ae(0x18e)]}),_0x68ceda=await master_shop[_0x2a36ae(0x1ea)]();console['log'](_0x2a36ae(0x197),_0x68ceda);const _0x3bb4ca=_0x2faf56[_0x2a36ae(0x1fc)]['id'],_0x2b3541=await product[_0x2a36ae(0x1dd)](_0x3bb4ca),_0x453c85=await categories[_0x2a36ae(0x1ea)]({}),_0x2f6798=await brands[_0x2a36ae(0x1ea)]({}),_0x44932e=await units[_0x2a36ae(0x1ea)]({}),_0xdaed2d=await warehouse[_0x2a36ae(0x1ea)]({'status':'Enabled'}),_0x4e198=await units[_0x2a36ae(0x21a)]([{'$group':{'_id':_0x2a36ae(0x206),'secondaryunit':{'$first':_0x2a36ae(0x235)}}}]);if(_0x68ceda[0x0][_0x2a36ae(0x194)]==_0x2a36ae(0x1bd))var _0x145930=users[_0x2a36ae(0x238)];else{if(_0x68ceda[0x0][_0x2a36ae(0x194)]==_0x2a36ae(0x1bc))var _0x145930=users['Hindi'];else{if(_0x68ceda[0x0]['language']==_0x2a36ae(0x1cd))var _0x145930=users[_0x2a36ae(0x1cd)];else{if(_0x68ceda[0x0][_0x2a36ae(0x194)]==_0x2a36ae(0x1f1))var _0x145930=users['Spanish'];else{if(_0x68ceda[0x0][_0x2a36ae(0x194)]==_0x2a36ae(0x1a1))var _0x145930=users[_0x2a36ae(0x1a1)];else{if(_0x68ceda[0x0][_0x2a36ae(0x194)]=='Portuguese\x20(BR)')var _0x145930=users['Portuguese'];else{if(_0x68ceda[0x0][_0x2a36ae(0x194)]==_0x2a36ae(0x1df))var _0x145930=users[_0x2a36ae(0x1df)];else{if(_0x68ceda[0x0][_0x2a36ae(0x194)]=='Arabic\x20(ae)')var _0x145930=users[_0x2a36ae(0x1eb)];}}}}}}}_0x4b5800[_0x2a36ae(0x1f6)](_0x2a36ae(0x1dc),{'success':_0x2faf56[_0x2a36ae(0x19b)]('success'),'errors':_0x2faf56[_0x2a36ae(0x19b)]('errors'),'role':_0x2f01e6,'profile':_0x66da45,'alldata':_0x2b3541,'categories':_0x453c85,'brands':_0x2f6798,'master_shop':_0x68ceda,'units':_0x44932e,'secondunit':_0x4e198,'find_data':_0xdaed2d,'language':_0x145930});}catch(_0x4d60f8){console[_0x2a36ae(0x1d2)](_0x4d60f8);}}),router[a0_0xb4edc3(0x1ed)](a0_0xb4edc3(0x1c4),auth,upload[a0_0xb4edc3(0x207)]('image'),async(_0x4bfc1d,_0x554664)=>{const _0x3027c9=a0_0xb4edc3;try{console[_0x3027c9(0x1d2)](_0x3027c9(0x1e9));const _0x3831f3=_0x4bfc1d['params']['id'],_0x4e303e=await product[_0x3027c9(0x1dd)](_0x3831f3),{image:_0x23f97e,name:_0x1f2d8f,category:_0x527236,brand:_0xa54d77,sku:_0xa185c8,unit:_0x1dcdad,alertquantity:_0x2b2985,product_code:_0x753946,warehouse:_0x3772e6,primary_ItemCode:_0x56b8bb,second_ItemCode:_0x40f985,second_unit:_0x1039b4,maxPerUnit:_0xc2b607,MaxPerProduct:_0x3b78bc,prod_catdata:_0x2384cb}=_0x4bfc1d[_0x3027c9(0x1a8)];_0x4bfc1d[_0x3027c9(0x1e1)]&&(_0x4e303e[_0x3027c9(0x18f)]=_0x4bfc1d[_0x3027c9(0x1e1)]['filename']);_0x4e303e[_0x3027c9(0x1f8)]=_0x1f2d8f,_0x4e303e['category']=_0x527236,_0x4e303e[_0x3027c9(0x1cc)]=_0xa54d77,_0x4e303e[_0x3027c9(0x244)]=_0xa185c8,_0x4e303e[_0x3027c9(0x1a3)]=_0x1dcdad,_0x4e303e[_0x3027c9(0x1a2)]=_0x2b2985,_0x4e303e[_0x3027c9(0x198)]=_0x753946,_0x4e303e[_0x3027c9(0x231)]=_0x3772e6,_0x4e303e[_0x3027c9(0x1ef)]=_0x56b8bb,_0x4e303e[_0x3027c9(0x187)]=_0x40f985,_0x4e303e[_0x3027c9(0x1de)]=_0x1039b4,_0x4e303e[_0x3027c9(0x1d5)]=_0x3b78bc,_0x4e303e[_0x3027c9(0x225)]=_0xc2b607,_0x4e303e[_0x3027c9(0x20c)]=_0x2384cb;const _0x365d74=await _0x4e303e['save']();console[_0x3027c9(0x1d2)]('product\x20edit',_0x4e303e),_0x4bfc1d[_0x3027c9(0x19b)](_0x3027c9(0x1e3),_0x3027c9(0x1d6)),_0x554664[_0x3027c9(0x203)](_0x3027c9(0x1f2));}catch(_0x14b8a4){console[_0x3027c9(0x1d2)](_0x14b8a4);}}),router[a0_0xb4edc3(0x22f)]('/barcode/:id',auth,async(_0x5e0f40,_0x5a2297)=>{const _0x368204=a0_0xb4edc3;try{const {username:_0x755b28,email:_0x51185a,role:_0x5ead21}=_0x5e0f40['user'],_0x28fd5b=_0x5e0f40[_0x368204(0x1fa)],_0x439945=await profile['findOne']({'email':_0x28fd5b[_0x368204(0x18e)]}),_0x1b7018=await master_shop[_0x368204(0x1ea)]();console[_0x368204(0x1d2)](_0x368204(0x1c0),_0x1b7018);const _0x39e7b7=_0x5e0f40[_0x368204(0x1fc)]['id'],_0x2e0e56=await product[_0x368204(0x1dd)](_0x39e7b7);console[_0x368204(0x1d2)](_0x368204(0x243),_0x2e0e56);if(_0x1b7018[0x0][_0x368204(0x194)]==_0x368204(0x1bd))var _0x2f020d=users[_0x368204(0x238)];else{if(_0x1b7018[0x0][_0x368204(0x194)]==_0x368204(0x1bc))var _0x2f020d=users['Hindi'];else{if(_0x1b7018[0x0][_0x368204(0x194)]=='German')var _0x2f020d=users[_0x368204(0x1cd)];else{if(_0x1b7018[0x0][_0x368204(0x194)]==_0x368204(0x1f1))var _0x2f020d=users[_0x368204(0x1f1)];else{if(_0x1b7018[0x0][_0x368204(0x194)]==_0x368204(0x1a1))var _0x2f020d=users[_0x368204(0x1a1)];else{if(_0x1b7018[0x0]['language']==_0x368204(0x1f5))var _0x2f020d=users[_0x368204(0x1af)];else{if(_0x1b7018[0x0][_0x368204(0x194)]==_0x368204(0x1df))var _0x2f020d=users['Chinese'];else{if(_0x1b7018[0x0]['language']==_0x368204(0x240))var _0x2f020d=users[_0x368204(0x1eb)];}}}}}}}_0x5a2297[_0x368204(0x1f6)](_0x368204(0x189),{'success':_0x5e0f40[_0x368204(0x19b)](_0x368204(0x1e3)),'errors':_0x5e0f40['flash'](_0x368204(0x1ff)),'role':_0x28fd5b,'profile':_0x439945,'alldata':_0x2e0e56,'master_shop':_0x1b7018,'language':_0x2f020d});}catch(_0x4f3ff4){console['log'](_0x4f3ff4);}}),router[a0_0xb4edc3(0x22f)](a0_0xb4edc3(0x1ac),auth,async(_0x100c55,_0x5206dc)=>{const _0xa2b3b5=a0_0xb4edc3;try{const _0x1e5809=new excelJS['Workbook'](),_0x59b8d0=_0x1e5809['addWorksheet']('Products');return _0x59b8d0[_0xa2b3b5(0x1c8)]=[{'header':_0xa2b3b5(0x18d),'key':_0xa2b3b5(0x217),'width':0xa},{'header':_0xa2b3b5(0x22e),'key':_0xa2b3b5(0x22b),'width':0xa},{'header':_0xa2b3b5(0x1d8),'key':_0xa2b3b5(0x1e8),'width':0xa},{'header':_0xa2b3b5(0x233),'key':_0xa2b3b5(0x21e),'width':0xa},{'header':_0xa2b3b5(0x210),'key':_0xa2b3b5(0x188),'width':0xa},{'header':_0xa2b3b5(0x18c),'key':_0xa2b3b5(0x1ca),'width':0xa},{'header':'Secondary_Code','key':_0xa2b3b5(0x1ca),'width':0xa},{'header':'Product_Code','key':_0xa2b3b5(0x1ca),'width':0xa},{'header':_0xa2b3b5(0x216),'key':_0xa2b3b5(0x196),'width':0xa},{'header':_0xa2b3b5(0x1cb),'key':_0xa2b3b5(0x19a),'width':0xa},{'header':'Maximum_Stocks','key':'PAlQty','width':0xa},{'header':_0xa2b3b5(0x201),'key':'Prod_Cat','width':0xa}],_0x5206dc[_0xa2b3b5(0x195)](_0xa2b3b5(0x1e2),_0xa2b3b5(0x20e)),_0x5206dc[_0xa2b3b5(0x195)](_0xa2b3b5(0x1e7),'attachment;\x20filename=Product_Migration_File.xlsx'),_0x1e5809[_0xa2b3b5(0x1a4)][_0xa2b3b5(0x1b5)](_0x5206dc)[_0xa2b3b5(0x19c)](()=>{const _0x3bf79a=_0xa2b3b5;_0x5206dc[_0x3bf79a(0x1a5)](0xc8);});}catch(_0x364aa9){_0x5206dc[_0xa2b3b5(0x1a5)](0x190)[_0xa2b3b5(0x1ad)](_0x364aa9);}});const storage1=multer[a0_0xb4edc3(0x1db)]({'destination':(_0x1b9137,_0x1245a5,_0x4c3a93)=>{const _0xc65fed=a0_0xb4edc3;_0x4c3a93(null,_0xc65fed(0x1d1));},'filename':(_0x3052a0,_0x42b291,_0x272981)=>{const _0x365321=a0_0xb4edc3;_0x272981(null,Date[_0x365321(0x212)]()+_0x42b291[_0x365321(0x205)]);}}),uploadMigrate=multer({'storage':storage1});router['post'](a0_0xb4edc3(0x222),auth,uploadMigrate['single']('migrate_product_fule'),async(_0x350fe9,_0x4ba4ee)=>{const _0x171929=a0_0xb4edc3,_0x3270ad=_0x350fe9[_0x171929(0x1e1)][_0x171929(0x190)],_0xa9dfbe=await xlsx[_0x171929(0x1aa)](_0x171929(0x20a)+_0x3270ad);let _0x2521ea=_0xa9dfbe[_0x171929(0x1cf)],_0x32e39d=xlsx['utils']['sheet_to_json'](_0xa9dfbe[_0x171929(0x1da)][_0x2521ea[0x0]]);for(const _0x4d2026 of _0x32e39d){const _0x46cc37=_0x4d2026[_0x171929(0x18d)],_0x5c8a19=_0x4d2026[_0x171929(0x22e)],_0x9ea2ad=_0x4d2026[_0x171929(0x1d8)],_0x2346d6=_0x4d2026[_0x171929(0x233)],_0x339d5b=_0x4d2026['Product_Code'],_0x1ad938=_0x4d2026[_0x171929(0x216)],_0x2bf8dd=_0x4d2026[_0x171929(0x1cb)],_0x2bf33f=_0x4d2026['Primary_Code'],_0x44e36c=_0x4d2026[_0x171929(0x20d)],_0x2955b6=_0x4d2026[_0x171929(0x1b2)],_0x2594f3=_0x4d2026[_0x171929(0x210)],_0xb753be=_0x4d2026[_0x171929(0x201)];try{let _0x5cf26a=await categories[_0x171929(0x19f)]({'name':_0x1ad938});if(!_0x5cf26a){const _0x527d4f=new categories({'name':_0x1ad938,'products':'0'});_0x5cf26a=await _0x527d4f[_0x171929(0x21b)]();}let _0x28c556=await brands[_0x171929(0x19f)]({'name':_0x5c8a19});if(!_0x28c556){const _0x849a42=new brands({'name':_0x5c8a19,'products':'0'});_0x28c556=await _0x849a42[_0x171929(0x21b)]();}let _0x2efff1=await units[_0x171929(0x19f)]({'name':_0x9ea2ad,'secondary_unit':_0x2346d6});if(!_0x2efff1){const _0x1ebc15=new units({'name':_0x9ea2ad,'secondary_unit':_0x2346d6,'products':'0'});_0x2efff1=await _0x1ebc15['save']();}const _0x51bba1=await product[_0x171929(0x1ea)]({'name':_0x46cc37,'category':_0x5cf26a[_0x171929(0x1f8)],'brand':_0x28c556[_0x171929(0x1f8)],'secondary_unit':_0x2efff1['secondary_unit'],'product_code':_0x339d5b});console['log'](_0x51bba1[_0x171929(0x223)]+'\x20<>\x20'+_0x5cf26a[_0x171929(0x1f8)]+_0x171929(0x23f)+_0x28c556[_0x171929(0x1f8)]+'\x20<>\x20'+_0x2efff1['secondary_unit']+_0x171929(0x23f)+_0x339d5b+_0x171929(0x23f)+_0x46cc37);if(_0x51bba1[_0x171929(0x223)]===0x0){const _0x4e5f46=new product({'image':'defaultProduct.avif','name':_0x46cc37,'category':_0x5cf26a[_0x171929(0x1f8)],'brand':_0x28c556[_0x171929(0x1f8)],'unit':_0x2efff1['name'],'alertquantity':_0x2bf8dd,'product_code':_0x339d5b,'secondary_unit':_0x2efff1[_0x171929(0x1de)],'primary_code':_0x2bf33f,'secondary_code':_0x44e36c,'maxStocks':_0x2955b6,'maxProdPerUnit':_0x2594f3,'product_category':_0xb753be}),_0x4275fe=await _0x4e5f46[_0x171929(0x21b)]();_0x5cf26a[_0x171929(0x209)]=parseInt(_0x5cf26a['products'])+0x1,await _0x5cf26a['save'](),_0x28c556[_0x171929(0x209)]=parseInt(_0x28c556[_0x171929(0x209)])+0x1,await _0x28c556[_0x171929(0x21b)](),_0x2efff1[_0x171929(0x209)]=parseInt(_0x2efff1[_0x171929(0x209)])+0x1,await _0x2efff1['save'](),_0x350fe9[_0x171929(0x19b)](_0x171929(0x1e3),_0x46cc37+_0x171929(0x1ab));}else{console[_0x171929(0x1d2)](_0x51bba1[0x0]);const _0x33d1d1=_0x51bba1[0x0];_0x33d1d1['category']=_0x5cf26a[_0x171929(0x1f8)],_0x33d1d1[_0x171929(0x1cc)]=_0x28c556[_0x171929(0x1f8)],_0x33d1d1[_0x171929(0x1a3)]=_0x2efff1[_0x171929(0x1f8)],_0x33d1d1[_0x171929(0x1a2)]=_0x2bf8dd,_0x33d1d1[_0x171929(0x198)]=_0x339d5b,_0x33d1d1[_0x171929(0x1de)]=_0x2efff1[_0x171929(0x1de)],_0x33d1d1[_0x171929(0x1ef)]=_0x2bf33f,_0x33d1d1['secondary_code']=_0x44e36c,_0x33d1d1[_0x171929(0x1d5)]=_0x2955b6,_0x33d1d1[_0x171929(0x225)]=_0x2594f3,_0x33d1d1['product_category']=_0xb753be;const _0x4f4c8e=await _0x33d1d1[_0x171929(0x21b)]();_0x350fe9[_0x171929(0x19b)](_0x171929(0x1e3),_0x4f4c8e[_0x171929(0x1f8)]+'\x20Edit\x20Successfully');}}catch(_0x50b61f){_0x4ba4ee[_0x171929(0x1a5)](0x1f4)['json']({'proderror':_0x50b61f['message'],'aproduct':_0x46cc37});}}_0x4ba4ee[_0x171929(0x203)]('/products/view');}),router[a0_0xb4edc3(0x1ed)]('/select_data',auth,async(_0x216e7d,_0x1fc0e8)=>{const _0x19bbf6=a0_0xb4edc3;try{console['log'](_0x216e7d[_0x19bbf6(0x1a8)]);const {data_cateory:_0x156291,datachoose:_0x40d326}=_0x216e7d[_0x19bbf6(0x1a8)];var _0x59efb9;if(_0x40d326==_0x19bbf6(0x1be))_0x59efb9=await product[_0x19bbf6(0x21a)]([{'$group':{'_id':_0x19bbf6(0x22a)}}]);else{if(_0x40d326==_0x19bbf6(0x227))_0x59efb9=await product[_0x19bbf6(0x21a)]([{'$match':{'product_category':_0x156291}},{'$group':{'_id':_0x19bbf6(0x21f)}}]);else _0x40d326==_0x19bbf6(0x1a0)&&(_0x59efb9=await product[_0x19bbf6(0x21a)]([{'$match':{'product_category':_0x156291}},{'$group':{'_id':'$category'}}]));}_0x1fc0e8[_0x19bbf6(0x208)](_0x59efb9);}catch(_0x182d0a){_0x1fc0e8[_0x19bbf6(0x208)]({'message':_0x182d0a[_0x19bbf6(0x18a)]});}}),router['post'](a0_0xb4edc3(0x20b),auth,async(_0x3484bd,_0x1488a4)=>{const _0x19820e=a0_0xb4edc3;try{const {data_choosing:_0x57490d,data_selected:_0x191dcb}=_0x3484bd[_0x19820e(0x1a8)];var _0x1644b4;if(_0x57490d==_0x19820e(0x1be))_0x1644b4=await product['aggregate']([{'$match':{'product_category':_0x191dcb}}]);else{if(_0x57490d==_0x19820e(0x227))_0x1644b4=await product[_0x19820e(0x21a)]([{'$match':{'brand':_0x191dcb}}]);else _0x57490d==_0x19820e(0x1a0)&&(_0x1644b4=await product[_0x19820e(0x21a)]([{'$match':{'category':_0x191dcb}}]));}_0x1488a4[_0x19820e(0x208)](_0x1644b4);}catch(_0x33a311){_0x1488a4[_0x19820e(0x208)]({'message':_0x33a311['message']});}}),router['get'](a0_0xb4edc3(0x204),auth,async(_0x421775,_0x3dd564)=>{const _0x2b48ad=a0_0xb4edc3,_0x19dd8a=_0x421775['user'],_0x44dd25=await profile[_0x2b48ad(0x19f)]({'email':_0x19dd8a[_0x2b48ad(0x18e)]}),_0x5b2f57=await master_shop[_0x2b48ad(0x1ea)](),_0x5cd4ab=await product[_0x2b48ad(0x1ea)]();if(_0x5b2f57[0x0][_0x2b48ad(0x194)]==_0x2b48ad(0x1bd))var _0x2de77b=users[_0x2b48ad(0x238)];else{if(_0x5b2f57[0x0][_0x2b48ad(0x194)]=='Hindi')var _0x2de77b=users[_0x2b48ad(0x1bc)];else{if(_0x5b2f57[0x0][_0x2b48ad(0x194)]=='German')var _0x2de77b=users['German'];else{if(_0x5b2f57[0x0][_0x2b48ad(0x194)]=='Spanish')var _0x2de77b=users[_0x2b48ad(0x1f1)];else{if(_0x5b2f57[0x0][_0x2b48ad(0x194)]==_0x2b48ad(0x1a1))var _0x2de77b=users['French'];else{if(_0x5b2f57[0x0][_0x2b48ad(0x194)]==_0x2b48ad(0x1f5))var _0x2de77b=users[_0x2b48ad(0x1af)];else{if(_0x5b2f57[0x0][_0x2b48ad(0x194)]==_0x2b48ad(0x1df))var _0x2de77b=users['Chinese'];else{if(_0x5b2f57[0x0][_0x2b48ad(0x194)]==_0x2b48ad(0x240))var _0x2de77b=users[_0x2b48ad(0x1eb)];}}}}}}}_0x3dd564['render'](_0x2b48ad(0x193),{'success':_0x421775[_0x2b48ad(0x19b)]('success'),'errors':_0x421775[_0x2b48ad(0x19b)](_0x2b48ad(0x1ff)),'role':_0x19dd8a,'profile':_0x44dd25,'products':_0x5cd4ab,'master_shop':_0x5b2f57,'language':_0x2de77b});}),router[a0_0xb4edc3(0x1ed)](a0_0xb4edc3(0x214),auth,async(_0x1b986d,_0x5bdb47)=>{const _0x2ee8b8=a0_0xb4edc3,_0x33cba5=await product[_0x2ee8b8(0x1ea)]();_0x5bdb47[_0x2ee8b8(0x208)]({'data':_0x33cba5});}),router['post'](a0_0xb4edc3(0x226),auth,async(_0xea5949,_0x21f6d2)=>{const _0x5d81f3=a0_0xb4edc3;try{const {dataProdCat:_0x4106b4,dataProdIdentity:_0x4c06f4}=_0xea5949[_0x5d81f3(0x1a8)];var _0x449285;switch(_0x4106b4){case'fg':switch(_0x4c06f4){case'Brands':_0x449285=await product[_0x5d81f3(0x21a)]([{'$match':{'product_category':_0x5d81f3(0x234)}},{'$group':{'_id':_0x5d81f3(0x21f)}},{'$project':{'brand':'$_id'}}]);break;case _0x5d81f3(0x216):_0x449285=await product[_0x5d81f3(0x21a)]([{'$match':{'product_category':_0x5d81f3(0x234)}},{'$group':{'_id':_0x5d81f3(0x242)}},{'$project':{'category':_0x5d81f3(0x206)}}]);break;}break;case'rm':switch(_0x4c06f4){case'Brands':_0x449285=await product[_0x5d81f3(0x21a)]([{'$match':{'product_category':_0x5d81f3(0x1b8)}},{'$group':{'_id':_0x5d81f3(0x21f)}},{'$project':{'brand':_0x5d81f3(0x206)}}]);break;case _0x5d81f3(0x216):_0x449285=await product['aggregate']([{'$match':{'product_category':_0x5d81f3(0x1b8)}},{'$group':{'_id':_0x5d81f3(0x242)}},{'$project':{'category':_0x5d81f3(0x206)}}]);break;}break;}_0x21f6d2[_0x5d81f3(0x208)](_0x449285);}catch(_0x27be89){_0x21f6d2[_0x5d81f3(0x208)]({'message':_0x27be89[_0x5d81f3(0x18a)]});}}),router[a0_0xb4edc3(0x1ed)](a0_0xb4edc3(0x213),auth,async(_0x26708f,_0x318e08)=>{const _0x367ad0=a0_0xb4edc3;try{console[_0x367ad0(0x1d2)](_0x26708f[_0x367ad0(0x1a8)]);const {prod_cat:_0x1448c1,identity:_0x681aaa,valueData:_0x1d3d80,typeofbarcode:_0x1b92e1}=_0x26708f[_0x367ad0(0x1a8)];let _0x4d740b;switch(_0x1448c1){case'fg':if(_0x681aaa==_0x367ad0(0x22e))_0x4d740b=await product[_0x367ad0(0x21a)]([{'$match':{'product_category':_0x367ad0(0x234),'brand':_0x1d3d80}}]);else _0x681aaa=='Category'&&(_0x4d740b=await product[_0x367ad0(0x21a)]([{'$match':{'product_category':_0x367ad0(0x234),'category':_0x1d3d80}}]));break;case'rm':if(_0x681aaa=='Brands')_0x4d740b=await product['aggregate']([{'$match':{'product_category':'Raw\x20Materials','brand':_0x1d3d80}}]);else _0x681aaa==_0x367ad0(0x216)&&(_0x4d740b=await product[_0x367ad0(0x21a)]([{'$match':{'product_category':'Raw\x20Materials','category':_0x1d3d80}}]));break;}const _0x224135=_0xe69dd7=>_0xe69dd7*0x48,_0x27270a={'width':0x3,'height':0x1},_0x14ddd9=new PDFDocument({'margin':_0x224135(0.75),'size':[_0x224135(_0x27270a[_0x367ad0(0x1f4)]),_0x224135(_0x27270a[_0x367ad0(0x1b4)])],'bufferPages':!![]}),_0x38cd04=_0x4d740b['length'];for(let _0x55d41c=0x0;_0x55d41c<=_0x38cd04;_0x55d41c++){if(_0x55d41c!=_0x38cd04){const _0x1ec7b1=_0x4d740b[_0x55d41c]['name'],_0x485a1f=_0x4d740b[_0x55d41c]['primary_code'],_0x2344e4=_0x4d740b[_0x55d41c]['secondary_code'],_0x19dcf6=_0x4d740b[_0x55d41c]['product_code'];var _0x26ac75;switch(_0x1b92e1){case'1':_0x26ac75=_0x485a1f;break;case'2':_0x26ac75=_0x2344e4;break;case'3':_0x26ac75=_0x19dcf6;break;}const _0x415f60={'width':0xd2,'height':0x64},_0x2d5ad5={'width':_0x224135(_0x27270a['width']),'height':_0x224135(_0x27270a[_0x367ad0(0x1b4)])},_0x1dd189=new Canvas();JsBarcode(_0x1dd189,_0x26ac75,{'format':'CODE128','height':_0x415f60[_0x367ad0(0x1b4)],'displayValue':!![],'text':_0x26ac75});const _0x53177b=_0x1dd189[_0x367ad0(0x237)](),_0x1c49d8=_0x2d5ad5[_0x367ad0(0x1f4)]/_0x415f60['width'],_0x19cd12=_0x2d5ad5[_0x367ad0(0x1b4)]/_0x415f60[_0x367ad0(0x1b4)],_0x5ae2c3=Math[_0x367ad0(0x1f7)](_0x1c49d8,_0x19cd12),_0x36c5d0=_0x415f60['width']*_0x5ae2c3,_0x1f6ad7=_0x415f60['height']*_0x5ae2c3,_0x53ad75=(_0x2d5ad5[_0x367ad0(0x1f4)]-_0x36c5d0)/0x2,_0x352cc1=(_0x2d5ad5[_0x367ad0(0x1b4)]-_0x1f6ad7)/0x2;_0x14ddd9[_0x367ad0(0x18f)](_0x53177b,_0x53ad75,_0x352cc1,{'width':_0x36c5d0,'height':_0x1f6ad7}),_0x55d41c!=_0x38cd04&&_0x14ddd9[_0x367ad0(0x23a)]();}}const _0x57420e=[];_0x14ddd9['on'](_0x367ad0(0x19d),_0x57420e[_0x367ad0(0x20f)][_0x367ad0(0x1b9)](_0x57420e)),_0x14ddd9['on'](_0x367ad0(0x1fd),()=>{const _0x99c0ae=_0x367ad0,_0x4c8df2=Buffer[_0x99c0ae(0x1b7)](_0x57420e),_0xb2fbae=_0x4c8df2[_0x99c0ae(0x202)](_0x99c0ae(0x1bf));_0x318e08[_0x99c0ae(0x208)]({'pdfContent':_0xb2fbae});}),_0x14ddd9[_0x367ad0(0x1fd)]();}catch(_0x10a15b){_0x318e08[_0x367ad0(0x208)]({'message':_0x10a15b[_0x367ad0(0x18a)]});}}),router[a0_0xb4edc3(0x1ed)](a0_0xb4edc3(0x236),auth,async(_0x36a7ef,_0x1d83d6)=>{const _0x4cb065=a0_0xb4edc3;try{console[_0x4cb065(0x1d2)](_0x36a7ef[_0x4cb065(0x1a8)]);const {prod_cat:_0x3fffa0,identity:_0x25dd84,valueData:_0x19d1fc}=_0x36a7ef[_0x4cb065(0x1a8)];let _0x29675d;switch(_0x3fffa0){case'fg':if(_0x25dd84==_0x4cb065(0x22e))_0x29675d=await product[_0x4cb065(0x21a)]([{'$match':{'product_category':_0x4cb065(0x234),'brand':_0x19d1fc}}]);else _0x25dd84==_0x4cb065(0x216)&&(_0x29675d=await product[_0x4cb065(0x21a)]([{'$match':{'product_category':'Finished\x20Goods','category':_0x19d1fc}}]));break;case'rm':if(_0x25dd84==_0x4cb065(0x22e))_0x29675d=await product[_0x4cb065(0x21a)]([{'$match':{'product_category':_0x4cb065(0x1b8),'brand':_0x19d1fc}}]);else _0x25dd84=='Category'&&(_0x29675d=await product[_0x4cb065(0x21a)]([{'$match':{'product_category':'Raw\x20Materials','category':_0x19d1fc}}]));break;}_0x1d83d6[_0x4cb065(0x208)]({'data':_0x29675d});}catch(_0x7fcabc){_0x1d83d6['json']({'message':_0x7fcabc[_0x4cb065(0x18a)]});}}),router['post'](a0_0xb4edc3(0x1c3),auth,async(_0x245136,_0x50cffc)=>{const _0x388df7=a0_0xb4edc3;try{const _0x3d3c0b=_0x245136[_0x388df7(0x1fc)]['id'],{copies:_0x562b50,typeofbarcode:_0x241817}=_0x245136[_0x388df7(0x1a8)];var _0x18cc5d=await product[_0x388df7(0x1dd)](_0x3d3c0b);const _0x12476b=_0x297322=>_0x297322*0x48,_0x5a6410={'width':0x3,'height':0x1},_0x44dce8=new PDFDocument({'margin':_0x12476b(0.75),'size':[_0x12476b(_0x5a6410['width']),_0x12476b(_0x5a6410[_0x388df7(0x1b4)])],'bufferPages':!![]}),_0x3cc0f3=_0x562b50,_0x302c62=_0x18cc5d['name'],_0x1d5888=_0x18cc5d['primary_code'],_0x242357=_0x18cc5d[_0x388df7(0x187)],_0xd54c6a=_0x18cc5d[_0x388df7(0x198)];let _0xbd38b;switch(_0x241817){case'1':_0xbd38b=_0x1d5888;break;case'2':_0xbd38b=_0x242357;break;case'3':_0xbd38b=_0xd54c6a;break;}const _0x589426={'width':0xd2,'height':0x64},_0x186a1a={'width':_0x12476b(_0x5a6410[_0x388df7(0x1f4)]),'height':_0x12476b(_0x5a6410[_0x388df7(0x1b4)])};for(let _0x5b0177=0x1;_0x5b0177<=_0x3cc0f3;_0x5b0177++){const _0x1b52fd=new Canvas();JsBarcode(_0x1b52fd,_0xbd38b,{'format':_0x388df7(0x1ae),'height':_0x589426[_0x388df7(0x1b4)],'displayValue':!![],'text':_0xbd38b});const _0x2bc706=_0x1b52fd[_0x388df7(0x237)](),_0x451ce1=_0x186a1a['width']/_0x589426[_0x388df7(0x1f4)],_0x117f18=_0x186a1a['height']/_0x589426['height'],_0x5abec7=Math[_0x388df7(0x1f7)](_0x451ce1,_0x117f18),_0x22e232=_0x589426[_0x388df7(0x1f4)]*_0x5abec7,_0xcf48b5=_0x589426[_0x388df7(0x1b4)]*_0x5abec7,_0x542e60=(_0x186a1a['width']-_0x22e232)/0x2,_0x2d41d7=(_0x186a1a[_0x388df7(0x1b4)]-_0xcf48b5)/0x2;_0x44dce8[_0x388df7(0x18f)](_0x2bc706,_0x542e60,_0x2d41d7,{'width':_0x22e232,'height':_0xcf48b5}),_0x5b0177!=_0x3cc0f3&&_0x44dce8[_0x388df7(0x23a)]();}const _0x54bb27=[];_0x44dce8['on'](_0x388df7(0x19d),_0x54bb27[_0x388df7(0x20f)]['bind'](_0x54bb27)),_0x44dce8['on']('end',()=>{const _0x471839=_0x388df7,_0x2535e7=Buffer['concat'](_0x54bb27),_0x2996ca=_0x2535e7['toString']('base64');_0x50cffc[_0x471839(0x208)]({'pdfContent':_0x2996ca});}),_0x44dce8[_0x388df7(0x1fd)]();}catch(_0x35effa){_0x50cffc[_0x388df7(0x208)]({'message':_0x35effa[_0x388df7(0x18a)]});}}),module['exports']=router;