function a0_0xcff5(){const _0xede1c9=['email','name','Brands','English','migrate_product_fule','save','Category','forEach','../public/language/languages.json','prod_categ','$category','exceljs','Workbook','PSecondaryUnits','Units','long','json','maxStocks','warehouse','ProductCode','\x20<>\x20','/brands/delete/:id','PBrands','pdfkit-table','secondary_unit','English\x20(US)','/filter_product','$product_category','public/upload','get','alertquantity','addPage','2TytjOH','../models/all_models','/brands/:id','redirect','3032744yVBHgh','$_id','$secondary_unit','/print_barcode_filter/','xlsx','product_stock','/units/:id','Portuguese\x20(BR)','Products\x20warehouse_data','$product_details','Prod_Cat','file','categories\x20data\x20delete\x20successfully','map','errors','brand\x20data\x20delete\x20successfully','findOne','Alert_QTY','brands','/products/brands','express/lib/response','/barcode_data','188739uvvbDo','/units','/view','/products_export_migrate_file','/units/delete/:id','diskStorage','/products/categories','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','PCat','aggregate','Maximum_Stocks','Enabled','concat','Spanish','\x20brand\x20is\x20add\x20successfully','/products_import_migrate_file','$product_details.product_stock','/barcode/:id','product_details.product_name','min','French','edit_product','flash','Portuguese','express','exports','German','Raw\x20Materials','toString','edit\x20Product\x20master','/brands','Arabic','Arabic\x20(ae)','max_number_per_units','unit','findById','barcode\x20Product\x20master','image','/print_barcode_filter_search/','primary_code','/products/view','log','$product_details.product_name','bind','/print_barcode_single/:id','15EdQkkw','184pGaZPJ','product_docs','end','_id','$brand','1309350rAmgVL','Content-Disposition','Sheets','PUnits','utils','Finished\x20Goods','product_barcode_products','render','originalname','sheet_to_json','public/Migration/','products','defaultProduct.avif','data','params','findByIdAndDelete','11766PeGKDv','jsbarcode','add_product','user','Content-Type','product_code','numeric','/select_data','multer','product\x20update\x20successfully','$product_stock','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','product\x20add\x20successfully','$product_name','language','categ','Hindi','263579enRREW','../middleware/auth','7ZHuFQi','category','brand','filename','brand\x20data\x20update\x20successfully','Primary_Code','master','\x20categories\x20is\x20add\x20successfully','post','Products\x20find_data','findByIdAndUpdate','message','product_category','/categories','body','/categories/:id','CODE128','PAlQty','/products/units','\x20Edit\x20Successfully','/categories/delete/:id','Secondary_Code','width','296852AumFWf','PName','now','300594fyFDyP','maxProdPerUnit','find','single','then','setHeader','push','unit\x20data\x20delete\x20successfully','/print_barcode','addWorksheet','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','columns','Chinese','Product_Name','height','sku','product_barcode','status','Products_category','Product_Code','SheetNames','Secondary_Units','secondary_code','units','success','readFile','MaxperUnits','/view/:id','canvas','\x20unit\x20is\x20add\x20successfully'];a0_0xcff5=function(){return _0xede1c9;};return a0_0xcff5();}const a0_0x5653f5=a0_0xa810;(function(_0x3477c2,_0x5b1973){const _0xab4cd=a0_0xa810,_0x31fa53=_0x3477c2();while(!![]){try{const _0x2aa4f5=-parseInt(_0xab4cd(0x1b2))/0x1*(parseInt(_0xab4cd(0x144))/0x2)+parseInt(_0xab4cd(0x105))/0x3+parseInt(_0xab4cd(0x102))/0x4*(-parseInt(_0xab4cd(0x18b))/0x5)+-parseInt(_0xab4cd(0x1a1))/0x6*(-parseInt(_0xab4cd(0x1b4))/0x7)+-parseInt(_0xab4cd(0x18c))/0x8*(-parseInt(_0xab4cd(0x15e))/0x9)+-parseInt(_0xab4cd(0x191))/0xa+parseInt(_0xab4cd(0x148))/0xb;if(_0x2aa4f5===_0x5b1973)break;else _0x31fa53['push'](_0x31fa53['shift']());}catch(_0x54e5e8){_0x31fa53['push'](_0x31fa53['shift']());}}}(a0_0xcff5,0x3b563));const express=require(a0_0x5653f5(0x176)),res=require(a0_0x5653f5(0x15c)),app=express(),router=express['Router'](),multer=require(a0_0x5653f5(0x1a9)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x5653f5(0x145)),auth=require(a0_0x5653f5(0x1b3)),users=require(a0_0x5653f5(0x12c)),excelJS=require(a0_0x5653f5(0x12f)),xlsx=require(a0_0x5653f5(0x14c)),JsBarcode=require(a0_0x5653f5(0x1a2)),{Canvas}=require(a0_0x5653f5(0x122)),PDFDocument=require(a0_0x5653f5(0x13b));router[a0_0x5653f5(0x141)](a0_0x5653f5(0x1c1),auth,async(_0xfd6eda,_0x4c1a6d)=>{const _0x11a18c=a0_0x5653f5;try{const {username:_0x856f09,email:_0x1eadf6,role:_0x49cbf8}=_0xfd6eda[_0x11a18c(0x1a4)],_0x1a023e=_0xfd6eda[_0x11a18c(0x1a4)],_0x4b1af2=await profile[_0x11a18c(0x158)]({'email':_0x1a023e['email']}),_0x18d894=await master_shop['find']();console['log'](_0x11a18c(0x1ba),_0x18d894);const _0x2cc628=await categories[_0x11a18c(0x107)]();if(_0x18d894[0x0][_0x11a18c(0x1af)]==_0x11a18c(0x13d))var _0xf933cb=users[_0x11a18c(0x127)];else{if(_0x18d894[0x0][_0x11a18c(0x1af)]==_0x11a18c(0x1b1))var _0xf933cb=users[_0x11a18c(0x1b1)];else{if(_0x18d894[0x0][_0x11a18c(0x1af)]==_0x11a18c(0x178))var _0xf933cb=users[_0x11a18c(0x178)];else{if(_0x18d894[0x0]['language']==_0x11a18c(0x16b))var _0xf933cb=users['Spanish'];else{if(_0x18d894[0x0][_0x11a18c(0x1af)]==_0x11a18c(0x172))var _0xf933cb=users[_0x11a18c(0x172)];else{if(_0x18d894[0x0]['language']=='Portuguese\x20(BR)')var _0xf933cb=users[_0x11a18c(0x175)];else{if(_0x18d894[0x0][_0x11a18c(0x1af)]=='Chinese')var _0xf933cb=users[_0x11a18c(0x112)];else{if(_0x18d894[0x0][_0x11a18c(0x1af)]==_0x11a18c(0x17e))var _0xf933cb=users[_0x11a18c(0x17d)];}}}}}}}_0x4c1a6d[_0x11a18c(0x198)]('categories',{'success':_0xfd6eda['flash']('success'),'errors':_0xfd6eda[_0x11a18c(0x174)](_0x11a18c(0x156)),'role':_0x1a023e,'profile':_0x4b1af2,'user':_0x2cc628,'master_shop':_0x18d894,'language':_0xf933cb});}catch(_0x52a14f){console[_0x11a18c(0x187)](_0x52a14f);}}),router[a0_0x5653f5(0x1bc)](a0_0x5653f5(0x1c1),auth,async(_0x5a12a0,_0x8d2c00)=>{const _0x3e5c81=a0_0x5653f5;try{const {name:_0xc2f85,products:_0xf24ff0}=_0x5a12a0['body'],_0x511378=new categories({'name':_0xc2f85,'products':_0xf24ff0}),_0x5dd51c=await categories[_0x3e5c81(0x158)]({'name':_0xc2f85});_0x5dd51c?_0x5a12a0[_0x3e5c81(0x174)](_0x3e5c81(0x156),_0xc2f85+_0x3e5c81(0x1ac)):_0x5a12a0[_0x3e5c81(0x174)](_0x3e5c81(0x11e),_0xc2f85+_0x3e5c81(0x1bb));const _0x49abf9=await _0x511378[_0x3e5c81(0x129)]();_0x8d2c00[_0x3e5c81(0x147)](_0x3e5c81(0x164));}catch(_0x6f76cd){console[_0x3e5c81(0x187)](_0x6f76cd);}}),router[a0_0x5653f5(0x141)](a0_0x5653f5(0xfa),auth,async(_0x513683,_0x20f34c)=>{const _0x598b75=a0_0x5653f5;try{const {username:_0x548d6f,email:_0x5397fd,role:_0x377642}=_0x513683[_0x598b75(0x1a4)],_0x413a7c=_0x513683[_0x598b75(0x1a4)],_0x46bcad=await profile[_0x598b75(0x158)]({'email':_0x413a7c[_0x598b75(0x124)]}),_0x16ea18=await master_shop[_0x598b75(0x107)]();console[_0x598b75(0x187)](_0x598b75(0x1ba),_0x16ea18);const _0x5bb86c=_0x513683[_0x598b75(0x19f)]['id'];console[_0x598b75(0x187)](_0x5bb86c);const _0x2afa6c=await categories[_0x598b75(0x181)](_0x5bb86c);if(_0x16ea18[0x0][_0x598b75(0x1af)]==_0x598b75(0x13d))var _0x4440a6=users['English'];else{if(_0x16ea18[0x0][_0x598b75(0x1af)]==_0x598b75(0x1b1))var _0x4440a6=users['Hindi'];else{if(_0x16ea18[0x0][_0x598b75(0x1af)]==_0x598b75(0x178))var _0x4440a6=users['German'];else{if(_0x16ea18[0x0][_0x598b75(0x1af)]==_0x598b75(0x16b))var _0x4440a6=users['Spanish'];else{if(_0x16ea18[0x0][_0x598b75(0x1af)]=='French')var _0x4440a6=users[_0x598b75(0x172)];else{if(_0x16ea18[0x0][_0x598b75(0x1af)]=='Portuguese\x20(BR)')var _0x4440a6=users[_0x598b75(0x175)];else{if(_0x16ea18[0x0][_0x598b75(0x1af)]==_0x598b75(0x112))var _0x4440a6=users[_0x598b75(0x112)];else{if(_0x16ea18[0x0]['language']==_0x598b75(0x17e))var _0x4440a6=users['Arabic'];}}}}}}}_0x20f34c[_0x598b75(0x198)]('categories',{'success':_0x513683[_0x598b75(0x174)](_0x598b75(0x11e)),'errors':_0x513683[_0x598b75(0x174)]('errors'),'role':_0x413a7c,'profile':_0x46bcad,'master_shop':_0x16ea18,'user':_0x2afa6c,'language':_0x4440a6});}catch(_0x3812ed){console[_0x598b75(0x187)](_0x3812ed);}}),router[a0_0x5653f5(0x1bc)](a0_0x5653f5(0xfa),auth,async(_0x3013dc,_0x85dbd7)=>{const _0xb56090=a0_0x5653f5;try{const _0xd74b9e=_0x3013dc[_0xb56090(0x19f)]['id'],_0xe5d785=await categories[_0xb56090(0x1be)](_0xd74b9e,_0x3013dc[_0xb56090(0x1c2)]);_0x3013dc[_0xb56090(0x174)](_0xb56090(0x11e),''+users['categories_edit']),_0x85dbd7[_0xb56090(0x147)]('/products/categories');}catch(_0x16a8f8){console[_0xb56090(0x187)](_0x16a8f8);}}),router[a0_0x5653f5(0x141)](a0_0x5653f5(0xff),auth,async(_0x4d014d,_0x568283)=>{const _0x3952f4=a0_0x5653f5;try{const _0x3fc747=_0x4d014d[_0x3952f4(0x19f)]['id'],_0x180edc=await categories[_0x3952f4(0x1a0)](_0x3fc747);_0x4d014d[_0x3952f4(0x174)](_0x3952f4(0x11e),_0x3952f4(0x154)),_0x568283[_0x3952f4(0x147)](_0x3952f4(0x164));}catch(_0x1a4a6d){console[_0x3952f4(0x187)](_0x1a4a6d);}}),router[a0_0x5653f5(0x141)](a0_0x5653f5(0x17c),auth,async(_0x199108,_0x4ddce4)=>{const _0x2ad4e4=a0_0x5653f5;try{const {username:_0x3164cb,email:_0x190b0c,role:_0x194e86}=_0x199108['user'],_0x51476d=_0x199108[_0x2ad4e4(0x1a4)],_0x5f4413=await profile['findOne']({'email':_0x51476d[_0x2ad4e4(0x124)]}),_0x30651c=await master_shop[_0x2ad4e4(0x107)]();console['log']('master',_0x30651c);const _0x2c7a78=await brands[_0x2ad4e4(0x107)]();if(_0x30651c[0x0][_0x2ad4e4(0x1af)]=='English\x20(US)')var _0x5a721a=users[_0x2ad4e4(0x127)];else{if(_0x30651c[0x0]['language']==_0x2ad4e4(0x1b1))var _0x5a721a=users[_0x2ad4e4(0x1b1)];else{if(_0x30651c[0x0]['language']==_0x2ad4e4(0x178))var _0x5a721a=users[_0x2ad4e4(0x178)];else{if(_0x30651c[0x0][_0x2ad4e4(0x1af)]=='Spanish')var _0x5a721a=users[_0x2ad4e4(0x16b)];else{if(_0x30651c[0x0][_0x2ad4e4(0x1af)]==_0x2ad4e4(0x172))var _0x5a721a=users[_0x2ad4e4(0x172)];else{if(_0x30651c[0x0][_0x2ad4e4(0x1af)]==_0x2ad4e4(0x14f))var _0x5a721a=users[_0x2ad4e4(0x175)];else{if(_0x30651c[0x0][_0x2ad4e4(0x1af)]==_0x2ad4e4(0x112))var _0x5a721a=users[_0x2ad4e4(0x112)];else{if(_0x30651c[0x0]['language']=='Arabic\x20(ae)')var _0x5a721a=users[_0x2ad4e4(0x17d)];}}}}}}}_0x4ddce4['render'](_0x2ad4e4(0x15a),{'success':_0x199108[_0x2ad4e4(0x174)](_0x2ad4e4(0x11e)),'errors':_0x199108[_0x2ad4e4(0x174)](_0x2ad4e4(0x156)),'role':_0x51476d,'profile':_0x5f4413,'master_shop':_0x30651c,'user':_0x2c7a78,'language':_0x5a721a});}catch(_0x82a0e8){console[_0x2ad4e4(0x187)](_0x82a0e8);}}),router[a0_0x5653f5(0x1bc)]('/brands',auth,async(_0x45cf63,_0x258f60)=>{const _0x972c25=a0_0x5653f5;try{const {name:_0x4ed2d7,products:_0x2c1b34}=_0x45cf63[_0x972c25(0x1c2)],_0x3c801a=new brands({'name':_0x4ed2d7,'products':_0x2c1b34}),_0x2cbe02=await brands[_0x972c25(0x158)]({'name':_0x4ed2d7});_0x2cbe02?_0x45cf63[_0x972c25(0x174)](_0x972c25(0x156),_0x4ed2d7+_0x972c25(0x165)):_0x45cf63[_0x972c25(0x174)]('success',_0x4ed2d7+_0x972c25(0x16c));const _0x93d446=await _0x3c801a[_0x972c25(0x129)]();_0x258f60[_0x972c25(0x147)](_0x972c25(0x15b));}catch(_0x486a15){console[_0x972c25(0x187)](_0x486a15);}}),router[a0_0x5653f5(0x141)](a0_0x5653f5(0x146),auth,async(_0x26a648,_0x3c9480)=>{const _0x4c630c=a0_0x5653f5;try{const {username:_0x5635b8,email:_0xa12c0d,role:_0x2cf1c3}=_0x26a648[_0x4c630c(0x1a4)],_0x250a8c=_0x26a648[_0x4c630c(0x1a4)],_0x286e24=await profile[_0x4c630c(0x158)]({'email':_0x250a8c[_0x4c630c(0x124)]}),_0x799fb9=await master_shop[_0x4c630c(0x107)]();console[_0x4c630c(0x187)]('master',_0x799fb9);const _0x544ce6=_0x26a648[_0x4c630c(0x19f)]['id'];console[_0x4c630c(0x187)](_0x544ce6);const _0x17b28f=await brands['findById'](_0x544ce6);if(_0x799fb9[0x0][_0x4c630c(0x1af)]==_0x4c630c(0x13d))var _0x2d754b=users['English'];else{if(_0x799fb9[0x0]['language']==_0x4c630c(0x1b1))var _0x2d754b=users[_0x4c630c(0x1b1)];else{if(_0x799fb9[0x0][_0x4c630c(0x1af)]==_0x4c630c(0x178))var _0x2d754b=users[_0x4c630c(0x178)];else{if(_0x799fb9[0x0]['language']==_0x4c630c(0x16b))var _0x2d754b=users[_0x4c630c(0x16b)];else{if(_0x799fb9[0x0][_0x4c630c(0x1af)]==_0x4c630c(0x172))var _0x2d754b=users[_0x4c630c(0x172)];else{if(_0x799fb9[0x0][_0x4c630c(0x1af)]==_0x4c630c(0x14f))var _0x2d754b=users[_0x4c630c(0x175)];else{if(_0x799fb9[0x0][_0x4c630c(0x1af)]==_0x4c630c(0x112))var _0x2d754b=users[_0x4c630c(0x112)];else{if(_0x799fb9[0x0][_0x4c630c(0x1af)]==_0x4c630c(0x17e))var _0x2d754b=users[_0x4c630c(0x17d)];}}}}}}}_0x3c9480[_0x4c630c(0x198)]('brands',{'success':_0x26a648['flash'](_0x4c630c(0x11e)),'errors':_0x26a648[_0x4c630c(0x174)](_0x4c630c(0x156)),'role':_0x250a8c,'profile':_0x286e24,'master_shop':_0x799fb9,'user':_0x17b28f,'language':_0x2d754b});}catch(_0x79f8f2){console['log'](_0x79f8f2);}}),router['post'](a0_0x5653f5(0x146),auth,async(_0x5b5d74,_0xf3c682)=>{const _0x4e0653=a0_0x5653f5;try{const _0x15a800=_0x5b5d74['params']['id'],_0x1ea1d1=await brands[_0x4e0653(0x1be)](_0x15a800,_0x5b5d74[_0x4e0653(0x1c2)]);_0x5b5d74[_0x4e0653(0x174)](_0x4e0653(0x11e),_0x4e0653(0x1b8)),_0xf3c682[_0x4e0653(0x147)](_0x4e0653(0x15b));}catch(_0x253df9){console[_0x4e0653(0x187)](_0x253df9);}}),router['get'](a0_0x5653f5(0x139),auth,async(_0x3805c4,_0x2e1ed4)=>{const _0x4198bf=a0_0x5653f5;try{const _0x43787b=_0x3805c4['params']['id'],_0x54a3a2=await brands[_0x4198bf(0x1a0)](_0x43787b);_0x3805c4['flash']('success',_0x4198bf(0x157)),_0x2e1ed4['redirect'](_0x4198bf(0x15b));}catch(_0x20ca6c){console['log'](_0x20ca6c);}}),router[a0_0x5653f5(0x141)](a0_0x5653f5(0x15f),auth,async(_0x2df5eb,_0x3e6c25)=>{const _0x26f4ea=a0_0x5653f5;try{const {username:_0xf7039a,email:_0x33e949,role:_0x5f32ae}=_0x2df5eb['user'],_0x51f594=_0x2df5eb[_0x26f4ea(0x1a4)],_0x2eda3b=await profile[_0x26f4ea(0x158)]({'email':_0x51f594['email']}),_0xacb777=await master_shop[_0x26f4ea(0x107)]();console[_0x26f4ea(0x187)]('master',_0xacb777);const _0x3286f0=await units[_0x26f4ea(0x107)]();if(_0xacb777[0x0]['language']==_0x26f4ea(0x13d))var _0x261b57=users[_0x26f4ea(0x127)];else{if(_0xacb777[0x0][_0x26f4ea(0x1af)]==_0x26f4ea(0x1b1))var _0x261b57=users['Hindi'];else{if(_0xacb777[0x0]['language']==_0x26f4ea(0x178))var _0x261b57=users[_0x26f4ea(0x178)];else{if(_0xacb777[0x0][_0x26f4ea(0x1af)]==_0x26f4ea(0x16b))var _0x261b57=users['Spanish'];else{if(_0xacb777[0x0][_0x26f4ea(0x1af)]==_0x26f4ea(0x172))var _0x261b57=users['French'];else{if(_0xacb777[0x0]['language']==_0x26f4ea(0x14f))var _0x261b57=users['Portuguese'];else{if(_0xacb777[0x0][_0x26f4ea(0x1af)]==_0x26f4ea(0x112))var _0x261b57=users[_0x26f4ea(0x112)];else{if(_0xacb777[0x0][_0x26f4ea(0x1af)]==_0x26f4ea(0x17e))var _0x261b57=users[_0x26f4ea(0x17d)];}}}}}}}_0x3e6c25[_0x26f4ea(0x198)]('units',{'success':_0x2df5eb[_0x26f4ea(0x174)](_0x26f4ea(0x11e)),'errors':_0x2df5eb[_0x26f4ea(0x174)](_0x26f4ea(0x156)),'role':_0x51f594,'profile':_0x2eda3b,'master_shop':_0xacb777,'user':_0x3286f0,'language':_0x261b57});}catch(_0x4474a8){console[_0x26f4ea(0x187)](_0x4474a8);}}),router[a0_0x5653f5(0x1bc)](a0_0x5653f5(0x15f),auth,async(_0x200fa5,_0x6198d1)=>{const _0x26322f=a0_0x5653f5;try{const {name:_0x19acfa,secondary_unit:_0x31ccb1,products:_0x4230a5}=_0x200fa5[_0x26322f(0x1c2)],_0x209137=new units({'name':_0x19acfa,'secondary_unit':_0x31ccb1,'products':_0x4230a5}),_0x2b58c3=await units[_0x26322f(0x158)]({'name':_0x19acfa});_0x2b58c3?_0x200fa5[_0x26322f(0x174)](_0x26322f(0x156),_0x19acfa+_0x26322f(0x10f)):_0x200fa5[_0x26322f(0x174)]('success',_0x19acfa+_0x26322f(0x123));const _0x1a807d=await _0x209137['save']();_0x6198d1[_0x26322f(0x147)](_0x26322f(0xfd));}catch(_0x4ae6fb){console[_0x26322f(0x187)](_0x4ae6fb);}}),router['get']('/units/:id',auth,async(_0x4cc537,_0x472445)=>{const _0x48c0dd=a0_0x5653f5;try{const {username:_0x4553af,email:_0x3a29c5,role:_0x4ec276}=_0x4cc537['user'],_0x28e1dc=_0x4cc537[_0x48c0dd(0x1a4)],_0x26456e=await profile['findOne']({'email':_0x28e1dc['email']}),_0x4c79ac=await master_shop[_0x48c0dd(0x107)]();console[_0x48c0dd(0x187)]('master',_0x4c79ac);const _0x29bff0=_0x4cc537[_0x48c0dd(0x19f)]['id'],_0x324c30=await units[_0x48c0dd(0x181)](_0x29bff0);if(_0x4c79ac[0x0]['language']=='English\x20(US)')var _0x1b3f92=users[_0x48c0dd(0x127)];else{if(_0x4c79ac[0x0][_0x48c0dd(0x1af)]==_0x48c0dd(0x1b1))var _0x1b3f92=users[_0x48c0dd(0x1b1)];else{if(_0x4c79ac[0x0][_0x48c0dd(0x1af)]==_0x48c0dd(0x178))var _0x1b3f92=users[_0x48c0dd(0x178)];else{if(_0x4c79ac[0x0]['language']==_0x48c0dd(0x16b))var _0x1b3f92=users[_0x48c0dd(0x16b)];else{if(_0x4c79ac[0x0]['language']==_0x48c0dd(0x172))var _0x1b3f92=users[_0x48c0dd(0x172)];else{if(_0x4c79ac[0x0][_0x48c0dd(0x1af)]=='Portuguese\x20(BR)')var _0x1b3f92=users['Portuguese'];else{if(_0x4c79ac[0x0]['language']==_0x48c0dd(0x112))var _0x1b3f92=users[_0x48c0dd(0x112)];else{if(_0x4c79ac[0x0]['language']==_0x48c0dd(0x17e))var _0x1b3f92=users[_0x48c0dd(0x17d)];}}}}}}}_0x472445['render'](_0x48c0dd(0x11d),{'success':_0x4cc537[_0x48c0dd(0x174)]('success'),'errors':_0x4cc537[_0x48c0dd(0x174)](_0x48c0dd(0x156)),'role':_0x28e1dc,'profile':_0x26456e,'master_shop':_0x4c79ac,'user':_0x324c30,'language':_0x1b3f92});}catch(_0xf12d71){console[_0x48c0dd(0x187)](_0xf12d71);}}),router[a0_0x5653f5(0x1bc)](a0_0x5653f5(0x14e),auth,async(_0x525d82,_0x22bc19)=>{const _0x2a6e45=a0_0x5653f5;try{const _0x6c9dc=_0x525d82['params']['id'],_0x56de1b=await units[_0x2a6e45(0x1be)](_0x6c9dc,_0x525d82[_0x2a6e45(0x1c2)]);_0x525d82[_0x2a6e45(0x174)](_0x2a6e45(0x11e),'unit\x20data\x20update\x20successfully'),_0x22bc19['redirect'](_0x2a6e45(0xfd));}catch(_0x38efd3){console[_0x2a6e45(0x187)](_0x38efd3);}}),router[a0_0x5653f5(0x141)](a0_0x5653f5(0x162),auth,async(_0x4e119e,_0x5dbff5)=>{const _0x387b55=a0_0x5653f5;try{const _0x3fb813=_0x4e119e[_0x387b55(0x19f)]['id'],_0x5d3c13=await units[_0x387b55(0x1a0)](_0x3fb813);_0x4e119e['flash']('success',_0x387b55(0x10c)),_0x5dbff5[_0x387b55(0x147)]('/products/units');}catch(_0x1b35a3){console[_0x387b55(0x187)](_0x1b35a3);}});const storage=multer['diskStorage']({'destination':(_0x1a4358,_0x578dc7,_0x38eafe)=>{const _0x45b7bd=a0_0x5653f5;_0x38eafe(null,_0x45b7bd(0x140));},'filename':(_0x244405,_0x231feb,_0x1a972e)=>{const _0x1e96e0=a0_0x5653f5;_0x1a972e(null,Date[_0x1e96e0(0x104)]()+_0x231feb[_0x1e96e0(0x199)]);}}),upload=multer({'storage':storage});function a0_0xa810(_0x2d0c85,_0x13befd){const _0xcff562=a0_0xcff5();return a0_0xa810=function(_0xa8101b,_0x44dfc5){_0xa8101b=_0xa8101b-0xfa;let _0x54a10b=_0xcff562[_0xa8101b];return _0x54a10b;},a0_0xa810(_0x2d0c85,_0x13befd);}router[a0_0x5653f5(0x141)](a0_0x5653f5(0x160),auth,async(_0x2df846,_0x205381)=>{const _0x1d1833=a0_0x5653f5;try{const {username:_0x173952,email:_0x5d5730,role:_0x211cf9}=_0x2df846['user'],_0x3ef22c=_0x2df846[_0x1d1833(0x1a4)],_0x196d3b=await profile[_0x1d1833(0x158)]({'email':_0x3ef22c[_0x1d1833(0x124)]}),_0x55b402={'year':_0x1d1833(0x1a7),'month':_0x1d1833(0x133),'day':_0x1d1833(0x1a7)},_0xb738c0=await master_shop[_0x1d1833(0x107)]();console['log']('Products\x20master',_0xb738c0);const _0x19c4b6=await product[_0x1d1833(0x107)]();console[_0x1d1833(0x187)](_0x1d1833(0x1bd),_0x19c4b6);const _0x4358bc=await warehouse[_0x1d1833(0x167)]([{'$unwind':_0x1d1833(0x151)},{'$lookup':{'from':_0x1d1833(0x19c),'localField':_0x1d1833(0x170),'foreignField':_0x1d1833(0x125),'as':_0x1d1833(0x18d)}},{'$unwind':'$product_docs'},{'$project':{'product_name':_0x1d1833(0x188),'product_stock':_0x1d1833(0x16e)}},{'$group':{'_id':_0x1d1833(0x1ae),'product_stock':{'$sum':_0x1d1833(0x1ab)}}}]);console[_0x1d1833(0x187)](_0x1d1833(0x150),_0x4358bc),_0x4358bc[_0x1d1833(0x12b)](_0x52030e=>{const _0x181d80=_0x1d1833,_0x361fde=_0x19c4b6[_0x181d80(0x155)](_0x2df0b6=>{const _0x4e269d=_0x181d80;_0x2df0b6[_0x4e269d(0x125)]==_0x52030e[_0x4e269d(0x18f)]&&(_0x2df0b6['stock']=parseInt(_0x2df0b6['stock'])+parseInt(_0x52030e[_0x4e269d(0x14d)]));});}),console[_0x1d1833(0x187)](_0x1d1833(0x1bd),_0x19c4b6);if(_0xb738c0[0x0][_0x1d1833(0x1af)]==_0x1d1833(0x13d))var _0x30af97=users[_0x1d1833(0x127)];else{if(_0xb738c0[0x0][_0x1d1833(0x1af)]=='Hindi')var _0x30af97=users[_0x1d1833(0x1b1)];else{if(_0xb738c0[0x0][_0x1d1833(0x1af)]==_0x1d1833(0x178))var _0x30af97=users[_0x1d1833(0x178)];else{if(_0xb738c0[0x0]['language']==_0x1d1833(0x16b))var _0x30af97=users[_0x1d1833(0x16b)];else{if(_0xb738c0[0x0]['language']==_0x1d1833(0x172))var _0x30af97=users['French'];else{if(_0xb738c0[0x0][_0x1d1833(0x1af)]==_0x1d1833(0x14f))var _0x30af97=users[_0x1d1833(0x175)];else{if(_0xb738c0[0x0][_0x1d1833(0x1af)]==_0x1d1833(0x112))var _0x30af97=users[_0x1d1833(0x112)];else{if(_0xb738c0[0x0][_0x1d1833(0x1af)]=='Arabic\x20(ae)')var _0x30af97=users[_0x1d1833(0x17d)];}}}}}}}_0x205381[_0x1d1833(0x198)]('products',{'success':_0x2df846['flash'](_0x1d1833(0x11e)),'errors':_0x2df846[_0x1d1833(0x174)]('errors'),'alldata':_0x19c4b6,'profile':_0x196d3b,'master_shop':_0xb738c0,'role':_0x3ef22c,'product_stock':_0x4358bc,'language':_0x30af97});}catch(_0x190ed6){console[_0x1d1833(0x187)](_0x190ed6);}}),router[a0_0x5653f5(0x141)]('/view/add_products',auth,async(_0x80c4e9,_0x4c2d26)=>{const _0x29d2ea=a0_0x5653f5;try{const {username:_0x17a418,email:_0x26d03d,role:_0x4b4476}=_0x80c4e9['user'],_0x27cd65=_0x80c4e9['user'],_0x241857=await profile[_0x29d2ea(0x158)]({'email':_0x27cd65[_0x29d2ea(0x124)]}),_0x1d154f=await master_shop[_0x29d2ea(0x107)]();console[_0x29d2ea(0x187)]('master',_0x1d154f);const _0xf5dea1=await categories[_0x29d2ea(0x107)]({}),_0x1f007c=await brands[_0x29d2ea(0x107)]({}),_0x47f49a=await units[_0x29d2ea(0x107)]({}),_0x5f535f=await warehouse[_0x29d2ea(0x107)]({'status':_0x29d2ea(0x169)});if(_0x1d154f[0x0][_0x29d2ea(0x1af)]=='English\x20(US)')var _0x4a339d=users[_0x29d2ea(0x127)];else{if(_0x1d154f[0x0]['language']=='Hindi')var _0x4a339d=users['Hindi'];else{if(_0x1d154f[0x0][_0x29d2ea(0x1af)]==_0x29d2ea(0x178))var _0x4a339d=users[_0x29d2ea(0x178)];else{if(_0x1d154f[0x0]['language']==_0x29d2ea(0x16b))var _0x4a339d=users[_0x29d2ea(0x16b)];else{if(_0x1d154f[0x0][_0x29d2ea(0x1af)]==_0x29d2ea(0x172))var _0x4a339d=users[_0x29d2ea(0x172)];else{if(_0x1d154f[0x0]['language']==_0x29d2ea(0x14f))var _0x4a339d=users[_0x29d2ea(0x175)];else{if(_0x1d154f[0x0][_0x29d2ea(0x1af)]==_0x29d2ea(0x112))var _0x4a339d=users[_0x29d2ea(0x112)];else{if(_0x1d154f[0x0][_0x29d2ea(0x1af)]==_0x29d2ea(0x17e))var _0x4a339d=users[_0x29d2ea(0x17d)];}}}}}}}_0x4c2d26[_0x29d2ea(0x198)](_0x29d2ea(0x1a3),{'success':_0x80c4e9['flash'](_0x29d2ea(0x11e)),'errors':_0x80c4e9[_0x29d2ea(0x174)](_0x29d2ea(0x156)),'role':_0x27cd65,'profile':_0x241857,'categories':_0xf5dea1,'brands':_0x1f007c,'master_shop':_0x1d154f,'units':_0x47f49a,'language':_0x4a339d,'find_data':_0x5f535f});}catch(_0x1589c5){console[_0x29d2ea(0x187)](_0x1589c5);}}),router[a0_0x5653f5(0x1bc)]('/view/add_products',auth,upload[a0_0x5653f5(0x108)](a0_0x5653f5(0x183)),async(_0x1557fc,_0x39de1b)=>{const _0x5655f5=a0_0x5653f5;try{const {name:_0x343668,category:_0x39a8bb,brand:_0x5a78fd,unit:_0x30a174,alertquantity:_0x407a05,stock:_0x4b3e74,product_code:_0x235cc5,warehouse:_0x30d427,primary_ItemCode:_0x298768,second_ItemCode:_0x167c2c,second_unit:_0x5674fa,maxPerUnit:_0x581869,MaxPerProduct:_0x5d97bd}=_0x1557fc['body'],_0x39e9a4=_0x1557fc[_0x5655f5(0x153)]?.[_0x5655f5(0x1b7)]||_0x5655f5(0x19d),_0x16ba65=new product({'image':_0x39e9a4,'name':_0x343668,'category':_0x39a8bb,'brand':_0x5a78fd,'unit':_0x30a174,'alertquantity':_0x407a05,'stock':_0x4b3e74,'product_code':_0x235cc5,'warehouse':_0x30d427,'primary_code':_0x298768,'secondary_code':_0x167c2c,'second_unit':_0x5674fa,'maxStocks':_0x5d97bd,'maxProdPerUnit':_0x581869}),_0x31790b=await _0x16ba65[_0x5655f5(0x129)](),_0xd43e20=await categories[_0x5655f5(0x158)]({'name':_0x39a8bb});_0xd43e20[_0x5655f5(0x19c)]=parseInt(_0xd43e20[_0x5655f5(0x19c)])+0x1,await _0xd43e20[_0x5655f5(0x129)]();const _0x2b8935=await brands['findOne']({'name':_0x5a78fd});_0x2b8935['products']=parseInt(_0x2b8935['products'])+0x1,await _0x2b8935[_0x5655f5(0x129)]();const _0x1b15a4=await units[_0x5655f5(0x158)]({'name':_0x30a174});_0x1b15a4[_0x5655f5(0x19c)]=parseInt(_0x1b15a4['products'])+0x1,await _0x1b15a4[_0x5655f5(0x129)](),_0x1557fc[_0x5655f5(0x174)](_0x5655f5(0x11e),_0x5655f5(0x1ad)),_0x39de1b['redirect'](_0x5655f5(0x186));}catch(_0x4a5629){console[_0x5655f5(0x187)](_0x4a5629);}}),router[a0_0x5653f5(0x141)](a0_0x5653f5(0x121),auth,async(_0x2d67ae,_0x4dbd6f)=>{const _0x2b4895=a0_0x5653f5;try{const {username:_0x4fd34f,email:_0x2b99c2,role:_0x36264a}=_0x2d67ae[_0x2b4895(0x1a4)],_0x185155=_0x2d67ae['user'],_0x5c1f60=await profile[_0x2b4895(0x158)]({'email':_0x185155[_0x2b4895(0x124)]}),_0x3e45fc=await master_shop[_0x2b4895(0x107)]();console[_0x2b4895(0x187)](_0x2b4895(0x17b),_0x3e45fc);const _0x5e37c0=_0x2d67ae[_0x2b4895(0x19f)]['id'],_0x3f7fa6=await product[_0x2b4895(0x181)](_0x5e37c0),_0x4285ee=await categories[_0x2b4895(0x107)]({}),_0x90cbbf=await brands[_0x2b4895(0x107)]({}),_0xf7da75=await units[_0x2b4895(0x107)]({}),_0x43ff5a=await warehouse[_0x2b4895(0x107)]({'status':_0x2b4895(0x169)}),_0x4f8510=await units[_0x2b4895(0x167)]([{'$group':{'_id':_0x2b4895(0x149),'secondaryunit':{'$first':_0x2b4895(0x14a)}}}]);if(_0x3e45fc[0x0][_0x2b4895(0x1af)]=='English\x20(US)')var _0xe69d57=users[_0x2b4895(0x127)];else{if(_0x3e45fc[0x0][_0x2b4895(0x1af)]==_0x2b4895(0x1b1))var _0xe69d57=users[_0x2b4895(0x1b1)];else{if(_0x3e45fc[0x0]['language']=='German')var _0xe69d57=users[_0x2b4895(0x178)];else{if(_0x3e45fc[0x0]['language']==_0x2b4895(0x16b))var _0xe69d57=users['Spanish'];else{if(_0x3e45fc[0x0][_0x2b4895(0x1af)]=='French')var _0xe69d57=users[_0x2b4895(0x172)];else{if(_0x3e45fc[0x0]['language']==_0x2b4895(0x14f))var _0xe69d57=users[_0x2b4895(0x175)];else{if(_0x3e45fc[0x0][_0x2b4895(0x1af)]=='Chinese')var _0xe69d57=users[_0x2b4895(0x112)];else{if(_0x3e45fc[0x0]['language']==_0x2b4895(0x17e))var _0xe69d57=users[_0x2b4895(0x17d)];}}}}}}}_0x4dbd6f[_0x2b4895(0x198)](_0x2b4895(0x173),{'success':_0x2d67ae['flash']('success'),'errors':_0x2d67ae[_0x2b4895(0x174)]('errors'),'role':_0x185155,'profile':_0x5c1f60,'alldata':_0x3f7fa6,'categories':_0x4285ee,'brands':_0x90cbbf,'master_shop':_0x3e45fc,'units':_0xf7da75,'secondunit':_0x4f8510,'find_data':_0x43ff5a,'language':_0xe69d57});}catch(_0x86a00b){console[_0x2b4895(0x187)](_0x86a00b);}}),router[a0_0x5653f5(0x1bc)]('/view/:id',auth,upload[a0_0x5653f5(0x108)](a0_0x5653f5(0x183)),async(_0x1b011f,_0x32a8da)=>{const _0x152bcd=a0_0x5653f5;try{console[_0x152bcd(0x187)]('hello');const _0x33f777=_0x1b011f[_0x152bcd(0x19f)]['id'],_0x227e2b=await product[_0x152bcd(0x181)](_0x33f777),{image:_0x35b770,name:_0x343d5b,category:_0x3b4212,brand:_0x308c32,sku:_0x339cd3,unit:_0x3996f3,alertquantity:_0x4e9ca6,product_code:_0x571e4b,warehouse:_0x2d3d25,primary_ItemCode:_0x1f4ed8,second_ItemCode:_0x4c9b09,second_unit:_0x5038a9,maxPerUnit:_0x2b862a,MaxPerProduct:_0x473933,prod_catdata:_0x1329a5}=_0x1b011f[_0x152bcd(0x1c2)];_0x1b011f[_0x152bcd(0x153)]&&(_0x227e2b[_0x152bcd(0x183)]=_0x1b011f[_0x152bcd(0x153)][_0x152bcd(0x1b7)]);_0x227e2b[_0x152bcd(0x125)]=_0x343d5b,_0x227e2b[_0x152bcd(0x1b5)]=_0x3b4212,_0x227e2b[_0x152bcd(0x1b6)]=_0x308c32,_0x227e2b[_0x152bcd(0x115)]=_0x339cd3,_0x227e2b[_0x152bcd(0x180)]=_0x3996f3,_0x227e2b['alertquantity']=_0x4e9ca6,_0x227e2b['product_code']=_0x571e4b,_0x227e2b[_0x152bcd(0x136)]=_0x2d3d25,_0x227e2b[_0x152bcd(0x185)]=_0x1f4ed8,_0x227e2b[_0x152bcd(0x11c)]=_0x4c9b09,_0x227e2b['secondary_unit']=_0x5038a9,_0x227e2b[_0x152bcd(0x135)]=_0x473933,_0x227e2b['maxProdPerUnit']=_0x2b862a,_0x227e2b['product_category']=_0x1329a5;const _0x44d929=await _0x227e2b[_0x152bcd(0x129)]();console[_0x152bcd(0x187)]('product\x20edit',_0x227e2b),_0x1b011f[_0x152bcd(0x174)]('success',_0x152bcd(0x1aa)),_0x32a8da[_0x152bcd(0x147)](_0x152bcd(0x186));}catch(_0x2206de){console['log'](_0x2206de);}}),router['get'](a0_0x5653f5(0x16f),auth,async(_0x51b2dc,_0x5532e1)=>{const _0x4370b4=a0_0x5653f5;try{const {username:_0x58e053,email:_0x56595b,role:_0x1dfcde}=_0x51b2dc[_0x4370b4(0x1a4)],_0x500ab6=_0x51b2dc[_0x4370b4(0x1a4)],_0x142d42=await profile['findOne']({'email':_0x500ab6[_0x4370b4(0x124)]}),_0x455776=await master_shop[_0x4370b4(0x107)]();console[_0x4370b4(0x187)](_0x4370b4(0x182),_0x455776);const _0x4b3be5=_0x51b2dc[_0x4370b4(0x19f)]['id'],_0x22af60=await product[_0x4370b4(0x181)](_0x4b3be5);console[_0x4370b4(0x187)]('barcode\x20user_id',_0x22af60);if(_0x455776[0x0][_0x4370b4(0x1af)]==_0x4370b4(0x13d))var _0x5a675a=users[_0x4370b4(0x127)];else{if(_0x455776[0x0][_0x4370b4(0x1af)]=='Hindi')var _0x5a675a=users[_0x4370b4(0x1b1)];else{if(_0x455776[0x0]['language']==_0x4370b4(0x178))var _0x5a675a=users[_0x4370b4(0x178)];else{if(_0x455776[0x0][_0x4370b4(0x1af)]==_0x4370b4(0x16b))var _0x5a675a=users[_0x4370b4(0x16b)];else{if(_0x455776[0x0][_0x4370b4(0x1af)]==_0x4370b4(0x172))var _0x5a675a=users[_0x4370b4(0x172)];else{if(_0x455776[0x0][_0x4370b4(0x1af)]=='Portuguese\x20(BR)')var _0x5a675a=users[_0x4370b4(0x175)];else{if(_0x455776[0x0][_0x4370b4(0x1af)]==_0x4370b4(0x112))var _0x5a675a=users['Chinese'];else{if(_0x455776[0x0][_0x4370b4(0x1af)]==_0x4370b4(0x17e))var _0x5a675a=users['Arabic'];}}}}}}}_0x5532e1[_0x4370b4(0x198)](_0x4370b4(0x116),{'success':_0x51b2dc['flash'](_0x4370b4(0x11e)),'errors':_0x51b2dc[_0x4370b4(0x174)](_0x4370b4(0x156)),'role':_0x500ab6,'profile':_0x142d42,'alldata':_0x22af60,'master_shop':_0x455776,'language':_0x5a675a});}catch(_0x4a8d2a){console[_0x4370b4(0x187)](_0x4a8d2a);}}),router['get'](a0_0x5653f5(0x161),auth,async(_0x149250,_0x43d49c)=>{const _0x4433b2=a0_0x5653f5;try{const _0x4723e0=new excelJS[(_0x4433b2(0x130))](),_0x4593f1=_0x4723e0[_0x4433b2(0x10e)]('Products');return _0x4593f1[_0x4433b2(0x111)]=[{'header':_0x4433b2(0x113),'key':_0x4433b2(0x103),'width':0xa},{'header':_0x4433b2(0x126),'key':_0x4433b2(0x13a),'width':0xa},{'header':'Units','key':_0x4433b2(0x194),'width':0xa},{'header':_0x4433b2(0x11b),'key':_0x4433b2(0x131),'width':0xa},{'header':_0x4433b2(0x17f),'key':_0x4433b2(0x120),'width':0xa},{'header':_0x4433b2(0x1b9),'key':_0x4433b2(0x137),'width':0xa},{'header':_0x4433b2(0x100),'key':_0x4433b2(0x137),'width':0xa},{'header':_0x4433b2(0x119),'key':_0x4433b2(0x137),'width':0xa},{'header':_0x4433b2(0x12a),'key':_0x4433b2(0x166),'width':0xa},{'header':_0x4433b2(0x159),'key':_0x4433b2(0xfc),'width':0xa},{'header':'Maximum_Stocks','key':_0x4433b2(0xfc),'width':0xa},{'header':_0x4433b2(0x118),'key':_0x4433b2(0x152),'width':0xa}],_0x43d49c['setHeader'](_0x4433b2(0x1a5),_0x4433b2(0x110)),_0x43d49c[_0x4433b2(0x10a)](_0x4433b2(0x192),'attachment;\x20filename=Product_Migration_File.xlsx'),_0x4723e0[_0x4433b2(0x14c)]['write'](_0x43d49c)[_0x4433b2(0x109)](()=>{const _0x5c3c48=_0x4433b2;_0x43d49c[_0x5c3c48(0x117)](0xc8);});}catch(_0x458c1a){_0x43d49c[_0x4433b2(0x117)](0x190)['send'](_0x458c1a);}});const storage1=multer[a0_0x5653f5(0x163)]({'destination':(_0x59bb95,_0x2f0da8,_0x4f270f)=>{_0x4f270f(null,'public/Migration');},'filename':(_0x4ee0b1,_0x1d0072,_0x3207fd)=>{const _0xb859cb=a0_0x5653f5;_0x3207fd(null,Date[_0xb859cb(0x104)]()+_0x1d0072[_0xb859cb(0x199)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x5653f5(0x1bc)](a0_0x5653f5(0x16d),auth,uploadMigrate[a0_0x5653f5(0x108)](a0_0x5653f5(0x128)),async(_0x2ac2d4,_0x465835)=>{const _0xe41c55=a0_0x5653f5,_0x8e6720=_0x2ac2d4['file'][_0xe41c55(0x1b7)],_0x2d370d=await xlsx[_0xe41c55(0x11f)](_0xe41c55(0x19b)+_0x8e6720);let _0x33c3d0=_0x2d370d[_0xe41c55(0x11a)],_0x291c18=xlsx[_0xe41c55(0x195)][_0xe41c55(0x19a)](_0x2d370d[_0xe41c55(0x193)][_0x33c3d0[0x0]]);for(const _0x37d766 of _0x291c18){const _0x3b3fc5=_0x37d766['Product_Name'],_0x3750a4=_0x37d766[_0xe41c55(0x126)],_0x21b0f2=_0x37d766[_0xe41c55(0x132)],_0x5802ae=_0x37d766['Secondary_Units'],_0xaf90f7=_0x37d766[_0xe41c55(0x119)],_0x3a3dfe=_0x37d766[_0xe41c55(0x12a)],_0x1d51ac=_0x37d766[_0xe41c55(0x159)],_0x3ff61d=_0x37d766[_0xe41c55(0x1b9)],_0x145c7c=_0x37d766[_0xe41c55(0x100)],_0x32eda3=_0x37d766[_0xe41c55(0x168)],_0x27b77b=_0x37d766[_0xe41c55(0x17f)],_0x44ed60=_0x37d766[_0xe41c55(0x118)];try{let _0x3b300b=await categories[_0xe41c55(0x158)]({'name':_0x3a3dfe});if(!_0x3b300b){const _0x154cc8=new categories({'name':_0x3a3dfe,'products':'0'});_0x3b300b=await _0x154cc8[_0xe41c55(0x129)]();}let _0x3113b9=await brands[_0xe41c55(0x158)]({'name':_0x3750a4});if(!_0x3113b9){const _0x2856ff=new brands({'name':_0x3750a4,'products':'0'});_0x3113b9=await _0x2856ff[_0xe41c55(0x129)]();}let _0x2710e4=await units['findOne']({'name':_0x21b0f2,'secondary_unit':_0x5802ae});if(!_0x2710e4){const _0x5967d5=new units({'name':_0x21b0f2,'secondary_unit':_0x5802ae,'products':'0'});_0x2710e4=await _0x5967d5[_0xe41c55(0x129)]();}const _0x200968=await product['find']({'name':_0x3b3fc5,'category':_0x3b300b['name'],'brand':_0x3113b9[_0xe41c55(0x125)],'secondary_unit':_0x2710e4['secondary_unit'],'product_code':_0xaf90f7});console[_0xe41c55(0x187)](_0x200968['length']+'\x20<>\x20'+_0x3b300b[_0xe41c55(0x125)]+_0xe41c55(0x138)+_0x3113b9[_0xe41c55(0x125)]+_0xe41c55(0x138)+_0x2710e4[_0xe41c55(0x13c)]+_0xe41c55(0x138)+_0xaf90f7+_0xe41c55(0x138)+_0x3b3fc5);if(_0x200968['length']===0x0){const _0x342cd0=new product({'image':_0xe41c55(0x19d),'name':_0x3b3fc5,'category':_0x3b300b[_0xe41c55(0x125)],'brand':_0x3113b9[_0xe41c55(0x125)],'unit':_0x2710e4[_0xe41c55(0x125)],'alertquantity':_0x1d51ac,'product_code':_0xaf90f7,'secondary_unit':_0x2710e4[_0xe41c55(0x13c)],'primary_code':_0x3ff61d,'secondary_code':_0x145c7c,'maxStocks':_0x32eda3,'maxProdPerUnit':_0x27b77b,'product_category':_0x44ed60}),_0x5af800=await _0x342cd0[_0xe41c55(0x129)]();_0x3b300b[_0xe41c55(0x19c)]=parseInt(_0x3b300b[_0xe41c55(0x19c)])+0x1,await _0x3b300b['save'](),_0x3113b9[_0xe41c55(0x19c)]=parseInt(_0x3113b9[_0xe41c55(0x19c)])+0x1,await _0x3113b9[_0xe41c55(0x129)](),_0x2710e4['products']=parseInt(_0x2710e4[_0xe41c55(0x19c)])+0x1,await _0x2710e4['save'](),_0x2ac2d4[_0xe41c55(0x174)](_0xe41c55(0x11e),_0x3b3fc5+'\x20added\x20successfully');}else{console[_0xe41c55(0x187)](_0x200968[0x0]);const _0x4c69b4=_0x200968[0x0];_0x4c69b4[_0xe41c55(0x1b5)]=_0x3b300b['name'],_0x4c69b4[_0xe41c55(0x1b6)]=_0x3113b9[_0xe41c55(0x125)],_0x4c69b4['unit']=_0x2710e4[_0xe41c55(0x125)],_0x4c69b4[_0xe41c55(0x142)]=_0x1d51ac,_0x4c69b4[_0xe41c55(0x1a6)]=_0xaf90f7,_0x4c69b4['secondary_unit']=_0x2710e4[_0xe41c55(0x13c)],_0x4c69b4['primary_code']=_0x3ff61d,_0x4c69b4[_0xe41c55(0x11c)]=_0x145c7c,_0x4c69b4[_0xe41c55(0x135)]=_0x32eda3,_0x4c69b4[_0xe41c55(0x106)]=_0x27b77b,_0x4c69b4[_0xe41c55(0x1c0)]=_0x44ed60;const _0x5ae6dd=await _0x4c69b4[_0xe41c55(0x129)]();_0x2ac2d4[_0xe41c55(0x174)](_0xe41c55(0x11e),_0x5ae6dd['name']+_0xe41c55(0xfe));}}catch(_0x9d4f26){_0x465835[_0xe41c55(0x117)](0x1f4)['json']({'proderror':_0x9d4f26[_0xe41c55(0x1bf)],'aproduct':_0x3b3fc5});}}_0x465835[_0xe41c55(0x147)](_0xe41c55(0x186));}),router[a0_0x5653f5(0x1bc)](a0_0x5653f5(0x1a8),auth,async(_0x204c30,_0x43bf38)=>{const _0x5bbe94=a0_0x5653f5;try{console['log'](_0x204c30[_0x5bbe94(0x1c2)]);const {data_cateory:_0x2508d1,datachoose:_0xbfb9b4}=_0x204c30[_0x5bbe94(0x1c2)];var _0x5d4e15;if(_0xbfb9b4==_0x5bbe94(0x12d))_0x5d4e15=await product['aggregate']([{'$group':{'_id':_0x5bbe94(0x13f)}}]);else{if(_0xbfb9b4=='brands')_0x5d4e15=await product['aggregate']([{'$match':{'product_category':_0x2508d1}},{'$group':{'_id':_0x5bbe94(0x190)}}]);else _0xbfb9b4==_0x5bbe94(0x1b0)&&(_0x5d4e15=await product[_0x5bbe94(0x167)]([{'$match':{'product_category':_0x2508d1}},{'$group':{'_id':_0x5bbe94(0x12e)}}]));}_0x43bf38[_0x5bbe94(0x134)](_0x5d4e15);}catch(_0x3ce020){_0x43bf38['json']({'message':_0x3ce020[_0x5bbe94(0x1bf)]});}}),router[a0_0x5653f5(0x1bc)](a0_0x5653f5(0x13e),auth,async(_0x1441af,_0x23ff20)=>{const _0x2796c3=a0_0x5653f5;try{const {data_choosing:_0x15d73b,data_selected:_0x351f73}=_0x1441af[_0x2796c3(0x1c2)];var _0x4be0b5;if(_0x15d73b=='prod_categ')_0x4be0b5=await product[_0x2796c3(0x167)]([{'$match':{'product_category':_0x351f73}}]);else{if(_0x15d73b==_0x2796c3(0x15a))_0x4be0b5=await product[_0x2796c3(0x167)]([{'$match':{'brand':_0x351f73}}]);else _0x15d73b==_0x2796c3(0x1b0)&&(_0x4be0b5=await product[_0x2796c3(0x167)]([{'$match':{'category':_0x351f73}}]));}_0x23ff20[_0x2796c3(0x134)](_0x4be0b5);}catch(_0x381cb4){_0x23ff20['json']({'message':_0x381cb4['message']});}}),router['get'](a0_0x5653f5(0x10d),auth,async(_0x7d1aa6,_0x5c81c9)=>{const _0x13e5cd=a0_0x5653f5,_0x1128e7=_0x7d1aa6[_0x13e5cd(0x1a4)],_0x48fb8f=await profile[_0x13e5cd(0x158)]({'email':_0x1128e7[_0x13e5cd(0x124)]}),_0xb9d47=await master_shop[_0x13e5cd(0x107)](),_0x462dbf=await product[_0x13e5cd(0x107)]();if(_0xb9d47[0x0][_0x13e5cd(0x1af)]==_0x13e5cd(0x13d))var _0xa432a6=users[_0x13e5cd(0x127)];else{if(_0xb9d47[0x0][_0x13e5cd(0x1af)]=='Hindi')var _0xa432a6=users[_0x13e5cd(0x1b1)];else{if(_0xb9d47[0x0][_0x13e5cd(0x1af)]==_0x13e5cd(0x178))var _0xa432a6=users[_0x13e5cd(0x178)];else{if(_0xb9d47[0x0][_0x13e5cd(0x1af)]==_0x13e5cd(0x16b))var _0xa432a6=users[_0x13e5cd(0x16b)];else{if(_0xb9d47[0x0][_0x13e5cd(0x1af)]==_0x13e5cd(0x172))var _0xa432a6=users[_0x13e5cd(0x172)];else{if(_0xb9d47[0x0][_0x13e5cd(0x1af)]==_0x13e5cd(0x14f))var _0xa432a6=users['Portuguese'];else{if(_0xb9d47[0x0][_0x13e5cd(0x1af)]==_0x13e5cd(0x112))var _0xa432a6=users[_0x13e5cd(0x112)];else{if(_0xb9d47[0x0]['language']==_0x13e5cd(0x17e))var _0xa432a6=users[_0x13e5cd(0x17d)];}}}}}}}_0x5c81c9[_0x13e5cd(0x198)](_0x13e5cd(0x197),{'success':_0x7d1aa6[_0x13e5cd(0x174)]('success'),'errors':_0x7d1aa6[_0x13e5cd(0x174)](_0x13e5cd(0x156)),'role':_0x1128e7,'profile':_0x48fb8f,'products':_0x462dbf,'master_shop':_0xb9d47,'language':_0xa432a6});}),router[a0_0x5653f5(0x1bc)](a0_0x5653f5(0x15d),auth,async(_0xd2c2c2,_0x1034bf)=>{const _0x337772=await product['find']();_0x1034bf['json']({'data':_0x337772});}),router[a0_0x5653f5(0x1bc)]('/barcode_filter',auth,async(_0xad94f0,_0x148952)=>{const _0x3d5663=a0_0x5653f5;try{const {dataProdCat:_0x1b6b64,dataProdIdentity:_0x1832be}=_0xad94f0[_0x3d5663(0x1c2)];var _0xe350f2;switch(_0x1b6b64){case'fg':switch(_0x1832be){case'Brands':_0xe350f2=await product[_0x3d5663(0x167)]([{'$match':{'product_category':'Finished\x20Goods'}},{'$group':{'_id':'$brand'}},{'$project':{'brand':_0x3d5663(0x149)}}]);break;case _0x3d5663(0x12a):_0xe350f2=await product['aggregate']([{'$match':{'product_category':_0x3d5663(0x196)}},{'$group':{'_id':_0x3d5663(0x12e)}},{'$project':{'category':_0x3d5663(0x149)}}]);break;}break;case'rm':switch(_0x1832be){case _0x3d5663(0x126):_0xe350f2=await product['aggregate']([{'$match':{'product_category':'Raw\x20Materials'}},{'$group':{'_id':_0x3d5663(0x190)}},{'$project':{'brand':_0x3d5663(0x149)}}]);break;case _0x3d5663(0x12a):_0xe350f2=await product[_0x3d5663(0x167)]([{'$match':{'product_category':_0x3d5663(0x179)}},{'$group':{'_id':_0x3d5663(0x12e)}},{'$project':{'category':_0x3d5663(0x149)}}]);break;}break;}_0x148952[_0x3d5663(0x134)](_0xe350f2);}catch(_0x18d239){_0x148952[_0x3d5663(0x134)]({'message':_0x18d239[_0x3d5663(0x1bf)]});}}),router[a0_0x5653f5(0x1bc)](a0_0x5653f5(0x14b),auth,async(_0x33ac73,_0xe95e54)=>{const _0x40cc57=a0_0x5653f5;try{console['log'](_0x33ac73[_0x40cc57(0x1c2)]);const {prod_cat:_0x599e75,identity:_0x48d0ea,valueData:_0x382461,typeofbarcode:_0x24ddeb}=_0x33ac73[_0x40cc57(0x1c2)];let _0x355b1c;switch(_0x599e75){case'fg':if(_0x48d0ea=='Brands')_0x355b1c=await product[_0x40cc57(0x167)]([{'$match':{'product_category':'Finished\x20Goods','brand':_0x382461}}]);else _0x48d0ea==_0x40cc57(0x12a)&&(_0x355b1c=await product[_0x40cc57(0x167)]([{'$match':{'product_category':_0x40cc57(0x196),'category':_0x382461}}]));break;case'rm':if(_0x48d0ea==_0x40cc57(0x126))_0x355b1c=await product[_0x40cc57(0x167)]([{'$match':{'product_category':'Raw\x20Materials','brand':_0x382461}}]);else _0x48d0ea==_0x40cc57(0x12a)&&(_0x355b1c=await product['aggregate']([{'$match':{'product_category':_0x40cc57(0x179),'category':_0x382461}}]));break;}const _0x47ffab=_0x578da9=>_0x578da9*0x48,_0x569be5={'width':0x3,'height':0x1},_0x2c95df=new PDFDocument({'margin':_0x47ffab(0.75),'size':[_0x47ffab(_0x569be5[_0x40cc57(0x101)]),_0x47ffab(_0x569be5['height'])],'bufferPages':!![]}),_0xb75e50=_0x355b1c['length'];for(let _0x420781=0x0;_0x420781<=_0xb75e50;_0x420781++){if(_0x420781!=_0xb75e50){const _0x3a54c8=_0x355b1c[_0x420781][_0x40cc57(0x125)],_0x127674=_0x355b1c[_0x420781][_0x40cc57(0x185)],_0x56d140=_0x355b1c[_0x420781][_0x40cc57(0x11c)],_0x37e13c=_0x355b1c[_0x420781][_0x40cc57(0x1a6)];var _0x1e19af;switch(_0x24ddeb){case'1':_0x1e19af=_0x127674;break;case'2':_0x1e19af=_0x56d140;break;case'3':_0x1e19af=_0x37e13c;break;}const _0x4a90f1={'width':0xd2,'height':0x64},_0xa183b5={'width':_0x47ffab(_0x569be5[_0x40cc57(0x101)]),'height':_0x47ffab(_0x569be5[_0x40cc57(0x114)])},_0x4eb1b3=new Canvas();JsBarcode(_0x4eb1b3,_0x1e19af,{'format':_0x40cc57(0xfb),'height':_0x4a90f1[_0x40cc57(0x114)],'displayValue':!![],'text':_0x1e19af});const _0x57d603=_0x4eb1b3['toBuffer'](),_0x27c886=_0xa183b5['width']/_0x4a90f1[_0x40cc57(0x101)],_0x29755f=_0xa183b5[_0x40cc57(0x114)]/_0x4a90f1[_0x40cc57(0x114)],_0x96ecf2=Math['min'](_0x27c886,_0x29755f),_0x43afd4=_0x4a90f1[_0x40cc57(0x101)]*_0x96ecf2,_0x551363=_0x4a90f1[_0x40cc57(0x114)]*_0x96ecf2,_0x46fe15=(_0xa183b5[_0x40cc57(0x101)]-_0x43afd4)/0x2,_0x5da1cd=(_0xa183b5[_0x40cc57(0x114)]-_0x551363)/0x2;_0x2c95df[_0x40cc57(0x183)](_0x57d603,_0x46fe15,_0x5da1cd,{'width':_0x43afd4,'height':_0x551363}),_0x420781!=_0xb75e50&&_0x2c95df['addPage']();}}const _0xda9f1f=[];_0x2c95df['on'](_0x40cc57(0x19e),_0xda9f1f[_0x40cc57(0x10b)][_0x40cc57(0x189)](_0xda9f1f)),_0x2c95df['on'](_0x40cc57(0x18e),()=>{const _0x31a13e=_0x40cc57,_0x409166=Buffer[_0x31a13e(0x16a)](_0xda9f1f),_0x16ad8f=_0x409166['toString']('base64');_0xe95e54['json']({'pdfContent':_0x16ad8f});}),_0x2c95df[_0x40cc57(0x18e)]();}catch(_0x53e41f){_0xe95e54['json']({'message':_0x53e41f[_0x40cc57(0x1bf)]});}}),router['post'](a0_0x5653f5(0x184),auth,async(_0x4fc943,_0x1ae69c)=>{const _0x2cc021=a0_0x5653f5;try{console[_0x2cc021(0x187)](_0x4fc943[_0x2cc021(0x1c2)]);const {prod_cat:_0x4d50de,identity:_0x4a2338,valueData:_0x214ff0}=_0x4fc943[_0x2cc021(0x1c2)];let _0x25f746;switch(_0x4d50de){case'fg':if(_0x4a2338==_0x2cc021(0x126))_0x25f746=await product[_0x2cc021(0x167)]([{'$match':{'product_category':_0x2cc021(0x196),'brand':_0x214ff0}}]);else _0x4a2338==_0x2cc021(0x12a)&&(_0x25f746=await product[_0x2cc021(0x167)]([{'$match':{'product_category':'Finished\x20Goods','category':_0x214ff0}}]));break;case'rm':if(_0x4a2338==_0x2cc021(0x126))_0x25f746=await product[_0x2cc021(0x167)]([{'$match':{'product_category':'Raw\x20Materials','brand':_0x214ff0}}]);else _0x4a2338=='Category'&&(_0x25f746=await product[_0x2cc021(0x167)]([{'$match':{'product_category':_0x2cc021(0x179),'category':_0x214ff0}}]));break;}_0x1ae69c['json']({'data':_0x25f746});}catch(_0x11f089){_0x1ae69c[_0x2cc021(0x134)]({'message':_0x11f089[_0x2cc021(0x1bf)]});}}),router[a0_0x5653f5(0x1bc)](a0_0x5653f5(0x18a),auth,async(_0x13b1f7,_0x4c4169)=>{const _0x1459c7=a0_0x5653f5;try{const _0x13f8de=_0x13b1f7[_0x1459c7(0x19f)]['id'],{copies:_0x598893,typeofbarcode:_0x1ac90d}=_0x13b1f7[_0x1459c7(0x1c2)];var _0x22343b=await product['findById'](_0x13f8de);const _0x567250=_0x275e10=>_0x275e10*0x48,_0xf1830b={'width':0x3,'height':0x1},_0x4112bb=new PDFDocument({'margin':_0x567250(0.75),'size':[_0x567250(_0xf1830b[_0x1459c7(0x101)]),_0x567250(_0xf1830b['height'])],'bufferPages':!![]}),_0x59541a=_0x598893,_0xc45525=_0x22343b[_0x1459c7(0x125)],_0x545b75=_0x22343b[_0x1459c7(0x185)],_0x516796=_0x22343b[_0x1459c7(0x11c)],_0x3bc9fc=_0x22343b[_0x1459c7(0x1a6)];let _0x52ca3c;switch(_0x1ac90d){case'1':_0x52ca3c=_0x545b75;break;case'2':_0x52ca3c=_0x516796;break;case'3':_0x52ca3c=_0x3bc9fc;break;}const _0x897471={'width':0xd2,'height':0x64},_0x4dd86c={'width':_0x567250(_0xf1830b[_0x1459c7(0x101)]),'height':_0x567250(_0xf1830b['height'])};for(let _0x4f97f3=0x1;_0x4f97f3<=_0x59541a;_0x4f97f3++){const _0x2380ad=new Canvas();JsBarcode(_0x2380ad,_0x52ca3c,{'format':_0x1459c7(0xfb),'height':_0x897471[_0x1459c7(0x114)],'displayValue':!![],'text':_0x52ca3c});const _0x514506=_0x2380ad['toBuffer'](),_0x12d0bc=_0x4dd86c[_0x1459c7(0x101)]/_0x897471[_0x1459c7(0x101)],_0x154559=_0x4dd86c['height']/_0x897471[_0x1459c7(0x114)],_0x209ad3=Math[_0x1459c7(0x171)](_0x12d0bc,_0x154559),_0x58dbaa=_0x897471[_0x1459c7(0x101)]*_0x209ad3,_0x48d167=_0x897471['height']*_0x209ad3,_0x308fdc=(_0x4dd86c[_0x1459c7(0x101)]-_0x58dbaa)/0x2,_0x1ab38f=(_0x4dd86c[_0x1459c7(0x114)]-_0x48d167)/0x2;_0x4112bb[_0x1459c7(0x183)](_0x514506,_0x308fdc,_0x1ab38f,{'width':_0x58dbaa,'height':_0x48d167}),_0x4f97f3!=_0x59541a&&_0x4112bb[_0x1459c7(0x143)]();}const _0x596e27=[];_0x4112bb['on'](_0x1459c7(0x19e),_0x596e27['push']['bind'](_0x596e27)),_0x4112bb['on']('end',()=>{const _0x109e1b=_0x1459c7,_0x2fcf6b=Buffer[_0x109e1b(0x16a)](_0x596e27),_0x16c65f=_0x2fcf6b[_0x109e1b(0x17a)]('base64');_0x4c4169['json']({'pdfContent':_0x16c65f});}),_0x4112bb[_0x1459c7(0x18e)]();}catch(_0x160ccc){_0x4c4169[_0x1459c7(0x134)]({'message':_0x160ccc[_0x1459c7(0x1bf)]});}}),module[a0_0x5653f5(0x177)]=router;