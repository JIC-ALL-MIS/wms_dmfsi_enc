function a0_0x4ba5(){const _0x3a43e6=['pdfkit-table','/view','toBuffer','role','save','171801LTKasN','now','long','units','name','Portuguese','Hindi','Primary_Code','EXTENDERS_CODE','/products/units','German','categ','SheetNames','English\x20(US)','secondary_unit','json','product\x20edit','prod_categ','edit_product','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','product\x20update\x20successfully','categories_edit','params','addPage','/products/view','addWorksheet','canvas','/print_barcode_filter_search/','redirect','message','\x20<>\x20','primary_code','body','Arabic\x20(ae)','concat','\x20Edit\x20Successfully','/filter_product','15IXJqtT','send','public/upload','findByIdAndUpdate','PName','hello','write','attachment;\x20filename=spice_mix_migration.xlsx','/categories/:id','product\x20add\x20successfully','flash','PUnits','Raw\x20Materials','Secondary_Units','product_category','utils','/brands/:id','PCat','730600udnToW','single','$category','Arabic','product_code_spmx','products','post','findById','Admin','get','PBrands','Chinese','image','public/Migration','push','add_product','5150440mgcsmM','/units','readFile','CURING_SALT_CODE','columns','express','/print_barcode_single/:id','/products/brands','Content-Type','unit\x20data\x20delete\x20successfully','unit\x20data\x20update\x20successfully','aggregate','Enabled','/units/:id','$_id','public/Migration/','Category','/units/delete/:id','SPICEMIX_CODE','filename','Products','toString','/products_import_migrate_file_spmx','\x20categories\x20is\x20add\x20successfully','brand\x20data\x20update\x20successfully','findOne','warehouse_category','status','French','480eXrEAY','barcode\x20Product\x20master','/products_export_migrate_file','537032jxneEl','secondary_code','../public/language/languages.json','warehouse','$brand','numeric','ProductCode','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','render','setHeader','length','language','SPMX','Prod_Cat','originalname','staff','diskStorage','base64','/view/:id','max_number_per_units','Secondary_Code','/categories','errors','\x20added\x20successfully','Portuguese\x20(BR)','categories','Brands','/brands/delete/:id','barcode\x20user_id','file','maxStocks','unit','findByIdAndDelete','$secondary_unit','find','Product_Name','Product_Code','end','Sheets','English','Alert_QTY','1640124ubVkVr','brand','Maximum_Stocks','/barcode_data','edit\x20Product\x20master','sku','/view/add_products','migrate_product_file_spmx','xlsx','product_code','categories\x20data\x20delete\x20successfully','data','jsbarcode','/brands','products_spmx','then','defaultProduct.avif','log','bind','add_product_spmx','express/lib/response','/products/categories','width','exports','Spanish','558negXAx','edit_product_spmx','SPMX_M','/print_barcode','maxProdPerUnit','brand\x20data\x20delete\x20successfully','Products_category','Units','height','\x20unit\x20is\x20add\x20successfully','Finished\x20Goods','../middleware/auth','user','success','7273ZbnQlI','CODE128','product_barcode_products','brands','min','master','3064467KNenwu','alertquantity','email'];a0_0x4ba5=function(){return _0x3a43e6;};return a0_0x4ba5();}const a0_0x64da83=a0_0x21e4;(function(_0x426266,_0x4717c0){const _0x15d776=a0_0x21e4,_0x17d815=_0x426266();while(!![]){try{const _0x40a0fb=-parseInt(_0x15d776(0xf6))/0x1+-parseInt(_0x15d776(0xc6))/0x2+-parseInt(_0x15d776(0x14c))/0x3+parseInt(_0x15d776(0x11f))/0x4*(parseInt(_0x15d776(0xb4))/0x5)+-parseInt(_0x15d776(0x138))/0x6*(parseInt(_0x15d776(0x146))/0x7)+parseInt(_0x15d776(0xd6))/0x8+-parseInt(_0x15d776(0x154))/0x9*(-parseInt(_0x15d776(0xf3))/0xa);if(_0x40a0fb===_0x4717c0)break;else _0x17d815['push'](_0x17d815['shift']());}catch(_0x2199cc){_0x17d815['push'](_0x17d815['shift']());}}}(a0_0x4ba5,0xbbeba));const express=require(a0_0x64da83(0xdb)),res=require(a0_0x64da83(0x133)),app=express(),router=express['Router'](),multer=require('multer'),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require('../models/all_models'),auth=require(a0_0x64da83(0x143)),users=require(a0_0x64da83(0xf8)),excelJS=require('exceljs'),xlsx=require(a0_0x64da83(0x127)),JsBarcode=require(a0_0x64da83(0x12b)),{Canvas}=require(a0_0x64da83(0xa9)),PDFDocument=require(a0_0x64da83(0x14f));router[a0_0x64da83(0xcf)]('/categories',auth,async(_0x5d0114,_0x36a0a7)=>{const _0x5389e8=a0_0x64da83;try{const {username:_0x1977ca,email:_0x2eff45,role:_0x1d33bc}=_0x5d0114[_0x5389e8(0x144)],_0x56d5df=_0x5d0114[_0x5389e8(0x144)],_0x3bef82=await profile[_0x5389e8(0xef)]({'email':_0x56d5df['email']}),_0x96598f=await master_shop[_0x5389e8(0x118)]();console['log']('master',_0x96598f);const _0x3ab201=await categories[_0x5389e8(0x118)]();if(_0x96598f[0x0][_0x5389e8(0x101)]==_0x5389e8(0x9c))var _0x18262c=users[_0x5389e8(0x11d)];else{if(_0x96598f[0x0][_0x5389e8(0x101)]==_0x5389e8(0x95))var _0x18262c=users['Hindi'];else{if(_0x96598f[0x0]['language']==_0x5389e8(0x99))var _0x18262c=users['German'];else{if(_0x96598f[0x0][_0x5389e8(0x101)]==_0x5389e8(0x137))var _0x18262c=users['Spanish'];else{if(_0x96598f[0x0][_0x5389e8(0x101)]=='French')var _0x18262c=users[_0x5389e8(0xf2)];else{if(_0x96598f[0x0][_0x5389e8(0x101)]==_0x5389e8(0x10e))var _0x18262c=users[_0x5389e8(0x94)];else{if(_0x96598f[0x0]['language']==_0x5389e8(0xd1))var _0x18262c=users['Chinese'];else{if(_0x96598f[0x0]['language']==_0x5389e8(0xb0))var _0x18262c=users[_0x5389e8(0xc9)];}}}}}}}_0x36a0a7[_0x5389e8(0xfe)](_0x5389e8(0x10f),{'success':_0x5d0114[_0x5389e8(0xbe)](_0x5389e8(0x145)),'errors':_0x5d0114[_0x5389e8(0xbe)](_0x5389e8(0x10c)),'role':_0x56d5df,'profile':_0x3bef82,'user':_0x3ab201,'master_shop':_0x96598f,'language':_0x18262c});}catch(_0x377fe7){console['log'](_0x377fe7);}}),router[a0_0x64da83(0xcc)](a0_0x64da83(0x10b),auth,async(_0x170438,_0x10ac69)=>{const _0x1eac83=a0_0x64da83;try{const {name:_0x641c73,products:_0x2db83d}=_0x170438[_0x1eac83(0xaf)],_0x9f6cde=new categories({'name':_0x641c73,'products':_0x2db83d}),_0x4d2625=await categories['findOne']({'name':_0x641c73});_0x4d2625?_0x170438['flash'](_0x1eac83(0x10c),_0x641c73+_0x1eac83(0xfd)):_0x170438['flash'](_0x1eac83(0x145),_0x641c73+_0x1eac83(0xed));const _0x43120f=await _0x9f6cde[_0x1eac83(0x153)]();_0x10ac69[_0x1eac83(0xab)](_0x1eac83(0x134));}catch(_0x4e3398){console[_0x1eac83(0x130)](_0x4e3398);}}),router[a0_0x64da83(0xcf)](a0_0x64da83(0xbc),auth,async(_0x4e7c39,_0x223f94)=>{const _0x36ec79=a0_0x64da83;try{const {username:_0x18b985,email:_0xecf357,role:_0x318ff9}=_0x4e7c39[_0x36ec79(0x144)],_0x292bc3=_0x4e7c39[_0x36ec79(0x144)],_0x4af97a=await profile[_0x36ec79(0xef)]({'email':_0x292bc3[_0x36ec79(0x14e)]}),_0x582a7d=await master_shop[_0x36ec79(0x118)]();console['log']('master',_0x582a7d);const _0x4ed373=_0x4e7c39[_0x36ec79(0xa5)]['id'];console['log'](_0x4ed373);const _0x4a5eae=await categories[_0x36ec79(0xcd)](_0x4ed373);if(_0x582a7d[0x0][_0x36ec79(0x101)]==_0x36ec79(0x9c))var _0x1504b8=users[_0x36ec79(0x11d)];else{if(_0x582a7d[0x0][_0x36ec79(0x101)]=='Hindi')var _0x1504b8=users[_0x36ec79(0x95)];else{if(_0x582a7d[0x0][_0x36ec79(0x101)]==_0x36ec79(0x99))var _0x1504b8=users['German'];else{if(_0x582a7d[0x0][_0x36ec79(0x101)]=='Spanish')var _0x1504b8=users[_0x36ec79(0x137)];else{if(_0x582a7d[0x0][_0x36ec79(0x101)]==_0x36ec79(0xf2))var _0x1504b8=users[_0x36ec79(0xf2)];else{if(_0x582a7d[0x0][_0x36ec79(0x101)]==_0x36ec79(0x10e))var _0x1504b8=users[_0x36ec79(0x94)];else{if(_0x582a7d[0x0]['language']==_0x36ec79(0xd1))var _0x1504b8=users[_0x36ec79(0xd1)];else{if(_0x582a7d[0x0]['language']=='Arabic\x20(ae)')var _0x1504b8=users['Arabic'];}}}}}}}_0x223f94[_0x36ec79(0xfe)](_0x36ec79(0x10f),{'success':_0x4e7c39[_0x36ec79(0xbe)](_0x36ec79(0x145)),'errors':_0x4e7c39[_0x36ec79(0xbe)](_0x36ec79(0x10c)),'role':_0x292bc3,'profile':_0x4af97a,'master_shop':_0x582a7d,'user':_0x4a5eae,'language':_0x1504b8});}catch(_0x23d17b){console[_0x36ec79(0x130)](_0x23d17b);}}),router[a0_0x64da83(0xcc)]('/categories/:id',auth,async(_0x4ab629,_0x1ec6c8)=>{const _0x2d9d3d=a0_0x64da83;try{const _0x5ee9fe=_0x4ab629['params']['id'],_0x2009a3=await categories[_0x2d9d3d(0xb7)](_0x5ee9fe,_0x4ab629[_0x2d9d3d(0xaf)]);_0x4ab629[_0x2d9d3d(0xbe)](_0x2d9d3d(0x145),''+users[_0x2d9d3d(0xa4)]),_0x1ec6c8[_0x2d9d3d(0xab)]('/products/categories');}catch(_0x562535){console[_0x2d9d3d(0x130)](_0x562535);}}),router[a0_0x64da83(0xcf)]('/categories/delete/:id',auth,async(_0xb507cb,_0x27a7c3)=>{const _0x277faf=a0_0x64da83;try{const _0x21508b=_0xb507cb[_0x277faf(0xa5)]['id'],_0x47c470=await categories['findByIdAndDelete'](_0x21508b);_0xb507cb[_0x277faf(0xbe)]('success',_0x277faf(0x129)),_0x27a7c3['redirect'](_0x277faf(0x134));}catch(_0x17c494){console[_0x277faf(0x130)](_0x17c494);}}),router[a0_0x64da83(0xcf)](a0_0x64da83(0x12c),auth,async(_0x22264d,_0x12e116)=>{const _0x4250f8=a0_0x64da83;try{const {username:_0x1648eb,email:_0x3d3520,role:_0x16314f}=_0x22264d['user'],_0x5b13b9=_0x22264d[_0x4250f8(0x144)],_0x5e87d4=await profile[_0x4250f8(0xef)]({'email':_0x5b13b9['email']}),_0x5a8716=await master_shop[_0x4250f8(0x118)]();console['log'](_0x4250f8(0x14b),_0x5a8716);const _0x5759b6=await brands[_0x4250f8(0x118)]();if(_0x5a8716[0x0]['language']==_0x4250f8(0x9c))var _0x18593a=users[_0x4250f8(0x11d)];else{if(_0x5a8716[0x0][_0x4250f8(0x101)]==_0x4250f8(0x95))var _0x18593a=users['Hindi'];else{if(_0x5a8716[0x0][_0x4250f8(0x101)]=='German')var _0x18593a=users[_0x4250f8(0x99)];else{if(_0x5a8716[0x0]['language']==_0x4250f8(0x137))var _0x18593a=users[_0x4250f8(0x137)];else{if(_0x5a8716[0x0]['language']=='French')var _0x18593a=users[_0x4250f8(0xf2)];else{if(_0x5a8716[0x0][_0x4250f8(0x101)]==_0x4250f8(0x10e))var _0x18593a=users[_0x4250f8(0x94)];else{if(_0x5a8716[0x0][_0x4250f8(0x101)]==_0x4250f8(0xd1))var _0x18593a=users[_0x4250f8(0xd1)];else{if(_0x5a8716[0x0][_0x4250f8(0x101)]==_0x4250f8(0xb0))var _0x18593a=users['Arabic'];}}}}}}}_0x12e116[_0x4250f8(0xfe)](_0x4250f8(0x149),{'success':_0x22264d[_0x4250f8(0xbe)](_0x4250f8(0x145)),'errors':_0x22264d[_0x4250f8(0xbe)](_0x4250f8(0x10c)),'role':_0x5b13b9,'profile':_0x5e87d4,'master_shop':_0x5a8716,'user':_0x5759b6,'language':_0x18593a});}catch(_0x4b6236){console['log'](_0x4b6236);}}),router['post'](a0_0x64da83(0x12c),auth,async(_0x2c7527,_0x4420d3)=>{const _0x4d0d1e=a0_0x64da83;try{const {name:_0x4db3de,products:_0x5e31a7}=_0x2c7527[_0x4d0d1e(0xaf)],_0x122349=new brands({'name':_0x4db3de,'products':_0x5e31a7}),_0x16a7a8=await brands['findOne']({'name':_0x4db3de});_0x16a7a8?_0x2c7527[_0x4d0d1e(0xbe)](_0x4d0d1e(0x10c),_0x4db3de+_0x4d0d1e(0xa2)):_0x2c7527['flash'](_0x4d0d1e(0x145),_0x4db3de+'\x20brand\x20is\x20add\x20successfully');const _0x12894a=await _0x122349['save']();_0x4420d3[_0x4d0d1e(0xab)](_0x4d0d1e(0xdd));}catch(_0x18796e){console['log'](_0x18796e);}}),router['get'](a0_0x64da83(0xc4),auth,async(_0x8792eb,_0xc4d382)=>{const _0x5c441e=a0_0x64da83;try{const {username:_0x4ff98a,email:_0xb49ef5,role:_0x480792}=_0x8792eb[_0x5c441e(0x144)],_0xcc9886=_0x8792eb[_0x5c441e(0x144)],_0x33fbba=await profile[_0x5c441e(0xef)]({'email':_0xcc9886[_0x5c441e(0x14e)]}),_0x201d52=await master_shop[_0x5c441e(0x118)]();console[_0x5c441e(0x130)](_0x5c441e(0x14b),_0x201d52);const _0x31cacd=_0x8792eb['params']['id'];console[_0x5c441e(0x130)](_0x31cacd);const _0x48976c=await brands['findById'](_0x31cacd);if(_0x201d52[0x0]['language']==_0x5c441e(0x9c))var _0x5d5da1=users[_0x5c441e(0x11d)];else{if(_0x201d52[0x0]['language']==_0x5c441e(0x95))var _0x5d5da1=users[_0x5c441e(0x95)];else{if(_0x201d52[0x0][_0x5c441e(0x101)]=='German')var _0x5d5da1=users[_0x5c441e(0x99)];else{if(_0x201d52[0x0]['language']==_0x5c441e(0x137))var _0x5d5da1=users[_0x5c441e(0x137)];else{if(_0x201d52[0x0][_0x5c441e(0x101)]==_0x5c441e(0xf2))var _0x5d5da1=users[_0x5c441e(0xf2)];else{if(_0x201d52[0x0]['language']==_0x5c441e(0x10e))var _0x5d5da1=users['Portuguese'];else{if(_0x201d52[0x0]['language']=='Chinese')var _0x5d5da1=users[_0x5c441e(0xd1)];else{if(_0x201d52[0x0][_0x5c441e(0x101)]==_0x5c441e(0xb0))var _0x5d5da1=users[_0x5c441e(0xc9)];}}}}}}}_0xc4d382[_0x5c441e(0xfe)](_0x5c441e(0x149),{'success':_0x8792eb['flash']('success'),'errors':_0x8792eb[_0x5c441e(0xbe)]('errors'),'role':_0xcc9886,'profile':_0x33fbba,'master_shop':_0x201d52,'user':_0x48976c,'language':_0x5d5da1});}catch(_0x88a761){console[_0x5c441e(0x130)](_0x88a761);}}),router['post'](a0_0x64da83(0xc4),auth,async(_0x2ba6ed,_0x1f36d5)=>{const _0x652b51=a0_0x64da83;try{const _0x5ea35b=_0x2ba6ed[_0x652b51(0xa5)]['id'],_0x5a05ab=await brands['findByIdAndUpdate'](_0x5ea35b,_0x2ba6ed['body']);_0x2ba6ed['flash'](_0x652b51(0x145),_0x652b51(0xee)),_0x1f36d5['redirect'](_0x652b51(0xdd));}catch(_0x573bda){console['log'](_0x573bda);}}),router[a0_0x64da83(0xcf)](a0_0x64da83(0x111),auth,async(_0x168ebc,_0x20f3ae)=>{const _0x19cb81=a0_0x64da83;try{const _0x3ee527=_0x168ebc[_0x19cb81(0xa5)]['id'],_0x520674=await brands[_0x19cb81(0x116)](_0x3ee527);_0x168ebc['flash'](_0x19cb81(0x145),_0x19cb81(0x13d)),_0x20f3ae['redirect']('/products/brands');}catch(_0x496085){console[_0x19cb81(0x130)](_0x496085);}}),router[a0_0x64da83(0xcf)](a0_0x64da83(0xd7),auth,async(_0x1859c2,_0x18ac87)=>{const _0xb53e68=a0_0x64da83;try{const {username:_0x5c8eeb,email:_0x10b7f4,role:_0x43e432}=_0x1859c2[_0xb53e68(0x144)],_0x590190=_0x1859c2['user'],_0xd9f759=await profile[_0xb53e68(0xef)]({'email':_0x590190[_0xb53e68(0x14e)]}),_0x386eda=await master_shop[_0xb53e68(0x118)]();console[_0xb53e68(0x130)](_0xb53e68(0x14b),_0x386eda);const _0x5f5c45=await units[_0xb53e68(0x118)]();if(_0x386eda[0x0][_0xb53e68(0x101)]==_0xb53e68(0x9c))var _0x8abbb2=users[_0xb53e68(0x11d)];else{if(_0x386eda[0x0][_0xb53e68(0x101)]==_0xb53e68(0x95))var _0x8abbb2=users[_0xb53e68(0x95)];else{if(_0x386eda[0x0][_0xb53e68(0x101)]==_0xb53e68(0x99))var _0x8abbb2=users[_0xb53e68(0x99)];else{if(_0x386eda[0x0][_0xb53e68(0x101)]==_0xb53e68(0x137))var _0x8abbb2=users[_0xb53e68(0x137)];else{if(_0x386eda[0x0][_0xb53e68(0x101)]==_0xb53e68(0xf2))var _0x8abbb2=users[_0xb53e68(0xf2)];else{if(_0x386eda[0x0][_0xb53e68(0x101)]==_0xb53e68(0x10e))var _0x8abbb2=users[_0xb53e68(0x94)];else{if(_0x386eda[0x0][_0xb53e68(0x101)]==_0xb53e68(0xd1))var _0x8abbb2=users[_0xb53e68(0xd1)];else{if(_0x386eda[0x0][_0xb53e68(0x101)]==_0xb53e68(0xb0))var _0x8abbb2=users[_0xb53e68(0xc9)];}}}}}}}_0x18ac87[_0xb53e68(0xfe)](_0xb53e68(0x92),{'success':_0x1859c2[_0xb53e68(0xbe)](_0xb53e68(0x145)),'errors':_0x1859c2[_0xb53e68(0xbe)]('errors'),'role':_0x590190,'profile':_0xd9f759,'master_shop':_0x386eda,'user':_0x5f5c45,'language':_0x8abbb2});}catch(_0x1b40cc){console[_0xb53e68(0x130)](_0x1b40cc);}}),router[a0_0x64da83(0xcc)](a0_0x64da83(0xd7),auth,async(_0x48cfeb,_0x14c28e)=>{const _0x1bfa3=a0_0x64da83;try{const {name:_0x7b4c5c,secondary_unit:_0x2f32ae,products:_0x27ba19}=_0x48cfeb[_0x1bfa3(0xaf)],_0x1a163c=new units({'name':_0x7b4c5c,'secondary_unit':_0x2f32ae,'products':_0x27ba19}),_0x1b311e=await units[_0x1bfa3(0xef)]({'name':_0x7b4c5c});_0x1b311e?_0x48cfeb[_0x1bfa3(0xbe)]('errors',_0x7b4c5c+'\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x48cfeb[_0x1bfa3(0xbe)](_0x1bfa3(0x145),_0x7b4c5c+_0x1bfa3(0x141));const _0x1c2527=await _0x1a163c['save']();_0x14c28e['redirect'](_0x1bfa3(0x98));}catch(_0x51d928){console[_0x1bfa3(0x130)](_0x51d928);}}),router[a0_0x64da83(0xcf)](a0_0x64da83(0xe3),auth,async(_0x195d85,_0x1bcd5d)=>{const _0x325c37=a0_0x64da83;try{const {username:_0x1c7a0d,email:_0x35cc1a,role:_0x1215f2}=_0x195d85[_0x325c37(0x144)],_0x436e21=_0x195d85[_0x325c37(0x144)],_0x389f29=await profile[_0x325c37(0xef)]({'email':_0x436e21[_0x325c37(0x14e)]}),_0x3fd7c7=await master_shop['find']();console[_0x325c37(0x130)](_0x325c37(0x14b),_0x3fd7c7);const _0x5a8bce=_0x195d85[_0x325c37(0xa5)]['id'],_0x48581f=await units[_0x325c37(0xcd)](_0x5a8bce);if(_0x3fd7c7[0x0][_0x325c37(0x101)]==_0x325c37(0x9c))var _0x5d795a=users['English'];else{if(_0x3fd7c7[0x0][_0x325c37(0x101)]==_0x325c37(0x95))var _0x5d795a=users[_0x325c37(0x95)];else{if(_0x3fd7c7[0x0][_0x325c37(0x101)]==_0x325c37(0x99))var _0x5d795a=users['German'];else{if(_0x3fd7c7[0x0][_0x325c37(0x101)]==_0x325c37(0x137))var _0x5d795a=users[_0x325c37(0x137)];else{if(_0x3fd7c7[0x0]['language']=='French')var _0x5d795a=users[_0x325c37(0xf2)];else{if(_0x3fd7c7[0x0]['language']=='Portuguese\x20(BR)')var _0x5d795a=users[_0x325c37(0x94)];else{if(_0x3fd7c7[0x0]['language']==_0x325c37(0xd1))var _0x5d795a=users['Chinese'];else{if(_0x3fd7c7[0x0][_0x325c37(0x101)]==_0x325c37(0xb0))var _0x5d795a=users['Arabic'];}}}}}}}_0x1bcd5d[_0x325c37(0xfe)]('units',{'success':_0x195d85[_0x325c37(0xbe)](_0x325c37(0x145)),'errors':_0x195d85['flash'](_0x325c37(0x10c)),'role':_0x436e21,'profile':_0x389f29,'master_shop':_0x3fd7c7,'user':_0x48581f,'language':_0x5d795a});}catch(_0x44269f){console[_0x325c37(0x130)](_0x44269f);}}),router[a0_0x64da83(0xcc)](a0_0x64da83(0xe3),auth,async(_0x162de9,_0x107cbe)=>{const _0x22a41c=a0_0x64da83;try{const _0x4c10e8=_0x162de9[_0x22a41c(0xa5)]['id'],_0x2a7b08=await units[_0x22a41c(0xb7)](_0x4c10e8,_0x162de9['body']);_0x162de9[_0x22a41c(0xbe)](_0x22a41c(0x145),_0x22a41c(0xe0)),_0x107cbe['redirect']('/products/units');}catch(_0x190cf9){console['log'](_0x190cf9);}}),router[a0_0x64da83(0xcf)](a0_0x64da83(0xe7),auth,async(_0x260939,_0x1ae1af)=>{const _0x2cb13a=a0_0x64da83;try{const _0x164cf7=_0x260939[_0x2cb13a(0xa5)]['id'],_0x2adaf1=await units[_0x2cb13a(0x116)](_0x164cf7);_0x260939[_0x2cb13a(0xbe)](_0x2cb13a(0x145),_0x2cb13a(0xdf)),_0x1ae1af['redirect'](_0x2cb13a(0x98));}catch(_0x465f76){console['log'](_0x465f76);}});function a0_0x21e4(_0xe2ee65,_0x3ac893){const _0x4ba5e7=a0_0x4ba5();return a0_0x21e4=function(_0x21e488,_0x140be8){_0x21e488=_0x21e488-0x91;let _0x5d4887=_0x4ba5e7[_0x21e488];return _0x5d4887;},a0_0x21e4(_0xe2ee65,_0x3ac893);}const storage=multer[a0_0x64da83(0x106)]({'destination':(_0x3f26b8,_0x1fd110,_0x1a2257)=>{const _0x6e6ae6=a0_0x64da83;_0x1a2257(null,_0x6e6ae6(0xb6));},'filename':(_0xfbe400,_0x2b3e0f,_0x37879f)=>{const _0xede926=a0_0x64da83;_0x37879f(null,Date[_0xede926(0x155)]()+_0x2b3e0f[_0xede926(0x104)]);}}),upload=multer({'storage':storage});router[a0_0x64da83(0xcf)](a0_0x64da83(0x150),auth,async(_0x5267ec,_0x297b27)=>{const _0x448861=a0_0x64da83;try{const {username:_0x3573a6,email:_0x450197,role:_0xfb48d7}=_0x5267ec[_0x448861(0x144)],_0x429f51=_0x5267ec[_0x448861(0x144)],_0x270f17=await profile[_0x448861(0xef)]({'email':_0x429f51[_0x448861(0x14e)]}),_0x4ba673={'year':'numeric','month':_0x448861(0x91),'day':_0x448861(0xfb)},_0x5a60d3=await master_shop[_0x448861(0x118)]();if(_0x429f51[_0x448861(0x152)]==_0x448861(0xce))var _0x53a290=await product[_0x448861(0x118)]();else var _0x53a290=await product[_0x448861(0x118)]({'product_category':_0x429f51['warehouse_category']});if(_0x5a60d3[0x0]['language']=='English\x20(US)')var _0x5f48e6=users[_0x448861(0x11d)];else{if(_0x5a60d3[0x0][_0x448861(0x101)]==_0x448861(0x95))var _0x5f48e6=users[_0x448861(0x95)];else{if(_0x5a60d3[0x0][_0x448861(0x101)]==_0x448861(0x99))var _0x5f48e6=users['German'];else{if(_0x5a60d3[0x0][_0x448861(0x101)]==_0x448861(0x137))var _0x5f48e6=users[_0x448861(0x137)];else{if(_0x5a60d3[0x0][_0x448861(0x101)]==_0x448861(0xf2))var _0x5f48e6=users['French'];else{if(_0x5a60d3[0x0][_0x448861(0x101)]==_0x448861(0x10e))var _0x5f48e6=users['Portuguese'];else{if(_0x5a60d3[0x0][_0x448861(0x101)]==_0x448861(0xd1))var _0x5f48e6=users['Chinese'];else{if(_0x5a60d3[0x0][_0x448861(0x101)]==_0x448861(0xb0))var _0x5f48e6=users[_0x448861(0xc9)];}}}}}}}_0x429f51[_0x448861(0xf0)]==_0x448861(0x102)?_0x297b27[_0x448861(0xfe)](_0x448861(0x12d),{'success':_0x5267ec[_0x448861(0xbe)](_0x448861(0x145)),'errors':_0x5267ec[_0x448861(0xbe)](_0x448861(0x10c)),'alldata':_0x53a290,'profile':_0x270f17,'master_shop':_0x5a60d3,'role':_0x429f51,'language':_0x5f48e6}):_0x297b27['render'](_0x448861(0xcb),{'success':_0x5267ec[_0x448861(0xbe)](_0x448861(0x145)),'errors':_0x5267ec[_0x448861(0xbe)](_0x448861(0x10c)),'alldata':_0x53a290,'profile':_0x270f17,'master_shop':_0x5a60d3,'role':_0x429f51,'language':_0x5f48e6});}catch(_0x3a0641){console[_0x448861(0x130)](_0x3a0641);}}),router[a0_0x64da83(0xcf)](a0_0x64da83(0x125),auth,async(_0x13660d,_0x3e29fa)=>{const _0x34f6be=a0_0x64da83;try{const {username:_0x7e257e,email:_0x180052,role:_0x13f18b}=_0x13660d[_0x34f6be(0x144)],_0x2010e4=_0x13660d[_0x34f6be(0x144)],_0x12e25b=await profile[_0x34f6be(0xef)]({'email':_0x2010e4['email']}),_0x33f59b=await master_shop[_0x34f6be(0x118)]();console[_0x34f6be(0x130)]('master',_0x33f59b);const _0x302ed7=await categories[_0x34f6be(0x118)]({}),_0xc97a3a=await brands[_0x34f6be(0x118)]({}),_0x4b233b=await units[_0x34f6be(0x118)]({}),_0x473776=await warehouse['find']({'status':_0x34f6be(0xe2)});if(_0x33f59b[0x0][_0x34f6be(0x101)]==_0x34f6be(0x9c))var _0x39d19f=users['English'];else{if(_0x33f59b[0x0][_0x34f6be(0x101)]==_0x34f6be(0x95))var _0x39d19f=users[_0x34f6be(0x95)];else{if(_0x33f59b[0x0][_0x34f6be(0x101)]==_0x34f6be(0x99))var _0x39d19f=users[_0x34f6be(0x99)];else{if(_0x33f59b[0x0][_0x34f6be(0x101)]==_0x34f6be(0x137))var _0x39d19f=users[_0x34f6be(0x137)];else{if(_0x33f59b[0x0][_0x34f6be(0x101)]==_0x34f6be(0xf2))var _0x39d19f=users[_0x34f6be(0xf2)];else{if(_0x33f59b[0x0][_0x34f6be(0x101)]==_0x34f6be(0x10e))var _0x39d19f=users[_0x34f6be(0x94)];else{if(_0x33f59b[0x0][_0x34f6be(0x101)]=='Chinese')var _0x39d19f=users[_0x34f6be(0xd1)];else{if(_0x33f59b[0x0][_0x34f6be(0x101)]==_0x34f6be(0xb0))var _0x39d19f=users[_0x34f6be(0xc9)];}}}}}}}_0x2010e4['warehouse_category']==_0x34f6be(0x102)?_0x3e29fa['render'](_0x34f6be(0x132),{'success':_0x13660d[_0x34f6be(0xbe)](_0x34f6be(0x145)),'errors':_0x13660d[_0x34f6be(0xbe)](_0x34f6be(0x10c)),'role':_0x2010e4,'profile':_0x12e25b,'categories':_0x302ed7,'brands':_0xc97a3a,'master_shop':_0x33f59b,'units':_0x4b233b,'language':_0x39d19f,'find_data':_0x473776}):_0x3e29fa[_0x34f6be(0xfe)](_0x34f6be(0xd5),{'success':_0x13660d['flash'](_0x34f6be(0x145)),'errors':_0x13660d[_0x34f6be(0xbe)](_0x34f6be(0x10c)),'role':_0x2010e4,'profile':_0x12e25b,'categories':_0x302ed7,'brands':_0xc97a3a,'master_shop':_0x33f59b,'units':_0x4b233b,'language':_0x39d19f,'find_data':_0x473776});}catch(_0x51ec6c){console['log'](_0x51ec6c);}}),router[a0_0x64da83(0xcc)](a0_0x64da83(0x125),auth,upload[a0_0x64da83(0xc7)]('image'),async(_0x999f0e,_0x211a51)=>{const _0x553477=a0_0x64da83;try{const {name:_0x577fcb,category:_0x2958b5,brand:_0x1b2578,unit:_0x1fa1ad,alertquantity:_0x41b77c,stock:_0x51dc98,product_code:_0xed2faf,warehouse:_0x34df05,primary_ItemCode:_0x2d63dd,second_ItemCode:_0x10817f,second_unit:_0x1335c6,maxPerUnit:_0x4df397,MaxPerProduct:_0x24074c,prod_catdata:_0x315691,product_code_spmx:_0x5024f6}=_0x999f0e[_0x553477(0xaf)],_0x45d07d=_0x999f0e[_0x553477(0x113)]?.[_0x553477(0xe9)]||_0x553477(0x12f),_0x5e06e2=new product({'image':_0x45d07d,'name':_0x577fcb,'category':_0x2958b5,'brand':_0x1b2578,'unit':_0x1fa1ad,'alertquantity':_0x41b77c,'stock':_0x51dc98,'product_code_spmx':_0x5024f6,'product_code':_0xed2faf,'warehouse':_0x34df05,'primary_code':_0x2d63dd,'secondary_code':_0x10817f,'second_unit':_0x1335c6,'maxStocks':_0x24074c,'maxProdPerUnit':_0x4df397,'product_category':_0x315691}),_0x3d0524=await _0x5e06e2[_0x553477(0x153)](),_0x4b302b=await categories[_0x553477(0xef)]({'name':_0x2958b5});_0x4b302b[_0x553477(0xcb)]=parseInt(_0x4b302b['products'])+0x1,await _0x4b302b['save']();const _0x250258=await brands[_0x553477(0xef)]({'name':_0x1b2578});_0x250258['products']=parseInt(_0x250258[_0x553477(0xcb)])+0x1,await _0x250258['save']();const _0x357d29=await units[_0x553477(0xef)]({'name':_0x1fa1ad});_0x357d29[_0x553477(0xcb)]=parseInt(_0x357d29[_0x553477(0xcb)])+0x1,await _0x357d29[_0x553477(0x153)](),_0x999f0e[_0x553477(0xbe)](_0x553477(0x145),_0x553477(0xbd)),_0x211a51['redirect'](_0x553477(0xa7));}catch(_0x5ec196){console[_0x553477(0x130)](_0x5ec196);}}),router[a0_0x64da83(0xcf)](a0_0x64da83(0x108),auth,async(_0x1bd1f0,_0x193e89)=>{const _0x216469=a0_0x64da83;try{const {username:_0x32dc59,email:_0x14cb13,role:_0x2cfb18}=_0x1bd1f0['user'],_0x4dbbde=_0x1bd1f0[_0x216469(0x144)],_0x196d37=await profile[_0x216469(0xef)]({'email':_0x4dbbde[_0x216469(0x14e)]}),_0x451aa6=await master_shop[_0x216469(0x118)]();console['log'](_0x216469(0x123),_0x451aa6);const _0x4429a5=_0x1bd1f0['params']['id'],_0x267aa7=await product[_0x216469(0xcd)](_0x4429a5),_0x9af798=await categories['find']({}),_0x432641=await brands[_0x216469(0x118)]({}),_0x3e7251=await units[_0x216469(0x118)]({}),_0x526210=await warehouse[_0x216469(0x118)]({'status':_0x216469(0xe2)}),_0x404f22=await units[_0x216469(0xe1)]([{'$group':{'_id':'$_id','secondaryunit':{'$first':_0x216469(0x117)}}}]);if(_0x451aa6[0x0][_0x216469(0x101)]==_0x216469(0x9c))var _0x4aa581=users['English'];else{if(_0x451aa6[0x0]['language']==_0x216469(0x95))var _0x4aa581=users[_0x216469(0x95)];else{if(_0x451aa6[0x0][_0x216469(0x101)]==_0x216469(0x99))var _0x4aa581=users[_0x216469(0x99)];else{if(_0x451aa6[0x0]['language']=='Spanish')var _0x4aa581=users[_0x216469(0x137)];else{if(_0x451aa6[0x0][_0x216469(0x101)]==_0x216469(0xf2))var _0x4aa581=users[_0x216469(0xf2)];else{if(_0x451aa6[0x0][_0x216469(0x101)]==_0x216469(0x10e))var _0x4aa581=users[_0x216469(0x94)];else{if(_0x451aa6[0x0][_0x216469(0x101)]==_0x216469(0xd1))var _0x4aa581=users[_0x216469(0xd1)];else{if(_0x451aa6[0x0][_0x216469(0x101)]==_0x216469(0xb0))var _0x4aa581=users['Arabic'];}}}}}}}_0x4dbbde[_0x216469(0xf0)]==_0x216469(0x102)?_0x193e89['render'](_0x216469(0x139),{'success':_0x1bd1f0[_0x216469(0xbe)](_0x216469(0x145)),'errors':_0x1bd1f0['flash']('errors'),'role':_0x4dbbde,'profile':_0x196d37,'alldata':_0x267aa7,'categories':_0x9af798,'brands':_0x432641,'master_shop':_0x451aa6,'units':_0x3e7251,'secondunit':_0x404f22,'find_data':_0x526210,'language':_0x4aa581}):_0x193e89[_0x216469(0xfe)](_0x216469(0xa1),{'success':_0x1bd1f0[_0x216469(0xbe)]('success'),'errors':_0x1bd1f0[_0x216469(0xbe)]('errors'),'role':_0x4dbbde,'profile':_0x196d37,'alldata':_0x267aa7,'categories':_0x9af798,'brands':_0x432641,'master_shop':_0x451aa6,'units':_0x3e7251,'secondunit':_0x404f22,'find_data':_0x526210,'language':_0x4aa581});}catch(_0x5eff25){console[_0x216469(0x130)](_0x5eff25);}}),router[a0_0x64da83(0xcc)]('/view/:id',auth,upload['single'](a0_0x64da83(0xd2)),async(_0x232e99,_0x4aab45)=>{const _0xaf0d9f=a0_0x64da83;try{console[_0xaf0d9f(0x130)](_0xaf0d9f(0xb9));const _0x24a701=_0x232e99[_0xaf0d9f(0xa5)]['id'],_0x207c6c=await product[_0xaf0d9f(0xcd)](_0x24a701),{image:_0xc010c,name:_0x299107,category:_0x4f4b99,brand:_0x58cc8d,sku:_0x453248,unit:_0x3d81f3,alertquantity:_0xa45559,product_code:_0x312e4b,warehouse:_0x3959e5,primary_ItemCode:_0x21c49b,second_ItemCode:_0x3ab692,second_unit:_0x46de83,maxPerUnit:_0x10de79,MaxPerProduct:_0x510044,prod_catdata:_0x2274fd,product_code_spmx:_0x5ef29d}=_0x232e99[_0xaf0d9f(0xaf)];_0x232e99[_0xaf0d9f(0x113)]&&(_0x207c6c['image']=_0x232e99[_0xaf0d9f(0x113)][_0xaf0d9f(0xe9)]);_0x207c6c[_0xaf0d9f(0x93)]=_0x299107,_0x207c6c['category']=_0x4f4b99,_0x207c6c[_0xaf0d9f(0x120)]=_0x58cc8d,_0x207c6c[_0xaf0d9f(0x124)]=_0x453248,_0x207c6c[_0xaf0d9f(0x115)]=_0x3d81f3,_0x207c6c[_0xaf0d9f(0x14d)]=_0xa45559,_0x207c6c['product_code']=_0x312e4b,_0x207c6c[_0xaf0d9f(0xf9)]=_0x3959e5,_0x207c6c[_0xaf0d9f(0xae)]=_0x21c49b,_0x207c6c['secondary_code']=_0x3ab692,_0x207c6c[_0xaf0d9f(0x9d)]=_0x46de83,_0x207c6c[_0xaf0d9f(0x114)]=_0x510044,_0x207c6c[_0xaf0d9f(0x13c)]=_0x10de79,_0x207c6c[_0xaf0d9f(0xc2)]=_0x2274fd,_0x207c6c[_0xaf0d9f(0xca)]=_0x5ef29d;const _0x16bfdf=await _0x207c6c[_0xaf0d9f(0x153)]();console[_0xaf0d9f(0x130)](_0xaf0d9f(0x9f),_0x207c6c),_0x232e99[_0xaf0d9f(0xbe)]('success',_0xaf0d9f(0xa3)),_0x4aab45[_0xaf0d9f(0xab)](_0xaf0d9f(0xa7));}catch(_0x5bd6cc){console['log'](_0x5bd6cc);}}),router[a0_0x64da83(0xcf)]('/barcode/:id',auth,async(_0x54f6fa,_0x4567fd)=>{const _0x4e9be0=a0_0x64da83;try{const {username:_0x492365,email:_0xf1e76c,role:_0x4a8a31}=_0x54f6fa[_0x4e9be0(0x144)],_0x35099c=_0x54f6fa[_0x4e9be0(0x144)],_0x492e36=await profile['findOne']({'email':_0x35099c[_0x4e9be0(0x14e)]}),_0x5989e6=await master_shop[_0x4e9be0(0x118)]();console['log'](_0x4e9be0(0xf4),_0x5989e6);const _0x4a5e16=_0x54f6fa[_0x4e9be0(0xa5)]['id'],_0x42c0b3=await product[_0x4e9be0(0xcd)](_0x4a5e16);console[_0x4e9be0(0x130)](_0x4e9be0(0x112),_0x42c0b3);if(_0x5989e6[0x0][_0x4e9be0(0x101)]==_0x4e9be0(0x9c))var _0x57b626=users[_0x4e9be0(0x11d)];else{if(_0x5989e6[0x0][_0x4e9be0(0x101)]=='Hindi')var _0x57b626=users['Hindi'];else{if(_0x5989e6[0x0]['language']=='German')var _0x57b626=users[_0x4e9be0(0x99)];else{if(_0x5989e6[0x0][_0x4e9be0(0x101)]==_0x4e9be0(0x137))var _0x57b626=users[_0x4e9be0(0x137)];else{if(_0x5989e6[0x0][_0x4e9be0(0x101)]==_0x4e9be0(0xf2))var _0x57b626=users[_0x4e9be0(0xf2)];else{if(_0x5989e6[0x0]['language']==_0x4e9be0(0x10e))var _0x57b626=users['Portuguese'];else{if(_0x5989e6[0x0]['language']==_0x4e9be0(0xd1))var _0x57b626=users[_0x4e9be0(0xd1)];else{if(_0x5989e6[0x0][_0x4e9be0(0x101)]==_0x4e9be0(0xb0))var _0x57b626=users[_0x4e9be0(0xc9)];}}}}}}}_0x4567fd[_0x4e9be0(0xfe)]('product_barcode',{'success':_0x54f6fa[_0x4e9be0(0xbe)]('success'),'errors':_0x54f6fa[_0x4e9be0(0xbe)](_0x4e9be0(0x10c)),'role':_0x35099c,'profile':_0x492e36,'alldata':_0x42c0b3,'master_shop':_0x5989e6,'language':_0x57b626});}catch(_0x2c5e02){console[_0x4e9be0(0x130)](_0x2c5e02);}}),router['get']('/products_export_migrate_file_spmx',auth,async(_0x1586d8,_0x2f292f)=>{const _0x453c91=a0_0x64da83;try{const _0x4b2105=new excelJS['Workbook'](),_0x2feced=_0x4b2105[_0x453c91(0xa8)](_0x453c91(0xea));return _0x2feced[_0x453c91(0xda)]=[{'header':_0x453c91(0x110),'key':_0x453c91(0xd0),'width':0xa},{'header':_0x453c91(0x13f),'key':_0x453c91(0xbf),'width':0xa},{'header':_0x453c91(0xe8),'key':_0x453c91(0xfc),'width':0xa},{'header':'EXTENDERS_CODE','key':_0x453c91(0xfc),'width':0xa},{'header':_0x453c91(0xd9),'key':_0x453c91(0xfc),'width':0xa},{'header':'Category','key':_0x453c91(0xc5),'width':0xa},{'header':_0x453c91(0x13e),'key':_0x453c91(0x103),'width':0xa}],_0x2f292f[_0x453c91(0xff)](_0x453c91(0xde),'application/vnd.openxmlformats-officedocument.spreadsheatml.sheet'),_0x2f292f['setHeader']('Content-Disposition',_0x453c91(0xbb)),_0x4b2105[_0x453c91(0x127)][_0x453c91(0xba)](_0x2f292f)[_0x453c91(0x12e)](()=>{const _0xee5f04=_0x453c91;_0x2f292f[_0xee5f04(0xf1)](0xc8);});}catch(_0x1d7bbf){_0x2f292f['status'](0x190)[_0x453c91(0xb5)](_0x1d7bbf);}}),router[a0_0x64da83(0xcf)](a0_0x64da83(0xf5),auth,async(_0x1c34cd,_0x11b0f1)=>{const _0x3c8861=a0_0x64da83;try{const _0x4240c1=new excelJS['Workbook'](),_0x4fb8e0=_0x4240c1[_0x3c8861(0xa8)](_0x3c8861(0xea));return _0x4fb8e0[_0x3c8861(0xda)]=[{'header':_0x3c8861(0x119),'key':_0x3c8861(0xb8),'width':0xa},{'header':_0x3c8861(0x110),'key':'PBrands','width':0xa},{'header':_0x3c8861(0x13f),'key':_0x3c8861(0xbf),'width':0xa},{'header':_0x3c8861(0xc1),'key':'PSecondaryUnits','width':0xa},{'header':'max_number_per_units','key':'MaxperUnits','width':0xa},{'header':_0x3c8861(0x96),'key':_0x3c8861(0xfc),'width':0xa},{'header':'Secondary_Code','key':_0x3c8861(0xfc),'width':0xa},{'header':'Product_Code','key':_0x3c8861(0xfc),'width':0xa},{'header':'Category','key':_0x3c8861(0xc5),'width':0xa},{'header':_0x3c8861(0x11e),'key':'PAlQty','width':0xa},{'header':_0x3c8861(0x121),'key':'PAlQty','width':0xa},{'header':_0x3c8861(0x13e),'key':_0x3c8861(0x103),'width':0xa}],_0x11b0f1[_0x3c8861(0xff)](_0x3c8861(0xde),'application/vnd.openxmlformats-officedocument.spreadsheatml.sheet'),_0x11b0f1[_0x3c8861(0xff)]('Content-Disposition','attachment;\x20filename=Product_Migration_File.xlsx'),_0x4240c1[_0x3c8861(0x127)][_0x3c8861(0xba)](_0x11b0f1)['then'](()=>{const _0x375482=_0x3c8861;_0x11b0f1[_0x375482(0xf1)](0xc8);});}catch(_0x844aa9){_0x11b0f1[_0x3c8861(0xf1)](0x190)['send'](_0x844aa9);}});const storage1=multer[a0_0x64da83(0x106)]({'destination':(_0x422448,_0x1e95b8,_0x4ac9ec)=>{const _0x159641=a0_0x64da83;_0x4ac9ec(null,_0x159641(0xd3));},'filename':(_0x4319f2,_0x57f78e,_0x3e1bb4)=>{const _0x14fe53=a0_0x64da83;_0x3e1bb4(null,Date[_0x14fe53(0x155)]()+_0x57f78e[_0x14fe53(0x104)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x64da83(0xcc)]('/products_import_migrate_file',auth,uploadMigrate[a0_0x64da83(0xc7)]('migrate_product_fule'),async(_0x28716f,_0x39aee9)=>{const _0x56790b=a0_0x64da83,_0x887d16=_0x28716f[_0x56790b(0x113)][_0x56790b(0xe9)],_0x268e27=await xlsx[_0x56790b(0xd8)]('public/Migration/'+_0x887d16);let _0x3d641c=_0x268e27['SheetNames'],_0x271e44=xlsx[_0x56790b(0xc3)]['sheet_to_json'](_0x268e27[_0x56790b(0x11c)][_0x3d641c[0x0]]);for(const _0x2f80aa of _0x271e44){const _0x1d5af6=_0x2f80aa['Product_Name'],_0x20ce8e=_0x2f80aa[_0x56790b(0x110)],_0x5c3d35=_0x2f80aa[_0x56790b(0x13f)],_0x2ccd1b=_0x2f80aa[_0x56790b(0xc1)],_0x491cae=_0x2f80aa[_0x56790b(0x11a)],_0x4dd783=_0x2f80aa[_0x56790b(0xe6)],_0xb4de8a=_0x2f80aa['Alert_QTY'],_0x16e7c2=_0x2f80aa[_0x56790b(0x96)],_0x4fdb20=_0x2f80aa[_0x56790b(0x10a)],_0x1f7b8c=_0x2f80aa['Maximum_Stocks'],_0x3bf946=_0x2f80aa[_0x56790b(0x109)],_0x5e2ebd=_0x2f80aa[_0x56790b(0x13e)];try{let _0x2db703=await categories[_0x56790b(0xef)]({'name':_0x4dd783});if(!_0x2db703){const _0x40c763=new categories({'name':_0x4dd783,'products':'0'});_0x2db703=await _0x40c763['save']();}let _0x42fc8f=await brands[_0x56790b(0xef)]({'name':_0x20ce8e});if(!_0x42fc8f){const _0x21b658=new brands({'name':_0x20ce8e,'products':'0'});_0x42fc8f=await _0x21b658[_0x56790b(0x153)]();}let _0x54f94f=await units['findOne']({'name':_0x5c3d35,'secondary_unit':_0x2ccd1b});if(!_0x54f94f){const _0x3d54cc=new units({'name':_0x5c3d35,'secondary_unit':_0x2ccd1b,'products':'0'});_0x54f94f=await _0x3d54cc['save']();}const _0x593070=await product['find']({'name':_0x1d5af6,'category':_0x2db703[_0x56790b(0x93)],'brand':_0x42fc8f[_0x56790b(0x93)],'secondary_unit':_0x54f94f[_0x56790b(0x9d)],'product_code':_0x491cae});console[_0x56790b(0x130)](_0x593070[_0x56790b(0x100)]+'\x20<>\x20'+_0x2db703['name']+_0x56790b(0xad)+_0x42fc8f[_0x56790b(0x93)]+_0x56790b(0xad)+_0x54f94f['secondary_unit']+'\x20<>\x20'+_0x491cae+_0x56790b(0xad)+_0x1d5af6);if(_0x593070[_0x56790b(0x100)]===0x0){const _0x109086=new product({'image':_0x56790b(0x12f),'name':_0x1d5af6,'category':_0x2db703[_0x56790b(0x93)],'brand':_0x42fc8f[_0x56790b(0x93)],'unit':_0x54f94f[_0x56790b(0x93)],'alertquantity':_0xb4de8a,'product_code':_0x491cae,'secondary_unit':_0x54f94f[_0x56790b(0x9d)],'primary_code':_0x16e7c2,'secondary_code':_0x4fdb20,'maxStocks':_0x1f7b8c,'maxProdPerUnit':_0x3bf946,'product_category':_0x5e2ebd}),_0x2c0031=await _0x109086[_0x56790b(0x153)]();_0x2db703[_0x56790b(0xcb)]=parseInt(_0x2db703[_0x56790b(0xcb)])+0x1,await _0x2db703[_0x56790b(0x153)](),_0x42fc8f['products']=parseInt(_0x42fc8f[_0x56790b(0xcb)])+0x1,await _0x42fc8f[_0x56790b(0x153)](),_0x54f94f['products']=parseInt(_0x54f94f['products'])+0x1,await _0x54f94f[_0x56790b(0x153)](),_0x28716f[_0x56790b(0xbe)]('success',_0x1d5af6+_0x56790b(0x10d));}else{console[_0x56790b(0x130)](_0x593070[0x0]);const _0x43f246=_0x593070[0x0];_0x43f246['category']=_0x2db703[_0x56790b(0x93)],_0x43f246[_0x56790b(0x120)]=_0x42fc8f['name'],_0x43f246[_0x56790b(0x115)]=_0x54f94f[_0x56790b(0x93)],_0x43f246[_0x56790b(0x14d)]=_0xb4de8a,_0x43f246[_0x56790b(0x128)]=_0x491cae,_0x43f246[_0x56790b(0x9d)]=_0x54f94f[_0x56790b(0x9d)],_0x43f246[_0x56790b(0xae)]=_0x16e7c2,_0x43f246[_0x56790b(0xf7)]=_0x4fdb20,_0x43f246['maxStocks']=_0x1f7b8c,_0x43f246[_0x56790b(0x13c)]=_0x3bf946,_0x43f246[_0x56790b(0xc2)]=_0x5e2ebd;const _0x2e0c8f=await _0x43f246[_0x56790b(0x153)]();_0x28716f[_0x56790b(0xbe)](_0x56790b(0x145),_0x2e0c8f[_0x56790b(0x93)]+_0x56790b(0xb2));}}catch(_0x3a6c31){_0x39aee9[_0x56790b(0xf1)](0x1f4)[_0x56790b(0x9e)]({'proderror':_0x3a6c31[_0x56790b(0xac)],'aproduct':_0x1d5af6});}}_0x39aee9[_0x56790b(0xab)](_0x56790b(0xa7));}),router[a0_0x64da83(0xcc)](a0_0x64da83(0xec),auth,uploadMigrate['single'](a0_0x64da83(0x126)),async(_0x1ce939,_0x1b8f1d)=>{const _0xbcc305=a0_0x64da83,_0x555dcf=_0x1ce939[_0xbcc305(0x113)][_0xbcc305(0xe9)],_0x3096c1=await xlsx[_0xbcc305(0xd8)](_0xbcc305(0xe5)+_0x555dcf);let _0x2fe417=_0x3096c1[_0xbcc305(0x9b)],_0x491732=xlsx['utils']['sheet_to_json'](_0x3096c1[_0xbcc305(0x11c)][_0x2fe417[0x0]]);for(const _0x178023 of _0x491732){const _0x96dc0f=_0xbcc305(0x13a),_0x4ba5ce=_0x178023[_0xbcc305(0x110)],_0x5a4b45=_0x178023['Units'],_0x217586=_0x178023[_0xbcc305(0xe8)],_0x410084=_0x178023[_0xbcc305(0x97)],_0x34fdc2=_0x178023[_0xbcc305(0xd9)],_0x3d05f8=_0x178023['Category'],_0x410987=_0x178023['Products_category'];try{let _0x20e8c9=await categories[_0xbcc305(0xef)]({'name':_0x3d05f8});if(!_0x20e8c9){const _0x5308b3=new categories({'name':_0x3d05f8,'products':'0'});_0x20e8c9=await _0x5308b3[_0xbcc305(0x153)]();}let _0x37b25a=await brands[_0xbcc305(0xef)]({'name':_0x4ba5ce});if(!_0x37b25a){const _0x1316c7=new brands({'name':_0x4ba5ce,'products':'0'});_0x37b25a=await _0x1316c7[_0xbcc305(0x153)]();}let _0x4ea68d=await units[_0xbcc305(0xef)]({'name':_0x5a4b45});if(!_0x4ea68d){const _0x5a90be=new units({'name':_0x5a4b45,'products':'0'});_0x4ea68d=await _0x5a90be[_0xbcc305(0x153)]();}const _0x172470=await product[_0xbcc305(0x118)]({'product_code':_0x34fdc2,'primary_code':_0x217586,'secondary_code':_0x410084});if(_0x172470['length']===0x0){const _0x22cca8=new product({'image':_0xbcc305(0x12f),'name':_0x96dc0f,'category':_0x20e8c9['name'],'brand':_0x37b25a[_0xbcc305(0x93)],'unit':_0x4ea68d[_0xbcc305(0x93)],'product_code':_0x34fdc2,'primary_code':_0x217586,'secondary_code':_0x410084,'product_category':_0x410987}),_0x3e1f1b=await _0x22cca8[_0xbcc305(0x153)]();_0x20e8c9[_0xbcc305(0xcb)]=parseInt(_0x20e8c9[_0xbcc305(0xcb)])+0x1,await _0x20e8c9[_0xbcc305(0x153)](),_0x37b25a['products']=parseInt(_0x37b25a[_0xbcc305(0xcb)])+0x1,await _0x37b25a[_0xbcc305(0x153)](),_0x4ea68d['products']=parseInt(_0x4ea68d[_0xbcc305(0xcb)])+0x1,await _0x4ea68d[_0xbcc305(0x153)](),_0x1ce939[_0xbcc305(0xbe)]('success',_0x96dc0f+'\x20added\x20successfully');}else{console[_0xbcc305(0x130)](_0x172470[0x0]);const _0x39f243=_0x172470[0x0];_0x39f243['category']=_0x20e8c9[_0xbcc305(0x93)],_0x39f243[_0xbcc305(0x120)]=_0x37b25a[_0xbcc305(0x93)],_0x39f243[_0xbcc305(0x115)]=_0x4ea68d[_0xbcc305(0x93)],_0x39f243[_0xbcc305(0x128)]=_0x34fdc2,_0x39f243[_0xbcc305(0xae)]=_0x217586,_0x39f243['secondary_code']=_0x410084,_0x39f243[_0xbcc305(0xc2)]=_0x410987;const _0x19d36f=await _0x39f243[_0xbcc305(0x153)]();_0x1ce939[_0xbcc305(0xbe)](_0xbcc305(0x145),_0x19d36f['name']+'\x20Edit\x20Successfully');}}catch(_0x354558){_0x1b8f1d['status'](0x1f4)[_0xbcc305(0x9e)]({'proderror':_0x354558[_0xbcc305(0xac)],'aproduct':_0x96dc0f});}}_0x1b8f1d[_0xbcc305(0xab)](_0xbcc305(0xa7));}),router[a0_0x64da83(0xcc)]('/select_data',auth,async(_0x5d307f,_0x1ca376)=>{const _0x4b19e3=a0_0x64da83;try{console[_0x4b19e3(0x130)](_0x5d307f[_0x4b19e3(0xaf)]);const {data_cateory:_0x47dc0b,datachoose:_0x1f7ef3}=_0x5d307f[_0x4b19e3(0xaf)];var _0x591cbc;if(_0x1f7ef3=='prod_categ')_0x591cbc=await product[_0x4b19e3(0xe1)]([{'$group':{'_id':'$product_category'}}]);else{if(_0x1f7ef3=='brands')_0x591cbc=await product['aggregate']([{'$match':{'product_category':_0x47dc0b}},{'$group':{'_id':_0x4b19e3(0xfa)}}]);else _0x1f7ef3=='categ'&&(_0x591cbc=await product[_0x4b19e3(0xe1)]([{'$match':{'product_category':_0x47dc0b}},{'$group':{'_id':_0x4b19e3(0xc8)}}]));}_0x1ca376['json'](_0x591cbc);}catch(_0x1aa84d){_0x1ca376['json']({'message':_0x1aa84d[_0x4b19e3(0xac)]});}}),router[a0_0x64da83(0xcc)](a0_0x64da83(0xb3),auth,async(_0x3476be,_0xdf3dd8)=>{const _0x2a82c0=a0_0x64da83;try{const {data_choosing:_0x5a26b8,data_selected:_0x3d3071,data_cateory:_0x3e8adc}=_0x3476be['body'],_0x32405c=_0x3476be['user'];console[_0x2a82c0(0x130)](_0x32405c);var _0x2f917f;if(_0x32405c[_0x2a82c0(0x152)]=='admin'){if(_0x5a26b8=='prod_categ')_0x2f917f=await product[_0x2a82c0(0xe1)]([{'$match':{'product_category':_0x3e8adc}}]);else{if(_0x5a26b8==_0x2a82c0(0x149))_0x2f917f=await product['aggregate']([{'$match':{'brand':_0x3d3071,'product_category':_0x3e8adc}}]);else _0x5a26b8=='categ'&&(_0x2f917f=await product[_0x2a82c0(0xe1)]([{'$match':{'category':_0x3d3071,'product_category':_0x3e8adc}}]));}}else{if(_0x32405c[_0x2a82c0(0x152)]==_0x2a82c0(0x105)){if(_0x5a26b8==_0x2a82c0(0xa0))_0x2f917f=await product[_0x2a82c0(0xe1)]([{'$match':{'product_category':_0x3d3071}}]);else{if(_0x5a26b8=='brands')_0x2f917f=await product[_0x2a82c0(0xe1)]([{'$match':{'brand':_0x3d3071,'product_category':_0x32405c[_0x2a82c0(0xf0)]}}]);else _0x5a26b8==_0x2a82c0(0x9a)&&(_0x2f917f=await product[_0x2a82c0(0xe1)]([{'$match':{'category':_0x3d3071,'product_category':_0x32405c[_0x2a82c0(0xf0)]}}]));}}}_0xdf3dd8[_0x2a82c0(0x9e)](_0x2f917f);}catch(_0x15c785){_0xdf3dd8[_0x2a82c0(0x9e)]({'message':_0x15c785[_0x2a82c0(0xac)]});}}),router[a0_0x64da83(0xcf)](a0_0x64da83(0x13b),auth,async(_0x301bdc,_0x33d360)=>{const _0x45d748=a0_0x64da83,_0x47a8ed=_0x301bdc[_0x45d748(0x144)],_0x119b8e=await profile[_0x45d748(0xef)]({'email':_0x47a8ed[_0x45d748(0x14e)]}),_0x105205=await master_shop[_0x45d748(0x118)](),_0x58c6bf=await product[_0x45d748(0x118)]();if(_0x105205[0x0][_0x45d748(0x101)]==_0x45d748(0x9c))var _0x63f6ca=users[_0x45d748(0x11d)];else{if(_0x105205[0x0][_0x45d748(0x101)]==_0x45d748(0x95))var _0x63f6ca=users[_0x45d748(0x95)];else{if(_0x105205[0x0]['language']==_0x45d748(0x99))var _0x63f6ca=users[_0x45d748(0x99)];else{if(_0x105205[0x0][_0x45d748(0x101)]==_0x45d748(0x137))var _0x63f6ca=users['Spanish'];else{if(_0x105205[0x0]['language']=='French')var _0x63f6ca=users[_0x45d748(0xf2)];else{if(_0x105205[0x0][_0x45d748(0x101)]==_0x45d748(0x10e))var _0x63f6ca=users[_0x45d748(0x94)];else{if(_0x105205[0x0][_0x45d748(0x101)]==_0x45d748(0xd1))var _0x63f6ca=users['Chinese'];else{if(_0x105205[0x0]['language']==_0x45d748(0xb0))var _0x63f6ca=users['Arabic'];}}}}}}}_0x33d360[_0x45d748(0xfe)](_0x45d748(0x148),{'success':_0x301bdc[_0x45d748(0xbe)](_0x45d748(0x145)),'errors':_0x301bdc[_0x45d748(0xbe)]('errors'),'role':_0x47a8ed,'profile':_0x119b8e,'products':_0x58c6bf,'master_shop':_0x105205,'language':_0x63f6ca});}),router[a0_0x64da83(0xcc)](a0_0x64da83(0x122),auth,async(_0x456d84,_0x10aae9)=>{const _0x1cb83c=a0_0x64da83,_0x3b7058=_0x456d84[_0x1cb83c(0x144)];if(_0x3b7058[_0x1cb83c(0x152)]=='admin'){const _0x1296b4=await product[_0x1cb83c(0x118)]();_0x10aae9[_0x1cb83c(0x9e)]({'data':_0x1296b4});}else{if(_0x3b7058[_0x1cb83c(0x152)]=='staff'){const _0x5c6962=await product[_0x1cb83c(0x118)]({'product_category':_0x3b7058['warehouse_category']});_0x10aae9[_0x1cb83c(0x9e)]({'data':_0x5c6962});}}}),router[a0_0x64da83(0xcc)]('/barcode_filter',auth,async(_0x5a0756,_0x343cb8)=>{const _0x5366ee=a0_0x64da83;try{const {dataProdCat:_0x405606,dataProdIdentity:_0x284eea}=_0x5a0756[_0x5366ee(0xaf)];var _0x4b27ab;switch(_0x405606){case'fg':switch(_0x284eea){case _0x5366ee(0x110):_0x4b27ab=await product['aggregate']([{'$match':{'product_category':_0x5366ee(0x142)}},{'$group':{'_id':_0x5366ee(0xfa)}},{'$project':{'brand':_0x5366ee(0xe4)}}]);break;case _0x5366ee(0xe6):_0x4b27ab=await product['aggregate']([{'$match':{'product_category':_0x5366ee(0x142)}},{'$group':{'_id':_0x5366ee(0xc8)}},{'$project':{'category':'$_id'}}]);break;}break;case'rm':switch(_0x284eea){case _0x5366ee(0x110):_0x4b27ab=await product[_0x5366ee(0xe1)]([{'$match':{'product_category':_0x5366ee(0xc0)}},{'$group':{'_id':'$brand'}},{'$project':{'brand':_0x5366ee(0xe4)}}]);break;case _0x5366ee(0xe6):_0x4b27ab=await product[_0x5366ee(0xe1)]([{'$match':{'product_category':_0x5366ee(0xc0)}},{'$group':{'_id':_0x5366ee(0xc8)}},{'$project':{'category':_0x5366ee(0xe4)}}]);break;}case _0x5366ee(0x102):switch(_0x284eea){case _0x5366ee(0x110):_0x4b27ab=await product[_0x5366ee(0xe1)]([{'$match':{'product_category':_0x5366ee(0x102)}},{'$group':{'_id':'$brand'}},{'$project':{'brand':'$_id'}}]);break;case _0x5366ee(0xe6):_0x4b27ab=await product[_0x5366ee(0xe1)]([{'$match':{'product_category':_0x5366ee(0x102)}},{'$group':{'_id':_0x5366ee(0xc8)}},{'$project':{'category':_0x5366ee(0xe4)}}]);break;}break;}_0x343cb8[_0x5366ee(0x9e)](_0x4b27ab);}catch(_0x52fd54){_0x343cb8[_0x5366ee(0x9e)]({'message':_0x52fd54[_0x5366ee(0xac)]});}}),router[a0_0x64da83(0xcc)]('/print_barcode_filter/',auth,async(_0xf11c4a,_0x39e890)=>{const _0x28419b=a0_0x64da83;try{console[_0x28419b(0x130)](_0xf11c4a[_0x28419b(0xaf)]);const {prod_cat:_0x5423df,identity:_0x4c57c2,valueData:_0x261622,typeofbarcode:_0x4ad810}=_0xf11c4a['body'];let _0x3842d7;switch(_0x5423df){case'fg':if(_0x4c57c2==_0x28419b(0x110))_0x3842d7=await product[_0x28419b(0xe1)]([{'$match':{'product_category':_0x28419b(0x142),'brand':_0x261622}}]);else _0x4c57c2==_0x28419b(0xe6)&&(_0x3842d7=await product[_0x28419b(0xe1)]([{'$match':{'product_category':_0x28419b(0x142),'category':_0x261622}}]));break;case'rm':if(_0x4c57c2==_0x28419b(0x110))_0x3842d7=await product[_0x28419b(0xe1)]([{'$match':{'product_category':_0x28419b(0xc0),'brand':_0x261622}}]);else _0x4c57c2==_0x28419b(0xe6)&&(_0x3842d7=await product['aggregate']([{'$match':{'product_category':_0x28419b(0xc0),'category':_0x261622}}]));break;}const _0x536bc0=_0x490ab6=>_0x490ab6*0x48,_0x5610b8={'width':0x3,'height':0x1},_0x3786a2=new PDFDocument({'margin':_0x536bc0(0.75),'size':[_0x536bc0(_0x5610b8['width']),_0x536bc0(_0x5610b8[_0x28419b(0x140)])],'bufferPages':!![]}),_0x4432fd=_0x3842d7[_0x28419b(0x100)];for(let _0x1f1f44=0x0;_0x1f1f44<=_0x4432fd;_0x1f1f44++){if(_0x1f1f44!=_0x4432fd){const _0x3f19af=_0x3842d7[_0x1f1f44][_0x28419b(0x93)],_0x1d1ba4=_0x3842d7[_0x1f1f44][_0x28419b(0xae)],_0x57edac=_0x3842d7[_0x1f1f44][_0x28419b(0xf7)],_0x10c356=_0x3842d7[_0x1f1f44][_0x28419b(0x128)];var _0x5741bf;switch(_0x4ad810){case'1':_0x5741bf=_0x1d1ba4;break;case'2':_0x5741bf=_0x57edac;break;case'3':_0x5741bf=_0x10c356;break;}const _0x2a0e96={'width':0xd2,'height':0x64},_0x9eb6fe={'width':_0x536bc0(_0x5610b8[_0x28419b(0x135)]),'height':_0x536bc0(_0x5610b8['height'])},_0x382d59=new Canvas();JsBarcode(_0x382d59,_0x5741bf,{'format':'CODE128','height':_0x2a0e96['height'],'displayValue':!![],'text':_0x5741bf});const _0x2c82e8=_0x382d59['toBuffer'](),_0x4c207e=_0x9eb6fe[_0x28419b(0x135)]/_0x2a0e96['width'],_0x44de0a=_0x9eb6fe['height']/_0x2a0e96[_0x28419b(0x140)],_0x3f214f=Math[_0x28419b(0x14a)](_0x4c207e,_0x44de0a),_0x10286d=_0x2a0e96[_0x28419b(0x135)]*_0x3f214f,_0x463187=_0x2a0e96[_0x28419b(0x140)]*_0x3f214f,_0x407b66=(_0x9eb6fe[_0x28419b(0x135)]-_0x10286d)/0x2,_0x240106=(_0x9eb6fe[_0x28419b(0x140)]-_0x463187)/0x2;_0x3786a2['image'](_0x2c82e8,_0x407b66,_0x240106,{'width':_0x10286d,'height':_0x463187}),_0x1f1f44!=_0x4432fd&&_0x3786a2[_0x28419b(0xa6)]();}}const _0x2ddda5=[];_0x3786a2['on'](_0x28419b(0x12a),_0x2ddda5[_0x28419b(0xd4)][_0x28419b(0x131)](_0x2ddda5)),_0x3786a2['on'](_0x28419b(0x11b),()=>{const _0x12ffdc=_0x28419b,_0x52e35a=Buffer[_0x12ffdc(0xb1)](_0x2ddda5),_0x1e3dc7=_0x52e35a[_0x12ffdc(0xeb)](_0x12ffdc(0x107));_0x39e890[_0x12ffdc(0x9e)]({'pdfContent':_0x1e3dc7});}),_0x3786a2[_0x28419b(0x11b)]();}catch(_0x570a78){_0x39e890[_0x28419b(0x9e)]({'message':_0x570a78[_0x28419b(0xac)]});}}),router['post'](a0_0x64da83(0xaa),auth,async(_0x13e87,_0x6178c5)=>{const _0xd4723f=a0_0x64da83;try{console[_0xd4723f(0x130)](_0x13e87[_0xd4723f(0xaf)]);const {prod_cat:_0x44503f,identity:_0x2ee67f,valueData:_0x22965b}=_0x13e87['body'];let _0x24282d;switch(_0x44503f){case'fg':if(_0x2ee67f==_0xd4723f(0x110))_0x24282d=await product[_0xd4723f(0xe1)]([{'$match':{'product_category':_0xd4723f(0x142),'brand':_0x22965b}}]);else _0x2ee67f==_0xd4723f(0xe6)&&(_0x24282d=await product[_0xd4723f(0xe1)]([{'$match':{'product_category':'Finished\x20Goods','category':_0x22965b}}]));break;case'rm':if(_0x2ee67f==_0xd4723f(0x110))_0x24282d=await product[_0xd4723f(0xe1)]([{'$match':{'product_category':_0xd4723f(0xc0),'brand':_0x22965b}}]);else _0x2ee67f==_0xd4723f(0xe6)&&(_0x24282d=await product[_0xd4723f(0xe1)]([{'$match':{'product_category':_0xd4723f(0xc0),'category':_0x22965b}}]));break;case _0xd4723f(0x102):if(_0x2ee67f=='Brands')_0x24282d=await product['aggregate']([{'$match':{'product_category':_0xd4723f(0x102),'brand':_0x22965b}}]);else _0x2ee67f==_0xd4723f(0xe6)&&(_0x24282d=await product[_0xd4723f(0xe1)]([{'$match':{'product_category':'SPMX','category':_0x22965b}}]));break;}_0x6178c5[_0xd4723f(0x9e)]({'data':_0x24282d});}catch(_0x1249a0){_0x6178c5['json']({'message':_0x1249a0[_0xd4723f(0xac)]});}}),router[a0_0x64da83(0xcc)](a0_0x64da83(0xdc),auth,async(_0x6d48dc,_0x69bbf5)=>{const _0x110a1f=a0_0x64da83;try{const _0x6f3016=_0x6d48dc[_0x110a1f(0xa5)]['id'],{copies:_0x149a0d,typeofbarcode:_0x170ea3}=_0x6d48dc['body'];var _0x3699c1=await product[_0x110a1f(0xcd)](_0x6f3016);const _0xbdd758=_0x32096a=>_0x32096a*0x48,_0x2ec6c7={'width':0x3,'height':0x1},_0x53bbb1=new PDFDocument({'margin':_0xbdd758(0.75),'size':[_0xbdd758(_0x2ec6c7[_0x110a1f(0x135)]),_0xbdd758(_0x2ec6c7['height'])],'bufferPages':!![]}),_0xc3b800=_0x149a0d,_0x59d44b=_0x3699c1[_0x110a1f(0x93)],_0x2d19a6=_0x3699c1[_0x110a1f(0xae)],_0x38fd5e=_0x3699c1[_0x110a1f(0xf7)],_0xdc88=_0x3699c1[_0x110a1f(0x128)];let _0x2cb5b8;switch(_0x170ea3){case'1':_0x2cb5b8=_0x2d19a6;break;case'2':_0x2cb5b8=_0x38fd5e;break;case'3':_0x2cb5b8=_0xdc88;break;}const _0x1ccf9a={'width':0xd2,'height':0x64},_0x32a063={'width':_0xbdd758(_0x2ec6c7[_0x110a1f(0x135)]),'height':_0xbdd758(_0x2ec6c7[_0x110a1f(0x140)])};for(let _0x243702=0x1;_0x243702<=_0xc3b800;_0x243702++){const _0x532a37=new Canvas();JsBarcode(_0x532a37,_0x2cb5b8,{'format':_0x110a1f(0x147),'height':_0x1ccf9a['height'],'displayValue':!![],'text':_0x2cb5b8});const _0x1418b5=_0x532a37[_0x110a1f(0x151)](),_0x3b3b64=_0x32a063[_0x110a1f(0x135)]/_0x1ccf9a[_0x110a1f(0x135)],_0x2a16ba=_0x32a063[_0x110a1f(0x140)]/_0x1ccf9a[_0x110a1f(0x140)],_0x5447ea=Math['min'](_0x3b3b64,_0x2a16ba),_0x3de568=_0x1ccf9a[_0x110a1f(0x135)]*_0x5447ea,_0x5d0195=_0x1ccf9a[_0x110a1f(0x140)]*_0x5447ea,_0x1ff855=(_0x32a063['width']-_0x3de568)/0x2,_0x54f62d=(_0x32a063[_0x110a1f(0x140)]-_0x5d0195)/0x2;_0x53bbb1[_0x110a1f(0xd2)](_0x1418b5,_0x1ff855,_0x54f62d,{'width':_0x3de568,'height':_0x5d0195}),_0x243702!=_0xc3b800&&_0x53bbb1[_0x110a1f(0xa6)]();}const _0x448328=[];_0x53bbb1['on'](_0x110a1f(0x12a),_0x448328[_0x110a1f(0xd4)][_0x110a1f(0x131)](_0x448328)),_0x53bbb1['on']('end',()=>{const _0x54f3fe=_0x110a1f,_0x196e0a=Buffer[_0x54f3fe(0xb1)](_0x448328),_0x4c8f57=_0x196e0a['toString']('base64');_0x69bbf5[_0x54f3fe(0x9e)]({'pdfContent':_0x4c8f57});}),_0x53bbb1[_0x110a1f(0x11b)]();}catch(_0x3bf0c2){_0x69bbf5[_0x110a1f(0x9e)]({'message':_0x3bf0c2[_0x110a1f(0xac)]});}}),module[a0_0x64da83(0x136)]=router;