const a0_0x3f86da=a0_0x538b;(function(_0x3b30cc,_0x51214c){const _0x4a57dc=a0_0x538b,_0x3075bd=_0x3b30cc();while(!![]){try{const _0x408836=parseInt(_0x4a57dc(0xf2))/0x1*(parseInt(_0x4a57dc(0xad))/0x2)+-parseInt(_0x4a57dc(0xb4))/0x3*(-parseInt(_0x4a57dc(0x126))/0x4)+parseInt(_0x4a57dc(0xf5))/0x5+-parseInt(_0x4a57dc(0x141))/0x6*(-parseInt(_0x4a57dc(0x162))/0x7)+-parseInt(_0x4a57dc(0xe0))/0x8+-parseInt(_0x4a57dc(0x154))/0x9+-parseInt(_0x4a57dc(0x13d))/0xa;if(_0x408836===_0x51214c)break;else _0x3075bd['push'](_0x3075bd['shift']());}catch(_0x43713f){_0x3075bd['push'](_0x3075bd['shift']());}}}(a0_0x9fd6,0x22bd0));const express=require(a0_0x3f86da(0xfe)),res=require(a0_0x3f86da(0xc3)),app=express(),router=express[a0_0x3f86da(0x119)](),multer=require(a0_0x3f86da(0xd6)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require('../models/all_models'),auth=require(a0_0x3f86da(0x146)),users=require('../public/language/languages.json'),excelJS=require('exceljs'),xlsx=require(a0_0x3f86da(0x122)),JsBarcode=require(a0_0x3f86da(0x11f)),{Canvas}=require(a0_0x3f86da(0x161)),PDFDocument=require('pdfkit-table');function a0_0x538b(_0x1ec35f,_0x59d56d){const _0x9fd67=a0_0x9fd6();return a0_0x538b=function(_0x538bc7,_0x2bb18d){_0x538bc7=_0x538bc7-0xac;let _0x1b8d52=_0x9fd67[_0x538bc7];return _0x1b8d52;},a0_0x538b(_0x1ec35f,_0x59d56d);}function a0_0x9fd6(){const _0x3ef63a=['unit\x20data\x20delete\x20successfully','readFile','canvas','393827EAGEwQ','Brands','primary_code','diskStorage','/print_barcode','ProductCode','$_id','PBrands','SheetNames','addPage','/categories/:id','findByIdAndUpdate','numeric','Category','English','Products_category','\x20brand\x20is\x20add\x20successfully','products','edit\x20Product\x20master','redirect','find','30230CcHVLP','errors','Content-Disposition','Arabic\x20(ae)','Chinese','/print_barcode_single/:id','findById','3kxslIN','base64','utils','end','brand\x20data\x20delete\x20successfully','Product_Code','warehouse_category','Finished\x20Goods','categories','unit','Enabled','Secondary_Code','push','file','single','express/lib/response','Spanish','SPMX','Sheets','sku','attachment;\x20filename=Product_Migration_File.xlsx','categ','toBuffer','migrate_product_fule','categories\x20data\x20delete\x20successfully','image','columns','concat','product\x20update\x20successfully','now','then','staff','email','/products/view','multer','CURING_SALT_CODE','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','/categories/delete/:id','product\x20add\x20successfully','/print_barcode_filter_search/','/products/brands','PCat','English\x20(US)','Arabic','1881656zxNyeo','height','/view/add_products','\x20<>\x20','/products/units','write','\x20Edit\x20Successfully','PAlQty','/filter_product','$brand','barcode\x20Product\x20master','product_category','secondary_code','/barcode/:id','migrate_product_file_spmx','admin','defaultProduct.avif','setHeader','1qfcmJI','get','$category','953660xpnBok','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','barcode\x20user_id','French','EXTENDERS_CODE','json','Products','language','$secondary_unit','express','user','SPMX_M','status','unit\x20data\x20update\x20successfully','brands','/print_barcode_filter/','Portuguese\x20(BR)','toString','post','/brands/:id','German','secondary_unit','width','\x20categories\x20is\x20add\x20successfully','/products_export_migrate_file','flash','Content-Type','aggregate','PSecondaryUnits','brand','Secondary_Units','max_number_per_units','Hindi','data','product_barcode','public/Migration','Router','/view/:id','Raw\x20Materials','/products_import_migrate_file_spmx','PUnits','product\x20edit','jsbarcode','product_code_spmx','public/upload','xlsx','Workbook','master','alertquantity','683068bpERCQ','name','addWorksheet','min','products_spmx','log','\x20unit\x20is\x20add\x20successfully','/units/:id','units','body','brand\x20data\x20update\x20successfully','filename','success','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','Primary_Code','render','\x20added\x20successfully','product_code','findByIdAndDelete','add_product_spmx','Portuguese','long','save','1108030SDMQxi','SPICEMIX_CODE','exports','/barcode_data','24tZUalf','Units','public/Migration/','originalname','CODE128','../middleware/auth','hello','product_barcode_products','role','/barcode_filter','prod_categ','attachment;\x20filename=spice_mix_migration.xlsx','/units','/products/categories','message','Prod_Cat','length','warehouse','/categories','1020240NLPhNK','Alert_QTY','sheet_to_json','edit_product_spmx','Maximum_Stocks','edit_product','findOne','send','params','PName','category'];a0_0x9fd6=function(){return _0x3ef63a;};return a0_0x9fd6();}router[a0_0x3f86da(0xf3)](a0_0x3f86da(0x153),auth,async(_0x4bd687,_0x30e4ce)=>{const _0x4cfb17=a0_0x3f86da;try{const {username:_0x520e85,email:_0x4735d4,role:_0x2d2afb}=_0x4bd687[_0x4cfb17(0xff)],_0x3bd908=_0x4bd687[_0x4cfb17(0xff)],_0x428d02=await profile[_0x4cfb17(0x15a)]({'email':_0x3bd908[_0x4cfb17(0xd4)]}),_0x3252b8=await master_shop[_0x4cfb17(0xac)]();console[_0x4cfb17(0x12b)](_0x4cfb17(0x124),_0x3252b8);const _0x10d88b=await categories[_0x4cfb17(0xac)]();if(_0x3252b8[0x0][_0x4cfb17(0xfc)]=='English\x20(US)')var _0xa6df83=users[_0x4cfb17(0x170)];else{if(_0x3252b8[0x0][_0x4cfb17(0xfc)]=='Hindi')var _0xa6df83=users[_0x4cfb17(0x115)];else{if(_0x3252b8[0x0]['language']==_0x4cfb17(0x109))var _0xa6df83=users[_0x4cfb17(0x109)];else{if(_0x3252b8[0x0][_0x4cfb17(0xfc)]=='Spanish')var _0xa6df83=users[_0x4cfb17(0xc4)];else{if(_0x3252b8[0x0][_0x4cfb17(0xfc)]==_0x4cfb17(0xf8))var _0xa6df83=users[_0x4cfb17(0xf8)];else{if(_0x3252b8[0x0][_0x4cfb17(0xfc)]==_0x4cfb17(0x105))var _0xa6df83=users[_0x4cfb17(0x13a)];else{if(_0x3252b8[0x0][_0x4cfb17(0xfc)]=='Chinese')var _0xa6df83=users[_0x4cfb17(0xb1)];else{if(_0x3252b8[0x0][_0x4cfb17(0xfc)]=='Arabic\x20(ae)')var _0xa6df83=users[_0x4cfb17(0xdf)];}}}}}}}_0x30e4ce[_0x4cfb17(0x135)]('categories',{'success':_0x4bd687[_0x4cfb17(0x10e)]('success'),'errors':_0x4bd687['flash'](_0x4cfb17(0xae)),'role':_0x3bd908,'profile':_0x428d02,'user':_0x10d88b,'master_shop':_0x3252b8,'language':_0xa6df83});}catch(_0x28e850){console[_0x4cfb17(0x12b)](_0x28e850);}}),router[a0_0x3f86da(0x107)](a0_0x3f86da(0x153),auth,async(_0x4e7798,_0x13056a)=>{const _0x34b4d5=a0_0x3f86da;try{const {name:_0x26c815,products:_0x4ca179}=_0x4e7798['body'],_0x248475=new categories({'name':_0x26c815,'products':_0x4ca179}),_0x1b1275=await categories[_0x34b4d5(0x15a)]({'name':_0x26c815});_0x1b1275?_0x4e7798[_0x34b4d5(0x10e)](_0x34b4d5(0xae),_0x26c815+'\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x4e7798[_0x34b4d5(0x10e)]('success',_0x26c815+_0x34b4d5(0x10c));const _0x282a33=await _0x248475[_0x34b4d5(0x13c)]();_0x13056a[_0x34b4d5(0x175)](_0x34b4d5(0x14e));}catch(_0x3939ee){console[_0x34b4d5(0x12b)](_0x3939ee);}}),router['get']('/categories/:id',auth,async(_0x47ef4e,_0x42ba61)=>{const _0x16c0cd=a0_0x3f86da;try{const {username:_0x1b31e1,email:_0x515776,role:_0x3bf9f9}=_0x47ef4e[_0x16c0cd(0xff)],_0x5f0c94=_0x47ef4e[_0x16c0cd(0xff)],_0x521012=await profile[_0x16c0cd(0x15a)]({'email':_0x5f0c94[_0x16c0cd(0xd4)]}),_0x2f87fb=await master_shop[_0x16c0cd(0xac)]();console['log'](_0x16c0cd(0x124),_0x2f87fb);const _0x1ec743=_0x47ef4e[_0x16c0cd(0x15c)]['id'];console['log'](_0x1ec743);const _0xf38c00=await categories['findById'](_0x1ec743);if(_0x2f87fb[0x0][_0x16c0cd(0xfc)]=='English\x20(US)')var _0x3778cc=users[_0x16c0cd(0x170)];else{if(_0x2f87fb[0x0][_0x16c0cd(0xfc)]==_0x16c0cd(0x115))var _0x3778cc=users[_0x16c0cd(0x115)];else{if(_0x2f87fb[0x0][_0x16c0cd(0xfc)]=='German')var _0x3778cc=users['German'];else{if(_0x2f87fb[0x0]['language']=='Spanish')var _0x3778cc=users[_0x16c0cd(0xc4)];else{if(_0x2f87fb[0x0][_0x16c0cd(0xfc)]==_0x16c0cd(0xf8))var _0x3778cc=users['French'];else{if(_0x2f87fb[0x0][_0x16c0cd(0xfc)]==_0x16c0cd(0x105))var _0x3778cc=users[_0x16c0cd(0x13a)];else{if(_0x2f87fb[0x0][_0x16c0cd(0xfc)]==_0x16c0cd(0xb1))var _0x3778cc=users['Chinese'];else{if(_0x2f87fb[0x0]['language']=='Arabic\x20(ae)')var _0x3778cc=users[_0x16c0cd(0xdf)];}}}}}}}_0x42ba61[_0x16c0cd(0x135)](_0x16c0cd(0xbc),{'success':_0x47ef4e[_0x16c0cd(0x10e)](_0x16c0cd(0x132)),'errors':_0x47ef4e[_0x16c0cd(0x10e)](_0x16c0cd(0xae)),'role':_0x5f0c94,'profile':_0x521012,'master_shop':_0x2f87fb,'user':_0xf38c00,'language':_0x3778cc});}catch(_0x338a18){console[_0x16c0cd(0x12b)](_0x338a18);}}),router[a0_0x3f86da(0x107)](a0_0x3f86da(0x16c),auth,async(_0x2fd39f,_0x5f464d)=>{const _0x32e333=a0_0x3f86da;try{const _0x1aa85a=_0x2fd39f[_0x32e333(0x15c)]['id'],_0x1852e2=await categories[_0x32e333(0x16d)](_0x1aa85a,_0x2fd39f[_0x32e333(0x12f)]);_0x2fd39f['flash'](_0x32e333(0x132),''+users['categories_edit']),_0x5f464d['redirect'](_0x32e333(0x14e));}catch(_0x5deab9){console[_0x32e333(0x12b)](_0x5deab9);}}),router[a0_0x3f86da(0xf3)](a0_0x3f86da(0xd9),auth,async(_0x449f2c,_0x5cd241)=>{const _0x3b0c16=a0_0x3f86da;try{const _0x470df7=_0x449f2c['params']['id'],_0x327379=await categories[_0x3b0c16(0x138)](_0x470df7);_0x449f2c[_0x3b0c16(0x10e)](_0x3b0c16(0x132),_0x3b0c16(0xcc)),_0x5cd241[_0x3b0c16(0x175)](_0x3b0c16(0x14e));}catch(_0x52d02c){console[_0x3b0c16(0x12b)](_0x52d02c);}}),router[a0_0x3f86da(0xf3)]('/brands',auth,async(_0x534d39,_0x25f82d)=>{const _0x13932c=a0_0x3f86da;try{const {username:_0xa450af,email:_0xa81b67,role:_0x19991d}=_0x534d39[_0x13932c(0xff)],_0x5bce5a=_0x534d39[_0x13932c(0xff)],_0x127cdc=await profile[_0x13932c(0x15a)]({'email':_0x5bce5a[_0x13932c(0xd4)]}),_0x43543a=await master_shop[_0x13932c(0xac)]();console[_0x13932c(0x12b)](_0x13932c(0x124),_0x43543a);const _0x1d032f=await brands[_0x13932c(0xac)]();if(_0x43543a[0x0]['language']=='English\x20(US)')var _0x2f931a=users['English'];else{if(_0x43543a[0x0]['language']=='Hindi')var _0x2f931a=users[_0x13932c(0x115)];else{if(_0x43543a[0x0][_0x13932c(0xfc)]==_0x13932c(0x109))var _0x2f931a=users[_0x13932c(0x109)];else{if(_0x43543a[0x0][_0x13932c(0xfc)]==_0x13932c(0xc4))var _0x2f931a=users[_0x13932c(0xc4)];else{if(_0x43543a[0x0][_0x13932c(0xfc)]==_0x13932c(0xf8))var _0x2f931a=users[_0x13932c(0xf8)];else{if(_0x43543a[0x0][_0x13932c(0xfc)]==_0x13932c(0x105))var _0x2f931a=users['Portuguese'];else{if(_0x43543a[0x0][_0x13932c(0xfc)]==_0x13932c(0xb1))var _0x2f931a=users[_0x13932c(0xb1)];else{if(_0x43543a[0x0]['language']==_0x13932c(0xb0))var _0x2f931a=users[_0x13932c(0xdf)];}}}}}}}_0x25f82d['render'](_0x13932c(0x103),{'success':_0x534d39[_0x13932c(0x10e)](_0x13932c(0x132)),'errors':_0x534d39[_0x13932c(0x10e)](_0x13932c(0xae)),'role':_0x5bce5a,'profile':_0x127cdc,'master_shop':_0x43543a,'user':_0x1d032f,'language':_0x2f931a});}catch(_0x377704){console['log'](_0x377704);}}),router[a0_0x3f86da(0x107)]('/brands',auth,async(_0x4b9e3b,_0x4cd16d)=>{const _0x5b5517=a0_0x3f86da;try{const {name:_0x59b816,products:_0x3834de}=_0x4b9e3b[_0x5b5517(0x12f)],_0x5124b1=new brands({'name':_0x59b816,'products':_0x3834de}),_0x15a7f3=await brands[_0x5b5517(0x15a)]({'name':_0x59b816});_0x15a7f3?_0x4b9e3b[_0x5b5517(0x10e)](_0x5b5517(0xae),_0x59b816+_0x5b5517(0xf6)):_0x4b9e3b[_0x5b5517(0x10e)](_0x5b5517(0x132),_0x59b816+_0x5b5517(0x172));const _0x4f3100=await _0x5124b1[_0x5b5517(0x13c)]();_0x4cd16d[_0x5b5517(0x175)]('/products/brands');}catch(_0x3d48f5){console[_0x5b5517(0x12b)](_0x3d48f5);}}),router[a0_0x3f86da(0xf3)](a0_0x3f86da(0x108),auth,async(_0x12a8f0,_0x468991)=>{const _0x2c7296=a0_0x3f86da;try{const {username:_0xdf323a,email:_0x433d1f,role:_0x59d630}=_0x12a8f0[_0x2c7296(0xff)],_0x28b890=_0x12a8f0[_0x2c7296(0xff)],_0x39550f=await profile[_0x2c7296(0x15a)]({'email':_0x28b890[_0x2c7296(0xd4)]}),_0x359507=await master_shop['find']();console[_0x2c7296(0x12b)]('master',_0x359507);const _0x259115=_0x12a8f0['params']['id'];console['log'](_0x259115);const _0x15a2f1=await brands['findById'](_0x259115);if(_0x359507[0x0][_0x2c7296(0xfc)]==_0x2c7296(0xde))var _0xb91246=users[_0x2c7296(0x170)];else{if(_0x359507[0x0]['language']==_0x2c7296(0x115))var _0xb91246=users[_0x2c7296(0x115)];else{if(_0x359507[0x0][_0x2c7296(0xfc)]==_0x2c7296(0x109))var _0xb91246=users[_0x2c7296(0x109)];else{if(_0x359507[0x0][_0x2c7296(0xfc)]==_0x2c7296(0xc4))var _0xb91246=users[_0x2c7296(0xc4)];else{if(_0x359507[0x0][_0x2c7296(0xfc)]=='French')var _0xb91246=users[_0x2c7296(0xf8)];else{if(_0x359507[0x0]['language']==_0x2c7296(0x105))var _0xb91246=users['Portuguese'];else{if(_0x359507[0x0][_0x2c7296(0xfc)]==_0x2c7296(0xb1))var _0xb91246=users['Chinese'];else{if(_0x359507[0x0]['language']=='Arabic\x20(ae)')var _0xb91246=users[_0x2c7296(0xdf)];}}}}}}}_0x468991[_0x2c7296(0x135)]('brands',{'success':_0x12a8f0[_0x2c7296(0x10e)](_0x2c7296(0x132)),'errors':_0x12a8f0[_0x2c7296(0x10e)](_0x2c7296(0xae)),'role':_0x28b890,'profile':_0x39550f,'master_shop':_0x359507,'user':_0x15a2f1,'language':_0xb91246});}catch(_0x36035a){console[_0x2c7296(0x12b)](_0x36035a);}}),router[a0_0x3f86da(0x107)](a0_0x3f86da(0x108),auth,async(_0xbb4d36,_0x5bb36a)=>{const _0x486a82=a0_0x3f86da;try{const _0x3d18fd=_0xbb4d36['params']['id'],_0x1ed703=await brands[_0x486a82(0x16d)](_0x3d18fd,_0xbb4d36[_0x486a82(0x12f)]);_0xbb4d36[_0x486a82(0x10e)](_0x486a82(0x132),_0x486a82(0x130)),_0x5bb36a[_0x486a82(0x175)]('/products/brands');}catch(_0x1f1b64){console[_0x486a82(0x12b)](_0x1f1b64);}}),router[a0_0x3f86da(0xf3)]('/brands/delete/:id',auth,async(_0xc9a695,_0x120e74)=>{const _0x5c1946=a0_0x3f86da;try{const _0x2d8ef5=_0xc9a695[_0x5c1946(0x15c)]['id'],_0x3907f2=await brands['findByIdAndDelete'](_0x2d8ef5);_0xc9a695[_0x5c1946(0x10e)](_0x5c1946(0x132),_0x5c1946(0xb8)),_0x120e74[_0x5c1946(0x175)](_0x5c1946(0xdc));}catch(_0xdf629a){console[_0x5c1946(0x12b)](_0xdf629a);}}),router['get'](a0_0x3f86da(0x14d),auth,async(_0x93dc4f,_0x624c10)=>{const _0x383719=a0_0x3f86da;try{const {username:_0x1c35c0,email:_0x412eed,role:_0x9a2d72}=_0x93dc4f[_0x383719(0xff)],_0x450950=_0x93dc4f[_0x383719(0xff)],_0x39e9f2=await profile[_0x383719(0x15a)]({'email':_0x450950['email']}),_0x5cece2=await master_shop['find']();console[_0x383719(0x12b)](_0x383719(0x124),_0x5cece2);const _0x2112f0=await units['find']();if(_0x5cece2[0x0][_0x383719(0xfc)]==_0x383719(0xde))var _0x2b1671=users[_0x383719(0x170)];else{if(_0x5cece2[0x0][_0x383719(0xfc)]==_0x383719(0x115))var _0x2b1671=users['Hindi'];else{if(_0x5cece2[0x0]['language']=='German')var _0x2b1671=users[_0x383719(0x109)];else{if(_0x5cece2[0x0][_0x383719(0xfc)]==_0x383719(0xc4))var _0x2b1671=users['Spanish'];else{if(_0x5cece2[0x0][_0x383719(0xfc)]==_0x383719(0xf8))var _0x2b1671=users['French'];else{if(_0x5cece2[0x0]['language']=='Portuguese\x20(BR)')var _0x2b1671=users[_0x383719(0x13a)];else{if(_0x5cece2[0x0][_0x383719(0xfc)]==_0x383719(0xb1))var _0x2b1671=users[_0x383719(0xb1)];else{if(_0x5cece2[0x0][_0x383719(0xfc)]==_0x383719(0xb0))var _0x2b1671=users[_0x383719(0xdf)];}}}}}}}_0x624c10['render'](_0x383719(0x12e),{'success':_0x93dc4f['flash'](_0x383719(0x132)),'errors':_0x93dc4f[_0x383719(0x10e)](_0x383719(0xae)),'role':_0x450950,'profile':_0x39e9f2,'master_shop':_0x5cece2,'user':_0x2112f0,'language':_0x2b1671});}catch(_0x5f0566){console[_0x383719(0x12b)](_0x5f0566);}}),router['post'](a0_0x3f86da(0x14d),auth,async(_0x35c2c8,_0x8ca88f)=>{const _0x3cb507=a0_0x3f86da;try{const {name:_0x5cf468,secondary_unit:_0x534ece,products:_0x1fdf57}=_0x35c2c8[_0x3cb507(0x12f)],_0x521f75=new units({'name':_0x5cf468,'secondary_unit':_0x534ece,'products':_0x1fdf57}),_0x556636=await units[_0x3cb507(0x15a)]({'name':_0x5cf468});_0x556636?_0x35c2c8[_0x3cb507(0x10e)](_0x3cb507(0xae),_0x5cf468+_0x3cb507(0xd8)):_0x35c2c8[_0x3cb507(0x10e)]('success',_0x5cf468+_0x3cb507(0x12c));const _0x4ffee8=await _0x521f75['save']();_0x8ca88f['redirect'](_0x3cb507(0xe4));}catch(_0xa38668){console[_0x3cb507(0x12b)](_0xa38668);}}),router['get'](a0_0x3f86da(0x12d),auth,async(_0xd4bbd2,_0x11c345)=>{const _0x471ec1=a0_0x3f86da;try{const {username:_0x4bfdd1,email:_0x5af5d2,role:_0x181593}=_0xd4bbd2[_0x471ec1(0xff)],_0x4b4a77=_0xd4bbd2[_0x471ec1(0xff)],_0x538e9b=await profile[_0x471ec1(0x15a)]({'email':_0x4b4a77[_0x471ec1(0xd4)]}),_0x102dca=await master_shop[_0x471ec1(0xac)]();console[_0x471ec1(0x12b)](_0x471ec1(0x124),_0x102dca);const _0x54b60f=_0xd4bbd2[_0x471ec1(0x15c)]['id'],_0x204649=await units[_0x471ec1(0xb3)](_0x54b60f);if(_0x102dca[0x0][_0x471ec1(0xfc)]=='English\x20(US)')var _0x479883=users['English'];else{if(_0x102dca[0x0]['language']==_0x471ec1(0x115))var _0x479883=users[_0x471ec1(0x115)];else{if(_0x102dca[0x0][_0x471ec1(0xfc)]==_0x471ec1(0x109))var _0x479883=users['German'];else{if(_0x102dca[0x0][_0x471ec1(0xfc)]==_0x471ec1(0xc4))var _0x479883=users[_0x471ec1(0xc4)];else{if(_0x102dca[0x0][_0x471ec1(0xfc)]==_0x471ec1(0xf8))var _0x479883=users[_0x471ec1(0xf8)];else{if(_0x102dca[0x0][_0x471ec1(0xfc)]==_0x471ec1(0x105))var _0x479883=users['Portuguese'];else{if(_0x102dca[0x0][_0x471ec1(0xfc)]==_0x471ec1(0xb1))var _0x479883=users[_0x471ec1(0xb1)];else{if(_0x102dca[0x0]['language']==_0x471ec1(0xb0))var _0x479883=users[_0x471ec1(0xdf)];}}}}}}}_0x11c345[_0x471ec1(0x135)](_0x471ec1(0x12e),{'success':_0xd4bbd2['flash'](_0x471ec1(0x132)),'errors':_0xd4bbd2['flash'](_0x471ec1(0xae)),'role':_0x4b4a77,'profile':_0x538e9b,'master_shop':_0x102dca,'user':_0x204649,'language':_0x479883});}catch(_0x418bde){console[_0x471ec1(0x12b)](_0x418bde);}}),router[a0_0x3f86da(0x107)](a0_0x3f86da(0x12d),auth,async(_0xdd93bd,_0x14152c)=>{const _0x2fc46e=a0_0x3f86da;try{const _0x2601d5=_0xdd93bd['params']['id'],_0x50463c=await units[_0x2fc46e(0x16d)](_0x2601d5,_0xdd93bd[_0x2fc46e(0x12f)]);_0xdd93bd['flash'](_0x2fc46e(0x132),_0x2fc46e(0x102)),_0x14152c['redirect']('/products/units');}catch(_0x389135){console[_0x2fc46e(0x12b)](_0x389135);}}),router[a0_0x3f86da(0xf3)]('/units/delete/:id',auth,async(_0x52d893,_0x594ee0)=>{const _0x39c415=a0_0x3f86da;try{const _0x484b53=_0x52d893['params']['id'],_0x150aea=await units[_0x39c415(0x138)](_0x484b53);_0x52d893['flash'](_0x39c415(0x132),_0x39c415(0x15f)),_0x594ee0[_0x39c415(0x175)]('/products/units');}catch(_0x5225c1){console[_0x39c415(0x12b)](_0x5225c1);}});const storage=multer[a0_0x3f86da(0x165)]({'destination':(_0xbcf607,_0x5bdf1d,_0x418f3f)=>{const _0xee6a5a=a0_0x3f86da;_0x418f3f(null,_0xee6a5a(0x121));},'filename':(_0x23a2ef,_0x5c7870,_0x15c5ac)=>{const _0x1a0b50=a0_0x3f86da;_0x15c5ac(null,Date[_0x1a0b50(0xd1)]()+_0x5c7870[_0x1a0b50(0x144)]);}}),upload=multer({'storage':storage});router[a0_0x3f86da(0xf3)]('/view',auth,async(_0x5c8e5d,_0x2dda99)=>{const _0xae07d3=a0_0x3f86da;try{const {username:_0x323363,email:_0x5a381e,role:_0x488769}=_0x5c8e5d[_0xae07d3(0xff)],_0x4512ed=_0x5c8e5d[_0xae07d3(0xff)],_0x1ae747=await profile[_0xae07d3(0x15a)]({'email':_0x4512ed['email']}),_0xcab6ab={'year':_0xae07d3(0x16e),'month':_0xae07d3(0x13b),'day':_0xae07d3(0x16e)},_0x562ff6=await master_shop[_0xae07d3(0xac)]();if(_0x4512ed[_0xae07d3(0x149)]=='Admin')var _0x52488f=await product['find']();else var _0x52488f=await product[_0xae07d3(0xac)]({'product_category':_0x4512ed[_0xae07d3(0xba)]});if(_0x562ff6[0x0][_0xae07d3(0xfc)]=='English\x20(US)')var _0x4fb033=users[_0xae07d3(0x170)];else{if(_0x562ff6[0x0][_0xae07d3(0xfc)]==_0xae07d3(0x115))var _0x4fb033=users['Hindi'];else{if(_0x562ff6[0x0][_0xae07d3(0xfc)]==_0xae07d3(0x109))var _0x4fb033=users[_0xae07d3(0x109)];else{if(_0x562ff6[0x0][_0xae07d3(0xfc)]==_0xae07d3(0xc4))var _0x4fb033=users[_0xae07d3(0xc4)];else{if(_0x562ff6[0x0][_0xae07d3(0xfc)]=='French')var _0x4fb033=users[_0xae07d3(0xf8)];else{if(_0x562ff6[0x0]['language']==_0xae07d3(0x105))var _0x4fb033=users[_0xae07d3(0x13a)];else{if(_0x562ff6[0x0][_0xae07d3(0xfc)]==_0xae07d3(0xb1))var _0x4fb033=users[_0xae07d3(0xb1)];else{if(_0x562ff6[0x0][_0xae07d3(0xfc)]==_0xae07d3(0xb0))var _0x4fb033=users[_0xae07d3(0xdf)];}}}}}}}_0x4512ed['warehouse_category']==_0xae07d3(0xc5)?_0x2dda99['render'](_0xae07d3(0x12a),{'success':_0x5c8e5d[_0xae07d3(0x10e)](_0xae07d3(0x132)),'errors':_0x5c8e5d[_0xae07d3(0x10e)](_0xae07d3(0xae)),'alldata':_0x52488f,'profile':_0x1ae747,'master_shop':_0x562ff6,'role':_0x4512ed,'language':_0x4fb033}):_0x2dda99[_0xae07d3(0x135)](_0xae07d3(0x173),{'success':_0x5c8e5d[_0xae07d3(0x10e)](_0xae07d3(0x132)),'errors':_0x5c8e5d[_0xae07d3(0x10e)](_0xae07d3(0xae)),'alldata':_0x52488f,'profile':_0x1ae747,'master_shop':_0x562ff6,'role':_0x4512ed,'language':_0x4fb033});}catch(_0x59fade){console['log'](_0x59fade);}}),router[a0_0x3f86da(0xf3)](a0_0x3f86da(0xe2),auth,async(_0x1a8b6c,_0x3aeef0)=>{const _0x1a11b2=a0_0x3f86da;try{const {username:_0x2e9297,email:_0x51ee18,role:_0x5df1e8}=_0x1a8b6c[_0x1a11b2(0xff)],_0x54d13a=_0x1a8b6c[_0x1a11b2(0xff)],_0x320761=await profile[_0x1a11b2(0x15a)]({'email':_0x54d13a[_0x1a11b2(0xd4)]}),_0x2501b4=await master_shop[_0x1a11b2(0xac)]();console[_0x1a11b2(0x12b)]('master',_0x2501b4);const _0x3c3d9e=await categories[_0x1a11b2(0xac)]({}),_0x28f0bd=await brands[_0x1a11b2(0xac)]({}),_0x868900=await units[_0x1a11b2(0xac)]({}),_0x4c775c=await warehouse['find']({'status':_0x1a11b2(0xbe)});if(_0x2501b4[0x0][_0x1a11b2(0xfc)]==_0x1a11b2(0xde))var _0x59156d=users['English'];else{if(_0x2501b4[0x0][_0x1a11b2(0xfc)]==_0x1a11b2(0x115))var _0x59156d=users[_0x1a11b2(0x115)];else{if(_0x2501b4[0x0][_0x1a11b2(0xfc)]=='German')var _0x59156d=users[_0x1a11b2(0x109)];else{if(_0x2501b4[0x0][_0x1a11b2(0xfc)]==_0x1a11b2(0xc4))var _0x59156d=users['Spanish'];else{if(_0x2501b4[0x0][_0x1a11b2(0xfc)]==_0x1a11b2(0xf8))var _0x59156d=users[_0x1a11b2(0xf8)];else{if(_0x2501b4[0x0][_0x1a11b2(0xfc)]==_0x1a11b2(0x105))var _0x59156d=users[_0x1a11b2(0x13a)];else{if(_0x2501b4[0x0][_0x1a11b2(0xfc)]=='Chinese')var _0x59156d=users[_0x1a11b2(0xb1)];else{if(_0x2501b4[0x0]['language']==_0x1a11b2(0xb0))var _0x59156d=users[_0x1a11b2(0xdf)];}}}}}}}_0x54d13a[_0x1a11b2(0xba)]==_0x1a11b2(0xc5)?_0x3aeef0[_0x1a11b2(0x135)](_0x1a11b2(0x139),{'success':_0x1a8b6c[_0x1a11b2(0x10e)]('success'),'errors':_0x1a8b6c[_0x1a11b2(0x10e)](_0x1a11b2(0xae)),'role':_0x54d13a,'profile':_0x320761,'categories':_0x3c3d9e,'brands':_0x28f0bd,'master_shop':_0x2501b4,'units':_0x868900,'language':_0x59156d,'find_data':_0x4c775c}):_0x3aeef0['render']('add_product',{'success':_0x1a8b6c['flash'](_0x1a11b2(0x132)),'errors':_0x1a8b6c[_0x1a11b2(0x10e)]('errors'),'role':_0x54d13a,'profile':_0x320761,'categories':_0x3c3d9e,'brands':_0x28f0bd,'master_shop':_0x2501b4,'units':_0x868900,'language':_0x59156d,'find_data':_0x4c775c});}catch(_0x407c8c){console[_0x1a11b2(0x12b)](_0x407c8c);}}),router[a0_0x3f86da(0x107)](a0_0x3f86da(0xe2),auth,upload['single'](a0_0x3f86da(0xcd)),async(_0x3ac202,_0x5cdd82)=>{const _0x52dc90=a0_0x3f86da;try{const {name:_0x4bc24e,category:_0x3e293b,brand:_0x382a66,unit:_0x38ab07,alertquantity:_0x5f0cfb,stock:_0x35ccb9,product_code:_0x7a4eca,warehouse:_0x2f31fa,primary_ItemCode:_0x59fa31,second_ItemCode:_0x2e3a1c,second_unit:_0x58fe0b,maxPerUnit:_0x268959,MaxPerProduct:_0xfb11cf,prod_catdata:_0x381225,product_code_spmx:_0x28feb7}=_0x3ac202[_0x52dc90(0x12f)],_0x6718e5=_0x3ac202[_0x52dc90(0xc1)]?.[_0x52dc90(0x131)]||_0x52dc90(0xf0),_0x4ca734=new product({'image':_0x6718e5,'name':_0x4bc24e,'category':_0x3e293b,'brand':_0x382a66,'unit':_0x38ab07,'alertquantity':_0x5f0cfb,'stock':_0x35ccb9,'product_code_spmx':_0x28feb7,'product_code':_0x7a4eca,'warehouse':_0x2f31fa,'primary_code':_0x59fa31,'secondary_code':_0x2e3a1c,'second_unit':_0x58fe0b,'maxStocks':_0xfb11cf,'maxProdPerUnit':_0x268959,'product_category':_0x381225}),_0x3f261b=await _0x4ca734[_0x52dc90(0x13c)](),_0x39a3ab=await categories['findOne']({'name':_0x3e293b});_0x39a3ab[_0x52dc90(0x173)]=parseInt(_0x39a3ab[_0x52dc90(0x173)])+0x1,await _0x39a3ab[_0x52dc90(0x13c)]();const _0x1dd063=await brands[_0x52dc90(0x15a)]({'name':_0x382a66});_0x1dd063[_0x52dc90(0x173)]=parseInt(_0x1dd063['products'])+0x1,await _0x1dd063['save']();const _0x1a1db8=await units[_0x52dc90(0x15a)]({'name':_0x38ab07});_0x1a1db8[_0x52dc90(0x173)]=parseInt(_0x1a1db8[_0x52dc90(0x173)])+0x1,await _0x1a1db8[_0x52dc90(0x13c)](),_0x3ac202['flash']('success',_0x52dc90(0xda)),_0x5cdd82[_0x52dc90(0x175)](_0x52dc90(0xd5));}catch(_0x196532){console['log'](_0x196532);}}),router[a0_0x3f86da(0xf3)](a0_0x3f86da(0x11a),auth,async(_0x118fb8,_0x454a2e)=>{const _0x57881e=a0_0x3f86da;try{const {username:_0x58dc18,email:_0x5d83db,role:_0x2af528}=_0x118fb8[_0x57881e(0xff)],_0x4bcd6b=_0x118fb8['user'],_0x3b66b5=await profile[_0x57881e(0x15a)]({'email':_0x4bcd6b['email']}),_0x41cce5=await master_shop[_0x57881e(0xac)]();console[_0x57881e(0x12b)](_0x57881e(0x174),_0x41cce5);const _0x408d5c=_0x118fb8[_0x57881e(0x15c)]['id'],_0x4c3a28=await product['findById'](_0x408d5c),_0xd95796=await categories[_0x57881e(0xac)]({}),_0x2d9f82=await brands[_0x57881e(0xac)]({}),_0x176e37=await units[_0x57881e(0xac)]({}),_0x1d4f2f=await warehouse['find']({'status':_0x57881e(0xbe)}),_0x41af1a=await units[_0x57881e(0x110)]([{'$group':{'_id':'$_id','secondaryunit':{'$first':_0x57881e(0xfd)}}}]);if(_0x41cce5[0x0][_0x57881e(0xfc)]=='English\x20(US)')var _0x2648e0=users[_0x57881e(0x170)];else{if(_0x41cce5[0x0][_0x57881e(0xfc)]=='Hindi')var _0x2648e0=users[_0x57881e(0x115)];else{if(_0x41cce5[0x0][_0x57881e(0xfc)]=='German')var _0x2648e0=users['German'];else{if(_0x41cce5[0x0][_0x57881e(0xfc)]==_0x57881e(0xc4))var _0x2648e0=users['Spanish'];else{if(_0x41cce5[0x0][_0x57881e(0xfc)]=='French')var _0x2648e0=users[_0x57881e(0xf8)];else{if(_0x41cce5[0x0][_0x57881e(0xfc)]=='Portuguese\x20(BR)')var _0x2648e0=users[_0x57881e(0x13a)];else{if(_0x41cce5[0x0][_0x57881e(0xfc)]=='Chinese')var _0x2648e0=users[_0x57881e(0xb1)];else{if(_0x41cce5[0x0][_0x57881e(0xfc)]==_0x57881e(0xb0))var _0x2648e0=users[_0x57881e(0xdf)];}}}}}}}_0x4bcd6b[_0x57881e(0xba)]==_0x57881e(0xc5)?_0x454a2e[_0x57881e(0x135)](_0x57881e(0x157),{'success':_0x118fb8[_0x57881e(0x10e)](_0x57881e(0x132)),'errors':_0x118fb8[_0x57881e(0x10e)](_0x57881e(0xae)),'role':_0x4bcd6b,'profile':_0x3b66b5,'alldata':_0x4c3a28,'categories':_0xd95796,'brands':_0x2d9f82,'master_shop':_0x41cce5,'units':_0x176e37,'secondunit':_0x41af1a,'find_data':_0x1d4f2f,'language':_0x2648e0}):_0x454a2e[_0x57881e(0x135)](_0x57881e(0x159),{'success':_0x118fb8[_0x57881e(0x10e)](_0x57881e(0x132)),'errors':_0x118fb8[_0x57881e(0x10e)]('errors'),'role':_0x4bcd6b,'profile':_0x3b66b5,'alldata':_0x4c3a28,'categories':_0xd95796,'brands':_0x2d9f82,'master_shop':_0x41cce5,'units':_0x176e37,'secondunit':_0x41af1a,'find_data':_0x1d4f2f,'language':_0x2648e0});}catch(_0x1985d0){console[_0x57881e(0x12b)](_0x1985d0);}}),router[a0_0x3f86da(0x107)](a0_0x3f86da(0x11a),auth,upload[a0_0x3f86da(0xc2)]('image'),async(_0x14ce84,_0x128ca9)=>{const _0xb0125b=a0_0x3f86da;try{console[_0xb0125b(0x12b)](_0xb0125b(0x147));const _0x39e7be=_0x14ce84['params']['id'],_0x284f57=await product[_0xb0125b(0xb3)](_0x39e7be),{image:_0x1960d9,name:_0x36ce30,category:_0x2a90c2,brand:_0x1c956e,sku:_0x5259ba,unit:_0x211cf2,alertquantity:_0x2db7bf,product_code:_0x4ad141,warehouse:_0x5847a3,primary_ItemCode:_0x3702b8,second_ItemCode:_0x3ebfaf,second_unit:_0x15b4eb,maxPerUnit:_0x1faef2,MaxPerProduct:_0x3fc294,prod_catdata:_0x37d41e,product_code_spmx:_0x598cdf}=_0x14ce84[_0xb0125b(0x12f)];_0x14ce84[_0xb0125b(0xc1)]&&(_0x284f57[_0xb0125b(0xcd)]=_0x14ce84[_0xb0125b(0xc1)][_0xb0125b(0x131)]);_0x284f57[_0xb0125b(0x127)]=_0x36ce30,_0x284f57['category']=_0x2a90c2,_0x284f57[_0xb0125b(0x112)]=_0x1c956e,_0x284f57[_0xb0125b(0xc7)]=_0x5259ba,_0x284f57[_0xb0125b(0xbd)]=_0x211cf2,_0x284f57['alertquantity']=_0x2db7bf,_0x284f57[_0xb0125b(0x137)]=_0x4ad141,_0x284f57[_0xb0125b(0x152)]=_0x5847a3,_0x284f57[_0xb0125b(0x164)]=_0x3702b8,_0x284f57['secondary_code']=_0x3ebfaf,_0x284f57[_0xb0125b(0x10a)]=_0x15b4eb,_0x284f57['maxStocks']=_0x3fc294,_0x284f57['maxProdPerUnit']=_0x1faef2,_0x284f57[_0xb0125b(0xeb)]=_0x37d41e,_0x284f57[_0xb0125b(0x120)]=_0x598cdf;const _0x1cc107=await _0x284f57[_0xb0125b(0x13c)]();console[_0xb0125b(0x12b)](_0xb0125b(0x11e),_0x284f57),_0x14ce84[_0xb0125b(0x10e)]('success',_0xb0125b(0xd0)),_0x128ca9[_0xb0125b(0x175)]('/products/view');}catch(_0x45df8c){console[_0xb0125b(0x12b)](_0x45df8c);}}),router[a0_0x3f86da(0xf3)](a0_0x3f86da(0xed),auth,async(_0x4e9bd1,_0x3ed612)=>{const _0xab9ee2=a0_0x3f86da;try{const {username:_0x21a7e5,email:_0x5c3456,role:_0x4eaf57}=_0x4e9bd1[_0xab9ee2(0xff)],_0x1d3d6c=_0x4e9bd1[_0xab9ee2(0xff)],_0x4e5e2e=await profile[_0xab9ee2(0x15a)]({'email':_0x1d3d6c[_0xab9ee2(0xd4)]}),_0x566053=await master_shop[_0xab9ee2(0xac)]();console[_0xab9ee2(0x12b)](_0xab9ee2(0xea),_0x566053);const _0x3141dc=_0x4e9bd1[_0xab9ee2(0x15c)]['id'],_0x5a9e61=await product['findById'](_0x3141dc);console[_0xab9ee2(0x12b)](_0xab9ee2(0xf7),_0x5a9e61);if(_0x566053[0x0][_0xab9ee2(0xfc)]==_0xab9ee2(0xde))var _0x461e86=users[_0xab9ee2(0x170)];else{if(_0x566053[0x0][_0xab9ee2(0xfc)]==_0xab9ee2(0x115))var _0x461e86=users[_0xab9ee2(0x115)];else{if(_0x566053[0x0]['language']=='German')var _0x461e86=users['German'];else{if(_0x566053[0x0][_0xab9ee2(0xfc)]==_0xab9ee2(0xc4))var _0x461e86=users[_0xab9ee2(0xc4)];else{if(_0x566053[0x0][_0xab9ee2(0xfc)]==_0xab9ee2(0xf8))var _0x461e86=users[_0xab9ee2(0xf8)];else{if(_0x566053[0x0]['language']==_0xab9ee2(0x105))var _0x461e86=users['Portuguese'];else{if(_0x566053[0x0][_0xab9ee2(0xfc)]==_0xab9ee2(0xb1))var _0x461e86=users[_0xab9ee2(0xb1)];else{if(_0x566053[0x0][_0xab9ee2(0xfc)]==_0xab9ee2(0xb0))var _0x461e86=users[_0xab9ee2(0xdf)];}}}}}}}_0x3ed612[_0xab9ee2(0x135)](_0xab9ee2(0x117),{'success':_0x4e9bd1[_0xab9ee2(0x10e)](_0xab9ee2(0x132)),'errors':_0x4e9bd1['flash'](_0xab9ee2(0xae)),'role':_0x1d3d6c,'profile':_0x4e5e2e,'alldata':_0x5a9e61,'master_shop':_0x566053,'language':_0x461e86});}catch(_0x374015){console['log'](_0x374015);}}),router[a0_0x3f86da(0xf3)]('/products_export_migrate_file_spmx',auth,async(_0x3bb7a2,_0x1c5836)=>{const _0x21bc4b=a0_0x3f86da;try{const _0x5e2ff2=new excelJS[(_0x21bc4b(0x123))](),_0x3ea350=_0x5e2ff2['addWorksheet'](_0x21bc4b(0xfb));return _0x3ea350[_0x21bc4b(0xce)]=[{'header':_0x21bc4b(0x163),'key':'PBrands','width':0xa},{'header':_0x21bc4b(0x142),'key':_0x21bc4b(0x11d),'width':0xa},{'header':_0x21bc4b(0x13e),'key':_0x21bc4b(0x167),'width':0xa},{'header':_0x21bc4b(0xf9),'key':_0x21bc4b(0x167),'width':0xa},{'header':_0x21bc4b(0xd7),'key':_0x21bc4b(0x167),'width':0xa},{'header':_0x21bc4b(0x16f),'key':'PCat','width':0xa},{'header':_0x21bc4b(0x171),'key':_0x21bc4b(0x150),'width':0xa}],_0x1c5836[_0x21bc4b(0xf1)](_0x21bc4b(0x10f),_0x21bc4b(0x133)),_0x1c5836[_0x21bc4b(0xf1)]('Content-Disposition',_0x21bc4b(0x14c)),_0x5e2ff2[_0x21bc4b(0x122)][_0x21bc4b(0xe5)](_0x1c5836)[_0x21bc4b(0xd2)](()=>{_0x1c5836['status'](0xc8);});}catch(_0x2030bd){_0x1c5836[_0x21bc4b(0x101)](0x190)[_0x21bc4b(0x15b)](_0x2030bd);}}),router[a0_0x3f86da(0xf3)](a0_0x3f86da(0x10d),auth,async(_0x4e7023,_0x531215)=>{const _0x1d4b07=a0_0x3f86da;try{const _0x33a5bb=new excelJS['Workbook'](),_0xd2548d=_0x33a5bb[_0x1d4b07(0x128)]('Products');return _0xd2548d['columns']=[{'header':'Product_Name','key':_0x1d4b07(0x15d),'width':0xa},{'header':'Brands','key':_0x1d4b07(0x169),'width':0xa},{'header':'Units','key':_0x1d4b07(0x11d),'width':0xa},{'header':_0x1d4b07(0x113),'key':_0x1d4b07(0x111),'width':0xa},{'header':_0x1d4b07(0x114),'key':'MaxperUnits','width':0xa},{'header':_0x1d4b07(0x134),'key':_0x1d4b07(0x167),'width':0xa},{'header':_0x1d4b07(0xbf),'key':_0x1d4b07(0x167),'width':0xa},{'header':_0x1d4b07(0xb9),'key':_0x1d4b07(0x167),'width':0xa},{'header':_0x1d4b07(0x16f),'key':_0x1d4b07(0xdd),'width':0xa},{'header':_0x1d4b07(0x155),'key':_0x1d4b07(0xe7),'width':0xa},{'header':_0x1d4b07(0x158),'key':'PAlQty','width':0xa},{'header':_0x1d4b07(0x171),'key':_0x1d4b07(0x150),'width':0xa}],_0x531215[_0x1d4b07(0xf1)](_0x1d4b07(0x10f),_0x1d4b07(0x133)),_0x531215['setHeader'](_0x1d4b07(0xaf),_0x1d4b07(0xc8)),_0x33a5bb[_0x1d4b07(0x122)][_0x1d4b07(0xe5)](_0x531215)[_0x1d4b07(0xd2)](()=>{_0x531215['status'](0xc8);});}catch(_0x49a719){_0x531215[_0x1d4b07(0x101)](0x190)['send'](_0x49a719);}});const storage1=multer['diskStorage']({'destination':(_0x33d408,_0x283aac,_0x1511c4)=>{const _0x357b08=a0_0x3f86da;_0x1511c4(null,_0x357b08(0x118));},'filename':(_0x3791b8,_0x584e6e,_0x5960a5)=>{const _0x272b32=a0_0x3f86da;_0x5960a5(null,Date[_0x272b32(0xd1)]()+_0x584e6e[_0x272b32(0x144)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x3f86da(0x107)]('/products_import_migrate_file',auth,uploadMigrate[a0_0x3f86da(0xc2)](a0_0x3f86da(0xcb)),async(_0x43b7a0,_0x40599e)=>{const _0x569072=a0_0x3f86da,_0x5f0354=_0x43b7a0[_0x569072(0xc1)][_0x569072(0x131)],_0x87ceaf=await xlsx[_0x569072(0x160)](_0x569072(0x143)+_0x5f0354);let _0x77ae8e=_0x87ceaf[_0x569072(0x16a)],_0x1bbda2=xlsx[_0x569072(0xb6)][_0x569072(0x156)](_0x87ceaf[_0x569072(0xc6)][_0x77ae8e[0x0]]);for(const _0x40e49c of _0x1bbda2){const _0x4af608=_0x40e49c['Product_Name'],_0x26427c=_0x40e49c[_0x569072(0x163)],_0x44be51=_0x40e49c[_0x569072(0x142)],_0x3012bc=_0x40e49c['Secondary_Units'],_0x45d239=_0x40e49c['Product_Code'],_0x98c4ea=_0x40e49c['Category'],_0x13266a=_0x40e49c[_0x569072(0x155)],_0x4964d1=_0x40e49c[_0x569072(0x134)],_0x5ee080=_0x40e49c[_0x569072(0xbf)],_0x113326=_0x40e49c[_0x569072(0x158)],_0x30f3aa=_0x40e49c[_0x569072(0x114)],_0x3b16c4=_0x40e49c['Products_category'];try{let _0x74e2ca=await categories[_0x569072(0x15a)]({'name':_0x98c4ea});if(!_0x74e2ca){const _0x148a7e=new categories({'name':_0x98c4ea,'products':'0'});_0x74e2ca=await _0x148a7e[_0x569072(0x13c)]();}let _0x424052=await brands['findOne']({'name':_0x26427c});if(!_0x424052){const _0x466e9d=new brands({'name':_0x26427c,'products':'0'});_0x424052=await _0x466e9d[_0x569072(0x13c)]();}let _0x2fd358=await units[_0x569072(0x15a)]({'name':_0x44be51,'secondary_unit':_0x3012bc});if(!_0x2fd358){const _0x5ea08d=new units({'name':_0x44be51,'secondary_unit':_0x3012bc,'products':'0'});_0x2fd358=await _0x5ea08d[_0x569072(0x13c)]();}const _0x37f24c=await product[_0x569072(0xac)]({'name':_0x4af608,'category':_0x74e2ca[_0x569072(0x127)],'brand':_0x424052[_0x569072(0x127)],'secondary_unit':_0x2fd358[_0x569072(0x10a)],'product_code':_0x45d239});console[_0x569072(0x12b)](_0x37f24c[_0x569072(0x151)]+_0x569072(0xe3)+_0x74e2ca[_0x569072(0x127)]+_0x569072(0xe3)+_0x424052[_0x569072(0x127)]+_0x569072(0xe3)+_0x2fd358[_0x569072(0x10a)]+'\x20<>\x20'+_0x45d239+'\x20<>\x20'+_0x4af608);if(_0x37f24c[_0x569072(0x151)]===0x0){const _0x537606=new product({'image':'defaultProduct.avif','name':_0x4af608,'category':_0x74e2ca[_0x569072(0x127)],'brand':_0x424052[_0x569072(0x127)],'unit':_0x2fd358[_0x569072(0x127)],'alertquantity':_0x13266a,'product_code':_0x45d239,'secondary_unit':_0x2fd358['secondary_unit'],'primary_code':_0x4964d1,'secondary_code':_0x5ee080,'maxStocks':_0x113326,'maxProdPerUnit':_0x30f3aa,'product_category':_0x3b16c4}),_0x1fb766=await _0x537606[_0x569072(0x13c)]();_0x74e2ca[_0x569072(0x173)]=parseInt(_0x74e2ca[_0x569072(0x173)])+0x1,await _0x74e2ca[_0x569072(0x13c)](),_0x424052['products']=parseInt(_0x424052[_0x569072(0x173)])+0x1,await _0x424052[_0x569072(0x13c)](),_0x2fd358[_0x569072(0x173)]=parseInt(_0x2fd358[_0x569072(0x173)])+0x1,await _0x2fd358[_0x569072(0x13c)](),_0x43b7a0[_0x569072(0x10e)](_0x569072(0x132),_0x4af608+_0x569072(0x136));}else{console[_0x569072(0x12b)](_0x37f24c[0x0]);const _0x9e6b72=_0x37f24c[0x0];_0x9e6b72[_0x569072(0x15e)]=_0x74e2ca['name'],_0x9e6b72[_0x569072(0x112)]=_0x424052['name'],_0x9e6b72[_0x569072(0xbd)]=_0x2fd358[_0x569072(0x127)],_0x9e6b72[_0x569072(0x125)]=_0x13266a,_0x9e6b72[_0x569072(0x137)]=_0x45d239,_0x9e6b72[_0x569072(0x10a)]=_0x2fd358[_0x569072(0x10a)],_0x9e6b72[_0x569072(0x164)]=_0x4964d1,_0x9e6b72['secondary_code']=_0x5ee080,_0x9e6b72['maxStocks']=_0x113326,_0x9e6b72['maxProdPerUnit']=_0x30f3aa,_0x9e6b72[_0x569072(0xeb)]=_0x3b16c4;const _0x2c20dd=await _0x9e6b72[_0x569072(0x13c)]();_0x43b7a0[_0x569072(0x10e)](_0x569072(0x132),_0x2c20dd['name']+_0x569072(0xe6));}}catch(_0x1b32c0){_0x40599e['status'](0x1f4)[_0x569072(0xfa)]({'proderror':_0x1b32c0['message'],'aproduct':_0x4af608});}}_0x40599e[_0x569072(0x175)](_0x569072(0xd5));}),router[a0_0x3f86da(0x107)](a0_0x3f86da(0x11c),auth,uploadMigrate[a0_0x3f86da(0xc2)](a0_0x3f86da(0xee)),async(_0x5c9bda,_0x3cb77c)=>{const _0x3272b3=a0_0x3f86da,_0x51ff77=_0x5c9bda['file'][_0x3272b3(0x131)],_0x2565e0=await xlsx[_0x3272b3(0x160)]('public/Migration/'+_0x51ff77);let _0x17da08=_0x2565e0[_0x3272b3(0x16a)],_0x5afcac=xlsx[_0x3272b3(0xb6)][_0x3272b3(0x156)](_0x2565e0[_0x3272b3(0xc6)][_0x17da08[0x0]]);for(const _0x58577a of _0x5afcac){const _0x558836=_0x3272b3(0x100),_0x4b32ce=_0x58577a[_0x3272b3(0x163)],_0xc79f0e=_0x58577a[_0x3272b3(0x142)],_0x1bad3b=_0x58577a[_0x3272b3(0x13e)],_0x213dbd=_0x58577a[_0x3272b3(0xf9)],_0x5e3973=_0x58577a[_0x3272b3(0xd7)],_0x332149=_0x58577a[_0x3272b3(0x16f)],_0xfb4cbb=_0x58577a['Products_category'];try{let _0x55dec9=await categories[_0x3272b3(0x15a)]({'name':_0x332149});if(!_0x55dec9){const _0x13a9aa=new categories({'name':_0x332149,'products':'0'});_0x55dec9=await _0x13a9aa[_0x3272b3(0x13c)]();}let _0x704236=await brands['findOne']({'name':_0x4b32ce});if(!_0x704236){const _0x3448a6=new brands({'name':_0x4b32ce,'products':'0'});_0x704236=await _0x3448a6['save']();}let _0x5b372b=await units[_0x3272b3(0x15a)]({'name':_0xc79f0e});if(!_0x5b372b){const _0x230a50=new units({'name':_0xc79f0e,'products':'0'});_0x5b372b=await _0x230a50[_0x3272b3(0x13c)]();}const _0x52f587=await product[_0x3272b3(0xac)]({'product_code':_0x5e3973,'primary_code':_0x1bad3b,'secondary_code':_0x213dbd});if(_0x52f587['length']===0x0){const _0x37f586=new product({'image':_0x3272b3(0xf0),'name':_0x558836,'category':_0x55dec9[_0x3272b3(0x127)],'brand':_0x704236['name'],'unit':_0x5b372b[_0x3272b3(0x127)],'product_code':_0x5e3973,'primary_code':_0x1bad3b,'secondary_code':_0x213dbd,'product_category':_0xfb4cbb}),_0x2b5201=await _0x37f586['save']();_0x55dec9[_0x3272b3(0x173)]=parseInt(_0x55dec9['products'])+0x1,await _0x55dec9[_0x3272b3(0x13c)](),_0x704236['products']=parseInt(_0x704236[_0x3272b3(0x173)])+0x1,await _0x704236[_0x3272b3(0x13c)](),_0x5b372b[_0x3272b3(0x173)]=parseInt(_0x5b372b[_0x3272b3(0x173)])+0x1,await _0x5b372b[_0x3272b3(0x13c)](),_0x5c9bda[_0x3272b3(0x10e)](_0x3272b3(0x132),_0x558836+_0x3272b3(0x136));}else{console[_0x3272b3(0x12b)](_0x52f587[0x0]);const _0x526a98=_0x52f587[0x0];_0x526a98[_0x3272b3(0x15e)]=_0x55dec9[_0x3272b3(0x127)],_0x526a98['brand']=_0x704236['name'],_0x526a98[_0x3272b3(0xbd)]=_0x5b372b[_0x3272b3(0x127)],_0x526a98[_0x3272b3(0x137)]=_0x5e3973,_0x526a98['primary_code']=_0x1bad3b,_0x526a98[_0x3272b3(0xec)]=_0x213dbd,_0x526a98['product_category']=_0xfb4cbb;const _0x33b268=await _0x526a98[_0x3272b3(0x13c)]();_0x5c9bda[_0x3272b3(0x10e)](_0x3272b3(0x132),_0x33b268[_0x3272b3(0x127)]+_0x3272b3(0xe6));}}catch(_0x30a1a7){_0x3cb77c[_0x3272b3(0x101)](0x1f4)['json']({'proderror':_0x30a1a7['message'],'aproduct':_0x558836});}}_0x3cb77c[_0x3272b3(0x175)](_0x3272b3(0xd5));}),router['post']('/select_data',auth,async(_0x408113,_0x27c255)=>{const _0x2aee20=a0_0x3f86da;try{console[_0x2aee20(0x12b)](_0x408113[_0x2aee20(0x12f)]);const {data_cateory:_0x3924ea,datachoose:_0x2044b9}=_0x408113[_0x2aee20(0x12f)];var _0x57054b;if(_0x2044b9==_0x2aee20(0x14b))_0x57054b=await product['aggregate']([{'$group':{'_id':'$product_category'}}]);else{if(_0x2044b9==_0x2aee20(0x103))_0x57054b=await product['aggregate']([{'$match':{'product_category':_0x3924ea}},{'$group':{'_id':_0x2aee20(0xe9)}}]);else _0x2044b9=='categ'&&(_0x57054b=await product['aggregate']([{'$match':{'product_category':_0x3924ea}},{'$group':{'_id':'$category'}}]));}_0x27c255['json'](_0x57054b);}catch(_0x464700){_0x27c255[_0x2aee20(0xfa)]({'message':_0x464700['message']});}}),router[a0_0x3f86da(0x107)](a0_0x3f86da(0xe8),auth,async(_0x38f7e3,_0x5dbcbe)=>{const _0x2028e3=a0_0x3f86da;try{const {data_choosing:_0x5b6cf7,data_selected:_0x4c728c,data_cateory:_0x233db2}=_0x38f7e3[_0x2028e3(0x12f)],_0x1021dd=_0x38f7e3[_0x2028e3(0xff)];console[_0x2028e3(0x12b)](_0x1021dd);var _0x443d61;if(_0x1021dd[_0x2028e3(0x149)]==_0x2028e3(0xef)){if(_0x5b6cf7=='prod_categ')_0x443d61=await product[_0x2028e3(0x110)]([{'$match':{'product_category':_0x233db2}}]);else{if(_0x5b6cf7==_0x2028e3(0x103))_0x443d61=await product[_0x2028e3(0x110)]([{'$match':{'brand':_0x4c728c,'product_category':_0x233db2}}]);else _0x5b6cf7==_0x2028e3(0xc9)&&(_0x443d61=await product[_0x2028e3(0x110)]([{'$match':{'category':_0x4c728c,'product_category':_0x233db2}}]));}}else{if(_0x1021dd[_0x2028e3(0x149)]==_0x2028e3(0xd3)){if(_0x5b6cf7==_0x2028e3(0x14b))_0x443d61=await product[_0x2028e3(0x110)]([{'$match':{'product_category':_0x4c728c}}]);else{if(_0x5b6cf7==_0x2028e3(0x103))_0x443d61=await product[_0x2028e3(0x110)]([{'$match':{'brand':_0x4c728c,'product_category':_0x1021dd[_0x2028e3(0xba)]}}]);else _0x5b6cf7==_0x2028e3(0xc9)&&(_0x443d61=await product[_0x2028e3(0x110)]([{'$match':{'category':_0x4c728c,'product_category':_0x1021dd[_0x2028e3(0xba)]}}]));}}}_0x5dbcbe[_0x2028e3(0xfa)](_0x443d61);}catch(_0x4f27b3){_0x5dbcbe[_0x2028e3(0xfa)]({'message':_0x4f27b3['message']});}}),router[a0_0x3f86da(0xf3)](a0_0x3f86da(0x166),auth,async(_0x3439bc,_0x372204)=>{const _0x4f925b=a0_0x3f86da,_0x30648d=_0x3439bc[_0x4f925b(0xff)],_0x549d73=await profile[_0x4f925b(0x15a)]({'email':_0x30648d[_0x4f925b(0xd4)]}),_0x5a6463=await master_shop[_0x4f925b(0xac)](),_0x32611a=await product['find']();if(_0x5a6463[0x0][_0x4f925b(0xfc)]=='English\x20(US)')var _0x293922=users[_0x4f925b(0x170)];else{if(_0x5a6463[0x0]['language']==_0x4f925b(0x115))var _0x293922=users[_0x4f925b(0x115)];else{if(_0x5a6463[0x0][_0x4f925b(0xfc)]==_0x4f925b(0x109))var _0x293922=users[_0x4f925b(0x109)];else{if(_0x5a6463[0x0][_0x4f925b(0xfc)]==_0x4f925b(0xc4))var _0x293922=users['Spanish'];else{if(_0x5a6463[0x0][_0x4f925b(0xfc)]=='French')var _0x293922=users[_0x4f925b(0xf8)];else{if(_0x5a6463[0x0][_0x4f925b(0xfc)]==_0x4f925b(0x105))var _0x293922=users[_0x4f925b(0x13a)];else{if(_0x5a6463[0x0]['language']=='Chinese')var _0x293922=users[_0x4f925b(0xb1)];else{if(_0x5a6463[0x0][_0x4f925b(0xfc)]==_0x4f925b(0xb0))var _0x293922=users[_0x4f925b(0xdf)];}}}}}}}_0x372204['render'](_0x4f925b(0x148),{'success':_0x3439bc['flash']('success'),'errors':_0x3439bc[_0x4f925b(0x10e)](_0x4f925b(0xae)),'role':_0x30648d,'profile':_0x549d73,'products':_0x32611a,'master_shop':_0x5a6463,'language':_0x293922});}),router[a0_0x3f86da(0x107)](a0_0x3f86da(0x140),auth,async(_0x2aa133,_0x227896)=>{const _0x2e0da1=a0_0x3f86da,_0x312ca7=_0x2aa133[_0x2e0da1(0xff)];if(_0x312ca7['role']==_0x2e0da1(0xef)){const _0x44bee6=await product[_0x2e0da1(0xac)]();_0x227896['json']({'data':_0x44bee6});}else{if(_0x312ca7[_0x2e0da1(0x149)]==_0x2e0da1(0xd3)){const _0x4713cd=await product[_0x2e0da1(0xac)]({'product_category':_0x312ca7[_0x2e0da1(0xba)]});_0x227896[_0x2e0da1(0xfa)]({'data':_0x4713cd});}}}),router[a0_0x3f86da(0x107)](a0_0x3f86da(0x14a),auth,async(_0x53ef4e,_0x57808c)=>{const _0xa17a58=a0_0x3f86da;try{const {dataProdCat:_0x5a0236,dataProdIdentity:_0x1e3870}=_0x53ef4e[_0xa17a58(0x12f)];var _0x5258c4;switch(_0x5a0236){case'fg':switch(_0x1e3870){case _0xa17a58(0x163):_0x5258c4=await product['aggregate']([{'$match':{'product_category':_0xa17a58(0xbb)}},{'$group':{'_id':_0xa17a58(0xe9)}},{'$project':{'brand':_0xa17a58(0x168)}}]);break;case _0xa17a58(0x16f):_0x5258c4=await product['aggregate']([{'$match':{'product_category':_0xa17a58(0xbb)}},{'$group':{'_id':_0xa17a58(0xf4)}},{'$project':{'category':_0xa17a58(0x168)}}]);break;}break;case'rm':switch(_0x1e3870){case _0xa17a58(0x163):_0x5258c4=await product[_0xa17a58(0x110)]([{'$match':{'product_category':'Raw\x20Materials'}},{'$group':{'_id':_0xa17a58(0xe9)}},{'$project':{'brand':'$_id'}}]);break;case _0xa17a58(0x16f):_0x5258c4=await product['aggregate']([{'$match':{'product_category':_0xa17a58(0x11b)}},{'$group':{'_id':'$category'}},{'$project':{'category':_0xa17a58(0x168)}}]);break;}case _0xa17a58(0xc5):switch(_0x1e3870){case'Brands':_0x5258c4=await product['aggregate']([{'$match':{'product_category':_0xa17a58(0xc5)}},{'$group':{'_id':'$brand'}},{'$project':{'brand':_0xa17a58(0x168)}}]);break;case'Category':_0x5258c4=await product[_0xa17a58(0x110)]([{'$match':{'product_category':_0xa17a58(0xc5)}},{'$group':{'_id':_0xa17a58(0xf4)}},{'$project':{'category':_0xa17a58(0x168)}}]);break;}break;}_0x57808c[_0xa17a58(0xfa)](_0x5258c4);}catch(_0x25181c){_0x57808c[_0xa17a58(0xfa)]({'message':_0x25181c[_0xa17a58(0x14f)]});}}),router[a0_0x3f86da(0x107)](a0_0x3f86da(0x104),auth,async(_0x4d70db,_0x429bed)=>{const _0x4cafb3=a0_0x3f86da;try{console[_0x4cafb3(0x12b)](_0x4d70db[_0x4cafb3(0x12f)]);const {prod_cat:_0x7ad2c0,identity:_0x2ff06a,valueData:_0x136fcd,typeofbarcode:_0x4cda5e}=_0x4d70db['body'];let _0x5bedcd;switch(_0x7ad2c0){case'fg':if(_0x2ff06a=='Brands')_0x5bedcd=await product['aggregate']([{'$match':{'product_category':_0x4cafb3(0xbb),'brand':_0x136fcd}}]);else _0x2ff06a==_0x4cafb3(0x16f)&&(_0x5bedcd=await product[_0x4cafb3(0x110)]([{'$match':{'product_category':_0x4cafb3(0xbb),'category':_0x136fcd}}]));break;case'rm':if(_0x2ff06a=='Brands')_0x5bedcd=await product[_0x4cafb3(0x110)]([{'$match':{'product_category':_0x4cafb3(0x11b),'brand':_0x136fcd}}]);else _0x2ff06a=='Category'&&(_0x5bedcd=await product[_0x4cafb3(0x110)]([{'$match':{'product_category':_0x4cafb3(0x11b),'category':_0x136fcd}}]));break;}const _0x4382e3=_0x293ab1=>_0x293ab1*0x48,_0x5f0195={'width':0x3,'height':0x1},_0x35b3be=new PDFDocument({'margin':_0x4382e3(0.75),'size':[_0x4382e3(_0x5f0195['width']),_0x4382e3(_0x5f0195[_0x4cafb3(0xe1)])],'bufferPages':!![]}),_0x2e98cc=_0x5bedcd[_0x4cafb3(0x151)];for(let _0x1e7d30=0x0;_0x1e7d30<=_0x2e98cc;_0x1e7d30++){if(_0x1e7d30!=_0x2e98cc){const _0x2c3e4e=_0x5bedcd[_0x1e7d30][_0x4cafb3(0x127)],_0x1c0611=_0x5bedcd[_0x1e7d30][_0x4cafb3(0x164)],_0x10f70b=_0x5bedcd[_0x1e7d30]['secondary_code'],_0x543057=_0x5bedcd[_0x1e7d30]['product_code'];var _0x26ec12;switch(_0x4cda5e){case'1':_0x26ec12=_0x1c0611;break;case'2':_0x26ec12=_0x10f70b;break;case'3':_0x26ec12=_0x543057;break;}const _0x6c8011={'width':0xd2,'height':0x64},_0x1d2617={'width':_0x4382e3(_0x5f0195[_0x4cafb3(0x10b)]),'height':_0x4382e3(_0x5f0195['height'])},_0x18425e=new Canvas();JsBarcode(_0x18425e,_0x26ec12,{'format':_0x4cafb3(0x145),'height':_0x6c8011[_0x4cafb3(0xe1)],'displayValue':!![],'text':_0x26ec12});const _0x573778=_0x18425e[_0x4cafb3(0xca)](),_0x4eeb6e=_0x1d2617['width']/_0x6c8011[_0x4cafb3(0x10b)],_0x16e79c=_0x1d2617[_0x4cafb3(0xe1)]/_0x6c8011[_0x4cafb3(0xe1)],_0x487838=Math['min'](_0x4eeb6e,_0x16e79c),_0x37e45b=_0x6c8011[_0x4cafb3(0x10b)]*_0x487838,_0x567689=_0x6c8011[_0x4cafb3(0xe1)]*_0x487838,_0x576d9d=(_0x1d2617['width']-_0x37e45b)/0x2,_0x5446e9=(_0x1d2617[_0x4cafb3(0xe1)]-_0x567689)/0x2;_0x35b3be[_0x4cafb3(0xcd)](_0x573778,_0x576d9d,_0x5446e9,{'width':_0x37e45b,'height':_0x567689}),_0x1e7d30!=_0x2e98cc&&_0x35b3be[_0x4cafb3(0x16b)]();}}const _0x4fc0d3=[];_0x35b3be['on'](_0x4cafb3(0x116),_0x4fc0d3[_0x4cafb3(0xc0)]['bind'](_0x4fc0d3)),_0x35b3be['on'](_0x4cafb3(0xb7),()=>{const _0x541cc5=_0x4cafb3,_0x1b86ff=Buffer[_0x541cc5(0xcf)](_0x4fc0d3),_0xc631e0=_0x1b86ff[_0x541cc5(0x106)](_0x541cc5(0xb5));_0x429bed[_0x541cc5(0xfa)]({'pdfContent':_0xc631e0});}),_0x35b3be[_0x4cafb3(0xb7)]();}catch(_0x4c435c){_0x429bed['json']({'message':_0x4c435c[_0x4cafb3(0x14f)]});}}),router[a0_0x3f86da(0x107)](a0_0x3f86da(0xdb),auth,async(_0x147e08,_0x2399cf)=>{const _0x52d8d6=a0_0x3f86da;try{console['log'](_0x147e08[_0x52d8d6(0x12f)]);const {prod_cat:_0xe7d139,identity:_0x4a9d0a,valueData:_0x13dd1d}=_0x147e08[_0x52d8d6(0x12f)];let _0x413304;switch(_0xe7d139){case'fg':if(_0x4a9d0a==_0x52d8d6(0x163))_0x413304=await product[_0x52d8d6(0x110)]([{'$match':{'product_category':_0x52d8d6(0xbb),'brand':_0x13dd1d}}]);else _0x4a9d0a==_0x52d8d6(0x16f)&&(_0x413304=await product[_0x52d8d6(0x110)]([{'$match':{'product_category':_0x52d8d6(0xbb),'category':_0x13dd1d}}]));break;case'rm':if(_0x4a9d0a==_0x52d8d6(0x163))_0x413304=await product[_0x52d8d6(0x110)]([{'$match':{'product_category':_0x52d8d6(0x11b),'brand':_0x13dd1d}}]);else _0x4a9d0a==_0x52d8d6(0x16f)&&(_0x413304=await product[_0x52d8d6(0x110)]([{'$match':{'product_category':'Raw\x20Materials','category':_0x13dd1d}}]));break;case _0x52d8d6(0xc5):if(_0x4a9d0a=='Brands')_0x413304=await product[_0x52d8d6(0x110)]([{'$match':{'product_category':_0x52d8d6(0xc5),'brand':_0x13dd1d}}]);else _0x4a9d0a==_0x52d8d6(0x16f)&&(_0x413304=await product[_0x52d8d6(0x110)]([{'$match':{'product_category':_0x52d8d6(0xc5),'category':_0x13dd1d}}]));break;}_0x2399cf[_0x52d8d6(0xfa)]({'data':_0x413304});}catch(_0x57a6da){_0x2399cf[_0x52d8d6(0xfa)]({'message':_0x57a6da[_0x52d8d6(0x14f)]});}}),router[a0_0x3f86da(0x107)](a0_0x3f86da(0xb2),auth,async(_0x1c75bc,_0x312788)=>{const _0x22d83b=a0_0x3f86da;try{const _0x45ed00=_0x1c75bc[_0x22d83b(0x15c)]['id'],{copies:_0x3aaac3,typeofbarcode:_0x227422}=_0x1c75bc[_0x22d83b(0x12f)];var _0x156396=await product[_0x22d83b(0xb3)](_0x45ed00);const _0x20b7cc=_0x34be09=>_0x34be09*0x48,_0x33da45={'width':0x3,'height':0x1},_0x35cfcc=new PDFDocument({'margin':_0x20b7cc(0.75),'size':[_0x20b7cc(_0x33da45[_0x22d83b(0x10b)]),_0x20b7cc(_0x33da45[_0x22d83b(0xe1)])],'bufferPages':!![]}),_0x59b77c=_0x3aaac3,_0x30c81f=_0x156396['name'],_0x471ecb=_0x156396[_0x22d83b(0x164)],_0x2178c8=_0x156396[_0x22d83b(0xec)],_0x49b609=_0x156396[_0x22d83b(0x137)];let _0x2cf808;switch(_0x227422){case'1':_0x2cf808=_0x471ecb;break;case'2':_0x2cf808=_0x2178c8;break;case'3':_0x2cf808=_0x49b609;break;}const _0x5afa5a={'width':0xd2,'height':0x64},_0x3e784b={'width':_0x20b7cc(_0x33da45['width']),'height':_0x20b7cc(_0x33da45['height'])};for(let _0x248b2c=0x1;_0x248b2c<=_0x59b77c;_0x248b2c++){const _0x3b2806=new Canvas();JsBarcode(_0x3b2806,_0x2cf808,{'format':'CODE128','height':_0x5afa5a['height'],'displayValue':!![],'text':_0x2cf808});const _0x12a951=_0x3b2806[_0x22d83b(0xca)](),_0x351f69=_0x3e784b[_0x22d83b(0x10b)]/_0x5afa5a['width'],_0x2a1a72=_0x3e784b[_0x22d83b(0xe1)]/_0x5afa5a['height'],_0x4d9823=Math[_0x22d83b(0x129)](_0x351f69,_0x2a1a72),_0x3f0d5d=_0x5afa5a[_0x22d83b(0x10b)]*_0x4d9823,_0x4c71fb=_0x5afa5a[_0x22d83b(0xe1)]*_0x4d9823,_0x4e2732=(_0x3e784b[_0x22d83b(0x10b)]-_0x3f0d5d)/0x2,_0x5baf83=(_0x3e784b[_0x22d83b(0xe1)]-_0x4c71fb)/0x2;_0x35cfcc[_0x22d83b(0xcd)](_0x12a951,_0x4e2732,_0x5baf83,{'width':_0x3f0d5d,'height':_0x4c71fb}),_0x248b2c!=_0x59b77c&&_0x35cfcc['addPage']();}const _0x200c19=[];_0x35cfcc['on'](_0x22d83b(0x116),_0x200c19[_0x22d83b(0xc0)]['bind'](_0x200c19)),_0x35cfcc['on'](_0x22d83b(0xb7),()=>{const _0x1bf6d9=_0x22d83b,_0x4f889e=Buffer[_0x1bf6d9(0xcf)](_0x200c19),_0x4ad1d5=_0x4f889e[_0x1bf6d9(0x106)](_0x1bf6d9(0xb5));_0x312788[_0x1bf6d9(0xfa)]({'pdfContent':_0x4ad1d5});}),_0x35cfcc['end']();}catch(_0x4af735){_0x312788[_0x22d83b(0xfa)]({'message':_0x4af735['message']});}}),module[a0_0x3f86da(0x13f)]=router;