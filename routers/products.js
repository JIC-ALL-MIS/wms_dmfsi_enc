function a0_0x1e4e(_0x4bbb89,_0x1b1ebf){const _0x53c634=a0_0x53c6();return a0_0x1e4e=function(_0x1e4ee5,_0x41816a){_0x1e4ee5=_0x1e4ee5-0xe0;let _0x3cdf2a=_0x53c634[_0x1e4ee5];return _0x3cdf2a;},a0_0x1e4e(_0x4bbb89,_0x1b1ebf);}const a0_0xd1686=a0_0x1e4e;(function(_0x516b67,_0x578957){const _0x2df107=a0_0x1e4e,_0x24cc2e=_0x516b67();while(!![]){try{const _0xa63a55=parseInt(_0x2df107(0x181))/0x1*(-parseInt(_0x2df107(0xe4))/0x2)+-parseInt(_0x2df107(0x134))/0x3+-parseInt(_0x2df107(0x175))/0x4+-parseInt(_0x2df107(0x187))/0x5+-parseInt(_0x2df107(0x15e))/0x6+parseInt(_0x2df107(0x184))/0x7*(parseInt(_0x2df107(0xf8))/0x8)+-parseInt(_0x2df107(0x13c))/0x9*(-parseInt(_0x2df107(0x138))/0xa);if(_0xa63a55===_0x578957)break;else _0x24cc2e['push'](_0x24cc2e['shift']());}catch(_0x43994d){_0x24cc2e['push'](_0x24cc2e['shift']());}}}(a0_0x53c6,0x9fd84));function a0_0x53c6(){const _0x412a04=['express/lib/response','readFile','message','Spanish','$product_details.product_stock','/products/units','/products_export_migrate_file','/products_import_migrate_file','categ','json','Arabic','get','barcode\x20user_id','product_code','alertquantity','/brands/:id','2631801cPJqpt','Products\x20warehouse_data','/units/delete/:id','forEach','630STDXQD','categories\x20data\x20delete\x20successfully','public/upload','SheetNames','586431PKVObE','Alert_QTY','email','save','\x20added\x20successfully','image','Router','file','redirect','addWorksheet','render','hello','product_docs','status','product_category','/barcode/:id','findByIdAndUpdate','now','/filter_product','../public/language/languages.json','Products_category','product_details.product_name','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','log','Content-Type','success','../middleware/auth','findOne','Chinese','$product_details.product_name','setHeader','Prod_Cat','numeric','brands','6503346VFqwcD','body','findById','category','Category','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','/view/add_products','utils','German','units','Hindi','/products/brands','public/Migration','\x20<>\x20','categories','/categories','/brands','xlsx','/categories/delete/:id','PAlQty','params','PBrands','brand\x20data\x20delete\x20successfully','4432664tSPMFG','Product_Name','Product_Code','ProductCode','English','exceljs','multer','/select_data','master','$product_docs','Brands','products','211639SsiHay','warehouse','filename','7cCyLKo','MaxperUnits','Secondary_Code','2831165DzBdOi','$_id','$product_details','Enabled','Products','French','6eTdQJy','name','secondary_code','language','find','/units/:id','/products/view','English\x20(US)','max_number_per_units','secondary_unit','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','$secondary_unit','sheet_to_json','Units','aggregate','product\x20edit','primary_code','originalname','brand\x20data\x20update\x20successfully','stock','6561448nsyXvU','Maximum_Stocks','post','diskStorage','\x20Edit\x20Successfully','migrate_product_fule','Content-Disposition','/units','then','user','/view/:id','$category','Portuguese','prod_categ','findByIdAndDelete','columns','Arabic\x20(ae)','errors','product_stock','Primary_Code','long','Products\x20find_data','Portuguese\x20(BR)','barcode\x20Product\x20master','\x20brand\x20is\x20add\x20successfully','Secondary_Units','length','single','PSecondaryUnits','$brand','maxStocks','/products/categories','flash','categories_edit','\x20unit\x20is\x20add\x20successfully','/brands/delete/:id','map','sku','Sheets','/categories/:id','$product_stock','unit','maxProdPerUnit','PUnits'];a0_0x53c6=function(){return _0x412a04;};return a0_0x53c6();}const express=require('express'),res=require(a0_0xd1686(0x124)),app=express(),router=express[a0_0xd1686(0x142)](),multer=require(a0_0xd1686(0x17b)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require('../models/all_models'),auth=require(a0_0xd1686(0x156)),users=require(a0_0xd1686(0x14f)),excelJS=require(a0_0xd1686(0x17a)),xlsx=require(a0_0xd1686(0x16f));router[a0_0xd1686(0x12f)](a0_0xd1686(0x16d),auth,async(_0x1262d2,_0x1a93ba)=>{const _0x529f95=a0_0xd1686;try{const {username:_0x2a3a2a,email:_0x3b4cee,role:_0x43bbee}=_0x1262d2[_0x529f95(0x101)],_0x4b7403=_0x1262d2[_0x529f95(0x101)],_0x38983b=await profile[_0x529f95(0x157)]({'email':_0x4b7403[_0x529f95(0x13e)]}),_0x33465e=await master_shop['find']();console[_0x529f95(0x153)](_0x529f95(0x17d),_0x33465e);const _0x17f763=await categories['find']();if(_0x33465e[0x0][_0x529f95(0xe7)]==_0x529f95(0xeb))var _0x3065da=users['English'];else{if(_0x33465e[0x0]['language']=='Hindi')var _0x3065da=users[_0x529f95(0x168)];else{if(_0x33465e[0x0]['language']==_0x529f95(0x166))var _0x3065da=users[_0x529f95(0x166)];else{if(_0x33465e[0x0][_0x529f95(0xe7)]==_0x529f95(0x127))var _0x3065da=users[_0x529f95(0x127)];else{if(_0x33465e[0x0]['language']=='French')var _0x3065da=users[_0x529f95(0xe3)];else{if(_0x33465e[0x0]['language']==_0x529f95(0x10e))var _0x3065da=users[_0x529f95(0x104)];else{if(_0x33465e[0x0][_0x529f95(0xe7)]==_0x529f95(0x158))var _0x3065da=users['Chinese'];else{if(_0x33465e[0x0][_0x529f95(0xe7)]==_0x529f95(0x108))var _0x3065da=users[_0x529f95(0x12e)];}}}}}}}_0x1a93ba[_0x529f95(0x146)](_0x529f95(0x16c),{'success':_0x1262d2['flash']('success'),'errors':_0x1262d2['flash'](_0x529f95(0x109)),'role':_0x4b7403,'profile':_0x38983b,'user':_0x17f763,'master_shop':_0x33465e,'language':_0x3065da});}catch(_0x1e81b1){console['log'](_0x1e81b1);}}),router[a0_0xd1686(0xfa)](a0_0xd1686(0x16d),auth,async(_0x127761,_0x17e4e0)=>{const _0x2797d2=a0_0xd1686;try{const {name:_0x5ed166,products:_0x3cb757}=_0x127761['body'],_0x1ebb10=new categories({'name':_0x5ed166,'products':_0x3cb757}),_0x5c7d77=await categories['findOne']({'name':_0x5ed166});_0x5c7d77?_0x127761[_0x2797d2(0x118)](_0x2797d2(0x109),_0x5ed166+_0x2797d2(0xee)):_0x127761[_0x2797d2(0x118)]('success',_0x5ed166+'\x20categories\x20is\x20add\x20successfully');const _0x15358d=await _0x1ebb10[_0x2797d2(0x13f)]();_0x17e4e0[_0x2797d2(0x144)]('/products/categories');}catch(_0x596688){console[_0x2797d2(0x153)](_0x596688);}}),router[a0_0xd1686(0x12f)](a0_0xd1686(0x11f),auth,async(_0x21a66a,_0x1b22f7)=>{const _0xe36360=a0_0xd1686;try{const {username:_0x2edfa8,email:_0xab5a3d,role:_0x2770bd}=_0x21a66a[_0xe36360(0x101)],_0x43e1b3=_0x21a66a['user'],_0x51a8a8=await profile[_0xe36360(0x157)]({'email':_0x43e1b3['email']}),_0x1cec71=await master_shop[_0xe36360(0xe8)]();console[_0xe36360(0x153)](_0xe36360(0x17d),_0x1cec71);const _0x5adc68=_0x21a66a['params']['id'];console[_0xe36360(0x153)](_0x5adc68);const _0x226cdc=await categories['findById'](_0x5adc68);if(_0x1cec71[0x0][_0xe36360(0xe7)]==_0xe36360(0xeb))var _0x295b7d=users[_0xe36360(0x179)];else{if(_0x1cec71[0x0][_0xe36360(0xe7)]=='Hindi')var _0x295b7d=users[_0xe36360(0x168)];else{if(_0x1cec71[0x0][_0xe36360(0xe7)]==_0xe36360(0x166))var _0x295b7d=users['German'];else{if(_0x1cec71[0x0]['language']==_0xe36360(0x127))var _0x295b7d=users[_0xe36360(0x127)];else{if(_0x1cec71[0x0][_0xe36360(0xe7)]==_0xe36360(0xe3))var _0x295b7d=users[_0xe36360(0xe3)];else{if(_0x1cec71[0x0][_0xe36360(0xe7)]==_0xe36360(0x10e))var _0x295b7d=users['Portuguese'];else{if(_0x1cec71[0x0][_0xe36360(0xe7)]=='Chinese')var _0x295b7d=users[_0xe36360(0x158)];else{if(_0x1cec71[0x0][_0xe36360(0xe7)]==_0xe36360(0x108))var _0x295b7d=users[_0xe36360(0x12e)];}}}}}}}_0x1b22f7['render'](_0xe36360(0x16c),{'success':_0x21a66a[_0xe36360(0x118)](_0xe36360(0x155)),'errors':_0x21a66a['flash'](_0xe36360(0x109)),'role':_0x43e1b3,'profile':_0x51a8a8,'master_shop':_0x1cec71,'user':_0x226cdc,'language':_0x295b7d});}catch(_0x32680f){console[_0xe36360(0x153)](_0x32680f);}}),router[a0_0xd1686(0xfa)](a0_0xd1686(0x11f),auth,async(_0x1b6910,_0x20a94b)=>{const _0x25256d=a0_0xd1686;try{const _0x437a19=_0x1b6910['params']['id'],_0x1f277f=await categories[_0x25256d(0x14c)](_0x437a19,_0x1b6910['body']);_0x1b6910[_0x25256d(0x118)](_0x25256d(0x155),''+users[_0x25256d(0x119)]),_0x20a94b['redirect'](_0x25256d(0x117));}catch(_0x1a6245){console[_0x25256d(0x153)](_0x1a6245);}}),router[a0_0xd1686(0x12f)](a0_0xd1686(0x170),auth,async(_0xd09daf,_0x192071)=>{const _0x36c1df=a0_0xd1686;try{const _0x3bad96=_0xd09daf[_0x36c1df(0x172)]['id'],_0x405ae4=await categories['findByIdAndDelete'](_0x3bad96);_0xd09daf[_0x36c1df(0x118)](_0x36c1df(0x155),_0x36c1df(0x139)),_0x192071['redirect'](_0x36c1df(0x117));}catch(_0x548683){console[_0x36c1df(0x153)](_0x548683);}}),router[a0_0xd1686(0x12f)](a0_0xd1686(0x16e),auth,async(_0xb585ad,_0x1e205c)=>{const _0x4b1974=a0_0xd1686;try{const {username:_0x4fa1c5,email:_0x4a5011,role:_0x2dc0d5}=_0xb585ad[_0x4b1974(0x101)],_0x4f3edc=_0xb585ad['user'],_0x28bea9=await profile[_0x4b1974(0x157)]({'email':_0x4f3edc[_0x4b1974(0x13e)]}),_0x85013b=await master_shop[_0x4b1974(0xe8)]();console[_0x4b1974(0x153)](_0x4b1974(0x17d),_0x85013b);const _0x732712=await brands[_0x4b1974(0xe8)]();if(_0x85013b[0x0][_0x4b1974(0xe7)]=='English\x20(US)')var _0x408fb9=users[_0x4b1974(0x179)];else{if(_0x85013b[0x0]['language']==_0x4b1974(0x168))var _0x408fb9=users[_0x4b1974(0x168)];else{if(_0x85013b[0x0][_0x4b1974(0xe7)]==_0x4b1974(0x166))var _0x408fb9=users[_0x4b1974(0x166)];else{if(_0x85013b[0x0][_0x4b1974(0xe7)]==_0x4b1974(0x127))var _0x408fb9=users[_0x4b1974(0x127)];else{if(_0x85013b[0x0]['language']=='French')var _0x408fb9=users[_0x4b1974(0xe3)];else{if(_0x85013b[0x0]['language']==_0x4b1974(0x10e))var _0x408fb9=users['Portuguese'];else{if(_0x85013b[0x0]['language']==_0x4b1974(0x158))var _0x408fb9=users[_0x4b1974(0x158)];else{if(_0x85013b[0x0][_0x4b1974(0xe7)]=='Arabic\x20(ae)')var _0x408fb9=users['Arabic'];}}}}}}}_0x1e205c[_0x4b1974(0x146)]('brands',{'success':_0xb585ad[_0x4b1974(0x118)]('success'),'errors':_0xb585ad[_0x4b1974(0x118)](_0x4b1974(0x109)),'role':_0x4f3edc,'profile':_0x28bea9,'master_shop':_0x85013b,'user':_0x732712,'language':_0x408fb9});}catch(_0x4ec8f5){console[_0x4b1974(0x153)](_0x4ec8f5);}}),router[a0_0xd1686(0xfa)](a0_0xd1686(0x16e),auth,async(_0x467900,_0x136150)=>{const _0x532fc7=a0_0xd1686;try{const {name:_0x5ecfe4,products:_0x365ec7}=_0x467900[_0x532fc7(0x15f)],_0x27bf8b=new brands({'name':_0x5ecfe4,'products':_0x365ec7}),_0x33a347=await brands[_0x532fc7(0x157)]({'name':_0x5ecfe4});_0x33a347?_0x467900[_0x532fc7(0x118)](_0x532fc7(0x109),_0x5ecfe4+_0x532fc7(0x163)):_0x467900['flash'](_0x532fc7(0x155),_0x5ecfe4+_0x532fc7(0x110));const _0x575948=await _0x27bf8b['save']();_0x136150[_0x532fc7(0x144)](_0x532fc7(0x169));}catch(_0xb0d0bf){console[_0x532fc7(0x153)](_0xb0d0bf);}}),router[a0_0xd1686(0x12f)](a0_0xd1686(0x133),auth,async(_0x20e1f5,_0x43baaa)=>{const _0x3186d4=a0_0xd1686;try{const {username:_0x2f8026,email:_0x18022d,role:_0xebe5aa}=_0x20e1f5['user'],_0x57e5d7=_0x20e1f5[_0x3186d4(0x101)],_0x23e9f9=await profile[_0x3186d4(0x157)]({'email':_0x57e5d7[_0x3186d4(0x13e)]}),_0x35a63e=await master_shop[_0x3186d4(0xe8)]();console[_0x3186d4(0x153)](_0x3186d4(0x17d),_0x35a63e);const _0x3c04bd=_0x20e1f5[_0x3186d4(0x172)]['id'];console[_0x3186d4(0x153)](_0x3c04bd);const _0xac507f=await brands[_0x3186d4(0x160)](_0x3c04bd);if(_0x35a63e[0x0][_0x3186d4(0xe7)]=='English\x20(US)')var _0x3fbc35=users[_0x3186d4(0x179)];else{if(_0x35a63e[0x0][_0x3186d4(0xe7)]=='Hindi')var _0x3fbc35=users[_0x3186d4(0x168)];else{if(_0x35a63e[0x0][_0x3186d4(0xe7)]==_0x3186d4(0x166))var _0x3fbc35=users[_0x3186d4(0x166)];else{if(_0x35a63e[0x0][_0x3186d4(0xe7)]==_0x3186d4(0x127))var _0x3fbc35=users['Spanish'];else{if(_0x35a63e[0x0][_0x3186d4(0xe7)]==_0x3186d4(0xe3))var _0x3fbc35=users[_0x3186d4(0xe3)];else{if(_0x35a63e[0x0][_0x3186d4(0xe7)]==_0x3186d4(0x10e))var _0x3fbc35=users[_0x3186d4(0x104)];else{if(_0x35a63e[0x0]['language']==_0x3186d4(0x158))var _0x3fbc35=users['Chinese'];else{if(_0x35a63e[0x0][_0x3186d4(0xe7)]==_0x3186d4(0x108))var _0x3fbc35=users['Arabic'];}}}}}}}_0x43baaa['render'](_0x3186d4(0x15d),{'success':_0x20e1f5[_0x3186d4(0x118)](_0x3186d4(0x155)),'errors':_0x20e1f5[_0x3186d4(0x118)](_0x3186d4(0x109)),'role':_0x57e5d7,'profile':_0x23e9f9,'master_shop':_0x35a63e,'user':_0xac507f,'language':_0x3fbc35});}catch(_0x141c36){console['log'](_0x141c36);}}),router[a0_0xd1686(0xfa)]('/brands/:id',auth,async(_0x260447,_0x34bfcb)=>{const _0x2e9430=a0_0xd1686;try{const _0x30cfde=_0x260447['params']['id'],_0x55d824=await brands[_0x2e9430(0x14c)](_0x30cfde,_0x260447[_0x2e9430(0x15f)]);_0x260447[_0x2e9430(0x118)](_0x2e9430(0x155),_0x2e9430(0xf6)),_0x34bfcb[_0x2e9430(0x144)](_0x2e9430(0x169));}catch(_0x4409ca){console[_0x2e9430(0x153)](_0x4409ca);}}),router[a0_0xd1686(0x12f)](a0_0xd1686(0x11b),auth,async(_0x4f3dd6,_0xb8158d)=>{const _0x3708b4=a0_0xd1686;try{const _0x573816=_0x4f3dd6['params']['id'],_0x10273e=await brands[_0x3708b4(0x106)](_0x573816);_0x4f3dd6[_0x3708b4(0x118)](_0x3708b4(0x155),_0x3708b4(0x174)),_0xb8158d[_0x3708b4(0x144)]('/products/brands');}catch(_0x2dccd3){console[_0x3708b4(0x153)](_0x2dccd3);}}),router['get'](a0_0xd1686(0xff),auth,async(_0x3a4923,_0x443dba)=>{const _0xfa4394=a0_0xd1686;try{const {username:_0x7d5f5d,email:_0x761872,role:_0x46ca14}=_0x3a4923[_0xfa4394(0x101)],_0x54949d=_0x3a4923[_0xfa4394(0x101)],_0x17dcfd=await profile[_0xfa4394(0x157)]({'email':_0x54949d[_0xfa4394(0x13e)]}),_0x3f6869=await master_shop[_0xfa4394(0xe8)]();console[_0xfa4394(0x153)]('master',_0x3f6869);const _0x743332=await units['find']();if(_0x3f6869[0x0][_0xfa4394(0xe7)]==_0xfa4394(0xeb))var _0x28978f=users[_0xfa4394(0x179)];else{if(_0x3f6869[0x0][_0xfa4394(0xe7)]==_0xfa4394(0x168))var _0x28978f=users[_0xfa4394(0x168)];else{if(_0x3f6869[0x0][_0xfa4394(0xe7)]==_0xfa4394(0x166))var _0x28978f=users[_0xfa4394(0x166)];else{if(_0x3f6869[0x0][_0xfa4394(0xe7)]==_0xfa4394(0x127))var _0x28978f=users[_0xfa4394(0x127)];else{if(_0x3f6869[0x0][_0xfa4394(0xe7)]==_0xfa4394(0xe3))var _0x28978f=users[_0xfa4394(0xe3)];else{if(_0x3f6869[0x0][_0xfa4394(0xe7)]==_0xfa4394(0x10e))var _0x28978f=users[_0xfa4394(0x104)];else{if(_0x3f6869[0x0][_0xfa4394(0xe7)]==_0xfa4394(0x158))var _0x28978f=users[_0xfa4394(0x158)];else{if(_0x3f6869[0x0][_0xfa4394(0xe7)]==_0xfa4394(0x108))var _0x28978f=users['Arabic'];}}}}}}}_0x443dba[_0xfa4394(0x146)](_0xfa4394(0x167),{'success':_0x3a4923[_0xfa4394(0x118)](_0xfa4394(0x155)),'errors':_0x3a4923[_0xfa4394(0x118)](_0xfa4394(0x109)),'role':_0x54949d,'profile':_0x17dcfd,'master_shop':_0x3f6869,'user':_0x743332,'language':_0x28978f});}catch(_0x2a1b2f){console[_0xfa4394(0x153)](_0x2a1b2f);}}),router['post'](a0_0xd1686(0xff),auth,async(_0x37f26b,_0x582ab0)=>{const _0x3b00ee=a0_0xd1686;try{const {name:_0x5e4cf6,secondary_unit:_0xc54bd4,products:_0x2fde1e}=_0x37f26b['body'],_0x429551=new units({'name':_0x5e4cf6,'secondary_unit':_0xc54bd4,'products':_0x2fde1e}),_0x4966b2=await units[_0x3b00ee(0x157)]({'name':_0x5e4cf6});_0x4966b2?_0x37f26b[_0x3b00ee(0x118)](_0x3b00ee(0x109),_0x5e4cf6+_0x3b00ee(0x152)):_0x37f26b[_0x3b00ee(0x118)](_0x3b00ee(0x155),_0x5e4cf6+_0x3b00ee(0x11a));const _0x1ce944=await _0x429551[_0x3b00ee(0x13f)]();_0x582ab0[_0x3b00ee(0x144)](_0x3b00ee(0x129));}catch(_0x470955){console[_0x3b00ee(0x153)](_0x470955);}}),router[a0_0xd1686(0x12f)](a0_0xd1686(0xe9),auth,async(_0x3ead10,_0x246ba8)=>{const _0x312b14=a0_0xd1686;try{const {username:_0x1ac30d,email:_0x6bc327,role:_0x1b1d53}=_0x3ead10[_0x312b14(0x101)],_0x32b2d1=_0x3ead10[_0x312b14(0x101)],_0x16cef3=await profile['findOne']({'email':_0x32b2d1[_0x312b14(0x13e)]}),_0x589fb5=await master_shop[_0x312b14(0xe8)]();console[_0x312b14(0x153)](_0x312b14(0x17d),_0x589fb5);const _0x30d08b=_0x3ead10[_0x312b14(0x172)]['id'],_0x49fb2d=await units[_0x312b14(0x160)](_0x30d08b);if(_0x589fb5[0x0][_0x312b14(0xe7)]==_0x312b14(0xeb))var _0x24de61=users[_0x312b14(0x179)];else{if(_0x589fb5[0x0][_0x312b14(0xe7)]=='Hindi')var _0x24de61=users[_0x312b14(0x168)];else{if(_0x589fb5[0x0][_0x312b14(0xe7)]==_0x312b14(0x166))var _0x24de61=users[_0x312b14(0x166)];else{if(_0x589fb5[0x0]['language']==_0x312b14(0x127))var _0x24de61=users['Spanish'];else{if(_0x589fb5[0x0]['language']=='French')var _0x24de61=users[_0x312b14(0xe3)];else{if(_0x589fb5[0x0]['language']==_0x312b14(0x10e))var _0x24de61=users[_0x312b14(0x104)];else{if(_0x589fb5[0x0][_0x312b14(0xe7)]==_0x312b14(0x158))var _0x24de61=users['Chinese'];else{if(_0x589fb5[0x0][_0x312b14(0xe7)]==_0x312b14(0x108))var _0x24de61=users[_0x312b14(0x12e)];}}}}}}}_0x246ba8['render'](_0x312b14(0x167),{'success':_0x3ead10[_0x312b14(0x118)]('success'),'errors':_0x3ead10['flash'](_0x312b14(0x109)),'role':_0x32b2d1,'profile':_0x16cef3,'master_shop':_0x589fb5,'user':_0x49fb2d,'language':_0x24de61});}catch(_0xa9ff12){console[_0x312b14(0x153)](_0xa9ff12);}}),router[a0_0xd1686(0xfa)](a0_0xd1686(0xe9),auth,async(_0x2f91e3,_0x3397c9)=>{const _0x6690e6=a0_0xd1686;try{const _0x1e34f9=_0x2f91e3[_0x6690e6(0x172)]['id'],_0x215265=await units[_0x6690e6(0x14c)](_0x1e34f9,_0x2f91e3['body']);_0x2f91e3[_0x6690e6(0x118)](_0x6690e6(0x155),'unit\x20data\x20update\x20successfully'),_0x3397c9['redirect'](_0x6690e6(0x129));}catch(_0xb12828){console[_0x6690e6(0x153)](_0xb12828);}}),router[a0_0xd1686(0x12f)](a0_0xd1686(0x136),auth,async(_0x5e1133,_0x50d4a4)=>{const _0xcd8911=a0_0xd1686;try{const _0x4c7797=_0x5e1133[_0xcd8911(0x172)]['id'],_0x438446=await units[_0xcd8911(0x106)](_0x4c7797);_0x5e1133[_0xcd8911(0x118)](_0xcd8911(0x155),'unit\x20data\x20delete\x20successfully'),_0x50d4a4[_0xcd8911(0x144)](_0xcd8911(0x129));}catch(_0x342420){console['log'](_0x342420);}});const storage=multer[a0_0xd1686(0xfb)]({'destination':(_0xbe4432,_0x2ffae6,_0x575dab)=>{const _0x4cd221=a0_0xd1686;_0x575dab(null,_0x4cd221(0x13a));},'filename':(_0x27aab0,_0x9d026,_0x152be7)=>{const _0x1b58b9=a0_0xd1686;_0x152be7(null,Date[_0x1b58b9(0x14d)]()+_0x9d026[_0x1b58b9(0xf5)]);}}),upload=multer({'storage':storage});router[a0_0xd1686(0x12f)]('/view',auth,async(_0x182c9f,_0x7cc89c)=>{const _0x436950=a0_0xd1686;try{const {username:_0x2de0ad,email:_0xf4e2b9,role:_0x3c6bc9}=_0x182c9f['user'],_0x58f10e=_0x182c9f[_0x436950(0x101)],_0x4d9edf=await profile[_0x436950(0x157)]({'email':_0x58f10e[_0x436950(0x13e)]}),_0x4ad158={'year':_0x436950(0x15c),'month':_0x436950(0x10c),'day':'numeric'},_0x11df18=await master_shop['find']();console[_0x436950(0x153)]('Products\x20master',_0x11df18);const _0x47e823=await product[_0x436950(0xe8)]();console['log'](_0x436950(0x10d),_0x47e823);const _0x4defa7=await warehouse['aggregate']([{'$unwind':_0x436950(0xe0)},{'$lookup':{'from':_0x436950(0x180),'localField':_0x436950(0x151),'foreignField':_0x436950(0xe5),'as':_0x436950(0x148)}},{'$unwind':_0x436950(0x17e)},{'$project':{'product_name':_0x436950(0x159),'product_stock':_0x436950(0x128)}},{'$group':{'_id':'$product_name','product_stock':{'$sum':_0x436950(0x120)}}}]);console[_0x436950(0x153)](_0x436950(0x135),_0x4defa7),_0x4defa7[_0x436950(0x137)](_0x4b013e=>{const _0x123236=_0x436950,_0x2dd7b6=_0x47e823[_0x123236(0x11c)](_0x27f5b8=>{const _0x471b23=_0x123236;_0x27f5b8[_0x471b23(0xe5)]==_0x4b013e['_id']&&(_0x27f5b8[_0x471b23(0xf7)]=parseInt(_0x27f5b8[_0x471b23(0xf7)])+parseInt(_0x4b013e[_0x471b23(0x10a)]));});}),console[_0x436950(0x153)](_0x436950(0x10d),_0x47e823);if(_0x11df18[0x0][_0x436950(0xe7)]=='English\x20(US)')var _0x1234ad=users[_0x436950(0x179)];else{if(_0x11df18[0x0][_0x436950(0xe7)]==_0x436950(0x168))var _0x1234ad=users[_0x436950(0x168)];else{if(_0x11df18[0x0]['language']==_0x436950(0x166))var _0x1234ad=users[_0x436950(0x166)];else{if(_0x11df18[0x0]['language']==_0x436950(0x127))var _0x1234ad=users[_0x436950(0x127)];else{if(_0x11df18[0x0]['language']==_0x436950(0xe3))var _0x1234ad=users[_0x436950(0xe3)];else{if(_0x11df18[0x0][_0x436950(0xe7)]==_0x436950(0x10e))var _0x1234ad=users[_0x436950(0x104)];else{if(_0x11df18[0x0][_0x436950(0xe7)]=='Chinese')var _0x1234ad=users[_0x436950(0x158)];else{if(_0x11df18[0x0]['language']==_0x436950(0x108))var _0x1234ad=users[_0x436950(0x12e)];}}}}}}}_0x7cc89c['render']('products',{'success':_0x182c9f[_0x436950(0x118)](_0x436950(0x155)),'errors':_0x182c9f[_0x436950(0x118)](_0x436950(0x109)),'alldata':_0x47e823,'profile':_0x4d9edf,'master_shop':_0x11df18,'role':_0x58f10e,'product_stock':_0x4defa7,'language':_0x1234ad});}catch(_0x1d27a8){console[_0x436950(0x153)](_0x1d27a8);}}),router[a0_0xd1686(0x12f)](a0_0xd1686(0x164),auth,async(_0x43724e,_0x293a12)=>{const _0x24dd14=a0_0xd1686;try{const {username:_0x15fad3,email:_0x30286c,role:_0x1aec38}=_0x43724e[_0x24dd14(0x101)],_0x4ffc3d=_0x43724e[_0x24dd14(0x101)],_0x23ecd5=await profile[_0x24dd14(0x157)]({'email':_0x4ffc3d[_0x24dd14(0x13e)]}),_0x41675a=await master_shop[_0x24dd14(0xe8)]();console['log']('master',_0x41675a);const _0x1a6c45=await categories[_0x24dd14(0xe8)]({}),_0x3188c1=await brands[_0x24dd14(0xe8)]({}),_0x167229=await units[_0x24dd14(0xe8)]({}),_0x4574be=await warehouse['find']({'status':'Enabled'});if(_0x41675a[0x0][_0x24dd14(0xe7)]=='English\x20(US)')var _0x1ffe75=users[_0x24dd14(0x179)];else{if(_0x41675a[0x0][_0x24dd14(0xe7)]==_0x24dd14(0x168))var _0x1ffe75=users[_0x24dd14(0x168)];else{if(_0x41675a[0x0][_0x24dd14(0xe7)]==_0x24dd14(0x166))var _0x1ffe75=users[_0x24dd14(0x166)];else{if(_0x41675a[0x0][_0x24dd14(0xe7)]==_0x24dd14(0x127))var _0x1ffe75=users[_0x24dd14(0x127)];else{if(_0x41675a[0x0][_0x24dd14(0xe7)]==_0x24dd14(0xe3))var _0x1ffe75=users[_0x24dd14(0xe3)];else{if(_0x41675a[0x0][_0x24dd14(0xe7)]==_0x24dd14(0x10e))var _0x1ffe75=users[_0x24dd14(0x104)];else{if(_0x41675a[0x0][_0x24dd14(0xe7)]==_0x24dd14(0x158))var _0x1ffe75=users[_0x24dd14(0x158)];else{if(_0x41675a[0x0][_0x24dd14(0xe7)]==_0x24dd14(0x108))var _0x1ffe75=users[_0x24dd14(0x12e)];}}}}}}}_0x293a12[_0x24dd14(0x146)]('add_product',{'success':_0x43724e[_0x24dd14(0x118)](_0x24dd14(0x155)),'errors':_0x43724e['flash'](_0x24dd14(0x109)),'role':_0x4ffc3d,'profile':_0x23ecd5,'categories':_0x1a6c45,'brands':_0x3188c1,'master_shop':_0x41675a,'units':_0x167229,'language':_0x1ffe75,'find_data':_0x4574be});}catch(_0x347dc9){console['log'](_0x347dc9);}}),router[a0_0xd1686(0xfa)](a0_0xd1686(0x164),auth,upload['single'](a0_0xd1686(0x141)),async(_0x49e1be,_0x359121)=>{const _0x4d6cff=a0_0xd1686;try{const {name:_0x5f43fe,category:_0x54864c,brand:_0x3033aa,unit:_0x1b8a07,alertquantity:_0x5290a9,stock:_0x1f98ab,product_code:_0x4bc6c0,warehouse:_0x2b3ba3,primary_ItemCode:_0x146436,second_ItemCode:_0x5cbf26,second_unit:_0x5c9aea}=_0x49e1be[_0x4d6cff(0x15f)],_0x1b534f=_0x49e1be[_0x4d6cff(0x143)][_0x4d6cff(0x183)],_0x4e8887=new product({'image':_0x1b534f,'name':_0x5f43fe,'category':_0x54864c,'brand':_0x3033aa,'unit':_0x1b8a07,'alertquantity':_0x5290a9,'stock':_0x1f98ab,'product_code':_0x4bc6c0,'warehouse':_0x2b3ba3,'primary_code':_0x146436,'secondary_code':_0x5cbf26,'second_unit':_0x5c9aea,'maxStocks':MaxPerProduct,'maxProdPerUnit':maxPerUnit}),_0x4c6211=await _0x4e8887['save'](),_0xca7a00=await categories[_0x4d6cff(0x157)]({'name':_0x54864c});_0xca7a00[_0x4d6cff(0x180)]=parseInt(_0xca7a00[_0x4d6cff(0x180)])+0x1,await _0xca7a00[_0x4d6cff(0x13f)]();const _0x42682=await brands['findOne']({'name':_0x3033aa});_0x42682['products']=parseInt(_0x42682['products'])+0x1,await _0x42682[_0x4d6cff(0x13f)]();const _0x2b2419=await units[_0x4d6cff(0x157)]({'name':_0x1b8a07});_0x2b2419[_0x4d6cff(0x180)]=parseInt(_0x2b2419[_0x4d6cff(0x180)])+0x1,await _0x2b2419[_0x4d6cff(0x13f)](),_0x49e1be[_0x4d6cff(0x118)](_0x4d6cff(0x155),'product\x20add\x20successfully'),_0x359121[_0x4d6cff(0x144)](_0x4d6cff(0xea));}catch(_0x31b306){console[_0x4d6cff(0x153)](_0x31b306);}}),router[a0_0xd1686(0x12f)](a0_0xd1686(0x102),auth,async(_0x304460,_0x155bd4)=>{const _0x44a3b0=a0_0xd1686;try{const {username:_0x40384d,email:_0x12cb9c,role:_0x18c283}=_0x304460[_0x44a3b0(0x101)],_0x119511=_0x304460[_0x44a3b0(0x101)],_0x2261a4=await profile['findOne']({'email':_0x119511[_0x44a3b0(0x13e)]}),_0x47c799=await master_shop[_0x44a3b0(0xe8)]();console['log']('edit\x20Product\x20master',_0x47c799);const _0x57222d=_0x304460[_0x44a3b0(0x172)]['id'],_0x2f9ece=await product[_0x44a3b0(0x160)](_0x57222d),_0x460f28=await categories[_0x44a3b0(0xe8)]({}),_0x5ac735=await brands['find']({}),_0x308eac=await units['find']({}),_0x258e60=await warehouse[_0x44a3b0(0xe8)]({'status':_0x44a3b0(0xe1)}),_0x34f78e=await units['aggregate']([{'$group':{'_id':_0x44a3b0(0x188),'secondaryunit':{'$first':_0x44a3b0(0xef)}}}]);if(_0x47c799[0x0][_0x44a3b0(0xe7)]=='English\x20(US)')var _0xb11a54=users[_0x44a3b0(0x179)];else{if(_0x47c799[0x0][_0x44a3b0(0xe7)]==_0x44a3b0(0x168))var _0xb11a54=users['Hindi'];else{if(_0x47c799[0x0][_0x44a3b0(0xe7)]=='German')var _0xb11a54=users[_0x44a3b0(0x166)];else{if(_0x47c799[0x0]['language']=='Spanish')var _0xb11a54=users[_0x44a3b0(0x127)];else{if(_0x47c799[0x0][_0x44a3b0(0xe7)]=='French')var _0xb11a54=users['French'];else{if(_0x47c799[0x0][_0x44a3b0(0xe7)]=='Portuguese\x20(BR)')var _0xb11a54=users[_0x44a3b0(0x104)];else{if(_0x47c799[0x0][_0x44a3b0(0xe7)]==_0x44a3b0(0x158))var _0xb11a54=users[_0x44a3b0(0x158)];else{if(_0x47c799[0x0][_0x44a3b0(0xe7)]==_0x44a3b0(0x108))var _0xb11a54=users[_0x44a3b0(0x12e)];}}}}}}}_0x155bd4[_0x44a3b0(0x146)]('edit_product',{'success':_0x304460[_0x44a3b0(0x118)](_0x44a3b0(0x155)),'errors':_0x304460['flash'](_0x44a3b0(0x109)),'role':_0x119511,'profile':_0x2261a4,'alldata':_0x2f9ece,'categories':_0x460f28,'brands':_0x5ac735,'master_shop':_0x47c799,'units':_0x308eac,'secondunit':_0x34f78e,'find_data':_0x258e60,'language':_0xb11a54});}catch(_0x3a9dd8){console[_0x44a3b0(0x153)](_0x3a9dd8);}}),router[a0_0xd1686(0xfa)](a0_0xd1686(0x102),auth,upload[a0_0xd1686(0x113)](a0_0xd1686(0x141)),async(_0x323d21,_0x55d4f4)=>{const _0x120c6f=a0_0xd1686;try{console['log'](_0x120c6f(0x147));const _0x343015=_0x323d21[_0x120c6f(0x172)]['id'],_0x56fe85=await product[_0x120c6f(0x160)](_0x343015),{image:_0x47496c,name:_0x3692ac,category:_0x14cc74,brand:_0x2e0b03,sku:_0x5ba7ef,unit:_0x3e8166,alertquantity:_0x136343,product_code:_0x4e7c3b,warehouse:_0x23e53d,primary_ItemCode:_0x199cfc,second_ItemCode:_0x2e59e8,second_unit:_0x3ef27e,maxPerUnit:_0x4dc266,MaxPerProduct:_0x540b78}=_0x323d21[_0x120c6f(0x15f)];_0x323d21[_0x120c6f(0x143)]&&(_0x56fe85[_0x120c6f(0x141)]=_0x323d21[_0x120c6f(0x143)][_0x120c6f(0x183)]);_0x56fe85['name']=_0x3692ac,_0x56fe85['category']=_0x14cc74,_0x56fe85['brand']=_0x2e0b03,_0x56fe85[_0x120c6f(0x11d)]=_0x5ba7ef,_0x56fe85[_0x120c6f(0x121)]=_0x3e8166,_0x56fe85[_0x120c6f(0x132)]=_0x136343,_0x56fe85[_0x120c6f(0x131)]=_0x4e7c3b,_0x56fe85[_0x120c6f(0x182)]=_0x23e53d,_0x56fe85[_0x120c6f(0xf4)]=_0x199cfc,_0x56fe85[_0x120c6f(0xe6)]=_0x2e59e8,_0x56fe85[_0x120c6f(0xed)]=_0x3ef27e,_0x56fe85[_0x120c6f(0x116)]=_0x540b78,_0x56fe85[_0x120c6f(0x122)]=_0x4dc266;const _0x539ab9=await _0x56fe85[_0x120c6f(0x13f)]();console[_0x120c6f(0x153)](_0x120c6f(0xf3),_0x56fe85),_0x323d21[_0x120c6f(0x118)](_0x120c6f(0x155),'product\x20update\x20successfully'),_0x55d4f4[_0x120c6f(0x144)](_0x120c6f(0xea));}catch(_0x5f2aca){console['log'](_0x5f2aca);}}),router['get'](a0_0xd1686(0x14b),auth,async(_0x28694f,_0x50db4a)=>{const _0x4c4ed2=a0_0xd1686;try{const {username:_0x38616b,email:_0x25f178,role:_0x35fc54}=_0x28694f[_0x4c4ed2(0x101)],_0x37abc7=_0x28694f['user'],_0x10ba8e=await profile[_0x4c4ed2(0x157)]({'email':_0x37abc7[_0x4c4ed2(0x13e)]}),_0x3e7a8a=await master_shop[_0x4c4ed2(0xe8)]();console[_0x4c4ed2(0x153)](_0x4c4ed2(0x10f),_0x3e7a8a);const _0x470176=_0x28694f[_0x4c4ed2(0x172)]['id'],_0x3b40c9=await product['findById'](_0x470176);console[_0x4c4ed2(0x153)](_0x4c4ed2(0x130),_0x3b40c9);if(_0x3e7a8a[0x0]['language']==_0x4c4ed2(0xeb))var _0x3cbff3=users['English'];else{if(_0x3e7a8a[0x0]['language']=='Hindi')var _0x3cbff3=users[_0x4c4ed2(0x168)];else{if(_0x3e7a8a[0x0][_0x4c4ed2(0xe7)]==_0x4c4ed2(0x166))var _0x3cbff3=users[_0x4c4ed2(0x166)];else{if(_0x3e7a8a[0x0][_0x4c4ed2(0xe7)]==_0x4c4ed2(0x127))var _0x3cbff3=users[_0x4c4ed2(0x127)];else{if(_0x3e7a8a[0x0][_0x4c4ed2(0xe7)]==_0x4c4ed2(0xe3))var _0x3cbff3=users[_0x4c4ed2(0xe3)];else{if(_0x3e7a8a[0x0][_0x4c4ed2(0xe7)]=='Portuguese\x20(BR)')var _0x3cbff3=users[_0x4c4ed2(0x104)];else{if(_0x3e7a8a[0x0]['language']==_0x4c4ed2(0x158))var _0x3cbff3=users[_0x4c4ed2(0x158)];else{if(_0x3e7a8a[0x0][_0x4c4ed2(0xe7)]==_0x4c4ed2(0x108))var _0x3cbff3=users[_0x4c4ed2(0x12e)];}}}}}}}_0x50db4a[_0x4c4ed2(0x146)]('product_barcode',{'success':_0x28694f['flash'](_0x4c4ed2(0x155)),'errors':_0x28694f['flash']('errors'),'role':_0x37abc7,'profile':_0x10ba8e,'alldata':_0x3b40c9,'master_shop':_0x3e7a8a,'language':_0x3cbff3});}catch(_0x23f762){console[_0x4c4ed2(0x153)](_0x23f762);}}),router[a0_0xd1686(0x12f)](a0_0xd1686(0x12a),auth,async(_0x1b2396,_0x2632e0)=>{const _0x140092=a0_0xd1686;try{const _0x436ac2=new excelJS['Workbook'](),_0x57b6ce=_0x436ac2[_0x140092(0x145)](_0x140092(0xe2));return _0x57b6ce[_0x140092(0x107)]=[{'header':_0x140092(0x176),'key':'PName','width':0xa},{'header':_0x140092(0x17f),'key':_0x140092(0x173),'width':0xa},{'header':_0x140092(0xf1),'key':_0x140092(0x123),'width':0xa},{'header':_0x140092(0x111),'key':_0x140092(0x114),'width':0xa},{'header':'max_number_per_units','key':_0x140092(0x185),'width':0xa},{'header':'Primary_Code','key':'ProductCode','width':0xa},{'header':_0x140092(0x186),'key':_0x140092(0x178),'width':0xa},{'header':_0x140092(0x177),'key':_0x140092(0x178),'width':0xa},{'header':_0x140092(0x162),'key':'PCat','width':0xa},{'header':_0x140092(0x13d),'key':_0x140092(0x171),'width':0xa},{'header':_0x140092(0xf9),'key':_0x140092(0x171),'width':0xa},{'header':_0x140092(0x150),'key':_0x140092(0x15b),'width':0xa}],_0x2632e0[_0x140092(0x15a)](_0x140092(0x154),'application/vnd.openxmlformats-officedocument.spreadsheatml.sheet'),_0x2632e0['setHeader'](_0x140092(0xfe),'attachment;\x20filename=Product_Migration_File.xlsx'),_0x436ac2[_0x140092(0x16f)]['write'](_0x2632e0)[_0x140092(0x100)](()=>{const _0x1bd9da=_0x140092;_0x2632e0[_0x1bd9da(0x149)](0xc8);});}catch(_0x18007b){_0x2632e0[_0x140092(0x149)](0x190)['send'](_0x18007b);}});const storage1=multer[a0_0xd1686(0xfb)]({'destination':(_0x43f7ba,_0x7125a9,_0x5180d8)=>{const _0x5dda36=a0_0xd1686;_0x5180d8(null,_0x5dda36(0x16a));},'filename':(_0x485db1,_0x2a79db,_0x64b263)=>{const _0x147b25=a0_0xd1686;_0x64b263(null,Date['now']()+_0x2a79db[_0x147b25(0xf5)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0xd1686(0xfa)](a0_0xd1686(0x12b),auth,uploadMigrate[a0_0xd1686(0x113)](a0_0xd1686(0xfd)),async(_0x2f33aa,_0x2611f3)=>{const _0x173fe7=a0_0xd1686,_0x4c2779=_0x2f33aa[_0x173fe7(0x143)][_0x173fe7(0x183)],_0x1e79ad=await xlsx[_0x173fe7(0x125)]('public/Migration/'+_0x4c2779);let _0x4f24f5=_0x1e79ad[_0x173fe7(0x13b)],_0x541ebd=xlsx[_0x173fe7(0x165)][_0x173fe7(0xf0)](_0x1e79ad[_0x173fe7(0x11e)][_0x4f24f5[0x0]]);for(const _0x4e9939 of _0x541ebd){const _0x42d139=_0x4e9939['Product_Name'],_0x19eb2d=_0x4e9939[_0x173fe7(0x17f)],_0x3c010d=_0x4e9939[_0x173fe7(0xf1)],_0x4771ea=_0x4e9939['Secondary_Units'],_0x44a1b6=_0x4e9939[_0x173fe7(0x177)],_0xc291d6=_0x4e9939[_0x173fe7(0x162)],_0x2e24f9=_0x4e9939[_0x173fe7(0x13d)],_0x3a119d=_0x4e9939[_0x173fe7(0x10b)],_0x3f7f32=_0x4e9939['Secondary_Code'],_0x302b3f=_0x4e9939[_0x173fe7(0xf9)],_0x4c5909=_0x4e9939[_0x173fe7(0xec)],_0x4b03ae=_0x4e9939[_0x173fe7(0x150)];try{let _0x8a909=await categories[_0x173fe7(0x157)]({'name':_0xc291d6});if(!_0x8a909){const _0x5f0711=new categories({'name':_0xc291d6,'products':'0'});_0x8a909=await _0x5f0711[_0x173fe7(0x13f)]();}let _0x28c251=await brands[_0x173fe7(0x157)]({'name':_0x19eb2d});if(!_0x28c251){const _0x335ece=new brands({'name':_0x19eb2d,'products':'0'});_0x28c251=await _0x335ece['save']();}let _0x1f7744=await units['findOne']({'name':_0x3c010d,'secondary_unit':_0x4771ea});if(!_0x1f7744){const _0x1a7662=new units({'name':_0x3c010d,'secondary_unit':_0x4771ea,'products':'0'});_0x1f7744=await _0x1a7662[_0x173fe7(0x13f)]();}const _0x4b2d6e=await product['find']({'name':_0x42d139,'category':_0x8a909[_0x173fe7(0xe5)],'brand':_0x28c251[_0x173fe7(0xe5)],'secondary_unit':_0x1f7744[_0x173fe7(0xed)],'product_code':_0x44a1b6});console[_0x173fe7(0x153)](_0x4b2d6e[_0x173fe7(0x112)]+_0x173fe7(0x16b)+_0x8a909['name']+_0x173fe7(0x16b)+_0x28c251[_0x173fe7(0xe5)]+'\x20<>\x20'+_0x1f7744[_0x173fe7(0xed)]+_0x173fe7(0x16b)+_0x44a1b6+_0x173fe7(0x16b)+_0x42d139);if(_0x4b2d6e[_0x173fe7(0x112)]===0x0){const _0x1f9898=new product({'image':'defaultProduct.avif','name':_0x42d139,'category':_0x8a909[_0x173fe7(0xe5)],'brand':_0x28c251[_0x173fe7(0xe5)],'unit':_0x1f7744[_0x173fe7(0xe5)],'alertquantity':_0x2e24f9,'product_code':_0x44a1b6,'secondary_unit':_0x1f7744[_0x173fe7(0xed)],'primary_code':_0x3a119d,'secondary_code':_0x3f7f32,'maxStocks':_0x302b3f,'maxProdPerUnit':_0x4c5909,'product_category':_0x4b03ae}),_0x1177c3=await _0x1f9898['save']();_0x8a909[_0x173fe7(0x180)]=parseInt(_0x8a909['products'])+0x1,await _0x8a909[_0x173fe7(0x13f)](),_0x28c251[_0x173fe7(0x180)]=parseInt(_0x28c251[_0x173fe7(0x180)])+0x1,await _0x28c251['save'](),_0x1f7744['products']=parseInt(_0x1f7744[_0x173fe7(0x180)])+0x1,await _0x1f7744[_0x173fe7(0x13f)](),_0x2f33aa[_0x173fe7(0x118)](_0x173fe7(0x155),_0x42d139+_0x173fe7(0x140));}else{console['log'](_0x4b2d6e[0x0]);const _0x413256=_0x4b2d6e[0x0];_0x413256[_0x173fe7(0x161)]=_0x8a909[_0x173fe7(0xe5)],_0x413256['brand']=_0x28c251[_0x173fe7(0xe5)],_0x413256[_0x173fe7(0x121)]=_0x1f7744[_0x173fe7(0xe5)],_0x413256[_0x173fe7(0x132)]=_0x2e24f9,_0x413256[_0x173fe7(0x131)]=_0x44a1b6,_0x413256[_0x173fe7(0xed)]=_0x1f7744[_0x173fe7(0xed)],_0x413256[_0x173fe7(0xf4)]=_0x3a119d,_0x413256[_0x173fe7(0xe6)]=_0x3f7f32,_0x413256[_0x173fe7(0x116)]=_0x302b3f,_0x413256['maxProdPerUnit']=_0x4c5909,_0x413256[_0x173fe7(0x14a)]=_0x4b03ae;const _0x4ba6f1=await _0x413256[_0x173fe7(0x13f)]();_0x2f33aa[_0x173fe7(0x118)]('success',_0x4ba6f1['name']+_0x173fe7(0xfc));}}catch(_0x41e973){_0x2611f3[_0x173fe7(0x149)](0x1f4)[_0x173fe7(0x12d)]({'proderror':_0x41e973[_0x173fe7(0x126)],'aproduct':_0x42d139});}}_0x2611f3[_0x173fe7(0x144)](_0x173fe7(0xea));}),router[a0_0xd1686(0xfa)](a0_0xd1686(0x17c),auth,async(_0x4eae91,_0x4afd8c)=>{const _0x47ba7b=a0_0xd1686;try{const {datachoose:_0x57fa50}=_0x4eae91['body'];var _0x4e76de;if(_0x57fa50==_0x47ba7b(0x105))_0x4e76de=await product[_0x47ba7b(0xf2)]([{'$group':{'_id':'$product_category'}}]);else{if(_0x57fa50==_0x47ba7b(0x15d))_0x4e76de=await product[_0x47ba7b(0xf2)]([{'$group':{'_id':_0x47ba7b(0x115)}}]);else _0x57fa50==_0x47ba7b(0x12c)&&(_0x4e76de=await product[_0x47ba7b(0xf2)]([{'$group':{'_id':_0x47ba7b(0x103)}}]));}console[_0x47ba7b(0x153)](_0x4e76de),_0x4afd8c['json'](_0x4e76de);}catch(_0x445fc4){_0x4afd8c[_0x47ba7b(0x12d)]({'message':_0x445fc4[_0x47ba7b(0x126)]});}}),router[a0_0xd1686(0xfa)](a0_0xd1686(0x14e),auth,async(_0x521288,_0x5a92d6)=>{const _0x2ea69c=a0_0xd1686;try{const {data_choosing:_0x4a829e,data_selected:_0xc11ad9}=_0x521288[_0x2ea69c(0x15f)];var _0x40d4ea;if(_0x4a829e==_0x2ea69c(0x105))_0x40d4ea=await product[_0x2ea69c(0xf2)]([{'$match':{'product_category':_0xc11ad9}}]);else{if(_0x4a829e==_0x2ea69c(0x15d))_0x40d4ea=await product['aggregate']([{'$match':{'brand':_0xc11ad9}}]);else _0x4a829e==_0x2ea69c(0x12c)&&(_0x40d4ea=await product[_0x2ea69c(0xf2)]([{'$match':{'category':_0xc11ad9}}]));}_0x5a92d6[_0x2ea69c(0x12d)](_0x40d4ea);}catch(_0x37a39c){_0x5a92d6[_0x2ea69c(0x12d)]({'message':_0x37a39c[_0x2ea69c(0x126)]});}}),module['exports']=router;