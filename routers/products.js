const a0_0x4d7feb=a0_0x33b7;function a0_0x33b7(_0x212272,_0x501f21){const _0x5262c3=a0_0x5262();return a0_0x33b7=function(_0x33b738,_0x1b729e){_0x33b738=_0x33b738-0x99;let _0x33eb57=_0x5262c3[_0x33b738];return _0x33eb57;},a0_0x33b7(_0x212272,_0x501f21);}(function(_0x39c755,_0x5b6c9a){const _0x3c6cf9=a0_0x33b7,_0x5ecc2f=_0x39c755();while(!![]){try{const _0x42e2f7=-parseInt(_0x3c6cf9(0xaf))/0x1*(-parseInt(_0x3c6cf9(0xf7))/0x2)+parseInt(_0x3c6cf9(0x9b))/0x3*(parseInt(_0x3c6cf9(0xdc))/0x4)+-parseInt(_0x3c6cf9(0x152))/0x5*(parseInt(_0x3c6cf9(0xed))/0x6)+-parseInt(_0x3c6cf9(0x107))/0x7*(parseInt(_0x3c6cf9(0x10e))/0x8)+-parseInt(_0x3c6cf9(0x122))/0x9+parseInt(_0x3c6cf9(0xc7))/0xa+parseInt(_0x3c6cf9(0x110))/0xb*(-parseInt(_0x3c6cf9(0xa8))/0xc);if(_0x42e2f7===_0x5b6c9a)break;else _0x5ecc2f['push'](_0x5ecc2f['shift']());}catch(_0x231649){_0x5ecc2f['push'](_0x5ecc2f['shift']());}}}(a0_0x5262,0x7eb00));const express=require('express'),res=require(a0_0x4d7feb(0x14a)),app=express(),router=express[a0_0x4d7feb(0x111)](),multer=require(a0_0x4d7feb(0x139)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x4d7feb(0x100)),auth=require('../middleware/auth'),users=require(a0_0x4d7feb(0x11d)),excelJS=require('exceljs'),xlsx=require('xlsx'),JsBarcode=require(a0_0x4d7feb(0xa3)),{Canvas}=require(a0_0x4d7feb(0xf2)),PDFDocument=require('pdfkit-table');router[a0_0x4d7feb(0x117)](a0_0x4d7feb(0xcd),auth,async(_0x12ab9f,_0x52ae5f)=>{const _0x2bde9c=a0_0x4d7feb;try{const {username:_0x47bc2a,email:_0x19da2d,role:_0x2ee489}=_0x12ab9f['user'],_0x41a5c0=_0x12ab9f[_0x2bde9c(0x143)],_0x44fa79=await profile['findOne']({'email':_0x41a5c0['email']}),_0x4e8a53=await master_shop[_0x2bde9c(0xec)]();console['log'](_0x2bde9c(0x141),_0x4e8a53);const _0xa738ae=await categories[_0x2bde9c(0xec)]();if(_0x4e8a53[0x0]['language']==_0x2bde9c(0x9e))var _0x1370d8=users['English'];else{if(_0x4e8a53[0x0][_0x2bde9c(0xd8)]=='Hindi')var _0x1370d8=users['Hindi'];else{if(_0x4e8a53[0x0][_0x2bde9c(0xd8)]==_0x2bde9c(0xf8))var _0x1370d8=users[_0x2bde9c(0xf8)];else{if(_0x4e8a53[0x0][_0x2bde9c(0xd8)]==_0x2bde9c(0x11f))var _0x1370d8=users[_0x2bde9c(0x11f)];else{if(_0x4e8a53[0x0][_0x2bde9c(0xd8)]==_0x2bde9c(0x12a))var _0x1370d8=users[_0x2bde9c(0x12a)];else{if(_0x4e8a53[0x0]['language']=='Portuguese\x20(BR)')var _0x1370d8=users[_0x2bde9c(0xfe)];else{if(_0x4e8a53[0x0][_0x2bde9c(0xd8)]=='Chinese')var _0x1370d8=users[_0x2bde9c(0xd5)];else{if(_0x4e8a53[0x0][_0x2bde9c(0xd8)]==_0x2bde9c(0xe7))var _0x1370d8=users[_0x2bde9c(0x13b)];}}}}}}}_0x52ae5f[_0x2bde9c(0xfd)](_0x2bde9c(0x137),{'success':_0x12ab9f['flash'](_0x2bde9c(0xa7)),'errors':_0x12ab9f[_0x2bde9c(0xa4)](_0x2bde9c(0xe0)),'role':_0x41a5c0,'profile':_0x44fa79,'user':_0xa738ae,'master_shop':_0x4e8a53,'language':_0x1370d8});}catch(_0x20241e){console[_0x2bde9c(0xc1)](_0x20241e);}}),router[a0_0x4d7feb(0xe9)](a0_0x4d7feb(0xcd),auth,async(_0x5b97a5,_0x4a19ea)=>{const _0x1182fc=a0_0x4d7feb;try{const {name:_0x18f0ea,products:_0x129ff2}=_0x5b97a5[_0x1182fc(0xb4)],_0x1827bd=new categories({'name':_0x18f0ea,'products':_0x129ff2}),_0x56d149=await categories[_0x1182fc(0xc5)]({'name':_0x18f0ea});_0x56d149?_0x5b97a5['flash'](_0x1182fc(0xe0),_0x18f0ea+'\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x5b97a5['flash'](_0x1182fc(0xa7),_0x18f0ea+_0x1182fc(0xb6));const _0x2503fb=await _0x1827bd['save']();_0x4a19ea['redirect'](_0x1182fc(0x9f));}catch(_0x3a059e){console[_0x1182fc(0xc1)](_0x3a059e);}}),router[a0_0x4d7feb(0x117)](a0_0x4d7feb(0x10c),auth,async(_0x27fb04,_0x12106d)=>{const _0x1c16ec=a0_0x4d7feb;try{const {username:_0x18033e,email:_0x5b849a,role:_0x12fd1b}=_0x27fb04[_0x1c16ec(0x143)],_0x1e59d7=_0x27fb04['user'],_0x11497a=await profile[_0x1c16ec(0xc5)]({'email':_0x1e59d7[_0x1c16ec(0x116)]}),_0xcd9d30=await master_shop[_0x1c16ec(0xec)]();console[_0x1c16ec(0xc1)](_0x1c16ec(0x141),_0xcd9d30);const _0x2c5989=_0x27fb04[_0x1c16ec(0x155)]['id'];console[_0x1c16ec(0xc1)](_0x2c5989);const _0x11b506=await categories[_0x1c16ec(0x115)](_0x2c5989);if(_0xcd9d30[0x0][_0x1c16ec(0xd8)]==_0x1c16ec(0x9e))var _0x20e01d=users[_0x1c16ec(0x99)];else{if(_0xcd9d30[0x0]['language']==_0x1c16ec(0x133))var _0x20e01d=users[_0x1c16ec(0x133)];else{if(_0xcd9d30[0x0][_0x1c16ec(0xd8)]=='German')var _0x20e01d=users[_0x1c16ec(0xf8)];else{if(_0xcd9d30[0x0][_0x1c16ec(0xd8)]==_0x1c16ec(0x11f))var _0x20e01d=users['Spanish'];else{if(_0xcd9d30[0x0][_0x1c16ec(0xd8)]=='French')var _0x20e01d=users[_0x1c16ec(0x12a)];else{if(_0xcd9d30[0x0][_0x1c16ec(0xd8)]==_0x1c16ec(0x12f))var _0x20e01d=users[_0x1c16ec(0xfe)];else{if(_0xcd9d30[0x0]['language']==_0x1c16ec(0xd5))var _0x20e01d=users[_0x1c16ec(0xd5)];else{if(_0xcd9d30[0x0]['language']==_0x1c16ec(0xe7))var _0x20e01d=users[_0x1c16ec(0x13b)];}}}}}}}_0x12106d[_0x1c16ec(0xfd)](_0x1c16ec(0x137),{'success':_0x27fb04['flash'](_0x1c16ec(0xa7)),'errors':_0x27fb04[_0x1c16ec(0xa4)](_0x1c16ec(0xe0)),'role':_0x1e59d7,'profile':_0x11497a,'master_shop':_0xcd9d30,'user':_0x11b506,'language':_0x20e01d});}catch(_0x173f71){console[_0x1c16ec(0xc1)](_0x173f71);}}),router['post']('/categories/:id',auth,async(_0x281e23,_0x371579)=>{const _0x3003dc=a0_0x4d7feb;try{const _0x2ad3ed=_0x281e23[_0x3003dc(0x155)]['id'],_0x5100f4=await categories[_0x3003dc(0xbb)](_0x2ad3ed,_0x281e23['body']);_0x281e23[_0x3003dc(0xa4)](_0x3003dc(0xa7),''+users[_0x3003dc(0xdf)]),_0x371579['redirect'](_0x3003dc(0x9f));}catch(_0x5dd902){console[_0x3003dc(0xc1)](_0x5dd902);}}),router['get'](a0_0x4d7feb(0xf6),auth,async(_0x3a2028,_0x45ee43)=>{const _0x4b2612=a0_0x4d7feb;try{const _0x572b77=_0x3a2028['params']['id'],_0x16cc8e=await categories['findByIdAndDelete'](_0x572b77);_0x3a2028['flash'](_0x4b2612(0xa7),_0x4b2612(0xd3)),_0x45ee43[_0x4b2612(0x12d)](_0x4b2612(0x9f));}catch(_0x22d2a1){console['log'](_0x22d2a1);}}),router[a0_0x4d7feb(0x117)]('/brands',auth,async(_0x4c1ba8,_0x389ee7)=>{const _0x455ce1=a0_0x4d7feb;try{const {username:_0x5c535a,email:_0xf652d0,role:_0x391fa9}=_0x4c1ba8['user'],_0x91a47d=_0x4c1ba8[_0x455ce1(0x143)],_0xfdd903=await profile[_0x455ce1(0xc5)]({'email':_0x91a47d[_0x455ce1(0x116)]}),_0x459587=await master_shop[_0x455ce1(0xec)]();console[_0x455ce1(0xc1)](_0x455ce1(0x141),_0x459587);const _0x2a6b12=await brands[_0x455ce1(0xec)]();if(_0x459587[0x0][_0x455ce1(0xd8)]=='English\x20(US)')var _0x292325=users['English'];else{if(_0x459587[0x0][_0x455ce1(0xd8)]==_0x455ce1(0x133))var _0x292325=users['Hindi'];else{if(_0x459587[0x0][_0x455ce1(0xd8)]==_0x455ce1(0xf8))var _0x292325=users[_0x455ce1(0xf8)];else{if(_0x459587[0x0][_0x455ce1(0xd8)]==_0x455ce1(0x11f))var _0x292325=users[_0x455ce1(0x11f)];else{if(_0x459587[0x0][_0x455ce1(0xd8)]==_0x455ce1(0x12a))var _0x292325=users[_0x455ce1(0x12a)];else{if(_0x459587[0x0]['language']=='Portuguese\x20(BR)')var _0x292325=users[_0x455ce1(0xfe)];else{if(_0x459587[0x0][_0x455ce1(0xd8)]==_0x455ce1(0xd5))var _0x292325=users[_0x455ce1(0xd5)];else{if(_0x459587[0x0][_0x455ce1(0xd8)]==_0x455ce1(0xe7))var _0x292325=users[_0x455ce1(0x13b)];}}}}}}}_0x389ee7[_0x455ce1(0xfd)](_0x455ce1(0xd7),{'success':_0x4c1ba8[_0x455ce1(0xa4)](_0x455ce1(0xa7)),'errors':_0x4c1ba8[_0x455ce1(0xa4)](_0x455ce1(0xe0)),'role':_0x91a47d,'profile':_0xfdd903,'master_shop':_0x459587,'user':_0x2a6b12,'language':_0x292325});}catch(_0xeffce4){console[_0x455ce1(0xc1)](_0xeffce4);}}),router[a0_0x4d7feb(0xe9)](a0_0x4d7feb(0xe1),auth,async(_0x3eeeda,_0x4bfd39)=>{const _0x3edde3=a0_0x4d7feb;try{const {name:_0x19abc2,products:_0x50c8df}=_0x3eeeda['body'],_0x3d9f5f=new brands({'name':_0x19abc2,'products':_0x50c8df}),_0x25af3=await brands[_0x3edde3(0xc5)]({'name':_0x19abc2});_0x25af3?_0x3eeeda['flash'](_0x3edde3(0xe0),_0x19abc2+_0x3edde3(0xf4)):_0x3eeeda[_0x3edde3(0xa4)](_0x3edde3(0xa7),_0x19abc2+_0x3edde3(0x138));const _0x4045b2=await _0x3d9f5f['save']();_0x4bfd39[_0x3edde3(0x12d)](_0x3edde3(0x108));}catch(_0x51ceb6){console['log'](_0x51ceb6);}}),router[a0_0x4d7feb(0x117)]('/brands/:id',auth,async(_0x35ad7d,_0x1265a2)=>{const _0x332a5c=a0_0x4d7feb;try{const {username:_0x27893d,email:_0x3a7c66,role:_0x4d5708}=_0x35ad7d[_0x332a5c(0x143)],_0x506c50=_0x35ad7d[_0x332a5c(0x143)],_0x5382e6=await profile['findOne']({'email':_0x506c50[_0x332a5c(0x116)]}),_0x49207c=await master_shop['find']();console[_0x332a5c(0xc1)](_0x332a5c(0x141),_0x49207c);const _0x39e963=_0x35ad7d[_0x332a5c(0x155)]['id'];console['log'](_0x39e963);const _0x251c24=await brands[_0x332a5c(0x115)](_0x39e963);if(_0x49207c[0x0]['language']==_0x332a5c(0x9e))var _0x5e2887=users[_0x332a5c(0x99)];else{if(_0x49207c[0x0]['language']==_0x332a5c(0x133))var _0x5e2887=users[_0x332a5c(0x133)];else{if(_0x49207c[0x0][_0x332a5c(0xd8)]==_0x332a5c(0xf8))var _0x5e2887=users[_0x332a5c(0xf8)];else{if(_0x49207c[0x0][_0x332a5c(0xd8)]==_0x332a5c(0x11f))var _0x5e2887=users[_0x332a5c(0x11f)];else{if(_0x49207c[0x0][_0x332a5c(0xd8)]==_0x332a5c(0x12a))var _0x5e2887=users[_0x332a5c(0x12a)];else{if(_0x49207c[0x0][_0x332a5c(0xd8)]==_0x332a5c(0x12f))var _0x5e2887=users[_0x332a5c(0xfe)];else{if(_0x49207c[0x0]['language']=='Chinese')var _0x5e2887=users[_0x332a5c(0xd5)];else{if(_0x49207c[0x0][_0x332a5c(0xd8)]=='Arabic\x20(ae)')var _0x5e2887=users[_0x332a5c(0x13b)];}}}}}}}_0x1265a2[_0x332a5c(0xfd)](_0x332a5c(0xd7),{'success':_0x35ad7d[_0x332a5c(0xa4)](_0x332a5c(0xa7)),'errors':_0x35ad7d[_0x332a5c(0xa4)]('errors'),'role':_0x506c50,'profile':_0x5382e6,'master_shop':_0x49207c,'user':_0x251c24,'language':_0x5e2887});}catch(_0x4a9dec){console[_0x332a5c(0xc1)](_0x4a9dec);}}),router['post']('/brands/:id',auth,async(_0x230d65,_0x4c49c4)=>{const _0xbe6c55=a0_0x4d7feb;try{const _0x48f9a2=_0x230d65[_0xbe6c55(0x155)]['id'],_0x7d50c5=await brands[_0xbe6c55(0xbb)](_0x48f9a2,_0x230d65[_0xbe6c55(0xb4)]);_0x230d65[_0xbe6c55(0xa4)](_0xbe6c55(0xa7),_0xbe6c55(0x120)),_0x4c49c4[_0xbe6c55(0x12d)](_0xbe6c55(0x108));}catch(_0x1c0ea6){console[_0xbe6c55(0xc1)](_0x1c0ea6);}}),router[a0_0x4d7feb(0x117)](a0_0x4d7feb(0xc3),auth,async(_0x43a92c,_0x1993ca)=>{const _0x1460d5=a0_0x4d7feb;try{const _0x414c5f=_0x43a92c[_0x1460d5(0x155)]['id'],_0x12fb16=await brands['findByIdAndDelete'](_0x414c5f);_0x43a92c['flash']('success','brand\x20data\x20delete\x20successfully'),_0x1993ca['redirect']('/products/brands');}catch(_0x28ef0c){console[_0x1460d5(0xc1)](_0x28ef0c);}}),router['get'](a0_0x4d7feb(0xab),auth,async(_0x3ba6bb,_0x2a03dd)=>{const _0x48f650=a0_0x4d7feb;try{const {username:_0x2fbc73,email:_0x2598c2,role:_0x4d2a80}=_0x3ba6bb[_0x48f650(0x143)],_0x32dad8=_0x3ba6bb[_0x48f650(0x143)],_0x59f143=await profile['findOne']({'email':_0x32dad8[_0x48f650(0x116)]}),_0x2e2041=await master_shop[_0x48f650(0xec)]();console[_0x48f650(0xc1)](_0x48f650(0x141),_0x2e2041);const _0x3594f7=await units['find']();if(_0x2e2041[0x0][_0x48f650(0xd8)]==_0x48f650(0x9e))var _0x11cbc2=users['English'];else{if(_0x2e2041[0x0][_0x48f650(0xd8)]==_0x48f650(0x133))var _0x11cbc2=users[_0x48f650(0x133)];else{if(_0x2e2041[0x0][_0x48f650(0xd8)]==_0x48f650(0xf8))var _0x11cbc2=users['German'];else{if(_0x2e2041[0x0]['language']==_0x48f650(0x11f))var _0x11cbc2=users[_0x48f650(0x11f)];else{if(_0x2e2041[0x0][_0x48f650(0xd8)]=='French')var _0x11cbc2=users['French'];else{if(_0x2e2041[0x0][_0x48f650(0xd8)]==_0x48f650(0x12f))var _0x11cbc2=users[_0x48f650(0xfe)];else{if(_0x2e2041[0x0][_0x48f650(0xd8)]==_0x48f650(0xd5))var _0x11cbc2=users[_0x48f650(0xd5)];else{if(_0x2e2041[0x0][_0x48f650(0xd8)]==_0x48f650(0xe7))var _0x11cbc2=users['Arabic'];}}}}}}}_0x2a03dd['render'](_0x48f650(0x12c),{'success':_0x3ba6bb['flash'](_0x48f650(0xa7)),'errors':_0x3ba6bb[_0x48f650(0xa4)]('errors'),'role':_0x32dad8,'profile':_0x59f143,'master_shop':_0x2e2041,'user':_0x3594f7,'language':_0x11cbc2});}catch(_0x2835e1){console[_0x48f650(0xc1)](_0x2835e1);}}),router[a0_0x4d7feb(0xe9)](a0_0x4d7feb(0xab),auth,async(_0x34a195,_0x416d14)=>{const _0x20af29=a0_0x4d7feb;try{const {name:_0x437180,secondary_unit:_0x21637d,products:_0x1cac42}=_0x34a195[_0x20af29(0xb4)],_0xf9ab8e=new units({'name':_0x437180,'secondary_unit':_0x21637d,'products':_0x1cac42}),_0x38518f=await units[_0x20af29(0xc5)]({'name':_0x437180});_0x38518f?_0x34a195[_0x20af29(0xa4)]('errors',_0x437180+_0x20af29(0xe5)):_0x34a195['flash'](_0x20af29(0xa7),_0x437180+'\x20unit\x20is\x20add\x20successfully');const _0x4fc852=await _0xf9ab8e['save']();_0x416d14[_0x20af29(0x12d)](_0x20af29(0x142));}catch(_0xf79f4b){console[_0x20af29(0xc1)](_0xf79f4b);}}),router[a0_0x4d7feb(0x117)](a0_0x4d7feb(0xf1),auth,async(_0x5102dd,_0x54a74a)=>{const _0x41cf49=a0_0x4d7feb;try{const {username:_0x263bad,email:_0x2cf519,role:_0x5582ca}=_0x5102dd[_0x41cf49(0x143)],_0x43b4e3=_0x5102dd[_0x41cf49(0x143)],_0x355a79=await profile[_0x41cf49(0xc5)]({'email':_0x43b4e3[_0x41cf49(0x116)]}),_0x4f802c=await master_shop[_0x41cf49(0xec)]();console[_0x41cf49(0xc1)](_0x41cf49(0x141),_0x4f802c);const _0xdb80ba=_0x5102dd[_0x41cf49(0x155)]['id'],_0x5949af=await units['findById'](_0xdb80ba);if(_0x4f802c[0x0][_0x41cf49(0xd8)]==_0x41cf49(0x9e))var _0x80fc7b=users[_0x41cf49(0x99)];else{if(_0x4f802c[0x0][_0x41cf49(0xd8)]=='Hindi')var _0x80fc7b=users[_0x41cf49(0x133)];else{if(_0x4f802c[0x0][_0x41cf49(0xd8)]==_0x41cf49(0xf8))var _0x80fc7b=users[_0x41cf49(0xf8)];else{if(_0x4f802c[0x0][_0x41cf49(0xd8)]==_0x41cf49(0x11f))var _0x80fc7b=users['Spanish'];else{if(_0x4f802c[0x0][_0x41cf49(0xd8)]==_0x41cf49(0x12a))var _0x80fc7b=users[_0x41cf49(0x12a)];else{if(_0x4f802c[0x0]['language']==_0x41cf49(0x12f))var _0x80fc7b=users[_0x41cf49(0xfe)];else{if(_0x4f802c[0x0]['language']==_0x41cf49(0xd5))var _0x80fc7b=users['Chinese'];else{if(_0x4f802c[0x0]['language']==_0x41cf49(0xe7))var _0x80fc7b=users[_0x41cf49(0x13b)];}}}}}}}_0x54a74a[_0x41cf49(0xfd)](_0x41cf49(0x12c),{'success':_0x5102dd[_0x41cf49(0xa4)]('success'),'errors':_0x5102dd[_0x41cf49(0xa4)](_0x41cf49(0xe0)),'role':_0x43b4e3,'profile':_0x355a79,'master_shop':_0x4f802c,'user':_0x5949af,'language':_0x80fc7b});}catch(_0x3e9afc){console[_0x41cf49(0xc1)](_0x3e9afc);}}),router[a0_0x4d7feb(0xe9)](a0_0x4d7feb(0xf1),auth,async(_0x37a575,_0x1b821c)=>{const _0x3afeb4=a0_0x4d7feb;try{const _0x270174=_0x37a575['params']['id'],_0x236369=await units[_0x3afeb4(0xbb)](_0x270174,_0x37a575[_0x3afeb4(0xb4)]);_0x37a575[_0x3afeb4(0xa4)](_0x3afeb4(0xa7),_0x3afeb4(0x151)),_0x1b821c['redirect'](_0x3afeb4(0x142));}catch(_0x585e53){console[_0x3afeb4(0xc1)](_0x585e53);}}),router[a0_0x4d7feb(0x117)]('/units/delete/:id',auth,async(_0x4ba8e8,_0x1c6cdc)=>{const _0x5d6f60=a0_0x4d7feb;try{const _0x3c1167=_0x4ba8e8['params']['id'],_0x3b5204=await units['findByIdAndDelete'](_0x3c1167);_0x4ba8e8['flash']('success',_0x5d6f60(0x104)),_0x1c6cdc[_0x5d6f60(0x12d)](_0x5d6f60(0x142));}catch(_0x14d221){console[_0x5d6f60(0xc1)](_0x14d221);}});const storage=multer[a0_0x4d7feb(0xa1)]({'destination':(_0x2c1d32,_0x54e59d,_0x216a6d)=>{const _0x8feeb1=a0_0x4d7feb;_0x216a6d(null,_0x8feeb1(0xb3));},'filename':(_0x189bdc,_0x4860fa,_0x32ebf6)=>{const _0x31c17d=a0_0x4d7feb;_0x32ebf6(null,Date['now']()+_0x4860fa[_0x31c17d(0xd9)]);}}),upload=multer({'storage':storage});function a0_0x5262(){const _0x1e6b6e=['primary_code','width','/print_barcode','log','file','/brands/delete/:id','/barcode_data','findOne','Product_Code','7810940szWYPN','status','Primary_Code','save','$category','readFile','/categories','product_details.product_name','/products_import_migrate_file','/view','brand','/products/view','categories\x20data\x20delete\x20successfully','max_number_per_units','Chinese','PAlQty','brands','language','originalname','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','maxProdPerUnit','4eoGKqz','products','Units','categories_edit','errors','/brands','columns','edit_product','unit','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','\x20added\x20successfully','Arabic\x20(ae)','utils','post','stock','sheet_to_json','find','132870dxHCPa','\x20Edit\x20Successfully','PUnits','Products_category','/units/:id','canvas','$brand','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','aggregate','/categories/delete/:id','2ZIWsUB','German','base64','product_category','addPage','/barcode_filter','render','Portuguese','length','../models/all_models','PCat','Alert_QTY','json','unit\x20data\x20delete\x20successfully','Prod_Cat','toString','23639fTrBhj','/products/brands','now','min','single','/categories/:id','barcode\x20Product\x20master','352ffCXnl','ProductCode','33oOFcEu','Router','attachment;\x20filename=Product_Migration_File.xlsx','addWorksheet','$product_details.product_stock','findById','email','get','Brands','$product_stock','/filter_product','product\x20add\x20successfully','Category','../public/language/languages.json','$product_details.product_name','Spanish','brand\x20data\x20update\x20successfully','Products\x20master','4412313cfwdYZ','image','product_code','add_product','PBrands','Product_Name','defaultProduct.avif','$_id','French','/print_barcode_single/:id','units','redirect','xlsx','Portuguese\x20(BR)','barcode\x20user_id','/view/add_products','name','Hindi','\x20<>\x20','/print_barcode_filter/','category','categories','\x20brand\x20is\x20add\x20successfully','multer','push','Arabic','height','prod_categ','Finished\x20Goods','$product_docs','$secondary_unit','master','/products/units','user','numeric','alertquantity','secondary_code','Products','Raw\x20Materials','concat','express/lib/response','/view/:id','Maximum_Stocks','sku','product\x20update\x20successfully','toBuffer','hello','unit\x20data\x20update\x20successfully','50NoGJCg','product_docs','Secondary_Code','params','English','secondary_unit','1025682diwjOx','Enabled','/print_barcode_filter_search/','English\x20(US)','/products/categories','Products\x20warehouse_data','diskStorage','then','jsbarcode','flash','long','product\x20edit','success','2462928pPUQPT','setHeader','warehouse','/units','CODE128','_id','data','871951jAdMDD','message','PName','end','public/upload','body','public/Migration/','\x20categories\x20is\x20add\x20successfully','categ','send','migrate_product_fule','filename','findByIdAndUpdate','bind','map'];a0_0x5262=function(){return _0x1e6b6e;};return a0_0x5262();}router['get'](a0_0x4d7feb(0xd0),auth,async(_0x149c8e,_0x4ece32)=>{const _0x45d1e0=a0_0x4d7feb;try{const {username:_0x3bb696,email:_0x23fae1,role:_0x1d37e2}=_0x149c8e[_0x45d1e0(0x143)],_0x578550=_0x149c8e[_0x45d1e0(0x143)],_0x44695c=await profile['findOne']({'email':_0x578550[_0x45d1e0(0x116)]}),_0x2d827d={'year':'numeric','month':_0x45d1e0(0xa5),'day':_0x45d1e0(0x144)},_0x1d9b2f=await master_shop[_0x45d1e0(0xec)]();console['log'](_0x45d1e0(0x121),_0x1d9b2f);const _0x364980=await product[_0x45d1e0(0xec)]();console[_0x45d1e0(0xc1)]('Products\x20find_data',_0x364980);const _0x5d01de=await warehouse[_0x45d1e0(0xf5)]([{'$unwind':'$product_details'},{'$lookup':{'from':_0x45d1e0(0xdd),'localField':_0x45d1e0(0xce),'foreignField':_0x45d1e0(0x132),'as':_0x45d1e0(0x153)}},{'$unwind':_0x45d1e0(0x13f)},{'$project':{'product_name':_0x45d1e0(0x11e),'product_stock':_0x45d1e0(0x114)}},{'$group':{'_id':'$product_name','product_stock':{'$sum':_0x45d1e0(0x119)}}}]);console[_0x45d1e0(0xc1)](_0x45d1e0(0xa0),_0x5d01de),_0x5d01de['forEach'](_0x2b231c=>{const _0xa61a30=_0x45d1e0,_0x3c60b8=_0x364980[_0xa61a30(0xbd)](_0x4a04cf=>{const _0x498930=_0xa61a30;_0x4a04cf[_0x498930(0x132)]==_0x2b231c[_0x498930(0xad)]&&(_0x4a04cf[_0x498930(0xea)]=parseInt(_0x4a04cf['stock'])+parseInt(_0x2b231c['product_stock']));});}),console[_0x45d1e0(0xc1)]('Products\x20find_data',_0x364980);if(_0x1d9b2f[0x0][_0x45d1e0(0xd8)]==_0x45d1e0(0x9e))var _0x253605=users[_0x45d1e0(0x99)];else{if(_0x1d9b2f[0x0][_0x45d1e0(0xd8)]==_0x45d1e0(0x133))var _0x253605=users[_0x45d1e0(0x133)];else{if(_0x1d9b2f[0x0]['language']==_0x45d1e0(0xf8))var _0x253605=users['German'];else{if(_0x1d9b2f[0x0][_0x45d1e0(0xd8)]==_0x45d1e0(0x11f))var _0x253605=users[_0x45d1e0(0x11f)];else{if(_0x1d9b2f[0x0]['language']==_0x45d1e0(0x12a))var _0x253605=users[_0x45d1e0(0x12a)];else{if(_0x1d9b2f[0x0]['language']==_0x45d1e0(0x12f))var _0x253605=users['Portuguese'];else{if(_0x1d9b2f[0x0][_0x45d1e0(0xd8)]=='Chinese')var _0x253605=users[_0x45d1e0(0xd5)];else{if(_0x1d9b2f[0x0]['language']==_0x45d1e0(0xe7))var _0x253605=users[_0x45d1e0(0x13b)];}}}}}}}_0x4ece32[_0x45d1e0(0xfd)]('products',{'success':_0x149c8e['flash'](_0x45d1e0(0xa7)),'errors':_0x149c8e[_0x45d1e0(0xa4)](_0x45d1e0(0xe0)),'alldata':_0x364980,'profile':_0x44695c,'master_shop':_0x1d9b2f,'role':_0x578550,'product_stock':_0x5d01de,'language':_0x253605});}catch(_0x32bc74){console[_0x45d1e0(0xc1)](_0x32bc74);}}),router[a0_0x4d7feb(0x117)]('/view/add_products',auth,async(_0x475d38,_0x43b01a)=>{const _0x20baab=a0_0x4d7feb;try{const {username:_0x3a21ba,email:_0x318906,role:_0x14a3f5}=_0x475d38[_0x20baab(0x143)],_0x55d74c=_0x475d38[_0x20baab(0x143)],_0x14f67f=await profile[_0x20baab(0xc5)]({'email':_0x55d74c[_0x20baab(0x116)]}),_0x464534=await master_shop[_0x20baab(0xec)]();console[_0x20baab(0xc1)](_0x20baab(0x141),_0x464534);const _0x32da77=await categories['find']({}),_0x12eee2=await brands[_0x20baab(0xec)]({}),_0x4c86c9=await units['find']({}),_0x66d931=await warehouse[_0x20baab(0xec)]({'status':_0x20baab(0x9c)});if(_0x464534[0x0]['language']==_0x20baab(0x9e))var _0x3f9f7e=users[_0x20baab(0x99)];else{if(_0x464534[0x0][_0x20baab(0xd8)]=='Hindi')var _0x3f9f7e=users['Hindi'];else{if(_0x464534[0x0][_0x20baab(0xd8)]=='German')var _0x3f9f7e=users[_0x20baab(0xf8)];else{if(_0x464534[0x0][_0x20baab(0xd8)]==_0x20baab(0x11f))var _0x3f9f7e=users[_0x20baab(0x11f)];else{if(_0x464534[0x0][_0x20baab(0xd8)]==_0x20baab(0x12a))var _0x3f9f7e=users['French'];else{if(_0x464534[0x0][_0x20baab(0xd8)]=='Portuguese\x20(BR)')var _0x3f9f7e=users['Portuguese'];else{if(_0x464534[0x0]['language']==_0x20baab(0xd5))var _0x3f9f7e=users[_0x20baab(0xd5)];else{if(_0x464534[0x0][_0x20baab(0xd8)]==_0x20baab(0xe7))var _0x3f9f7e=users['Arabic'];}}}}}}}_0x43b01a[_0x20baab(0xfd)](_0x20baab(0x125),{'success':_0x475d38['flash'](_0x20baab(0xa7)),'errors':_0x475d38[_0x20baab(0xa4)](_0x20baab(0xe0)),'role':_0x55d74c,'profile':_0x14f67f,'categories':_0x32da77,'brands':_0x12eee2,'master_shop':_0x464534,'units':_0x4c86c9,'language':_0x3f9f7e,'find_data':_0x66d931});}catch(_0x2f906d){console[_0x20baab(0xc1)](_0x2f906d);}}),router[a0_0x4d7feb(0xe9)](a0_0x4d7feb(0x131),auth,upload[a0_0x4d7feb(0x10b)](a0_0x4d7feb(0x123)),async(_0x445e8b,_0x491681)=>{const _0x27a5f8=a0_0x4d7feb;try{const {name:_0x2cf274,category:_0x572662,brand:_0x16242a,unit:_0x367214,alertquantity:_0x192394,stock:_0x11a559,product_code:_0x26363b,warehouse:_0x195bc4,primary_ItemCode:_0x3f8349,second_ItemCode:_0x2b7468,second_unit:_0x4d9d29,maxPerUnit:_0x40dd8d,MaxPerProduct:_0x58c2a0}=_0x445e8b[_0x27a5f8(0xb4)],_0x279915=_0x445e8b[_0x27a5f8(0xc2)]?.[_0x27a5f8(0xba)]||_0x27a5f8(0x128),_0x3e93f9=new product({'image':_0x279915,'name':_0x2cf274,'category':_0x572662,'brand':_0x16242a,'unit':_0x367214,'alertquantity':_0x192394,'stock':_0x11a559,'product_code':_0x26363b,'warehouse':_0x195bc4,'primary_code':_0x3f8349,'secondary_code':_0x2b7468,'second_unit':_0x4d9d29,'maxStocks':_0x58c2a0,'maxProdPerUnit':_0x40dd8d}),_0x277a4d=await _0x3e93f9[_0x27a5f8(0xca)](),_0x146dc3=await categories['findOne']({'name':_0x572662});_0x146dc3['products']=parseInt(_0x146dc3[_0x27a5f8(0xdd)])+0x1,await _0x146dc3[_0x27a5f8(0xca)]();const _0xbe5a12=await brands['findOne']({'name':_0x16242a});_0xbe5a12[_0x27a5f8(0xdd)]=parseInt(_0xbe5a12[_0x27a5f8(0xdd)])+0x1,await _0xbe5a12[_0x27a5f8(0xca)]();const _0xd5dbc8=await units['findOne']({'name':_0x367214});_0xd5dbc8[_0x27a5f8(0xdd)]=parseInt(_0xd5dbc8[_0x27a5f8(0xdd)])+0x1,await _0xd5dbc8[_0x27a5f8(0xca)](),_0x445e8b[_0x27a5f8(0xa4)](_0x27a5f8(0xa7),_0x27a5f8(0x11b)),_0x491681[_0x27a5f8(0x12d)]('/products/view');}catch(_0x438d10){console['log'](_0x438d10);}}),router['get']('/view/:id',auth,async(_0x266208,_0x59ad63)=>{const _0x3cf788=a0_0x4d7feb;try{const {username:_0x131728,email:_0x4cbd47,role:_0x431d56}=_0x266208[_0x3cf788(0x143)],_0x4dd17c=_0x266208[_0x3cf788(0x143)],_0xfe587=await profile[_0x3cf788(0xc5)]({'email':_0x4dd17c['email']}),_0x358f5b=await master_shop['find']();console[_0x3cf788(0xc1)]('edit\x20Product\x20master',_0x358f5b);const _0x3df1d6=_0x266208[_0x3cf788(0x155)]['id'],_0x1c4aaf=await product[_0x3cf788(0x115)](_0x3df1d6),_0xb00a1f=await categories[_0x3cf788(0xec)]({}),_0x34414f=await brands[_0x3cf788(0xec)]({}),_0x22eb84=await units[_0x3cf788(0xec)]({}),_0x46487f=await warehouse[_0x3cf788(0xec)]({'status':_0x3cf788(0x9c)}),_0x281a9c=await units[_0x3cf788(0xf5)]([{'$group':{'_id':_0x3cf788(0x129),'secondaryunit':{'$first':_0x3cf788(0x140)}}}]);if(_0x358f5b[0x0][_0x3cf788(0xd8)]==_0x3cf788(0x9e))var _0x2ab09d=users[_0x3cf788(0x99)];else{if(_0x358f5b[0x0][_0x3cf788(0xd8)]=='Hindi')var _0x2ab09d=users[_0x3cf788(0x133)];else{if(_0x358f5b[0x0][_0x3cf788(0xd8)]==_0x3cf788(0xf8))var _0x2ab09d=users['German'];else{if(_0x358f5b[0x0][_0x3cf788(0xd8)]=='Spanish')var _0x2ab09d=users[_0x3cf788(0x11f)];else{if(_0x358f5b[0x0][_0x3cf788(0xd8)]==_0x3cf788(0x12a))var _0x2ab09d=users[_0x3cf788(0x12a)];else{if(_0x358f5b[0x0][_0x3cf788(0xd8)]==_0x3cf788(0x12f))var _0x2ab09d=users[_0x3cf788(0xfe)];else{if(_0x358f5b[0x0][_0x3cf788(0xd8)]=='Chinese')var _0x2ab09d=users[_0x3cf788(0xd5)];else{if(_0x358f5b[0x0]['language']==_0x3cf788(0xe7))var _0x2ab09d=users[_0x3cf788(0x13b)];}}}}}}}_0x59ad63[_0x3cf788(0xfd)](_0x3cf788(0xe3),{'success':_0x266208[_0x3cf788(0xa4)](_0x3cf788(0xa7)),'errors':_0x266208[_0x3cf788(0xa4)]('errors'),'role':_0x4dd17c,'profile':_0xfe587,'alldata':_0x1c4aaf,'categories':_0xb00a1f,'brands':_0x34414f,'master_shop':_0x358f5b,'units':_0x22eb84,'secondunit':_0x281a9c,'find_data':_0x46487f,'language':_0x2ab09d});}catch(_0xc49bb5){console['log'](_0xc49bb5);}}),router[a0_0x4d7feb(0xe9)](a0_0x4d7feb(0x14b),auth,upload['single']('image'),async(_0x152a76,_0x3fd90a)=>{const _0x16fedc=a0_0x4d7feb;try{console['log'](_0x16fedc(0x150));const _0x16a56e=_0x152a76[_0x16fedc(0x155)]['id'],_0x37b2ac=await product[_0x16fedc(0x115)](_0x16a56e),{image:_0x4c39cb,name:_0x3afc07,category:_0x55a031,brand:_0x4e3d36,sku:_0x5b3544,unit:_0x158227,alertquantity:_0x45e10e,product_code:_0x12d49e,warehouse:_0x52fba2,primary_ItemCode:_0x270b88,second_ItemCode:_0x163524,second_unit:_0x40a7a1,maxPerUnit:_0x19d1fe,MaxPerProduct:_0x35466d,prod_catdata:_0x3451ba}=_0x152a76[_0x16fedc(0xb4)];_0x152a76['file']&&(_0x37b2ac[_0x16fedc(0x123)]=_0x152a76[_0x16fedc(0xc2)][_0x16fedc(0xba)]);_0x37b2ac[_0x16fedc(0x132)]=_0x3afc07,_0x37b2ac['category']=_0x55a031,_0x37b2ac[_0x16fedc(0xd1)]=_0x4e3d36,_0x37b2ac[_0x16fedc(0x14d)]=_0x5b3544,_0x37b2ac[_0x16fedc(0xe4)]=_0x158227,_0x37b2ac[_0x16fedc(0x145)]=_0x45e10e,_0x37b2ac[_0x16fedc(0x124)]=_0x12d49e,_0x37b2ac[_0x16fedc(0xaa)]=_0x52fba2,_0x37b2ac[_0x16fedc(0xbe)]=_0x270b88,_0x37b2ac[_0x16fedc(0x146)]=_0x163524,_0x37b2ac['secondary_unit']=_0x40a7a1,_0x37b2ac['maxStocks']=_0x35466d,_0x37b2ac[_0x16fedc(0xdb)]=_0x19d1fe,_0x37b2ac[_0x16fedc(0xfa)]=_0x3451ba;const _0x299b75=await _0x37b2ac[_0x16fedc(0xca)]();console['log'](_0x16fedc(0xa6),_0x37b2ac),_0x152a76['flash']('success',_0x16fedc(0x14e)),_0x3fd90a['redirect'](_0x16fedc(0xd2));}catch(_0x2b87c8){console[_0x16fedc(0xc1)](_0x2b87c8);}}),router['get']('/barcode/:id',auth,async(_0x2e93aa,_0x4cc5dc)=>{const _0x116354=a0_0x4d7feb;try{const {username:_0x3207ec,email:_0x18317e,role:_0x2b32dc}=_0x2e93aa[_0x116354(0x143)],_0x11b98b=_0x2e93aa['user'],_0x4ae679=await profile[_0x116354(0xc5)]({'email':_0x11b98b[_0x116354(0x116)]}),_0x24e189=await master_shop[_0x116354(0xec)]();console[_0x116354(0xc1)](_0x116354(0x10d),_0x24e189);const _0x34aca1=_0x2e93aa[_0x116354(0x155)]['id'],_0x46eb35=await product[_0x116354(0x115)](_0x34aca1);console[_0x116354(0xc1)](_0x116354(0x130),_0x46eb35);if(_0x24e189[0x0][_0x116354(0xd8)]==_0x116354(0x9e))var _0x5c44b8=users[_0x116354(0x99)];else{if(_0x24e189[0x0][_0x116354(0xd8)]==_0x116354(0x133))var _0x5c44b8=users[_0x116354(0x133)];else{if(_0x24e189[0x0][_0x116354(0xd8)]=='German')var _0x5c44b8=users[_0x116354(0xf8)];else{if(_0x24e189[0x0][_0x116354(0xd8)]=='Spanish')var _0x5c44b8=users[_0x116354(0x11f)];else{if(_0x24e189[0x0][_0x116354(0xd8)]=='French')var _0x5c44b8=users[_0x116354(0x12a)];else{if(_0x24e189[0x0][_0x116354(0xd8)]==_0x116354(0x12f))var _0x5c44b8=users[_0x116354(0xfe)];else{if(_0x24e189[0x0][_0x116354(0xd8)]=='Chinese')var _0x5c44b8=users['Chinese'];else{if(_0x24e189[0x0][_0x116354(0xd8)]=='Arabic\x20(ae)')var _0x5c44b8=users['Arabic'];}}}}}}}_0x4cc5dc['render']('product_barcode',{'success':_0x2e93aa['flash'](_0x116354(0xa7)),'errors':_0x2e93aa[_0x116354(0xa4)]('errors'),'role':_0x11b98b,'profile':_0x4ae679,'alldata':_0x46eb35,'master_shop':_0x24e189,'language':_0x5c44b8});}catch(_0x2ef55e){console['log'](_0x2ef55e);}}),router[a0_0x4d7feb(0x117)]('/products_export_migrate_file',auth,async(_0x439904,_0x125568)=>{const _0x5f8a52=a0_0x4d7feb;try{const _0x5441cc=new excelJS['Workbook'](),_0x139e46=_0x5441cc[_0x5f8a52(0x113)](_0x5f8a52(0x147));return _0x139e46[_0x5f8a52(0xe2)]=[{'header':_0x5f8a52(0x127),'key':_0x5f8a52(0xb1),'width':0xa},{'header':_0x5f8a52(0x118),'key':_0x5f8a52(0x126),'width':0xa},{'header':_0x5f8a52(0xde),'key':_0x5f8a52(0xef),'width':0xa},{'header':'Secondary_Units','key':'PSecondaryUnits','width':0xa},{'header':_0x5f8a52(0xd4),'key':'MaxperUnits','width':0xa},{'header':_0x5f8a52(0xc9),'key':'ProductCode','width':0xa},{'header':'Secondary_Code','key':_0x5f8a52(0x10f),'width':0xa},{'header':'Product_Code','key':_0x5f8a52(0x10f),'width':0xa},{'header':_0x5f8a52(0x11c),'key':_0x5f8a52(0x101),'width':0xa},{'header':_0x5f8a52(0x102),'key':_0x5f8a52(0xd6),'width':0xa},{'header':_0x5f8a52(0x14c),'key':_0x5f8a52(0xd6),'width':0xa},{'header':_0x5f8a52(0xf0),'key':_0x5f8a52(0x105),'width':0xa}],_0x125568[_0x5f8a52(0xa9)]('Content-Type',_0x5f8a52(0xda)),_0x125568['setHeader']('Content-Disposition',_0x5f8a52(0x112)),_0x5441cc[_0x5f8a52(0x12e)]['write'](_0x125568)[_0x5f8a52(0xa2)](()=>{const _0x393ba8=_0x5f8a52;_0x125568[_0x393ba8(0xc8)](0xc8);});}catch(_0x21c4f0){_0x125568[_0x5f8a52(0xc8)](0x190)[_0x5f8a52(0xb8)](_0x21c4f0);}});const storage1=multer['diskStorage']({'destination':(_0x243ddc,_0x51818e,_0x156380)=>{_0x156380(null,'public/Migration');},'filename':(_0x4c5486,_0x2c1f4a,_0x4b0723)=>{const _0x1de55c=a0_0x4d7feb;_0x4b0723(null,Date[_0x1de55c(0x109)]()+_0x2c1f4a[_0x1de55c(0xd9)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x4d7feb(0xe9)](a0_0x4d7feb(0xcf),auth,uploadMigrate['single'](a0_0x4d7feb(0xb9)),async(_0xc0f9c1,_0xe84428)=>{const _0x38aa28=a0_0x4d7feb,_0x186bab=_0xc0f9c1[_0x38aa28(0xc2)][_0x38aa28(0xba)],_0x215787=await xlsx[_0x38aa28(0xcc)](_0x38aa28(0xb5)+_0x186bab);let _0x29893e=_0x215787['SheetNames'],_0x574721=xlsx[_0x38aa28(0xe8)][_0x38aa28(0xeb)](_0x215787['Sheets'][_0x29893e[0x0]]);for(const _0x3dcb3d of _0x574721){const _0x4da81c=_0x3dcb3d[_0x38aa28(0x127)],_0x412286=_0x3dcb3d[_0x38aa28(0x118)],_0x5d64a5=_0x3dcb3d[_0x38aa28(0xde)],_0x138c9c=_0x3dcb3d['Secondary_Units'],_0x3b3ff6=_0x3dcb3d[_0x38aa28(0xc6)],_0x1555f9=_0x3dcb3d[_0x38aa28(0x11c)],_0x40ef3b=_0x3dcb3d[_0x38aa28(0x102)],_0x1dcd63=_0x3dcb3d[_0x38aa28(0xc9)],_0x14b3d3=_0x3dcb3d[_0x38aa28(0x154)],_0x5afc78=_0x3dcb3d['Maximum_Stocks'],_0x1dfaca=_0x3dcb3d[_0x38aa28(0xd4)],_0x1bee52=_0x3dcb3d[_0x38aa28(0xf0)];try{let _0x315d7d=await categories[_0x38aa28(0xc5)]({'name':_0x1555f9});if(!_0x315d7d){const _0x1f5fca=new categories({'name':_0x1555f9,'products':'0'});_0x315d7d=await _0x1f5fca[_0x38aa28(0xca)]();}let _0x2154c1=await brands[_0x38aa28(0xc5)]({'name':_0x412286});if(!_0x2154c1){const _0x1ab09a=new brands({'name':_0x412286,'products':'0'});_0x2154c1=await _0x1ab09a[_0x38aa28(0xca)]();}let _0x3468a1=await units[_0x38aa28(0xc5)]({'name':_0x5d64a5,'secondary_unit':_0x138c9c});if(!_0x3468a1){const _0x1f64f0=new units({'name':_0x5d64a5,'secondary_unit':_0x138c9c,'products':'0'});_0x3468a1=await _0x1f64f0[_0x38aa28(0xca)]();}const _0x4d4b47=await product[_0x38aa28(0xec)]({'name':_0x4da81c,'category':_0x315d7d[_0x38aa28(0x132)],'brand':_0x2154c1[_0x38aa28(0x132)],'secondary_unit':_0x3468a1[_0x38aa28(0x9a)],'product_code':_0x3b3ff6});console[_0x38aa28(0xc1)](_0x4d4b47[_0x38aa28(0xff)]+_0x38aa28(0x134)+_0x315d7d[_0x38aa28(0x132)]+_0x38aa28(0x134)+_0x2154c1['name']+_0x38aa28(0x134)+_0x3468a1['secondary_unit']+'\x20<>\x20'+_0x3b3ff6+_0x38aa28(0x134)+_0x4da81c);if(_0x4d4b47[_0x38aa28(0xff)]===0x0){const _0x4c265b=new product({'image':'defaultProduct.avif','name':_0x4da81c,'category':_0x315d7d['name'],'brand':_0x2154c1[_0x38aa28(0x132)],'unit':_0x3468a1['name'],'alertquantity':_0x40ef3b,'product_code':_0x3b3ff6,'secondary_unit':_0x3468a1[_0x38aa28(0x9a)],'primary_code':_0x1dcd63,'secondary_code':_0x14b3d3,'maxStocks':_0x5afc78,'maxProdPerUnit':_0x1dfaca,'product_category':_0x1bee52}),_0x5594d6=await _0x4c265b[_0x38aa28(0xca)]();_0x315d7d[_0x38aa28(0xdd)]=parseInt(_0x315d7d[_0x38aa28(0xdd)])+0x1,await _0x315d7d[_0x38aa28(0xca)](),_0x2154c1[_0x38aa28(0xdd)]=parseInt(_0x2154c1[_0x38aa28(0xdd)])+0x1,await _0x2154c1[_0x38aa28(0xca)](),_0x3468a1['products']=parseInt(_0x3468a1['products'])+0x1,await _0x3468a1[_0x38aa28(0xca)](),_0xc0f9c1[_0x38aa28(0xa4)]('success',_0x4da81c+_0x38aa28(0xe6));}else{console['log'](_0x4d4b47[0x0]);const _0x5a3117=_0x4d4b47[0x0];_0x5a3117[_0x38aa28(0x136)]=_0x315d7d[_0x38aa28(0x132)],_0x5a3117[_0x38aa28(0xd1)]=_0x2154c1[_0x38aa28(0x132)],_0x5a3117[_0x38aa28(0xe4)]=_0x3468a1[_0x38aa28(0x132)],_0x5a3117[_0x38aa28(0x145)]=_0x40ef3b,_0x5a3117['product_code']=_0x3b3ff6,_0x5a3117[_0x38aa28(0x9a)]=_0x3468a1['secondary_unit'],_0x5a3117[_0x38aa28(0xbe)]=_0x1dcd63,_0x5a3117['secondary_code']=_0x14b3d3,_0x5a3117['maxStocks']=_0x5afc78,_0x5a3117['maxProdPerUnit']=_0x1dfaca,_0x5a3117['product_category']=_0x1bee52;const _0x14e4cb=await _0x5a3117[_0x38aa28(0xca)]();_0xc0f9c1[_0x38aa28(0xa4)](_0x38aa28(0xa7),_0x14e4cb[_0x38aa28(0x132)]+_0x38aa28(0xee));}}catch(_0x38c69b){_0xe84428[_0x38aa28(0xc8)](0x1f4)[_0x38aa28(0x103)]({'proderror':_0x38c69b[_0x38aa28(0xb0)],'aproduct':_0x4da81c});}}_0xe84428[_0x38aa28(0x12d)](_0x38aa28(0xd2));}),router[a0_0x4d7feb(0xe9)]('/select_data',auth,async(_0x31fec3,_0x1c45ff)=>{const _0x1d9566=a0_0x4d7feb;try{console[_0x1d9566(0xc1)](_0x31fec3['body']);const {data_cateory:_0x1b5149,datachoose:_0x4c87d4}=_0x31fec3[_0x1d9566(0xb4)];var _0x222616;if(_0x4c87d4==_0x1d9566(0x13d))_0x222616=await product[_0x1d9566(0xf5)]([{'$group':{'_id':'$product_category'}}]);else{if(_0x4c87d4==_0x1d9566(0xd7))_0x222616=await product[_0x1d9566(0xf5)]([{'$match':{'product_category':_0x1b5149}},{'$group':{'_id':_0x1d9566(0xf3)}}]);else _0x4c87d4==_0x1d9566(0xb7)&&(_0x222616=await product[_0x1d9566(0xf5)]([{'$match':{'product_category':_0x1b5149}},{'$group':{'_id':_0x1d9566(0xcb)}}]));}_0x1c45ff[_0x1d9566(0x103)](_0x222616);}catch(_0x187bd6){_0x1c45ff[_0x1d9566(0x103)]({'message':_0x187bd6[_0x1d9566(0xb0)]});}}),router[a0_0x4d7feb(0xe9)](a0_0x4d7feb(0x11a),auth,async(_0x1b764e,_0x494386)=>{const _0xb9f1b6=a0_0x4d7feb;try{const {data_choosing:_0xe904c9,data_selected:_0x2f6fd7}=_0x1b764e[_0xb9f1b6(0xb4)];var _0x56d3bb;if(_0xe904c9=='prod_categ')_0x56d3bb=await product[_0xb9f1b6(0xf5)]([{'$match':{'product_category':_0x2f6fd7}}]);else{if(_0xe904c9==_0xb9f1b6(0xd7))_0x56d3bb=await product[_0xb9f1b6(0xf5)]([{'$match':{'brand':_0x2f6fd7}}]);else _0xe904c9==_0xb9f1b6(0xb7)&&(_0x56d3bb=await product[_0xb9f1b6(0xf5)]([{'$match':{'category':_0x2f6fd7}}]));}_0x494386[_0xb9f1b6(0x103)](_0x56d3bb);}catch(_0x2f8c68){_0x494386['json']({'message':_0x2f8c68[_0xb9f1b6(0xb0)]});}}),router['get'](a0_0x4d7feb(0xc0),auth,async(_0x26dd89,_0x8a8cb2)=>{const _0x4a4baa=a0_0x4d7feb,_0x127db6=_0x26dd89['user'],_0x19320b=await profile[_0x4a4baa(0xc5)]({'email':_0x127db6['email']}),_0x2eb796=await master_shop[_0x4a4baa(0xec)](),_0x2515d2=await product[_0x4a4baa(0xec)]();if(_0x2eb796[0x0]['language']==_0x4a4baa(0x9e))var _0x5a4b04=users[_0x4a4baa(0x99)];else{if(_0x2eb796[0x0]['language']==_0x4a4baa(0x133))var _0x5a4b04=users[_0x4a4baa(0x133)];else{if(_0x2eb796[0x0][_0x4a4baa(0xd8)]==_0x4a4baa(0xf8))var _0x5a4b04=users['German'];else{if(_0x2eb796[0x0][_0x4a4baa(0xd8)]=='Spanish')var _0x5a4b04=users[_0x4a4baa(0x11f)];else{if(_0x2eb796[0x0]['language']==_0x4a4baa(0x12a))var _0x5a4b04=users[_0x4a4baa(0x12a)];else{if(_0x2eb796[0x0][_0x4a4baa(0xd8)]==_0x4a4baa(0x12f))var _0x5a4b04=users[_0x4a4baa(0xfe)];else{if(_0x2eb796[0x0][_0x4a4baa(0xd8)]==_0x4a4baa(0xd5))var _0x5a4b04=users['Chinese'];else{if(_0x2eb796[0x0][_0x4a4baa(0xd8)]==_0x4a4baa(0xe7))var _0x5a4b04=users[_0x4a4baa(0x13b)];}}}}}}}_0x8a8cb2[_0x4a4baa(0xfd)]('product_barcode_products',{'success':_0x26dd89['flash'](_0x4a4baa(0xa7)),'errors':_0x26dd89[_0x4a4baa(0xa4)](_0x4a4baa(0xe0)),'role':_0x127db6,'profile':_0x19320b,'products':_0x2515d2,'master_shop':_0x2eb796,'language':_0x5a4b04});}),router[a0_0x4d7feb(0xe9)](a0_0x4d7feb(0xc4),auth,async(_0x89505c,_0xad33c9)=>{const _0x88798e=a0_0x4d7feb,_0x36c452=await product[_0x88798e(0xec)]();_0xad33c9['json']({'data':_0x36c452});}),router[a0_0x4d7feb(0xe9)](a0_0x4d7feb(0xfc),auth,async(_0x1fc781,_0x243b14)=>{const _0x147911=a0_0x4d7feb;try{const {dataProdCat:_0xeb607a,dataProdIdentity:_0x520485}=_0x1fc781[_0x147911(0xb4)];var _0x207f73;switch(_0xeb607a){case'fg':switch(_0x520485){case _0x147911(0x118):_0x207f73=await product[_0x147911(0xf5)]([{'$match':{'product_category':_0x147911(0x13e)}},{'$group':{'_id':_0x147911(0xf3)}},{'$project':{'brand':_0x147911(0x129)}}]);break;case'Category':_0x207f73=await product['aggregate']([{'$match':{'product_category':_0x147911(0x13e)}},{'$group':{'_id':_0x147911(0xcb)}},{'$project':{'category':_0x147911(0x129)}}]);break;}break;case'rm':switch(_0x520485){case _0x147911(0x118):_0x207f73=await product['aggregate']([{'$match':{'product_category':'Raw\x20Materials'}},{'$group':{'_id':'$brand'}},{'$project':{'brand':_0x147911(0x129)}}]);break;case'Category':_0x207f73=await product[_0x147911(0xf5)]([{'$match':{'product_category':_0x147911(0x148)}},{'$group':{'_id':'$category'}},{'$project':{'category':_0x147911(0x129)}}]);break;}break;}_0x243b14['json'](_0x207f73);}catch(_0x5c4077){_0x243b14['json']({'message':_0x5c4077[_0x147911(0xb0)]});}}),router['post'](a0_0x4d7feb(0x135),auth,async(_0x24ba34,_0xe60d96)=>{const _0x5b29c1=a0_0x4d7feb;try{console['log'](_0x24ba34[_0x5b29c1(0xb4)]);const {prod_cat:_0x355df2,identity:_0xdc7bb5,valueData:_0x5d2b55,typeofbarcode:_0x5ac2ae}=_0x24ba34[_0x5b29c1(0xb4)];let _0xd83930;switch(_0x355df2){case'fg':if(_0xdc7bb5==_0x5b29c1(0x118))_0xd83930=await product[_0x5b29c1(0xf5)]([{'$match':{'product_category':_0x5b29c1(0x13e),'brand':_0x5d2b55}}]);else _0xdc7bb5==_0x5b29c1(0x11c)&&(_0xd83930=await product[_0x5b29c1(0xf5)]([{'$match':{'product_category':_0x5b29c1(0x13e),'category':_0x5d2b55}}]));break;case'rm':if(_0xdc7bb5==_0x5b29c1(0x118))_0xd83930=await product[_0x5b29c1(0xf5)]([{'$match':{'product_category':_0x5b29c1(0x148),'brand':_0x5d2b55}}]);else _0xdc7bb5=='Category'&&(_0xd83930=await product['aggregate']([{'$match':{'product_category':_0x5b29c1(0x148),'category':_0x5d2b55}}]));break;}const _0x3fc77e=_0x52f293=>_0x52f293*0x48,_0x262cd1={'width':0x3,'height':0x1},_0x2e6359=new PDFDocument({'margin':_0x3fc77e(0.75),'size':[_0x3fc77e(_0x262cd1['width']),_0x3fc77e(_0x262cd1['height'])],'bufferPages':!![]}),_0x449325=_0xd83930[_0x5b29c1(0xff)];for(let _0x1bbdd5=0x0;_0x1bbdd5<=_0x449325;_0x1bbdd5++){if(_0x1bbdd5!=_0x449325){const _0x4868bc=_0xd83930[_0x1bbdd5][_0x5b29c1(0x132)],_0x3ef928=_0xd83930[_0x1bbdd5][_0x5b29c1(0xbe)],_0x566ebb=_0xd83930[_0x1bbdd5][_0x5b29c1(0x146)],_0xb70507=_0xd83930[_0x1bbdd5]['product_code'];var _0x2acf7a;switch(_0x5ac2ae){case'1':_0x2acf7a=_0x3ef928;break;case'2':_0x2acf7a=_0x566ebb;break;case'3':_0x2acf7a=_0xb70507;break;}const _0x2cd11f={'width':0xd2,'height':0x64},_0xd50230={'width':_0x3fc77e(_0x262cd1['width']),'height':_0x3fc77e(_0x262cd1[_0x5b29c1(0x13c)])},_0x414b29=new Canvas();JsBarcode(_0x414b29,_0x2acf7a,{'format':_0x5b29c1(0xac),'height':_0x2cd11f['height'],'displayValue':!![],'text':_0x2acf7a});const _0x4a2d34=_0x414b29[_0x5b29c1(0x14f)](),_0x417f9f=_0xd50230[_0x5b29c1(0xbf)]/_0x2cd11f[_0x5b29c1(0xbf)],_0x146e7c=_0xd50230[_0x5b29c1(0x13c)]/_0x2cd11f['height'],_0x4c893e=Math[_0x5b29c1(0x10a)](_0x417f9f,_0x146e7c),_0xbebd32=_0x2cd11f[_0x5b29c1(0xbf)]*_0x4c893e,_0x327fa6=_0x2cd11f['height']*_0x4c893e,_0x44d418=(_0xd50230[_0x5b29c1(0xbf)]-_0xbebd32)/0x2,_0x29ce61=(_0xd50230[_0x5b29c1(0x13c)]-_0x327fa6)/0x2;_0x2e6359[_0x5b29c1(0x123)](_0x4a2d34,_0x44d418,_0x29ce61,{'width':_0xbebd32,'height':_0x327fa6}),_0x1bbdd5!=_0x449325&&_0x2e6359[_0x5b29c1(0xfb)]();}}const _0x5130cf=[];_0x2e6359['on'](_0x5b29c1(0xae),_0x5130cf[_0x5b29c1(0x13a)][_0x5b29c1(0xbc)](_0x5130cf)),_0x2e6359['on']('end',()=>{const _0x3965db=_0x5b29c1,_0x1b26d=Buffer['concat'](_0x5130cf),_0x2c4339=_0x1b26d['toString'](_0x3965db(0xf9));_0xe60d96[_0x3965db(0x103)]({'pdfContent':_0x2c4339});}),_0x2e6359[_0x5b29c1(0xb2)]();}catch(_0x5c8ae1){_0xe60d96[_0x5b29c1(0x103)]({'message':_0x5c8ae1[_0x5b29c1(0xb0)]});}}),router[a0_0x4d7feb(0xe9)](a0_0x4d7feb(0x9d),auth,async(_0x31c70b,_0x117c37)=>{const _0x26ba48=a0_0x4d7feb;try{console[_0x26ba48(0xc1)](_0x31c70b['body']);const {prod_cat:_0x3f115b,identity:_0x201740,valueData:_0x1d0479}=_0x31c70b[_0x26ba48(0xb4)];let _0x235d45;switch(_0x3f115b){case'fg':if(_0x201740==_0x26ba48(0x118))_0x235d45=await product['aggregate']([{'$match':{'product_category':_0x26ba48(0x13e),'brand':_0x1d0479}}]);else _0x201740==_0x26ba48(0x11c)&&(_0x235d45=await product['aggregate']([{'$match':{'product_category':_0x26ba48(0x13e),'category':_0x1d0479}}]));break;case'rm':if(_0x201740=='Brands')_0x235d45=await product[_0x26ba48(0xf5)]([{'$match':{'product_category':_0x26ba48(0x148),'brand':_0x1d0479}}]);else _0x201740=='Category'&&(_0x235d45=await product[_0x26ba48(0xf5)]([{'$match':{'product_category':_0x26ba48(0x148),'category':_0x1d0479}}]));break;}_0x117c37[_0x26ba48(0x103)]({'data':_0x235d45});}catch(_0x350a1a){_0x117c37[_0x26ba48(0x103)]({'message':_0x350a1a[_0x26ba48(0xb0)]});}}),router['post'](a0_0x4d7feb(0x12b),auth,async(_0x2d918a,_0x572c69)=>{const _0x550a75=a0_0x4d7feb;try{const _0x417fce=_0x2d918a['params']['id'],{copies:_0x1b975b,typeofbarcode:_0x343c72}=_0x2d918a[_0x550a75(0xb4)];var _0x282e20=await product[_0x550a75(0x115)](_0x417fce);const _0xce214c=_0x27a38d=>_0x27a38d*0x48,_0x3d6bbf={'width':0x3,'height':0x1},_0x191334=new PDFDocument({'margin':_0xce214c(0.75),'size':[_0xce214c(_0x3d6bbf['width']),_0xce214c(_0x3d6bbf[_0x550a75(0x13c)])],'bufferPages':!![]}),_0x29985e=_0x1b975b,_0x4d81a8=_0x282e20[_0x550a75(0x132)],_0x1e0446=_0x282e20[_0x550a75(0xbe)],_0x40123a=_0x282e20['secondary_code'],_0xe2d3fd=_0x282e20['product_code'];let _0x1f68c6;switch(_0x343c72){case'1':_0x1f68c6=_0x1e0446;break;case'2':_0x1f68c6=_0x40123a;break;case'3':_0x1f68c6=_0xe2d3fd;break;}const _0x355176={'width':0xd2,'height':0x64},_0x1aea64={'width':_0xce214c(_0x3d6bbf[_0x550a75(0xbf)]),'height':_0xce214c(_0x3d6bbf[_0x550a75(0x13c)])};for(let _0x4f91f9=0x1;_0x4f91f9<=_0x29985e;_0x4f91f9++){const _0x11f671=new Canvas();JsBarcode(_0x11f671,_0x1f68c6,{'format':_0x550a75(0xac),'height':_0x355176['height'],'displayValue':!![],'text':_0x1f68c6});const _0x4a0284=_0x11f671[_0x550a75(0x14f)](),_0x1c3a92=_0x1aea64[_0x550a75(0xbf)]/_0x355176['width'],_0x1f2693=_0x1aea64['height']/_0x355176['height'],_0x4af218=Math[_0x550a75(0x10a)](_0x1c3a92,_0x1f2693),_0x4369ff=_0x355176[_0x550a75(0xbf)]*_0x4af218,_0x5e67c2=_0x355176[_0x550a75(0x13c)]*_0x4af218,_0x54c9a8=(_0x1aea64[_0x550a75(0xbf)]-_0x4369ff)/0x2,_0x5dffec=(_0x1aea64['height']-_0x5e67c2)/0x2;_0x191334[_0x550a75(0x123)](_0x4a0284,_0x54c9a8,_0x5dffec,{'width':_0x4369ff,'height':_0x5e67c2}),_0x4f91f9!=_0x29985e&&_0x191334[_0x550a75(0xfb)]();}const _0x55cab9=[];_0x191334['on']('data',_0x55cab9[_0x550a75(0x13a)]['bind'](_0x55cab9)),_0x191334['on'](_0x550a75(0xb2),()=>{const _0x45abda=_0x550a75,_0x221ded=Buffer[_0x45abda(0x149)](_0x55cab9),_0x3265fa=_0x221ded[_0x45abda(0x106)]('base64');_0x572c69[_0x45abda(0x103)]({'pdfContent':_0x3265fa});}),_0x191334[_0x550a75(0xb2)]();}catch(_0x4e5c56){_0x572c69[_0x550a75(0x103)]({'message':_0x4e5c56['message']});}}),module['exports']=router;