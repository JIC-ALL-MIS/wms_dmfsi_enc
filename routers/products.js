const a0_0x253b0f=a0_0x49ad;(function(_0x1b1fda,_0xd55050){const _0x5e4d53=a0_0x49ad,_0x129905=_0x1b1fda();while(!![]){try{const _0x26a466=-parseInt(_0x5e4d53(0x262))/0x1*(-parseInt(_0x5e4d53(0x21b))/0x2)+-parseInt(_0x5e4d53(0x230))/0x3+-parseInt(_0x5e4d53(0x281))/0x4*(-parseInt(_0x5e4d53(0x27b))/0x5)+-parseInt(_0x5e4d53(0x264))/0x6*(-parseInt(_0x5e4d53(0x1dc))/0x7)+parseInt(_0x5e4d53(0x278))/0x8+-parseInt(_0x5e4d53(0x1c8))/0x9+-parseInt(_0x5e4d53(0x20c))/0xa;if(_0x26a466===_0xd55050)break;else _0x129905['push'](_0x129905['shift']());}catch(_0x32e6d4){_0x129905['push'](_0x129905['shift']());}}}(a0_0x1521,0xbde41));function a0_0x1521(){const _0x3ac8b5=['\x20<>\x20','5247520mlsxez','push','language','2480KbpEDl','products','units','/categories/:id','/filter_product','PBrands','1128EuqUbX','$product_category','brand','file','utils','json','base64','9299340BbhbDt','Units','width','prod_categ','express/lib/response','English\x20(US)','/categories/delete/:id','Secondary_Units','/barcode_data','English','setHeader','Spanish','product_category','/print_barcode','product_code','product\x20update\x20successfully','post','migrate_product_fule','Portuguese','concat','50505LnPtUZ','/units','/categories','maxProdPerUnit','sku','brands','$product_name','/select_data','categories\x20data\x20delete\x20successfully','public/upload','edit\x20Product\x20master','$product_stock','findOne','express','$secondary_unit','Alert_QTY','product_barcode','product\x20edit','filename','German','min','secondary_unit','Chinese','xlsx','success','categ','height','multer','then','Arabic\x20(ae)','long','$category','single','Content-Type','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','\x20unit\x20is\x20add\x20successfully','/print_barcode_single/:id','unit','user','pdfkit-table','PUnits','Category','defaultProduct.avif','../models/all_models','unit\x20data\x20update\x20successfully','Maximum_Stocks','now','save','3830020MwSWUW','French','diskStorage','Secondary_Code','Brands','product_details.product_name','CODE128','../public/language/languages.json','exports','log','Product_Name','end','Router','/products_import_migrate_file','redirect','2411966KQfWIt','/barcode_filter','forEach','findByIdAndDelete','Finished\x20Goods','status','Hindi','/view/:id','$product_details.product_name','Enabled','body','PSecondaryUnits','public/Migration/','/products/units','$product_docs','Portuguese\x20(BR)','/products/categories','brand\x20data\x20delete\x20successfully','PCat','$brand','length','2085555KOLrru','originalname','PName','get','addPage','/units/delete/:id','master','flash','barcode\x20user_id','render','brand\x20data\x20update\x20successfully','product\x20add\x20successfully','/products/brands','/print_barcode_filter_search/','ProductCode','errors','name','Products\x20master','Raw\x20Materials','\x20categories\x20is\x20add\x20successfully','message','edit_product','params','addWorksheet','jsbarcode','/brands/:id','attachment;\x20filename=Product_Migration_File.xlsx','bind','Prod_Cat','PAlQty','alertquantity','categories','$product_details.product_stock','maxStocks','$_id','data','\x20Edit\x20Successfully','sheet_to_json','warehouse','Product_Code','/brands','secondary_code','\x20added\x20successfully','Products\x20find_data','/brands/delete/:id','Sheets','/units/:id','findById','send','$product_details','1oxaooO','email','738AFjRPD','Products_category','product_barcode_products','findByIdAndUpdate','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','image','canvas','aggregate','stock','hello','Primary_Code','toString','find','Arabic','/print_barcode_filter/','/view','/products/view','primary_code','category'];a0_0x1521=function(){return _0x3ac8b5;};return a0_0x1521();}const express=require(a0_0x253b0f(0x1e9)),res=require(a0_0x253b0f(0x1cc)),app=express(),router=express[a0_0x253b0f(0x218)](),multer=require(a0_0x253b0f(0x1f7)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x253b0f(0x207)),auth=require('../middleware/auth'),users=require(a0_0x253b0f(0x213)),excelJS=require('exceljs'),xlsx=require('xlsx'),JsBarcode=require(a0_0x253b0f(0x248)),{Canvas}=require(a0_0x253b0f(0x26a)),PDFDocument=require(a0_0x253b0f(0x203));router[a0_0x253b0f(0x233)]('/categories',auth,async(_0x416df9,_0x3a494e)=>{const _0x537631=a0_0x253b0f;try{const {username:_0x3d09dd,email:_0x22d268,role:_0x396d94}=_0x416df9[_0x537631(0x202)],_0x53e429=_0x416df9['user'],_0x5689e1=await profile[_0x537631(0x1e8)]({'email':_0x53e429[_0x537631(0x263)]}),_0x274685=await master_shop['find']();console['log']('master',_0x274685);const _0x299d92=await categories[_0x537631(0x270)]();if(_0x274685[0x0]['language']==_0x537631(0x1cd))var _0x5b620e=users[_0x537631(0x1d1)];else{if(_0x274685[0x0][_0x537631(0x27a)]==_0x537631(0x221))var _0x5b620e=users['Hindi'];else{if(_0x274685[0x0][_0x537631(0x27a)]==_0x537631(0x1ef))var _0x5b620e=users[_0x537631(0x1ef)];else{if(_0x274685[0x0][_0x537631(0x27a)]==_0x537631(0x1d3))var _0x5b620e=users[_0x537631(0x1d3)];else{if(_0x274685[0x0][_0x537631(0x27a)]==_0x537631(0x20d))var _0x5b620e=users[_0x537631(0x20d)];else{if(_0x274685[0x0][_0x537631(0x27a)]==_0x537631(0x22a))var _0x5b620e=users['Portuguese'];else{if(_0x274685[0x0]['language']==_0x537631(0x1f2))var _0x5b620e=users[_0x537631(0x1f2)];else{if(_0x274685[0x0]['language']==_0x537631(0x1f9))var _0x5b620e=users[_0x537631(0x271)];}}}}}}}_0x3a494e[_0x537631(0x239)](_0x537631(0x24f),{'success':_0x416df9[_0x537631(0x237)](_0x537631(0x1f4)),'errors':_0x416df9[_0x537631(0x237)]('errors'),'role':_0x53e429,'profile':_0x5689e1,'user':_0x299d92,'master_shop':_0x274685,'language':_0x5b620e});}catch(_0x100196){console[_0x537631(0x215)](_0x100196);}}),router[a0_0x253b0f(0x1d8)](a0_0x253b0f(0x1de),auth,async(_0x34e83a,_0x3d7428)=>{const _0x2c5b1c=a0_0x253b0f;try{const {name:_0xedb9d6,products:_0x5cff92}=_0x34e83a[_0x2c5b1c(0x225)],_0x53208a=new categories({'name':_0xedb9d6,'products':_0x5cff92}),_0x34d195=await categories[_0x2c5b1c(0x1e8)]({'name':_0xedb9d6});_0x34d195?_0x34e83a[_0x2c5b1c(0x237)]('errors',_0xedb9d6+_0x2c5b1c(0x1fe)):_0x34e83a['flash'](_0x2c5b1c(0x1f4),_0xedb9d6+_0x2c5b1c(0x243));const _0x3a0648=await _0x53208a[_0x2c5b1c(0x20b)]();_0x3d7428['redirect'](_0x2c5b1c(0x22b));}catch(_0xe67ef4){console['log'](_0xe67ef4);}}),router[a0_0x253b0f(0x233)](a0_0x253b0f(0x27e),auth,async(_0x4fb4d7,_0x41613d)=>{const _0x2eb94c=a0_0x253b0f;try{const {username:_0x487b7e,email:_0x2ac955,role:_0xa08b5a}=_0x4fb4d7[_0x2eb94c(0x202)],_0x233b14=_0x4fb4d7[_0x2eb94c(0x202)],_0x21fafb=await profile[_0x2eb94c(0x1e8)]({'email':_0x233b14[_0x2eb94c(0x263)]}),_0x3f63f1=await master_shop[_0x2eb94c(0x270)]();console[_0x2eb94c(0x215)](_0x2eb94c(0x236),_0x3f63f1);const _0x4e81ad=_0x4fb4d7['params']['id'];console['log'](_0x4e81ad);const _0x2d794d=await categories['findById'](_0x4e81ad);if(_0x3f63f1[0x0][_0x2eb94c(0x27a)]=='English\x20(US)')var _0x70d21e=users[_0x2eb94c(0x1d1)];else{if(_0x3f63f1[0x0][_0x2eb94c(0x27a)]==_0x2eb94c(0x221))var _0x70d21e=users[_0x2eb94c(0x221)];else{if(_0x3f63f1[0x0][_0x2eb94c(0x27a)]=='German')var _0x70d21e=users[_0x2eb94c(0x1ef)];else{if(_0x3f63f1[0x0]['language']==_0x2eb94c(0x1d3))var _0x70d21e=users[_0x2eb94c(0x1d3)];else{if(_0x3f63f1[0x0][_0x2eb94c(0x27a)]==_0x2eb94c(0x20d))var _0x70d21e=users[_0x2eb94c(0x20d)];else{if(_0x3f63f1[0x0][_0x2eb94c(0x27a)]==_0x2eb94c(0x22a))var _0x70d21e=users[_0x2eb94c(0x1da)];else{if(_0x3f63f1[0x0][_0x2eb94c(0x27a)]=='Chinese')var _0x70d21e=users[_0x2eb94c(0x1f2)];else{if(_0x3f63f1[0x0][_0x2eb94c(0x27a)]==_0x2eb94c(0x1f9))var _0x70d21e=users[_0x2eb94c(0x271)];}}}}}}}_0x41613d[_0x2eb94c(0x239)]('categories',{'success':_0x4fb4d7[_0x2eb94c(0x237)](_0x2eb94c(0x1f4)),'errors':_0x4fb4d7[_0x2eb94c(0x237)](_0x2eb94c(0x23f)),'role':_0x233b14,'profile':_0x21fafb,'master_shop':_0x3f63f1,'user':_0x2d794d,'language':_0x70d21e});}catch(_0x39e859){console[_0x2eb94c(0x215)](_0x39e859);}}),router[a0_0x253b0f(0x1d8)](a0_0x253b0f(0x27e),auth,async(_0x22734f,_0x43b226)=>{const _0x462c85=a0_0x253b0f;try{const _0x124d3c=_0x22734f[_0x462c85(0x246)]['id'],_0x3e47df=await categories[_0x462c85(0x267)](_0x124d3c,_0x22734f[_0x462c85(0x225)]);_0x22734f[_0x462c85(0x237)](_0x462c85(0x1f4),''+users['categories_edit']),_0x43b226[_0x462c85(0x21a)](_0x462c85(0x22b));}catch(_0x4a2b6f){console[_0x462c85(0x215)](_0x4a2b6f);}}),router['get'](a0_0x253b0f(0x1ce),auth,async(_0x2198fe,_0x4a94c3)=>{const _0x27295a=a0_0x253b0f;try{const _0x297a66=_0x2198fe[_0x27295a(0x246)]['id'],_0xc5240=await categories['findByIdAndDelete'](_0x297a66);_0x2198fe['flash'](_0x27295a(0x1f4),_0x27295a(0x1e4)),_0x4a94c3[_0x27295a(0x21a)](_0x27295a(0x22b));}catch(_0x40bf26){console[_0x27295a(0x215)](_0x40bf26);}}),router[a0_0x253b0f(0x233)](a0_0x253b0f(0x258),auth,async(_0xf42cb9,_0x3f1ca5)=>{const _0x152eef=a0_0x253b0f;try{const {username:_0x1fa158,email:_0x5e79a0,role:_0x5a1200}=_0xf42cb9['user'],_0x5b2cb4=_0xf42cb9[_0x152eef(0x202)],_0x902541=await profile[_0x152eef(0x1e8)]({'email':_0x5b2cb4[_0x152eef(0x263)]}),_0xdcb2b5=await master_shop[_0x152eef(0x270)]();console[_0x152eef(0x215)](_0x152eef(0x236),_0xdcb2b5);const _0x46f99d=await brands[_0x152eef(0x270)]();if(_0xdcb2b5[0x0]['language']==_0x152eef(0x1cd))var _0x17c054=users[_0x152eef(0x1d1)];else{if(_0xdcb2b5[0x0][_0x152eef(0x27a)]==_0x152eef(0x221))var _0x17c054=users['Hindi'];else{if(_0xdcb2b5[0x0][_0x152eef(0x27a)]==_0x152eef(0x1ef))var _0x17c054=users['German'];else{if(_0xdcb2b5[0x0][_0x152eef(0x27a)]=='Spanish')var _0x17c054=users[_0x152eef(0x1d3)];else{if(_0xdcb2b5[0x0][_0x152eef(0x27a)]==_0x152eef(0x20d))var _0x17c054=users['French'];else{if(_0xdcb2b5[0x0][_0x152eef(0x27a)]==_0x152eef(0x22a))var _0x17c054=users[_0x152eef(0x1da)];else{if(_0xdcb2b5[0x0]['language']==_0x152eef(0x1f2))var _0x17c054=users[_0x152eef(0x1f2)];else{if(_0xdcb2b5[0x0]['language']=='Arabic\x20(ae)')var _0x17c054=users[_0x152eef(0x271)];}}}}}}}_0x3f1ca5['render'](_0x152eef(0x1e1),{'success':_0xf42cb9[_0x152eef(0x237)](_0x152eef(0x1f4)),'errors':_0xf42cb9[_0x152eef(0x237)](_0x152eef(0x23f)),'role':_0x5b2cb4,'profile':_0x902541,'master_shop':_0xdcb2b5,'user':_0x46f99d,'language':_0x17c054});}catch(_0x2de019){console[_0x152eef(0x215)](_0x2de019);}}),router['post']('/brands',auth,async(_0x3a1d7c,_0x28589a)=>{const _0x4fee04=a0_0x253b0f;try{const {name:_0x6f38d5,products:_0x2784e5}=_0x3a1d7c[_0x4fee04(0x225)],_0x5d5c42=new brands({'name':_0x6f38d5,'products':_0x2784e5}),_0x142ff7=await brands['findOne']({'name':_0x6f38d5});_0x142ff7?_0x3a1d7c['flash'](_0x4fee04(0x23f),_0x6f38d5+'\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x3a1d7c[_0x4fee04(0x237)](_0x4fee04(0x1f4),_0x6f38d5+'\x20brand\x20is\x20add\x20successfully');const _0x5f0005=await _0x5d5c42[_0x4fee04(0x20b)]();_0x28589a[_0x4fee04(0x21a)](_0x4fee04(0x23c));}catch(_0x59f322){console[_0x4fee04(0x215)](_0x59f322);}}),router[a0_0x253b0f(0x233)](a0_0x253b0f(0x249),auth,async(_0x1a9128,_0x5b725a)=>{const _0x2223c4=a0_0x253b0f;try{const {username:_0xe49236,email:_0x11a14c,role:_0x4e751d}=_0x1a9128[_0x2223c4(0x202)],_0x123f61=_0x1a9128['user'],_0x5ec082=await profile[_0x2223c4(0x1e8)]({'email':_0x123f61[_0x2223c4(0x263)]}),_0x2f30fc=await master_shop[_0x2223c4(0x270)]();console[_0x2223c4(0x215)](_0x2223c4(0x236),_0x2f30fc);const _0x46368d=_0x1a9128[_0x2223c4(0x246)]['id'];console['log'](_0x46368d);const _0x3bef92=await brands['findById'](_0x46368d);if(_0x2f30fc[0x0][_0x2223c4(0x27a)]==_0x2223c4(0x1cd))var _0x15414c=users[_0x2223c4(0x1d1)];else{if(_0x2f30fc[0x0][_0x2223c4(0x27a)]==_0x2223c4(0x221))var _0x15414c=users['Hindi'];else{if(_0x2f30fc[0x0][_0x2223c4(0x27a)]==_0x2223c4(0x1ef))var _0x15414c=users['German'];else{if(_0x2f30fc[0x0][_0x2223c4(0x27a)]==_0x2223c4(0x1d3))var _0x15414c=users[_0x2223c4(0x1d3)];else{if(_0x2f30fc[0x0]['language']=='French')var _0x15414c=users[_0x2223c4(0x20d)];else{if(_0x2f30fc[0x0][_0x2223c4(0x27a)]==_0x2223c4(0x22a))var _0x15414c=users['Portuguese'];else{if(_0x2f30fc[0x0][_0x2223c4(0x27a)]==_0x2223c4(0x1f2))var _0x15414c=users[_0x2223c4(0x1f2)];else{if(_0x2f30fc[0x0]['language']==_0x2223c4(0x1f9))var _0x15414c=users[_0x2223c4(0x271)];}}}}}}}_0x5b725a[_0x2223c4(0x239)](_0x2223c4(0x1e1),{'success':_0x1a9128[_0x2223c4(0x237)](_0x2223c4(0x1f4)),'errors':_0x1a9128[_0x2223c4(0x237)](_0x2223c4(0x23f)),'role':_0x123f61,'profile':_0x5ec082,'master_shop':_0x2f30fc,'user':_0x3bef92,'language':_0x15414c});}catch(_0x16b052){console[_0x2223c4(0x215)](_0x16b052);}}),router[a0_0x253b0f(0x1d8)](a0_0x253b0f(0x249),auth,async(_0x983ea4,_0x390d00)=>{const _0x3d743d=a0_0x253b0f;try{const _0x3932f4=_0x983ea4['params']['id'],_0x341d00=await brands['findByIdAndUpdate'](_0x3932f4,_0x983ea4[_0x3d743d(0x225)]);_0x983ea4[_0x3d743d(0x237)]('success',_0x3d743d(0x23a)),_0x390d00[_0x3d743d(0x21a)](_0x3d743d(0x23c));}catch(_0x1336f1){console[_0x3d743d(0x215)](_0x1336f1);}}),router[a0_0x253b0f(0x233)](a0_0x253b0f(0x25c),auth,async(_0x902b2,_0x40b7f6)=>{const _0x102e42=a0_0x253b0f;try{const _0x8b54d6=_0x902b2[_0x102e42(0x246)]['id'],_0x3b9654=await brands[_0x102e42(0x21e)](_0x8b54d6);_0x902b2[_0x102e42(0x237)]('success',_0x102e42(0x22c)),_0x40b7f6[_0x102e42(0x21a)](_0x102e42(0x23c));}catch(_0x26a136){console[_0x102e42(0x215)](_0x26a136);}}),router[a0_0x253b0f(0x233)](a0_0x253b0f(0x1dd),auth,async(_0x4f4d65,_0x149b8e)=>{const _0x267124=a0_0x253b0f;try{const {username:_0x3c36eb,email:_0x3fee25,role:_0x4a025a}=_0x4f4d65[_0x267124(0x202)],_0x198df4=_0x4f4d65[_0x267124(0x202)],_0x2b5400=await profile['findOne']({'email':_0x198df4[_0x267124(0x263)]}),_0x438aaa=await master_shop[_0x267124(0x270)]();console['log'](_0x267124(0x236),_0x438aaa);const _0x40237c=await units['find']();if(_0x438aaa[0x0][_0x267124(0x27a)]==_0x267124(0x1cd))var _0x22e3e2=users[_0x267124(0x1d1)];else{if(_0x438aaa[0x0][_0x267124(0x27a)]==_0x267124(0x221))var _0x22e3e2=users[_0x267124(0x221)];else{if(_0x438aaa[0x0][_0x267124(0x27a)]==_0x267124(0x1ef))var _0x22e3e2=users[_0x267124(0x1ef)];else{if(_0x438aaa[0x0][_0x267124(0x27a)]==_0x267124(0x1d3))var _0x22e3e2=users['Spanish'];else{if(_0x438aaa[0x0][_0x267124(0x27a)]==_0x267124(0x20d))var _0x22e3e2=users['French'];else{if(_0x438aaa[0x0][_0x267124(0x27a)]==_0x267124(0x22a))var _0x22e3e2=users[_0x267124(0x1da)];else{if(_0x438aaa[0x0]['language']==_0x267124(0x1f2))var _0x22e3e2=users[_0x267124(0x1f2)];else{if(_0x438aaa[0x0][_0x267124(0x27a)]==_0x267124(0x1f9))var _0x22e3e2=users['Arabic'];}}}}}}}_0x149b8e[_0x267124(0x239)](_0x267124(0x27d),{'success':_0x4f4d65['flash'](_0x267124(0x1f4)),'errors':_0x4f4d65['flash'](_0x267124(0x23f)),'role':_0x198df4,'profile':_0x2b5400,'master_shop':_0x438aaa,'user':_0x40237c,'language':_0x22e3e2});}catch(_0x55459a){console[_0x267124(0x215)](_0x55459a);}}),router[a0_0x253b0f(0x1d8)](a0_0x253b0f(0x1dd),auth,async(_0x2c529d,_0x1a40c2)=>{const _0x24a168=a0_0x253b0f;try{const {name:_0x382e1c,secondary_unit:_0x56178f,products:_0x4a6c17}=_0x2c529d[_0x24a168(0x225)],_0x5488ef=new units({'name':_0x382e1c,'secondary_unit':_0x56178f,'products':_0x4a6c17}),_0x2a081d=await units[_0x24a168(0x1e8)]({'name':_0x382e1c});_0x2a081d?_0x2c529d[_0x24a168(0x237)](_0x24a168(0x23f),_0x382e1c+'\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x2c529d[_0x24a168(0x237)](_0x24a168(0x1f4),_0x382e1c+_0x24a168(0x1ff));const _0x5f4d7b=await _0x5488ef[_0x24a168(0x20b)]();_0x1a40c2[_0x24a168(0x21a)]('/products/units');}catch(_0x464822){console[_0x24a168(0x215)](_0x464822);}}),router[a0_0x253b0f(0x233)](a0_0x253b0f(0x25e),auth,async(_0x330057,_0x1dfdbb)=>{const _0x38c066=a0_0x253b0f;try{const {username:_0x50a2c6,email:_0xcd83a1,role:_0x4d5599}=_0x330057[_0x38c066(0x202)],_0x2a6bac=_0x330057[_0x38c066(0x202)],_0x311bc9=await profile[_0x38c066(0x1e8)]({'email':_0x2a6bac[_0x38c066(0x263)]}),_0x4fced9=await master_shop[_0x38c066(0x270)]();console[_0x38c066(0x215)](_0x38c066(0x236),_0x4fced9);const _0x31cec6=_0x330057[_0x38c066(0x246)]['id'],_0x2a0b27=await units['findById'](_0x31cec6);if(_0x4fced9[0x0][_0x38c066(0x27a)]=='English\x20(US)')var _0x24c93f=users[_0x38c066(0x1d1)];else{if(_0x4fced9[0x0]['language']==_0x38c066(0x221))var _0x24c93f=users[_0x38c066(0x221)];else{if(_0x4fced9[0x0][_0x38c066(0x27a)]==_0x38c066(0x1ef))var _0x24c93f=users['German'];else{if(_0x4fced9[0x0]['language']==_0x38c066(0x1d3))var _0x24c93f=users['Spanish'];else{if(_0x4fced9[0x0]['language']==_0x38c066(0x20d))var _0x24c93f=users[_0x38c066(0x20d)];else{if(_0x4fced9[0x0]['language']==_0x38c066(0x22a))var _0x24c93f=users[_0x38c066(0x1da)];else{if(_0x4fced9[0x0]['language']==_0x38c066(0x1f2))var _0x24c93f=users[_0x38c066(0x1f2)];else{if(_0x4fced9[0x0][_0x38c066(0x27a)]==_0x38c066(0x1f9))var _0x24c93f=users['Arabic'];}}}}}}}_0x1dfdbb[_0x38c066(0x239)](_0x38c066(0x27d),{'success':_0x330057[_0x38c066(0x237)](_0x38c066(0x1f4)),'errors':_0x330057[_0x38c066(0x237)](_0x38c066(0x23f)),'role':_0x2a6bac,'profile':_0x311bc9,'master_shop':_0x4fced9,'user':_0x2a0b27,'language':_0x24c93f});}catch(_0x380c26){console[_0x38c066(0x215)](_0x380c26);}}),router[a0_0x253b0f(0x1d8)]('/units/:id',auth,async(_0x3e6301,_0x435a9a)=>{const _0x28f050=a0_0x253b0f;try{const _0x407663=_0x3e6301[_0x28f050(0x246)]['id'],_0x53696a=await units[_0x28f050(0x267)](_0x407663,_0x3e6301[_0x28f050(0x225)]);_0x3e6301[_0x28f050(0x237)]('success',_0x28f050(0x208)),_0x435a9a[_0x28f050(0x21a)](_0x28f050(0x228));}catch(_0x1df1e5){console[_0x28f050(0x215)](_0x1df1e5);}}),router['get'](a0_0x253b0f(0x235),auth,async(_0x256a9c,_0x7bd123)=>{const _0x1415b9=a0_0x253b0f;try{const _0x562617=_0x256a9c[_0x1415b9(0x246)]['id'],_0xcfbac=await units['findByIdAndDelete'](_0x562617);_0x256a9c[_0x1415b9(0x237)]('success','unit\x20data\x20delete\x20successfully'),_0x7bd123[_0x1415b9(0x21a)](_0x1415b9(0x228));}catch(_0xe793dc){console[_0x1415b9(0x215)](_0xe793dc);}});const storage=multer[a0_0x253b0f(0x20e)]({'destination':(_0x341f54,_0x143340,_0x12dee4)=>{const _0x3f30a2=a0_0x253b0f;_0x12dee4(null,_0x3f30a2(0x1e5));},'filename':(_0xfff2bd,_0x1b9f32,_0x57ec1c)=>{const _0x4352cf=a0_0x253b0f;_0x57ec1c(null,Date[_0x4352cf(0x20a)]()+_0x1b9f32[_0x4352cf(0x231)]);}}),upload=multer({'storage':storage});router[a0_0x253b0f(0x233)](a0_0x253b0f(0x273),auth,async(_0x8aa909,_0x23c86e)=>{const _0x53c663=a0_0x253b0f;try{const {username:_0x1c2c87,email:_0x539371,role:_0x388315}=_0x8aa909[_0x53c663(0x202)],_0x394f3f=_0x8aa909[_0x53c663(0x202)],_0x1972d5=await profile['findOne']({'email':_0x394f3f['email']}),_0x1900b0={'year':'numeric','month':_0x53c663(0x1fa),'day':'numeric'},_0x2726f4=await master_shop[_0x53c663(0x270)]();console['log'](_0x53c663(0x241),_0x2726f4);const _0x2b6597=await product[_0x53c663(0x270)]();console[_0x53c663(0x215)](_0x53c663(0x25b),_0x2b6597);const _0x2f52c0=await warehouse[_0x53c663(0x26b)]([{'$unwind':_0x53c663(0x261)},{'$lookup':{'from':_0x53c663(0x27c),'localField':_0x53c663(0x211),'foreignField':_0x53c663(0x240),'as':'product_docs'}},{'$unwind':_0x53c663(0x229)},{'$project':{'product_name':_0x53c663(0x223),'product_stock':_0x53c663(0x250)}},{'$group':{'_id':_0x53c663(0x1e2),'product_stock':{'$sum':_0x53c663(0x1e7)}}}]);console[_0x53c663(0x215)]('Products\x20warehouse_data',_0x2f52c0),_0x2f52c0[_0x53c663(0x21d)](_0x3e0eed=>{const _0x6b4bbb=_0x2b6597['map'](_0x3cf906=>{const _0x568552=a0_0x49ad;_0x3cf906[_0x568552(0x240)]==_0x3e0eed['_id']&&(_0x3cf906[_0x568552(0x26c)]=parseInt(_0x3cf906[_0x568552(0x26c)])+parseInt(_0x3e0eed['product_stock']));});}),console['log'](_0x53c663(0x25b),_0x2b6597);if(_0x2726f4[0x0][_0x53c663(0x27a)]==_0x53c663(0x1cd))var _0x59c871=users['English'];else{if(_0x2726f4[0x0]['language']==_0x53c663(0x221))var _0x59c871=users[_0x53c663(0x221)];else{if(_0x2726f4[0x0]['language']=='German')var _0x59c871=users[_0x53c663(0x1ef)];else{if(_0x2726f4[0x0][_0x53c663(0x27a)]==_0x53c663(0x1d3))var _0x59c871=users[_0x53c663(0x1d3)];else{if(_0x2726f4[0x0][_0x53c663(0x27a)]==_0x53c663(0x20d))var _0x59c871=users[_0x53c663(0x20d)];else{if(_0x2726f4[0x0][_0x53c663(0x27a)]==_0x53c663(0x22a))var _0x59c871=users[_0x53c663(0x1da)];else{if(_0x2726f4[0x0][_0x53c663(0x27a)]==_0x53c663(0x1f2))var _0x59c871=users[_0x53c663(0x1f2)];else{if(_0x2726f4[0x0][_0x53c663(0x27a)]==_0x53c663(0x1f9))var _0x59c871=users[_0x53c663(0x271)];}}}}}}}_0x23c86e['render'](_0x53c663(0x27c),{'success':_0x8aa909[_0x53c663(0x237)](_0x53c663(0x1f4)),'errors':_0x8aa909[_0x53c663(0x237)](_0x53c663(0x23f)),'alldata':_0x2b6597,'profile':_0x1972d5,'master_shop':_0x2726f4,'role':_0x394f3f,'product_stock':_0x2f52c0,'language':_0x59c871});}catch(_0x1e8106){console[_0x53c663(0x215)](_0x1e8106);}}),router[a0_0x253b0f(0x233)]('/view/add_products',auth,async(_0x54f11c,_0x421905)=>{const _0x52c08c=a0_0x253b0f;try{const {username:_0xfc69ad,email:_0xf47f2a,role:_0x5ca6e7}=_0x54f11c[_0x52c08c(0x202)],_0x33a41d=_0x54f11c[_0x52c08c(0x202)],_0x1e4b28=await profile[_0x52c08c(0x1e8)]({'email':_0x33a41d[_0x52c08c(0x263)]}),_0x25ca84=await master_shop['find']();console[_0x52c08c(0x215)](_0x52c08c(0x236),_0x25ca84);const _0x1b3c9a=await categories[_0x52c08c(0x270)]({}),_0x574db8=await brands['find']({}),_0x494c42=await units['find']({}),_0x12263f=await warehouse[_0x52c08c(0x270)]({'status':_0x52c08c(0x224)});if(_0x25ca84[0x0][_0x52c08c(0x27a)]==_0x52c08c(0x1cd))var _0xdff751=users[_0x52c08c(0x1d1)];else{if(_0x25ca84[0x0]['language']=='Hindi')var _0xdff751=users[_0x52c08c(0x221)];else{if(_0x25ca84[0x0][_0x52c08c(0x27a)]==_0x52c08c(0x1ef))var _0xdff751=users[_0x52c08c(0x1ef)];else{if(_0x25ca84[0x0][_0x52c08c(0x27a)]==_0x52c08c(0x1d3))var _0xdff751=users[_0x52c08c(0x1d3)];else{if(_0x25ca84[0x0][_0x52c08c(0x27a)]==_0x52c08c(0x20d))var _0xdff751=users[_0x52c08c(0x20d)];else{if(_0x25ca84[0x0][_0x52c08c(0x27a)]=='Portuguese\x20(BR)')var _0xdff751=users[_0x52c08c(0x1da)];else{if(_0x25ca84[0x0][_0x52c08c(0x27a)]==_0x52c08c(0x1f2))var _0xdff751=users[_0x52c08c(0x1f2)];else{if(_0x25ca84[0x0][_0x52c08c(0x27a)]==_0x52c08c(0x1f9))var _0xdff751=users[_0x52c08c(0x271)];}}}}}}}_0x421905['render']('add_product',{'success':_0x54f11c[_0x52c08c(0x237)]('success'),'errors':_0x54f11c[_0x52c08c(0x237)](_0x52c08c(0x23f)),'role':_0x33a41d,'profile':_0x1e4b28,'categories':_0x1b3c9a,'brands':_0x574db8,'master_shop':_0x25ca84,'units':_0x494c42,'language':_0xdff751,'find_data':_0x12263f});}catch(_0x208e8f){console[_0x52c08c(0x215)](_0x208e8f);}}),router[a0_0x253b0f(0x1d8)]('/view/add_products',auth,upload[a0_0x253b0f(0x1fc)](a0_0x253b0f(0x269)),async(_0x4def8b,_0x137f6f)=>{const _0x3df6cc=a0_0x253b0f;try{const {name:_0x2030aa,category:_0x5baf0a,brand:_0x3e4515,unit:_0x55bc76,alertquantity:_0x2f89ba,stock:_0x55b68d,product_code:_0x4ec9a3,warehouse:_0x259896,primary_ItemCode:_0x342d77,second_ItemCode:_0x1aff22,second_unit:_0x397295,maxPerUnit:_0x3e6db2,MaxPerProduct:_0x5e1c70}=_0x4def8b[_0x3df6cc(0x225)],_0x10c111=_0x4def8b[_0x3df6cc(0x1c4)]?.['filename']||_0x3df6cc(0x206),_0x5c94e8=new product({'image':_0x10c111,'name':_0x2030aa,'category':_0x5baf0a,'brand':_0x3e4515,'unit':_0x55bc76,'alertquantity':_0x2f89ba,'stock':_0x55b68d,'product_code':_0x4ec9a3,'warehouse':_0x259896,'primary_code':_0x342d77,'secondary_code':_0x1aff22,'second_unit':_0x397295,'maxStocks':_0x5e1c70,'maxProdPerUnit':_0x3e6db2}),_0x3febd2=await _0x5c94e8[_0x3df6cc(0x20b)](),_0x1e6db1=await categories[_0x3df6cc(0x1e8)]({'name':_0x5baf0a});_0x1e6db1[_0x3df6cc(0x27c)]=parseInt(_0x1e6db1[_0x3df6cc(0x27c)])+0x1,await _0x1e6db1[_0x3df6cc(0x20b)]();const _0x33d6e3=await brands[_0x3df6cc(0x1e8)]({'name':_0x3e4515});_0x33d6e3['products']=parseInt(_0x33d6e3[_0x3df6cc(0x27c)])+0x1,await _0x33d6e3[_0x3df6cc(0x20b)]();const _0x2b13f3=await units[_0x3df6cc(0x1e8)]({'name':_0x55bc76});_0x2b13f3[_0x3df6cc(0x27c)]=parseInt(_0x2b13f3['products'])+0x1,await _0x2b13f3[_0x3df6cc(0x20b)](),_0x4def8b[_0x3df6cc(0x237)](_0x3df6cc(0x1f4),_0x3df6cc(0x23b)),_0x137f6f[_0x3df6cc(0x21a)](_0x3df6cc(0x274));}catch(_0x4ce54f){console[_0x3df6cc(0x215)](_0x4ce54f);}}),router[a0_0x253b0f(0x233)](a0_0x253b0f(0x222),auth,async(_0x3d6dea,_0x262fcc)=>{const _0x53687e=a0_0x253b0f;try{const {username:_0x2c13ce,email:_0x2c070c,role:_0x53a07b}=_0x3d6dea[_0x53687e(0x202)],_0x4599c8=_0x3d6dea[_0x53687e(0x202)],_0x4fb218=await profile['findOne']({'email':_0x4599c8[_0x53687e(0x263)]}),_0x302d6a=await master_shop[_0x53687e(0x270)]();console[_0x53687e(0x215)](_0x53687e(0x1e6),_0x302d6a);const _0x331b36=_0x3d6dea[_0x53687e(0x246)]['id'],_0x263ef7=await product['findById'](_0x331b36),_0x269d49=await categories[_0x53687e(0x270)]({}),_0x7aeb5b=await brands['find']({}),_0x5241d2=await units['find']({}),_0x128be7=await warehouse['find']({'status':_0x53687e(0x224)}),_0x14ffcb=await units[_0x53687e(0x26b)]([{'$group':{'_id':_0x53687e(0x252),'secondaryunit':{'$first':_0x53687e(0x1ea)}}}]);if(_0x302d6a[0x0]['language']==_0x53687e(0x1cd))var _0x580a59=users[_0x53687e(0x1d1)];else{if(_0x302d6a[0x0][_0x53687e(0x27a)]=='Hindi')var _0x580a59=users[_0x53687e(0x221)];else{if(_0x302d6a[0x0][_0x53687e(0x27a)]==_0x53687e(0x1ef))var _0x580a59=users[_0x53687e(0x1ef)];else{if(_0x302d6a[0x0][_0x53687e(0x27a)]==_0x53687e(0x1d3))var _0x580a59=users['Spanish'];else{if(_0x302d6a[0x0]['language']=='French')var _0x580a59=users[_0x53687e(0x20d)];else{if(_0x302d6a[0x0][_0x53687e(0x27a)]==_0x53687e(0x22a))var _0x580a59=users[_0x53687e(0x1da)];else{if(_0x302d6a[0x0][_0x53687e(0x27a)]=='Chinese')var _0x580a59=users[_0x53687e(0x1f2)];else{if(_0x302d6a[0x0][_0x53687e(0x27a)]=='Arabic\x20(ae)')var _0x580a59=users[_0x53687e(0x271)];}}}}}}}_0x262fcc[_0x53687e(0x239)](_0x53687e(0x245),{'success':_0x3d6dea[_0x53687e(0x237)](_0x53687e(0x1f4)),'errors':_0x3d6dea[_0x53687e(0x237)](_0x53687e(0x23f)),'role':_0x4599c8,'profile':_0x4fb218,'alldata':_0x263ef7,'categories':_0x269d49,'brands':_0x7aeb5b,'master_shop':_0x302d6a,'units':_0x5241d2,'secondunit':_0x14ffcb,'find_data':_0x128be7,'language':_0x580a59});}catch(_0xd56f37){console['log'](_0xd56f37);}}),router[a0_0x253b0f(0x1d8)]('/view/:id',auth,upload[a0_0x253b0f(0x1fc)](a0_0x253b0f(0x269)),async(_0x530b41,_0x414339)=>{const _0x4ea6af=a0_0x253b0f;try{console['log'](_0x4ea6af(0x26d));const _0x46f35d=_0x530b41[_0x4ea6af(0x246)]['id'],_0xa46fc9=await product[_0x4ea6af(0x25f)](_0x46f35d),{image:_0x572c16,name:_0x958b5a,category:_0x22ecdc,brand:_0x149a53,sku:_0x547177,unit:_0x5a9de,alertquantity:_0x52f41f,product_code:_0x2ccc29,warehouse:_0x24be90,primary_ItemCode:_0xcb3800,second_ItemCode:_0x17ca7c,second_unit:_0xa518bf,maxPerUnit:_0x3f979f,MaxPerProduct:_0x1d68e7,prod_catdata:_0x41f69d}=_0x530b41['body'];_0x530b41['file']&&(_0xa46fc9[_0x4ea6af(0x269)]=_0x530b41[_0x4ea6af(0x1c4)][_0x4ea6af(0x1ee)]);_0xa46fc9[_0x4ea6af(0x240)]=_0x958b5a,_0xa46fc9[_0x4ea6af(0x276)]=_0x22ecdc,_0xa46fc9[_0x4ea6af(0x283)]=_0x149a53,_0xa46fc9[_0x4ea6af(0x1e0)]=_0x547177,_0xa46fc9[_0x4ea6af(0x201)]=_0x5a9de,_0xa46fc9[_0x4ea6af(0x24e)]=_0x52f41f,_0xa46fc9[_0x4ea6af(0x1d6)]=_0x2ccc29,_0xa46fc9[_0x4ea6af(0x256)]=_0x24be90,_0xa46fc9[_0x4ea6af(0x275)]=_0xcb3800,_0xa46fc9['secondary_code']=_0x17ca7c,_0xa46fc9['secondary_unit']=_0xa518bf,_0xa46fc9[_0x4ea6af(0x251)]=_0x1d68e7,_0xa46fc9['maxProdPerUnit']=_0x3f979f,_0xa46fc9[_0x4ea6af(0x1d4)]=_0x41f69d;const _0x1855ba=await _0xa46fc9[_0x4ea6af(0x20b)]();console[_0x4ea6af(0x215)](_0x4ea6af(0x1ed),_0xa46fc9),_0x530b41[_0x4ea6af(0x237)](_0x4ea6af(0x1f4),_0x4ea6af(0x1d7)),_0x414339['redirect']('/products/view');}catch(_0x2a9af7){console[_0x4ea6af(0x215)](_0x2a9af7);}}),router[a0_0x253b0f(0x233)]('/barcode/:id',auth,async(_0x426a93,_0xd08035)=>{const _0x539353=a0_0x253b0f;try{const {username:_0x34e789,email:_0x12e777,role:_0x2e581d}=_0x426a93[_0x539353(0x202)],_0x26371f=_0x426a93['user'],_0x53e8ad=await profile['findOne']({'email':_0x26371f[_0x539353(0x263)]}),_0x2ec55b=await master_shop[_0x539353(0x270)]();console['log']('barcode\x20Product\x20master',_0x2ec55b);const _0x29e9f2=_0x426a93[_0x539353(0x246)]['id'],_0x401fb0=await product[_0x539353(0x25f)](_0x29e9f2);console[_0x539353(0x215)](_0x539353(0x238),_0x401fb0);if(_0x2ec55b[0x0][_0x539353(0x27a)]==_0x539353(0x1cd))var _0xc2a2d2=users[_0x539353(0x1d1)];else{if(_0x2ec55b[0x0][_0x539353(0x27a)]==_0x539353(0x221))var _0xc2a2d2=users['Hindi'];else{if(_0x2ec55b[0x0][_0x539353(0x27a)]==_0x539353(0x1ef))var _0xc2a2d2=users[_0x539353(0x1ef)];else{if(_0x2ec55b[0x0][_0x539353(0x27a)]==_0x539353(0x1d3))var _0xc2a2d2=users[_0x539353(0x1d3)];else{if(_0x2ec55b[0x0][_0x539353(0x27a)]==_0x539353(0x20d))var _0xc2a2d2=users[_0x539353(0x20d)];else{if(_0x2ec55b[0x0]['language']=='Portuguese\x20(BR)')var _0xc2a2d2=users[_0x539353(0x1da)];else{if(_0x2ec55b[0x0][_0x539353(0x27a)]==_0x539353(0x1f2))var _0xc2a2d2=users['Chinese'];else{if(_0x2ec55b[0x0][_0x539353(0x27a)]=='Arabic\x20(ae)')var _0xc2a2d2=users['Arabic'];}}}}}}}_0xd08035[_0x539353(0x239)](_0x539353(0x1ec),{'success':_0x426a93[_0x539353(0x237)]('success'),'errors':_0x426a93[_0x539353(0x237)](_0x539353(0x23f)),'role':_0x26371f,'profile':_0x53e8ad,'alldata':_0x401fb0,'master_shop':_0x2ec55b,'language':_0xc2a2d2});}catch(_0x57646b){console[_0x539353(0x215)](_0x57646b);}}),router[a0_0x253b0f(0x233)]('/products_export_migrate_file',auth,async(_0xcffef2,_0x3e767d)=>{const _0x528564=a0_0x253b0f;try{const _0x2bf151=new excelJS['Workbook'](),_0x3bf45e=_0x2bf151[_0x528564(0x247)]('Products');return _0x3bf45e['columns']=[{'header':_0x528564(0x216),'key':_0x528564(0x232),'width':0xa},{'header':_0x528564(0x210),'key':_0x528564(0x280),'width':0xa},{'header':_0x528564(0x1c9),'key':_0x528564(0x204),'width':0xa},{'header':_0x528564(0x1cf),'key':_0x528564(0x226),'width':0xa},{'header':'max_number_per_units','key':'MaxperUnits','width':0xa},{'header':_0x528564(0x26e),'key':'ProductCode','width':0xa},{'header':_0x528564(0x20f),'key':'ProductCode','width':0xa},{'header':_0x528564(0x257),'key':_0x528564(0x23e),'width':0xa},{'header':_0x528564(0x205),'key':_0x528564(0x22d),'width':0xa},{'header':_0x528564(0x1eb),'key':_0x528564(0x24d),'width':0xa},{'header':_0x528564(0x209),'key':_0x528564(0x24d),'width':0xa},{'header':_0x528564(0x265),'key':_0x528564(0x24c),'width':0xa}],_0x3e767d[_0x528564(0x1d2)](_0x528564(0x1fd),_0x528564(0x268)),_0x3e767d[_0x528564(0x1d2)]('Content-Disposition',_0x528564(0x24a)),_0x2bf151[_0x528564(0x1f3)]['write'](_0x3e767d)[_0x528564(0x1f8)](()=>{const _0x2a478c=_0x528564;_0x3e767d[_0x2a478c(0x220)](0xc8);});}catch(_0x1e236b){_0x3e767d[_0x528564(0x220)](0x190)[_0x528564(0x260)](_0x1e236b);}});function a0_0x49ad(_0xc0adc,_0x4bd198){const _0x1521ef=a0_0x1521();return a0_0x49ad=function(_0x49ad27,_0x217069){_0x49ad27=_0x49ad27-0x1c4;let _0x1f640a=_0x1521ef[_0x49ad27];return _0x1f640a;},a0_0x49ad(_0xc0adc,_0x4bd198);}const storage1=multer['diskStorage']({'destination':(_0x1ae541,_0x1413c9,_0x548232)=>{_0x548232(null,'public/Migration');},'filename':(_0x1101f3,_0x2cbb20,_0x3eb9c4)=>{const _0x3ec97e=a0_0x253b0f;_0x3eb9c4(null,Date[_0x3ec97e(0x20a)]()+_0x2cbb20['originalname']);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x253b0f(0x1d8)](a0_0x253b0f(0x219),auth,uploadMigrate['single'](a0_0x253b0f(0x1d9)),async(_0x4816a,_0x9590f0)=>{const _0x1045ec=a0_0x253b0f,_0x5c19eb=_0x4816a[_0x1045ec(0x1c4)][_0x1045ec(0x1ee)],_0x48ec89=await xlsx['readFile'](_0x1045ec(0x227)+_0x5c19eb);let _0x2b1d00=_0x48ec89['SheetNames'],_0x448e9c=xlsx[_0x1045ec(0x1c5)][_0x1045ec(0x255)](_0x48ec89[_0x1045ec(0x25d)][_0x2b1d00[0x0]]);for(const _0x2f0fe4 of _0x448e9c){const _0x49fd3d=_0x2f0fe4[_0x1045ec(0x216)],_0x454d40=_0x2f0fe4[_0x1045ec(0x210)],_0x57bb30=_0x2f0fe4[_0x1045ec(0x1c9)],_0x52f849=_0x2f0fe4[_0x1045ec(0x1cf)],_0x2ad8fa=_0x2f0fe4[_0x1045ec(0x257)],_0x58b063=_0x2f0fe4[_0x1045ec(0x205)],_0x30d23d=_0x2f0fe4['Alert_QTY'],_0xf52cd0=_0x2f0fe4[_0x1045ec(0x26e)],_0x205071=_0x2f0fe4[_0x1045ec(0x20f)],_0x2e0a59=_0x2f0fe4[_0x1045ec(0x209)],_0x5699c3=_0x2f0fe4['max_number_per_units'],_0x22fc1e=_0x2f0fe4[_0x1045ec(0x265)];try{let _0x108885=await categories[_0x1045ec(0x1e8)]({'name':_0x58b063});if(!_0x108885){const _0x117a69=new categories({'name':_0x58b063,'products':'0'});_0x108885=await _0x117a69[_0x1045ec(0x20b)]();}let _0x3719c7=await brands[_0x1045ec(0x1e8)]({'name':_0x454d40});if(!_0x3719c7){const _0x321337=new brands({'name':_0x454d40,'products':'0'});_0x3719c7=await _0x321337['save']();}let _0x1fe9ed=await units[_0x1045ec(0x1e8)]({'name':_0x57bb30,'secondary_unit':_0x52f849});if(!_0x1fe9ed){const _0xfe30b=new units({'name':_0x57bb30,'secondary_unit':_0x52f849,'products':'0'});_0x1fe9ed=await _0xfe30b[_0x1045ec(0x20b)]();}const _0x565e8b=await product[_0x1045ec(0x270)]({'name':_0x49fd3d,'category':_0x108885['name'],'brand':_0x3719c7['name'],'secondary_unit':_0x1fe9ed['secondary_unit'],'product_code':_0x2ad8fa});console[_0x1045ec(0x215)](_0x565e8b[_0x1045ec(0x22f)]+_0x1045ec(0x277)+_0x108885[_0x1045ec(0x240)]+_0x1045ec(0x277)+_0x3719c7[_0x1045ec(0x240)]+_0x1045ec(0x277)+_0x1fe9ed[_0x1045ec(0x1f1)]+_0x1045ec(0x277)+_0x2ad8fa+_0x1045ec(0x277)+_0x49fd3d);if(_0x565e8b['length']===0x0){const _0x212295=new product({'image':_0x1045ec(0x206),'name':_0x49fd3d,'category':_0x108885[_0x1045ec(0x240)],'brand':_0x3719c7[_0x1045ec(0x240)],'unit':_0x1fe9ed[_0x1045ec(0x240)],'alertquantity':_0x30d23d,'product_code':_0x2ad8fa,'secondary_unit':_0x1fe9ed[_0x1045ec(0x1f1)],'primary_code':_0xf52cd0,'secondary_code':_0x205071,'maxStocks':_0x2e0a59,'maxProdPerUnit':_0x5699c3,'product_category':_0x22fc1e}),_0x2e6457=await _0x212295['save']();_0x108885[_0x1045ec(0x27c)]=parseInt(_0x108885[_0x1045ec(0x27c)])+0x1,await _0x108885[_0x1045ec(0x20b)](),_0x3719c7[_0x1045ec(0x27c)]=parseInt(_0x3719c7[_0x1045ec(0x27c)])+0x1,await _0x3719c7[_0x1045ec(0x20b)](),_0x1fe9ed[_0x1045ec(0x27c)]=parseInt(_0x1fe9ed[_0x1045ec(0x27c)])+0x1,await _0x1fe9ed[_0x1045ec(0x20b)](),_0x4816a[_0x1045ec(0x237)](_0x1045ec(0x1f4),_0x49fd3d+_0x1045ec(0x25a));}else{console['log'](_0x565e8b[0x0]);const _0x3045ff=_0x565e8b[0x0];_0x3045ff[_0x1045ec(0x276)]=_0x108885[_0x1045ec(0x240)],_0x3045ff['brand']=_0x3719c7[_0x1045ec(0x240)],_0x3045ff[_0x1045ec(0x201)]=_0x1fe9ed['name'],_0x3045ff['alertquantity']=_0x30d23d,_0x3045ff[_0x1045ec(0x1d6)]=_0x2ad8fa,_0x3045ff[_0x1045ec(0x1f1)]=_0x1fe9ed[_0x1045ec(0x1f1)],_0x3045ff[_0x1045ec(0x275)]=_0xf52cd0,_0x3045ff[_0x1045ec(0x259)]=_0x205071,_0x3045ff[_0x1045ec(0x251)]=_0x2e0a59,_0x3045ff[_0x1045ec(0x1df)]=_0x5699c3,_0x3045ff[_0x1045ec(0x1d4)]=_0x22fc1e;const _0xcb713b=await _0x3045ff['save']();_0x4816a['flash'](_0x1045ec(0x1f4),_0xcb713b[_0x1045ec(0x240)]+_0x1045ec(0x254));}}catch(_0x3ca994){_0x9590f0['status'](0x1f4)[_0x1045ec(0x1c6)]({'proderror':_0x3ca994[_0x1045ec(0x244)],'aproduct':_0x49fd3d});}}_0x9590f0[_0x1045ec(0x21a)](_0x1045ec(0x274));}),router['post'](a0_0x253b0f(0x1e3),auth,async(_0x168d37,_0x3b04df)=>{const _0x1785c1=a0_0x253b0f;try{console[_0x1785c1(0x215)](_0x168d37[_0x1785c1(0x225)]);const {data_cateory:_0x2710b1,datachoose:_0x41c34f}=_0x168d37[_0x1785c1(0x225)];var _0x10c256;if(_0x41c34f==_0x1785c1(0x1cb))_0x10c256=await product[_0x1785c1(0x26b)]([{'$group':{'_id':_0x1785c1(0x282)}}]);else{if(_0x41c34f=='brands')_0x10c256=await product[_0x1785c1(0x26b)]([{'$match':{'product_category':_0x2710b1}},{'$group':{'_id':_0x1785c1(0x22e)}}]);else _0x41c34f==_0x1785c1(0x1f5)&&(_0x10c256=await product[_0x1785c1(0x26b)]([{'$match':{'product_category':_0x2710b1}},{'$group':{'_id':_0x1785c1(0x1fb)}}]));}_0x3b04df[_0x1785c1(0x1c6)](_0x10c256);}catch(_0x3cdfda){_0x3b04df[_0x1785c1(0x1c6)]({'message':_0x3cdfda[_0x1785c1(0x244)]});}}),router[a0_0x253b0f(0x1d8)](a0_0x253b0f(0x27f),auth,async(_0x2e8b14,_0x4a7144)=>{const _0x29a107=a0_0x253b0f;try{const {data_choosing:_0x11c54b,data_selected:_0x23f3fc}=_0x2e8b14[_0x29a107(0x225)];var _0x55b3e5;if(_0x11c54b==_0x29a107(0x1cb))_0x55b3e5=await product[_0x29a107(0x26b)]([{'$match':{'product_category':_0x23f3fc}}]);else{if(_0x11c54b==_0x29a107(0x1e1))_0x55b3e5=await product[_0x29a107(0x26b)]([{'$match':{'brand':_0x23f3fc}}]);else _0x11c54b==_0x29a107(0x1f5)&&(_0x55b3e5=await product[_0x29a107(0x26b)]([{'$match':{'category':_0x23f3fc}}]));}_0x4a7144[_0x29a107(0x1c6)](_0x55b3e5);}catch(_0x145245){_0x4a7144[_0x29a107(0x1c6)]({'message':_0x145245[_0x29a107(0x244)]});}}),router[a0_0x253b0f(0x233)](a0_0x253b0f(0x1d5),auth,async(_0x4290dd,_0x3f2fbd)=>{const _0x26a16b=a0_0x253b0f,_0x54364f=_0x4290dd[_0x26a16b(0x202)],_0x1c0545=await profile[_0x26a16b(0x1e8)]({'email':_0x54364f[_0x26a16b(0x263)]}),_0x30ab90=await master_shop[_0x26a16b(0x270)](),_0xce11ff=await product['find']();if(_0x30ab90[0x0][_0x26a16b(0x27a)]==_0x26a16b(0x1cd))var _0x4bdd13=users['English'];else{if(_0x30ab90[0x0]['language']==_0x26a16b(0x221))var _0x4bdd13=users['Hindi'];else{if(_0x30ab90[0x0]['language']==_0x26a16b(0x1ef))var _0x4bdd13=users[_0x26a16b(0x1ef)];else{if(_0x30ab90[0x0][_0x26a16b(0x27a)]=='Spanish')var _0x4bdd13=users[_0x26a16b(0x1d3)];else{if(_0x30ab90[0x0][_0x26a16b(0x27a)]==_0x26a16b(0x20d))var _0x4bdd13=users[_0x26a16b(0x20d)];else{if(_0x30ab90[0x0][_0x26a16b(0x27a)]=='Portuguese\x20(BR)')var _0x4bdd13=users[_0x26a16b(0x1da)];else{if(_0x30ab90[0x0][_0x26a16b(0x27a)]==_0x26a16b(0x1f2))var _0x4bdd13=users[_0x26a16b(0x1f2)];else{if(_0x30ab90[0x0][_0x26a16b(0x27a)]=='Arabic\x20(ae)')var _0x4bdd13=users[_0x26a16b(0x271)];}}}}}}}_0x3f2fbd[_0x26a16b(0x239)](_0x26a16b(0x266),{'success':_0x4290dd['flash'](_0x26a16b(0x1f4)),'errors':_0x4290dd[_0x26a16b(0x237)](_0x26a16b(0x23f)),'role':_0x54364f,'profile':_0x1c0545,'products':_0xce11ff,'master_shop':_0x30ab90,'language':_0x4bdd13});}),router['post'](a0_0x253b0f(0x1d0),auth,async(_0x881927,_0x3a671d)=>{const _0x413e74=a0_0x253b0f,_0x94e519=await product[_0x413e74(0x270)]();_0x3a671d[_0x413e74(0x1c6)]({'data':_0x94e519});}),router['post'](a0_0x253b0f(0x21c),auth,async(_0x3b2a14,_0x26e0f1)=>{const _0x120990=a0_0x253b0f;try{const {dataProdCat:_0x14d7f1,dataProdIdentity:_0x441e60}=_0x3b2a14[_0x120990(0x225)];var _0x33695e;switch(_0x14d7f1){case'fg':switch(_0x441e60){case _0x120990(0x210):_0x33695e=await product[_0x120990(0x26b)]([{'$match':{'product_category':_0x120990(0x21f)}},{'$group':{'_id':_0x120990(0x22e)}},{'$project':{'brand':_0x120990(0x252)}}]);break;case'Category':_0x33695e=await product[_0x120990(0x26b)]([{'$match':{'product_category':'Finished\x20Goods'}},{'$group':{'_id':_0x120990(0x1fb)}},{'$project':{'category':_0x120990(0x252)}}]);break;}break;case'rm':switch(_0x441e60){case _0x120990(0x210):_0x33695e=await product[_0x120990(0x26b)]([{'$match':{'product_category':_0x120990(0x242)}},{'$group':{'_id':_0x120990(0x22e)}},{'$project':{'brand':_0x120990(0x252)}}]);break;case _0x120990(0x205):_0x33695e=await product['aggregate']([{'$match':{'product_category':_0x120990(0x242)}},{'$group':{'_id':_0x120990(0x1fb)}},{'$project':{'category':_0x120990(0x252)}}]);break;}break;}_0x26e0f1[_0x120990(0x1c6)](_0x33695e);}catch(_0x104c54){_0x26e0f1[_0x120990(0x1c6)]({'message':_0x104c54[_0x120990(0x244)]});}}),router[a0_0x253b0f(0x1d8)](a0_0x253b0f(0x272),auth,async(_0x494a83,_0x5f2ca5)=>{const _0x2bb82e=a0_0x253b0f;try{console[_0x2bb82e(0x215)](_0x494a83['body']);const {prod_cat:_0x405da2,identity:_0x329a76,valueData:_0x376ecb,typeofbarcode:_0x109d35}=_0x494a83[_0x2bb82e(0x225)];let _0x2562f5;switch(_0x405da2){case'fg':if(_0x329a76==_0x2bb82e(0x210))_0x2562f5=await product[_0x2bb82e(0x26b)]([{'$match':{'product_category':_0x2bb82e(0x21f),'brand':_0x376ecb}}]);else _0x329a76==_0x2bb82e(0x205)&&(_0x2562f5=await product[_0x2bb82e(0x26b)]([{'$match':{'product_category':_0x2bb82e(0x21f),'category':_0x376ecb}}]));break;case'rm':if(_0x329a76==_0x2bb82e(0x210))_0x2562f5=await product[_0x2bb82e(0x26b)]([{'$match':{'product_category':_0x2bb82e(0x242),'brand':_0x376ecb}}]);else _0x329a76==_0x2bb82e(0x205)&&(_0x2562f5=await product['aggregate']([{'$match':{'product_category':'Raw\x20Materials','category':_0x376ecb}}]));break;}const _0xe03e9e=_0x1ce3bf=>_0x1ce3bf*0x48,_0x85366c={'width':0x3,'height':0x1},_0x4329d6=new PDFDocument({'margin':_0xe03e9e(0.75),'size':[_0xe03e9e(_0x85366c['width']),_0xe03e9e(_0x85366c[_0x2bb82e(0x1f6)])],'bufferPages':!![]}),_0x140177=_0x2562f5[_0x2bb82e(0x22f)];for(let _0x63d398=0x0;_0x63d398<=_0x140177;_0x63d398++){if(_0x63d398!=_0x140177){const _0x585074=_0x2562f5[_0x63d398][_0x2bb82e(0x240)],_0x2148e0=_0x2562f5[_0x63d398][_0x2bb82e(0x275)],_0x53a6a4=_0x2562f5[_0x63d398]['secondary_code'],_0x315b45=_0x2562f5[_0x63d398][_0x2bb82e(0x1d6)];var _0x4747e5;switch(_0x109d35){case'1':_0x4747e5=_0x2148e0;break;case'2':_0x4747e5=_0x53a6a4;break;case'3':_0x4747e5=_0x315b45;break;}const _0x12352b={'width':0xd2,'height':0x64},_0x200006={'width':_0xe03e9e(_0x85366c[_0x2bb82e(0x1ca)]),'height':_0xe03e9e(_0x85366c['height'])},_0x104036=new Canvas();JsBarcode(_0x104036,_0x4747e5,{'format':_0x2bb82e(0x212),'height':_0x12352b[_0x2bb82e(0x1f6)],'displayValue':!![],'text':_0x4747e5});const _0x4e911e=_0x104036['toBuffer'](),_0x38ef0e=_0x200006[_0x2bb82e(0x1ca)]/_0x12352b[_0x2bb82e(0x1ca)],_0x282182=_0x200006['height']/_0x12352b['height'],_0x2dde30=Math[_0x2bb82e(0x1f0)](_0x38ef0e,_0x282182),_0x4525f7=_0x12352b[_0x2bb82e(0x1ca)]*_0x2dde30,_0x43e4ac=_0x12352b['height']*_0x2dde30,_0x1eb2da=(_0x200006[_0x2bb82e(0x1ca)]-_0x4525f7)/0x2,_0x343221=(_0x200006[_0x2bb82e(0x1f6)]-_0x43e4ac)/0x2;_0x4329d6[_0x2bb82e(0x269)](_0x4e911e,_0x1eb2da,_0x343221,{'width':_0x4525f7,'height':_0x43e4ac}),_0x63d398!=_0x140177&&_0x4329d6['addPage']();}}const _0x2440fe=[];_0x4329d6['on']('data',_0x2440fe[_0x2bb82e(0x279)][_0x2bb82e(0x24b)](_0x2440fe)),_0x4329d6['on']('end',()=>{const _0x4e7d53=_0x2bb82e,_0x5cf472=Buffer[_0x4e7d53(0x1db)](_0x2440fe),_0x42533c=_0x5cf472['toString'](_0x4e7d53(0x1c7));_0x5f2ca5[_0x4e7d53(0x1c6)]({'pdfContent':_0x42533c});}),_0x4329d6[_0x2bb82e(0x217)]();}catch(_0x5ddb7d){_0x5f2ca5[_0x2bb82e(0x1c6)]({'message':_0x5ddb7d[_0x2bb82e(0x244)]});}}),router[a0_0x253b0f(0x1d8)](a0_0x253b0f(0x23d),auth,async(_0x10b47c,_0x333e8d)=>{const _0x55b529=a0_0x253b0f;try{console[_0x55b529(0x215)](_0x10b47c[_0x55b529(0x225)]);const {prod_cat:_0x2abd1b,identity:_0x713502,valueData:_0x2fd5da}=_0x10b47c[_0x55b529(0x225)];let _0x25c54b;switch(_0x2abd1b){case'fg':if(_0x713502==_0x55b529(0x210))_0x25c54b=await product[_0x55b529(0x26b)]([{'$match':{'product_category':_0x55b529(0x21f),'brand':_0x2fd5da}}]);else _0x713502==_0x55b529(0x205)&&(_0x25c54b=await product['aggregate']([{'$match':{'product_category':_0x55b529(0x21f),'category':_0x2fd5da}}]));break;case'rm':if(_0x713502==_0x55b529(0x210))_0x25c54b=await product[_0x55b529(0x26b)]([{'$match':{'product_category':_0x55b529(0x242),'brand':_0x2fd5da}}]);else _0x713502==_0x55b529(0x205)&&(_0x25c54b=await product['aggregate']([{'$match':{'product_category':_0x55b529(0x242),'category':_0x2fd5da}}]));break;}_0x333e8d[_0x55b529(0x1c6)]({'data':_0x25c54b});}catch(_0x4d73d6){_0x333e8d[_0x55b529(0x1c6)]({'message':_0x4d73d6[_0x55b529(0x244)]});}}),router['post'](a0_0x253b0f(0x200),auth,async(_0x322299,_0x5adf5a)=>{const _0x110059=a0_0x253b0f;try{const _0x4ca9b1=_0x322299[_0x110059(0x246)]['id'],{copies:_0xba2bdb,typeofbarcode:_0x7e69b6}=_0x322299[_0x110059(0x225)];var _0x53518d=await product[_0x110059(0x25f)](_0x4ca9b1);const _0x2c2bce=_0x2d6390=>_0x2d6390*0x48,_0x48e74d={'width':0x3,'height':0x1},_0x339e6d=new PDFDocument({'margin':_0x2c2bce(0.75),'size':[_0x2c2bce(_0x48e74d[_0x110059(0x1ca)]),_0x2c2bce(_0x48e74d[_0x110059(0x1f6)])],'bufferPages':!![]}),_0xad53b2=_0xba2bdb,_0xc81bb5=_0x53518d[_0x110059(0x240)],_0x540acd=_0x53518d['primary_code'],_0x34dcaa=_0x53518d['secondary_code'],_0x2e78c6=_0x53518d[_0x110059(0x1d6)];let _0x213471;switch(_0x7e69b6){case'1':_0x213471=_0x540acd;break;case'2':_0x213471=_0x34dcaa;break;case'3':_0x213471=_0x2e78c6;break;}const _0x5b817e={'width':0xd2,'height':0x64},_0x3c75d7={'width':_0x2c2bce(_0x48e74d['width']),'height':_0x2c2bce(_0x48e74d['height'])};for(let _0x59212a=0x1;_0x59212a<=_0xad53b2;_0x59212a++){const _0xa73b5e=new Canvas();JsBarcode(_0xa73b5e,_0x213471,{'format':_0x110059(0x212),'height':_0x5b817e[_0x110059(0x1f6)],'displayValue':!![],'text':_0x213471});const _0x10e79f=_0xa73b5e['toBuffer'](),_0x32a8db=_0x3c75d7[_0x110059(0x1ca)]/_0x5b817e['width'],_0x4c079a=_0x3c75d7['height']/_0x5b817e[_0x110059(0x1f6)],_0x129778=Math[_0x110059(0x1f0)](_0x32a8db,_0x4c079a),_0x149613=_0x5b817e['width']*_0x129778,_0x58ef14=_0x5b817e[_0x110059(0x1f6)]*_0x129778,_0x56faa3=(_0x3c75d7[_0x110059(0x1ca)]-_0x149613)/0x2,_0x29f910=(_0x3c75d7[_0x110059(0x1f6)]-_0x58ef14)/0x2;_0x339e6d[_0x110059(0x269)](_0x10e79f,_0x56faa3,_0x29f910,{'width':_0x149613,'height':_0x58ef14}),_0x59212a!=_0xad53b2&&_0x339e6d[_0x110059(0x234)]();}const _0x3b6a09=[];_0x339e6d['on'](_0x110059(0x253),_0x3b6a09[_0x110059(0x279)]['bind'](_0x3b6a09)),_0x339e6d['on'](_0x110059(0x217),()=>{const _0x491fe3=_0x110059,_0x8a4edc=Buffer[_0x491fe3(0x1db)](_0x3b6a09),_0x3f62a9=_0x8a4edc[_0x491fe3(0x26f)](_0x491fe3(0x1c7));_0x5adf5a[_0x491fe3(0x1c6)]({'pdfContent':_0x3f62a9});}),_0x339e6d[_0x110059(0x217)]();}catch(_0x5046f1){_0x5adf5a[_0x110059(0x1c6)]({'message':_0x5046f1[_0x110059(0x244)]});}}),module[a0_0x253b0f(0x214)]=router;