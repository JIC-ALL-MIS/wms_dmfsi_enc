function a0_0x251b(_0x19e57b,_0x5ba879){const _0x2b9d43=a0_0x2b9d();return a0_0x251b=function(_0x251bfa,_0x3fe1dd){_0x251bfa=_0x251bfa-0x1ed;let _0x1550ee=_0x2b9d43[_0x251bfa];return _0x1550ee;},a0_0x251b(_0x19e57b,_0x5ba879);}const a0_0x408cde=a0_0x251b;(function(_0x418c9c,_0x33a026){const _0x44593c=a0_0x251b,_0x30193e=_0x418c9c();while(!![]){try{const _0x4f0043=-parseInt(_0x44593c(0x21c))/0x1+-parseInt(_0x44593c(0x23c))/0x2+parseInt(_0x44593c(0x26f))/0x3+-parseInt(_0x44593c(0x21d))/0x4+parseInt(_0x44593c(0x240))/0x5+parseInt(_0x44593c(0x285))/0x6+-parseInt(_0x44593c(0x1ef))/0x7*(-parseInt(_0x44593c(0x24f))/0x8);if(_0x4f0043===_0x33a026)break;else _0x30193e['push'](_0x30193e['shift']());}catch(_0x411a12){_0x30193e['push'](_0x30193e['shift']());}}}(a0_0x2b9d,0x8234a));const express=require('express'),res=require(a0_0x408cde(0x22b)),app=express(),router=express['Router'](),multer=require(a0_0x408cde(0x209)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require('../models/all_models'),auth=require('../middleware/auth'),users=require(a0_0x408cde(0x1f4)),excelJS=require(a0_0x408cde(0x280)),xlsx=require(a0_0x408cde(0x262)),JsBarcode=require(a0_0x408cde(0x281)),{Canvas}=require(a0_0x408cde(0x249)),PDFDocument=require(a0_0x408cde(0x294));router[a0_0x408cde(0x211)]('/categories',auth,async(_0x7f9f73,_0x59d881)=>{const _0x4385ba=a0_0x408cde;try{const {username:_0x503399,email:_0x21a0a4,role:_0x2db1e6}=_0x7f9f73[_0x4385ba(0x20e)],_0x544dcc=_0x7f9f73[_0x4385ba(0x20e)],_0x2e0b3f=await profile[_0x4385ba(0x26c)]({'email':_0x544dcc[_0x4385ba(0x24b)]}),_0x444de6=await master_shop[_0x4385ba(0x27f)]();console[_0x4385ba(0x29c)](_0x4385ba(0x28f),_0x444de6);const _0x3ab696=await categories[_0x4385ba(0x27f)]();if(_0x444de6[0x0][_0x4385ba(0x21f)]==_0x4385ba(0x20c))var _0x41487c=users['English'];else{if(_0x444de6[0x0][_0x4385ba(0x21f)]==_0x4385ba(0x20d))var _0x41487c=users[_0x4385ba(0x20d)];else{if(_0x444de6[0x0]['language']==_0x4385ba(0x227))var _0x41487c=users[_0x4385ba(0x227)];else{if(_0x444de6[0x0][_0x4385ba(0x21f)]==_0x4385ba(0x1f6))var _0x41487c=users[_0x4385ba(0x1f6)];else{if(_0x444de6[0x0]['language']==_0x4385ba(0x20b))var _0x41487c=users[_0x4385ba(0x20b)];else{if(_0x444de6[0x0][_0x4385ba(0x21f)]==_0x4385ba(0x2a4))var _0x41487c=users[_0x4385ba(0x275)];else{if(_0x444de6[0x0][_0x4385ba(0x21f)]==_0x4385ba(0x230))var _0x41487c=users[_0x4385ba(0x230)];else{if(_0x444de6[0x0]['language']==_0x4385ba(0x259))var _0x41487c=users['Arabic'];}}}}}}}_0x59d881[_0x4385ba(0x1fe)](_0x4385ba(0x2a1),{'success':_0x7f9f73[_0x4385ba(0x282)]('success'),'errors':_0x7f9f73[_0x4385ba(0x282)](_0x4385ba(0x298)),'role':_0x544dcc,'profile':_0x2e0b3f,'user':_0x3ab696,'master_shop':_0x444de6,'language':_0x41487c});}catch(_0x143a4e){console[_0x4385ba(0x29c)](_0x143a4e);}}),router[a0_0x408cde(0x283)](a0_0x408cde(0x22a),auth,async(_0x804a4b,_0x235e65)=>{const _0x1443ed=a0_0x408cde;try{const {name:_0xea7fd5,products:_0x114712}=_0x804a4b['body'],_0x523fe0=new categories({'name':_0xea7fd5,'products':_0x114712}),_0x45b4bb=await categories[_0x1443ed(0x26c)]({'name':_0xea7fd5});_0x45b4bb?_0x804a4b['flash']('errors',_0xea7fd5+_0x1443ed(0x243)):_0x804a4b['flash'](_0x1443ed(0x279),_0xea7fd5+_0x1443ed(0x217));const _0xde97c9=await _0x523fe0[_0x1443ed(0x239)]();_0x235e65['redirect'](_0x1443ed(0x207));}catch(_0x1bcfb2){console[_0x1443ed(0x29c)](_0x1bcfb2);}}),router[a0_0x408cde(0x211)](a0_0x408cde(0x26a),auth,async(_0x530a75,_0x4701ba)=>{const _0x34453d=a0_0x408cde;try{const {username:_0x11b43e,email:_0x14f043,role:_0x572f41}=_0x530a75['user'],_0xc859d6=_0x530a75['user'],_0x4bba43=await profile[_0x34453d(0x26c)]({'email':_0xc859d6[_0x34453d(0x24b)]}),_0x3bfb8c=await master_shop['find']();console[_0x34453d(0x29c)](_0x34453d(0x28f),_0x3bfb8c);const _0x50ca1f=_0x530a75[_0x34453d(0x232)]['id'];console[_0x34453d(0x29c)](_0x50ca1f);const _0x181bfc=await categories[_0x34453d(0x277)](_0x50ca1f);if(_0x3bfb8c[0x0][_0x34453d(0x21f)]=='English\x20(US)')var _0x303aa3=users[_0x34453d(0x1ee)];else{if(_0x3bfb8c[0x0][_0x34453d(0x21f)]==_0x34453d(0x20d))var _0x303aa3=users[_0x34453d(0x20d)];else{if(_0x3bfb8c[0x0][_0x34453d(0x21f)]==_0x34453d(0x227))var _0x303aa3=users[_0x34453d(0x227)];else{if(_0x3bfb8c[0x0][_0x34453d(0x21f)]==_0x34453d(0x1f6))var _0x303aa3=users[_0x34453d(0x1f6)];else{if(_0x3bfb8c[0x0][_0x34453d(0x21f)]==_0x34453d(0x20b))var _0x303aa3=users[_0x34453d(0x20b)];else{if(_0x3bfb8c[0x0]['language']==_0x34453d(0x2a4))var _0x303aa3=users[_0x34453d(0x275)];else{if(_0x3bfb8c[0x0][_0x34453d(0x21f)]==_0x34453d(0x230))var _0x303aa3=users['Chinese'];else{if(_0x3bfb8c[0x0][_0x34453d(0x21f)]==_0x34453d(0x259))var _0x303aa3=users[_0x34453d(0x272)];}}}}}}}_0x4701ba[_0x34453d(0x1fe)](_0x34453d(0x2a1),{'success':_0x530a75['flash'](_0x34453d(0x279)),'errors':_0x530a75['flash'](_0x34453d(0x298)),'role':_0xc859d6,'profile':_0x4bba43,'master_shop':_0x3bfb8c,'user':_0x181bfc,'language':_0x303aa3});}catch(_0x2998d4){console[_0x34453d(0x29c)](_0x2998d4);}}),router[a0_0x408cde(0x283)]('/categories/:id',auth,async(_0x3cb641,_0x14d7de)=>{const _0x30dfba=a0_0x408cde;try{const _0x503c1e=_0x3cb641['params']['id'],_0x1581b5=await categories[_0x30dfba(0x257)](_0x503c1e,_0x3cb641[_0x30dfba(0x293)]);_0x3cb641['flash']('success',''+users[_0x30dfba(0x1f7)]),_0x14d7de[_0x30dfba(0x268)](_0x30dfba(0x207));}catch(_0x3f17ba){console[_0x30dfba(0x29c)](_0x3f17ba);}}),router['get'](a0_0x408cde(0x27d),auth,async(_0x478a35,_0x26c0ef)=>{const _0xe66937=a0_0x408cde;try{const _0x5b3db9=_0x478a35['params']['id'],_0x52b068=await categories[_0xe66937(0x233)](_0x5b3db9);_0x478a35[_0xe66937(0x282)](_0xe66937(0x279),_0xe66937(0x213)),_0x26c0ef[_0xe66937(0x268)]('/products/categories');}catch(_0x4f8b10){console['log'](_0x4f8b10);}}),router[a0_0x408cde(0x211)](a0_0x408cde(0x25b),auth,async(_0x1b2753,_0x44ad23)=>{const _0x48e635=a0_0x408cde;try{const {username:_0x566ad4,email:_0x1af72f,role:_0x59f6bf}=_0x1b2753['user'],_0x3f9392=_0x1b2753['user'],_0x21ecb3=await profile[_0x48e635(0x26c)]({'email':_0x3f9392[_0x48e635(0x24b)]}),_0x354bc2=await master_shop[_0x48e635(0x27f)]();console['log']('master',_0x354bc2);const _0x18c417=await brands[_0x48e635(0x27f)]();if(_0x354bc2[0x0]['language']==_0x48e635(0x20c))var _0x5311da=users['English'];else{if(_0x354bc2[0x0]['language']==_0x48e635(0x20d))var _0x5311da=users[_0x48e635(0x20d)];else{if(_0x354bc2[0x0][_0x48e635(0x21f)]==_0x48e635(0x227))var _0x5311da=users['German'];else{if(_0x354bc2[0x0]['language']=='Spanish')var _0x5311da=users[_0x48e635(0x1f6)];else{if(_0x354bc2[0x0]['language']==_0x48e635(0x20b))var _0x5311da=users[_0x48e635(0x20b)];else{if(_0x354bc2[0x0][_0x48e635(0x21f)]==_0x48e635(0x2a4))var _0x5311da=users[_0x48e635(0x275)];else{if(_0x354bc2[0x0][_0x48e635(0x21f)]==_0x48e635(0x230))var _0x5311da=users['Chinese'];else{if(_0x354bc2[0x0]['language']==_0x48e635(0x259))var _0x5311da=users[_0x48e635(0x272)];}}}}}}}_0x44ad23[_0x48e635(0x1fe)](_0x48e635(0x210),{'success':_0x1b2753['flash'](_0x48e635(0x279)),'errors':_0x1b2753['flash']('errors'),'role':_0x3f9392,'profile':_0x21ecb3,'master_shop':_0x354bc2,'user':_0x18c417,'language':_0x5311da});}catch(_0x34d891){console[_0x48e635(0x29c)](_0x34d891);}}),router[a0_0x408cde(0x283)](a0_0x408cde(0x25b),auth,async(_0x326d0c,_0xb384a1)=>{const _0x242347=a0_0x408cde;try{const {name:_0x1514f7,products:_0x418e63}=_0x326d0c[_0x242347(0x293)],_0x27aa73=new brands({'name':_0x1514f7,'products':_0x418e63}),_0x527812=await brands[_0x242347(0x26c)]({'name':_0x1514f7});_0x527812?_0x326d0c[_0x242347(0x282)](_0x242347(0x298),_0x1514f7+'\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x326d0c[_0x242347(0x282)](_0x242347(0x279),_0x1514f7+_0x242347(0x218));const _0x472686=await _0x27aa73[_0x242347(0x239)]();_0xb384a1[_0x242347(0x268)](_0x242347(0x2a7));}catch(_0x5521d7){console[_0x242347(0x29c)](_0x5521d7);}}),router[a0_0x408cde(0x211)](a0_0x408cde(0x23a),auth,async(_0x729262,_0x5cf447)=>{const _0x424d7f=a0_0x408cde;try{const {username:_0x4ace6d,email:_0x26b415,role:_0x4cb20c}=_0x729262['user'],_0x3ac9b7=_0x729262[_0x424d7f(0x20e)],_0x13ef9a=await profile[_0x424d7f(0x26c)]({'email':_0x3ac9b7[_0x424d7f(0x24b)]}),_0x3fb1ab=await master_shop[_0x424d7f(0x27f)]();console['log'](_0x424d7f(0x28f),_0x3fb1ab);const _0x1a1852=_0x729262['params']['id'];console['log'](_0x1a1852);const _0x3dc62c=await brands['findById'](_0x1a1852);if(_0x3fb1ab[0x0][_0x424d7f(0x21f)]==_0x424d7f(0x20c))var _0x201fd4=users['English'];else{if(_0x3fb1ab[0x0]['language']==_0x424d7f(0x20d))var _0x201fd4=users['Hindi'];else{if(_0x3fb1ab[0x0][_0x424d7f(0x21f)]==_0x424d7f(0x227))var _0x201fd4=users[_0x424d7f(0x227)];else{if(_0x3fb1ab[0x0][_0x424d7f(0x21f)]==_0x424d7f(0x1f6))var _0x201fd4=users['Spanish'];else{if(_0x3fb1ab[0x0][_0x424d7f(0x21f)]==_0x424d7f(0x20b))var _0x201fd4=users[_0x424d7f(0x20b)];else{if(_0x3fb1ab[0x0][_0x424d7f(0x21f)]==_0x424d7f(0x2a4))var _0x201fd4=users[_0x424d7f(0x275)];else{if(_0x3fb1ab[0x0][_0x424d7f(0x21f)]=='Chinese')var _0x201fd4=users[_0x424d7f(0x230)];else{if(_0x3fb1ab[0x0][_0x424d7f(0x21f)]=='Arabic\x20(ae)')var _0x201fd4=users[_0x424d7f(0x272)];}}}}}}}_0x5cf447[_0x424d7f(0x1fe)](_0x424d7f(0x210),{'success':_0x729262['flash']('success'),'errors':_0x729262['flash'](_0x424d7f(0x298)),'role':_0x3ac9b7,'profile':_0x13ef9a,'master_shop':_0x3fb1ab,'user':_0x3dc62c,'language':_0x201fd4});}catch(_0x596235){console['log'](_0x596235);}}),router[a0_0x408cde(0x283)](a0_0x408cde(0x23a),auth,async(_0x2ea055,_0x1ec559)=>{const _0x4a5f58=a0_0x408cde;try{const _0x54102d=_0x2ea055[_0x4a5f58(0x232)]['id'],_0x4f46e6=await brands[_0x4a5f58(0x257)](_0x54102d,_0x2ea055[_0x4a5f58(0x293)]);_0x2ea055[_0x4a5f58(0x282)](_0x4a5f58(0x279),'brand\x20data\x20update\x20successfully'),_0x1ec559[_0x4a5f58(0x268)](_0x4a5f58(0x2a7));}catch(_0x21e1cb){console[_0x4a5f58(0x29c)](_0x21e1cb);}}),router[a0_0x408cde(0x211)](a0_0x408cde(0x2a6),auth,async(_0x30109b,_0x5d9d4a)=>{const _0xce7f78=a0_0x408cde;try{const _0x31ccba=_0x30109b[_0xce7f78(0x232)]['id'],_0x529ddc=await brands[_0xce7f78(0x233)](_0x31ccba);_0x30109b[_0xce7f78(0x282)](_0xce7f78(0x279),'brand\x20data\x20delete\x20successfully'),_0x5d9d4a[_0xce7f78(0x268)](_0xce7f78(0x2a7));}catch(_0x51b6bd){console[_0xce7f78(0x29c)](_0x51b6bd);}}),router['get'](a0_0x408cde(0x234),auth,async(_0x323f9c,_0x2e1d27)=>{const _0x42ac96=a0_0x408cde;try{const {username:_0x580f00,email:_0xd121bc,role:_0x5c6ed7}=_0x323f9c[_0x42ac96(0x20e)],_0x130a35=_0x323f9c[_0x42ac96(0x20e)],_0x345848=await profile['findOne']({'email':_0x130a35[_0x42ac96(0x24b)]}),_0x4c596d=await master_shop[_0x42ac96(0x27f)]();console[_0x42ac96(0x29c)](_0x42ac96(0x28f),_0x4c596d);const _0x4d45fa=await units[_0x42ac96(0x27f)]();if(_0x4c596d[0x0][_0x42ac96(0x21f)]=='English\x20(US)')var _0x516114=users[_0x42ac96(0x1ee)];else{if(_0x4c596d[0x0]['language']=='Hindi')var _0x516114=users['Hindi'];else{if(_0x4c596d[0x0]['language']=='German')var _0x516114=users[_0x42ac96(0x227)];else{if(_0x4c596d[0x0]['language']=='Spanish')var _0x516114=users['Spanish'];else{if(_0x4c596d[0x0][_0x42ac96(0x21f)]==_0x42ac96(0x20b))var _0x516114=users[_0x42ac96(0x20b)];else{if(_0x4c596d[0x0][_0x42ac96(0x21f)]=='Portuguese\x20(BR)')var _0x516114=users[_0x42ac96(0x275)];else{if(_0x4c596d[0x0][_0x42ac96(0x21f)]==_0x42ac96(0x230))var _0x516114=users['Chinese'];else{if(_0x4c596d[0x0]['language']==_0x42ac96(0x259))var _0x516114=users['Arabic'];}}}}}}}_0x2e1d27[_0x42ac96(0x1fe)](_0x42ac96(0x296),{'success':_0x323f9c[_0x42ac96(0x282)](_0x42ac96(0x279)),'errors':_0x323f9c[_0x42ac96(0x282)]('errors'),'role':_0x130a35,'profile':_0x345848,'master_shop':_0x4c596d,'user':_0x4d45fa,'language':_0x516114});}catch(_0x329cca){console[_0x42ac96(0x29c)](_0x329cca);}}),router['post']('/units',auth,async(_0x2d8b78,_0x15b743)=>{const _0x7255c=a0_0x408cde;try{const {name:_0x57bfe3,secondary_unit:_0xbe6988,products:_0x22c0cc}=_0x2d8b78['body'],_0x49d648=new units({'name':_0x57bfe3,'secondary_unit':_0xbe6988,'products':_0x22c0cc}),_0x5d68cf=await units[_0x7255c(0x26c)]({'name':_0x57bfe3});_0x5d68cf?_0x2d8b78[_0x7255c(0x282)](_0x7255c(0x298),_0x57bfe3+_0x7255c(0x261)):_0x2d8b78[_0x7255c(0x282)]('success',_0x57bfe3+_0x7255c(0x215));const _0x21e84f=await _0x49d648[_0x7255c(0x239)]();_0x15b743[_0x7255c(0x268)]('/products/units');}catch(_0x284903){console[_0x7255c(0x29c)](_0x284903);}}),router['get'](a0_0x408cde(0x248),auth,async(_0x450f49,_0x1f56e9)=>{const _0x26d6bb=a0_0x408cde;try{const {username:_0x2fbe8d,email:_0x5c14f4,role:_0x4bd690}=_0x450f49[_0x26d6bb(0x20e)],_0xc9e99a=_0x450f49[_0x26d6bb(0x20e)],_0x42f289=await profile[_0x26d6bb(0x26c)]({'email':_0xc9e99a[_0x26d6bb(0x24b)]}),_0x4df249=await master_shop[_0x26d6bb(0x27f)]();console[_0x26d6bb(0x29c)](_0x26d6bb(0x28f),_0x4df249);const _0x461147=_0x450f49['params']['id'],_0x46ed95=await units[_0x26d6bb(0x277)](_0x461147);if(_0x4df249[0x0][_0x26d6bb(0x21f)]==_0x26d6bb(0x20c))var _0x2b4397=users[_0x26d6bb(0x1ee)];else{if(_0x4df249[0x0][_0x26d6bb(0x21f)]==_0x26d6bb(0x20d))var _0x2b4397=users[_0x26d6bb(0x20d)];else{if(_0x4df249[0x0]['language']==_0x26d6bb(0x227))var _0x2b4397=users['German'];else{if(_0x4df249[0x0][_0x26d6bb(0x21f)]=='Spanish')var _0x2b4397=users[_0x26d6bb(0x1f6)];else{if(_0x4df249[0x0][_0x26d6bb(0x21f)]==_0x26d6bb(0x20b))var _0x2b4397=users[_0x26d6bb(0x20b)];else{if(_0x4df249[0x0]['language']==_0x26d6bb(0x2a4))var _0x2b4397=users['Portuguese'];else{if(_0x4df249[0x0][_0x26d6bb(0x21f)]==_0x26d6bb(0x230))var _0x2b4397=users['Chinese'];else{if(_0x4df249[0x0][_0x26d6bb(0x21f)]==_0x26d6bb(0x259))var _0x2b4397=users[_0x26d6bb(0x272)];}}}}}}}_0x1f56e9[_0x26d6bb(0x1fe)](_0x26d6bb(0x296),{'success':_0x450f49[_0x26d6bb(0x282)]('success'),'errors':_0x450f49[_0x26d6bb(0x282)](_0x26d6bb(0x298)),'role':_0xc9e99a,'profile':_0x42f289,'master_shop':_0x4df249,'user':_0x46ed95,'language':_0x2b4397});}catch(_0xd85f29){console[_0x26d6bb(0x29c)](_0xd85f29);}}),router[a0_0x408cde(0x283)]('/units/:id',auth,async(_0x1d93a4,_0x31010c)=>{const _0x32f1fb=a0_0x408cde;try{const _0x4ed62b=_0x1d93a4['params']['id'],_0x36f158=await units[_0x32f1fb(0x257)](_0x4ed62b,_0x1d93a4[_0x32f1fb(0x293)]);_0x1d93a4[_0x32f1fb(0x282)]('success',_0x32f1fb(0x225)),_0x31010c[_0x32f1fb(0x268)](_0x32f1fb(0x284));}catch(_0x57d09e){console['log'](_0x57d09e);}}),router[a0_0x408cde(0x211)]('/units/delete/:id',auth,async(_0x2b6a5a,_0x5504e0)=>{const _0x36399b=a0_0x408cde;try{const _0x334418=_0x2b6a5a[_0x36399b(0x232)]['id'],_0x13f1c4=await units[_0x36399b(0x233)](_0x334418);_0x2b6a5a[_0x36399b(0x282)](_0x36399b(0x279),_0x36399b(0x21b)),_0x5504e0[_0x36399b(0x268)](_0x36399b(0x284));}catch(_0x1b6e28){console[_0x36399b(0x29c)](_0x1b6e28);}});const storage=multer[a0_0x408cde(0x222)]({'destination':(_0x56d17d,_0x34d7dd,_0x4897fa)=>{const _0x5a6de3=a0_0x408cde;_0x4897fa(null,_0x5a6de3(0x265));},'filename':(_0x580300,_0xbdc52a,_0x4a3dd0)=>{const _0x3dee88=a0_0x408cde;_0x4a3dd0(null,Date[_0x3dee88(0x231)]()+_0xbdc52a[_0x3dee88(0x29b)]);}}),upload=multer({'storage':storage});function a0_0x2b9d(){const _0x1796b4=['Chinese','now','params','findByIdAndDelete','/units','ProductCode','prod_categ','product_category','setHeader','save','/brands/:id','push','1032640jkKAjN','$category','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','barcode\x20Product\x20master','3391920bZUDdN','max_number_per_units','/view/add_products','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','/barcode/:id','data','single','attachment;\x20filename=Product_Migration_File.xlsx','/units/:id','canvas','\x20Edit\x20Successfully','email','name','_id','Products\x20master','584FocAIy','/barcode_filter','stock','secondary_unit','maxProdPerUnit','Workbook','/view/:id','width','findByIdAndUpdate','products','Arabic\x20(ae)','/print_barcode','/brands','$product_category','product_barcode','bind','Products\x20find_data','product_code','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','xlsx','Products_category','\x20added\x20successfully','public/upload','$product_details.product_stock','Secondary_Code','redirect','$product_stock','/categories/:id','sku','findOne','addWorksheet','unit','946128xrgMfr','PBrands','maxStocks','Arabic','$brand','\x20<>\x20','Portuguese','barcode\x20user_id','findById','exports','success','Enabled','addPage','base64','/categories/delete/:id','Product_Name','find','exceljs','jsbarcode','flash','post','/products/units','3637404ILQHcZ','PUnits','category','status','/barcode_data','categ','aggregate','alertquantity','migrate_product_fule','message','master','PName','warehouse','utils','body','pdfkit-table','CODE128','units','/products/view','errors','primary_code','$secondary_unit','originalname','log','json','Secondary_Units','secondary_code','$product_docs','categories','edit_product','PAlQty','Portuguese\x20(BR)','Raw\x20Materials','/brands/delete/:id','/products/brands','defaultProduct.avif','English','40061OzpqtQ','map','PCat','PSecondaryUnits','Primary_Code','../public/language/languages.json','numeric','Spanish','categories_edit','brand','image','end','Units','file','$_id','render','Category','filename','/print_barcode_filter_search/','edit\x20Product\x20master','product_barcode_products','write','product\x20edit','SheetNames','/products/categories','columns','multer','then','French','English\x20(US)','Hindi','user','Brands','brands','get','/select_data','categories\x20data\x20delete\x20successfully','toBuffer','\x20unit\x20is\x20add\x20successfully','Content-Disposition','\x20categories\x20is\x20add\x20successfully','\x20brand\x20is\x20add\x20successfully','product\x20update\x20successfully','concat','unit\x20data\x20delete\x20successfully','514265mVWPLd','1815464AgSkon','product_stock','language','Alert_QTY','Prod_Cat','diskStorage','toString','Finished\x20Goods','unit\x20data\x20update\x20successfully','Product_Code','German','height','length','/categories','express/lib/response','product_details.product_name','hello','/products_import_migrate_file','add_product'];a0_0x2b9d=function(){return _0x1796b4;};return a0_0x2b9d();}router[a0_0x408cde(0x211)]('/view',auth,async(_0x59d7bc,_0x1fb9b7)=>{const _0x4e0113=a0_0x408cde;try{const {username:_0x15b40c,email:_0x592438,role:_0x1d0e8c}=_0x59d7bc['user'],_0x572c47=_0x59d7bc[_0x4e0113(0x20e)],_0x7a540e=await profile['findOne']({'email':_0x572c47[_0x4e0113(0x24b)]}),_0x3b0527={'year':_0x4e0113(0x1f5),'month':'long','day':_0x4e0113(0x1f5)},_0x3e9c2d=await master_shop['find']();console['log'](_0x4e0113(0x24e),_0x3e9c2d);const _0x478be0=await product['find']();console[_0x4e0113(0x29c)](_0x4e0113(0x25f),_0x478be0);const _0x2720e8=await warehouse[_0x4e0113(0x28b)]([{'$unwind':'$product_details'},{'$lookup':{'from':_0x4e0113(0x258),'localField':_0x4e0113(0x22c),'foreignField':'name','as':'product_docs'}},{'$unwind':_0x4e0113(0x2a0)},{'$project':{'product_name':'$product_details.product_name','product_stock':_0x4e0113(0x266)}},{'$group':{'_id':'$product_name','product_stock':{'$sum':_0x4e0113(0x269)}}}]);console[_0x4e0113(0x29c)]('Products\x20warehouse_data',_0x2720e8),_0x2720e8['forEach'](_0x2c3f4b=>{const _0x357bfa=_0x4e0113,_0x23a82a=_0x478be0[_0x357bfa(0x1f0)](_0x1559e0=>{const _0x54f945=_0x357bfa;_0x1559e0['name']==_0x2c3f4b[_0x54f945(0x24d)]&&(_0x1559e0[_0x54f945(0x251)]=parseInt(_0x1559e0[_0x54f945(0x251)])+parseInt(_0x2c3f4b[_0x54f945(0x21e)]));});}),console[_0x4e0113(0x29c)](_0x4e0113(0x25f),_0x478be0);if(_0x3e9c2d[0x0][_0x4e0113(0x21f)]==_0x4e0113(0x20c))var _0x12fa8a=users[_0x4e0113(0x1ee)];else{if(_0x3e9c2d[0x0][_0x4e0113(0x21f)]=='Hindi')var _0x12fa8a=users['Hindi'];else{if(_0x3e9c2d[0x0][_0x4e0113(0x21f)]==_0x4e0113(0x227))var _0x12fa8a=users['German'];else{if(_0x3e9c2d[0x0]['language']==_0x4e0113(0x1f6))var _0x12fa8a=users[_0x4e0113(0x1f6)];else{if(_0x3e9c2d[0x0][_0x4e0113(0x21f)]=='French')var _0x12fa8a=users[_0x4e0113(0x20b)];else{if(_0x3e9c2d[0x0][_0x4e0113(0x21f)]==_0x4e0113(0x2a4))var _0x12fa8a=users[_0x4e0113(0x275)];else{if(_0x3e9c2d[0x0][_0x4e0113(0x21f)]==_0x4e0113(0x230))var _0x12fa8a=users['Chinese'];else{if(_0x3e9c2d[0x0][_0x4e0113(0x21f)]=='Arabic\x20(ae)')var _0x12fa8a=users[_0x4e0113(0x272)];}}}}}}}_0x1fb9b7[_0x4e0113(0x1fe)]('products',{'success':_0x59d7bc[_0x4e0113(0x282)]('success'),'errors':_0x59d7bc['flash'](_0x4e0113(0x298)),'alldata':_0x478be0,'profile':_0x7a540e,'master_shop':_0x3e9c2d,'role':_0x572c47,'product_stock':_0x2720e8,'language':_0x12fa8a});}catch(_0x4221fe){console[_0x4e0113(0x29c)](_0x4221fe);}}),router[a0_0x408cde(0x211)](a0_0x408cde(0x242),auth,async(_0x386086,_0x394469)=>{const _0x595bc2=a0_0x408cde;try{const {username:_0x442317,email:_0x2b5767,role:_0x265f37}=_0x386086[_0x595bc2(0x20e)],_0x19c35b=_0x386086[_0x595bc2(0x20e)],_0x581e66=await profile['findOne']({'email':_0x19c35b[_0x595bc2(0x24b)]}),_0x458dea=await master_shop[_0x595bc2(0x27f)]();console[_0x595bc2(0x29c)]('master',_0x458dea);const _0x5d1625=await categories['find']({}),_0x374b5b=await brands[_0x595bc2(0x27f)]({}),_0x2a1358=await units['find']({}),_0x1e6714=await warehouse[_0x595bc2(0x27f)]({'status':'Enabled'});if(_0x458dea[0x0][_0x595bc2(0x21f)]==_0x595bc2(0x20c))var _0x84323=users['English'];else{if(_0x458dea[0x0]['language']==_0x595bc2(0x20d))var _0x84323=users[_0x595bc2(0x20d)];else{if(_0x458dea[0x0]['language']==_0x595bc2(0x227))var _0x84323=users['German'];else{if(_0x458dea[0x0]['language']==_0x595bc2(0x1f6))var _0x84323=users['Spanish'];else{if(_0x458dea[0x0]['language']=='French')var _0x84323=users[_0x595bc2(0x20b)];else{if(_0x458dea[0x0][_0x595bc2(0x21f)]==_0x595bc2(0x2a4))var _0x84323=users[_0x595bc2(0x275)];else{if(_0x458dea[0x0]['language']==_0x595bc2(0x230))var _0x84323=users[_0x595bc2(0x230)];else{if(_0x458dea[0x0]['language']=='Arabic\x20(ae)')var _0x84323=users[_0x595bc2(0x272)];}}}}}}}_0x394469['render'](_0x595bc2(0x22f),{'success':_0x386086[_0x595bc2(0x282)](_0x595bc2(0x279)),'errors':_0x386086['flash']('errors'),'role':_0x19c35b,'profile':_0x581e66,'categories':_0x5d1625,'brands':_0x374b5b,'master_shop':_0x458dea,'units':_0x2a1358,'language':_0x84323,'find_data':_0x1e6714});}catch(_0x27ab54){console['log'](_0x27ab54);}}),router['post'](a0_0x408cde(0x242),auth,upload[a0_0x408cde(0x246)](a0_0x408cde(0x1f9)),async(_0x42427f,_0x2a24bf)=>{const _0x21b809=a0_0x408cde;try{const {name:_0xee26ea,category:_0x554d73,brand:_0x2c05c5,unit:_0x40cb5d,alertquantity:_0x10c8b0,stock:_0x3c78cf,product_code:_0x16357b,warehouse:_0x31901c,primary_ItemCode:_0x164d60,second_ItemCode:_0x184e2a,second_unit:_0x119fc7,maxPerUnit:_0x491638,MaxPerProduct:_0x5e08eb}=_0x42427f[_0x21b809(0x293)],_0x52ce31=_0x42427f[_0x21b809(0x1fc)]?.[_0x21b809(0x200)]||_0x21b809(0x1ed),_0x50b6b3=new product({'image':_0x52ce31,'name':_0xee26ea,'category':_0x554d73,'brand':_0x2c05c5,'unit':_0x40cb5d,'alertquantity':_0x10c8b0,'stock':_0x3c78cf,'product_code':_0x16357b,'warehouse':_0x31901c,'primary_code':_0x164d60,'secondary_code':_0x184e2a,'second_unit':_0x119fc7,'maxStocks':_0x5e08eb,'maxProdPerUnit':_0x491638}),_0x377675=await _0x50b6b3[_0x21b809(0x239)](),_0x127147=await categories[_0x21b809(0x26c)]({'name':_0x554d73});_0x127147[_0x21b809(0x258)]=parseInt(_0x127147[_0x21b809(0x258)])+0x1,await _0x127147[_0x21b809(0x239)]();const _0x1981f6=await brands[_0x21b809(0x26c)]({'name':_0x2c05c5});_0x1981f6[_0x21b809(0x258)]=parseInt(_0x1981f6['products'])+0x1,await _0x1981f6[_0x21b809(0x239)]();const _0x562ff2=await units[_0x21b809(0x26c)]({'name':_0x40cb5d});_0x562ff2['products']=parseInt(_0x562ff2['products'])+0x1,await _0x562ff2[_0x21b809(0x239)](),_0x42427f[_0x21b809(0x282)]('success','product\x20add\x20successfully'),_0x2a24bf['redirect'](_0x21b809(0x297));}catch(_0x91501c){console[_0x21b809(0x29c)](_0x91501c);}}),router[a0_0x408cde(0x211)](a0_0x408cde(0x255),auth,async(_0x1856c9,_0x35fb58)=>{const _0x5d20e8=a0_0x408cde;try{const {username:_0x51e02a,email:_0x223419,role:_0xf56b9b}=_0x1856c9[_0x5d20e8(0x20e)],_0x11b3c7=_0x1856c9[_0x5d20e8(0x20e)],_0x2dd398=await profile[_0x5d20e8(0x26c)]({'email':_0x11b3c7[_0x5d20e8(0x24b)]}),_0x3b15ca=await master_shop['find']();console['log'](_0x5d20e8(0x202),_0x3b15ca);const _0x7a12cb=_0x1856c9[_0x5d20e8(0x232)]['id'],_0x5c306d=await product[_0x5d20e8(0x277)](_0x7a12cb),_0x3ae0cd=await categories[_0x5d20e8(0x27f)]({}),_0x13d0c3=await brands[_0x5d20e8(0x27f)]({}),_0x473240=await units[_0x5d20e8(0x27f)]({}),_0x2dc6a5=await warehouse[_0x5d20e8(0x27f)]({'status':_0x5d20e8(0x27a)}),_0x294bc9=await units[_0x5d20e8(0x28b)]([{'$group':{'_id':_0x5d20e8(0x1fd),'secondaryunit':{'$first':_0x5d20e8(0x29a)}}}]);if(_0x3b15ca[0x0][_0x5d20e8(0x21f)]==_0x5d20e8(0x20c))var _0x5184a4=users[_0x5d20e8(0x1ee)];else{if(_0x3b15ca[0x0][_0x5d20e8(0x21f)]=='Hindi')var _0x5184a4=users[_0x5d20e8(0x20d)];else{if(_0x3b15ca[0x0][_0x5d20e8(0x21f)]==_0x5d20e8(0x227))var _0x5184a4=users[_0x5d20e8(0x227)];else{if(_0x3b15ca[0x0]['language']=='Spanish')var _0x5184a4=users['Spanish'];else{if(_0x3b15ca[0x0][_0x5d20e8(0x21f)]==_0x5d20e8(0x20b))var _0x5184a4=users[_0x5d20e8(0x20b)];else{if(_0x3b15ca[0x0][_0x5d20e8(0x21f)]==_0x5d20e8(0x2a4))var _0x5184a4=users[_0x5d20e8(0x275)];else{if(_0x3b15ca[0x0][_0x5d20e8(0x21f)]=='Chinese')var _0x5184a4=users[_0x5d20e8(0x230)];else{if(_0x3b15ca[0x0][_0x5d20e8(0x21f)]=='Arabic\x20(ae)')var _0x5184a4=users[_0x5d20e8(0x272)];}}}}}}}_0x35fb58[_0x5d20e8(0x1fe)](_0x5d20e8(0x2a2),{'success':_0x1856c9['flash'](_0x5d20e8(0x279)),'errors':_0x1856c9[_0x5d20e8(0x282)]('errors'),'role':_0x11b3c7,'profile':_0x2dd398,'alldata':_0x5c306d,'categories':_0x3ae0cd,'brands':_0x13d0c3,'master_shop':_0x3b15ca,'units':_0x473240,'secondunit':_0x294bc9,'find_data':_0x2dc6a5,'language':_0x5184a4});}catch(_0x592f81){console['log'](_0x592f81);}}),router[a0_0x408cde(0x283)]('/view/:id',auth,upload[a0_0x408cde(0x246)](a0_0x408cde(0x1f9)),async(_0xe0b431,_0x3b2506)=>{const _0x26b216=a0_0x408cde;try{console[_0x26b216(0x29c)](_0x26b216(0x22d));const _0x3a52bb=_0xe0b431[_0x26b216(0x232)]['id'],_0x49071b=await product[_0x26b216(0x277)](_0x3a52bb),{image:_0xd6e280,name:_0x1f913e,category:_0x2dc24a,brand:_0x398086,sku:_0x5b2f52,unit:_0x5ec678,alertquantity:_0x465b04,product_code:_0x271f20,warehouse:_0x348130,primary_ItemCode:_0x10709b,second_ItemCode:_0x281803,second_unit:_0x5b70f0,maxPerUnit:_0x46b04e,MaxPerProduct:_0xf8a50f,prod_catdata:_0x3a37a7}=_0xe0b431[_0x26b216(0x293)];_0xe0b431['file']&&(_0x49071b[_0x26b216(0x1f9)]=_0xe0b431['file']['filename']);_0x49071b[_0x26b216(0x24c)]=_0x1f913e,_0x49071b[_0x26b216(0x287)]=_0x2dc24a,_0x49071b[_0x26b216(0x1f8)]=_0x398086,_0x49071b[_0x26b216(0x26b)]=_0x5b2f52,_0x49071b['unit']=_0x5ec678,_0x49071b[_0x26b216(0x28c)]=_0x465b04,_0x49071b[_0x26b216(0x260)]=_0x271f20,_0x49071b[_0x26b216(0x291)]=_0x348130,_0x49071b[_0x26b216(0x299)]=_0x10709b,_0x49071b[_0x26b216(0x29f)]=_0x281803,_0x49071b[_0x26b216(0x252)]=_0x5b70f0,_0x49071b[_0x26b216(0x271)]=_0xf8a50f,_0x49071b[_0x26b216(0x253)]=_0x46b04e,_0x49071b[_0x26b216(0x237)]=_0x3a37a7;const _0x2e6acb=await _0x49071b['save']();console['log'](_0x26b216(0x205),_0x49071b),_0xe0b431[_0x26b216(0x282)](_0x26b216(0x279),_0x26b216(0x219)),_0x3b2506[_0x26b216(0x268)](_0x26b216(0x297));}catch(_0x1df385){console[_0x26b216(0x29c)](_0x1df385);}}),router['get'](a0_0x408cde(0x244),auth,async(_0x572214,_0x29ab59)=>{const _0x312b27=a0_0x408cde;try{const {username:_0x491cbd,email:_0x2a8fed,role:_0xdecef1}=_0x572214[_0x312b27(0x20e)],_0x1ce9e9=_0x572214[_0x312b27(0x20e)],_0x1ab243=await profile['findOne']({'email':_0x1ce9e9[_0x312b27(0x24b)]}),_0x60729c=await master_shop[_0x312b27(0x27f)]();console['log'](_0x312b27(0x23f),_0x60729c);const _0x980bf6=_0x572214[_0x312b27(0x232)]['id'],_0x253648=await product[_0x312b27(0x277)](_0x980bf6);console[_0x312b27(0x29c)](_0x312b27(0x276),_0x253648);if(_0x60729c[0x0][_0x312b27(0x21f)]==_0x312b27(0x20c))var _0x324003=users[_0x312b27(0x1ee)];else{if(_0x60729c[0x0][_0x312b27(0x21f)]==_0x312b27(0x20d))var _0x324003=users[_0x312b27(0x20d)];else{if(_0x60729c[0x0]['language']==_0x312b27(0x227))var _0x324003=users[_0x312b27(0x227)];else{if(_0x60729c[0x0][_0x312b27(0x21f)]==_0x312b27(0x1f6))var _0x324003=users['Spanish'];else{if(_0x60729c[0x0][_0x312b27(0x21f)]==_0x312b27(0x20b))var _0x324003=users[_0x312b27(0x20b)];else{if(_0x60729c[0x0][_0x312b27(0x21f)]==_0x312b27(0x2a4))var _0x324003=users[_0x312b27(0x275)];else{if(_0x60729c[0x0][_0x312b27(0x21f)]==_0x312b27(0x230))var _0x324003=users['Chinese'];else{if(_0x60729c[0x0][_0x312b27(0x21f)]=='Arabic\x20(ae)')var _0x324003=users[_0x312b27(0x272)];}}}}}}}_0x29ab59[_0x312b27(0x1fe)](_0x312b27(0x25d),{'success':_0x572214[_0x312b27(0x282)](_0x312b27(0x279)),'errors':_0x572214[_0x312b27(0x282)](_0x312b27(0x298)),'role':_0x1ce9e9,'profile':_0x1ab243,'alldata':_0x253648,'master_shop':_0x60729c,'language':_0x324003});}catch(_0x2a7120){console[_0x312b27(0x29c)](_0x2a7120);}}),router['get']('/products_export_migrate_file',auth,async(_0x38259e,_0x5493e9)=>{const _0x19eed0=a0_0x408cde;try{const _0x3df0a0=new excelJS[(_0x19eed0(0x254))](),_0x6f286a=_0x3df0a0[_0x19eed0(0x26d)]('Products');return _0x6f286a[_0x19eed0(0x208)]=[{'header':'Product_Name','key':_0x19eed0(0x290),'width':0xa},{'header':'Brands','key':_0x19eed0(0x270),'width':0xa},{'header':_0x19eed0(0x1fb),'key':_0x19eed0(0x286),'width':0xa},{'header':'Secondary_Units','key':_0x19eed0(0x1f2),'width':0xa},{'header':_0x19eed0(0x241),'key':'MaxperUnits','width':0xa},{'header':_0x19eed0(0x1f3),'key':_0x19eed0(0x235),'width':0xa},{'header':'Secondary_Code','key':'ProductCode','width':0xa},{'header':'Product_Code','key':_0x19eed0(0x235),'width':0xa},{'header':_0x19eed0(0x1ff),'key':_0x19eed0(0x1f1),'width':0xa},{'header':_0x19eed0(0x220),'key':_0x19eed0(0x2a3),'width':0xa},{'header':'Maximum_Stocks','key':_0x19eed0(0x2a3),'width':0xa},{'header':_0x19eed0(0x263),'key':_0x19eed0(0x221),'width':0xa}],_0x5493e9[_0x19eed0(0x238)]('Content-Type',_0x19eed0(0x23e)),_0x5493e9[_0x19eed0(0x238)](_0x19eed0(0x216),_0x19eed0(0x247)),_0x3df0a0['xlsx'][_0x19eed0(0x204)](_0x5493e9)[_0x19eed0(0x20a)](()=>{const _0x4ad15c=_0x19eed0;_0x5493e9[_0x4ad15c(0x288)](0xc8);});}catch(_0x532204){_0x5493e9[_0x19eed0(0x288)](0x190)['send'](_0x532204);}});const storage1=multer[a0_0x408cde(0x222)]({'destination':(_0x63c6d8,_0x2ae4df,_0xe4c45e)=>{_0xe4c45e(null,'public/Migration');},'filename':(_0x5511e6,_0x384f5e,_0x1feb6a)=>{const _0x313a4a=a0_0x408cde;_0x1feb6a(null,Date[_0x313a4a(0x231)]()+_0x384f5e[_0x313a4a(0x29b)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x408cde(0x283)](a0_0x408cde(0x22e),auth,uploadMigrate[a0_0x408cde(0x246)](a0_0x408cde(0x28d)),async(_0x52b23b,_0x4a3871)=>{const _0xe6e19d=a0_0x408cde,_0x4e8792=_0x52b23b[_0xe6e19d(0x1fc)]['filename'],_0x5a9fbb=await xlsx['readFile']('public/Migration/'+_0x4e8792);let _0xe72136=_0x5a9fbb[_0xe6e19d(0x206)],_0x1b59e5=xlsx[_0xe6e19d(0x292)]['sheet_to_json'](_0x5a9fbb['Sheets'][_0xe72136[0x0]]);for(const _0x5efcc5 of _0x1b59e5){const _0x45ab25=_0x5efcc5[_0xe6e19d(0x27e)],_0x348670=_0x5efcc5[_0xe6e19d(0x20f)],_0x4bbad4=_0x5efcc5[_0xe6e19d(0x1fb)],_0xe56987=_0x5efcc5[_0xe6e19d(0x29e)],_0x2f37f9=_0x5efcc5[_0xe6e19d(0x226)],_0x192686=_0x5efcc5['Category'],_0x566ca7=_0x5efcc5['Alert_QTY'],_0x4c6fed=_0x5efcc5[_0xe6e19d(0x1f3)],_0x8b0be6=_0x5efcc5[_0xe6e19d(0x267)],_0x4ef3e0=_0x5efcc5['Maximum_Stocks'],_0x2e65a5=_0x5efcc5[_0xe6e19d(0x241)],_0x564bcd=_0x5efcc5[_0xe6e19d(0x263)];try{let _0x59b200=await categories[_0xe6e19d(0x26c)]({'name':_0x192686});if(!_0x59b200){const _0x309652=new categories({'name':_0x192686,'products':'0'});_0x59b200=await _0x309652[_0xe6e19d(0x239)]();}let _0x343a20=await brands['findOne']({'name':_0x348670});if(!_0x343a20){const _0x5d5c82=new brands({'name':_0x348670,'products':'0'});_0x343a20=await _0x5d5c82[_0xe6e19d(0x239)]();}let _0x1b8f25=await units[_0xe6e19d(0x26c)]({'name':_0x4bbad4,'secondary_unit':_0xe56987});if(!_0x1b8f25){const _0x2095a1=new units({'name':_0x4bbad4,'secondary_unit':_0xe56987,'products':'0'});_0x1b8f25=await _0x2095a1['save']();}const _0xae4b44=await product[_0xe6e19d(0x27f)]({'name':_0x45ab25,'category':_0x59b200[_0xe6e19d(0x24c)],'brand':_0x343a20[_0xe6e19d(0x24c)],'secondary_unit':_0x1b8f25[_0xe6e19d(0x252)],'product_code':_0x2f37f9});console[_0xe6e19d(0x29c)](_0xae4b44[_0xe6e19d(0x229)]+_0xe6e19d(0x274)+_0x59b200[_0xe6e19d(0x24c)]+_0xe6e19d(0x274)+_0x343a20[_0xe6e19d(0x24c)]+_0xe6e19d(0x274)+_0x1b8f25['secondary_unit']+_0xe6e19d(0x274)+_0x2f37f9+_0xe6e19d(0x274)+_0x45ab25);if(_0xae4b44[_0xe6e19d(0x229)]===0x0){const _0x439a9b=new product({'image':_0xe6e19d(0x1ed),'name':_0x45ab25,'category':_0x59b200[_0xe6e19d(0x24c)],'brand':_0x343a20[_0xe6e19d(0x24c)],'unit':_0x1b8f25[_0xe6e19d(0x24c)],'alertquantity':_0x566ca7,'product_code':_0x2f37f9,'secondary_unit':_0x1b8f25[_0xe6e19d(0x252)],'primary_code':_0x4c6fed,'secondary_code':_0x8b0be6,'maxStocks':_0x4ef3e0,'maxProdPerUnit':_0x2e65a5,'product_category':_0x564bcd}),_0x1ba4c4=await _0x439a9b[_0xe6e19d(0x239)]();_0x59b200[_0xe6e19d(0x258)]=parseInt(_0x59b200[_0xe6e19d(0x258)])+0x1,await _0x59b200[_0xe6e19d(0x239)](),_0x343a20[_0xe6e19d(0x258)]=parseInt(_0x343a20[_0xe6e19d(0x258)])+0x1,await _0x343a20['save'](),_0x1b8f25['products']=parseInt(_0x1b8f25[_0xe6e19d(0x258)])+0x1,await _0x1b8f25[_0xe6e19d(0x239)](),_0x52b23b[_0xe6e19d(0x282)]('success',_0x45ab25+_0xe6e19d(0x264));}else{console[_0xe6e19d(0x29c)](_0xae4b44[0x0]);const _0xcdb2bb=_0xae4b44[0x0];_0xcdb2bb[_0xe6e19d(0x287)]=_0x59b200[_0xe6e19d(0x24c)],_0xcdb2bb[_0xe6e19d(0x1f8)]=_0x343a20['name'],_0xcdb2bb[_0xe6e19d(0x26e)]=_0x1b8f25[_0xe6e19d(0x24c)],_0xcdb2bb['alertquantity']=_0x566ca7,_0xcdb2bb[_0xe6e19d(0x260)]=_0x2f37f9,_0xcdb2bb[_0xe6e19d(0x252)]=_0x1b8f25[_0xe6e19d(0x252)],_0xcdb2bb[_0xe6e19d(0x299)]=_0x4c6fed,_0xcdb2bb[_0xe6e19d(0x29f)]=_0x8b0be6,_0xcdb2bb[_0xe6e19d(0x271)]=_0x4ef3e0,_0xcdb2bb[_0xe6e19d(0x253)]=_0x2e65a5,_0xcdb2bb['product_category']=_0x564bcd;const _0x557b23=await _0xcdb2bb[_0xe6e19d(0x239)]();_0x52b23b[_0xe6e19d(0x282)](_0xe6e19d(0x279),_0x557b23[_0xe6e19d(0x24c)]+_0xe6e19d(0x24a));}}catch(_0x5355c0){_0x4a3871['status'](0x1f4)['json']({'proderror':_0x5355c0['message'],'aproduct':_0x45ab25});}}_0x4a3871[_0xe6e19d(0x268)](_0xe6e19d(0x297));}),router['post'](a0_0x408cde(0x212),auth,async(_0x371179,_0xd472bb)=>{const _0x25005e=a0_0x408cde;try{console[_0x25005e(0x29c)](_0x371179[_0x25005e(0x293)]);const {data_cateory:_0x124c96,datachoose:_0x389af1}=_0x371179['body'];var _0x4aade1;if(_0x389af1==_0x25005e(0x236))_0x4aade1=await product['aggregate']([{'$group':{'_id':_0x25005e(0x25c)}}]);else{if(_0x389af1==_0x25005e(0x210))_0x4aade1=await product['aggregate']([{'$match':{'product_category':_0x124c96}},{'$group':{'_id':_0x25005e(0x273)}}]);else _0x389af1==_0x25005e(0x28a)&&(_0x4aade1=await product[_0x25005e(0x28b)]([{'$match':{'product_category':_0x124c96}},{'$group':{'_id':_0x25005e(0x23d)}}]));}_0xd472bb[_0x25005e(0x29d)](_0x4aade1);}catch(_0x4a38aa){_0xd472bb[_0x25005e(0x29d)]({'message':_0x4a38aa[_0x25005e(0x28e)]});}}),router[a0_0x408cde(0x283)]('/filter_product',auth,async(_0x2f97a3,_0x4cd9e)=>{const _0x521e78=a0_0x408cde;try{const {data_choosing:_0x46e25d,data_selected:_0xe2f6e6}=_0x2f97a3[_0x521e78(0x293)];var _0x5c0b0f;if(_0x46e25d=='prod_categ')_0x5c0b0f=await product[_0x521e78(0x28b)]([{'$match':{'product_category':_0xe2f6e6}}]);else{if(_0x46e25d=='brands')_0x5c0b0f=await product[_0x521e78(0x28b)]([{'$match':{'brand':_0xe2f6e6}}]);else _0x46e25d==_0x521e78(0x28a)&&(_0x5c0b0f=await product[_0x521e78(0x28b)]([{'$match':{'category':_0xe2f6e6}}]));}_0x4cd9e[_0x521e78(0x29d)](_0x5c0b0f);}catch(_0x22859b){_0x4cd9e['json']({'message':_0x22859b[_0x521e78(0x28e)]});}}),router[a0_0x408cde(0x211)](a0_0x408cde(0x25a),auth,async(_0x62a08a,_0x5ec0d9)=>{const _0x531bf3=a0_0x408cde,_0xd9af65=_0x62a08a[_0x531bf3(0x20e)],_0x5e14d1=await profile[_0x531bf3(0x26c)]({'email':_0xd9af65[_0x531bf3(0x24b)]}),_0x452dc7=await master_shop[_0x531bf3(0x27f)](),_0x27de5c=await product['find']();if(_0x452dc7[0x0][_0x531bf3(0x21f)]==_0x531bf3(0x20c))var _0x490057=users[_0x531bf3(0x1ee)];else{if(_0x452dc7[0x0]['language']==_0x531bf3(0x20d))var _0x490057=users[_0x531bf3(0x20d)];else{if(_0x452dc7[0x0][_0x531bf3(0x21f)]==_0x531bf3(0x227))var _0x490057=users[_0x531bf3(0x227)];else{if(_0x452dc7[0x0][_0x531bf3(0x21f)]==_0x531bf3(0x1f6))var _0x490057=users[_0x531bf3(0x1f6)];else{if(_0x452dc7[0x0][_0x531bf3(0x21f)]==_0x531bf3(0x20b))var _0x490057=users['French'];else{if(_0x452dc7[0x0][_0x531bf3(0x21f)]==_0x531bf3(0x2a4))var _0x490057=users[_0x531bf3(0x275)];else{if(_0x452dc7[0x0]['language']==_0x531bf3(0x230))var _0x490057=users['Chinese'];else{if(_0x452dc7[0x0]['language']=='Arabic\x20(ae)')var _0x490057=users['Arabic'];}}}}}}}_0x5ec0d9[_0x531bf3(0x1fe)](_0x531bf3(0x203),{'success':_0x62a08a[_0x531bf3(0x282)](_0x531bf3(0x279)),'errors':_0x62a08a[_0x531bf3(0x282)]('errors'),'role':_0xd9af65,'profile':_0x5e14d1,'products':_0x27de5c,'master_shop':_0x452dc7,'language':_0x490057});}),router[a0_0x408cde(0x283)](a0_0x408cde(0x289),auth,async(_0x11b9cd,_0x21c0cb)=>{const _0x2a31f9=a0_0x408cde,_0x2954cc=await product[_0x2a31f9(0x27f)]();_0x21c0cb[_0x2a31f9(0x29d)]({'data':_0x2954cc});}),router[a0_0x408cde(0x283)](a0_0x408cde(0x250),auth,async(_0x953dab,_0x1f94bd)=>{const _0xf83558=a0_0x408cde;try{const {dataProdCat:_0x53c9d2,dataProdIdentity:_0x3b71d3}=_0x953dab[_0xf83558(0x293)];var _0x50e808;switch(_0x53c9d2){case'fg':switch(_0x3b71d3){case _0xf83558(0x20f):_0x50e808=await product['aggregate']([{'$match':{'product_category':'Finished\x20Goods'}},{'$group':{'_id':'$brand'}},{'$project':{'brand':_0xf83558(0x1fd)}}]);break;case'Category':_0x50e808=await product[_0xf83558(0x28b)]([{'$match':{'product_category':_0xf83558(0x224)}},{'$group':{'_id':_0xf83558(0x23d)}},{'$project':{'category':_0xf83558(0x1fd)}}]);break;}break;case'rm':switch(_0x3b71d3){case _0xf83558(0x20f):_0x50e808=await product[_0xf83558(0x28b)]([{'$match':{'product_category':_0xf83558(0x2a5)}},{'$group':{'_id':_0xf83558(0x273)}},{'$project':{'brand':'$_id'}}]);break;case _0xf83558(0x1ff):_0x50e808=await product[_0xf83558(0x28b)]([{'$match':{'product_category':_0xf83558(0x2a5)}},{'$group':{'_id':_0xf83558(0x23d)}},{'$project':{'category':_0xf83558(0x1fd)}}]);break;}break;}_0x1f94bd[_0xf83558(0x29d)](_0x50e808);}catch(_0x44da7e){_0x1f94bd[_0xf83558(0x29d)]({'message':_0x44da7e['message']});}}),router[a0_0x408cde(0x283)]('/print_barcode_filter/',auth,async(_0x43bea7,_0x10ad58)=>{const _0x5ee2f6=a0_0x408cde;try{console['log'](_0x43bea7[_0x5ee2f6(0x293)]);const {prod_cat:_0x1b2bcc,identity:_0x13f81d,valueData:_0x5a1b4b,typeofbarcode:_0xeafb7d}=_0x43bea7['body'];let _0x134078;switch(_0x1b2bcc){case'fg':if(_0x13f81d==_0x5ee2f6(0x20f))_0x134078=await product[_0x5ee2f6(0x28b)]([{'$match':{'product_category':_0x5ee2f6(0x224),'brand':_0x5a1b4b}}]);else _0x13f81d==_0x5ee2f6(0x1ff)&&(_0x134078=await product[_0x5ee2f6(0x28b)]([{'$match':{'product_category':_0x5ee2f6(0x224),'category':_0x5a1b4b}}]));break;case'rm':if(_0x13f81d==_0x5ee2f6(0x20f))_0x134078=await product[_0x5ee2f6(0x28b)]([{'$match':{'product_category':_0x5ee2f6(0x2a5),'brand':_0x5a1b4b}}]);else _0x13f81d=='Category'&&(_0x134078=await product[_0x5ee2f6(0x28b)]([{'$match':{'product_category':_0x5ee2f6(0x2a5),'category':_0x5a1b4b}}]));break;}const _0x16d030=_0x3d9a1f=>_0x3d9a1f*0x48,_0x37f088={'width':0x3,'height':0x1},_0x2633ad=new PDFDocument({'margin':_0x16d030(0.75),'size':[_0x16d030(_0x37f088[_0x5ee2f6(0x256)]),_0x16d030(_0x37f088[_0x5ee2f6(0x228)])],'bufferPages':!![]}),_0x1b29e5=_0x134078[_0x5ee2f6(0x229)];for(let _0x443bb9=0x0;_0x443bb9<=_0x1b29e5;_0x443bb9++){if(_0x443bb9!=_0x1b29e5){const _0xad8676=_0x134078[_0x443bb9][_0x5ee2f6(0x24c)],_0x342d98=_0x134078[_0x443bb9][_0x5ee2f6(0x299)],_0x324f47=_0x134078[_0x443bb9][_0x5ee2f6(0x29f)],_0x162fec=_0x134078[_0x443bb9]['product_code'];var _0x410f0d;switch(_0xeafb7d){case'1':_0x410f0d=_0x342d98;break;case'2':_0x410f0d=_0x324f47;break;case'3':_0x410f0d=_0x162fec;break;}const _0x4ece19={'width':0xd2,'height':0x64},_0x31749f={'width':_0x16d030(_0x37f088[_0x5ee2f6(0x256)]),'height':_0x16d030(_0x37f088[_0x5ee2f6(0x228)])},_0x1117c9=new Canvas();JsBarcode(_0x1117c9,_0x410f0d,{'format':_0x5ee2f6(0x295),'height':_0x4ece19[_0x5ee2f6(0x228)],'displayValue':!![],'text':_0x410f0d});const _0x20a3a9=_0x1117c9[_0x5ee2f6(0x214)](),_0x451624=_0x31749f[_0x5ee2f6(0x256)]/_0x4ece19['width'],_0x28b63d=_0x31749f['height']/_0x4ece19[_0x5ee2f6(0x228)],_0x389d58=Math['min'](_0x451624,_0x28b63d),_0x3b82a3=_0x4ece19[_0x5ee2f6(0x256)]*_0x389d58,_0x34f314=_0x4ece19[_0x5ee2f6(0x228)]*_0x389d58,_0x51f3d6=(_0x31749f[_0x5ee2f6(0x256)]-_0x3b82a3)/0x2,_0x52a267=(_0x31749f['height']-_0x34f314)/0x2;_0x2633ad['image'](_0x20a3a9,_0x51f3d6,_0x52a267,{'width':_0x3b82a3,'height':_0x34f314}),_0x443bb9!=_0x1b29e5&&_0x2633ad['addPage']();}}const _0xe05651=[];_0x2633ad['on'](_0x5ee2f6(0x245),_0xe05651[_0x5ee2f6(0x23b)][_0x5ee2f6(0x25e)](_0xe05651)),_0x2633ad['on']('end',()=>{const _0x1a0a4b=_0x5ee2f6,_0x1e1327=Buffer[_0x1a0a4b(0x21a)](_0xe05651),_0x95f24a=_0x1e1327[_0x1a0a4b(0x223)](_0x1a0a4b(0x27c));_0x10ad58['json']({'pdfContent':_0x95f24a});}),_0x2633ad[_0x5ee2f6(0x1fa)]();}catch(_0x20c4e7){_0x10ad58[_0x5ee2f6(0x29d)]({'message':_0x20c4e7[_0x5ee2f6(0x28e)]});}}),router['post'](a0_0x408cde(0x201),auth,async(_0x3eb576,_0x3b9cc8)=>{const _0xca40f1=a0_0x408cde;try{console[_0xca40f1(0x29c)](_0x3eb576['body']);const {prod_cat:_0x2fb0e1,identity:_0xd2b68f,valueData:_0x28af1a}=_0x3eb576[_0xca40f1(0x293)];let _0x3e3616;switch(_0x2fb0e1){case'fg':if(_0xd2b68f=='Brands')_0x3e3616=await product[_0xca40f1(0x28b)]([{'$match':{'product_category':_0xca40f1(0x224),'brand':_0x28af1a}}]);else _0xd2b68f==_0xca40f1(0x1ff)&&(_0x3e3616=await product['aggregate']([{'$match':{'product_category':_0xca40f1(0x224),'category':_0x28af1a}}]));break;case'rm':if(_0xd2b68f==_0xca40f1(0x20f))_0x3e3616=await product[_0xca40f1(0x28b)]([{'$match':{'product_category':'Raw\x20Materials','brand':_0x28af1a}}]);else _0xd2b68f==_0xca40f1(0x1ff)&&(_0x3e3616=await product['aggregate']([{'$match':{'product_category':'Raw\x20Materials','category':_0x28af1a}}]));break;}_0x3b9cc8[_0xca40f1(0x29d)]({'data':_0x3e3616});}catch(_0x66ea7b){_0x3b9cc8['json']({'message':_0x66ea7b[_0xca40f1(0x28e)]});}}),router['post']('/print_barcode_single/:id',auth,async(_0x15f15d,_0x3f8f74)=>{const _0xe5f1e8=a0_0x408cde;try{const _0x16d230=_0x15f15d['params']['id'],{copies:_0x410faa,typeofbarcode:_0x62ed77}=_0x15f15d['body'];var _0x5b016c=await product[_0xe5f1e8(0x277)](_0x16d230);const _0x468b4c=_0x4532d9=>_0x4532d9*0x48,_0x2614fd={'width':0x3,'height':0x1},_0x2e9211=new PDFDocument({'margin':_0x468b4c(0.75),'size':[_0x468b4c(_0x2614fd['width']),_0x468b4c(_0x2614fd[_0xe5f1e8(0x228)])],'bufferPages':!![]}),_0x3404c4=_0x410faa,_0x9ac97f=_0x5b016c[_0xe5f1e8(0x24c)],_0x218c6c=_0x5b016c[_0xe5f1e8(0x299)],_0x22a6a7=_0x5b016c['secondary_code'],_0x440bae=_0x5b016c[_0xe5f1e8(0x260)];let _0x9d2e18;switch(_0x62ed77){case'1':_0x9d2e18=_0x218c6c;break;case'2':_0x9d2e18=_0x22a6a7;break;case'3':_0x9d2e18=_0x440bae;break;}const _0x234f13={'width':0xd2,'height':0x64},_0xd39b55={'width':_0x468b4c(_0x2614fd['width']),'height':_0x468b4c(_0x2614fd[_0xe5f1e8(0x228)])};for(let _0x3ed6df=0x1;_0x3ed6df<=_0x3404c4;_0x3ed6df++){const _0x48e451=new Canvas();JsBarcode(_0x48e451,_0x9d2e18,{'format':_0xe5f1e8(0x295),'height':_0x234f13[_0xe5f1e8(0x228)],'displayValue':!![],'text':_0x9d2e18});const _0xf44142=_0x48e451['toBuffer'](),_0x258dd5=_0xd39b55[_0xe5f1e8(0x256)]/_0x234f13[_0xe5f1e8(0x256)],_0x48bd94=_0xd39b55[_0xe5f1e8(0x228)]/_0x234f13[_0xe5f1e8(0x228)],_0x57ae9d=Math['min'](_0x258dd5,_0x48bd94),_0x233323=_0x234f13[_0xe5f1e8(0x256)]*_0x57ae9d,_0x37ed3f=_0x234f13[_0xe5f1e8(0x228)]*_0x57ae9d,_0x5bc5da=(_0xd39b55[_0xe5f1e8(0x256)]-_0x233323)/0x2,_0x518821=(_0xd39b55[_0xe5f1e8(0x228)]-_0x37ed3f)/0x2;_0x2e9211[_0xe5f1e8(0x1f9)](_0xf44142,_0x5bc5da,_0x518821,{'width':_0x233323,'height':_0x37ed3f}),_0x3ed6df!=_0x3404c4&&_0x2e9211[_0xe5f1e8(0x27b)]();}const _0x38632b=[];_0x2e9211['on'](_0xe5f1e8(0x245),_0x38632b[_0xe5f1e8(0x23b)]['bind'](_0x38632b)),_0x2e9211['on'](_0xe5f1e8(0x1fa),()=>{const _0x32c8a8=_0xe5f1e8,_0x4a2e59=Buffer[_0x32c8a8(0x21a)](_0x38632b),_0x2edff7=_0x4a2e59[_0x32c8a8(0x223)](_0x32c8a8(0x27c));_0x3f8f74[_0x32c8a8(0x29d)]({'pdfContent':_0x2edff7});}),_0x2e9211['end']();}catch(_0x5bfd15){_0x3f8f74[_0xe5f1e8(0x29d)]({'message':_0x5bfd15['message']});}}),module[a0_0x408cde(0x278)]=router;