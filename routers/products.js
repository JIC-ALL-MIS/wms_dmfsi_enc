const a0_0x160058=a0_0x7202;(function(_0x3ef500,_0x138a96){const _0x1f53de=a0_0x7202,_0x95abf1=_0x3ef500();while(!![]){try{const _0x2318ac=parseInt(_0x1f53de(0x272))/0x1+parseInt(_0x1f53de(0x21e))/0x2*(parseInt(_0x1f53de(0x212))/0x3)+parseInt(_0x1f53de(0x226))/0x4+parseInt(_0x1f53de(0x225))/0x5*(-parseInt(_0x1f53de(0x277))/0x6)+-parseInt(_0x1f53de(0x1fa))/0x7+parseInt(_0x1f53de(0x269))/0x8+parseInt(_0x1f53de(0x1de))/0x9*(-parseInt(_0x1f53de(0x1f7))/0xa);if(_0x2318ac===_0x138a96)break;else _0x95abf1['push'](_0x95abf1['shift']());}catch(_0x41cdd1){_0x95abf1['push'](_0x95abf1['shift']());}}}(a0_0x5018,0xdc356));function a0_0x7202(_0x188943,_0xb9591b){const _0x50181e=a0_0x5018();return a0_0x7202=function(_0x7202db,_0x41b5d6){_0x7202db=_0x7202db-0x1b9;let _0x176a50=_0x50181e[_0x7202db];return _0x176a50;},a0_0x7202(_0x188943,_0xb9591b);}const express=require(a0_0x160058(0x26e)),res=require(a0_0x160058(0x211)),app=express(),router=express[a0_0x160058(0x21a)](),multer=require(a0_0x160058(0x210)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x160058(0x1c7)),auth=require(a0_0x160058(0x1c6)),users=require(a0_0x160058(0x23b)),excelJS=require(a0_0x160058(0x1e1)),xlsx=require(a0_0x160058(0x239)),JsBarcode=require(a0_0x160058(0x1cb)),{Canvas}=require('canvas'),PDFDocument=require(a0_0x160058(0x23d));router[a0_0x160058(0x22c)](a0_0x160058(0x206),auth,async(_0x1a8c7d,_0x5499fa)=>{const _0x45721c=a0_0x160058;try{const {username:_0xc22e5e,email:_0x33f372,role:_0x47cf6e}=_0x1a8c7d['user'],_0x151b9a=_0x1a8c7d[_0x45721c(0x1e6)],_0x1fe487=await profile[_0x45721c(0x1be)]({'email':_0x151b9a[_0x45721c(0x1c4)]}),_0x5e4108=await master_shop[_0x45721c(0x230)]();console['log']('master',_0x5e4108);const _0x5b574c=await categories[_0x45721c(0x230)]();if(_0x5e4108[0x0][_0x45721c(0x1b9)]==_0x45721c(0x23a))var _0x178189=users[_0x45721c(0x1c2)];else{if(_0x5e4108[0x0][_0x45721c(0x1b9)]==_0x45721c(0x222))var _0x178189=users[_0x45721c(0x222)];else{if(_0x5e4108[0x0]['language']==_0x45721c(0x1fb))var _0x178189=users['German'];else{if(_0x5e4108[0x0][_0x45721c(0x1b9)]=='Spanish')var _0x178189=users[_0x45721c(0x253)];else{if(_0x5e4108[0x0][_0x45721c(0x1b9)]==_0x45721c(0x26a))var _0x178189=users[_0x45721c(0x26a)];else{if(_0x5e4108[0x0][_0x45721c(0x1b9)]==_0x45721c(0x22f))var _0x178189=users[_0x45721c(0x216)];else{if(_0x5e4108[0x0][_0x45721c(0x1b9)]==_0x45721c(0x1ea))var _0x178189=users['Chinese'];else{if(_0x5e4108[0x0]['language']==_0x45721c(0x1dd))var _0x178189=users[_0x45721c(0x1e8)];}}}}}}}_0x5499fa[_0x45721c(0x229)](_0x45721c(0x1ba),{'success':_0x1a8c7d['flash'](_0x45721c(0x1d4)),'errors':_0x1a8c7d[_0x45721c(0x1c5)]('errors'),'role':_0x151b9a,'profile':_0x1fe487,'user':_0x5b574c,'master_shop':_0x5e4108,'language':_0x178189});}catch(_0x51baf8){console[_0x45721c(0x26c)](_0x51baf8);}}),router[a0_0x160058(0x271)](a0_0x160058(0x206),auth,async(_0x591518,_0x4a41d3)=>{const _0x151fde=a0_0x160058;try{const {name:_0x2e66ce,products:_0x2f80d5}=_0x591518[_0x151fde(0x1d9)],_0x4961fd=new categories({'name':_0x2e66ce,'products':_0x2f80d5}),_0x4c2ac4=await categories[_0x151fde(0x1be)]({'name':_0x2e66ce});_0x4c2ac4?_0x591518[_0x151fde(0x1c5)]('errors',_0x2e66ce+'\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x591518[_0x151fde(0x1c5)](_0x151fde(0x1d4),_0x2e66ce+'\x20categories\x20is\x20add\x20successfully');const _0x466d67=await _0x4961fd[_0x151fde(0x26f)]();_0x4a41d3[_0x151fde(0x232)](_0x151fde(0x1da));}catch(_0x5c85e7){console[_0x151fde(0x26c)](_0x5c85e7);}}),router[a0_0x160058(0x22c)]('/categories/:id',auth,async(_0x596904,_0xbe6e2c)=>{const _0x3e7ad1=a0_0x160058;try{const {username:_0x1ae1f6,email:_0x4c9116,role:_0x594ff5}=_0x596904['user'],_0x319aec=_0x596904[_0x3e7ad1(0x1e6)],_0x1ffd72=await profile[_0x3e7ad1(0x1be)]({'email':_0x319aec[_0x3e7ad1(0x1c4)]}),_0x4267ad=await master_shop[_0x3e7ad1(0x230)]();console['log']('master',_0x4267ad);const _0x3ef4bf=_0x596904[_0x3e7ad1(0x24b)]['id'];console[_0x3e7ad1(0x26c)](_0x3ef4bf);const _0x420652=await categories[_0x3e7ad1(0x246)](_0x3ef4bf);if(_0x4267ad[0x0][_0x3e7ad1(0x1b9)]==_0x3e7ad1(0x23a))var _0x5673e6=users['English'];else{if(_0x4267ad[0x0][_0x3e7ad1(0x1b9)]==_0x3e7ad1(0x222))var _0x5673e6=users[_0x3e7ad1(0x222)];else{if(_0x4267ad[0x0][_0x3e7ad1(0x1b9)]==_0x3e7ad1(0x1fb))var _0x5673e6=users[_0x3e7ad1(0x1fb)];else{if(_0x4267ad[0x0][_0x3e7ad1(0x1b9)]==_0x3e7ad1(0x253))var _0x5673e6=users['Spanish'];else{if(_0x4267ad[0x0][_0x3e7ad1(0x1b9)]==_0x3e7ad1(0x26a))var _0x5673e6=users[_0x3e7ad1(0x26a)];else{if(_0x4267ad[0x0][_0x3e7ad1(0x1b9)]==_0x3e7ad1(0x22f))var _0x5673e6=users[_0x3e7ad1(0x216)];else{if(_0x4267ad[0x0][_0x3e7ad1(0x1b9)]==_0x3e7ad1(0x1ea))var _0x5673e6=users[_0x3e7ad1(0x1ea)];else{if(_0x4267ad[0x0][_0x3e7ad1(0x1b9)]==_0x3e7ad1(0x1dd))var _0x5673e6=users['Arabic'];}}}}}}}_0xbe6e2c[_0x3e7ad1(0x229)](_0x3e7ad1(0x1ba),{'success':_0x596904[_0x3e7ad1(0x1c5)](_0x3e7ad1(0x1d4)),'errors':_0x596904[_0x3e7ad1(0x1c5)]('errors'),'role':_0x319aec,'profile':_0x1ffd72,'master_shop':_0x4267ad,'user':_0x420652,'language':_0x5673e6});}catch(_0x56ca07){console[_0x3e7ad1(0x26c)](_0x56ca07);}}),router[a0_0x160058(0x271)](a0_0x160058(0x1f4),auth,async(_0x2f13db,_0x287706)=>{const _0x547e68=a0_0x160058;try{const _0x46ce60=_0x2f13db[_0x547e68(0x24b)]['id'],_0x5adccf=await categories[_0x547e68(0x1e4)](_0x46ce60,_0x2f13db['body']);_0x2f13db['flash'](_0x547e68(0x1d4),''+users[_0x547e68(0x1e2)]),_0x287706['redirect'](_0x547e68(0x1da));}catch(_0x3fe986){console['log'](_0x3fe986);}}),router[a0_0x160058(0x22c)]('/categories/delete/:id',auth,async(_0x5e7022,_0x3c29f3)=>{const _0x31b5ad=a0_0x160058;try{const _0x4aeb5d=_0x5e7022['params']['id'],_0x145609=await categories[_0x31b5ad(0x20b)](_0x4aeb5d);_0x5e7022[_0x31b5ad(0x1c5)](_0x31b5ad(0x1d4),_0x31b5ad(0x256)),_0x3c29f3[_0x31b5ad(0x232)](_0x31b5ad(0x1da));}catch(_0x1e99c1){console['log'](_0x1e99c1);}}),router[a0_0x160058(0x22c)](a0_0x160058(0x20f),auth,async(_0xefa8d5,_0x15ab33)=>{const _0x5a4060=a0_0x160058;try{const {username:_0x2f521e,email:_0x7fd277,role:_0x2632bb}=_0xefa8d5[_0x5a4060(0x1e6)],_0x59162e=_0xefa8d5[_0x5a4060(0x1e6)],_0x2cf700=await profile[_0x5a4060(0x1be)]({'email':_0x59162e[_0x5a4060(0x1c4)]}),_0x287917=await master_shop[_0x5a4060(0x230)]();console[_0x5a4060(0x26c)](_0x5a4060(0x1ca),_0x287917);const _0x554d4e=await brands[_0x5a4060(0x230)]();if(_0x287917[0x0]['language']==_0x5a4060(0x23a))var _0x39529e=users[_0x5a4060(0x1c2)];else{if(_0x287917[0x0][_0x5a4060(0x1b9)]==_0x5a4060(0x222))var _0x39529e=users[_0x5a4060(0x222)];else{if(_0x287917[0x0][_0x5a4060(0x1b9)]=='German')var _0x39529e=users[_0x5a4060(0x1fb)];else{if(_0x287917[0x0][_0x5a4060(0x1b9)]==_0x5a4060(0x253))var _0x39529e=users[_0x5a4060(0x253)];else{if(_0x287917[0x0][_0x5a4060(0x1b9)]=='French')var _0x39529e=users[_0x5a4060(0x26a)];else{if(_0x287917[0x0][_0x5a4060(0x1b9)]==_0x5a4060(0x22f))var _0x39529e=users[_0x5a4060(0x216)];else{if(_0x287917[0x0]['language']==_0x5a4060(0x1ea))var _0x39529e=users[_0x5a4060(0x1ea)];else{if(_0x287917[0x0]['language']==_0x5a4060(0x1dd))var _0x39529e=users['Arabic'];}}}}}}}_0x15ab33['render'](_0x5a4060(0x1cf),{'success':_0xefa8d5[_0x5a4060(0x1c5)](_0x5a4060(0x1d4)),'errors':_0xefa8d5['flash'](_0x5a4060(0x1f9)),'role':_0x59162e,'profile':_0x2cf700,'master_shop':_0x287917,'user':_0x554d4e,'language':_0x39529e});}catch(_0x2c96fb){console[_0x5a4060(0x26c)](_0x2c96fb);}}),router[a0_0x160058(0x271)]('/brands',auth,async(_0x94edb7,_0x70f7a4)=>{const _0x56ccd7=a0_0x160058;try{const {name:_0x457f9d,products:_0xb10b24}=_0x94edb7[_0x56ccd7(0x1d9)],_0x1f80c7=new brands({'name':_0x457f9d,'products':_0xb10b24}),_0x34a365=await brands[_0x56ccd7(0x1be)]({'name':_0x457f9d});_0x34a365?_0x94edb7[_0x56ccd7(0x1c5)](_0x56ccd7(0x1f9),_0x457f9d+_0x56ccd7(0x1c9)):_0x94edb7[_0x56ccd7(0x1c5)](_0x56ccd7(0x1d4),_0x457f9d+_0x56ccd7(0x237));const _0x51e3e1=await _0x1f80c7['save']();_0x70f7a4[_0x56ccd7(0x232)](_0x56ccd7(0x264));}catch(_0x1ed66e){console['log'](_0x1ed66e);}}),router[a0_0x160058(0x22c)]('/brands/:id',auth,async(_0x368e11,_0x2c2e2e)=>{const _0x48e3ab=a0_0x160058;try{const {username:_0x462d5f,email:_0x34e677,role:_0x535707}=_0x368e11[_0x48e3ab(0x1e6)],_0x324665=_0x368e11[_0x48e3ab(0x1e6)],_0x5e560a=await profile[_0x48e3ab(0x1be)]({'email':_0x324665[_0x48e3ab(0x1c4)]}),_0x13389c=await master_shop[_0x48e3ab(0x230)]();console[_0x48e3ab(0x26c)](_0x48e3ab(0x1ca),_0x13389c);const _0x253bd2=_0x368e11[_0x48e3ab(0x24b)]['id'];console[_0x48e3ab(0x26c)](_0x253bd2);const _0x7ad743=await brands[_0x48e3ab(0x246)](_0x253bd2);if(_0x13389c[0x0][_0x48e3ab(0x1b9)]==_0x48e3ab(0x23a))var _0x55acfd=users['English'];else{if(_0x13389c[0x0][_0x48e3ab(0x1b9)]==_0x48e3ab(0x222))var _0x55acfd=users[_0x48e3ab(0x222)];else{if(_0x13389c[0x0]['language']=='German')var _0x55acfd=users[_0x48e3ab(0x1fb)];else{if(_0x13389c[0x0][_0x48e3ab(0x1b9)]==_0x48e3ab(0x253))var _0x55acfd=users[_0x48e3ab(0x253)];else{if(_0x13389c[0x0][_0x48e3ab(0x1b9)]==_0x48e3ab(0x26a))var _0x55acfd=users['French'];else{if(_0x13389c[0x0]['language']==_0x48e3ab(0x22f))var _0x55acfd=users[_0x48e3ab(0x216)];else{if(_0x13389c[0x0][_0x48e3ab(0x1b9)]=='Chinese')var _0x55acfd=users[_0x48e3ab(0x1ea)];else{if(_0x13389c[0x0][_0x48e3ab(0x1b9)]==_0x48e3ab(0x1dd))var _0x55acfd=users[_0x48e3ab(0x1e8)];}}}}}}}_0x2c2e2e[_0x48e3ab(0x229)]('brands',{'success':_0x368e11[_0x48e3ab(0x1c5)](_0x48e3ab(0x1d4)),'errors':_0x368e11[_0x48e3ab(0x1c5)](_0x48e3ab(0x1f9)),'role':_0x324665,'profile':_0x5e560a,'master_shop':_0x13389c,'user':_0x7ad743,'language':_0x55acfd});}catch(_0x547f6e){console['log'](_0x547f6e);}}),router['post'](a0_0x160058(0x279),auth,async(_0x8f709f,_0x50eb62)=>{const _0x2cdd6a=a0_0x160058;try{const _0x2c03ff=_0x8f709f['params']['id'],_0x415915=await brands[_0x2cdd6a(0x1e4)](_0x2c03ff,_0x8f709f[_0x2cdd6a(0x1d9)]);_0x8f709f[_0x2cdd6a(0x1c5)](_0x2cdd6a(0x1d4),_0x2cdd6a(0x24d)),_0x50eb62[_0x2cdd6a(0x232)]('/products/brands');}catch(_0x447e19){console['log'](_0x447e19);}}),router[a0_0x160058(0x22c)](a0_0x160058(0x1fe),auth,async(_0x167112,_0x1abb71)=>{const _0x3a099d=a0_0x160058;try{const _0xb6099c=_0x167112[_0x3a099d(0x24b)]['id'],_0x2697b5=await brands[_0x3a099d(0x20b)](_0xb6099c);_0x167112[_0x3a099d(0x1c5)](_0x3a099d(0x1d4),_0x3a099d(0x1f5)),_0x1abb71['redirect']('/products/brands');}catch(_0x444c87){console[_0x3a099d(0x26c)](_0x444c87);}}),router['get'](a0_0x160058(0x240),auth,async(_0x4503ce,_0x3e4f61)=>{const _0x34be79=a0_0x160058;try{const {username:_0x30fb5a,email:_0x239671,role:_0x232210}=_0x4503ce[_0x34be79(0x1e6)],_0x283b34=_0x4503ce['user'],_0xcb9ce4=await profile[_0x34be79(0x1be)]({'email':_0x283b34[_0x34be79(0x1c4)]}),_0xd37b15=await master_shop[_0x34be79(0x230)]();console[_0x34be79(0x26c)](_0x34be79(0x1ca),_0xd37b15);const _0x5a7493=await units[_0x34be79(0x230)]();if(_0xd37b15[0x0][_0x34be79(0x1b9)]==_0x34be79(0x23a))var _0x4bd433=users[_0x34be79(0x1c2)];else{if(_0xd37b15[0x0][_0x34be79(0x1b9)]==_0x34be79(0x222))var _0x4bd433=users[_0x34be79(0x222)];else{if(_0xd37b15[0x0][_0x34be79(0x1b9)]==_0x34be79(0x1fb))var _0x4bd433=users[_0x34be79(0x1fb)];else{if(_0xd37b15[0x0][_0x34be79(0x1b9)]==_0x34be79(0x253))var _0x4bd433=users[_0x34be79(0x253)];else{if(_0xd37b15[0x0][_0x34be79(0x1b9)]==_0x34be79(0x26a))var _0x4bd433=users[_0x34be79(0x26a)];else{if(_0xd37b15[0x0][_0x34be79(0x1b9)]==_0x34be79(0x22f))var _0x4bd433=users[_0x34be79(0x216)];else{if(_0xd37b15[0x0][_0x34be79(0x1b9)]=='Chinese')var _0x4bd433=users[_0x34be79(0x1ea)];else{if(_0xd37b15[0x0][_0x34be79(0x1b9)]==_0x34be79(0x1dd))var _0x4bd433=users[_0x34be79(0x1e8)];}}}}}}}_0x3e4f61[_0x34be79(0x229)]('units',{'success':_0x4503ce[_0x34be79(0x1c5)]('success'),'errors':_0x4503ce[_0x34be79(0x1c5)]('errors'),'role':_0x283b34,'profile':_0xcb9ce4,'master_shop':_0xd37b15,'user':_0x5a7493,'language':_0x4bd433});}catch(_0xde7fae){console['log'](_0xde7fae);}}),router[a0_0x160058(0x271)](a0_0x160058(0x240),auth,async(_0x4d9566,_0x128745)=>{const _0x2b0ccb=a0_0x160058;try{const {name:_0x57fabe,secondary_unit:_0x249ab1,products:_0x23658d}=_0x4d9566['body'],_0x30e29d=new units({'name':_0x57fabe,'secondary_unit':_0x249ab1,'products':_0x23658d}),_0x17badf=await units[_0x2b0ccb(0x1be)]({'name':_0x57fabe});_0x17badf?_0x4d9566[_0x2b0ccb(0x1c5)](_0x2b0ccb(0x1f9),_0x57fabe+_0x2b0ccb(0x1f6)):_0x4d9566['flash'](_0x2b0ccb(0x1d4),_0x57fabe+_0x2b0ccb(0x260));const _0xc8443e=await _0x30e29d['save']();_0x128745['redirect'](_0x2b0ccb(0x26b));}catch(_0x52f016){console[_0x2b0ccb(0x26c)](_0x52f016);}}),router[a0_0x160058(0x22c)]('/units/:id',auth,async(_0x5e8876,_0x30e000)=>{const _0x245a28=a0_0x160058;try{const {username:_0x13d199,email:_0x5d256c,role:_0x2c2aa7}=_0x5e8876[_0x245a28(0x1e6)],_0x2bfe8b=_0x5e8876['user'],_0x1deb93=await profile['findOne']({'email':_0x2bfe8b['email']}),_0x3addc1=await master_shop[_0x245a28(0x230)]();console[_0x245a28(0x26c)](_0x245a28(0x1ca),_0x3addc1);const _0xbc2422=_0x5e8876[_0x245a28(0x24b)]['id'],_0x16e8a3=await units['findById'](_0xbc2422);if(_0x3addc1[0x0][_0x245a28(0x1b9)]=='English\x20(US)')var _0xd48faa=users[_0x245a28(0x1c2)];else{if(_0x3addc1[0x0][_0x245a28(0x1b9)]=='Hindi')var _0xd48faa=users[_0x245a28(0x222)];else{if(_0x3addc1[0x0][_0x245a28(0x1b9)]==_0x245a28(0x1fb))var _0xd48faa=users[_0x245a28(0x1fb)];else{if(_0x3addc1[0x0][_0x245a28(0x1b9)]==_0x245a28(0x253))var _0xd48faa=users[_0x245a28(0x253)];else{if(_0x3addc1[0x0][_0x245a28(0x1b9)]==_0x245a28(0x26a))var _0xd48faa=users['French'];else{if(_0x3addc1[0x0][_0x245a28(0x1b9)]==_0x245a28(0x22f))var _0xd48faa=users['Portuguese'];else{if(_0x3addc1[0x0]['language']==_0x245a28(0x1ea))var _0xd48faa=users[_0x245a28(0x1ea)];else{if(_0x3addc1[0x0][_0x245a28(0x1b9)]=='Arabic\x20(ae)')var _0xd48faa=users[_0x245a28(0x1e8)];}}}}}}}_0x30e000[_0x245a28(0x229)](_0x245a28(0x21f),{'success':_0x5e8876[_0x245a28(0x1c5)](_0x245a28(0x1d4)),'errors':_0x5e8876[_0x245a28(0x1c5)]('errors'),'role':_0x2bfe8b,'profile':_0x1deb93,'master_shop':_0x3addc1,'user':_0x16e8a3,'language':_0xd48faa});}catch(_0x5bab03){console['log'](_0x5bab03);}}),router[a0_0x160058(0x271)]('/units/:id',auth,async(_0x4a3bdd,_0x13f109)=>{const _0x58f109=a0_0x160058;try{const _0x10a1a5=_0x4a3bdd[_0x58f109(0x24b)]['id'],_0x34e56e=await units[_0x58f109(0x1e4)](_0x10a1a5,_0x4a3bdd[_0x58f109(0x1d9)]);_0x4a3bdd[_0x58f109(0x1c5)]('success',_0x58f109(0x1e5)),_0x13f109[_0x58f109(0x232)](_0x58f109(0x26b));}catch(_0x44b008){console[_0x58f109(0x26c)](_0x44b008);}}),router['get'](a0_0x160058(0x24f),auth,async(_0x1bdfaf,_0x300757)=>{const _0x1d4b52=a0_0x160058;try{const _0x54cc31=_0x1bdfaf['params']['id'],_0x443d8c=await units[_0x1d4b52(0x20b)](_0x54cc31);_0x1bdfaf[_0x1d4b52(0x1c5)](_0x1d4b52(0x1d4),_0x1d4b52(0x1ff)),_0x300757[_0x1d4b52(0x232)](_0x1d4b52(0x26b));}catch(_0x4b0256){console[_0x1d4b52(0x26c)](_0x4b0256);}});function a0_0x5018(){const _0x43b91d=['\x20Edit\x20Successfully','push','maxProdPerUnit','height','edit_product','maxStocks','base64','/categories/:id','brand\x20data\x20delete\x20successfully','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','10AAIHJi','Raw\x20Materials','errors','12232892rJebcC','German','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','/barcode_filter','/brands/delete/:id','unit\x20data\x20delete\x20successfully','Content-Type','data','$secondary_unit','Content-Disposition','setHeader','/barcode/:id','/categories','/filter_product','write','public/Migration/','min','findByIdAndDelete','Product_Code','add_product','brand','/brands','multer','express/lib/response','1833JMDyAW','stock','$brand','Secondary_Code','Portuguese','ProductCode','product_code','now','Router','product\x20edit','aggregate','Products_category','5552WhSPAn','units','Maximum_Stocks','exports','Hindi','numeric','utils','5ZRYukn','4828868anaUFK','Units','image','render','$product_name','single','get','_id','$product_details.product_name','Portuguese\x20(BR)','find','Enabled','redirect','product_stock','product_barcode_products','public/upload','forEach','\x20brand\x20is\x20add\x20successfully','originalname','xlsx','English\x20(US)','../public/language/languages.json','Alert_QTY','pdfkit-table','$category','end','/units','defaultProduct.avif','product_docs','toString','hello','\x20<>\x20','findById','/view/add_products','/print_barcode_filter_search/','name','$product_stock','params','Brands','brand\x20data\x20update\x20successfully','filename','/units/delete/:id','categ','long','Secondary_Units','Spanish','products','MaxperUnits','categories\x20data\x20delete\x20successfully','Products\x20warehouse_data','length','width','$product_category','\x20added\x20successfully','Sheets','json','SheetNames','$product_docs','\x20unit\x20is\x20add\x20successfully','then','concat','PUnits','/products/brands','migrate_product_fule','product\x20add\x20successfully','toBuffer','prod_categ','1983360EzVIVA','French','/products/units','log','/products_import_migrate_file','express','save','CODE128','post','217501hvWumj','PCat','secondary_code','Finished\x20Goods','product_details.product_name','3933498OcNByr','/print_barcode','/brands/:id','Products\x20master','language','categories','category','PAlQty','product_category','findOne','$product_details','secondary_unit','/products_export_migrate_file','English','$_id','email','flash','../middleware/auth','../models/all_models','/products/view','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','master','jsbarcode','product\x20update\x20successfully','max_number_per_units','diskStorage','brands','Products\x20find_data','message','alertquantity','unit','success','Products','map','status','/print_barcode_single/:id','body','/products/categories','columns','file','Arabic\x20(ae)','572949srDVGm','product_barcode','Category','exceljs','categories_edit','bind','findByIdAndUpdate','unit\x20data\x20update\x20successfully','user','attachment;\x20filename=Product_Migration_File.xlsx','Arabic','/view/:id','Chinese','Workbook','Primary_Code'];a0_0x5018=function(){return _0x43b91d;};return a0_0x5018();}const storage=multer[a0_0x160058(0x1ce)]({'destination':(_0x2e71ed,_0x2768a4,_0x12e32c)=>{const _0x59ba98=a0_0x160058;_0x12e32c(null,_0x59ba98(0x235));},'filename':(_0xdc8566,_0x158eed,_0xf8cf76)=>{const _0x468f38=a0_0x160058;_0xf8cf76(null,Date['now']()+_0x158eed[_0x468f38(0x238)]);}}),upload=multer({'storage':storage});router[a0_0x160058(0x22c)]('/view',auth,async(_0x2ad25b,_0x59ee5f)=>{const _0x36a2e0=a0_0x160058;try{const {username:_0x5418c4,email:_0x21cab6,role:_0x47d971}=_0x2ad25b[_0x36a2e0(0x1e6)],_0x328219=_0x2ad25b[_0x36a2e0(0x1e6)],_0x3fbffd=await profile[_0x36a2e0(0x1be)]({'email':_0x328219['email']}),_0x4ba01d={'year':_0x36a2e0(0x223),'month':_0x36a2e0(0x251),'day':_0x36a2e0(0x223)},_0x289ab8=await master_shop[_0x36a2e0(0x230)]();console[_0x36a2e0(0x26c)](_0x36a2e0(0x27a),_0x289ab8);const _0x2cb881=await product['find']();console[_0x36a2e0(0x26c)](_0x36a2e0(0x1d0),_0x2cb881);const _0x7b8261=await warehouse[_0x36a2e0(0x21c)]([{'$unwind':_0x36a2e0(0x1bf)},{'$lookup':{'from':'products','localField':_0x36a2e0(0x276),'foreignField':'name','as':_0x36a2e0(0x242)}},{'$unwind':_0x36a2e0(0x25f)},{'$project':{'product_name':_0x36a2e0(0x22e),'product_stock':'$product_details.product_stock'}},{'$group':{'_id':_0x36a2e0(0x22a),'product_stock':{'$sum':_0x36a2e0(0x24a)}}}]);console[_0x36a2e0(0x26c)](_0x36a2e0(0x257),_0x7b8261),_0x7b8261[_0x36a2e0(0x236)](_0x4fe913=>{const _0x429d16=_0x36a2e0,_0x1a7e21=_0x2cb881[_0x429d16(0x1d6)](_0x1aa72f=>{const _0xc6ee44=_0x429d16;_0x1aa72f[_0xc6ee44(0x249)]==_0x4fe913[_0xc6ee44(0x22d)]&&(_0x1aa72f['stock']=parseInt(_0x1aa72f[_0xc6ee44(0x213)])+parseInt(_0x4fe913[_0xc6ee44(0x233)]));});}),console[_0x36a2e0(0x26c)](_0x36a2e0(0x1d0),_0x2cb881);if(_0x289ab8[0x0][_0x36a2e0(0x1b9)]=='English\x20(US)')var _0xe92909=users[_0x36a2e0(0x1c2)];else{if(_0x289ab8[0x0][_0x36a2e0(0x1b9)]==_0x36a2e0(0x222))var _0xe92909=users[_0x36a2e0(0x222)];else{if(_0x289ab8[0x0][_0x36a2e0(0x1b9)]==_0x36a2e0(0x1fb))var _0xe92909=users[_0x36a2e0(0x1fb)];else{if(_0x289ab8[0x0][_0x36a2e0(0x1b9)]==_0x36a2e0(0x253))var _0xe92909=users[_0x36a2e0(0x253)];else{if(_0x289ab8[0x0][_0x36a2e0(0x1b9)]==_0x36a2e0(0x26a))var _0xe92909=users[_0x36a2e0(0x26a)];else{if(_0x289ab8[0x0][_0x36a2e0(0x1b9)]==_0x36a2e0(0x22f))var _0xe92909=users[_0x36a2e0(0x216)];else{if(_0x289ab8[0x0][_0x36a2e0(0x1b9)]==_0x36a2e0(0x1ea))var _0xe92909=users[_0x36a2e0(0x1ea)];else{if(_0x289ab8[0x0][_0x36a2e0(0x1b9)]=='Arabic\x20(ae)')var _0xe92909=users[_0x36a2e0(0x1e8)];}}}}}}}_0x59ee5f[_0x36a2e0(0x229)]('products',{'success':_0x2ad25b[_0x36a2e0(0x1c5)](_0x36a2e0(0x1d4)),'errors':_0x2ad25b[_0x36a2e0(0x1c5)](_0x36a2e0(0x1f9)),'alldata':_0x2cb881,'profile':_0x3fbffd,'master_shop':_0x289ab8,'role':_0x328219,'product_stock':_0x7b8261,'language':_0xe92909});}catch(_0x871e1b){console[_0x36a2e0(0x26c)](_0x871e1b);}}),router[a0_0x160058(0x22c)](a0_0x160058(0x247),auth,async(_0x4b3c93,_0x5763bb)=>{const _0x58467c=a0_0x160058;try{const {username:_0xcdd24a,email:_0x454b6e,role:_0x416cba}=_0x4b3c93[_0x58467c(0x1e6)],_0x27e854=_0x4b3c93[_0x58467c(0x1e6)],_0x573972=await profile['findOne']({'email':_0x27e854[_0x58467c(0x1c4)]}),_0x115107=await master_shop[_0x58467c(0x230)]();console[_0x58467c(0x26c)]('master',_0x115107);const _0x2fcadc=await categories[_0x58467c(0x230)]({}),_0x28c49b=await brands[_0x58467c(0x230)]({}),_0xa3d3b9=await units[_0x58467c(0x230)]({}),_0x1dd75b=await warehouse[_0x58467c(0x230)]({'status':_0x58467c(0x231)});if(_0x115107[0x0][_0x58467c(0x1b9)]==_0x58467c(0x23a))var _0x5d0d5d=users[_0x58467c(0x1c2)];else{if(_0x115107[0x0][_0x58467c(0x1b9)]=='Hindi')var _0x5d0d5d=users[_0x58467c(0x222)];else{if(_0x115107[0x0][_0x58467c(0x1b9)]=='German')var _0x5d0d5d=users[_0x58467c(0x1fb)];else{if(_0x115107[0x0]['language']==_0x58467c(0x253))var _0x5d0d5d=users[_0x58467c(0x253)];else{if(_0x115107[0x0]['language']==_0x58467c(0x26a))var _0x5d0d5d=users[_0x58467c(0x26a)];else{if(_0x115107[0x0]['language']==_0x58467c(0x22f))var _0x5d0d5d=users[_0x58467c(0x216)];else{if(_0x115107[0x0][_0x58467c(0x1b9)]==_0x58467c(0x1ea))var _0x5d0d5d=users[_0x58467c(0x1ea)];else{if(_0x115107[0x0][_0x58467c(0x1b9)]==_0x58467c(0x1dd))var _0x5d0d5d=users[_0x58467c(0x1e8)];}}}}}}}_0x5763bb[_0x58467c(0x229)](_0x58467c(0x20d),{'success':_0x4b3c93['flash'](_0x58467c(0x1d4)),'errors':_0x4b3c93[_0x58467c(0x1c5)](_0x58467c(0x1f9)),'role':_0x27e854,'profile':_0x573972,'categories':_0x2fcadc,'brands':_0x28c49b,'master_shop':_0x115107,'units':_0xa3d3b9,'language':_0x5d0d5d,'find_data':_0x1dd75b});}catch(_0x2cf02c){console[_0x58467c(0x26c)](_0x2cf02c);}}),router[a0_0x160058(0x271)](a0_0x160058(0x247),auth,upload[a0_0x160058(0x22b)]('image'),async(_0x58ef97,_0x186c04)=>{const _0x22c447=a0_0x160058;try{const {name:_0x363ec0,category:_0x5c979e,brand:_0x3d2b52,unit:_0x434109,alertquantity:_0x2d44de,stock:_0x420cc7,product_code:_0x5922fb,warehouse:_0xbcc176,primary_ItemCode:_0x25f3be,second_ItemCode:_0x38fda5,second_unit:_0x1d6eb2,maxPerUnit:_0x2fd02a,MaxPerProduct:_0x87cd95}=_0x58ef97[_0x22c447(0x1d9)],_0x2302c5=_0x58ef97['file']?.[_0x22c447(0x24e)]||_0x22c447(0x241),_0x32ac7a=new product({'image':_0x2302c5,'name':_0x363ec0,'category':_0x5c979e,'brand':_0x3d2b52,'unit':_0x434109,'alertquantity':_0x2d44de,'stock':_0x420cc7,'product_code':_0x5922fb,'warehouse':_0xbcc176,'primary_code':_0x25f3be,'secondary_code':_0x38fda5,'second_unit':_0x1d6eb2,'maxStocks':_0x87cd95,'maxProdPerUnit':_0x2fd02a}),_0x149702=await _0x32ac7a['save'](),_0xe5e20b=await categories['findOne']({'name':_0x5c979e});_0xe5e20b['products']=parseInt(_0xe5e20b['products'])+0x1,await _0xe5e20b['save']();const _0x4814b0=await brands[_0x22c447(0x1be)]({'name':_0x3d2b52});_0x4814b0[_0x22c447(0x254)]=parseInt(_0x4814b0[_0x22c447(0x254)])+0x1,await _0x4814b0['save']();const _0x4700c0=await units[_0x22c447(0x1be)]({'name':_0x434109});_0x4700c0[_0x22c447(0x254)]=parseInt(_0x4700c0[_0x22c447(0x254)])+0x1,await _0x4700c0[_0x22c447(0x26f)](),_0x58ef97[_0x22c447(0x1c5)](_0x22c447(0x1d4),_0x22c447(0x266)),_0x186c04['redirect']('/products/view');}catch(_0x2cc9b3){console[_0x22c447(0x26c)](_0x2cc9b3);}}),router[a0_0x160058(0x22c)](a0_0x160058(0x1e9),auth,async(_0x6c4529,_0x2f30e7)=>{const _0x1468b2=a0_0x160058;try{const {username:_0x314d62,email:_0x1862dd,role:_0x403073}=_0x6c4529['user'],_0x2a5505=_0x6c4529['user'],_0x2c141c=await profile[_0x1468b2(0x1be)]({'email':_0x2a5505['email']}),_0x22a7c6=await master_shop[_0x1468b2(0x230)]();console[_0x1468b2(0x26c)]('edit\x20Product\x20master',_0x22a7c6);const _0x5de68c=_0x6c4529[_0x1468b2(0x24b)]['id'],_0x41759d=await product[_0x1468b2(0x246)](_0x5de68c),_0xe084f4=await categories[_0x1468b2(0x230)]({}),_0x117823=await brands[_0x1468b2(0x230)]({}),_0x5f32ee=await units['find']({}),_0x3ffc54=await warehouse[_0x1468b2(0x230)]({'status':_0x1468b2(0x231)}),_0x5e8077=await units['aggregate']([{'$group':{'_id':_0x1468b2(0x1c3),'secondaryunit':{'$first':_0x1468b2(0x202)}}}]);if(_0x22a7c6[0x0][_0x1468b2(0x1b9)]=='English\x20(US)')var _0x3d93e6=users['English'];else{if(_0x22a7c6[0x0]['language']==_0x1468b2(0x222))var _0x3d93e6=users[_0x1468b2(0x222)];else{if(_0x22a7c6[0x0][_0x1468b2(0x1b9)]==_0x1468b2(0x1fb))var _0x3d93e6=users[_0x1468b2(0x1fb)];else{if(_0x22a7c6[0x0][_0x1468b2(0x1b9)]==_0x1468b2(0x253))var _0x3d93e6=users[_0x1468b2(0x253)];else{if(_0x22a7c6[0x0][_0x1468b2(0x1b9)]=='French')var _0x3d93e6=users[_0x1468b2(0x26a)];else{if(_0x22a7c6[0x0][_0x1468b2(0x1b9)]==_0x1468b2(0x22f))var _0x3d93e6=users[_0x1468b2(0x216)];else{if(_0x22a7c6[0x0][_0x1468b2(0x1b9)]==_0x1468b2(0x1ea))var _0x3d93e6=users[_0x1468b2(0x1ea)];else{if(_0x22a7c6[0x0][_0x1468b2(0x1b9)]=='Arabic\x20(ae)')var _0x3d93e6=users[_0x1468b2(0x1e8)];}}}}}}}_0x2f30e7[_0x1468b2(0x229)](_0x1468b2(0x1f1),{'success':_0x6c4529[_0x1468b2(0x1c5)](_0x1468b2(0x1d4)),'errors':_0x6c4529[_0x1468b2(0x1c5)](_0x1468b2(0x1f9)),'role':_0x2a5505,'profile':_0x2c141c,'alldata':_0x41759d,'categories':_0xe084f4,'brands':_0x117823,'master_shop':_0x22a7c6,'units':_0x5f32ee,'secondunit':_0x5e8077,'find_data':_0x3ffc54,'language':_0x3d93e6});}catch(_0x1ee9a2){console[_0x1468b2(0x26c)](_0x1ee9a2);}}),router[a0_0x160058(0x271)](a0_0x160058(0x1e9),auth,upload[a0_0x160058(0x22b)](a0_0x160058(0x228)),async(_0x3ad0fb,_0x5dee0f)=>{const _0x36eede=a0_0x160058;try{console[_0x36eede(0x26c)](_0x36eede(0x244));const _0x2c85bf=_0x3ad0fb[_0x36eede(0x24b)]['id'],_0x53596d=await product[_0x36eede(0x246)](_0x2c85bf),{image:_0x1a3261,name:_0x1ec5fe,category:_0x47efe3,brand:_0x258b6f,sku:_0x426fa4,unit:_0x20cb7b,alertquantity:_0x3a3f4e,product_code:_0x372e9d,warehouse:_0x4a53f4,primary_ItemCode:_0xacc252,second_ItemCode:_0x2c7ccc,second_unit:_0x4e7df0,maxPerUnit:_0x403790,MaxPerProduct:_0x18d959,prod_catdata:_0x2eb620}=_0x3ad0fb[_0x36eede(0x1d9)];_0x3ad0fb[_0x36eede(0x1dc)]&&(_0x53596d[_0x36eede(0x228)]=_0x3ad0fb['file']['filename']);_0x53596d['name']=_0x1ec5fe,_0x53596d[_0x36eede(0x1bb)]=_0x47efe3,_0x53596d[_0x36eede(0x20e)]=_0x258b6f,_0x53596d['sku']=_0x426fa4,_0x53596d[_0x36eede(0x1d3)]=_0x20cb7b,_0x53596d['alertquantity']=_0x3a3f4e,_0x53596d[_0x36eede(0x218)]=_0x372e9d,_0x53596d['warehouse']=_0x4a53f4,_0x53596d['primary_code']=_0xacc252,_0x53596d[_0x36eede(0x274)]=_0x2c7ccc,_0x53596d['secondary_unit']=_0x4e7df0,_0x53596d[_0x36eede(0x1f2)]=_0x18d959,_0x53596d[_0x36eede(0x1ef)]=_0x403790,_0x53596d[_0x36eede(0x1bd)]=_0x2eb620;const _0x227149=await _0x53596d['save']();console['log'](_0x36eede(0x21b),_0x53596d),_0x3ad0fb[_0x36eede(0x1c5)]('success',_0x36eede(0x1cc)),_0x5dee0f[_0x36eede(0x232)](_0x36eede(0x1c8));}catch(_0x346e89){console['log'](_0x346e89);}}),router[a0_0x160058(0x22c)](a0_0x160058(0x205),auth,async(_0x366dea,_0xb07bff)=>{const _0x1f61e1=a0_0x160058;try{const {username:_0xbaf965,email:_0x285efc,role:_0x59ada2}=_0x366dea[_0x1f61e1(0x1e6)],_0x3ffd9a=_0x366dea[_0x1f61e1(0x1e6)],_0x23b944=await profile[_0x1f61e1(0x1be)]({'email':_0x3ffd9a[_0x1f61e1(0x1c4)]}),_0x21e710=await master_shop[_0x1f61e1(0x230)]();console[_0x1f61e1(0x26c)]('barcode\x20Product\x20master',_0x21e710);const _0x3fab3e=_0x366dea[_0x1f61e1(0x24b)]['id'],_0x4e5709=await product[_0x1f61e1(0x246)](_0x3fab3e);console[_0x1f61e1(0x26c)]('barcode\x20user_id',_0x4e5709);if(_0x21e710[0x0]['language']==_0x1f61e1(0x23a))var _0x3cd52e=users[_0x1f61e1(0x1c2)];else{if(_0x21e710[0x0]['language']=='Hindi')var _0x3cd52e=users['Hindi'];else{if(_0x21e710[0x0]['language']=='German')var _0x3cd52e=users[_0x1f61e1(0x1fb)];else{if(_0x21e710[0x0]['language']==_0x1f61e1(0x253))var _0x3cd52e=users['Spanish'];else{if(_0x21e710[0x0][_0x1f61e1(0x1b9)]==_0x1f61e1(0x26a))var _0x3cd52e=users[_0x1f61e1(0x26a)];else{if(_0x21e710[0x0]['language']==_0x1f61e1(0x22f))var _0x3cd52e=users[_0x1f61e1(0x216)];else{if(_0x21e710[0x0][_0x1f61e1(0x1b9)]=='Chinese')var _0x3cd52e=users[_0x1f61e1(0x1ea)];else{if(_0x21e710[0x0]['language']==_0x1f61e1(0x1dd))var _0x3cd52e=users[_0x1f61e1(0x1e8)];}}}}}}}_0xb07bff[_0x1f61e1(0x229)](_0x1f61e1(0x1df),{'success':_0x366dea[_0x1f61e1(0x1c5)](_0x1f61e1(0x1d4)),'errors':_0x366dea[_0x1f61e1(0x1c5)]('errors'),'role':_0x3ffd9a,'profile':_0x23b944,'alldata':_0x4e5709,'master_shop':_0x21e710,'language':_0x3cd52e});}catch(_0x3b98b0){console[_0x1f61e1(0x26c)](_0x3b98b0);}}),router[a0_0x160058(0x22c)](a0_0x160058(0x1c1),auth,async(_0x29ff8c,_0x38156e)=>{const _0x2ba23e=a0_0x160058;try{const _0x473fce=new excelJS[(_0x2ba23e(0x1eb))](),_0x20f84d=_0x473fce['addWorksheet'](_0x2ba23e(0x1d5));return _0x20f84d[_0x2ba23e(0x1db)]=[{'header':'Product_Name','key':'PName','width':0xa},{'header':_0x2ba23e(0x24c),'key':'PBrands','width':0xa},{'header':_0x2ba23e(0x227),'key':_0x2ba23e(0x263),'width':0xa},{'header':'Secondary_Units','key':'PSecondaryUnits','width':0xa},{'header':_0x2ba23e(0x1cd),'key':_0x2ba23e(0x255),'width':0xa},{'header':_0x2ba23e(0x1ec),'key':_0x2ba23e(0x217),'width':0xa},{'header':_0x2ba23e(0x215),'key':_0x2ba23e(0x217),'width':0xa},{'header':'Product_Code','key':_0x2ba23e(0x217),'width':0xa},{'header':_0x2ba23e(0x1e0),'key':_0x2ba23e(0x273),'width':0xa},{'header':'Alert_QTY','key':_0x2ba23e(0x1bc),'width':0xa},{'header':_0x2ba23e(0x220),'key':_0x2ba23e(0x1bc),'width':0xa},{'header':'Products_category','key':'Prod_Cat','width':0xa}],_0x38156e[_0x2ba23e(0x204)](_0x2ba23e(0x200),_0x2ba23e(0x1fc)),_0x38156e['setHeader'](_0x2ba23e(0x203),_0x2ba23e(0x1e7)),_0x473fce[_0x2ba23e(0x239)][_0x2ba23e(0x208)](_0x38156e)[_0x2ba23e(0x261)](()=>{const _0x3d5be9=_0x2ba23e;_0x38156e[_0x3d5be9(0x1d7)](0xc8);});}catch(_0x3589ca){_0x38156e[_0x2ba23e(0x1d7)](0x190)['send'](_0x3589ca);}});const storage1=multer[a0_0x160058(0x1ce)]({'destination':(_0x5702df,_0x20305c,_0x4052f5)=>{_0x4052f5(null,'public/Migration');},'filename':(_0x138405,_0x5411bf,_0x63f632)=>{const _0xd18c56=a0_0x160058;_0x63f632(null,Date[_0xd18c56(0x219)]()+_0x5411bf[_0xd18c56(0x238)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x160058(0x271)](a0_0x160058(0x26d),auth,uploadMigrate[a0_0x160058(0x22b)](a0_0x160058(0x265)),async(_0x24997f,_0x200705)=>{const _0x39f6bb=a0_0x160058,_0x2c8fd7=_0x24997f[_0x39f6bb(0x1dc)][_0x39f6bb(0x24e)],_0x975178=await xlsx['readFile'](_0x39f6bb(0x209)+_0x2c8fd7);let _0x5a2a83=_0x975178[_0x39f6bb(0x25e)],_0x475e11=xlsx[_0x39f6bb(0x224)]['sheet_to_json'](_0x975178[_0x39f6bb(0x25c)][_0x5a2a83[0x0]]);for(const _0x42014e of _0x475e11){const _0x2bb143=_0x42014e['Product_Name'],_0x40158e=_0x42014e['Brands'],_0x114322=_0x42014e['Units'],_0x56cea3=_0x42014e[_0x39f6bb(0x252)],_0x510fe2=_0x42014e[_0x39f6bb(0x20c)],_0x305914=_0x42014e[_0x39f6bb(0x1e0)],_0x20f256=_0x42014e[_0x39f6bb(0x23c)],_0xf341a6=_0x42014e[_0x39f6bb(0x1ec)],_0xe5f4fd=_0x42014e[_0x39f6bb(0x215)],_0x58b619=_0x42014e[_0x39f6bb(0x220)],_0x34c7c3=_0x42014e[_0x39f6bb(0x1cd)],_0x25618b=_0x42014e[_0x39f6bb(0x21d)];try{let _0x226cd8=await categories[_0x39f6bb(0x1be)]({'name':_0x305914});if(!_0x226cd8){const _0x446c47=new categories({'name':_0x305914,'products':'0'});_0x226cd8=await _0x446c47['save']();}let _0x5c7f74=await brands[_0x39f6bb(0x1be)]({'name':_0x40158e});if(!_0x5c7f74){const _0x288c2c=new brands({'name':_0x40158e,'products':'0'});_0x5c7f74=await _0x288c2c[_0x39f6bb(0x26f)]();}let _0x509110=await units[_0x39f6bb(0x1be)]({'name':_0x114322,'secondary_unit':_0x56cea3});if(!_0x509110){const _0x2a5652=new units({'name':_0x114322,'secondary_unit':_0x56cea3,'products':'0'});_0x509110=await _0x2a5652[_0x39f6bb(0x26f)]();}const _0x3c270c=await product['find']({'name':_0x2bb143,'category':_0x226cd8[_0x39f6bb(0x249)],'brand':_0x5c7f74[_0x39f6bb(0x249)],'secondary_unit':_0x509110[_0x39f6bb(0x1c0)],'product_code':_0x510fe2});console['log'](_0x3c270c[_0x39f6bb(0x258)]+_0x39f6bb(0x245)+_0x226cd8[_0x39f6bb(0x249)]+_0x39f6bb(0x245)+_0x5c7f74[_0x39f6bb(0x249)]+_0x39f6bb(0x245)+_0x509110[_0x39f6bb(0x1c0)]+'\x20<>\x20'+_0x510fe2+_0x39f6bb(0x245)+_0x2bb143);if(_0x3c270c[_0x39f6bb(0x258)]===0x0){const _0xd12d0=new product({'image':_0x39f6bb(0x241),'name':_0x2bb143,'category':_0x226cd8[_0x39f6bb(0x249)],'brand':_0x5c7f74[_0x39f6bb(0x249)],'unit':_0x509110[_0x39f6bb(0x249)],'alertquantity':_0x20f256,'product_code':_0x510fe2,'secondary_unit':_0x509110[_0x39f6bb(0x1c0)],'primary_code':_0xf341a6,'secondary_code':_0xe5f4fd,'maxStocks':_0x58b619,'maxProdPerUnit':_0x34c7c3,'product_category':_0x25618b}),_0x461b8a=await _0xd12d0[_0x39f6bb(0x26f)]();_0x226cd8[_0x39f6bb(0x254)]=parseInt(_0x226cd8[_0x39f6bb(0x254)])+0x1,await _0x226cd8[_0x39f6bb(0x26f)](),_0x5c7f74[_0x39f6bb(0x254)]=parseInt(_0x5c7f74[_0x39f6bb(0x254)])+0x1,await _0x5c7f74[_0x39f6bb(0x26f)](),_0x509110[_0x39f6bb(0x254)]=parseInt(_0x509110['products'])+0x1,await _0x509110[_0x39f6bb(0x26f)](),_0x24997f['flash'](_0x39f6bb(0x1d4),_0x2bb143+_0x39f6bb(0x25b));}else{console[_0x39f6bb(0x26c)](_0x3c270c[0x0]);const _0x242944=_0x3c270c[0x0];_0x242944[_0x39f6bb(0x1bb)]=_0x226cd8['name'],_0x242944[_0x39f6bb(0x20e)]=_0x5c7f74['name'],_0x242944[_0x39f6bb(0x1d3)]=_0x509110[_0x39f6bb(0x249)],_0x242944[_0x39f6bb(0x1d2)]=_0x20f256,_0x242944[_0x39f6bb(0x218)]=_0x510fe2,_0x242944['secondary_unit']=_0x509110['secondary_unit'],_0x242944['primary_code']=_0xf341a6,_0x242944[_0x39f6bb(0x274)]=_0xe5f4fd,_0x242944['maxStocks']=_0x58b619,_0x242944[_0x39f6bb(0x1ef)]=_0x34c7c3,_0x242944[_0x39f6bb(0x1bd)]=_0x25618b;const _0x48f74a=await _0x242944[_0x39f6bb(0x26f)]();_0x24997f['flash'](_0x39f6bb(0x1d4),_0x48f74a[_0x39f6bb(0x249)]+_0x39f6bb(0x1ed));}}catch(_0x1b2120){_0x200705[_0x39f6bb(0x1d7)](0x1f4)[_0x39f6bb(0x25d)]({'proderror':_0x1b2120['message'],'aproduct':_0x2bb143});}}_0x200705['redirect']('/products/view');}),router['post']('/select_data',auth,async(_0x9506a4,_0x346cdc)=>{const _0x439b06=a0_0x160058;try{console[_0x439b06(0x26c)](_0x9506a4[_0x439b06(0x1d9)]);const {data_cateory:_0xe6dd87,datachoose:_0x45fd19}=_0x9506a4[_0x439b06(0x1d9)];var _0x21103f;if(_0x45fd19=='prod_categ')_0x21103f=await product[_0x439b06(0x21c)]([{'$group':{'_id':_0x439b06(0x25a)}}]);else{if(_0x45fd19==_0x439b06(0x1cf))_0x21103f=await product[_0x439b06(0x21c)]([{'$match':{'product_category':_0xe6dd87}},{'$group':{'_id':_0x439b06(0x214)}}]);else _0x45fd19==_0x439b06(0x250)&&(_0x21103f=await product[_0x439b06(0x21c)]([{'$match':{'product_category':_0xe6dd87}},{'$group':{'_id':_0x439b06(0x23e)}}]));}_0x346cdc[_0x439b06(0x25d)](_0x21103f);}catch(_0x454cca){_0x346cdc[_0x439b06(0x25d)]({'message':_0x454cca[_0x439b06(0x1d1)]});}}),router[a0_0x160058(0x271)](a0_0x160058(0x207),auth,async(_0xb1307a,_0x1c543c)=>{const _0x39aabb=a0_0x160058;try{const {data_choosing:_0x271a1d,data_selected:_0x701b8f}=_0xb1307a[_0x39aabb(0x1d9)];var _0x5cfe4b;if(_0x271a1d==_0x39aabb(0x268))_0x5cfe4b=await product['aggregate']([{'$match':{'product_category':_0x701b8f}}]);else{if(_0x271a1d==_0x39aabb(0x1cf))_0x5cfe4b=await product[_0x39aabb(0x21c)]([{'$match':{'brand':_0x701b8f}}]);else _0x271a1d==_0x39aabb(0x250)&&(_0x5cfe4b=await product[_0x39aabb(0x21c)]([{'$match':{'category':_0x701b8f}}]));}_0x1c543c[_0x39aabb(0x25d)](_0x5cfe4b);}catch(_0x2e4fb2){_0x1c543c['json']({'message':_0x2e4fb2[_0x39aabb(0x1d1)]});}}),router[a0_0x160058(0x22c)](a0_0x160058(0x278),auth,async(_0x29471a,_0x3a32fc)=>{const _0x28580c=a0_0x160058,_0x229608=_0x29471a[_0x28580c(0x1e6)],_0x3bd137=await profile[_0x28580c(0x1be)]({'email':_0x229608[_0x28580c(0x1c4)]}),_0x363abd=await master_shop[_0x28580c(0x230)](),_0x1665c4=await product[_0x28580c(0x230)]();if(_0x363abd[0x0][_0x28580c(0x1b9)]==_0x28580c(0x23a))var _0x1ae0a0=users['English'];else{if(_0x363abd[0x0][_0x28580c(0x1b9)]=='Hindi')var _0x1ae0a0=users[_0x28580c(0x222)];else{if(_0x363abd[0x0][_0x28580c(0x1b9)]==_0x28580c(0x1fb))var _0x1ae0a0=users[_0x28580c(0x1fb)];else{if(_0x363abd[0x0][_0x28580c(0x1b9)]==_0x28580c(0x253))var _0x1ae0a0=users[_0x28580c(0x253)];else{if(_0x363abd[0x0][_0x28580c(0x1b9)]==_0x28580c(0x26a))var _0x1ae0a0=users[_0x28580c(0x26a)];else{if(_0x363abd[0x0]['language']==_0x28580c(0x22f))var _0x1ae0a0=users[_0x28580c(0x216)];else{if(_0x363abd[0x0][_0x28580c(0x1b9)]=='Chinese')var _0x1ae0a0=users[_0x28580c(0x1ea)];else{if(_0x363abd[0x0]['language']==_0x28580c(0x1dd))var _0x1ae0a0=users[_0x28580c(0x1e8)];}}}}}}}_0x3a32fc[_0x28580c(0x229)](_0x28580c(0x234),{'success':_0x29471a[_0x28580c(0x1c5)](_0x28580c(0x1d4)),'errors':_0x29471a[_0x28580c(0x1c5)](_0x28580c(0x1f9)),'role':_0x229608,'profile':_0x3bd137,'products':_0x1665c4,'master_shop':_0x363abd,'language':_0x1ae0a0});}),router[a0_0x160058(0x271)]('/barcode_data',auth,async(_0x118a2b,_0x46b5e6)=>{const _0x482fec=a0_0x160058,_0x484785=await product[_0x482fec(0x230)]();_0x46b5e6[_0x482fec(0x25d)]({'data':_0x484785});}),router[a0_0x160058(0x271)](a0_0x160058(0x1fd),auth,async(_0x19136f,_0x7b5f4a)=>{const _0x5d5a2e=a0_0x160058;try{const {dataProdCat:_0x5b78b3,dataProdIdentity:_0x3ede1d}=_0x19136f[_0x5d5a2e(0x1d9)];var _0x22800f;switch(_0x5b78b3){case'fg':switch(_0x3ede1d){case'Brands':_0x22800f=await product[_0x5d5a2e(0x21c)]([{'$match':{'product_category':_0x5d5a2e(0x275)}},{'$group':{'_id':'$brand'}},{'$project':{'brand':_0x5d5a2e(0x1c3)}}]);break;case _0x5d5a2e(0x1e0):_0x22800f=await product[_0x5d5a2e(0x21c)]([{'$match':{'product_category':'Finished\x20Goods'}},{'$group':{'_id':_0x5d5a2e(0x23e)}},{'$project':{'category':_0x5d5a2e(0x1c3)}}]);break;}break;case'rm':switch(_0x3ede1d){case'Brands':_0x22800f=await product[_0x5d5a2e(0x21c)]([{'$match':{'product_category':_0x5d5a2e(0x1f8)}},{'$group':{'_id':_0x5d5a2e(0x214)}},{'$project':{'brand':'$_id'}}]);break;case _0x5d5a2e(0x1e0):_0x22800f=await product[_0x5d5a2e(0x21c)]([{'$match':{'product_category':_0x5d5a2e(0x1f8)}},{'$group':{'_id':'$category'}},{'$project':{'category':_0x5d5a2e(0x1c3)}}]);break;}break;}_0x7b5f4a['json'](_0x22800f);}catch(_0x43b3df){_0x7b5f4a['json']({'message':_0x43b3df[_0x5d5a2e(0x1d1)]});}}),router[a0_0x160058(0x271)]('/print_barcode_filter/',auth,async(_0x10b8b0,_0xdc15ac)=>{const _0x4c6722=a0_0x160058;try{console[_0x4c6722(0x26c)](_0x10b8b0[_0x4c6722(0x1d9)]);const {prod_cat:_0x14ccf2,identity:_0x1ff1cf,valueData:_0xd9f8e5,typeofbarcode:_0x23004a}=_0x10b8b0[_0x4c6722(0x1d9)];let _0x20c129;switch(_0x14ccf2){case'fg':if(_0x1ff1cf==_0x4c6722(0x24c))_0x20c129=await product['aggregate']([{'$match':{'product_category':_0x4c6722(0x275),'brand':_0xd9f8e5}}]);else _0x1ff1cf==_0x4c6722(0x1e0)&&(_0x20c129=await product['aggregate']([{'$match':{'product_category':'Finished\x20Goods','category':_0xd9f8e5}}]));break;case'rm':if(_0x1ff1cf=='Brands')_0x20c129=await product[_0x4c6722(0x21c)]([{'$match':{'product_category':_0x4c6722(0x1f8),'brand':_0xd9f8e5}}]);else _0x1ff1cf==_0x4c6722(0x1e0)&&(_0x20c129=await product[_0x4c6722(0x21c)]([{'$match':{'product_category':_0x4c6722(0x1f8),'category':_0xd9f8e5}}]));break;}const _0x1d30de=_0x1a95f7=>_0x1a95f7*0x48,_0x17972f={'width':0x3,'height':0x1},_0x20b2c5=new PDFDocument({'margin':_0x1d30de(0.75),'size':[_0x1d30de(_0x17972f[_0x4c6722(0x259)]),_0x1d30de(_0x17972f[_0x4c6722(0x1f0)])],'bufferPages':!![]}),_0x72690d=_0x20c129[_0x4c6722(0x258)];for(let _0x4c24d8=0x0;_0x4c24d8<=_0x72690d;_0x4c24d8++){if(_0x4c24d8!=_0x72690d){const _0x44c6d0=_0x20c129[_0x4c24d8]['name'],_0x4416a9=_0x20c129[_0x4c24d8]['primary_code'],_0x5a79d7=_0x20c129[_0x4c24d8][_0x4c6722(0x274)],_0x4dfb43=_0x20c129[_0x4c24d8][_0x4c6722(0x218)];var _0x251482;switch(_0x23004a){case'1':_0x251482=_0x4416a9;break;case'2':_0x251482=_0x5a79d7;break;case'3':_0x251482=_0x4dfb43;break;}const _0x197e3c={'width':0xd2,'height':0x64},_0x260229={'width':_0x1d30de(_0x17972f[_0x4c6722(0x259)]),'height':_0x1d30de(_0x17972f['height'])},_0x2fde77=new Canvas();JsBarcode(_0x2fde77,_0x251482,{'format':_0x4c6722(0x270),'height':_0x197e3c['height'],'displayValue':!![],'text':_0x251482});const _0x2c0ac7=_0x2fde77[_0x4c6722(0x267)](),_0x3b4eeb=_0x260229[_0x4c6722(0x259)]/_0x197e3c[_0x4c6722(0x259)],_0x549e29=_0x260229[_0x4c6722(0x1f0)]/_0x197e3c['height'],_0x4944e1=Math[_0x4c6722(0x20a)](_0x3b4eeb,_0x549e29),_0x2e7a3d=_0x197e3c[_0x4c6722(0x259)]*_0x4944e1,_0x476283=_0x197e3c[_0x4c6722(0x1f0)]*_0x4944e1,_0x4d9689=(_0x260229[_0x4c6722(0x259)]-_0x2e7a3d)/0x2,_0xded53b=(_0x260229['height']-_0x476283)/0x2;_0x20b2c5[_0x4c6722(0x228)](_0x2c0ac7,_0x4d9689,_0xded53b,{'width':_0x2e7a3d,'height':_0x476283}),_0x4c24d8!=_0x72690d&&_0x20b2c5['addPage']();}}const _0x2f013a=[];_0x20b2c5['on'](_0x4c6722(0x201),_0x2f013a[_0x4c6722(0x1ee)][_0x4c6722(0x1e3)](_0x2f013a)),_0x20b2c5['on'](_0x4c6722(0x23f),()=>{const _0x488a66=_0x4c6722,_0x1ac5e2=Buffer[_0x488a66(0x262)](_0x2f013a),_0xcbe1ce=_0x1ac5e2[_0x488a66(0x243)](_0x488a66(0x1f3));_0xdc15ac[_0x488a66(0x25d)]({'pdfContent':_0xcbe1ce});}),_0x20b2c5[_0x4c6722(0x23f)]();}catch(_0x513adc){_0xdc15ac['json']({'message':_0x513adc[_0x4c6722(0x1d1)]});}}),router[a0_0x160058(0x271)](a0_0x160058(0x248),auth,async(_0xc2368,_0x247f79)=>{const _0x3c8632=a0_0x160058;try{console[_0x3c8632(0x26c)](_0xc2368['body']);const {prod_cat:_0x241a76,identity:_0x5218b9,valueData:_0x2ca520}=_0xc2368[_0x3c8632(0x1d9)];let _0x4a64e6;switch(_0x241a76){case'fg':if(_0x5218b9=='Brands')_0x4a64e6=await product[_0x3c8632(0x21c)]([{'$match':{'product_category':_0x3c8632(0x275),'brand':_0x2ca520}}]);else _0x5218b9==_0x3c8632(0x1e0)&&(_0x4a64e6=await product[_0x3c8632(0x21c)]([{'$match':{'product_category':_0x3c8632(0x275),'category':_0x2ca520}}]));break;case'rm':if(_0x5218b9=='Brands')_0x4a64e6=await product['aggregate']([{'$match':{'product_category':_0x3c8632(0x1f8),'brand':_0x2ca520}}]);else _0x5218b9==_0x3c8632(0x1e0)&&(_0x4a64e6=await product[_0x3c8632(0x21c)]([{'$match':{'product_category':_0x3c8632(0x1f8),'category':_0x2ca520}}]));break;}_0x247f79[_0x3c8632(0x25d)]({'data':_0x4a64e6});}catch(_0x41bdcd){_0x247f79[_0x3c8632(0x25d)]({'message':_0x41bdcd[_0x3c8632(0x1d1)]});}}),router[a0_0x160058(0x271)](a0_0x160058(0x1d8),auth,async(_0x1f19a1,_0x5c7b88)=>{const _0x4ea559=a0_0x160058;try{const _0x4b9cb3=_0x1f19a1['params']['id'],{copies:_0x4510bb,typeofbarcode:_0x4ab221}=_0x1f19a1[_0x4ea559(0x1d9)];var _0x489c48=await product['findById'](_0x4b9cb3);const _0x3ea6ed=_0x1d0638=>_0x1d0638*0x48,_0x310389={'width':0x3,'height':0x1},_0x12ea7b=new PDFDocument({'margin':_0x3ea6ed(0.75),'size':[_0x3ea6ed(_0x310389['width']),_0x3ea6ed(_0x310389[_0x4ea559(0x1f0)])],'bufferPages':!![]}),_0x4de7d4=_0x4510bb,_0x24a84c=_0x489c48[_0x4ea559(0x249)],_0xaeccf8=_0x489c48['primary_code'],_0x185625=_0x489c48[_0x4ea559(0x274)],_0x3c9799=_0x489c48[_0x4ea559(0x218)];let _0x1ef70b;switch(_0x4ab221){case'1':_0x1ef70b=_0xaeccf8;break;case'2':_0x1ef70b=_0x185625;break;case'3':_0x1ef70b=_0x3c9799;break;}const _0x3b4768={'width':0xd2,'height':0x64},_0x2d2025={'width':_0x3ea6ed(_0x310389[_0x4ea559(0x259)]),'height':_0x3ea6ed(_0x310389[_0x4ea559(0x1f0)])};for(let _0x247a94=0x1;_0x247a94<=_0x4de7d4;_0x247a94++){const _0x5e9cb7=new Canvas();JsBarcode(_0x5e9cb7,_0x1ef70b,{'format':_0x4ea559(0x270),'height':_0x3b4768[_0x4ea559(0x1f0)],'displayValue':!![],'text':_0x1ef70b});const _0x4f33a3=_0x5e9cb7[_0x4ea559(0x267)](),_0x5a2a7e=_0x2d2025[_0x4ea559(0x259)]/_0x3b4768['width'],_0x3c391f=_0x2d2025['height']/_0x3b4768[_0x4ea559(0x1f0)],_0xf121db=Math[_0x4ea559(0x20a)](_0x5a2a7e,_0x3c391f),_0x2dc8b4=_0x3b4768['width']*_0xf121db,_0x5310c0=_0x3b4768[_0x4ea559(0x1f0)]*_0xf121db,_0x449171=(_0x2d2025[_0x4ea559(0x259)]-_0x2dc8b4)/0x2,_0x538305=(_0x2d2025['height']-_0x5310c0)/0x2;_0x12ea7b[_0x4ea559(0x228)](_0x4f33a3,_0x449171,_0x538305,{'width':_0x2dc8b4,'height':_0x5310c0}),_0x247a94!=_0x4de7d4&&_0x12ea7b['addPage']();}const _0x4c7000=[];_0x12ea7b['on'](_0x4ea559(0x201),_0x4c7000['push'][_0x4ea559(0x1e3)](_0x4c7000)),_0x12ea7b['on'](_0x4ea559(0x23f),()=>{const _0x24ae49=_0x4ea559,_0x26d3d4=Buffer['concat'](_0x4c7000),_0x553af4=_0x26d3d4[_0x24ae49(0x243)]('base64');_0x5c7b88['json']({'pdfContent':_0x553af4});}),_0x12ea7b['end']();}catch(_0x7d4de4){_0x5c7b88[_0x4ea559(0x25d)]({'message':_0x7d4de4['message']});}}),module[a0_0x160058(0x221)]=router;