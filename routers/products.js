const a0_0x3bf538=a0_0x492a;(function(_0x330766,_0x36eba8){const _0x2b547c=a0_0x492a,_0x5778a5=_0x330766();while(!![]){try{const _0x445805=-parseInt(_0x2b547c(0x18f))/0x1+parseInt(_0x2b547c(0x1d3))/0x2*(-parseInt(_0x2b547c(0x1d2))/0x3)+-parseInt(_0x2b547c(0x17a))/0x4*(-parseInt(_0x2b547c(0x13a))/0x5)+-parseInt(_0x2b547c(0x1ea))/0x6*(parseInt(_0x2b547c(0x1e1))/0x7)+parseInt(_0x2b547c(0x1a0))/0x8*(parseInt(_0x2b547c(0x1a3))/0x9)+-parseInt(_0x2b547c(0x193))/0xa+parseInt(_0x2b547c(0x1e3))/0xb;if(_0x445805===_0x36eba8)break;else _0x5778a5['push'](_0x5778a5['shift']());}catch(_0xbfe7c3){_0x5778a5['push'](_0x5778a5['shift']());}}}(a0_0x1457,0x558cb));function a0_0x492a(_0x32d4f4,_0x5f59b0){const _0x14573b=a0_0x1457();return a0_0x492a=function(_0x492a79,_0x60585){_0x492a79=_0x492a79-0x137;let _0xd51743=_0x14573b[_0x492a79];return _0xd51743;},a0_0x492a(_0x32d4f4,_0x5f59b0);}const express=require(a0_0x3bf538(0x1bb)),res=require(a0_0x3bf538(0x1d0)),app=express(),router=express[a0_0x3bf538(0x1fd)](),multer=require('multer'),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x3bf538(0x1b4)),auth=require('../middleware/auth'),users=require('../public/language/languages.json'),excelJS=require(a0_0x3bf538(0x164)),xlsx=require('xlsx'),JsBarcode=require(a0_0x3bf538(0x153)),{Canvas}=require(a0_0x3bf538(0x1f9)),PDFDocument=require(a0_0x3bf538(0x1bf));router['get']('/categories',auth,async(_0x1b8414,_0x5c6e1e)=>{const _0x2528ae=a0_0x3bf538;try{const {username:_0x470fa3,email:_0x386de4,role:_0x4d9b63}=_0x1b8414['user'],_0x3f9a6d=_0x1b8414[_0x2528ae(0x156)],_0x3d5f26=await profile['findOne']({'email':_0x3f9a6d[_0x2528ae(0x17d)]}),_0x23f6d5=await master_shop['find']();console[_0x2528ae(0x138)](_0x2528ae(0x16b),_0x23f6d5);const _0x2a9fc4=await categories[_0x2528ae(0x19d)]();if(_0x23f6d5[0x0][_0x2528ae(0x1ce)]==_0x2528ae(0x1ae))var _0x35fd5d=users[_0x2528ae(0x173)];else{if(_0x23f6d5[0x0][_0x2528ae(0x1ce)]==_0x2528ae(0x162))var _0x35fd5d=users['Hindi'];else{if(_0x23f6d5[0x0][_0x2528ae(0x1ce)]==_0x2528ae(0x1d6))var _0x35fd5d=users[_0x2528ae(0x1d6)];else{if(_0x23f6d5[0x0][_0x2528ae(0x1ce)]=='Spanish')var _0x35fd5d=users[_0x2528ae(0x1a2)];else{if(_0x23f6d5[0x0][_0x2528ae(0x1ce)]==_0x2528ae(0x1fc))var _0x35fd5d=users[_0x2528ae(0x1fc)];else{if(_0x23f6d5[0x0][_0x2528ae(0x1ce)]==_0x2528ae(0x1b9))var _0x35fd5d=users['Portuguese'];else{if(_0x23f6d5[0x0][_0x2528ae(0x1ce)]=='Chinese')var _0x35fd5d=users[_0x2528ae(0x18a)];else{if(_0x23f6d5[0x0][_0x2528ae(0x1ce)]=='Arabic\x20(ae)')var _0x35fd5d=users[_0x2528ae(0x15f)];}}}}}}}_0x5c6e1e[_0x2528ae(0x169)](_0x2528ae(0x1cb),{'success':_0x1b8414[_0x2528ae(0x147)](_0x2528ae(0x1f0)),'errors':_0x1b8414[_0x2528ae(0x147)](_0x2528ae(0x165)),'role':_0x3f9a6d,'profile':_0x3d5f26,'user':_0x2a9fc4,'master_shop':_0x23f6d5,'language':_0x35fd5d});}catch(_0x379648){console[_0x2528ae(0x138)](_0x379648);}}),router[a0_0x3bf538(0x15a)](a0_0x3bf538(0x16d),auth,async(_0x3794d8,_0x641c47)=>{const _0x540158=a0_0x3bf538;try{const {name:_0xd5ddd0,products:_0x16d0d2}=_0x3794d8[_0x540158(0x17c)],_0x146f23=new categories({'name':_0xd5ddd0,'products':_0x16d0d2}),_0x2c7953=await categories['findOne']({'name':_0xd5ddd0});_0x2c7953?_0x3794d8[_0x540158(0x147)](_0x540158(0x165),_0xd5ddd0+_0x540158(0x1a7)):_0x3794d8[_0x540158(0x147)](_0x540158(0x1f0),_0xd5ddd0+_0x540158(0x1d7));const _0x13fc29=await _0x146f23['save']();_0x641c47['redirect'](_0x540158(0x1f8));}catch(_0x1cba5a){console['log'](_0x1cba5a);}}),router[a0_0x3bf538(0x160)](a0_0x3bf538(0x1ed),auth,async(_0x56dbcb,_0x502318)=>{const _0xb66f10=a0_0x3bf538;try{const {username:_0x353abd,email:_0xcd1d16,role:_0x5ed839}=_0x56dbcb[_0xb66f10(0x156)],_0x3fdbe4=_0x56dbcb['user'],_0x181e95=await profile[_0xb66f10(0x145)]({'email':_0x3fdbe4[_0xb66f10(0x17d)]}),_0xd8f973=await master_shop['find']();console[_0xb66f10(0x138)](_0xb66f10(0x16b),_0xd8f973);const _0x5c1f15=_0x56dbcb[_0xb66f10(0x1e9)]['id'];console['log'](_0x5c1f15);const _0x103ffa=await categories[_0xb66f10(0x180)](_0x5c1f15);if(_0xd8f973[0x0]['language']==_0xb66f10(0x1ae))var _0xc3ba89=users[_0xb66f10(0x173)];else{if(_0xd8f973[0x0]['language']==_0xb66f10(0x162))var _0xc3ba89=users[_0xb66f10(0x162)];else{if(_0xd8f973[0x0][_0xb66f10(0x1ce)]==_0xb66f10(0x1d6))var _0xc3ba89=users[_0xb66f10(0x1d6)];else{if(_0xd8f973[0x0]['language']==_0xb66f10(0x1a2))var _0xc3ba89=users[_0xb66f10(0x1a2)];else{if(_0xd8f973[0x0][_0xb66f10(0x1ce)]==_0xb66f10(0x1fc))var _0xc3ba89=users['French'];else{if(_0xd8f973[0x0][_0xb66f10(0x1ce)]==_0xb66f10(0x1b9))var _0xc3ba89=users['Portuguese'];else{if(_0xd8f973[0x0]['language']=='Chinese')var _0xc3ba89=users[_0xb66f10(0x18a)];else{if(_0xd8f973[0x0][_0xb66f10(0x1ce)]==_0xb66f10(0x1d5))var _0xc3ba89=users[_0xb66f10(0x15f)];}}}}}}}_0x502318[_0xb66f10(0x169)](_0xb66f10(0x1cb),{'success':_0x56dbcb[_0xb66f10(0x147)](_0xb66f10(0x1f0)),'errors':_0x56dbcb[_0xb66f10(0x147)](_0xb66f10(0x165)),'role':_0x3fdbe4,'profile':_0x181e95,'master_shop':_0xd8f973,'user':_0x103ffa,'language':_0xc3ba89});}catch(_0x52966e){console[_0xb66f10(0x138)](_0x52966e);}}),router[a0_0x3bf538(0x15a)](a0_0x3bf538(0x1ed),auth,async(_0xf53acd,_0x96097e)=>{const _0x212965=a0_0x3bf538;try{const _0x1a6fc0=_0xf53acd[_0x212965(0x1e9)]['id'],_0x3e9103=await categories[_0x212965(0x192)](_0x1a6fc0,_0xf53acd[_0x212965(0x17c)]);_0xf53acd[_0x212965(0x147)]('success',''+users[_0x212965(0x17f)]),_0x96097e[_0x212965(0x1e4)](_0x212965(0x1f8));}catch(_0x3e742c){console[_0x212965(0x138)](_0x3e742c);}}),router[a0_0x3bf538(0x160)]('/categories/delete/:id',auth,async(_0x5b9eab,_0x26caeb)=>{const _0x129d8f=a0_0x3bf538;try{const _0x798e09=_0x5b9eab[_0x129d8f(0x1e9)]['id'],_0x2e5754=await categories[_0x129d8f(0x1b1)](_0x798e09);_0x5b9eab[_0x129d8f(0x147)](_0x129d8f(0x1f0),_0x129d8f(0x16c)),_0x26caeb[_0x129d8f(0x1e4)](_0x129d8f(0x1f8));}catch(_0x5e526d){console['log'](_0x5e526d);}}),router[a0_0x3bf538(0x160)](a0_0x3bf538(0x1c5),auth,async(_0x5629fc,_0x2894cc)=>{const _0x504234=a0_0x3bf538;try{const {username:_0x7099b4,email:_0x21b65f,role:_0x47ac80}=_0x5629fc[_0x504234(0x156)],_0x6a6b48=_0x5629fc[_0x504234(0x156)],_0x5bcd7a=await profile[_0x504234(0x145)]({'email':_0x6a6b48[_0x504234(0x17d)]}),_0x208392=await master_shop[_0x504234(0x19d)]();console[_0x504234(0x138)](_0x504234(0x16b),_0x208392);const _0x4f2176=await brands[_0x504234(0x19d)]();if(_0x208392[0x0][_0x504234(0x1ce)]==_0x504234(0x1ae))var _0x4ece80=users[_0x504234(0x173)];else{if(_0x208392[0x0]['language']=='Hindi')var _0x4ece80=users[_0x504234(0x162)];else{if(_0x208392[0x0][_0x504234(0x1ce)]=='German')var _0x4ece80=users[_0x504234(0x1d6)];else{if(_0x208392[0x0][_0x504234(0x1ce)]==_0x504234(0x1a2))var _0x4ece80=users['Spanish'];else{if(_0x208392[0x0][_0x504234(0x1ce)]=='French')var _0x4ece80=users[_0x504234(0x1fc)];else{if(_0x208392[0x0][_0x504234(0x1ce)]==_0x504234(0x1b9))var _0x4ece80=users[_0x504234(0x1b5)];else{if(_0x208392[0x0][_0x504234(0x1ce)]==_0x504234(0x18a))var _0x4ece80=users[_0x504234(0x18a)];else{if(_0x208392[0x0][_0x504234(0x1ce)]==_0x504234(0x1d5))var _0x4ece80=users[_0x504234(0x15f)];}}}}}}}_0x2894cc[_0x504234(0x169)]('brands',{'success':_0x5629fc[_0x504234(0x147)](_0x504234(0x1f0)),'errors':_0x5629fc[_0x504234(0x147)](_0x504234(0x165)),'role':_0x6a6b48,'profile':_0x5bcd7a,'master_shop':_0x208392,'user':_0x4f2176,'language':_0x4ece80});}catch(_0x5484c2){console[_0x504234(0x138)](_0x5484c2);}}),router[a0_0x3bf538(0x15a)](a0_0x3bf538(0x1c5),auth,async(_0x20e830,_0x2d0f58)=>{const _0xf5b4c3=a0_0x3bf538;try{const {name:_0x5dc57e,products:_0xabe3e9}=_0x20e830['body'],_0x4a0b0b=new brands({'name':_0x5dc57e,'products':_0xabe3e9}),_0x1f0d83=await brands['findOne']({'name':_0x5dc57e});_0x1f0d83?_0x20e830[_0xf5b4c3(0x147)](_0xf5b4c3(0x165),_0x5dc57e+'\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another'):_0x20e830[_0xf5b4c3(0x147)]('success',_0x5dc57e+_0xf5b4c3(0x167));const _0x5ca756=await _0x4a0b0b['save']();_0x2d0f58[_0xf5b4c3(0x1e4)](_0xf5b4c3(0x190));}catch(_0x4ea5e1){console['log'](_0x4ea5e1);}}),router[a0_0x3bf538(0x160)](a0_0x3bf538(0x1b2),auth,async(_0x5a8f34,_0x39e8d8)=>{const _0x1270c5=a0_0x3bf538;try{const {username:_0x26acdf,email:_0x395904,role:_0x245668}=_0x5a8f34[_0x1270c5(0x156)],_0x46d2e7=_0x5a8f34[_0x1270c5(0x156)],_0x15e47f=await profile[_0x1270c5(0x145)]({'email':_0x46d2e7['email']}),_0x2550ad=await master_shop[_0x1270c5(0x19d)]();console['log'](_0x1270c5(0x16b),_0x2550ad);const _0x3c80f4=_0x5a8f34['params']['id'];console[_0x1270c5(0x138)](_0x3c80f4);const _0x5b0d55=await brands[_0x1270c5(0x180)](_0x3c80f4);if(_0x2550ad[0x0][_0x1270c5(0x1ce)]=='English\x20(US)')var _0x2ae3c2=users['English'];else{if(_0x2550ad[0x0]['language']==_0x1270c5(0x162))var _0x2ae3c2=users[_0x1270c5(0x162)];else{if(_0x2550ad[0x0][_0x1270c5(0x1ce)]==_0x1270c5(0x1d6))var _0x2ae3c2=users['German'];else{if(_0x2550ad[0x0][_0x1270c5(0x1ce)]==_0x1270c5(0x1a2))var _0x2ae3c2=users[_0x1270c5(0x1a2)];else{if(_0x2550ad[0x0][_0x1270c5(0x1ce)]==_0x1270c5(0x1fc))var _0x2ae3c2=users[_0x1270c5(0x1fc)];else{if(_0x2550ad[0x0][_0x1270c5(0x1ce)]=='Portuguese\x20(BR)')var _0x2ae3c2=users[_0x1270c5(0x1b5)];else{if(_0x2550ad[0x0][_0x1270c5(0x1ce)]==_0x1270c5(0x18a))var _0x2ae3c2=users['Chinese'];else{if(_0x2550ad[0x0][_0x1270c5(0x1ce)]=='Arabic\x20(ae)')var _0x2ae3c2=users[_0x1270c5(0x15f)];}}}}}}}_0x39e8d8[_0x1270c5(0x169)](_0x1270c5(0x176),{'success':_0x5a8f34['flash'](_0x1270c5(0x1f0)),'errors':_0x5a8f34[_0x1270c5(0x147)](_0x1270c5(0x165)),'role':_0x46d2e7,'profile':_0x15e47f,'master_shop':_0x2550ad,'user':_0x5b0d55,'language':_0x2ae3c2});}catch(_0x2296f6){console[_0x1270c5(0x138)](_0x2296f6);}}),router[a0_0x3bf538(0x15a)](a0_0x3bf538(0x1b2),auth,async(_0x556648,_0x16b3bb)=>{const _0x1a82c6=a0_0x3bf538;try{const _0xc6db20=_0x556648[_0x1a82c6(0x1e9)]['id'],_0x210ec9=await brands['findByIdAndUpdate'](_0xc6db20,_0x556648[_0x1a82c6(0x17c)]);_0x556648['flash'](_0x1a82c6(0x1f0),_0x1a82c6(0x189)),_0x16b3bb[_0x1a82c6(0x1e4)](_0x1a82c6(0x190));}catch(_0xf16116){console[_0x1a82c6(0x138)](_0xf16116);}}),router[a0_0x3bf538(0x160)]('/brands/delete/:id',auth,async(_0x2ba1dd,_0x1f1939)=>{const _0x314c70=a0_0x3bf538;try{const _0x222d7a=_0x2ba1dd['params']['id'],_0x2a83b4=await brands[_0x314c70(0x1b1)](_0x222d7a);_0x2ba1dd[_0x314c70(0x147)]('success','brand\x20data\x20delete\x20successfully'),_0x1f1939[_0x314c70(0x1e4)]('/products/brands');}catch(_0x1430c7){console['log'](_0x1430c7);}}),router['get'](a0_0x3bf538(0x179),auth,async(_0x466d50,_0x36dae4)=>{const _0x497fb5=a0_0x3bf538;try{const {username:_0x2562dc,email:_0x463e45,role:_0x3d5764}=_0x466d50[_0x497fb5(0x156)],_0x1431d9=_0x466d50[_0x497fb5(0x156)],_0x2dda71=await profile[_0x497fb5(0x145)]({'email':_0x1431d9[_0x497fb5(0x17d)]}),_0x5bb3be=await master_shop[_0x497fb5(0x19d)]();console[_0x497fb5(0x138)]('master',_0x5bb3be);const _0x481b75=await units[_0x497fb5(0x19d)]();if(_0x5bb3be[0x0][_0x497fb5(0x1ce)]==_0x497fb5(0x1ae))var _0x2af2f2=users[_0x497fb5(0x173)];else{if(_0x5bb3be[0x0][_0x497fb5(0x1ce)]==_0x497fb5(0x162))var _0x2af2f2=users[_0x497fb5(0x162)];else{if(_0x5bb3be[0x0][_0x497fb5(0x1ce)]==_0x497fb5(0x1d6))var _0x2af2f2=users[_0x497fb5(0x1d6)];else{if(_0x5bb3be[0x0][_0x497fb5(0x1ce)]==_0x497fb5(0x1a2))var _0x2af2f2=users[_0x497fb5(0x1a2)];else{if(_0x5bb3be[0x0][_0x497fb5(0x1ce)]==_0x497fb5(0x1fc))var _0x2af2f2=users[_0x497fb5(0x1fc)];else{if(_0x5bb3be[0x0][_0x497fb5(0x1ce)]==_0x497fb5(0x1b9))var _0x2af2f2=users['Portuguese'];else{if(_0x5bb3be[0x0][_0x497fb5(0x1ce)]=='Chinese')var _0x2af2f2=users[_0x497fb5(0x18a)];else{if(_0x5bb3be[0x0][_0x497fb5(0x1ce)]==_0x497fb5(0x1d5))var _0x2af2f2=users[_0x497fb5(0x15f)];}}}}}}}_0x36dae4[_0x497fb5(0x169)]('units',{'success':_0x466d50[_0x497fb5(0x147)](_0x497fb5(0x1f0)),'errors':_0x466d50['flash'](_0x497fb5(0x165)),'role':_0x1431d9,'profile':_0x2dda71,'master_shop':_0x5bb3be,'user':_0x481b75,'language':_0x2af2f2});}catch(_0x3813b1){console[_0x497fb5(0x138)](_0x3813b1);}}),router[a0_0x3bf538(0x15a)](a0_0x3bf538(0x179),auth,async(_0x2ef061,_0x436f56)=>{const _0x15bf76=a0_0x3bf538;try{const {name:_0x2ebb53,secondary_unit:_0x3dc701,products:_0x318039}=_0x2ef061[_0x15bf76(0x17c)],_0x5870a7=new units({'name':_0x2ebb53,'secondary_unit':_0x3dc701,'products':_0x318039}),_0x1a6a50=await units[_0x15bf76(0x145)]({'name':_0x2ebb53});_0x1a6a50?_0x2ef061[_0x15bf76(0x147)](_0x15bf76(0x165),_0x2ebb53+_0x15bf76(0x196)):_0x2ef061[_0x15bf76(0x147)](_0x15bf76(0x1f0),_0x2ebb53+_0x15bf76(0x15c));const _0x14fdbe=await _0x5870a7[_0x15bf76(0x1bd)]();_0x436f56[_0x15bf76(0x1e4)](_0x15bf76(0x18b));}catch(_0x17595a){console[_0x15bf76(0x138)](_0x17595a);}}),router[a0_0x3bf538(0x160)](a0_0x3bf538(0x13e),auth,async(_0x35aaec,_0x2c4d16)=>{const _0xafd051=a0_0x3bf538;try{const {username:_0x98adda,email:_0x42bae8,role:_0x561130}=_0x35aaec[_0xafd051(0x156)],_0x39488b=_0x35aaec['user'],_0x112554=await profile[_0xafd051(0x145)]({'email':_0x39488b[_0xafd051(0x17d)]}),_0x161a50=await master_shop[_0xafd051(0x19d)]();console['log'](_0xafd051(0x16b),_0x161a50);const _0x2c25e8=_0x35aaec['params']['id'],_0x3aabcb=await units[_0xafd051(0x180)](_0x2c25e8);if(_0x161a50[0x0][_0xafd051(0x1ce)]==_0xafd051(0x1ae))var _0x25722c=users[_0xafd051(0x173)];else{if(_0x161a50[0x0][_0xafd051(0x1ce)]==_0xafd051(0x162))var _0x25722c=users[_0xafd051(0x162)];else{if(_0x161a50[0x0][_0xafd051(0x1ce)]==_0xafd051(0x1d6))var _0x25722c=users[_0xafd051(0x1d6)];else{if(_0x161a50[0x0][_0xafd051(0x1ce)]==_0xafd051(0x1a2))var _0x25722c=users[_0xafd051(0x1a2)];else{if(_0x161a50[0x0][_0xafd051(0x1ce)]==_0xafd051(0x1fc))var _0x25722c=users['French'];else{if(_0x161a50[0x0][_0xafd051(0x1ce)]=='Portuguese\x20(BR)')var _0x25722c=users[_0xafd051(0x1b5)];else{if(_0x161a50[0x0][_0xafd051(0x1ce)]==_0xafd051(0x18a))var _0x25722c=users['Chinese'];else{if(_0x161a50[0x0][_0xafd051(0x1ce)]=='Arabic\x20(ae)')var _0x25722c=users[_0xafd051(0x15f)];}}}}}}}_0x2c4d16[_0xafd051(0x169)](_0xafd051(0x14e),{'success':_0x35aaec[_0xafd051(0x147)](_0xafd051(0x1f0)),'errors':_0x35aaec['flash'](_0xafd051(0x165)),'role':_0x39488b,'profile':_0x112554,'master_shop':_0x161a50,'user':_0x3aabcb,'language':_0x25722c});}catch(_0x3b7949){console[_0xafd051(0x138)](_0x3b7949);}}),router[a0_0x3bf538(0x15a)](a0_0x3bf538(0x13e),auth,async(_0x15ea86,_0x4b10df)=>{const _0x781924=a0_0x3bf538;try{const _0x3fe5b8=_0x15ea86[_0x781924(0x1e9)]['id'],_0x48c4b1=await units['findByIdAndUpdate'](_0x3fe5b8,_0x15ea86['body']);_0x15ea86['flash']('success',_0x781924(0x1a4)),_0x4b10df[_0x781924(0x1e4)](_0x781924(0x18b));}catch(_0x38f389){console[_0x781924(0x138)](_0x38f389);}}),router[a0_0x3bf538(0x160)]('/units/delete/:id',auth,async(_0x4726b6,_0x28663b)=>{const _0x4468f7=a0_0x3bf538;try{const _0xc9ccb=_0x4726b6[_0x4468f7(0x1e9)]['id'],_0x3d9426=await units['findByIdAndDelete'](_0xc9ccb);_0x4726b6['flash']('success',_0x4468f7(0x14c)),_0x28663b[_0x4468f7(0x1e4)]('/products/units');}catch(_0x135cb7){console['log'](_0x135cb7);}});const storage=multer[a0_0x3bf538(0x1db)]({'destination':(_0x1ea4a3,_0x2d0cc1,_0x149284)=>{const _0x412967=a0_0x3bf538;_0x149284(null,_0x412967(0x137));},'filename':(_0x2b5b56,_0x250a24,_0x164785)=>{const _0x1213b1=a0_0x3bf538;_0x164785(null,Date[_0x1213b1(0x16a)]()+_0x250a24['originalname']);}}),upload=multer({'storage':storage});router[a0_0x3bf538(0x160)](a0_0x3bf538(0x1cd),auth,async(_0x45eb40,_0x2f5075)=>{const _0x44c92b=a0_0x3bf538;try{const {username:_0x1fe4f,email:_0x2e6b5f,role:_0x575f93}=_0x45eb40[_0x44c92b(0x156)],_0x2932de=_0x45eb40[_0x44c92b(0x156)],_0x3fa6a0=await profile[_0x44c92b(0x145)]({'email':_0x2932de[_0x44c92b(0x17d)]}),_0x3787fb={'year':'numeric','month':_0x44c92b(0x139),'day':_0x44c92b(0x1c8)},_0x11285c=await master_shop[_0x44c92b(0x19d)]();console['log'](_0x44c92b(0x1cf),_0x11285c);const _0x156d52=await product[_0x44c92b(0x19d)]();console[_0x44c92b(0x138)](_0x44c92b(0x1ad),_0x156d52);const _0x50b2d2=await warehouse['aggregate']([{'$unwind':_0x44c92b(0x152)},{'$lookup':{'from':_0x44c92b(0x163),'localField':_0x44c92b(0x14d),'foreignField':_0x44c92b(0x177),'as':_0x44c92b(0x170)}},{'$unwind':_0x44c92b(0x1b0)},{'$project':{'product_name':_0x44c92b(0x18e),'product_stock':_0x44c92b(0x1a1)}},{'$group':{'_id':_0x44c92b(0x16f),'product_stock':{'$sum':_0x44c92b(0x1d9)}}}]);console[_0x44c92b(0x138)](_0x44c92b(0x197),_0x50b2d2),_0x50b2d2[_0x44c92b(0x155)](_0x5cf9e4=>{const _0x5cd83c=_0x44c92b,_0xb3996c=_0x156d52[_0x5cd83c(0x144)](_0x1601aa=>{const _0xa6406a=_0x5cd83c;_0x1601aa[_0xa6406a(0x177)]==_0x5cf9e4['_id']&&(_0x1601aa[_0xa6406a(0x1d1)]=parseInt(_0x1601aa[_0xa6406a(0x1d1)])+parseInt(_0x5cf9e4[_0xa6406a(0x1e8)]));});}),console[_0x44c92b(0x138)](_0x44c92b(0x1ad),_0x156d52);if(_0x11285c[0x0][_0x44c92b(0x1ce)]=='English\x20(US)')var _0x24ba3b=users[_0x44c92b(0x173)];else{if(_0x11285c[0x0][_0x44c92b(0x1ce)]=='Hindi')var _0x24ba3b=users[_0x44c92b(0x162)];else{if(_0x11285c[0x0]['language']=='German')var _0x24ba3b=users[_0x44c92b(0x1d6)];else{if(_0x11285c[0x0][_0x44c92b(0x1ce)]==_0x44c92b(0x1a2))var _0x24ba3b=users[_0x44c92b(0x1a2)];else{if(_0x11285c[0x0]['language']==_0x44c92b(0x1fc))var _0x24ba3b=users[_0x44c92b(0x1fc)];else{if(_0x11285c[0x0][_0x44c92b(0x1ce)]==_0x44c92b(0x1b9))var _0x24ba3b=users[_0x44c92b(0x1b5)];else{if(_0x11285c[0x0]['language']==_0x44c92b(0x18a))var _0x24ba3b=users[_0x44c92b(0x18a)];else{if(_0x11285c[0x0][_0x44c92b(0x1ce)]==_0x44c92b(0x1d5))var _0x24ba3b=users[_0x44c92b(0x15f)];}}}}}}}_0x2f5075['render'](_0x44c92b(0x163),{'success':_0x45eb40[_0x44c92b(0x147)](_0x44c92b(0x1f0)),'errors':_0x45eb40[_0x44c92b(0x147)](_0x44c92b(0x165)),'alldata':_0x156d52,'profile':_0x3fa6a0,'master_shop':_0x11285c,'role':_0x2932de,'product_stock':_0x50b2d2,'language':_0x24ba3b});}catch(_0x21ecb5){console[_0x44c92b(0x138)](_0x21ecb5);}}),router[a0_0x3bf538(0x160)](a0_0x3bf538(0x166),auth,async(_0x4cbbee,_0x1b9c9b)=>{const _0x353084=a0_0x3bf538;try{const {username:_0x6e35f1,email:_0x4e47b1,role:_0x1ed035}=_0x4cbbee[_0x353084(0x156)],_0x2911eb=_0x4cbbee[_0x353084(0x156)],_0x4af37f=await profile[_0x353084(0x145)]({'email':_0x2911eb['email']}),_0x534473=await master_shop[_0x353084(0x19d)]();console[_0x353084(0x138)]('master',_0x534473);const _0xe93abc=await categories[_0x353084(0x19d)]({}),_0x58c8e9=await brands[_0x353084(0x19d)]({}),_0x220282=await units[_0x353084(0x19d)]({}),_0x99d6a4=await warehouse[_0x353084(0x19d)]({'status':_0x353084(0x13f)});if(_0x534473[0x0]['language']=='English\x20(US)')var _0x5814c1=users[_0x353084(0x173)];else{if(_0x534473[0x0]['language']=='Hindi')var _0x5814c1=users['Hindi'];else{if(_0x534473[0x0][_0x353084(0x1ce)]==_0x353084(0x1d6))var _0x5814c1=users[_0x353084(0x1d6)];else{if(_0x534473[0x0][_0x353084(0x1ce)]=='Spanish')var _0x5814c1=users[_0x353084(0x1a2)];else{if(_0x534473[0x0]['language']==_0x353084(0x1fc))var _0x5814c1=users[_0x353084(0x1fc)];else{if(_0x534473[0x0][_0x353084(0x1ce)]==_0x353084(0x1b9))var _0x5814c1=users[_0x353084(0x1b5)];else{if(_0x534473[0x0]['language']==_0x353084(0x18a))var _0x5814c1=users['Chinese'];else{if(_0x534473[0x0][_0x353084(0x1ce)]==_0x353084(0x1d5))var _0x5814c1=users[_0x353084(0x15f)];}}}}}}}_0x1b9c9b[_0x353084(0x169)](_0x353084(0x182),{'success':_0x4cbbee['flash'](_0x353084(0x1f0)),'errors':_0x4cbbee['flash'](_0x353084(0x165)),'role':_0x2911eb,'profile':_0x4af37f,'categories':_0xe93abc,'brands':_0x58c8e9,'master_shop':_0x534473,'units':_0x220282,'language':_0x5814c1,'find_data':_0x99d6a4});}catch(_0x1b686a){console[_0x353084(0x138)](_0x1b686a);}}),router['post'](a0_0x3bf538(0x166),auth,upload[a0_0x3bf538(0x194)]('image'),async(_0x14166d,_0x3596e6)=>{const _0x1e1f3f=a0_0x3bf538;try{const {name:_0xf7867f,category:_0x3aac74,brand:_0x2bf8a5,unit:_0x247ae4,alertquantity:_0x415891,stock:_0x572943,product_code:_0x23702d,warehouse:_0x83cba1,primary_ItemCode:_0x55a5d1,second_ItemCode:_0x5bb32b,second_unit:_0x3dccc5,maxPerUnit:_0x42fceb,MaxPerProduct:_0x5c0bb1}=_0x14166d[_0x1e1f3f(0x17c)],_0x5365f9=_0x14166d['file']?.[_0x1e1f3f(0x146)]||_0x1e1f3f(0x199),_0x5cbb19=new product({'image':_0x5365f9,'name':_0xf7867f,'category':_0x3aac74,'brand':_0x2bf8a5,'unit':_0x247ae4,'alertquantity':_0x415891,'stock':_0x572943,'product_code':_0x23702d,'warehouse':_0x83cba1,'primary_code':_0x55a5d1,'secondary_code':_0x5bb32b,'second_unit':_0x3dccc5,'maxStocks':_0x5c0bb1,'maxProdPerUnit':_0x42fceb}),_0x5cb617=await _0x5cbb19[_0x1e1f3f(0x1bd)](),_0x50c34d=await categories[_0x1e1f3f(0x145)]({'name':_0x3aac74});_0x50c34d[_0x1e1f3f(0x163)]=parseInt(_0x50c34d['products'])+0x1,await _0x50c34d[_0x1e1f3f(0x1bd)]();const _0x10c713=await brands[_0x1e1f3f(0x145)]({'name':_0x2bf8a5});_0x10c713['products']=parseInt(_0x10c713[_0x1e1f3f(0x163)])+0x1,await _0x10c713['save']();const _0x1ad5b9=await units['findOne']({'name':_0x247ae4});_0x1ad5b9[_0x1e1f3f(0x163)]=parseInt(_0x1ad5b9[_0x1e1f3f(0x163)])+0x1,await _0x1ad5b9['save'](),_0x14166d[_0x1e1f3f(0x147)](_0x1e1f3f(0x1f0),_0x1e1f3f(0x1da)),_0x3596e6[_0x1e1f3f(0x1e4)](_0x1e1f3f(0x1f2));}catch(_0x355d50){console[_0x1e1f3f(0x138)](_0x355d50);}}),router['get']('/view/:id',auth,async(_0x2fbcc1,_0x5bf005)=>{const _0x2bfcde=a0_0x3bf538;try{const {username:_0x55cd57,email:_0x216235,role:_0x582cb4}=_0x2fbcc1[_0x2bfcde(0x156)],_0x1c18b4=_0x2fbcc1[_0x2bfcde(0x156)],_0x2075cf=await profile[_0x2bfcde(0x145)]({'email':_0x1c18b4[_0x2bfcde(0x17d)]}),_0xd53eaa=await master_shop['find']();console['log'](_0x2bfcde(0x142),_0xd53eaa);const _0xda55eb=_0x2fbcc1[_0x2bfcde(0x1e9)]['id'],_0x14fb69=await product[_0x2bfcde(0x180)](_0xda55eb),_0x431dc8=await categories['find']({}),_0x2b3e6f=await brands['find']({}),_0xb412c6=await units[_0x2bfcde(0x19d)]({}),_0xfaa034=await warehouse[_0x2bfcde(0x19d)]({'status':_0x2bfcde(0x13f)}),_0x5eea8e=await units[_0x2bfcde(0x184)]([{'$group':{'_id':_0x2bfcde(0x1d4),'secondaryunit':{'$first':_0x2bfcde(0x1f3)}}}]);if(_0xd53eaa[0x0][_0x2bfcde(0x1ce)]=='English\x20(US)')var _0x32eaeb=users['English'];else{if(_0xd53eaa[0x0][_0x2bfcde(0x1ce)]=='Hindi')var _0x32eaeb=users[_0x2bfcde(0x162)];else{if(_0xd53eaa[0x0][_0x2bfcde(0x1ce)]==_0x2bfcde(0x1d6))var _0x32eaeb=users[_0x2bfcde(0x1d6)];else{if(_0xd53eaa[0x0][_0x2bfcde(0x1ce)]==_0x2bfcde(0x1a2))var _0x32eaeb=users[_0x2bfcde(0x1a2)];else{if(_0xd53eaa[0x0]['language']==_0x2bfcde(0x1fc))var _0x32eaeb=users[_0x2bfcde(0x1fc)];else{if(_0xd53eaa[0x0][_0x2bfcde(0x1ce)]==_0x2bfcde(0x1b9))var _0x32eaeb=users[_0x2bfcde(0x1b5)];else{if(_0xd53eaa[0x0][_0x2bfcde(0x1ce)]==_0x2bfcde(0x18a))var _0x32eaeb=users[_0x2bfcde(0x18a)];else{if(_0xd53eaa[0x0][_0x2bfcde(0x1ce)]=='Arabic\x20(ae)')var _0x32eaeb=users[_0x2bfcde(0x15f)];}}}}}}}_0x5bf005[_0x2bfcde(0x169)](_0x2bfcde(0x14f),{'success':_0x2fbcc1[_0x2bfcde(0x147)](_0x2bfcde(0x1f0)),'errors':_0x2fbcc1[_0x2bfcde(0x147)](_0x2bfcde(0x165)),'role':_0x1c18b4,'profile':_0x2075cf,'alldata':_0x14fb69,'categories':_0x431dc8,'brands':_0x2b3e6f,'master_shop':_0xd53eaa,'units':_0xb412c6,'secondunit':_0x5eea8e,'find_data':_0xfaa034,'language':_0x32eaeb});}catch(_0x23f515){console[_0x2bfcde(0x138)](_0x23f515);}}),router[a0_0x3bf538(0x15a)](a0_0x3bf538(0x1ac),auth,upload[a0_0x3bf538(0x194)](a0_0x3bf538(0x19b)),async(_0x3f0715,_0x44f39d)=>{const _0x10b0e8=a0_0x3bf538;try{console[_0x10b0e8(0x138)](_0x10b0e8(0x1b6));const _0x27ca8f=_0x3f0715[_0x10b0e8(0x1e9)]['id'],_0x4c24b9=await product[_0x10b0e8(0x180)](_0x27ca8f),{image:_0x5ee90d,name:_0x37ce89,category:_0x4c7712,brand:_0x39ed5f,sku:_0x4fb170,unit:_0x23feae,alertquantity:_0x3a244a,product_code:_0x4b7eec,warehouse:_0x36d8c0,primary_ItemCode:_0x15b663,second_ItemCode:_0x3c46ce,second_unit:_0x3de834,maxPerUnit:_0x1ba764,MaxPerProduct:_0x7bce74,prod_catdata:_0x474a87}=_0x3f0715[_0x10b0e8(0x17c)];_0x3f0715[_0x10b0e8(0x14b)]&&(_0x4c24b9[_0x10b0e8(0x19b)]=_0x3f0715['file'][_0x10b0e8(0x146)]);_0x4c24b9[_0x10b0e8(0x177)]=_0x37ce89,_0x4c24b9[_0x10b0e8(0x171)]=_0x4c7712,_0x4c24b9[_0x10b0e8(0x149)]=_0x39ed5f,_0x4c24b9[_0x10b0e8(0x1f6)]=_0x4fb170,_0x4c24b9[_0x10b0e8(0x1af)]=_0x23feae,_0x4c24b9[_0x10b0e8(0x1cc)]=_0x3a244a,_0x4c24b9['product_code']=_0x4b7eec,_0x4c24b9[_0x10b0e8(0x198)]=_0x36d8c0,_0x4c24b9[_0x10b0e8(0x1a8)]=_0x15b663,_0x4c24b9['secondary_code']=_0x3c46ce,_0x4c24b9[_0x10b0e8(0x186)]=_0x3de834,_0x4c24b9[_0x10b0e8(0x1be)]=_0x7bce74,_0x4c24b9[_0x10b0e8(0x1e6)]=_0x1ba764,_0x4c24b9['product_category']=_0x474a87;const _0x4b6424=await _0x4c24b9['save']();console['log'](_0x10b0e8(0x178),_0x4c24b9),_0x3f0715[_0x10b0e8(0x147)](_0x10b0e8(0x1f0),_0x10b0e8(0x1dc)),_0x44f39d['redirect'](_0x10b0e8(0x1f2));}catch(_0x48d96f){console[_0x10b0e8(0x138)](_0x48d96f);}}),router['get'](a0_0x3bf538(0x19a),auth,async(_0x4da159,_0x3f01df)=>{const _0x4801c8=a0_0x3bf538;try{const {username:_0x5a767b,email:_0x2d05e3,role:_0x649aea}=_0x4da159['user'],_0x3fcc9f=_0x4da159[_0x4801c8(0x156)],_0x1cb7b5=await profile['findOne']({'email':_0x3fcc9f['email']}),_0x155b7f=await master_shop[_0x4801c8(0x19d)]();console[_0x4801c8(0x138)](_0x4801c8(0x1dd),_0x155b7f);const _0x1af177=_0x4da159['params']['id'],_0x50b8e3=await product[_0x4801c8(0x180)](_0x1af177);console['log']('barcode\x20user_id',_0x50b8e3);if(_0x155b7f[0x0]['language']=='English\x20(US)')var _0x243993=users['English'];else{if(_0x155b7f[0x0][_0x4801c8(0x1ce)]==_0x4801c8(0x162))var _0x243993=users[_0x4801c8(0x162)];else{if(_0x155b7f[0x0]['language']=='German')var _0x243993=users[_0x4801c8(0x1d6)];else{if(_0x155b7f[0x0][_0x4801c8(0x1ce)]==_0x4801c8(0x1a2))var _0x243993=users[_0x4801c8(0x1a2)];else{if(_0x155b7f[0x0][_0x4801c8(0x1ce)]=='French')var _0x243993=users['French'];else{if(_0x155b7f[0x0][_0x4801c8(0x1ce)]==_0x4801c8(0x1b9))var _0x243993=users[_0x4801c8(0x1b5)];else{if(_0x155b7f[0x0][_0x4801c8(0x1ce)]=='Chinese')var _0x243993=users[_0x4801c8(0x18a)];else{if(_0x155b7f[0x0][_0x4801c8(0x1ce)]==_0x4801c8(0x1d5))var _0x243993=users[_0x4801c8(0x15f)];}}}}}}}_0x3f01df[_0x4801c8(0x169)](_0x4801c8(0x195),{'success':_0x4da159[_0x4801c8(0x147)](_0x4801c8(0x1f0)),'errors':_0x4da159['flash'](_0x4801c8(0x165)),'role':_0x3fcc9f,'profile':_0x1cb7b5,'alldata':_0x50b8e3,'master_shop':_0x155b7f,'language':_0x243993});}catch(_0x2dfa3a){console[_0x4801c8(0x138)](_0x2dfa3a);}}),router[a0_0x3bf538(0x160)](a0_0x3bf538(0x1c4),auth,async(_0x144a95,_0x56d7d6)=>{const _0x12d7da=a0_0x3bf538;try{const _0x4a9ed5=new excelJS[(_0x12d7da(0x1ec))](),_0x28231c=_0x4a9ed5[_0x12d7da(0x1c3)](_0x12d7da(0x174));return _0x28231c[_0x12d7da(0x1c9)]=[{'header':_0x12d7da(0x1e7),'key':'PName','width':0xa},{'header':_0x12d7da(0x13d),'key':_0x12d7da(0x1ef),'width':0xa},{'header':'Units','key':'PUnits','width':0xa},{'header':_0x12d7da(0x1e0),'key':'PSecondaryUnits','width':0xa},{'header':_0x12d7da(0x1f5),'key':_0x12d7da(0x154),'width':0xa},{'header':'Primary_Code','key':_0x12d7da(0x187),'width':0xa},{'header':_0x12d7da(0x1e2),'key':_0x12d7da(0x187),'width':0xa},{'header':_0x12d7da(0x151),'key':_0x12d7da(0x187),'width':0xa},{'header':'Category','key':_0x12d7da(0x181),'width':0xa},{'header':_0x12d7da(0x15d),'key':_0x12d7da(0x140),'width':0xa},{'header':'Maximum_Stocks','key':_0x12d7da(0x140),'width':0xa},{'header':_0x12d7da(0x1d8),'key':_0x12d7da(0x161),'width':0xa}],_0x56d7d6[_0x12d7da(0x1f4)](_0x12d7da(0x158),'application/vnd.openxmlformats-officedocument.spreadsheatml.sheet'),_0x56d7d6['setHeader'](_0x12d7da(0x185),'attachment;\x20filename=Product_Migration_File.xlsx'),_0x4a9ed5[_0x12d7da(0x188)][_0x12d7da(0x1b3)](_0x56d7d6)[_0x12d7da(0x1de)](()=>{const _0x13d17f=_0x12d7da;_0x56d7d6[_0x13d17f(0x1ee)](0xc8);});}catch(_0xd2f473){_0x56d7d6[_0x12d7da(0x1ee)](0x190)[_0x12d7da(0x1a5)](_0xd2f473);}});const storage1=multer[a0_0x3bf538(0x1db)]({'destination':(_0x55452e,_0x3ff625,_0x37e88c)=>{_0x37e88c(null,'public/Migration');},'filename':(_0x429cd8,_0x321362,_0x353a1c)=>{const _0x3ae9a0=a0_0x3bf538;_0x353a1c(null,Date[_0x3ae9a0(0x16a)]()+_0x321362[_0x3ae9a0(0x19e)]);}}),uploadMigrate=multer({'storage':storage1});router[a0_0x3bf538(0x15a)](a0_0x3bf538(0x159),auth,uploadMigrate[a0_0x3bf538(0x194)]('migrate_product_fule'),async(_0x203a9f,_0x48fe5c)=>{const _0x31fc05=a0_0x3bf538,_0x10efd1=_0x203a9f[_0x31fc05(0x14b)][_0x31fc05(0x146)],_0x327c50=await xlsx[_0x31fc05(0x168)](_0x31fc05(0x141)+_0x10efd1);let _0x1f78eb=_0x327c50['SheetNames'],_0x409b9c=xlsx[_0x31fc05(0x19f)][_0x31fc05(0x1ba)](_0x327c50[_0x31fc05(0x13b)][_0x1f78eb[0x0]]);for(const _0x5c2d4f of _0x409b9c){const _0x3d4388=_0x5c2d4f[_0x31fc05(0x1e7)],_0x51dc0a=_0x5c2d4f[_0x31fc05(0x13d)],_0x21fcee=_0x5c2d4f[_0x31fc05(0x1fa)],_0x273a7e=_0x5c2d4f['Secondary_Units'],_0x5724a9=_0x5c2d4f[_0x31fc05(0x151)],_0x3b7d69=_0x5c2d4f[_0x31fc05(0x150)],_0x4fea61=_0x5c2d4f[_0x31fc05(0x15d)],_0x3a7dfa=_0x5c2d4f[_0x31fc05(0x175)],_0x5abcb4=_0x5c2d4f['Secondary_Code'],_0x3f183d=_0x5c2d4f[_0x31fc05(0x1e5)],_0x5d94b2=_0x5c2d4f[_0x31fc05(0x1f5)],_0xb8f25b=_0x5c2d4f['Products_category'];try{let _0x27a93d=await categories['findOne']({'name':_0x3b7d69});if(!_0x27a93d){const _0x441c86=new categories({'name':_0x3b7d69,'products':'0'});_0x27a93d=await _0x441c86[_0x31fc05(0x1bd)]();}let _0x3a14f1=await brands[_0x31fc05(0x145)]({'name':_0x51dc0a});if(!_0x3a14f1){const _0x58bb1c=new brands({'name':_0x51dc0a,'products':'0'});_0x3a14f1=await _0x58bb1c[_0x31fc05(0x1bd)]();}let _0x19456c=await units['findOne']({'name':_0x21fcee,'secondary_unit':_0x273a7e});if(!_0x19456c){const _0x222fe1=new units({'name':_0x21fcee,'secondary_unit':_0x273a7e,'products':'0'});_0x19456c=await _0x222fe1['save']();}const _0x12c33f=await product[_0x31fc05(0x19d)]({'name':_0x3d4388,'category':_0x27a93d[_0x31fc05(0x177)],'brand':_0x3a14f1['name'],'secondary_unit':_0x19456c[_0x31fc05(0x186)],'product_code':_0x5724a9});console[_0x31fc05(0x138)](_0x12c33f['length']+_0x31fc05(0x1ca)+_0x27a93d['name']+_0x31fc05(0x1ca)+_0x3a14f1[_0x31fc05(0x177)]+_0x31fc05(0x1ca)+_0x19456c[_0x31fc05(0x186)]+_0x31fc05(0x1ca)+_0x5724a9+'\x20<>\x20'+_0x3d4388);if(_0x12c33f['length']===0x0){const _0x198214=new product({'image':_0x31fc05(0x199),'name':_0x3d4388,'category':_0x27a93d[_0x31fc05(0x177)],'brand':_0x3a14f1['name'],'unit':_0x19456c[_0x31fc05(0x177)],'alertquantity':_0x4fea61,'product_code':_0x5724a9,'secondary_unit':_0x19456c[_0x31fc05(0x186)],'primary_code':_0x3a7dfa,'secondary_code':_0x5abcb4,'maxStocks':_0x3f183d,'maxProdPerUnit':_0x5d94b2,'product_category':_0xb8f25b}),_0x15c825=await _0x198214[_0x31fc05(0x1bd)]();_0x27a93d[_0x31fc05(0x163)]=parseInt(_0x27a93d[_0x31fc05(0x163)])+0x1,await _0x27a93d['save'](),_0x3a14f1[_0x31fc05(0x163)]=parseInt(_0x3a14f1[_0x31fc05(0x163)])+0x1,await _0x3a14f1[_0x31fc05(0x1bd)](),_0x19456c[_0x31fc05(0x163)]=parseInt(_0x19456c[_0x31fc05(0x163)])+0x1,await _0x19456c['save'](),_0x203a9f[_0x31fc05(0x147)](_0x31fc05(0x1f0),_0x3d4388+_0x31fc05(0x1c7));}else{console[_0x31fc05(0x138)](_0x12c33f[0x0]);const _0x4f11b9=_0x12c33f[0x0];_0x4f11b9['category']=_0x27a93d[_0x31fc05(0x177)],_0x4f11b9[_0x31fc05(0x149)]=_0x3a14f1[_0x31fc05(0x177)],_0x4f11b9['unit']=_0x19456c[_0x31fc05(0x177)],_0x4f11b9[_0x31fc05(0x1cc)]=_0x4fea61,_0x4f11b9[_0x31fc05(0x1df)]=_0x5724a9,_0x4f11b9[_0x31fc05(0x186)]=_0x19456c['secondary_unit'],_0x4f11b9[_0x31fc05(0x1a8)]=_0x3a7dfa,_0x4f11b9[_0x31fc05(0x17b)]=_0x5abcb4,_0x4f11b9[_0x31fc05(0x1be)]=_0x3f183d,_0x4f11b9[_0x31fc05(0x1e6)]=_0x5d94b2,_0x4f11b9['product_category']=_0xb8f25b;const _0x5b5bef=await _0x4f11b9[_0x31fc05(0x1bd)]();_0x203a9f[_0x31fc05(0x147)](_0x31fc05(0x1f0),_0x5b5bef[_0x31fc05(0x177)]+'\x20Edit\x20Successfully');}}catch(_0x37069d){_0x48fe5c[_0x31fc05(0x1ee)](0x1f4)[_0x31fc05(0x13c)]({'proderror':_0x37069d[_0x31fc05(0x16e)],'aproduct':_0x3d4388});}}_0x48fe5c[_0x31fc05(0x1e4)](_0x31fc05(0x1f2));}),router[a0_0x3bf538(0x15a)]('/select_data',auth,async(_0x62fe6b,_0x204518)=>{const _0x2de6d0=a0_0x3bf538;try{console['log'](_0x62fe6b[_0x2de6d0(0x17c)]);const {data_cateory:_0x2b4bf3,datachoose:_0x43cffc}=_0x62fe6b['body'];var _0x282f50;if(_0x43cffc==_0x2de6d0(0x1eb))_0x282f50=await product[_0x2de6d0(0x184)]([{'$group':{'_id':_0x2de6d0(0x1bc)}}]);else{if(_0x43cffc==_0x2de6d0(0x176))_0x282f50=await product[_0x2de6d0(0x184)]([{'$match':{'product_category':_0x2b4bf3}},{'$group':{'_id':_0x2de6d0(0x183)}}]);else _0x43cffc=='categ'&&(_0x282f50=await product[_0x2de6d0(0x184)]([{'$match':{'product_category':_0x2b4bf3}},{'$group':{'_id':_0x2de6d0(0x1c1)}}]));}_0x204518[_0x2de6d0(0x13c)](_0x282f50);}catch(_0x39a0bb){_0x204518[_0x2de6d0(0x13c)]({'message':_0x39a0bb['message']});}}),router[a0_0x3bf538(0x15a)](a0_0x3bf538(0x1fb),auth,async(_0x4d0c6a,_0x312d69)=>{const _0x2c1739=a0_0x3bf538;try{const {data_choosing:_0x3bdb3a,data_selected:_0x4c6ff0}=_0x4d0c6a[_0x2c1739(0x17c)];var _0x152287;if(_0x3bdb3a==_0x2c1739(0x1eb))_0x152287=await product['aggregate']([{'$match':{'product_category':_0x4c6ff0}}]);else{if(_0x3bdb3a==_0x2c1739(0x176))_0x152287=await product[_0x2c1739(0x184)]([{'$match':{'brand':_0x4c6ff0}}]);else _0x3bdb3a==_0x2c1739(0x17e)&&(_0x152287=await product['aggregate']([{'$match':{'category':_0x4c6ff0}}]));}_0x312d69[_0x2c1739(0x13c)](_0x152287);}catch(_0x5e7d94){_0x312d69[_0x2c1739(0x13c)]({'message':_0x5e7d94['message']});}}),router['get'](a0_0x3bf538(0x19c),auth,async(_0x31df88,_0x3e10be)=>{const _0x2c6b68=a0_0x3bf538,_0x446f4b=_0x31df88['user'],_0x1c17f9=await profile[_0x2c6b68(0x145)]({'email':_0x446f4b['email']}),_0x14efe8=await master_shop[_0x2c6b68(0x19d)](),_0x261edd=await product['find']();if(_0x14efe8[0x0][_0x2c6b68(0x1ce)]==_0x2c6b68(0x1ae))var _0x396d8b=users[_0x2c6b68(0x173)];else{if(_0x14efe8[0x0][_0x2c6b68(0x1ce)]=='Hindi')var _0x396d8b=users[_0x2c6b68(0x162)];else{if(_0x14efe8[0x0][_0x2c6b68(0x1ce)]==_0x2c6b68(0x1d6))var _0x396d8b=users['German'];else{if(_0x14efe8[0x0][_0x2c6b68(0x1ce)]=='Spanish')var _0x396d8b=users[_0x2c6b68(0x1a2)];else{if(_0x14efe8[0x0][_0x2c6b68(0x1ce)]==_0x2c6b68(0x1fc))var _0x396d8b=users[_0x2c6b68(0x1fc)];else{if(_0x14efe8[0x0][_0x2c6b68(0x1ce)]==_0x2c6b68(0x1b9))var _0x396d8b=users[_0x2c6b68(0x1b5)];else{if(_0x14efe8[0x0][_0x2c6b68(0x1ce)]==_0x2c6b68(0x18a))var _0x396d8b=users[_0x2c6b68(0x18a)];else{if(_0x14efe8[0x0][_0x2c6b68(0x1ce)]==_0x2c6b68(0x1d5))var _0x396d8b=users[_0x2c6b68(0x15f)];}}}}}}}_0x3e10be[_0x2c6b68(0x169)](_0x2c6b68(0x143),{'success':_0x31df88[_0x2c6b68(0x147)](_0x2c6b68(0x1f0)),'errors':_0x31df88['flash']('errors'),'role':_0x446f4b,'profile':_0x1c17f9,'products':_0x261edd,'master_shop':_0x14efe8,'language':_0x396d8b});}),router[a0_0x3bf538(0x15a)](a0_0x3bf538(0x172),auth,async(_0x497d6f,_0x1d06db)=>{const _0x214632=a0_0x3bf538,_0x3f8ee4=await product[_0x214632(0x19d)]();_0x1d06db[_0x214632(0x13c)]({'data':_0x3f8ee4});}),router['post'](a0_0x3bf538(0x1a9),auth,async(_0x32acc9,_0x314676)=>{const _0x152993=a0_0x3bf538;try{const {dataProdCat:_0x4664ad,dataProdIdentity:_0x27df02}=_0x32acc9[_0x152993(0x17c)];var _0xbd9739;switch(_0x4664ad){case'fg':switch(_0x27df02){case _0x152993(0x13d):_0xbd9739=await product[_0x152993(0x184)]([{'$match':{'product_category':_0x152993(0x1ab)}},{'$group':{'_id':_0x152993(0x183)}},{'$project':{'brand':_0x152993(0x1d4)}}]);break;case _0x152993(0x150):_0xbd9739=await product['aggregate']([{'$match':{'product_category':_0x152993(0x1ab)}},{'$group':{'_id':'$category'}},{'$project':{'category':_0x152993(0x1d4)}}]);break;}break;case'rm':switch(_0x27df02){case _0x152993(0x13d):_0xbd9739=await product[_0x152993(0x184)]([{'$match':{'product_category':_0x152993(0x1c2)}},{'$group':{'_id':'$brand'}},{'$project':{'brand':_0x152993(0x1d4)}}]);break;case _0x152993(0x150):_0xbd9739=await product[_0x152993(0x184)]([{'$match':{'product_category':_0x152993(0x1c2)}},{'$group':{'_id':_0x152993(0x1c1)}},{'$project':{'category':_0x152993(0x1d4)}}]);break;}break;}_0x314676[_0x152993(0x13c)](_0xbd9739);}catch(_0x1cbb3a){_0x314676[_0x152993(0x13c)]({'message':_0x1cbb3a['message']});}}),router[a0_0x3bf538(0x15a)]('/print_barcode_filter/',auth,async(_0x2a6408,_0x359f29)=>{const _0xe37697=a0_0x3bf538;try{console['log'](_0x2a6408[_0xe37697(0x17c)]);const {prod_cat:_0x439bf8,identity:_0x462778,valueData:_0x21264a,typeofbarcode:_0x17c404}=_0x2a6408[_0xe37697(0x17c)];let _0x249f85;switch(_0x439bf8){case'fg':if(_0x462778==_0xe37697(0x13d))_0x249f85=await product[_0xe37697(0x184)]([{'$match':{'product_category':_0xe37697(0x1ab),'brand':_0x21264a}}]);else _0x462778==_0xe37697(0x150)&&(_0x249f85=await product[_0xe37697(0x184)]([{'$match':{'product_category':_0xe37697(0x1ab),'category':_0x21264a}}]));break;case'rm':if(_0x462778==_0xe37697(0x13d))_0x249f85=await product[_0xe37697(0x184)]([{'$match':{'product_category':_0xe37697(0x1c2),'brand':_0x21264a}}]);else _0x462778==_0xe37697(0x150)&&(_0x249f85=await product[_0xe37697(0x184)]([{'$match':{'product_category':_0xe37697(0x1c2),'category':_0x21264a}}]));break;}const _0x1f5383=_0x8dc460=>_0x8dc460*0x48,_0x453711={'width':0x3,'height':0x1},_0x536eb9=new PDFDocument({'margin':_0x1f5383(0.75),'size':[_0x1f5383(_0x453711['width']),_0x1f5383(_0x453711[_0xe37697(0x1f1)])],'bufferPages':!![]}),_0x3e29c7=_0x249f85[_0xe37697(0x18c)];for(let _0x175d8f=0x0;_0x175d8f<=_0x3e29c7;_0x175d8f++){if(_0x175d8f!=_0x3e29c7){const _0x1f154f=_0x249f85[_0x175d8f][_0xe37697(0x177)],_0x258dba=_0x249f85[_0x175d8f][_0xe37697(0x1a8)],_0x45a53e=_0x249f85[_0x175d8f]['secondary_code'],_0x1e4d1=_0x249f85[_0x175d8f][_0xe37697(0x1df)];var _0x1ae485;switch(_0x17c404){case'1':_0x1ae485=_0x258dba;break;case'2':_0x1ae485=_0x45a53e;break;case'3':_0x1ae485=_0x1e4d1;break;}const _0x46df0e={'width':0xd2,'height':0x64},_0x317165={'width':_0x1f5383(_0x453711[_0xe37697(0x1b8)]),'height':_0x1f5383(_0x453711[_0xe37697(0x1f1)])},_0x5b8fe6=new Canvas();JsBarcode(_0x5b8fe6,_0x1ae485,{'format':_0xe37697(0x1c6),'height':_0x46df0e[_0xe37697(0x1f1)],'displayValue':!![],'text':_0x1ae485});const _0x279a01=_0x5b8fe6[_0xe37697(0x1c0)](),_0x20485f=_0x317165['width']/_0x46df0e[_0xe37697(0x1b8)],_0x2a5dee=_0x317165[_0xe37697(0x1f1)]/_0x46df0e[_0xe37697(0x1f1)],_0xc3b483=Math[_0xe37697(0x157)](_0x20485f,_0x2a5dee),_0x4ac3d9=_0x46df0e[_0xe37697(0x1b8)]*_0xc3b483,_0x59816a=_0x46df0e[_0xe37697(0x1f1)]*_0xc3b483,_0x553a9d=(_0x317165[_0xe37697(0x1b8)]-_0x4ac3d9)/0x2,_0x1b881d=(_0x317165[_0xe37697(0x1f1)]-_0x59816a)/0x2;_0x536eb9[_0xe37697(0x19b)](_0x279a01,_0x553a9d,_0x1b881d,{'width':_0x4ac3d9,'height':_0x59816a}),_0x175d8f!=_0x3e29c7&&_0x536eb9[_0xe37697(0x1b7)]();}}const _0x1ce356=[];_0x536eb9['on'](_0xe37697(0x15b),_0x1ce356[_0xe37697(0x15e)][_0xe37697(0x1f7)](_0x1ce356)),_0x536eb9['on']('end',()=>{const _0x49b20e=_0xe37697,_0x4574c2=Buffer['concat'](_0x1ce356),_0x592932=_0x4574c2[_0x49b20e(0x148)](_0x49b20e(0x18d));_0x359f29[_0x49b20e(0x13c)]({'pdfContent':_0x592932});}),_0x536eb9['end']();}catch(_0x2fea51){_0x359f29[_0xe37697(0x13c)]({'message':_0x2fea51[_0xe37697(0x16e)]});}}),router[a0_0x3bf538(0x15a)](a0_0x3bf538(0x1aa),auth,async(_0xc5a223,_0x7ab790)=>{const _0x3c4725=a0_0x3bf538;try{console[_0x3c4725(0x138)](_0xc5a223[_0x3c4725(0x17c)]);const {prod_cat:_0x2712a1,identity:_0xa96803,valueData:_0x32392d}=_0xc5a223[_0x3c4725(0x17c)];let _0x3ac9a1;switch(_0x2712a1){case'fg':if(_0xa96803=='Brands')_0x3ac9a1=await product['aggregate']([{'$match':{'product_category':'Finished\x20Goods','brand':_0x32392d}}]);else _0xa96803=='Category'&&(_0x3ac9a1=await product[_0x3c4725(0x184)]([{'$match':{'product_category':'Finished\x20Goods','category':_0x32392d}}]));break;case'rm':if(_0xa96803=='Brands')_0x3ac9a1=await product[_0x3c4725(0x184)]([{'$match':{'product_category':_0x3c4725(0x1c2),'brand':_0x32392d}}]);else _0xa96803=='Category'&&(_0x3ac9a1=await product[_0x3c4725(0x184)]([{'$match':{'product_category':'Raw\x20Materials','category':_0x32392d}}]));break;}_0x7ab790[_0x3c4725(0x13c)]({'data':_0x3ac9a1});}catch(_0x56c6e7){_0x7ab790[_0x3c4725(0x13c)]({'message':_0x56c6e7[_0x3c4725(0x16e)]});}}),router['post'](a0_0x3bf538(0x191),auth,async(_0x2a3cc5,_0x34ed73)=>{const _0x3a0b2f=a0_0x3bf538;try{const _0xeaa9c3=_0x2a3cc5['params']['id'],{copies:_0x2e0b66,typeofbarcode:_0x3831c9}=_0x2a3cc5[_0x3a0b2f(0x17c)];var _0x5acbac=await product[_0x3a0b2f(0x180)](_0xeaa9c3);const _0x489b06=_0x3f94de=>_0x3f94de*0x48,_0x3f7b67={'width':0x3,'height':0x1},_0x1553ab=new PDFDocument({'margin':_0x489b06(0.75),'size':[_0x489b06(_0x3f7b67[_0x3a0b2f(0x1b8)]),_0x489b06(_0x3f7b67[_0x3a0b2f(0x1f1)])],'bufferPages':!![]}),_0x497003=_0x2e0b66,_0x2aa11e=_0x5acbac[_0x3a0b2f(0x177)],_0x3f516f=_0x5acbac[_0x3a0b2f(0x1a8)],_0x551578=_0x5acbac[_0x3a0b2f(0x17b)],_0x3816ba=_0x5acbac[_0x3a0b2f(0x1df)];let _0x4c91fe;switch(_0x3831c9){case'1':_0x4c91fe=_0x3f516f;break;case'2':_0x4c91fe=_0x551578;break;case'3':_0x4c91fe=_0x3816ba;break;}const _0x392f02={'width':0xd2,'height':0x64},_0x50a2db={'width':_0x489b06(_0x3f7b67[_0x3a0b2f(0x1b8)]),'height':_0x489b06(_0x3f7b67[_0x3a0b2f(0x1f1)])};for(let _0x202b43=0x1;_0x202b43<=_0x497003;_0x202b43++){const _0x484261=new Canvas();JsBarcode(_0x484261,_0x4c91fe,{'format':_0x3a0b2f(0x1c6),'height':_0x392f02[_0x3a0b2f(0x1f1)],'displayValue':!![],'text':_0x4c91fe});const _0x3de98d=_0x484261[_0x3a0b2f(0x1c0)](),_0x30bc1e=_0x50a2db[_0x3a0b2f(0x1b8)]/_0x392f02[_0x3a0b2f(0x1b8)],_0x51ab77=_0x50a2db[_0x3a0b2f(0x1f1)]/_0x392f02['height'],_0x33fdb6=Math['min'](_0x30bc1e,_0x51ab77),_0xb61765=_0x392f02['width']*_0x33fdb6,_0x138f82=_0x392f02[_0x3a0b2f(0x1f1)]*_0x33fdb6,_0x480faf=(_0x50a2db['width']-_0xb61765)/0x2,_0x7435f=(_0x50a2db[_0x3a0b2f(0x1f1)]-_0x138f82)/0x2;_0x1553ab[_0x3a0b2f(0x19b)](_0x3de98d,_0x480faf,_0x7435f,{'width':_0xb61765,'height':_0x138f82}),_0x202b43!=_0x497003&&_0x1553ab['addPage']();}const _0xf6f3b4=[];_0x1553ab['on']('data',_0xf6f3b4[_0x3a0b2f(0x15e)]['bind'](_0xf6f3b4)),_0x1553ab['on']('end',()=>{const _0x317dd7=_0x3a0b2f,_0x39aba3=Buffer['concat'](_0xf6f3b4),_0x781d78=_0x39aba3['toString'](_0x317dd7(0x18d));_0x34ed73[_0x317dd7(0x13c)]({'pdfContent':_0x781d78});}),_0x1553ab[_0x3a0b2f(0x14a)]();}catch(_0x2ab687){_0x34ed73[_0x3a0b2f(0x13c)]({'message':_0x2ab687[_0x3a0b2f(0x16e)]});}}),module[a0_0x3bf538(0x1a6)]=router;function a0_0x1457(){const _0x2d35f9=['master','categories\x20data\x20delete\x20successfully','/categories','message','$product_name','product_docs','category','/barcode_data','English','Products','Primary_Code','brands','name','product\x20edit','/units','128200ylpcAj','secondary_code','body','email','categ','categories_edit','findById','PCat','add_product','$brand','aggregate','Content-Disposition','secondary_unit','ProductCode','xlsx','brand\x20data\x20update\x20successfully','Chinese','/products/units','length','base64','$product_details.product_name','285100aderRW','/products/brands','/print_barcode_single/:id','findByIdAndUpdate','181650wPkMfY','single','product_barcode','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Products\x20warehouse_data','warehouse','defaultProduct.avif','/barcode/:id','image','/print_barcode','find','originalname','utils','136yDaYIF','$product_details.product_stock','Spanish','335349wmonxn','unit\x20data\x20update\x20successfully','send','exports','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','primary_code','/barcode_filter','/print_barcode_filter_search/','Finished\x20Goods','/view/:id','Products\x20find_data','English\x20(US)','unit','$product_docs','findByIdAndDelete','/brands/:id','write','../models/all_models','Portuguese','hello','addPage','width','Portuguese\x20(BR)','sheet_to_json','express','$product_category','save','maxStocks','pdfkit-table','toBuffer','$category','Raw\x20Materials','addWorksheet','/products_export_migrate_file','/brands','CODE128','\x20added\x20successfully','numeric','columns','\x20<>\x20','categories','alertquantity','/view','language','Products\x20master','express/lib/response','stock','621nYpiCN','3186XOBCPy','$_id','Arabic\x20(ae)','German','\x20categories\x20is\x20add\x20successfully','Products_category','$product_stock','product\x20add\x20successfully','diskStorage','product\x20update\x20successfully','barcode\x20Product\x20master','then','product_code','Secondary_Units','21HOSdyr','Secondary_Code','4650162ssiArh','redirect','Maximum_Stocks','maxProdPerUnit','Product_Name','product_stock','params','209604WEmsxs','prod_categ','Workbook','/categories/:id','status','PBrands','success','height','/products/view','$secondary_unit','setHeader','max_number_per_units','sku','bind','/products/categories','canvas','Units','/filter_product','French','Router','public/upload','log','long','5IHPrWb','Sheets','json','Brands','/units/:id','Enabled','PAlQty','public/Migration/','edit\x20Product\x20master','product_barcode_products','map','findOne','filename','flash','toString','brand','end','file','unit\x20data\x20delete\x20successfully','product_details.product_name','units','edit_product','Category','Product_Code','$product_details','jsbarcode','MaxperUnits','forEach','user','min','Content-Type','/products_import_migrate_file','post','data','\x20unit\x20is\x20add\x20successfully','Alert_QTY','push','Arabic','get','Prod_Cat','Hindi','products','exceljs','errors','/view/add_products','\x20brand\x20is\x20add\x20successfully','readFile','render','now'];a0_0x1457=function(){return _0x2d35f9;};return a0_0x1457();}