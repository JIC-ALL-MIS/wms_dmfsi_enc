const a0_0x316ad9=a0_0x55be;(function(_0xd000ce,_0x2ebb71){const _0x485c0a=a0_0x55be,_0x535f16=_0xd000ce();while(!![]){try{const _0x184ecc=parseInt(_0x485c0a(0x257))/0x1*(parseInt(_0x485c0a(0x22d))/0x2)+parseInt(_0x485c0a(0x1ee))/0x3*(parseInt(_0x485c0a(0x1ae))/0x4)+-parseInt(_0x485c0a(0x23b))/0x5+-parseInt(_0x485c0a(0x1d4))/0x6+-parseInt(_0x485c0a(0x238))/0x7+-parseInt(_0x485c0a(0x226))/0x8*(-parseInt(_0x485c0a(0x267))/0x9)+-parseInt(_0x485c0a(0x1d8))/0xa;if(_0x184ecc===_0x2ebb71)break;else _0x535f16['push'](_0x535f16['shift']());}catch(_0x127cca){_0x535f16['push'](_0x535f16['shift']());}}}(a0_0x4d9a,0x54fd8));const express=require(a0_0x316ad9(0x201)),res=require(a0_0x316ad9(0x1f8)),app=express(),router=express[a0_0x316ad9(0x265)](),multer=require(a0_0x316ad9(0x222)),{profile,master_shop,categories,brands,units,product,purchases,warehouse}=require(a0_0x316ad9(0x224)),auth=require(a0_0x316ad9(0x21c)),users=require(a0_0x316ad9(0x220)),excelJS=require(a0_0x316ad9(0x1d0)),xlsx=require(a0_0x316ad9(0x1d2)),JsBarcode=require(a0_0x316ad9(0x1b6)),{Canvas}=require('canvas'),PDFDocument=require(a0_0x316ad9(0x260));router['get'](a0_0x316ad9(0x1c9),auth,async(_0x22dada,_0x519925)=>{const _0x34ad86=a0_0x316ad9;try{const {username:_0x169534,email:_0x3cf271,role:_0x1684fb}=_0x22dada[_0x34ad86(0x263)],_0xb18c60=_0x22dada['user'],_0x261279=await profile[_0x34ad86(0x20a)]({'email':_0xb18c60[_0x34ad86(0x1bb)]}),_0x9ac3d1=await master_shop['find']();console['log'](_0x34ad86(0x1fc),_0x9ac3d1);const _0x4cfb8c=await categories[_0x34ad86(0x207)]();if(_0x9ac3d1[0x0]['language']=='English\x20(US)')var _0x1d3eff=users[_0x34ad86(0x1c0)];else{if(_0x9ac3d1[0x0]['language']=='Hindi')var _0x1d3eff=users[_0x34ad86(0x1cc)];else{if(_0x9ac3d1[0x0][_0x34ad86(0x20c)]==_0x34ad86(0x1e6))var _0x1d3eff=users['German'];else{if(_0x9ac3d1[0x0]['language']=='Spanish')var _0x1d3eff=users['Spanish'];else{if(_0x9ac3d1[0x0]['language']==_0x34ad86(0x1c6))var _0x1d3eff=users['French'];else{if(_0x9ac3d1[0x0][_0x34ad86(0x20c)]==_0x34ad86(0x1c3))var _0x1d3eff=users['Portuguese'];else{if(_0x9ac3d1[0x0][_0x34ad86(0x20c)]==_0x34ad86(0x1d3))var _0x1d3eff=users['Chinese'];else{if(_0x9ac3d1[0x0][_0x34ad86(0x20c)]==_0x34ad86(0x26e))var _0x1d3eff=users[_0x34ad86(0x227)];}}}}}}}_0x519925[_0x34ad86(0x1be)](_0x34ad86(0x248),{'success':_0x22dada['flash'](_0x34ad86(0x228)),'errors':_0x22dada['flash'](_0x34ad86(0x1ec)),'role':_0xb18c60,'profile':_0x261279,'user':_0x4cfb8c,'master_shop':_0x9ac3d1,'language':_0x1d3eff});}catch(_0xb44e0b){console[_0x34ad86(0x252)](_0xb44e0b);}}),router[a0_0x316ad9(0x255)](a0_0x316ad9(0x1c9),auth,async(_0x3cdc15,_0x1179bd)=>{const _0x506d66=a0_0x316ad9;try{const {name:_0x32fcd5,products:_0x5174c9}=_0x3cdc15[_0x506d66(0x240)],_0x4d8ac4=new categories({'name':_0x32fcd5,'products':_0x5174c9}),_0x8ebb15=await categories[_0x506d66(0x20a)]({'name':_0x32fcd5});_0x8ebb15?_0x3cdc15[_0x506d66(0x21e)](_0x506d66(0x1ec),_0x32fcd5+_0x506d66(0x209)):_0x3cdc15[_0x506d66(0x21e)]('success',_0x32fcd5+_0x506d66(0x21a));const _0x37e850=await _0x4d8ac4['save']();_0x1179bd[_0x506d66(0x219)](_0x506d66(0x1e1));}catch(_0x1c6013){console[_0x506d66(0x252)](_0x1c6013);}}),router[a0_0x316ad9(0x239)]('/categories/:id',auth,async(_0x25c32a,_0x2be2c4)=>{const _0x2612d7=a0_0x316ad9;try{const {username:_0xd214b6,email:_0x395319,role:_0x3cf5d0}=_0x25c32a[_0x2612d7(0x263)],_0x4d9925=_0x25c32a[_0x2612d7(0x263)],_0x88517f=await profile[_0x2612d7(0x20a)]({'email':_0x4d9925[_0x2612d7(0x1bb)]}),_0xa87f68=await master_shop[_0x2612d7(0x207)]();console[_0x2612d7(0x252)](_0x2612d7(0x1fc),_0xa87f68);const _0x57a7ec=_0x25c32a[_0x2612d7(0x1f2)]['id'];console[_0x2612d7(0x252)](_0x57a7ec);const _0xa3ee8b=await categories['findById'](_0x57a7ec);if(_0xa87f68[0x0][_0x2612d7(0x20c)]=='English\x20(US)')var _0x33dc8a=users[_0x2612d7(0x1c0)];else{if(_0xa87f68[0x0][_0x2612d7(0x20c)]==_0x2612d7(0x1cc))var _0x33dc8a=users[_0x2612d7(0x1cc)];else{if(_0xa87f68[0x0][_0x2612d7(0x20c)]==_0x2612d7(0x1e6))var _0x33dc8a=users['German'];else{if(_0xa87f68[0x0]['language']==_0x2612d7(0x268))var _0x33dc8a=users[_0x2612d7(0x268)];else{if(_0xa87f68[0x0]['language']=='French')var _0x33dc8a=users[_0x2612d7(0x1c6)];else{if(_0xa87f68[0x0][_0x2612d7(0x20c)]=='Portuguese\x20(BR)')var _0x33dc8a=users[_0x2612d7(0x1b1)];else{if(_0xa87f68[0x0][_0x2612d7(0x20c)]==_0x2612d7(0x1d3))var _0x33dc8a=users[_0x2612d7(0x1d3)];else{if(_0xa87f68[0x0]['language']=='Arabic\x20(ae)')var _0x33dc8a=users[_0x2612d7(0x227)];}}}}}}}_0x2be2c4[_0x2612d7(0x1be)](_0x2612d7(0x248),{'success':_0x25c32a[_0x2612d7(0x21e)](_0x2612d7(0x228)),'errors':_0x25c32a[_0x2612d7(0x21e)](_0x2612d7(0x1ec)),'role':_0x4d9925,'profile':_0x88517f,'master_shop':_0xa87f68,'user':_0xa3ee8b,'language':_0x33dc8a});}catch(_0x121952){console[_0x2612d7(0x252)](_0x121952);}}),router[a0_0x316ad9(0x255)](a0_0x316ad9(0x1c2),auth,async(_0x29cb40,_0x47e946)=>{const _0x4b2b82=a0_0x316ad9;try{const _0x3cb38c=_0x29cb40[_0x4b2b82(0x1f2)]['id'],_0x46c92f=await categories['findByIdAndUpdate'](_0x3cb38c,_0x29cb40['body']);_0x29cb40[_0x4b2b82(0x21e)](_0x4b2b82(0x228),''+users['categories_edit']),_0x47e946[_0x4b2b82(0x219)](_0x4b2b82(0x1e1));}catch(_0x51196f){console[_0x4b2b82(0x252)](_0x51196f);}}),router[a0_0x316ad9(0x239)](a0_0x316ad9(0x210),auth,async(_0x2dac69,_0x15e275)=>{const _0x512ec2=a0_0x316ad9;try{const _0x3f4b0c=_0x2dac69[_0x512ec2(0x1f2)]['id'],_0x5b227b=await categories['findByIdAndDelete'](_0x3f4b0c);_0x2dac69[_0x512ec2(0x21e)](_0x512ec2(0x228),_0x512ec2(0x1bc)),_0x15e275[_0x512ec2(0x219)](_0x512ec2(0x1e1));}catch(_0x1859ce){console[_0x512ec2(0x252)](_0x1859ce);}}),router[a0_0x316ad9(0x239)](a0_0x316ad9(0x1cb),auth,async(_0x41d07f,_0x28caf2)=>{const _0x4794cf=a0_0x316ad9;try{const {username:_0xe3a5ec,email:_0x2ca0be,role:_0x143cf3}=_0x41d07f['user'],_0x1ccf3e=_0x41d07f['user'],_0x5cfe79=await profile[_0x4794cf(0x20a)]({'email':_0x1ccf3e['email']}),_0x16e77d=await master_shop[_0x4794cf(0x207)]();console[_0x4794cf(0x252)](_0x4794cf(0x1fc),_0x16e77d);const _0x153007=await brands[_0x4794cf(0x207)]();if(_0x16e77d[0x0][_0x4794cf(0x20c)]==_0x4794cf(0x25c))var _0xd01a88=users[_0x4794cf(0x1c0)];else{if(_0x16e77d[0x0][_0x4794cf(0x20c)]==_0x4794cf(0x1cc))var _0xd01a88=users[_0x4794cf(0x1cc)];else{if(_0x16e77d[0x0]['language']=='German')var _0xd01a88=users[_0x4794cf(0x1e6)];else{if(_0x16e77d[0x0][_0x4794cf(0x20c)]=='Spanish')var _0xd01a88=users[_0x4794cf(0x268)];else{if(_0x16e77d[0x0][_0x4794cf(0x20c)]==_0x4794cf(0x1c6))var _0xd01a88=users[_0x4794cf(0x1c6)];else{if(_0x16e77d[0x0][_0x4794cf(0x20c)]==_0x4794cf(0x1c3))var _0xd01a88=users[_0x4794cf(0x1b1)];else{if(_0x16e77d[0x0][_0x4794cf(0x20c)]==_0x4794cf(0x1d3))var _0xd01a88=users[_0x4794cf(0x1d3)];else{if(_0x16e77d[0x0]['language']==_0x4794cf(0x26e))var _0xd01a88=users[_0x4794cf(0x227)];}}}}}}}_0x28caf2['render'](_0x4794cf(0x1d9),{'success':_0x41d07f[_0x4794cf(0x21e)]('success'),'errors':_0x41d07f[_0x4794cf(0x21e)](_0x4794cf(0x1ec)),'role':_0x1ccf3e,'profile':_0x5cfe79,'master_shop':_0x16e77d,'user':_0x153007,'language':_0xd01a88});}catch(_0x5b24e9){console['log'](_0x5b24e9);}}),router[a0_0x316ad9(0x255)](a0_0x316ad9(0x1cb),auth,async(_0x25c068,_0x1ef063)=>{const _0x1af8b1=a0_0x316ad9;try{const {name:_0x4d5716,products:_0x29eac1}=_0x25c068[_0x1af8b1(0x240)],_0x2a3060=new brands({'name':_0x4d5716,'products':_0x29eac1}),_0x1e180a=await brands['findOne']({'name':_0x4d5716});_0x1e180a?_0x25c068[_0x1af8b1(0x21e)]('errors',_0x4d5716+_0x1af8b1(0x202)):_0x25c068['flash']('success',_0x4d5716+_0x1af8b1(0x245));const _0x10638f=await _0x2a3060['save']();_0x1ef063[_0x1af8b1(0x219)](_0x1af8b1(0x266));}catch(_0x2516ed){console[_0x1af8b1(0x252)](_0x2516ed);}}),router[a0_0x316ad9(0x239)](a0_0x316ad9(0x230),auth,async(_0x5f3571,_0x28bd92)=>{const _0x15e980=a0_0x316ad9;try{const {username:_0x108d55,email:_0x5a014f,role:_0xfb79b1}=_0x5f3571['user'],_0x1c54e0=_0x5f3571[_0x15e980(0x263)],_0x4103f4=await profile[_0x15e980(0x20a)]({'email':_0x1c54e0['email']}),_0x3ccefe=await master_shop[_0x15e980(0x207)]();console[_0x15e980(0x252)]('master',_0x3ccefe);const _0x3306c8=_0x5f3571['params']['id'];console[_0x15e980(0x252)](_0x3306c8);const _0x314465=await brands['findById'](_0x3306c8);if(_0x3ccefe[0x0][_0x15e980(0x20c)]==_0x15e980(0x25c))var _0x5146c8=users[_0x15e980(0x1c0)];else{if(_0x3ccefe[0x0]['language']=='Hindi')var _0x5146c8=users['Hindi'];else{if(_0x3ccefe[0x0]['language']==_0x15e980(0x1e6))var _0x5146c8=users[_0x15e980(0x1e6)];else{if(_0x3ccefe[0x0]['language']==_0x15e980(0x268))var _0x5146c8=users[_0x15e980(0x268)];else{if(_0x3ccefe[0x0][_0x15e980(0x20c)]=='French')var _0x5146c8=users[_0x15e980(0x1c6)];else{if(_0x3ccefe[0x0]['language']==_0x15e980(0x1c3))var _0x5146c8=users[_0x15e980(0x1b1)];else{if(_0x3ccefe[0x0]['language']==_0x15e980(0x1d3))var _0x5146c8=users['Chinese'];else{if(_0x3ccefe[0x0][_0x15e980(0x20c)]==_0x15e980(0x26e))var _0x5146c8=users[_0x15e980(0x227)];}}}}}}}_0x28bd92[_0x15e980(0x1be)](_0x15e980(0x1d9),{'success':_0x5f3571[_0x15e980(0x21e)](_0x15e980(0x228)),'errors':_0x5f3571['flash'](_0x15e980(0x1ec)),'role':_0x1c54e0,'profile':_0x4103f4,'master_shop':_0x3ccefe,'user':_0x314465,'language':_0x5146c8});}catch(_0x9f34a8){console[_0x15e980(0x252)](_0x9f34a8);}}),router[a0_0x316ad9(0x255)]('/brands/:id',auth,async(_0x5a7dca,_0x3931ec)=>{const _0x3b851e=a0_0x316ad9;try{const _0x3c798e=_0x5a7dca[_0x3b851e(0x1f2)]['id'],_0x9a9fd4=await brands[_0x3b851e(0x20f)](_0x3c798e,_0x5a7dca[_0x3b851e(0x240)]);_0x5a7dca[_0x3b851e(0x21e)](_0x3b851e(0x228),_0x3b851e(0x214)),_0x3931ec['redirect'](_0x3b851e(0x266));}catch(_0x2f5821){console[_0x3b851e(0x252)](_0x2f5821);}}),router[a0_0x316ad9(0x239)](a0_0x316ad9(0x1af),auth,async(_0x533596,_0x7d9819)=>{const _0x236d96=a0_0x316ad9;try{const _0x38b76a=_0x533596[_0x236d96(0x1f2)]['id'],_0x5165d2=await brands[_0x236d96(0x234)](_0x38b76a);_0x533596['flash'](_0x236d96(0x228),_0x236d96(0x1fa)),_0x7d9819['redirect'](_0x236d96(0x266));}catch(_0x53ff58){console[_0x236d96(0x252)](_0x53ff58);}}),router[a0_0x316ad9(0x239)](a0_0x316ad9(0x254),auth,async(_0x42f1d0,_0x2dde7d)=>{const _0x180ba8=a0_0x316ad9;try{const {username:_0x6e693f,email:_0x4f4cc2,role:_0xc7e8aa}=_0x42f1d0['user'],_0x4c6980=_0x42f1d0['user'],_0x4fdd8a=await profile['findOne']({'email':_0x4c6980[_0x180ba8(0x1bb)]}),_0x37bfff=await master_shop[_0x180ba8(0x207)]();console[_0x180ba8(0x252)](_0x180ba8(0x1fc),_0x37bfff);const _0x2271a2=await units[_0x180ba8(0x207)]();if(_0x37bfff[0x0][_0x180ba8(0x20c)]==_0x180ba8(0x25c))var _0x5554fc=users['English'];else{if(_0x37bfff[0x0]['language']=='Hindi')var _0x5554fc=users[_0x180ba8(0x1cc)];else{if(_0x37bfff[0x0][_0x180ba8(0x20c)]=='German')var _0x5554fc=users[_0x180ba8(0x1e6)];else{if(_0x37bfff[0x0][_0x180ba8(0x20c)]==_0x180ba8(0x268))var _0x5554fc=users[_0x180ba8(0x268)];else{if(_0x37bfff[0x0][_0x180ba8(0x20c)]==_0x180ba8(0x1c6))var _0x5554fc=users[_0x180ba8(0x1c6)];else{if(_0x37bfff[0x0][_0x180ba8(0x20c)]==_0x180ba8(0x1c3))var _0x5554fc=users[_0x180ba8(0x1b1)];else{if(_0x37bfff[0x0][_0x180ba8(0x20c)]=='Chinese')var _0x5554fc=users[_0x180ba8(0x1d3)];else{if(_0x37bfff[0x0][_0x180ba8(0x20c)]=='Arabic\x20(ae)')var _0x5554fc=users[_0x180ba8(0x227)];}}}}}}}_0x2dde7d[_0x180ba8(0x1be)](_0x180ba8(0x250),{'success':_0x42f1d0['flash']('success'),'errors':_0x42f1d0[_0x180ba8(0x21e)](_0x180ba8(0x1ec)),'role':_0x4c6980,'profile':_0x4fdd8a,'master_shop':_0x37bfff,'user':_0x2271a2,'language':_0x5554fc});}catch(_0x364ab1){console['log'](_0x364ab1);}}),router[a0_0x316ad9(0x255)](a0_0x316ad9(0x254),auth,async(_0x5d1707,_0x95a0ac)=>{const _0xd265f5=a0_0x316ad9;try{const {name:_0x421b77,secondary_unit:_0x1a2af7,products:_0x402b08}=_0x5d1707[_0xd265f5(0x240)],_0x222527=new units({'name':_0x421b77,'secondary_unit':_0x1a2af7,'products':_0x402b08}),_0x127182=await units[_0xd265f5(0x20a)]({'name':_0x421b77});_0x127182?_0x5d1707['flash']('errors',_0x421b77+_0xd265f5(0x26d)):_0x5d1707['flash'](_0xd265f5(0x228),_0x421b77+'\x20unit\x20is\x20add\x20successfully');const _0x51b2e5=await _0x222527['save']();_0x95a0ac[_0xd265f5(0x219)]('/products/units');}catch(_0x30faa4){console[_0xd265f5(0x252)](_0x30faa4);}}),router[a0_0x316ad9(0x239)](a0_0x316ad9(0x1e9),auth,async(_0x181559,_0xcec79e)=>{const _0x3da2d5=a0_0x316ad9;try{const {username:_0xe69aec,email:_0x12344c,role:_0x4d31b8}=_0x181559[_0x3da2d5(0x263)],_0x39634f=_0x181559['user'],_0x18c3ec=await profile[_0x3da2d5(0x20a)]({'email':_0x39634f[_0x3da2d5(0x1bb)]}),_0x1e5ca3=await master_shop['find']();console[_0x3da2d5(0x252)](_0x3da2d5(0x1fc),_0x1e5ca3);const _0x13468f=_0x181559['params']['id'],_0x59325b=await units[_0x3da2d5(0x1c8)](_0x13468f);if(_0x1e5ca3[0x0][_0x3da2d5(0x20c)]==_0x3da2d5(0x25c))var _0x1b04a9=users[_0x3da2d5(0x1c0)];else{if(_0x1e5ca3[0x0][_0x3da2d5(0x20c)]==_0x3da2d5(0x1cc))var _0x1b04a9=users[_0x3da2d5(0x1cc)];else{if(_0x1e5ca3[0x0][_0x3da2d5(0x20c)]=='German')var _0x1b04a9=users['German'];else{if(_0x1e5ca3[0x0]['language']==_0x3da2d5(0x268))var _0x1b04a9=users['Spanish'];else{if(_0x1e5ca3[0x0][_0x3da2d5(0x20c)]==_0x3da2d5(0x1c6))var _0x1b04a9=users[_0x3da2d5(0x1c6)];else{if(_0x1e5ca3[0x0]['language']==_0x3da2d5(0x1c3))var _0x1b04a9=users[_0x3da2d5(0x1b1)];else{if(_0x1e5ca3[0x0][_0x3da2d5(0x20c)]==_0x3da2d5(0x1d3))var _0x1b04a9=users[_0x3da2d5(0x1d3)];else{if(_0x1e5ca3[0x0][_0x3da2d5(0x20c)]=='Arabic\x20(ae)')var _0x1b04a9=users[_0x3da2d5(0x227)];}}}}}}}_0xcec79e[_0x3da2d5(0x1be)](_0x3da2d5(0x250),{'success':_0x181559[_0x3da2d5(0x21e)](_0x3da2d5(0x228)),'errors':_0x181559['flash'](_0x3da2d5(0x1ec)),'role':_0x39634f,'profile':_0x18c3ec,'master_shop':_0x1e5ca3,'user':_0x59325b,'language':_0x1b04a9});}catch(_0x21b617){console[_0x3da2d5(0x252)](_0x21b617);}}),router[a0_0x316ad9(0x255)](a0_0x316ad9(0x1e9),auth,async(_0x42f297,_0x320de0)=>{const _0x3f0a75=a0_0x316ad9;try{const _0x1b0fbc=_0x42f297['params']['id'],_0x41c4db=await units[_0x3f0a75(0x20f)](_0x1b0fbc,_0x42f297[_0x3f0a75(0x240)]);_0x42f297[_0x3f0a75(0x21e)]('success',_0x3f0a75(0x1cd)),_0x320de0[_0x3f0a75(0x219)](_0x3f0a75(0x1d6));}catch(_0x44c9cc){console[_0x3f0a75(0x252)](_0x44c9cc);}}),router[a0_0x316ad9(0x239)]('/units/delete/:id',auth,async(_0x5300cb,_0xd6ce39)=>{const _0x25b9f9=a0_0x316ad9;try{const _0xc5a131=_0x5300cb[_0x25b9f9(0x1f2)]['id'],_0x45d609=await units[_0x25b9f9(0x234)](_0xc5a131);_0x5300cb['flash']('success',_0x25b9f9(0x26b)),_0xd6ce39[_0x25b9f9(0x219)](_0x25b9f9(0x1d6));}catch(_0x2e9a87){console['log'](_0x2e9a87);}});function a0_0x4d9a(){const _0x23eb0d=['add_product','length','find','filename','\x20categories\x20is\x20alredy\x20added.\x20please\x20choose\x20another','findOne','product_details.product_name','language','/print_barcode_single/:id','Enabled','findByIdAndUpdate','/categories/delete/:id','Content-Disposition','product\x20edit','PBrands','brand\x20data\x20update\x20successfully','sku','name','edit\x20Product\x20master','originalname','redirect','\x20categories\x20is\x20add\x20successfully','$category','../middleware/auth','single','flash','exports','../public/language/languages.json','product_code','multer','concat','../models/all_models','width','12448HCNHhs','Arabic','success','/view','Brands','aggregate','PName','794034hzCojr','/select_data','categ','/brands/:id','Prod_Cat','barcode\x20Product\x20master','category','findByIdAndDelete','Product_Name','file','public/Migration/','3465539GizIme','get','Maximum_Stocks','984930wgyUwS','/barcode/:id','maxStocks','public/Migration','bind','body','Workbook','warehouse','/products_export_migrate_file','prod_categ','\x20brand\x20is\x20add\x20successfully','PAlQty','Primary_Code','categories','end','Products_category','Finished\x20Goods','Raw\x20Materials','alertquantity','application/vnd.openxmlformats-officedocument.spreadsheatml.sheet','Sheets','units','save','log','product\x20update\x20successfully','/units','post','toString','1DQdJDB','$product_details.product_stock','forEach','utils','secondary_unit','English\x20(US)','stock','readFile','Secondary_Units','pdfkit-table','product_barcode','diskStorage','user','/barcode_filter','Router','/products/brands','3960nsSrkG','Spanish','$product_category','ProductCode','unit\x20data\x20delete\x20successfully','MaxperUnits','\x20unit\x20is\x20alredy\x20added.\x20please\x20choose\x20another','Arabic\x20(ae)','/view/:id','/products/view','edit_product','116BjsRWg','/brands/delete/:id','product_docs','Portuguese','$product_stock','map','height','\x20Edit\x20Successfully','jsbarcode','base64','public/upload','/products_import_migrate_file','product_barcode_products','email','categories\x20data\x20delete\x20successfully','primary_code','render','products','English','sheet_to_json','/categories/:id','Portuguese\x20(BR)','Secondary_Code','secondary_code','French','$product_details','findById','/categories','/print_barcode_filter/','/brands','Hindi','unit\x20data\x20update\x20successfully','unit','message','exceljs','min','xlsx','Chinese','2260488EDLyCl','image','/products/units','maxProdPerUnit','291980HzqnkI','brands','addPage','Category','hello','Content-Type','PCat','PUnits','$product_details.product_name','/products/categories','numeric','Products','push','max_number_per_units','German','$product_docs','$secondary_unit','/units/:id','Units','Alert_QTY','errors','setHeader','37704UGcend','toBuffer','$_id','\x20<>\x20','params','json','PSecondaryUnits','status','product_category','then','express/lib/response','Products\x20warehouse_data','brand\x20data\x20delete\x20successfully','brand','master','Product_Code','write','defaultProduct.avif','CODE128','express','\x20brand\x20is\x20alredy\x20added.\x20please\x20choose\x20another','addWorksheet','long'];a0_0x4d9a=function(){return _0x23eb0d;};return a0_0x4d9a();}const storage=multer['diskStorage']({'destination':(_0x117e61,_0x2538bd,_0x59c755)=>{const _0x517513=a0_0x316ad9;_0x59c755(null,_0x517513(0x1b8));},'filename':(_0x534d7d,_0x4bc57c,_0x24af91)=>{_0x24af91(null,Date['now']()+_0x4bc57c['originalname']);}}),upload=multer({'storage':storage});router[a0_0x316ad9(0x239)](a0_0x316ad9(0x229),auth,async(_0x16e04a,_0x9ef948)=>{const _0x178966=a0_0x316ad9;try{const {username:_0x3142a9,email:_0x3ef1f7,role:_0x301e48}=_0x16e04a[_0x178966(0x263)],_0x1231ee=_0x16e04a['user'],_0x28af67=await profile[_0x178966(0x20a)]({'email':_0x1231ee[_0x178966(0x1bb)]}),_0x55f58e={'year':_0x178966(0x1e2),'month':_0x178966(0x204),'day':_0x178966(0x1e2)},_0x54bde3=await master_shop['find']();console['log']('Products\x20master',_0x54bde3);const _0x8c2a31=await product['find']();console[_0x178966(0x252)]('Products\x20find_data',_0x8c2a31);const _0x206f6b=await warehouse['aggregate']([{'$unwind':_0x178966(0x1c7)},{'$lookup':{'from':_0x178966(0x1bf),'localField':_0x178966(0x20b),'foreignField':_0x178966(0x216),'as':_0x178966(0x1b0)}},{'$unwind':_0x178966(0x1e7)},{'$project':{'product_name':_0x178966(0x1e0),'product_stock':_0x178966(0x258)}},{'$group':{'_id':'$product_name','product_stock':{'$sum':_0x178966(0x1b2)}}}]);console[_0x178966(0x252)](_0x178966(0x1f9),_0x206f6b),_0x206f6b[_0x178966(0x259)](_0x14b4cb=>{const _0x34fb5c=_0x178966,_0x4036b0=_0x8c2a31[_0x34fb5c(0x1b3)](_0x1c2235=>{const _0x49b895=_0x34fb5c;_0x1c2235[_0x49b895(0x216)]==_0x14b4cb['_id']&&(_0x1c2235[_0x49b895(0x25d)]=parseInt(_0x1c2235[_0x49b895(0x25d)])+parseInt(_0x14b4cb['product_stock']));});}),console['log']('Products\x20find_data',_0x8c2a31);if(_0x54bde3[0x0][_0x178966(0x20c)]==_0x178966(0x25c))var _0x1c5ccc=users[_0x178966(0x1c0)];else{if(_0x54bde3[0x0]['language']==_0x178966(0x1cc))var _0x1c5ccc=users['Hindi'];else{if(_0x54bde3[0x0][_0x178966(0x20c)]==_0x178966(0x1e6))var _0x1c5ccc=users[_0x178966(0x1e6)];else{if(_0x54bde3[0x0][_0x178966(0x20c)]==_0x178966(0x268))var _0x1c5ccc=users[_0x178966(0x268)];else{if(_0x54bde3[0x0]['language']==_0x178966(0x1c6))var _0x1c5ccc=users['French'];else{if(_0x54bde3[0x0][_0x178966(0x20c)]==_0x178966(0x1c3))var _0x1c5ccc=users[_0x178966(0x1b1)];else{if(_0x54bde3[0x0][_0x178966(0x20c)]==_0x178966(0x1d3))var _0x1c5ccc=users[_0x178966(0x1d3)];else{if(_0x54bde3[0x0][_0x178966(0x20c)]==_0x178966(0x26e))var _0x1c5ccc=users[_0x178966(0x227)];}}}}}}}_0x9ef948[_0x178966(0x1be)](_0x178966(0x1bf),{'success':_0x16e04a['flash'](_0x178966(0x228)),'errors':_0x16e04a[_0x178966(0x21e)](_0x178966(0x1ec)),'alldata':_0x8c2a31,'profile':_0x28af67,'master_shop':_0x54bde3,'role':_0x1231ee,'product_stock':_0x206f6b,'language':_0x1c5ccc});}catch(_0x3c9798){console[_0x178966(0x252)](_0x3c9798);}}),router['get']('/view/add_products',auth,async(_0x19c276,_0x3278d0)=>{const _0x5c397e=a0_0x316ad9;try{const {username:_0x299d04,email:_0x508e72,role:_0x42529f}=_0x19c276['user'],_0xb8bdd2=_0x19c276['user'],_0x2d27c9=await profile[_0x5c397e(0x20a)]({'email':_0xb8bdd2[_0x5c397e(0x1bb)]}),_0x12346b=await master_shop[_0x5c397e(0x207)]();console[_0x5c397e(0x252)](_0x5c397e(0x1fc),_0x12346b);const _0x1f1e60=await categories[_0x5c397e(0x207)]({}),_0x120deb=await brands[_0x5c397e(0x207)]({}),_0x82bac9=await units[_0x5c397e(0x207)]({}),_0x4ed5bf=await warehouse[_0x5c397e(0x207)]({'status':_0x5c397e(0x20e)});if(_0x12346b[0x0][_0x5c397e(0x20c)]=='English\x20(US)')var _0x181245=users[_0x5c397e(0x1c0)];else{if(_0x12346b[0x0][_0x5c397e(0x20c)]==_0x5c397e(0x1cc))var _0x181245=users['Hindi'];else{if(_0x12346b[0x0][_0x5c397e(0x20c)]==_0x5c397e(0x1e6))var _0x181245=users[_0x5c397e(0x1e6)];else{if(_0x12346b[0x0][_0x5c397e(0x20c)]==_0x5c397e(0x268))var _0x181245=users[_0x5c397e(0x268)];else{if(_0x12346b[0x0][_0x5c397e(0x20c)]=='French')var _0x181245=users[_0x5c397e(0x1c6)];else{if(_0x12346b[0x0][_0x5c397e(0x20c)]==_0x5c397e(0x1c3))var _0x181245=users[_0x5c397e(0x1b1)];else{if(_0x12346b[0x0]['language']==_0x5c397e(0x1d3))var _0x181245=users[_0x5c397e(0x1d3)];else{if(_0x12346b[0x0]['language']=='Arabic\x20(ae)')var _0x181245=users['Arabic'];}}}}}}}_0x3278d0['render'](_0x5c397e(0x205),{'success':_0x19c276[_0x5c397e(0x21e)](_0x5c397e(0x228)),'errors':_0x19c276[_0x5c397e(0x21e)]('errors'),'role':_0xb8bdd2,'profile':_0x2d27c9,'categories':_0x1f1e60,'brands':_0x120deb,'master_shop':_0x12346b,'units':_0x82bac9,'language':_0x181245,'find_data':_0x4ed5bf});}catch(_0xdd6d38){console[_0x5c397e(0x252)](_0xdd6d38);}}),router['post']('/view/add_products',auth,upload[a0_0x316ad9(0x21d)](a0_0x316ad9(0x1d5)),async(_0x4ddd4f,_0x14da83)=>{const _0x306b80=a0_0x316ad9;try{const {name:_0x25294a,category:_0x2bca88,brand:_0x47df41,unit:_0x417309,alertquantity:_0x27a73f,stock:_0x3841fb,product_code:_0x4e7f26,warehouse:_0x2cfcd2,primary_ItemCode:_0x14e5a9,second_ItemCode:_0x5d5e4e,second_unit:_0x400a4d,maxPerUnit:_0x11c473,MaxPerProduct:_0x20c487}=_0x4ddd4f[_0x306b80(0x240)],_0x46edde=_0x4ddd4f['file']?.['filename']||'defaultProduct.avif',_0x429935=new product({'image':_0x46edde,'name':_0x25294a,'category':_0x2bca88,'brand':_0x47df41,'unit':_0x417309,'alertquantity':_0x27a73f,'stock':_0x3841fb,'product_code':_0x4e7f26,'warehouse':_0x2cfcd2,'primary_code':_0x14e5a9,'secondary_code':_0x5d5e4e,'second_unit':_0x400a4d,'maxStocks':_0x20c487,'maxProdPerUnit':_0x11c473}),_0x3d2755=await _0x429935['save'](),_0x8603e5=await categories[_0x306b80(0x20a)]({'name':_0x2bca88});_0x8603e5[_0x306b80(0x1bf)]=parseInt(_0x8603e5['products'])+0x1,await _0x8603e5[_0x306b80(0x251)]();const _0x2d3b1c=await brands[_0x306b80(0x20a)]({'name':_0x47df41});_0x2d3b1c[_0x306b80(0x1bf)]=parseInt(_0x2d3b1c[_0x306b80(0x1bf)])+0x1,await _0x2d3b1c[_0x306b80(0x251)]();const _0x2fc06d=await units[_0x306b80(0x20a)]({'name':_0x417309});_0x2fc06d[_0x306b80(0x1bf)]=parseInt(_0x2fc06d[_0x306b80(0x1bf)])+0x1,await _0x2fc06d[_0x306b80(0x251)](),_0x4ddd4f['flash'](_0x306b80(0x228),'product\x20add\x20successfully'),_0x14da83[_0x306b80(0x219)](_0x306b80(0x1ac));}catch(_0x229f3c){console[_0x306b80(0x252)](_0x229f3c);}}),router[a0_0x316ad9(0x239)](a0_0x316ad9(0x1ab),auth,async(_0x275ddd,_0xf30fbe)=>{const _0x4e31cc=a0_0x316ad9;try{const {username:_0x1813c0,email:_0x20b174,role:_0x4e35ec}=_0x275ddd[_0x4e31cc(0x263)],_0x4f78e8=_0x275ddd[_0x4e31cc(0x263)],_0x61017c=await profile['findOne']({'email':_0x4f78e8[_0x4e31cc(0x1bb)]}),_0x3adec7=await master_shop['find']();console[_0x4e31cc(0x252)](_0x4e31cc(0x217),_0x3adec7);const _0x280979=_0x275ddd[_0x4e31cc(0x1f2)]['id'],_0x4e2915=await product[_0x4e31cc(0x1c8)](_0x280979),_0x5363c0=await categories[_0x4e31cc(0x207)]({}),_0x2cc198=await brands[_0x4e31cc(0x207)]({}),_0xf62630=await units[_0x4e31cc(0x207)]({}),_0x4c4c5d=await warehouse[_0x4e31cc(0x207)]({'status':_0x4e31cc(0x20e)}),_0xe75003=await units[_0x4e31cc(0x22b)]([{'$group':{'_id':_0x4e31cc(0x1f0),'secondaryunit':{'$first':_0x4e31cc(0x1e8)}}}]);if(_0x3adec7[0x0][_0x4e31cc(0x20c)]==_0x4e31cc(0x25c))var _0x18e977=users['English'];else{if(_0x3adec7[0x0]['language']==_0x4e31cc(0x1cc))var _0x18e977=users[_0x4e31cc(0x1cc)];else{if(_0x3adec7[0x0][_0x4e31cc(0x20c)]==_0x4e31cc(0x1e6))var _0x18e977=users[_0x4e31cc(0x1e6)];else{if(_0x3adec7[0x0][_0x4e31cc(0x20c)]==_0x4e31cc(0x268))var _0x18e977=users[_0x4e31cc(0x268)];else{if(_0x3adec7[0x0][_0x4e31cc(0x20c)]==_0x4e31cc(0x1c6))var _0x18e977=users['French'];else{if(_0x3adec7[0x0][_0x4e31cc(0x20c)]==_0x4e31cc(0x1c3))var _0x18e977=users[_0x4e31cc(0x1b1)];else{if(_0x3adec7[0x0][_0x4e31cc(0x20c)]==_0x4e31cc(0x1d3))var _0x18e977=users['Chinese'];else{if(_0x3adec7[0x0][_0x4e31cc(0x20c)]=='Arabic\x20(ae)')var _0x18e977=users[_0x4e31cc(0x227)];}}}}}}}_0xf30fbe['render'](_0x4e31cc(0x1ad),{'success':_0x275ddd['flash']('success'),'errors':_0x275ddd['flash']('errors'),'role':_0x4f78e8,'profile':_0x61017c,'alldata':_0x4e2915,'categories':_0x5363c0,'brands':_0x2cc198,'master_shop':_0x3adec7,'units':_0xf62630,'secondunit':_0xe75003,'find_data':_0x4c4c5d,'language':_0x18e977});}catch(_0x27b3f4){console[_0x4e31cc(0x252)](_0x27b3f4);}}),router[a0_0x316ad9(0x255)](a0_0x316ad9(0x1ab),auth,upload[a0_0x316ad9(0x21d)](a0_0x316ad9(0x1d5)),async(_0x9942f9,_0x34992b)=>{const _0x274e29=a0_0x316ad9;try{console[_0x274e29(0x252)](_0x274e29(0x1dc));const _0x5470eb=_0x9942f9[_0x274e29(0x1f2)]['id'],_0x165585=await product['findById'](_0x5470eb),{image:_0x5b659c,name:_0x391299,category:_0x2dfd4c,brand:_0x4d873e,sku:_0xab178d,unit:_0x472fa8,alertquantity:_0xe7a20a,product_code:_0x3a6299,warehouse:_0x2a3ca1,primary_ItemCode:_0x2e20e0,second_ItemCode:_0x13b176,second_unit:_0x4aa9d9,maxPerUnit:_0x392d40,MaxPerProduct:_0x11a1f5,prod_catdata:_0xfef02}=_0x9942f9['body'];_0x9942f9[_0x274e29(0x236)]&&(_0x165585[_0x274e29(0x1d5)]=_0x9942f9[_0x274e29(0x236)]['filename']);_0x165585[_0x274e29(0x216)]=_0x391299,_0x165585[_0x274e29(0x233)]=_0x2dfd4c,_0x165585[_0x274e29(0x1fb)]=_0x4d873e,_0x165585[_0x274e29(0x215)]=_0xab178d,_0x165585['unit']=_0x472fa8,_0x165585[_0x274e29(0x24d)]=_0xe7a20a,_0x165585[_0x274e29(0x221)]=_0x3a6299,_0x165585[_0x274e29(0x242)]=_0x2a3ca1,_0x165585[_0x274e29(0x1bd)]=_0x2e20e0,_0x165585[_0x274e29(0x1c5)]=_0x13b176,_0x165585['secondary_unit']=_0x4aa9d9,_0x165585[_0x274e29(0x23d)]=_0x11a1f5,_0x165585[_0x274e29(0x1d7)]=_0x392d40,_0x165585[_0x274e29(0x1f6)]=_0xfef02;const _0x4d0bb1=await _0x165585['save']();console[_0x274e29(0x252)](_0x274e29(0x212),_0x165585),_0x9942f9['flash'](_0x274e29(0x228),_0x274e29(0x253)),_0x34992b[_0x274e29(0x219)](_0x274e29(0x1ac));}catch(_0x348e01){console[_0x274e29(0x252)](_0x348e01);}}),router[a0_0x316ad9(0x239)](a0_0x316ad9(0x23c),auth,async(_0x511cde,_0x14c64e)=>{const _0x4225e8=a0_0x316ad9;try{const {username:_0x66d07,email:_0x58b734,role:_0x432543}=_0x511cde[_0x4225e8(0x263)],_0x326308=_0x511cde[_0x4225e8(0x263)],_0x505e72=await profile[_0x4225e8(0x20a)]({'email':_0x326308['email']}),_0x46d274=await master_shop[_0x4225e8(0x207)]();console['log'](_0x4225e8(0x232),_0x46d274);const _0x965c0c=_0x511cde['params']['id'],_0x8e0880=await product[_0x4225e8(0x1c8)](_0x965c0c);console['log']('barcode\x20user_id',_0x8e0880);if(_0x46d274[0x0]['language']=='English\x20(US)')var _0x1be37c=users[_0x4225e8(0x1c0)];else{if(_0x46d274[0x0][_0x4225e8(0x20c)]==_0x4225e8(0x1cc))var _0x1be37c=users['Hindi'];else{if(_0x46d274[0x0]['language']==_0x4225e8(0x1e6))var _0x1be37c=users[_0x4225e8(0x1e6)];else{if(_0x46d274[0x0]['language']==_0x4225e8(0x268))var _0x1be37c=users[_0x4225e8(0x268)];else{if(_0x46d274[0x0][_0x4225e8(0x20c)]==_0x4225e8(0x1c6))var _0x1be37c=users['French'];else{if(_0x46d274[0x0][_0x4225e8(0x20c)]==_0x4225e8(0x1c3))var _0x1be37c=users[_0x4225e8(0x1b1)];else{if(_0x46d274[0x0]['language']==_0x4225e8(0x1d3))var _0x1be37c=users[_0x4225e8(0x1d3)];else{if(_0x46d274[0x0][_0x4225e8(0x20c)]=='Arabic\x20(ae)')var _0x1be37c=users['Arabic'];}}}}}}}_0x14c64e['render'](_0x4225e8(0x261),{'success':_0x511cde[_0x4225e8(0x21e)](_0x4225e8(0x228)),'errors':_0x511cde[_0x4225e8(0x21e)](_0x4225e8(0x1ec)),'role':_0x326308,'profile':_0x505e72,'alldata':_0x8e0880,'master_shop':_0x46d274,'language':_0x1be37c});}catch(_0x1ac23b){console[_0x4225e8(0x252)](_0x1ac23b);}}),router[a0_0x316ad9(0x239)](a0_0x316ad9(0x243),auth,async(_0x36a188,_0x5a5d79)=>{const _0x4f899d=a0_0x316ad9;try{const _0x49a30c=new excelJS[(_0x4f899d(0x241))](),_0x253669=_0x49a30c[_0x4f899d(0x203)](_0x4f899d(0x1e3));return _0x253669['columns']=[{'header':_0x4f899d(0x235),'key':_0x4f899d(0x22c),'width':0xa},{'header':_0x4f899d(0x22a),'key':_0x4f899d(0x213),'width':0xa},{'header':'Units','key':_0x4f899d(0x1df),'width':0xa},{'header':_0x4f899d(0x25f),'key':_0x4f899d(0x1f4),'width':0xa},{'header':'max_number_per_units','key':_0x4f899d(0x26c),'width':0xa},{'header':'Primary_Code','key':'ProductCode','width':0xa},{'header':'Secondary_Code','key':_0x4f899d(0x26a),'width':0xa},{'header':_0x4f899d(0x1fd),'key':_0x4f899d(0x26a),'width':0xa},{'header':_0x4f899d(0x1db),'key':_0x4f899d(0x1de),'width':0xa},{'header':_0x4f899d(0x1eb),'key':_0x4f899d(0x246),'width':0xa},{'header':_0x4f899d(0x23a),'key':'PAlQty','width':0xa},{'header':_0x4f899d(0x24a),'key':_0x4f899d(0x231),'width':0xa}],_0x5a5d79[_0x4f899d(0x1ed)](_0x4f899d(0x1dd),_0x4f899d(0x24e)),_0x5a5d79[_0x4f899d(0x1ed)](_0x4f899d(0x211),'attachment;\x20filename=Product_Migration_File.xlsx'),_0x49a30c[_0x4f899d(0x1d2)][_0x4f899d(0x1fe)](_0x5a5d79)[_0x4f899d(0x1f7)](()=>{const _0x4fe8f0=_0x4f899d;_0x5a5d79[_0x4fe8f0(0x1f5)](0xc8);});}catch(_0x55e748){_0x5a5d79[_0x4f899d(0x1f5)](0x190)['send'](_0x55e748);}});const storage1=multer[a0_0x316ad9(0x262)]({'destination':(_0x3c4986,_0x1c1800,_0x78abc9)=>{const _0x54f7a=a0_0x316ad9;_0x78abc9(null,_0x54f7a(0x23e));},'filename':(_0x213217,_0x34bf88,_0x698ce3)=>{const _0x2c516c=a0_0x316ad9;_0x698ce3(null,Date['now']()+_0x34bf88[_0x2c516c(0x218)]);}}),uploadMigrate=multer({'storage':storage1});function a0_0x55be(_0x6b5ad2,_0x33aca8){const _0x4d9a5e=a0_0x4d9a();return a0_0x55be=function(_0x55be97,_0x53ceaf){_0x55be97=_0x55be97-0x1ab;let _0x2da04e=_0x4d9a5e[_0x55be97];return _0x2da04e;},a0_0x55be(_0x6b5ad2,_0x33aca8);}router[a0_0x316ad9(0x255)](a0_0x316ad9(0x1b9),auth,uploadMigrate[a0_0x316ad9(0x21d)]('migrate_product_fule'),async(_0x3787a7,_0x2d516c)=>{const _0x23669a=a0_0x316ad9,_0x213f19=_0x3787a7[_0x23669a(0x236)][_0x23669a(0x208)],_0x337313=await xlsx[_0x23669a(0x25e)](_0x23669a(0x237)+_0x213f19);let _0xdefd62=_0x337313['SheetNames'],_0x3e5f9d=xlsx[_0x23669a(0x25a)][_0x23669a(0x1c1)](_0x337313[_0x23669a(0x24f)][_0xdefd62[0x0]]);for(const _0x42f105 of _0x3e5f9d){const _0x43d70b=_0x42f105[_0x23669a(0x235)],_0x1842c3=_0x42f105[_0x23669a(0x22a)],_0x97f3ac=_0x42f105[_0x23669a(0x1ea)],_0x27a52a=_0x42f105[_0x23669a(0x25f)],_0x2a93cb=_0x42f105[_0x23669a(0x1fd)],_0x24031e=_0x42f105[_0x23669a(0x1db)],_0x1338ee=_0x42f105[_0x23669a(0x1eb)],_0x12a1f4=_0x42f105[_0x23669a(0x247)],_0xe7eac3=_0x42f105[_0x23669a(0x1c4)],_0x3c60f2=_0x42f105[_0x23669a(0x23a)],_0x1d74de=_0x42f105[_0x23669a(0x1e5)],_0x3f0af4=_0x42f105[_0x23669a(0x24a)];try{let _0x1ed22b=await categories[_0x23669a(0x20a)]({'name':_0x24031e});if(!_0x1ed22b){const _0x3565f6=new categories({'name':_0x24031e,'products':'0'});_0x1ed22b=await _0x3565f6[_0x23669a(0x251)]();}let _0x197cd1=await brands[_0x23669a(0x20a)]({'name':_0x1842c3});if(!_0x197cd1){const _0x1f66ec=new brands({'name':_0x1842c3,'products':'0'});_0x197cd1=await _0x1f66ec['save']();}let _0x4597f7=await units[_0x23669a(0x20a)]({'name':_0x97f3ac,'secondary_unit':_0x27a52a});if(!_0x4597f7){const _0x581324=new units({'name':_0x97f3ac,'secondary_unit':_0x27a52a,'products':'0'});_0x4597f7=await _0x581324['save']();}const _0x5232b1=await product['find']({'name':_0x43d70b,'category':_0x1ed22b[_0x23669a(0x216)],'brand':_0x197cd1['name'],'secondary_unit':_0x4597f7[_0x23669a(0x25b)],'product_code':_0x2a93cb});console['log'](_0x5232b1[_0x23669a(0x206)]+_0x23669a(0x1f1)+_0x1ed22b['name']+_0x23669a(0x1f1)+_0x197cd1[_0x23669a(0x216)]+_0x23669a(0x1f1)+_0x4597f7[_0x23669a(0x25b)]+_0x23669a(0x1f1)+_0x2a93cb+_0x23669a(0x1f1)+_0x43d70b);if(_0x5232b1[_0x23669a(0x206)]===0x0){const _0x1ae909=new product({'image':_0x23669a(0x1ff),'name':_0x43d70b,'category':_0x1ed22b[_0x23669a(0x216)],'brand':_0x197cd1[_0x23669a(0x216)],'unit':_0x4597f7[_0x23669a(0x216)],'alertquantity':_0x1338ee,'product_code':_0x2a93cb,'secondary_unit':_0x4597f7[_0x23669a(0x25b)],'primary_code':_0x12a1f4,'secondary_code':_0xe7eac3,'maxStocks':_0x3c60f2,'maxProdPerUnit':_0x1d74de,'product_category':_0x3f0af4}),_0x1b3d04=await _0x1ae909[_0x23669a(0x251)]();_0x1ed22b[_0x23669a(0x1bf)]=parseInt(_0x1ed22b[_0x23669a(0x1bf)])+0x1,await _0x1ed22b[_0x23669a(0x251)](),_0x197cd1[_0x23669a(0x1bf)]=parseInt(_0x197cd1[_0x23669a(0x1bf)])+0x1,await _0x197cd1[_0x23669a(0x251)](),_0x4597f7[_0x23669a(0x1bf)]=parseInt(_0x4597f7['products'])+0x1,await _0x4597f7[_0x23669a(0x251)](),_0x3787a7['flash'](_0x23669a(0x228),_0x43d70b+'\x20added\x20successfully');}else{console[_0x23669a(0x252)](_0x5232b1[0x0]);const _0x122b05=_0x5232b1[0x0];_0x122b05[_0x23669a(0x233)]=_0x1ed22b[_0x23669a(0x216)],_0x122b05[_0x23669a(0x1fb)]=_0x197cd1[_0x23669a(0x216)],_0x122b05[_0x23669a(0x1ce)]=_0x4597f7[_0x23669a(0x216)],_0x122b05[_0x23669a(0x24d)]=_0x1338ee,_0x122b05[_0x23669a(0x221)]=_0x2a93cb,_0x122b05['secondary_unit']=_0x4597f7['secondary_unit'],_0x122b05[_0x23669a(0x1bd)]=_0x12a1f4,_0x122b05[_0x23669a(0x1c5)]=_0xe7eac3,_0x122b05[_0x23669a(0x23d)]=_0x3c60f2,_0x122b05[_0x23669a(0x1d7)]=_0x1d74de,_0x122b05[_0x23669a(0x1f6)]=_0x3f0af4;const _0x1198ab=await _0x122b05[_0x23669a(0x251)]();_0x3787a7[_0x23669a(0x21e)](_0x23669a(0x228),_0x1198ab['name']+_0x23669a(0x1b5));}}catch(_0x2cc938){_0x2d516c[_0x23669a(0x1f5)](0x1f4)[_0x23669a(0x1f3)]({'proderror':_0x2cc938[_0x23669a(0x1cf)],'aproduct':_0x43d70b});}}_0x2d516c[_0x23669a(0x219)](_0x23669a(0x1ac));}),router[a0_0x316ad9(0x255)](a0_0x316ad9(0x22e),auth,async(_0x1aa530,_0x7673c7)=>{const _0x104da9=a0_0x316ad9;try{console[_0x104da9(0x252)](_0x1aa530[_0x104da9(0x240)]);const {data_cateory:_0x3a5267,datachoose:_0x15535f}=_0x1aa530['body'];var _0x45e62f;if(_0x15535f==_0x104da9(0x244))_0x45e62f=await product[_0x104da9(0x22b)]([{'$group':{'_id':_0x104da9(0x269)}}]);else{if(_0x15535f=='brands')_0x45e62f=await product[_0x104da9(0x22b)]([{'$match':{'product_category':_0x3a5267}},{'$group':{'_id':'$brand'}}]);else _0x15535f==_0x104da9(0x22f)&&(_0x45e62f=await product[_0x104da9(0x22b)]([{'$match':{'product_category':_0x3a5267}},{'$group':{'_id':_0x104da9(0x21b)}}]));}_0x7673c7['json'](_0x45e62f);}catch(_0x518e3b){_0x7673c7[_0x104da9(0x1f3)]({'message':_0x518e3b['message']});}}),router[a0_0x316ad9(0x255)]('/filter_product',auth,async(_0x504eda,_0x1d3191)=>{const _0x41f115=a0_0x316ad9;try{const {data_choosing:_0x4761b2,data_selected:_0x3a2305}=_0x504eda[_0x41f115(0x240)];var _0x36430d;if(_0x4761b2==_0x41f115(0x244))_0x36430d=await product[_0x41f115(0x22b)]([{'$match':{'product_category':_0x3a2305}}]);else{if(_0x4761b2==_0x41f115(0x1d9))_0x36430d=await product[_0x41f115(0x22b)]([{'$match':{'brand':_0x3a2305}}]);else _0x4761b2==_0x41f115(0x22f)&&(_0x36430d=await product['aggregate']([{'$match':{'category':_0x3a2305}}]));}_0x1d3191[_0x41f115(0x1f3)](_0x36430d);}catch(_0x35ba83){_0x1d3191[_0x41f115(0x1f3)]({'message':_0x35ba83[_0x41f115(0x1cf)]});}}),router[a0_0x316ad9(0x239)]('/print_barcode',auth,async(_0x35f2c0,_0x5e2c25)=>{const _0x2215a1=a0_0x316ad9,_0x102dd5=_0x35f2c0[_0x2215a1(0x263)],_0x5d35a3=await profile[_0x2215a1(0x20a)]({'email':_0x102dd5[_0x2215a1(0x1bb)]}),_0x23192f=await master_shop[_0x2215a1(0x207)](),_0x651f03=await product[_0x2215a1(0x207)]();if(_0x23192f[0x0]['language']=='English\x20(US)')var _0x20cecb=users[_0x2215a1(0x1c0)];else{if(_0x23192f[0x0][_0x2215a1(0x20c)]=='Hindi')var _0x20cecb=users[_0x2215a1(0x1cc)];else{if(_0x23192f[0x0][_0x2215a1(0x20c)]=='German')var _0x20cecb=users['German'];else{if(_0x23192f[0x0][_0x2215a1(0x20c)]==_0x2215a1(0x268))var _0x20cecb=users[_0x2215a1(0x268)];else{if(_0x23192f[0x0][_0x2215a1(0x20c)]=='French')var _0x20cecb=users['French'];else{if(_0x23192f[0x0]['language']==_0x2215a1(0x1c3))var _0x20cecb=users[_0x2215a1(0x1b1)];else{if(_0x23192f[0x0]['language']==_0x2215a1(0x1d3))var _0x20cecb=users[_0x2215a1(0x1d3)];else{if(_0x23192f[0x0][_0x2215a1(0x20c)]=='Arabic\x20(ae)')var _0x20cecb=users[_0x2215a1(0x227)];}}}}}}}_0x5e2c25['render'](_0x2215a1(0x1ba),{'success':_0x35f2c0[_0x2215a1(0x21e)]('success'),'errors':_0x35f2c0['flash']('errors'),'role':_0x102dd5,'profile':_0x5d35a3,'products':_0x651f03,'master_shop':_0x23192f,'language':_0x20cecb});}),router[a0_0x316ad9(0x255)]('/barcode_data',auth,async(_0x1ebfbf,_0x41c0b6)=>{const _0x1a362=a0_0x316ad9,_0x516ded=await product[_0x1a362(0x207)]();_0x41c0b6[_0x1a362(0x1f3)]({'data':_0x516ded});}),router['post'](a0_0x316ad9(0x264),auth,async(_0x22dbf6,_0x4d3759)=>{const _0x2fb91d=a0_0x316ad9;try{const {dataProdCat:_0x180494,dataProdIdentity:_0x3d7fb8}=_0x22dbf6['body'];var _0x3085bb;switch(_0x180494){case'fg':switch(_0x3d7fb8){case'Brands':_0x3085bb=await product['aggregate']([{'$match':{'product_category':_0x2fb91d(0x24b)}},{'$group':{'_id':'$brand'}},{'$project':{'brand':'$_id'}}]);break;case _0x2fb91d(0x1db):_0x3085bb=await product[_0x2fb91d(0x22b)]([{'$match':{'product_category':'Finished\x20Goods'}},{'$group':{'_id':_0x2fb91d(0x21b)}},{'$project':{'category':_0x2fb91d(0x1f0)}}]);break;}break;case'rm':switch(_0x3d7fb8){case _0x2fb91d(0x22a):_0x3085bb=await product['aggregate']([{'$match':{'product_category':'Raw\x20Materials'}},{'$group':{'_id':'$brand'}},{'$project':{'brand':_0x2fb91d(0x1f0)}}]);break;case'Category':_0x3085bb=await product['aggregate']([{'$match':{'product_category':_0x2fb91d(0x24c)}},{'$group':{'_id':_0x2fb91d(0x21b)}},{'$project':{'category':_0x2fb91d(0x1f0)}}]);break;}break;}_0x4d3759[_0x2fb91d(0x1f3)](_0x3085bb);}catch(_0x1d32bc){_0x4d3759[_0x2fb91d(0x1f3)]({'message':_0x1d32bc['message']});}}),router['post'](a0_0x316ad9(0x1ca),auth,async(_0x2b49f5,_0x3add89)=>{const _0xce939b=a0_0x316ad9;try{console['log'](_0x2b49f5[_0xce939b(0x240)]);const {prod_cat:_0xf0005,identity:_0x55c2d2,valueData:_0x57acd7,typeofbarcode:_0xd9ccbf}=_0x2b49f5[_0xce939b(0x240)];let _0x590cdb;switch(_0xf0005){case'fg':if(_0x55c2d2==_0xce939b(0x22a))_0x590cdb=await product[_0xce939b(0x22b)]([{'$match':{'product_category':'Finished\x20Goods','brand':_0x57acd7}}]);else _0x55c2d2==_0xce939b(0x1db)&&(_0x590cdb=await product[_0xce939b(0x22b)]([{'$match':{'product_category':'Finished\x20Goods','category':_0x57acd7}}]));break;case'rm':if(_0x55c2d2==_0xce939b(0x22a))_0x590cdb=await product[_0xce939b(0x22b)]([{'$match':{'product_category':_0xce939b(0x24c),'brand':_0x57acd7}}]);else _0x55c2d2==_0xce939b(0x1db)&&(_0x590cdb=await product[_0xce939b(0x22b)]([{'$match':{'product_category':'Raw\x20Materials','category':_0x57acd7}}]));break;}const _0x5ee09c=_0x3a19a1=>_0x3a19a1*0x48,_0x4aba9f={'width':0x3,'height':0x1},_0x539495=new PDFDocument({'margin':_0x5ee09c(0.75),'size':[_0x5ee09c(_0x4aba9f['width']),_0x5ee09c(_0x4aba9f[_0xce939b(0x1b4)])],'bufferPages':!![]}),_0x16118a=_0x590cdb[_0xce939b(0x206)];for(let _0x5d8b70=0x0;_0x5d8b70<=_0x16118a;_0x5d8b70++){if(_0x5d8b70!=_0x16118a){const _0x395baa=_0x590cdb[_0x5d8b70]['name'],_0x3308b1=_0x590cdb[_0x5d8b70][_0xce939b(0x1bd)],_0x425faa=_0x590cdb[_0x5d8b70][_0xce939b(0x1c5)],_0x5aa6c4=_0x590cdb[_0x5d8b70]['product_code'];var _0x3600ce;switch(_0xd9ccbf){case'1':_0x3600ce=_0x3308b1;break;case'2':_0x3600ce=_0x425faa;break;case'3':_0x3600ce=_0x5aa6c4;break;}const _0x4f49d9={'width':0xd2,'height':0x64},_0x519935={'width':_0x5ee09c(_0x4aba9f['width']),'height':_0x5ee09c(_0x4aba9f[_0xce939b(0x1b4)])},_0x5c6388=new Canvas();JsBarcode(_0x5c6388,_0x3600ce,{'format':_0xce939b(0x200),'height':_0x4f49d9['height'],'displayValue':!![],'text':_0x3600ce});const _0x58bcf2=_0x5c6388[_0xce939b(0x1ef)](),_0x35ea08=_0x519935[_0xce939b(0x225)]/_0x4f49d9['width'],_0x5c72be=_0x519935[_0xce939b(0x1b4)]/_0x4f49d9[_0xce939b(0x1b4)],_0x3d96cc=Math[_0xce939b(0x1d1)](_0x35ea08,_0x5c72be),_0x46e888=_0x4f49d9[_0xce939b(0x225)]*_0x3d96cc,_0x58786e=_0x4f49d9[_0xce939b(0x1b4)]*_0x3d96cc,_0x24f649=(_0x519935[_0xce939b(0x225)]-_0x46e888)/0x2,_0x139b59=(_0x519935[_0xce939b(0x1b4)]-_0x58786e)/0x2;_0x539495[_0xce939b(0x1d5)](_0x58bcf2,_0x24f649,_0x139b59,{'width':_0x46e888,'height':_0x58786e}),_0x5d8b70!=_0x16118a&&_0x539495[_0xce939b(0x1da)]();}}const _0x4fb740=[];_0x539495['on']('data',_0x4fb740['push'][_0xce939b(0x23f)](_0x4fb740)),_0x539495['on'](_0xce939b(0x249),()=>{const _0x461d8e=_0xce939b,_0x436185=Buffer[_0x461d8e(0x223)](_0x4fb740),_0x481803=_0x436185['toString'](_0x461d8e(0x1b7));_0x3add89[_0x461d8e(0x1f3)]({'pdfContent':_0x481803});}),_0x539495[_0xce939b(0x249)]();}catch(_0x3969f1){_0x3add89[_0xce939b(0x1f3)]({'message':_0x3969f1[_0xce939b(0x1cf)]});}}),router['post']('/print_barcode_filter_search/',auth,async(_0x2cbe10,_0x3c9218)=>{const _0xf22696=a0_0x316ad9;try{console['log'](_0x2cbe10[_0xf22696(0x240)]);const {prod_cat:_0x51ef41,identity:_0x3b39c2,valueData:_0x369d90}=_0x2cbe10[_0xf22696(0x240)];let _0x79c46f;switch(_0x51ef41){case'fg':if(_0x3b39c2==_0xf22696(0x22a))_0x79c46f=await product[_0xf22696(0x22b)]([{'$match':{'product_category':_0xf22696(0x24b),'brand':_0x369d90}}]);else _0x3b39c2==_0xf22696(0x1db)&&(_0x79c46f=await product[_0xf22696(0x22b)]([{'$match':{'product_category':_0xf22696(0x24b),'category':_0x369d90}}]));break;case'rm':if(_0x3b39c2==_0xf22696(0x22a))_0x79c46f=await product[_0xf22696(0x22b)]([{'$match':{'product_category':_0xf22696(0x24c),'brand':_0x369d90}}]);else _0x3b39c2==_0xf22696(0x1db)&&(_0x79c46f=await product[_0xf22696(0x22b)]([{'$match':{'product_category':_0xf22696(0x24c),'category':_0x369d90}}]));break;}_0x3c9218[_0xf22696(0x1f3)]({'data':_0x79c46f});}catch(_0x10418c){_0x3c9218[_0xf22696(0x1f3)]({'message':_0x10418c[_0xf22696(0x1cf)]});}}),router[a0_0x316ad9(0x255)](a0_0x316ad9(0x20d),auth,async(_0x38bd68,_0x5174bb)=>{const _0x480058=a0_0x316ad9;try{const _0x5e934b=_0x38bd68[_0x480058(0x1f2)]['id'],{copies:_0x594248,typeofbarcode:_0x5e897b}=_0x38bd68[_0x480058(0x240)];var _0x4f7f4b=await product['findById'](_0x5e934b);const _0x25df50=_0x138dae=>_0x138dae*0x48,_0x42eb53={'width':0x3,'height':0x1},_0x4ca7af=new PDFDocument({'margin':_0x25df50(0.75),'size':[_0x25df50(_0x42eb53[_0x480058(0x225)]),_0x25df50(_0x42eb53[_0x480058(0x1b4)])],'bufferPages':!![]}),_0x20ddae=_0x594248,_0x1c4abc=_0x4f7f4b[_0x480058(0x216)],_0x1efc43=_0x4f7f4b[_0x480058(0x1bd)],_0x4b5c03=_0x4f7f4b[_0x480058(0x1c5)],_0xfab8e=_0x4f7f4b[_0x480058(0x221)];let _0x1fafe5;switch(_0x5e897b){case'1':_0x1fafe5=_0x1efc43;break;case'2':_0x1fafe5=_0x4b5c03;break;case'3':_0x1fafe5=_0xfab8e;break;}const _0x50dbb4={'width':0xd2,'height':0x64},_0x13eae2={'width':_0x25df50(_0x42eb53[_0x480058(0x225)]),'height':_0x25df50(_0x42eb53[_0x480058(0x1b4)])};for(let _0x3f4f8f=0x1;_0x3f4f8f<=_0x20ddae;_0x3f4f8f++){const _0x3af739=new Canvas();JsBarcode(_0x3af739,_0x1fafe5,{'format':'CODE128','height':_0x50dbb4['height'],'displayValue':!![],'text':_0x1fafe5});const _0x454ab0=_0x3af739[_0x480058(0x1ef)](),_0x32c8b3=_0x13eae2['width']/_0x50dbb4[_0x480058(0x225)],_0x879f6d=_0x13eae2[_0x480058(0x1b4)]/_0x50dbb4['height'],_0x591ad6=Math[_0x480058(0x1d1)](_0x32c8b3,_0x879f6d),_0x345b1b=_0x50dbb4[_0x480058(0x225)]*_0x591ad6,_0x4fe291=_0x50dbb4[_0x480058(0x1b4)]*_0x591ad6,_0x1307b5=(_0x13eae2[_0x480058(0x225)]-_0x345b1b)/0x2,_0x16d0ee=(_0x13eae2[_0x480058(0x1b4)]-_0x4fe291)/0x2;_0x4ca7af[_0x480058(0x1d5)](_0x454ab0,_0x1307b5,_0x16d0ee,{'width':_0x345b1b,'height':_0x4fe291}),_0x3f4f8f!=_0x20ddae&&_0x4ca7af[_0x480058(0x1da)]();}const _0x152ada=[];_0x4ca7af['on']('data',_0x152ada[_0x480058(0x1e4)][_0x480058(0x23f)](_0x152ada)),_0x4ca7af['on'](_0x480058(0x249),()=>{const _0x42f949=_0x480058,_0x346eec=Buffer[_0x42f949(0x223)](_0x152ada),_0x14bcbb=_0x346eec[_0x42f949(0x256)](_0x42f949(0x1b7));_0x5174bb[_0x42f949(0x1f3)]({'pdfContent':_0x14bcbb});}),_0x4ca7af[_0x480058(0x249)]();}catch(_0x2e29a6){_0x5174bb[_0x480058(0x1f3)]({'message':_0x2e29a6[_0x480058(0x1cf)]});}}),module[a0_0x316ad9(0x21f)]=router;