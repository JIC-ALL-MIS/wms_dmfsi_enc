var a0_0x50ced8=a0_0x181c;function a0_0x458e(){var _0x5ce706=['$name','flash','$date','language','email','find','../models/all_models','render','Portuguese\x20(BR)','$warehouse_name','json','2568835OVqEtv','params','French','/viewdata_og_fg/:id','/reports','aggregate','findOne','exports','3438827LoWBYW','length','English','../middleware/auth','1526914xcXYEj','get','$invoice','user','6VXXGhJ','2167MDHyGy','7409760jwcorB','227560rqgBKX','findById','German','Spanish','nodemailer','Router','3RhHDne','errors','transaction_finished','post','English\x20(US)','$sale_product','express','Chinese','84290iLAHLA','body','success','/viewdata_inc_fg/:id','Hindi','Arabic','view_tf_table','$product','/viewdata_tf_fg/:id','Arabic\x20(ae)','1MHcaeJ','Portuguese','view_table','5778198eyPOug','/view'];a0_0x458e=function(){return _0x5ce706;};return a0_0x458e();}(function(_0x3aee4b,_0x36fff4){var _0x7a5dec=a0_0x181c,_0x559afe=_0x3aee4b();while(!![]){try{var _0x407fd7=parseInt(_0x7a5dec(0x124))/0x1*(-parseInt(_0x7a5dec(0x140))/0x2)+parseInt(_0x7a5dec(0x14d))/0x3*(-parseInt(_0x7a5dec(0x147))/0x4)+parseInt(_0x7a5dec(0x134))/0x5*(parseInt(_0x7a5dec(0x144))/0x6)+-parseInt(_0x7a5dec(0x13c))/0x7+-parseInt(_0x7a5dec(0x146))/0x8+parseInt(_0x7a5dec(0x127))/0x9+-parseInt(_0x7a5dec(0x155))/0xa*(-parseInt(_0x7a5dec(0x145))/0xb);if(_0x407fd7===_0x36fff4)break;else _0x559afe['push'](_0x559afe['shift']());}catch(_0x5cda0e){_0x559afe['push'](_0x559afe['shift']());}}}(a0_0x458e,0x8d3aa));const express=require(a0_0x50ced8(0x153)),app=express(),router=express[a0_0x50ced8(0x14c)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require(a0_0x50ced8(0x12f)),auth=require(a0_0x50ced8(0x13f)),users=require('../public/language/languages.json'),nodemailer=require(a0_0x50ced8(0x14b));function a0_0x181c(_0x18c663,_0x2d156d){var _0x458e51=a0_0x458e();return a0_0x181c=function(_0x181c88,_0x16dc3f){_0x181c88=_0x181c88-0x123;var _0x249c48=_0x458e51[_0x181c88];return _0x249c48;},a0_0x181c(_0x18c663,_0x2d156d);}router['get'](a0_0x50ced8(0x128),auth,async(_0x515002,_0x2557e6)=>{var _0x1cb099=a0_0x50ced8;try{const {username:_0x325b7b,email:_0x8bd019,role:_0x4f5c43}=_0x515002[_0x1cb099(0x143)],_0x112b2c=_0x515002[_0x1cb099(0x143)],_0xc5356d=await profile[_0x1cb099(0x13a)]({'email':_0x112b2c[_0x1cb099(0x12d)]}),_0x512ce0=await master_shop[_0x1cb099(0x12e)](),_0x55f79e=await warehouse[_0x1cb099(0x139)]([{'$match':{'status':'Enabled','warehouse_category':'Finished\x20Goods'}},{'$group':{'_id':_0x1cb099(0x129),'name':{'$first':_0x1cb099(0x129)}}}]);if(_0x512ce0[0x0][_0x1cb099(0x12c)]=='English\x20(US)')var _0x10b097=users[_0x1cb099(0x13e)];else{if(_0x512ce0[0x0][_0x1cb099(0x12c)]==_0x1cb099(0x159))var _0x10b097=users[_0x1cb099(0x159)];else{if(_0x512ce0[0x0][_0x1cb099(0x12c)]==_0x1cb099(0x149))var _0x10b097=users['German'];else{if(_0x512ce0[0x0][_0x1cb099(0x12c)]==_0x1cb099(0x14a))var _0x10b097=users[_0x1cb099(0x14a)];else{if(_0x512ce0[0x0][_0x1cb099(0x12c)]==_0x1cb099(0x136))var _0x10b097=users[_0x1cb099(0x136)];else{if(_0x512ce0[0x0][_0x1cb099(0x12c)]==_0x1cb099(0x131))var _0x10b097=users['Portuguese'];else{if(_0x512ce0[0x0][_0x1cb099(0x12c)]==_0x1cb099(0x154))var _0x10b097=users[_0x1cb099(0x154)];else{if(_0x512ce0[0x0][_0x1cb099(0x12c)]=='Arabic\x20(ae)')var _0x10b097=users[_0x1cb099(0x15a)];}}}}}}}_0x2557e6[_0x1cb099(0x130)](_0x1cb099(0x14f),{'success':_0x515002[_0x1cb099(0x12a)](_0x1cb099(0x157)),'errors':_0x515002[_0x1cb099(0x12a)]('errors'),'role':_0x112b2c,'profile':_0xc5356d,'master_shop':_0x512ce0,'dataProcess':_0x55f79e,'language':_0x10b097});}catch(_0x3d099c){console['log'](_0x3d099c);}}),router[a0_0x50ced8(0x150)](a0_0x50ced8(0x138),auth,async(_0x4a928c,_0x382930)=>{var _0x5522d1=a0_0x50ced8;const {product_category:_0x40cef7,transaction_category:_0x3c88d9,transaction_date_from:_0xf8566a,transaction_date_to:_0x48a75e,warehouse_category:_0x22f1a,item_code:_0x217753}=_0x4a928c[_0x5522d1(0x156)];var _0x2fde24;if(_0x40cef7=='rm'){}else{if(_0x40cef7=='fg')switch(_0x3c88d9){case'IC':_0x217753['length']>0x0?_0x2fde24=await purchases_finished[_0x5522d1(0x139)]([{'$match':{'warehouse_name':_0x22f1a,'date':{'$gte':_0xf8566a,'$lte':_0x48a75e}}},{'$unwind':'$product'},{'$match':{'$or':[{'product.product_code':_0x217753}]}},{'$group':{'_id':_0x5522d1(0x142),'date':{'$first':_0x5522d1(0x12b)},'warehouse_name':{'$first':_0x5522d1(0x132)},'products':{'$push':'$product'}}}]):_0x2fde24=await purchases_finished[_0x5522d1(0x139)]([{'$match':{'warehouse_name':_0x22f1a,'date':{'$gte':_0xf8566a,'$lte':_0x48a75e}}},{'$unwind':_0x5522d1(0x15c)},{'$group':{'_id':'$invoice','date':{'$first':_0x5522d1(0x12b)},'warehouse_name':{'$first':_0x5522d1(0x132)},'products':{'$push':_0x5522d1(0x15c)}}}]);break;case'OG':_0x217753[_0x5522d1(0x13d)]>0x0?_0x2fde24=await sales_finished[_0x5522d1(0x139)]([{'$match':{'warehouse_name':_0x22f1a,'date':{'$gte':_0xf8566a,'$lte':_0x48a75e}}},{'$unwind':_0x5522d1(0x152)},{'$match':{'$or':[{'sale_product.product_code':_0x217753}]}},{'$group':{'_id':_0x5522d1(0x142),'date':{'$first':'$date'},'warehouse_name':{'$first':_0x5522d1(0x132)},'products':{'$push':_0x5522d1(0x152)}}}]):_0x2fde24=await sales_finished[_0x5522d1(0x139)]([{'$match':{'warehouse_name':_0x22f1a,'date':{'$gte':_0xf8566a,'$lte':_0x48a75e}}},{'$unwind':_0x5522d1(0x152)},{'$group':{'_id':_0x5522d1(0x142),'date':{'$first':_0x5522d1(0x12b)},'warehouse_name':{'$first':_0x5522d1(0x132)},'products':{'$push':_0x5522d1(0x152)}}}]);break;case'AJ':break;case'TF':_0x2fde24=await transfers_finished[_0x5522d1(0x12e)]({'warehouse':_0x22f1a,'date':{'$gte':_0xf8566a,'$lte':_0x48a75e}});break;}}_0x382930[_0x5522d1(0x133)]({'data':_0x2fde24});}),router[a0_0x50ced8(0x141)](a0_0x50ced8(0x158),auth,async(_0x3086a6,_0x1121a1)=>{var _0x359b7a=a0_0x50ced8;try{const _0xac500b=_0x3086a6['params']['id'];var _0x4781cc=await purchases_finished[_0x359b7a(0x148)](_0xac500b);const _0x4d077b=await master_shop['find'](),_0x5c03db=_0x3086a6[_0x359b7a(0x143)],_0x3bf3c3=await profile[_0x359b7a(0x13a)]({'email':_0x5c03db['email']});if(_0x4d077b[0x0][_0x359b7a(0x12c)]==_0x359b7a(0x151))var _0x36f1a4=users[_0x359b7a(0x13e)];else{if(_0x4d077b[0x0]['language']==_0x359b7a(0x159))var _0x36f1a4=users[_0x359b7a(0x159)];else{if(_0x4d077b[0x0]['language']==_0x359b7a(0x149))var _0x36f1a4=users[_0x359b7a(0x149)];else{if(_0x4d077b[0x0]['language']==_0x359b7a(0x14a))var _0x36f1a4=users[_0x359b7a(0x14a)];else{if(_0x4d077b[0x0]['language']==_0x359b7a(0x136))var _0x36f1a4=users['French'];else{if(_0x4d077b[0x0][_0x359b7a(0x12c)]==_0x359b7a(0x131))var _0x36f1a4=users[_0x359b7a(0x125)];else{if(_0x4d077b[0x0][_0x359b7a(0x12c)]=='Chinese')var _0x36f1a4=users[_0x359b7a(0x154)];else{if(_0x4d077b[0x0][_0x359b7a(0x12c)]=='Arabic\x20(ae)')var _0x36f1a4=users[_0x359b7a(0x15a)];}}}}}}}_0x1121a1[_0x359b7a(0x130)](_0x359b7a(0x126),{'success':_0x3086a6[_0x359b7a(0x12a)](_0x359b7a(0x157)),'errors':_0x3086a6[_0x359b7a(0x12a)](_0x359b7a(0x14e)),'master_shop':_0x4d077b,'profile':_0x3bf3c3,'role':_0x5c03db,'language':_0x36f1a4,'data':_0x4781cc});}catch(_0x4ee4a5){_0x1121a1[_0x359b7a(0x133)](_0x4ee4a5);}}),router[a0_0x50ced8(0x141)](a0_0x50ced8(0x137),auth,async(_0x5483d2,_0x446e4b)=>{var _0x1fe98b=a0_0x50ced8;try{const _0x4ce06c=_0x5483d2[_0x1fe98b(0x135)]['id'];var _0x4d3f25=await sales_finished[_0x1fe98b(0x148)](_0x4ce06c);const _0x4d4937=await master_shop[_0x1fe98b(0x12e)](),_0x4ccb95=_0x5483d2[_0x1fe98b(0x143)],_0x4b480c=await profile[_0x1fe98b(0x13a)]({'email':_0x4ccb95['email']});if(_0x4d4937[0x0][_0x1fe98b(0x12c)]=='English\x20(US)')var _0xa5c531=users[_0x1fe98b(0x13e)];else{if(_0x4d4937[0x0]['language']==_0x1fe98b(0x159))var _0xa5c531=users[_0x1fe98b(0x159)];else{if(_0x4d4937[0x0][_0x1fe98b(0x12c)]==_0x1fe98b(0x149))var _0xa5c531=users[_0x1fe98b(0x149)];else{if(_0x4d4937[0x0][_0x1fe98b(0x12c)]==_0x1fe98b(0x14a))var _0xa5c531=users[_0x1fe98b(0x14a)];else{if(_0x4d4937[0x0][_0x1fe98b(0x12c)]=='French')var _0xa5c531=users['French'];else{if(_0x4d4937[0x0][_0x1fe98b(0x12c)]==_0x1fe98b(0x131))var _0xa5c531=users['Portuguese'];else{if(_0x4d4937[0x0][_0x1fe98b(0x12c)]==_0x1fe98b(0x154))var _0xa5c531=users['Chinese'];else{if(_0x4d4937[0x0]['language']==_0x1fe98b(0x123))var _0xa5c531=users[_0x1fe98b(0x15a)];}}}}}}}_0x446e4b['render']('view_og_table',{'success':_0x5483d2['flash'](_0x1fe98b(0x157)),'errors':_0x5483d2[_0x1fe98b(0x12a)](_0x1fe98b(0x14e)),'master_shop':_0x4d4937,'profile':_0x4b480c,'role':_0x4ccb95,'language':_0xa5c531,'data':_0x4d3f25});}catch(_0x3d6795){_0x446e4b[_0x1fe98b(0x133)](_0x3d6795);}}),router['get'](a0_0x50ced8(0x15d),auth,async(_0x4e3f67,_0x477949)=>{var _0x3a47d1=a0_0x50ced8;try{const _0x563884=_0x4e3f67['params']['id'];var _0x3d845b=await transfers_finished['findById'](_0x563884);const _0x20aaf4=await master_shop['find'](),_0xee898e=_0x4e3f67[_0x3a47d1(0x143)],_0x27641b=await profile['findOne']({'email':_0xee898e[_0x3a47d1(0x12d)]});if(_0x20aaf4[0x0][_0x3a47d1(0x12c)]==_0x3a47d1(0x151))var _0x22700c=users[_0x3a47d1(0x13e)];else{if(_0x20aaf4[0x0][_0x3a47d1(0x12c)]==_0x3a47d1(0x159))var _0x22700c=users[_0x3a47d1(0x159)];else{if(_0x20aaf4[0x0][_0x3a47d1(0x12c)]==_0x3a47d1(0x149))var _0x22700c=users[_0x3a47d1(0x149)];else{if(_0x20aaf4[0x0]['language']==_0x3a47d1(0x14a))var _0x22700c=users[_0x3a47d1(0x14a)];else{if(_0x20aaf4[0x0][_0x3a47d1(0x12c)]==_0x3a47d1(0x136))var _0x22700c=users['French'];else{if(_0x20aaf4[0x0]['language']==_0x3a47d1(0x131))var _0x22700c=users[_0x3a47d1(0x125)];else{if(_0x20aaf4[0x0]['language']==_0x3a47d1(0x154))var _0x22700c=users[_0x3a47d1(0x154)];else{if(_0x20aaf4[0x0][_0x3a47d1(0x12c)]=='Arabic\x20(ae)')var _0x22700c=users[_0x3a47d1(0x15a)];}}}}}}}_0x477949[_0x3a47d1(0x130)](_0x3a47d1(0x15b),{'success':_0x4e3f67[_0x3a47d1(0x12a)]('success'),'errors':_0x4e3f67[_0x3a47d1(0x12a)](_0x3a47d1(0x14e)),'master_shop':_0x20aaf4,'profile':_0x27641b,'role':_0xee898e,'language':_0x22700c,'data':_0x3d845b});}catch(_0x18dde4){_0x477949['json'](_0x18dde4);}}),module[a0_0x50ced8(0x13b)]=router;