var a0_0x3603dc=a0_0x475c;(function(_0x2d74e4,_0x5bad4e){var _0xc2c517=a0_0x475c,_0x38ab05=_0x2d74e4();while(!![]){try{var _0x221c46=-parseInt(_0xc2c517(0x124))/0x1+-parseInt(_0xc2c517(0x10a))/0x2*(parseInt(_0xc2c517(0x120))/0x3)+parseInt(_0xc2c517(0x137))/0x4*(-parseInt(_0xc2c517(0x12e))/0x5)+parseInt(_0xc2c517(0x108))/0x6*(-parseInt(_0xc2c517(0x10c))/0x7)+-parseInt(_0xc2c517(0x135))/0x8*(parseInt(_0xc2c517(0x121))/0x9)+-parseInt(_0xc2c517(0x127))/0xa+parseInt(_0xc2c517(0x134))/0xb*(parseInt(_0xc2c517(0x11a))/0xc);if(_0x221c46===_0x5bad4e)break;else _0x38ab05['push'](_0x38ab05['shift']());}catch(_0x5749e7){_0x38ab05['push'](_0x38ab05['shift']());}}}(a0_0x27df,0x4bdfd));function a0_0x27df(){var _0xe6174=['$warehouse_name','English\x20(US)','findOne','German','log','198Sdskxg','json','58srRVNG','view_tf_table','111713iZoGoe','$invoice','user','render','aggregate','findById','$name','get','/reports','params','../models/all_models','Arabic','../middleware/auth','French','65052OLhUOD','Portuguese\x20(BR)','length','Arabic\x20(ae)','find','body','64293wLviRZ','448974tjpXUx','success','/view','172061gjRzco','Enabled','flash','1632280DGcLIr','English','../public/language/languages.json','$date','language','Spanish','view_table','1399165EqMArC','view_og_table','exports','nodemailer','/viewdata_inc_fg/:id','post','4411RKJsEY','16GsrooG','Router','4qHqVgp','transaction_finished','$product','Chinese','$sale_product','email','/viewdata_tf_fg/:id','Hindi','Portuguese'];a0_0x27df=function(){return _0xe6174;};return a0_0x27df();}const express=require('express'),app=express(),router=express[a0_0x3603dc(0x136)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require(a0_0x3603dc(0x116)),auth=require(a0_0x3603dc(0x118)),users=require(a0_0x3603dc(0x129)),nodemailer=require(a0_0x3603dc(0x131));function a0_0x475c(_0x1b385f,_0x49bd30){var _0x27df92=a0_0x27df();return a0_0x475c=function(_0x475c68,_0x1e901e){_0x475c68=_0x475c68-0xfd;var _0x3830f4=_0x27df92[_0x475c68];return _0x3830f4;},a0_0x475c(_0x1b385f,_0x49bd30);}router['get'](a0_0x3603dc(0x123),auth,async(_0x1d4ddd,_0x324a2c)=>{var _0x48ee10=a0_0x3603dc;try{const {username:_0x9a07f6,email:_0x2416b1,role:_0x1cd4c2}=_0x1d4ddd['user'],_0x18d922=_0x1d4ddd['user'],_0xc68020=await profile[_0x48ee10(0x105)]({'email':_0x18d922[_0x48ee10(0xff)]}),_0x4b32a9=await master_shop[_0x48ee10(0x11e)](),_0x22508f=await warehouse[_0x48ee10(0x110)]([{'$match':{'status':_0x48ee10(0x125),'warehouse_category':'Finished\x20Goods'}},{'$group':{'_id':_0x48ee10(0x112),'name':{'$first':_0x48ee10(0x112)}}}]);if(_0x4b32a9[0x0][_0x48ee10(0x12b)]==_0x48ee10(0x104))var _0x1153f4=users[_0x48ee10(0x128)];else{if(_0x4b32a9[0x0][_0x48ee10(0x12b)]==_0x48ee10(0x101))var _0x1153f4=users['Hindi'];else{if(_0x4b32a9[0x0][_0x48ee10(0x12b)]=='German')var _0x1153f4=users[_0x48ee10(0x106)];else{if(_0x4b32a9[0x0][_0x48ee10(0x12b)]==_0x48ee10(0x12c))var _0x1153f4=users[_0x48ee10(0x12c)];else{if(_0x4b32a9[0x0][_0x48ee10(0x12b)]=='French')var _0x1153f4=users[_0x48ee10(0x119)];else{if(_0x4b32a9[0x0]['language']==_0x48ee10(0x11b))var _0x1153f4=users[_0x48ee10(0x102)];else{if(_0x4b32a9[0x0][_0x48ee10(0x12b)]==_0x48ee10(0xfd))var _0x1153f4=users[_0x48ee10(0xfd)];else{if(_0x4b32a9[0x0][_0x48ee10(0x12b)]==_0x48ee10(0x11d))var _0x1153f4=users[_0x48ee10(0x117)];}}}}}}}_0x324a2c[_0x48ee10(0x10f)](_0x48ee10(0x138),{'success':_0x1d4ddd['flash'](_0x48ee10(0x122)),'errors':_0x1d4ddd[_0x48ee10(0x126)]('errors'),'role':_0x18d922,'profile':_0xc68020,'master_shop':_0x4b32a9,'dataProcess':_0x22508f,'language':_0x1153f4});}catch(_0x35663d){console[_0x48ee10(0x107)](_0x35663d);}}),router[a0_0x3603dc(0x133)](a0_0x3603dc(0x114),auth,async(_0x3cf31d,_0x469a1d)=>{var _0x10003a=a0_0x3603dc;const {product_category:_0x5e5d6d,transaction_category:_0x597724,transaction_date_from:_0x2e511d,transaction_date_to:_0x1fa865,warehouse_category:_0x11ba34,item_code:_0x49fea2}=_0x3cf31d[_0x10003a(0x11f)];var _0x46fdb1;if(_0x5e5d6d=='rm'){}else{if(_0x5e5d6d=='fg')switch(_0x597724){case'IC':_0x49fea2['length']>0x0?_0x46fdb1=await purchases_finished[_0x10003a(0x110)]([{'$match':{'warehouse_name':_0x11ba34,'date':{'$gte':_0x2e511d,'$lte':_0x1fa865}}},{'$unwind':_0x10003a(0x139)},{'$match':{'$or':[{'product.product_code':_0x49fea2}]}},{'$group':{'_id':_0x10003a(0x10d),'date':{'$first':'$date'},'warehouse_name':{'$first':_0x10003a(0x103)},'products':{'$push':_0x10003a(0x139)}}}]):_0x46fdb1=await purchases_finished['aggregate']([{'$match':{'warehouse_name':_0x11ba34,'date':{'$gte':_0x2e511d,'$lte':_0x1fa865}}},{'$unwind':_0x10003a(0x139)},{'$group':{'_id':'$invoice','date':{'$first':'$date'},'warehouse_name':{'$first':_0x10003a(0x103)},'products':{'$push':'$product'}}}]);break;case'OG':_0x49fea2[_0x10003a(0x11c)]>0x0?_0x46fdb1=await sales_finished[_0x10003a(0x110)]([{'$match':{'warehouse_name':_0x11ba34,'date':{'$gte':_0x2e511d,'$lte':_0x1fa865}}},{'$unwind':_0x10003a(0xfe)},{'$match':{'$or':[{'sale_product.product_code':_0x49fea2}]}},{'$group':{'_id':'$invoice','date':{'$first':_0x10003a(0x12a)},'warehouse_name':{'$first':_0x10003a(0x103)},'products':{'$push':'$sale_product'}}}]):_0x46fdb1=await sales_finished[_0x10003a(0x110)]([{'$match':{'warehouse_name':_0x11ba34,'date':{'$gte':_0x2e511d,'$lte':_0x1fa865}}},{'$unwind':_0x10003a(0xfe)},{'$group':{'_id':_0x10003a(0x10d),'date':{'$first':'$date'},'warehouse_name':{'$first':_0x10003a(0x103)},'products':{'$push':_0x10003a(0xfe)}}}]);break;case'AJ':break;case'TF':_0x46fdb1=await transfers_finished[_0x10003a(0x11e)]({'warehouse':_0x11ba34,'date':{'$gte':_0x2e511d,'$lte':_0x1fa865}});break;}}_0x469a1d[_0x10003a(0x109)]({'data':_0x46fdb1});}),router['get'](a0_0x3603dc(0x132),auth,async(_0x45580d,_0x5ed006)=>{var _0x423b18=a0_0x3603dc;try{const _0x25c741=_0x45580d[_0x423b18(0x115)]['id'];var _0x18884a=await purchases_finished[_0x423b18(0x111)](_0x25c741);const _0x31349d=await master_shop[_0x423b18(0x11e)](),_0x871506=_0x45580d[_0x423b18(0x10e)],_0x4aed4a=await profile[_0x423b18(0x105)]({'email':_0x871506[_0x423b18(0xff)]});if(_0x31349d[0x0][_0x423b18(0x12b)]=='English\x20(US)')var _0x1cf020=users['English'];else{if(_0x31349d[0x0][_0x423b18(0x12b)]==_0x423b18(0x101))var _0x1cf020=users['Hindi'];else{if(_0x31349d[0x0][_0x423b18(0x12b)]==_0x423b18(0x106))var _0x1cf020=users['German'];else{if(_0x31349d[0x0][_0x423b18(0x12b)]==_0x423b18(0x12c))var _0x1cf020=users[_0x423b18(0x12c)];else{if(_0x31349d[0x0][_0x423b18(0x12b)]==_0x423b18(0x119))var _0x1cf020=users[_0x423b18(0x119)];else{if(_0x31349d[0x0][_0x423b18(0x12b)]==_0x423b18(0x11b))var _0x1cf020=users['Portuguese'];else{if(_0x31349d[0x0]['language']==_0x423b18(0xfd))var _0x1cf020=users[_0x423b18(0xfd)];else{if(_0x31349d[0x0]['language']==_0x423b18(0x11d))var _0x1cf020=users['Arabic'];}}}}}}}_0x5ed006['render'](_0x423b18(0x12d),{'success':_0x45580d[_0x423b18(0x126)](_0x423b18(0x122)),'errors':_0x45580d[_0x423b18(0x126)]('errors'),'master_shop':_0x31349d,'profile':_0x4aed4a,'role':_0x871506,'language':_0x1cf020,'data':_0x18884a});}catch(_0x336354){_0x5ed006['json'](_0x336354);}}),router['get']('/viewdata_og_fg/:id',auth,async(_0x3f75cc,_0x32053f)=>{var _0x281069=a0_0x3603dc;try{const _0x25cf84=_0x3f75cc[_0x281069(0x115)]['id'];var _0x1c23c4=await sales_finished[_0x281069(0x111)](_0x25cf84);const _0x38cf32=await master_shop[_0x281069(0x11e)](),_0x24bd84=_0x3f75cc[_0x281069(0x10e)],_0x453c60=await profile[_0x281069(0x105)]({'email':_0x24bd84['email']});if(_0x38cf32[0x0]['language']==_0x281069(0x104))var _0x5ad6ba=users[_0x281069(0x128)];else{if(_0x38cf32[0x0][_0x281069(0x12b)]==_0x281069(0x101))var _0x5ad6ba=users[_0x281069(0x101)];else{if(_0x38cf32[0x0][_0x281069(0x12b)]==_0x281069(0x106))var _0x5ad6ba=users[_0x281069(0x106)];else{if(_0x38cf32[0x0][_0x281069(0x12b)]=='Spanish')var _0x5ad6ba=users['Spanish'];else{if(_0x38cf32[0x0]['language']==_0x281069(0x119))var _0x5ad6ba=users[_0x281069(0x119)];else{if(_0x38cf32[0x0][_0x281069(0x12b)]==_0x281069(0x11b))var _0x5ad6ba=users[_0x281069(0x102)];else{if(_0x38cf32[0x0][_0x281069(0x12b)]==_0x281069(0xfd))var _0x5ad6ba=users[_0x281069(0xfd)];else{if(_0x38cf32[0x0][_0x281069(0x12b)]=='Arabic\x20(ae)')var _0x5ad6ba=users[_0x281069(0x117)];}}}}}}}_0x32053f[_0x281069(0x10f)](_0x281069(0x12f),{'success':_0x3f75cc[_0x281069(0x126)](_0x281069(0x122)),'errors':_0x3f75cc[_0x281069(0x126)]('errors'),'master_shop':_0x38cf32,'profile':_0x453c60,'role':_0x24bd84,'language':_0x5ad6ba,'data':_0x1c23c4});}catch(_0x55a7e7){_0x32053f[_0x281069(0x109)](_0x55a7e7);}}),router[a0_0x3603dc(0x113)](a0_0x3603dc(0x100),auth,async(_0x300fe6,_0x20da62)=>{var _0x33b74c=a0_0x3603dc;try{const _0x2d2e8d=_0x300fe6['params']['id'];var _0x4d45f3=await transfers_finished[_0x33b74c(0x111)](_0x2d2e8d);const _0x3f7a6b=await master_shop[_0x33b74c(0x11e)](),_0x4331e4=_0x300fe6[_0x33b74c(0x10e)],_0x33020b=await profile[_0x33b74c(0x105)]({'email':_0x4331e4['email']});if(_0x3f7a6b[0x0][_0x33b74c(0x12b)]==_0x33b74c(0x104))var _0xdbca36=users[_0x33b74c(0x128)];else{if(_0x3f7a6b[0x0][_0x33b74c(0x12b)]=='Hindi')var _0xdbca36=users[_0x33b74c(0x101)];else{if(_0x3f7a6b[0x0][_0x33b74c(0x12b)]==_0x33b74c(0x106))var _0xdbca36=users[_0x33b74c(0x106)];else{if(_0x3f7a6b[0x0][_0x33b74c(0x12b)]==_0x33b74c(0x12c))var _0xdbca36=users[_0x33b74c(0x12c)];else{if(_0x3f7a6b[0x0][_0x33b74c(0x12b)]==_0x33b74c(0x119))var _0xdbca36=users['French'];else{if(_0x3f7a6b[0x0][_0x33b74c(0x12b)]=='Portuguese\x20(BR)')var _0xdbca36=users['Portuguese'];else{if(_0x3f7a6b[0x0][_0x33b74c(0x12b)]==_0x33b74c(0xfd))var _0xdbca36=users[_0x33b74c(0xfd)];else{if(_0x3f7a6b[0x0][_0x33b74c(0x12b)]==_0x33b74c(0x11d))var _0xdbca36=users[_0x33b74c(0x117)];}}}}}}}_0x20da62[_0x33b74c(0x10f)](_0x33b74c(0x10b),{'success':_0x300fe6[_0x33b74c(0x126)]('success'),'errors':_0x300fe6[_0x33b74c(0x126)]('errors'),'master_shop':_0x3f7a6b,'profile':_0x33020b,'role':_0x4331e4,'language':_0xdbca36,'data':_0x4d45f3});}catch(_0x539890){_0x20da62[_0x33b74c(0x109)](_0x539890);}}),module[a0_0x3603dc(0x130)]=router;