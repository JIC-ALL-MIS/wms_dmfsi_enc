function a0_0x156e(){var _0x12e65f=['post','../middleware/auth','Router','view_tf_table','Arabic\x20(ae)','4638366GwihWV','findOne','view_table','../public/language/languages.json','Hindi','1056212jPAtIy','3TwzVZX','284757ZnIAaA','$sale_product','10325BVmrWh','/viewdata_og_fg/:id','8hATPwj','$warehouse_name','French','English\x20(US)','Spanish','length','6msygjt','1884PXbstc','/viewdata_inc_fg/:id','English','Arabic','4907835yxrAZt','/reports','aggregate','express','$invoice','German','15508620yDSvPh','findById','Chinese','user','$name','get','render','11059797ozAhHw','find','json','$date','$product','116VrcVEj','body','flash','view_og_table','/view','Portuguese','params','email','language','errors','Portuguese\x20(BR)','success','Finished\x20Goods'];a0_0x156e=function(){return _0x12e65f;};return a0_0x156e();}var a0_0x530cb4=a0_0x5d48;function a0_0x5d48(_0x3ce983,_0x15f204){var _0x156e9b=a0_0x156e();return a0_0x5d48=function(_0x5d480e,_0x56908c){_0x5d480e=_0x5d480e-0x16f;var _0x43f6f4=_0x156e9b[_0x5d480e];return _0x43f6f4;},a0_0x5d48(_0x3ce983,_0x15f204);}(function(_0x76d253,_0x141620){var _0x13a704=a0_0x5d48,_0x54b3d6=_0x76d253();while(!![]){try{var _0x17dfb2=-parseInt(_0x13a704(0x19d))/0x1*(-parseInt(_0x13a704(0x182))/0x2)+parseInt(_0x13a704(0x19a))/0x3*(-parseInt(_0x13a704(0x199))/0x4)+parseInt(_0x13a704(0x170))/0x5*(-parseInt(_0x13a704(0x1a5))/0x6)+-parseInt(_0x13a704(0x17d))/0x7+parseInt(_0x13a704(0x19f))/0x8*(parseInt(_0x13a704(0x194))/0x9)+-parseInt(_0x13a704(0x176))/0xa+-parseInt(_0x13a704(0x19b))/0xb*(-parseInt(_0x13a704(0x1a6))/0xc);if(_0x17dfb2===_0x141620)break;else _0x54b3d6['push'](_0x54b3d6['shift']());}catch(_0x44083d){_0x54b3d6['push'](_0x54b3d6['shift']());}}}(a0_0x156e,0xc3cee));const express=require(a0_0x530cb4(0x173)),app=express(),router=express[a0_0x530cb4(0x191)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require('../models/all_models'),auth=require(a0_0x530cb4(0x190)),users=require(a0_0x530cb4(0x197)),nodemailer=require('nodemailer');router[a0_0x530cb4(0x17b)](a0_0x530cb4(0x186),auth,async(_0x594a55,_0x2f19fc)=>{var _0x1ef5d3=a0_0x530cb4;try{const {username:_0x201249,email:_0x4a6a74,role:_0x2598ee}=_0x594a55[_0x1ef5d3(0x179)],_0x27c2df=_0x594a55['user'],_0x1237c4=await profile['findOne']({'email':_0x27c2df[_0x1ef5d3(0x189)]}),_0x4e6d9d=await master_shop[_0x1ef5d3(0x17e)](),_0x4d55be=await warehouse[_0x1ef5d3(0x172)]([{'$match':{'status':'Enabled','warehouse_category':_0x1ef5d3(0x18e)}},{'$group':{'_id':_0x1ef5d3(0x17a),'name':{'$first':_0x1ef5d3(0x17a)}}}]);if(_0x4e6d9d[0x0][_0x1ef5d3(0x18a)]==_0x1ef5d3(0x1a2))var _0x388598=users[_0x1ef5d3(0x1a8)];else{if(_0x4e6d9d[0x0]['language']==_0x1ef5d3(0x198))var _0x388598=users[_0x1ef5d3(0x198)];else{if(_0x4e6d9d[0x0]['language']==_0x1ef5d3(0x175))var _0x388598=users[_0x1ef5d3(0x175)];else{if(_0x4e6d9d[0x0][_0x1ef5d3(0x18a)]=='Spanish')var _0x388598=users[_0x1ef5d3(0x1a3)];else{if(_0x4e6d9d[0x0][_0x1ef5d3(0x18a)]==_0x1ef5d3(0x1a1))var _0x388598=users['French'];else{if(_0x4e6d9d[0x0][_0x1ef5d3(0x18a)]==_0x1ef5d3(0x18c))var _0x388598=users['Portuguese'];else{if(_0x4e6d9d[0x0]['language']==_0x1ef5d3(0x178))var _0x388598=users[_0x1ef5d3(0x178)];else{if(_0x4e6d9d[0x0][_0x1ef5d3(0x18a)]==_0x1ef5d3(0x193))var _0x388598=users['Arabic'];}}}}}}}_0x2f19fc[_0x1ef5d3(0x17c)]('transaction_finished',{'success':_0x594a55[_0x1ef5d3(0x184)](_0x1ef5d3(0x18d)),'errors':_0x594a55[_0x1ef5d3(0x184)](_0x1ef5d3(0x18b)),'role':_0x27c2df,'profile':_0x1237c4,'master_shop':_0x4e6d9d,'dataProcess':_0x4d55be,'language':_0x388598});}catch(_0x348b7c){console['log'](_0x348b7c);}}),router[a0_0x530cb4(0x18f)](a0_0x530cb4(0x171),auth,async(_0x3c79c6,_0x468190)=>{var _0x403fc8=a0_0x530cb4;const {product_category:_0xe92f19,transaction_category:_0x596a79,transaction_date_from:_0x4d0ed7,transaction_date_to:_0x47fadd,warehouse_category:_0x3a4127,item_code:_0x1d099e}=_0x3c79c6[_0x403fc8(0x183)];var _0x1bc2f3;if(_0xe92f19=='rm'){}else{if(_0xe92f19=='fg')switch(_0x596a79){case'IC':_0x1d099e[_0x403fc8(0x1a4)]>0x0?_0x1bc2f3=await purchases_finished[_0x403fc8(0x172)]([{'$match':{'warehouse_name':_0x3a4127,'date':{'$gte':_0x4d0ed7,'$lte':_0x47fadd}}},{'$unwind':_0x403fc8(0x181)},{'$match':{'$or':[{'product.product_code':_0x1d099e}]}},{'$group':{'_id':_0x403fc8(0x174),'date':{'$first':_0x403fc8(0x180)},'warehouse_name':{'$first':_0x403fc8(0x1a0)},'products':{'$push':_0x403fc8(0x181)}}}]):_0x1bc2f3=await purchases_finished['aggregate']([{'$match':{'warehouse_name':_0x3a4127,'date':{'$gte':_0x4d0ed7,'$lte':_0x47fadd}}},{'$unwind':_0x403fc8(0x181)},{'$group':{'_id':_0x403fc8(0x174),'date':{'$first':'$date'},'warehouse_name':{'$first':_0x403fc8(0x1a0)},'products':{'$push':'$product'}}}]);break;case'OG':_0x1d099e['length']>0x0?_0x1bc2f3=await sales_finished['aggregate']([{'$match':{'warehouse_name':_0x3a4127,'date':{'$gte':_0x4d0ed7,'$lte':_0x47fadd}}},{'$unwind':_0x403fc8(0x19c)},{'$match':{'$or':[{'sale_product.product_code':_0x1d099e}]}},{'$group':{'_id':'$invoice','date':{'$first':_0x403fc8(0x180)},'warehouse_name':{'$first':_0x403fc8(0x1a0)},'products':{'$push':_0x403fc8(0x19c)}}}]):_0x1bc2f3=await sales_finished[_0x403fc8(0x172)]([{'$match':{'warehouse_name':_0x3a4127,'date':{'$gte':_0x4d0ed7,'$lte':_0x47fadd}}},{'$unwind':_0x403fc8(0x19c)},{'$group':{'_id':'$invoice','date':{'$first':_0x403fc8(0x180)},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':_0x403fc8(0x19c)}}}]);break;case'AJ':break;case'TF':_0x1bc2f3=await transfers_finished['find']({'warehouse':_0x3a4127,'date':{'$gte':_0x4d0ed7,'$lte':_0x47fadd}});break;}}_0x468190[_0x403fc8(0x17f)]({'data':_0x1bc2f3});}),router[a0_0x530cb4(0x17b)](a0_0x530cb4(0x1a7),auth,async(_0x41f7cb,_0x1ec760)=>{var _0x422a31=a0_0x530cb4;try{const _0x2a6f9e=_0x41f7cb[_0x422a31(0x188)]['id'];var _0x364652=await purchases_finished[_0x422a31(0x177)](_0x2a6f9e);const _0x25964d=await master_shop[_0x422a31(0x17e)](),_0x2f6242=_0x41f7cb[_0x422a31(0x179)],_0x596945=await profile[_0x422a31(0x195)]({'email':_0x2f6242[_0x422a31(0x189)]});if(_0x25964d[0x0]['language']=='English\x20(US)')var _0x41f13f=users['English'];else{if(_0x25964d[0x0]['language']==_0x422a31(0x198))var _0x41f13f=users[_0x422a31(0x198)];else{if(_0x25964d[0x0][_0x422a31(0x18a)]==_0x422a31(0x175))var _0x41f13f=users[_0x422a31(0x175)];else{if(_0x25964d[0x0][_0x422a31(0x18a)]==_0x422a31(0x1a3))var _0x41f13f=users[_0x422a31(0x1a3)];else{if(_0x25964d[0x0]['language']==_0x422a31(0x1a1))var _0x41f13f=users['French'];else{if(_0x25964d[0x0][_0x422a31(0x18a)]=='Portuguese\x20(BR)')var _0x41f13f=users[_0x422a31(0x187)];else{if(_0x25964d[0x0][_0x422a31(0x18a)]==_0x422a31(0x178))var _0x41f13f=users[_0x422a31(0x178)];else{if(_0x25964d[0x0][_0x422a31(0x18a)]==_0x422a31(0x193))var _0x41f13f=users[_0x422a31(0x16f)];}}}}}}}_0x1ec760[_0x422a31(0x17c)](_0x422a31(0x196),{'success':_0x41f7cb[_0x422a31(0x184)]('success'),'errors':_0x41f7cb[_0x422a31(0x184)](_0x422a31(0x18b)),'master_shop':_0x25964d,'profile':_0x596945,'role':_0x2f6242,'language':_0x41f13f,'data':_0x364652});}catch(_0x54b824){_0x1ec760[_0x422a31(0x17f)](_0x54b824);}}),router[a0_0x530cb4(0x17b)](a0_0x530cb4(0x19e),auth,async(_0xdd7870,_0x284e5a)=>{var _0x9eb925=a0_0x530cb4;try{const _0x190989=_0xdd7870[_0x9eb925(0x188)]['id'];var _0x4f49f1=await sales_finished[_0x9eb925(0x177)](_0x190989);const _0x26cc17=await master_shop['find'](),_0x40dce2=_0xdd7870[_0x9eb925(0x179)],_0x33c269=await profile[_0x9eb925(0x195)]({'email':_0x40dce2[_0x9eb925(0x189)]});if(_0x26cc17[0x0]['language']==_0x9eb925(0x1a2))var _0x4b2ec6=users['English'];else{if(_0x26cc17[0x0][_0x9eb925(0x18a)]==_0x9eb925(0x198))var _0x4b2ec6=users['Hindi'];else{if(_0x26cc17[0x0]['language']==_0x9eb925(0x175))var _0x4b2ec6=users['German'];else{if(_0x26cc17[0x0][_0x9eb925(0x18a)]==_0x9eb925(0x1a3))var _0x4b2ec6=users[_0x9eb925(0x1a3)];else{if(_0x26cc17[0x0]['language']==_0x9eb925(0x1a1))var _0x4b2ec6=users[_0x9eb925(0x1a1)];else{if(_0x26cc17[0x0]['language']==_0x9eb925(0x18c))var _0x4b2ec6=users['Portuguese'];else{if(_0x26cc17[0x0]['language']==_0x9eb925(0x178))var _0x4b2ec6=users[_0x9eb925(0x178)];else{if(_0x26cc17[0x0][_0x9eb925(0x18a)]==_0x9eb925(0x193))var _0x4b2ec6=users[_0x9eb925(0x16f)];}}}}}}}_0x284e5a['render'](_0x9eb925(0x185),{'success':_0xdd7870[_0x9eb925(0x184)](_0x9eb925(0x18d)),'errors':_0xdd7870['flash'](_0x9eb925(0x18b)),'master_shop':_0x26cc17,'profile':_0x33c269,'role':_0x40dce2,'language':_0x4b2ec6,'data':_0x4f49f1});}catch(_0x9861dc){_0x284e5a[_0x9eb925(0x17f)](_0x9861dc);}}),router[a0_0x530cb4(0x17b)]('/viewdata_tf_fg/:id',auth,async(_0x682acd,_0x127601)=>{var _0x390c40=a0_0x530cb4;try{const _0x107150=_0x682acd[_0x390c40(0x188)]['id'];var _0xdd09b4=await transfers_finished[_0x390c40(0x177)](_0x107150);const _0x1fd5fd=await master_shop[_0x390c40(0x17e)](),_0x50c2c9=_0x682acd[_0x390c40(0x179)],_0x5d412=await profile[_0x390c40(0x195)]({'email':_0x50c2c9[_0x390c40(0x189)]});if(_0x1fd5fd[0x0][_0x390c40(0x18a)]==_0x390c40(0x1a2))var _0x1b7585=users[_0x390c40(0x1a8)];else{if(_0x1fd5fd[0x0][_0x390c40(0x18a)]=='Hindi')var _0x1b7585=users['Hindi'];else{if(_0x1fd5fd[0x0][_0x390c40(0x18a)]==_0x390c40(0x175))var _0x1b7585=users[_0x390c40(0x175)];else{if(_0x1fd5fd[0x0][_0x390c40(0x18a)]==_0x390c40(0x1a3))var _0x1b7585=users[_0x390c40(0x1a3)];else{if(_0x1fd5fd[0x0][_0x390c40(0x18a)]=='French')var _0x1b7585=users[_0x390c40(0x1a1)];else{if(_0x1fd5fd[0x0][_0x390c40(0x18a)]=='Portuguese\x20(BR)')var _0x1b7585=users[_0x390c40(0x187)];else{if(_0x1fd5fd[0x0][_0x390c40(0x18a)]==_0x390c40(0x178))var _0x1b7585=users[_0x390c40(0x178)];else{if(_0x1fd5fd[0x0][_0x390c40(0x18a)]==_0x390c40(0x193))var _0x1b7585=users['Arabic'];}}}}}}}_0x127601[_0x390c40(0x17c)](_0x390c40(0x192),{'success':_0x682acd[_0x390c40(0x184)]('success'),'errors':_0x682acd['flash']('errors'),'master_shop':_0x1fd5fd,'profile':_0x5d412,'role':_0x50c2c9,'language':_0x1b7585,'data':_0xdd09b4});}catch(_0x56ee4a){_0x127601[_0x390c40(0x17f)](_0x56ee4a);}}),module['exports']=router;