var a0_0xaf3bf2=a0_0x55eb;(function(_0x74538c,_0x596e75){var _0x2be745=a0_0x55eb,_0x385788=_0x74538c();while(!![]){try{var _0xd8c62f=parseInt(_0x2be745(0x1cc))/0x1*(-parseInt(_0x2be745(0x1e0))/0x2)+-parseInt(_0x2be745(0x1d8))/0x3*(-parseInt(_0x2be745(0x1bc))/0x4)+parseInt(_0x2be745(0x1b8))/0x5+-parseInt(_0x2be745(0x1e4))/0x6*(-parseInt(_0x2be745(0x1d0))/0x7)+parseInt(_0x2be745(0x1d9))/0x8+parseInt(_0x2be745(0x1c2))/0x9*(parseInt(_0x2be745(0x1df))/0xa)+parseInt(_0x2be745(0x1c1))/0xb*(-parseInt(_0x2be745(0x1dd))/0xc);if(_0xd8c62f===_0x596e75)break;else _0x385788['push'](_0x385788['shift']());}catch(_0x253034){_0x385788['push'](_0x385788['shift']());}}}(a0_0x38da,0x219a6));const express=require(a0_0xaf3bf2(0x1e2)),app=express(),router=express[a0_0xaf3bf2(0x1ea)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require(a0_0xaf3bf2(0x1d1)),auth=require(a0_0xaf3bf2(0x1ca)),users=require(a0_0xaf3bf2(0x1b6)),nodemailer=require(a0_0xaf3bf2(0x1d7));function a0_0x55eb(_0x1e0875,_0x118ced){var _0x38dab3=a0_0x38da();return a0_0x55eb=function(_0x55ebde,_0x3164ae){_0x55ebde=_0x55ebde-0x1ae;var _0x45fffa=_0x38dab3[_0x55ebde];return _0x45fffa;},a0_0x55eb(_0x1e0875,_0x118ced);}router['get'](a0_0xaf3bf2(0x1d5),auth,async(_0x165ba1,_0x282f18)=>{var _0x56a456=a0_0xaf3bf2;try{const {username:_0x20a3f5,email:_0x1788e8,role:_0x27713f}=_0x165ba1['user'],_0xdbd95d=_0x165ba1['user'],_0x362145=await profile[_0x56a456(0x1e7)]({'email':_0xdbd95d[_0x56a456(0x1b2)]}),_0x33da77=await master_shop[_0x56a456(0x1b1)](),_0x14e969=await warehouse['aggregate']([{'$match':{'status':'Enabled','warehouse_category':_0x56a456(0x1c7)}},{'$group':{'_id':'$name','name':{'$first':_0x56a456(0x1bb)}}}]);if(_0x33da77[0x0][_0x56a456(0x1c9)]=='English\x20(US)')var _0x55d23d=users[_0x56a456(0x1c3)];else{if(_0x33da77[0x0][_0x56a456(0x1c9)]=='Hindi')var _0x55d23d=users[_0x56a456(0x1d4)];else{if(_0x33da77[0x0][_0x56a456(0x1c9)]==_0x56a456(0x1cd))var _0x55d23d=users[_0x56a456(0x1cd)];else{if(_0x33da77[0x0][_0x56a456(0x1c9)]==_0x56a456(0x1bd))var _0x55d23d=users[_0x56a456(0x1bd)];else{if(_0x33da77[0x0][_0x56a456(0x1c9)]=='French')var _0x55d23d=users[_0x56a456(0x1da)];else{if(_0x33da77[0x0][_0x56a456(0x1c9)]==_0x56a456(0x1c8))var _0x55d23d=users['Portuguese'];else{if(_0x33da77[0x0][_0x56a456(0x1c9)]==_0x56a456(0x1d2))var _0x55d23d=users[_0x56a456(0x1d2)];else{if(_0x33da77[0x0]['language']=='Arabic\x20(ae)')var _0x55d23d=users[_0x56a456(0x1cb)];}}}}}}}_0x282f18[_0x56a456(0x1b5)](_0x56a456(0x1e1),{'success':_0x165ba1[_0x56a456(0x1bf)](_0x56a456(0x1be)),'errors':_0x165ba1[_0x56a456(0x1bf)](_0x56a456(0x1dc)),'role':_0xdbd95d,'profile':_0x362145,'master_shop':_0x33da77,'dataProcess':_0x14e969,'language':_0x55d23d});}catch(_0x43dbd2){console['log'](_0x43dbd2);}}),router[a0_0xaf3bf2(0x1cf)](a0_0xaf3bf2(0x1e8),auth,async(_0x49c3d4,_0x3e6473)=>{var _0x4f0e20=a0_0xaf3bf2;const {product_category:_0xc7c3cb,transaction_category:_0x22bcd7,transaction_date_from:_0x2653ab,transaction_date_to:_0x197f11,warehouse_category:_0x27afcf,item_code:_0x3379f6}=_0x49c3d4[_0x4f0e20(0x1e5)];var _0x2f6ac2;if(_0xc7c3cb=='rm'){}else{if(_0xc7c3cb=='fg')switch(_0x22bcd7){case'IC':_0x3379f6[_0x4f0e20(0x1b4)]>0x0?_0x2f6ac2=await purchases_finished[_0x4f0e20(0x1b0)]([{'$match':{'warehouse_name':_0x27afcf,'date':{'$gte':_0x2653ab,'$lte':_0x197f11}}},{'$unwind':_0x4f0e20(0x1db)},{'$match':{'$or':[{'product.product_code':_0x3379f6}]}},{'$group':{'_id':_0x4f0e20(0x1af),'date':{'$first':_0x4f0e20(0x1b3)},'warehouse_name':{'$first':_0x4f0e20(0x1e6)},'products':{'$push':_0x4f0e20(0x1db)}}}]):_0x2f6ac2=await purchases_finished['aggregate']([{'$match':{'warehouse_name':_0x27afcf,'date':{'$gte':_0x2653ab,'$lte':_0x197f11}}},{'$unwind':_0x4f0e20(0x1db)},{'$group':{'_id':'$invoice','date':{'$first':_0x4f0e20(0x1b3)},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':_0x4f0e20(0x1db)}}}]);break;case'OG':_0x3379f6['length']>0x0?_0x2f6ac2=await sales_finished['aggregate']([{'$match':{'warehouse_name':_0x27afcf,'date':{'$gte':_0x2653ab,'$lte':_0x197f11}}},{'$unwind':_0x4f0e20(0x1d3)},{'$match':{'$or':[{'sale_product.product_code':_0x3379f6}]}},{'$group':{'_id':'$invoice','date':{'$first':'$date'},'warehouse_name':{'$first':_0x4f0e20(0x1e6)},'products':{'$push':_0x4f0e20(0x1d3)}}}]):_0x2f6ac2=await sales_finished[_0x4f0e20(0x1b0)]([{'$match':{'warehouse_name':_0x27afcf,'date':{'$gte':_0x2653ab,'$lte':_0x197f11}}},{'$unwind':_0x4f0e20(0x1d3)},{'$group':{'_id':_0x4f0e20(0x1af),'date':{'$first':_0x4f0e20(0x1b3)},'warehouse_name':{'$first':_0x4f0e20(0x1e6)},'products':{'$push':_0x4f0e20(0x1d3)}}}]);break;case'AJ':break;case'TF':_0x2f6ac2=await transfers_finished[_0x4f0e20(0x1b1)]({'warehouse':_0x27afcf,'date':{'$gte':_0x2653ab,'$lte':_0x197f11}});break;}}_0x3e6473['json']({'data':_0x2f6ac2});}),router[a0_0xaf3bf2(0x1e3)]('/viewdata_inc_fg/:id',auth,async(_0x512446,_0x30c21b)=>{var _0x437af4=a0_0xaf3bf2;try{const _0x4448c0=_0x512446[_0x437af4(0x1c4)]['id'];var _0x4498c3=await purchases_finished[_0x437af4(0x1c5)](_0x4448c0);const _0x18e099=await master_shop[_0x437af4(0x1b1)](),_0x18ab15=_0x512446['user'],_0x397d63=await profile[_0x437af4(0x1e7)]({'email':_0x18ab15[_0x437af4(0x1b2)]});if(_0x18e099[0x0][_0x437af4(0x1c9)]==_0x437af4(0x1c0))var _0x45e0d2=users[_0x437af4(0x1c3)];else{if(_0x18e099[0x0][_0x437af4(0x1c9)]=='Hindi')var _0x45e0d2=users[_0x437af4(0x1d4)];else{if(_0x18e099[0x0]['language']==_0x437af4(0x1cd))var _0x45e0d2=users[_0x437af4(0x1cd)];else{if(_0x18e099[0x0][_0x437af4(0x1c9)]=='Spanish')var _0x45e0d2=users[_0x437af4(0x1bd)];else{if(_0x18e099[0x0][_0x437af4(0x1c9)]=='French')var _0x45e0d2=users['French'];else{if(_0x18e099[0x0][_0x437af4(0x1c9)]==_0x437af4(0x1c8))var _0x45e0d2=users[_0x437af4(0x1b9)];else{if(_0x18e099[0x0][_0x437af4(0x1c9)]==_0x437af4(0x1d2))var _0x45e0d2=users['Chinese'];else{if(_0x18e099[0x0][_0x437af4(0x1c9)]==_0x437af4(0x1de))var _0x45e0d2=users[_0x437af4(0x1cb)];}}}}}}}_0x30c21b[_0x437af4(0x1b5)](_0x437af4(0x1d6),{'success':_0x512446['flash'](_0x437af4(0x1be)),'errors':_0x512446['flash'](_0x437af4(0x1dc)),'master_shop':_0x18e099,'profile':_0x397d63,'role':_0x18ab15,'language':_0x45e0d2,'data':_0x4498c3});}catch(_0x5f4069){_0x30c21b[_0x437af4(0x1ce)](_0x5f4069);}}),router['get'](a0_0xaf3bf2(0x1eb),auth,async(_0x387124,_0x2beac3)=>{var _0x5b973a=a0_0xaf3bf2;try{const _0x107050=_0x387124[_0x5b973a(0x1c4)]['id'];var _0x40a279=await sales_finished[_0x5b973a(0x1c5)](_0x107050);const _0x250569=await master_shop[_0x5b973a(0x1b1)](),_0x1d6340=_0x387124[_0x5b973a(0x1e9)],_0x41dc4e=await profile[_0x5b973a(0x1e7)]({'email':_0x1d6340[_0x5b973a(0x1b2)]});if(_0x250569[0x0]['language']==_0x5b973a(0x1c0))var _0x3d20b9=users[_0x5b973a(0x1c3)];else{if(_0x250569[0x0][_0x5b973a(0x1c9)]==_0x5b973a(0x1d4))var _0x3d20b9=users['Hindi'];else{if(_0x250569[0x0][_0x5b973a(0x1c9)]==_0x5b973a(0x1cd))var _0x3d20b9=users[_0x5b973a(0x1cd)];else{if(_0x250569[0x0][_0x5b973a(0x1c9)]==_0x5b973a(0x1bd))var _0x3d20b9=users[_0x5b973a(0x1bd)];else{if(_0x250569[0x0][_0x5b973a(0x1c9)]==_0x5b973a(0x1da))var _0x3d20b9=users[_0x5b973a(0x1da)];else{if(_0x250569[0x0][_0x5b973a(0x1c9)]==_0x5b973a(0x1c8))var _0x3d20b9=users['Portuguese'];else{if(_0x250569[0x0]['language']=='Chinese')var _0x3d20b9=users[_0x5b973a(0x1d2)];else{if(_0x250569[0x0][_0x5b973a(0x1c9)]==_0x5b973a(0x1de))var _0x3d20b9=users['Arabic'];}}}}}}}_0x2beac3[_0x5b973a(0x1b5)](_0x5b973a(0x1ae),{'success':_0x387124[_0x5b973a(0x1bf)](_0x5b973a(0x1be)),'errors':_0x387124[_0x5b973a(0x1bf)](_0x5b973a(0x1dc)),'master_shop':_0x250569,'profile':_0x41dc4e,'role':_0x1d6340,'language':_0x3d20b9,'data':_0x40a279});}catch(_0x2bde79){_0x2beac3[_0x5b973a(0x1ce)](_0x2bde79);}}),router[a0_0xaf3bf2(0x1e3)](a0_0xaf3bf2(0x1c6),auth,async(_0x1f39fa,_0x6bd450)=>{var _0x2ebfef=a0_0xaf3bf2;try{const _0x19cd42=_0x1f39fa[_0x2ebfef(0x1c4)]['id'];var _0x3a0c86=await transfers_finished[_0x2ebfef(0x1c5)](_0x19cd42);const _0x31e5d4=await master_shop[_0x2ebfef(0x1b1)](),_0x53e684=_0x1f39fa[_0x2ebfef(0x1e9)],_0x503b0e=await profile[_0x2ebfef(0x1e7)]({'email':_0x53e684[_0x2ebfef(0x1b2)]});if(_0x31e5d4[0x0]['language']==_0x2ebfef(0x1c0))var _0x39b7b8=users['English'];else{if(_0x31e5d4[0x0][_0x2ebfef(0x1c9)]=='Hindi')var _0x39b7b8=users[_0x2ebfef(0x1d4)];else{if(_0x31e5d4[0x0][_0x2ebfef(0x1c9)]==_0x2ebfef(0x1cd))var _0x39b7b8=users[_0x2ebfef(0x1cd)];else{if(_0x31e5d4[0x0][_0x2ebfef(0x1c9)]==_0x2ebfef(0x1bd))var _0x39b7b8=users[_0x2ebfef(0x1bd)];else{if(_0x31e5d4[0x0][_0x2ebfef(0x1c9)]==_0x2ebfef(0x1da))var _0x39b7b8=users[_0x2ebfef(0x1da)];else{if(_0x31e5d4[0x0][_0x2ebfef(0x1c9)]=='Portuguese\x20(BR)')var _0x39b7b8=users[_0x2ebfef(0x1b9)];else{if(_0x31e5d4[0x0][_0x2ebfef(0x1c9)]==_0x2ebfef(0x1d2))var _0x39b7b8=users[_0x2ebfef(0x1d2)];else{if(_0x31e5d4[0x0]['language']==_0x2ebfef(0x1de))var _0x39b7b8=users['Arabic'];}}}}}}}_0x6bd450[_0x2ebfef(0x1b5)](_0x2ebfef(0x1ba),{'success':_0x1f39fa['flash']('success'),'errors':_0x1f39fa[_0x2ebfef(0x1bf)](_0x2ebfef(0x1dc)),'master_shop':_0x31e5d4,'profile':_0x503b0e,'role':_0x53e684,'language':_0x39b7b8,'data':_0x3a0c86});}catch(_0x25e47e){_0x6bd450[_0x2ebfef(0x1ce)](_0x25e47e);}}),module[a0_0xaf3bf2(0x1b7)]=router;function a0_0x38da(){var _0x318e5c=['14CSmGjR','../models/all_models','Chinese','$sale_product','Hindi','/view','view_table','nodemailer','8730iXxANx','2056920aLxScV','French','$product','errors','1695324UdhGmg','Arabic\x20(ae)','64360GaiURm','2ZnuoOp','transaction_finished','express','get','260742ofLSlT','body','$warehouse_name','findOne','/reports','user','Router','/viewdata_og_fg/:id','view_og_table','$invoice','aggregate','find','email','$date','length','render','../public/language/languages.json','exports','1311560XtOUuz','Portuguese','view_tf_table','$name','348pDuHHc','Spanish','success','flash','English\x20(US)','77hUudyj','378coQqlw','English','params','findById','/viewdata_tf_fg/:id','Finished\x20Goods','Portuguese\x20(BR)','language','../middleware/auth','Arabic','3246GGtauC','German','json','post'];a0_0x38da=function(){return _0x318e5c;};return a0_0x38da();}