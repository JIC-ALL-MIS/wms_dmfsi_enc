function a0_0x23cf(){var _0x509ff7=['Portuguese\x20(BR)','Portuguese','../middleware/auth','Finished\x20Goods','667032NKmIeE','363wXbTce','findById','30VtxizH','errors','../public/language/languages.json','email','flash','Router','1816890BxHZbh','$date','10YVyKyS','12110616kvAKNW','2GaTdZY','English\x20(US)','134166LjkUiR','$product','Arabic\x20(ae)','1038888FtLrws','user','findOne','Chinese','json','$invoice','/view','Arabic','success','German','transaction_finished','/reports','length','7FBTcpi','Hindi','aggregate','/viewdata_tf_fg/:id','Enabled','$name','view_og_table','$sale_product','find','../models/all_models','Spanish','11954648cszrzl','get','English','language','render','/viewdata_og_fg/:id','672151hEkTmK','French','params'];a0_0x23cf=function(){return _0x509ff7;};return a0_0x23cf();}var a0_0x987b3d=a0_0x4293;(function(_0x27837c,_0x15f72a){var _0x4f65ce=a0_0x4293,_0x4800b4=_0x27837c();while(!![]){try{var _0x39349f=parseInt(_0x4f65ce(0x19e))/0x1*(parseInt(_0x4f65ce(0x17b))/0x2)+-parseInt(_0x4f65ce(0x17d))/0x3+parseInt(_0x4f65ce(0x180))/0x4*(parseInt(_0x4f65ce(0x1a8))/0x5)+-parseInt(_0x4f65ce(0x177))/0x6*(-parseInt(_0x4f65ce(0x18d))/0x7)+parseInt(_0x4f65ce(0x198))/0x8+-parseInt(_0x4f65ce(0x17a))/0x9*(parseInt(_0x4f65ce(0x179))/0xa)+parseInt(_0x4f65ce(0x1a6))/0xb*(-parseInt(_0x4f65ce(0x1a5))/0xc);if(_0x39349f===_0x15f72a)break;else _0x4800b4['push'](_0x4800b4['shift']());}catch(_0x39fb06){_0x4800b4['push'](_0x4800b4['shift']());}}}(a0_0x23cf,0xc4081));function a0_0x4293(_0x3d83a7,_0x611adc){var _0x23cfc3=a0_0x23cf();return a0_0x4293=function(_0x4293ac,_0x4eef97){_0x4293ac=_0x4293ac-0x172;var _0x4970cf=_0x23cfc3[_0x4293ac];return _0x4970cf;},a0_0x4293(_0x3d83a7,_0x611adc);}const express=require('express'),app=express(),router=express[a0_0x987b3d(0x176)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require(a0_0x987b3d(0x196)),auth=require(a0_0x987b3d(0x1a3)),users=require(a0_0x987b3d(0x173)),nodemailer=require('nodemailer');router[a0_0x987b3d(0x199)](a0_0x987b3d(0x186),auth,async(_0x492f7d,_0x3b2806)=>{var _0x9043=a0_0x987b3d;try{const {username:_0x25dcb7,email:_0x502cc7,role:_0x366d4f}=_0x492f7d[_0x9043(0x181)],_0x1f0382=_0x492f7d[_0x9043(0x181)],_0x226332=await profile[_0x9043(0x182)]({'email':_0x1f0382[_0x9043(0x174)]}),_0xc1b396=await master_shop[_0x9043(0x195)](),_0x3593d8=await warehouse[_0x9043(0x18f)]([{'$match':{'status':_0x9043(0x191),'warehouse_category':_0x9043(0x1a4)}},{'$group':{'_id':_0x9043(0x192),'name':{'$first':_0x9043(0x192)}}}]);if(_0xc1b396[0x0][_0x9043(0x19b)]==_0x9043(0x17c))var _0x2fed86=users[_0x9043(0x19a)];else{if(_0xc1b396[0x0][_0x9043(0x19b)]=='Hindi')var _0x2fed86=users[_0x9043(0x18e)];else{if(_0xc1b396[0x0][_0x9043(0x19b)]==_0x9043(0x189))var _0x2fed86=users['German'];else{if(_0xc1b396[0x0]['language']==_0x9043(0x197))var _0x2fed86=users['Spanish'];else{if(_0xc1b396[0x0]['language']=='French')var _0x2fed86=users['French'];else{if(_0xc1b396[0x0][_0x9043(0x19b)]=='Portuguese\x20(BR)')var _0x2fed86=users[_0x9043(0x1a2)];else{if(_0xc1b396[0x0][_0x9043(0x19b)]==_0x9043(0x183))var _0x2fed86=users['Chinese'];else{if(_0xc1b396[0x0][_0x9043(0x19b)]==_0x9043(0x17f))var _0x2fed86=users[_0x9043(0x187)];}}}}}}}_0x3b2806['render'](_0x9043(0x18a),{'success':_0x492f7d[_0x9043(0x175)](_0x9043(0x188)),'errors':_0x492f7d[_0x9043(0x175)]('errors'),'role':_0x1f0382,'profile':_0x226332,'master_shop':_0xc1b396,'dataProcess':_0x3593d8,'language':_0x2fed86});}catch(_0x40b070){console['log'](_0x40b070);}}),router['post'](a0_0x987b3d(0x18b),auth,async(_0xbfc4ce,_0x1bfed8)=>{var _0x431e30=a0_0x987b3d;const {product_category:_0x6decb1,transaction_category:_0x5ebdcb,transaction_date_from:_0xcf69,transaction_date_to:_0x6c396,warehouse_category:_0x10ade5,item_code:_0x1b10da}=_0xbfc4ce['body'];var _0x39f97a;if(_0x6decb1=='rm'){}else{if(_0x6decb1=='fg')switch(_0x5ebdcb){case'IC':_0x1b10da[_0x431e30(0x18c)]>0x0?_0x39f97a=await purchases_finished[_0x431e30(0x18f)]([{'$match':{'warehouse_name':_0x10ade5,'date':{'$gte':_0xcf69,'$lte':_0x6c396}}},{'$unwind':_0x431e30(0x17e)},{'$match':{'$or':[{'product.product_code':_0x1b10da}]}},{'$group':{'_id':_0x431e30(0x185),'date':{'$first':'$date'},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':_0x431e30(0x17e)}}}]):_0x39f97a=await purchases_finished['aggregate']([{'$match':{'warehouse_name':_0x10ade5,'date':{'$gte':_0xcf69,'$lte':_0x6c396}}},{'$unwind':_0x431e30(0x17e)},{'$group':{'_id':_0x431e30(0x185),'date':{'$first':_0x431e30(0x178)},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':_0x431e30(0x17e)}}}]);break;case'OG':_0x1b10da[_0x431e30(0x18c)]>0x0?_0x39f97a=await sales_finished[_0x431e30(0x18f)]([{'$match':{'warehouse_name':_0x10ade5,'date':{'$gte':_0xcf69,'$lte':_0x6c396}}},{'$unwind':_0x431e30(0x194)},{'$match':{'$or':[{'sale_product.product_code':_0x1b10da}]}},{'$group':{'_id':'$invoice','date':{'$first':'$date'},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':_0x431e30(0x194)}}}]):_0x39f97a=await sales_finished[_0x431e30(0x18f)]([{'$match':{'warehouse_name':_0x10ade5,'date':{'$gte':_0xcf69,'$lte':_0x6c396}}},{'$unwind':_0x431e30(0x194)},{'$group':{'_id':_0x431e30(0x185),'date':{'$first':_0x431e30(0x178)},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':_0x431e30(0x194)}}}]);break;case'AJ':break;case'TF':_0x39f97a=await transfers_finished[_0x431e30(0x195)]({'warehouse':_0x10ade5,'date':{'$gte':_0xcf69,'$lte':_0x6c396}});break;}}_0x1bfed8[_0x431e30(0x184)]({'data':_0x39f97a});}),router[a0_0x987b3d(0x199)]('/viewdata_inc_fg/:id',auth,async(_0x5d97e5,_0x18bd25)=>{var _0x29f35f=a0_0x987b3d;try{const _0x4bee36=_0x5d97e5[_0x29f35f(0x1a0)]['id'];var _0x62fee7=await purchases_finished[_0x29f35f(0x1a7)](_0x4bee36);const _0x1b246a=await master_shop[_0x29f35f(0x195)](),_0x3644d0=_0x5d97e5['user'],_0x191165=await profile[_0x29f35f(0x182)]({'email':_0x3644d0[_0x29f35f(0x174)]});if(_0x1b246a[0x0][_0x29f35f(0x19b)]==_0x29f35f(0x17c))var _0x2a1b48=users[_0x29f35f(0x19a)];else{if(_0x1b246a[0x0][_0x29f35f(0x19b)]==_0x29f35f(0x18e))var _0x2a1b48=users[_0x29f35f(0x18e)];else{if(_0x1b246a[0x0][_0x29f35f(0x19b)]==_0x29f35f(0x189))var _0x2a1b48=users[_0x29f35f(0x189)];else{if(_0x1b246a[0x0]['language']==_0x29f35f(0x197))var _0x2a1b48=users[_0x29f35f(0x197)];else{if(_0x1b246a[0x0]['language']==_0x29f35f(0x19f))var _0x2a1b48=users[_0x29f35f(0x19f)];else{if(_0x1b246a[0x0][_0x29f35f(0x19b)]==_0x29f35f(0x1a1))var _0x2a1b48=users['Portuguese'];else{if(_0x1b246a[0x0]['language']==_0x29f35f(0x183))var _0x2a1b48=users[_0x29f35f(0x183)];else{if(_0x1b246a[0x0]['language']==_0x29f35f(0x17f))var _0x2a1b48=users[_0x29f35f(0x187)];}}}}}}}_0x18bd25[_0x29f35f(0x19c)]('view_table',{'success':_0x5d97e5[_0x29f35f(0x175)](_0x29f35f(0x188)),'errors':_0x5d97e5[_0x29f35f(0x175)](_0x29f35f(0x172)),'master_shop':_0x1b246a,'profile':_0x191165,'role':_0x3644d0,'language':_0x2a1b48,'data':_0x62fee7});}catch(_0x5e5e5a){_0x18bd25[_0x29f35f(0x184)](_0x5e5e5a);}}),router[a0_0x987b3d(0x199)](a0_0x987b3d(0x19d),auth,async(_0x5e3794,_0x31ebfe)=>{var _0x31cde1=a0_0x987b3d;try{const _0x2a6d5e=_0x5e3794[_0x31cde1(0x1a0)]['id'];var _0x2cbcc0=await sales_finished[_0x31cde1(0x1a7)](_0x2a6d5e);const _0x5921ed=await master_shop['find'](),_0xf2fa5a=_0x5e3794['user'],_0x374b30=await profile[_0x31cde1(0x182)]({'email':_0xf2fa5a[_0x31cde1(0x174)]});if(_0x5921ed[0x0][_0x31cde1(0x19b)]==_0x31cde1(0x17c))var _0x268e1b=users[_0x31cde1(0x19a)];else{if(_0x5921ed[0x0][_0x31cde1(0x19b)]==_0x31cde1(0x18e))var _0x268e1b=users[_0x31cde1(0x18e)];else{if(_0x5921ed[0x0]['language']==_0x31cde1(0x189))var _0x268e1b=users[_0x31cde1(0x189)];else{if(_0x5921ed[0x0]['language']==_0x31cde1(0x197))var _0x268e1b=users['Spanish'];else{if(_0x5921ed[0x0]['language']==_0x31cde1(0x19f))var _0x268e1b=users['French'];else{if(_0x5921ed[0x0]['language']=='Portuguese\x20(BR)')var _0x268e1b=users['Portuguese'];else{if(_0x5921ed[0x0][_0x31cde1(0x19b)]==_0x31cde1(0x183))var _0x268e1b=users[_0x31cde1(0x183)];else{if(_0x5921ed[0x0][_0x31cde1(0x19b)]==_0x31cde1(0x17f))var _0x268e1b=users[_0x31cde1(0x187)];}}}}}}}_0x31ebfe[_0x31cde1(0x19c)](_0x31cde1(0x193),{'success':_0x5e3794[_0x31cde1(0x175)](_0x31cde1(0x188)),'errors':_0x5e3794[_0x31cde1(0x175)](_0x31cde1(0x172)),'master_shop':_0x5921ed,'profile':_0x374b30,'role':_0xf2fa5a,'language':_0x268e1b,'data':_0x2cbcc0});}catch(_0x4f2964){_0x31ebfe['json'](_0x4f2964);}}),router[a0_0x987b3d(0x199)](a0_0x987b3d(0x190),auth,async(_0x4e9742,_0xc475e7)=>{var _0x591c7b=a0_0x987b3d;try{const _0x3bb76d=_0x4e9742[_0x591c7b(0x1a0)]['id'];var _0x12e623=await transfers_finished[_0x591c7b(0x1a7)](_0x3bb76d);const _0x4b42d9=await master_shop[_0x591c7b(0x195)](),_0x3bf439=_0x4e9742[_0x591c7b(0x181)],_0x1273f0=await profile['findOne']({'email':_0x3bf439[_0x591c7b(0x174)]});if(_0x4b42d9[0x0][_0x591c7b(0x19b)]==_0x591c7b(0x17c))var _0x40aeb5=users[_0x591c7b(0x19a)];else{if(_0x4b42d9[0x0][_0x591c7b(0x19b)]==_0x591c7b(0x18e))var _0x40aeb5=users[_0x591c7b(0x18e)];else{if(_0x4b42d9[0x0]['language']==_0x591c7b(0x189))var _0x40aeb5=users[_0x591c7b(0x189)];else{if(_0x4b42d9[0x0][_0x591c7b(0x19b)]=='Spanish')var _0x40aeb5=users[_0x591c7b(0x197)];else{if(_0x4b42d9[0x0][_0x591c7b(0x19b)]==_0x591c7b(0x19f))var _0x40aeb5=users[_0x591c7b(0x19f)];else{if(_0x4b42d9[0x0][_0x591c7b(0x19b)]==_0x591c7b(0x1a1))var _0x40aeb5=users['Portuguese'];else{if(_0x4b42d9[0x0]['language']==_0x591c7b(0x183))var _0x40aeb5=users['Chinese'];else{if(_0x4b42d9[0x0][_0x591c7b(0x19b)]==_0x591c7b(0x17f))var _0x40aeb5=users[_0x591c7b(0x187)];}}}}}}}_0xc475e7[_0x591c7b(0x19c)]('view_tf_table',{'success':_0x4e9742[_0x591c7b(0x175)](_0x591c7b(0x188)),'errors':_0x4e9742['flash']('errors'),'master_shop':_0x4b42d9,'profile':_0x1273f0,'role':_0x3bf439,'language':_0x40aeb5,'data':_0x12e623});}catch(_0x3dbe96){_0xc475e7[_0x591c7b(0x184)](_0x3dbe96);}}),module['exports']=router;