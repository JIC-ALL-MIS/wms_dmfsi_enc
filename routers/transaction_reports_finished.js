var a0_0x6ddd34=a0_0x32ef;function a0_0x2c0b(){var _0x397a12=['Chinese','Arabic','errors','Arabic\x20(ae)','email','71214dEiIxQ','params','body','user','length','post','$sale_product','Spanish','Finished\x20Goods','transaction_finished','findById','Hindi','Enabled','success','/viewdata_tf_fg/:id','/reports','render','$date','find','aggregate','196610hcLSxB','Portuguese\x20(BR)','$warehouse_name','2111570YCGWnC','French','1244904PeZaFa','../middleware/auth','45mrszUd','findOne','German','express','476609cIpPJN','Router','English\x20(US)','/viewdata_inc_fg/:id','view_og_table','$name','flash','$product','English','../models/all_models','language','495801nWmhJK','view_tf_table','$invoice','Portuguese','3WLsEVr','8vQYrsb','json','get','view_table','36957mnBfen','nodemailer'];a0_0x2c0b=function(){return _0x397a12;};return a0_0x2c0b();}function a0_0x32ef(_0x5ea5db,_0x36de2a){var _0x2c0b1f=a0_0x2c0b();return a0_0x32ef=function(_0x32ef62,_0xba047b){_0x32ef62=_0x32ef62-0x1de;var _0x3f967c=_0x2c0b1f[_0x32ef62];return _0x3f967c;},a0_0x32ef(_0x5ea5db,_0x36de2a);}(function(_0x29df38,_0x40ad20){var _0x4e9261=a0_0x32ef,_0x4765cb=_0x29df38();while(!![]){try{var _0x3da51a=parseInt(_0x4e9261(0x1e1))/0x1+parseInt(_0x4e9261(0x1fc))/0x2*(-parseInt(_0x4e9261(0x216))/0x3)+parseInt(_0x4e9261(0x201))/0x4+-parseInt(_0x4e9261(0x203))/0x5*(-parseInt(_0x4e9261(0x1e8))/0x6)+parseInt(_0x4e9261(0x207))/0x7+-parseInt(_0x4e9261(0x217))/0x8*(parseInt(_0x4e9261(0x212))/0x9)+-parseInt(_0x4e9261(0x1ff))/0xa;if(_0x3da51a===_0x40ad20)break;else _0x4765cb['push'](_0x4765cb['shift']());}catch(_0x1ca63a){_0x4765cb['push'](_0x4765cb['shift']());}}}(a0_0x2c0b,0x26b4c));const express=require(a0_0x6ddd34(0x206)),app=express(),router=express[a0_0x6ddd34(0x208)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require(a0_0x6ddd34(0x210)),auth=require(a0_0x6ddd34(0x202)),users=require('../public/language/languages.json'),nodemailer=require(a0_0x6ddd34(0x1e2));router[a0_0x6ddd34(0x1df)]('/view',auth,async(_0x4c1031,_0x3ad3cc)=>{var _0x6e9615=a0_0x6ddd34;try{const {username:_0xa4487,email:_0x27f1f8,role:_0x2ea42e}=_0x4c1031['user'],_0x2f7664=_0x4c1031[_0x6e9615(0x1eb)],_0x4379cb=await profile[_0x6e9615(0x204)]({'email':_0x2f7664['email']}),_0x1856f2=await master_shop[_0x6e9615(0x1fa)](),_0x4bdce7=await warehouse[_0x6e9615(0x1fb)]([{'$match':{'status':_0x6e9615(0x1f4),'warehouse_category':_0x6e9615(0x1f0)}},{'$group':{'_id':_0x6e9615(0x20c),'name':{'$first':'$name'}}}]);if(_0x1856f2[0x0]['language']=='English\x20(US)')var _0x742c3=users[_0x6e9615(0x20f)];else{if(_0x1856f2[0x0][_0x6e9615(0x211)]==_0x6e9615(0x1f3))var _0x742c3=users[_0x6e9615(0x1f3)];else{if(_0x1856f2[0x0][_0x6e9615(0x211)]=='German')var _0x742c3=users[_0x6e9615(0x205)];else{if(_0x1856f2[0x0][_0x6e9615(0x211)]==_0x6e9615(0x1ef))var _0x742c3=users[_0x6e9615(0x1ef)];else{if(_0x1856f2[0x0][_0x6e9615(0x211)]==_0x6e9615(0x200))var _0x742c3=users[_0x6e9615(0x200)];else{if(_0x1856f2[0x0]['language']==_0x6e9615(0x1fd))var _0x742c3=users['Portuguese'];else{if(_0x1856f2[0x0][_0x6e9615(0x211)]==_0x6e9615(0x1e3))var _0x742c3=users[_0x6e9615(0x1e3)];else{if(_0x1856f2[0x0]['language']==_0x6e9615(0x1e6))var _0x742c3=users[_0x6e9615(0x1e4)];}}}}}}}_0x3ad3cc[_0x6e9615(0x1f8)](_0x6e9615(0x1f1),{'success':_0x4c1031[_0x6e9615(0x20d)](_0x6e9615(0x1f5)),'errors':_0x4c1031[_0x6e9615(0x20d)](_0x6e9615(0x1e5)),'role':_0x2f7664,'profile':_0x4379cb,'master_shop':_0x1856f2,'dataProcess':_0x4bdce7,'language':_0x742c3});}catch(_0x52bb2a){console['log'](_0x52bb2a);}}),router[a0_0x6ddd34(0x1ed)](a0_0x6ddd34(0x1f7),auth,async(_0x23017a,_0x52db16)=>{var _0x21f929=a0_0x6ddd34;const {product_category:_0x310ca3,transaction_category:_0x1734e7,transaction_date_from:_0x4e9414,transaction_date_to:_0x712455,warehouse_category:_0x3c29ba,item_code:_0x23f446}=_0x23017a[_0x21f929(0x1ea)];var _0x22517a;if(_0x310ca3=='rm'){}else{if(_0x310ca3=='fg')switch(_0x1734e7){case'IC':_0x23f446[_0x21f929(0x1ec)]>0x0?_0x22517a=await purchases_finished['aggregate']([{'$match':{'warehouse_name':_0x3c29ba,'date':{'$gte':_0x4e9414,'$lte':_0x712455}}},{'$unwind':_0x21f929(0x20e)},{'$match':{'$or':[{'product.product_code':_0x23f446}]}},{'$group':{'_id':_0x21f929(0x214),'date':{'$first':_0x21f929(0x1f9)},'warehouse_name':{'$first':_0x21f929(0x1fe)},'products':{'$push':_0x21f929(0x20e)}}}]):_0x22517a=await purchases_finished[_0x21f929(0x1fb)]([{'$match':{'warehouse_name':_0x3c29ba,'date':{'$gte':_0x4e9414,'$lte':_0x712455}}},{'$unwind':_0x21f929(0x20e)},{'$group':{'_id':'$invoice','date':{'$first':_0x21f929(0x1f9)},'warehouse_name':{'$first':_0x21f929(0x1fe)},'products':{'$push':'$product'}}}]);break;case'OG':_0x23f446[_0x21f929(0x1ec)]>0x0?_0x22517a=await sales_finished[_0x21f929(0x1fb)]([{'$match':{'warehouse_name':_0x3c29ba,'date':{'$gte':_0x4e9414,'$lte':_0x712455}}},{'$unwind':_0x21f929(0x1ee)},{'$match':{'$or':[{'sale_product.product_code':_0x23f446}]}},{'$group':{'_id':_0x21f929(0x214),'date':{'$first':_0x21f929(0x1f9)},'warehouse_name':{'$first':_0x21f929(0x1fe)},'products':{'$push':'$sale_product'}}}]):_0x22517a=await sales_finished['aggregate']([{'$match':{'warehouse_name':_0x3c29ba,'date':{'$gte':_0x4e9414,'$lte':_0x712455}}},{'$unwind':_0x21f929(0x1ee)},{'$group':{'_id':_0x21f929(0x214),'date':{'$first':_0x21f929(0x1f9)},'warehouse_name':{'$first':_0x21f929(0x1fe)},'products':{'$push':_0x21f929(0x1ee)}}}]);break;case'AJ':break;case'TF':_0x22517a=await transfers_finished[_0x21f929(0x1fa)]({'warehouse':_0x3c29ba,'date':{'$gte':_0x4e9414,'$lte':_0x712455}});break;}}_0x52db16['json']({'data':_0x22517a});}),router[a0_0x6ddd34(0x1df)](a0_0x6ddd34(0x20a),auth,async(_0x3c5a9f,_0x15aa3e)=>{var _0x290f8f=a0_0x6ddd34;try{const _0x54c339=_0x3c5a9f[_0x290f8f(0x1e9)]['id'];var _0x58663c=await purchases_finished[_0x290f8f(0x1f2)](_0x54c339);const _0x253c7c=await master_shop['find'](),_0x187470=_0x3c5a9f['user'],_0x24332a=await profile['findOne']({'email':_0x187470[_0x290f8f(0x1e7)]});if(_0x253c7c[0x0][_0x290f8f(0x211)]=='English\x20(US)')var _0x43d684=users[_0x290f8f(0x20f)];else{if(_0x253c7c[0x0][_0x290f8f(0x211)]==_0x290f8f(0x1f3))var _0x43d684=users[_0x290f8f(0x1f3)];else{if(_0x253c7c[0x0][_0x290f8f(0x211)]==_0x290f8f(0x205))var _0x43d684=users[_0x290f8f(0x205)];else{if(_0x253c7c[0x0]['language']==_0x290f8f(0x1ef))var _0x43d684=users[_0x290f8f(0x1ef)];else{if(_0x253c7c[0x0]['language']=='French')var _0x43d684=users[_0x290f8f(0x200)];else{if(_0x253c7c[0x0]['language']=='Portuguese\x20(BR)')var _0x43d684=users[_0x290f8f(0x215)];else{if(_0x253c7c[0x0][_0x290f8f(0x211)]==_0x290f8f(0x1e3))var _0x43d684=users['Chinese'];else{if(_0x253c7c[0x0][_0x290f8f(0x211)]==_0x290f8f(0x1e6))var _0x43d684=users[_0x290f8f(0x1e4)];}}}}}}}_0x15aa3e[_0x290f8f(0x1f8)](_0x290f8f(0x1e0),{'success':_0x3c5a9f[_0x290f8f(0x20d)]('success'),'errors':_0x3c5a9f[_0x290f8f(0x20d)](_0x290f8f(0x1e5)),'master_shop':_0x253c7c,'profile':_0x24332a,'role':_0x187470,'language':_0x43d684,'data':_0x58663c});}catch(_0x546d9e){_0x15aa3e['json'](_0x546d9e);}}),router['get']('/viewdata_og_fg/:id',auth,async(_0x55c988,_0x512819)=>{var _0x5b5443=a0_0x6ddd34;try{const _0x99b262=_0x55c988['params']['id'];var _0x5b92d8=await sales_finished[_0x5b5443(0x1f2)](_0x99b262);const _0x16b51c=await master_shop[_0x5b5443(0x1fa)](),_0x47d646=_0x55c988[_0x5b5443(0x1eb)],_0x31e203=await profile[_0x5b5443(0x204)]({'email':_0x47d646[_0x5b5443(0x1e7)]});if(_0x16b51c[0x0][_0x5b5443(0x211)]=='English\x20(US)')var _0x414bab=users[_0x5b5443(0x20f)];else{if(_0x16b51c[0x0][_0x5b5443(0x211)]==_0x5b5443(0x1f3))var _0x414bab=users[_0x5b5443(0x1f3)];else{if(_0x16b51c[0x0]['language']==_0x5b5443(0x205))var _0x414bab=users[_0x5b5443(0x205)];else{if(_0x16b51c[0x0][_0x5b5443(0x211)]==_0x5b5443(0x1ef))var _0x414bab=users[_0x5b5443(0x1ef)];else{if(_0x16b51c[0x0][_0x5b5443(0x211)]==_0x5b5443(0x200))var _0x414bab=users[_0x5b5443(0x200)];else{if(_0x16b51c[0x0][_0x5b5443(0x211)]==_0x5b5443(0x1fd))var _0x414bab=users[_0x5b5443(0x215)];else{if(_0x16b51c[0x0]['language']==_0x5b5443(0x1e3))var _0x414bab=users['Chinese'];else{if(_0x16b51c[0x0][_0x5b5443(0x211)]==_0x5b5443(0x1e6))var _0x414bab=users[_0x5b5443(0x1e4)];}}}}}}}_0x512819[_0x5b5443(0x1f8)](_0x5b5443(0x20b),{'success':_0x55c988[_0x5b5443(0x20d)](_0x5b5443(0x1f5)),'errors':_0x55c988[_0x5b5443(0x20d)]('errors'),'master_shop':_0x16b51c,'profile':_0x31e203,'role':_0x47d646,'language':_0x414bab,'data':_0x5b92d8});}catch(_0x14c5c6){_0x512819[_0x5b5443(0x1de)](_0x14c5c6);}}),router[a0_0x6ddd34(0x1df)](a0_0x6ddd34(0x1f6),auth,async(_0x1e5772,_0x1cb2b7)=>{var _0xc7acef=a0_0x6ddd34;try{const _0x42de94=_0x1e5772[_0xc7acef(0x1e9)]['id'];var _0x34f07c=await transfers_finished['findById'](_0x42de94);const _0x2cfc99=await master_shop['find'](),_0x245f6a=_0x1e5772['user'],_0x2573dc=await profile[_0xc7acef(0x204)]({'email':_0x245f6a[_0xc7acef(0x1e7)]});if(_0x2cfc99[0x0][_0xc7acef(0x211)]==_0xc7acef(0x209))var _0x895955=users['English'];else{if(_0x2cfc99[0x0][_0xc7acef(0x211)]==_0xc7acef(0x1f3))var _0x895955=users['Hindi'];else{if(_0x2cfc99[0x0]['language']==_0xc7acef(0x205))var _0x895955=users['German'];else{if(_0x2cfc99[0x0][_0xc7acef(0x211)]==_0xc7acef(0x1ef))var _0x895955=users[_0xc7acef(0x1ef)];else{if(_0x2cfc99[0x0]['language']=='French')var _0x895955=users[_0xc7acef(0x200)];else{if(_0x2cfc99[0x0][_0xc7acef(0x211)]==_0xc7acef(0x1fd))var _0x895955=users[_0xc7acef(0x215)];else{if(_0x2cfc99[0x0]['language']==_0xc7acef(0x1e3))var _0x895955=users[_0xc7acef(0x1e3)];else{if(_0x2cfc99[0x0][_0xc7acef(0x211)]==_0xc7acef(0x1e6))var _0x895955=users[_0xc7acef(0x1e4)];}}}}}}}_0x1cb2b7[_0xc7acef(0x1f8)](_0xc7acef(0x213),{'success':_0x1e5772[_0xc7acef(0x20d)](_0xc7acef(0x1f5)),'errors':_0x1e5772[_0xc7acef(0x20d)](_0xc7acef(0x1e5)),'master_shop':_0x2cfc99,'profile':_0x2573dc,'role':_0x245f6a,'language':_0x895955,'data':_0x34f07c});}catch(_0x5b8221){_0x1cb2b7['json'](_0x5b8221);}}),module['exports']=router;