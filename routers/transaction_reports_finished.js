function a0_0x5aef(_0xcc6bb1,_0x19d811){var _0x5473de=a0_0x5473();return a0_0x5aef=function(_0x5aef93,_0x2985d2){_0x5aef93=_0x5aef93-0x111;var _0x338592=_0x5473de[_0x5aef93];return _0x338592;},a0_0x5aef(_0xcc6bb1,_0x19d811);}var a0_0x2f6405=a0_0x5aef;(function(_0x18ef79,_0x33c752){var _0x3dd109=a0_0x5aef,_0x18bf37=_0x18ef79();while(!![]){try{var _0x10757e=parseInt(_0x3dd109(0x13c))/0x1+parseInt(_0x3dd109(0x122))/0x2+parseInt(_0x3dd109(0x137))/0x3+-parseInt(_0x3dd109(0x117))/0x4*(-parseInt(_0x3dd109(0x145))/0x5)+parseInt(_0x3dd109(0x11b))/0x6+parseInt(_0x3dd109(0x11f))/0x7+-parseInt(_0x3dd109(0x11d))/0x8*(parseInt(_0x3dd109(0x12c))/0x9);if(_0x10757e===_0x33c752)break;else _0x18bf37['push'](_0x18bf37['shift']());}catch(_0x44cc19){_0x18bf37['push'](_0x18bf37['shift']());}}}(a0_0x5473,0xd03b5));const express=require(a0_0x2f6405(0x127)),app=express(),router=express[a0_0x2f6405(0x11e)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require('../models/all_models'),auth=require(a0_0x2f6405(0x125)),users=require(a0_0x2f6405(0x13e)),nodemailer=require('nodemailer');function a0_0x5473(){var _0x182d2d=['Arabic\x20(ae)','Chinese','view_og_table','$sale_product','view_tf_table','Spanish','findById','376hPlkuY','Portuguese','/viewdata_og_fg/:id','$invoice','6290226OYMgpT','/reports','49744Jcswft','Router','7325577OUKDBb','render','findOne','406558rDLeLw','flash','exports','../middleware/auth','German','express','email','Portuguese\x20(BR)','user','Hindi','7857auifSy','English','English\x20(US)','$date','body','transaction_finished','json','Arabic','Enabled','find','Finished\x20Goods','4390893TyfBGW','length','language','/view','params','1134819kIsauG','success','../public/language/languages.json','$product','$name','get','errors','French','aggregate','73650HpsTOu','$warehouse_name','view_table'];a0_0x5473=function(){return _0x182d2d;};return a0_0x5473();}router[a0_0x2f6405(0x141)](a0_0x2f6405(0x13a),auth,async(_0x137966,_0x1848b6)=>{var _0x233cce=a0_0x2f6405;try{const {username:_0x279f3e,email:_0x29d7d7,role:_0x2f9f56}=_0x137966['user'],_0x39e800=_0x137966[_0x233cce(0x12a)],_0x579d66=await profile[_0x233cce(0x121)]({'email':_0x39e800[_0x233cce(0x128)]}),_0x31c4d4=await master_shop['find'](),_0x40737b=await warehouse['aggregate']([{'$match':{'status':_0x233cce(0x134),'warehouse_category':_0x233cce(0x136)}},{'$group':{'_id':'$name','name':{'$first':_0x233cce(0x140)}}}]);if(_0x31c4d4[0x0][_0x233cce(0x139)]==_0x233cce(0x12e))var _0x411178=users[_0x233cce(0x12d)];else{if(_0x31c4d4[0x0][_0x233cce(0x139)]==_0x233cce(0x12b))var _0x411178=users[_0x233cce(0x12b)];else{if(_0x31c4d4[0x0]['language']==_0x233cce(0x126))var _0x411178=users[_0x233cce(0x126)];else{if(_0x31c4d4[0x0]['language']=='Spanish')var _0x411178=users[_0x233cce(0x115)];else{if(_0x31c4d4[0x0][_0x233cce(0x139)]==_0x233cce(0x143))var _0x411178=users[_0x233cce(0x143)];else{if(_0x31c4d4[0x0][_0x233cce(0x139)]=='Portuguese\x20(BR)')var _0x411178=users[_0x233cce(0x118)];else{if(_0x31c4d4[0x0][_0x233cce(0x139)]=='Chinese')var _0x411178=users['Chinese'];else{if(_0x31c4d4[0x0][_0x233cce(0x139)]==_0x233cce(0x148))var _0x411178=users['Arabic'];}}}}}}}_0x1848b6['render'](_0x233cce(0x131),{'success':_0x137966[_0x233cce(0x123)](_0x233cce(0x13d)),'errors':_0x137966[_0x233cce(0x123)](_0x233cce(0x142)),'role':_0x39e800,'profile':_0x579d66,'master_shop':_0x31c4d4,'dataProcess':_0x40737b,'language':_0x411178});}catch(_0x2b092e){console['log'](_0x2b092e);}}),router['post'](a0_0x2f6405(0x11c),auth,async(_0x4e9fb3,_0x5318ca)=>{var _0x5743e3=a0_0x2f6405;const {product_category:_0x8b3587,transaction_category:_0x2ccdb9,transaction_date_from:_0x2bb034,transaction_date_to:_0x420f1f,warehouse_category:_0x259915,item_code:_0x246190}=_0x4e9fb3[_0x5743e3(0x130)];var _0x3a62a0;if(_0x8b3587=='rm'){}else{if(_0x8b3587=='fg')switch(_0x2ccdb9){case'IC':_0x246190['length']>0x0?_0x3a62a0=await purchases_finished[_0x5743e3(0x144)]([{'$match':{'warehouse_name':_0x259915,'date':{'$gte':_0x2bb034,'$lte':_0x420f1f}}},{'$unwind':_0x5743e3(0x13f)},{'$match':{'$or':[{'product.product_code':_0x246190}]}},{'$group':{'_id':_0x5743e3(0x11a),'date':{'$first':_0x5743e3(0x12f)},'warehouse_name':{'$first':_0x5743e3(0x146)},'products':{'$push':_0x5743e3(0x13f)}}}]):_0x3a62a0=await purchases_finished[_0x5743e3(0x144)]([{'$match':{'warehouse_name':_0x259915,'date':{'$gte':_0x2bb034,'$lte':_0x420f1f}}},{'$unwind':_0x5743e3(0x13f)},{'$group':{'_id':_0x5743e3(0x11a),'date':{'$first':_0x5743e3(0x12f)},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':'$product'}}}]);break;case'OG':_0x246190[_0x5743e3(0x138)]>0x0?_0x3a62a0=await sales_finished[_0x5743e3(0x144)]([{'$match':{'warehouse_name':_0x259915,'date':{'$gte':_0x2bb034,'$lte':_0x420f1f}}},{'$unwind':'$sale_product'},{'$match':{'$or':[{'sale_product.product_code':_0x246190}]}},{'$group':{'_id':_0x5743e3(0x11a),'date':{'$first':_0x5743e3(0x12f)},'warehouse_name':{'$first':_0x5743e3(0x146)},'products':{'$push':_0x5743e3(0x113)}}}]):_0x3a62a0=await sales_finished[_0x5743e3(0x144)]([{'$match':{'warehouse_name':_0x259915,'date':{'$gte':_0x2bb034,'$lte':_0x420f1f}}},{'$unwind':_0x5743e3(0x113)},{'$group':{'_id':'$invoice','date':{'$first':_0x5743e3(0x12f)},'warehouse_name':{'$first':_0x5743e3(0x146)},'products':{'$push':_0x5743e3(0x113)}}}]);break;case'AJ':break;case'TF':_0x3a62a0=await transfers_finished['find']({'warehouse':_0x259915,'date':{'$gte':_0x2bb034,'$lte':_0x420f1f}});break;}}_0x5318ca['json']({'data':_0x3a62a0});}),router['get']('/viewdata_inc_fg/:id',auth,async(_0x17963d,_0x23b5a2)=>{var _0x3953a5=a0_0x2f6405;try{const _0x49ec42=_0x17963d[_0x3953a5(0x13b)]['id'];var _0x524e12=await purchases_finished[_0x3953a5(0x116)](_0x49ec42);const _0x4830e2=await master_shop['find'](),_0x25f340=_0x17963d[_0x3953a5(0x12a)],_0x493d9c=await profile['findOne']({'email':_0x25f340[_0x3953a5(0x128)]});if(_0x4830e2[0x0]['language']==_0x3953a5(0x12e))var _0x3871a5=users[_0x3953a5(0x12d)];else{if(_0x4830e2[0x0][_0x3953a5(0x139)]==_0x3953a5(0x12b))var _0x3871a5=users['Hindi'];else{if(_0x4830e2[0x0][_0x3953a5(0x139)]=='German')var _0x3871a5=users['German'];else{if(_0x4830e2[0x0][_0x3953a5(0x139)]==_0x3953a5(0x115))var _0x3871a5=users['Spanish'];else{if(_0x4830e2[0x0][_0x3953a5(0x139)]==_0x3953a5(0x143))var _0x3871a5=users['French'];else{if(_0x4830e2[0x0]['language']=='Portuguese\x20(BR)')var _0x3871a5=users[_0x3953a5(0x118)];else{if(_0x4830e2[0x0][_0x3953a5(0x139)]==_0x3953a5(0x111))var _0x3871a5=users['Chinese'];else{if(_0x4830e2[0x0][_0x3953a5(0x139)]==_0x3953a5(0x148))var _0x3871a5=users[_0x3953a5(0x133)];}}}}}}}_0x23b5a2['render'](_0x3953a5(0x147),{'success':_0x17963d[_0x3953a5(0x123)](_0x3953a5(0x13d)),'errors':_0x17963d[_0x3953a5(0x123)](_0x3953a5(0x142)),'master_shop':_0x4830e2,'profile':_0x493d9c,'role':_0x25f340,'language':_0x3871a5,'data':_0x524e12});}catch(_0x571bcc){_0x23b5a2['json'](_0x571bcc);}}),router[a0_0x2f6405(0x141)](a0_0x2f6405(0x119),auth,async(_0x4d4e1d,_0x28b1df)=>{var _0xf8f0a0=a0_0x2f6405;try{const _0x271d4b=_0x4d4e1d[_0xf8f0a0(0x13b)]['id'];var _0x1d2746=await sales_finished[_0xf8f0a0(0x116)](_0x271d4b);const _0x196bad=await master_shop[_0xf8f0a0(0x135)](),_0x241de8=_0x4d4e1d[_0xf8f0a0(0x12a)],_0x3320e4=await profile[_0xf8f0a0(0x121)]({'email':_0x241de8[_0xf8f0a0(0x128)]});if(_0x196bad[0x0][_0xf8f0a0(0x139)]=='English\x20(US)')var _0x5ad8d0=users[_0xf8f0a0(0x12d)];else{if(_0x196bad[0x0]['language']==_0xf8f0a0(0x12b))var _0x5ad8d0=users[_0xf8f0a0(0x12b)];else{if(_0x196bad[0x0]['language']==_0xf8f0a0(0x126))var _0x5ad8d0=users[_0xf8f0a0(0x126)];else{if(_0x196bad[0x0][_0xf8f0a0(0x139)]==_0xf8f0a0(0x115))var _0x5ad8d0=users['Spanish'];else{if(_0x196bad[0x0][_0xf8f0a0(0x139)]==_0xf8f0a0(0x143))var _0x5ad8d0=users[_0xf8f0a0(0x143)];else{if(_0x196bad[0x0][_0xf8f0a0(0x139)]==_0xf8f0a0(0x129))var _0x5ad8d0=users[_0xf8f0a0(0x118)];else{if(_0x196bad[0x0][_0xf8f0a0(0x139)]==_0xf8f0a0(0x111))var _0x5ad8d0=users[_0xf8f0a0(0x111)];else{if(_0x196bad[0x0][_0xf8f0a0(0x139)]=='Arabic\x20(ae)')var _0x5ad8d0=users[_0xf8f0a0(0x133)];}}}}}}}_0x28b1df[_0xf8f0a0(0x120)](_0xf8f0a0(0x112),{'success':_0x4d4e1d[_0xf8f0a0(0x123)](_0xf8f0a0(0x13d)),'errors':_0x4d4e1d[_0xf8f0a0(0x123)]('errors'),'master_shop':_0x196bad,'profile':_0x3320e4,'role':_0x241de8,'language':_0x5ad8d0,'data':_0x1d2746});}catch(_0x5ededc){_0x28b1df[_0xf8f0a0(0x132)](_0x5ededc);}}),router[a0_0x2f6405(0x141)]('/viewdata_tf_fg/:id',auth,async(_0x57b127,_0x15f099)=>{var _0x173998=a0_0x2f6405;try{const _0x1aaf02=_0x57b127[_0x173998(0x13b)]['id'];var _0x2741b5=await transfers_finished['findById'](_0x1aaf02);const _0x75d170=await master_shop[_0x173998(0x135)](),_0x5b5b06=_0x57b127['user'],_0x3ac3f4=await profile[_0x173998(0x121)]({'email':_0x5b5b06[_0x173998(0x128)]});if(_0x75d170[0x0][_0x173998(0x139)]==_0x173998(0x12e))var _0x591189=users[_0x173998(0x12d)];else{if(_0x75d170[0x0][_0x173998(0x139)]==_0x173998(0x12b))var _0x591189=users[_0x173998(0x12b)];else{if(_0x75d170[0x0][_0x173998(0x139)]==_0x173998(0x126))var _0x591189=users[_0x173998(0x126)];else{if(_0x75d170[0x0][_0x173998(0x139)]=='Spanish')var _0x591189=users[_0x173998(0x115)];else{if(_0x75d170[0x0]['language']==_0x173998(0x143))var _0x591189=users[_0x173998(0x143)];else{if(_0x75d170[0x0][_0x173998(0x139)]=='Portuguese\x20(BR)')var _0x591189=users[_0x173998(0x118)];else{if(_0x75d170[0x0][_0x173998(0x139)]==_0x173998(0x111))var _0x591189=users[_0x173998(0x111)];else{if(_0x75d170[0x0][_0x173998(0x139)]==_0x173998(0x148))var _0x591189=users[_0x173998(0x133)];}}}}}}}_0x15f099[_0x173998(0x120)](_0x173998(0x114),{'success':_0x57b127['flash'](_0x173998(0x13d)),'errors':_0x57b127['flash'](_0x173998(0x142)),'master_shop':_0x75d170,'profile':_0x3ac3f4,'role':_0x5b5b06,'language':_0x591189,'data':_0x2741b5});}catch(_0x55d59b){_0x15f099['json'](_0x55d59b);}}),module[a0_0x2f6405(0x124)]=router;