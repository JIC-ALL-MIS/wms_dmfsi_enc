function a0_0x3817(_0x5c68f8,_0x2cd59c){var _0x521ca9=a0_0x521c();return a0_0x3817=function(_0x381771,_0x372619){_0x381771=_0x381771-0x159;var _0x37091e=_0x521ca9[_0x381771];return _0x37091e;},a0_0x3817(_0x5c68f8,_0x2cd59c);}var a0_0xa92bb2=a0_0x3817;(function(_0x305bd4,_0x41a098){var _0x567a48=a0_0x3817,_0x871bf7=_0x305bd4();while(!![]){try{var _0xba7f00=parseInt(_0x567a48(0x16d))/0x1*(-parseInt(_0x567a48(0x167))/0x2)+-parseInt(_0x567a48(0x173))/0x3+-parseInt(_0x567a48(0x165))/0x4+parseInt(_0x567a48(0x17d))/0x5*(parseInt(_0x567a48(0x190))/0x6)+-parseInt(_0x567a48(0x170))/0x7+-parseInt(_0x567a48(0x18c))/0x8*(-parseInt(_0x567a48(0x18a))/0x9)+parseInt(_0x567a48(0x183))/0xa*(parseInt(_0x567a48(0x192))/0xb);if(_0xba7f00===_0x41a098)break;else _0x871bf7['push'](_0x871bf7['shift']());}catch(_0x301ff2){_0x871bf7['push'](_0x871bf7['shift']());}}}(a0_0x521c,0xac820));function a0_0x521c(){var _0xb88dc4=['$name','find','success','/viewdata_inc_fg/:id','English','flash','Chinese','params','Spanish','aggregate','view_tf_table','Portuguese','view_table','5557636doCNTZ','Finished\x20Goods','8EXyCjT','json','post','Portuguese\x20(BR)','../middleware/auth','../models/all_models','91502QUxZWm','/viewdata_og_fg/:id','Hindi','9309965nkLvge','German','nodemailer','4196094VNmVEh','/viewdata_tf_fg/:id','/reports','express','language','$date','view_og_table','render','findById','Arabic','4345viPLib','/view','Arabic\x20(ae)','English\x20(US)','email','log','1250bpLVVE','findOne','errors','$product','length','get','$sale_product','1449801LoggxR','user','24NlFJrz','$invoice','French','$warehouse_name','2190cDHVUb','body','386342zFNkse'];a0_0x521c=function(){return _0xb88dc4;};return a0_0x521c();}const express=require(a0_0xa92bb2(0x176)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require(a0_0xa92bb2(0x16c)),auth=require(a0_0xa92bb2(0x16b)),users=require('../public/language/languages.json'),nodemailer=require(a0_0xa92bb2(0x172));router[a0_0xa92bb2(0x188)](a0_0xa92bb2(0x17e),auth,async(_0x5e32a8,_0x4c00a3)=>{var _0x22346a=a0_0xa92bb2;try{const {username:_0x476730,email:_0x158400,role:_0x197827}=_0x5e32a8[_0x22346a(0x18b)],_0x2d15c6=_0x5e32a8[_0x22346a(0x18b)],_0x3ec87f=await profile[_0x22346a(0x184)]({'email':_0x2d15c6[_0x22346a(0x181)]}),_0x178dd9=await master_shop[_0x22346a(0x159)](),_0x345466=await warehouse[_0x22346a(0x161)]([{'$match':{'status':'Enabled','warehouse_category':_0x22346a(0x166)}},{'$group':{'_id':'$name','name':{'$first':_0x22346a(0x193)}}}]);if(_0x178dd9[0x0][_0x22346a(0x177)]==_0x22346a(0x180))var _0x1f5e2d=users[_0x22346a(0x15c)];else{if(_0x178dd9[0x0]['language']==_0x22346a(0x16f))var _0x1f5e2d=users[_0x22346a(0x16f)];else{if(_0x178dd9[0x0]['language']==_0x22346a(0x171))var _0x1f5e2d=users[_0x22346a(0x171)];else{if(_0x178dd9[0x0][_0x22346a(0x177)]=='Spanish')var _0x1f5e2d=users[_0x22346a(0x160)];else{if(_0x178dd9[0x0]['language']==_0x22346a(0x18e))var _0x1f5e2d=users[_0x22346a(0x18e)];else{if(_0x178dd9[0x0][_0x22346a(0x177)]==_0x22346a(0x16a))var _0x1f5e2d=users[_0x22346a(0x163)];else{if(_0x178dd9[0x0][_0x22346a(0x177)]==_0x22346a(0x15e))var _0x1f5e2d=users['Chinese'];else{if(_0x178dd9[0x0][_0x22346a(0x177)]==_0x22346a(0x17f))var _0x1f5e2d=users['Arabic'];}}}}}}}_0x4c00a3[_0x22346a(0x17a)]('transaction_finished',{'success':_0x5e32a8[_0x22346a(0x15d)](_0x22346a(0x15a)),'errors':_0x5e32a8[_0x22346a(0x15d)](_0x22346a(0x185)),'role':_0x2d15c6,'profile':_0x3ec87f,'master_shop':_0x178dd9,'dataProcess':_0x345466,'language':_0x1f5e2d});}catch(_0xa832df){console[_0x22346a(0x182)](_0xa832df);}}),router[a0_0xa92bb2(0x169)](a0_0xa92bb2(0x175),auth,async(_0x5204fa,_0x2abb44)=>{var _0x120343=a0_0xa92bb2;const {product_category:_0xc0d417,transaction_category:_0x52180b,transaction_date_from:_0x56ddda,transaction_date_to:_0x59473a,warehouse_category:_0x4b8453,item_code:_0x915a63}=_0x5204fa[_0x120343(0x191)];var _0x5191de;if(_0xc0d417=='rm'){}else{if(_0xc0d417=='fg')switch(_0x52180b){case'IC':_0x915a63[_0x120343(0x187)]>0x0?_0x5191de=await purchases_finished['aggregate']([{'$match':{'warehouse_name':_0x4b8453,'date':{'$gte':_0x56ddda,'$lte':_0x59473a}}},{'$unwind':_0x120343(0x186)},{'$match':{'$or':[{'product.product_code':_0x915a63}]}},{'$group':{'_id':_0x120343(0x18d),'date':{'$first':'$date'},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':'$product'}}}]):_0x5191de=await purchases_finished[_0x120343(0x161)]([{'$match':{'warehouse_name':_0x4b8453,'date':{'$gte':_0x56ddda,'$lte':_0x59473a}}},{'$unwind':_0x120343(0x186)},{'$group':{'_id':_0x120343(0x18d),'date':{'$first':_0x120343(0x178)},'warehouse_name':{'$first':_0x120343(0x18f)},'products':{'$push':'$product'}}}]);break;case'OG':_0x915a63['length']>0x0?_0x5191de=await sales_finished[_0x120343(0x161)]([{'$match':{'warehouse_name':_0x4b8453,'date':{'$gte':_0x56ddda,'$lte':_0x59473a}}},{'$unwind':_0x120343(0x189)},{'$match':{'$or':[{'sale_product.product_code':_0x915a63}]}},{'$group':{'_id':_0x120343(0x18d),'date':{'$first':_0x120343(0x178)},'warehouse_name':{'$first':_0x120343(0x18f)},'products':{'$push':_0x120343(0x189)}}}]):_0x5191de=await sales_finished[_0x120343(0x161)]([{'$match':{'warehouse_name':_0x4b8453,'date':{'$gte':_0x56ddda,'$lte':_0x59473a}}},{'$unwind':_0x120343(0x189)},{'$group':{'_id':_0x120343(0x18d),'date':{'$first':_0x120343(0x178)},'warehouse_name':{'$first':_0x120343(0x18f)},'products':{'$push':_0x120343(0x189)}}}]);break;case'AJ':break;case'TF':_0x5191de=await transfers_finished[_0x120343(0x159)]({'warehouse':_0x4b8453,'date':{'$gte':_0x56ddda,'$lte':_0x59473a}});break;}}_0x2abb44[_0x120343(0x168)]({'data':_0x5191de});}),router[a0_0xa92bb2(0x188)](a0_0xa92bb2(0x15b),auth,async(_0x3b21c4,_0x4eb909)=>{var _0x221352=a0_0xa92bb2;try{const _0x2d22e9=_0x3b21c4[_0x221352(0x15f)]['id'];var _0x491f12=await purchases_finished[_0x221352(0x17b)](_0x2d22e9);const _0x24bc44=await master_shop[_0x221352(0x159)](),_0x4aad00=_0x3b21c4[_0x221352(0x18b)],_0x3c81fb=await profile[_0x221352(0x184)]({'email':_0x4aad00[_0x221352(0x181)]});if(_0x24bc44[0x0]['language']==_0x221352(0x180))var _0x16bda2=users[_0x221352(0x15c)];else{if(_0x24bc44[0x0]['language']==_0x221352(0x16f))var _0x16bda2=users[_0x221352(0x16f)];else{if(_0x24bc44[0x0][_0x221352(0x177)]==_0x221352(0x171))var _0x16bda2=users['German'];else{if(_0x24bc44[0x0]['language']==_0x221352(0x160))var _0x16bda2=users[_0x221352(0x160)];else{if(_0x24bc44[0x0][_0x221352(0x177)]==_0x221352(0x18e))var _0x16bda2=users[_0x221352(0x18e)];else{if(_0x24bc44[0x0][_0x221352(0x177)]==_0x221352(0x16a))var _0x16bda2=users[_0x221352(0x163)];else{if(_0x24bc44[0x0][_0x221352(0x177)]==_0x221352(0x15e))var _0x16bda2=users[_0x221352(0x15e)];else{if(_0x24bc44[0x0]['language']==_0x221352(0x17f))var _0x16bda2=users[_0x221352(0x17c)];}}}}}}}_0x4eb909['render'](_0x221352(0x164),{'success':_0x3b21c4['flash'](_0x221352(0x15a)),'errors':_0x3b21c4[_0x221352(0x15d)](_0x221352(0x185)),'master_shop':_0x24bc44,'profile':_0x3c81fb,'role':_0x4aad00,'language':_0x16bda2,'data':_0x491f12});}catch(_0x44494e){_0x4eb909['json'](_0x44494e);}}),router[a0_0xa92bb2(0x188)](a0_0xa92bb2(0x16e),auth,async(_0xf0285,_0x5213f9)=>{var _0x16c040=a0_0xa92bb2;try{const _0x14f974=_0xf0285[_0x16c040(0x15f)]['id'];var _0x386346=await sales_finished[_0x16c040(0x17b)](_0x14f974);const _0x446967=await master_shop[_0x16c040(0x159)](),_0x454ce6=_0xf0285['user'],_0x566604=await profile[_0x16c040(0x184)]({'email':_0x454ce6[_0x16c040(0x181)]});if(_0x446967[0x0][_0x16c040(0x177)]==_0x16c040(0x180))var _0x11c5b4=users[_0x16c040(0x15c)];else{if(_0x446967[0x0][_0x16c040(0x177)]==_0x16c040(0x16f))var _0x11c5b4=users[_0x16c040(0x16f)];else{if(_0x446967[0x0][_0x16c040(0x177)]==_0x16c040(0x171))var _0x11c5b4=users[_0x16c040(0x171)];else{if(_0x446967[0x0]['language']==_0x16c040(0x160))var _0x11c5b4=users[_0x16c040(0x160)];else{if(_0x446967[0x0][_0x16c040(0x177)]==_0x16c040(0x18e))var _0x11c5b4=users[_0x16c040(0x18e)];else{if(_0x446967[0x0]['language']==_0x16c040(0x16a))var _0x11c5b4=users[_0x16c040(0x163)];else{if(_0x446967[0x0][_0x16c040(0x177)]==_0x16c040(0x15e))var _0x11c5b4=users[_0x16c040(0x15e)];else{if(_0x446967[0x0][_0x16c040(0x177)]==_0x16c040(0x17f))var _0x11c5b4=users[_0x16c040(0x17c)];}}}}}}}_0x5213f9['render'](_0x16c040(0x179),{'success':_0xf0285[_0x16c040(0x15d)](_0x16c040(0x15a)),'errors':_0xf0285[_0x16c040(0x15d)]('errors'),'master_shop':_0x446967,'profile':_0x566604,'role':_0x454ce6,'language':_0x11c5b4,'data':_0x386346});}catch(_0x481e60){_0x5213f9['json'](_0x481e60);}}),router[a0_0xa92bb2(0x188)](a0_0xa92bb2(0x174),auth,async(_0x12cb4b,_0x5dc158)=>{var _0x35eeb0=a0_0xa92bb2;try{const _0x444656=_0x12cb4b[_0x35eeb0(0x15f)]['id'];var _0x7ed531=await transfers_finished[_0x35eeb0(0x17b)](_0x444656);const _0x5e2b4a=await master_shop[_0x35eeb0(0x159)](),_0x3e5d15=_0x12cb4b[_0x35eeb0(0x18b)],_0x1c82ce=await profile[_0x35eeb0(0x184)]({'email':_0x3e5d15[_0x35eeb0(0x181)]});if(_0x5e2b4a[0x0]['language']=='English\x20(US)')var _0x500cf1=users[_0x35eeb0(0x15c)];else{if(_0x5e2b4a[0x0][_0x35eeb0(0x177)]==_0x35eeb0(0x16f))var _0x500cf1=users[_0x35eeb0(0x16f)];else{if(_0x5e2b4a[0x0][_0x35eeb0(0x177)]==_0x35eeb0(0x171))var _0x500cf1=users[_0x35eeb0(0x171)];else{if(_0x5e2b4a[0x0][_0x35eeb0(0x177)]=='Spanish')var _0x500cf1=users['Spanish'];else{if(_0x5e2b4a[0x0][_0x35eeb0(0x177)]==_0x35eeb0(0x18e))var _0x500cf1=users[_0x35eeb0(0x18e)];else{if(_0x5e2b4a[0x0][_0x35eeb0(0x177)]=='Portuguese\x20(BR)')var _0x500cf1=users['Portuguese'];else{if(_0x5e2b4a[0x0]['language']=='Chinese')var _0x500cf1=users['Chinese'];else{if(_0x5e2b4a[0x0][_0x35eeb0(0x177)]==_0x35eeb0(0x17f))var _0x500cf1=users[_0x35eeb0(0x17c)];}}}}}}}_0x5dc158[_0x35eeb0(0x17a)](_0x35eeb0(0x162),{'success':_0x12cb4b[_0x35eeb0(0x15d)](_0x35eeb0(0x15a)),'errors':_0x12cb4b[_0x35eeb0(0x15d)]('errors'),'master_shop':_0x5e2b4a,'profile':_0x1c82ce,'role':_0x3e5d15,'language':_0x500cf1,'data':_0x7ed531});}catch(_0x54ecc6){_0x5dc158[_0x35eeb0(0x168)](_0x54ecc6);}}),module['exports']=router;