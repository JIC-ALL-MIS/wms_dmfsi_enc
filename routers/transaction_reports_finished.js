var a0_0x182d44=a0_0x2d82;(function(_0x429a6c,_0x4d308a){var _0x24c89d=a0_0x2d82,_0x552f6a=_0x429a6c();while(!![]){try{var _0x331ccf=-parseInt(_0x24c89d(0x116))/0x1+parseInt(_0x24c89d(0x13b))/0x2+-parseInt(_0x24c89d(0xd7))/0x3*(-parseInt(_0x24c89d(0x13d))/0x4)+-parseInt(_0x24c89d(0xf1))/0x5+parseInt(_0x24c89d(0xef))/0x6*(-parseInt(_0x24c89d(0xf4))/0x7)+parseInt(_0x24c89d(0x12e))/0x8*(-parseInt(_0x24c89d(0xda))/0x9)+-parseInt(_0x24c89d(0x10e))/0xa*(-parseInt(_0x24c89d(0xe3))/0xb);if(_0x331ccf===_0x4d308a)break;else _0x552f6a['push'](_0x552f6a['shift']());}catch(_0x232cf4){_0x552f6a['push'](_0x552f6a['shift']());}}}(a0_0x108f,0x84299));function a0_0x108f(){var _0x540749=['$sale_product.invoice','warehouses','Hindi','Router','findOne','$name','$product.id_transaction_from','warehouse_data','$product.id_transaction','/reports','$product._id','English\x20(US)','Portuguese\x20(BR)','Enabled','params','French','$product.to_room_name','errors','Raw\x20Materials','$product_details.invoice','$sale_product.expiry_date','$product.unit','Chinese','24CyBZGP','user','$sale_product._id','email','$product_details._id','find','$sale_product.product_name','$product.new_adjust_qty','/viewFG','$warehouse_name','body','language','Arabic\x20(ae)','1277952PqDyFm','post','3326740msNVHA','$to_warehouse','$product.id_transaction_id','$sale_product.unit','Spanish','3LOyFYZ','$sale_product.production_date','/viewdata_inc_fg/:id','2912922dWeWlG','$product.expiry_date','$product.production_date','$product.invoice','length','$product_details.production_date','$product.to_quantity','map','$product_details.product_name','10374397iIGFYi','$invoice','all','$product_details.expiry_date','../models/all_models','$product.product_code','$sale_product.quantity','flash','../middleware/auth','$product.product_name','$date','aggregate','1439106CUFsVE','data_sales','110255TgncSY','$sale_product','view_og_table','14HKCocb','$product_details.product_stock','json','data_adjustment','$sale_product.id_transaction_from','/view','push','$product','$sale_product.product_code','/viewdata_og_fg/:id','Portuguese','data_transfer','log','$product_details','view_table','$$invoice','$product.room_names','$product_details.unit','English','$room','_id','render','valueOf','$product_details.product_code','Arabic','Finished\x20Goods','10EALxvz','get','findById','/viewdata_tf_fg/:id','$sale_product.room_name','German','invoice','success','399724qXbEZk'];a0_0x108f=function(){return _0x540749;};return a0_0x108f();}function a0_0x2d82(_0x279de1,_0x1757f2){var _0x108f54=a0_0x108f();return a0_0x2d82=function(_0x2d82ae,_0x2949af){_0x2d82ae=_0x2d82ae-0xd6;var _0x5c96a7=_0x108f54[_0x2d82ae];return _0x5c96a7;},a0_0x2d82(_0x279de1,_0x1757f2);}const express=require('express'),app=express(),router=express[a0_0x182d44(0x11a)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished,adjustment}=require(a0_0x182d44(0xe7)),auth=require(a0_0x182d44(0xeb)),users=require('../public/language/languages.json'),nodemailer=require('nodemailer');router['get'](a0_0x182d44(0xf9),auth,async(_0x3b1679,_0x22dbda)=>{var _0x15f239=a0_0x182d44;try{const {username:_0x3432e3,email:_0xfa09e3,role:_0x27f47c}=_0x3b1679[_0x15f239(0x12f)],_0x50c768=_0x3b1679['user'],_0x4adfb7=await profile['findOne']({'email':_0x50c768[_0x15f239(0x131)]}),_0x496cd1=await master_shop[_0x15f239(0x133)](),_0x68d5a9=await warehouse[_0x15f239(0xee)]([{'$match':{'status':_0x15f239(0x124),'warehouse_category':_0x15f239(0x10d)}},{'$group':{'_id':_0x15f239(0x11c),'name':{'$first':_0x15f239(0x11c)}}}]);if(_0x496cd1[0x0]['language']==_0x15f239(0x122))var _0x12c760=users[_0x15f239(0x106)];else{if(_0x496cd1[0x0]['language']==_0x15f239(0x119))var _0x12c760=users[_0x15f239(0x119)];else{if(_0x496cd1[0x0][_0x15f239(0x139)]==_0x15f239(0x113))var _0x12c760=users[_0x15f239(0x113)];else{if(_0x496cd1[0x0][_0x15f239(0x139)]==_0x15f239(0xd6))var _0x12c760=users[_0x15f239(0xd6)];else{if(_0x496cd1[0x0][_0x15f239(0x139)]=='French')var _0x12c760=users[_0x15f239(0x126)];else{if(_0x496cd1[0x0]['language']=='Portuguese\x20(BR)')var _0x12c760=users[_0x15f239(0xfe)];else{if(_0x496cd1[0x0][_0x15f239(0x139)]==_0x15f239(0x12d))var _0x12c760=users[_0x15f239(0x12d)];else{if(_0x496cd1[0x0]['language']==_0x15f239(0x13a))var _0x12c760=users[_0x15f239(0x10c)];}}}}}}}_0x22dbda[_0x15f239(0x109)]('transaction_finished',{'success':_0x3b1679[_0x15f239(0xea)]('success'),'errors':_0x3b1679[_0x15f239(0xea)](_0x15f239(0x128)),'role':_0x50c768,'profile':_0x4adfb7,'master_shop':_0x496cd1,'dataProcess':_0x68d5a9,'language':_0x12c760});}catch(_0x576ca2){console[_0x15f239(0x100)](_0x576ca2);}}),router[a0_0x182d44(0x13c)](a0_0x182d44(0x120),auth,async(_0x2ff595,_0x4be816)=>{var _0x329291=a0_0x182d44;const {product_category:_0x4f6616,transaction_category:_0x257155,transaction_date_from:_0x572634,transaction_date_to:_0x408f7b,warehouse_category:_0x2326fd,item_code:_0x54e7ce}=_0x2ff595[_0x329291(0x138)];console['log'](_0x4f6616);if(_0x4f6616=='rm'){var _0x422921=await purchases['aggregate']([{'$match':{'warehouse_name':_0x2326fd,'date':{'$gte':_0x572634,'$lte':_0x408f7b}}},{'$lookup':{'from':'warehouses','let':{'invoice':_0x329291(0xe4)},'pipeline':[{'$unwind':_0x329291(0x101)},{'$match':{'$expr':{'$eq':[_0x329291(0x103),_0x329291(0x12a)]}}},{'$project':{'_id':_0x329291(0x132),'product_name':_0x329291(0xe2),'product_code':_0x329291(0x10b),'quantity_available':_0x329291(0xf5),'warehouse_name':'$name','warehouse_room':_0x329291(0x107),'invoice':'$product_details.invoice','production_date':_0x329291(0xdf),'expiry_date':_0x329291(0xe6),'UOM':'$product_details.unit'}}],'as':_0x329291(0x11e)}}]);_0x422921[_0x329291(0xf0)]={},await Promise['all'](_0x422921['map'](async _0x1e145d=>{var _0x361abd=_0x329291;_0x422921[_0x361abd(0xf0)][_0x1e145d['invoice']]=[],await Promise['all'](_0x1e145d[_0x361abd(0x11e)]['map'](async _0xa07e76=>{var _0x542148=_0x361abd;const _0x500e5a=await sales['aggregate']([{'$unwind':_0x542148(0xf2)},{'$match':{'sale_product.id_transaction_from':_0xa07e76[_0x542148(0x108)][_0x542148(0x10a)](),'sale_product.invoice':_0xa07e76[_0x542148(0x114)]}},{'$project':{'_id':'$sale_product._id','product_name':_0x542148(0x134),'product_code':'$sale_product.product_code','quantity_available':_0x542148(0xe9),'warehouse_name':_0x542148(0x137),'warehouse_room':_0x542148(0x112),'product_invoice':_0x542148(0x117),'invoice':_0x542148(0xe4),'id_transaction_from':_0x542148(0xf8),'date':_0x542148(0xed),'production_date':_0x542148(0xd8),'expiry_date':_0x542148(0x12b),'UOM':_0x542148(0x140)}}]);_0x500e5a[_0x542148(0xde)]>0x0&&_0x422921[_0x542148(0xf0)][_0x1e145d[_0x542148(0x114)]][_0x542148(0xfa)](..._0x500e5a);}));})),_0x422921[_0x329291(0xf0)]=_0x422921[_0x329291(0xf0)],_0x422921[_0x329291(0xf7)]={},await Promise['all'](_0x422921['map'](async _0x372bc2=>{var _0x46ea29=_0x329291;_0x422921['data_adjustment'][_0x372bc2[_0x46ea29(0x114)]]=[],await Promise[_0x46ea29(0xe5)](_0x372bc2[_0x46ea29(0x11e)][_0x46ea29(0xe1)](async _0x56d8e1=>{var _0x15e413=_0x46ea29;const _0x3a949d=await adjustment[_0x15e413(0xee)]([{'$unwind':'$product'},{'$match':{'product.id_transaction_from':_0x56d8e1[_0x15e413(0x108)][_0x15e413(0x10a)](),'product.invoice':_0x56d8e1[_0x15e413(0x114)]}},{'$project':{'_id':_0x15e413(0x121),'product_name':_0x15e413(0xec),'product_code':_0x15e413(0xe8),'quantity_available':_0x15e413(0x135),'warehouse_name':'$warehouse_name','warehouse_room':_0x15e413(0x104),'product_invoice':_0x15e413(0xdd),'invoice':_0x15e413(0xe4),'id_transaction_from':_0x15e413(0x11d),'date':_0x15e413(0xed),'production_date':_0x15e413(0xdc),'expiry_date':'$product.expiry_date','UOM':_0x15e413(0x12c)}}]);_0x3a949d[_0x15e413(0xde)]>0x0&&_0x422921[_0x15e413(0xf7)][_0x372bc2['invoice']][_0x15e413(0xfa)](..._0x3a949d);}));})),_0x422921[_0x329291(0xff)]={},await Promise[_0x329291(0xe5)](_0x422921[_0x329291(0xe1)](async _0x38d244=>{var _0xb9c529=_0x329291;_0x422921[_0xb9c529(0xff)][_0x38d244[_0xb9c529(0x114)]]=[],await Promise[_0xb9c529(0xe5)](_0x38d244[_0xb9c529(0x11e)][_0xb9c529(0xe1)](async _0x154ff4=>{var _0x560dac=_0xb9c529;const _0x789bab=await transfers[_0x560dac(0xee)]([{'$unwind':'$product'},{'$match':{'product.id_transaction_id':_0x154ff4[_0x560dac(0x108)][_0x560dac(0x10a)](),'product.To_invoice':_0x154ff4[_0x560dac(0x114)]}},{'$project':{'_id':_0x560dac(0x121),'product_name':_0x560dac(0xec),'product_code':_0x560dac(0xe8),'quantity_available':_0x560dac(0xe0),'warehouse_name':_0x560dac(0x13e),'warehouse_room':_0x560dac(0x104),'product_invoice':'$product.to_room_name','invoice':_0x560dac(0xe4),'id_transaction_from':_0x560dac(0x13f),'date':_0x560dac(0xed),'production_date':_0x560dac(0xdc),'expiry_date':_0x560dac(0xdb),'UOM':_0x560dac(0x12c)}}]);_0x789bab[_0x560dac(0xde)]>0x0&&_0x422921[_0x560dac(0xff)][_0x38d244[_0x560dac(0x114)]][_0x560dac(0xfa)](..._0x789bab);}));})),_0x4be816[_0x329291(0xf6)]({'purchases_warehouse':_0x422921,'data_sales':_0x422921['data_sales'],'data_adjustment':_0x422921['data_adjustment'],'data_transfer':_0x422921[_0x329291(0xff)]});}else{var _0x422921=await purchases_finished[_0x329291(0xee)]([{'$match':{'warehouse_name':_0x2326fd,'date':{'$gte':_0x572634,'$lte':_0x408f7b}}},{'$lookup':{'from':_0x329291(0x118),'let':{'invoice':_0x329291(0xe4)},'pipeline':[{'$unwind':_0x329291(0x101)},{'$match':{'$expr':{'$eq':[_0x329291(0x103),'$product_details.invoice']}}},{'$project':{'_id':_0x329291(0x132),'product_name':_0x329291(0xe2),'product_code':'$product_details.product_code','quantity_available':_0x329291(0xf5),'warehouse_name':_0x329291(0x11c),'warehouse_room':_0x329291(0x107),'invoice':_0x329291(0x12a),'production_date':_0x329291(0xdf),'expiry_date':'$product_details.expiry_date','UOM':_0x329291(0x105)}}],'as':_0x329291(0x11e)}}]);_0x422921[_0x329291(0xf0)]={},await Promise['all'](_0x422921['map'](async _0x58df8f=>{var _0x1e0e21=_0x329291;_0x422921['data_sales'][_0x58df8f[_0x1e0e21(0x114)]]=[],await Promise[_0x1e0e21(0xe5)](_0x58df8f[_0x1e0e21(0x11e)][_0x1e0e21(0xe1)](async _0x402b6e=>{var _0x2f6b25=_0x1e0e21;const _0x4f0a73=await sales_finished[_0x2f6b25(0xee)]([{'$unwind':_0x2f6b25(0xf2)},{'$match':{'sale_product.id_transaction_from':_0x402b6e[_0x2f6b25(0x108)][_0x2f6b25(0x10a)](),'sale_product.invoice':_0x402b6e['invoice']}},{'$project':{'_id':_0x2f6b25(0x130),'product_name':_0x2f6b25(0x134),'product_code':_0x2f6b25(0xfc),'quantity_available':'$sale_product.quantity','warehouse_name':_0x2f6b25(0x137),'warehouse_room':_0x2f6b25(0x112),'product_invoice':_0x2f6b25(0x117),'invoice':_0x2f6b25(0xe4),'id_transaction_from':_0x2f6b25(0xf8),'date':_0x2f6b25(0xed),'production_date':_0x2f6b25(0xd8),'expiry_date':_0x2f6b25(0x12b),'UOM':'$sale_product.unit'}}]);_0x4f0a73['length']>0x0&&_0x422921[_0x2f6b25(0xf0)][_0x58df8f[_0x2f6b25(0x114)]][_0x2f6b25(0xfa)](..._0x4f0a73);}));})),_0x422921[_0x329291(0xf0)]=_0x422921[_0x329291(0xf0)],_0x422921[_0x329291(0xf7)]={},await Promise[_0x329291(0xe5)](_0x422921[_0x329291(0xe1)](async _0xcb75f4=>{var _0x1b9658=_0x329291;_0x422921['data_adjustment'][_0xcb75f4['invoice']]=[],await Promise[_0x1b9658(0xe5)](_0xcb75f4['warehouse_data'][_0x1b9658(0xe1)](async _0x1b608b=>{var _0x4d4a92=_0x1b9658;const _0x2b35c9=await adjustment_finished['aggregate']([{'$unwind':'$product'},{'$match':{'product.id_transaction_from':_0x1b608b[_0x4d4a92(0x108)][_0x4d4a92(0x10a)](),'product.invoice':_0x1b608b[_0x4d4a92(0x114)]}},{'$project':{'_id':_0x4d4a92(0x121),'product_name':_0x4d4a92(0xec),'product_code':_0x4d4a92(0xe8),'quantity_available':_0x4d4a92(0x135),'warehouse_name':'$warehouse_name','warehouse_room':_0x4d4a92(0x104),'product_invoice':_0x4d4a92(0xdd),'invoice':_0x4d4a92(0xe4),'id_transaction_from':_0x4d4a92(0x11d),'date':_0x4d4a92(0xed),'production_date':_0x4d4a92(0xdc),'expiry_date':_0x4d4a92(0xdb),'UOM':'$product.unit'}}]);_0x2b35c9['length']>0x0&&_0x422921['data_adjustment'][_0xcb75f4[_0x4d4a92(0x114)]][_0x4d4a92(0xfa)](..._0x2b35c9);}));})),_0x422921['data_transfer']={},await Promise[_0x329291(0xe5)](_0x422921['map'](async _0x52b2ac=>{var _0x41ca70=_0x329291;_0x422921['data_transfer'][_0x52b2ac['invoice']]=[],await Promise[_0x41ca70(0xe5)](_0x52b2ac[_0x41ca70(0x11e)]['map'](async _0x1633af=>{var _0x4cf596=_0x41ca70;const _0x5c923d=await transfers_finished[_0x4cf596(0xee)]([{'$unwind':_0x4cf596(0xfb)},{'$match':{'product.id_transaction':_0x1633af[_0x4cf596(0x108)][_0x4cf596(0x10a)](),'product.from_invoice':_0x1633af[_0x4cf596(0x114)]}},{'$project':{'_id':_0x4cf596(0x121),'product_name':_0x4cf596(0xec),'product_code':_0x4cf596(0xe8),'quantity_available':_0x4cf596(0xe0),'warehouse_name':_0x4cf596(0x13e),'warehouse_room':_0x4cf596(0x104),'product_invoice':_0x4cf596(0x127),'invoice':_0x4cf596(0xe4),'id_transaction_from':_0x4cf596(0x11f),'date':_0x4cf596(0xed),'production_date':'$product.production_date','expiry_date':_0x4cf596(0xdb),'UOM':_0x4cf596(0x12c)}}]);_0x5c923d[_0x4cf596(0xde)]>0x0&&_0x422921[_0x4cf596(0xff)][_0x52b2ac[_0x4cf596(0x114)]]['push'](..._0x5c923d);}));})),_0x4be816['json']({'purchases_warehouse':_0x422921,'data_sales':_0x422921[_0x329291(0xf0)],'data_adjustment':_0x422921['data_adjustment'],'data_transfer':_0x422921['data_transfer']});}}),router[a0_0x182d44(0x10f)](a0_0x182d44(0xd9),auth,async(_0x2ce183,_0xc53b0d)=>{var _0x2d6177=a0_0x182d44;try{const _0x278347=_0x2ce183[_0x2d6177(0x125)]['id'];var _0x19fe79=await purchases_finished[_0x2d6177(0x110)](_0x278347);const _0x6ba2ae=await master_shop[_0x2d6177(0x133)](),_0x6038db=_0x2ce183['user'],_0xd19ee5=await profile['findOne']({'email':_0x6038db[_0x2d6177(0x131)]});if(_0x6ba2ae[0x0]['language']==_0x2d6177(0x122))var _0x342253=users[_0x2d6177(0x106)];else{if(_0x6ba2ae[0x0][_0x2d6177(0x139)]==_0x2d6177(0x119))var _0x342253=users[_0x2d6177(0x119)];else{if(_0x6ba2ae[0x0][_0x2d6177(0x139)]=='German')var _0x342253=users[_0x2d6177(0x113)];else{if(_0x6ba2ae[0x0][_0x2d6177(0x139)]==_0x2d6177(0xd6))var _0x342253=users[_0x2d6177(0xd6)];else{if(_0x6ba2ae[0x0][_0x2d6177(0x139)]==_0x2d6177(0x126))var _0x342253=users[_0x2d6177(0x126)];else{if(_0x6ba2ae[0x0][_0x2d6177(0x139)]==_0x2d6177(0x123))var _0x342253=users[_0x2d6177(0xfe)];else{if(_0x6ba2ae[0x0][_0x2d6177(0x139)]==_0x2d6177(0x12d))var _0x342253=users[_0x2d6177(0x12d)];else{if(_0x6ba2ae[0x0][_0x2d6177(0x139)]==_0x2d6177(0x13a))var _0x342253=users['Arabic'];}}}}}}}_0xc53b0d[_0x2d6177(0x109)](_0x2d6177(0x102),{'success':_0x2ce183[_0x2d6177(0xea)]('success'),'errors':_0x2ce183['flash']('errors'),'master_shop':_0x6ba2ae,'profile':_0xd19ee5,'role':_0x6038db,'language':_0x342253,'data':_0x19fe79});}catch(_0x2525a0){_0xc53b0d[_0x2d6177(0xf6)](_0x2525a0);}}),router[a0_0x182d44(0x10f)](a0_0x182d44(0xfd),auth,async(_0x332d33,_0x266cc5)=>{var _0xaa26b8=a0_0x182d44;try{const _0x2534f8=_0x332d33[_0xaa26b8(0x125)]['id'];var _0x15ad5e=await sales_finished[_0xaa26b8(0x110)](_0x2534f8);const _0x4810a3=await master_shop[_0xaa26b8(0x133)](),_0xc1c8a0=_0x332d33['user'],_0x3e11fb=await profile[_0xaa26b8(0x11b)]({'email':_0xc1c8a0[_0xaa26b8(0x131)]});if(_0x4810a3[0x0]['language']==_0xaa26b8(0x122))var _0x2d8ace=users['English'];else{if(_0x4810a3[0x0]['language']==_0xaa26b8(0x119))var _0x2d8ace=users[_0xaa26b8(0x119)];else{if(_0x4810a3[0x0][_0xaa26b8(0x139)]=='German')var _0x2d8ace=users[_0xaa26b8(0x113)];else{if(_0x4810a3[0x0]['language']=='Spanish')var _0x2d8ace=users[_0xaa26b8(0xd6)];else{if(_0x4810a3[0x0][_0xaa26b8(0x139)]=='French')var _0x2d8ace=users[_0xaa26b8(0x126)];else{if(_0x4810a3[0x0][_0xaa26b8(0x139)]==_0xaa26b8(0x123))var _0x2d8ace=users[_0xaa26b8(0xfe)];else{if(_0x4810a3[0x0]['language']==_0xaa26b8(0x12d))var _0x2d8ace=users[_0xaa26b8(0x12d)];else{if(_0x4810a3[0x0][_0xaa26b8(0x139)]=='Arabic\x20(ae)')var _0x2d8ace=users[_0xaa26b8(0x10c)];}}}}}}}_0x266cc5[_0xaa26b8(0x109)](_0xaa26b8(0xf3),{'success':_0x332d33[_0xaa26b8(0xea)](_0xaa26b8(0x115)),'errors':_0x332d33['flash'](_0xaa26b8(0x128)),'master_shop':_0x4810a3,'profile':_0x3e11fb,'role':_0xc1c8a0,'language':_0x2d8ace,'data':_0x15ad5e});}catch(_0x34ad13){_0x266cc5[_0xaa26b8(0xf6)](_0x34ad13);}}),router['get'](a0_0x182d44(0x111),auth,async(_0x3fd650,_0x4accc4)=>{var _0x17845b=a0_0x182d44;try{const _0x17ea7b=_0x3fd650['params']['id'];var _0x300c76=await transfers_finished[_0x17845b(0x110)](_0x17ea7b);const _0x22b6ae=await master_shop[_0x17845b(0x133)](),_0x1f99d7=_0x3fd650[_0x17845b(0x12f)],_0x3c1d39=await profile[_0x17845b(0x11b)]({'email':_0x1f99d7[_0x17845b(0x131)]});if(_0x22b6ae[0x0][_0x17845b(0x139)]==_0x17845b(0x122))var _0x392e24=users['English'];else{if(_0x22b6ae[0x0][_0x17845b(0x139)]==_0x17845b(0x119))var _0x392e24=users[_0x17845b(0x119)];else{if(_0x22b6ae[0x0][_0x17845b(0x139)]==_0x17845b(0x113))var _0x392e24=users[_0x17845b(0x113)];else{if(_0x22b6ae[0x0]['language']=='Spanish')var _0x392e24=users[_0x17845b(0xd6)];else{if(_0x22b6ae[0x0][_0x17845b(0x139)]==_0x17845b(0x126))var _0x392e24=users[_0x17845b(0x126)];else{if(_0x22b6ae[0x0]['language']==_0x17845b(0x123))var _0x392e24=users[_0x17845b(0xfe)];else{if(_0x22b6ae[0x0][_0x17845b(0x139)]==_0x17845b(0x12d))var _0x392e24=users['Chinese'];else{if(_0x22b6ae[0x0][_0x17845b(0x139)]==_0x17845b(0x13a))var _0x392e24=users[_0x17845b(0x10c)];}}}}}}}_0x4accc4[_0x17845b(0x109)]('view_tf_table',{'success':_0x3fd650[_0x17845b(0xea)](_0x17845b(0x115)),'errors':_0x3fd650[_0x17845b(0xea)](_0x17845b(0x128)),'master_shop':_0x22b6ae,'profile':_0x3c1d39,'role':_0x1f99d7,'language':_0x392e24,'data':_0x300c76});}catch(_0x43def4){_0x4accc4[_0x17845b(0xf6)](_0x43def4);}}),router[a0_0x182d44(0x10f)](a0_0x182d44(0x136),auth,async(_0x573cdf,_0x113454)=>{var _0x938e22=a0_0x182d44;try{const {username:_0x35a297,email:_0x33a155,role:_0x492d5e}=_0x573cdf[_0x938e22(0x12f)],_0x5e4efc=_0x573cdf[_0x938e22(0x12f)],_0x40c8a6=await profile[_0x938e22(0x11b)]({'email':_0x5e4efc[_0x938e22(0x131)]}),_0x5e63a1=await master_shop[_0x938e22(0x133)](),_0x523a6a=await warehouse['aggregate']([{'$match':{'status':_0x938e22(0x124),'warehouse_category':_0x938e22(0x129)}},{'$group':{'_id':_0x938e22(0x11c),'name':{'$first':_0x938e22(0x11c)}}}]);if(_0x5e63a1[0x0][_0x938e22(0x139)]==_0x938e22(0x122))var _0x273437=users[_0x938e22(0x106)];else{if(_0x5e63a1[0x0][_0x938e22(0x139)]==_0x938e22(0x119))var _0x273437=users[_0x938e22(0x119)];else{if(_0x5e63a1[0x0][_0x938e22(0x139)]==_0x938e22(0x113))var _0x273437=users['German'];else{if(_0x5e63a1[0x0][_0x938e22(0x139)]==_0x938e22(0xd6))var _0x273437=users['Spanish'];else{if(_0x5e63a1[0x0]['language']==_0x938e22(0x126))var _0x273437=users[_0x938e22(0x126)];else{if(_0x5e63a1[0x0]['language']=='Portuguese\x20(BR)')var _0x273437=users['Portuguese'];else{if(_0x5e63a1[0x0][_0x938e22(0x139)]==_0x938e22(0x12d))var _0x273437=users[_0x938e22(0x12d)];else{if(_0x5e63a1[0x0][_0x938e22(0x139)]==_0x938e22(0x13a))var _0x273437=users['Arabic'];}}}}}}}_0x113454[_0x938e22(0x109)]('transaction_finished_raw',{'success':_0x573cdf[_0x938e22(0xea)](_0x938e22(0x115)),'errors':_0x573cdf[_0x938e22(0xea)](_0x938e22(0x128)),'role':_0x5e4efc,'profile':_0x40c8a6,'master_shop':_0x5e63a1,'dataProcess':_0x523a6a,'language':_0x273437});}catch(_0x1fbb52){console[_0x938e22(0x100)](_0x1fbb52);}}),module['exports']=router;