var a0_0x1a109d=a0_0x629b;(function(_0x156e78,_0x1f9e33){var _0x110524=a0_0x629b,_0x16fb94=_0x156e78();while(!![]){try{var _0x3be787=-parseInt(_0x110524(0x121))/0x1*(-parseInt(_0x110524(0x10f))/0x2)+parseInt(_0x110524(0x136))/0x3*(-parseInt(_0x110524(0x12e))/0x4)+-parseInt(_0x110524(0x134))/0x5*(-parseInt(_0x110524(0x130))/0x6)+parseInt(_0x110524(0x116))/0x7+parseInt(_0x110524(0x10b))/0x8+-parseInt(_0x110524(0x11e))/0x9+parseInt(_0x110524(0x12a))/0xa;if(_0x3be787===_0x1f9e33)break;else _0x16fb94['push'](_0x16fb94['shift']());}catch(_0x388d7f){_0x16fb94['push'](_0x16fb94['shift']());}}}(a0_0x58d4,0xec06e));const express=require('express'),app=express(),router=express[a0_0x1a109d(0x137)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require(a0_0x1a109d(0x103)),auth=require(a0_0x1a109d(0x125)),users=require(a0_0x1a109d(0x112)),nodemailer=require(a0_0x1a109d(0x100));router['get'](a0_0x1a109d(0x11a),auth,async(_0x206f82,_0xa2a5db)=>{var _0x5d7594=a0_0x1a109d;try{const {username:_0x53fa68,email:_0x5036d4,role:_0x4cb706}=_0x206f82['user'],_0x28297b=_0x206f82[_0x5d7594(0x114)],_0x32cfd5=await profile[_0x5d7594(0x111)]({'email':_0x28297b[_0x5d7594(0x10d)]}),_0x1dea61=await master_shop[_0x5d7594(0x12f)](),_0x3941cc=await warehouse[_0x5d7594(0x117)]([{'$match':{'status':_0x5d7594(0x10c),'warehouse_category':'Finished\x20Goods'}},{'$group':{'_id':'$name','name':{'$first':_0x5d7594(0x131)}}}]);if(_0x1dea61[0x0][_0x5d7594(0x104)]==_0x5d7594(0x113))var _0x1d8fc0=users[_0x5d7594(0x138)];else{if(_0x1dea61[0x0]['language']=='Hindi')var _0x1d8fc0=users[_0x5d7594(0x11d)];else{if(_0x1dea61[0x0][_0x5d7594(0x104)]==_0x5d7594(0x11c))var _0x1d8fc0=users[_0x5d7594(0x11c)];else{if(_0x1dea61[0x0][_0x5d7594(0x104)]==_0x5d7594(0x129))var _0x1d8fc0=users['Spanish'];else{if(_0x1dea61[0x0][_0x5d7594(0x104)]=='French')var _0x1d8fc0=users['French'];else{if(_0x1dea61[0x0][_0x5d7594(0x104)]==_0x5d7594(0x133))var _0x1d8fc0=users[_0x5d7594(0x10e)];else{if(_0x1dea61[0x0][_0x5d7594(0x104)]==_0x5d7594(0x118))var _0x1d8fc0=users[_0x5d7594(0x118)];else{if(_0x1dea61[0x0][_0x5d7594(0x104)]==_0x5d7594(0x122))var _0x1d8fc0=users['Arabic'];}}}}}}}_0xa2a5db['render'](_0x5d7594(0x132),{'success':_0x206f82[_0x5d7594(0x128)]('success'),'errors':_0x206f82[_0x5d7594(0x128)](_0x5d7594(0x109)),'role':_0x28297b,'profile':_0x32cfd5,'master_shop':_0x1dea61,'dataProcess':_0x3941cc,'language':_0x1d8fc0});}catch(_0x41c741){console[_0x5d7594(0x11b)](_0x41c741);}}),router[a0_0x1a109d(0x12c)](a0_0x1a109d(0x123),auth,async(_0x341ec0,_0x4ea223)=>{var _0x5cc885=a0_0x1a109d;const {product_category:_0x12e582,transaction_category:_0x112081,transaction_date_from:_0x522cce,transaction_date_to:_0x2497fa,warehouse_category:_0x4a8262,item_code:_0x535814}=_0x341ec0[_0x5cc885(0x124)];var _0x4cb15e;if(_0x12e582=='rm'){}else{if(_0x12e582=='fg')switch(_0x112081){case'IC':_0x535814[_0x5cc885(0x110)]>0x0?_0x4cb15e=await purchases_finished[_0x5cc885(0x117)]([{'$match':{'warehouse_name':_0x4a8262,'date':{'$gte':_0x522cce,'$lte':_0x2497fa}}},{'$unwind':_0x5cc885(0x135)},{'$match':{'$or':[{'product.product_code':_0x535814}]}},{'$group':{'_id':'$invoice','date':{'$first':_0x5cc885(0x101)},'warehouse_name':{'$first':_0x5cc885(0x11f)},'products':{'$push':_0x5cc885(0x135)}}}]):_0x4cb15e=await purchases_finished[_0x5cc885(0x117)]([{'$match':{'warehouse_name':_0x4a8262,'date':{'$gte':_0x522cce,'$lte':_0x2497fa}}},{'$unwind':_0x5cc885(0x135)},{'$group':{'_id':'$invoice','date':{'$first':_0x5cc885(0x101)},'warehouse_name':{'$first':_0x5cc885(0x11f)},'products':{'$push':_0x5cc885(0x135)}}}]);break;case'OG':_0x535814[_0x5cc885(0x110)]>0x0?_0x4cb15e=await sales_finished[_0x5cc885(0x117)]([{'$match':{'warehouse_name':_0x4a8262,'date':{'$gte':_0x522cce,'$lte':_0x2497fa}}},{'$unwind':_0x5cc885(0x13a)},{'$match':{'$or':[{'sale_product.product_code':_0x535814}]}},{'$group':{'_id':_0x5cc885(0x108),'date':{'$first':'$date'},'warehouse_name':{'$first':_0x5cc885(0x11f)},'products':{'$push':_0x5cc885(0x13a)}}}]):_0x4cb15e=await sales_finished[_0x5cc885(0x117)]([{'$match':{'warehouse_name':_0x4a8262,'date':{'$gte':_0x522cce,'$lte':_0x2497fa}}},{'$unwind':'$sale_product'},{'$group':{'_id':'$invoice','date':{'$first':_0x5cc885(0x101)},'warehouse_name':{'$first':_0x5cc885(0x11f)},'products':{'$push':_0x5cc885(0x13a)}}}]);break;case'AJ':break;case'TF':_0x4cb15e=await transfers_finished[_0x5cc885(0x12f)]({'warehouse':_0x4a8262,'date':{'$gte':_0x522cce,'$lte':_0x2497fa}});break;}}_0x4ea223[_0x5cc885(0x102)]({'data':_0x4cb15e});}),router['get'](a0_0x1a109d(0x12b),auth,async(_0x4648b8,_0x1a1db5)=>{var _0x1b433b=a0_0x1a109d;try{const _0x1ffe70=_0x4648b8['params']['id'];var _0x43c1ce=await purchases_finished[_0x1b433b(0x127)](_0x1ffe70);const _0x50b152=await master_shop[_0x1b433b(0x12f)](),_0x9b7366=_0x4648b8['user'],_0xdfcca=await profile['findOne']({'email':_0x9b7366[_0x1b433b(0x10d)]});if(_0x50b152[0x0][_0x1b433b(0x104)]==_0x1b433b(0x113))var _0x4700ef=users[_0x1b433b(0x138)];else{if(_0x50b152[0x0][_0x1b433b(0x104)]==_0x1b433b(0x11d))var _0x4700ef=users[_0x1b433b(0x11d)];else{if(_0x50b152[0x0][_0x1b433b(0x104)]==_0x1b433b(0x11c))var _0x4700ef=users[_0x1b433b(0x11c)];else{if(_0x50b152[0x0][_0x1b433b(0x104)]==_0x1b433b(0x129))var _0x4700ef=users[_0x1b433b(0x129)];else{if(_0x50b152[0x0][_0x1b433b(0x104)]==_0x1b433b(0x10a))var _0x4700ef=users[_0x1b433b(0x10a)];else{if(_0x50b152[0x0][_0x1b433b(0x104)]==_0x1b433b(0x133))var _0x4700ef=users[_0x1b433b(0x10e)];else{if(_0x50b152[0x0][_0x1b433b(0x104)]==_0x1b433b(0x118))var _0x4700ef=users[_0x1b433b(0x118)];else{if(_0x50b152[0x0][_0x1b433b(0x104)]==_0x1b433b(0x122))var _0x4700ef=users[_0x1b433b(0x120)];}}}}}}}_0x1a1db5[_0x1b433b(0x105)]('view_table',{'success':_0x4648b8[_0x1b433b(0x128)](_0x1b433b(0x12d)),'errors':_0x4648b8['flash'](_0x1b433b(0x109)),'master_shop':_0x50b152,'profile':_0xdfcca,'role':_0x9b7366,'language':_0x4700ef,'data':_0x43c1ce});}catch(_0x5891de){_0x1a1db5[_0x1b433b(0x102)](_0x5891de);}}),router[a0_0x1a109d(0x107)](a0_0x1a109d(0x139),auth,async(_0x57384b,_0x3c53ae)=>{var _0x44902c=a0_0x1a109d;try{const _0x586eaf=_0x57384b[_0x44902c(0x115)]['id'];var _0x35ad30=await sales_finished['findById'](_0x586eaf);const _0x225faa=await master_shop[_0x44902c(0x12f)](),_0x881488=_0x57384b[_0x44902c(0x114)],_0x890e31=await profile[_0x44902c(0x111)]({'email':_0x881488[_0x44902c(0x10d)]});if(_0x225faa[0x0][_0x44902c(0x104)]==_0x44902c(0x113))var _0x5158a7=users[_0x44902c(0x138)];else{if(_0x225faa[0x0]['language']==_0x44902c(0x11d))var _0x5158a7=users[_0x44902c(0x11d)];else{if(_0x225faa[0x0][_0x44902c(0x104)]==_0x44902c(0x11c))var _0x5158a7=users['German'];else{if(_0x225faa[0x0][_0x44902c(0x104)]==_0x44902c(0x129))var _0x5158a7=users[_0x44902c(0x129)];else{if(_0x225faa[0x0][_0x44902c(0x104)]==_0x44902c(0x10a))var _0x5158a7=users[_0x44902c(0x10a)];else{if(_0x225faa[0x0][_0x44902c(0x104)]=='Portuguese\x20(BR)')var _0x5158a7=users['Portuguese'];else{if(_0x225faa[0x0][_0x44902c(0x104)]==_0x44902c(0x118))var _0x5158a7=users[_0x44902c(0x118)];else{if(_0x225faa[0x0]['language']==_0x44902c(0x122))var _0x5158a7=users[_0x44902c(0x120)];}}}}}}}_0x3c53ae['render'](_0x44902c(0x119),{'success':_0x57384b['flash'](_0x44902c(0x12d)),'errors':_0x57384b['flash'](_0x44902c(0x109)),'master_shop':_0x225faa,'profile':_0x890e31,'role':_0x881488,'language':_0x5158a7,'data':_0x35ad30});}catch(_0x10d4d3){_0x3c53ae['json'](_0x10d4d3);}}),router[a0_0x1a109d(0x107)]('/viewdata_tf_fg/:id',auth,async(_0x51dc36,_0x2cd10e)=>{var _0x5749b2=a0_0x1a109d;try{const _0x2ff6ee=_0x51dc36[_0x5749b2(0x115)]['id'];var _0x43c9de=await transfers_finished['findById'](_0x2ff6ee);const _0x16e9e3=await master_shop['find'](),_0x2cc871=_0x51dc36[_0x5749b2(0x114)],_0x4cd5d7=await profile[_0x5749b2(0x111)]({'email':_0x2cc871[_0x5749b2(0x10d)]});if(_0x16e9e3[0x0][_0x5749b2(0x104)]==_0x5749b2(0x113))var _0x3fed98=users['English'];else{if(_0x16e9e3[0x0]['language']==_0x5749b2(0x11d))var _0x3fed98=users[_0x5749b2(0x11d)];else{if(_0x16e9e3[0x0][_0x5749b2(0x104)]==_0x5749b2(0x11c))var _0x3fed98=users['German'];else{if(_0x16e9e3[0x0][_0x5749b2(0x104)]==_0x5749b2(0x129))var _0x3fed98=users[_0x5749b2(0x129)];else{if(_0x16e9e3[0x0][_0x5749b2(0x104)]==_0x5749b2(0x10a))var _0x3fed98=users[_0x5749b2(0x10a)];else{if(_0x16e9e3[0x0][_0x5749b2(0x104)]==_0x5749b2(0x133))var _0x3fed98=users[_0x5749b2(0x10e)];else{if(_0x16e9e3[0x0][_0x5749b2(0x104)]==_0x5749b2(0x118))var _0x3fed98=users['Chinese'];else{if(_0x16e9e3[0x0][_0x5749b2(0x104)]==_0x5749b2(0x122))var _0x3fed98=users['Arabic'];}}}}}}}_0x2cd10e[_0x5749b2(0x105)](_0x5749b2(0x126),{'success':_0x51dc36[_0x5749b2(0x128)](_0x5749b2(0x12d)),'errors':_0x51dc36[_0x5749b2(0x128)]('errors'),'master_shop':_0x16e9e3,'profile':_0x4cd5d7,'role':_0x2cc871,'language':_0x3fed98,'data':_0x43c9de});}catch(_0x51ae1d){_0x2cd10e[_0x5749b2(0x102)](_0x51ae1d);}}),module[a0_0x1a109d(0x106)]=router;function a0_0x629b(_0xf7c390,_0x2509a1){var _0x58d4f5=a0_0x58d4();return a0_0x629b=function(_0x629b4,_0x32090a){_0x629b4=_0x629b4-0x100;var _0x1fc665=_0x58d4f5[_0x629b4];return _0x1fc665;},a0_0x629b(_0xf7c390,_0x2509a1);}function a0_0x58d4(){var _0x4e1eb6=['view_tf_table','findById','flash','Spanish','3204160eipCCH','/viewdata_inc_fg/:id','post','success','6914724lNJTeQ','find','246rbYySL','$name','transaction_finished','Portuguese\x20(BR)','54435QeiltB','$product','3ZgeQhe','Router','English','/viewdata_og_fg/:id','$sale_product','nodemailer','$date','json','../models/all_models','language','render','exports','get','$invoice','errors','French','2225288BMRslL','Enabled','email','Portuguese','10frpUUX','length','findOne','../public/language/languages.json','English\x20(US)','user','params','7759682lThKPB','aggregate','Chinese','view_og_table','/view','log','German','Hindi','9409302oTmlPe','$warehouse_name','Arabic','317491xwDSwi','Arabic\x20(ae)','/reports','body','../middleware/auth'];a0_0x58d4=function(){return _0x4e1eb6;};return a0_0x58d4();}