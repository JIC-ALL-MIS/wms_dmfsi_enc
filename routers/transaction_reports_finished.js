function a0_0x3caa(_0x4e826a,_0x131d02){var _0x514be0=a0_0x514b();return a0_0x3caa=function(_0x3caaaa,_0x45b0dd){_0x3caaaa=_0x3caaaa-0x1b1;var _0x3dc7f5=_0x514be0[_0x3caaaa];return _0x3dc7f5;},a0_0x3caa(_0x4e826a,_0x131d02);}var a0_0x3ef70a=a0_0x3caa;(function(_0x16dfd8,_0x283e9e){var _0x34379c=a0_0x3caa,_0x263682=_0x16dfd8();while(!![]){try{var _0x11ecf9=parseInt(_0x34379c(0x1b1))/0x1*(-parseInt(_0x34379c(0x1e4))/0x2)+parseInt(_0x34379c(0x1cd))/0x3*(-parseInt(_0x34379c(0x1e7))/0x4)+parseInt(_0x34379c(0x1dc))/0x5*(-parseInt(_0x34379c(0x1dd))/0x6)+-parseInt(_0x34379c(0x1eb))/0x7+parseInt(_0x34379c(0x1b2))/0x8*(parseInt(_0x34379c(0x1d2))/0x9)+-parseInt(_0x34379c(0x1bc))/0xa*(parseInt(_0x34379c(0x1e3))/0xb)+parseInt(_0x34379c(0x1c6))/0xc*(parseInt(_0x34379c(0x1b3))/0xd);if(_0x11ecf9===_0x283e9e)break;else _0x263682['push'](_0x263682['shift']());}catch(_0x17ef64){_0x263682['push'](_0x263682['shift']());}}}(a0_0x514b,0xa06be));const express=require(a0_0x3ef70a(0x1c7)),app=express(),router=express[a0_0x3ef70a(0x1d5)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require(a0_0x3ef70a(0x1d3)),auth=require(a0_0x3ef70a(0x1ec)),users=require(a0_0x3ef70a(0x1e2)),nodemailer=require(a0_0x3ef70a(0x1bd));router['get']('/view',auth,async(_0x5c1f4f,_0xe3bcea)=>{var _0x42ccd8=a0_0x3ef70a;try{const {username:_0x184582,email:_0x3e7888,role:_0x4568f5}=_0x5c1f4f['user'],_0x31e436=_0x5c1f4f[_0x42ccd8(0x1e1)],_0x1c3446=await profile[_0x42ccd8(0x1c2)]({'email':_0x31e436[_0x42ccd8(0x1b9)]}),_0x30dbf6=await master_shop[_0x42ccd8(0x1db)]();let _0x191441;if(_0x31e436[_0x42ccd8(0x1bf)]==_0x42ccd8(0x1cb)){const _0x251890=await staff[_0x42ccd8(0x1c2)]({'email':_0x31e436[_0x42ccd8(0x1b9)]});_0x191441=await transfers_finished['find']({'from_warehouse':_0x251890[_0x42ccd8(0x1c4)]});}else _0x191441=await transfers_finished[_0x42ccd8(0x1b8)]([{'$unwind':'$product'},{'$group':{'_id':_0x42ccd8(0x1ea),'invoice':{'$first':_0x42ccd8(0x1ca)},'date':{'$first':'$date'},'from_warehouse':{'$first':_0x42ccd8(0x1d1)},'to_warehouse':{'$first':'$to_warehouse'},'from_room_name':{'$addToSet':'$product.from_room_name'},'to_room_name':{'$addToSet':_0x42ccd8(0x1b4)},'finalize':{'$first':'$finalize'}}},{'$project':{'_id':0x1,'invoice':0x1,'date':0x1,'from_warehouse':0x1,'to_warehouse':0x1,'from_room_name':0x1,'to_room_name':0x1,'finalize':0x1}}]);if(_0x30dbf6[0x0][_0x42ccd8(0x1cf)]==_0x42ccd8(0x1d8))var _0x4f01a4=users['English'];else{if(_0x30dbf6[0x0][_0x42ccd8(0x1cf)]==_0x42ccd8(0x1c3))var _0x4f01a4=users[_0x42ccd8(0x1c3)];else{if(_0x30dbf6[0x0]['language']==_0x42ccd8(0x1ee))var _0x4f01a4=users[_0x42ccd8(0x1ee)];else{if(_0x30dbf6[0x0][_0x42ccd8(0x1cf)]==_0x42ccd8(0x1df))var _0x4f01a4=users[_0x42ccd8(0x1df)];else{if(_0x30dbf6[0x0][_0x42ccd8(0x1cf)]==_0x42ccd8(0x1c0))var _0x4f01a4=users['French'];else{if(_0x30dbf6[0x0]['language']=='Portuguese\x20(BR)')var _0x4f01a4=users[_0x42ccd8(0x1c9)];else{if(_0x30dbf6[0x0][_0x42ccd8(0x1cf)]=='Chinese')var _0x4f01a4=users[_0x42ccd8(0x1d0)];else{if(_0x30dbf6[0x0][_0x42ccd8(0x1cf)]==_0x42ccd8(0x1e5))var _0x4f01a4=users[_0x42ccd8(0x1be)];}}}}}}}_0xe3bcea[_0x42ccd8(0x1cc)](_0x42ccd8(0x1e8),{'success':_0x5c1f4f[_0x42ccd8(0x1ba)](_0x42ccd8(0x1bb)),'errors':_0x5c1f4f[_0x42ccd8(0x1ba)](_0x42ccd8(0x1d9)),'role':_0x31e436,'profile':_0x1c3446,'master_shop':_0x30dbf6,'transfer':_0x191441,'language':_0x4f01a4});}catch(_0x5c74d6){console[_0x42ccd8(0x1c8)](_0x5c74d6);}}),router[a0_0x3ef70a(0x1ce)](a0_0x3ef70a(0x1ed),auth,async(_0x52fc01,_0x32bb85)=>{var _0x3e55c1=a0_0x3ef70a;const {product_category:_0x5f459f,transaction_category:_0x5278ac,transaction_date_from:_0x5abf3b,transaction_date_to:_0x4bf892}=_0x52fc01[_0x3e55c1(0x1c1)];var _0x3ef849;if(_0x5f459f=='rm'){}else{if(_0x5f459f=='fg')switch(_0x5278ac){case'IC':_0x3ef849=await purchases_finished[_0x3e55c1(0x1db)]({'date':{'$gte':_0x5abf3b,'$lte':_0x4bf892}});break;case'OG':_0x3ef849=await sales_finished[_0x3e55c1(0x1db)]({'date':{'$gte':_0x5abf3b,'$lte':_0x4bf892}});break;case'AJ':_0x3ef849=await adjustment_finished[_0x3e55c1(0x1db)]({'date':{'$gte':_0x5abf3b,'$lte':_0x4bf892}});break;case'TF':_0x3ef849=await transfers_finished[_0x3e55c1(0x1db)]({'date':{'$gte':_0x5abf3b,'$lte':_0x4bf892}});break;}}_0x32bb85['json']({'data':_0x3ef849});}),router[a0_0x3ef70a(0x1e0)](a0_0x3ef70a(0x1da),auth,async(_0x4ea3f1,_0x2b8ae5)=>{var _0x161f42=a0_0x3ef70a;try{const _0xccafb7=_0x4ea3f1['params']['id'];var _0x1166ad=await purchases_finished[_0x161f42(0x1e9)](_0xccafb7);const _0x3a8364=await master_shop[_0x161f42(0x1db)](),_0x1dd5ee=_0x4ea3f1[_0x161f42(0x1e1)],_0x59bf38=await profile['findOne']({'email':_0x1dd5ee['email']});if(_0x3a8364[0x0][_0x161f42(0x1cf)]==_0x161f42(0x1d8))var _0x3037cd=users[_0x161f42(0x1d7)];else{if(_0x3a8364[0x0][_0x161f42(0x1cf)]==_0x161f42(0x1c3))var _0x3037cd=users[_0x161f42(0x1c3)];else{if(_0x3a8364[0x0]['language']==_0x161f42(0x1ee))var _0x3037cd=users['German'];else{if(_0x3a8364[0x0][_0x161f42(0x1cf)]==_0x161f42(0x1df))var _0x3037cd=users[_0x161f42(0x1df)];else{if(_0x3a8364[0x0][_0x161f42(0x1cf)]==_0x161f42(0x1c0))var _0x3037cd=users['French'];else{if(_0x3a8364[0x0]['language']=='Portuguese\x20(BR)')var _0x3037cd=users['Portuguese'];else{if(_0x3a8364[0x0][_0x161f42(0x1cf)]==_0x161f42(0x1d0))var _0x3037cd=users['Chinese'];else{if(_0x3a8364[0x0]['language']==_0x161f42(0x1e5))var _0x3037cd=users['Arabic'];}}}}}}}_0x2b8ae5[_0x161f42(0x1cc)](_0x161f42(0x1b5),{'success':_0x4ea3f1[_0x161f42(0x1ba)](_0x161f42(0x1bb)),'errors':_0x4ea3f1[_0x161f42(0x1ba)](_0x161f42(0x1d9)),'master_shop':_0x3a8364,'profile':_0x59bf38,'role':_0x1dd5ee,'language':_0x3037cd,'data':_0x1166ad});}catch(_0x36a8a2){_0x2b8ae5[_0x161f42(0x1c5)](_0x36a8a2);}}),router[a0_0x3ef70a(0x1e0)](a0_0x3ef70a(0x1d4),auth,async(_0x2e3151,_0x3ebd4d)=>{var _0x246895=a0_0x3ef70a;try{const _0x2464a9=_0x2e3151[_0x246895(0x1de)]['id'];var _0x427e27=await sales_finished[_0x246895(0x1e9)](_0x2464a9);const _0x4fc048=await master_shop['find'](),_0x32a01c=_0x2e3151[_0x246895(0x1e1)],_0x3d5621=await profile[_0x246895(0x1c2)]({'email':_0x32a01c['email']});if(_0x4fc048[0x0]['language']==_0x246895(0x1d8))var _0x1a497f=users['English'];else{if(_0x4fc048[0x0][_0x246895(0x1cf)]==_0x246895(0x1c3))var _0x1a497f=users[_0x246895(0x1c3)];else{if(_0x4fc048[0x0][_0x246895(0x1cf)]==_0x246895(0x1ee))var _0x1a497f=users[_0x246895(0x1ee)];else{if(_0x4fc048[0x0][_0x246895(0x1cf)]==_0x246895(0x1df))var _0x1a497f=users[_0x246895(0x1df)];else{if(_0x4fc048[0x0][_0x246895(0x1cf)]==_0x246895(0x1c0))var _0x1a497f=users[_0x246895(0x1c0)];else{if(_0x4fc048[0x0]['language']==_0x246895(0x1d6))var _0x1a497f=users[_0x246895(0x1c9)];else{if(_0x4fc048[0x0]['language']==_0x246895(0x1d0))var _0x1a497f=users[_0x246895(0x1d0)];else{if(_0x4fc048[0x0][_0x246895(0x1cf)]==_0x246895(0x1e5))var _0x1a497f=users['Arabic'];}}}}}}}_0x3ebd4d[_0x246895(0x1cc)](_0x246895(0x1b7),{'success':_0x2e3151[_0x246895(0x1ba)]('success'),'errors':_0x2e3151[_0x246895(0x1ba)](_0x246895(0x1d9)),'master_shop':_0x4fc048,'profile':_0x3d5621,'role':_0x32a01c,'language':_0x1a497f,'data':_0x427e27});}catch(_0x16c2e1){_0x3ebd4d['json'](_0x16c2e1);}}),router[a0_0x3ef70a(0x1e0)]('/viewdata_tf_fg/:id',auth,async(_0x25df40,_0xb8c95b)=>{var _0x1742f7=a0_0x3ef70a;try{const _0x174b2a=_0x25df40[_0x1742f7(0x1de)]['id'];var _0x1a232c=await transfers_finished[_0x1742f7(0x1e9)](_0x174b2a);const _0x5d0d64=await master_shop[_0x1742f7(0x1db)](),_0x47abae=_0x25df40[_0x1742f7(0x1e1)],_0x5f5e92=await profile[_0x1742f7(0x1c2)]({'email':_0x47abae[_0x1742f7(0x1b9)]});if(_0x5d0d64[0x0][_0x1742f7(0x1cf)]==_0x1742f7(0x1d8))var _0x319583=users['English'];else{if(_0x5d0d64[0x0][_0x1742f7(0x1cf)]==_0x1742f7(0x1c3))var _0x319583=users[_0x1742f7(0x1c3)];else{if(_0x5d0d64[0x0][_0x1742f7(0x1cf)]==_0x1742f7(0x1ee))var _0x319583=users[_0x1742f7(0x1ee)];else{if(_0x5d0d64[0x0]['language']==_0x1742f7(0x1df))var _0x319583=users[_0x1742f7(0x1df)];else{if(_0x5d0d64[0x0][_0x1742f7(0x1cf)]==_0x1742f7(0x1c0))var _0x319583=users[_0x1742f7(0x1c0)];else{if(_0x5d0d64[0x0]['language']=='Portuguese\x20(BR)')var _0x319583=users[_0x1742f7(0x1c9)];else{if(_0x5d0d64[0x0]['language']==_0x1742f7(0x1d0))var _0x319583=users[_0x1742f7(0x1d0)];else{if(_0x5d0d64[0x0]['language']=='Arabic\x20(ae)')var _0x319583=users[_0x1742f7(0x1be)];}}}}}}}_0xb8c95b[_0x1742f7(0x1cc)](_0x1742f7(0x1e6),{'success':_0x25df40[_0x1742f7(0x1ba)](_0x1742f7(0x1bb)),'errors':_0x25df40[_0x1742f7(0x1ba)](_0x1742f7(0x1d9)),'master_shop':_0x5d0d64,'profile':_0x5f5e92,'role':_0x47abae,'language':_0x319583,'data':_0x1a232c});}catch(_0xecbcc5){_0xb8c95b['json'](_0xecbcc5);}}),module[a0_0x3ef70a(0x1b6)]=router;function a0_0x514b(){var _0x43ac95=['770hwMTcx','5708ftrsqn','Arabic\x20(ae)','view_tf_table','126164XyvfFu','transaction_finished','findById','$_id','8332380bhTlWi','../middleware/auth','/reports','German','21MqcBFk','23648AAggpV','212147AffjqP','$product.to_room_name','view_table','exports','view_og_table','aggregate','email','flash','success','156930lKgQYg','nodemailer','Arabic','role','French','body','findOne','Hindi','warehouse','json','2124UTTPYj','express','log','Portuguese','$invoice','staff','render','15mlfspp','post','language','Chinese','$from_warehouse','1926xSBfzd','../models/all_models','/viewdata_og_fg/:id','Router','Portuguese\x20(BR)','English','English\x20(US)','errors','/viewdata_inc_fg/:id','find','160OSfZus','67026vwNMak','params','Spanish','get','user','../public/language/languages.json'];a0_0x514b=function(){return _0x43ac95;};return a0_0x514b();}