function a0_0xbb65(_0x1c121f,_0x58a1c7){var _0x54d6b2=a0_0x54d6();return a0_0xbb65=function(_0xbb65a1,_0x49827d){_0xbb65a1=_0xbb65a1-0x11d;var _0x1ea273=_0x54d6b2[_0xbb65a1];return _0x1ea273;},a0_0xbb65(_0x1c121f,_0x58a1c7);}var a0_0x36d95a=a0_0xbb65;(function(_0x26cccc,_0x5cc533){var _0x56a04d=a0_0xbb65,_0x10185d=_0x26cccc();while(!![]){try{var _0x400d28=-parseInt(_0x56a04d(0x14e))/0x1*(parseInt(_0x56a04d(0x12d))/0x2)+parseInt(_0x56a04d(0x148))/0x3+-parseInt(_0x56a04d(0x125))/0x4+parseInt(_0x56a04d(0x124))/0x5+-parseInt(_0x56a04d(0x13b))/0x6+-parseInt(_0x56a04d(0x130))/0x7*(parseInt(_0x56a04d(0x155))/0x8)+parseInt(_0x56a04d(0x150))/0x9;if(_0x400d28===_0x5cc533)break;else _0x10185d['push'](_0x10185d['shift']());}catch(_0x26bcd8){_0x10185d['push'](_0x10185d['shift']());}}}(a0_0x54d6,0x4b23f));const express=require(a0_0x36d95a(0x140)),app=express(),router=express[a0_0x36d95a(0x12a)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require(a0_0x36d95a(0x147)),auth=require(a0_0x36d95a(0x144)),users=require(a0_0x36d95a(0x142)),nodemailer=require(a0_0x36d95a(0x137));function a0_0x54d6(){var _0x3d90a2=['length','/viewdata_tf_fg/:id','$invoice','transaction_finished','Portuguese\x20(BR)','findById','542710IUyXef','133028PofDMF','$sale_product','$warehouse_name','Portuguese','Hindi','Router','view_og_table','params','8wMdeJB','Arabic\x20(ae)','view_tf_table','294UmwiQJ','$date','view_table','success','English\x20(US)','/viewdata_inc_fg/:id','language','nodemailer','json','errors','Spanish','1816854zytxbQ','/viewdata_og_fg/:id','flash','$name','Arabic','express','findOne','../public/language/languages.json','find','../middleware/auth','Enabled','aggregate','../models/all_models','1484028xvGAzO','exports','user','French','get','body','93846DjpFDY','email','4076703nAxjnR','Chinese','/reports','post','$product','7040uOrRMV','German','English','render'];a0_0x54d6=function(){return _0x3d90a2;};return a0_0x54d6();}router[a0_0x36d95a(0x14c)]('/view',auth,async(_0x49652d,_0x4066c3)=>{var _0x2daeb4=a0_0x36d95a;try{const {username:_0x307910,email:_0x1bacb9,role:_0x32a81f}=_0x49652d[_0x2daeb4(0x14a)],_0x5ce3e8=_0x49652d[_0x2daeb4(0x14a)],_0x33d8b4=await profile[_0x2daeb4(0x141)]({'email':_0x5ce3e8['email']}),_0x172778=await master_shop[_0x2daeb4(0x143)](),_0x2a8682=await warehouse['aggregate']([{'$match':{'status':_0x2daeb4(0x145),'warehouse_category':'Finished\x20Goods'}},{'$group':{'_id':_0x2daeb4(0x13e),'name':{'$first':_0x2daeb4(0x13e)}}}]);if(_0x172778[0x0][_0x2daeb4(0x136)]=='English\x20(US)')var _0x4e1e7c=users[_0x2daeb4(0x157)];else{if(_0x172778[0x0][_0x2daeb4(0x136)]=='Hindi')var _0x4e1e7c=users[_0x2daeb4(0x129)];else{if(_0x172778[0x0][_0x2daeb4(0x136)]==_0x2daeb4(0x156))var _0x4e1e7c=users[_0x2daeb4(0x156)];else{if(_0x172778[0x0][_0x2daeb4(0x136)]==_0x2daeb4(0x13a))var _0x4e1e7c=users[_0x2daeb4(0x13a)];else{if(_0x172778[0x0][_0x2daeb4(0x136)]==_0x2daeb4(0x14b))var _0x4e1e7c=users['French'];else{if(_0x172778[0x0]['language']==_0x2daeb4(0x122))var _0x4e1e7c=users[_0x2daeb4(0x128)];else{if(_0x172778[0x0][_0x2daeb4(0x136)]==_0x2daeb4(0x151))var _0x4e1e7c=users['Chinese'];else{if(_0x172778[0x0][_0x2daeb4(0x136)]=='Arabic\x20(ae)')var _0x4e1e7c=users[_0x2daeb4(0x13f)];}}}}}}}_0x4066c3[_0x2daeb4(0x11d)](_0x2daeb4(0x121),{'success':_0x49652d['flash']('success'),'errors':_0x49652d['flash'](_0x2daeb4(0x139)),'role':_0x5ce3e8,'profile':_0x33d8b4,'master_shop':_0x172778,'dataProcess':_0x2a8682,'language':_0x4e1e7c});}catch(_0x5354b4){console['log'](_0x5354b4);}}),router[a0_0x36d95a(0x153)](a0_0x36d95a(0x152),auth,async(_0x44bce3,_0x26cb59)=>{var _0x4ad833=a0_0x36d95a;const {product_category:_0x999346,transaction_category:_0x4fe309,transaction_date_from:_0x51a724,transaction_date_to:_0x5f001e,warehouse_category:_0x2311d2,item_code:_0x331be3}=_0x44bce3[_0x4ad833(0x14d)];var _0x405304;if(_0x999346=='rm'){}else{if(_0x999346=='fg')switch(_0x4fe309){case'IC':_0x331be3['length']>0x0?_0x405304=await purchases_finished['aggregate']([{'$match':{'warehouse_name':_0x2311d2,'date':{'$gte':_0x51a724,'$lte':_0x5f001e}}},{'$unwind':_0x4ad833(0x154)},{'$match':{'$or':[{'product.product_code':_0x331be3}]}},{'$group':{'_id':_0x4ad833(0x120),'date':{'$first':_0x4ad833(0x131)},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':'$product'}}}]):_0x405304=await purchases_finished[_0x4ad833(0x146)]([{'$match':{'warehouse_name':_0x2311d2,'date':{'$gte':_0x51a724,'$lte':_0x5f001e}}},{'$unwind':_0x4ad833(0x154)},{'$group':{'_id':'$invoice','date':{'$first':'$date'},'warehouse_name':{'$first':_0x4ad833(0x127)},'products':{'$push':_0x4ad833(0x154)}}}]);break;case'OG':_0x331be3[_0x4ad833(0x11e)]>0x0?_0x405304=await sales_finished['aggregate']([{'$match':{'warehouse_name':_0x2311d2,'date':{'$gte':_0x51a724,'$lte':_0x5f001e}}},{'$unwind':_0x4ad833(0x126)},{'$match':{'$or':[{'sale_product.product_code':_0x331be3}]}},{'$group':{'_id':_0x4ad833(0x120),'date':{'$first':_0x4ad833(0x131)},'warehouse_name':{'$first':_0x4ad833(0x127)},'products':{'$push':'$sale_product'}}}]):_0x405304=await sales_finished[_0x4ad833(0x146)]([{'$match':{'warehouse_name':_0x2311d2,'date':{'$gte':_0x51a724,'$lte':_0x5f001e}}},{'$unwind':_0x4ad833(0x126)},{'$group':{'_id':_0x4ad833(0x120),'date':{'$first':'$date'},'warehouse_name':{'$first':_0x4ad833(0x127)},'products':{'$push':_0x4ad833(0x126)}}}]);break;case'AJ':break;case'TF':_0x405304=await transfers_finished[_0x4ad833(0x143)]({'warehouse':_0x2311d2,'date':{'$gte':_0x51a724,'$lte':_0x5f001e}});break;}}_0x26cb59[_0x4ad833(0x138)]({'data':_0x405304});}),router[a0_0x36d95a(0x14c)](a0_0x36d95a(0x135),auth,async(_0x5383d0,_0x2d3446)=>{var _0x591ade=a0_0x36d95a;try{const _0x310b6c=_0x5383d0['params']['id'];var _0x7219d1=await purchases_finished['findById'](_0x310b6c);const _0x42cf62=await master_shop[_0x591ade(0x143)](),_0x206830=_0x5383d0[_0x591ade(0x14a)],_0x1a3b7a=await profile[_0x591ade(0x141)]({'email':_0x206830[_0x591ade(0x14f)]});if(_0x42cf62[0x0][_0x591ade(0x136)]==_0x591ade(0x134))var _0x163494=users['English'];else{if(_0x42cf62[0x0][_0x591ade(0x136)]=='Hindi')var _0x163494=users[_0x591ade(0x129)];else{if(_0x42cf62[0x0][_0x591ade(0x136)]==_0x591ade(0x156))var _0x163494=users[_0x591ade(0x156)];else{if(_0x42cf62[0x0][_0x591ade(0x136)]==_0x591ade(0x13a))var _0x163494=users['Spanish'];else{if(_0x42cf62[0x0][_0x591ade(0x136)]=='French')var _0x163494=users[_0x591ade(0x14b)];else{if(_0x42cf62[0x0][_0x591ade(0x136)]=='Portuguese\x20(BR)')var _0x163494=users[_0x591ade(0x128)];else{if(_0x42cf62[0x0][_0x591ade(0x136)]=='Chinese')var _0x163494=users[_0x591ade(0x151)];else{if(_0x42cf62[0x0]['language']==_0x591ade(0x12e))var _0x163494=users[_0x591ade(0x13f)];}}}}}}}_0x2d3446[_0x591ade(0x11d)](_0x591ade(0x132),{'success':_0x5383d0['flash']('success'),'errors':_0x5383d0['flash'](_0x591ade(0x139)),'master_shop':_0x42cf62,'profile':_0x1a3b7a,'role':_0x206830,'language':_0x163494,'data':_0x7219d1});}catch(_0x364d97){_0x2d3446[_0x591ade(0x138)](_0x364d97);}}),router[a0_0x36d95a(0x14c)](a0_0x36d95a(0x13c),auth,async(_0x413e17,_0x36af45)=>{var _0x4cf7d7=a0_0x36d95a;try{const _0x4ab630=_0x413e17[_0x4cf7d7(0x12c)]['id'];var _0x1644b2=await sales_finished['findById'](_0x4ab630);const _0x12bf20=await master_shop[_0x4cf7d7(0x143)](),_0x166438=_0x413e17[_0x4cf7d7(0x14a)],_0x20f287=await profile[_0x4cf7d7(0x141)]({'email':_0x166438['email']});if(_0x12bf20[0x0][_0x4cf7d7(0x136)]=='English\x20(US)')var _0x2eb751=users['English'];else{if(_0x12bf20[0x0][_0x4cf7d7(0x136)]==_0x4cf7d7(0x129))var _0x2eb751=users[_0x4cf7d7(0x129)];else{if(_0x12bf20[0x0][_0x4cf7d7(0x136)]==_0x4cf7d7(0x156))var _0x2eb751=users[_0x4cf7d7(0x156)];else{if(_0x12bf20[0x0][_0x4cf7d7(0x136)]==_0x4cf7d7(0x13a))var _0x2eb751=users[_0x4cf7d7(0x13a)];else{if(_0x12bf20[0x0]['language']==_0x4cf7d7(0x14b))var _0x2eb751=users[_0x4cf7d7(0x14b)];else{if(_0x12bf20[0x0][_0x4cf7d7(0x136)]==_0x4cf7d7(0x122))var _0x2eb751=users[_0x4cf7d7(0x128)];else{if(_0x12bf20[0x0][_0x4cf7d7(0x136)]==_0x4cf7d7(0x151))var _0x2eb751=users['Chinese'];else{if(_0x12bf20[0x0][_0x4cf7d7(0x136)]==_0x4cf7d7(0x12e))var _0x2eb751=users[_0x4cf7d7(0x13f)];}}}}}}}_0x36af45['render'](_0x4cf7d7(0x12b),{'success':_0x413e17[_0x4cf7d7(0x13d)](_0x4cf7d7(0x133)),'errors':_0x413e17[_0x4cf7d7(0x13d)](_0x4cf7d7(0x139)),'master_shop':_0x12bf20,'profile':_0x20f287,'role':_0x166438,'language':_0x2eb751,'data':_0x1644b2});}catch(_0x51d5dd){_0x36af45[_0x4cf7d7(0x138)](_0x51d5dd);}}),router[a0_0x36d95a(0x14c)](a0_0x36d95a(0x11f),auth,async(_0x27968f,_0x2cc0d3)=>{var _0x371562=a0_0x36d95a;try{const _0x2f7901=_0x27968f[_0x371562(0x12c)]['id'];var _0x38561d=await transfers_finished[_0x371562(0x123)](_0x2f7901);const _0x396553=await master_shop['find'](),_0xed81fa=_0x27968f[_0x371562(0x14a)],_0x3719ab=await profile['findOne']({'email':_0xed81fa['email']});if(_0x396553[0x0][_0x371562(0x136)]==_0x371562(0x134))var _0x30f451=users[_0x371562(0x157)];else{if(_0x396553[0x0][_0x371562(0x136)]==_0x371562(0x129))var _0x30f451=users['Hindi'];else{if(_0x396553[0x0][_0x371562(0x136)]=='German')var _0x30f451=users['German'];else{if(_0x396553[0x0]['language']==_0x371562(0x13a))var _0x30f451=users[_0x371562(0x13a)];else{if(_0x396553[0x0][_0x371562(0x136)]==_0x371562(0x14b))var _0x30f451=users['French'];else{if(_0x396553[0x0][_0x371562(0x136)]=='Portuguese\x20(BR)')var _0x30f451=users[_0x371562(0x128)];else{if(_0x396553[0x0][_0x371562(0x136)]=='Chinese')var _0x30f451=users['Chinese'];else{if(_0x396553[0x0]['language']==_0x371562(0x12e))var _0x30f451=users[_0x371562(0x13f)];}}}}}}}_0x2cc0d3[_0x371562(0x11d)](_0x371562(0x12f),{'success':_0x27968f[_0x371562(0x13d)](_0x371562(0x133)),'errors':_0x27968f['flash'](_0x371562(0x139)),'master_shop':_0x396553,'profile':_0x3719ab,'role':_0xed81fa,'language':_0x30f451,'data':_0x38561d});}catch(_0x467993){_0x2cc0d3[_0x371562(0x138)](_0x467993);}}),module[a0_0x36d95a(0x149)]=router;