var a0_0x5cd64a=a0_0x1be6;(function(_0x1c3cf6,_0x18e6b4){var _0x5d522c=a0_0x1be6,_0x7e36f1=_0x1c3cf6();while(!![]){try{var _0x4f4a17=parseInt(_0x5d522c(0x8d))/0x1*(-parseInt(_0x5d522c(0x97))/0x2)+parseInt(_0x5d522c(0x76))/0x3*(-parseInt(_0x5d522c(0x78))/0x4)+parseInt(_0x5d522c(0x86))/0x5+-parseInt(_0x5d522c(0x96))/0x6+-parseInt(_0x5d522c(0x8b))/0x7+-parseInt(_0x5d522c(0xa1))/0x8*(-parseInt(_0x5d522c(0x82))/0x9)+parseInt(_0x5d522c(0x67))/0xa;if(_0x4f4a17===_0x18e6b4)break;else _0x7e36f1['push'](_0x7e36f1['shift']());}catch(_0x37accd){_0x7e36f1['push'](_0x7e36f1['shift']());}}}(a0_0x4384,0xcd5ee));function a0_0x4384(){var _0x5d1570=['log','Spanish','Hindi','3452073rnqcPG','/reports','4MIRFSs','aggregate','Portuguese\x20(BR)','$product','Enabled','view_og_table','Arabic','$sale_product','German','English','117DTTDyP','../middleware/auth','Router','$warehouse_name','333930UvAdHa','render','English\x20(US)','post','view_table','5413422yNCMVD','Chinese','1gvDPrS','Finished\x20Goods','../public/language/languages.json','language','find','length','email','French','findById','9837858wkaWZp','164086UVXfrJ','flash','json','body','nodemailer','view_tf_table','Portuguese','user','$invoice','$date','417896GHDplZ','37410540DHJNKE','transaction_finished','get','$name','express','../models/all_models','params','findOne','errors','/viewdata_inc_fg/:id','success','/view'];a0_0x4384=function(){return _0x5d1570;};return a0_0x4384();}function a0_0x1be6(_0x1a94ac,_0x18ffe2){var _0x438445=a0_0x4384();return a0_0x1be6=function(_0x1be6a3,_0xb209f0){_0x1be6a3=_0x1be6a3-0x67;var _0x157616=_0x438445[_0x1be6a3];return _0x157616;},a0_0x1be6(_0x1a94ac,_0x18ffe2);}const express=require(a0_0x5cd64a(0x6b)),app=express(),router=express[a0_0x5cd64a(0x84)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require(a0_0x5cd64a(0x6c)),auth=require(a0_0x5cd64a(0x83)),users=require(a0_0x5cd64a(0x8f)),nodemailer=require(a0_0x5cd64a(0x9b));router[a0_0x5cd64a(0x69)](a0_0x5cd64a(0x72),auth,async(_0x4ec320,_0x1fd4dc)=>{var _0x50acea=a0_0x5cd64a;try{const {username:_0x51e788,email:_0x1fde14,role:_0x28d549}=_0x4ec320[_0x50acea(0x9e)],_0x32025f=_0x4ec320[_0x50acea(0x9e)],_0x242d9c=await profile[_0x50acea(0x6e)]({'email':_0x32025f['email']}),_0x2005ac=await master_shop[_0x50acea(0x91)](),_0x4643a0=await warehouse[_0x50acea(0x79)]([{'$match':{'status':_0x50acea(0x7c),'warehouse_category':_0x50acea(0x8e)}},{'$group':{'_id':'$name','name':{'$first':_0x50acea(0x6a)}}}]);if(_0x2005ac[0x0][_0x50acea(0x90)]==_0x50acea(0x88))var _0x246acb=users['English'];else{if(_0x2005ac[0x0][_0x50acea(0x90)]==_0x50acea(0x75))var _0x246acb=users[_0x50acea(0x75)];else{if(_0x2005ac[0x0][_0x50acea(0x90)]==_0x50acea(0x80))var _0x246acb=users[_0x50acea(0x80)];else{if(_0x2005ac[0x0]['language']==_0x50acea(0x74))var _0x246acb=users[_0x50acea(0x74)];else{if(_0x2005ac[0x0][_0x50acea(0x90)]==_0x50acea(0x94))var _0x246acb=users[_0x50acea(0x94)];else{if(_0x2005ac[0x0]['language']==_0x50acea(0x7a))var _0x246acb=users[_0x50acea(0x9d)];else{if(_0x2005ac[0x0]['language']=='Chinese')var _0x246acb=users['Chinese'];else{if(_0x2005ac[0x0][_0x50acea(0x90)]=='Arabic\x20(ae)')var _0x246acb=users[_0x50acea(0x7e)];}}}}}}}_0x1fd4dc['render'](_0x50acea(0x68),{'success':_0x4ec320[_0x50acea(0x98)](_0x50acea(0x71)),'errors':_0x4ec320[_0x50acea(0x98)](_0x50acea(0x6f)),'role':_0x32025f,'profile':_0x242d9c,'master_shop':_0x2005ac,'dataProcess':_0x4643a0,'language':_0x246acb});}catch(_0x42da2a){console[_0x50acea(0x73)](_0x42da2a);}}),router[a0_0x5cd64a(0x89)](a0_0x5cd64a(0x77),auth,async(_0x5e14ef,_0x5e8e0d)=>{var _0x44bf71=a0_0x5cd64a;const {product_category:_0x388ea2,transaction_category:_0x3262d1,transaction_date_from:_0x1b817f,transaction_date_to:_0x440579,warehouse_category:_0x2abbf0,item_code:_0x3ae670}=_0x5e14ef[_0x44bf71(0x9a)];var _0x47ad50;if(_0x388ea2=='rm'){}else{if(_0x388ea2=='fg')switch(_0x3262d1){case'IC':_0x3ae670[_0x44bf71(0x92)]>0x0?_0x47ad50=await purchases_finished[_0x44bf71(0x79)]([{'$match':{'warehouse_name':_0x2abbf0,'date':{'$gte':_0x1b817f,'$lte':_0x440579}}},{'$unwind':_0x44bf71(0x7b)},{'$match':{'$or':[{'product.product_code':_0x3ae670}]}},{'$group':{'_id':_0x44bf71(0x9f),'date':{'$first':'$date'},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':_0x44bf71(0x7b)}}}]):_0x47ad50=await purchases_finished[_0x44bf71(0x79)]([{'$match':{'warehouse_name':_0x2abbf0,'date':{'$gte':_0x1b817f,'$lte':_0x440579}}},{'$unwind':_0x44bf71(0x7b)},{'$group':{'_id':_0x44bf71(0x9f),'date':{'$first':_0x44bf71(0xa0)},'warehouse_name':{'$first':_0x44bf71(0x85)},'products':{'$push':_0x44bf71(0x7b)}}}]);break;case'OG':_0x3ae670['length']>0x0?_0x47ad50=await sales_finished[_0x44bf71(0x79)]([{'$match':{'warehouse_name':_0x2abbf0,'date':{'$gte':_0x1b817f,'$lte':_0x440579}}},{'$unwind':'$sale_product'},{'$match':{'$or':[{'sale_product.product_code':_0x3ae670}]}},{'$group':{'_id':_0x44bf71(0x9f),'date':{'$first':'$date'},'warehouse_name':{'$first':_0x44bf71(0x85)},'products':{'$push':'$sale_product'}}}]):_0x47ad50=await sales_finished[_0x44bf71(0x79)]([{'$match':{'warehouse_name':_0x2abbf0,'date':{'$gte':_0x1b817f,'$lte':_0x440579}}},{'$unwind':_0x44bf71(0x7f)},{'$group':{'_id':_0x44bf71(0x9f),'date':{'$first':'$date'},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':_0x44bf71(0x7f)}}}]);break;case'AJ':break;case'TF':_0x47ad50=await transfers_finished['find']({'warehouse':_0x2abbf0,'date':{'$gte':_0x1b817f,'$lte':_0x440579}});break;}}_0x5e8e0d[_0x44bf71(0x99)]({'data':_0x47ad50});}),router[a0_0x5cd64a(0x69)](a0_0x5cd64a(0x70),auth,async(_0x6b0dae,_0xe66c11)=>{var _0x16731f=a0_0x5cd64a;try{const _0x8584d4=_0x6b0dae[_0x16731f(0x6d)]['id'];var _0x56953f=await purchases_finished['findById'](_0x8584d4);const _0x38fff=await master_shop[_0x16731f(0x91)](),_0x2911a9=_0x6b0dae['user'],_0x23775c=await profile[_0x16731f(0x6e)]({'email':_0x2911a9[_0x16731f(0x93)]});if(_0x38fff[0x0][_0x16731f(0x90)]==_0x16731f(0x88))var _0x58b4de=users[_0x16731f(0x81)];else{if(_0x38fff[0x0][_0x16731f(0x90)]=='Hindi')var _0x58b4de=users['Hindi'];else{if(_0x38fff[0x0][_0x16731f(0x90)]=='German')var _0x58b4de=users[_0x16731f(0x80)];else{if(_0x38fff[0x0][_0x16731f(0x90)]=='Spanish')var _0x58b4de=users[_0x16731f(0x74)];else{if(_0x38fff[0x0][_0x16731f(0x90)]==_0x16731f(0x94))var _0x58b4de=users['French'];else{if(_0x38fff[0x0][_0x16731f(0x90)]==_0x16731f(0x7a))var _0x58b4de=users[_0x16731f(0x9d)];else{if(_0x38fff[0x0][_0x16731f(0x90)]==_0x16731f(0x8c))var _0x58b4de=users[_0x16731f(0x8c)];else{if(_0x38fff[0x0][_0x16731f(0x90)]=='Arabic\x20(ae)')var _0x58b4de=users['Arabic'];}}}}}}}_0xe66c11[_0x16731f(0x87)](_0x16731f(0x8a),{'success':_0x6b0dae[_0x16731f(0x98)](_0x16731f(0x71)),'errors':_0x6b0dae[_0x16731f(0x98)](_0x16731f(0x6f)),'master_shop':_0x38fff,'profile':_0x23775c,'role':_0x2911a9,'language':_0x58b4de,'data':_0x56953f});}catch(_0x441d59){_0xe66c11['json'](_0x441d59);}}),router[a0_0x5cd64a(0x69)]('/viewdata_og_fg/:id',auth,async(_0xb89fe6,_0x484833)=>{var _0x453ee6=a0_0x5cd64a;try{const _0x5011f0=_0xb89fe6[_0x453ee6(0x6d)]['id'];var _0x1cb193=await sales_finished[_0x453ee6(0x95)](_0x5011f0);const _0x29456e=await master_shop[_0x453ee6(0x91)](),_0x267b2a=_0xb89fe6[_0x453ee6(0x9e)],_0x25c81=await profile[_0x453ee6(0x6e)]({'email':_0x267b2a['email']});if(_0x29456e[0x0]['language']=='English\x20(US)')var _0x3958f8=users[_0x453ee6(0x81)];else{if(_0x29456e[0x0][_0x453ee6(0x90)]==_0x453ee6(0x75))var _0x3958f8=users[_0x453ee6(0x75)];else{if(_0x29456e[0x0][_0x453ee6(0x90)]==_0x453ee6(0x80))var _0x3958f8=users['German'];else{if(_0x29456e[0x0][_0x453ee6(0x90)]==_0x453ee6(0x74))var _0x3958f8=users[_0x453ee6(0x74)];else{if(_0x29456e[0x0]['language']=='French')var _0x3958f8=users[_0x453ee6(0x94)];else{if(_0x29456e[0x0][_0x453ee6(0x90)]==_0x453ee6(0x7a))var _0x3958f8=users[_0x453ee6(0x9d)];else{if(_0x29456e[0x0][_0x453ee6(0x90)]==_0x453ee6(0x8c))var _0x3958f8=users[_0x453ee6(0x8c)];else{if(_0x29456e[0x0][_0x453ee6(0x90)]=='Arabic\x20(ae)')var _0x3958f8=users[_0x453ee6(0x7e)];}}}}}}}_0x484833[_0x453ee6(0x87)](_0x453ee6(0x7d),{'success':_0xb89fe6[_0x453ee6(0x98)](_0x453ee6(0x71)),'errors':_0xb89fe6[_0x453ee6(0x98)](_0x453ee6(0x6f)),'master_shop':_0x29456e,'profile':_0x25c81,'role':_0x267b2a,'language':_0x3958f8,'data':_0x1cb193});}catch(_0x7be27c){_0x484833[_0x453ee6(0x99)](_0x7be27c);}}),router[a0_0x5cd64a(0x69)]('/viewdata_tf_fg/:id',auth,async(_0x305d92,_0x414680)=>{var _0xe8f261=a0_0x5cd64a;try{const _0x55dc2e=_0x305d92[_0xe8f261(0x6d)]['id'];var _0x3c9d7b=await transfers_finished[_0xe8f261(0x95)](_0x55dc2e);const _0x1d106b=await master_shop[_0xe8f261(0x91)](),_0x3240cc=_0x305d92[_0xe8f261(0x9e)],_0x205e4d=await profile['findOne']({'email':_0x3240cc['email']});if(_0x1d106b[0x0][_0xe8f261(0x90)]==_0xe8f261(0x88))var _0xce1b75=users[_0xe8f261(0x81)];else{if(_0x1d106b[0x0][_0xe8f261(0x90)]==_0xe8f261(0x75))var _0xce1b75=users[_0xe8f261(0x75)];else{if(_0x1d106b[0x0]['language']==_0xe8f261(0x80))var _0xce1b75=users[_0xe8f261(0x80)];else{if(_0x1d106b[0x0][_0xe8f261(0x90)]=='Spanish')var _0xce1b75=users[_0xe8f261(0x74)];else{if(_0x1d106b[0x0][_0xe8f261(0x90)]=='French')var _0xce1b75=users['French'];else{if(_0x1d106b[0x0][_0xe8f261(0x90)]==_0xe8f261(0x7a))var _0xce1b75=users[_0xe8f261(0x9d)];else{if(_0x1d106b[0x0][_0xe8f261(0x90)]=='Chinese')var _0xce1b75=users['Chinese'];else{if(_0x1d106b[0x0][_0xe8f261(0x90)]=='Arabic\x20(ae)')var _0xce1b75=users[_0xe8f261(0x7e)];}}}}}}}_0x414680[_0xe8f261(0x87)](_0xe8f261(0x9c),{'success':_0x305d92[_0xe8f261(0x98)]('success'),'errors':_0x305d92[_0xe8f261(0x98)](_0xe8f261(0x6f)),'master_shop':_0x1d106b,'profile':_0x205e4d,'role':_0x3240cc,'language':_0xce1b75,'data':_0x3c9d7b});}catch(_0x49e89f){_0x414680[_0xe8f261(0x99)](_0x49e89f);}}),module['exports']=router;