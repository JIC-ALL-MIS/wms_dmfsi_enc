function a0_0xa13a(_0x13b59d,_0x2c64d7){var _0x5e4a9a=a0_0x5e4a();return a0_0xa13a=function(_0xa13a75,_0x25d0ec){_0xa13a75=_0xa13a75-0x1d8;var _0x5b2388=_0x5e4a9a[_0xa13a75];return _0x5b2388;},a0_0xa13a(_0x13b59d,_0x2c64d7);}var a0_0x425dbe=a0_0xa13a;(function(_0xda65c9,_0x40be11){var _0x3c19c5=a0_0xa13a,_0x2898aa=_0xda65c9();while(!![]){try{var _0x46362c=parseInt(_0x3c19c5(0x1de))/0x1*(-parseInt(_0x3c19c5(0x203))/0x2)+-parseInt(_0x3c19c5(0x1e4))/0x3*(-parseInt(_0x3c19c5(0x1ef))/0x4)+-parseInt(_0x3c19c5(0x215))/0x5+parseInt(_0x3c19c5(0x1f8))/0x6*(parseInt(_0x3c19c5(0x1f7))/0x7)+parseInt(_0x3c19c5(0x1ed))/0x8*(-parseInt(_0x3c19c5(0x1e5))/0x9)+-parseInt(_0x3c19c5(0x1ee))/0xa+parseInt(_0x3c19c5(0x1df))/0xb;if(_0x46362c===_0x40be11)break;else _0x2898aa['push'](_0x2898aa['shift']());}catch(_0x32d6b0){_0x2898aa['push'](_0x2898aa['shift']());}}}(a0_0x5e4a,0x3aedb));function a0_0x5e4a(){var _0x50b2b1=['errors','language','$date','$product','view_table','Chinese','/reports','flash','434790mNVWln','$sale_product','../middleware/auth','Arabic','/viewdata_inc_fg/:id','/viewdata_tf_fg/:id','English','post','89VxEasj','7233226FkbRXQ','../models/all_models','$name','Hindi','French','669687aezrBH','63xGqOaO','aggregate','express','German','body','transaction_finished','exports','Arabic\x20(ae)','298120WfLGmF','4321930NpcJjW','4xxWlrH','user','log','findOne','English\x20(US)','email','Portuguese\x20(BR)','json','530369xzecnS','30hjtDpL','$warehouse_name','Portuguese','find','success','params','length','transaction_finished_raw','$invoice','findById','render','5354xfjegx','view_og_table','nodemailer','Finished\x20Goods','view_tf_table','Spanish','get','Enabled','Router','$from_warehouse'];a0_0x5e4a=function(){return _0x50b2b1;};return a0_0x5e4a();}const express=require(a0_0x425dbe(0x1e7)),app=express(),router=express[a0_0x425dbe(0x20b)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require(a0_0x425dbe(0x1e0)),auth=require(a0_0x425dbe(0x1d8)),users=require('../public/language/languages.json'),nodemailer=require(a0_0x425dbe(0x205));router[a0_0x425dbe(0x209)]('/view',auth,async(_0x480c2c,_0x14d0a8)=>{var _0x537148=a0_0x425dbe;try{const {username:_0x120e64,email:_0x5022d7,role:_0x59f347}=_0x480c2c[_0x537148(0x1f0)],_0x491abd=_0x480c2c[_0x537148(0x1f0)],_0x4c6b84=await profile[_0x537148(0x1f2)]({'email':_0x491abd[_0x537148(0x1f4)]}),_0xbb85e6=await master_shop[_0x537148(0x1fb)](),_0x307d69=await warehouse[_0x537148(0x1e6)]([{'$match':{'status':_0x537148(0x20a),'warehouse_category':_0x537148(0x206)}},{'$group':{'_id':_0x537148(0x1e1),'name':{'$first':_0x537148(0x1e1)}}}]);if(_0xbb85e6[0x0][_0x537148(0x20e)]==_0x537148(0x1f3))var _0xacf2eb=users[_0x537148(0x1dc)];else{if(_0xbb85e6[0x0][_0x537148(0x20e)]=='Hindi')var _0xacf2eb=users[_0x537148(0x1e2)];else{if(_0xbb85e6[0x0][_0x537148(0x20e)]=='German')var _0xacf2eb=users[_0x537148(0x1e8)];else{if(_0xbb85e6[0x0][_0x537148(0x20e)]=='Spanish')var _0xacf2eb=users[_0x537148(0x208)];else{if(_0xbb85e6[0x0]['language']==_0x537148(0x1e3))var _0xacf2eb=users[_0x537148(0x1e3)];else{if(_0xbb85e6[0x0][_0x537148(0x20e)]==_0x537148(0x1f5))var _0xacf2eb=users[_0x537148(0x1fa)];else{if(_0xbb85e6[0x0][_0x537148(0x20e)]==_0x537148(0x212))var _0xacf2eb=users['Chinese'];else{if(_0xbb85e6[0x0][_0x537148(0x20e)]==_0x537148(0x1ec))var _0xacf2eb=users['Arabic'];}}}}}}}_0x14d0a8[_0x537148(0x202)](_0x537148(0x1ea),{'success':_0x480c2c[_0x537148(0x214)](_0x537148(0x1fc)),'errors':_0x480c2c[_0x537148(0x214)]('errors'),'role':_0x491abd,'profile':_0x4c6b84,'master_shop':_0xbb85e6,'dataProcess':_0x307d69,'language':_0xacf2eb});}catch(_0x578d0a){console[_0x537148(0x1f1)](_0x578d0a);}}),router[a0_0x425dbe(0x1dd)](a0_0x425dbe(0x213),auth,async(_0x22a91f,_0x4a7c8f)=>{var _0x3f3a7f=a0_0x425dbe;const {product_category:_0xe282d5,transaction_category:_0x396e72,transaction_date_from:_0x3689f3,transaction_date_to:_0x28a655,warehouse_category:_0x413f79,item_code:_0x567e63}=_0x22a91f[_0x3f3a7f(0x1e9)];var _0x315b2b;if(_0xe282d5=='rm')switch(_0x396e72){case'IC':_0x567e63['length']>0x0?_0x315b2b=await purchases[_0x3f3a7f(0x1e6)]([{'$match':{'warehouse_name':_0x413f79,'date':{'$gte':_0x3689f3,'$lte':_0x28a655}}},{'$unwind':_0x3f3a7f(0x210)},{'$match':{'$or':[{'product.product_code':_0x567e63}]}},{'$group':{'_id':_0x3f3a7f(0x200),'date':{'$first':_0x3f3a7f(0x20f)},'warehouse_name':{'$first':_0x3f3a7f(0x1f9)},'products':{'$push':_0x3f3a7f(0x210)}}}]):_0x315b2b=await purchases[_0x3f3a7f(0x1e6)]([{'$match':{'warehouse_name':_0x413f79,'date':{'$gte':_0x3689f3,'$lte':_0x28a655}}},{'$unwind':_0x3f3a7f(0x210)},{'$group':{'_id':_0x3f3a7f(0x200),'date':{'$first':_0x3f3a7f(0x20f)},'warehouse_name':{'$first':_0x3f3a7f(0x1f9)},'products':{'$push':_0x3f3a7f(0x210)}}}]);break;case'OG':_0x567e63[_0x3f3a7f(0x1fe)]>0x0?_0x315b2b=await sales[_0x3f3a7f(0x1e6)]([{'$match':{'warehouse_name':_0x413f79,'date':{'$gte':_0x3689f3,'$lte':_0x28a655}}},{'$unwind':_0x3f3a7f(0x216)},{'$match':{'$or':[{'sale_product.product_code':_0x567e63}]}},{'$group':{'_id':_0x3f3a7f(0x200),'date':{'$first':'$date'},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':'$sale_product'}}}]):_0x315b2b=await sales['aggregate']([{'$match':{'warehouse_name':_0x413f79,'date':{'$gte':_0x3689f3,'$lte':_0x28a655}}},{'$unwind':_0x3f3a7f(0x216)},{'$group':{'_id':'$invoice','date':{'$first':'$date'},'warehouse_name':{'$first':_0x3f3a7f(0x1f9)},'products':{'$push':_0x3f3a7f(0x216)}}}]);break;case'AJ':break;case'TF':_0x567e63['length']>0x0?_0x315b2b=await transfers['aggregate']([{'$match':{'from_warehouse':_0x413f79,'date':{'$gte':_0x3689f3,'$lte':_0x28a655}}},{'$unwind':_0x3f3a7f(0x210)},{'$match':{'$or':[{'product.product_code':_0x567e63}]}},{'$group':{'_id':_0x3f3a7f(0x200),'date':{'$first':_0x3f3a7f(0x20f)},'warehouse_name':{'$first':_0x3f3a7f(0x20c)},'products':{'$push':'$product'}}}]):_0x315b2b=await transfers[_0x3f3a7f(0x1e6)]([{'$match':{'from_warehouse':_0x413f79,'date':{'$gte':_0x3689f3,'$lte':_0x28a655}}},{'$unwind':'$product'},{'$group':{'_id':_0x3f3a7f(0x200),'date':{'$first':_0x3f3a7f(0x20f)},'warehouse_name':{'$first':'$from_warehouse'},'products':{'$push':_0x3f3a7f(0x210)}}}]);break;}else{if(_0xe282d5=='fg')switch(_0x396e72){case'IC':_0x567e63['length']>0x0?_0x315b2b=await purchases_finished['aggregate']([{'$match':{'warehouse_name':_0x413f79,'date':{'$gte':_0x3689f3,'$lte':_0x28a655}}},{'$unwind':'$product'},{'$match':{'$or':[{'product.product_code':_0x567e63}]}},{'$group':{'_id':_0x3f3a7f(0x200),'date':{'$first':_0x3f3a7f(0x20f)},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':_0x3f3a7f(0x210)}}}]):_0x315b2b=await purchases_finished[_0x3f3a7f(0x1e6)]([{'$match':{'warehouse_name':_0x413f79,'date':{'$gte':_0x3689f3,'$lte':_0x28a655}}},{'$unwind':'$product'},{'$group':{'_id':_0x3f3a7f(0x200),'date':{'$first':_0x3f3a7f(0x20f)},'warehouse_name':{'$first':_0x3f3a7f(0x1f9)},'products':{'$push':_0x3f3a7f(0x210)}}}]);break;case'OG':_0x567e63[_0x3f3a7f(0x1fe)]>0x0?_0x315b2b=await sales_finished['aggregate']([{'$match':{'warehouse_name':_0x413f79,'date':{'$gte':_0x3689f3,'$lte':_0x28a655}}},{'$unwind':'$sale_product'},{'$match':{'$or':[{'sale_product.product_code':_0x567e63}]}},{'$group':{'_id':_0x3f3a7f(0x200),'date':{'$first':_0x3f3a7f(0x20f)},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':_0x3f3a7f(0x216)}}}]):_0x315b2b=await sales_finished[_0x3f3a7f(0x1e6)]([{'$match':{'warehouse_name':_0x413f79,'date':{'$gte':_0x3689f3,'$lte':_0x28a655}}},{'$unwind':_0x3f3a7f(0x216)},{'$group':{'_id':_0x3f3a7f(0x200),'date':{'$first':_0x3f3a7f(0x20f)},'warehouse_name':{'$first':_0x3f3a7f(0x1f9)},'products':{'$push':'$sale_product'}}}]);break;case'AJ':break;case'TF':_0x315b2b=await transfers_finished[_0x3f3a7f(0x1fb)]({'warehouse':_0x413f79,'date':{'$gte':_0x3689f3,'$lte':_0x28a655}});break;}}_0x4a7c8f[_0x3f3a7f(0x1f6)]({'data':_0x315b2b});}),router['get'](a0_0x425dbe(0x1da),auth,async(_0x48964c,_0x33d79b)=>{var _0x405467=a0_0x425dbe;try{const _0x24bf5e=_0x48964c[_0x405467(0x1fd)]['id'];var _0x4784ad=await purchases_finished[_0x405467(0x201)](_0x24bf5e);const _0x4bec62=await master_shop['find'](),_0x369205=_0x48964c['user'],_0x2efc7e=await profile[_0x405467(0x1f2)]({'email':_0x369205[_0x405467(0x1f4)]});if(_0x4bec62[0x0][_0x405467(0x20e)]==_0x405467(0x1f3))var _0x1ce77a=users[_0x405467(0x1dc)];else{if(_0x4bec62[0x0]['language']==_0x405467(0x1e2))var _0x1ce77a=users['Hindi'];else{if(_0x4bec62[0x0][_0x405467(0x20e)]=='German')var _0x1ce77a=users['German'];else{if(_0x4bec62[0x0][_0x405467(0x20e)]==_0x405467(0x208))var _0x1ce77a=users['Spanish'];else{if(_0x4bec62[0x0][_0x405467(0x20e)]=='French')var _0x1ce77a=users[_0x405467(0x1e3)];else{if(_0x4bec62[0x0][_0x405467(0x20e)]==_0x405467(0x1f5))var _0x1ce77a=users[_0x405467(0x1fa)];else{if(_0x4bec62[0x0]['language']=='Chinese')var _0x1ce77a=users['Chinese'];else{if(_0x4bec62[0x0][_0x405467(0x20e)]==_0x405467(0x1ec))var _0x1ce77a=users[_0x405467(0x1d9)];}}}}}}}_0x33d79b[_0x405467(0x202)](_0x405467(0x211),{'success':_0x48964c[_0x405467(0x214)](_0x405467(0x1fc)),'errors':_0x48964c[_0x405467(0x214)](_0x405467(0x20d)),'master_shop':_0x4bec62,'profile':_0x2efc7e,'role':_0x369205,'language':_0x1ce77a,'data':_0x4784ad});}catch(_0x4fd9cc){_0x33d79b[_0x405467(0x1f6)](_0x4fd9cc);}}),router[a0_0x425dbe(0x209)]('/viewdata_og_fg/:id',auth,async(_0xbc270,_0x56158e)=>{var _0x299781=a0_0x425dbe;try{const _0x19fdd6=_0xbc270['params']['id'];var _0x4f4600=await sales_finished[_0x299781(0x201)](_0x19fdd6);const _0x3e486e=await master_shop[_0x299781(0x1fb)](),_0x439a58=_0xbc270[_0x299781(0x1f0)],_0xe103a4=await profile['findOne']({'email':_0x439a58['email']});if(_0x3e486e[0x0][_0x299781(0x20e)]==_0x299781(0x1f3))var _0x33f392=users[_0x299781(0x1dc)];else{if(_0x3e486e[0x0][_0x299781(0x20e)]==_0x299781(0x1e2))var _0x33f392=users[_0x299781(0x1e2)];else{if(_0x3e486e[0x0][_0x299781(0x20e)]==_0x299781(0x1e8))var _0x33f392=users[_0x299781(0x1e8)];else{if(_0x3e486e[0x0][_0x299781(0x20e)]==_0x299781(0x208))var _0x33f392=users[_0x299781(0x208)];else{if(_0x3e486e[0x0][_0x299781(0x20e)]==_0x299781(0x1e3))var _0x33f392=users[_0x299781(0x1e3)];else{if(_0x3e486e[0x0][_0x299781(0x20e)]==_0x299781(0x1f5))var _0x33f392=users['Portuguese'];else{if(_0x3e486e[0x0][_0x299781(0x20e)]==_0x299781(0x212))var _0x33f392=users[_0x299781(0x212)];else{if(_0x3e486e[0x0]['language']==_0x299781(0x1ec))var _0x33f392=users['Arabic'];}}}}}}}_0x56158e['render'](_0x299781(0x204),{'success':_0xbc270[_0x299781(0x214)](_0x299781(0x1fc)),'errors':_0xbc270[_0x299781(0x214)](_0x299781(0x20d)),'master_shop':_0x3e486e,'profile':_0xe103a4,'role':_0x439a58,'language':_0x33f392,'data':_0x4f4600});}catch(_0x5c7c5e){_0x56158e['json'](_0x5c7c5e);}}),router[a0_0x425dbe(0x209)](a0_0x425dbe(0x1db),auth,async(_0x7ee811,_0x4cf71f)=>{var _0x4fb983=a0_0x425dbe;try{const _0x3df814=_0x7ee811[_0x4fb983(0x1fd)]['id'];var _0x26cc65=await transfers_finished[_0x4fb983(0x201)](_0x3df814);const _0x4401fa=await master_shop[_0x4fb983(0x1fb)](),_0x4094ad=_0x7ee811['user'],_0x21a2df=await profile[_0x4fb983(0x1f2)]({'email':_0x4094ad[_0x4fb983(0x1f4)]});if(_0x4401fa[0x0][_0x4fb983(0x20e)]==_0x4fb983(0x1f3))var _0x9035d4=users['English'];else{if(_0x4401fa[0x0][_0x4fb983(0x20e)]==_0x4fb983(0x1e2))var _0x9035d4=users[_0x4fb983(0x1e2)];else{if(_0x4401fa[0x0]['language']==_0x4fb983(0x1e8))var _0x9035d4=users[_0x4fb983(0x1e8)];else{if(_0x4401fa[0x0][_0x4fb983(0x20e)]==_0x4fb983(0x208))var _0x9035d4=users[_0x4fb983(0x208)];else{if(_0x4401fa[0x0]['language']=='French')var _0x9035d4=users[_0x4fb983(0x1e3)];else{if(_0x4401fa[0x0]['language']=='Portuguese\x20(BR)')var _0x9035d4=users[_0x4fb983(0x1fa)];else{if(_0x4401fa[0x0][_0x4fb983(0x20e)]=='Chinese')var _0x9035d4=users[_0x4fb983(0x212)];else{if(_0x4401fa[0x0][_0x4fb983(0x20e)]==_0x4fb983(0x1ec))var _0x9035d4=users[_0x4fb983(0x1d9)];}}}}}}}_0x4cf71f[_0x4fb983(0x202)](_0x4fb983(0x207),{'success':_0x7ee811['flash']('success'),'errors':_0x7ee811['flash'](_0x4fb983(0x20d)),'master_shop':_0x4401fa,'profile':_0x21a2df,'role':_0x4094ad,'language':_0x9035d4,'data':_0x26cc65});}catch(_0x243a54){_0x4cf71f[_0x4fb983(0x1f6)](_0x243a54);}}),router[a0_0x425dbe(0x209)]('/viewFG',auth,async(_0xccd8b8,_0x3fff84)=>{var _0x395525=a0_0x425dbe;try{const {username:_0x35fb5c,email:_0x3cfff6,role:_0x4b842b}=_0xccd8b8[_0x395525(0x1f0)],_0x9d6384=_0xccd8b8['user'],_0x58be99=await profile[_0x395525(0x1f2)]({'email':_0x9d6384['email']}),_0x3ac668=await master_shop[_0x395525(0x1fb)](),_0x14207f=await warehouse[_0x395525(0x1e6)]([{'$match':{'status':_0x395525(0x20a),'warehouse_category':'Raw\x20Materials'}},{'$group':{'_id':_0x395525(0x1e1),'name':{'$first':_0x395525(0x1e1)}}}]);if(_0x3ac668[0x0][_0x395525(0x20e)]==_0x395525(0x1f3))var _0x2a55c9=users[_0x395525(0x1dc)];else{if(_0x3ac668[0x0][_0x395525(0x20e)]==_0x395525(0x1e2))var _0x2a55c9=users[_0x395525(0x1e2)];else{if(_0x3ac668[0x0][_0x395525(0x20e)]==_0x395525(0x1e8))var _0x2a55c9=users[_0x395525(0x1e8)];else{if(_0x3ac668[0x0][_0x395525(0x20e)]==_0x395525(0x208))var _0x2a55c9=users[_0x395525(0x208)];else{if(_0x3ac668[0x0][_0x395525(0x20e)]=='French')var _0x2a55c9=users[_0x395525(0x1e3)];else{if(_0x3ac668[0x0][_0x395525(0x20e)]=='Portuguese\x20(BR)')var _0x2a55c9=users[_0x395525(0x1fa)];else{if(_0x3ac668[0x0][_0x395525(0x20e)]==_0x395525(0x212))var _0x2a55c9=users['Chinese'];else{if(_0x3ac668[0x0][_0x395525(0x20e)]==_0x395525(0x1ec))var _0x2a55c9=users[_0x395525(0x1d9)];}}}}}}}_0x3fff84['render'](_0x395525(0x1ff),{'success':_0xccd8b8[_0x395525(0x214)](_0x395525(0x1fc)),'errors':_0xccd8b8[_0x395525(0x214)](_0x395525(0x20d)),'role':_0x9d6384,'profile':_0x58be99,'master_shop':_0x3ac668,'dataProcess':_0x14207f,'language':_0x2a55c9});}catch(_0x404a89){console[_0x395525(0x1f1)](_0x404a89);}}),module[a0_0x425dbe(0x1eb)]=router;