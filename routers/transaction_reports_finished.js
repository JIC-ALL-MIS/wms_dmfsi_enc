var a0_0x54bbf3=a0_0x57d0;(function(_0x51d5cf,_0x551277){var _0x1be982=a0_0x57d0,_0x4af05c=_0x51d5cf();while(!![]){try{var _0x217880=-parseInt(_0x1be982(0xe1))/0x1*(parseInt(_0x1be982(0x11a))/0x2)+parseInt(_0x1be982(0xf9))/0x3*(parseInt(_0x1be982(0xe8))/0x4)+-parseInt(_0x1be982(0x101))/0x5*(-parseInt(_0x1be982(0xf6))/0x6)+parseInt(_0x1be982(0xfd))/0x7+-parseInt(_0x1be982(0xf2))/0x8+parseInt(_0x1be982(0x117))/0x9*(-parseInt(_0x1be982(0x10c))/0xa)+-parseInt(_0x1be982(0x118))/0xb*(-parseInt(_0x1be982(0xe4))/0xc);if(_0x217880===_0x551277)break;else _0x4af05c['push'](_0x4af05c['shift']());}catch(_0x23b545){_0x4af05c['push'](_0x4af05c['shift']());}}}(a0_0x15c6,0x4c665));function a0_0x57d0(_0x2a5f01,_0x1be02d){var _0x15c6b0=a0_0x15c6();return a0_0x57d0=function(_0x57d03b,_0x3e2c41){_0x57d03b=_0x57d03b-0xe1;var _0x551486=_0x15c6b0[_0x57d03b];return _0x551486;},a0_0x57d0(_0x2a5f01,_0x1be02d);}function a0_0x15c6(){var _0x42fcbc=['find','Finished\x20Goods','270VHIwJX','/viewdata_inc_fg/:id','flash','919146fFzwtp','render','/view','view_og_table','2464553xWZcbA','view_tf_table','json','Portuguese\x20(BR)','16730gHbAqS','English\x20(US)','nodemailer','/viewdata_og_fg/:id','$warehouse_name','French','success','errors','$invoice','../public/language/languages.json','Enabled','512520ESmzuE','$date','$sale_product','Chinese','view_table','/reports','Portuguese','log','language','Arabic','findById','45QRCEPa','5665imdtnx','aggregate','289972RcJvxf','body','get','3LXpqLB','$product','express','9780wcXOqV','English','Arabic\x20(ae)','post','8VOApDC','../models/all_models','length','../middleware/auth','Hindi','findOne','email','params','user','Spanish','4247896qkUCUR','German'];a0_0x15c6=function(){return _0x42fcbc;};return a0_0x15c6();}const express=require(a0_0x54bbf3(0xe3)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require(a0_0x54bbf3(0xe9)),auth=require(a0_0x54bbf3(0xeb)),users=require(a0_0x54bbf3(0x10a)),nodemailer=require(a0_0x54bbf3(0x103));router[a0_0x54bbf3(0x11c)](a0_0x54bbf3(0xfb),auth,async(_0x32ab24,_0x1b15c3)=>{var _0x4bf93d=a0_0x54bbf3;try{const {username:_0x28e625,email:_0x30df0b,role:_0x212f2e}=_0x32ab24[_0x4bf93d(0xf0)],_0x593682=_0x32ab24[_0x4bf93d(0xf0)],_0x44699f=await profile[_0x4bf93d(0xed)]({'email':_0x593682[_0x4bf93d(0xee)]}),_0x2909fd=await master_shop[_0x4bf93d(0xf4)](),_0x5af055=await warehouse['aggregate']([{'$match':{'status':_0x4bf93d(0x10b),'warehouse_category':_0x4bf93d(0xf5)}},{'$group':{'_id':'$name','name':{'$first':'$name'}}}]);if(_0x2909fd[0x0][_0x4bf93d(0x114)]==_0x4bf93d(0x102))var _0x434f94=users[_0x4bf93d(0xe5)];else{if(_0x2909fd[0x0][_0x4bf93d(0x114)]=='Hindi')var _0x434f94=users['Hindi'];else{if(_0x2909fd[0x0]['language']==_0x4bf93d(0xf3))var _0x434f94=users['German'];else{if(_0x2909fd[0x0][_0x4bf93d(0x114)]==_0x4bf93d(0xf1))var _0x434f94=users[_0x4bf93d(0xf1)];else{if(_0x2909fd[0x0]['language']=='French')var _0x434f94=users['French'];else{if(_0x2909fd[0x0][_0x4bf93d(0x114)]=='Portuguese\x20(BR)')var _0x434f94=users[_0x4bf93d(0x112)];else{if(_0x2909fd[0x0][_0x4bf93d(0x114)]=='Chinese')var _0x434f94=users[_0x4bf93d(0x10f)];else{if(_0x2909fd[0x0][_0x4bf93d(0x114)]=='Arabic\x20(ae)')var _0x434f94=users['Arabic'];}}}}}}}_0x1b15c3['render']('transaction_finished',{'success':_0x32ab24['flash'](_0x4bf93d(0x107)),'errors':_0x32ab24[_0x4bf93d(0xf8)]('errors'),'role':_0x593682,'profile':_0x44699f,'master_shop':_0x2909fd,'dataProcess':_0x5af055,'language':_0x434f94});}catch(_0xfbf7ce){console[_0x4bf93d(0x113)](_0xfbf7ce);}}),router[a0_0x54bbf3(0xe7)](a0_0x54bbf3(0x111),auth,async(_0x1c7ac5,_0x4572a4)=>{var _0x3bd72a=a0_0x54bbf3;const {product_category:_0x459636,transaction_category:_0x24e129,transaction_date_from:_0x4a13db,transaction_date_to:_0x2cbc44,warehouse_category:_0x4014c9,item_code:_0x58244e}=_0x1c7ac5[_0x3bd72a(0x11b)];var _0xf0e03e;if(_0x459636=='rm'){}else{if(_0x459636=='fg')switch(_0x24e129){case'IC':_0x58244e[_0x3bd72a(0xea)]>0x0?_0xf0e03e=await purchases_finished[_0x3bd72a(0x119)]([{'$match':{'warehouse_name':_0x4014c9,'date':{'$gte':_0x4a13db,'$lte':_0x2cbc44}}},{'$unwind':_0x3bd72a(0xe2)},{'$match':{'$or':[{'product.product_code':_0x58244e}]}},{'$group':{'_id':_0x3bd72a(0x109),'date':{'$first':'$date'},'warehouse_name':{'$first':_0x3bd72a(0x105)},'products':{'$push':_0x3bd72a(0xe2)}}}]):_0xf0e03e=await purchases_finished['aggregate']([{'$match':{'warehouse_name':_0x4014c9,'date':{'$gte':_0x4a13db,'$lte':_0x2cbc44}}},{'$unwind':_0x3bd72a(0xe2)},{'$group':{'_id':_0x3bd72a(0x109),'date':{'$first':_0x3bd72a(0x10d)},'warehouse_name':{'$first':_0x3bd72a(0x105)},'products':{'$push':_0x3bd72a(0xe2)}}}]);break;case'OG':_0x58244e['length']>0x0?_0xf0e03e=await sales_finished[_0x3bd72a(0x119)]([{'$match':{'warehouse_name':_0x4014c9,'date':{'$gte':_0x4a13db,'$lte':_0x2cbc44}}},{'$unwind':'$sale_product'},{'$match':{'$or':[{'sale_product.product_code':_0x58244e}]}},{'$group':{'_id':_0x3bd72a(0x109),'date':{'$first':_0x3bd72a(0x10d)},'warehouse_name':{'$first':_0x3bd72a(0x105)},'products':{'$push':_0x3bd72a(0x10e)}}}]):_0xf0e03e=await sales_finished[_0x3bd72a(0x119)]([{'$match':{'warehouse_name':_0x4014c9,'date':{'$gte':_0x4a13db,'$lte':_0x2cbc44}}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x3bd72a(0x109),'date':{'$first':_0x3bd72a(0x10d)},'warehouse_name':{'$first':_0x3bd72a(0x105)},'products':{'$push':'$sale_product'}}}]);break;case'AJ':break;case'TF':_0xf0e03e=await transfers_finished[_0x3bd72a(0xf4)]({'warehouse':_0x4014c9,'date':{'$gte':_0x4a13db,'$lte':_0x2cbc44}});break;}}_0x4572a4['json']({'data':_0xf0e03e});}),router[a0_0x54bbf3(0x11c)](a0_0x54bbf3(0xf7),auth,async(_0x2f13ac,_0x1ae191)=>{var _0x5a167b=a0_0x54bbf3;try{const _0x96f943=_0x2f13ac[_0x5a167b(0xef)]['id'];var _0x31e788=await purchases_finished[_0x5a167b(0x116)](_0x96f943);const _0x44968d=await master_shop['find'](),_0x5d48db=_0x2f13ac['user'],_0x462686=await profile[_0x5a167b(0xed)]({'email':_0x5d48db[_0x5a167b(0xee)]});if(_0x44968d[0x0][_0x5a167b(0x114)]==_0x5a167b(0x102))var _0x5a9c9d=users[_0x5a167b(0xe5)];else{if(_0x44968d[0x0][_0x5a167b(0x114)]==_0x5a167b(0xec))var _0x5a9c9d=users['Hindi'];else{if(_0x44968d[0x0]['language']==_0x5a167b(0xf3))var _0x5a9c9d=users[_0x5a167b(0xf3)];else{if(_0x44968d[0x0]['language']==_0x5a167b(0xf1))var _0x5a9c9d=users[_0x5a167b(0xf1)];else{if(_0x44968d[0x0][_0x5a167b(0x114)]==_0x5a167b(0x106))var _0x5a9c9d=users[_0x5a167b(0x106)];else{if(_0x44968d[0x0]['language']==_0x5a167b(0x100))var _0x5a9c9d=users[_0x5a167b(0x112)];else{if(_0x44968d[0x0]['language']==_0x5a167b(0x10f))var _0x5a9c9d=users[_0x5a167b(0x10f)];else{if(_0x44968d[0x0][_0x5a167b(0x114)]=='Arabic\x20(ae)')var _0x5a9c9d=users[_0x5a167b(0x115)];}}}}}}}_0x1ae191[_0x5a167b(0xfa)](_0x5a167b(0x110),{'success':_0x2f13ac[_0x5a167b(0xf8)](_0x5a167b(0x107)),'errors':_0x2f13ac['flash']('errors'),'master_shop':_0x44968d,'profile':_0x462686,'role':_0x5d48db,'language':_0x5a9c9d,'data':_0x31e788});}catch(_0xbb43e2){_0x1ae191[_0x5a167b(0xff)](_0xbb43e2);}}),router[a0_0x54bbf3(0x11c)](a0_0x54bbf3(0x104),auth,async(_0x2ed7e3,_0x4b986d)=>{var _0x154887=a0_0x54bbf3;try{const _0x19fdad=_0x2ed7e3[_0x154887(0xef)]['id'];var _0x5a1eb3=await sales_finished[_0x154887(0x116)](_0x19fdad);const _0x50c264=await master_shop[_0x154887(0xf4)](),_0x1fbacc=_0x2ed7e3[_0x154887(0xf0)],_0x34e35a=await profile[_0x154887(0xed)]({'email':_0x1fbacc[_0x154887(0xee)]});if(_0x50c264[0x0][_0x154887(0x114)]==_0x154887(0x102))var _0x111667=users[_0x154887(0xe5)];else{if(_0x50c264[0x0][_0x154887(0x114)]==_0x154887(0xec))var _0x111667=users[_0x154887(0xec)];else{if(_0x50c264[0x0][_0x154887(0x114)]==_0x154887(0xf3))var _0x111667=users[_0x154887(0xf3)];else{if(_0x50c264[0x0]['language']==_0x154887(0xf1))var _0x111667=users[_0x154887(0xf1)];else{if(_0x50c264[0x0][_0x154887(0x114)]=='French')var _0x111667=users[_0x154887(0x106)];else{if(_0x50c264[0x0][_0x154887(0x114)]=='Portuguese\x20(BR)')var _0x111667=users[_0x154887(0x112)];else{if(_0x50c264[0x0][_0x154887(0x114)]==_0x154887(0x10f))var _0x111667=users[_0x154887(0x10f)];else{if(_0x50c264[0x0][_0x154887(0x114)]==_0x154887(0xe6))var _0x111667=users[_0x154887(0x115)];}}}}}}}_0x4b986d['render'](_0x154887(0xfc),{'success':_0x2ed7e3[_0x154887(0xf8)](_0x154887(0x107)),'errors':_0x2ed7e3[_0x154887(0xf8)]('errors'),'master_shop':_0x50c264,'profile':_0x34e35a,'role':_0x1fbacc,'language':_0x111667,'data':_0x5a1eb3});}catch(_0x227854){_0x4b986d[_0x154887(0xff)](_0x227854);}}),router[a0_0x54bbf3(0x11c)]('/viewdata_tf_fg/:id',auth,async(_0x23eaa0,_0x2437ef)=>{var _0x133cbd=a0_0x54bbf3;try{const _0x3d8a56=_0x23eaa0[_0x133cbd(0xef)]['id'];var _0x544e11=await transfers_finished['findById'](_0x3d8a56);const _0x2fd332=await master_shop['find'](),_0x40d157=_0x23eaa0[_0x133cbd(0xf0)],_0xe79cef=await profile['findOne']({'email':_0x40d157[_0x133cbd(0xee)]});if(_0x2fd332[0x0][_0x133cbd(0x114)]=='English\x20(US)')var _0x33bb86=users['English'];else{if(_0x2fd332[0x0]['language']==_0x133cbd(0xec))var _0x33bb86=users[_0x133cbd(0xec)];else{if(_0x2fd332[0x0][_0x133cbd(0x114)]==_0x133cbd(0xf3))var _0x33bb86=users['German'];else{if(_0x2fd332[0x0][_0x133cbd(0x114)]==_0x133cbd(0xf1))var _0x33bb86=users[_0x133cbd(0xf1)];else{if(_0x2fd332[0x0][_0x133cbd(0x114)]==_0x133cbd(0x106))var _0x33bb86=users[_0x133cbd(0x106)];else{if(_0x2fd332[0x0][_0x133cbd(0x114)]==_0x133cbd(0x100))var _0x33bb86=users[_0x133cbd(0x112)];else{if(_0x2fd332[0x0][_0x133cbd(0x114)]=='Chinese')var _0x33bb86=users[_0x133cbd(0x10f)];else{if(_0x2fd332[0x0][_0x133cbd(0x114)]=='Arabic\x20(ae)')var _0x33bb86=users[_0x133cbd(0x115)];}}}}}}}_0x2437ef[_0x133cbd(0xfa)](_0x133cbd(0xfe),{'success':_0x23eaa0[_0x133cbd(0xf8)](_0x133cbd(0x107)),'errors':_0x23eaa0['flash'](_0x133cbd(0x108)),'master_shop':_0x2fd332,'profile':_0xe79cef,'role':_0x40d157,'language':_0x33bb86,'data':_0x544e11});}catch(_0x34b8a6){_0x2437ef['json'](_0x34b8a6);}}),module['exports']=router;