var a0_0x7ea9cc=a0_0x2f95;function a0_0x2f95(_0x3839de,_0x560f54){var _0x24eebf=a0_0x24ee();return a0_0x2f95=function(_0x2f95d8,_0x3c16f5){_0x2f95d8=_0x2f95d8-0x168;var _0x2c3319=_0x24eebf[_0x2f95d8];return _0x2c3319;},a0_0x2f95(_0x3839de,_0x560f54);}(function(_0x158398,_0x10dcf1){var _0x1ee345=a0_0x2f95,_0x39e68c=_0x158398();while(!![]){try{var _0x11a7ae=-parseInt(_0x1ee345(0x18e))/0x1+-parseInt(_0x1ee345(0x174))/0x2+parseInt(_0x1ee345(0x19a))/0x3*(-parseInt(_0x1ee345(0x184))/0x4)+parseInt(_0x1ee345(0x16f))/0x5*(-parseInt(_0x1ee345(0x1a1))/0x6)+-parseInt(_0x1ee345(0x18b))/0x7*(-parseInt(_0x1ee345(0x199))/0x8)+-parseInt(_0x1ee345(0x196))/0x9*(-parseInt(_0x1ee345(0x18c))/0xa)+parseInt(_0x1ee345(0x194))/0xb*(parseInt(_0x1ee345(0x16a))/0xc);if(_0x11a7ae===_0x10dcf1)break;else _0x39e68c['push'](_0x39e68c['shift']());}catch(_0x2ee03e){_0x39e68c['push'](_0x39e68c['shift']());}}}(a0_0x24ee,0x609d9));function a0_0x24ee(){var _0x382668=['$invoice','json','exports','Router','user','flash','41636ijbbcf','312160BRsQZr','findOne','103784PwPPZA','Portuguese\x20(BR)','../middleware/auth','aggregate','language','render','1067HbpmjA','Enabled','99tfKxYD','/reports','$name','448skzjSw','88752mCvwAK','Hindi','$product','Chinese','/viewdata_og_fg/:id','Spanish','German','72fukLEt','length','body','French','view_og_table','57720CLHBuD','success','Arabic','../models/all_models','English\x20(US)','207305qHJXtl','English','find','$warehouse_name','Portuguese','55290HCQJkT','log','post','email','Arabic\x20(ae)','nodemailer','findById','params','/viewdata_inc_fg/:id','errors','get','express','$sale_product','$date','../public/language/languages.json','/view','16nteztv'];a0_0x24ee=function(){return _0x382668;};return a0_0x24ee();}const express=require(a0_0x7ea9cc(0x17f)),app=express(),router=express[a0_0x7ea9cc(0x188)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require(a0_0x7ea9cc(0x16d)),auth=require(a0_0x7ea9cc(0x190)),users=require(a0_0x7ea9cc(0x182)),nodemailer=require(a0_0x7ea9cc(0x179));router[a0_0x7ea9cc(0x17e)](a0_0x7ea9cc(0x183),auth,async(_0x57ca6d,_0x5d8740)=>{var _0x30fd64=a0_0x7ea9cc;try{const {username:_0x3c1e34,email:_0x54e3a4,role:_0x299e0d}=_0x57ca6d[_0x30fd64(0x189)],_0x31f8cf=_0x57ca6d[_0x30fd64(0x189)],_0x37210c=await profile[_0x30fd64(0x18d)]({'email':_0x31f8cf['email']}),_0x272147=await master_shop[_0x30fd64(0x171)](),_0x14ab87=await warehouse['aggregate']([{'$match':{'status':_0x30fd64(0x195),'warehouse_category':'Finished\x20Goods'}},{'$group':{'_id':_0x30fd64(0x198),'name':{'$first':'$name'}}}]);if(_0x272147[0x0][_0x30fd64(0x192)]==_0x30fd64(0x16e))var _0x4a5054=users['English'];else{if(_0x272147[0x0][_0x30fd64(0x192)]==_0x30fd64(0x19b))var _0x4a5054=users[_0x30fd64(0x19b)];else{if(_0x272147[0x0][_0x30fd64(0x192)]==_0x30fd64(0x1a0))var _0x4a5054=users[_0x30fd64(0x1a0)];else{if(_0x272147[0x0][_0x30fd64(0x192)]=='Spanish')var _0x4a5054=users[_0x30fd64(0x19f)];else{if(_0x272147[0x0][_0x30fd64(0x192)]=='French')var _0x4a5054=users[_0x30fd64(0x168)];else{if(_0x272147[0x0]['language']==_0x30fd64(0x18f))var _0x4a5054=users[_0x30fd64(0x173)];else{if(_0x272147[0x0][_0x30fd64(0x192)]=='Chinese')var _0x4a5054=users['Chinese'];else{if(_0x272147[0x0][_0x30fd64(0x192)]==_0x30fd64(0x178))var _0x4a5054=users['Arabic'];}}}}}}}_0x5d8740[_0x30fd64(0x193)]('transaction_finished',{'success':_0x57ca6d[_0x30fd64(0x18a)](_0x30fd64(0x16b)),'errors':_0x57ca6d['flash'](_0x30fd64(0x17d)),'role':_0x31f8cf,'profile':_0x37210c,'master_shop':_0x272147,'dataProcess':_0x14ab87,'language':_0x4a5054});}catch(_0x5700ae){console[_0x30fd64(0x175)](_0x5700ae);}}),router[a0_0x7ea9cc(0x176)](a0_0x7ea9cc(0x197),auth,async(_0x56a964,_0x2c8131)=>{var _0x4d0bd2=a0_0x7ea9cc;const {product_category:_0x5b3b29,transaction_category:_0x3092ab,transaction_date_from:_0x1457ad,transaction_date_to:_0x76692f,warehouse_category:_0x2f7ef8,item_code:_0x2abcab}=_0x56a964[_0x4d0bd2(0x1a3)];var _0x546af6;if(_0x5b3b29=='rm'){}else{if(_0x5b3b29=='fg')switch(_0x3092ab){case'IC':_0x2abcab[_0x4d0bd2(0x1a2)]>0x0?_0x546af6=await purchases_finished['aggregate']([{'$match':{'warehouse_name':_0x2f7ef8,'date':{'$gte':_0x1457ad,'$lte':_0x76692f}}},{'$unwind':'$product'},{'$match':{'$or':[{'product.product_code':_0x2abcab}]}},{'$group':{'_id':_0x4d0bd2(0x185),'date':{'$first':_0x4d0bd2(0x181)},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':_0x4d0bd2(0x19c)}}}]):_0x546af6=await purchases_finished[_0x4d0bd2(0x191)]([{'$match':{'warehouse_name':_0x2f7ef8,'date':{'$gte':_0x1457ad,'$lte':_0x76692f}}},{'$unwind':_0x4d0bd2(0x19c)},{'$group':{'_id':_0x4d0bd2(0x185),'date':{'$first':'$date'},'warehouse_name':{'$first':_0x4d0bd2(0x172)},'products':{'$push':_0x4d0bd2(0x19c)}}}]);break;case'OG':_0x2abcab[_0x4d0bd2(0x1a2)]>0x0?_0x546af6=await sales_finished[_0x4d0bd2(0x191)]([{'$match':{'warehouse_name':_0x2f7ef8,'date':{'$gte':_0x1457ad,'$lte':_0x76692f}}},{'$unwind':_0x4d0bd2(0x180)},{'$match':{'$or':[{'sale_product.product_code':_0x2abcab}]}},{'$group':{'_id':_0x4d0bd2(0x185),'date':{'$first':'$date'},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':_0x4d0bd2(0x180)}}}]):_0x546af6=await sales_finished[_0x4d0bd2(0x191)]([{'$match':{'warehouse_name':_0x2f7ef8,'date':{'$gte':_0x1457ad,'$lte':_0x76692f}}},{'$unwind':_0x4d0bd2(0x180)},{'$group':{'_id':_0x4d0bd2(0x185),'date':{'$first':_0x4d0bd2(0x181)},'warehouse_name':{'$first':_0x4d0bd2(0x172)},'products':{'$push':_0x4d0bd2(0x180)}}}]);break;case'AJ':break;case'TF':_0x546af6=await transfers_finished['find']({'warehouse':_0x2f7ef8,'date':{'$gte':_0x1457ad,'$lte':_0x76692f}});break;}}_0x2c8131[_0x4d0bd2(0x186)]({'data':_0x546af6});}),router[a0_0x7ea9cc(0x17e)](a0_0x7ea9cc(0x17c),auth,async(_0x18c212,_0x1ffe0b)=>{var _0x56b7b9=a0_0x7ea9cc;try{const _0x52fc73=_0x18c212[_0x56b7b9(0x17b)]['id'];var _0x1b6ff3=await purchases_finished[_0x56b7b9(0x17a)](_0x52fc73);const _0x255fb5=await master_shop['find'](),_0x4a5330=_0x18c212[_0x56b7b9(0x189)],_0x23445b=await profile[_0x56b7b9(0x18d)]({'email':_0x4a5330[_0x56b7b9(0x177)]});if(_0x255fb5[0x0][_0x56b7b9(0x192)]==_0x56b7b9(0x16e))var _0x6a054b=users['English'];else{if(_0x255fb5[0x0][_0x56b7b9(0x192)]=='Hindi')var _0x6a054b=users[_0x56b7b9(0x19b)];else{if(_0x255fb5[0x0]['language']==_0x56b7b9(0x1a0))var _0x6a054b=users[_0x56b7b9(0x1a0)];else{if(_0x255fb5[0x0][_0x56b7b9(0x192)]==_0x56b7b9(0x19f))var _0x6a054b=users[_0x56b7b9(0x19f)];else{if(_0x255fb5[0x0][_0x56b7b9(0x192)]==_0x56b7b9(0x168))var _0x6a054b=users[_0x56b7b9(0x168)];else{if(_0x255fb5[0x0][_0x56b7b9(0x192)]==_0x56b7b9(0x18f))var _0x6a054b=users[_0x56b7b9(0x173)];else{if(_0x255fb5[0x0][_0x56b7b9(0x192)]==_0x56b7b9(0x19d))var _0x6a054b=users[_0x56b7b9(0x19d)];else{if(_0x255fb5[0x0][_0x56b7b9(0x192)]==_0x56b7b9(0x178))var _0x6a054b=users['Arabic'];}}}}}}}_0x1ffe0b[_0x56b7b9(0x193)]('view_table',{'success':_0x18c212[_0x56b7b9(0x18a)]('success'),'errors':_0x18c212[_0x56b7b9(0x18a)](_0x56b7b9(0x17d)),'master_shop':_0x255fb5,'profile':_0x23445b,'role':_0x4a5330,'language':_0x6a054b,'data':_0x1b6ff3});}catch(_0x16072c){_0x1ffe0b[_0x56b7b9(0x186)](_0x16072c);}}),router[a0_0x7ea9cc(0x17e)](a0_0x7ea9cc(0x19e),auth,async(_0x3fc578,_0x1b61d9)=>{var _0x52566c=a0_0x7ea9cc;try{const _0x51c45c=_0x3fc578[_0x52566c(0x17b)]['id'];var _0xab80d8=await sales_finished[_0x52566c(0x17a)](_0x51c45c);const _0x4364a9=await master_shop['find'](),_0x6aacdc=_0x3fc578[_0x52566c(0x189)],_0xb9cf83=await profile[_0x52566c(0x18d)]({'email':_0x6aacdc[_0x52566c(0x177)]});if(_0x4364a9[0x0][_0x52566c(0x192)]==_0x52566c(0x16e))var _0x29078c=users[_0x52566c(0x170)];else{if(_0x4364a9[0x0][_0x52566c(0x192)]==_0x52566c(0x19b))var _0x29078c=users[_0x52566c(0x19b)];else{if(_0x4364a9[0x0]['language']==_0x52566c(0x1a0))var _0x29078c=users[_0x52566c(0x1a0)];else{if(_0x4364a9[0x0][_0x52566c(0x192)]==_0x52566c(0x19f))var _0x29078c=users[_0x52566c(0x19f)];else{if(_0x4364a9[0x0][_0x52566c(0x192)]==_0x52566c(0x168))var _0x29078c=users['French'];else{if(_0x4364a9[0x0][_0x52566c(0x192)]==_0x52566c(0x18f))var _0x29078c=users['Portuguese'];else{if(_0x4364a9[0x0]['language']==_0x52566c(0x19d))var _0x29078c=users[_0x52566c(0x19d)];else{if(_0x4364a9[0x0][_0x52566c(0x192)]==_0x52566c(0x178))var _0x29078c=users[_0x52566c(0x16c)];}}}}}}}_0x1b61d9['render'](_0x52566c(0x169),{'success':_0x3fc578[_0x52566c(0x18a)]('success'),'errors':_0x3fc578[_0x52566c(0x18a)]('errors'),'master_shop':_0x4364a9,'profile':_0xb9cf83,'role':_0x6aacdc,'language':_0x29078c,'data':_0xab80d8});}catch(_0x15a757){_0x1b61d9[_0x52566c(0x186)](_0x15a757);}}),router[a0_0x7ea9cc(0x17e)]('/viewdata_tf_fg/:id',auth,async(_0x45979d,_0x4f03f6)=>{var _0x3505a0=a0_0x7ea9cc;try{const _0x313f9b=_0x45979d['params']['id'];var _0x1c0484=await transfers_finished[_0x3505a0(0x17a)](_0x313f9b);const _0xabbfc8=await master_shop[_0x3505a0(0x171)](),_0x5f2ebc=_0x45979d[_0x3505a0(0x189)],_0x102e7c=await profile[_0x3505a0(0x18d)]({'email':_0x5f2ebc['email']});if(_0xabbfc8[0x0][_0x3505a0(0x192)]==_0x3505a0(0x16e))var _0x5cecd4=users['English'];else{if(_0xabbfc8[0x0][_0x3505a0(0x192)]==_0x3505a0(0x19b))var _0x5cecd4=users[_0x3505a0(0x19b)];else{if(_0xabbfc8[0x0]['language']==_0x3505a0(0x1a0))var _0x5cecd4=users[_0x3505a0(0x1a0)];else{if(_0xabbfc8[0x0]['language']==_0x3505a0(0x19f))var _0x5cecd4=users[_0x3505a0(0x19f)];else{if(_0xabbfc8[0x0][_0x3505a0(0x192)]==_0x3505a0(0x168))var _0x5cecd4=users[_0x3505a0(0x168)];else{if(_0xabbfc8[0x0][_0x3505a0(0x192)]=='Portuguese\x20(BR)')var _0x5cecd4=users[_0x3505a0(0x173)];else{if(_0xabbfc8[0x0]['language']==_0x3505a0(0x19d))var _0x5cecd4=users['Chinese'];else{if(_0xabbfc8[0x0][_0x3505a0(0x192)]==_0x3505a0(0x178))var _0x5cecd4=users[_0x3505a0(0x16c)];}}}}}}}_0x4f03f6[_0x3505a0(0x193)]('view_tf_table',{'success':_0x45979d[_0x3505a0(0x18a)](_0x3505a0(0x16b)),'errors':_0x45979d[_0x3505a0(0x18a)](_0x3505a0(0x17d)),'master_shop':_0xabbfc8,'profile':_0x102e7c,'role':_0x5f2ebc,'language':_0x5cecd4,'data':_0x1c0484});}catch(_0x5db906){_0x4f03f6[_0x3505a0(0x186)](_0x5db906);}}),module[a0_0x7ea9cc(0x187)]=router;