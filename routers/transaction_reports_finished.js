var a0_0x3213fd=a0_0x4e70;function a0_0x1ee5(){var _0x2d3016=['/viewdata_og_fg/:id','Enabled','json','success','user','Arabic\x20(ae)','transaction_finished','Chinese','$invoice','findById','find','language','render','168270mJfrbR','6tfXvqf','English','body','Arabic','errors','$product','French','646996bcTZQs','3127330rWgJXd','findOne','express','/viewdata_tf_fg/:id','get','/view','Router','217803noUlXu','Hindi','../middleware/auth','$name','nodemailer','Finished\x20Goods','aggregate','$date','Portuguese\x20(BR)','../public/language/languages.json','1769019QyKUXV','8OybMjw','view_og_table','79224FPHycX','flash','$warehouse_name','email','$sale_product','/reports','4155000TNsJNB','German','params','exports','342mWbnja','post','Portuguese','English\x20(US)','Spanish'];a0_0x1ee5=function(){return _0x2d3016;};return a0_0x1ee5();}function a0_0x4e70(_0x10dc6c,_0x4d4318){var _0x1ee59c=a0_0x1ee5();return a0_0x4e70=function(_0x4e70fd,_0x1b9cb2){_0x4e70fd=_0x4e70fd-0xc0;var _0x4cc6c1=_0x1ee59c[_0x4e70fd];return _0x4cc6c1;},a0_0x4e70(_0x10dc6c,_0x4d4318);}(function(_0x68e932,_0x3d7bb5){var _0x1f9001=a0_0x4e70,_0x5097dd=_0x68e932();while(!![]){try{var _0x2b442d=parseInt(_0x1f9001(0xf8))/0x1+parseInt(_0x1f9001(0xf0))/0x2+parseInt(_0x1f9001(0xcc))/0x3*(parseInt(_0x1f9001(0xca))/0x4)+-parseInt(_0x1f9001(0xf1))/0x5+-parseInt(_0x1f9001(0xe9))/0x6*(-parseInt(_0x1f9001(0xc9))/0x7)+-parseInt(_0x1f9001(0xd2))/0x8+-parseInt(_0x1f9001(0xd6))/0x9*(-parseInt(_0x1f9001(0xe8))/0xa);if(_0x2b442d===_0x3d7bb5)break;else _0x5097dd['push'](_0x5097dd['shift']());}catch(_0x2a9b99){_0x5097dd['push'](_0x5097dd['shift']());}}}(a0_0x1ee5,0x535ab));const express=require(a0_0x3213fd(0xf3)),app=express(),router=express[a0_0x3213fd(0xf7)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require('../models/all_models'),auth=require(a0_0x3213fd(0xc1)),users=require(a0_0x3213fd(0xc8)),nodemailer=require(a0_0x3213fd(0xc3));router['get'](a0_0x3213fd(0xf6),auth,async(_0x2d07b4,_0x5d70f5)=>{var _0x2d19da=a0_0x3213fd;try{const {username:_0x4975a5,email:_0x204581,role:_0x434897}=_0x2d07b4[_0x2d19da(0xdf)],_0x382d6a=_0x2d07b4[_0x2d19da(0xdf)],_0x283c2a=await profile[_0x2d19da(0xf2)]({'email':_0x382d6a[_0x2d19da(0xcf)]}),_0x43603d=await master_shop[_0x2d19da(0xe5)](),_0x336a4b=await warehouse[_0x2d19da(0xc5)]([{'$match':{'status':_0x2d19da(0xdc),'warehouse_category':_0x2d19da(0xc4)}},{'$group':{'_id':_0x2d19da(0xc2),'name':{'$first':_0x2d19da(0xc2)}}}]);if(_0x43603d[0x0][_0x2d19da(0xe6)]==_0x2d19da(0xd9))var _0x5ba0ed=users['English'];else{if(_0x43603d[0x0][_0x2d19da(0xe6)]==_0x2d19da(0xc0))var _0x5ba0ed=users[_0x2d19da(0xc0)];else{if(_0x43603d[0x0][_0x2d19da(0xe6)]==_0x2d19da(0xd3))var _0x5ba0ed=users[_0x2d19da(0xd3)];else{if(_0x43603d[0x0][_0x2d19da(0xe6)]==_0x2d19da(0xda))var _0x5ba0ed=users[_0x2d19da(0xda)];else{if(_0x43603d[0x0][_0x2d19da(0xe6)]=='French')var _0x5ba0ed=users['French'];else{if(_0x43603d[0x0][_0x2d19da(0xe6)]==_0x2d19da(0xc7))var _0x5ba0ed=users['Portuguese'];else{if(_0x43603d[0x0]['language']=='Chinese')var _0x5ba0ed=users[_0x2d19da(0xe2)];else{if(_0x43603d[0x0][_0x2d19da(0xe6)]==_0x2d19da(0xe0))var _0x5ba0ed=users[_0x2d19da(0xec)];}}}}}}}_0x5d70f5[_0x2d19da(0xe7)](_0x2d19da(0xe1),{'success':_0x2d07b4[_0x2d19da(0xcd)]('success'),'errors':_0x2d07b4[_0x2d19da(0xcd)](_0x2d19da(0xed)),'role':_0x382d6a,'profile':_0x283c2a,'master_shop':_0x43603d,'dataProcess':_0x336a4b,'language':_0x5ba0ed});}catch(_0x1a97ff){console['log'](_0x1a97ff);}}),router[a0_0x3213fd(0xd7)](a0_0x3213fd(0xd1),auth,async(_0x244652,_0x17aaa6)=>{var _0x4829bd=a0_0x3213fd;const {product_category:_0x1fdf28,transaction_category:_0x53431d,transaction_date_from:_0x14318d,transaction_date_to:_0x580ab5,warehouse_category:_0x5d5d1b,item_code:_0x31f95c}=_0x244652[_0x4829bd(0xeb)];var _0x1ac643;if(_0x1fdf28=='rm'){}else{if(_0x1fdf28=='fg')switch(_0x53431d){case'IC':_0x31f95c['length']>0x0?_0x1ac643=await purchases_finished[_0x4829bd(0xc5)]([{'$match':{'warehouse_name':_0x5d5d1b,'date':{'$gte':_0x14318d,'$lte':_0x580ab5}}},{'$unwind':_0x4829bd(0xee)},{'$match':{'$or':[{'product.product_code':_0x31f95c}]}},{'$group':{'_id':_0x4829bd(0xe3),'date':{'$first':_0x4829bd(0xc6)},'warehouse_name':{'$first':_0x4829bd(0xce)},'products':{'$push':_0x4829bd(0xee)}}}]):_0x1ac643=await purchases_finished[_0x4829bd(0xc5)]([{'$match':{'warehouse_name':_0x5d5d1b,'date':{'$gte':_0x14318d,'$lte':_0x580ab5}}},{'$unwind':_0x4829bd(0xee)},{'$group':{'_id':'$invoice','date':{'$first':_0x4829bd(0xc6)},'warehouse_name':{'$first':_0x4829bd(0xce)},'products':{'$push':_0x4829bd(0xee)}}}]);break;case'OG':_0x31f95c['length']>0x0?_0x1ac643=await sales_finished[_0x4829bd(0xc5)]([{'$match':{'warehouse_name':_0x5d5d1b,'date':{'$gte':_0x14318d,'$lte':_0x580ab5}}},{'$unwind':'$sale_product'},{'$match':{'$or':[{'sale_product.product_code':_0x31f95c}]}},{'$group':{'_id':_0x4829bd(0xe3),'date':{'$first':_0x4829bd(0xc6)},'warehouse_name':{'$first':_0x4829bd(0xce)},'products':{'$push':'$sale_product'}}}]):_0x1ac643=await sales_finished['aggregate']([{'$match':{'warehouse_name':_0x5d5d1b,'date':{'$gte':_0x14318d,'$lte':_0x580ab5}}},{'$unwind':_0x4829bd(0xd0)},{'$group':{'_id':'$invoice','date':{'$first':_0x4829bd(0xc6)},'warehouse_name':{'$first':_0x4829bd(0xce)},'products':{'$push':_0x4829bd(0xd0)}}}]);break;case'AJ':break;case'TF':_0x1ac643=await transfers_finished[_0x4829bd(0xe5)]({'warehouse':_0x5d5d1b,'date':{'$gte':_0x14318d,'$lte':_0x580ab5}});break;}}_0x17aaa6[_0x4829bd(0xdd)]({'data':_0x1ac643});}),router['get']('/viewdata_inc_fg/:id',auth,async(_0x5e9c56,_0x5e1029)=>{var _0xdce8fb=a0_0x3213fd;try{const _0x18defe=_0x5e9c56[_0xdce8fb(0xd4)]['id'];var _0x109ec3=await purchases_finished['findById'](_0x18defe);const _0x115ad4=await master_shop[_0xdce8fb(0xe5)](),_0x11db0d=_0x5e9c56[_0xdce8fb(0xdf)],_0x48f84f=await profile[_0xdce8fb(0xf2)]({'email':_0x11db0d[_0xdce8fb(0xcf)]});if(_0x115ad4[0x0][_0xdce8fb(0xe6)]==_0xdce8fb(0xd9))var _0x42951d=users[_0xdce8fb(0xea)];else{if(_0x115ad4[0x0][_0xdce8fb(0xe6)]=='Hindi')var _0x42951d=users[_0xdce8fb(0xc0)];else{if(_0x115ad4[0x0][_0xdce8fb(0xe6)]==_0xdce8fb(0xd3))var _0x42951d=users[_0xdce8fb(0xd3)];else{if(_0x115ad4[0x0][_0xdce8fb(0xe6)]=='Spanish')var _0x42951d=users[_0xdce8fb(0xda)];else{if(_0x115ad4[0x0][_0xdce8fb(0xe6)]==_0xdce8fb(0xef))var _0x42951d=users[_0xdce8fb(0xef)];else{if(_0x115ad4[0x0][_0xdce8fb(0xe6)]==_0xdce8fb(0xc7))var _0x42951d=users[_0xdce8fb(0xd8)];else{if(_0x115ad4[0x0][_0xdce8fb(0xe6)]==_0xdce8fb(0xe2))var _0x42951d=users[_0xdce8fb(0xe2)];else{if(_0x115ad4[0x0]['language']=='Arabic\x20(ae)')var _0x42951d=users[_0xdce8fb(0xec)];}}}}}}}_0x5e1029[_0xdce8fb(0xe7)]('view_table',{'success':_0x5e9c56[_0xdce8fb(0xcd)](_0xdce8fb(0xde)),'errors':_0x5e9c56[_0xdce8fb(0xcd)](_0xdce8fb(0xed)),'master_shop':_0x115ad4,'profile':_0x48f84f,'role':_0x11db0d,'language':_0x42951d,'data':_0x109ec3});}catch(_0x1337b8){_0x5e1029[_0xdce8fb(0xdd)](_0x1337b8);}}),router[a0_0x3213fd(0xf5)](a0_0x3213fd(0xdb),auth,async(_0x39a3d0,_0x1d19a5)=>{var _0x1848cb=a0_0x3213fd;try{const _0x4ff474=_0x39a3d0[_0x1848cb(0xd4)]['id'];var _0x208050=await sales_finished[_0x1848cb(0xe4)](_0x4ff474);const _0x322fc9=await master_shop[_0x1848cb(0xe5)](),_0x738249=_0x39a3d0[_0x1848cb(0xdf)],_0xa3532f=await profile[_0x1848cb(0xf2)]({'email':_0x738249[_0x1848cb(0xcf)]});if(_0x322fc9[0x0][_0x1848cb(0xe6)]==_0x1848cb(0xd9))var _0x7da09=users[_0x1848cb(0xea)];else{if(_0x322fc9[0x0][_0x1848cb(0xe6)]==_0x1848cb(0xc0))var _0x7da09=users[_0x1848cb(0xc0)];else{if(_0x322fc9[0x0][_0x1848cb(0xe6)]=='German')var _0x7da09=users[_0x1848cb(0xd3)];else{if(_0x322fc9[0x0][_0x1848cb(0xe6)]=='Spanish')var _0x7da09=users['Spanish'];else{if(_0x322fc9[0x0][_0x1848cb(0xe6)]==_0x1848cb(0xef))var _0x7da09=users['French'];else{if(_0x322fc9[0x0][_0x1848cb(0xe6)]==_0x1848cb(0xc7))var _0x7da09=users[_0x1848cb(0xd8)];else{if(_0x322fc9[0x0]['language']==_0x1848cb(0xe2))var _0x7da09=users['Chinese'];else{if(_0x322fc9[0x0][_0x1848cb(0xe6)]=='Arabic\x20(ae)')var _0x7da09=users[_0x1848cb(0xec)];}}}}}}}_0x1d19a5[_0x1848cb(0xe7)](_0x1848cb(0xcb),{'success':_0x39a3d0[_0x1848cb(0xcd)]('success'),'errors':_0x39a3d0['flash'](_0x1848cb(0xed)),'master_shop':_0x322fc9,'profile':_0xa3532f,'role':_0x738249,'language':_0x7da09,'data':_0x208050});}catch(_0x5cf410){_0x1d19a5['json'](_0x5cf410);}}),router[a0_0x3213fd(0xf5)](a0_0x3213fd(0xf4),auth,async(_0x165b9d,_0x26d6e0)=>{var _0x35eb4f=a0_0x3213fd;try{const _0x3e718c=_0x165b9d['params']['id'];var _0x108de2=await transfers_finished[_0x35eb4f(0xe4)](_0x3e718c);const _0x459d49=await master_shop[_0x35eb4f(0xe5)](),_0x43ed07=_0x165b9d[_0x35eb4f(0xdf)],_0x3e2acf=await profile[_0x35eb4f(0xf2)]({'email':_0x43ed07[_0x35eb4f(0xcf)]});if(_0x459d49[0x0][_0x35eb4f(0xe6)]==_0x35eb4f(0xd9))var _0x5cf126=users[_0x35eb4f(0xea)];else{if(_0x459d49[0x0][_0x35eb4f(0xe6)]==_0x35eb4f(0xc0))var _0x5cf126=users[_0x35eb4f(0xc0)];else{if(_0x459d49[0x0][_0x35eb4f(0xe6)]==_0x35eb4f(0xd3))var _0x5cf126=users[_0x35eb4f(0xd3)];else{if(_0x459d49[0x0][_0x35eb4f(0xe6)]==_0x35eb4f(0xda))var _0x5cf126=users[_0x35eb4f(0xda)];else{if(_0x459d49[0x0][_0x35eb4f(0xe6)]==_0x35eb4f(0xef))var _0x5cf126=users[_0x35eb4f(0xef)];else{if(_0x459d49[0x0][_0x35eb4f(0xe6)]==_0x35eb4f(0xc7))var _0x5cf126=users[_0x35eb4f(0xd8)];else{if(_0x459d49[0x0][_0x35eb4f(0xe6)]=='Chinese')var _0x5cf126=users[_0x35eb4f(0xe2)];else{if(_0x459d49[0x0]['language']=='Arabic\x20(ae)')var _0x5cf126=users[_0x35eb4f(0xec)];}}}}}}}_0x26d6e0['render']('view_tf_table',{'success':_0x165b9d[_0x35eb4f(0xcd)]('success'),'errors':_0x165b9d[_0x35eb4f(0xcd)](_0x35eb4f(0xed)),'master_shop':_0x459d49,'profile':_0x3e2acf,'role':_0x43ed07,'language':_0x5cf126,'data':_0x108de2});}catch(_0x5d4c8e){_0x26d6e0[_0x35eb4f(0xdd)](_0x5d4c8e);}}),module[a0_0x3213fd(0xd5)]=router;