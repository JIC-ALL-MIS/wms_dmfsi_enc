function a0_0x5926(){var _0x4560f0=['../middleware/auth','data_adjustment','5468658lPYJyk','_id','Arabic\x20(ae)','invoice','$name','$product.product_name','findById','view_og_table','$product_details.product_stock','user','/viewFG','$product_details','$product.expiry_date','1203375ljSmfq','$sale_product.quantity','Raw\x20Materials','json','$to_warehouse','$product.id_transaction_from','$product.to_quantity','$warehouse_name','$$invoice','Arabic','success','email','$sale_product.production_date','log','warehouses','$product_details.expiry_date','$product.room_names','find','$product.unit','transaction_finished','Chinese','Portuguese','data_sales','/viewdata_inc_fg/:id','findOne','$product_details.invoice','render','all','English\x20(US)','$product.product_code','data_transfer','map','warehouse_data','push','$product_details.unit','Hindi','/reports','9RYEEVr','/view','flash','$product.production_date','$sale_product.room_name','aggregate','Enabled','$room','$product','$product_details.product_name','$product._id','$sale_product.expiry_date','1549947xoEfEb','/viewdata_og_fg/:id','view_tf_table','$product.new_adjust_qty','French','$product_details.product_code','params','errors','$date','get','../public/language/languages.json','valueOf','543829adzUwG','length','Portuguese\x20(BR)','$sale_product.unit','$invoice','4RzaVLZ','5522512GNQNls','express','$product_details.production_date','1769454RMTRkE','$product.id_transaction_id','language','exports','368625Wbmzdc','$product.invoice','English','Spanish','nodemailer','German','Router','post','view_table'];a0_0x5926=function(){return _0x4560f0;};return a0_0x5926();}function a0_0x4873(_0x391f08,_0x1b23e7){var _0x5926d6=a0_0x5926();return a0_0x4873=function(_0x4873b9,_0x2b7e41){_0x4873b9=_0x4873b9-0xd9;var _0x57879b=_0x5926d6[_0x4873b9];return _0x57879b;},a0_0x4873(_0x391f08,_0x1b23e7);}var a0_0x22592b=a0_0x4873;(function(_0x29cdf2,_0x3af154){var _0x4ff387=a0_0x4873,_0x2935b0=_0x29cdf2();while(!![]){try{var _0x7d89f0=parseInt(_0x4ff387(0x102))/0x1+-parseInt(_0x4ff387(0x10b))/0x2+-parseInt(_0x4ff387(0x127))/0x3+-parseInt(_0x4ff387(0x107))/0x4*(parseInt(_0x4ff387(0x10f))/0x5)+parseInt(_0x4ff387(0x11a))/0x6+-parseInt(_0x4ff387(0xf6))/0x7+-parseInt(_0x4ff387(0x108))/0x8*(-parseInt(_0x4ff387(0xea))/0x9);if(_0x7d89f0===_0x3af154)break;else _0x2935b0['push'](_0x2935b0['shift']());}catch(_0x32db54){_0x2935b0['push'](_0x2935b0['shift']());}}}(a0_0x5926,0x89d6c));const express=require(a0_0x22592b(0x109)),app=express(),router=express[a0_0x22592b(0x115)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished,adjustment}=require('../models/all_models'),auth=require(a0_0x22592b(0x118)),users=require(a0_0x22592b(0x100)),nodemailer=require(a0_0x22592b(0x113));router[a0_0x22592b(0xff)](a0_0x22592b(0xeb),auth,async(_0x4f2b0a,_0x3bb015)=>{var _0x3d7c58=a0_0x22592b;try{const {username:_0x9caed7,email:_0x111cec,role:_0x242d0e}=_0x4f2b0a['user'],_0x3f6f6b=_0x4f2b0a[_0x3d7c58(0x123)],_0x5d80fc=await profile[_0x3d7c58(0xdd)]({'email':_0x3f6f6b[_0x3d7c58(0x132)]}),_0x469572=await master_shop[_0x3d7c58(0x138)](),_0x5ce1c1=await warehouse[_0x3d7c58(0xef)]([{'$match':{'status':_0x3d7c58(0xf0),'warehouse_category':'Finished\x20Goods'}},{'$group':{'_id':_0x3d7c58(0x11e),'name':{'$first':_0x3d7c58(0x11e)}}}]);if(_0x469572[0x0][_0x3d7c58(0x10d)]==_0x3d7c58(0xe1))var _0x2b2cb5=users[_0x3d7c58(0x111)];else{if(_0x469572[0x0][_0x3d7c58(0x10d)]==_0x3d7c58(0xe8))var _0x2b2cb5=users[_0x3d7c58(0xe8)];else{if(_0x469572[0x0][_0x3d7c58(0x10d)]==_0x3d7c58(0x114))var _0x2b2cb5=users[_0x3d7c58(0x114)];else{if(_0x469572[0x0]['language']==_0x3d7c58(0x112))var _0x2b2cb5=users[_0x3d7c58(0x112)];else{if(_0x469572[0x0][_0x3d7c58(0x10d)]==_0x3d7c58(0xfa))var _0x2b2cb5=users['French'];else{if(_0x469572[0x0]['language']==_0x3d7c58(0x104))var _0x2b2cb5=users['Portuguese'];else{if(_0x469572[0x0][_0x3d7c58(0x10d)]=='Chinese')var _0x2b2cb5=users['Chinese'];else{if(_0x469572[0x0][_0x3d7c58(0x10d)]==_0x3d7c58(0x11c))var _0x2b2cb5=users[_0x3d7c58(0x130)];}}}}}}}_0x3bb015[_0x3d7c58(0xdf)](_0x3d7c58(0x13a),{'success':_0x4f2b0a[_0x3d7c58(0xec)]('success'),'errors':_0x4f2b0a['flash'](_0x3d7c58(0xfd)),'role':_0x3f6f6b,'profile':_0x5d80fc,'master_shop':_0x469572,'dataProcess':_0x5ce1c1,'language':_0x2b2cb5});}catch(_0x29cbbc){console[_0x3d7c58(0x134)](_0x29cbbc);}}),router[a0_0x22592b(0x116)](a0_0x22592b(0xe9),auth,async(_0x5b5f2e,_0x19ad16)=>{var _0x49f9cf=a0_0x22592b;const {product_category:_0x58c412,transaction_category:_0x43614f,transaction_date_from:_0xaec606,transaction_date_to:_0x49cf68,warehouse_category:_0x39f96f,item_code:_0x2452f7}=_0x5b5f2e['body'];var _0x51198e=await purchases[_0x49f9cf(0xef)]([{'$match':{'warehouse_name':_0x39f96f,'date':{'$gte':_0xaec606,'$lte':_0x49cf68}}},{'$lookup':{'from':_0x49f9cf(0x135),'let':{'invoice':_0x49f9cf(0x106)},'pipeline':[{'$unwind':_0x49f9cf(0x125)},{'$match':{'$expr':{'$eq':[_0x49f9cf(0x12f),_0x49f9cf(0xde)]}}},{'$project':{'_id':'$product_details._id','product_name':_0x49f9cf(0xf3),'product_code':_0x49f9cf(0xfb),'quantity_available':_0x49f9cf(0x122),'warehouse_name':_0x49f9cf(0x11e),'warehouse_room':_0x49f9cf(0xf1),'invoice':'$product_details.invoice','production_date':_0x49f9cf(0x10a),'expiry_date':_0x49f9cf(0x136),'UOM':_0x49f9cf(0xe7)}}],'as':'warehouse_data'}}]);_0x51198e[_0x49f9cf(0xdb)]={},await Promise[_0x49f9cf(0xe0)](_0x51198e[_0x49f9cf(0xe4)](async _0x48d1ed=>{var _0x31b99f=_0x49f9cf;_0x51198e[_0x31b99f(0xdb)][_0x48d1ed[_0x31b99f(0x11d)]]=[],await Promise['all'](_0x48d1ed[_0x31b99f(0xe5)][_0x31b99f(0xe4)](async _0x2135af=>{var _0x4c23c=_0x31b99f;const _0x54b38c=await sales[_0x4c23c(0xef)]([{'$unwind':'$sale_product'},{'$match':{'sale_product.id_transaction_from':_0x2135af[_0x4c23c(0x11b)][_0x4c23c(0x101)](),'sale_product.invoice':_0x2135af[_0x4c23c(0x11d)]}},{'$project':{'_id':'$sale_product._id','product_name':'$sale_product.product_name','product_code':'$sale_product.product_code','quantity_available':_0x4c23c(0x128),'warehouse_name':_0x4c23c(0x12e),'warehouse_room':_0x4c23c(0xee),'product_invoice':'$sale_product.invoice','invoice':_0x4c23c(0x106),'id_transaction_from':'$sale_product.id_transaction_from','date':_0x4c23c(0xfe),'production_date':_0x4c23c(0x133),'expiry_date':_0x4c23c(0xf5),'UOM':_0x4c23c(0x105)}}]);_0x54b38c[_0x4c23c(0x103)]>0x0&&_0x51198e['data_sales'][_0x48d1ed[_0x4c23c(0x11d)]][_0x4c23c(0xe6)](..._0x54b38c);}));})),_0x51198e['data_sales']=_0x51198e[_0x49f9cf(0xdb)],_0x51198e[_0x49f9cf(0x119)]={},await Promise[_0x49f9cf(0xe0)](_0x51198e['map'](async _0x4969eb=>{var _0x2fd9cd=_0x49f9cf;_0x51198e[_0x2fd9cd(0x119)][_0x4969eb[_0x2fd9cd(0x11d)]]=[],await Promise[_0x2fd9cd(0xe0)](_0x4969eb[_0x2fd9cd(0xe5)][_0x2fd9cd(0xe4)](async _0x558219=>{var _0x114832=_0x2fd9cd;const _0x2851bf=await adjustment['aggregate']([{'$unwind':_0x114832(0xf2)},{'$match':{'product.id_transaction_from':_0x558219['_id'][_0x114832(0x101)](),'product.invoice':_0x558219['invoice']}},{'$project':{'_id':_0x114832(0xf4),'product_name':_0x114832(0x11f),'product_code':'$product.product_code','quantity_available':_0x114832(0xf9),'warehouse_name':_0x114832(0x12e),'warehouse_room':_0x114832(0x137),'product_invoice':_0x114832(0x110),'invoice':'$invoice','id_transaction_from':_0x114832(0x12c),'date':'$date','production_date':'$product.production_date','expiry_date':_0x114832(0x126),'UOM':'$product.unit'}}]);_0x2851bf[_0x114832(0x103)]>0x0&&_0x51198e['data_adjustment'][_0x4969eb[_0x114832(0x11d)]]['push'](..._0x2851bf);}));})),_0x51198e['data_transfer']={},await Promise['all'](_0x51198e[_0x49f9cf(0xe4)](async _0x345fdc=>{var _0x5c7483=_0x49f9cf;_0x51198e[_0x5c7483(0xe3)][_0x345fdc[_0x5c7483(0x11d)]]=[],await Promise['all'](_0x345fdc['warehouse_data'][_0x5c7483(0xe4)](async _0x5cf73a=>{var _0xce0430=_0x5c7483;const _0x5c20f8=await transfers[_0xce0430(0xef)]([{'$unwind':_0xce0430(0xf2)},{'$match':{'product.id_transaction_id':_0x5cf73a[_0xce0430(0x11b)]['valueOf'](),'product.To_invoice':_0x5cf73a[_0xce0430(0x11d)]}},{'$project':{'_id':_0xce0430(0xf4),'product_name':_0xce0430(0x11f),'product_code':_0xce0430(0xe2),'quantity_available':_0xce0430(0x12d),'warehouse_name':_0xce0430(0x12b),'warehouse_room':_0xce0430(0x137),'product_invoice':'$product.to_room_name','invoice':_0xce0430(0x106),'id_transaction_from':_0xce0430(0x10c),'date':_0xce0430(0xfe),'production_date':_0xce0430(0xed),'expiry_date':'$product.expiry_date','UOM':_0xce0430(0x139)}}]);_0x5c20f8[_0xce0430(0x103)]>0x0&&_0x51198e['data_transfer'][_0x345fdc[_0xce0430(0x11d)]][_0xce0430(0xe6)](..._0x5c20f8);}));})),_0x19ad16[_0x49f9cf(0x12a)]({'purchases_warehouse':_0x51198e,'data_sales':_0x51198e[_0x49f9cf(0xdb)],'data_adjustment':_0x51198e[_0x49f9cf(0x119)],'data_transfer':_0x51198e[_0x49f9cf(0xe3)]});}),router[a0_0x22592b(0xff)](a0_0x22592b(0xdc),auth,async(_0x29b50b,_0x23d991)=>{var _0x10d0d4=a0_0x22592b;try{const _0x248881=_0x29b50b[_0x10d0d4(0xfc)]['id'];var _0x156a5d=await purchases_finished[_0x10d0d4(0x120)](_0x248881);const _0xd01180=await master_shop['find'](),_0x41426e=_0x29b50b[_0x10d0d4(0x123)],_0x1ea8af=await profile[_0x10d0d4(0xdd)]({'email':_0x41426e['email']});if(_0xd01180[0x0][_0x10d0d4(0x10d)]==_0x10d0d4(0xe1))var _0x461442=users['English'];else{if(_0xd01180[0x0][_0x10d0d4(0x10d)]=='Hindi')var _0x461442=users[_0x10d0d4(0xe8)];else{if(_0xd01180[0x0][_0x10d0d4(0x10d)]==_0x10d0d4(0x114))var _0x461442=users[_0x10d0d4(0x114)];else{if(_0xd01180[0x0][_0x10d0d4(0x10d)]==_0x10d0d4(0x112))var _0x461442=users[_0x10d0d4(0x112)];else{if(_0xd01180[0x0]['language']==_0x10d0d4(0xfa))var _0x461442=users[_0x10d0d4(0xfa)];else{if(_0xd01180[0x0]['language']==_0x10d0d4(0x104))var _0x461442=users[_0x10d0d4(0xda)];else{if(_0xd01180[0x0]['language']==_0x10d0d4(0xd9))var _0x461442=users[_0x10d0d4(0xd9)];else{if(_0xd01180[0x0][_0x10d0d4(0x10d)]=='Arabic\x20(ae)')var _0x461442=users[_0x10d0d4(0x130)];}}}}}}}_0x23d991['render'](_0x10d0d4(0x117),{'success':_0x29b50b[_0x10d0d4(0xec)]('success'),'errors':_0x29b50b[_0x10d0d4(0xec)](_0x10d0d4(0xfd)),'master_shop':_0xd01180,'profile':_0x1ea8af,'role':_0x41426e,'language':_0x461442,'data':_0x156a5d});}catch(_0x1ef0c1){_0x23d991['json'](_0x1ef0c1);}}),router['get'](a0_0x22592b(0xf7),auth,async(_0xfa2387,_0x184d90)=>{var _0x23c123=a0_0x22592b;try{const _0x46a840=_0xfa2387['params']['id'];var _0x4e3f1a=await sales_finished[_0x23c123(0x120)](_0x46a840);const _0x43f90d=await master_shop['find'](),_0x36dcbc=_0xfa2387[_0x23c123(0x123)],_0x3a543c=await profile[_0x23c123(0xdd)]({'email':_0x36dcbc[_0x23c123(0x132)]});if(_0x43f90d[0x0][_0x23c123(0x10d)]==_0x23c123(0xe1))var _0x3d8d23=users['English'];else{if(_0x43f90d[0x0][_0x23c123(0x10d)]==_0x23c123(0xe8))var _0x3d8d23=users['Hindi'];else{if(_0x43f90d[0x0][_0x23c123(0x10d)]==_0x23c123(0x114))var _0x3d8d23=users[_0x23c123(0x114)];else{if(_0x43f90d[0x0][_0x23c123(0x10d)]==_0x23c123(0x112))var _0x3d8d23=users[_0x23c123(0x112)];else{if(_0x43f90d[0x0]['language']=='French')var _0x3d8d23=users[_0x23c123(0xfa)];else{if(_0x43f90d[0x0][_0x23c123(0x10d)]==_0x23c123(0x104))var _0x3d8d23=users['Portuguese'];else{if(_0x43f90d[0x0][_0x23c123(0x10d)]==_0x23c123(0xd9))var _0x3d8d23=users[_0x23c123(0xd9)];else{if(_0x43f90d[0x0][_0x23c123(0x10d)]==_0x23c123(0x11c))var _0x3d8d23=users[_0x23c123(0x130)];}}}}}}}_0x184d90[_0x23c123(0xdf)](_0x23c123(0x121),{'success':_0xfa2387['flash']('success'),'errors':_0xfa2387[_0x23c123(0xec)](_0x23c123(0xfd)),'master_shop':_0x43f90d,'profile':_0x3a543c,'role':_0x36dcbc,'language':_0x3d8d23,'data':_0x4e3f1a});}catch(_0x5a2766){_0x184d90['json'](_0x5a2766);}}),router[a0_0x22592b(0xff)]('/viewdata_tf_fg/:id',auth,async(_0x408268,_0x5c4eea)=>{var _0x40273e=a0_0x22592b;try{const _0x14e3f6=_0x408268[_0x40273e(0xfc)]['id'];var _0x460167=await transfers_finished['findById'](_0x14e3f6);const _0x11b1dd=await master_shop[_0x40273e(0x138)](),_0x1288b9=_0x408268[_0x40273e(0x123)],_0x6801b9=await profile['findOne']({'email':_0x1288b9[_0x40273e(0x132)]});if(_0x11b1dd[0x0][_0x40273e(0x10d)]==_0x40273e(0xe1))var _0x1a8335=users[_0x40273e(0x111)];else{if(_0x11b1dd[0x0][_0x40273e(0x10d)]==_0x40273e(0xe8))var _0x1a8335=users['Hindi'];else{if(_0x11b1dd[0x0][_0x40273e(0x10d)]=='German')var _0x1a8335=users['German'];else{if(_0x11b1dd[0x0][_0x40273e(0x10d)]==_0x40273e(0x112))var _0x1a8335=users[_0x40273e(0x112)];else{if(_0x11b1dd[0x0]['language']==_0x40273e(0xfa))var _0x1a8335=users['French'];else{if(_0x11b1dd[0x0]['language']==_0x40273e(0x104))var _0x1a8335=users['Portuguese'];else{if(_0x11b1dd[0x0][_0x40273e(0x10d)]==_0x40273e(0xd9))var _0x1a8335=users[_0x40273e(0xd9)];else{if(_0x11b1dd[0x0]['language']==_0x40273e(0x11c))var _0x1a8335=users[_0x40273e(0x130)];}}}}}}}_0x5c4eea['render'](_0x40273e(0xf8),{'success':_0x408268[_0x40273e(0xec)](_0x40273e(0x131)),'errors':_0x408268['flash'](_0x40273e(0xfd)),'master_shop':_0x11b1dd,'profile':_0x6801b9,'role':_0x1288b9,'language':_0x1a8335,'data':_0x460167});}catch(_0x1ffc60){_0x5c4eea[_0x40273e(0x12a)](_0x1ffc60);}}),router[a0_0x22592b(0xff)](a0_0x22592b(0x124),auth,async(_0x2569f4,_0x187b63)=>{var _0x4c7e68=a0_0x22592b;try{const {username:_0x57848c,email:_0x3fb924,role:_0x1fd001}=_0x2569f4[_0x4c7e68(0x123)],_0x1cdd77=_0x2569f4[_0x4c7e68(0x123)],_0x55c11b=await profile[_0x4c7e68(0xdd)]({'email':_0x1cdd77[_0x4c7e68(0x132)]}),_0x501bc4=await master_shop[_0x4c7e68(0x138)](),_0x18b18c=await warehouse[_0x4c7e68(0xef)]([{'$match':{'status':_0x4c7e68(0xf0),'warehouse_category':_0x4c7e68(0x129)}},{'$group':{'_id':'$name','name':{'$first':_0x4c7e68(0x11e)}}}]);if(_0x501bc4[0x0]['language']==_0x4c7e68(0xe1))var _0x4208cf=users[_0x4c7e68(0x111)];else{if(_0x501bc4[0x0][_0x4c7e68(0x10d)]==_0x4c7e68(0xe8))var _0x4208cf=users[_0x4c7e68(0xe8)];else{if(_0x501bc4[0x0][_0x4c7e68(0x10d)]=='German')var _0x4208cf=users['German'];else{if(_0x501bc4[0x0][_0x4c7e68(0x10d)]=='Spanish')var _0x4208cf=users[_0x4c7e68(0x112)];else{if(_0x501bc4[0x0]['language']=='French')var _0x4208cf=users['French'];else{if(_0x501bc4[0x0]['language']==_0x4c7e68(0x104))var _0x4208cf=users[_0x4c7e68(0xda)];else{if(_0x501bc4[0x0][_0x4c7e68(0x10d)]==_0x4c7e68(0xd9))var _0x4208cf=users['Chinese'];else{if(_0x501bc4[0x0][_0x4c7e68(0x10d)]==_0x4c7e68(0x11c))var _0x4208cf=users[_0x4c7e68(0x130)];}}}}}}}_0x187b63['render']('transaction_finished_raw',{'success':_0x2569f4[_0x4c7e68(0xec)]('success'),'errors':_0x2569f4[_0x4c7e68(0xec)]('errors'),'role':_0x1cdd77,'profile':_0x55c11b,'master_shop':_0x501bc4,'dataProcess':_0x18b18c,'language':_0x4208cf});}catch(_0x4c6dde){console['log'](_0x4c6dde);}}),module[a0_0x22592b(0x10e)]=router;