function a0_0x1449(){var _0x2621de=['5676468JnyJqT','9602649LNMrPx','success','4DETWTS','nodemailer','18085iUbvrH','language','flash','express','Arabic','aggregate','../middleware/auth','email','722607GLKUIg','Hindi','find','user','10HuaTrt','post','33SHwmXf','Spanish','376479ANTmxJ','German','Enabled','transaction_finished','get','Portuguese\x20(BR)','params','render','French','Chinese','findById','body','9912cshjov','/viewdata_inc_fg/:id','English','Portuguese','$product','English\x20(US)','4069236laperm','$invoice','$date','json','Finished\x20Goods','$sale_product','findOne','Arabic\x20(ae)','../public/language/languages.json','$name','/viewdata_og_fg/:id','view_og_table','errors','136iOtxXL','10451vNLqre','length','$warehouse_name','../models/all_models','/view','/reports','view_table','Router'];a0_0x1449=function(){return _0x2621de;};return a0_0x1449();}var a0_0xd3214e=a0_0x39e8;(function(_0x6b3eb0,_0x1cfa7e){var _0x1cc7a8=a0_0x39e8,_0x593665=_0x6b3eb0();while(!![]){try{var _0x176eb5=-parseInt(_0x1cc7a8(0xad))/0x1+-parseInt(_0x1cc7a8(0x9b))/0x2*(-parseInt(_0x1cc7a8(0xa5))/0x3)+parseInt(_0x1cc7a8(0x8f))/0x4*(parseInt(_0x1cc7a8(0x9d))/0x5)+parseInt(_0x1cc7a8(0x98))/0x6+parseInt(_0x1cc7a8(0x90))/0x7*(parseInt(_0x1cc7a8(0x7c))/0x8)+-parseInt(_0x1cc7a8(0x99))/0x9*(parseInt(_0x1cc7a8(0xa9))/0xa)+-parseInt(_0x1cc7a8(0xab))/0xb*(parseInt(_0x1cc7a8(0x82))/0xc);if(_0x176eb5===_0x1cfa7e)break;else _0x593665['push'](_0x593665['shift']());}catch(_0x1417a7){_0x593665['push'](_0x593665['shift']());}}}(a0_0x1449,0xe5760));function a0_0x39e8(_0x33f940,_0x1af6fd){var _0x144966=a0_0x1449();return a0_0x39e8=function(_0x39e857,_0x3f2e1a){_0x39e857=_0x39e857-0x76;var _0x8e3c0f=_0x144966[_0x39e857];return _0x8e3c0f;},a0_0x39e8(_0x33f940,_0x1af6fd);}const express=require(a0_0xd3214e(0xa0)),app=express(),router=express[a0_0xd3214e(0x97)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_finished,sales,sales_finished,sales_return,suppliers_payment,customer_payment,transfers,transfers_finished,email_settings,supervisor_settings,adjustment_finished}=require(a0_0xd3214e(0x93)),auth=require(a0_0xd3214e(0xa3)),users=require(a0_0xd3214e(0x8a)),nodemailer=require(a0_0xd3214e(0x9c));router['get'](a0_0xd3214e(0x94),auth,async(_0x3943df,_0x257f4e)=>{var _0x5d5f9d=a0_0xd3214e;try{const {username:_0x185763,email:_0x58c251,role:_0xfbad5a}=_0x3943df[_0x5d5f9d(0xa8)],_0x18d392=_0x3943df[_0x5d5f9d(0xa8)],_0x2df754=await profile[_0x5d5f9d(0x88)]({'email':_0x18d392['email']}),_0x412d8d=await master_shop[_0x5d5f9d(0xa7)](),_0xec8904=await warehouse['aggregate']([{'$match':{'status':_0x5d5f9d(0xaf),'warehouse_category':_0x5d5f9d(0x86)}},{'$group':{'_id':'$name','name':{'$first':_0x5d5f9d(0x8b)}}}]);if(_0x412d8d[0x0][_0x5d5f9d(0x9e)]==_0x5d5f9d(0x81))var _0x350256=users['English'];else{if(_0x412d8d[0x0][_0x5d5f9d(0x9e)]==_0x5d5f9d(0xa6))var _0x350256=users['Hindi'];else{if(_0x412d8d[0x0][_0x5d5f9d(0x9e)]=='German')var _0x350256=users[_0x5d5f9d(0xae)];else{if(_0x412d8d[0x0][_0x5d5f9d(0x9e)]==_0x5d5f9d(0xac))var _0x350256=users[_0x5d5f9d(0xac)];else{if(_0x412d8d[0x0][_0x5d5f9d(0x9e)]==_0x5d5f9d(0x78))var _0x350256=users[_0x5d5f9d(0x78)];else{if(_0x412d8d[0x0]['language']==_0x5d5f9d(0xb2))var _0x350256=users[_0x5d5f9d(0x7f)];else{if(_0x412d8d[0x0][_0x5d5f9d(0x9e)]==_0x5d5f9d(0x79))var _0x350256=users[_0x5d5f9d(0x79)];else{if(_0x412d8d[0x0][_0x5d5f9d(0x9e)]==_0x5d5f9d(0x89))var _0x350256=users[_0x5d5f9d(0xa1)];}}}}}}}_0x257f4e[_0x5d5f9d(0x77)](_0x5d5f9d(0xb0),{'success':_0x3943df[_0x5d5f9d(0x9f)](_0x5d5f9d(0x9a)),'errors':_0x3943df[_0x5d5f9d(0x9f)](_0x5d5f9d(0x8e)),'role':_0x18d392,'profile':_0x2df754,'master_shop':_0x412d8d,'dataProcess':_0xec8904,'language':_0x350256});}catch(_0x51d0b0){console['log'](_0x51d0b0);}}),router[a0_0xd3214e(0xaa)](a0_0xd3214e(0x95),auth,async(_0x2bfc6e,_0x199e29)=>{var _0x469cd4=a0_0xd3214e;const {product_category:_0x16a024,transaction_category:_0x1b1e6f,transaction_date_from:_0x4a3bdb,transaction_date_to:_0x3ddc8f,warehouse_category:_0x2a53f4,item_code:_0xac056e}=_0x2bfc6e[_0x469cd4(0x7b)];var _0xe964eb;if(_0x16a024=='rm'){}else{if(_0x16a024=='fg')switch(_0x1b1e6f){case'IC':_0xac056e['length']>0x0?_0xe964eb=await purchases_finished[_0x469cd4(0xa2)]([{'$match':{'warehouse_name':_0x2a53f4,'date':{'$gte':_0x4a3bdb,'$lte':_0x3ddc8f}}},{'$unwind':_0x469cd4(0x80)},{'$match':{'$or':[{'product.product_code':_0xac056e}]}},{'$group':{'_id':_0x469cd4(0x83),'date':{'$first':'$date'},'warehouse_name':{'$first':'$warehouse_name'},'products':{'$push':'$product'}}}]):_0xe964eb=await purchases_finished[_0x469cd4(0xa2)]([{'$match':{'warehouse_name':_0x2a53f4,'date':{'$gte':_0x4a3bdb,'$lte':_0x3ddc8f}}},{'$unwind':_0x469cd4(0x80)},{'$group':{'_id':_0x469cd4(0x83),'date':{'$first':_0x469cd4(0x84)},'warehouse_name':{'$first':_0x469cd4(0x92)},'products':{'$push':_0x469cd4(0x80)}}}]);break;case'OG':_0xac056e[_0x469cd4(0x91)]>0x0?_0xe964eb=await sales_finished[_0x469cd4(0xa2)]([{'$match':{'warehouse_name':_0x2a53f4,'date':{'$gte':_0x4a3bdb,'$lte':_0x3ddc8f}}},{'$unwind':_0x469cd4(0x87)},{'$match':{'$or':[{'sale_product.product_code':_0xac056e}]}},{'$group':{'_id':_0x469cd4(0x83),'date':{'$first':_0x469cd4(0x84)},'warehouse_name':{'$first':_0x469cd4(0x92)},'products':{'$push':_0x469cd4(0x87)}}}]):_0xe964eb=await sales_finished['aggregate']([{'$match':{'warehouse_name':_0x2a53f4,'date':{'$gte':_0x4a3bdb,'$lte':_0x3ddc8f}}},{'$unwind':'$sale_product'},{'$group':{'_id':_0x469cd4(0x83),'date':{'$first':'$date'},'warehouse_name':{'$first':_0x469cd4(0x92)},'products':{'$push':_0x469cd4(0x87)}}}]);break;case'AJ':break;case'TF':_0xe964eb=await transfers_finished[_0x469cd4(0xa7)]({'warehouse':_0x2a53f4,'date':{'$gte':_0x4a3bdb,'$lte':_0x3ddc8f}});break;}}_0x199e29[_0x469cd4(0x85)]({'data':_0xe964eb});}),router['get'](a0_0xd3214e(0x7d),auth,async(_0x20ea03,_0x31cec4)=>{var _0x57a2d2=a0_0xd3214e;try{const _0x136935=_0x20ea03[_0x57a2d2(0x76)]['id'];var _0xdb107c=await purchases_finished['findById'](_0x136935);const _0xfe1d28=await master_shop['find'](),_0x54aec2=_0x20ea03[_0x57a2d2(0xa8)],_0x1e96bf=await profile[_0x57a2d2(0x88)]({'email':_0x54aec2[_0x57a2d2(0xa4)]});if(_0xfe1d28[0x0][_0x57a2d2(0x9e)]==_0x57a2d2(0x81))var _0x2d407f=users[_0x57a2d2(0x7e)];else{if(_0xfe1d28[0x0][_0x57a2d2(0x9e)]==_0x57a2d2(0xa6))var _0x2d407f=users[_0x57a2d2(0xa6)];else{if(_0xfe1d28[0x0]['language']==_0x57a2d2(0xae))var _0x2d407f=users['German'];else{if(_0xfe1d28[0x0][_0x57a2d2(0x9e)]=='Spanish')var _0x2d407f=users[_0x57a2d2(0xac)];else{if(_0xfe1d28[0x0]['language']==_0x57a2d2(0x78))var _0x2d407f=users[_0x57a2d2(0x78)];else{if(_0xfe1d28[0x0][_0x57a2d2(0x9e)]==_0x57a2d2(0xb2))var _0x2d407f=users[_0x57a2d2(0x7f)];else{if(_0xfe1d28[0x0]['language']==_0x57a2d2(0x79))var _0x2d407f=users[_0x57a2d2(0x79)];else{if(_0xfe1d28[0x0][_0x57a2d2(0x9e)]==_0x57a2d2(0x89))var _0x2d407f=users[_0x57a2d2(0xa1)];}}}}}}}_0x31cec4[_0x57a2d2(0x77)](_0x57a2d2(0x96),{'success':_0x20ea03['flash'](_0x57a2d2(0x9a)),'errors':_0x20ea03[_0x57a2d2(0x9f)](_0x57a2d2(0x8e)),'master_shop':_0xfe1d28,'profile':_0x1e96bf,'role':_0x54aec2,'language':_0x2d407f,'data':_0xdb107c});}catch(_0x5f5104){_0x31cec4[_0x57a2d2(0x85)](_0x5f5104);}}),router['get'](a0_0xd3214e(0x8c),auth,async(_0x383ade,_0x419977)=>{var _0xf8ae63=a0_0xd3214e;try{const _0x17e890=_0x383ade[_0xf8ae63(0x76)]['id'];var _0x1e8633=await sales_finished[_0xf8ae63(0x7a)](_0x17e890);const _0x141c70=await master_shop[_0xf8ae63(0xa7)](),_0x430c47=_0x383ade[_0xf8ae63(0xa8)],_0x439e33=await profile[_0xf8ae63(0x88)]({'email':_0x430c47[_0xf8ae63(0xa4)]});if(_0x141c70[0x0]['language']=='English\x20(US)')var _0x47ebe6=users[_0xf8ae63(0x7e)];else{if(_0x141c70[0x0][_0xf8ae63(0x9e)]==_0xf8ae63(0xa6))var _0x47ebe6=users[_0xf8ae63(0xa6)];else{if(_0x141c70[0x0][_0xf8ae63(0x9e)]==_0xf8ae63(0xae))var _0x47ebe6=users[_0xf8ae63(0xae)];else{if(_0x141c70[0x0][_0xf8ae63(0x9e)]==_0xf8ae63(0xac))var _0x47ebe6=users[_0xf8ae63(0xac)];else{if(_0x141c70[0x0][_0xf8ae63(0x9e)]==_0xf8ae63(0x78))var _0x47ebe6=users[_0xf8ae63(0x78)];else{if(_0x141c70[0x0][_0xf8ae63(0x9e)]=='Portuguese\x20(BR)')var _0x47ebe6=users[_0xf8ae63(0x7f)];else{if(_0x141c70[0x0][_0xf8ae63(0x9e)]==_0xf8ae63(0x79))var _0x47ebe6=users[_0xf8ae63(0x79)];else{if(_0x141c70[0x0]['language']==_0xf8ae63(0x89))var _0x47ebe6=users[_0xf8ae63(0xa1)];}}}}}}}_0x419977[_0xf8ae63(0x77)](_0xf8ae63(0x8d),{'success':_0x383ade[_0xf8ae63(0x9f)](_0xf8ae63(0x9a)),'errors':_0x383ade[_0xf8ae63(0x9f)](_0xf8ae63(0x8e)),'master_shop':_0x141c70,'profile':_0x439e33,'role':_0x430c47,'language':_0x47ebe6,'data':_0x1e8633});}catch(_0x3e7462){_0x419977[_0xf8ae63(0x85)](_0x3e7462);}}),router[a0_0xd3214e(0xb1)]('/viewdata_tf_fg/:id',auth,async(_0x587b6f,_0x34b75d)=>{var _0x473c8d=a0_0xd3214e;try{const _0x21d87f=_0x587b6f['params']['id'];var _0x2e81fe=await transfers_finished[_0x473c8d(0x7a)](_0x21d87f);const _0x8fb77=await master_shop['find'](),_0x159bc0=_0x587b6f[_0x473c8d(0xa8)],_0x536534=await profile['findOne']({'email':_0x159bc0[_0x473c8d(0xa4)]});if(_0x8fb77[0x0][_0x473c8d(0x9e)]=='English\x20(US)')var _0x4aff7e=users[_0x473c8d(0x7e)];else{if(_0x8fb77[0x0]['language']=='Hindi')var _0x4aff7e=users['Hindi'];else{if(_0x8fb77[0x0]['language']==_0x473c8d(0xae))var _0x4aff7e=users[_0x473c8d(0xae)];else{if(_0x8fb77[0x0][_0x473c8d(0x9e)]==_0x473c8d(0xac))var _0x4aff7e=users['Spanish'];else{if(_0x8fb77[0x0][_0x473c8d(0x9e)]==_0x473c8d(0x78))var _0x4aff7e=users[_0x473c8d(0x78)];else{if(_0x8fb77[0x0]['language']=='Portuguese\x20(BR)')var _0x4aff7e=users[_0x473c8d(0x7f)];else{if(_0x8fb77[0x0]['language']=='Chinese')var _0x4aff7e=users[_0x473c8d(0x79)];else{if(_0x8fb77[0x0]['language']==_0x473c8d(0x89))var _0x4aff7e=users[_0x473c8d(0xa1)];}}}}}}}_0x34b75d[_0x473c8d(0x77)]('view_tf_table',{'success':_0x587b6f[_0x473c8d(0x9f)](_0x473c8d(0x9a)),'errors':_0x587b6f[_0x473c8d(0x9f)]('errors'),'master_shop':_0x8fb77,'profile':_0x536534,'role':_0x159bc0,'language':_0x4aff7e,'data':_0x2e81fe});}catch(_0x371421){_0x34b75d[_0x473c8d(0x85)](_0x371421);}}),module['exports']=router;