const a0_0x1e2a84=a0_0x1cd0;function a0_0x3043(){const _0x18a66a=['table\x20page','$product_details','exports','message','1103705gcXLwO','/warehouse_monitor','/checking','1062825IPtuRj','/negative','$room','241042IMLlEy','../../models/all_models','render','aggregate','296mVXSZT','89752bfFSwR','errors','flash','modifiedCount','json','monitor','status','7CQrtjs','express','211012HXsseS','1741458jyLyVJ','\x20documents\x20updated','$name','get','14800005047429','119295BGjVos'];a0_0x3043=function(){return _0x18a66a;};return a0_0x3043();}function a0_0x1cd0(_0x31da1c,_0x1f915f){const _0x304317=a0_0x3043();return a0_0x1cd0=function(_0x1cd0b3,_0x5bf429){_0x1cd0b3=_0x1cd0b3-0x1e3;let _0x2aa92c=_0x304317[_0x1cd0b3];return _0x2aa92c;},a0_0x1cd0(_0x31da1c,_0x1f915f);}(function(_0x391817,_0x59158d){const _0xfe6d4f=a0_0x1cd0,_0x205f8c=_0x391817();while(!![]){try{const _0x353935=parseInt(_0xfe6d4f(0x1f2))/0x1+-parseInt(_0xfe6d4f(0x1f7))/0x2+-parseInt(_0xfe6d4f(0x1ef))/0x3+-parseInt(_0xfe6d4f(0x200))/0x4+parseInt(_0xfe6d4f(0x1ec))/0x5+-parseInt(_0xfe6d4f(0x201))/0x6*(parseInt(_0xfe6d4f(0x1fe))/0x7)+-parseInt(_0xfe6d4f(0x1f6))/0x8*(-parseInt(_0xfe6d4f(0x1e7))/0x9);if(_0x353935===_0x59158d)break;else _0x205f8c['push'](_0x205f8c['shift']());}catch(_0x4751da){_0x205f8c['push'](_0x205f8c['shift']());}}}(a0_0x3043,0x33497));const express=require(a0_0x1e2a84(0x1ff)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x1e2a84(0x1f3));router[a0_0x1e2a84(0x1e5)](a0_0x1e2a84(0x1f0),async(_0x3930a0,_0x2c1306)=>{const _0x1d0e2d=a0_0x1e2a84;try{const _0x4fcb9e=await warehouse['updateMany']({'product_details.product_stock':{'$lt':0x0}},{'$mul':{'product_details.$[elem].product_stock':-0x1}},{'arrayFilters':[{'elem.product_stock':{'$lt':0x0}}]});_0x2c1306['json']({'status':_0x4fcb9e[_0x1d0e2d(0x1fa)]+_0x1d0e2d(0x1e3)});}catch(_0x357fd5){console['log'](_0x1d0e2d(0x1e8),_0x357fd5),_0x2c1306[_0x1d0e2d(0x1fd)](0xc8)[_0x1d0e2d(0x1fb)]({'message':_0x357fd5[_0x1d0e2d(0x1eb)]});}}),router[a0_0x1e2a84(0x1e5)](a0_0x1e2a84(0x1ee),async(_0x123998,_0x468521)=>{const _0xdc9a8c=a0_0x1e2a84;try{const _0xf21a43=await warehouse[_0xdc9a8c(0x1f5)]([{'$unwind':_0xdc9a8c(0x1e9)},{'$match':{'product_details.invoice':'INCF-52068316','product_details.primary_code':_0xdc9a8c(0x1e6)}},{'$group':{'_id':{'name':_0xdc9a8c(0x1e4),'room':_0xdc9a8c(0x1f1)},'products':{'$push':_0xdc9a8c(0x1e9)}}}]);_0x468521[_0xdc9a8c(0x1fb)](_0xf21a43);}catch(_0x1be13f){console['log'](_0xdc9a8c(0x1e8),_0x1be13f),_0x468521[_0xdc9a8c(0x1fd)](0xc8)['json']({'message':_0x1be13f[_0xdc9a8c(0x1eb)]});}}),router[a0_0x1e2a84(0x1e5)](a0_0x1e2a84(0x1ed),async(_0x4de1ff,_0x5b67ed)=>{const _0x90d033=a0_0x1e2a84;_0x5b67ed[_0x90d033(0x1f4)](_0x90d033(0x1fc),{'success':_0x4de1ff[_0x90d033(0x1f9)]('success'),'errors':_0x4de1ff['flash'](_0x90d033(0x1f8))});}),module[a0_0x1e2a84(0x1ea)]=router;