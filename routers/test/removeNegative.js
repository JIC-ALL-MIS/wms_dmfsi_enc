const a0_0x32c426=a0_0x3992;(function(_0x2ca887,_0x41e247){const _0x5d253a=a0_0x3992,_0x4557a7=_0x2ca887();while(!![]){try{const _0x4d40ff=parseInt(_0x5d253a(0x10f))/0x1*(-parseInt(_0x5d253a(0x115))/0x2)+parseInt(_0x5d253a(0x102))/0x3+parseInt(_0x5d253a(0x11a))/0x4*(-parseInt(_0x5d253a(0x11b))/0x5)+-parseInt(_0x5d253a(0xff))/0x6+parseInt(_0x5d253a(0x106))/0x7*(-parseInt(_0x5d253a(0x107))/0x8)+-parseInt(_0x5d253a(0x10e))/0x9*(-parseInt(_0x5d253a(0xf0))/0xa)+parseInt(_0x5d253a(0xf2))/0xb*(parseInt(_0x5d253a(0x118))/0xc);if(_0x4d40ff===_0x41e247)break;else _0x4557a7['push'](_0x4557a7['shift']());}catch(_0x454d31){_0x4557a7['push'](_0x4557a7['shift']());}}}(a0_0x21d9,0xca1a4));function a0_0x21d9(){const _0x209fe6=['/join','$product_details._id','14800005047429','modifiedCount','aggregate','28HcRXgB','success','render','34018188wPwAQy','$name','50344aomatB','30kxwsmN','json','677410INrpZj','status','11XjKxFu','log','$product_details','warehouses','errors','message','INCF-52068316','express','INCF-69565374','get','\x20documents\x20updated','warehouse_data','$room','4113576IgETKU','/checking','updateMany','695547jqPRmq','../../models/all_models','table\x20page','/warehouse_monitor','7087843TKEPAA','8nBkzYn','$product_details.product_code','$product_details.invoice','flash','$product_details.product_name','$$invoice','$product_details.product_stock','9jNDqkR','38069WVFrrV'];a0_0x21d9=function(){return _0x209fe6;};return a0_0x21d9();}function a0_0x3992(_0x3b033a,_0x3ce4b5){const _0x21d9fc=a0_0x21d9();return a0_0x3992=function(_0x3992e9,_0x44f80e){_0x3992e9=_0x3992e9-0xef;let _0x284ab0=_0x21d9fc[_0x3992e9];return _0x284ab0;},a0_0x3992(_0x3b033a,_0x3ce4b5);}const express=require(a0_0x32c426(0xf9)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings,purchases_finished}=require(a0_0x32c426(0x103));router[a0_0x32c426(0xfb)]('/negative',async(_0x551628,_0x15c4bc)=>{const _0x3b1067=a0_0x32c426;try{const _0x3ace8d=await warehouse[_0x3b1067(0x101)]({'product_details.product_stock':{'$lt':0x0}},{'$mul':{'product_details.$[elem].product_stock':-0x1}},{'arrayFilters':[{'elem.product_stock':{'$lt':0x0}}]});_0x15c4bc['json']({'status':_0x3ace8d[_0x3b1067(0x113)]+_0x3b1067(0xfc)});}catch(_0x1d6e58){console[_0x3b1067(0xf3)](_0x3b1067(0x104),_0x1d6e58),_0x15c4bc[_0x3b1067(0xf1)](0xc8)[_0x3b1067(0xef)]({'message':_0x1d6e58[_0x3b1067(0xf7)]});}}),router[a0_0x32c426(0xfb)](a0_0x32c426(0x100),async(_0x2c9819,_0x2cdcf4)=>{const _0x2f40c3=a0_0x32c426;try{const _0x4864ad=await warehouse[_0x2f40c3(0x114)]([{'$unwind':'$product_details'},{'$match':{'product_details.invoice':_0x2f40c3(0xf8),'product_details.primary_code':_0x2f40c3(0x112)}},{'$group':{'_id':{'name':_0x2f40c3(0x119),'room':_0x2f40c3(0xfe)},'products':{'$push':_0x2f40c3(0xf4)}}}]);_0x2cdcf4[_0x2f40c3(0xef)](_0x4864ad);}catch(_0x4e21e3){console[_0x2f40c3(0xf3)](_0x2f40c3(0x104),_0x4e21e3),_0x2cdcf4[_0x2f40c3(0xf1)](0xc8)[_0x2f40c3(0xef)]({'message':_0x4e21e3[_0x2f40c3(0xf7)]});}}),router[a0_0x32c426(0xfb)](a0_0x32c426(0x105),async(_0x3d69e6,_0xc1bd04)=>{const _0xcc37eb=a0_0x32c426;_0xc1bd04[_0xcc37eb(0x117)]('monitor',{'success':_0x3d69e6[_0xcc37eb(0x10a)](_0xcc37eb(0x116)),'errors':_0x3d69e6[_0xcc37eb(0x10a)](_0xcc37eb(0xf6))});}),router[a0_0x32c426(0xfb)](a0_0x32c426(0x110),async(_0x40daf7,_0x402ea4)=>{const _0x5651cc=a0_0x32c426,_0x304abc=await purchases_finished[_0x5651cc(0x114)]([{'$match':{'invoice':_0x5651cc(0xfa)}},{'$lookup':{'from':_0x5651cc(0xf5),'let':{'invoice':'$invoice'},'pipeline':[{'$unwind':_0x5651cc(0xf4)},{'$match':{'$expr':{'$eq':[_0x5651cc(0x10c),_0x5651cc(0x109)]}}},{'$project':{'_id':_0x5651cc(0x111),'product_name':_0x5651cc(0x10b),'product_code':_0x5651cc(0x108),'quantity_purchased':'$product.quantity','quantity_available':_0x5651cc(0x10d),'warehouse_name':_0x5651cc(0x119),'warehouse_address':'$address'}}],'as':_0x5651cc(0xfd)}}]);_0x402ea4[_0x5651cc(0xef)](_0x304abc);}),module['exports']=router;