const a0_0x21d84c=a0_0x1347;function a0_0x5498(){const _0x2ec55d=['$room','1767678XtBvjT','json','8qZQpLy','modifiedCount','/negative','\x20documents\x20updated','table\x20page','14800005047429','get','1058409ITqwuN','$product_details','45tevLBc','1947290FASftv','Router','$name','aggregate','1094562BvUqCg','16sQAjOu','53139obLXWl','message','7fKkhWn','exports','log','3368024wmIGWN','18188KSrvsz','INCF-52068316','updateMany'];a0_0x5498=function(){return _0x2ec55d;};return a0_0x5498();}(function(_0x58dbfa,_0x56a600){const _0x1b136d=a0_0x1347,_0xb94a69=_0x58dbfa();while(!![]){try{const _0x2074ca=parseInt(_0x1b136d(0x14e))/0x1*(-parseInt(_0x1b136d(0x13e))/0x2)+parseInt(_0x1b136d(0x145))/0x3+parseInt(_0x1b136d(0x138))/0x4*(parseInt(_0x1b136d(0x147))/0x5)+-parseInt(_0x1b136d(0x13c))/0x6*(-parseInt(_0x1b136d(0x134))/0x7)+parseInt(_0x1b136d(0x14d))/0x8*(parseInt(_0x1b136d(0x14c))/0x9)+-parseInt(_0x1b136d(0x148))/0xa+-parseInt(_0x1b136d(0x137))/0xb;if(_0x2074ca===_0x56a600)break;else _0xb94a69['push'](_0xb94a69['shift']());}catch(_0x53ad3b){_0xb94a69['push'](_0xb94a69['shift']());}}}(a0_0x5498,0x353fa));function a0_0x1347(_0x5238e9,_0x30a2bf){const _0x5498a5=a0_0x5498();return a0_0x1347=function(_0x134713,_0x102b15){_0x134713=_0x134713-0x133;let _0x2a79c0=_0x5498a5[_0x134713];return _0x2a79c0;},a0_0x1347(_0x5238e9,_0x30a2bf);}const express=require('express'),app=express(),router=express[a0_0x21d84c(0x149)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require('../../models/all_models');router[a0_0x21d84c(0x144)](a0_0x21d84c(0x140),async(_0x56dd0f,_0x15148a)=>{const _0x51e9ef=a0_0x21d84c;try{const _0x518bdf=await warehouse[_0x51e9ef(0x13a)]({'product_details.product_stock':{'$lt':0x0}},{'$mul':{'product_details.$[elem].product_stock':-0x1}},{'arrayFilters':[{'elem.product_stock':{'$lt':0x0}}]});_0x15148a[_0x51e9ef(0x13d)]({'status':_0x518bdf[_0x51e9ef(0x13f)]+_0x51e9ef(0x141)});}catch(_0x370498){console[_0x51e9ef(0x136)]('table\x20page',_0x370498),_0x15148a['status'](0xc8)[_0x51e9ef(0x13d)]({'message':_0x370498[_0x51e9ef(0x133)]});}}),router[a0_0x21d84c(0x144)]('/checking',async(_0x327ab7,_0x428aee)=>{const _0x2e2de1=a0_0x21d84c;try{const _0x3e2742=await warehouse[_0x2e2de1(0x14b)]([{'$unwind':_0x2e2de1(0x146)},{'$match':{'product_details.invoice':_0x2e2de1(0x139),'product_details.primary_code':_0x2e2de1(0x143)}},{'$group':{'_id':{'name':_0x2e2de1(0x14a),'room':_0x2e2de1(0x13b)},'products':{'$push':_0x2e2de1(0x146)}}}]);_0x428aee[_0x2e2de1(0x13d)](_0x3e2742);}catch(_0x384b97){console[_0x2e2de1(0x136)](_0x2e2de1(0x142),_0x384b97),_0x428aee['status'](0xc8)[_0x2e2de1(0x13d)]({'message':_0x384b97[_0x2e2de1(0x133)]});}}),module[a0_0x21d84c(0x135)]=router;