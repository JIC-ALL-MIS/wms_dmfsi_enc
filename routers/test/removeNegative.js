const a0_0x2bf3f2=a0_0x2c2c;function a0_0x2556(){const _0x4e6eff=['message','status','../../models/all_models','55109FVHDCs','express','/negative','/checking','27daKtmr','updateMany','14800005047429','17777856mzoinH','modifiedCount','json','1208664mZrlhc','726498ZMuRyz','4474220RlpJMN','3KsuFNf','table\x20page','Router','38JJMHlq','50JYBYhG','25OqVMmz','2327996QBbKrH','INCF-52068316','2132396gqYMed','log','$room','$product_details'];a0_0x2556=function(){return _0x4e6eff;};return a0_0x2556();}function a0_0x2c2c(_0xb836fb,_0x58218d){const _0x2556d6=a0_0x2556();return a0_0x2c2c=function(_0x2c2c39,_0x34809a){_0x2c2c39=_0x2c2c39-0x113;let _0xfebd2b=_0x2556d6[_0x2c2c39];return _0xfebd2b;},a0_0x2c2c(_0xb836fb,_0x58218d);}(function(_0x2a0c47,_0x5a083e){const _0x6cb2b1=a0_0x2c2c,_0xf5e3ea=_0x2a0c47();while(!![]){try{const _0xd3cce0=parseInt(_0x6cb2b1(0x122))/0x1*(parseInt(_0x6cb2b1(0x116))/0x2)+-parseInt(_0x6cb2b1(0x113))/0x3*(-parseInt(_0x6cb2b1(0x12e))/0x4)+-parseInt(_0x6cb2b1(0x118))/0x5*(parseInt(_0x6cb2b1(0x12d))/0x6)+parseInt(_0x6cb2b1(0x11b))/0x7+parseInt(_0x6cb2b1(0x12c))/0x8*(-parseInt(_0x6cb2b1(0x126))/0x9)+-parseInt(_0x6cb2b1(0x117))/0xa*(-parseInt(_0x6cb2b1(0x119))/0xb)+-parseInt(_0x6cb2b1(0x129))/0xc;if(_0xd3cce0===_0x5a083e)break;else _0xf5e3ea['push'](_0xf5e3ea['shift']());}catch(_0x28dc4c){_0xf5e3ea['push'](_0xf5e3ea['shift']());}}}(a0_0x2556,0xf147a));const express=require(a0_0x2bf3f2(0x123)),app=express(),router=express[a0_0x2bf3f2(0x115)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x2bf3f2(0x121));router['get'](a0_0x2bf3f2(0x124),async(_0x3e6f3b,_0x18b3fe)=>{const _0x3f3879=a0_0x2bf3f2;try{const _0x3a2167=await warehouse[_0x3f3879(0x127)]({'product_details.product_stock':{'$lt':0x0}},{'$mul':{'product_details.$[elem].product_stock':-0x1}},{'arrayFilters':[{'elem.product_stock':{'$lt':0x0}}]});_0x18b3fe[_0x3f3879(0x12b)]({'status':_0x3a2167[_0x3f3879(0x12a)]+'\x20documents\x20updated'});}catch(_0x14bc88){console[_0x3f3879(0x11c)]('table\x20page',_0x14bc88),_0x18b3fe[_0x3f3879(0x120)](0xc8)['json']({'message':_0x14bc88[_0x3f3879(0x11f)]});}}),router['get'](a0_0x2bf3f2(0x125),async(_0x5df4b5,_0x4e7c31)=>{const _0x5905d4=a0_0x2bf3f2;try{const _0x1582b2=await warehouse['aggregate']([{'$unwind':_0x5905d4(0x11e)},{'$match':{'product_details.invoice':_0x5905d4(0x11a),'product_details.primary_code':_0x5905d4(0x128)}},{'$group':{'_id':{'name':'$name','room':_0x5905d4(0x11d)},'products':{'$push':_0x5905d4(0x11e)}}}]);_0x4e7c31[_0x5905d4(0x12b)](_0x1582b2);}catch(_0x853368){console[_0x5905d4(0x11c)](_0x5905d4(0x114),_0x853368),_0x4e7c31[_0x5905d4(0x120)](0xc8)['json']({'message':_0x853368[_0x5905d4(0x11f)]});}}),module['exports']=router;