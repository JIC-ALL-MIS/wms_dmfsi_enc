const a0_0x1e8728=a0_0x2d0a;(function(_0x3d0ac7,_0x21af18){const _0x2c76c2=a0_0x2d0a,_0x14073d=_0x3d0ac7();while(!![]){try{const _0x1933f6=-parseInt(_0x2c76c2(0x1f1))/0x1*(-parseInt(_0x2c76c2(0x1e3))/0x2)+parseInt(_0x2c76c2(0x1f0))/0x3+-parseInt(_0x2c76c2(0x1f4))/0x4*(parseInt(_0x2c76c2(0x1ee))/0x5)+parseInt(_0x2c76c2(0x1f2))/0x6+-parseInt(_0x2c76c2(0x1e7))/0x7*(-parseInt(_0x2c76c2(0x1e0))/0x8)+parseInt(_0x2c76c2(0x1df))/0x9*(-parseInt(_0x2c76c2(0x1e4))/0xa)+-parseInt(_0x2c76c2(0x1f8))/0xb;if(_0x1933f6===_0x21af18)break;else _0x14073d['push'](_0x14073d['shift']());}catch(_0x363f49){_0x14073d['push'](_0x14073d['shift']());}}}(a0_0x4763,0x203e4));const express=require('express'),app=express(),router=express[a0_0x1e8728(0x1f7)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require('../../models/all_models');function a0_0x4763(){const _0x2ca686=['$room','status','table\x20page','INCF-52068316','1150RQKjFC','json','659760GMZUoT','114941INIufh','24852utJOoc','exports','3076yCyPbt','modifiedCount','14800005047429','Router','971179CJBUMh','updateMany','log','/negative','920637yJMaew','16CdUfTZ','/checking','message','2iVfRkj','20IRpZbH','\x20documents\x20updated','$product_details','919835xRKRad','aggregate','get'];a0_0x4763=function(){return _0x2ca686;};return a0_0x4763();}function a0_0x2d0a(_0xf9abe8,_0x3ffcec){const _0x47631f=a0_0x4763();return a0_0x2d0a=function(_0x2d0a38,_0x1085cf){_0x2d0a38=_0x2d0a38-0x1dc;let _0x467c30=_0x47631f[_0x2d0a38];return _0x467c30;},a0_0x2d0a(_0xf9abe8,_0x3ffcec);}router[a0_0x1e8728(0x1e9)](a0_0x1e8728(0x1de),async(_0x2e7c49,_0x3ff54b)=>{const _0x34fa0e=a0_0x1e8728;try{const _0x261f41=await warehouse[_0x34fa0e(0x1dc)]({'product_details.product_stock':{'$lt':0x0}},{'$mul':{'product_details.$[elem].product_stock':-0x1}},{'arrayFilters':[{'elem.product_stock':{'$lt':0x0}}]});_0x3ff54b[_0x34fa0e(0x1ef)]({'status':_0x261f41[_0x34fa0e(0x1f5)]+_0x34fa0e(0x1e5)});}catch(_0x3ae685){console['log'](_0x34fa0e(0x1ec),_0x3ae685),_0x3ff54b['status'](0xc8)[_0x34fa0e(0x1ef)]({'message':_0x3ae685[_0x34fa0e(0x1e2)]});}}),router[a0_0x1e8728(0x1e9)](a0_0x1e8728(0x1e1),async(_0x30434f,_0x1bf779)=>{const _0x506f3c=a0_0x1e8728;try{const _0x32aed3=await warehouse[_0x506f3c(0x1e8)]([{'$unwind':_0x506f3c(0x1e6)},{'$match':{'product_details.invoice':_0x506f3c(0x1ed),'product_details.primary_code':_0x506f3c(0x1f6)}},{'$group':{'_id':{'name':'$name','room':_0x506f3c(0x1ea)},'products':{'$push':'$product_details'}}}]);_0x1bf779['json'](_0x32aed3);}catch(_0x55b166){console[_0x506f3c(0x1dd)]('table\x20page',_0x55b166),_0x1bf779[_0x506f3c(0x1eb)](0xc8)[_0x506f3c(0x1ef)]({'message':_0x55b166['message']});}}),module[a0_0x1e8728(0x1f3)]=router;