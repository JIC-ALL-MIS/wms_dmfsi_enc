const a0_0xc2c63f=a0_0x5115;(function(_0x3de0f8,_0x55afd3){const _0x128c64=a0_0x5115,_0x5e3375=_0x3de0f8();while(!![]){try{const _0x39cbeb=-parseInt(_0x128c64(0x11a))/0x1*(parseInt(_0x128c64(0x117))/0x2)+parseInt(_0x128c64(0x124))/0x3*(-parseInt(_0x128c64(0x10e))/0x4)+-parseInt(_0x128c64(0x125))/0x5*(-parseInt(_0x128c64(0x10a))/0x6)+parseInt(_0x128c64(0x114))/0x7+-parseInt(_0x128c64(0x115))/0x8+-parseInt(_0x128c64(0x11b))/0x9+-parseInt(_0x128c64(0x11e))/0xa*(-parseInt(_0x128c64(0x12c))/0xb);if(_0x39cbeb===_0x55afd3)break;else _0x5e3375['push'](_0x5e3375['shift']());}catch(_0x597c75){_0x5e3375['push'](_0x5e3375['shift']());}}}(a0_0x283b,0x5f93e));function a0_0x283b(){const _0x46771b=['2015181OBjGQq','2369808RwKGAb','flash','2nybapL','exports','aggregate','641477EjkGez','1490337lUSBIZ','updateMany','/negative','550SCprXQ','$name','INCF-52068316','json','14800005047429','log','168SDKFUF','110cmqZfM','/checking','table\x20page','render','express','errors','modifiedCount','242429czKBLt','65754MrKaii','monitor','get','message','17596YjrOtL','$product_details','Router','../../models/all_models','status','$room'];a0_0x283b=function(){return _0x46771b;};return a0_0x283b();}const express=require(a0_0xc2c63f(0x129)),app=express(),router=express[a0_0xc2c63f(0x110)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0xc2c63f(0x111));function a0_0x5115(_0x5e082a,_0x38d206){const _0x283bbd=a0_0x283b();return a0_0x5115=function(_0x511560,_0x3b2312){_0x511560=_0x511560-0x10a;let _0x1531d8=_0x283bbd[_0x511560];return _0x1531d8;},a0_0x5115(_0x5e082a,_0x38d206);}router[a0_0xc2c63f(0x10c)](a0_0xc2c63f(0x11d),async(_0x5ddc3c,_0x163ccc)=>{const _0x1a640f=a0_0xc2c63f;try{const _0x517600=await warehouse[_0x1a640f(0x11c)]({'product_details.product_stock':{'$lt':0x0}},{'$mul':{'product_details.$[elem].product_stock':-0x1}},{'arrayFilters':[{'elem.product_stock':{'$lt':0x0}}]});_0x163ccc[_0x1a640f(0x121)]({'status':_0x517600[_0x1a640f(0x12b)]+'\x20documents\x20updated'});}catch(_0x5d9f72){console['log'](_0x1a640f(0x127),_0x5d9f72),_0x163ccc['status'](0xc8)['json']({'message':_0x5d9f72['message']});}}),router[a0_0xc2c63f(0x10c)](a0_0xc2c63f(0x126),async(_0x1766ce,_0x5b05af)=>{const _0x2d650d=a0_0xc2c63f;try{const _0x137e58=await warehouse[_0x2d650d(0x119)]([{'$unwind':'$product_details'},{'$match':{'product_details.invoice':_0x2d650d(0x120),'product_details.primary_code':_0x2d650d(0x122)}},{'$group':{'_id':{'name':_0x2d650d(0x11f),'room':_0x2d650d(0x113)},'products':{'$push':_0x2d650d(0x10f)}}}]);_0x5b05af['json'](_0x137e58);}catch(_0x2bcfd6){console[_0x2d650d(0x123)](_0x2d650d(0x127),_0x2bcfd6),_0x5b05af[_0x2d650d(0x112)](0xc8)['json']({'message':_0x2bcfd6[_0x2d650d(0x10d)]});}}),router['get']('/warehouse_monitor',async(_0x2b8893,_0x5c5aeb)=>{const _0x421ffd=a0_0xc2c63f;_0x5c5aeb[_0x421ffd(0x128)](_0x421ffd(0x10b),{'success':_0x2b8893[_0x421ffd(0x116)]('success'),'errors':_0x2b8893[_0x421ffd(0x116)](_0x421ffd(0x12a))});}),module[a0_0xc2c63f(0x118)]=router;