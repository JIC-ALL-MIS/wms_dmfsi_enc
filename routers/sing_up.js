const a0_0x4c442a=a0_0x4b52;function a0_0x226f(){const _0x1f9c37=['20692422Cfolji','get','body','hash','1064DzAcfa','post','render','589188zPxFjb','errors','1041008xPiryI','25408bhBUCZ','login\x20master','save','Router','admin','4QcyOwZ','/sing_up','success','2786052sOXrJI','/sing_up_staff','3326680OvQEjh','welcome\x20','../middleware/auth','../models/all_models','redirect','62428SbRLFP','flash','find','sing_up','Disabled','sing_up_staff','exports','log','bcryptjs'];a0_0x226f=function(){return _0x1f9c37;};return a0_0x226f();}(function(_0x1ed075,_0x5a3f31){const _0x53065f=a0_0x4b52,_0xf84fc1=_0x1ed075();while(!![]){try{const _0x2c5a84=parseInt(_0x53065f(0x177))/0x1*(-parseInt(_0x53065f(0x16d))/0x2)+parseInt(_0x53065f(0x165))/0x3+-parseInt(_0x53065f(0x167))/0x4+-parseInt(_0x53065f(0x172))/0x5+-parseInt(_0x53065f(0x170))/0x6+parseInt(_0x53065f(0x162))/0x7*(-parseInt(_0x53065f(0x168))/0x8)+parseInt(_0x53065f(0x180))/0x9;if(_0x2c5a84===_0x5a3f31)break;else _0xf84fc1['push'](_0xf84fc1['shift']());}catch(_0x253062){_0xf84fc1['push'](_0xf84fc1['shift']());}}}(a0_0x226f,0x79960));function a0_0x4b52(_0x31767b,_0x518db8){const _0x226f71=a0_0x226f();return a0_0x4b52=function(_0x4b5237,_0x30f3dc){_0x4b5237=_0x4b5237-0x15f;let _0x35b0d5=_0x226f71[_0x4b5237];return _0x35b0d5;},a0_0x4b52(_0x31767b,_0x518db8);}const express=require('express'),app=express(),router=express[a0_0x4c442a(0x16b)](),bcrypt=require(a0_0x4c442a(0x17f)),{sing_up,staff,profile,master_shop}=require(a0_0x4c442a(0x175)),auth=require(a0_0x4c442a(0x174));router[a0_0x4c442a(0x15f)](a0_0x4c442a(0x16e),(_0x3e379d,_0x2f07a8)=>{const _0xea92ee=a0_0x4c442a;_0x2f07a8[_0xea92ee(0x164)](_0xea92ee(0x17a),{'success':_0x3e379d[_0xea92ee(0x178)]('success'),'errors':_0x3e379d[_0xea92ee(0x178)](_0xea92ee(0x166))});}),router['post']('/sing_up',async(_0x473411,_0x5af5a7)=>{const _0x3d3b28=a0_0x4c442a;try{console[_0x3d3b28(0x17e)](_0x473411[_0x3d3b28(0x160)]);const {name:_0x1fee63,email:_0x3f0f2e,password:_0x2dc15c,role:_0x159033}=_0x473411[_0x3d3b28(0x160)];console['log'](_0x159033);const _0x86499c=await bcrypt[_0x3d3b28(0x161)](_0x2dc15c,0xa),_0x52b8f6=new sing_up({'name':_0x1fee63,'email':_0x3f0f2e,'password':_0x86499c,'role':_0x3d3b28(0x16c)}),_0x50c027=await _0x52b8f6[_0x3d3b28(0x16a)](),_0x303dab=new profile({'firstname':_0x1fee63,'email':_0x3f0f2e}),_0x1e941d=await _0x303dab[_0x3d3b28(0x16a)]();_0x473411[_0x3d3b28(0x178)](_0x3d3b28(0x16f),_0x3d3b28(0x173)+_0x1fee63),_0x5af5a7[_0x3d3b28(0x176)]('/login');}catch(_0x2bb212){console[_0x3d3b28(0x17e)](_0x2bb212);}}),router[a0_0x4c442a(0x15f)](a0_0x4c442a(0x171),async(_0x53bd5a,_0x458940)=>{const _0x18ef2d=a0_0x4c442a;try{const _0x44f3a2=await master_shop[_0x18ef2d(0x179)]();console[_0x18ef2d(0x17e)](_0x18ef2d(0x169),_0x44f3a2),_0x458940[_0x18ef2d(0x164)](_0x18ef2d(0x17c),{'success':_0x53bd5a[_0x18ef2d(0x178)](_0x18ef2d(0x16f)),'errors':_0x53bd5a[_0x18ef2d(0x178)]('errors'),'master_shop':_0x44f3a2});}catch(_0x3d02aa){console[_0x18ef2d(0x17e)](_0x3d02aa);}}),router[a0_0x4c442a(0x163)]('/sing_up_staff',async(_0x527998,_0x4ef146)=>{const _0x51dcd3=a0_0x4c442a;try{console[_0x51dcd3(0x17e)](_0x527998['body']);const {name:_0x28fb4b,email:_0x22c171,password:_0x370613,mobile:_0x47db77}=_0x527998[_0x51dcd3(0x160)],_0x1c190f=await bcrypt['hash'](_0x370613,0xa),_0x30ad5e=new sing_up({'name':_0x28fb4b,'email':_0x22c171,'password':_0x1c190f,'mobile':_0x47db77,'role':'staff'}),_0x1eb1e9=await _0x30ad5e[_0x51dcd3(0x16a)](),_0x2d499d=new staff({'name':_0x28fb4b,'email':_0x22c171,'mobile':_0x47db77,'status':_0x51dcd3(0x17b)}),_0x59a187=await _0x2d499d['save'](),_0x39df37=new profile({'firstname':_0x28fb4b,'email':_0x22c171}),_0x20ddb3=await _0x39df37['save']();_0x527998[_0x51dcd3(0x178)](_0x51dcd3(0x16f),'Your\x20information\x20will\x20be\x20sent\x20to\x20the\x20administration\x20for\x20approval.!'),_0x4ef146[_0x51dcd3(0x176)]('/sing_up_staff');}catch(_0x37215b){console['log'](_0x37215b);}}),module[a0_0x4c442a(0x17d)]=router;