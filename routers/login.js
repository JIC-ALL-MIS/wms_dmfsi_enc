function a0_0x295e(){const _0x3e1436=['48715odxReA','22iuDUZb','flash','success','status','/index','../models/all_models','/login','password','login\x20successfully','secret_key','368QUMYAe','staff','9zydjUr','compare','4YTMlAz','jwt','params','1611890ELNgyP','login','All','11011860tUbkdm','your\x20password\x20is\x20wrong','log','124578nqcgxJ','clearCookie','warehouse_category','492clwoLB','1603zdQLeS','body','/staff/view','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','find','Disabled','../middleware/auth','cookie','findById','render','sign','/logout','exports','validate','env','get','express','629708XTwUdf','role','Router','72274ipEflM','name','email','findOne','errors','jsonwebtoken','redirect','login\x20master'];a0_0x295e=function(){return _0x3e1436;};return a0_0x295e();}const a0_0x209285=a0_0x598a;function a0_0x598a(_0x1de796,_0x38e075){const _0x295eb9=a0_0x295e();return a0_0x598a=function(_0x598ad5,_0x2bd9b2){_0x598ad5=_0x598ad5-0xe7;let _0x6c9d21=_0x295eb9[_0x598ad5];return _0x6c9d21;},a0_0x598a(_0x1de796,_0x38e075);}(function(_0x2fd889,_0x202664){const _0x4cb038=a0_0x598a,_0x4a7449=_0x2fd889();while(!![]){try{const _0x18ca91=parseInt(_0x4cb038(0x10f))/0x1+parseInt(_0x4cb038(0x112))/0x2*(-parseInt(_0x4cb038(0xef))/0x3)+-parseInt(_0x4cb038(0xf1))/0x4*(-parseInt(_0x4cb038(0x11a))/0x5)+parseInt(_0x4cb038(0xfd))/0x6*(-parseInt(_0x4cb038(0xfe))/0x7)+-parseInt(_0x4cb038(0xed))/0x8*(-parseInt(_0x4cb038(0xfa))/0x9)+parseInt(_0x4cb038(0xf4))/0xa*(parseInt(_0x4cb038(0x11b))/0xb)+-parseInt(_0x4cb038(0xf7))/0xc;if(_0x18ca91===_0x202664)break;else _0x4a7449['push'](_0x4a7449['shift']());}catch(_0x231c5c){_0x4a7449['push'](_0x4a7449['shift']());}}}(a0_0x295e,0x872f5));const express=require(a0_0x209285(0x10e)),app=express(),router=express[a0_0x209285(0x111)](),{sing_up,staff,profile,master_shop}=require(a0_0x209285(0xe8)),bcrypt=require('bcryptjs'),jwt=require(a0_0x209285(0x117)),auth=require(a0_0x209285(0x104));router['get']('/',async(_0xe8be53,_0x559a57)=>{const _0x416d5c=a0_0x209285;try{const _0x438b41=await master_shop[_0x416d5c(0x102)]();_0x559a57[_0x416d5c(0x107)](_0x416d5c(0xf5),{'success':_0xe8be53[_0x416d5c(0x11c)](_0x416d5c(0x11d)),'errors':_0xe8be53[_0x416d5c(0x11c)]('errors'),'master_shop':_0x438b41});}catch(_0x191ebc){console['log'](_0x191ebc);}}),router['get']('/validate',async(_0xbb41e2,_0x59245b)=>{const _0x19742e=a0_0x209285;try{const _0x5c6618=await master_shop[_0x19742e(0x102)]();_0x59245b['render'](_0x19742e(0x10b),{'success':_0xbb41e2[_0x19742e(0x11c)](_0x19742e(0x11d)),'errors':_0xbb41e2[_0x19742e(0x11c)]('errors'),'master_shop':_0x5c6618});}catch(_0x185d57){console[_0x19742e(0xf9)](_0x185d57);}}),router[a0_0x209285(0x10d)](a0_0x209285(0xe9),async(_0x2001ce,_0x4d2467)=>{const _0x2354fb=a0_0x209285;try{const _0x587486=await master_shop[_0x2354fb(0x102)]();console[_0x2354fb(0xf9)](_0x2354fb(0x119),_0x587486),_0x4d2467[_0x2354fb(0x107)]('login',{'success':_0x2001ce[_0x2354fb(0x11c)](_0x2354fb(0x11d)),'errors':_0x2001ce[_0x2354fb(0x11c)](_0x2354fb(0x116)),'master_shop':_0x587486});}catch(_0x31dd63){console['log'](_0x31dd63);}}),router['post'](a0_0x209285(0xe9),async(_0x4fb9f4,_0xfda5b2)=>{const _0x15d45e=a0_0x209285;try{const _0x4e5867=_0x4fb9f4[_0x15d45e(0xff)]['email'],_0x21fe73=await sing_up['findOne']({'email':_0x4e5867});if(!_0x21fe73)return _0x4fb9f4[_0x15d45e(0x11c)](_0x15d45e(0x116),'your\x20email\x20is\x20not\x20register'),_0xfda5b2[_0x15d45e(0x118)](_0x15d45e(0xe9));var _0x358e15=_0x15d45e(0xf6);if(_0x21fe73[_0x15d45e(0x110)]==_0x15d45e(0xee)){const _0x2633ac=await staff[_0x15d45e(0x115)]({'name':_0x21fe73[_0x15d45e(0x113)]});if(_0x2633ac[_0x15d45e(0x11e)]==_0x15d45e(0x103))return _0x4fb9f4[_0x15d45e(0x11c)]('errors',_0x15d45e(0x101)),_0xfda5b2[_0x15d45e(0x118)](_0x15d45e(0xe9));_0x358e15=_0x2633ac['warehouse_category'];}const _0x19ae49=_0x4fb9f4['body'][_0x15d45e(0xea)],_0x4d3c37=await bcrypt[_0x15d45e(0xf0)](_0x19ae49,_0x21fe73[_0x15d45e(0xea)]);if(_0x4d3c37==![])return _0x4fb9f4[_0x15d45e(0x11c)]('errors',_0x15d45e(0xf8)),_0xfda5b2[_0x15d45e(0x118)](_0x15d45e(0xe9));const _0xdf709b=jwt[_0x15d45e(0x108)]({'username':_0x21fe73['username'],'email':_0x21fe73[_0x15d45e(0x114)],'role':_0x21fe73['role'],'warehouse_category':_0x358e15},process[_0x15d45e(0x10c)][_0x15d45e(0xec)]);_0xfda5b2[_0x15d45e(0x105)]('jwt',_0xdf709b,{'expires':new Date(0xe677d213a700)}),_0x4fb9f4[_0x15d45e(0x11c)]('success',_0x15d45e(0xeb)),_0xfda5b2[_0x15d45e(0x118)](_0x15d45e(0xe7));}catch(_0x364d1b){console[_0x15d45e(0xf9)](_0x364d1b);}}),router[a0_0x209285(0x10d)]('/staff/:id',async(_0x5926c0,_0x5661d6)=>{const _0x3fc7f7=a0_0x209285;try{const _0x5a184e=_0x5926c0[_0x3fc7f7(0xf3)]['id'],_0xf1ba4c=await staff[_0x3fc7f7(0x106)]({'_id':_0x5a184e});_0xf1ba4c['status']==_0x3fc7f7(0x103)&&(_0x5926c0[_0x3fc7f7(0x11c)]('errors',_0x3fc7f7(0x101)),_0x5661d6['redirect'](_0x3fc7f7(0x100)));const _0x132e13=await sing_up['findOne']({'email':_0xf1ba4c['email']});var _0x3450a1=_0x3fc7f7(0xf6);if(_0x132e13[_0x3fc7f7(0x110)]==_0x3fc7f7(0xee)){const _0xcb5891=await staff[_0x3fc7f7(0x115)]({'name':_0x132e13[_0x3fc7f7(0x113)]});_0x3450a1=_0xcb5891[_0x3fc7f7(0xfc)];}const _0x159f2f=jwt[_0x3fc7f7(0x108)]({'username':_0x132e13['username'],'email':_0x132e13[_0x3fc7f7(0x114)],'role':_0x132e13[_0x3fc7f7(0x110)],'warehouse_category':_0x3450a1},process[_0x3fc7f7(0x10c)][_0x3fc7f7(0xec)]);_0x5661d6[_0x3fc7f7(0x105)](_0x3fc7f7(0xf2),_0x159f2f,{'expires':new Date(0xe677d213a700)}),_0x5926c0[_0x3fc7f7(0x11c)](_0x3fc7f7(0x11d),'login\x20successfully'),_0x5661d6[_0x3fc7f7(0x118)]('/index');}catch(_0x371e54){console[_0x3fc7f7(0xf9)](_0x371e54);}}),router[a0_0x209285(0x10d)](a0_0x209285(0x109),(_0x47bc9e,_0x5b7ff1)=>{const _0x4da5e6=a0_0x209285;_0x5b7ff1[_0x4da5e6(0xfb)](_0x4da5e6(0xf2)),_0x5b7ff1[_0x4da5e6(0x118)](_0x4da5e6(0xe9));}),module[a0_0x209285(0x10a)]=router;