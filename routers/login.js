function a0_0x1ed3(){const _0x529e7b=['redirect','4389208zGTgKA','validate','3kBOpCs','get','env','render','/logout','316980mERqdg','login\x20master','success','9KTEggD','24QWmYgW','log','errors','465824wYRDjK','20xUcWgP','845026BzihLu','jwt','login\x20successfully','exports','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','../middleware/auth','bcryptjs','749098oSVhjI','4480487PJGBbe','3481250yFhWKG','flash','your\x20password\x20is\x20wrong','username','sign','express','email','Disabled','login','staff','/staff/:id','/index','role','body','your\x20email\x20is\x20not\x20register','12uIuNpI','find','/login','params','clearCookie','findOne','status','name','password','/staff/view','secret_key','warehouse_category'];a0_0x1ed3=function(){return _0x529e7b;};return a0_0x1ed3();}function a0_0x14d2(_0x5c8cb4,_0x490214){const _0x1ed36b=a0_0x1ed3();return a0_0x14d2=function(_0x14d208,_0x1a654c){_0x14d208=_0x14d208-0x196;let _0x580ec0=_0x1ed36b[_0x14d208];return _0x580ec0;},a0_0x14d2(_0x5c8cb4,_0x490214);}const a0_0x2b58b5=a0_0x14d2;(function(_0x217891,_0x4c9c05){const _0x55d2c1=a0_0x14d2,_0x506bd1=_0x217891();while(!![]){try{const _0x2d5b5e=-parseInt(_0x55d2c1(0x1bd))/0x1+-parseInt(_0x55d2c1(0x1c6))/0x2*(parseInt(_0x55d2c1(0x1b8))/0x3)+parseInt(_0x55d2c1(0x1c4))/0x4*(-parseInt(_0x55d2c1(0x1c5))/0x5)+-parseInt(_0x55d2c1(0x1c1))/0x6*(-parseInt(_0x55d2c1(0x198))/0x7)+-parseInt(_0x55d2c1(0x1b6))/0x8*(-parseInt(_0x55d2c1(0x1c0))/0x9)+parseInt(_0x55d2c1(0x19a))/0xa+-parseInt(_0x55d2c1(0x199))/0xb*(-parseInt(_0x55d2c1(0x1a9))/0xc);if(_0x2d5b5e===_0x4c9c05)break;else _0x506bd1['push'](_0x506bd1['shift']());}catch(_0x421a26){_0x506bd1['push'](_0x506bd1['shift']());}}}(a0_0x1ed3,0x809f0));const express=require(a0_0x2b58b5(0x19f)),app=express(),router=express['Router'](),{sing_up,staff,profile,master_shop}=require('../models/all_models'),bcrypt=require(a0_0x2b58b5(0x197)),jwt=require('jsonwebtoken'),auth=require(a0_0x2b58b5(0x196));router[a0_0x2b58b5(0x1b9)]('/',async(_0x1c4f95,_0x5b0e01)=>{const _0x370b74=a0_0x2b58b5;try{const _0x449f35=await master_shop[_0x370b74(0x1aa)]();_0x5b0e01['render'](_0x370b74(0x1a2),{'success':_0x1c4f95[_0x370b74(0x19b)]('success'),'errors':_0x1c4f95[_0x370b74(0x19b)](_0x370b74(0x1c3)),'master_shop':_0x449f35});}catch(_0x400211){console[_0x370b74(0x1c2)](_0x400211);}}),router['get']('/validate',async(_0x42a5d3,_0x283330)=>{const _0x415c49=a0_0x2b58b5;try{const _0x1470d6=await master_shop[_0x415c49(0x1aa)]();_0x283330[_0x415c49(0x1bb)](_0x415c49(0x1b7),{'success':_0x42a5d3[_0x415c49(0x19b)](_0x415c49(0x1bf)),'errors':_0x42a5d3[_0x415c49(0x19b)](_0x415c49(0x1c3)),'master_shop':_0x1470d6});}catch(_0x24a091){console[_0x415c49(0x1c2)](_0x24a091);}}),router[a0_0x2b58b5(0x1b9)]('/login',async(_0x12af86,_0x2da536)=>{const _0x189398=a0_0x2b58b5;try{const _0x2b199a=await master_shop['find']();console[_0x189398(0x1c2)](_0x189398(0x1be),_0x2b199a),_0x2da536[_0x189398(0x1bb)](_0x189398(0x1a2),{'success':_0x12af86[_0x189398(0x19b)](_0x189398(0x1bf)),'errors':_0x12af86[_0x189398(0x19b)](_0x189398(0x1c3)),'master_shop':_0x2b199a});}catch(_0x2f9f62){console[_0x189398(0x1c2)](_0x2f9f62);}}),router['post'](a0_0x2b58b5(0x1ab),async(_0x1e9346,_0x29097d)=>{const _0x4168b2=a0_0x2b58b5;try{const _0x232950=_0x1e9346[_0x4168b2(0x1a7)][_0x4168b2(0x1a0)],_0x1a1450=await sing_up[_0x4168b2(0x1ae)]({'email':_0x232950});if(!_0x1a1450)return _0x1e9346['flash'](_0x4168b2(0x1c3),_0x4168b2(0x1a8)),_0x29097d[_0x4168b2(0x1b5)](_0x4168b2(0x1ab));const _0x365612=await staff[_0x4168b2(0x1ae)]({'email':_0x1a1450['email']});var _0x1f1541=_0x365612[_0x4168b2(0x1b4)];if(_0x1a1450[_0x4168b2(0x1a6)]==_0x4168b2(0x1a3)){const _0x76f8b=await staff[_0x4168b2(0x1ae)]({'email':_0x1a1450[_0x4168b2(0x1a0)]});if(_0x76f8b[_0x4168b2(0x1af)]==_0x4168b2(0x1a1))return _0x1e9346[_0x4168b2(0x19b)]('errors',_0x4168b2(0x1ca)),_0x29097d['redirect'](_0x4168b2(0x1ab));_0x1f1541=_0x76f8b[_0x4168b2(0x1b4)];}const _0x3eaab8=_0x1e9346[_0x4168b2(0x1a7)]['password'],_0x109f4d=await bcrypt['compare'](_0x3eaab8,_0x1a1450[_0x4168b2(0x1b1)]);if(_0x109f4d==![])return _0x1e9346[_0x4168b2(0x19b)](_0x4168b2(0x1c3),_0x4168b2(0x19c)),_0x29097d[_0x4168b2(0x1b5)](_0x4168b2(0x1ab));const _0x45e689=jwt['sign']({'username':_0x1a1450[_0x4168b2(0x19d)],'email':_0x1a1450[_0x4168b2(0x1a0)],'role':_0x1a1450['role'],'warehouse_category':_0x1f1541},process['env'][_0x4168b2(0x1b3)]);_0x29097d['cookie'](_0x4168b2(0x1c7),_0x45e689,{'expires':new Date(0xe677d213a700)}),_0x1e9346[_0x4168b2(0x19b)](_0x4168b2(0x1bf),_0x4168b2(0x1c8)),_0x29097d[_0x4168b2(0x1b5)](_0x4168b2(0x1a5));}catch(_0x5a9736){console[_0x4168b2(0x1c2)](_0x5a9736);}}),router[a0_0x2b58b5(0x1b9)](a0_0x2b58b5(0x1a4),async(_0x1cc8e2,_0x24bc3d)=>{const _0x5212d8=a0_0x2b58b5;try{const _0x531661=_0x1cc8e2[_0x5212d8(0x1ac)]['id'],_0x80bbce=await staff['findById']({'_id':_0x531661});_0x80bbce[_0x5212d8(0x1af)]==_0x5212d8(0x1a1)&&(_0x1cc8e2[_0x5212d8(0x19b)]('errors',_0x5212d8(0x1ca)),_0x24bc3d[_0x5212d8(0x1b5)](_0x5212d8(0x1b2)));const _0x5b9a0d=await sing_up['findOne']({'email':_0x80bbce[_0x5212d8(0x1a0)]});var _0x236c67=_0x80bbce['warehouse_category'];if(_0x5b9a0d[_0x5212d8(0x1a6)]==_0x5212d8(0x1a3)){const _0x4252ae=await staff[_0x5212d8(0x1ae)]({'name':_0x5b9a0d[_0x5212d8(0x1b0)]});_0x236c67=_0x4252ae[_0x5212d8(0x1b4)];}const _0x3f0d56=jwt[_0x5212d8(0x19e)]({'username':_0x5b9a0d[_0x5212d8(0x19d)],'email':_0x5b9a0d[_0x5212d8(0x1a0)],'role':_0x5b9a0d[_0x5212d8(0x1a6)],'warehouse_category':_0x236c67},process[_0x5212d8(0x1ba)][_0x5212d8(0x1b3)]);_0x24bc3d['cookie']('jwt',_0x3f0d56,{'expires':new Date(0xe677d213a700)}),_0x1cc8e2[_0x5212d8(0x19b)](_0x5212d8(0x1bf),_0x5212d8(0x1c8)),_0x24bc3d[_0x5212d8(0x1b5)](_0x5212d8(0x1a5));}catch(_0x5afe21){console[_0x5212d8(0x1c2)](_0x5afe21);}}),router[a0_0x2b58b5(0x1b9)](a0_0x2b58b5(0x1bc),(_0x36f9cc,_0xac7b64)=>{const _0xc0678f=a0_0x2b58b5;_0xac7b64[_0xc0678f(0x1ad)]('jwt'),_0xac7b64[_0xc0678f(0x1b5)]('/login');}),module[a0_0x2b58b5(0x1c9)]=router;