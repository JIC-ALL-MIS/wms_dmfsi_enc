const a0_0x1ebd9f=a0_0x251a;function a0_0x251a(_0x438e78,_0x2a5f3b){const _0x3c032f=a0_0x3c03();return a0_0x251a=function(_0x251a7f,_0x323133){_0x251a7f=_0x251a7f-0x1a2;let _0x24cf6c=_0x3c032f[_0x251a7f];return _0x24cf6c;},a0_0x251a(_0x438e78,_0x2a5f3b);}(function(_0x4ccbd8,_0x46259f){const _0x411610=a0_0x251a,_0xdedeb2=_0x4ccbd8();while(!![]){try{const _0x8ff260=-parseInt(_0x411610(0x1af))/0x1*(-parseInt(_0x411610(0x1b0))/0x2)+parseInt(_0x411610(0x1ad))/0x3*(parseInt(_0x411610(0x1ae))/0x4)+parseInt(_0x411610(0x1a5))/0x5*(parseInt(_0x411610(0x1ca))/0x6)+-parseInt(_0x411610(0x1b9))/0x7*(parseInt(_0x411610(0x1cb))/0x8)+-parseInt(_0x411610(0x1a6))/0x9*(-parseInt(_0x411610(0x1bc))/0xa)+parseInt(_0x411610(0x1d4))/0xb*(-parseInt(_0x411610(0x1da))/0xc)+-parseInt(_0x411610(0x1d7))/0xd*(parseInt(_0x411610(0x1bb))/0xe);if(_0x8ff260===_0x46259f)break;else _0xdedeb2['push'](_0xdedeb2['shift']());}catch(_0x59bb78){_0xdedeb2['push'](_0xdedeb2['shift']());}}}(a0_0x3c03,0x78eb4));function a0_0x3c03(){const _0x17d526=['log','get','validate','login\x20master','role','env','All','14NNtZmw','password','314426qAAlMz','50NTTYJO','/validate','/index','errors','email','flash','name','Router','your\x20email\x20is\x20not\x20register','login','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','Disabled','compare','login\x20successfully','4145730VuNjpe','32152njDrrz','../models/all_models','status','render','sign','bcryptjs','success','/login','find','957WybAgG','/staff/:id','findOne','793OHDoyB','secret_key','jsonwebtoken','59064IsTgVg','body','cookie','your\x20password\x20is\x20wrong','express','warehouse_category','staff','post','5ZUtjvP','185175dOoWeS','/logout','exports','clearCookie','username','redirect','../middleware/auth','476895SPHrAT','16MuasqM','67065zECjTN','26rqyTGG','jwt'];a0_0x3c03=function(){return _0x17d526;};return a0_0x3c03();}const express=require(a0_0x1ebd9f(0x1de)),app=express(),router=express[a0_0x1ebd9f(0x1c3)](),{sing_up,staff,profile,master_shop}=require(a0_0x1ebd9f(0x1cc)),bcrypt=require(a0_0x1ebd9f(0x1d0)),jwt=require(a0_0x1ebd9f(0x1d9)),auth=require(a0_0x1ebd9f(0x1ac));router[a0_0x1ebd9f(0x1b3)]('/',async(_0x18c074,_0xa4cf53)=>{const _0x33ab7f=a0_0x1ebd9f;try{const _0x1c1957=await master_shop[_0x33ab7f(0x1d3)]();_0xa4cf53[_0x33ab7f(0x1ce)](_0x33ab7f(0x1c5),{'success':_0x18c074[_0x33ab7f(0x1c1)](_0x33ab7f(0x1d1)),'errors':_0x18c074[_0x33ab7f(0x1c1)](_0x33ab7f(0x1bf)),'master_shop':_0x1c1957});}catch(_0x476e20){console['log'](_0x476e20);}}),router['get'](a0_0x1ebd9f(0x1bd),async(_0x47fc73,_0x1d56a9)=>{const _0xa863d5=a0_0x1ebd9f;try{const _0x2fdf3e=await master_shop['find']();_0x1d56a9['render'](_0xa863d5(0x1b4),{'success':_0x47fc73[_0xa863d5(0x1c1)](_0xa863d5(0x1d1)),'errors':_0x47fc73[_0xa863d5(0x1c1)]('errors'),'master_shop':_0x2fdf3e});}catch(_0x4b6b6e){console[_0xa863d5(0x1b2)](_0x4b6b6e);}}),router['get'](a0_0x1ebd9f(0x1d2),async(_0x2a2e08,_0x4dbe4d)=>{const _0x4ce6eb=a0_0x1ebd9f;try{const _0x5eef07=await master_shop[_0x4ce6eb(0x1d3)]();console[_0x4ce6eb(0x1b2)](_0x4ce6eb(0x1b5),_0x5eef07),_0x4dbe4d['render']('login',{'success':_0x2a2e08[_0x4ce6eb(0x1c1)](_0x4ce6eb(0x1d1)),'errors':_0x2a2e08[_0x4ce6eb(0x1c1)](_0x4ce6eb(0x1bf)),'master_shop':_0x5eef07});}catch(_0x4427b2){console[_0x4ce6eb(0x1b2)](_0x4427b2);}}),router[a0_0x1ebd9f(0x1a4)](a0_0x1ebd9f(0x1d2),async(_0x414be3,_0x18646b)=>{const _0x502c3c=a0_0x1ebd9f;try{const _0x59c62c=_0x414be3['body'][_0x502c3c(0x1c0)],_0x3dc4a8=await sing_up[_0x502c3c(0x1d6)]({'email':_0x59c62c});if(!_0x3dc4a8)return _0x414be3[_0x502c3c(0x1c1)](_0x502c3c(0x1bf),_0x502c3c(0x1c4)),_0x18646b[_0x502c3c(0x1ab)](_0x502c3c(0x1d2));var _0x3a82fa=_0x502c3c(0x1b8);if(_0x3dc4a8[_0x502c3c(0x1b6)]==_0x502c3c(0x1a3)){const _0x5822e6=await staff[_0x502c3c(0x1d6)]({'name':_0x3dc4a8[_0x502c3c(0x1c2)]});if(_0x5822e6['status']==_0x502c3c(0x1c7))return _0x414be3[_0x502c3c(0x1c1)](_0x502c3c(0x1bf),'Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.'),_0x18646b[_0x502c3c(0x1ab)](_0x502c3c(0x1d2));_0x3a82fa=_0x5822e6['warehouse_category'];}const _0xf5f088=_0x414be3[_0x502c3c(0x1db)][_0x502c3c(0x1ba)],_0x15e0a7=await bcrypt[_0x502c3c(0x1c8)](_0xf5f088,_0x3dc4a8[_0x502c3c(0x1ba)]);if(_0x15e0a7==![])return _0x414be3['flash'](_0x502c3c(0x1bf),_0x502c3c(0x1dd)),_0x18646b[_0x502c3c(0x1ab)](_0x502c3c(0x1d2));const _0x396301=jwt[_0x502c3c(0x1cf)]({'username':_0x3dc4a8[_0x502c3c(0x1aa)],'email':_0x3dc4a8[_0x502c3c(0x1c0)],'role':_0x3dc4a8[_0x502c3c(0x1b6)],'warehouse_category':_0x3a82fa},process[_0x502c3c(0x1b7)][_0x502c3c(0x1d8)]);_0x18646b[_0x502c3c(0x1dc)](_0x502c3c(0x1b1),_0x396301,{'expires':new Date(0xe677d213a700)}),_0x414be3[_0x502c3c(0x1c1)](_0x502c3c(0x1d1),_0x502c3c(0x1c9)),_0x18646b[_0x502c3c(0x1ab)](_0x502c3c(0x1be));}catch(_0x52eeed){console[_0x502c3c(0x1b2)](_0x52eeed);}}),router['get'](a0_0x1ebd9f(0x1d5),async(_0x1ba818,_0x9d8cba)=>{const _0x45001a=a0_0x1ebd9f;try{const _0x1f401b=_0x1ba818['params']['id'],_0x542916=await staff['findById']({'_id':_0x1f401b});_0x542916[_0x45001a(0x1cd)]==_0x45001a(0x1c7)&&(_0x1ba818['flash'](_0x45001a(0x1bf),_0x45001a(0x1c6)),_0x9d8cba['redirect']('/staff/view'));const _0x4c931f=await sing_up[_0x45001a(0x1d6)]({'email':_0x542916[_0x45001a(0x1c0)]});var _0x881dda=_0x45001a(0x1b8);if(_0x4c931f[_0x45001a(0x1b6)]==_0x45001a(0x1a3)){const _0xc7f9c1=await staff[_0x45001a(0x1d6)]({'name':_0x4c931f[_0x45001a(0x1c2)]});_0x881dda=_0xc7f9c1[_0x45001a(0x1a2)];}const _0x34c5c4=jwt[_0x45001a(0x1cf)]({'username':_0x4c931f[_0x45001a(0x1aa)],'email':_0x4c931f[_0x45001a(0x1c0)],'role':_0x4c931f['role'],'warehouse_category':_0x881dda},process[_0x45001a(0x1b7)][_0x45001a(0x1d8)]);_0x9d8cba[_0x45001a(0x1dc)](_0x45001a(0x1b1),_0x34c5c4,{'expires':new Date(0xe677d213a700)}),_0x1ba818[_0x45001a(0x1c1)](_0x45001a(0x1d1),_0x45001a(0x1c9)),_0x9d8cba[_0x45001a(0x1ab)](_0x45001a(0x1be));}catch(_0x421514){console[_0x45001a(0x1b2)](_0x421514);}}),router[a0_0x1ebd9f(0x1b3)](a0_0x1ebd9f(0x1a7),(_0x45fb51,_0x16970e)=>{const _0x39598b=a0_0x1ebd9f;_0x16970e[_0x39598b(0x1a9)](_0x39598b(0x1b1)),_0x16970e['redirect'](_0x39598b(0x1d2));}),module[a0_0x1ebd9f(0x1a8)]=router;