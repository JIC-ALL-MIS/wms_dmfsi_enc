function a0_0x4ee5(_0x5b81c0,_0x18a143){const _0xb3b216=a0_0xb3b2();return a0_0x4ee5=function(_0x4ee573,_0x200dde){_0x4ee573=_0x4ee573-0x109;let _0x1821cf=_0xb3b216[_0x4ee573];return _0x1821cf;},a0_0x4ee5(_0x5b81c0,_0x18a143);}const a0_0x182312=a0_0x4ee5;function a0_0xb3b2(){const _0xf600c9=['staff','login\x20master','clearCookie','name','7MRbbGs','warehouse_category','your\x20email\x20is\x20not\x20register','findOne','3154EEsaPw','37424475WSzApO','find','body','jsonwebtoken','compare','Disabled','3498951YStPBO','log','login\x20successfully','login','/staff/:id','express','/validate','flash','email','your\x20password\x20is\x20wrong','Router','env','/login','findById','bcryptjs','sign','params','923rTCRyB','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','secret_key','/index','../middleware/auth','username','5763512thjaVI','status','success','errors','role','8628192XPPlBo','cookie','get','render','redirect','../models/all_models','jwt','4263475YnsnUA','post','3243816IArRFj'];a0_0xb3b2=function(){return _0xf600c9;};return a0_0xb3b2();}(function(_0x1333d4,_0x1f5a8a){const _0x32e4ed=a0_0x4ee5,_0xbdcf7c=_0x1333d4();while(!![]){try{const _0x5a8848=parseInt(_0x32e4ed(0x112))/0x1*(-parseInt(_0x32e4ed(0x12f))/0x2)+-parseInt(_0x32e4ed(0x136))/0x3+parseInt(_0x32e4ed(0x126))/0x4+-parseInt(_0x32e4ed(0x124))/0x5+-parseInt(_0x32e4ed(0x11d))/0x6+-parseInt(_0x32e4ed(0x12b))/0x7*(-parseInt(_0x32e4ed(0x118))/0x8)+parseInt(_0x32e4ed(0x130))/0x9;if(_0x5a8848===_0x1f5a8a)break;else _0xbdcf7c['push'](_0xbdcf7c['shift']());}catch(_0x2086aa){_0xbdcf7c['push'](_0xbdcf7c['shift']());}}}(a0_0xb3b2,0xbdb5d));const express=require(a0_0x182312(0x13b)),app=express(),router=express[a0_0x182312(0x10b)](),{sing_up,staff,profile,master_shop}=require(a0_0x182312(0x122)),bcrypt=require(a0_0x182312(0x10f)),jwt=require(a0_0x182312(0x133)),auth=require(a0_0x182312(0x116));router[a0_0x182312(0x11f)]('/',async(_0x3c6baf,_0x174304)=>{const _0x396686=a0_0x182312;try{const _0x45944b=await master_shop[_0x396686(0x131)]();_0x174304['render']('login',{'success':_0x3c6baf[_0x396686(0x13d)](_0x396686(0x11a)),'errors':_0x3c6baf['flash'](_0x396686(0x11b)),'master_shop':_0x45944b});}catch(_0x1ec160){console[_0x396686(0x137)](_0x1ec160);}}),router[a0_0x182312(0x11f)](a0_0x182312(0x13c),async(_0x531667,_0x459e68)=>{const _0x18dbd6=a0_0x182312;try{const _0x13e3e0=await master_shop[_0x18dbd6(0x131)]();_0x459e68[_0x18dbd6(0x120)]('validate',{'success':_0x531667[_0x18dbd6(0x13d)](_0x18dbd6(0x11a)),'errors':_0x531667[_0x18dbd6(0x13d)](_0x18dbd6(0x11b)),'master_shop':_0x13e3e0});}catch(_0x1fe6dc){console[_0x18dbd6(0x137)](_0x1fe6dc);}}),router[a0_0x182312(0x11f)](a0_0x182312(0x10d),async(_0x2be8e8,_0x3a2eca)=>{const _0x5a77b3=a0_0x182312;try{const _0x18c003=await master_shop['find']();console[_0x5a77b3(0x137)](_0x5a77b3(0x128),_0x18c003),_0x3a2eca['render'](_0x5a77b3(0x139),{'success':_0x2be8e8['flash'](_0x5a77b3(0x11a)),'errors':_0x2be8e8[_0x5a77b3(0x13d)](_0x5a77b3(0x11b)),'master_shop':_0x18c003});}catch(_0x3364e6){console['log'](_0x3364e6);}}),router[a0_0x182312(0x125)](a0_0x182312(0x10d),async(_0xc9551f,_0x3bbbac)=>{const _0x567ae8=a0_0x182312;try{const _0x4b307e=_0xc9551f[_0x567ae8(0x132)][_0x567ae8(0x109)],_0x424b22=await sing_up['findOne']({'email':_0x4b307e});if(!_0x424b22)return _0xc9551f[_0x567ae8(0x13d)]('errors',_0x567ae8(0x12d)),_0x3bbbac['redirect'](_0x567ae8(0x10d));const _0x11b262=await staff[_0x567ae8(0x12e)]({'email':_0x424b22['email']});var _0x11d49b=_0x11b262[_0x567ae8(0x12c)];if(_0x424b22[_0x567ae8(0x11c)]==_0x567ae8(0x127)){const _0x5a206d=await staff['findOne']({'email':_0x424b22[_0x567ae8(0x109)]});if(_0x5a206d[_0x567ae8(0x119)]==_0x567ae8(0x135))return _0xc9551f[_0x567ae8(0x13d)]('errors',_0x567ae8(0x113)),_0x3bbbac[_0x567ae8(0x121)](_0x567ae8(0x10d));_0x11d49b=_0x5a206d[_0x567ae8(0x12c)];}const _0x5db107=_0xc9551f[_0x567ae8(0x132)]['password'],_0x2f85c4=await bcrypt[_0x567ae8(0x134)](_0x5db107,_0x424b22['password']);if(_0x2f85c4==![])return _0xc9551f[_0x567ae8(0x13d)](_0x567ae8(0x11b),_0x567ae8(0x10a)),_0x3bbbac[_0x567ae8(0x121)](_0x567ae8(0x10d));const _0x38f5bf=jwt[_0x567ae8(0x110)]({'username':_0x424b22[_0x567ae8(0x117)],'email':_0x424b22[_0x567ae8(0x109)],'role':_0x424b22[_0x567ae8(0x11c)],'warehouse_category':_0x11d49b},process[_0x567ae8(0x10c)]['secret_key']);_0x3bbbac[_0x567ae8(0x11e)](_0x567ae8(0x123),_0x38f5bf,{'expires':new Date(0xe677d213a700)}),_0xc9551f[_0x567ae8(0x13d)](_0x567ae8(0x11a),_0x567ae8(0x138)),_0x3bbbac['redirect'](_0x567ae8(0x115));}catch(_0x19ab23){console[_0x567ae8(0x137)](_0x19ab23);}}),router[a0_0x182312(0x11f)](a0_0x182312(0x13a),async(_0x5eb24e,_0x66be8)=>{const _0x1c2132=a0_0x182312;try{const _0x18a0de=_0x5eb24e[_0x1c2132(0x111)]['id'],_0x598a3a=await staff[_0x1c2132(0x10e)]({'_id':_0x18a0de});_0x598a3a[_0x1c2132(0x119)]==_0x1c2132(0x135)&&(_0x5eb24e['flash'](_0x1c2132(0x11b),_0x1c2132(0x113)),_0x66be8['redirect']('/staff/view'));const _0x1514a1=await sing_up[_0x1c2132(0x12e)]({'email':_0x598a3a['email']});var _0x59c390=_0x598a3a[_0x1c2132(0x12c)];if(_0x1514a1['role']=='staff'){const _0x42233e=await staff[_0x1c2132(0x12e)]({'name':_0x1514a1[_0x1c2132(0x12a)]});_0x59c390=_0x42233e['warehouse_category'];}const _0x3a94ed=jwt[_0x1c2132(0x110)]({'username':_0x1514a1['username'],'email':_0x1514a1[_0x1c2132(0x109)],'role':_0x1514a1['role'],'warehouse_category':_0x59c390},process['env'][_0x1c2132(0x114)]);_0x66be8[_0x1c2132(0x11e)](_0x1c2132(0x123),_0x3a94ed,{'expires':new Date(0xe677d213a700)}),_0x5eb24e[_0x1c2132(0x13d)](_0x1c2132(0x11a),_0x1c2132(0x138)),_0x66be8['redirect'](_0x1c2132(0x115));}catch(_0x33f2f1){console[_0x1c2132(0x137)](_0x33f2f1);}}),router['get']('/logout',(_0x3b8c16,_0x3987c7)=>{const _0x891f0d=a0_0x182312;_0x3987c7[_0x891f0d(0x129)](_0x891f0d(0x123)),_0x3987c7[_0x891f0d(0x121)](_0x891f0d(0x10d));}),module['exports']=router;