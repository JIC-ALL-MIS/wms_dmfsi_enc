function a0_0x1f22(_0x2d7347,_0xd24302){const _0x72c6ec=a0_0x72c6();return a0_0x1f22=function(_0x1f2210,_0x5bb5bd){_0x1f2210=_0x1f2210-0x11d;let _0x4cd971=_0x72c6ec[_0x1f2210];return _0x4cd971;},a0_0x1f22(_0x2d7347,_0xd24302);}const a0_0x1bafc8=a0_0x1f22;(function(_0x3df89c,_0x491488){const _0x4096a3=a0_0x1f22,_0x4f0fe3=_0x3df89c();while(!![]){try{const _0x3094a2=parseInt(_0x4096a3(0x122))/0x1+-parseInt(_0x4096a3(0x11e))/0x2+-parseInt(_0x4096a3(0x14b))/0x3*(parseInt(_0x4096a3(0x145))/0x4)+parseInt(_0x4096a3(0x14a))/0x5+-parseInt(_0x4096a3(0x126))/0x6+-parseInt(_0x4096a3(0x120))/0x7+parseInt(_0x4096a3(0x12f))/0x8;if(_0x3094a2===_0x491488)break;else _0x4f0fe3['push'](_0x4f0fe3['shift']());}catch(_0x3c2035){_0x4f0fe3['push'](_0x4f0fe3['shift']());}}}(a0_0x72c6,0x4efd3));const express=require('express'),app=express(),router=express[a0_0x1bafc8(0x11f)](),{sing_up,staff,profile,master_shop}=require('../models/all_models'),bcrypt=require(a0_0x1bafc8(0x149)),jwt=require(a0_0x1bafc8(0x148)),auth=require(a0_0x1bafc8(0x147));function a0_0x72c6(){const _0x8a15c8=['your\x20email\x20is\x20not\x20register','success','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','/staff/view','password','flash','sign','log','/login','warehouse_category','body','username','clearCookie','login','staff','secret_key','redirect','get','email','login\x20master','name','4UTstiM','cookie','../middleware/auth','jsonwebtoken','bcryptjs','3022965HrgfaZ','484773EdhTxa','/index','validate','1191990DyLoNn','Router','3487078BxPadM','role','85141fbvoHx','/staff/:id','findById','render','1603728KmdcAh','findOne','Disabled','/validate','params','errors','status','find','login\x20successfully','9254664jhxCpW'];a0_0x72c6=function(){return _0x8a15c8;};return a0_0x72c6();}router[a0_0x1bafc8(0x141)]('/',async(_0x207c1b,_0x37fc43)=>{const _0x353b6c=a0_0x1bafc8;try{const _0x141d35=await master_shop[_0x353b6c(0x12d)]();_0x37fc43[_0x353b6c(0x125)](_0x353b6c(0x13d),{'success':_0x207c1b[_0x353b6c(0x135)](_0x353b6c(0x131)),'errors':_0x207c1b['flash'](_0x353b6c(0x12b)),'master_shop':_0x141d35});}catch(_0x12e8fc){console[_0x353b6c(0x137)](_0x12e8fc);}}),router[a0_0x1bafc8(0x141)](a0_0x1bafc8(0x129),async(_0x2dcdaa,_0x2eccf6)=>{const _0x3e9b6d=a0_0x1bafc8;try{const _0xb72766=await master_shop[_0x3e9b6d(0x12d)]();_0x2eccf6[_0x3e9b6d(0x125)](_0x3e9b6d(0x11d),{'success':_0x2dcdaa[_0x3e9b6d(0x135)](_0x3e9b6d(0x131)),'errors':_0x2dcdaa[_0x3e9b6d(0x135)](_0x3e9b6d(0x12b)),'master_shop':_0xb72766});}catch(_0x460306){console[_0x3e9b6d(0x137)](_0x460306);}}),router['get'](a0_0x1bafc8(0x138),async(_0x57b17d,_0x291df7)=>{const _0x2e3540=a0_0x1bafc8;try{const _0x9b501b=await master_shop[_0x2e3540(0x12d)]();console['log'](_0x2e3540(0x143),_0x9b501b),_0x291df7[_0x2e3540(0x125)](_0x2e3540(0x13d),{'success':_0x57b17d['flash'](_0x2e3540(0x131)),'errors':_0x57b17d[_0x2e3540(0x135)]('errors'),'master_shop':_0x9b501b});}catch(_0x529964){console[_0x2e3540(0x137)](_0x529964);}}),router['post'](a0_0x1bafc8(0x138),async(_0x36137b,_0x263c05)=>{const _0x50113c=a0_0x1bafc8;try{const _0x24422f=_0x36137b[_0x50113c(0x13a)][_0x50113c(0x142)],_0x596411=await sing_up[_0x50113c(0x127)]({'email':_0x24422f});if(!_0x596411)return _0x36137b['flash'](_0x50113c(0x12b),_0x50113c(0x130)),_0x263c05[_0x50113c(0x140)](_0x50113c(0x138));const _0x25d470=await staff['findOne']({'email':_0x596411[_0x50113c(0x142)]});var _0x2e1ea1=_0x25d470[_0x50113c(0x139)];if(_0x596411[_0x50113c(0x121)]==_0x50113c(0x13e)){const _0x1f1b41=await staff[_0x50113c(0x127)]({'email':_0x596411['email']});if(_0x1f1b41[_0x50113c(0x12c)]==_0x50113c(0x128))return _0x36137b[_0x50113c(0x135)]('errors',_0x50113c(0x132)),_0x263c05[_0x50113c(0x140)]('/login');_0x2e1ea1=_0x1f1b41[_0x50113c(0x139)];}const _0x5243c5=_0x36137b[_0x50113c(0x13a)]['password'],_0x578388=await bcrypt['compare'](_0x5243c5,_0x596411[_0x50113c(0x134)]);if(_0x578388==![])return _0x36137b[_0x50113c(0x135)](_0x50113c(0x12b),'your\x20password\x20is\x20wrong'),_0x263c05[_0x50113c(0x140)](_0x50113c(0x138));const _0xe79446=jwt[_0x50113c(0x136)]({'username':_0x596411[_0x50113c(0x13b)],'email':_0x596411['email'],'role':_0x596411[_0x50113c(0x121)],'warehouse_category':_0x2e1ea1},process['env']['secret_key']);_0x263c05[_0x50113c(0x146)]('jwt',_0xe79446,{'expires':new Date(0xe677d213a700)}),_0x36137b[_0x50113c(0x135)]('success',_0x50113c(0x12e)),_0x263c05[_0x50113c(0x140)](_0x50113c(0x14c));}catch(_0x26ed19){console[_0x50113c(0x137)](_0x26ed19);}}),router[a0_0x1bafc8(0x141)](a0_0x1bafc8(0x123),async(_0x1e74be,_0x17a17e)=>{const _0x4819e6=a0_0x1bafc8;try{const _0x2a1417=_0x1e74be[_0x4819e6(0x12a)]['id'],_0x386865=await staff[_0x4819e6(0x124)]({'_id':_0x2a1417});_0x386865['status']==_0x4819e6(0x128)&&(_0x1e74be[_0x4819e6(0x135)](_0x4819e6(0x12b),_0x4819e6(0x132)),_0x17a17e['redirect'](_0x4819e6(0x133)));const _0x3bd27b=await sing_up[_0x4819e6(0x127)]({'email':_0x386865[_0x4819e6(0x142)]});var _0x519b8d=_0x386865[_0x4819e6(0x139)];if(_0x3bd27b[_0x4819e6(0x121)]==_0x4819e6(0x13e)){const _0x93e323=await staff[_0x4819e6(0x127)]({'name':_0x3bd27b[_0x4819e6(0x144)]});_0x519b8d=_0x93e323[_0x4819e6(0x139)];}const _0x988b79=jwt[_0x4819e6(0x136)]({'username':_0x3bd27b[_0x4819e6(0x13b)],'email':_0x3bd27b[_0x4819e6(0x142)],'role':_0x3bd27b[_0x4819e6(0x121)],'warehouse_category':_0x519b8d},process['env'][_0x4819e6(0x13f)]);_0x17a17e['cookie']('jwt',_0x988b79,{'expires':new Date(0xe677d213a700)}),_0x1e74be[_0x4819e6(0x135)]('success',_0x4819e6(0x12e)),_0x17a17e['redirect'](_0x4819e6(0x14c));}catch(_0x4a2d5b){console[_0x4819e6(0x137)](_0x4a2d5b);}}),router[a0_0x1bafc8(0x141)]('/logout',(_0x15bcdb,_0x589a51)=>{const _0x4c16ce=a0_0x1bafc8;_0x589a51[_0x4c16ce(0x13c)]('jwt'),_0x589a51[_0x4c16ce(0x140)](_0x4c16ce(0x138));}),module['exports']=router;