function a0_0x500d(_0xbd016a,_0x325f2c){const _0xb4639a=a0_0xb463();return a0_0x500d=function(_0x500dbc,_0x5b2f0c){_0x500dbc=_0x500dbc-0xa3;let _0x22bb4c=_0xb4639a[_0x500dbc];return _0x22bb4c;},a0_0x500d(_0xbd016a,_0x325f2c);}const a0_0xbf0940=a0_0x500d;(function(_0x4e3739,_0x2e5a8b){const _0x39ee83=a0_0x500d,_0x22345d=_0x4e3739();while(!![]){try{const _0x8a34a9=parseInt(_0x39ee83(0xd4))/0x1+parseInt(_0x39ee83(0xba))/0x2+-parseInt(_0x39ee83(0xda))/0x3+parseInt(_0x39ee83(0xc2))/0x4*(-parseInt(_0x39ee83(0xd9))/0x5)+parseInt(_0x39ee83(0xcd))/0x6*(parseInt(_0x39ee83(0xc0))/0x7)+-parseInt(_0x39ee83(0xb5))/0x8*(parseInt(_0x39ee83(0xc6))/0x9)+parseInt(_0x39ee83(0xbe))/0xa*(-parseInt(_0x39ee83(0xbb))/0xb);if(_0x8a34a9===_0x2e5a8b)break;else _0x22345d['push'](_0x22345d['shift']());}catch(_0x1837ec){_0x22345d['push'](_0x22345d['shift']());}}}(a0_0xb463,0x6ecea));const express=require(a0_0xbf0940(0xd6)),app=express(),router=express[a0_0xbf0940(0xa6)](),{sing_up,staff,profile,master_shop}=require(a0_0xbf0940(0xa8)),bcrypt=require('bcryptjs'),jwt=require(a0_0xbf0940(0xc9)),auth=require(a0_0xbf0940(0xca));router[a0_0xbf0940(0xb8)]('/',async(_0xcb7537,_0x164c55)=>{const _0x25a494=a0_0xbf0940;try{const _0x3e804b=await master_shop['find']();_0x164c55[_0x25a494(0xd8)](_0x25a494(0xb2),{'success':_0xcb7537['flash'](_0x25a494(0xb7)),'errors':_0xcb7537['flash'](_0x25a494(0xac)),'master_shop':_0x3e804b});}catch(_0x4599e4){console[_0x25a494(0xbc)](_0x4599e4);}}),router[a0_0xbf0940(0xb8)](a0_0xbf0940(0xcb),async(_0x29b039,_0x12bb0f)=>{const _0x36493=a0_0xbf0940;try{const _0x5bac57=await master_shop['find']();_0x12bb0f[_0x36493(0xd8)](_0x36493(0xaf),{'success':_0x29b039[_0x36493(0xb1)](_0x36493(0xb7)),'errors':_0x29b039[_0x36493(0xb1)]('errors'),'master_shop':_0x5bac57});}catch(_0x7b66fd){console[_0x36493(0xbc)](_0x7b66fd);}}),router['get'](a0_0xbf0940(0xd7),async(_0x39337b,_0xe7a348)=>{const _0x83ff60=a0_0xbf0940;try{const _0x37b513=await master_shop[_0x83ff60(0xcf)]();console['log']('login\x20master',_0x37b513),_0xe7a348[_0x83ff60(0xd8)]('login',{'success':_0x39337b[_0x83ff60(0xb1)](_0x83ff60(0xb7)),'errors':_0x39337b[_0x83ff60(0xb1)]('errors'),'master_shop':_0x37b513});}catch(_0x94b3af){console[_0x83ff60(0xbc)](_0x94b3af);}}),router[a0_0xbf0940(0xab)](a0_0xbf0940(0xd7),async(_0x5460b8,_0x540840)=>{const _0x3906bd=a0_0xbf0940;try{const _0x2f152f=_0x5460b8['body']['email'],_0x4d1e8d=await sing_up[_0x3906bd(0xb0)]({'email':_0x2f152f});if(!_0x4d1e8d)return _0x5460b8[_0x3906bd(0xb1)](_0x3906bd(0xac),'your\x20email\x20is\x20not\x20register'),_0x540840[_0x3906bd(0xcc)](_0x3906bd(0xd7));var _0x53ae66=_0x3906bd(0xa3);if(_0x4d1e8d[_0x3906bd(0xa7)]==_0x3906bd(0xa4)){const _0x10fc08=await staff[_0x3906bd(0xb0)]({'name':_0x4d1e8d[_0x3906bd(0xc1)]});if(_0x10fc08[_0x3906bd(0xc5)]==_0x3906bd(0xc4))return _0x5460b8[_0x3906bd(0xb1)](_0x3906bd(0xac),'Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.'),_0x540840[_0x3906bd(0xcc)](_0x3906bd(0xd7));_0x53ae66=_0x10fc08[_0x3906bd(0xd0)];}const _0x25d393=_0x5460b8['body'][_0x3906bd(0xc7)],_0x28b0c=await bcrypt[_0x3906bd(0xaa)](_0x25d393,_0x4d1e8d[_0x3906bd(0xc7)]);if(_0x28b0c==![])return _0x5460b8[_0x3906bd(0xb1)](_0x3906bd(0xac),_0x3906bd(0xb3)),_0x540840['redirect'](_0x3906bd(0xd7));const _0x544017=jwt[_0x3906bd(0xb4)]({'username':_0x4d1e8d['username'],'email':_0x4d1e8d['email'],'role':_0x4d1e8d[_0x3906bd(0xa7)],'warehouse_category':_0x53ae66},process[_0x3906bd(0xc3)][_0x3906bd(0xd5)]);_0x540840[_0x3906bd(0xce)](_0x3906bd(0xae),_0x544017,{'expires':new Date(0xe677d213a700)}),_0x5460b8[_0x3906bd(0xb1)](_0x3906bd(0xb7),_0x3906bd(0xb6)),_0x540840[_0x3906bd(0xcc)](_0x3906bd(0xd3));}catch(_0x41f640){console['log'](_0x41f640);}}),router[a0_0xbf0940(0xb8)](a0_0xbf0940(0xa9),async(_0x409e65,_0x410afe)=>{const _0x36d66a=a0_0xbf0940;try{const _0x1d2fe3=_0x409e65[_0x36d66a(0xc8)]['id'],_0xeac83c=await staff[_0x36d66a(0xd2)]({'_id':_0x1d2fe3});_0xeac83c[_0x36d66a(0xc5)]=='Disabled'&&(_0x409e65[_0x36d66a(0xb1)]('errors',_0x36d66a(0xb9)),_0x410afe['redirect'](_0x36d66a(0xad)));const _0x10870d=await sing_up[_0x36d66a(0xb0)]({'email':_0xeac83c['email']});var _0x3893bd=_0x36d66a(0xa3);if(_0x10870d[_0x36d66a(0xa7)]==_0x36d66a(0xa4)){const _0x59be72=await staff[_0x36d66a(0xb0)]({'name':_0x10870d[_0x36d66a(0xc1)]});_0x3893bd=_0x59be72['warehouse_category'];}const _0x24b5c3=jwt[_0x36d66a(0xb4)]({'username':_0x10870d[_0x36d66a(0xbd)],'email':_0x10870d['email'],'role':_0x10870d[_0x36d66a(0xa7)],'warehouse_category':_0x3893bd},process['env']['secret_key']);_0x410afe['cookie'](_0x36d66a(0xae),_0x24b5c3,{'expires':new Date(0xe677d213a700)}),_0x409e65[_0x36d66a(0xb1)](_0x36d66a(0xb7),_0x36d66a(0xb6)),_0x410afe['redirect']('/index');}catch(_0x38dbec){console[_0x36d66a(0xbc)](_0x38dbec);}}),router[a0_0xbf0940(0xb8)](a0_0xbf0940(0xd1),(_0x546021,_0x5313b9)=>{const _0x498212=a0_0xbf0940;_0x5313b9[_0x498212(0xa5)](_0x498212(0xae)),_0x5313b9['redirect'](_0x498212(0xd7));}),module[a0_0xbf0940(0xbf)]=router;function a0_0xb463(){const _0x1311a8=['login\x20successfully','success','get','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','589086OYJwmB','11rncTcV','log','username','1931290oQHgfo','exports','49UxTlPL','name','116XdpAUI','env','Disabled','status','1071099VCVCFM','password','params','jsonwebtoken','../middleware/auth','/validate','redirect','508938mLauOX','cookie','find','warehouse_category','/logout','findById','/index','530070IzdNaH','secret_key','express','/login','render','7220uVoqUN','46311cIGCyV','All','staff','clearCookie','Router','role','../models/all_models','/staff/:id','compare','post','errors','/staff/view','jwt','validate','findOne','flash','login','your\x20password\x20is\x20wrong','sign','48TphoiN'];a0_0xb463=function(){return _0x1311a8;};return a0_0xb463();}