function a0_0x2d4b(_0x3b3a71,_0x2b3675){const _0x450d40=a0_0x450d();return a0_0x2d4b=function(_0x2d4b15,_0x3a5f73){_0x2d4b15=_0x2d4b15-0xca;let _0x364ae2=_0x450d40[_0x2d4b15];return _0x364ae2;},a0_0x2d4b(_0x3b3a71,_0x2b3675);}const a0_0x15aa3f=a0_0x2d4b;(function(_0x44d38c,_0x1c28f7){const _0x587187=a0_0x2d4b,_0x4f34c7=_0x44d38c();while(!![]){try{const _0x5d548f=-parseInt(_0x587187(0xd4))/0x1*(parseInt(_0x587187(0xf8))/0x2)+parseInt(_0x587187(0xd9))/0x3+parseInt(_0x587187(0xdc))/0x4*(parseInt(_0x587187(0xf6))/0x5)+-parseInt(_0x587187(0x101))/0x6+-parseInt(_0x587187(0xff))/0x7*(-parseInt(_0x587187(0xed))/0x8)+parseInt(_0x587187(0xd8))/0x9+parseInt(_0x587187(0xf5))/0xa*(-parseInt(_0x587187(0xe5))/0xb);if(_0x5d548f===_0x1c28f7)break;else _0x4f34c7['push'](_0x4f34c7['shift']());}catch(_0x37c247){_0x4f34c7['push'](_0x4f34c7['shift']());}}}(a0_0x450d,0x39e00));function a0_0x450d(){const _0x20daa6=['/logout','compare','3366AeiKvA','jwt','findOne','findById','warehouse_category','log','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','body','635736RoQsUW','bcryptjs','flash','env','validate','password','../middleware/auth','render','7180UwiDhu','100UthdQl','/staff/view','1730XnPxPg','login','secret_key','jsonwebtoken','your\x20password\x20is\x20wrong','success','express','35GKZbZc','clearCookie','330324eTwCum','name','errors','cookie','All','params','find','role','status','sign','/index','get','email','520jnOswN','/login','redirect','exports','1903329xGbBzN','783246hmOFft','Router','/validate','18344ajyVcn','staff','login\x20successfully','post','username','login\x20master','Disabled'];a0_0x450d=function(){return _0x20daa6;};return a0_0x450d();}const express=require(a0_0x15aa3f(0xfe)),app=express(),router=express[a0_0x15aa3f(0xda)](),{sing_up,staff,profile,master_shop}=require('../models/all_models'),bcrypt=require(a0_0x15aa3f(0xee)),jwt=require(a0_0x15aa3f(0xfb)),auth=require(a0_0x15aa3f(0xf3));router['get']('/',async(_0x156b07,_0x31d428)=>{const _0xe38666=a0_0x15aa3f;try{const _0x223639=await master_shop[_0xe38666(0xcd)]();_0x31d428[_0xe38666(0xf4)](_0xe38666(0xf9),{'success':_0x156b07[_0xe38666(0xef)](_0xe38666(0xfd)),'errors':_0x156b07['flash']('errors'),'master_shop':_0x223639});}catch(_0x48caa5){console['log'](_0x48caa5);}}),router[a0_0x15aa3f(0xd2)](a0_0x15aa3f(0xdb),async(_0x17b40e,_0x33cab6)=>{const _0x132c68=a0_0x15aa3f;try{const _0x4a68be=await master_shop[_0x132c68(0xcd)]();_0x33cab6[_0x132c68(0xf4)](_0x132c68(0xf1),{'success':_0x17b40e[_0x132c68(0xef)]('success'),'errors':_0x17b40e[_0x132c68(0xef)](_0x132c68(0x103)),'master_shop':_0x4a68be});}catch(_0x25ffc7){console[_0x132c68(0xea)](_0x25ffc7);}}),router[a0_0x15aa3f(0xd2)](a0_0x15aa3f(0xd5),async(_0xf53bfa,_0x2b85c2)=>{const _0x16e94f=a0_0x15aa3f;try{const _0x5b2244=await master_shop[_0x16e94f(0xcd)]();console['log'](_0x16e94f(0xe1),_0x5b2244),_0x2b85c2[_0x16e94f(0xf4)](_0x16e94f(0xf9),{'success':_0xf53bfa[_0x16e94f(0xef)]('success'),'errors':_0xf53bfa['flash'](_0x16e94f(0x103)),'master_shop':_0x5b2244});}catch(_0x4df163){console[_0x16e94f(0xea)](_0x4df163);}}),router[a0_0x15aa3f(0xdf)](a0_0x15aa3f(0xd5),async(_0x361f2b,_0x3c9697)=>{const _0x4e95d8=a0_0x15aa3f;try{const _0x237123=_0x361f2b[_0x4e95d8(0xec)][_0x4e95d8(0xd3)],_0x43d6ae=await sing_up['findOne']({'email':_0x237123});if(!_0x43d6ae)return _0x361f2b[_0x4e95d8(0xef)](_0x4e95d8(0x103),'your\x20email\x20is\x20not\x20register'),_0x3c9697[_0x4e95d8(0xd6)]('/login');var _0x437ee4='All';if(_0x43d6ae[_0x4e95d8(0xce)]==_0x4e95d8(0xdd)){const _0x3b9cac=await staff[_0x4e95d8(0xe7)]({'name':_0x43d6ae['name']});if(_0x3b9cac[_0x4e95d8(0xcf)]==_0x4e95d8(0xe2))return _0x361f2b[_0x4e95d8(0xef)](_0x4e95d8(0x103),_0x4e95d8(0xeb)),_0x3c9697['redirect']('/login');_0x437ee4=_0x3b9cac['warehouse_category'];}const _0x2d017e=_0x361f2b[_0x4e95d8(0xec)]['password'],_0x158256=await bcrypt[_0x4e95d8(0xe4)](_0x2d017e,_0x43d6ae[_0x4e95d8(0xf2)]);if(_0x158256==![])return _0x361f2b['flash']('errors',_0x4e95d8(0xfc)),_0x3c9697[_0x4e95d8(0xd6)](_0x4e95d8(0xd5));const _0xfdc404=jwt['sign']({'username':_0x43d6ae[_0x4e95d8(0xe0)],'email':_0x43d6ae[_0x4e95d8(0xd3)],'role':_0x43d6ae[_0x4e95d8(0xce)],'warehouse_category':_0x437ee4},process[_0x4e95d8(0xf0)][_0x4e95d8(0xfa)]);_0x3c9697[_0x4e95d8(0xca)](_0x4e95d8(0xe6),_0xfdc404,{'expires':new Date(0xe677d213a700)}),_0x361f2b[_0x4e95d8(0xef)]('success',_0x4e95d8(0xde)),_0x3c9697[_0x4e95d8(0xd6)](_0x4e95d8(0xd1));}catch(_0x3809d4){console[_0x4e95d8(0xea)](_0x3809d4);}}),router[a0_0x15aa3f(0xd2)]('/staff/:id',async(_0x48d6dd,_0x5b3539)=>{const _0x4f4bfd=a0_0x15aa3f;try{const _0x27b59d=_0x48d6dd[_0x4f4bfd(0xcc)]['id'],_0x3ba5ca=await staff[_0x4f4bfd(0xe8)]({'_id':_0x27b59d});_0x3ba5ca[_0x4f4bfd(0xcf)]==_0x4f4bfd(0xe2)&&(_0x48d6dd[_0x4f4bfd(0xef)]('errors',_0x4f4bfd(0xeb)),_0x5b3539['redirect'](_0x4f4bfd(0xf7)));const _0x2f07a0=await sing_up[_0x4f4bfd(0xe7)]({'email':_0x3ba5ca[_0x4f4bfd(0xd3)]});var _0x52f459=_0x4f4bfd(0xcb);if(_0x2f07a0['role']=='staff'){const _0x5a0460=await staff[_0x4f4bfd(0xe7)]({'name':_0x2f07a0[_0x4f4bfd(0x102)]});_0x52f459=_0x5a0460[_0x4f4bfd(0xe9)];}const _0x3308f9=jwt[_0x4f4bfd(0xd0)]({'username':_0x2f07a0['username'],'email':_0x2f07a0[_0x4f4bfd(0xd3)],'role':_0x2f07a0[_0x4f4bfd(0xce)],'warehouse_category':_0x52f459},process[_0x4f4bfd(0xf0)][_0x4f4bfd(0xfa)]);_0x5b3539[_0x4f4bfd(0xca)](_0x4f4bfd(0xe6),_0x3308f9,{'expires':new Date(0xe677d213a700)}),_0x48d6dd[_0x4f4bfd(0xef)]('success',_0x4f4bfd(0xde)),_0x5b3539[_0x4f4bfd(0xd6)](_0x4f4bfd(0xd1));}catch(_0x46670b){console[_0x4f4bfd(0xea)](_0x46670b);}}),router[a0_0x15aa3f(0xd2)](a0_0x15aa3f(0xe3),(_0xd2f0d1,_0x3b243a)=>{const _0x5ed3b1=a0_0x15aa3f;_0x3b243a[_0x5ed3b1(0x100)](_0x5ed3b1(0xe6)),_0x3b243a[_0x5ed3b1(0xd6)]('/login');}),module[a0_0x15aa3f(0xd7)]=router;