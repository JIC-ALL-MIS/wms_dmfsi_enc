function a0_0x213f(){const _0x28a75d=['warehouse_category','login','your\x20email\x20is\x20not\x20register','sign','Disabled','bcryptjs','body','/validate','25058730JhbcCp','password','staff','503868WmpFqc','errors','../models/all_models','express','816688rtncXP','Router','get','secret_key','jwt','exports','344ttpQhO','env','5199fpCAGr','email','cookie','username','flash','4627693GlHmSi','render','role','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','find','findOne','findById','post','2536vcKSYq','/login','6PqBXXY','status','/staff/view','params','log','126513irtKdO','/index','success','login\x20successfully','4785620TSNgJN','redirect','/staff/:id','All','name','validate'];a0_0x213f=function(){return _0x28a75d;};return a0_0x213f();}const a0_0x396457=a0_0x2fdb;function a0_0x2fdb(_0x474f59,_0x2bbc4f){const _0x213fc4=a0_0x213f();return a0_0x2fdb=function(_0x2fdb31,_0x18bb4a){_0x2fdb31=_0x2fdb31-0x15f;let _0x1bb07f=_0x213fc4[_0x2fdb31];return _0x1bb07f;},a0_0x2fdb(_0x474f59,_0x2bbc4f);}(function(_0x3d007d,_0x32d61a){const _0x260390=a0_0x2fdb,_0x3e751b=_0x3d007d();while(!![]){try{const _0x5b99ee=parseInt(_0x260390(0x18e))/0x1+parseInt(_0x260390(0x18a))/0x2+-parseInt(_0x260390(0x161))/0x3*(-parseInt(_0x260390(0x16e))/0x4)+-parseInt(_0x260390(0x179))/0x5*(-parseInt(_0x260390(0x170))/0x6)+-parseInt(_0x260390(0x166))/0x7+-parseInt(_0x260390(0x15f))/0x8*(-parseInt(_0x260390(0x175))/0x9)+-parseInt(_0x260390(0x187))/0xa;if(_0x5b99ee===_0x32d61a)break;else _0x3e751b['push'](_0x3e751b['shift']());}catch(_0x1c858d){_0x3e751b['push'](_0x3e751b['shift']());}}}(a0_0x213f,0x8931b));const express=require(a0_0x396457(0x18d)),app=express(),router=express[a0_0x396457(0x18f)](),{sing_up,staff,profile,master_shop}=require(a0_0x396457(0x18c)),bcrypt=require(a0_0x396457(0x184)),jwt=require('jsonwebtoken'),auth=require('../middleware/auth');router[a0_0x396457(0x190)]('/',async(_0x13ac52,_0xfec0da)=>{const _0xba710d=a0_0x396457;try{const _0x50cf9e=await master_shop['find']();_0xfec0da[_0xba710d(0x167)]('login',{'success':_0x13ac52['flash'](_0xba710d(0x177)),'errors':_0x13ac52[_0xba710d(0x165)](_0xba710d(0x18b)),'master_shop':_0x50cf9e});}catch(_0x2d19c8){console[_0xba710d(0x174)](_0x2d19c8);}}),router[a0_0x396457(0x190)](a0_0x396457(0x186),async(_0x4fb09d,_0x478e07)=>{const _0xf9635d=a0_0x396457;try{const _0x4f70a3=await master_shop[_0xf9635d(0x16a)]();_0x478e07[_0xf9635d(0x167)](_0xf9635d(0x17e),{'success':_0x4fb09d[_0xf9635d(0x165)](_0xf9635d(0x177)),'errors':_0x4fb09d[_0xf9635d(0x165)](_0xf9635d(0x18b)),'master_shop':_0x4f70a3});}catch(_0x4a574e){console[_0xf9635d(0x174)](_0x4a574e);}}),router['get'](a0_0x396457(0x16f),async(_0x513450,_0x3ea9c4)=>{const _0x28dbba=a0_0x396457;try{const _0x43e864=await master_shop['find']();console[_0x28dbba(0x174)]('login\x20master',_0x43e864),_0x3ea9c4[_0x28dbba(0x167)](_0x28dbba(0x180),{'success':_0x513450[_0x28dbba(0x165)]('success'),'errors':_0x513450[_0x28dbba(0x165)](_0x28dbba(0x18b)),'master_shop':_0x43e864});}catch(_0x3b8e45){console['log'](_0x3b8e45);}}),router[a0_0x396457(0x16d)](a0_0x396457(0x16f),async(_0x254cbf,_0x377559)=>{const _0x2c964f=a0_0x396457;try{const _0x50dcda=_0x254cbf[_0x2c964f(0x185)]['email'],_0x52a598=await sing_up[_0x2c964f(0x16b)]({'email':_0x50dcda});if(!_0x52a598)return _0x254cbf[_0x2c964f(0x165)](_0x2c964f(0x18b),_0x2c964f(0x181)),_0x377559[_0x2c964f(0x17a)](_0x2c964f(0x16f));var _0x1fd06c=_0x2c964f(0x17c);if(_0x52a598[_0x2c964f(0x168)]==_0x2c964f(0x189)){const _0x4b85ab=await staff[_0x2c964f(0x16b)]({'name':_0x52a598[_0x2c964f(0x17d)]});if(_0x4b85ab[_0x2c964f(0x171)]==_0x2c964f(0x183))return _0x254cbf[_0x2c964f(0x165)]('errors',_0x2c964f(0x169)),_0x377559[_0x2c964f(0x17a)](_0x2c964f(0x16f));_0x1fd06c=_0x4b85ab[_0x2c964f(0x17f)];}const _0x51d868=_0x254cbf[_0x2c964f(0x185)]['password'],_0x3271fa=await bcrypt['compare'](_0x51d868,_0x52a598[_0x2c964f(0x188)]);if(_0x3271fa==![])return _0x254cbf[_0x2c964f(0x165)](_0x2c964f(0x18b),'your\x20password\x20is\x20wrong'),_0x377559[_0x2c964f(0x17a)](_0x2c964f(0x16f));const _0x51adde=jwt[_0x2c964f(0x182)]({'username':_0x52a598[_0x2c964f(0x164)],'email':_0x52a598[_0x2c964f(0x162)],'role':_0x52a598[_0x2c964f(0x168)],'warehouse_category':_0x1fd06c},process[_0x2c964f(0x160)][_0x2c964f(0x191)]);_0x377559[_0x2c964f(0x163)](_0x2c964f(0x192),_0x51adde,{'expires':new Date(0xe677d213a700)}),_0x254cbf['flash'](_0x2c964f(0x177),_0x2c964f(0x178)),_0x377559[_0x2c964f(0x17a)](_0x2c964f(0x176));}catch(_0x2fb5e8){console['log'](_0x2fb5e8);}}),router[a0_0x396457(0x190)](a0_0x396457(0x17b),async(_0x128e9c,_0x488880)=>{const _0x5a835b=a0_0x396457;try{const _0x21232d=_0x128e9c[_0x5a835b(0x173)]['id'],_0x31db5f=await staff[_0x5a835b(0x16c)]({'_id':_0x21232d});_0x31db5f[_0x5a835b(0x171)]==_0x5a835b(0x183)&&(_0x128e9c[_0x5a835b(0x165)](_0x5a835b(0x18b),_0x5a835b(0x169)),_0x488880['redirect'](_0x5a835b(0x172)));const _0x35232b=await sing_up[_0x5a835b(0x16b)]({'email':_0x31db5f[_0x5a835b(0x162)]});var _0x39eb88='All';if(_0x35232b[_0x5a835b(0x168)]==_0x5a835b(0x189)){const _0x2308c2=await staff[_0x5a835b(0x16b)]({'name':_0x35232b[_0x5a835b(0x17d)]});_0x39eb88=_0x2308c2[_0x5a835b(0x17f)];}const _0x1cede1=jwt[_0x5a835b(0x182)]({'username':_0x35232b['username'],'email':_0x35232b[_0x5a835b(0x162)],'role':_0x35232b[_0x5a835b(0x168)],'warehouse_category':_0x39eb88},process[_0x5a835b(0x160)][_0x5a835b(0x191)]);_0x488880['cookie']('jwt',_0x1cede1,{'expires':new Date(0xe677d213a700)}),_0x128e9c['flash']('success',_0x5a835b(0x178)),_0x488880[_0x5a835b(0x17a)](_0x5a835b(0x176));}catch(_0x20b0a0){console[_0x5a835b(0x174)](_0x20b0a0);}}),router[a0_0x396457(0x190)]('/logout',(_0x277183,_0x423231)=>{_0x423231['clearCookie']('jwt'),_0x423231['redirect']('/login');}),module[a0_0x396457(0x193)]=router;