const a0_0x1c6724=a0_0x13e9;function a0_0x13e9(_0xbb7e4d,_0x553c2e){const _0x4ce5d4=a0_0x4ce5();return a0_0x13e9=function(_0x13e97b,_0x995533){_0x13e97b=_0x13e97b-0x11b;let _0x25c037=_0x4ce5d4[_0x13e97b];return _0x25c037;},a0_0x13e9(_0xbb7e4d,_0x553c2e);}(function(_0x39ebfb,_0x5d7304){const _0x41efaf=a0_0x13e9,_0x162334=_0x39ebfb();while(!![]){try{const _0x10e36a=-parseInt(_0x41efaf(0x135))/0x1+-parseInt(_0x41efaf(0x141))/0x2*(parseInt(_0x41efaf(0x12f))/0x3)+parseInt(_0x41efaf(0x138))/0x4*(-parseInt(_0x41efaf(0x139))/0x5)+parseInt(_0x41efaf(0x149))/0x6*(-parseInt(_0x41efaf(0x127))/0x7)+-parseInt(_0x41efaf(0x129))/0x8+parseInt(_0x41efaf(0x147))/0x9*(-parseInt(_0x41efaf(0x13b))/0xa)+-parseInt(_0x41efaf(0x14f))/0xb*(-parseInt(_0x41efaf(0x144))/0xc);if(_0x10e36a===_0x5d7304)break;else _0x162334['push'](_0x162334['shift']());}catch(_0x24ab8b){_0x162334['push'](_0x162334['shift']());}}}(a0_0x4ce5,0xc4590));function a0_0x4ce5(){const _0x24c26f=['your\x20password\x20is\x20wrong','warehouse_category','login\x20master','/index','542628IogFrg','/validate','status','3156BdkHzl','4735eMfjbw','validate','8580340sYNzSx','All','login\x20successfully','body','success','clearCookie','27896xVGXpx','jsonwebtoken','username','14064528oAotal','errors','staff','9ctbwrV','flash','85152PEbYSo','../middleware/auth','password','/staff/view','env','name','44TUDAaL','post','log','compare','exports','/login','findOne','/staff/:id','render','find','secret_key','login','Router','/logout','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','bcryptjs','your\x20email\x20is\x20not\x20register','email','336SqCTFM','get','1967128NvqTZL','cookie','Disabled','sign','redirect','role','174SaCwzb','express'];a0_0x4ce5=function(){return _0x24c26f;};return a0_0x4ce5();}const express=require(a0_0x1c6724(0x130)),app=express(),router=express[a0_0x1c6724(0x121)](),{sing_up,staff,profile,master_shop}=require('../models/all_models'),bcrypt=require(a0_0x1c6724(0x124)),jwt=require(a0_0x1c6724(0x142)),auth=require(a0_0x1c6724(0x14a));router['get']('/',async(_0x37b4a9,_0x1aac8c)=>{const _0x50ee3b=a0_0x1c6724;try{const _0x43943a=await master_shop[_0x50ee3b(0x11e)]();_0x1aac8c['render'](_0x50ee3b(0x120),{'success':_0x37b4a9['flash'](_0x50ee3b(0x13f)),'errors':_0x37b4a9['flash'](_0x50ee3b(0x145)),'master_shop':_0x43943a});}catch(_0x2e1467){console['log'](_0x2e1467);}}),router['get'](a0_0x1c6724(0x136),async(_0x383cf2,_0x270e9e)=>{const _0x4c4497=a0_0x1c6724;try{const _0x20406b=await master_shop[_0x4c4497(0x11e)]();_0x270e9e['render'](_0x4c4497(0x13a),{'success':_0x383cf2[_0x4c4497(0x148)]('success'),'errors':_0x383cf2[_0x4c4497(0x148)]('errors'),'master_shop':_0x20406b});}catch(_0xd34a65){console['log'](_0xd34a65);}}),router[a0_0x1c6724(0x128)](a0_0x1c6724(0x154),async(_0x2bcab8,_0x115c00)=>{const _0x2a35c3=a0_0x1c6724;try{const _0x4268c9=await master_shop[_0x2a35c3(0x11e)]();console['log'](_0x2a35c3(0x133),_0x4268c9),_0x115c00[_0x2a35c3(0x11d)](_0x2a35c3(0x120),{'success':_0x2bcab8['flash'](_0x2a35c3(0x13f)),'errors':_0x2bcab8[_0x2a35c3(0x148)](_0x2a35c3(0x145)),'master_shop':_0x4268c9});}catch(_0x277fbb){console[_0x2a35c3(0x151)](_0x277fbb);}}),router[a0_0x1c6724(0x150)](a0_0x1c6724(0x154),async(_0x30cc57,_0x5d4059)=>{const _0x2a75b6=a0_0x1c6724;try{const _0x52693c=_0x30cc57[_0x2a75b6(0x13e)][_0x2a75b6(0x126)],_0x503374=await sing_up[_0x2a75b6(0x11b)]({'email':_0x52693c});if(!_0x503374)return _0x30cc57['flash'](_0x2a75b6(0x145),_0x2a75b6(0x125)),_0x5d4059['redirect'](_0x2a75b6(0x154));var _0x16f2b5='All';if(_0x503374[_0x2a75b6(0x12e)]==_0x2a75b6(0x146)){const _0x4548a3=await staff[_0x2a75b6(0x11b)]({'name':_0x503374[_0x2a75b6(0x14e)]});if(_0x4548a3[_0x2a75b6(0x137)]==_0x2a75b6(0x12b))return _0x30cc57[_0x2a75b6(0x148)]('errors',_0x2a75b6(0x123)),_0x5d4059[_0x2a75b6(0x12d)](_0x2a75b6(0x154));_0x16f2b5=_0x4548a3[_0x2a75b6(0x132)];}const _0x2511fc=_0x30cc57[_0x2a75b6(0x13e)][_0x2a75b6(0x14b)],_0x55981b=await bcrypt[_0x2a75b6(0x152)](_0x2511fc,_0x503374[_0x2a75b6(0x14b)]);if(_0x55981b==![])return _0x30cc57[_0x2a75b6(0x148)]('errors',_0x2a75b6(0x131)),_0x5d4059[_0x2a75b6(0x12d)](_0x2a75b6(0x154));const _0xc417b=jwt[_0x2a75b6(0x12c)]({'username':_0x503374[_0x2a75b6(0x143)],'email':_0x503374[_0x2a75b6(0x126)],'role':_0x503374[_0x2a75b6(0x12e)],'warehouse_category':_0x16f2b5},process[_0x2a75b6(0x14d)][_0x2a75b6(0x11f)]);_0x5d4059[_0x2a75b6(0x12a)]('jwt',_0xc417b,{'expires':new Date(0xe677d213a700)}),_0x30cc57[_0x2a75b6(0x148)](_0x2a75b6(0x13f),_0x2a75b6(0x13d)),_0x5d4059[_0x2a75b6(0x12d)](_0x2a75b6(0x134));}catch(_0x3c7f68){console['log'](_0x3c7f68);}}),router[a0_0x1c6724(0x128)](a0_0x1c6724(0x11c),async(_0xf7781a,_0x69e70b)=>{const _0x3fd5d0=a0_0x1c6724;try{const _0x4f18d9=_0xf7781a['params']['id'],_0x408275=await staff['findById']({'_id':_0x4f18d9});_0x408275[_0x3fd5d0(0x137)]==_0x3fd5d0(0x12b)&&(_0xf7781a[_0x3fd5d0(0x148)](_0x3fd5d0(0x145),'Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.'),_0x69e70b[_0x3fd5d0(0x12d)](_0x3fd5d0(0x14c)));const _0x280db1=await sing_up[_0x3fd5d0(0x11b)]({'email':_0x408275['email']});var _0x520d29=_0x3fd5d0(0x13c);if(_0x280db1[_0x3fd5d0(0x12e)]=='staff'){const _0x4b6e77=await staff['findOne']({'name':_0x280db1[_0x3fd5d0(0x14e)]});_0x520d29=_0x4b6e77[_0x3fd5d0(0x132)];}const _0x34125e=jwt['sign']({'username':_0x280db1[_0x3fd5d0(0x143)],'email':_0x280db1[_0x3fd5d0(0x126)],'role':_0x280db1[_0x3fd5d0(0x12e)],'warehouse_category':_0x520d29},process[_0x3fd5d0(0x14d)]['secret_key']);_0x69e70b[_0x3fd5d0(0x12a)]('jwt',_0x34125e,{'expires':new Date(0xe677d213a700)}),_0xf7781a['flash']('success',_0x3fd5d0(0x13d)),_0x69e70b[_0x3fd5d0(0x12d)](_0x3fd5d0(0x134));}catch(_0x2fcf43){console['log'](_0x2fcf43);}}),router['get'](a0_0x1c6724(0x122),(_0x2cacb3,_0x5c2d4f)=>{const _0x105263=a0_0x1c6724;_0x5c2d4f[_0x105263(0x140)]('jwt'),_0x5c2d4f[_0x105263(0x12d)](_0x105263(0x154));}),module[a0_0x1c6724(0x153)]=router;