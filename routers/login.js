function a0_0xdaac(_0x525e4c,_0x3f2ce0){const _0x1620be=a0_0x1620();return a0_0xdaac=function(_0xdaacce,_0x4be3cc){_0xdaacce=_0xdaacce-0xd1;let _0x5b8e4b=_0x1620be[_0xdaacce];return _0x5b8e4b;},a0_0xdaac(_0x525e4c,_0x3f2ce0);}const a0_0x2876c=a0_0xdaac;(function(_0x56cf5c,_0x502790){const _0x1b5e98=a0_0xdaac,_0x4ad137=_0x56cf5c();while(!![]){try{const _0x4b5364=-parseInt(_0x1b5e98(0xf2))/0x1+-parseInt(_0x1b5e98(0xde))/0x2+parseInt(_0x1b5e98(0xf7))/0x3*(-parseInt(_0x1b5e98(0x104))/0x4)+-parseInt(_0x1b5e98(0xea))/0x5+-parseInt(_0x1b5e98(0xf6))/0x6*(parseInt(_0x1b5e98(0xf9))/0x7)+-parseInt(_0x1b5e98(0xe9))/0x8+-parseInt(_0x1b5e98(0xf3))/0x9*(-parseInt(_0x1b5e98(0xd3))/0xa);if(_0x4b5364===_0x502790)break;else _0x4ad137['push'](_0x4ad137['shift']());}catch(_0x2327f3){_0x4ad137['push'](_0x4ad137['shift']());}}}(a0_0x1620,0xb62f6));const express=require(a0_0x2876c(0xe5)),app=express(),router=express[a0_0x2876c(0xef)](),{sing_up,staff,profile,master_shop}=require(a0_0x2876c(0xfd)),bcrypt=require('bcryptjs'),jwt=require(a0_0x2876c(0x103)),auth=require(a0_0x2876c(0xd2));router[a0_0x2876c(0xdf)]('/',async(_0x20544b,_0x4c0291)=>{const _0x2d1fa9=a0_0x2876c;try{const _0x254122=await master_shop[_0x2d1fa9(0xda)]();_0x4c0291[_0x2d1fa9(0xd5)]('login',{'success':_0x20544b['flash'](_0x2d1fa9(0xf0)),'errors':_0x20544b['flash']('errors'),'master_shop':_0x254122});}catch(_0x33ddcf){console[_0x2d1fa9(0xfb)](_0x33ddcf);}}),router[a0_0x2876c(0xdf)](a0_0x2876c(0xe2),async(_0x30bb22,_0xa13355)=>{const _0x1f63ad=a0_0x2876c;try{const _0x463ed6=await master_shop[_0x1f63ad(0xda)]();_0xa13355['render'](_0x1f63ad(0xd7),{'success':_0x30bb22['flash']('success'),'errors':_0x30bb22[_0x1f63ad(0xed)](_0x1f63ad(0xe0)),'master_shop':_0x463ed6});}catch(_0x55c1fa){console[_0x1f63ad(0xfb)](_0x55c1fa);}}),router[a0_0x2876c(0xdf)](a0_0x2876c(0xe8),async(_0x3f27b0,_0x4e8901)=>{const _0x1363ce=a0_0x2876c;try{const _0x398eb9=await master_shop[_0x1363ce(0xda)]();console['log'](_0x1363ce(0xd4),_0x398eb9),_0x4e8901[_0x1363ce(0xd5)](_0x1363ce(0x101),{'success':_0x3f27b0[_0x1363ce(0xed)](_0x1363ce(0xf0)),'errors':_0x3f27b0[_0x1363ce(0xed)](_0x1363ce(0xe0)),'master_shop':_0x398eb9});}catch(_0x351017){console[_0x1363ce(0xfb)](_0x351017);}}),router[a0_0x2876c(0xec)]('/login',async(_0x46b099,_0x1ef688)=>{const _0xcc4593=a0_0x2876c;try{const _0x477d9d=_0x46b099[_0xcc4593(0xe1)]['email'],_0x120099=await sing_up[_0xcc4593(0xe6)]({'email':_0x477d9d});if(!_0x120099)return _0x46b099[_0xcc4593(0xed)](_0xcc4593(0xe0),_0xcc4593(0x102)),_0x1ef688[_0xcc4593(0xf5)](_0xcc4593(0xe8));const _0x356e19=await staff[_0xcc4593(0xe6)]({'email':_0x120099[_0xcc4593(0xdd)]});var _0x2e35b3=_0x356e19['warehouse_category'];if(_0x120099[_0xcc4593(0xfc)]=='staff'){const _0x16e00=await staff[_0xcc4593(0xe6)]({'email':_0x120099[_0xcc4593(0xdd)]});if(_0x16e00[_0xcc4593(0x106)]==_0xcc4593(0x105))return _0x46b099[_0xcc4593(0xed)](_0xcc4593(0xe0),_0xcc4593(0xeb)),_0x1ef688[_0xcc4593(0xf5)](_0xcc4593(0xe8));_0x2e35b3=_0x16e00[_0xcc4593(0xdc)];}const _0x21413a=_0x46b099[_0xcc4593(0xe1)]['password'],_0x5cb4dd=await bcrypt[_0xcc4593(0xd6)](_0x21413a,_0x120099['password']);if(_0x5cb4dd==![])return _0x46b099[_0xcc4593(0xed)](_0xcc4593(0xe0),_0xcc4593(0xfa)),_0x1ef688[_0xcc4593(0xf5)](_0xcc4593(0xe8));const _0x762641=jwt['sign']({'username':_0x120099[_0xcc4593(0xe7)],'email':_0x120099[_0xcc4593(0xdd)],'role':_0x120099[_0xcc4593(0xfc)],'warehouse_category':_0x2e35b3},process[_0xcc4593(0xe3)]['secret_key']);_0x1ef688[_0xcc4593(0x100)](_0xcc4593(0xee),_0x762641,{'expires':new Date(0xe677d213a700)}),_0x46b099['flash'](_0xcc4593(0xf0),_0xcc4593(0xf4)),_0x1ef688['redirect'](_0xcc4593(0xd1));}catch(_0x59cec3){console[_0xcc4593(0xfb)](_0x59cec3);}}),router['get'](a0_0x2876c(0xf8),async(_0x5b53e2,_0x1c4ab4)=>{const _0x435d43=a0_0x2876c;try{const _0xc9d221=_0x5b53e2[_0x435d43(0xdb)]['id'],_0x2bb49a=await staff[_0x435d43(0xff)]({'_id':_0xc9d221});_0x2bb49a[_0x435d43(0x106)]==_0x435d43(0x105)&&(_0x5b53e2[_0x435d43(0xed)](_0x435d43(0xe0),'Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.'),_0x1c4ab4[_0x435d43(0xf5)](_0x435d43(0xfe)));const _0x276758=await sing_up[_0x435d43(0xe6)]({'email':_0x2bb49a['email']});var _0x5ca407=_0x2bb49a[_0x435d43(0xdc)];if(_0x276758[_0x435d43(0xfc)]=='staff'){const _0x459133=await staff['findOne']({'name':_0x276758['name']});_0x5ca407=_0x459133[_0x435d43(0xdc)];}const _0x5448ef=jwt['sign']({'username':_0x276758['username'],'email':_0x276758[_0x435d43(0xdd)],'role':_0x276758[_0x435d43(0xfc)],'warehouse_category':_0x5ca407},process[_0x435d43(0xe3)][_0x435d43(0xd9)]);_0x1c4ab4['cookie']('jwt',_0x5448ef,{'expires':new Date(0xe677d213a700)}),_0x5b53e2['flash'](_0x435d43(0xf0),_0x435d43(0xf4)),_0x1c4ab4['redirect']('/index');}catch(_0x20aaa3){console[_0x435d43(0xfb)](_0x20aaa3);}}),router['get'](a0_0x2876c(0xd8),(_0x49895c,_0x50ac50)=>{const _0x459631=a0_0x2876c;_0x50ac50[_0x459631(0xf1)](_0x459631(0xee)),_0x50ac50[_0x459631(0xf5)](_0x459631(0xe8));}),module[a0_0x2876c(0xe4)]=router;function a0_0x1620(){const _0x34c10b=['cookie','login','your\x20email\x20is\x20not\x20register','jsonwebtoken','608744mtiaza','Disabled','status','/index','../middleware/auth','8070dkjNde','login\x20master','render','compare','validate','/logout','secret_key','find','params','warehouse_category','email','1593082cTEMxO','get','errors','body','/validate','env','exports','express','findOne','username','/login','11722336HthoYw','994100MvnYyp','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','post','flash','jwt','Router','success','clearCookie','1370118TnaThe','69183Bjadtl','login\x20successfully','redirect','18JGJqxc','27AcnqdJ','/staff/:id','599046UIJzqT','your\x20password\x20is\x20wrong','log','role','../models/all_models','/staff/view','findById'];a0_0x1620=function(){return _0x34c10b;};return a0_0x1620();}