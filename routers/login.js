function a0_0x36ec(_0x331f23,_0xe14009){const _0x94f6cd=a0_0x94f6();return a0_0x36ec=function(_0x36ecf8,_0x1cb60a){_0x36ecf8=_0x36ecf8-0x118;let _0x25ac4b=_0x94f6cd[_0x36ecf8];return _0x25ac4b;},a0_0x36ec(_0x331f23,_0xe14009);}const a0_0x5dc083=a0_0x36ec;(function(_0x1a627d,_0x5af1a4){const _0x1c26eb=a0_0x36ec,_0x22ed61=_0x1a627d();while(!![]){try{const _0x4ad1a5=-parseInt(_0x1c26eb(0x11e))/0x1+-parseInt(_0x1c26eb(0x13b))/0x2*(-parseInt(_0x1c26eb(0x119))/0x3)+-parseInt(_0x1c26eb(0x120))/0x4+parseInt(_0x1c26eb(0x13c))/0x5+-parseInt(_0x1c26eb(0x11b))/0x6*(-parseInt(_0x1c26eb(0x12c))/0x7)+-parseInt(_0x1c26eb(0x11c))/0x8+parseInt(_0x1c26eb(0x13e))/0x9*(parseInt(_0x1c26eb(0x118))/0xa);if(_0x4ad1a5===_0x5af1a4)break;else _0x22ed61['push'](_0x22ed61['shift']());}catch(_0xbe0af0){_0x22ed61['push'](_0x22ed61['shift']());}}}(a0_0x94f6,0x8c47f));const express=require(a0_0x5dc083(0x142)),app=express(),router=express['Router'](),{sing_up,staff,profile,master_shop}=require(a0_0x5dc083(0x134)),bcrypt=require(a0_0x5dc083(0x121)),jwt=require('jsonwebtoken'),auth=require(a0_0x5dc083(0x12d));function a0_0x94f6(){const _0xd01275=['6DCBOBN','1100552RfDSJX','find','625378qudByF','secret_key','3802588kkjbsg','bcryptjs','jwt','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','/staff/view','validate','get','env','your\x20password\x20is\x20wrong','password','cookie','flash','839111UGRgdU','../middleware/auth','your\x20email\x20is\x20not\x20register','success','redirect','params','post','username','../models/all_models','email','findById','login\x20successfully','exports','body','/login','15932mlxcmJ','4776360YyrwWX','errors','8479764LbvRuH','name','staff','render','express','login','sign','Disabled','findOne','compare','role','log','warehouse_category','/staff/:id','All','10zhtXRn','102xXQMcq','status'];a0_0x94f6=function(){return _0xd01275;};return a0_0x94f6();}router['get']('/',async(_0x1e273f,_0x2f9b36)=>{const _0x59e2d6=a0_0x5dc083;try{const _0x5213f7=await master_shop['find']();_0x2f9b36['render'](_0x59e2d6(0x143),{'success':_0x1e273f[_0x59e2d6(0x12b)]('success'),'errors':_0x1e273f[_0x59e2d6(0x12b)](_0x59e2d6(0x13d)),'master_shop':_0x5213f7});}catch(_0x389886){console[_0x59e2d6(0x149)](_0x389886);}}),router[a0_0x5dc083(0x126)]('/validate',async(_0x453b95,_0x946b50)=>{const _0x1ab54a=a0_0x5dc083;try{const _0x468393=await master_shop[_0x1ab54a(0x11d)]();_0x946b50[_0x1ab54a(0x141)](_0x1ab54a(0x125),{'success':_0x453b95[_0x1ab54a(0x12b)]('success'),'errors':_0x453b95[_0x1ab54a(0x12b)](_0x1ab54a(0x13d)),'master_shop':_0x468393});}catch(_0x40052a){console['log'](_0x40052a);}}),router[a0_0x5dc083(0x126)](a0_0x5dc083(0x13a),async(_0x1d58e4,_0x29dcce)=>{const _0x326464=a0_0x5dc083;try{const _0x23c714=await master_shop[_0x326464(0x11d)]();console[_0x326464(0x149)]('login\x20master',_0x23c714),_0x29dcce[_0x326464(0x141)](_0x326464(0x143),{'success':_0x1d58e4[_0x326464(0x12b)](_0x326464(0x12f)),'errors':_0x1d58e4[_0x326464(0x12b)]('errors'),'master_shop':_0x23c714});}catch(_0x565c54){console[_0x326464(0x149)](_0x565c54);}}),router[a0_0x5dc083(0x132)](a0_0x5dc083(0x13a),async(_0x55dbd7,_0x22a94e)=>{const _0x1401f6=a0_0x5dc083;try{const _0x41db00=_0x55dbd7[_0x1401f6(0x139)][_0x1401f6(0x135)],_0x34efaf=await sing_up[_0x1401f6(0x146)]({'email':_0x41db00});if(!_0x34efaf)return _0x55dbd7['flash']('errors',_0x1401f6(0x12e)),_0x22a94e[_0x1401f6(0x130)](_0x1401f6(0x13a));var _0x48a846=_0x1401f6(0x14c);if(_0x34efaf[_0x1401f6(0x148)]=='staff'){const _0x68e2d7=await staff[_0x1401f6(0x146)]({'name':_0x34efaf[_0x1401f6(0x13f)]});if(_0x68e2d7[_0x1401f6(0x11a)]=='Disabled')return _0x55dbd7[_0x1401f6(0x12b)]('errors',_0x1401f6(0x123)),_0x22a94e[_0x1401f6(0x130)](_0x1401f6(0x13a));_0x48a846=_0x68e2d7[_0x1401f6(0x14a)];}const _0x1d3ac4=_0x55dbd7[_0x1401f6(0x139)][_0x1401f6(0x129)],_0x5a8565=await bcrypt[_0x1401f6(0x147)](_0x1d3ac4,_0x34efaf[_0x1401f6(0x129)]);if(_0x5a8565==![])return _0x55dbd7['flash'](_0x1401f6(0x13d),_0x1401f6(0x128)),_0x22a94e[_0x1401f6(0x130)](_0x1401f6(0x13a));const _0x72ea81=jwt[_0x1401f6(0x144)]({'username':_0x34efaf[_0x1401f6(0x133)],'email':_0x34efaf['email'],'role':_0x34efaf[_0x1401f6(0x148)],'warehouse_category':_0x48a846},process[_0x1401f6(0x127)][_0x1401f6(0x11f)]);_0x22a94e[_0x1401f6(0x12a)](_0x1401f6(0x122),_0x72ea81,{'expires':new Date(0xe677d213a700)}),_0x55dbd7['flash'](_0x1401f6(0x12f),'login\x20successfully'),_0x22a94e['redirect']('/index');}catch(_0x2c7cca){console['log'](_0x2c7cca);}}),router['get'](a0_0x5dc083(0x14b),async(_0x83af05,_0x49cff3)=>{const _0x987a98=a0_0x5dc083;try{const _0x547a31=_0x83af05[_0x987a98(0x131)]['id'],_0x4bead7=await staff[_0x987a98(0x136)]({'_id':_0x547a31});_0x4bead7[_0x987a98(0x11a)]==_0x987a98(0x145)&&(_0x83af05[_0x987a98(0x12b)](_0x987a98(0x13d),'Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.'),_0x49cff3[_0x987a98(0x130)](_0x987a98(0x124)));const _0x3eeea0=await sing_up['findOne']({'email':_0x4bead7[_0x987a98(0x135)]});var _0x5bc129='All';if(_0x3eeea0['role']==_0x987a98(0x140)){const _0x262e90=await staff[_0x987a98(0x146)]({'name':_0x3eeea0[_0x987a98(0x13f)]});_0x5bc129=_0x262e90[_0x987a98(0x14a)];}const _0x156355=jwt[_0x987a98(0x144)]({'username':_0x3eeea0['username'],'email':_0x3eeea0['email'],'role':_0x3eeea0['role'],'warehouse_category':_0x5bc129},process[_0x987a98(0x127)][_0x987a98(0x11f)]);_0x49cff3[_0x987a98(0x12a)]('jwt',_0x156355,{'expires':new Date(0xe677d213a700)}),_0x83af05['flash'](_0x987a98(0x12f),_0x987a98(0x137)),_0x49cff3['redirect']('/index');}catch(_0x476478){console[_0x987a98(0x149)](_0x476478);}}),router[a0_0x5dc083(0x126)]('/logout',(_0x4f5088,_0xbbc864)=>{const _0x1c3e84=a0_0x5dc083;_0xbbc864['clearCookie']('jwt'),_0xbbc864[_0x1c3e84(0x130)](_0x1c3e84(0x13a));}),module[a0_0x5dc083(0x138)]=router;