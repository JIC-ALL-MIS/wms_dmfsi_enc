function a0_0x1aca(_0x392b09,_0x572d1f){const _0x5eb33c=a0_0x5eb3();return a0_0x1aca=function(_0x1acac7,_0x7216fd){_0x1acac7=_0x1acac7-0x1c9;let _0x40c7d5=_0x5eb33c[_0x1acac7];return _0x40c7d5;},a0_0x1aca(_0x392b09,_0x572d1f);}const a0_0x404628=a0_0x1aca;function a0_0x5eb3(){const _0x2dab7b=['redirect','sign','49931ZfYmmG','488knwjrX','express','jwt','validate','/login','render','Disabled','clearCookie','username','login\x20successfully','status','staff','All','/staff/:id','findOne','log','bcryptjs','errors','675388wWGAup','login\x20master','findById','secret_key','login','success','690318dQLvRg','compare','136hqjJPw','Router','/logout','env','/validate','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','find','cookie','warehouse_category','/staff/view','get','name','470623mahbqZ','post','body','params','flash','exports','12785VsrHtS','6185034jRveJb','email','jsonwebtoken','2518152nZKBtV','your\x20password\x20is\x20wrong','/index','role'];a0_0x5eb3=function(){return _0x2dab7b;};return a0_0x5eb3();}(function(_0x3e697e,_0x1ede21){const _0x5ccadf=a0_0x1aca,_0x581d13=_0x3e697e();while(!![]){try{const _0x2f6b5b=parseInt(_0x5ccadf(0x1d1))/0x1+-parseInt(_0x5ccadf(0x1f4))/0x2+parseInt(_0x5ccadf(0x1fa))/0x3+-parseInt(_0x5ccadf(0x1e2))/0x4*(-parseInt(_0x5ccadf(0x1d7))/0x5)+parseInt(_0x5ccadf(0x1db))/0x6+parseInt(_0x5ccadf(0x1e1))/0x7*(-parseInt(_0x5ccadf(0x1fc))/0x8)+-parseInt(_0x5ccadf(0x1d8))/0x9;if(_0x2f6b5b===_0x1ede21)break;else _0x581d13['push'](_0x581d13['shift']());}catch(_0x3e907a){_0x581d13['push'](_0x581d13['shift']());}}}(a0_0x5eb3,0x45df2));const express=require(a0_0x404628(0x1e3)),app=express(),router=express[a0_0x404628(0x1fd)](),{sing_up,staff,profile,master_shop}=require('../models/all_models'),bcrypt=require(a0_0x404628(0x1f2)),jwt=require(a0_0x404628(0x1da)),auth=require('../middleware/auth');router['get']('/',async(_0x2abc09,_0x1087a)=>{const _0x149647=a0_0x404628;try{const _0x50f337=await master_shop[_0x149647(0x1cb)]();_0x1087a[_0x149647(0x1e7)](_0x149647(0x1f8),{'success':_0x2abc09['flash']('success'),'errors':_0x2abc09[_0x149647(0x1d5)](_0x149647(0x1f3)),'master_shop':_0x50f337});}catch(_0x505a95){console[_0x149647(0x1f1)](_0x505a95);}}),router[a0_0x404628(0x1cf)](a0_0x404628(0x1c9),async(_0x148c14,_0x19bead)=>{const _0x461a93=a0_0x404628;try{const _0x216af8=await master_shop[_0x461a93(0x1cb)]();_0x19bead[_0x461a93(0x1e7)](_0x461a93(0x1e5),{'success':_0x148c14[_0x461a93(0x1d5)]('success'),'errors':_0x148c14['flash'](_0x461a93(0x1f3)),'master_shop':_0x216af8});}catch(_0x301a4b){console[_0x461a93(0x1f1)](_0x301a4b);}}),router[a0_0x404628(0x1cf)](a0_0x404628(0x1e6),async(_0x3173a1,_0x2592cc)=>{const _0x258724=a0_0x404628;try{const _0x4e178a=await master_shop[_0x258724(0x1cb)]();console[_0x258724(0x1f1)](_0x258724(0x1f5),_0x4e178a),_0x2592cc[_0x258724(0x1e7)](_0x258724(0x1f8),{'success':_0x3173a1['flash']('success'),'errors':_0x3173a1['flash'](_0x258724(0x1f3)),'master_shop':_0x4e178a});}catch(_0x46f65c){console['log'](_0x46f65c);}}),router[a0_0x404628(0x1d2)](a0_0x404628(0x1e6),async(_0x28afdc,_0x3165b9)=>{const _0x1a7ead=a0_0x404628;try{const _0x7d4ea3=_0x28afdc[_0x1a7ead(0x1d3)][_0x1a7ead(0x1d9)],_0x23157e=await sing_up[_0x1a7ead(0x1f0)]({'email':_0x7d4ea3});if(!_0x23157e)return _0x28afdc[_0x1a7ead(0x1d5)](_0x1a7ead(0x1f3),'your\x20email\x20is\x20not\x20register'),_0x3165b9[_0x1a7ead(0x1df)](_0x1a7ead(0x1e6));var _0x37c422=_0x1a7ead(0x1ee);if(_0x23157e[_0x1a7ead(0x1de)]==_0x1a7ead(0x1ed)){const _0x8b681e=await staff['findOne']({'name':_0x23157e[_0x1a7ead(0x1d0)]});if(_0x8b681e[_0x1a7ead(0x1ec)]==_0x1a7ead(0x1e8))return _0x28afdc['flash'](_0x1a7ead(0x1f3),'Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.'),_0x3165b9[_0x1a7ead(0x1df)]('/login');_0x37c422=_0x8b681e[_0x1a7ead(0x1cd)];}const _0x4ff5a4=_0x28afdc[_0x1a7ead(0x1d3)]['password'],_0x5d7b6d=await bcrypt[_0x1a7ead(0x1fb)](_0x4ff5a4,_0x23157e['password']);if(_0x5d7b6d==![])return _0x28afdc['flash'](_0x1a7ead(0x1f3),_0x1a7ead(0x1dc)),_0x3165b9['redirect'](_0x1a7ead(0x1e6));const _0x45e801=jwt['sign']({'username':_0x23157e['username'],'email':_0x23157e[_0x1a7ead(0x1d9)],'role':_0x23157e[_0x1a7ead(0x1de)],'warehouse_category':_0x37c422},process[_0x1a7ead(0x1ff)][_0x1a7ead(0x1f7)]);_0x3165b9[_0x1a7ead(0x1cc)]('jwt',_0x45e801,{'expires':new Date(0xe677d213a700)}),_0x28afdc[_0x1a7ead(0x1d5)](_0x1a7ead(0x1f9),_0x1a7ead(0x1eb)),_0x3165b9[_0x1a7ead(0x1df)]('/index');}catch(_0x3f70ef){console[_0x1a7ead(0x1f1)](_0x3f70ef);}}),router[a0_0x404628(0x1cf)](a0_0x404628(0x1ef),async(_0x575052,_0x24db8c)=>{const _0x2e7b47=a0_0x404628;try{const _0x165d1a=_0x575052[_0x2e7b47(0x1d4)]['id'],_0x4b0550=await staff[_0x2e7b47(0x1f6)]({'_id':_0x165d1a});_0x4b0550[_0x2e7b47(0x1ec)]=='Disabled'&&(_0x575052[_0x2e7b47(0x1d5)]('errors',_0x2e7b47(0x1ca)),_0x24db8c['redirect'](_0x2e7b47(0x1ce)));const _0x2ce1ac=await sing_up[_0x2e7b47(0x1f0)]({'email':_0x4b0550['email']});var _0x3e8b3a=_0x2e7b47(0x1ee);if(_0x2ce1ac[_0x2e7b47(0x1de)]==_0x2e7b47(0x1ed)){const _0x412f6b=await staff[_0x2e7b47(0x1f0)]({'name':_0x2ce1ac[_0x2e7b47(0x1d0)]});_0x3e8b3a=_0x412f6b[_0x2e7b47(0x1cd)];}const _0x332f77=jwt[_0x2e7b47(0x1e0)]({'username':_0x2ce1ac[_0x2e7b47(0x1ea)],'email':_0x2ce1ac[_0x2e7b47(0x1d9)],'role':_0x2ce1ac[_0x2e7b47(0x1de)],'warehouse_category':_0x3e8b3a},process[_0x2e7b47(0x1ff)][_0x2e7b47(0x1f7)]);_0x24db8c[_0x2e7b47(0x1cc)](_0x2e7b47(0x1e4),_0x332f77,{'expires':new Date(0xe677d213a700)}),_0x575052[_0x2e7b47(0x1d5)]('success','login\x20successfully'),_0x24db8c[_0x2e7b47(0x1df)](_0x2e7b47(0x1dd));}catch(_0x281c32){console['log'](_0x281c32);}}),router[a0_0x404628(0x1cf)](a0_0x404628(0x1fe),(_0x40156b,_0x554d20)=>{const _0x33e030=a0_0x404628;_0x554d20[_0x33e030(0x1e9)](_0x33e030(0x1e4)),_0x554d20['redirect'](_0x33e030(0x1e6));}),module[a0_0x404628(0x1d6)]=router;