const a0_0xd5bccb=a0_0x58a3;(function(_0x2b3bc7,_0x539c3a){const _0x1b892a=a0_0x58a3,_0x196e6f=_0x2b3bc7();while(!![]){try{const _0x26a381=parseInt(_0x1b892a(0x114))/0x1*(-parseInt(_0x1b892a(0x11a))/0x2)+parseInt(_0x1b892a(0x10a))/0x3+-parseInt(_0x1b892a(0x117))/0x4*(-parseInt(_0x1b892a(0x102))/0x5)+parseInt(_0x1b892a(0x10f))/0x6*(-parseInt(_0x1b892a(0xf8))/0x7)+parseInt(_0x1b892a(0xf7))/0x8*(-parseInt(_0x1b892a(0x113))/0x9)+parseInt(_0x1b892a(0xfe))/0xa*(parseInt(_0x1b892a(0x10d))/0xb)+-parseInt(_0x1b892a(0x11f))/0xc;if(_0x26a381===_0x539c3a)break;else _0x196e6f['push'](_0x196e6f['shift']());}catch(_0x7bae08){_0x196e6f['push'](_0x196e6f['shift']());}}}(a0_0x373f,0x1d60c));function a0_0x58a3(_0x8b158,_0x4e0937){const _0x373fa0=a0_0x373f();return a0_0x58a3=function(_0x58a3e1,_0x5ee134){_0x58a3e1=_0x58a3e1-0xf3;let _0x3d8166=_0x373fa0[_0x58a3e1];return _0x3d8166;},a0_0x58a3(_0x8b158,_0x4e0937);}const express=require(a0_0xd5bccb(0x10e)),app=express(),router=express[a0_0xd5bccb(0x121)](),{sing_up,staff,profile,master_shop}=require(a0_0xd5bccb(0xf5)),bcrypt=require(a0_0xd5bccb(0x106)),jwt=require(a0_0xd5bccb(0xfd)),auth=require(a0_0xd5bccb(0x125));function a0_0x373f(){const _0x44a07c=['clearCookie','post','email','../models/all_models','findOne','48PhiPzV','59689rFzLjA','login\x20successfully','get','/login','staff','jsonwebtoken','376570xEhzmp','body','your\x20password\x20is\x20wrong','/staff/view','1385gsxqkW','warehouse_category','username','/logout','bcryptjs','compare','sign','password','599193LhQkzV','flash','secret_key','11ggdMAE','express','24AZgbNa','exports','log','find','299718NTZMTq','87613HnFoPg','render','status','3388VBeziD','login','cookie','2dZVFKo','findById','role','params','Disabled','361704ZyBPVb','validate','Router','errors','/index','jwt','../middleware/auth','redirect','name','your\x20email\x20is\x20not\x20register','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','env','success','/staff/:id'];a0_0x373f=function(){return _0x44a07c;};return a0_0x373f();}router[a0_0xd5bccb(0xfa)]('/',async(_0x2e66ee,_0xd77195)=>{const _0x24a49a=a0_0xd5bccb;try{const _0x1f94c2=await master_shop['find']();_0xd77195['render'](_0x24a49a(0x118),{'success':_0x2e66ee['flash'](_0x24a49a(0x12b)),'errors':_0x2e66ee[_0x24a49a(0x10b)](_0x24a49a(0x122)),'master_shop':_0x1f94c2});}catch(_0x239f28){console['log'](_0x239f28);}}),router[a0_0xd5bccb(0xfa)]('/validate',async(_0x51e130,_0x4489fb)=>{const _0x15184f=a0_0xd5bccb;try{const _0x193e53=await master_shop[_0x15184f(0x112)]();_0x4489fb[_0x15184f(0x115)](_0x15184f(0x120),{'success':_0x51e130[_0x15184f(0x10b)](_0x15184f(0x12b)),'errors':_0x51e130[_0x15184f(0x10b)](_0x15184f(0x122)),'master_shop':_0x193e53});}catch(_0x5f1b88){console[_0x15184f(0x111)](_0x5f1b88);}}),router[a0_0xd5bccb(0xfa)](a0_0xd5bccb(0xfb),async(_0x4cb067,_0xc6d525)=>{const _0x582bee=a0_0xd5bccb;try{const _0x42664e=await master_shop['find']();console[_0x582bee(0x111)]('login\x20master',_0x42664e),_0xc6d525[_0x582bee(0x115)](_0x582bee(0x118),{'success':_0x4cb067[_0x582bee(0x10b)](_0x582bee(0x12b)),'errors':_0x4cb067[_0x582bee(0x10b)]('errors'),'master_shop':_0x42664e});}catch(_0xbb1dde){console['log'](_0xbb1dde);}}),router[a0_0xd5bccb(0xf3)](a0_0xd5bccb(0xfb),async(_0x41a598,_0x46ae90)=>{const _0x5ad515=a0_0xd5bccb;try{const _0x373552=_0x41a598[_0x5ad515(0xff)][_0x5ad515(0xf4)],_0x2cf340=await sing_up[_0x5ad515(0xf6)]({'email':_0x373552});if(!_0x2cf340)return _0x41a598[_0x5ad515(0x10b)]('errors',_0x5ad515(0x128)),_0x46ae90[_0x5ad515(0x126)](_0x5ad515(0xfb));const _0x20b264=await staff[_0x5ad515(0xf6)]({'email':_0x2cf340[_0x5ad515(0xf4)]});var _0x39383d=_0x20b264[_0x5ad515(0x103)];if(_0x2cf340[_0x5ad515(0x11c)]==_0x5ad515(0xfc)){const _0x57b4dd=await staff[_0x5ad515(0xf6)]({'email':_0x2cf340[_0x5ad515(0xf4)]});if(_0x57b4dd[_0x5ad515(0x116)]==_0x5ad515(0x11e))return _0x41a598[_0x5ad515(0x10b)](_0x5ad515(0x122),_0x5ad515(0x129)),_0x46ae90[_0x5ad515(0x126)](_0x5ad515(0xfb));_0x39383d=_0x57b4dd[_0x5ad515(0x103)];}const _0x360c7b=_0x41a598[_0x5ad515(0xff)][_0x5ad515(0x109)],_0x244b62=await bcrypt[_0x5ad515(0x107)](_0x360c7b,_0x2cf340[_0x5ad515(0x109)]);if(_0x244b62==![])return _0x41a598['flash']('errors',_0x5ad515(0x100)),_0x46ae90[_0x5ad515(0x126)](_0x5ad515(0xfb));const _0x202d27=jwt[_0x5ad515(0x108)]({'username':_0x2cf340[_0x5ad515(0x104)],'email':_0x2cf340[_0x5ad515(0xf4)],'role':_0x2cf340['role'],'warehouse_category':_0x39383d},process[_0x5ad515(0x12a)][_0x5ad515(0x10c)]);_0x46ae90[_0x5ad515(0x119)](_0x5ad515(0x124),_0x202d27,{'expires':new Date(0xe677d213a700)}),_0x41a598[_0x5ad515(0x10b)]('success','login\x20successfully'),_0x46ae90['redirect']('/index');}catch(_0x4602c3){console[_0x5ad515(0x111)](_0x4602c3);}}),router[a0_0xd5bccb(0xfa)](a0_0xd5bccb(0x12c),async(_0x22983c,_0x4b6a87)=>{const _0x4abc89=a0_0xd5bccb;try{const _0x580f50=_0x22983c[_0x4abc89(0x11d)]['id'],_0x5239c5=await staff[_0x4abc89(0x11b)]({'_id':_0x580f50});_0x5239c5[_0x4abc89(0x116)]==_0x4abc89(0x11e)&&(_0x22983c[_0x4abc89(0x10b)]('errors',_0x4abc89(0x129)),_0x4b6a87[_0x4abc89(0x126)](_0x4abc89(0x101)));const _0x1504f0=await sing_up[_0x4abc89(0xf6)]({'email':_0x5239c5['email']});var _0x2dbccb=_0x5239c5[_0x4abc89(0x103)];if(_0x1504f0[_0x4abc89(0x11c)]==_0x4abc89(0xfc)){const _0x5d0548=await staff[_0x4abc89(0xf6)]({'name':_0x1504f0[_0x4abc89(0x127)]});_0x2dbccb=_0x5d0548[_0x4abc89(0x103)];}const _0x25d23c=jwt[_0x4abc89(0x108)]({'username':_0x1504f0[_0x4abc89(0x104)],'email':_0x1504f0['email'],'role':_0x1504f0[_0x4abc89(0x11c)],'warehouse_category':_0x2dbccb},process['env'][_0x4abc89(0x10c)]);_0x4b6a87[_0x4abc89(0x119)](_0x4abc89(0x124),_0x25d23c,{'expires':new Date(0xe677d213a700)}),_0x22983c[_0x4abc89(0x10b)]('success',_0x4abc89(0xf9)),_0x4b6a87[_0x4abc89(0x126)](_0x4abc89(0x123));}catch(_0x1613fa){console[_0x4abc89(0x111)](_0x1613fa);}}),router[a0_0xd5bccb(0xfa)](a0_0xd5bccb(0x105),(_0x4e7eb7,_0x290e94)=>{const _0x32c610=a0_0xd5bccb;_0x290e94[_0x32c610(0x12d)](_0x32c610(0x124)),_0x290e94[_0x32c610(0x126)](_0x32c610(0xfb));}),module[a0_0xd5bccb(0x110)]=router;