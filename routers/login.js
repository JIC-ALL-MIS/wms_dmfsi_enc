function a0_0x1fdf(){const _0x4235a6=['All','640gshzwY','exports','status','cookie','/logout','errors','../models/all_models','params','render','15dCsGin','../middleware/auth','redirect','/index','8yBiNok','jsonwebtoken','2856XhiRtp','find','staff','success','login','log','body','clearCookie','sign','10342DXntBZ','compare','get','5248JGfiyn','express','254628wZTeRu','/staff/:id','5459634obemPp','env','/login','username','login\x20master','5844570rjxOFn','108SJpirB','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','56182oIfuvD','Disabled','your\x20password\x20is\x20wrong','jwt','264394HQWNZp','secret_key','/staff/view','password','login\x20successfully','708yXfQYH','validate','warehouse_category','findOne','flash','email','name','role','Router','bcryptjs'];a0_0x1fdf=function(){return _0x4235a6;};return a0_0x1fdf();}function a0_0x3b31(_0x54976f,_0x533e7c){const _0x1fdfd3=a0_0x1fdf();return a0_0x3b31=function(_0x3b31d0,_0xc2100b){_0x3b31d0=_0x3b31d0-0xf0;let _0x47aab4=_0x1fdfd3[_0x3b31d0];return _0x47aab4;},a0_0x3b31(_0x54976f,_0x533e7c);}const a0_0x3964e7=a0_0x3b31;(function(_0x41d4d4,_0x155c63){const _0x316ccc=a0_0x3b31,_0xdfa3a=_0x41d4d4();while(!![]){try{const _0xe90373=parseInt(_0x316ccc(0x127))/0x1*(-parseInt(_0x316ccc(0xfb))/0x2)+parseInt(_0x316ccc(0xf2))/0x3*(parseInt(_0x316ccc(0xfe))/0x4)+-parseInt(_0x316ccc(0x107))/0x5+parseInt(_0x316ccc(0x108))/0x6*(-parseInt(_0x316ccc(0x10a))/0x7)+parseInt(_0x316ccc(0xf0))/0x8*(parseInt(_0x316ccc(0x102))/0x9)+-parseInt(_0x316ccc(0x11e))/0xa*(-parseInt(_0x316ccc(0x100))/0xb)+-parseInt(_0x316ccc(0x113))/0xc*(parseInt(_0x316ccc(0x10e))/0xd);if(_0xe90373===_0x155c63)break;else _0xdfa3a['push'](_0xdfa3a['shift']());}catch(_0x40474f){_0xdfa3a['push'](_0xdfa3a['shift']());}}}(a0_0x1fdf,0xb62f9));const express=require(a0_0x3964e7(0xff)),app=express(),router=express[a0_0x3964e7(0x11b)](),{sing_up,staff,profile,master_shop}=require(a0_0x3964e7(0x124)),bcrypt=require(a0_0x3964e7(0x11c)),jwt=require(a0_0x3964e7(0xf1)),auth=require(a0_0x3964e7(0x128));router[a0_0x3964e7(0xfd)]('/',async(_0x3338b5,_0x297752)=>{const _0x37b0a2=a0_0x3964e7;try{const _0x39f0d5=await master_shop[_0x37b0a2(0xf3)]();_0x297752['render'](_0x37b0a2(0xf6),{'success':_0x3338b5[_0x37b0a2(0x117)](_0x37b0a2(0xf5)),'errors':_0x3338b5['flash']('errors'),'master_shop':_0x39f0d5});}catch(_0x5defce){console[_0x37b0a2(0xf7)](_0x5defce);}}),router[a0_0x3964e7(0xfd)]('/validate',async(_0x373545,_0x3e7851)=>{const _0x117575=a0_0x3964e7;try{const _0x3324ef=await master_shop[_0x117575(0xf3)]();_0x3e7851[_0x117575(0x126)](_0x117575(0x114),{'success':_0x373545[_0x117575(0x117)]('success'),'errors':_0x373545[_0x117575(0x117)](_0x117575(0x123)),'master_shop':_0x3324ef});}catch(_0x5adeba){console[_0x117575(0xf7)](_0x5adeba);}}),router[a0_0x3964e7(0xfd)](a0_0x3964e7(0x104),async(_0xa1eab,_0x20b050)=>{const _0x4efff8=a0_0x3964e7;try{const _0x5b1276=await master_shop[_0x4efff8(0xf3)]();console[_0x4efff8(0xf7)](_0x4efff8(0x106),_0x5b1276),_0x20b050[_0x4efff8(0x126)](_0x4efff8(0xf6),{'success':_0xa1eab[_0x4efff8(0x117)]('success'),'errors':_0xa1eab[_0x4efff8(0x117)](_0x4efff8(0x123)),'master_shop':_0x5b1276});}catch(_0x41c76b){console['log'](_0x41c76b);}}),router['post'](a0_0x3964e7(0x104),async(_0x1ddc86,_0x5be343)=>{const _0x59fb97=a0_0x3964e7;try{const _0x45ce81=_0x1ddc86[_0x59fb97(0xf8)]['email'],_0x5987c5=await sing_up[_0x59fb97(0x116)]({'email':_0x45ce81});if(!_0x5987c5)return _0x1ddc86[_0x59fb97(0x117)]('errors','your\x20email\x20is\x20not\x20register'),_0x5be343[_0x59fb97(0x129)](_0x59fb97(0x104));var _0x399325='All';if(_0x5987c5['role']==_0x59fb97(0xf4)){const _0x4811cc=await staff['findOne']({'name':_0x5987c5[_0x59fb97(0x119)]});if(_0x4811cc['status']==_0x59fb97(0x10b))return _0x1ddc86[_0x59fb97(0x117)](_0x59fb97(0x123),_0x59fb97(0x109)),_0x5be343[_0x59fb97(0x129)]('/login');_0x399325=_0x4811cc['warehouse_category'];}const _0x2bff6a=_0x1ddc86[_0x59fb97(0xf8)]['password'],_0x563ebc=await bcrypt[_0x59fb97(0xfc)](_0x2bff6a,_0x5987c5[_0x59fb97(0x111)]);if(_0x563ebc==![])return _0x1ddc86[_0x59fb97(0x117)](_0x59fb97(0x123),_0x59fb97(0x10c)),_0x5be343['redirect'](_0x59fb97(0x104));const _0x336805=jwt['sign']({'username':_0x5987c5[_0x59fb97(0x105)],'email':_0x5987c5[_0x59fb97(0x118)],'role':_0x5987c5[_0x59fb97(0x11a)],'warehouse_category':_0x399325},process[_0x59fb97(0x103)][_0x59fb97(0x10f)]);_0x5be343[_0x59fb97(0x121)](_0x59fb97(0x10d),_0x336805,{'expires':new Date(0xe677d213a700)}),_0x1ddc86[_0x59fb97(0x117)](_0x59fb97(0xf5),'login\x20successfully'),_0x5be343[_0x59fb97(0x129)](_0x59fb97(0x12a));}catch(_0x411e07){console[_0x59fb97(0xf7)](_0x411e07);}}),router['get'](a0_0x3964e7(0x101),async(_0x564fa3,_0x273128)=>{const _0x3f7e7f=a0_0x3964e7;try{const _0xa1e55=_0x564fa3[_0x3f7e7f(0x125)]['id'],_0x1f3f9b=await staff['findById']({'_id':_0xa1e55});_0x1f3f9b[_0x3f7e7f(0x120)]==_0x3f7e7f(0x10b)&&(_0x564fa3['flash'](_0x3f7e7f(0x123),'Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.'),_0x273128[_0x3f7e7f(0x129)](_0x3f7e7f(0x110)));const _0x908634=await sing_up[_0x3f7e7f(0x116)]({'email':_0x1f3f9b[_0x3f7e7f(0x118)]});var _0x5456b5=_0x3f7e7f(0x11d);if(_0x908634[_0x3f7e7f(0x11a)]==_0x3f7e7f(0xf4)){const _0x5edacf=await staff[_0x3f7e7f(0x116)]({'name':_0x908634[_0x3f7e7f(0x119)]});_0x5456b5=_0x5edacf[_0x3f7e7f(0x115)];}const _0x37e05d=jwt[_0x3f7e7f(0xfa)]({'username':_0x908634['username'],'email':_0x908634[_0x3f7e7f(0x118)],'role':_0x908634[_0x3f7e7f(0x11a)],'warehouse_category':_0x5456b5},process['env'][_0x3f7e7f(0x10f)]);_0x273128[_0x3f7e7f(0x121)](_0x3f7e7f(0x10d),_0x37e05d,{'expires':new Date(0xe677d213a700)}),_0x564fa3[_0x3f7e7f(0x117)](_0x3f7e7f(0xf5),_0x3f7e7f(0x112)),_0x273128[_0x3f7e7f(0x129)](_0x3f7e7f(0x12a));}catch(_0x5a60a7){console[_0x3f7e7f(0xf7)](_0x5a60a7);}}),router['get'](a0_0x3964e7(0x122),(_0x280537,_0x4cd156)=>{const _0x227ecc=a0_0x3964e7;_0x4cd156[_0x227ecc(0xf9)](_0x227ecc(0x10d)),_0x4cd156['redirect'](_0x227ecc(0x104));}),module[a0_0x3964e7(0x11f)]=router;