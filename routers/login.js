function a0_0x4089(){const _0x54ee3e=['88210cfltVT','64QnnWwJ','compare','Disabled','role','exports','success','flash','login','username','render','256969FizHow','30914147IAfJjU','your\x20email\x20is\x20not\x20register','findOne','/logout','redirect','30770KblXPT','/login','jwt','cookie','params','your\x20password\x20is\x20wrong','post','9jJtpID','All','sign','name','password','../middleware/auth','bcryptjs','errors','4509sYJvSH','366rrYsDs','/staff/view','staff','express','login\x20successfully','1176620tURkcX','warehouse_category','secret_key','1068697WezyxS','get','../models/all_models','env','status','email','Router','find','log','1869582hhLLvl','/staff/:id','login\x20master','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','/validate','body','/index'];a0_0x4089=function(){return _0x54ee3e;};return a0_0x4089();}const a0_0x17bc30=a0_0x2932;(function(_0x573b56,_0x558257){const _0x12e5ec=a0_0x2932,_0x4f75bc=_0x573b56();while(!![]){try{const _0x20317d=parseInt(_0x12e5ec(0x149))/0x1+parseInt(_0x12e5ec(0x170))/0x2+-parseInt(_0x12e5ec(0x156))/0x3*(-parseInt(_0x12e5ec(0x164))/0x4)+-parseInt(_0x12e5ec(0x177))/0x5*(parseInt(_0x12e5ec(0x15f))/0x6)+parseInt(_0x12e5ec(0x167))/0x7*(parseInt(_0x12e5ec(0x178))/0x8)+parseInt(_0x12e5ec(0x15e))/0x9*(parseInt(_0x12e5ec(0x14f))/0xa)+-parseInt(_0x12e5ec(0x14a))/0xb;if(_0x20317d===_0x558257)break;else _0x4f75bc['push'](_0x4f75bc['shift']());}catch(_0x498231){_0x4f75bc['push'](_0x4f75bc['shift']());}}}(a0_0x4089,0xe8167));const express=require(a0_0x17bc30(0x162)),app=express(),router=express[a0_0x17bc30(0x16d)](),{sing_up,staff,profile,master_shop}=require(a0_0x17bc30(0x169)),bcrypt=require(a0_0x17bc30(0x15c)),jwt=require('jsonwebtoken'),auth=require(a0_0x17bc30(0x15b));function a0_0x2932(_0x3d028c,_0x48ec35){const _0x408982=a0_0x4089();return a0_0x2932=function(_0x29327d,_0x3054ba){_0x29327d=_0x29327d-0x140;let _0x42a221=_0x408982[_0x29327d];return _0x42a221;},a0_0x2932(_0x3d028c,_0x48ec35);}router[a0_0x17bc30(0x168)]('/',async(_0x12fbb4,_0x30bf5e)=>{const _0x83acd8=a0_0x17bc30;try{const _0x1e3404=await master_shop['find']();_0x30bf5e['render']('login',{'success':_0x12fbb4[_0x83acd8(0x145)](_0x83acd8(0x144)),'errors':_0x12fbb4[_0x83acd8(0x145)]('errors'),'master_shop':_0x1e3404});}catch(_0x29d917){console[_0x83acd8(0x16f)](_0x29d917);}}),router[a0_0x17bc30(0x168)](a0_0x17bc30(0x174),async(_0x197be8,_0x442828)=>{const _0x3abc35=a0_0x17bc30;try{const _0x20f2aa=await master_shop[_0x3abc35(0x16e)]();_0x442828[_0x3abc35(0x148)]('validate',{'success':_0x197be8[_0x3abc35(0x145)](_0x3abc35(0x144)),'errors':_0x197be8['flash']('errors'),'master_shop':_0x20f2aa});}catch(_0x18788c){console['log'](_0x18788c);}}),router[a0_0x17bc30(0x168)](a0_0x17bc30(0x150),async(_0x552be8,_0x53540c)=>{const _0x295aea=a0_0x17bc30;try{const _0x48d66b=await master_shop[_0x295aea(0x16e)]();console[_0x295aea(0x16f)](_0x295aea(0x172),_0x48d66b),_0x53540c[_0x295aea(0x148)](_0x295aea(0x146),{'success':_0x552be8[_0x295aea(0x145)](_0x295aea(0x144)),'errors':_0x552be8[_0x295aea(0x145)]('errors'),'master_shop':_0x48d66b});}catch(_0x428d07){console[_0x295aea(0x16f)](_0x428d07);}}),router[a0_0x17bc30(0x155)](a0_0x17bc30(0x150),async(_0x4db7e0,_0x1ae136)=>{const _0x3aa5a1=a0_0x17bc30;try{const _0x476ab3=_0x4db7e0[_0x3aa5a1(0x175)][_0x3aa5a1(0x16c)],_0x4770d7=await sing_up[_0x3aa5a1(0x14c)]({'email':_0x476ab3});if(!_0x4770d7)return _0x4db7e0['flash']('errors',_0x3aa5a1(0x14b)),_0x1ae136[_0x3aa5a1(0x14e)](_0x3aa5a1(0x150));var _0x2141ba=_0x3aa5a1(0x157);if(_0x4770d7[_0x3aa5a1(0x142)]==_0x3aa5a1(0x161)){const _0x4b31b7=await staff[_0x3aa5a1(0x14c)]({'name':_0x4770d7[_0x3aa5a1(0x159)]});if(_0x4b31b7[_0x3aa5a1(0x16b)]==_0x3aa5a1(0x141))return _0x4db7e0[_0x3aa5a1(0x145)](_0x3aa5a1(0x15d),_0x3aa5a1(0x173)),_0x1ae136[_0x3aa5a1(0x14e)]('/login');_0x2141ba=_0x4b31b7[_0x3aa5a1(0x165)];}const _0x347ac9=_0x4db7e0[_0x3aa5a1(0x175)][_0x3aa5a1(0x15a)],_0x5f1105=await bcrypt[_0x3aa5a1(0x140)](_0x347ac9,_0x4770d7[_0x3aa5a1(0x15a)]);if(_0x5f1105==![])return _0x4db7e0[_0x3aa5a1(0x145)]('errors',_0x3aa5a1(0x154)),_0x1ae136[_0x3aa5a1(0x14e)](_0x3aa5a1(0x150));const _0x480447=jwt['sign']({'username':_0x4770d7[_0x3aa5a1(0x147)],'email':_0x4770d7[_0x3aa5a1(0x16c)],'role':_0x4770d7[_0x3aa5a1(0x142)],'warehouse_category':_0x2141ba},process[_0x3aa5a1(0x16a)][_0x3aa5a1(0x166)]);_0x1ae136['cookie'](_0x3aa5a1(0x151),_0x480447,{'expires':new Date(0xe677d213a700)}),_0x4db7e0[_0x3aa5a1(0x145)](_0x3aa5a1(0x144),_0x3aa5a1(0x163)),_0x1ae136[_0x3aa5a1(0x14e)]('/index');}catch(_0x2cce66){console['log'](_0x2cce66);}}),router[a0_0x17bc30(0x168)](a0_0x17bc30(0x171),async(_0x6c7a29,_0x3307b7)=>{const _0x35bea5=a0_0x17bc30;try{const _0x2a8d15=_0x6c7a29[_0x35bea5(0x153)]['id'],_0x1cf817=await staff['findById']({'_id':_0x2a8d15});_0x1cf817[_0x35bea5(0x16b)]==_0x35bea5(0x141)&&(_0x6c7a29['flash'](_0x35bea5(0x15d),_0x35bea5(0x173)),_0x3307b7[_0x35bea5(0x14e)](_0x35bea5(0x160)));const _0x36b017=await sing_up[_0x35bea5(0x14c)]({'email':_0x1cf817[_0x35bea5(0x16c)]});var _0x2ea906='All';if(_0x36b017['role']==_0x35bea5(0x161)){const _0x4d1a25=await staff[_0x35bea5(0x14c)]({'name':_0x36b017[_0x35bea5(0x159)]});_0x2ea906=_0x4d1a25['warehouse_category'];}const _0x342eae=jwt[_0x35bea5(0x158)]({'username':_0x36b017['username'],'email':_0x36b017[_0x35bea5(0x16c)],'role':_0x36b017[_0x35bea5(0x142)],'warehouse_category':_0x2ea906},process[_0x35bea5(0x16a)]['secret_key']);_0x3307b7[_0x35bea5(0x152)](_0x35bea5(0x151),_0x342eae,{'expires':new Date(0xe677d213a700)}),_0x6c7a29[_0x35bea5(0x145)](_0x35bea5(0x144),_0x35bea5(0x163)),_0x3307b7[_0x35bea5(0x14e)](_0x35bea5(0x176));}catch(_0x39f5dc){console[_0x35bea5(0x16f)](_0x39f5dc);}}),router[a0_0x17bc30(0x168)](a0_0x17bc30(0x14d),(_0x49c50a,_0x55f66a)=>{const _0x4d17a7=a0_0x17bc30;_0x55f66a['clearCookie']('jwt'),_0x55f66a['redirect'](_0x4d17a7(0x150));}),module[a0_0x17bc30(0x143)]=router;