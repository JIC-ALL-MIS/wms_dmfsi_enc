const a0_0x3e4921=a0_0x8ae0;(function(_0x58e888,_0x3dbbd1){const _0x44c678=a0_0x8ae0,_0x814729=_0x58e888();while(!![]){try{const _0x11922d=parseInt(_0x44c678(0x1bf))/0x1+-parseInt(_0x44c678(0x1cc))/0x2*(parseInt(_0x44c678(0x1cb))/0x3)+-parseInt(_0x44c678(0x1df))/0x4+-parseInt(_0x44c678(0x1c9))/0x5*(-parseInt(_0x44c678(0x1e4))/0x6)+-parseInt(_0x44c678(0x1d7))/0x7+parseInt(_0x44c678(0x1cf))/0x8+parseInt(_0x44c678(0x1c1))/0x9*(-parseInt(_0x44c678(0x1cd))/0xa);if(_0x11922d===_0x3dbbd1)break;else _0x814729['push'](_0x814729['shift']());}catch(_0x2317f0){_0x814729['push'](_0x814729['shift']());}}}(a0_0x1ca8,0xc9459));const express=require(a0_0x3e4921(0x1da)),app=express(),router=express[a0_0x3e4921(0x1d8)](),{sing_up,staff,profile,master_shop}=require(a0_0x3e4921(0x1d2)),bcrypt=require('bcryptjs'),jwt=require('jsonwebtoken'),auth=require(a0_0x3e4921(0x1b4));function a0_0x8ae0(_0x2ba864,_0x3dc9e1){const _0x1ca8f6=a0_0x1ca8();return a0_0x8ae0=function(_0x8ae00d,_0x1f1697){_0x8ae00d=_0x8ae00d-0x1b2;let _0x5864a6=_0x1ca8f6[_0x8ae00d];return _0x5864a6;},a0_0x8ae0(_0x2ba864,_0x3dc9e1);}function a0_0x1ca8(){const _0x5b0f06=['get','945aAXjfc','role','/staff/view','jwt','post','status','body','/validate','3860yjlFuI','/staff/:id','24TEBEwo','4198pGFKEw','9340LxAXsu','errors','6138168EYmjsx','find','email','../models/all_models','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','/index','redirect','secret_key','7445676OzsbmX','Router','warehouse_category','express','env','login\x20successfully','success','staff','3430616AFpqbm','render','password','/login','your\x20email\x20is\x20not\x20register','7908gErbLD','exports','validate','findOne','cookie','Disabled','your\x20password\x20is\x20wrong','../middleware/auth','name','login','login\x20master','findById','username','flash','compare','clearCookie','log','/logout','1075826MLznFr'];a0_0x1ca8=function(){return _0x5b0f06;};return a0_0x1ca8();}router[a0_0x3e4921(0x1c0)]('/',async(_0x432219,_0x2ec902)=>{const _0x167a1e=a0_0x3e4921;try{const _0x5931ba=await master_shop[_0x167a1e(0x1d0)]();_0x2ec902[_0x167a1e(0x1e0)](_0x167a1e(0x1b6),{'success':_0x432219[_0x167a1e(0x1ba)](_0x167a1e(0x1dd)),'errors':_0x432219[_0x167a1e(0x1ba)]('errors'),'master_shop':_0x5931ba});}catch(_0x344d8e){console[_0x167a1e(0x1bd)](_0x344d8e);}}),router[a0_0x3e4921(0x1c0)](a0_0x3e4921(0x1c8),async(_0x5e2cce,_0x97c3e3)=>{const _0x3c65fc=a0_0x3e4921;try{const _0x4d7cee=await master_shop[_0x3c65fc(0x1d0)]();_0x97c3e3[_0x3c65fc(0x1e0)](_0x3c65fc(0x1e6),{'success':_0x5e2cce[_0x3c65fc(0x1ba)](_0x3c65fc(0x1dd)),'errors':_0x5e2cce['flash']('errors'),'master_shop':_0x4d7cee});}catch(_0x2edfdd){console[_0x3c65fc(0x1bd)](_0x2edfdd);}}),router[a0_0x3e4921(0x1c0)](a0_0x3e4921(0x1e2),async(_0x3d3e8a,_0x578c04)=>{const _0xc2a502=a0_0x3e4921;try{const _0x30a5a4=await master_shop[_0xc2a502(0x1d0)]();console[_0xc2a502(0x1bd)](_0xc2a502(0x1b7),_0x30a5a4),_0x578c04[_0xc2a502(0x1e0)](_0xc2a502(0x1b6),{'success':_0x3d3e8a[_0xc2a502(0x1ba)](_0xc2a502(0x1dd)),'errors':_0x3d3e8a[_0xc2a502(0x1ba)](_0xc2a502(0x1ce)),'master_shop':_0x30a5a4});}catch(_0x18e9ce){console[_0xc2a502(0x1bd)](_0x18e9ce);}}),router[a0_0x3e4921(0x1c5)](a0_0x3e4921(0x1e2),async(_0x59a3fb,_0x3a6d7e)=>{const _0x4d2d7a=a0_0x3e4921;try{const _0x1b1987=_0x59a3fb[_0x4d2d7a(0x1c7)][_0x4d2d7a(0x1d1)],_0x311fb2=await sing_up[_0x4d2d7a(0x1e7)]({'email':_0x1b1987});if(!_0x311fb2)return _0x59a3fb['flash'](_0x4d2d7a(0x1ce),_0x4d2d7a(0x1e3)),_0x3a6d7e[_0x4d2d7a(0x1d5)](_0x4d2d7a(0x1e2));const _0x310e29=await staff['findOne']({'email':_0x311fb2['email']});var _0x38d2d8=_0x310e29[_0x4d2d7a(0x1d9)];if(_0x311fb2['role']=='staff'){const _0x41a8d5=await staff[_0x4d2d7a(0x1e7)]({'email':_0x311fb2[_0x4d2d7a(0x1d1)]});if(_0x41a8d5[_0x4d2d7a(0x1c6)]==_0x4d2d7a(0x1b2))return _0x59a3fb[_0x4d2d7a(0x1ba)](_0x4d2d7a(0x1ce),_0x4d2d7a(0x1d3)),_0x3a6d7e[_0x4d2d7a(0x1d5)](_0x4d2d7a(0x1e2));_0x38d2d8=_0x41a8d5[_0x4d2d7a(0x1d9)];}const _0x4e6dc9=_0x59a3fb['body'][_0x4d2d7a(0x1e1)],_0x485940=await bcrypt[_0x4d2d7a(0x1bb)](_0x4e6dc9,_0x311fb2[_0x4d2d7a(0x1e1)]);if(_0x485940==![])return _0x59a3fb[_0x4d2d7a(0x1ba)](_0x4d2d7a(0x1ce),_0x4d2d7a(0x1b3)),_0x3a6d7e[_0x4d2d7a(0x1d5)](_0x4d2d7a(0x1e2));const _0x3f162e=jwt['sign']({'username':_0x311fb2[_0x4d2d7a(0x1b9)],'email':_0x311fb2[_0x4d2d7a(0x1d1)],'role':_0x311fb2['role'],'warehouse_category':_0x38d2d8},process[_0x4d2d7a(0x1db)][_0x4d2d7a(0x1d6)]);_0x3a6d7e[_0x4d2d7a(0x1e8)]('jwt',_0x3f162e,{'expires':new Date(0xe677d213a700)}),_0x59a3fb[_0x4d2d7a(0x1ba)](_0x4d2d7a(0x1dd),_0x4d2d7a(0x1dc)),_0x3a6d7e[_0x4d2d7a(0x1d5)](_0x4d2d7a(0x1d4));}catch(_0x1e430b){console[_0x4d2d7a(0x1bd)](_0x1e430b);}}),router[a0_0x3e4921(0x1c0)](a0_0x3e4921(0x1ca),async(_0x56b5b1,_0x1f7a43)=>{const _0x37d6b7=a0_0x3e4921;try{const _0x5cee6c=_0x56b5b1['params']['id'],_0x2a8d81=await staff[_0x37d6b7(0x1b8)]({'_id':_0x5cee6c});_0x2a8d81[_0x37d6b7(0x1c6)]==_0x37d6b7(0x1b2)&&(_0x56b5b1[_0x37d6b7(0x1ba)](_0x37d6b7(0x1ce),_0x37d6b7(0x1d3)),_0x1f7a43[_0x37d6b7(0x1d5)](_0x37d6b7(0x1c3)));const _0x1581a3=await sing_up[_0x37d6b7(0x1e7)]({'email':_0x2a8d81[_0x37d6b7(0x1d1)]});var _0x585ec1=_0x2a8d81[_0x37d6b7(0x1d9)];if(_0x1581a3[_0x37d6b7(0x1c2)]==_0x37d6b7(0x1de)){const _0x5b8b55=await staff['findOne']({'name':_0x1581a3[_0x37d6b7(0x1b5)]});_0x585ec1=_0x5b8b55['warehouse_category'];}const _0x3bf0b8=jwt['sign']({'username':_0x1581a3[_0x37d6b7(0x1b9)],'email':_0x1581a3['email'],'role':_0x1581a3[_0x37d6b7(0x1c2)],'warehouse_category':_0x585ec1},process[_0x37d6b7(0x1db)]['secret_key']);_0x1f7a43['cookie'](_0x37d6b7(0x1c4),_0x3bf0b8,{'expires':new Date(0xe677d213a700)}),_0x56b5b1['flash'](_0x37d6b7(0x1dd),_0x37d6b7(0x1dc)),_0x1f7a43[_0x37d6b7(0x1d5)](_0x37d6b7(0x1d4));}catch(_0x242f0f){console['log'](_0x242f0f);}}),router[a0_0x3e4921(0x1c0)](a0_0x3e4921(0x1be),(_0x8ded71,_0x5e78ae)=>{const _0x3c4b28=a0_0x3e4921;_0x5e78ae[_0x3c4b28(0x1bc)]('jwt'),_0x5e78ae[_0x3c4b28(0x1d5)]('/login');}),module[a0_0x3e4921(0x1e5)]=router;