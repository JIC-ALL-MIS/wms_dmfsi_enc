function a0_0x56e7(_0x5bc328,_0x22cb40){const _0x5d742a=a0_0x5d74();return a0_0x56e7=function(_0x56e790,_0x543d0c){_0x56e790=_0x56e790-0x125;let _0x56bc6f=_0x5d742a[_0x56e790];return _0x56bc6f;},a0_0x56e7(_0x5bc328,_0x22cb40);}const a0_0x3b3020=a0_0x56e7;function a0_0x5d74(){const _0x1c1d17=['staff','3905OUJSsI','5716RszFCH','secret_key','55IAyzkT','Router','login\x20successfully','warehouse_category','jsonwebtoken','jwt','name','/index','Disabled','get','username','9pIDtQc','../middleware/auth','/staff/view','/staff/:id','express','findById','your\x20password\x20is\x20wrong','findOne','186107QSxBbe','redirect','21118annEmS','post','cookie','your\x20email\x20is\x20not\x20register','role','../models/all_models','status','/login','3006780MirpaE','bcryptjs','render','/logout','/validate','3168910NJtXMK','6740936BTyLOm','login','email','clearCookie','237zqnkIG','flash','errors','exports','success','log','login\x20master','env','body','validate','password','find','2908398lvyHCF','sign'];a0_0x5d74=function(){return _0x1c1d17;};return a0_0x5d74();}(function(_0x419822,_0x572426){const _0x2ade90=a0_0x56e7,_0x1d4899=_0x419822();while(!![]){try{const _0x154573=parseInt(_0x2ade90(0x13e))/0x1+parseInt(_0x2ade90(0x140))/0x2*(parseInt(_0x2ade90(0x152))/0x3)+-parseInt(_0x2ade90(0x129))/0x4*(parseInt(_0x2ade90(0x128))/0x5)+parseInt(_0x2ade90(0x125))/0x6+-parseInt(_0x2ade90(0x148))/0x7+-parseInt(_0x2ade90(0x14e))/0x8*(parseInt(_0x2ade90(0x136))/0x9)+parseInt(_0x2ade90(0x14d))/0xa*(parseInt(_0x2ade90(0x12b))/0xb);if(_0x154573===_0x572426)break;else _0x1d4899['push'](_0x1d4899['shift']());}catch(_0xbaf214){_0x1d4899['push'](_0x1d4899['shift']());}}}(a0_0x5d74,0xab342));const express=require(a0_0x3b3020(0x13a)),app=express(),router=express[a0_0x3b3020(0x12c)](),{sing_up,staff,profile,master_shop}=require(a0_0x3b3020(0x145)),bcrypt=require(a0_0x3b3020(0x149)),jwt=require(a0_0x3b3020(0x12f)),auth=require(a0_0x3b3020(0x137));router['get']('/',async(_0x22efad,_0x156162)=>{const _0x1a1234=a0_0x3b3020;try{const _0x3f9e78=await master_shop['find']();_0x156162['render']('login',{'success':_0x22efad[_0x1a1234(0x153)]('success'),'errors':_0x22efad['flash'](_0x1a1234(0x154)),'master_shop':_0x3f9e78});}catch(_0x24198c){console[_0x1a1234(0x157)](_0x24198c);}}),router['get'](a0_0x3b3020(0x14c),async(_0x12b8a0,_0x4196d9)=>{const _0x28cb85=a0_0x3b3020;try{const _0x5a5728=await master_shop[_0x28cb85(0x15d)]();_0x4196d9[_0x28cb85(0x14a)](_0x28cb85(0x15b),{'success':_0x12b8a0[_0x28cb85(0x153)](_0x28cb85(0x156)),'errors':_0x12b8a0[_0x28cb85(0x153)](_0x28cb85(0x154)),'master_shop':_0x5a5728});}catch(_0x3c5b13){console[_0x28cb85(0x157)](_0x3c5b13);}}),router[a0_0x3b3020(0x134)](a0_0x3b3020(0x147),async(_0x4d0731,_0x50d579)=>{const _0x18fdb8=a0_0x3b3020;try{const _0x85777d=await master_shop['find']();console[_0x18fdb8(0x157)](_0x18fdb8(0x158),_0x85777d),_0x50d579[_0x18fdb8(0x14a)](_0x18fdb8(0x14f),{'success':_0x4d0731[_0x18fdb8(0x153)](_0x18fdb8(0x156)),'errors':_0x4d0731[_0x18fdb8(0x153)](_0x18fdb8(0x154)),'master_shop':_0x85777d});}catch(_0x14c099){console['log'](_0x14c099);}}),router[a0_0x3b3020(0x141)](a0_0x3b3020(0x147),async(_0x3577d9,_0x2cbae8)=>{const _0x4529c7=a0_0x3b3020;try{const _0x59ef0f=_0x3577d9[_0x4529c7(0x15a)][_0x4529c7(0x150)],_0x3e4de5=await sing_up['findOne']({'email':_0x59ef0f});if(!_0x3e4de5)return _0x3577d9['flash'](_0x4529c7(0x154),_0x4529c7(0x143)),_0x2cbae8[_0x4529c7(0x13f)](_0x4529c7(0x147));const _0x4b03ad=await staff[_0x4529c7(0x13d)]({'email':_0x3e4de5['email']});var _0x3f7e7c=_0x4b03ad[_0x4529c7(0x12e)];if(_0x3e4de5[_0x4529c7(0x144)]=='staff'){const _0xf49453=await staff[_0x4529c7(0x13d)]({'email':_0x3e4de5[_0x4529c7(0x150)]});if(_0xf49453[_0x4529c7(0x146)]==_0x4529c7(0x133))return _0x3577d9['flash'](_0x4529c7(0x154),'Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.'),_0x2cbae8[_0x4529c7(0x13f)](_0x4529c7(0x147));_0x3f7e7c=_0xf49453[_0x4529c7(0x12e)];}const _0x10a48c=_0x3577d9[_0x4529c7(0x15a)][_0x4529c7(0x15c)],_0x24f2df=await bcrypt['compare'](_0x10a48c,_0x3e4de5[_0x4529c7(0x15c)]);if(_0x24f2df==![])return _0x3577d9[_0x4529c7(0x153)](_0x4529c7(0x154),_0x4529c7(0x13c)),_0x2cbae8['redirect'](_0x4529c7(0x147));const _0x2d971b=jwt[_0x4529c7(0x126)]({'username':_0x3e4de5[_0x4529c7(0x135)],'email':_0x3e4de5[_0x4529c7(0x150)],'role':_0x3e4de5[_0x4529c7(0x144)],'warehouse_category':_0x3f7e7c},process[_0x4529c7(0x159)][_0x4529c7(0x12a)]);_0x2cbae8['cookie']('jwt',_0x2d971b,{'expires':new Date(0xe677d213a700)}),_0x3577d9[_0x4529c7(0x153)]('success',_0x4529c7(0x12d)),_0x2cbae8[_0x4529c7(0x13f)](_0x4529c7(0x132));}catch(_0x26fd76){console[_0x4529c7(0x157)](_0x26fd76);}}),router['get'](a0_0x3b3020(0x139),async(_0x3265f1,_0x16ded3)=>{const _0x374f75=a0_0x3b3020;try{const _0x1031bc=_0x3265f1['params']['id'],_0x5b496e=await staff[_0x374f75(0x13b)]({'_id':_0x1031bc});_0x5b496e[_0x374f75(0x146)]==_0x374f75(0x133)&&(_0x3265f1['flash'](_0x374f75(0x154),'Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.'),_0x16ded3['redirect'](_0x374f75(0x138)));const _0xb6a4d4=await sing_up[_0x374f75(0x13d)]({'email':_0x5b496e[_0x374f75(0x150)]});var _0x4234a1=_0x5b496e[_0x374f75(0x12e)];if(_0xb6a4d4['role']==_0x374f75(0x127)){const _0x385dba=await staff[_0x374f75(0x13d)]({'name':_0xb6a4d4[_0x374f75(0x131)]});_0x4234a1=_0x385dba[_0x374f75(0x12e)];}const _0x1a5759=jwt['sign']({'username':_0xb6a4d4['username'],'email':_0xb6a4d4[_0x374f75(0x150)],'role':_0xb6a4d4[_0x374f75(0x144)],'warehouse_category':_0x4234a1},process[_0x374f75(0x159)]['secret_key']);_0x16ded3[_0x374f75(0x142)](_0x374f75(0x130),_0x1a5759,{'expires':new Date(0xe677d213a700)}),_0x3265f1[_0x374f75(0x153)](_0x374f75(0x156),_0x374f75(0x12d)),_0x16ded3[_0x374f75(0x13f)]('/index');}catch(_0x314cc1){console['log'](_0x314cc1);}}),router[a0_0x3b3020(0x134)](a0_0x3b3020(0x14b),(_0x1dcea9,_0x9fea05)=>{const _0x1db63f=a0_0x3b3020;_0x9fea05[_0x1db63f(0x151)](_0x1db63f(0x130)),_0x9fea05[_0x1db63f(0x13f)](_0x1db63f(0x147));}),module[a0_0x3b3020(0x155)]=router;