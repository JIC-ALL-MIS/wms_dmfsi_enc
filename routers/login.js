const a0_0x544d1b=a0_0x22fd;(function(_0x56e452,_0x177ab7){const _0xda0b1b=a0_0x22fd,_0x20a978=_0x56e452();while(!![]){try{const _0x479125=-parseInt(_0xda0b1b(0x1b7))/0x1*(parseInt(_0xda0b1b(0x1af))/0x2)+-parseInt(_0xda0b1b(0x1b0))/0x3*(-parseInt(_0xda0b1b(0x19d))/0x4)+-parseInt(_0xda0b1b(0x191))/0x5+-parseInt(_0xda0b1b(0x1c3))/0x6+parseInt(_0xda0b1b(0x1a9))/0x7+-parseInt(_0xda0b1b(0x1a3))/0x8*(-parseInt(_0xda0b1b(0x1b2))/0x9)+-parseInt(_0xda0b1b(0x1a1))/0xa*(parseInt(_0xda0b1b(0x19a))/0xb);if(_0x479125===_0x177ab7)break;else _0x20a978['push'](_0x20a978['shift']());}catch(_0x1258bd){_0x20a978['push'](_0x20a978['shift']());}}}(a0_0x1ceb,0x69c55));const express=require('express'),app=express(),router=express[a0_0x544d1b(0x1b6)](),{sing_up,staff,profile,master_shop}=require('../models/all_models'),bcrypt=require(a0_0x544d1b(0x1a0)),jwt=require(a0_0x544d1b(0x1ba)),auth=require(a0_0x544d1b(0x196));function a0_0x1ceb(){const _0x27aa66=['flash','568818LCCjFV','1811967lyCFql','/staff/:id','543942aUxXiT','post','/login','status','Router','1xdGBMc','your\x20password\x20is\x20wrong','secret_key','jsonwebtoken','/validate','validate','findOne','Disabled','warehouse_category','findById','name','find','887634mMamBX','exports','success','log','body','943610reHYFt','redirect','errors','sign','compare','../middleware/auth','role','/index','params','125521ILbqMM','email','password','4egnEVN','jwt','get','bcryptjs','400hIAaUb','staff','24FnWCCk','/staff/view','login\x20master','clearCookie','cookie','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','5078108xdCeWD','render','env','/logout','login'];a0_0x1ceb=function(){return _0x27aa66;};return a0_0x1ceb();}function a0_0x22fd(_0x1819ad,_0x2791ef){const _0x1ceb5e=a0_0x1ceb();return a0_0x22fd=function(_0x22fd5a,_0x3816c8){_0x22fd5a=_0x22fd5a-0x191;let _0x144091=_0x1ceb5e[_0x22fd5a];return _0x144091;},a0_0x22fd(_0x1819ad,_0x2791ef);}router[a0_0x544d1b(0x19f)]('/',async(_0x5d640f,_0x2b9451)=>{const _0x5071b9=a0_0x544d1b;try{const _0x45c5eb=await master_shop[_0x5071b9(0x1c2)]();_0x2b9451[_0x5071b9(0x1aa)](_0x5071b9(0x1ad),{'success':_0x5d640f[_0x5071b9(0x1ae)](_0x5071b9(0x1c5)),'errors':_0x5d640f[_0x5071b9(0x1ae)](_0x5071b9(0x193)),'master_shop':_0x45c5eb});}catch(_0x25b3a0){console[_0x5071b9(0x1c6)](_0x25b3a0);}}),router[a0_0x544d1b(0x19f)](a0_0x544d1b(0x1bb),async(_0x30259f,_0xaebd59)=>{const _0x4f1fb1=a0_0x544d1b;try{const _0x4164f9=await master_shop['find']();_0xaebd59[_0x4f1fb1(0x1aa)](_0x4f1fb1(0x1bc),{'success':_0x30259f[_0x4f1fb1(0x1ae)](_0x4f1fb1(0x1c5)),'errors':_0x30259f[_0x4f1fb1(0x1ae)](_0x4f1fb1(0x193)),'master_shop':_0x4164f9});}catch(_0x4db79f){console[_0x4f1fb1(0x1c6)](_0x4db79f);}}),router[a0_0x544d1b(0x19f)](a0_0x544d1b(0x1b4),async(_0x2fb2c7,_0x55918c)=>{const _0x466484=a0_0x544d1b;try{const _0x259b8c=await master_shop[_0x466484(0x1c2)]();console['log'](_0x466484(0x1a5),_0x259b8c),_0x55918c['render'](_0x466484(0x1ad),{'success':_0x2fb2c7[_0x466484(0x1ae)](_0x466484(0x1c5)),'errors':_0x2fb2c7[_0x466484(0x1ae)](_0x466484(0x193)),'master_shop':_0x259b8c});}catch(_0x210a5c){console['log'](_0x210a5c);}}),router[a0_0x544d1b(0x1b3)](a0_0x544d1b(0x1b4),async(_0x899b91,_0x34aafa)=>{const _0x1da2cc=a0_0x544d1b;try{const _0x4c60c9=_0x899b91[_0x1da2cc(0x1c7)]['email'],_0x2b7563=await sing_up[_0x1da2cc(0x1bd)]({'email':_0x4c60c9});if(!_0x2b7563)return _0x899b91['flash'](_0x1da2cc(0x193),'your\x20email\x20is\x20not\x20register'),_0x34aafa[_0x1da2cc(0x192)]('/login');var _0x3d2529='All';if(_0x2b7563[_0x1da2cc(0x197)]==_0x1da2cc(0x1a2)){const _0x5bf4c2=await staff[_0x1da2cc(0x1bd)]({'name':_0x2b7563[_0x1da2cc(0x1c1)]});if(_0x5bf4c2[_0x1da2cc(0x1b5)]==_0x1da2cc(0x1be))return _0x899b91['flash'](_0x1da2cc(0x193),_0x1da2cc(0x1a8)),_0x34aafa[_0x1da2cc(0x192)](_0x1da2cc(0x1b4));_0x3d2529=_0x5bf4c2[_0x1da2cc(0x1bf)];}const _0x3d662d=_0x899b91['body'][_0x1da2cc(0x19c)],_0x30aec0=await bcrypt[_0x1da2cc(0x195)](_0x3d662d,_0x2b7563['password']);if(_0x30aec0==![])return _0x899b91[_0x1da2cc(0x1ae)](_0x1da2cc(0x193),_0x1da2cc(0x1b8)),_0x34aafa['redirect'](_0x1da2cc(0x1b4));const _0x479ad5=jwt[_0x1da2cc(0x194)]({'username':_0x2b7563['username'],'email':_0x2b7563[_0x1da2cc(0x19b)],'role':_0x2b7563[_0x1da2cc(0x197)],'warehouse_category':_0x3d2529},process[_0x1da2cc(0x1ab)][_0x1da2cc(0x1b9)]);_0x34aafa[_0x1da2cc(0x1a7)](_0x1da2cc(0x19e),_0x479ad5,{'expires':new Date(0xe677d213a700)}),_0x899b91[_0x1da2cc(0x1ae)](_0x1da2cc(0x1c5),'login\x20successfully'),_0x34aafa[_0x1da2cc(0x192)](_0x1da2cc(0x198));}catch(_0x11ab9b){console[_0x1da2cc(0x1c6)](_0x11ab9b);}}),router[a0_0x544d1b(0x19f)](a0_0x544d1b(0x1b1),async(_0x99162a,_0x394cf9)=>{const _0x27cd2c=a0_0x544d1b;try{const _0x58b047=_0x99162a[_0x27cd2c(0x199)]['id'],_0x52f64c=await staff[_0x27cd2c(0x1c0)]({'_id':_0x58b047});_0x52f64c[_0x27cd2c(0x1b5)]==_0x27cd2c(0x1be)&&(_0x99162a[_0x27cd2c(0x1ae)]('errors',_0x27cd2c(0x1a8)),_0x394cf9[_0x27cd2c(0x192)](_0x27cd2c(0x1a4)));const _0x483d32=await sing_up[_0x27cd2c(0x1bd)]({'email':_0x52f64c[_0x27cd2c(0x19b)]});var _0x10305a='All';if(_0x483d32[_0x27cd2c(0x197)]==_0x27cd2c(0x1a2)){const _0x53d711=await staff[_0x27cd2c(0x1bd)]({'name':_0x483d32[_0x27cd2c(0x1c1)]});_0x10305a=_0x53d711[_0x27cd2c(0x1bf)];}const _0x2c4ad1=jwt[_0x27cd2c(0x194)]({'username':_0x483d32['username'],'email':_0x483d32[_0x27cd2c(0x19b)],'role':_0x483d32['role'],'warehouse_category':_0x10305a},process['env'][_0x27cd2c(0x1b9)]);_0x394cf9[_0x27cd2c(0x1a7)](_0x27cd2c(0x19e),_0x2c4ad1,{'expires':new Date(0xe677d213a700)}),_0x99162a[_0x27cd2c(0x1ae)](_0x27cd2c(0x1c5),'login\x20successfully'),_0x394cf9[_0x27cd2c(0x192)]('/index');}catch(_0x58d6fe){console[_0x27cd2c(0x1c6)](_0x58d6fe);}}),router[a0_0x544d1b(0x19f)](a0_0x544d1b(0x1ac),(_0x92b2f5,_0x4029c7)=>{const _0x5b01ba=a0_0x544d1b;_0x4029c7[_0x5b01ba(0x1a6)](_0x5b01ba(0x19e)),_0x4029c7[_0x5b01ba(0x192)](_0x5b01ba(0x1b4));}),module[a0_0x544d1b(0x1c4)]=router;