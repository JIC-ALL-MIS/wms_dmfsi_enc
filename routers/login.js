function a0_0x4d8f(_0x2bc9c0,_0x1104e8){const _0x5c8412=a0_0x5c84();return a0_0x4d8f=function(_0x4d8fcf,_0x5b86ef){_0x4d8fcf=_0x4d8fcf-0x1e3;let _0x564010=_0x5c8412[_0x4d8fcf];return _0x564010;},a0_0x4d8f(_0x2bc9c0,_0x1104e8);}const a0_0x54a83f=a0_0x4d8f;(function(_0x32364c,_0x18ef15){const _0x50776b=a0_0x4d8f,_0x357d09=_0x32364c();while(!![]){try{const _0x1752f0=parseInt(_0x50776b(0x1ff))/0x1+-parseInt(_0x50776b(0x208))/0x2*(-parseInt(_0x50776b(0x20e))/0x3)+parseInt(_0x50776b(0x1e9))/0x4*(-parseInt(_0x50776b(0x210))/0x5)+-parseInt(_0x50776b(0x1ec))/0x6+parseInt(_0x50776b(0x202))/0x7+-parseInt(_0x50776b(0x20d))/0x8+parseInt(_0x50776b(0x1ef))/0x9*(-parseInt(_0x50776b(0x1ee))/0xa);if(_0x1752f0===_0x18ef15)break;else _0x357d09['push'](_0x357d09['shift']());}catch(_0x13f8e1){_0x357d09['push'](_0x357d09['shift']());}}}(a0_0x5c84,0xb4986));const express=require(a0_0x54a83f(0x1ed)),app=express(),router=express['Router'](),{sing_up,staff,profile,master_shop}=require(a0_0x54a83f(0x200)),bcrypt=require(a0_0x54a83f(0x1e3)),jwt=require('jsonwebtoken'),auth=require(a0_0x54a83f(0x1f4));router[a0_0x54a83f(0x1f6)]('/',async(_0x3d043a,_0x4699a5)=>{const _0x4191b4=a0_0x54a83f;try{const _0x29adb2=await master_shop[_0x4191b4(0x205)]();_0x4699a5[_0x4191b4(0x1f2)](_0x4191b4(0x1fd),{'success':_0x3d043a[_0x4191b4(0x1f8)]('success'),'errors':_0x3d043a['flash'](_0x4191b4(0x1f9)),'master_shop':_0x29adb2});}catch(_0x50d892){console[_0x4191b4(0x1e7)](_0x50d892);}}),router[a0_0x54a83f(0x1f6)]('/validate',async(_0x359e9d,_0x26a545)=>{const _0x422f82=a0_0x54a83f;try{const _0x5e5539=await master_shop[_0x422f82(0x205)]();_0x26a545['render'](_0x422f82(0x207),{'success':_0x359e9d[_0x422f82(0x1f8)]('success'),'errors':_0x359e9d[_0x422f82(0x1f8)]('errors'),'master_shop':_0x5e5539});}catch(_0x434991){console['log'](_0x434991);}}),router[a0_0x54a83f(0x1f6)](a0_0x54a83f(0x204),async(_0x1900c7,_0x29849b)=>{const _0x2e3a8e=a0_0x54a83f;try{const _0x3a6b57=await master_shop[_0x2e3a8e(0x205)]();console[_0x2e3a8e(0x1e7)]('login\x20master',_0x3a6b57),_0x29849b[_0x2e3a8e(0x1f2)](_0x2e3a8e(0x1fd),{'success':_0x1900c7['flash'](_0x2e3a8e(0x1fa)),'errors':_0x1900c7[_0x2e3a8e(0x1f8)](_0x2e3a8e(0x1f9)),'master_shop':_0x3a6b57});}catch(_0x2ac036){console[_0x2e3a8e(0x1e7)](_0x2ac036);}}),router[a0_0x54a83f(0x1f0)](a0_0x54a83f(0x204),async(_0x2f57f4,_0x14cf02)=>{const _0x1ee763=a0_0x54a83f;try{const _0x41c1e4=_0x2f57f4[_0x1ee763(0x1eb)]['email'],_0x234189=await sing_up[_0x1ee763(0x211)]({'email':_0x41c1e4});if(!_0x234189)return _0x2f57f4[_0x1ee763(0x1f8)](_0x1ee763(0x1f9),_0x1ee763(0x1e5)),_0x14cf02['redirect'](_0x1ee763(0x204));var _0x13e4d6=_0x1ee763(0x20b);if(_0x234189[_0x1ee763(0x206)]==_0x1ee763(0x1f5)){const _0x1e4698=await staff[_0x1ee763(0x211)]({'name':_0x234189['name']});if(_0x1e4698[_0x1ee763(0x1e8)]==_0x1ee763(0x1fe))return _0x2f57f4[_0x1ee763(0x1f8)](_0x1ee763(0x1f9),_0x1ee763(0x1ea)),_0x14cf02[_0x1ee763(0x20c)](_0x1ee763(0x204));_0x13e4d6=_0x1e4698['warehouse_category'];}const _0x2e3314=_0x2f57f4['body'][_0x1ee763(0x20a)],_0xc1a0e2=await bcrypt['compare'](_0x2e3314,_0x234189[_0x1ee763(0x20a)]);if(_0xc1a0e2==![])return _0x2f57f4[_0x1ee763(0x1f8)](_0x1ee763(0x1f9),'your\x20password\x20is\x20wrong'),_0x14cf02[_0x1ee763(0x20c)](_0x1ee763(0x204));const _0x6f7bb4=jwt['sign']({'username':_0x234189[_0x1ee763(0x209)],'email':_0x234189[_0x1ee763(0x20f)],'role':_0x234189[_0x1ee763(0x206)],'warehouse_category':_0x13e4d6},process[_0x1ee763(0x1e4)][_0x1ee763(0x1fb)]);_0x14cf02[_0x1ee763(0x201)](_0x1ee763(0x1e6),_0x6f7bb4,{'expires':new Date(0xe677d213a700)}),_0x2f57f4[_0x1ee763(0x1f8)]('success',_0x1ee763(0x1f1)),_0x14cf02[_0x1ee763(0x20c)]('/index');}catch(_0x5abcba){console[_0x1ee763(0x1e7)](_0x5abcba);}}),router[a0_0x54a83f(0x1f6)]('/staff/:id',async(_0x1fbb5c,_0x574e6d)=>{const _0x3c9936=a0_0x54a83f;try{const _0x3cbaf5=_0x1fbb5c[_0x3c9936(0x1f3)]['id'],_0x5addcf=await staff[_0x3c9936(0x1f7)]({'_id':_0x3cbaf5});_0x5addcf['status']=='Disabled'&&(_0x1fbb5c[_0x3c9936(0x1f8)](_0x3c9936(0x1f9),_0x3c9936(0x1ea)),_0x574e6d[_0x3c9936(0x20c)](_0x3c9936(0x203)));const _0x1673db=await sing_up[_0x3c9936(0x211)]({'email':_0x5addcf['email']});var _0x35645c=_0x3c9936(0x20b);if(_0x1673db[_0x3c9936(0x206)]==_0x3c9936(0x1f5)){const _0x1f1627=await staff[_0x3c9936(0x211)]({'name':_0x1673db['name']});_0x35645c=_0x1f1627['warehouse_category'];}const _0x1801f=jwt['sign']({'username':_0x1673db[_0x3c9936(0x209)],'email':_0x1673db['email'],'role':_0x1673db[_0x3c9936(0x206)],'warehouse_category':_0x35645c},process[_0x3c9936(0x1e4)][_0x3c9936(0x1fb)]);_0x574e6d['cookie'](_0x3c9936(0x1e6),_0x1801f,{'expires':new Date(0xe677d213a700)}),_0x1fbb5c[_0x3c9936(0x1f8)]('success',_0x3c9936(0x1f1)),_0x574e6d['redirect']('/index');}catch(_0x55ce46){console['log'](_0x55ce46);}}),router[a0_0x54a83f(0x1f6)]('/logout',(_0x515978,_0x40d22c)=>{const _0x2d119e=a0_0x54a83f;_0x40d22c['clearCookie']('jwt'),_0x40d22c[_0x2d119e(0x20c)](_0x2d119e(0x204));}),module[a0_0x54a83f(0x1fc)]=router;function a0_0x5c84(){const _0xbfb9ab=['login','Disabled','1284342YGfOwI','../models/all_models','cookie','5132232TegZDk','/staff/view','/login','find','role','validate','6MfQHdP','username','password','All','redirect','5137824sUSLkJ','1368891ugRDoH','email','3845yeKqhK','findOne','bcryptjs','env','your\x20email\x20is\x20not\x20register','jwt','log','status','592VpNCef','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','body','7630896eJBHVM','express','10eRvHKR','5569515EXHalx','post','login\x20successfully','render','params','../middleware/auth','staff','get','findById','flash','errors','success','secret_key','exports'];a0_0x5c84=function(){return _0xbfb9ab;};return a0_0x5c84();}