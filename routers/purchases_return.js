function a0_0x4618(){var _0x27b209=['foreach\x20newproduct','../public/language/languages.json','product_stock','types','stock_quantity','Portuguese\x20(BR)','product_details','$supplier_docs.email','Portuguese','23424hCvfPZ','purchase_quantity','$supplier_docs','$product_details.floorlevel','post','primary_code_hide','$return_product.price','French','Hindi','Enabled','879492dYYXZS','/view/:id','$product_details._id','$product_details.type','get','$warehouse_name','$_id','product_details.return_qtyproduct_details.return_qty','stocks','$discount','suppliers','pallet','$receivable','back','body','return_product','supplier_docs','final','66329eZYnJV','$product_details.bay','587230SclOsF','message','invoice','save','return_purchase_invoice','due_amount','type','2SMkVhC','getFullYear','payment\x20successfull','Return\x20Goods','primary_code','82876PXTKKv','German','room','log','English','find','$name','purchases_return','purchase\x20return\x20successfully','map','Chinese','9pXSIog','json','$product_details.primary_code','$date','1042400ETFZvr','Received\x20For\x20Purchase\x20Return','Router','flash','English\x20(US)','warehouse_name','Arabic','exports','errors','$return_product','to_room','/purchases_return/view','$product_details.product_stock','floorlevel','1589DTHhTV','language','status','isle','render','return_qty','note','$note','$product_details.product_name','secondary_code','aggregate','user','$product_details.storage','../middleware/auth','to_warehouse_name','amount','params','6uRSgKW','Purchase\x20Return','findById','product_code','findOne','product_name','$supplier_docs.mobile','secondary_code_hide','product_code_hide','master','to_Room_name','old_data','/receive_payment/:id','468ctrGeg','slice','Spanish','redirect','string','forEach','bay','$return_product.return_qty','Raw\x20Materials','received','email','bin','$return_product.product_name','getDate','$product_details.secondary_code','Arabic\x20(ae)','success','22pTvWrP','level','$supplier_docs.address','$product_details'];a0_0x4618=function(){return _0x27b209;};return a0_0x4618();}var a0_0xcd7d10=a0_0x2f7b;(function(_0x31e094,_0x276b12){var _0x17199a=a0_0x2f7b,_0x1f5f34=_0x31e094();while(!![]){try{var _0x4f15f1=-parseInt(_0x17199a(0x1cd))/0x1*(-parseInt(_0x17199a(0x1d6))/0x2)+-parseInt(_0x17199a(0x1e6))/0x3*(-parseInt(_0x17199a(0x1db))/0x4)+parseInt(_0x17199a(0x1cf))/0x5+parseInt(_0x17199a(0x209))/0x6*(parseInt(_0x17199a(0x1f8))/0x7)+parseInt(_0x17199a(0x234))/0x8*(parseInt(_0x17199a(0x216))/0x9)+-parseInt(_0x17199a(0x1ea))/0xa+parseInt(_0x17199a(0x227))/0xb*(-parseInt(_0x17199a(0x23e))/0xc);if(_0x4f15f1===_0x276b12)break;else _0x1f5f34['push'](_0x1f5f34['shift']());}catch(_0x469a01){_0x1f5f34['push'](_0x1f5f34['shift']());}}}(a0_0x4618,0x24089));const express=require('express'),app=express(),router=express[a0_0xcd7d10(0x1ec)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require('../models/all_models'),auth=require(a0_0xcd7d10(0x205)),users=require(a0_0xcd7d10(0x22c));function a0_0x2f7b(_0x224925,_0x2d55cc){var _0x461801=a0_0x4618();return a0_0x2f7b=function(_0x2f7b9a,_0x5725fd){_0x2f7b9a=_0x2f7b9a-0x1bc;var _0x3681f8=_0x461801[_0x2f7b9a];return _0x3681f8;},a0_0x2f7b(_0x224925,_0x2d55cc);}router[a0_0xcd7d10(0x1bf)]('/view',auth,async(_0x27dff4,_0x2762b8)=>{var _0x1bcf6d=a0_0xcd7d10;try{const {username:_0x37c16a,email:_0xcba87f,role:_0x597034}=_0x27dff4['user'],_0x156a9f=_0x27dff4[_0x1bcf6d(0x203)],_0x36545d=await profile[_0x1bcf6d(0x20d)]({'email':_0x156a9f['email']}),_0x35f25f=await master_shop[_0x1bcf6d(0x1e0)]();console['log']('master',_0x35f25f);const _0x25976b=await purchases_return['aggregate']([{'$lookup':{'from':_0x1bcf6d(0x1c5),'localField':_0x1bcf6d(0x1c5),'foreignField':'name','as':_0x1bcf6d(0x1cb)}},{'$unwind':_0x1bcf6d(0x1f3)},{'$unwind':_0x1bcf6d(0x236)},{'$group':{'_id':_0x1bcf6d(0x1c1),'invoice':{'$first':'$invoice'},'date':{'$first':_0x1bcf6d(0x1e9)},'suppliers':{'$first':'$suppliers'},'warehouse_name':{'$first':_0x1bcf6d(0x1c0)},'product_name':{'$first':_0x1bcf6d(0x222)},'return_qty':{'$first':_0x1bcf6d(0x21d)},'price':{'$first':_0x1bcf6d(0x23a)},'total':{'$sum':'$return_product.total'},'note':{'$first':_0x1bcf6d(0x1ff)},'total_amount':{'$first':'$total_amount'},'discount':{'$first':_0x1bcf6d(0x1c4)},'receivable':{'$first':_0x1bcf6d(0x1c7)},'received':{'$first':'$received'},'due_amount':{'$first':'$due_amount'},'mobile':{'$first':_0x1bcf6d(0x20f)},'email':{'$first':_0x1bcf6d(0x232)},'address':{'$first':_0x1bcf6d(0x229)},'return_sum_qty':{'$sum':_0x1bcf6d(0x21d)}}}]);console[_0x1bcf6d(0x1de)](_0x25976b);if(_0x35f25f[0x0]['language']==_0x1bcf6d(0x1ee)){var _0x3d64ad=users[_0x1bcf6d(0x1df)];console['log'](_0x3d64ad);}else{if(_0x35f25f[0x0][_0x1bcf6d(0x1f9)]==_0x1bcf6d(0x23c))var _0x3d64ad=users[_0x1bcf6d(0x23c)];else{if(_0x35f25f[0x0]['language']=='German')var _0x3d64ad=users[_0x1bcf6d(0x1dc)];else{if(_0x35f25f[0x0]['language']=='Spanish')var _0x3d64ad=users[_0x1bcf6d(0x218)];else{if(_0x35f25f[0x0][_0x1bcf6d(0x1f9)]==_0x1bcf6d(0x23b))var _0x3d64ad=users[_0x1bcf6d(0x23b)];else{if(_0x35f25f[0x0][_0x1bcf6d(0x1f9)]=='Portuguese\x20(BR)')var _0x3d64ad=users['Portuguese'];else{if(_0x35f25f[0x0][_0x1bcf6d(0x1f9)]==_0x1bcf6d(0x1e5))var _0x3d64ad=users['Chinese'];else{if(_0x35f25f[0x0][_0x1bcf6d(0x1f9)]==_0x1bcf6d(0x225))var _0x3d64ad=users[_0x1bcf6d(0x1f0)];}}}}}}}_0x2762b8[_0x1bcf6d(0x1fc)](_0x1bcf6d(0x1e2),{'success':_0x27dff4['flash'](_0x1bcf6d(0x226)),'errors':_0x27dff4['flash'](_0x1bcf6d(0x1f2)),'role':_0x156a9f,'profile':_0x36545d,'master_shop':_0x35f25f,'user':_0x25976b,'language':_0x3d64ad});}catch(_0x20c276){console['log'](_0x20c276);}}),router[a0_0xcd7d10(0x1bf)](a0_0xcd7d10(0x1bc),auth,async(_0xd3b927,_0x53e184)=>{var _0x3662bd=a0_0xcd7d10;try{const {username:_0x4377ca,email:_0x6a01a8,role:_0x44e5bf}=_0xd3b927['user'],_0xd58a21=_0xd3b927[_0x3662bd(0x203)],_0x2590d1=await profile[_0x3662bd(0x20d)]({'email':_0xd58a21[_0x3662bd(0x220)]}),_0x1fbaac=await product['find']({}),_0x1a3d10=await master_shop[_0x3662bd(0x1e0)]();console[_0x3662bd(0x1de)](_0x3662bd(0x212),_0x1a3d10),console[_0x3662bd(0x1de)](_0xd3b927[_0x3662bd(0x1c9)]);const _0x1393d9=_0xd3b927['params']['id'],_0x1e2d2c=await purchases_return[_0x3662bd(0x20b)](_0x1393d9);console['log'](_0x1e2d2c);const _0xbd7107=await warehouse['aggregate']([{'$match':{'name':_0x1e2d2c['warehouse_name'],'room':_0x1e2d2c[_0x3662bd(0x1dd)]}},{'$unwind':_0x3662bd(0x22a)},{'$group':{'_id':_0x3662bd(0x1bd),'name':{'$first':_0x3662bd(0x200)},'product_stock':{'$first':_0x3662bd(0x1f6)},'bay':{'$first':_0x3662bd(0x1ce)},'bin':{'$first':'$product_details.bin'},'type':{'$first':_0x3662bd(0x1be)},'floorlevel':{'$first':_0x3662bd(0x237)},'primary_code':{'$first':_0x3662bd(0x1e8)},'secondary_code':{'$first':_0x3662bd(0x224)},'product_code':{'$first':'$product_details.product_code'},'storage':{'$first':_0x3662bd(0x204)},'rack':{'$first':'$product_details.rack'}}}]);warehouse_data=await warehouse[_0x3662bd(0x202)]([{'$match':{'status':_0x3662bd(0x23d),'name':_0x3662bd(0x1d9),'warehouse_category':_0x3662bd(0x21e)}},{'$group':{'_id':_0x3662bd(0x1e1),'name':{'$first':_0x3662bd(0x1e1)}}},{'$sort':{'name':0x1}}]),console[_0x3662bd(0x1de)]('stock_data',_0xbd7107);if(_0x1a3d10[0x0]['language']==_0x3662bd(0x1ee)){var _0x5d664a=users['English'];console[_0x3662bd(0x1de)](_0x5d664a);}else{if(_0x1a3d10[0x0][_0x3662bd(0x1f9)]==_0x3662bd(0x23c))var _0x5d664a=users[_0x3662bd(0x23c)];else{if(_0x1a3d10[0x0]['language']=='German')var _0x5d664a=users[_0x3662bd(0x1dc)];else{if(_0x1a3d10[0x0][_0x3662bd(0x1f9)]=='Spanish')var _0x5d664a=users[_0x3662bd(0x218)];else{if(_0x1a3d10[0x0][_0x3662bd(0x1f9)]==_0x3662bd(0x23b))var _0x5d664a=users[_0x3662bd(0x23b)];else{if(_0x1a3d10[0x0]['language']==_0x3662bd(0x230))var _0x5d664a=users[_0x3662bd(0x233)];else{if(_0x1a3d10[0x0][_0x3662bd(0x1f9)]=='Chinese')var _0x5d664a=users[_0x3662bd(0x1e5)];else{if(_0x1a3d10[0x0]['language']=='Arabic\x20(ae)')var _0x5d664a=users['Arabic'];}}}}}}}_0x53e184['render']('return_purchase_edit',{'success':_0xd3b927[_0x3662bd(0x1ed)](_0x3662bd(0x226)),'errors':_0xd3b927[_0x3662bd(0x1ed)]('errors'),'role':_0xd58a21,'master_shop':_0x1a3d10,'profile':_0x2590d1,'user':_0x1e2d2c,'stock':_0xbd7107,'product':_0x1fbaac,'language':_0x5d664a,'warehouse':warehouse_data});}catch(_0x3eff6d){console[_0x3662bd(0x1de)](_0x3eff6d);}}),router[a0_0xcd7d10(0x238)](a0_0xcd7d10(0x1bc),auth,async(_0x1a5021,_0x52e096)=>{var _0x3af0b7=a0_0xcd7d10;try{const _0x12bed0=_0x1a5021[_0x3af0b7(0x208)]['id'];console[_0x3af0b7(0x1de)](_0x12bed0);const _0x5abd50=await purchases_return[_0x3af0b7(0x20d)]({'invoice':_0x1a5021[_0x3af0b7(0x1c9)][_0x3af0b7(0x1d1)]});console[_0x3af0b7(0x1de)](_0x3af0b7(0x214),_0x5abd50);const _0x116b0f=await warehouse['findOne']({'name':_0x5abd50[_0x3af0b7(0x206)],'room':_0x5abd50[_0x3af0b7(0x1f4)]});console[_0x3af0b7(0x1de)]('old_warehouse_data',_0x116b0f);const {invoice:_0x2d6363,suppliers:_0x3db3d7,date:_0x363f74,warehouse_name:_0x35e3e9,product_name:_0x3d6d1c,purchase_quantity:_0x2e91ee,stocks:_0x24c1ed,return_qty:_0x5bb020,note:_0xae55a9,Room_name:_0x877ada,level:_0x22e8ca,isle:_0x4da522,pallet:_0x460738,to_warehouse_name:_0x457509,to_Room_name:_0x105a4c}=_0x1a5021[_0x3af0b7(0x1c9)];if(typeof _0x3d6d1c==_0x3af0b7(0x21a))var _0x50feda=[_0x1a5021[_0x3af0b7(0x1c9)]['product_name']],_0x27bb9d=[_0x1a5021[_0x3af0b7(0x1c9)][_0x3af0b7(0x235)]],_0x45470a=[_0x1a5021['body'][_0x3af0b7(0x1c3)]],_0x2bce21=[_0x1a5021[_0x3af0b7(0x1c9)][_0x3af0b7(0x1fd)]],_0x19e8aa=[_0x1a5021[_0x3af0b7(0x1c9)][_0x3af0b7(0x228)]],_0x47855f=[_0x1a5021[_0x3af0b7(0x1c9)]['isle']],_0x5f06bb=[_0x1a5021['body'][_0x3af0b7(0x1c6)]],_0x2f4e95=[_0x1a5021[_0x3af0b7(0x1c9)][_0x3af0b7(0x22e)]],_0x283692=[_0x1a5021[_0x3af0b7(0x1c9)][_0x3af0b7(0x211)]],_0xbb26f8=[_0x1a5021['body'][_0x3af0b7(0x239)]],_0x10b88e=[_0x1a5021[_0x3af0b7(0x1c9)][_0x3af0b7(0x210)]];else var _0x50feda=[..._0x1a5021[_0x3af0b7(0x1c9)][_0x3af0b7(0x20e)]],_0x27bb9d=[..._0x1a5021['body'][_0x3af0b7(0x235)]],_0x45470a=[..._0x1a5021[_0x3af0b7(0x1c9)][_0x3af0b7(0x1c3)]],_0x2bce21=[..._0x1a5021[_0x3af0b7(0x1c9)][_0x3af0b7(0x1fd)]],_0x19e8aa=[..._0x1a5021['body']['level']],_0x47855f=[..._0x1a5021[_0x3af0b7(0x1c9)][_0x3af0b7(0x1fb)]],_0x5f06bb=[..._0x1a5021['body']['pallet']],_0x283692=[..._0x1a5021[_0x3af0b7(0x1c9)][_0x3af0b7(0x211)]],_0xbb26f8=[..._0x1a5021[_0x3af0b7(0x1c9)][_0x3af0b7(0x239)]],_0x10b88e=[..._0x1a5021['body'][_0x3af0b7(0x210)]],_0x2f4e95=[..._0x1a5021['body']['types']];const _0x1ba047=_0x50feda[_0x3af0b7(0x1e4)](_0x358617=>{return _0x358617={'product_name':_0x358617};});_0x27bb9d[_0x3af0b7(0x21b)]((_0x4ceb58,_0x3b0aad)=>{var _0x4ae5a4=_0x3af0b7;_0x1ba047[_0x3b0aad][_0x4ae5a4(0x235)]=_0x4ceb58;}),_0x45470a[_0x3af0b7(0x21b)]((_0x45b2b4,_0x8eed97)=>{var _0x1f41a2=_0x3af0b7;_0x1ba047[_0x8eed97][_0x1f41a2(0x22f)]=_0x45b2b4;}),_0x2bce21['forEach']((_0x163d40,_0x1ccf04)=>{var _0x2cb1b5=_0x3af0b7;_0x1ba047[_0x1ccf04][_0x2cb1b5(0x1fd)]=_0x163d40;}),_0x19e8aa[_0x3af0b7(0x21b)]((_0x2890f6,_0x1bf218)=>{var _0x164594=_0x3af0b7;_0x1ba047[_0x1bf218][_0x164594(0x21c)]=_0x2890f6;}),_0x47855f[_0x3af0b7(0x21b)]((_0x311f10,_0x6da68)=>{var _0x402dcc=_0x3af0b7;_0x1ba047[_0x6da68][_0x402dcc(0x221)]=_0x311f10;}),_0x5f06bb[_0x3af0b7(0x21b)]((_0x3c2bd4,_0x448721)=>{var _0x286615=_0x3af0b7;_0x1ba047[_0x448721][_0x286615(0x1f7)]=_0x3c2bd4;}),_0x283692[_0x3af0b7(0x21b)]((_0x123347,_0xb88a20)=>{var _0x49bbe8=_0x3af0b7;_0x1ba047[_0xb88a20][_0x49bbe8(0x20c)]=_0x123347;}),_0xbb26f8['forEach']((_0x4e395c,_0x32d6a0)=>{var _0x284d24=_0x3af0b7;_0x1ba047[_0x32d6a0][_0x284d24(0x1da)]=_0x4e395c;}),_0x10b88e['forEach']((_0x5ecff3,_0x527dc0)=>{var _0x3c60d3=_0x3af0b7;_0x1ba047[_0x527dc0][_0x3c60d3(0x201)]=_0x5ecff3;}),_0x2f4e95[_0x3af0b7(0x21b)]((_0x34c8c4,_0xf4e25d)=>{_0x1ba047[_0xf4e25d]['type']=_0x34c8c4;});var _0x299a7c=0x0;_0x1ba047[_0x3af0b7(0x21b)](_0x29ca7c=>{var _0x548249=_0x3af0b7;console[_0x548249(0x1de)](_0x548249(0x22b),_0x29ca7c),(parseInt(_0x29ca7c[_0x548249(0x235)])<parseInt(_0x29ca7c[_0x548249(0x1fd)])||parseInt(_0x29ca7c['stock_quantity'])<parseInt(_0x29ca7c['return_qty'])||parseInt(_0x29ca7c['return_qty'])==0x0)&&_0x299a7c++;});if(_0x299a7c!=0x0)return _0x1a5021[_0x3af0b7(0x1ed)]('errors','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty'),_0x52e096['redirect'](_0x3af0b7(0x1c8));_0x5abd50[_0x3af0b7(0x1ca)]['forEach'](_0x491264=>{var _0x484d76=_0x3af0b7;const _0xe00e7b=_0x116b0f[_0x484d76(0x231)][_0x484d76(0x1e4)](_0x120752=>{var _0x4cbfbe=_0x484d76;_0x120752[_0x4cbfbe(0x20e)]==_0x491264['product_name']&&_0x120752[_0x4cbfbe(0x1f7)]==_0x491264[_0x4cbfbe(0x1f7)]&&_0x120752[_0x4cbfbe(0x1d5)]==_0x491264[_0x4cbfbe(0x1d5)]&&_0x120752[_0x4cbfbe(0x221)]==_0x491264[_0x4cbfbe(0x221)]&&_0x120752[_0x4cbfbe(0x21c)]==_0x491264[_0x4cbfbe(0x21c)]&&(_0x120752[_0x4cbfbe(0x22d)]=parseInt(_0x120752['product_stock'])+parseInt(_0x491264[_0x4cbfbe(0x1fd)]));});}),console[_0x3af0b7(0x1de)]('old_warehouse_data',_0x116b0f),await _0x116b0f[_0x3af0b7(0x1d2)](),_0x5abd50[_0x3af0b7(0x1d1)]=_0x2d6363,_0x5abd50[_0x3af0b7(0x1c5)]=_0x3db3d7,_0x5abd50['date']=_0x363f74,_0x5abd50[_0x3af0b7(0x1ef)]=_0x35e3e9,_0x5abd50[_0x3af0b7(0x1ca)]=_0x1ba047,_0x5abd50[_0x3af0b7(0x1fe)]=_0xae55a9,_0x5abd50[_0x3af0b7(0x1dd)]=_0x877ada,_0x5abd50[_0x3af0b7(0x206)]=_0x457509,_0x5abd50['to_room']=_0x105a4c;const _0x10bc37=await _0x5abd50[_0x3af0b7(0x1d2)](),_0x55cc17=await purchases_return[_0x3af0b7(0x20d)]({'invoice':_0x1a5021['body'][_0x3af0b7(0x1d1)]}),_0x293e78=await warehouse[_0x3af0b7(0x20d)]({'name':_0x1a5021[_0x3af0b7(0x1c9)][_0x3af0b7(0x206)],'room':_0x1a5021[_0x3af0b7(0x1c9)][_0x3af0b7(0x213)]});_0x55cc17[_0x3af0b7(0x1ca)][_0x3af0b7(0x21b)](_0x26a4fe=>{var _0x1ad15c=_0x3af0b7;_0x293e78[_0x1ad15c(0x231)][_0x1ad15c(0x1e4)](_0x24b39e=>{var _0x39167a=_0x1ad15c;_0x24b39e[_0x39167a(0x20e)]==_0x26a4fe[_0x39167a(0x20e)]&&_0x24b39e[_0x39167a(0x1c6)]==_0x26a4fe[_0x39167a(0x1c6)]&&(_0x24b39e[_0x39167a(0x22d)]=parseInt(_0x24b39e['product_stock'])-parseInt(_0x26a4fe['return_qty']),console[_0x39167a(0x1de)](_0x39167a(0x1c2),_0x26a4fe[_0x39167a(0x1fd)]));});}),console[_0x3af0b7(0x1de)](_0x3af0b7(0x1cc),_0x293e78),await _0x293e78[_0x3af0b7(0x1d2)]();const _0x2dcb78=await s_payment_data['findOne']({'invoice':_0x1a5021['body'][_0x3af0b7(0x1d1)],'reason':_0x3af0b7(0x20a)});await _0x2dcb78[_0x3af0b7(0x1d2)](),_0x1a5021[_0x3af0b7(0x1ed)](_0x3af0b7(0x226),_0x3af0b7(0x1e3)),_0x52e096[_0x3af0b7(0x219)](_0x3af0b7(0x1f5));}catch(_0x40e0b4){console['log'](_0x40e0b4),_0x52e096[_0x3af0b7(0x1fa)](0xc8)[_0x3af0b7(0x1e7)]({'message':_0x40e0b4[_0x3af0b7(0x1d0)]});}}),router[a0_0xcd7d10(0x1bf)]('/invoice/:id',auth,async(_0x15e66e,_0x5465ea)=>{var _0x974597=a0_0xcd7d10;try{const {username:_0x2debd7,email:_0x588ac4,role:_0x3fe9d0}=_0x15e66e[_0x974597(0x203)],_0x6d6a77=_0x15e66e['user'],_0x59f30c=await profile[_0x974597(0x20d)]({'email':_0x6d6a77['email']}),_0x3a9c2c=await master_shop[_0x974597(0x1e0)]();console[_0x974597(0x1de)]('master',_0x3a9c2c);const _0x2c9174=_0x15e66e['params']['id'],_0x400a78=await purchases_return[_0x974597(0x20b)](_0x2c9174);console[_0x974597(0x1de)](_0x400a78);const _0x56fa99=await suppliers[_0x974597(0x20d)]({'name':_0x400a78[_0x974597(0x1c5)]});console['log'](_0x56fa99);if(_0x3a9c2c[0x0][_0x974597(0x1f9)]==_0x974597(0x1ee)){var _0x4895ec=users[_0x974597(0x1df)];console[_0x974597(0x1de)](_0x4895ec);}else{if(_0x3a9c2c[0x0][_0x974597(0x1f9)]==_0x974597(0x23c))var _0x4895ec=users['Hindi'];else{if(_0x3a9c2c[0x0]['language']==_0x974597(0x1dc))var _0x4895ec=users[_0x974597(0x1dc)];else{if(_0x3a9c2c[0x0][_0x974597(0x1f9)]==_0x974597(0x218))var _0x4895ec=users[_0x974597(0x218)];else{if(_0x3a9c2c[0x0][_0x974597(0x1f9)]==_0x974597(0x23b))var _0x4895ec=users['French'];else{if(_0x3a9c2c[0x0]['language']=='Portuguese\x20(BR)')var _0x4895ec=users['Portuguese'];else{if(_0x3a9c2c[0x0][_0x974597(0x1f9)]==_0x974597(0x1e5))var _0x4895ec=users[_0x974597(0x1e5)];else{if(_0x3a9c2c[0x0]['language']==_0x974597(0x225))var _0x4895ec=users[_0x974597(0x1f0)];}}}}}}}_0x5465ea['render'](_0x974597(0x1d3),{'success':_0x15e66e[_0x974597(0x1ed)](_0x974597(0x226)),'errors':_0x15e66e[_0x974597(0x1ed)](_0x974597(0x1f2)),'role':_0x6d6a77,'profile':_0x59f30c,'master_shop':_0x3a9c2c,'supplier':_0x56fa99,'purchase':_0x400a78,'language':_0x4895ec});}catch(_0x29b776){console[_0x974597(0x1de)](_0x29b776);}}),router[a0_0xcd7d10(0x238)](a0_0xcd7d10(0x215),auth,async(_0x1cc32c,_0x355f60)=>{var _0x478453=a0_0xcd7d10;try{const _0x4d5f36=_0x1cc32c['params']['id'],{invoice:_0x5c3f92,suppliers:_0xf1b779,receivable_amount:_0x2d06cb,received_amount:_0x18b87f}=_0x1cc32c[_0x478453(0x1c9)],_0x681456=await purchases_return[_0x478453(0x20b)](_0x4d5f36);console[_0x478453(0x1de)](_0x681456);var _0x139537=_0x2d06cb-_0x18b87f;console['log'](_0x18b87f),_0x681456[_0x478453(0x21f)]=parseFloat(_0x18b87f)+parseFloat(_0x681456[_0x478453(0x21f)]),_0x681456[_0x478453(0x1d4)]=_0x139537,console['log'](_0x681456);const _0x444e16=await _0x681456['save'](),_0x31383b=await s_payment_data['findOne']({'invoice':_0x1cc32c['body']['invoice'],'reason':_0x478453(0x20a)});_0x31383b[_0x478453(0x207)]=_0x139537,await _0x31383b[_0x478453(0x1d2)]();let _0x2d6b3f=new Date(),_0x336d2c=('0'+_0x2d6b3f[_0x478453(0x223)]())[_0x478453(0x217)](-0x2),_0x462a55=('0'+(_0x2d6b3f['getMonth']()+0x1))['slice'](-0x2),_0x2f5736=_0x2d6b3f[_0x478453(0x1d7)](),_0x32b63c=_0x2f5736+'-'+_0x462a55+'-'+_0x336d2c;const _0x81a97=new suppliers_payment({'invoice':_0x5c3f92,'date':_0x2f5736+'-'+_0x462a55+'-'+_0x336d2c,'suppliers':_0xf1b779,'reason':_0x478453(0x1eb),'amount':_0x18b87f}),_0x366eae=await _0x81a97['save']();_0x1cc32c[_0x478453(0x1ed)]('success',_0x478453(0x1d8)),_0x355f60['redirect'](_0x478453(0x1f5));}catch(_0x1087dc){console[_0x478453(0x1de)](_0x1087dc);}}),module[a0_0xcd7d10(0x1f1)]=router;