var a0_0x33d469=a0_0x1da7;(function(_0x55b206,_0x2a20b1){var _0x631f1b=a0_0x1da7,_0x1f91b0=_0x55b206();while(!![]){try{var _0x2ae840=-parseInt(_0x631f1b(0x19c))/0x1+-parseInt(_0x631f1b(0x165))/0x2*(-parseInt(_0x631f1b(0x16d))/0x3)+parseInt(_0x631f1b(0x164))/0x4+-parseInt(_0x631f1b(0x1b0))/0x5+-parseInt(_0x631f1b(0x191))/0x6*(parseInt(_0x631f1b(0x159))/0x7)+parseInt(_0x631f1b(0x18c))/0x8+-parseInt(_0x631f1b(0x182))/0x9*(-parseInt(_0x631f1b(0x1b2))/0xa);if(_0x2ae840===_0x2a20b1)break;else _0x1f91b0['push'](_0x1f91b0['shift']());}catch(_0x368984){_0x1f91b0['push'](_0x1f91b0['shift']());}}}(a0_0x44da,0xbd7bc));function a0_0x1da7(_0x3b2dbe,_0xd4d02a){var _0x44daa9=a0_0x44da();return a0_0x1da7=function(_0x1da7fe,_0x20fd23){_0x1da7fe=_0x1da7fe-0x145;var _0x3edd6b=_0x44daa9[_0x1da7fe];return _0x3edd6b;},a0_0x1da7(_0x3b2dbe,_0xd4d02a);}const express=require(a0_0x33d469(0x196)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require('../models/all_models'),auth=require(a0_0x33d469(0x156)),users=require(a0_0x33d469(0x17f));function a0_0x44da(){var _0x2954ba=['$product_details.floorlevel','types','room','$product_details','bay','primary_code_hide','purchase_quantity','to_warehouse_name','primary_code','return_purchase_edit','4673812IcCVWW','10ksIdyG','Spanish','product_stock','params','$supplier_docs','due_amount','level','findOne','222834bUiIfb','save','$product_details.product_name','forEach','/receive_payment/:id','$receivable','Raw\x20Materials','warehouse_name','getMonth','amount','find','Return\x20Goods','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','findById','stock_quantity','received','getDate','/view/:id','../public/language/languages.json','English','get','90oCqLDv','stock_data','aggregate','email','floorlevel','final','return_product','payment\x20successfull','$received','$return_product.return_qty','7678616OJNHxA','foreach\x20newproduct','log','date','language','2166QxkiBl','exports','Portuguese\x20(BR)','errors','status','express','success','slice','/purchases_return/view','Arabic\x20(ae)','name','473820QeUgmV','$return_product.price','type','suppliers','product_code','render','post','English\x20(US)','$product_details.product_code','$supplier_docs.address','secondary_code','$supplier_docs.mobile','Hindi','secondary_code_hide','body','user','product_details','product_details.return_qtyproduct_details.return_qty','supplier_docs','purchase\x20return\x20successfully','4373765vhrezF','$name','582760YoGllL','$discount','stocks','back','$product_details.primary_code','Arabic','product_name','to_room','map','message','$product_details.secondary_code','old_warehouse_data','French','isle','Enabled','Purchase\x20Return','/invoice/:id','return_purchase_invoice','Portuguese','master','$product_details.type','redirect','pallet','product_code_hide','German','invoice','$product_details.rack','Chinese','flash','bin','$suppliers','../middleware/auth','return_qty','json','18571CyyfJj'];a0_0x44da=function(){return _0x2954ba;};return a0_0x44da();}router[a0_0x33d469(0x181)]('/view',auth,async(_0x427429,_0x383c44)=>{var _0x50761c=a0_0x33d469;try{const {username:_0x59fa55,email:_0x5906b,role:_0x3bdf80}=_0x427429['user'],_0x2a774c=_0x427429['user'],_0x2d843c=await profile['findOne']({'email':_0x2a774c[_0x50761c(0x185)]}),_0x2b785f=await master_shop[_0x50761c(0x177)]();console[_0x50761c(0x18e)](_0x50761c(0x14a),_0x2b785f);const _0x1348d4=await purchases_return[_0x50761c(0x184)]([{'$lookup':{'from':_0x50761c(0x19f),'localField':_0x50761c(0x19f),'foreignField':_0x50761c(0x19b),'as':_0x50761c(0x1ae)}},{'$unwind':'$return_product'},{'$unwind':_0x50761c(0x169)},{'$group':{'_id':'$_id','invoice':{'$first':'$invoice'},'date':{'$first':'$date'},'suppliers':{'$first':_0x50761c(0x155)},'warehouse_name':{'$first':'$warehouse_name'},'product_name':{'$first':'$return_product.product_name'},'return_qty':{'$first':'$return_product.return_qty'},'price':{'$first':_0x50761c(0x19d)},'total':{'$sum':'$return_product.total'},'note':{'$first':'$note'},'total_amount':{'$first':'$total_amount'},'discount':{'$first':_0x50761c(0x1b3)},'receivable':{'$first':_0x50761c(0x172)},'received':{'$first':_0x50761c(0x18a)},'due_amount':{'$first':'$due_amount'},'mobile':{'$first':_0x50761c(0x1a7)},'email':{'$first':'$supplier_docs.email'},'address':{'$first':_0x50761c(0x1a5)},'return_sum_qty':{'$sum':_0x50761c(0x18b)}}}]);console[_0x50761c(0x18e)](_0x1348d4);if(_0x2b785f[0x0][_0x50761c(0x190)]==_0x50761c(0x1a3)){var _0xde2dc5=users[_0x50761c(0x180)];console['log'](_0xde2dc5);}else{if(_0x2b785f[0x0]['language']==_0x50761c(0x1a8))var _0xde2dc5=users[_0x50761c(0x1a8)];else{if(_0x2b785f[0x0]['language']=='German')var _0xde2dc5=users['German'];else{if(_0x2b785f[0x0][_0x50761c(0x190)]==_0x50761c(0x166))var _0xde2dc5=users[_0x50761c(0x166)];else{if(_0x2b785f[0x0][_0x50761c(0x190)]==_0x50761c(0x1be))var _0xde2dc5=users[_0x50761c(0x1be)];else{if(_0x2b785f[0x0]['language']==_0x50761c(0x193))var _0xde2dc5=users['Portuguese'];else{if(_0x2b785f[0x0][_0x50761c(0x190)]==_0x50761c(0x152))var _0xde2dc5=users[_0x50761c(0x152)];else{if(_0x2b785f[0x0][_0x50761c(0x190)]==_0x50761c(0x19a))var _0xde2dc5=users[_0x50761c(0x1b7)];}}}}}}}_0x383c44[_0x50761c(0x1a1)]('purchases_return',{'success':_0x427429[_0x50761c(0x153)](_0x50761c(0x197)),'errors':_0x427429['flash']('errors'),'role':_0x2a774c,'profile':_0x2d843c,'master_shop':_0x2b785f,'user':_0x1348d4,'language':_0xde2dc5});}catch(_0x536e4c){console[_0x50761c(0x18e)](_0x536e4c);}}),router['get'](a0_0x33d469(0x17e),auth,async(_0x20e08a,_0x5e542b)=>{var _0x22bb9d=a0_0x33d469;try{const {username:_0x3f190f,email:_0x3b21d5,role:_0x4f109e}=_0x20e08a[_0x22bb9d(0x1ab)],_0x323e82=_0x20e08a['user'],_0x41277d=await profile[_0x22bb9d(0x16c)]({'email':_0x323e82[_0x22bb9d(0x185)]}),_0x1a6ce3=await product[_0x22bb9d(0x177)]({}),_0x4e4543=await master_shop[_0x22bb9d(0x177)]();console['log'](_0x22bb9d(0x14a),_0x4e4543),console['log'](_0x20e08a[_0x22bb9d(0x1aa)]);const _0x4fff0d=_0x20e08a[_0x22bb9d(0x168)]['id'],_0x2071c2=await purchases_return['findById'](_0x4fff0d);console[_0x22bb9d(0x18e)](_0x2071c2);const _0x556c9d=await warehouse[_0x22bb9d(0x184)]([{'$match':{'name':_0x2071c2[_0x22bb9d(0x174)],'room':_0x2071c2[_0x22bb9d(0x15c)]}},{'$unwind':_0x22bb9d(0x15d)},{'$group':{'_id':'$product_details._id','name':{'$first':_0x22bb9d(0x16f)},'product_stock':{'$first':'$product_details.product_stock'},'bay':{'$first':'$product_details.bay'},'bin':{'$first':'$product_details.bin'},'type':{'$first':_0x22bb9d(0x14b)},'floorlevel':{'$first':_0x22bb9d(0x15a)},'primary_code':{'$first':_0x22bb9d(0x1b6)},'secondary_code':{'$first':_0x22bb9d(0x1bc)},'product_code':{'$first':_0x22bb9d(0x1a4)},'storage':{'$first':'$product_details.storage'},'rack':{'$first':_0x22bb9d(0x151)}}}]);warehouse_data=await warehouse[_0x22bb9d(0x184)]([{'$match':{'status':_0x22bb9d(0x145),'name':_0x22bb9d(0x178),'warehouse_category':_0x22bb9d(0x173)}},{'$group':{'_id':'$name','name':{'$first':_0x22bb9d(0x1b1)}}},{'$sort':{'name':0x1}}]),console[_0x22bb9d(0x18e)](_0x22bb9d(0x183),_0x556c9d);if(_0x4e4543[0x0][_0x22bb9d(0x190)]==_0x22bb9d(0x1a3)){var _0x50d7ee=users[_0x22bb9d(0x180)];console[_0x22bb9d(0x18e)](_0x50d7ee);}else{if(_0x4e4543[0x0]['language']=='Hindi')var _0x50d7ee=users[_0x22bb9d(0x1a8)];else{if(_0x4e4543[0x0][_0x22bb9d(0x190)]=='German')var _0x50d7ee=users[_0x22bb9d(0x14f)];else{if(_0x4e4543[0x0][_0x22bb9d(0x190)]==_0x22bb9d(0x166))var _0x50d7ee=users[_0x22bb9d(0x166)];else{if(_0x4e4543[0x0][_0x22bb9d(0x190)]=='French')var _0x50d7ee=users[_0x22bb9d(0x1be)];else{if(_0x4e4543[0x0][_0x22bb9d(0x190)]==_0x22bb9d(0x193))var _0x50d7ee=users[_0x22bb9d(0x149)];else{if(_0x4e4543[0x0][_0x22bb9d(0x190)]==_0x22bb9d(0x152))var _0x50d7ee=users[_0x22bb9d(0x152)];else{if(_0x4e4543[0x0]['language']==_0x22bb9d(0x19a))var _0x50d7ee=users[_0x22bb9d(0x1b7)];}}}}}}}_0x5e542b[_0x22bb9d(0x1a1)](_0x22bb9d(0x163),{'success':_0x20e08a[_0x22bb9d(0x153)](_0x22bb9d(0x197)),'errors':_0x20e08a[_0x22bb9d(0x153)](_0x22bb9d(0x194)),'role':_0x323e82,'master_shop':_0x4e4543,'profile':_0x41277d,'user':_0x2071c2,'stock':_0x556c9d,'product':_0x1a6ce3,'language':_0x50d7ee,'warehouse':warehouse_data});}catch(_0x36f216){console[_0x22bb9d(0x18e)](_0x36f216);}}),router['post'](a0_0x33d469(0x17e),auth,async(_0x2f10cb,_0x1f09e6)=>{var _0x14a23d=a0_0x33d469;try{const _0x3c3d61=_0x2f10cb[_0x14a23d(0x168)]['id'];console[_0x14a23d(0x18e)](_0x3c3d61);const _0x415125=await purchases_return[_0x14a23d(0x16c)]({'invoice':_0x2f10cb[_0x14a23d(0x1aa)][_0x14a23d(0x150)]});console[_0x14a23d(0x18e)]('old_data',_0x415125);const _0x4ca3fa=await warehouse[_0x14a23d(0x16c)]({'name':_0x415125[_0x14a23d(0x161)],'room':_0x415125[_0x14a23d(0x1b9)]});console[_0x14a23d(0x18e)](_0x14a23d(0x1bd),_0x4ca3fa);const {invoice:_0x26e693,suppliers:_0x30f822,date:_0x12ed72,warehouse_name:_0xdf5b43,product_name:_0x4c43c1,purchase_quantity:_0x3ef8e9,stocks:_0xedc0e4,return_qty:_0x58d9b3,note:_0x16b715,Room_name:_0x52ec6c,level:_0x33a7bd,isle:_0x2db95e,pallet:_0x3558c1,to_warehouse_name:_0x5e5538,to_Room_name:_0x242089}=_0x2f10cb[_0x14a23d(0x1aa)];if(typeof _0x4c43c1=='string')var _0x24d6db=[_0x2f10cb['body']['product_name']],_0x5b4d87=[_0x2f10cb['body'][_0x14a23d(0x160)]],_0x577d4a=[_0x2f10cb['body']['stocks']],_0x120dc9=[_0x2f10cb[_0x14a23d(0x1aa)][_0x14a23d(0x157)]],_0x52c018=[_0x2f10cb[_0x14a23d(0x1aa)][_0x14a23d(0x16b)]],_0x1b5f2d=[_0x2f10cb[_0x14a23d(0x1aa)][_0x14a23d(0x1bf)]],_0x3e18fc=[_0x2f10cb[_0x14a23d(0x1aa)]['pallet']],_0x3a07aa=[_0x2f10cb[_0x14a23d(0x1aa)]['types']],_0xd7047f=[_0x2f10cb[_0x14a23d(0x1aa)][_0x14a23d(0x14e)]],_0x5e47a6=[_0x2f10cb[_0x14a23d(0x1aa)][_0x14a23d(0x15f)]],_0x112097=[_0x2f10cb[_0x14a23d(0x1aa)][_0x14a23d(0x1a9)]];else var _0x24d6db=[..._0x2f10cb[_0x14a23d(0x1aa)]['product_name']],_0x5b4d87=[..._0x2f10cb['body'][_0x14a23d(0x160)]],_0x577d4a=[..._0x2f10cb[_0x14a23d(0x1aa)][_0x14a23d(0x1b4)]],_0x120dc9=[..._0x2f10cb['body'][_0x14a23d(0x157)]],_0x52c018=[..._0x2f10cb[_0x14a23d(0x1aa)][_0x14a23d(0x16b)]],_0x1b5f2d=[..._0x2f10cb[_0x14a23d(0x1aa)][_0x14a23d(0x1bf)]],_0x3e18fc=[..._0x2f10cb[_0x14a23d(0x1aa)][_0x14a23d(0x14d)]],_0xd7047f=[..._0x2f10cb['body']['product_code_hide']],_0x5e47a6=[..._0x2f10cb['body'][_0x14a23d(0x15f)]],_0x112097=[..._0x2f10cb['body']['secondary_code_hide']],_0x3a07aa=[..._0x2f10cb[_0x14a23d(0x1aa)][_0x14a23d(0x15b)]];const _0x587c87=_0x24d6db[_0x14a23d(0x1ba)](_0x402187=>{return _0x402187={'product_name':_0x402187};});_0x5b4d87['forEach']((_0x31ee5f,_0x26c0d6)=>{_0x587c87[_0x26c0d6]['purchase_quantity']=_0x31ee5f;}),_0x577d4a['forEach']((_0x364ff8,_0x38b660)=>{var _0x2353e3=_0x14a23d;_0x587c87[_0x38b660][_0x2353e3(0x17b)]=_0x364ff8;}),_0x120dc9[_0x14a23d(0x170)]((_0x1a18a6,_0x4b776b)=>{var _0x32f21d=_0x14a23d;_0x587c87[_0x4b776b][_0x32f21d(0x157)]=_0x1a18a6;}),_0x52c018[_0x14a23d(0x170)]((_0x11b8c7,_0x242497)=>{var _0x1f14a0=_0x14a23d;_0x587c87[_0x242497][_0x1f14a0(0x15e)]=_0x11b8c7;}),_0x1b5f2d[_0x14a23d(0x170)]((_0x5b8638,_0x49cde4)=>{var _0x38d0f1=_0x14a23d;_0x587c87[_0x49cde4][_0x38d0f1(0x154)]=_0x5b8638;}),_0x3e18fc[_0x14a23d(0x170)]((_0x3bc723,_0x438fb3)=>{_0x587c87[_0x438fb3]['floorlevel']=_0x3bc723;}),_0xd7047f[_0x14a23d(0x170)]((_0xbcdb8b,_0x665a5b)=>{var _0x559098=_0x14a23d;_0x587c87[_0x665a5b][_0x559098(0x1a0)]=_0xbcdb8b;}),_0x5e47a6['forEach']((_0x2c8aa8,_0x320c51)=>{var _0x21f8a6=_0x14a23d;_0x587c87[_0x320c51][_0x21f8a6(0x162)]=_0x2c8aa8;}),_0x112097[_0x14a23d(0x170)]((_0x5da992,_0x2e2bd0)=>{var _0x62ebe7=_0x14a23d;_0x587c87[_0x2e2bd0][_0x62ebe7(0x1a6)]=_0x5da992;}),_0x3a07aa[_0x14a23d(0x170)]((_0xf0a2b6,_0x503f16)=>{var _0x51449c=_0x14a23d;_0x587c87[_0x503f16][_0x51449c(0x19e)]=_0xf0a2b6;});var _0x32c2bc=0x0;_0x587c87[_0x14a23d(0x170)](_0x415efd=>{var _0x524366=_0x14a23d;console[_0x524366(0x18e)](_0x524366(0x18d),_0x415efd),(parseInt(_0x415efd[_0x524366(0x160)])<parseInt(_0x415efd[_0x524366(0x157)])||parseInt(_0x415efd['stock_quantity'])<parseInt(_0x415efd[_0x524366(0x157)])||parseInt(_0x415efd['return_qty'])==0x0)&&_0x32c2bc++;});if(_0x32c2bc!=0x0)return _0x2f10cb[_0x14a23d(0x153)](_0x14a23d(0x194),_0x14a23d(0x179)),_0x1f09e6[_0x14a23d(0x14c)](_0x14a23d(0x1b5));_0x415125['return_product'][_0x14a23d(0x170)](_0x5ddbda=>{const _0x4a2915=_0x4ca3fa['product_details']['map'](_0x12532c=>{var _0x127f9f=a0_0x1da7;_0x12532c[_0x127f9f(0x1b8)]==_0x5ddbda[_0x127f9f(0x1b8)]&&_0x12532c['floorlevel']==_0x5ddbda[_0x127f9f(0x186)]&&_0x12532c['type']==_0x5ddbda[_0x127f9f(0x19e)]&&_0x12532c['bin']==_0x5ddbda[_0x127f9f(0x154)]&&_0x12532c[_0x127f9f(0x15e)]==_0x5ddbda['bay']&&(_0x12532c[_0x127f9f(0x167)]=parseInt(_0x12532c[_0x127f9f(0x167)])+parseInt(_0x5ddbda[_0x127f9f(0x157)]));});}),console[_0x14a23d(0x18e)](_0x14a23d(0x1bd),_0x4ca3fa),await _0x4ca3fa[_0x14a23d(0x16e)](),_0x415125[_0x14a23d(0x150)]=_0x26e693,_0x415125[_0x14a23d(0x19f)]=_0x30f822,_0x415125[_0x14a23d(0x18f)]=_0x12ed72,_0x415125[_0x14a23d(0x174)]=_0xdf5b43,_0x415125[_0x14a23d(0x188)]=_0x587c87,_0x415125['note']=_0x16b715,_0x415125[_0x14a23d(0x15c)]=_0x52ec6c,_0x415125['to_warehouse_name']=_0x5e5538,_0x415125[_0x14a23d(0x1b9)]=_0x242089;const _0x2714d9=await _0x415125['save'](),_0x5365c7=await purchases_return[_0x14a23d(0x16c)]({'invoice':_0x2f10cb['body'][_0x14a23d(0x150)]}),_0x41c741=await warehouse[_0x14a23d(0x16c)]({'name':_0x2f10cb[_0x14a23d(0x1aa)]['to_warehouse_name'],'room':_0x2f10cb[_0x14a23d(0x1aa)]['to_Room_name']});_0x5365c7[_0x14a23d(0x188)]['forEach'](_0x5621b3=>{var _0x54c296=_0x14a23d;_0x41c741[_0x54c296(0x1ac)][_0x54c296(0x1ba)](_0x1494e2=>{var _0x5ca379=_0x54c296;_0x1494e2[_0x5ca379(0x1b8)]==_0x5621b3[_0x5ca379(0x1b8)]&&_0x1494e2[_0x5ca379(0x14d)]==_0x5621b3[_0x5ca379(0x14d)]&&(_0x1494e2[_0x5ca379(0x167)]=parseInt(_0x1494e2[_0x5ca379(0x167)])-parseInt(_0x5621b3[_0x5ca379(0x157)]),console['log'](_0x5ca379(0x1ad),_0x5621b3[_0x5ca379(0x157)]));});}),console[_0x14a23d(0x18e)](_0x14a23d(0x187),_0x41c741),await _0x41c741['save']();const _0x1e9b44=await s_payment_data[_0x14a23d(0x16c)]({'invoice':_0x2f10cb['body'][_0x14a23d(0x150)],'reason':'Purchase\x20Return'});await _0x1e9b44[_0x14a23d(0x16e)](),_0x2f10cb[_0x14a23d(0x153)](_0x14a23d(0x197),_0x14a23d(0x1af)),_0x1f09e6[_0x14a23d(0x14c)](_0x14a23d(0x199));}catch(_0x55dfbf){console['log'](_0x55dfbf),_0x1f09e6[_0x14a23d(0x195)](0xc8)[_0x14a23d(0x158)]({'message':_0x55dfbf[_0x14a23d(0x1bb)]});}}),router[a0_0x33d469(0x181)](a0_0x33d469(0x147),auth,async(_0x292559,_0x53e2dd)=>{var _0x58de48=a0_0x33d469;try{const {username:_0x540310,email:_0x2417a6,role:_0x43503c}=_0x292559[_0x58de48(0x1ab)],_0x1c1ef6=_0x292559[_0x58de48(0x1ab)],_0x4583a3=await profile['findOne']({'email':_0x1c1ef6[_0x58de48(0x185)]}),_0x52bb69=await master_shop[_0x58de48(0x177)]();console[_0x58de48(0x18e)]('master',_0x52bb69);const _0x257040=_0x292559[_0x58de48(0x168)]['id'],_0xe7f408=await purchases_return['findById'](_0x257040);console[_0x58de48(0x18e)](_0xe7f408);const _0x3c41f9=await suppliers[_0x58de48(0x16c)]({'name':_0xe7f408[_0x58de48(0x19f)]});console[_0x58de48(0x18e)](_0x3c41f9);if(_0x52bb69[0x0][_0x58de48(0x190)]==_0x58de48(0x1a3)){var _0x39addd=users[_0x58de48(0x180)];console[_0x58de48(0x18e)](_0x39addd);}else{if(_0x52bb69[0x0]['language']==_0x58de48(0x1a8))var _0x39addd=users['Hindi'];else{if(_0x52bb69[0x0]['language']==_0x58de48(0x14f))var _0x39addd=users[_0x58de48(0x14f)];else{if(_0x52bb69[0x0]['language']==_0x58de48(0x166))var _0x39addd=users[_0x58de48(0x166)];else{if(_0x52bb69[0x0][_0x58de48(0x190)]==_0x58de48(0x1be))var _0x39addd=users[_0x58de48(0x1be)];else{if(_0x52bb69[0x0][_0x58de48(0x190)]=='Portuguese\x20(BR)')var _0x39addd=users['Portuguese'];else{if(_0x52bb69[0x0][_0x58de48(0x190)]==_0x58de48(0x152))var _0x39addd=users['Chinese'];else{if(_0x52bb69[0x0][_0x58de48(0x190)]==_0x58de48(0x19a))var _0x39addd=users[_0x58de48(0x1b7)];}}}}}}}_0x53e2dd['render'](_0x58de48(0x148),{'success':_0x292559['flash']('success'),'errors':_0x292559[_0x58de48(0x153)](_0x58de48(0x194)),'role':_0x1c1ef6,'profile':_0x4583a3,'master_shop':_0x52bb69,'supplier':_0x3c41f9,'purchase':_0xe7f408,'language':_0x39addd});}catch(_0x2c885a){console[_0x58de48(0x18e)](_0x2c885a);}}),router[a0_0x33d469(0x1a2)](a0_0x33d469(0x171),auth,async(_0x448285,_0x1e8508)=>{var _0x3cc82e=a0_0x33d469;try{const _0x56c77a=_0x448285[_0x3cc82e(0x168)]['id'],{invoice:_0x454acd,suppliers:_0x544f5c,receivable_amount:_0x3b3190,received_amount:_0x4b6c9f}=_0x448285['body'],_0x19cc55=await purchases_return[_0x3cc82e(0x17a)](_0x56c77a);console[_0x3cc82e(0x18e)](_0x19cc55);var _0x5e8ff6=_0x3b3190-_0x4b6c9f;console['log'](_0x4b6c9f),_0x19cc55[_0x3cc82e(0x17c)]=parseFloat(_0x4b6c9f)+parseFloat(_0x19cc55['received']),_0x19cc55[_0x3cc82e(0x16a)]=_0x5e8ff6,console['log'](_0x19cc55);const _0x366407=await _0x19cc55['save'](),_0x2e085b=await s_payment_data[_0x3cc82e(0x16c)]({'invoice':_0x448285[_0x3cc82e(0x1aa)][_0x3cc82e(0x150)],'reason':_0x3cc82e(0x146)});_0x2e085b[_0x3cc82e(0x176)]=_0x5e8ff6,await _0x2e085b[_0x3cc82e(0x16e)]();let _0x42f9a5=new Date(),_0xca9501=('0'+_0x42f9a5[_0x3cc82e(0x17d)]())[_0x3cc82e(0x198)](-0x2),_0x4aa9ea=('0'+(_0x42f9a5[_0x3cc82e(0x175)]()+0x1))[_0x3cc82e(0x198)](-0x2),_0x2260e7=_0x42f9a5['getFullYear'](),_0x3748bf=_0x2260e7+'-'+_0x4aa9ea+'-'+_0xca9501;const _0x4d5d87=new suppliers_payment({'invoice':_0x454acd,'date':_0x2260e7+'-'+_0x4aa9ea+'-'+_0xca9501,'suppliers':_0x544f5c,'reason':'Received\x20For\x20Purchase\x20Return','amount':_0x4b6c9f}),_0x30ed62=await _0x4d5d87['save']();_0x448285['flash'](_0x3cc82e(0x197),_0x3cc82e(0x189)),_0x1e8508['redirect'](_0x3cc82e(0x199));}catch(_0x59b8bf){console[_0x3cc82e(0x18e)](_0x59b8bf);}}),module[a0_0x33d469(0x192)]=router;