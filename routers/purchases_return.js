var a0_0x1bf4ff=a0_0xf31b;function a0_0xf31b(_0x1b8932,_0x3209de){var _0xce7e8f=a0_0xce7e();return a0_0xf31b=function(_0xf31bf5,_0x5f3ca6){_0xf31bf5=_0xf31bf5-0x1a2;var _0x10ebb2=_0xce7e8f[_0xf31bf5];return _0x10ebb2;},a0_0xf31b(_0x1b8932,_0x3209de);}(function(_0xd3b69a,_0x3b6b3f){var _0xf519c6=a0_0xf31b,_0xaff1b8=_0xd3b69a();while(!![]){try{var _0x441e0d=parseInt(_0xf519c6(0x201))/0x1*(parseInt(_0xf519c6(0x211))/0x2)+parseInt(_0xf519c6(0x1e8))/0x3+parseInt(_0xf519c6(0x1a2))/0x4*(-parseInt(_0xf519c6(0x205))/0x5)+-parseInt(_0xf519c6(0x1d9))/0x6+-parseInt(_0xf519c6(0x1ba))/0x7*(parseInt(_0xf519c6(0x206))/0x8)+parseInt(_0xf519c6(0x1f4))/0x9+parseInt(_0xf519c6(0x1f1))/0xa*(parseInt(_0xf519c6(0x1b7))/0xb);if(_0x441e0d===_0x3b6b3f)break;else _0xaff1b8['push'](_0xaff1b8['shift']());}catch(_0x5e71e7){_0xaff1b8['push'](_0xaff1b8['shift']());}}}(a0_0xce7e,0xce754));function a0_0xce7e(){var _0x1612ac=['findOne','$return_product.price','$return_product.return_qty','$product_details.primary_code','Arabic\x20(ae)','isle','express','$product_details.product_code','suppliers','get','136745feTyyk','return_product','$supplier_docs.email','$product_details.secondary_code','145uQaOTS','16GKXceZ','$_id','map','save','stocks','getDate','$return_product.product_name','flash','purchase\x20return\x20successfully','$warehouse_name','to_Room_name','6wGYajy','English\x20(US)','due_amount','foreach\x20newproduct','product_details','Spanish','old_warehouse_data','secondary_code','room','return_purchase_invoice','Purchase\x20Return','$date','floorlevel','stock_quantity','type','find','types','Portuguese','getMonth','/view','109632wAUDcE','$total_amount','$name','invoice','language','../middleware/auth','warehouse_name','German','/purchases_return/view','final','email','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','render','back','post','received','aggregate','body','$product_details.floorlevel','../models/all_models','Received\x20For\x20Purchase\x20Return','11iQqOZD','slice','$received','2419697pNtNgx','level','amount','$product_details.bin','redirect','note','Hindi','findById','product_code_hide','getFullYear','forEach','Arabic','$product_details.type','Chinese','return_purchase_edit','log','$product_details.product_stock','bin','string','Router','$supplier_docs.mobile','/receive_payment/:id','purchase_quantity','$supplier_docs','product_stock','success','$product_details.product_name','pallet','to_room','/invoice/:id','json','9418452zYNaol','exports','secondary_code_hide','$product_details._id','French','bay','return_qty','$product_details.storage','Enabled','to_warehouse_name','primary_code_hide','status','errors','master','Portuguese\x20(BR)','3594081UwePLb','$receivable','product_details.return_qtyproduct_details.return_qty','product_name','English','params','user','$product_details.rack','product_code','12516210UCMRCE','/view/:id','payment\x20successfull','9375165sxEGOh','old_data','$product_details'];a0_0xce7e=function(){return _0x1612ac;};return a0_0xce7e();}const express=require(a0_0x1bf4ff(0x1fd)),app=express(),router=express[a0_0x1bf4ff(0x1cd)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x1bf4ff(0x1b5)),auth=require(a0_0x1bf4ff(0x1a7)),users=require('../public/language/languages.json');router[a0_0x1bf4ff(0x200)](a0_0x1bf4ff(0x224),auth,async(_0x16a9fd,_0x48b8ee)=>{var _0x66e6cf=a0_0x1bf4ff;try{const {username:_0x34a72e,email:_0xd61f49,role:_0x2300c8}=_0x16a9fd[_0x66e6cf(0x1ee)],_0x5458ab=_0x16a9fd[_0x66e6cf(0x1ee)],_0x43e088=await profile[_0x66e6cf(0x1f7)]({'email':_0x5458ab['email']}),_0x5c0a65=await master_shop[_0x66e6cf(0x220)]();console[_0x66e6cf(0x1c9)]('master',_0x5c0a65);const _0x1f485d=await purchases_return[_0x66e6cf(0x1b2)]([{'$lookup':{'from':_0x66e6cf(0x1ff),'localField':_0x66e6cf(0x1ff),'foreignField':'name','as':'supplier_docs'}},{'$unwind':'$return_product'},{'$unwind':_0x66e6cf(0x1d1)},{'$group':{'_id':_0x66e6cf(0x207),'invoice':{'$first':'$invoice'},'date':{'$first':_0x66e6cf(0x21c)},'suppliers':{'$first':'$suppliers'},'warehouse_name':{'$first':_0x66e6cf(0x20f)},'product_name':{'$first':_0x66e6cf(0x20c)},'return_qty':{'$first':_0x66e6cf(0x1f9)},'price':{'$first':_0x66e6cf(0x1f8)},'total':{'$sum':'$return_product.total'},'note':{'$first':'$note'},'total_amount':{'$first':_0x66e6cf(0x1a3)},'discount':{'$first':'$discount'},'receivable':{'$first':_0x66e6cf(0x1e9)},'received':{'$first':_0x66e6cf(0x1b9)},'due_amount':{'$first':'$due_amount'},'mobile':{'$first':_0x66e6cf(0x1ce)},'email':{'$first':_0x66e6cf(0x203)},'address':{'$first':'$supplier_docs.address'},'return_sum_qty':{'$sum':_0x66e6cf(0x1f9)}}}]);console[_0x66e6cf(0x1c9)](_0x1f485d);if(_0x5c0a65[0x0][_0x66e6cf(0x1a6)]==_0x66e6cf(0x212)){var _0xe5f2ee=users['English'];console['log'](_0xe5f2ee);}else{if(_0x5c0a65[0x0][_0x66e6cf(0x1a6)]==_0x66e6cf(0x1c0))var _0xe5f2ee=users[_0x66e6cf(0x1c0)];else{if(_0x5c0a65[0x0][_0x66e6cf(0x1a6)]==_0x66e6cf(0x1a9))var _0xe5f2ee=users['German'];else{if(_0x5c0a65[0x0]['language']=='Spanish')var _0xe5f2ee=users[_0x66e6cf(0x216)];else{if(_0x5c0a65[0x0][_0x66e6cf(0x1a6)]==_0x66e6cf(0x1dd))var _0xe5f2ee=users['French'];else{if(_0x5c0a65[0x0]['language']==_0x66e6cf(0x1e7))var _0xe5f2ee=users[_0x66e6cf(0x222)];else{if(_0x5c0a65[0x0][_0x66e6cf(0x1a6)]=='Chinese')var _0xe5f2ee=users[_0x66e6cf(0x1c7)];else{if(_0x5c0a65[0x0][_0x66e6cf(0x1a6)]==_0x66e6cf(0x1fb))var _0xe5f2ee=users['Arabic'];}}}}}}}_0x48b8ee[_0x66e6cf(0x1ae)]('purchases_return',{'success':_0x16a9fd['flash'](_0x66e6cf(0x1d3)),'errors':_0x16a9fd[_0x66e6cf(0x20d)](_0x66e6cf(0x1e5)),'role':_0x5458ab,'profile':_0x43e088,'master_shop':_0x5c0a65,'user':_0x1f485d,'language':_0xe5f2ee});}catch(_0x4b49a7){console['log'](_0x4b49a7);}}),router['get'](a0_0x1bf4ff(0x1f2),auth,async(_0x594424,_0x1c0856)=>{var _0x59585c=a0_0x1bf4ff;try{const {username:_0x17bba5,email:_0x201568,role:_0x1b48d1}=_0x594424[_0x59585c(0x1ee)],_0x1120e2=_0x594424[_0x59585c(0x1ee)],_0x489322=await profile[_0x59585c(0x1f7)]({'email':_0x1120e2['email']}),_0x13b2a4=await product['find']({}),_0xcffe18=await master_shop[_0x59585c(0x220)]();console['log'](_0x59585c(0x1e6),_0xcffe18),console[_0x59585c(0x1c9)](_0x594424[_0x59585c(0x1b3)]);const _0x106805=_0x594424[_0x59585c(0x1ed)]['id'],_0x3977ae=await purchases_return[_0x59585c(0x1c1)](_0x106805);console[_0x59585c(0x1c9)](_0x3977ae);const _0x2dec18=await warehouse[_0x59585c(0x1b2)]([{'$match':{'name':_0x3977ae[_0x59585c(0x1a8)],'room':_0x3977ae[_0x59585c(0x219)]}},{'$unwind':_0x59585c(0x1f6)},{'$group':{'_id':_0x59585c(0x1dc),'name':{'$first':_0x59585c(0x1d4)},'product_stock':{'$first':_0x59585c(0x1ca)},'bay':{'$first':'$product_details.bay'},'bin':{'$first':_0x59585c(0x1bd)},'type':{'$first':_0x59585c(0x1c6)},'floorlevel':{'$first':_0x59585c(0x1b4)},'primary_code':{'$first':_0x59585c(0x1fa)},'secondary_code':{'$first':_0x59585c(0x204)},'product_code':{'$first':_0x59585c(0x1fe)},'storage':{'$first':_0x59585c(0x1e0)},'rack':{'$first':_0x59585c(0x1ef)}}}]);warehouse_data=await warehouse[_0x59585c(0x1b2)]([{'$match':{'status':_0x59585c(0x1e1),'name':'Return\x20Goods','warehouse_category':'Raw\x20Materials'}},{'$group':{'_id':_0x59585c(0x1a4),'name':{'$first':_0x59585c(0x1a4)}}},{'$sort':{'name':0x1}}]),console[_0x59585c(0x1c9)]('stock_data',_0x2dec18);if(_0xcffe18[0x0][_0x59585c(0x1a6)]==_0x59585c(0x212)){var _0x38f256=users['English'];console['log'](_0x38f256);}else{if(_0xcffe18[0x0][_0x59585c(0x1a6)]=='Hindi')var _0x38f256=users['Hindi'];else{if(_0xcffe18[0x0]['language']=='German')var _0x38f256=users[_0x59585c(0x1a9)];else{if(_0xcffe18[0x0][_0x59585c(0x1a6)]==_0x59585c(0x216))var _0x38f256=users[_0x59585c(0x216)];else{if(_0xcffe18[0x0][_0x59585c(0x1a6)]=='French')var _0x38f256=users[_0x59585c(0x1dd)];else{if(_0xcffe18[0x0]['language']==_0x59585c(0x1e7))var _0x38f256=users['Portuguese'];else{if(_0xcffe18[0x0][_0x59585c(0x1a6)]==_0x59585c(0x1c7))var _0x38f256=users[_0x59585c(0x1c7)];else{if(_0xcffe18[0x0][_0x59585c(0x1a6)]==_0x59585c(0x1fb))var _0x38f256=users[_0x59585c(0x1c5)];}}}}}}}_0x1c0856[_0x59585c(0x1ae)](_0x59585c(0x1c8),{'success':_0x594424[_0x59585c(0x20d)](_0x59585c(0x1d3)),'errors':_0x594424[_0x59585c(0x20d)](_0x59585c(0x1e5)),'role':_0x1120e2,'master_shop':_0xcffe18,'profile':_0x489322,'user':_0x3977ae,'stock':_0x2dec18,'product':_0x13b2a4,'language':_0x38f256,'warehouse':warehouse_data});}catch(_0x70e75e){console['log'](_0x70e75e);}}),router[a0_0x1bf4ff(0x1b0)](a0_0x1bf4ff(0x1f2),auth,async(_0x5e4596,_0x74c003)=>{var _0x125738=a0_0x1bf4ff;try{const _0x4cd6f4=_0x5e4596[_0x125738(0x1ed)]['id'];console[_0x125738(0x1c9)](_0x4cd6f4);const _0x4ea3cb=await purchases_return[_0x125738(0x1f7)]({'invoice':_0x5e4596['body'][_0x125738(0x1a5)]});console['log'](_0x125738(0x1f5),_0x4ea3cb);const _0x45705d=await warehouse[_0x125738(0x1f7)]({'name':_0x4ea3cb[_0x125738(0x1e2)],'room':_0x4ea3cb['to_room']});console[_0x125738(0x1c9)](_0x125738(0x217),_0x45705d);const {invoice:_0x5b2afd,suppliers:_0x48ede2,date:_0x118f97,warehouse_name:_0x26ac6a,product_name:_0x51def0,purchase_quantity:_0x874ba0,stocks:_0x46977a,return_qty:_0x3ea92b,note:_0x4b8d35,Room_name:_0x4d9370,level:_0x5eede5,isle:_0x4ce2ef,pallet:_0x23d054,to_warehouse_name:_0x2b89a8,to_Room_name:_0xa2a5d}=_0x5e4596[_0x125738(0x1b3)];if(typeof _0x51def0==_0x125738(0x1cc))var _0x490699=[_0x5e4596[_0x125738(0x1b3)]['product_name']],_0x2efe42=[_0x5e4596['body'][_0x125738(0x1d0)]],_0x4af18a=[_0x5e4596[_0x125738(0x1b3)][_0x125738(0x20a)]],_0x334bdb=[_0x5e4596[_0x125738(0x1b3)][_0x125738(0x1df)]],_0x494815=[_0x5e4596['body'][_0x125738(0x1bb)]],_0xb8860=[_0x5e4596['body']['isle']],_0x1f6d88=[_0x5e4596[_0x125738(0x1b3)][_0x125738(0x1d5)]],_0x571e18=[_0x5e4596['body']['types']],_0x1b365f=[_0x5e4596[_0x125738(0x1b3)][_0x125738(0x1c2)]],_0x4172f2=[_0x5e4596[_0x125738(0x1b3)][_0x125738(0x1e3)]],_0x289264=[_0x5e4596[_0x125738(0x1b3)][_0x125738(0x1db)]];else var _0x490699=[..._0x5e4596[_0x125738(0x1b3)][_0x125738(0x1eb)]],_0x2efe42=[..._0x5e4596[_0x125738(0x1b3)][_0x125738(0x1d0)]],_0x4af18a=[..._0x5e4596[_0x125738(0x1b3)]['stocks']],_0x334bdb=[..._0x5e4596['body'][_0x125738(0x1df)]],_0x494815=[..._0x5e4596[_0x125738(0x1b3)][_0x125738(0x1bb)]],_0xb8860=[..._0x5e4596[_0x125738(0x1b3)][_0x125738(0x1fc)]],_0x1f6d88=[..._0x5e4596[_0x125738(0x1b3)][_0x125738(0x1d5)]],_0x1b365f=[..._0x5e4596['body'][_0x125738(0x1c2)]],_0x4172f2=[..._0x5e4596[_0x125738(0x1b3)]['primary_code_hide']],_0x289264=[..._0x5e4596[_0x125738(0x1b3)][_0x125738(0x1db)]],_0x571e18=[..._0x5e4596[_0x125738(0x1b3)][_0x125738(0x221)]];const _0x2979cc=_0x490699[_0x125738(0x208)](_0x17f574=>{return _0x17f574={'product_name':_0x17f574};});_0x2efe42[_0x125738(0x1c4)]((_0x593a2d,_0x32a7f3)=>{var _0x2e34a4=_0x125738;_0x2979cc[_0x32a7f3][_0x2e34a4(0x1d0)]=_0x593a2d;}),_0x4af18a[_0x125738(0x1c4)]((_0x5a429f,_0x51427c)=>{var _0x5e4d5b=_0x125738;_0x2979cc[_0x51427c][_0x5e4d5b(0x21e)]=_0x5a429f;}),_0x334bdb['forEach']((_0x360357,_0x61a98d)=>{_0x2979cc[_0x61a98d]['return_qty']=_0x360357;}),_0x494815[_0x125738(0x1c4)]((_0x3055a8,_0x2b3cc6)=>{var _0x2a865e=_0x125738;_0x2979cc[_0x2b3cc6][_0x2a865e(0x1de)]=_0x3055a8;}),_0xb8860['forEach']((_0x28be7c,_0x2fc708)=>{_0x2979cc[_0x2fc708]['bin']=_0x28be7c;}),_0x1f6d88[_0x125738(0x1c4)]((_0x311172,_0x1a427b)=>{_0x2979cc[_0x1a427b]['floorlevel']=_0x311172;}),_0x1b365f[_0x125738(0x1c4)]((_0x4e56ac,_0x4e160a)=>{var _0x154f2a=_0x125738;_0x2979cc[_0x4e160a][_0x154f2a(0x1f0)]=_0x4e56ac;}),_0x4172f2[_0x125738(0x1c4)]((_0x55dd92,_0x2523bb)=>{_0x2979cc[_0x2523bb]['primary_code']=_0x55dd92;}),_0x289264[_0x125738(0x1c4)]((_0x4ff8cc,_0x1d4f77)=>{var _0x1475c3=_0x125738;_0x2979cc[_0x1d4f77][_0x1475c3(0x218)]=_0x4ff8cc;}),_0x571e18[_0x125738(0x1c4)]((_0x52cd76,_0x346986)=>{_0x2979cc[_0x346986]['type']=_0x52cd76;});var _0x1e7195=0x0;_0x2979cc[_0x125738(0x1c4)](_0x56087a=>{var _0x5093fe=_0x125738;console[_0x5093fe(0x1c9)](_0x5093fe(0x214),_0x56087a),(parseInt(_0x56087a[_0x5093fe(0x1d0)])<parseInt(_0x56087a[_0x5093fe(0x1df)])||parseInt(_0x56087a[_0x5093fe(0x21e)])<parseInt(_0x56087a[_0x5093fe(0x1df)])||parseInt(_0x56087a[_0x5093fe(0x1df)])==0x0)&&_0x1e7195++;});if(_0x1e7195!=0x0)return _0x5e4596[_0x125738(0x20d)]('errors',_0x125738(0x1ad)),_0x74c003[_0x125738(0x1be)](_0x125738(0x1af));_0x4ea3cb[_0x125738(0x202)]['forEach'](_0x4e0403=>{var _0x472a8b=_0x125738;const _0x44d0fd=_0x45705d[_0x472a8b(0x215)][_0x472a8b(0x208)](_0x331bbc=>{var _0x1a67c7=_0x472a8b;_0x331bbc[_0x1a67c7(0x1eb)]==_0x4e0403[_0x1a67c7(0x1eb)]&&_0x331bbc[_0x1a67c7(0x21d)]==_0x4e0403[_0x1a67c7(0x21d)]&&_0x331bbc[_0x1a67c7(0x21f)]==_0x4e0403['type']&&_0x331bbc[_0x1a67c7(0x1cb)]==_0x4e0403[_0x1a67c7(0x1cb)]&&_0x331bbc[_0x1a67c7(0x1de)]==_0x4e0403[_0x1a67c7(0x1de)]&&(_0x331bbc[_0x1a67c7(0x1d2)]=parseInt(_0x331bbc[_0x1a67c7(0x1d2)])+parseInt(_0x4e0403[_0x1a67c7(0x1df)]));});}),console[_0x125738(0x1c9)]('old_warehouse_data',_0x45705d),await _0x45705d[_0x125738(0x209)](),_0x4ea3cb[_0x125738(0x1a5)]=_0x5b2afd,_0x4ea3cb[_0x125738(0x1ff)]=_0x48ede2,_0x4ea3cb['date']=_0x118f97,_0x4ea3cb['warehouse_name']=_0x26ac6a,_0x4ea3cb['return_product']=_0x2979cc,_0x4ea3cb[_0x125738(0x1bf)]=_0x4b8d35,_0x4ea3cb[_0x125738(0x219)]=_0x4d9370,_0x4ea3cb[_0x125738(0x1e2)]=_0x2b89a8,_0x4ea3cb[_0x125738(0x1d6)]=_0xa2a5d;const _0x30be76=await _0x4ea3cb['save'](),_0x42e9fe=await purchases_return[_0x125738(0x1f7)]({'invoice':_0x5e4596[_0x125738(0x1b3)][_0x125738(0x1a5)]}),_0x4579e3=await warehouse[_0x125738(0x1f7)]({'name':_0x5e4596['body'][_0x125738(0x1e2)],'room':_0x5e4596['body'][_0x125738(0x210)]});_0x42e9fe[_0x125738(0x202)]['forEach'](_0x3b2a60=>{var _0x368339=_0x125738;_0x4579e3[_0x368339(0x215)][_0x368339(0x208)](_0x52a266=>{var _0x228d0b=_0x368339;_0x52a266[_0x228d0b(0x1eb)]==_0x3b2a60[_0x228d0b(0x1eb)]&&_0x52a266['pallet']==_0x3b2a60['pallet']&&(_0x52a266[_0x228d0b(0x1d2)]=parseInt(_0x52a266[_0x228d0b(0x1d2)])-parseInt(_0x3b2a60[_0x228d0b(0x1df)]),console['log'](_0x228d0b(0x1ea),_0x3b2a60[_0x228d0b(0x1df)]));});}),console[_0x125738(0x1c9)](_0x125738(0x1ab),_0x4579e3),await _0x4579e3['save']();const _0x4a7367=await s_payment_data[_0x125738(0x1f7)]({'invoice':_0x5e4596[_0x125738(0x1b3)][_0x125738(0x1a5)],'reason':_0x125738(0x21b)});await _0x4a7367[_0x125738(0x209)](),_0x5e4596[_0x125738(0x20d)](_0x125738(0x1d3),_0x125738(0x20e)),_0x74c003['redirect'](_0x125738(0x1aa));}catch(_0x5b61d8){console['log'](_0x5b61d8),_0x74c003[_0x125738(0x1e4)](0xc8)[_0x125738(0x1d8)]({'message':_0x5b61d8['message']});}}),router['get'](a0_0x1bf4ff(0x1d7),auth,async(_0x3d6b27,_0x126b54)=>{var _0x5c3e41=a0_0x1bf4ff;try{const {username:_0x4f0e9a,email:_0x28bf86,role:_0x1af440}=_0x3d6b27[_0x5c3e41(0x1ee)],_0x5a9ee9=_0x3d6b27['user'],_0xeafb99=await profile[_0x5c3e41(0x1f7)]({'email':_0x5a9ee9[_0x5c3e41(0x1ac)]}),_0x533008=await master_shop[_0x5c3e41(0x220)]();console['log'](_0x5c3e41(0x1e6),_0x533008);const _0x4a5702=_0x3d6b27[_0x5c3e41(0x1ed)]['id'],_0x43e473=await purchases_return['findById'](_0x4a5702);console[_0x5c3e41(0x1c9)](_0x43e473);const _0x37a5f5=await suppliers[_0x5c3e41(0x1f7)]({'name':_0x43e473[_0x5c3e41(0x1ff)]});console[_0x5c3e41(0x1c9)](_0x37a5f5);if(_0x533008[0x0][_0x5c3e41(0x1a6)]==_0x5c3e41(0x212)){var _0x342636=users[_0x5c3e41(0x1ec)];console[_0x5c3e41(0x1c9)](_0x342636);}else{if(_0x533008[0x0][_0x5c3e41(0x1a6)]==_0x5c3e41(0x1c0))var _0x342636=users[_0x5c3e41(0x1c0)];else{if(_0x533008[0x0]['language']==_0x5c3e41(0x1a9))var _0x342636=users[_0x5c3e41(0x1a9)];else{if(_0x533008[0x0][_0x5c3e41(0x1a6)]==_0x5c3e41(0x216))var _0x342636=users[_0x5c3e41(0x216)];else{if(_0x533008[0x0][_0x5c3e41(0x1a6)]==_0x5c3e41(0x1dd))var _0x342636=users[_0x5c3e41(0x1dd)];else{if(_0x533008[0x0][_0x5c3e41(0x1a6)]==_0x5c3e41(0x1e7))var _0x342636=users[_0x5c3e41(0x222)];else{if(_0x533008[0x0][_0x5c3e41(0x1a6)]==_0x5c3e41(0x1c7))var _0x342636=users[_0x5c3e41(0x1c7)];else{if(_0x533008[0x0][_0x5c3e41(0x1a6)]==_0x5c3e41(0x1fb))var _0x342636=users[_0x5c3e41(0x1c5)];}}}}}}}_0x126b54['render'](_0x5c3e41(0x21a),{'success':_0x3d6b27[_0x5c3e41(0x20d)](_0x5c3e41(0x1d3)),'errors':_0x3d6b27[_0x5c3e41(0x20d)]('errors'),'role':_0x5a9ee9,'profile':_0xeafb99,'master_shop':_0x533008,'supplier':_0x37a5f5,'purchase':_0x43e473,'language':_0x342636});}catch(_0xccf056){console[_0x5c3e41(0x1c9)](_0xccf056);}}),router[a0_0x1bf4ff(0x1b0)](a0_0x1bf4ff(0x1cf),auth,async(_0xe8c813,_0x257ab7)=>{var _0x5b4500=a0_0x1bf4ff;try{const _0x7c7198=_0xe8c813['params']['id'],{invoice:_0x1be345,suppliers:_0x1cf8d3,receivable_amount:_0x5d5dda,received_amount:_0x5205c8}=_0xe8c813[_0x5b4500(0x1b3)],_0x28332b=await purchases_return['findById'](_0x7c7198);console[_0x5b4500(0x1c9)](_0x28332b);var _0x433917=_0x5d5dda-_0x5205c8;console['log'](_0x5205c8),_0x28332b[_0x5b4500(0x1b1)]=parseFloat(_0x5205c8)+parseFloat(_0x28332b[_0x5b4500(0x1b1)]),_0x28332b[_0x5b4500(0x213)]=_0x433917,console['log'](_0x28332b);const _0x2240c5=await _0x28332b[_0x5b4500(0x209)](),_0x5c0c22=await s_payment_data[_0x5b4500(0x1f7)]({'invoice':_0xe8c813[_0x5b4500(0x1b3)][_0x5b4500(0x1a5)],'reason':'Purchase\x20Return'});_0x5c0c22[_0x5b4500(0x1bc)]=_0x433917,await _0x5c0c22[_0x5b4500(0x209)]();let _0x1e0b5c=new Date(),_0x439847=('0'+_0x1e0b5c[_0x5b4500(0x20b)]())[_0x5b4500(0x1b8)](-0x2),_0x14dc12=('0'+(_0x1e0b5c[_0x5b4500(0x223)]()+0x1))[_0x5b4500(0x1b8)](-0x2),_0x348291=_0x1e0b5c[_0x5b4500(0x1c3)](),_0x299f1f=_0x348291+'-'+_0x14dc12+'-'+_0x439847;const _0x19170d=new suppliers_payment({'invoice':_0x1be345,'date':_0x348291+'-'+_0x14dc12+'-'+_0x439847,'suppliers':_0x1cf8d3,'reason':_0x5b4500(0x1b6),'amount':_0x5205c8}),_0x3721f7=await _0x19170d[_0x5b4500(0x209)]();_0xe8c813['flash'](_0x5b4500(0x1d3),_0x5b4500(0x1f3)),_0x257ab7[_0x5b4500(0x1be)](_0x5b4500(0x1aa));}catch(_0x2b5544){console[_0x5b4500(0x1c9)](_0x2b5544);}}),module[a0_0x1bf4ff(0x1da)]=router;