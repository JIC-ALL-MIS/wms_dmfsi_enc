var a0_0xebae2b=a0_0x2751;(function(_0x32e206,_0x395bc){var _0x161c84=a0_0x2751,_0x2403b2=_0x32e206();while(!![]){try{var _0x674bcf=-parseInt(_0x161c84(0xd6))/0x1*(parseInt(_0x161c84(0xf6))/0x2)+parseInt(_0x161c84(0x11c))/0x3*(parseInt(_0x161c84(0xc1))/0x4)+parseInt(_0x161c84(0xd9))/0x5*(parseInt(_0x161c84(0xe4))/0x6)+parseInt(_0x161c84(0x105))/0x7+-parseInt(_0x161c84(0xc2))/0x8+-parseInt(_0x161c84(0xca))/0x9+parseInt(_0x161c84(0x10d))/0xa;if(_0x674bcf===_0x395bc)break;else _0x2403b2['push'](_0x2403b2['shift']());}catch(_0x22f38c){_0x2403b2['push'](_0x2403b2['shift']());}}}(a0_0x1d37,0x8b69c));function a0_0x2751(_0x4b2fe6,_0x53a348){var _0x1d37b1=a0_0x1d37();return a0_0x2751=function(_0x2751bb,_0x155a02){_0x2751bb=_0x2751bb-0xb2;var _0x31d4b0=_0x1d37b1[_0x2751bb];return _0x31d4b0;},a0_0x2751(_0x4b2fe6,_0x53a348);}const express=require(a0_0xebae2b(0x120)),app=express(),router=express[a0_0xebae2b(0xd5)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0xebae2b(0xeb)),auth=require('../middleware/auth'),users=require(a0_0xebae2b(0x10c));function a0_0x1d37(){var _0x540b9c=['$_id','user','/purchases_return/view','English','stock_data','foreach\x20newproduct','$product_details.product_code','$product_details.bin','status','exports','Spanish','get','$discount','French','room','$product_details.rack','bin','render','map','$product_details.storage','return_purchase_edit','find','Return\x20Goods','$name','product_code_hide','4PHJczo','796912ukikDI','old_warehouse_data','$product_details._id','$return_product','message','Raw\x20Materials','$supplier_docs','type','9616311aAhhTN','return_purchase_invoice','errors','Portuguese\x20(BR)','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','German','master','$receivable','level','getMonth','findById','Router','1415EqPHce','$product_details.type','suppliers','29075hgCNcS','pallet','$total_amount','amount','to_room','$suppliers','$product_details.floorlevel','$supplier_docs.address','stock_quantity','save','note','372BXtQNM','params','Hindi','product_name','final','post','date','../models/all_models','Chinese','/view/:id','secondary_code_hide','invoice','English\x20(US)','$supplier_docs.email','$return_product.return_qty','product_code','secondary_code','$due_amount','1614yMPpwV','$date','name','Arabic','return_qty','product_details','return_product','flash','$received','$product_details.product_stock','redirect','$return_product.total','$return_product.price','Enabled','language','7922586hOxupN','$note','Portuguese','$warehouse_name','payment\x20successfull','$product_details.product_name','Purchase\x20Return','../public/language/languages.json','10408820imGuZr','body','stocks','success','Arabic\x20(ae)','aggregate','$product_details.bay','warehouse_name','product_stock','to_warehouse_name','purchase_quantity','$invoice','$product_details','findOne','email','1043472FJJBoF','getDate','purchases_return','Received\x20For\x20Purchase\x20Return','express','log','getFullYear','slice','primary_code_hide','received','old_data','floorlevel','forEach','back'];a0_0x1d37=function(){return _0x540b9c;};return a0_0x1d37();}router[a0_0xebae2b(0xb3)]('/view',auth,async(_0x44ac58,_0x19f174)=>{var _0x101565=a0_0xebae2b;try{const {username:_0xc4ca3b,email:_0x5e9fe0,role:_0x2bfd2d}=_0x44ac58[_0x101565(0x12b)],_0x207e1d=_0x44ac58[_0x101565(0x12b)],_0x5a6701=await profile[_0x101565(0x11a)]({'email':_0x207e1d[_0x101565(0x11b)]}),_0x38ac62=await master_shop[_0x101565(0xbd)]();console[_0x101565(0x121)](_0x101565(0xd0),_0x38ac62);const _0x11f53c=await purchases_return[_0x101565(0x112)]([{'$lookup':{'from':_0x101565(0xd8),'localField':_0x101565(0xd8),'foreignField':_0x101565(0xf8),'as':'supplier_docs'}},{'$unwind':_0x101565(0xc5)},{'$unwind':_0x101565(0xc8)},{'$group':{'_id':_0x101565(0x12a),'invoice':{'$first':_0x101565(0x118)},'date':{'$first':_0x101565(0xf7)},'suppliers':{'$first':_0x101565(0xde)},'warehouse_name':{'$first':_0x101565(0x108)},'product_name':{'$first':'$return_product.product_name'},'return_qty':{'$first':_0x101565(0xf2)},'price':{'$first':_0x101565(0x102)},'total':{'$sum':_0x101565(0x101)},'note':{'$first':_0x101565(0x106)},'total_amount':{'$first':_0x101565(0xdb)},'discount':{'$first':_0x101565(0xb4)},'receivable':{'$first':_0x101565(0xd1)},'received':{'$first':_0x101565(0xfe)},'due_amount':{'$first':_0x101565(0xf5)},'mobile':{'$first':'$supplier_docs.mobile'},'email':{'$first':_0x101565(0xf1)},'address':{'$first':_0x101565(0xe0)},'return_sum_qty':{'$sum':_0x101565(0xf2)}}}]);console[_0x101565(0x121)](_0x11f53c);if(_0x38ac62[0x0][_0x101565(0x104)]=='English\x20(US)'){var _0x1a5575=users[_0x101565(0x12d)];console[_0x101565(0x121)](_0x1a5575);}else{if(_0x38ac62[0x0][_0x101565(0x104)]==_0x101565(0xe6))var _0x1a5575=users[_0x101565(0xe6)];else{if(_0x38ac62[0x0][_0x101565(0x104)]==_0x101565(0xcf))var _0x1a5575=users['German'];else{if(_0x38ac62[0x0]['language']==_0x101565(0xb2))var _0x1a5575=users[_0x101565(0xb2)];else{if(_0x38ac62[0x0][_0x101565(0x104)]==_0x101565(0xb5))var _0x1a5575=users[_0x101565(0xb5)];else{if(_0x38ac62[0x0][_0x101565(0x104)]==_0x101565(0xcd))var _0x1a5575=users[_0x101565(0x107)];else{if(_0x38ac62[0x0][_0x101565(0x104)]==_0x101565(0xec))var _0x1a5575=users['Chinese'];else{if(_0x38ac62[0x0][_0x101565(0x104)]==_0x101565(0x111))var _0x1a5575=users[_0x101565(0xf9)];}}}}}}}_0x19f174[_0x101565(0xb9)](_0x101565(0x11e),{'success':_0x44ac58['flash']('success'),'errors':_0x44ac58[_0x101565(0xfd)](_0x101565(0xcc)),'role':_0x207e1d,'profile':_0x5a6701,'master_shop':_0x38ac62,'user':_0x11f53c,'language':_0x1a5575});}catch(_0x46734e){console[_0x101565(0x121)](_0x46734e);}}),router[a0_0xebae2b(0xb3)]('/view/:id',auth,async(_0x3668cf,_0x9652e7)=>{var _0x14122e=a0_0xebae2b;try{const {username:_0x51ca2c,email:_0x5a1783,role:_0x3687de}=_0x3668cf['user'],_0x472c21=_0x3668cf['user'],_0x27ac2f=await profile[_0x14122e(0x11a)]({'email':_0x472c21['email']}),_0x197191=await product[_0x14122e(0xbd)]({}),_0x6dc750=await master_shop[_0x14122e(0xbd)]();console[_0x14122e(0x121)](_0x14122e(0xd0),_0x6dc750),console['log'](_0x3668cf[_0x14122e(0x10e)]);const _0x39623d=_0x3668cf[_0x14122e(0xe5)]['id'],_0x3c3873=await purchases_return[_0x14122e(0xd4)](_0x39623d);console['log'](_0x3c3873);const _0x5e9a8a=await warehouse[_0x14122e(0x112)]([{'$match':{'name':_0x3c3873[_0x14122e(0x114)],'room':_0x3c3873[_0x14122e(0xb6)]}},{'$unwind':_0x14122e(0x119)},{'$group':{'_id':_0x14122e(0xc4),'name':{'$first':_0x14122e(0x10a)},'product_stock':{'$first':_0x14122e(0xff)},'bay':{'$first':_0x14122e(0x113)},'bin':{'$first':_0x14122e(0x131)},'type':{'$first':_0x14122e(0xd7)},'floorlevel':{'$first':_0x14122e(0xdf)},'primary_code':{'$first':'$product_details.primary_code'},'secondary_code':{'$first':'$product_details.secondary_code'},'product_code':{'$first':_0x14122e(0x130)},'storage':{'$first':_0x14122e(0xbb)},'rack':{'$first':_0x14122e(0xb7)}}}]);warehouse_data=await warehouse[_0x14122e(0x112)]([{'$match':{'status':_0x14122e(0x103),'name':_0x14122e(0xbe),'warehouse_category':_0x14122e(0xc7)}},{'$group':{'_id':'$name','name':{'$first':_0x14122e(0xbf)}}},{'$sort':{'name':0x1}}]),console['log'](_0x14122e(0x12e),_0x5e9a8a);if(_0x6dc750[0x0][_0x14122e(0x104)]==_0x14122e(0xf0)){var _0x4ae318=users[_0x14122e(0x12d)];console[_0x14122e(0x121)](_0x4ae318);}else{if(_0x6dc750[0x0][_0x14122e(0x104)]==_0x14122e(0xe6))var _0x4ae318=users[_0x14122e(0xe6)];else{if(_0x6dc750[0x0][_0x14122e(0x104)]==_0x14122e(0xcf))var _0x4ae318=users[_0x14122e(0xcf)];else{if(_0x6dc750[0x0]['language']==_0x14122e(0xb2))var _0x4ae318=users[_0x14122e(0xb2)];else{if(_0x6dc750[0x0]['language']==_0x14122e(0xb5))var _0x4ae318=users['French'];else{if(_0x6dc750[0x0][_0x14122e(0x104)]==_0x14122e(0xcd))var _0x4ae318=users['Portuguese'];else{if(_0x6dc750[0x0][_0x14122e(0x104)]=='Chinese')var _0x4ae318=users['Chinese'];else{if(_0x6dc750[0x0]['language']==_0x14122e(0x111))var _0x4ae318=users[_0x14122e(0xf9)];}}}}}}}_0x9652e7[_0x14122e(0xb9)](_0x14122e(0xbc),{'success':_0x3668cf[_0x14122e(0xfd)](_0x14122e(0x110)),'errors':_0x3668cf[_0x14122e(0xfd)](_0x14122e(0xcc)),'role':_0x472c21,'master_shop':_0x6dc750,'profile':_0x27ac2f,'user':_0x3c3873,'stock':_0x5e9a8a,'product':_0x197191,'language':_0x4ae318,'warehouse':warehouse_data});}catch(_0x3c9bec){console[_0x14122e(0x121)](_0x3c9bec);}}),router[a0_0xebae2b(0xe9)](a0_0xebae2b(0xed),auth,async(_0x1e6fe3,_0x167af3)=>{var _0x1c5102=a0_0xebae2b;try{const _0x2d37c0=_0x1e6fe3[_0x1c5102(0xe5)]['id'];console[_0x1c5102(0x121)](_0x2d37c0);const _0x402d29=await purchases_return['findOne']({'invoice':_0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0xef)]});console[_0x1c5102(0x121)](_0x1c5102(0x126),_0x402d29);const _0x159114=await warehouse[_0x1c5102(0x11a)]({'name':_0x402d29[_0x1c5102(0x116)],'room':_0x402d29[_0x1c5102(0xdd)]});console[_0x1c5102(0x121)]('old_warehouse_data',_0x159114);const {invoice:_0x39c8e8,suppliers:_0x409642,date:_0x2f56b6,warehouse_name:_0x2bbdba,product_name:_0x1e2c5f,purchase_quantity:_0x563510,stocks:_0x9dd5ac,return_qty:_0x206ee5,note:_0x5d9917,Room_name:_0x3f729b,level:_0x1f1fad,isle:_0x4ef376,pallet:_0x2c55ae,to_warehouse_name:_0x35234d,to_Room_name:_0x39c6e6}=_0x1e6fe3[_0x1c5102(0x10e)];if(typeof _0x1e2c5f=='string')var _0x3bbdd2=[_0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0xe7)]],_0x1faee3=[_0x1e6fe3['body'][_0x1c5102(0x117)]],_0x4af163=[_0x1e6fe3['body'][_0x1c5102(0x10f)]],_0x534188=[_0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0xfa)]],_0x4191b4=[_0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0xd2)]],_0x57ec83=[_0x1e6fe3['body']['isle']],_0x539eec=[_0x1e6fe3['body']['pallet']],_0x3e17f1=[_0x1e6fe3[_0x1c5102(0x10e)]['types']],_0x5f038a=[_0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0xc0)]],_0x24ed3f=[_0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0x124)]],_0x5a85fb=[_0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0xee)]];else var _0x3bbdd2=[..._0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0xe7)]],_0x1faee3=[..._0x1e6fe3[_0x1c5102(0x10e)]['purchase_quantity']],_0x4af163=[..._0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0x10f)]],_0x534188=[..._0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0xfa)]],_0x4191b4=[..._0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0xd2)]],_0x57ec83=[..._0x1e6fe3[_0x1c5102(0x10e)]['isle']],_0x539eec=[..._0x1e6fe3[_0x1c5102(0x10e)]['pallet']],_0x5f038a=[..._0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0xc0)]],_0x24ed3f=[..._0x1e6fe3['body'][_0x1c5102(0x124)]],_0x5a85fb=[..._0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0xee)]],_0x3e17f1=[..._0x1e6fe3['body']['types']];const _0x5924b5=_0x3bbdd2[_0x1c5102(0xba)](_0x437ac6=>{return _0x437ac6={'product_name':_0x437ac6};});_0x1faee3[_0x1c5102(0x128)]((_0x186052,_0x32d2d2)=>{var _0x50b1ba=_0x1c5102;_0x5924b5[_0x32d2d2][_0x50b1ba(0x117)]=_0x186052;}),_0x4af163[_0x1c5102(0x128)]((_0x3e6478,_0x4ebd96)=>{var _0x1be1d1=_0x1c5102;_0x5924b5[_0x4ebd96][_0x1be1d1(0xe1)]=_0x3e6478;}),_0x534188['forEach']((_0x5e8d40,_0x149660)=>{var _0x27a1cc=_0x1c5102;_0x5924b5[_0x149660][_0x27a1cc(0xfa)]=_0x5e8d40;}),_0x4191b4[_0x1c5102(0x128)]((_0x173f73,_0x4ea59b)=>{_0x5924b5[_0x4ea59b]['bay']=_0x173f73;}),_0x57ec83[_0x1c5102(0x128)]((_0x1b6a7b,_0x1ae387)=>{var _0x4030bd=_0x1c5102;_0x5924b5[_0x1ae387][_0x4030bd(0xb8)]=_0x1b6a7b;}),_0x539eec[_0x1c5102(0x128)]((_0x3edc38,_0x2a55b9)=>{var _0x1127f3=_0x1c5102;_0x5924b5[_0x2a55b9][_0x1127f3(0x127)]=_0x3edc38;}),_0x5f038a[_0x1c5102(0x128)]((_0x758fce,_0x3b9155)=>{var _0x122321=_0x1c5102;_0x5924b5[_0x3b9155][_0x122321(0xf3)]=_0x758fce;}),_0x24ed3f[_0x1c5102(0x128)]((_0x376a4f,_0x4f55fa)=>{_0x5924b5[_0x4f55fa]['primary_code']=_0x376a4f;}),_0x5a85fb[_0x1c5102(0x128)]((_0x32fe6a,_0xd1bda1)=>{var _0x5b9bc9=_0x1c5102;_0x5924b5[_0xd1bda1][_0x5b9bc9(0xf4)]=_0x32fe6a;}),_0x3e17f1[_0x1c5102(0x128)]((_0x184022,_0x409bde)=>{var _0x58bc27=_0x1c5102;_0x5924b5[_0x409bde][_0x58bc27(0xc9)]=_0x184022;});var _0xd0df5d=0x0;_0x5924b5[_0x1c5102(0x128)](_0x3c8d50=>{var _0x18a787=_0x1c5102;console['log'](_0x18a787(0x12f),_0x3c8d50),(parseInt(_0x3c8d50['purchase_quantity'])<parseInt(_0x3c8d50[_0x18a787(0xfa)])||parseInt(_0x3c8d50[_0x18a787(0xe1)])<parseInt(_0x3c8d50['return_qty'])||parseInt(_0x3c8d50[_0x18a787(0xfa)])==0x0)&&_0xd0df5d++;});if(_0xd0df5d!=0x0)return _0x1e6fe3[_0x1c5102(0xfd)](_0x1c5102(0xcc),_0x1c5102(0xce)),_0x167af3[_0x1c5102(0x100)](_0x1c5102(0x129));_0x402d29[_0x1c5102(0xfc)]['forEach'](_0x5169af=>{var _0x20f660=_0x1c5102;const _0xa244b5=_0x159114[_0x20f660(0xfb)][_0x20f660(0xba)](_0x2129e2=>{var _0x1b4f08=_0x20f660;_0x2129e2['product_name']==_0x5169af[_0x1b4f08(0xe7)]&&_0x2129e2[_0x1b4f08(0x127)]==_0x5169af[_0x1b4f08(0x127)]&&_0x2129e2[_0x1b4f08(0xc9)]==_0x5169af[_0x1b4f08(0xc9)]&&_0x2129e2[_0x1b4f08(0xb8)]==_0x5169af['bin']&&_0x2129e2['bay']==_0x5169af['bay']&&(_0x2129e2[_0x1b4f08(0x115)]=parseInt(_0x2129e2['product_stock'])+parseInt(_0x5169af[_0x1b4f08(0xfa)]));});}),console['log'](_0x1c5102(0xc3),_0x159114),await _0x159114[_0x1c5102(0xe2)](),_0x402d29['invoice']=_0x39c8e8,_0x402d29[_0x1c5102(0xd8)]=_0x409642,_0x402d29[_0x1c5102(0xea)]=_0x2f56b6,_0x402d29[_0x1c5102(0x114)]=_0x2bbdba,_0x402d29['return_product']=_0x5924b5,_0x402d29[_0x1c5102(0xe3)]=_0x5d9917,_0x402d29[_0x1c5102(0xb6)]=_0x3f729b,_0x402d29['to_warehouse_name']=_0x35234d,_0x402d29[_0x1c5102(0xdd)]=_0x39c6e6;const _0x15d010=await _0x402d29[_0x1c5102(0xe2)](),_0xf8b682=await purchases_return[_0x1c5102(0x11a)]({'invoice':_0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0xef)]}),_0x20f4f7=await warehouse['findOne']({'name':_0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0x116)],'room':_0x1e6fe3['body']['to_Room_name']});_0xf8b682['return_product'][_0x1c5102(0x128)](_0x199dbd=>{var _0x1b851e=_0x1c5102;_0x20f4f7[_0x1b851e(0xfb)][_0x1b851e(0xba)](_0x246c3a=>{var _0x17bf1e=_0x1b851e;_0x246c3a[_0x17bf1e(0xe7)]==_0x199dbd[_0x17bf1e(0xe7)]&&_0x246c3a[_0x17bf1e(0xda)]==_0x199dbd['pallet']&&(_0x246c3a[_0x17bf1e(0x115)]=parseInt(_0x246c3a['product_stock'])-parseInt(_0x199dbd[_0x17bf1e(0xfa)]),console[_0x17bf1e(0x121)]('product_details.return_qtyproduct_details.return_qty',_0x199dbd[_0x17bf1e(0xfa)]));});}),console[_0x1c5102(0x121)](_0x1c5102(0xe8),_0x20f4f7),await _0x20f4f7[_0x1c5102(0xe2)]();const _0x495e82=await s_payment_data[_0x1c5102(0x11a)]({'invoice':_0x1e6fe3[_0x1c5102(0x10e)][_0x1c5102(0xef)],'reason':_0x1c5102(0x10b)});await _0x495e82[_0x1c5102(0xe2)](),_0x1e6fe3[_0x1c5102(0xfd)](_0x1c5102(0x110),'purchase\x20return\x20successfully'),_0x167af3['redirect'](_0x1c5102(0x12c));}catch(_0x2a493e){console[_0x1c5102(0x121)](_0x2a493e),_0x167af3[_0x1c5102(0x132)](0xc8)['json']({'message':_0x2a493e[_0x1c5102(0xc6)]});}}),router['get']('/invoice/:id',auth,async(_0x4b1de3,_0x3770a6)=>{var _0x4d9215=a0_0xebae2b;try{const {username:_0x4e243c,email:_0x57b357,role:_0x51e776}=_0x4b1de3['user'],_0x4e4096=_0x4b1de3[_0x4d9215(0x12b)],_0x29f61e=await profile[_0x4d9215(0x11a)]({'email':_0x4e4096[_0x4d9215(0x11b)]}),_0x39b785=await master_shop[_0x4d9215(0xbd)]();console['log'](_0x4d9215(0xd0),_0x39b785);const _0x26d0c9=_0x4b1de3[_0x4d9215(0xe5)]['id'],_0x41f240=await purchases_return[_0x4d9215(0xd4)](_0x26d0c9);console[_0x4d9215(0x121)](_0x41f240);const _0x477470=await suppliers[_0x4d9215(0x11a)]({'name':_0x41f240[_0x4d9215(0xd8)]});console[_0x4d9215(0x121)](_0x477470);if(_0x39b785[0x0]['language']==_0x4d9215(0xf0)){var _0x16a538=users['English'];console[_0x4d9215(0x121)](_0x16a538);}else{if(_0x39b785[0x0]['language']=='Hindi')var _0x16a538=users[_0x4d9215(0xe6)];else{if(_0x39b785[0x0][_0x4d9215(0x104)]==_0x4d9215(0xcf))var _0x16a538=users['German'];else{if(_0x39b785[0x0][_0x4d9215(0x104)]=='Spanish')var _0x16a538=users[_0x4d9215(0xb2)];else{if(_0x39b785[0x0][_0x4d9215(0x104)]==_0x4d9215(0xb5))var _0x16a538=users[_0x4d9215(0xb5)];else{if(_0x39b785[0x0][_0x4d9215(0x104)]==_0x4d9215(0xcd))var _0x16a538=users[_0x4d9215(0x107)];else{if(_0x39b785[0x0][_0x4d9215(0x104)]==_0x4d9215(0xec))var _0x16a538=users[_0x4d9215(0xec)];else{if(_0x39b785[0x0]['language']==_0x4d9215(0x111))var _0x16a538=users['Arabic'];}}}}}}}_0x3770a6[_0x4d9215(0xb9)](_0x4d9215(0xcb),{'success':_0x4b1de3['flash'](_0x4d9215(0x110)),'errors':_0x4b1de3[_0x4d9215(0xfd)](_0x4d9215(0xcc)),'role':_0x4e4096,'profile':_0x29f61e,'master_shop':_0x39b785,'supplier':_0x477470,'purchase':_0x41f240,'language':_0x16a538});}catch(_0x13d285){console[_0x4d9215(0x121)](_0x13d285);}}),router[a0_0xebae2b(0xe9)]('/receive_payment/:id',auth,async(_0x35b22d,_0x302790)=>{var _0x48c4d9=a0_0xebae2b;try{const _0x57298d=_0x35b22d['params']['id'],{invoice:_0x2bfe29,suppliers:_0x50a7e7,receivable_amount:_0xf3b59a,received_amount:_0x99703e}=_0x35b22d[_0x48c4d9(0x10e)],_0x55832c=await purchases_return['findById'](_0x57298d);console[_0x48c4d9(0x121)](_0x55832c);var _0x52c9e0=_0xf3b59a-_0x99703e;console[_0x48c4d9(0x121)](_0x99703e),_0x55832c['received']=parseFloat(_0x99703e)+parseFloat(_0x55832c[_0x48c4d9(0x125)]),_0x55832c['due_amount']=_0x52c9e0,console[_0x48c4d9(0x121)](_0x55832c);const _0x1b44c9=await _0x55832c['save'](),_0x205b1e=await s_payment_data[_0x48c4d9(0x11a)]({'invoice':_0x35b22d['body'][_0x48c4d9(0xef)],'reason':_0x48c4d9(0x10b)});_0x205b1e[_0x48c4d9(0xdc)]=_0x52c9e0,await _0x205b1e[_0x48c4d9(0xe2)]();let _0x3d7e7b=new Date(),_0x588d7e=('0'+_0x3d7e7b[_0x48c4d9(0x11d)]())[_0x48c4d9(0x123)](-0x2),_0x4bec65=('0'+(_0x3d7e7b[_0x48c4d9(0xd3)]()+0x1))[_0x48c4d9(0x123)](-0x2),_0x4d2240=_0x3d7e7b[_0x48c4d9(0x122)](),_0x547b45=_0x4d2240+'-'+_0x4bec65+'-'+_0x588d7e;const _0x5ec235=new suppliers_payment({'invoice':_0x2bfe29,'date':_0x4d2240+'-'+_0x4bec65+'-'+_0x588d7e,'suppliers':_0x50a7e7,'reason':_0x48c4d9(0x11f),'amount':_0x99703e}),_0xc93613=await _0x5ec235[_0x48c4d9(0xe2)]();_0x35b22d[_0x48c4d9(0xfd)](_0x48c4d9(0x110),_0x48c4d9(0x109)),_0x302790[_0x48c4d9(0x100)](_0x48c4d9(0x12c));}catch(_0x4e8035){console[_0x48c4d9(0x121)](_0x4e8035);}}),module[a0_0xebae2b(0x133)]=router;