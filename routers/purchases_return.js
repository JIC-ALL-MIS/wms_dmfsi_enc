var a0_0x52d904=a0_0x36d7;function a0_0x36d7(_0xa9eac0,_0x3b9dfb){var _0x13b3b8=a0_0x13b3();return a0_0x36d7=function(_0x36d792,_0x4b7f43){_0x36d792=_0x36d792-0x13b;var _0x40c865=_0x13b3b8[_0x36d792];return _0x40c865;},a0_0x36d7(_0xa9eac0,_0x3b9dfb);}(function(_0x424900,_0x43b1a2){var _0x548eb7=a0_0x36d7,_0x12074f=_0x424900();while(!![]){try{var _0x2a899d=parseInt(_0x548eb7(0x19a))/0x1*(parseInt(_0x548eb7(0x16b))/0x2)+-parseInt(_0x548eb7(0x16f))/0x3+-parseInt(_0x548eb7(0x183))/0x4+parseInt(_0x548eb7(0x1ab))/0x5+-parseInt(_0x548eb7(0x162))/0x6+parseInt(_0x548eb7(0x17b))/0x7*(-parseInt(_0x548eb7(0x15c))/0x8)+parseInt(_0x548eb7(0x1bb))/0x9*(parseInt(_0x548eb7(0x17d))/0xa);if(_0x2a899d===_0x43b1a2)break;else _0x12074f['push'](_0x12074f['shift']());}catch(_0x4272d2){_0x12074f['push'](_0x12074f['shift']());}}}(a0_0x13b3,0xa9017));const express=require('express'),app=express(),router=express[a0_0x52d904(0x14e)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x52d904(0x16d)),auth=require(a0_0x52d904(0x18e)),users=require('../public/language/languages.json');function a0_0x13b3(){var _0x459ff3=['language','French','payment\x20successfull','/purchases_return/view','bay','Router','product_details','string','product_code_hide','Arabic\x20(ae)','$supplier_docs','slice','json','$product_details.product_name','$warehouse_name','bin','English','$product_details.secondary_code','/view/:id','72512dsCent','room','Return\x20Goods','English\x20(US)','$product_details._id','type','3982662Bsfhby','body','Portuguese\x20(BR)','find','stock_quantity','$product_details','Portuguese','status','invoice','11702WWJFqm','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','../models/all_models','Received\x20For\x20Purchase\x20Return','695271AvndkP','forEach','supplier_docs','$return_product.price','success','old_data','map','message','exports','save','to_Room_name','errors','84iEegPx','email','10sRgsaz','getDate','product_code','Purchase\x20Return','old_warehouse_data','primary_code_hide','522112SMzjHi','get','user','isle','German','$product_details.product_stock','$invoice','back','$name','due_amount','to_warehouse_name','../middleware/auth','types','getMonth','Spanish','return_purchase_edit','$return_product.return_qty','Chinese','return_purchase_invoice','return_product','product_details.return_qtyproduct_details.return_qty','suppliers','$return_product','63xTWuvc','getFullYear','return_qty','product_stock','flash','secondary_code_hide','$supplier_docs.email','floorlevel','$return_product.product_name','$supplier_docs.address','$supplier_docs.mobile','stock_data','params','purchase_quantity','primary_code','purchase\x20return\x20successfully','$suppliers','2709730zrcvPU','Raw\x20Materials','pallet','product_name','warehouse_name','stocks','findOne','log','master','foreach\x20newproduct','to_room','$product_details.floorlevel','$_id','$product_details.primary_code','$received','$receivable','8248662JYKauQ','level','findById','name','Enabled','$product_details.bin','Arabic','amount','redirect','aggregate','$product_details.product_code','secondary_code','final','Hindi','render'];a0_0x13b3=function(){return _0x459ff3;};return a0_0x13b3();}router[a0_0x52d904(0x184)]('/view',auth,async(_0x3c3189,_0x2c7222)=>{var _0x2aa3b4=a0_0x52d904;try{const {username:_0x1d66c6,email:_0x30e972,role:_0x47aec3}=_0x3c3189['user'],_0x4e5197=_0x3c3189[_0x2aa3b4(0x185)],_0x4821f5=await profile[_0x2aa3b4(0x1b1)]({'email':_0x4e5197[_0x2aa3b4(0x17c)]}),_0x380bd8=await master_shop['find']();console['log'](_0x2aa3b4(0x1b3),_0x380bd8);const _0x1e7615=await purchases_return[_0x2aa3b4(0x143)]([{'$lookup':{'from':'suppliers','localField':_0x2aa3b4(0x198),'foreignField':_0x2aa3b4(0x13d),'as':_0x2aa3b4(0x171)}},{'$unwind':_0x2aa3b4(0x199)},{'$unwind':_0x2aa3b4(0x153)},{'$group':{'_id':_0x2aa3b4(0x1b7),'invoice':{'$first':_0x2aa3b4(0x189)},'date':{'$first':'$date'},'suppliers':{'$first':_0x2aa3b4(0x1aa)},'warehouse_name':{'$first':_0x2aa3b4(0x157)},'product_name':{'$first':_0x2aa3b4(0x1a2)},'return_qty':{'$first':_0x2aa3b4(0x193)},'price':{'$first':_0x2aa3b4(0x172)},'total':{'$sum':'$return_product.total'},'note':{'$first':'$note'},'total_amount':{'$first':'$total_amount'},'discount':{'$first':'$discount'},'receivable':{'$first':_0x2aa3b4(0x1ba)},'received':{'$first':_0x2aa3b4(0x1b9)},'due_amount':{'$first':'$due_amount'},'mobile':{'$first':_0x2aa3b4(0x1a4)},'email':{'$first':_0x2aa3b4(0x1a0)},'address':{'$first':_0x2aa3b4(0x1a3)},'return_sum_qty':{'$sum':_0x2aa3b4(0x193)}}}]);console['log'](_0x1e7615);if(_0x380bd8[0x0]['language']==_0x2aa3b4(0x15f)){var _0x4e8115=users[_0x2aa3b4(0x159)];console[_0x2aa3b4(0x1b2)](_0x4e8115);}else{if(_0x380bd8[0x0][_0x2aa3b4(0x149)]==_0x2aa3b4(0x147))var _0x4e8115=users[_0x2aa3b4(0x147)];else{if(_0x380bd8[0x0][_0x2aa3b4(0x149)]=='German')var _0x4e8115=users['German'];else{if(_0x380bd8[0x0][_0x2aa3b4(0x149)]==_0x2aa3b4(0x191))var _0x4e8115=users['Spanish'];else{if(_0x380bd8[0x0]['language']==_0x2aa3b4(0x14a))var _0x4e8115=users[_0x2aa3b4(0x14a)];else{if(_0x380bd8[0x0][_0x2aa3b4(0x149)]==_0x2aa3b4(0x164))var _0x4e8115=users[_0x2aa3b4(0x168)];else{if(_0x380bd8[0x0][_0x2aa3b4(0x149)]=='Chinese')var _0x4e8115=users[_0x2aa3b4(0x194)];else{if(_0x380bd8[0x0][_0x2aa3b4(0x149)]==_0x2aa3b4(0x152))var _0x4e8115=users[_0x2aa3b4(0x140)];}}}}}}}_0x2c7222[_0x2aa3b4(0x148)]('purchases_return',{'success':_0x3c3189[_0x2aa3b4(0x19e)](_0x2aa3b4(0x173)),'errors':_0x3c3189['flash'](_0x2aa3b4(0x17a)),'role':_0x4e5197,'profile':_0x4821f5,'master_shop':_0x380bd8,'user':_0x1e7615,'language':_0x4e8115});}catch(_0x28a5ab){console['log'](_0x28a5ab);}}),router[a0_0x52d904(0x184)](a0_0x52d904(0x15b),auth,async(_0xe820fd,_0xb1a3cb)=>{var _0x1b686c=a0_0x52d904;try{const {username:_0xad4de9,email:_0x198574,role:_0x3c37a4}=_0xe820fd[_0x1b686c(0x185)],_0x20441d=_0xe820fd[_0x1b686c(0x185)],_0x59cf83=await profile[_0x1b686c(0x1b1)]({'email':_0x20441d['email']}),_0x20cd98=await product[_0x1b686c(0x165)]({}),_0x1c4748=await master_shop['find']();console[_0x1b686c(0x1b2)]('master',_0x1c4748),console[_0x1b686c(0x1b2)](_0xe820fd[_0x1b686c(0x163)]);const _0x93dd8a=_0xe820fd[_0x1b686c(0x1a6)]['id'],_0x2671ac=await purchases_return[_0x1b686c(0x13c)](_0x93dd8a);console[_0x1b686c(0x1b2)](_0x2671ac);const _0x142481=await warehouse[_0x1b686c(0x143)]([{'$match':{'name':_0x2671ac[_0x1b686c(0x1af)],'room':_0x2671ac[_0x1b686c(0x15d)]}},{'$unwind':_0x1b686c(0x167)},{'$group':{'_id':_0x1b686c(0x160),'name':{'$first':_0x1b686c(0x156)},'product_stock':{'$first':_0x1b686c(0x188)},'bay':{'$first':'$product_details.bay'},'bin':{'$first':_0x1b686c(0x13f)},'type':{'$first':'$product_details.type'},'floorlevel':{'$first':_0x1b686c(0x1b6)},'primary_code':{'$first':_0x1b686c(0x1b8)},'secondary_code':{'$first':_0x1b686c(0x15a)},'product_code':{'$first':_0x1b686c(0x144)},'storage':{'$first':'$product_details.storage'},'rack':{'$first':'$product_details.rack'}}}]);warehouse_data=await warehouse[_0x1b686c(0x143)]([{'$match':{'status':_0x1b686c(0x13e),'name':_0x1b686c(0x15e),'warehouse_category':_0x1b686c(0x1ac)}},{'$group':{'_id':_0x1b686c(0x18b),'name':{'$first':_0x1b686c(0x18b)}}},{'$sort':{'name':0x1}}]),console['log'](_0x1b686c(0x1a5),_0x142481);if(_0x1c4748[0x0][_0x1b686c(0x149)]==_0x1b686c(0x15f)){var _0x2417d8=users[_0x1b686c(0x159)];console[_0x1b686c(0x1b2)](_0x2417d8);}else{if(_0x1c4748[0x0]['language']==_0x1b686c(0x147))var _0x2417d8=users['Hindi'];else{if(_0x1c4748[0x0][_0x1b686c(0x149)]==_0x1b686c(0x187))var _0x2417d8=users['German'];else{if(_0x1c4748[0x0][_0x1b686c(0x149)]=='Spanish')var _0x2417d8=users[_0x1b686c(0x191)];else{if(_0x1c4748[0x0][_0x1b686c(0x149)]=='French')var _0x2417d8=users[_0x1b686c(0x14a)];else{if(_0x1c4748[0x0]['language']==_0x1b686c(0x164))var _0x2417d8=users[_0x1b686c(0x168)];else{if(_0x1c4748[0x0]['language']==_0x1b686c(0x194))var _0x2417d8=users[_0x1b686c(0x194)];else{if(_0x1c4748[0x0]['language']==_0x1b686c(0x152))var _0x2417d8=users[_0x1b686c(0x140)];}}}}}}}_0xb1a3cb[_0x1b686c(0x148)](_0x1b686c(0x192),{'success':_0xe820fd[_0x1b686c(0x19e)]('success'),'errors':_0xe820fd['flash'](_0x1b686c(0x17a)),'role':_0x20441d,'master_shop':_0x1c4748,'profile':_0x59cf83,'user':_0x2671ac,'stock':_0x142481,'product':_0x20cd98,'language':_0x2417d8,'warehouse':warehouse_data});}catch(_0x393575){console[_0x1b686c(0x1b2)](_0x393575);}}),router['post'](a0_0x52d904(0x15b),auth,async(_0x498d21,_0x5e6c8a)=>{var _0x2402d2=a0_0x52d904;try{const _0x37f0c4=_0x498d21[_0x2402d2(0x1a6)]['id'];console[_0x2402d2(0x1b2)](_0x37f0c4);const _0x82f6b=await purchases_return[_0x2402d2(0x1b1)]({'invoice':_0x498d21[_0x2402d2(0x163)]['invoice']});console[_0x2402d2(0x1b2)](_0x2402d2(0x174),_0x82f6b);const _0x22da79=await warehouse[_0x2402d2(0x1b1)]({'name':_0x82f6b['to_warehouse_name'],'room':_0x82f6b[_0x2402d2(0x1b5)]});console[_0x2402d2(0x1b2)]('old_warehouse_data',_0x22da79);const {invoice:_0x1b97bd,suppliers:_0x2d4899,date:_0x4e9ec2,warehouse_name:_0x4e9372,product_name:_0x538681,purchase_quantity:_0x324974,stocks:_0x21e512,return_qty:_0x198e39,note:_0x1d61c6,Room_name:_0x353f8f,level:_0x236320,isle:_0xf75d3e,pallet:_0x18454a,to_warehouse_name:_0x36db54,to_Room_name:_0x345677}=_0x498d21['body'];if(typeof _0x538681==_0x2402d2(0x150))var _0x235104=[_0x498d21[_0x2402d2(0x163)][_0x2402d2(0x1ae)]],_0x36b46c=[_0x498d21[_0x2402d2(0x163)]['purchase_quantity']],_0xe47e7e=[_0x498d21[_0x2402d2(0x163)][_0x2402d2(0x1b0)]],_0x1ff5da=[_0x498d21[_0x2402d2(0x163)]['return_qty']],_0x29517d=[_0x498d21[_0x2402d2(0x163)]['level']],_0x24d2ca=[_0x498d21[_0x2402d2(0x163)][_0x2402d2(0x186)]],_0x2830f2=[_0x498d21[_0x2402d2(0x163)][_0x2402d2(0x1ad)]],_0x57a858=[_0x498d21['body'][_0x2402d2(0x18f)]],_0x43380b=[_0x498d21[_0x2402d2(0x163)][_0x2402d2(0x151)]],_0x5a0a62=[_0x498d21[_0x2402d2(0x163)][_0x2402d2(0x182)]],_0x4d77e0=[_0x498d21[_0x2402d2(0x163)][_0x2402d2(0x19f)]];else var _0x235104=[..._0x498d21[_0x2402d2(0x163)]['product_name']],_0x36b46c=[..._0x498d21[_0x2402d2(0x163)]['purchase_quantity']],_0xe47e7e=[..._0x498d21[_0x2402d2(0x163)][_0x2402d2(0x1b0)]],_0x1ff5da=[..._0x498d21[_0x2402d2(0x163)][_0x2402d2(0x19c)]],_0x29517d=[..._0x498d21[_0x2402d2(0x163)][_0x2402d2(0x13b)]],_0x24d2ca=[..._0x498d21[_0x2402d2(0x163)]['isle']],_0x2830f2=[..._0x498d21[_0x2402d2(0x163)][_0x2402d2(0x1ad)]],_0x43380b=[..._0x498d21[_0x2402d2(0x163)][_0x2402d2(0x151)]],_0x5a0a62=[..._0x498d21[_0x2402d2(0x163)][_0x2402d2(0x182)]],_0x4d77e0=[..._0x498d21[_0x2402d2(0x163)][_0x2402d2(0x19f)]],_0x57a858=[..._0x498d21['body'][_0x2402d2(0x18f)]];const _0x476409=_0x235104[_0x2402d2(0x175)](_0x4676a5=>{return _0x4676a5={'product_name':_0x4676a5};});_0x36b46c['forEach']((_0x2c6404,_0x447487)=>{var _0x4a6a76=_0x2402d2;_0x476409[_0x447487][_0x4a6a76(0x1a7)]=_0x2c6404;}),_0xe47e7e[_0x2402d2(0x170)]((_0x1deb6c,_0x1066f5)=>{_0x476409[_0x1066f5]['stock_quantity']=_0x1deb6c;}),_0x1ff5da['forEach']((_0x1ed751,_0x4843a7)=>{var _0x5d7aca=_0x2402d2;_0x476409[_0x4843a7][_0x5d7aca(0x19c)]=_0x1ed751;}),_0x29517d[_0x2402d2(0x170)]((_0x52c86b,_0x19e656)=>{var _0x460914=_0x2402d2;_0x476409[_0x19e656][_0x460914(0x14d)]=_0x52c86b;}),_0x24d2ca[_0x2402d2(0x170)]((_0x3a6d76,_0x587fbf)=>{_0x476409[_0x587fbf]['bin']=_0x3a6d76;}),_0x2830f2[_0x2402d2(0x170)]((_0x3fc0e5,_0x26a4b5)=>{_0x476409[_0x26a4b5]['floorlevel']=_0x3fc0e5;}),_0x43380b[_0x2402d2(0x170)]((_0x59d584,_0x4dfdff)=>{var _0x5c990a=_0x2402d2;_0x476409[_0x4dfdff][_0x5c990a(0x17f)]=_0x59d584;}),_0x5a0a62[_0x2402d2(0x170)]((_0x4c4aac,_0x2a0cf1)=>{var _0x12b520=_0x2402d2;_0x476409[_0x2a0cf1][_0x12b520(0x1a8)]=_0x4c4aac;}),_0x4d77e0[_0x2402d2(0x170)]((_0x1fcfe2,_0x256cc9)=>{var _0x360e71=_0x2402d2;_0x476409[_0x256cc9][_0x360e71(0x145)]=_0x1fcfe2;}),_0x57a858[_0x2402d2(0x170)]((_0x37afa1,_0x2aa6fa)=>{var _0x55dd9a=_0x2402d2;_0x476409[_0x2aa6fa][_0x55dd9a(0x161)]=_0x37afa1;});var _0x37308b=0x0;_0x476409[_0x2402d2(0x170)](_0x5b574a=>{var _0x503733=_0x2402d2;console['log'](_0x503733(0x1b4),_0x5b574a),(parseInt(_0x5b574a[_0x503733(0x1a7)])<parseInt(_0x5b574a[_0x503733(0x19c)])||parseInt(_0x5b574a[_0x503733(0x166)])<parseInt(_0x5b574a[_0x503733(0x19c)])||parseInt(_0x5b574a[_0x503733(0x19c)])==0x0)&&_0x37308b++;});if(_0x37308b!=0x0)return _0x498d21[_0x2402d2(0x19e)](_0x2402d2(0x17a),_0x2402d2(0x16c)),_0x5e6c8a['redirect'](_0x2402d2(0x18a));_0x82f6b[_0x2402d2(0x196)]['forEach'](_0x3f8b47=>{var _0x421e7e=_0x2402d2;const _0x436780=_0x22da79[_0x421e7e(0x14f)]['map'](_0xfde503=>{var _0x2c2100=_0x421e7e;_0xfde503[_0x2c2100(0x1ae)]==_0x3f8b47['product_name']&&_0xfde503['floorlevel']==_0x3f8b47[_0x2c2100(0x1a1)]&&_0xfde503[_0x2c2100(0x161)]==_0x3f8b47[_0x2c2100(0x161)]&&_0xfde503['bin']==_0x3f8b47[_0x2c2100(0x158)]&&_0xfde503['bay']==_0x3f8b47[_0x2c2100(0x14d)]&&(_0xfde503[_0x2c2100(0x19d)]=parseInt(_0xfde503['product_stock'])+parseInt(_0x3f8b47[_0x2c2100(0x19c)]));});}),console[_0x2402d2(0x1b2)](_0x2402d2(0x181),_0x22da79),await _0x22da79['save'](),_0x82f6b[_0x2402d2(0x16a)]=_0x1b97bd,_0x82f6b[_0x2402d2(0x198)]=_0x2d4899,_0x82f6b['date']=_0x4e9ec2,_0x82f6b[_0x2402d2(0x1af)]=_0x4e9372,_0x82f6b['return_product']=_0x476409,_0x82f6b['note']=_0x1d61c6,_0x82f6b['room']=_0x353f8f,_0x82f6b['to_warehouse_name']=_0x36db54,_0x82f6b[_0x2402d2(0x1b5)]=_0x345677;const _0x391dd5=await _0x82f6b[_0x2402d2(0x178)](),_0x54e619=await purchases_return[_0x2402d2(0x1b1)]({'invoice':_0x498d21['body'][_0x2402d2(0x16a)]}),_0x5c5078=await warehouse['findOne']({'name':_0x498d21[_0x2402d2(0x163)][_0x2402d2(0x18d)],'room':_0x498d21[_0x2402d2(0x163)][_0x2402d2(0x179)]});_0x54e619[_0x2402d2(0x196)][_0x2402d2(0x170)](_0x17ead9=>{var _0x375f3d=_0x2402d2;_0x5c5078[_0x375f3d(0x14f)][_0x375f3d(0x175)](_0x27b670=>{var _0x287316=_0x375f3d;_0x27b670['product_name']==_0x17ead9['product_name']&&_0x27b670[_0x287316(0x1ad)]==_0x17ead9['pallet']&&(_0x27b670['product_stock']=parseInt(_0x27b670[_0x287316(0x19d)])-parseInt(_0x17ead9[_0x287316(0x19c)]),console[_0x287316(0x1b2)](_0x287316(0x197),_0x17ead9[_0x287316(0x19c)]));});}),console[_0x2402d2(0x1b2)](_0x2402d2(0x146),_0x5c5078),await _0x5c5078[_0x2402d2(0x178)]();const _0x2c361a=await s_payment_data['findOne']({'invoice':_0x498d21[_0x2402d2(0x163)][_0x2402d2(0x16a)],'reason':_0x2402d2(0x180)});await _0x2c361a[_0x2402d2(0x178)](),_0x498d21[_0x2402d2(0x19e)]('success',_0x2402d2(0x1a9)),_0x5e6c8a[_0x2402d2(0x142)](_0x2402d2(0x14c));}catch(_0x4070af){console[_0x2402d2(0x1b2)](_0x4070af),_0x5e6c8a[_0x2402d2(0x169)](0xc8)[_0x2402d2(0x155)]({'message':_0x4070af[_0x2402d2(0x176)]});}}),router[a0_0x52d904(0x184)]('/invoice/:id',auth,async(_0x7702f8,_0x2bd8c3)=>{var _0x3cdaae=a0_0x52d904;try{const {username:_0x2db7e8,email:_0x84fe6e,role:_0x13fb70}=_0x7702f8[_0x3cdaae(0x185)],_0x16efdf=_0x7702f8['user'],_0x49eb50=await profile[_0x3cdaae(0x1b1)]({'email':_0x16efdf[_0x3cdaae(0x17c)]}),_0x56ee9b=await master_shop[_0x3cdaae(0x165)]();console['log'](_0x3cdaae(0x1b3),_0x56ee9b);const _0xaa034d=_0x7702f8['params']['id'],_0x4e20f6=await purchases_return[_0x3cdaae(0x13c)](_0xaa034d);console[_0x3cdaae(0x1b2)](_0x4e20f6);const _0x468e74=await suppliers[_0x3cdaae(0x1b1)]({'name':_0x4e20f6[_0x3cdaae(0x198)]});console[_0x3cdaae(0x1b2)](_0x468e74);if(_0x56ee9b[0x0][_0x3cdaae(0x149)]=='English\x20(US)'){var _0x253ea7=users['English'];console['log'](_0x253ea7);}else{if(_0x56ee9b[0x0][_0x3cdaae(0x149)]==_0x3cdaae(0x147))var _0x253ea7=users[_0x3cdaae(0x147)];else{if(_0x56ee9b[0x0]['language']=='German')var _0x253ea7=users[_0x3cdaae(0x187)];else{if(_0x56ee9b[0x0]['language']=='Spanish')var _0x253ea7=users[_0x3cdaae(0x191)];else{if(_0x56ee9b[0x0]['language']=='French')var _0x253ea7=users[_0x3cdaae(0x14a)];else{if(_0x56ee9b[0x0]['language']==_0x3cdaae(0x164))var _0x253ea7=users[_0x3cdaae(0x168)];else{if(_0x56ee9b[0x0]['language']==_0x3cdaae(0x194))var _0x253ea7=users['Chinese'];else{if(_0x56ee9b[0x0][_0x3cdaae(0x149)]==_0x3cdaae(0x152))var _0x253ea7=users[_0x3cdaae(0x140)];}}}}}}}_0x2bd8c3[_0x3cdaae(0x148)](_0x3cdaae(0x195),{'success':_0x7702f8['flash']('success'),'errors':_0x7702f8[_0x3cdaae(0x19e)](_0x3cdaae(0x17a)),'role':_0x16efdf,'profile':_0x49eb50,'master_shop':_0x56ee9b,'supplier':_0x468e74,'purchase':_0x4e20f6,'language':_0x253ea7});}catch(_0x538718){console['log'](_0x538718);}}),router['post']('/receive_payment/:id',auth,async(_0x528e81,_0x292795)=>{var _0x39c649=a0_0x52d904;try{const _0x1f0e84=_0x528e81[_0x39c649(0x1a6)]['id'],{invoice:_0xdc211,suppliers:_0x3fadcb,receivable_amount:_0x49d194,received_amount:_0x199aaf}=_0x528e81[_0x39c649(0x163)],_0x54d0b3=await purchases_return[_0x39c649(0x13c)](_0x1f0e84);console['log'](_0x54d0b3);var _0x4705f8=_0x49d194-_0x199aaf;console[_0x39c649(0x1b2)](_0x199aaf),_0x54d0b3['received']=parseFloat(_0x199aaf)+parseFloat(_0x54d0b3['received']),_0x54d0b3[_0x39c649(0x18c)]=_0x4705f8,console['log'](_0x54d0b3);const _0x7389c9=await _0x54d0b3['save'](),_0x1e69b3=await s_payment_data[_0x39c649(0x1b1)]({'invoice':_0x528e81[_0x39c649(0x163)]['invoice'],'reason':_0x39c649(0x180)});_0x1e69b3[_0x39c649(0x141)]=_0x4705f8,await _0x1e69b3['save']();let _0xd93ae0=new Date(),_0x3a150f=('0'+_0xd93ae0[_0x39c649(0x17e)]())[_0x39c649(0x154)](-0x2),_0x4f8205=('0'+(_0xd93ae0[_0x39c649(0x190)]()+0x1))['slice'](-0x2),_0x36797a=_0xd93ae0[_0x39c649(0x19b)](),_0x3edce2=_0x36797a+'-'+_0x4f8205+'-'+_0x3a150f;const _0x4b98f1=new suppliers_payment({'invoice':_0xdc211,'date':_0x36797a+'-'+_0x4f8205+'-'+_0x3a150f,'suppliers':_0x3fadcb,'reason':_0x39c649(0x16e),'amount':_0x199aaf}),_0x515b2a=await _0x4b98f1[_0x39c649(0x178)]();_0x528e81['flash'](_0x39c649(0x173),_0x39c649(0x14b)),_0x292795[_0x39c649(0x142)](_0x39c649(0x14c));}catch(_0x302663){console['log'](_0x302663);}}),module[a0_0x52d904(0x177)]=router;