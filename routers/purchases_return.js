var a0_0x500e34=a0_0x1d8b;(function(_0x14c9aa,_0x28620a){var _0x497263=a0_0x1d8b,_0x440aa0=_0x14c9aa();while(!![]){try{var _0x2beaae=parseInt(_0x497263(0x99))/0x1*(-parseInt(_0x497263(0x74))/0x2)+-parseInt(_0x497263(0x6d))/0x3*(-parseInt(_0x497263(0xb1))/0x4)+parseInt(_0x497263(0xc9))/0x5*(parseInt(_0x497263(0xa7))/0x6)+-parseInt(_0x497263(0xcb))/0x7+-parseInt(_0x497263(0xcf))/0x8+-parseInt(_0x497263(0x84))/0x9+-parseInt(_0x497263(0x70))/0xa*(-parseInt(_0x497263(0xc8))/0xb);if(_0x2beaae===_0x28620a)break;else _0x440aa0['push'](_0x440aa0['shift']());}catch(_0x299c96){_0x440aa0['push'](_0x440aa0['shift']());}}}(a0_0x4d1f,0x3b7ba));function a0_0x1d8b(_0x5a8aaf,_0x8d662e){var _0x4d1f09=a0_0x4d1f();return a0_0x1d8b=function(_0x1d8bcd,_0x2b7619){_0x1d8bcd=_0x1d8bcd-0x69;var _0x40d1dd=_0x4d1f09[_0x1d8bcd];return _0x40d1dd;},a0_0x1d8b(_0x5a8aaf,_0x8d662e);}const express=require(a0_0x500e34(0x76)),app=express(),router=express[a0_0x500e34(0x73)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require('../models/all_models'),auth=require('../middleware/auth'),users=require('../public/language/languages.json');function a0_0x4d1f(){var _0x2826af=['invoice','language','getMonth','$product_details.storage','message','bin','bay','product_name','Enabled','Return\x20Goods','$_id','$product_details.bay','secondary_code_hide','type','final','log','11CNGGmj','205eLNutN','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','973140UFpUTo','payment\x20successfull','$product_details.product_name','return_qty','3182048JjOuvy','product_details','master','amount','$return_product.product_name','Spanish','$due_amount','Portuguese\x20(BR)','getFullYear','to_warehouse_name','$product_details','room','find','due_amount','$return_product.return_qty','to_room','Arabic\x20(ae)','/receive_payment/:id','forEach','secondary_code','save','old_data','level','purchase\x20return\x20successfully','foreach\x20newproduct','$supplier_docs.email','types','747CAqOIw','findOne','findById','5380980voQpIh','/purchases_return/view','Portuguese','Router','2mYwHts','$name','express','$return_product.total','get','supplier_docs','received','/view/:id','return_purchase_invoice','params','$total_amount','product_stock','errors','Purchase\x20Return','Arabic','Chinese','754794ARgqTh','Hindi','$supplier_docs.mobile','note','user','$return_product.price','isle','redirect','/view','product_code_hide','json','name','old_warehouse_data','success','$invoice','product_details.return_qtyproduct_details.return_qty','aggregate','exports','primary_code_hide','warehouse_name','floorlevel','72866AMyopY','$date','English','render','email','flash','map','post','$return_product','pallet','product_code','stocks','suppliers','$product_details.product_stock','8112DEvxcS','$product_details.primary_code','stock_quantity','purchase_quantity','slice','Received\x20For\x20Purchase\x20Return','German','Raw\x20Materials','French','$product_details.product_code','5520ymwdAG','return_purchase_edit','$product_details.bin','$supplier_docs.address','$product_details._id','body','$note'];a0_0x4d1f=function(){return _0x2826af;};return a0_0x4d1f();}router[a0_0x500e34(0x78)](a0_0x500e34(0x8c),auth,async(_0x479f29,_0x4425bb)=>{var _0x551cdc=a0_0x500e34;try{const {username:_0x6e58b3,email:_0x23fbce,role:_0x32dcf1}=_0x479f29[_0x551cdc(0x88)],_0x136945=_0x479f29['user'],_0x5e3ab1=await profile[_0x551cdc(0x6e)]({'email':_0x136945[_0x551cdc(0x9d)]}),_0x5ba308=await master_shop[_0x551cdc(0xdb)]();console[_0x551cdc(0xc7)](_0x551cdc(0xd1),_0x5ba308);const _0x60decb=await purchases_return[_0x551cdc(0x94)]([{'$lookup':{'from':_0x551cdc(0xa5),'localField':'suppliers','foreignField':_0x551cdc(0x8f),'as':_0x551cdc(0x79)}},{'$unwind':_0x551cdc(0xa1)},{'$unwind':'$supplier_docs'},{'$group':{'_id':_0x551cdc(0xc2),'invoice':{'$first':_0x551cdc(0x92)},'date':{'$first':_0x551cdc(0x9a)},'suppliers':{'$first':'$suppliers'},'warehouse_name':{'$first':'$warehouse_name'},'product_name':{'$first':_0x551cdc(0xd3)},'return_qty':{'$first':_0x551cdc(0xdd)},'price':{'$first':_0x551cdc(0x89)},'total':{'$sum':_0x551cdc(0x77)},'note':{'$first':_0x551cdc(0xb7)},'total_amount':{'$first':_0x551cdc(0x7e)},'discount':{'$first':'$discount'},'receivable':{'$first':'$receivable'},'received':{'$first':'$received'},'due_amount':{'$first':_0x551cdc(0xd5)},'mobile':{'$first':_0x551cdc(0x86)},'email':{'$first':_0x551cdc(0x6b)},'address':{'$first':_0x551cdc(0xb4)},'return_sum_qty':{'$sum':_0x551cdc(0xdd)}}}]);console['log'](_0x60decb);if(_0x5ba308[0x0][_0x551cdc(0xb9)]=='English\x20(US)'){var _0x28e69b=users['English'];console[_0x551cdc(0xc7)](_0x28e69b);}else{if(_0x5ba308[0x0]['language']==_0x551cdc(0x85))var _0x28e69b=users[_0x551cdc(0x85)];else{if(_0x5ba308[0x0][_0x551cdc(0xb9)]=='German')var _0x28e69b=users[_0x551cdc(0xad)];else{if(_0x5ba308[0x0]['language']==_0x551cdc(0xd4))var _0x28e69b=users[_0x551cdc(0xd4)];else{if(_0x5ba308[0x0][_0x551cdc(0xb9)]==_0x551cdc(0xaf))var _0x28e69b=users['French'];else{if(_0x5ba308[0x0][_0x551cdc(0xb9)]==_0x551cdc(0xd6))var _0x28e69b=users['Portuguese'];else{if(_0x5ba308[0x0][_0x551cdc(0xb9)]==_0x551cdc(0x83))var _0x28e69b=users[_0x551cdc(0x83)];else{if(_0x5ba308[0x0][_0x551cdc(0xb9)]==_0x551cdc(0xdf))var _0x28e69b=users['Arabic'];}}}}}}}_0x4425bb[_0x551cdc(0x9c)]('purchases_return',{'success':_0x479f29[_0x551cdc(0x9e)](_0x551cdc(0x91)),'errors':_0x479f29[_0x551cdc(0x9e)]('errors'),'role':_0x136945,'profile':_0x5e3ab1,'master_shop':_0x5ba308,'user':_0x60decb,'language':_0x28e69b});}catch(_0x58af3d){console[_0x551cdc(0xc7)](_0x58af3d);}}),router[a0_0x500e34(0x78)]('/view/:id',auth,async(_0x95113a,_0x38d4be)=>{var _0x4c7010=a0_0x500e34;try{const {username:_0x5a99b4,email:_0x1473e2,role:_0xda34b1}=_0x95113a['user'],_0xd8c797=_0x95113a['user'],_0x332e5e=await profile[_0x4c7010(0x6e)]({'email':_0xd8c797[_0x4c7010(0x9d)]}),_0x104b56=await product['find']({}),_0x3833a7=await master_shop['find']();console['log'](_0x4c7010(0xd1),_0x3833a7),console['log'](_0x95113a['body']);const _0x4e12c2=_0x95113a[_0x4c7010(0x7d)]['id'],_0x4a4ebb=await purchases_return[_0x4c7010(0x6f)](_0x4e12c2);console[_0x4c7010(0xc7)](_0x4a4ebb);const _0x1c123a=await warehouse[_0x4c7010(0x94)]([{'$match':{'name':_0x4a4ebb[_0x4c7010(0x97)],'room':_0x4a4ebb[_0x4c7010(0xda)]}},{'$unwind':_0x4c7010(0xd9)},{'$group':{'_id':_0x4c7010(0xb5),'name':{'$first':_0x4c7010(0xcd)},'product_stock':{'$first':_0x4c7010(0xa6)},'bay':{'$first':_0x4c7010(0xc3)},'bin':{'$first':_0x4c7010(0xb3)},'type':{'$first':'$product_details.type'},'floorlevel':{'$first':'$product_details.floorlevel'},'primary_code':{'$first':_0x4c7010(0xa8)},'secondary_code':{'$first':'$product_details.secondary_code'},'product_code':{'$first':_0x4c7010(0xb0)},'storage':{'$first':_0x4c7010(0xbb)},'rack':{'$first':'$product_details.rack'}}}]);warehouse_data=await warehouse[_0x4c7010(0x94)]([{'$match':{'status':_0x4c7010(0xc0),'name':_0x4c7010(0xc1),'warehouse_category':_0x4c7010(0xae)}},{'$group':{'_id':'$name','name':{'$first':_0x4c7010(0x75)}}},{'$sort':{'name':0x1}}]),console[_0x4c7010(0xc7)]('stock_data',_0x1c123a);if(_0x3833a7[0x0]['language']=='English\x20(US)'){var _0x45b4bc=users[_0x4c7010(0x9b)];console[_0x4c7010(0xc7)](_0x45b4bc);}else{if(_0x3833a7[0x0][_0x4c7010(0xb9)]==_0x4c7010(0x85))var _0x45b4bc=users[_0x4c7010(0x85)];else{if(_0x3833a7[0x0][_0x4c7010(0xb9)]==_0x4c7010(0xad))var _0x45b4bc=users[_0x4c7010(0xad)];else{if(_0x3833a7[0x0]['language']==_0x4c7010(0xd4))var _0x45b4bc=users['Spanish'];else{if(_0x3833a7[0x0]['language']==_0x4c7010(0xaf))var _0x45b4bc=users[_0x4c7010(0xaf)];else{if(_0x3833a7[0x0]['language']==_0x4c7010(0xd6))var _0x45b4bc=users[_0x4c7010(0x72)];else{if(_0x3833a7[0x0][_0x4c7010(0xb9)]=='Chinese')var _0x45b4bc=users[_0x4c7010(0x83)];else{if(_0x3833a7[0x0][_0x4c7010(0xb9)]=='Arabic\x20(ae)')var _0x45b4bc=users[_0x4c7010(0x82)];}}}}}}}_0x38d4be[_0x4c7010(0x9c)](_0x4c7010(0xb2),{'success':_0x95113a[_0x4c7010(0x9e)](_0x4c7010(0x91)),'errors':_0x95113a[_0x4c7010(0x9e)](_0x4c7010(0x80)),'role':_0xd8c797,'master_shop':_0x3833a7,'profile':_0x332e5e,'user':_0x4a4ebb,'stock':_0x1c123a,'product':_0x104b56,'language':_0x45b4bc,'warehouse':warehouse_data});}catch(_0x28bb7f){console[_0x4c7010(0xc7)](_0x28bb7f);}}),router[a0_0x500e34(0xa0)](a0_0x500e34(0x7b),auth,async(_0x2f9956,_0x838b7f)=>{var _0x10e62e=a0_0x500e34;try{const _0x1d12f2=_0x2f9956['params']['id'];console[_0x10e62e(0xc7)](_0x1d12f2);const _0x37eb62=await purchases_return[_0x10e62e(0x6e)]({'invoice':_0x2f9956[_0x10e62e(0xb6)][_0x10e62e(0xb8)]});console[_0x10e62e(0xc7)](_0x10e62e(0xe4),_0x37eb62);const _0x820e33=await warehouse[_0x10e62e(0x6e)]({'name':_0x37eb62[_0x10e62e(0xd8)],'room':_0x37eb62[_0x10e62e(0xde)]});console['log'](_0x10e62e(0x90),_0x820e33);const {invoice:_0x55008e,suppliers:_0x2ff246,date:_0x1f964f,warehouse_name:_0x4fcd6c,product_name:_0x567aad,purchase_quantity:_0x39219f,stocks:_0x2f19b4,return_qty:_0x3888ad,note:_0x1c64e1,Room_name:_0x17468c,level:_0x326788,isle:_0x5222e5,pallet:_0x49b3de,to_warehouse_name:_0x4b010f,to_Room_name:_0x490693}=_0x2f9956[_0x10e62e(0xb6)];if(typeof _0x567aad=='string')var _0x276cc8=[_0x2f9956[_0x10e62e(0xb6)]['product_name']],_0xf0c50=[_0x2f9956[_0x10e62e(0xb6)][_0x10e62e(0xaa)]],_0x575844=[_0x2f9956[_0x10e62e(0xb6)]['stocks']],_0x3bd519=[_0x2f9956['body'][_0x10e62e(0xce)]],_0x5e583a=[_0x2f9956[_0x10e62e(0xb6)][_0x10e62e(0xe5)]],_0x468799=[_0x2f9956[_0x10e62e(0xb6)][_0x10e62e(0x8a)]],_0x50cc74=[_0x2f9956[_0x10e62e(0xb6)][_0x10e62e(0xa2)]],_0x1a0d62=[_0x2f9956[_0x10e62e(0xb6)][_0x10e62e(0x6c)]],_0x2c299f=[_0x2f9956['body'][_0x10e62e(0x8d)]],_0x3edd95=[_0x2f9956[_0x10e62e(0xb6)]['primary_code_hide']],_0x275f79=[_0x2f9956[_0x10e62e(0xb6)][_0x10e62e(0xc4)]];else var _0x276cc8=[..._0x2f9956['body'][_0x10e62e(0xbf)]],_0xf0c50=[..._0x2f9956[_0x10e62e(0xb6)][_0x10e62e(0xaa)]],_0x575844=[..._0x2f9956[_0x10e62e(0xb6)][_0x10e62e(0xa4)]],_0x3bd519=[..._0x2f9956[_0x10e62e(0xb6)][_0x10e62e(0xce)]],_0x5e583a=[..._0x2f9956[_0x10e62e(0xb6)][_0x10e62e(0xe5)]],_0x468799=[..._0x2f9956[_0x10e62e(0xb6)]['isle']],_0x50cc74=[..._0x2f9956[_0x10e62e(0xb6)][_0x10e62e(0xa2)]],_0x2c299f=[..._0x2f9956[_0x10e62e(0xb6)][_0x10e62e(0x8d)]],_0x3edd95=[..._0x2f9956[_0x10e62e(0xb6)][_0x10e62e(0x96)]],_0x275f79=[..._0x2f9956[_0x10e62e(0xb6)]['secondary_code_hide']],_0x1a0d62=[..._0x2f9956[_0x10e62e(0xb6)]['types']];const _0x16900f=_0x276cc8[_0x10e62e(0x9f)](_0xea9e34=>{return _0xea9e34={'product_name':_0xea9e34};});_0xf0c50[_0x10e62e(0xe1)]((_0x233362,_0x44fee4)=>{var _0x37ccdb=_0x10e62e;_0x16900f[_0x44fee4][_0x37ccdb(0xaa)]=_0x233362;}),_0x575844[_0x10e62e(0xe1)]((_0x5af1d4,_0x3760c6)=>{_0x16900f[_0x3760c6]['stock_quantity']=_0x5af1d4;}),_0x3bd519['forEach']((_0x14add0,_0x469c9d)=>{var _0x55c5b8=_0x10e62e;_0x16900f[_0x469c9d][_0x55c5b8(0xce)]=_0x14add0;}),_0x5e583a['forEach']((_0x19c39f,_0xe74d6d)=>{var _0x47732d=_0x10e62e;_0x16900f[_0xe74d6d][_0x47732d(0xbe)]=_0x19c39f;}),_0x468799[_0x10e62e(0xe1)]((_0x1952a7,_0x1f0da7)=>{var _0x141cf1=_0x10e62e;_0x16900f[_0x1f0da7][_0x141cf1(0xbd)]=_0x1952a7;}),_0x50cc74[_0x10e62e(0xe1)]((_0x53c084,_0xc29ee4)=>{_0x16900f[_0xc29ee4]['floorlevel']=_0x53c084;}),_0x2c299f['forEach']((_0x4e7e19,_0x16c118)=>{var _0x58e4a3=_0x10e62e;_0x16900f[_0x16c118][_0x58e4a3(0xa3)]=_0x4e7e19;}),_0x3edd95[_0x10e62e(0xe1)]((_0x32fdd1,_0x5b08fd)=>{_0x16900f[_0x5b08fd]['primary_code']=_0x32fdd1;}),_0x275f79['forEach']((_0x54977d,_0x54665e)=>{var _0x3487a2=_0x10e62e;_0x16900f[_0x54665e][_0x3487a2(0xe2)]=_0x54977d;}),_0x1a0d62[_0x10e62e(0xe1)]((_0x4d2075,_0x1baadd)=>{_0x16900f[_0x1baadd]['type']=_0x4d2075;});var _0x238813=0x0;_0x16900f[_0x10e62e(0xe1)](_0x3b19c7=>{var _0x2985c0=_0x10e62e;console['log'](_0x2985c0(0x6a),_0x3b19c7),(parseInt(_0x3b19c7['purchase_quantity'])<parseInt(_0x3b19c7[_0x2985c0(0xce)])||parseInt(_0x3b19c7[_0x2985c0(0xa9)])<parseInt(_0x3b19c7[_0x2985c0(0xce)])||parseInt(_0x3b19c7['return_qty'])==0x0)&&_0x238813++;});if(_0x238813!=0x0)return _0x2f9956[_0x10e62e(0x9e)]('errors',_0x10e62e(0xca)),_0x838b7f[_0x10e62e(0x8b)]('back');_0x37eb62['return_product']['forEach'](_0x23c2b9=>{var _0x190591=_0x10e62e;const _0x5ba050=_0x820e33[_0x190591(0xd0)][_0x190591(0x9f)](_0x275836=>{var _0x37c54a=_0x190591;_0x275836[_0x37c54a(0xbf)]==_0x23c2b9[_0x37c54a(0xbf)]&&_0x275836['floorlevel']==_0x23c2b9[_0x37c54a(0x98)]&&_0x275836[_0x37c54a(0xc5)]==_0x23c2b9[_0x37c54a(0xc5)]&&_0x275836[_0x37c54a(0xbd)]==_0x23c2b9[_0x37c54a(0xbd)]&&_0x275836[_0x37c54a(0xbe)]==_0x23c2b9[_0x37c54a(0xbe)]&&(_0x275836[_0x37c54a(0x7f)]=parseInt(_0x275836[_0x37c54a(0x7f)])+parseInt(_0x23c2b9[_0x37c54a(0xce)]));});}),console['log'](_0x10e62e(0x90),_0x820e33),await _0x820e33[_0x10e62e(0xe3)](),_0x37eb62[_0x10e62e(0xb8)]=_0x55008e,_0x37eb62[_0x10e62e(0xa5)]=_0x2ff246,_0x37eb62['date']=_0x1f964f,_0x37eb62[_0x10e62e(0x97)]=_0x4fcd6c,_0x37eb62['return_product']=_0x16900f,_0x37eb62[_0x10e62e(0x87)]=_0x1c64e1,_0x37eb62[_0x10e62e(0xda)]=_0x17468c,_0x37eb62['to_warehouse_name']=_0x4b010f,_0x37eb62[_0x10e62e(0xde)]=_0x490693;const _0x275b91=await _0x37eb62['save'](),_0x208f61=await purchases_return[_0x10e62e(0x6e)]({'invoice':_0x2f9956['body'][_0x10e62e(0xb8)]}),_0x26f692=await warehouse[_0x10e62e(0x6e)]({'name':_0x2f9956[_0x10e62e(0xb6)]['to_warehouse_name'],'room':_0x2f9956[_0x10e62e(0xb6)]['to_Room_name']});_0x208f61['return_product'][_0x10e62e(0xe1)](_0xe2fe4c=>{var _0x3bc41b=_0x10e62e;_0x26f692[_0x3bc41b(0xd0)][_0x3bc41b(0x9f)](_0x3c5ff7=>{var _0x275f11=_0x3bc41b;_0x3c5ff7['product_name']==_0xe2fe4c[_0x275f11(0xbf)]&&_0x3c5ff7[_0x275f11(0xa2)]==_0xe2fe4c[_0x275f11(0xa2)]&&(_0x3c5ff7['product_stock']=parseInt(_0x3c5ff7[_0x275f11(0x7f)])-parseInt(_0xe2fe4c[_0x275f11(0xce)]),console['log'](_0x275f11(0x93),_0xe2fe4c[_0x275f11(0xce)]));});}),console[_0x10e62e(0xc7)](_0x10e62e(0xc6),_0x26f692),await _0x26f692['save']();const _0x4349cc=await s_payment_data['findOne']({'invoice':_0x2f9956[_0x10e62e(0xb6)][_0x10e62e(0xb8)],'reason':_0x10e62e(0x81)});await _0x4349cc[_0x10e62e(0xe3)](),_0x2f9956[_0x10e62e(0x9e)](_0x10e62e(0x91),_0x10e62e(0x69)),_0x838b7f[_0x10e62e(0x8b)](_0x10e62e(0x71));}catch(_0x545038){console['log'](_0x545038),_0x838b7f['status'](0xc8)[_0x10e62e(0x8e)]({'message':_0x545038[_0x10e62e(0xbc)]});}}),router['get']('/invoice/:id',auth,async(_0x5b4b77,_0x498a10)=>{var _0x29c942=a0_0x500e34;try{const {username:_0xdd3754,email:_0x265e69,role:_0x35229b}=_0x5b4b77['user'],_0x39d1bd=_0x5b4b77[_0x29c942(0x88)],_0x49eb6a=await profile[_0x29c942(0x6e)]({'email':_0x39d1bd['email']}),_0x2bcb4d=await master_shop[_0x29c942(0xdb)]();console[_0x29c942(0xc7)](_0x29c942(0xd1),_0x2bcb4d);const _0x289359=_0x5b4b77[_0x29c942(0x7d)]['id'],_0x53365c=await purchases_return[_0x29c942(0x6f)](_0x289359);console[_0x29c942(0xc7)](_0x53365c);const _0x465b52=await suppliers[_0x29c942(0x6e)]({'name':_0x53365c[_0x29c942(0xa5)]});console[_0x29c942(0xc7)](_0x465b52);if(_0x2bcb4d[0x0][_0x29c942(0xb9)]=='English\x20(US)'){var _0x12c078=users[_0x29c942(0x9b)];console[_0x29c942(0xc7)](_0x12c078);}else{if(_0x2bcb4d[0x0][_0x29c942(0xb9)]=='Hindi')var _0x12c078=users[_0x29c942(0x85)];else{if(_0x2bcb4d[0x0][_0x29c942(0xb9)]=='German')var _0x12c078=users[_0x29c942(0xad)];else{if(_0x2bcb4d[0x0]['language']==_0x29c942(0xd4))var _0x12c078=users[_0x29c942(0xd4)];else{if(_0x2bcb4d[0x0][_0x29c942(0xb9)]=='French')var _0x12c078=users['French'];else{if(_0x2bcb4d[0x0][_0x29c942(0xb9)]=='Portuguese\x20(BR)')var _0x12c078=users[_0x29c942(0x72)];else{if(_0x2bcb4d[0x0][_0x29c942(0xb9)]==_0x29c942(0x83))var _0x12c078=users['Chinese'];else{if(_0x2bcb4d[0x0][_0x29c942(0xb9)]==_0x29c942(0xdf))var _0x12c078=users[_0x29c942(0x82)];}}}}}}}_0x498a10[_0x29c942(0x9c)](_0x29c942(0x7c),{'success':_0x5b4b77[_0x29c942(0x9e)](_0x29c942(0x91)),'errors':_0x5b4b77['flash'](_0x29c942(0x80)),'role':_0x39d1bd,'profile':_0x49eb6a,'master_shop':_0x2bcb4d,'supplier':_0x465b52,'purchase':_0x53365c,'language':_0x12c078});}catch(_0xd94b08){console['log'](_0xd94b08);}}),router[a0_0x500e34(0xa0)](a0_0x500e34(0xe0),auth,async(_0x2485a8,_0x1cf3da)=>{var _0x23e118=a0_0x500e34;try{const _0x38108f=_0x2485a8['params']['id'],{invoice:_0x3f2cc5,suppliers:_0x5d4a32,receivable_amount:_0x542ade,received_amount:_0x2fdd53}=_0x2485a8[_0x23e118(0xb6)],_0x38ef90=await purchases_return['findById'](_0x38108f);console['log'](_0x38ef90);var _0x18ec1d=_0x542ade-_0x2fdd53;console[_0x23e118(0xc7)](_0x2fdd53),_0x38ef90[_0x23e118(0x7a)]=parseFloat(_0x2fdd53)+parseFloat(_0x38ef90['received']),_0x38ef90[_0x23e118(0xdc)]=_0x18ec1d,console[_0x23e118(0xc7)](_0x38ef90);const _0x57a6f6=await _0x38ef90[_0x23e118(0xe3)](),_0x150b77=await s_payment_data['findOne']({'invoice':_0x2485a8['body'][_0x23e118(0xb8)],'reason':_0x23e118(0x81)});_0x150b77[_0x23e118(0xd2)]=_0x18ec1d,await _0x150b77[_0x23e118(0xe3)]();let _0x515271=new Date(),_0x43a3c5=('0'+_0x515271['getDate']())[_0x23e118(0xab)](-0x2),_0x455bdf=('0'+(_0x515271[_0x23e118(0xba)]()+0x1))[_0x23e118(0xab)](-0x2),_0x2a40ba=_0x515271[_0x23e118(0xd7)](),_0x2b1d31=_0x2a40ba+'-'+_0x455bdf+'-'+_0x43a3c5;const _0x872424=new suppliers_payment({'invoice':_0x3f2cc5,'date':_0x2a40ba+'-'+_0x455bdf+'-'+_0x43a3c5,'suppliers':_0x5d4a32,'reason':_0x23e118(0xac),'amount':_0x2fdd53}),_0x58f66b=await _0x872424[_0x23e118(0xe3)]();_0x2485a8[_0x23e118(0x9e)](_0x23e118(0x91),_0x23e118(0xcc)),_0x1cf3da[_0x23e118(0x8b)]('/purchases_return/view');}catch(_0xaae71c){console['log'](_0xaae71c);}}),module[a0_0x500e34(0x95)]=router;