var a0_0x28060d=a0_0x3533;(function(_0x375299,_0x219f5b){var _0x13b6d9=a0_0x3533,_0x5e06ef=_0x375299();while(!![]){try{var _0x2f9915=parseInt(_0x13b6d9(0x12a))/0x1+-parseInt(_0x13b6d9(0xcf))/0x2+-parseInt(_0x13b6d9(0x117))/0x3*(parseInt(_0x13b6d9(0xf5))/0x4)+parseInt(_0x13b6d9(0x13d))/0x5*(parseInt(_0x13b6d9(0x141))/0x6)+parseInt(_0x13b6d9(0xf9))/0x7+-parseInt(_0x13b6d9(0x11e))/0x8+parseInt(_0x13b6d9(0x114))/0x9;if(_0x2f9915===_0x219f5b)break;else _0x5e06ef['push'](_0x5e06ef['shift']());}catch(_0x3dc8fc){_0x5e06ef['push'](_0x5e06ef['shift']());}}}(a0_0x3226,0x45a63));function a0_0x3533(_0x17e49e,_0x32b53b){var _0x3226f2=a0_0x3226();return a0_0x3533=function(_0x35335d,_0x1e5c3e){_0x35335d=_0x35335d-0xcc;var _0x5c445c=_0x3226f2[_0x35335d];return _0x5c445c;},a0_0x3533(_0x17e49e,_0x32b53b);}const express=require(a0_0x28060d(0x102)),app=express(),router=express[a0_0x28060d(0xdd)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x28060d(0x10d)),auth=require(a0_0x28060d(0x13f)),users=require('../public/language/languages.json');function a0_0x3226(){var _0x38f85e=['flash','product_details','log','Received\x20For\x20Purchase\x20Return','bay','$product_details.type','1925985dLDvfz','old_warehouse_data','../middleware/auth','Purchase\x20Return','6mNXxLr','master','body','$product_details.rack','$date','Hindi','$_id','purchase_quantity','Return\x20Goods','$return_product.product_name','$warehouse_name','return_product','primary_code','findOne','556754wvjNpI','date','stock_quantity','room','supplier_docs','$product_details.storage','product_details.return_qtyproduct_details.return_qty','English','errors','getMonth','string','$return_product','final','post','Router','German','to_warehouse_name','$receivable','type','/view/:id','foreach\x20newproduct','to_room','return_qty','note','aggregate','$product_details.product_code','render','Chinese','name','user','to_Room_name','$return_product.return_qty','find','Portuguese\x20(BR)','$return_product.price','$product_details.bin','map','Raw\x20Materials','343376QzDQoY','product_name','purchase\x20return\x20successfully','old_data','1721755SOGCVe','primary_code_hide','$supplier_docs.address','invoice','$return_product.total','/view','isle','product_code_hide','suppliers','express','Spanish','exports','status','$product_details.bay','floorlevel','Arabic\x20(ae)','language','bin','save','product_stock','../models/all_models','params','email','English\x20(US)','slice','success','French','2007405aGDYpp','/receive_payment/:id','return_purchase_invoice','9DoqIZR','forEach','secondary_code_hide','$product_details.primary_code','$due_amount','$name','$supplier_docs','3744760uPkZkN','warehouse_name','stock_data','$invoice','getFullYear','$note','/purchases_return/view','$supplier_docs.mobile','Enabled','$product_details.secondary_code','Arabic','$supplier_docs.email','435080HxeUbJ','return_purchase_edit','$suppliers','get','$product_details.floorlevel','getDate','$product_details.product_stock','types','secondary_code','received','redirect','payment\x20successfull','findById'];a0_0x3226=function(){return _0x38f85e;};return a0_0x3226();}router[a0_0x28060d(0x12d)](a0_0x28060d(0xfe),auth,async(_0x52b0f4,_0x1c2eb1)=>{var _0x55bd7e=a0_0x28060d;try{const {username:_0x51884d,email:_0xf1b569,role:_0x4142b5}=_0x52b0f4['user'],_0x3e6474=_0x52b0f4['user'],_0x4d57e4=await profile[_0x55bd7e(0xce)]({'email':_0x3e6474[_0x55bd7e(0x10f)]}),_0x452a4d=await master_shop[_0x55bd7e(0xef)]();console['log'](_0x55bd7e(0x142),_0x452a4d);const _0x299996=await purchases_return[_0x55bd7e(0xe7)]([{'$lookup':{'from':'suppliers','localField':_0x55bd7e(0x101),'foreignField':_0x55bd7e(0xeb),'as':_0x55bd7e(0xd3)}},{'$unwind':_0x55bd7e(0xda)},{'$unwind':_0x55bd7e(0x11d)},{'$group':{'_id':_0x55bd7e(0x147),'invoice':{'$first':_0x55bd7e(0x121)},'date':{'$first':_0x55bd7e(0x145)},'suppliers':{'$first':_0x55bd7e(0x12c)},'warehouse_name':{'$first':_0x55bd7e(0x14b)},'product_name':{'$first':_0x55bd7e(0x14a)},'return_qty':{'$first':_0x55bd7e(0xee)},'price':{'$first':_0x55bd7e(0xf1)},'total':{'$sum':_0x55bd7e(0xfd)},'note':{'$first':_0x55bd7e(0x123)},'total_amount':{'$first':'$total_amount'},'discount':{'$first':'$discount'},'receivable':{'$first':_0x55bd7e(0xe0)},'received':{'$first':'$received'},'due_amount':{'$first':_0x55bd7e(0x11b)},'mobile':{'$first':_0x55bd7e(0x125)},'email':{'$first':_0x55bd7e(0x129)},'address':{'$first':_0x55bd7e(0xfb)},'return_sum_qty':{'$sum':'$return_product.return_qty'}}}]);console[_0x55bd7e(0x139)](_0x299996);if(_0x452a4d[0x0][_0x55bd7e(0x109)]==_0x55bd7e(0x110)){var _0x5bbb94=users['English'];console[_0x55bd7e(0x139)](_0x5bbb94);}else{if(_0x452a4d[0x0][_0x55bd7e(0x109)]==_0x55bd7e(0x146))var _0x5bbb94=users[_0x55bd7e(0x146)];else{if(_0x452a4d[0x0][_0x55bd7e(0x109)]=='German')var _0x5bbb94=users['German'];else{if(_0x452a4d[0x0][_0x55bd7e(0x109)]==_0x55bd7e(0x103))var _0x5bbb94=users[_0x55bd7e(0x103)];else{if(_0x452a4d[0x0][_0x55bd7e(0x109)]=='French')var _0x5bbb94=users[_0x55bd7e(0x113)];else{if(_0x452a4d[0x0][_0x55bd7e(0x109)]==_0x55bd7e(0xf0))var _0x5bbb94=users['Portuguese'];else{if(_0x452a4d[0x0][_0x55bd7e(0x109)]==_0x55bd7e(0xea))var _0x5bbb94=users[_0x55bd7e(0xea)];else{if(_0x452a4d[0x0][_0x55bd7e(0x109)]=='Arabic\x20(ae)')var _0x5bbb94=users[_0x55bd7e(0x128)];}}}}}}}_0x1c2eb1[_0x55bd7e(0xe9)]('purchases_return',{'success':_0x52b0f4[_0x55bd7e(0x137)](_0x55bd7e(0x112)),'errors':_0x52b0f4['flash']('errors'),'role':_0x3e6474,'profile':_0x4d57e4,'master_shop':_0x452a4d,'user':_0x299996,'language':_0x5bbb94});}catch(_0xd1d30){console[_0x55bd7e(0x139)](_0xd1d30);}}),router['get'](a0_0x28060d(0xe2),auth,async(_0x4bfbb7,_0x2ae898)=>{var _0x3c846a=a0_0x28060d;try{const {username:_0x2bf157,email:_0xb72a96,role:_0x1abc44}=_0x4bfbb7[_0x3c846a(0xec)],_0x203130=_0x4bfbb7['user'],_0x2962db=await profile[_0x3c846a(0xce)]({'email':_0x203130[_0x3c846a(0x10f)]}),_0x5af474=await product[_0x3c846a(0xef)]({}),_0x139011=await master_shop['find']();console[_0x3c846a(0x139)](_0x3c846a(0x142),_0x139011),console[_0x3c846a(0x139)](_0x4bfbb7[_0x3c846a(0x143)]);const _0x11743a=_0x4bfbb7[_0x3c846a(0x10e)]['id'],_0xcd8794=await purchases_return[_0x3c846a(0x136)](_0x11743a);console['log'](_0xcd8794);const _0x882144=await warehouse[_0x3c846a(0xe7)]([{'$match':{'name':_0xcd8794[_0x3c846a(0x11f)],'room':_0xcd8794[_0x3c846a(0xd2)]}},{'$unwind':'$product_details'},{'$group':{'_id':'$product_details._id','name':{'$first':'$product_details.product_name'},'product_stock':{'$first':_0x3c846a(0x130)},'bay':{'$first':_0x3c846a(0x106)},'bin':{'$first':_0x3c846a(0xf2)},'type':{'$first':_0x3c846a(0x13c)},'floorlevel':{'$first':_0x3c846a(0x12e)},'primary_code':{'$first':_0x3c846a(0x11a)},'secondary_code':{'$first':_0x3c846a(0x127)},'product_code':{'$first':_0x3c846a(0xe8)},'storage':{'$first':_0x3c846a(0xd4)},'rack':{'$first':_0x3c846a(0x144)}}}]);warehouse_data=await warehouse[_0x3c846a(0xe7)]([{'$match':{'status':_0x3c846a(0x126),'name':_0x3c846a(0x149),'warehouse_category':_0x3c846a(0xf4)}},{'$group':{'_id':_0x3c846a(0x11c),'name':{'$first':'$name'}}},{'$sort':{'name':0x1}}]),console['log'](_0x3c846a(0x120),_0x882144);if(_0x139011[0x0][_0x3c846a(0x109)]==_0x3c846a(0x110)){var _0x336139=users[_0x3c846a(0xd6)];console[_0x3c846a(0x139)](_0x336139);}else{if(_0x139011[0x0][_0x3c846a(0x109)]==_0x3c846a(0x146))var _0x336139=users[_0x3c846a(0x146)];else{if(_0x139011[0x0]['language']==_0x3c846a(0xde))var _0x336139=users[_0x3c846a(0xde)];else{if(_0x139011[0x0][_0x3c846a(0x109)]==_0x3c846a(0x103))var _0x336139=users['Spanish'];else{if(_0x139011[0x0][_0x3c846a(0x109)]==_0x3c846a(0x113))var _0x336139=users['French'];else{if(_0x139011[0x0]['language']==_0x3c846a(0xf0))var _0x336139=users['Portuguese'];else{if(_0x139011[0x0]['language']==_0x3c846a(0xea))var _0x336139=users['Chinese'];else{if(_0x139011[0x0]['language']==_0x3c846a(0x108))var _0x336139=users[_0x3c846a(0x128)];}}}}}}}_0x2ae898[_0x3c846a(0xe9)](_0x3c846a(0x12b),{'success':_0x4bfbb7[_0x3c846a(0x137)](_0x3c846a(0x112)),'errors':_0x4bfbb7['flash'](_0x3c846a(0xd7)),'role':_0x203130,'master_shop':_0x139011,'profile':_0x2962db,'user':_0xcd8794,'stock':_0x882144,'product':_0x5af474,'language':_0x336139,'warehouse':warehouse_data});}catch(_0x480709){console['log'](_0x480709);}}),router['post']('/view/:id',auth,async(_0x530bbb,_0x4014da)=>{var _0x575cba=a0_0x28060d;try{const _0x289b63=_0x530bbb['params']['id'];console[_0x575cba(0x139)](_0x289b63);const _0xaa0450=await purchases_return[_0x575cba(0xce)]({'invoice':_0x530bbb[_0x575cba(0x143)]['invoice']});console[_0x575cba(0x139)](_0x575cba(0xf8),_0xaa0450);const _0x4ef8cc=await warehouse[_0x575cba(0xce)]({'name':_0xaa0450[_0x575cba(0xdf)],'room':_0xaa0450['to_room']});console['log'](_0x575cba(0x13e),_0x4ef8cc);const {invoice:_0x4f7646,suppliers:_0x18c46a,date:_0x19ea02,warehouse_name:_0x2c3882,product_name:_0x4486db,purchase_quantity:_0x2b9233,stocks:_0x5a53a4,return_qty:_0x3fc584,note:_0x89d047,Room_name:_0x329f23,level:_0x728972,isle:_0x4e163b,pallet:_0x3fc393,to_warehouse_name:_0x32556a,to_Room_name:_0x3074f9}=_0x530bbb[_0x575cba(0x143)];if(typeof _0x4486db==_0x575cba(0xd9))var _0x34f79c=[_0x530bbb['body'][_0x575cba(0xf6)]],_0x657625=[_0x530bbb['body'][_0x575cba(0x148)]],_0x31ba25=[_0x530bbb[_0x575cba(0x143)]['stocks']],_0x3a3712=[_0x530bbb[_0x575cba(0x143)]['return_qty']],_0x3ee007=[_0x530bbb[_0x575cba(0x143)]['level']],_0x1ae810=[_0x530bbb['body']['isle']],_0x9498d4=[_0x530bbb[_0x575cba(0x143)]['pallet']],_0x1f73c0=[_0x530bbb[_0x575cba(0x143)][_0x575cba(0x131)]],_0x67567d=[_0x530bbb[_0x575cba(0x143)][_0x575cba(0x100)]],_0x22c8bd=[_0x530bbb['body'][_0x575cba(0xfa)]],_0x3914ac=[_0x530bbb[_0x575cba(0x143)][_0x575cba(0x119)]];else var _0x34f79c=[..._0x530bbb[_0x575cba(0x143)][_0x575cba(0xf6)]],_0x657625=[..._0x530bbb[_0x575cba(0x143)][_0x575cba(0x148)]],_0x31ba25=[..._0x530bbb[_0x575cba(0x143)]['stocks']],_0x3a3712=[..._0x530bbb[_0x575cba(0x143)][_0x575cba(0xe5)]],_0x3ee007=[..._0x530bbb[_0x575cba(0x143)]['level']],_0x1ae810=[..._0x530bbb[_0x575cba(0x143)][_0x575cba(0xff)]],_0x9498d4=[..._0x530bbb[_0x575cba(0x143)]['pallet']],_0x67567d=[..._0x530bbb['body'][_0x575cba(0x100)]],_0x22c8bd=[..._0x530bbb[_0x575cba(0x143)][_0x575cba(0xfa)]],_0x3914ac=[..._0x530bbb[_0x575cba(0x143)][_0x575cba(0x119)]],_0x1f73c0=[..._0x530bbb['body'][_0x575cba(0x131)]];const _0x1f9771=_0x34f79c['map'](_0x4ba577=>{return _0x4ba577={'product_name':_0x4ba577};});_0x657625[_0x575cba(0x118)]((_0x51fd3a,_0x32518a)=>{var _0x5f5d9c=_0x575cba;_0x1f9771[_0x32518a][_0x5f5d9c(0x148)]=_0x51fd3a;}),_0x31ba25['forEach']((_0x494c3f,_0x3eda15)=>{var _0x2813a9=_0x575cba;_0x1f9771[_0x3eda15][_0x2813a9(0xd1)]=_0x494c3f;}),_0x3a3712[_0x575cba(0x118)]((_0x39fb2a,_0x508d7d)=>{var _0x43e105=_0x575cba;_0x1f9771[_0x508d7d][_0x43e105(0xe5)]=_0x39fb2a;}),_0x3ee007[_0x575cba(0x118)]((_0x33b67c,_0x5484fa)=>{var _0x2a7099=_0x575cba;_0x1f9771[_0x5484fa][_0x2a7099(0x13b)]=_0x33b67c;}),_0x1ae810['forEach']((_0x3ea150,_0x22258a)=>{var _0x3d377a=_0x575cba;_0x1f9771[_0x22258a][_0x3d377a(0x10a)]=_0x3ea150;}),_0x9498d4[_0x575cba(0x118)]((_0x3d522e,_0x5094e1)=>{var _0x42ae2a=_0x575cba;_0x1f9771[_0x5094e1][_0x42ae2a(0x107)]=_0x3d522e;}),_0x67567d[_0x575cba(0x118)]((_0x2b2259,_0x43ebe5)=>{_0x1f9771[_0x43ebe5]['product_code']=_0x2b2259;}),_0x22c8bd[_0x575cba(0x118)]((_0x50647c,_0x27bf83)=>{var _0x42bc40=_0x575cba;_0x1f9771[_0x27bf83][_0x42bc40(0xcd)]=_0x50647c;}),_0x3914ac[_0x575cba(0x118)]((_0x24c422,_0x386d14)=>{var _0x348684=_0x575cba;_0x1f9771[_0x386d14][_0x348684(0x132)]=_0x24c422;}),_0x1f73c0[_0x575cba(0x118)]((_0x3dc6bf,_0x1727e6)=>{var _0x3b27cd=_0x575cba;_0x1f9771[_0x1727e6][_0x3b27cd(0xe1)]=_0x3dc6bf;});var _0x525b90=0x0;_0x1f9771[_0x575cba(0x118)](_0x45ea9a=>{var _0x9c008b=_0x575cba;console[_0x9c008b(0x139)](_0x9c008b(0xe3),_0x45ea9a),(parseInt(_0x45ea9a[_0x9c008b(0x148)])<parseInt(_0x45ea9a[_0x9c008b(0xe5)])||parseInt(_0x45ea9a[_0x9c008b(0xd1)])<parseInt(_0x45ea9a[_0x9c008b(0xe5)])||parseInt(_0x45ea9a['return_qty'])==0x0)&&_0x525b90++;});if(_0x525b90!=0x0)return _0x530bbb[_0x575cba(0x137)](_0x575cba(0xd7),'Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty'),_0x4014da[_0x575cba(0x134)]('back');_0xaa0450[_0x575cba(0xcc)][_0x575cba(0x118)](_0x3cb402=>{var _0x5f3905=_0x575cba;const _0x48748b=_0x4ef8cc[_0x5f3905(0x138)][_0x5f3905(0xf3)](_0x354c53=>{var _0x236d7d=_0x5f3905;_0x354c53['product_name']==_0x3cb402[_0x236d7d(0xf6)]&&_0x354c53[_0x236d7d(0x107)]==_0x3cb402[_0x236d7d(0x107)]&&_0x354c53[_0x236d7d(0xe1)]==_0x3cb402[_0x236d7d(0xe1)]&&_0x354c53[_0x236d7d(0x10a)]==_0x3cb402['bin']&&_0x354c53[_0x236d7d(0x13b)]==_0x3cb402[_0x236d7d(0x13b)]&&(_0x354c53[_0x236d7d(0x10c)]=parseInt(_0x354c53[_0x236d7d(0x10c)])+parseInt(_0x3cb402[_0x236d7d(0xe5)]));});}),console[_0x575cba(0x139)](_0x575cba(0x13e),_0x4ef8cc),await _0x4ef8cc[_0x575cba(0x10b)](),_0xaa0450[_0x575cba(0xfc)]=_0x4f7646,_0xaa0450[_0x575cba(0x101)]=_0x18c46a,_0xaa0450[_0x575cba(0xd0)]=_0x19ea02,_0xaa0450[_0x575cba(0x11f)]=_0x2c3882,_0xaa0450[_0x575cba(0xcc)]=_0x1f9771,_0xaa0450[_0x575cba(0xe6)]=_0x89d047,_0xaa0450[_0x575cba(0xd2)]=_0x329f23,_0xaa0450[_0x575cba(0xdf)]=_0x32556a,_0xaa0450[_0x575cba(0xe4)]=_0x3074f9;const _0x290041=await _0xaa0450[_0x575cba(0x10b)](),_0xe9afae=await purchases_return['findOne']({'invoice':_0x530bbb[_0x575cba(0x143)][_0x575cba(0xfc)]}),_0x871cd5=await warehouse[_0x575cba(0xce)]({'name':_0x530bbb['body'][_0x575cba(0xdf)],'room':_0x530bbb[_0x575cba(0x143)][_0x575cba(0xed)]});_0xe9afae[_0x575cba(0xcc)][_0x575cba(0x118)](_0x5d2fd6=>{var _0x41e969=_0x575cba;_0x871cd5[_0x41e969(0x138)][_0x41e969(0xf3)](_0x55191a=>{var _0xbfe2b7=_0x41e969;_0x55191a[_0xbfe2b7(0xf6)]==_0x5d2fd6[_0xbfe2b7(0xf6)]&&_0x55191a['pallet']==_0x5d2fd6['pallet']&&(_0x55191a[_0xbfe2b7(0x10c)]=parseInt(_0x55191a[_0xbfe2b7(0x10c)])-parseInt(_0x5d2fd6[_0xbfe2b7(0xe5)]),console[_0xbfe2b7(0x139)](_0xbfe2b7(0xd5),_0x5d2fd6['return_qty']));});}),console[_0x575cba(0x139)](_0x575cba(0xdb),_0x871cd5),await _0x871cd5[_0x575cba(0x10b)]();const _0x443811=await s_payment_data[_0x575cba(0xce)]({'invoice':_0x530bbb[_0x575cba(0x143)][_0x575cba(0xfc)],'reason':'Purchase\x20Return'});await _0x443811['save'](),_0x530bbb[_0x575cba(0x137)](_0x575cba(0x112),_0x575cba(0xf7)),_0x4014da['redirect'](_0x575cba(0x124));}catch(_0x514376){console[_0x575cba(0x139)](_0x514376),_0x4014da[_0x575cba(0x105)](0xc8)['json']({'message':_0x514376['message']});}}),router[a0_0x28060d(0x12d)]('/invoice/:id',auth,async(_0x59103a,_0x525f3a)=>{var _0x2bfb50=a0_0x28060d;try{const {username:_0x1ef5d0,email:_0x3717be,role:_0x44d191}=_0x59103a['user'],_0x21fd82=_0x59103a[_0x2bfb50(0xec)],_0x3ced96=await profile[_0x2bfb50(0xce)]({'email':_0x21fd82[_0x2bfb50(0x10f)]}),_0x3aec6d=await master_shop['find']();console[_0x2bfb50(0x139)]('master',_0x3aec6d);const _0x36875c=_0x59103a[_0x2bfb50(0x10e)]['id'],_0x9848b8=await purchases_return[_0x2bfb50(0x136)](_0x36875c);console[_0x2bfb50(0x139)](_0x9848b8);const _0x39c3ee=await suppliers[_0x2bfb50(0xce)]({'name':_0x9848b8['suppliers']});console[_0x2bfb50(0x139)](_0x39c3ee);if(_0x3aec6d[0x0]['language']==_0x2bfb50(0x110)){var _0x136b4d=users[_0x2bfb50(0xd6)];console['log'](_0x136b4d);}else{if(_0x3aec6d[0x0][_0x2bfb50(0x109)]==_0x2bfb50(0x146))var _0x136b4d=users[_0x2bfb50(0x146)];else{if(_0x3aec6d[0x0][_0x2bfb50(0x109)]=='German')var _0x136b4d=users[_0x2bfb50(0xde)];else{if(_0x3aec6d[0x0][_0x2bfb50(0x109)]==_0x2bfb50(0x103))var _0x136b4d=users['Spanish'];else{if(_0x3aec6d[0x0][_0x2bfb50(0x109)]==_0x2bfb50(0x113))var _0x136b4d=users[_0x2bfb50(0x113)];else{if(_0x3aec6d[0x0][_0x2bfb50(0x109)]==_0x2bfb50(0xf0))var _0x136b4d=users['Portuguese'];else{if(_0x3aec6d[0x0][_0x2bfb50(0x109)]==_0x2bfb50(0xea))var _0x136b4d=users[_0x2bfb50(0xea)];else{if(_0x3aec6d[0x0][_0x2bfb50(0x109)]==_0x2bfb50(0x108))var _0x136b4d=users[_0x2bfb50(0x128)];}}}}}}}_0x525f3a[_0x2bfb50(0xe9)](_0x2bfb50(0x116),{'success':_0x59103a[_0x2bfb50(0x137)](_0x2bfb50(0x112)),'errors':_0x59103a[_0x2bfb50(0x137)](_0x2bfb50(0xd7)),'role':_0x21fd82,'profile':_0x3ced96,'master_shop':_0x3aec6d,'supplier':_0x39c3ee,'purchase':_0x9848b8,'language':_0x136b4d});}catch(_0x4c398b){console[_0x2bfb50(0x139)](_0x4c398b);}}),router[a0_0x28060d(0xdc)](a0_0x28060d(0x115),auth,async(_0x5bba5d,_0x3e50d2)=>{var _0x9b3f3e=a0_0x28060d;try{const _0x1b4905=_0x5bba5d[_0x9b3f3e(0x10e)]['id'],{invoice:_0x1e2508,suppliers:_0x5709cb,receivable_amount:_0x2e3728,received_amount:_0x42dec0}=_0x5bba5d[_0x9b3f3e(0x143)],_0x3d4b1c=await purchases_return[_0x9b3f3e(0x136)](_0x1b4905);console['log'](_0x3d4b1c);var _0x2acdf4=_0x2e3728-_0x42dec0;console[_0x9b3f3e(0x139)](_0x42dec0),_0x3d4b1c['received']=parseFloat(_0x42dec0)+parseFloat(_0x3d4b1c[_0x9b3f3e(0x133)]),_0x3d4b1c['due_amount']=_0x2acdf4,console[_0x9b3f3e(0x139)](_0x3d4b1c);const _0x2b1615=await _0x3d4b1c[_0x9b3f3e(0x10b)](),_0x256570=await s_payment_data[_0x9b3f3e(0xce)]({'invoice':_0x5bba5d['body'][_0x9b3f3e(0xfc)],'reason':_0x9b3f3e(0x140)});_0x256570['amount']=_0x2acdf4,await _0x256570['save']();let _0x520c97=new Date(),_0xdac1a1=('0'+_0x520c97[_0x9b3f3e(0x12f)]())[_0x9b3f3e(0x111)](-0x2),_0xc44931=('0'+(_0x520c97[_0x9b3f3e(0xd8)]()+0x1))[_0x9b3f3e(0x111)](-0x2),_0x29a53d=_0x520c97[_0x9b3f3e(0x122)](),_0x232d05=_0x29a53d+'-'+_0xc44931+'-'+_0xdac1a1;const _0x47503a=new suppliers_payment({'invoice':_0x1e2508,'date':_0x29a53d+'-'+_0xc44931+'-'+_0xdac1a1,'suppliers':_0x5709cb,'reason':_0x9b3f3e(0x13a),'amount':_0x42dec0}),_0x41863b=await _0x47503a[_0x9b3f3e(0x10b)]();_0x5bba5d[_0x9b3f3e(0x137)](_0x9b3f3e(0x112),_0x9b3f3e(0x135)),_0x3e50d2['redirect'](_0x9b3f3e(0x124));}catch(_0xdfad7b){console[_0x9b3f3e(0x139)](_0xdfad7b);}}),module[a0_0x28060d(0x104)]=router;