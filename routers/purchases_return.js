function a0_0x241f(){var _0x1ccbb6=['back','7gYUAgF','purchase\x20return\x20successfully','product_code_hide','153219NsUCuq','errors','175038idTRFM','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','$suppliers','type','to_Room_name','message','Enabled','$product_details.bin','map','$return_product.return_qty','json','3014796FzjCPm','10160920vLsWbH','German','language','French','English','date','20aORhvF','Spanish','$product_details._id','primary_code_hide','suppliers','$supplier_docs.email','36CmxLat','exports','$product_details.product_stock','$product_details.secondary_code','889080QZBWIU','level','findOne','string','room','$name','getMonth','$warehouse_name','params','types','$received','master','$product_details.rack','Portuguese','/receive_payment/:id','$invoice','stock_data','$due_amount','return_purchase_invoice','$product_details.product_code','stocks','get','success','findById','forEach','find','$product_details.floorlevel','log','status','$_id','received','getFullYear','9sUklxj','express','../middleware/auth','Arabic\x20(ae)','906956IxodSv','/view/:id','redirect','final','isle','product_details','1315590SomvxJ','$product_details.type','product_details.return_qtyproduct_details.return_qty','amount','post','flash','primary_code','render','stock_quantity','aggregate','user','Chinese','$return_product.total','Purchase\x20Return','return_purchase_edit','$product_details','$date','product_code','email','slice','24ctYpFj','$product_details.bay','supplier_docs','/invoice/:id','$return_product.price','$product_details.storage','body','Router','return_qty','product_name','purchases_return','../public/language/languages.json','to_room','purchase_quantity','Arabic','$receivable','foreach\x20newproduct','save','Hindi','Return\x20Goods','pallet','invoice','warehouse_name','$supplier_docs.address','secondary_code_hide','note','to_warehouse_name','product_stock','bin','$supplier_docs','floorlevel','Raw\x20Materials','bay','English\x20(US)','Portuguese\x20(BR)','/purchases_return/view','payment\x20successfull'];a0_0x241f=function(){return _0x1ccbb6;};return a0_0x241f();}function a0_0x3df3(_0x565335,_0x3b1e53){var _0x241f51=a0_0x241f();return a0_0x3df3=function(_0x3df334,_0x1548b1){_0x3df334=_0x3df334-0x12f;var _0x56bcf3=_0x241f51[_0x3df334];return _0x56bcf3;},a0_0x3df3(_0x565335,_0x3b1e53);}var a0_0x3ac5d9=a0_0x3df3;(function(_0xe620f,_0x5bebc8){var _0x11ba1c=a0_0x3df3,_0x4f4ece=_0xe620f();while(!![]){try{var _0x20a985=parseInt(_0x11ba1c(0x180))/0x1+-parseInt(_0x11ba1c(0x19a))/0x2*(-parseInt(_0x11ba1c(0x182))/0x3)+parseInt(_0x11ba1c(0x13d))/0x4*(parseInt(_0x11ba1c(0x194))/0x5)+parseInt(_0x11ba1c(0x18d))/0x6*(parseInt(_0x11ba1c(0x17d))/0x7)+-parseInt(_0x11ba1c(0x19e))/0x8+-parseInt(_0x11ba1c(0x139))/0x9*(-parseInt(_0x11ba1c(0x143))/0xa)+parseInt(_0x11ba1c(0x18e))/0xb*(-parseInt(_0x11ba1c(0x157))/0xc);if(_0x20a985===_0x5bebc8)break;else _0x4f4ece['push'](_0x4f4ece['shift']());}catch(_0x5128bc){_0x4f4ece['push'](_0x4f4ece['shift']());}}}(a0_0x241f,0xbfdbd));const express=require(a0_0x3ac5d9(0x13a)),app=express(),router=express[a0_0x3ac5d9(0x15e)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require('../models/all_models'),auth=require(a0_0x3ac5d9(0x13b)),users=require(a0_0x3ac5d9(0x162));router[a0_0x3ac5d9(0x1b3)]('/view',auth,async(_0x32301c,_0x5b286b)=>{var _0x1c4974=a0_0x3ac5d9;try{const {username:_0x318871,email:_0x5d5094,role:_0x5c25f2}=_0x32301c[_0x1c4974(0x14d)],_0x3b410f=_0x32301c['user'],_0x172ef0=await profile[_0x1c4974(0x1a0)]({'email':_0x3b410f['email']}),_0x5870f8=await master_shop[_0x1c4974(0x132)]();console[_0x1c4974(0x134)]('master',_0x5870f8);const _0xca83eb=await purchases_return['aggregate']([{'$lookup':{'from':_0x1c4974(0x198),'localField':'suppliers','foreignField':'name','as':_0x1c4974(0x159)}},{'$unwind':'$return_product'},{'$unwind':_0x1c4974(0x174)},{'$group':{'_id':_0x1c4974(0x136),'invoice':{'$first':_0x1c4974(0x1ad)},'date':{'$first':_0x1c4974(0x153)},'suppliers':{'$first':_0x1c4974(0x184)},'warehouse_name':{'$first':_0x1c4974(0x1a5)},'product_name':{'$first':'$return_product.product_name'},'return_qty':{'$first':_0x1c4974(0x18b)},'price':{'$first':_0x1c4974(0x15b)},'total':{'$sum':_0x1c4974(0x14f)},'note':{'$first':'$note'},'total_amount':{'$first':'$total_amount'},'discount':{'$first':'$discount'},'receivable':{'$first':_0x1c4974(0x166)},'received':{'$first':_0x1c4974(0x1a8)},'due_amount':{'$first':_0x1c4974(0x1af)},'mobile':{'$first':'$supplier_docs.mobile'},'email':{'$first':_0x1c4974(0x199)},'address':{'$first':_0x1c4974(0x16e)},'return_sum_qty':{'$sum':_0x1c4974(0x18b)}}}]);console[_0x1c4974(0x134)](_0xca83eb);if(_0x5870f8[0x0][_0x1c4974(0x190)]==_0x1c4974(0x178)){var _0x45ef30=users[_0x1c4974(0x192)];console['log'](_0x45ef30);}else{if(_0x5870f8[0x0][_0x1c4974(0x190)]==_0x1c4974(0x169))var _0x45ef30=users[_0x1c4974(0x169)];else{if(_0x5870f8[0x0][_0x1c4974(0x190)]==_0x1c4974(0x18f))var _0x45ef30=users[_0x1c4974(0x18f)];else{if(_0x5870f8[0x0][_0x1c4974(0x190)]==_0x1c4974(0x195))var _0x45ef30=users[_0x1c4974(0x195)];else{if(_0x5870f8[0x0]['language']=='French')var _0x45ef30=users[_0x1c4974(0x191)];else{if(_0x5870f8[0x0][_0x1c4974(0x190)]==_0x1c4974(0x179))var _0x45ef30=users[_0x1c4974(0x1ab)];else{if(_0x5870f8[0x0][_0x1c4974(0x190)]=='Chinese')var _0x45ef30=users['Chinese'];else{if(_0x5870f8[0x0][_0x1c4974(0x190)]=='Arabic\x20(ae)')var _0x45ef30=users['Arabic'];}}}}}}}_0x5b286b[_0x1c4974(0x14a)](_0x1c4974(0x161),{'success':_0x32301c['flash'](_0x1c4974(0x12f)),'errors':_0x32301c[_0x1c4974(0x148)]('errors'),'role':_0x3b410f,'profile':_0x172ef0,'master_shop':_0x5870f8,'user':_0xca83eb,'language':_0x45ef30});}catch(_0x23725d){console[_0x1c4974(0x134)](_0x23725d);}}),router[a0_0x3ac5d9(0x1b3)](a0_0x3ac5d9(0x13e),auth,async(_0x284c41,_0x45c5db)=>{var _0xc0e1a7=a0_0x3ac5d9;try{const {username:_0x1c5eed,email:_0x27ddad,role:_0x45bc05}=_0x284c41[_0xc0e1a7(0x14d)],_0xbf5819=_0x284c41['user'],_0x99832c=await profile[_0xc0e1a7(0x1a0)]({'email':_0xbf5819[_0xc0e1a7(0x155)]}),_0x1f24e0=await product[_0xc0e1a7(0x132)]({}),_0x5154a3=await master_shop['find']();console['log'](_0xc0e1a7(0x1a9),_0x5154a3),console[_0xc0e1a7(0x134)](_0x284c41[_0xc0e1a7(0x15d)]);const _0x59ec1c=_0x284c41[_0xc0e1a7(0x1a6)]['id'],_0x60ef83=await purchases_return['findById'](_0x59ec1c);console[_0xc0e1a7(0x134)](_0x60ef83);const _0x11bb05=await warehouse[_0xc0e1a7(0x14c)]([{'$match':{'name':_0x60ef83[_0xc0e1a7(0x16d)],'room':_0x60ef83[_0xc0e1a7(0x1a2)]}},{'$unwind':_0xc0e1a7(0x152)},{'$group':{'_id':_0xc0e1a7(0x196),'name':{'$first':'$product_details.product_name'},'product_stock':{'$first':_0xc0e1a7(0x19c)},'bay':{'$first':_0xc0e1a7(0x158)},'bin':{'$first':_0xc0e1a7(0x189)},'type':{'$first':_0xc0e1a7(0x144)},'floorlevel':{'$first':_0xc0e1a7(0x133)},'primary_code':{'$first':'$product_details.primary_code'},'secondary_code':{'$first':_0xc0e1a7(0x19d)},'product_code':{'$first':_0xc0e1a7(0x1b1)},'storage':{'$first':_0xc0e1a7(0x15c)},'rack':{'$first':_0xc0e1a7(0x1aa)}}}]);warehouse_data=await warehouse[_0xc0e1a7(0x14c)]([{'$match':{'status':_0xc0e1a7(0x188),'name':_0xc0e1a7(0x16a),'warehouse_category':_0xc0e1a7(0x176)}},{'$group':{'_id':_0xc0e1a7(0x1a3),'name':{'$first':'$name'}}},{'$sort':{'name':0x1}}]),console['log'](_0xc0e1a7(0x1ae),_0x11bb05);if(_0x5154a3[0x0][_0xc0e1a7(0x190)]==_0xc0e1a7(0x178)){var _0x30ce05=users['English'];console[_0xc0e1a7(0x134)](_0x30ce05);}else{if(_0x5154a3[0x0][_0xc0e1a7(0x190)]=='Hindi')var _0x30ce05=users[_0xc0e1a7(0x169)];else{if(_0x5154a3[0x0][_0xc0e1a7(0x190)]==_0xc0e1a7(0x18f))var _0x30ce05=users[_0xc0e1a7(0x18f)];else{if(_0x5154a3[0x0][_0xc0e1a7(0x190)]==_0xc0e1a7(0x195))var _0x30ce05=users['Spanish'];else{if(_0x5154a3[0x0][_0xc0e1a7(0x190)]==_0xc0e1a7(0x191))var _0x30ce05=users[_0xc0e1a7(0x191)];else{if(_0x5154a3[0x0]['language']==_0xc0e1a7(0x179))var _0x30ce05=users[_0xc0e1a7(0x1ab)];else{if(_0x5154a3[0x0][_0xc0e1a7(0x190)]==_0xc0e1a7(0x14e))var _0x30ce05=users[_0xc0e1a7(0x14e)];else{if(_0x5154a3[0x0]['language']==_0xc0e1a7(0x13c))var _0x30ce05=users[_0xc0e1a7(0x165)];}}}}}}}_0x45c5db[_0xc0e1a7(0x14a)](_0xc0e1a7(0x151),{'success':_0x284c41[_0xc0e1a7(0x148)]('success'),'errors':_0x284c41[_0xc0e1a7(0x148)](_0xc0e1a7(0x181)),'role':_0xbf5819,'master_shop':_0x5154a3,'profile':_0x99832c,'user':_0x60ef83,'stock':_0x11bb05,'product':_0x1f24e0,'language':_0x30ce05,'warehouse':warehouse_data});}catch(_0x23c5f0){console['log'](_0x23c5f0);}}),router['post'](a0_0x3ac5d9(0x13e),auth,async(_0x3ad437,_0x2a0e21)=>{var _0x32bbf9=a0_0x3ac5d9;try{const _0x181aa0=_0x3ad437['params']['id'];console[_0x32bbf9(0x134)](_0x181aa0);const _0x59a6c3=await purchases_return[_0x32bbf9(0x1a0)]({'invoice':_0x3ad437['body'][_0x32bbf9(0x16c)]});console[_0x32bbf9(0x134)]('old_data',_0x59a6c3);const _0x12bc7d=await warehouse[_0x32bbf9(0x1a0)]({'name':_0x59a6c3[_0x32bbf9(0x171)],'room':_0x59a6c3[_0x32bbf9(0x163)]});console['log']('old_warehouse_data',_0x12bc7d);const {invoice:_0x1c9720,suppliers:_0x4a8d72,date:_0x1b18c9,warehouse_name:_0x33cb85,product_name:_0x22d30c,purchase_quantity:_0x5cc548,stocks:_0x572207,return_qty:_0x33ad5a,note:_0x442db9,Room_name:_0xd1d32,level:_0x44e1f1,isle:_0x5123fc,pallet:_0x30a8b0,to_warehouse_name:_0x1788ac,to_Room_name:_0x83128c}=_0x3ad437[_0x32bbf9(0x15d)];if(typeof _0x22d30c==_0x32bbf9(0x1a1))var _0x280a41=[_0x3ad437[_0x32bbf9(0x15d)]['product_name']],_0x3f3404=[_0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x164)]],_0x5d9a6b=[_0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x1b2)]],_0x4b15c7=[_0x3ad437[_0x32bbf9(0x15d)]['return_qty']],_0x259d36=[_0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x19f)]],_0x2b10b7=[_0x3ad437['body'][_0x32bbf9(0x141)]],_0x24f133=[_0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x16b)]],_0x1ba7e5=[_0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x1a7)]],_0x15184f=[_0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x17f)]],_0xe9f137=[_0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x197)]],_0x208bd7=[_0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x16f)]];else var _0x280a41=[..._0x3ad437[_0x32bbf9(0x15d)]['product_name']],_0x3f3404=[..._0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x164)]],_0x5d9a6b=[..._0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x1b2)]],_0x4b15c7=[..._0x3ad437[_0x32bbf9(0x15d)]['return_qty']],_0x259d36=[..._0x3ad437[_0x32bbf9(0x15d)]['level']],_0x2b10b7=[..._0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x141)]],_0x24f133=[..._0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x16b)]],_0x15184f=[..._0x3ad437['body'][_0x32bbf9(0x17f)]],_0xe9f137=[..._0x3ad437[_0x32bbf9(0x15d)]['primary_code_hide']],_0x208bd7=[..._0x3ad437[_0x32bbf9(0x15d)]['secondary_code_hide']],_0x1ba7e5=[..._0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x1a7)]];const _0x22def0=_0x280a41['map'](_0x112817=>{return _0x112817={'product_name':_0x112817};});_0x3f3404['forEach']((_0x1de5cc,_0x15a337)=>{_0x22def0[_0x15a337]['purchase_quantity']=_0x1de5cc;}),_0x5d9a6b[_0x32bbf9(0x131)]((_0x1bce78,_0xa31b45)=>{var _0x122896=_0x32bbf9;_0x22def0[_0xa31b45][_0x122896(0x14b)]=_0x1bce78;}),_0x4b15c7[_0x32bbf9(0x131)]((_0x2aba86,_0x11419d)=>{_0x22def0[_0x11419d]['return_qty']=_0x2aba86;}),_0x259d36['forEach']((_0x5485c6,_0x3918dc)=>{var _0x59f6ef=_0x32bbf9;_0x22def0[_0x3918dc][_0x59f6ef(0x177)]=_0x5485c6;}),_0x2b10b7[_0x32bbf9(0x131)]((_0x13519b,_0x3b9869)=>{var _0x27038c=_0x32bbf9;_0x22def0[_0x3b9869][_0x27038c(0x173)]=_0x13519b;}),_0x24f133[_0x32bbf9(0x131)]((_0x4b143b,_0x598d00)=>{var _0x44051a=_0x32bbf9;_0x22def0[_0x598d00][_0x44051a(0x175)]=_0x4b143b;}),_0x15184f['forEach']((_0x55d1ba,_0x406a2d)=>{var _0x494c6f=_0x32bbf9;_0x22def0[_0x406a2d][_0x494c6f(0x154)]=_0x55d1ba;}),_0xe9f137[_0x32bbf9(0x131)]((_0x1b0c3f,_0x51db73)=>{var _0x3952b3=_0x32bbf9;_0x22def0[_0x51db73][_0x3952b3(0x149)]=_0x1b0c3f;}),_0x208bd7[_0x32bbf9(0x131)]((_0x126976,_0x58210a)=>{_0x22def0[_0x58210a]['secondary_code']=_0x126976;}),_0x1ba7e5[_0x32bbf9(0x131)]((_0x1e0562,_0x2c38cf)=>{var _0x57f946=_0x32bbf9;_0x22def0[_0x2c38cf][_0x57f946(0x185)]=_0x1e0562;});var _0x48da52=0x0;_0x22def0[_0x32bbf9(0x131)](_0x539e98=>{var _0x2d0b58=_0x32bbf9;console[_0x2d0b58(0x134)](_0x2d0b58(0x167),_0x539e98),(parseInt(_0x539e98['purchase_quantity'])<parseInt(_0x539e98['return_qty'])||parseInt(_0x539e98[_0x2d0b58(0x14b)])<parseInt(_0x539e98[_0x2d0b58(0x15f)])||parseInt(_0x539e98[_0x2d0b58(0x15f)])==0x0)&&_0x48da52++;});if(_0x48da52!=0x0)return _0x3ad437[_0x32bbf9(0x148)](_0x32bbf9(0x181),_0x32bbf9(0x183)),_0x2a0e21[_0x32bbf9(0x13f)](_0x32bbf9(0x17c));_0x59a6c3['return_product']['forEach'](_0xfc8588=>{var _0xff54dc=_0x32bbf9;const _0x31d0f9=_0x12bc7d[_0xff54dc(0x142)][_0xff54dc(0x18a)](_0x1dc8a0=>{var _0x2f404f=_0xff54dc;_0x1dc8a0['product_name']==_0xfc8588[_0x2f404f(0x160)]&&_0x1dc8a0[_0x2f404f(0x175)]==_0xfc8588[_0x2f404f(0x175)]&&_0x1dc8a0[_0x2f404f(0x185)]==_0xfc8588[_0x2f404f(0x185)]&&_0x1dc8a0[_0x2f404f(0x173)]==_0xfc8588[_0x2f404f(0x173)]&&_0x1dc8a0[_0x2f404f(0x177)]==_0xfc8588[_0x2f404f(0x177)]&&(_0x1dc8a0[_0x2f404f(0x172)]=parseInt(_0x1dc8a0[_0x2f404f(0x172)])+parseInt(_0xfc8588['return_qty']));});}),console[_0x32bbf9(0x134)]('old_warehouse_data',_0x12bc7d),await _0x12bc7d['save'](),_0x59a6c3[_0x32bbf9(0x16c)]=_0x1c9720,_0x59a6c3['suppliers']=_0x4a8d72,_0x59a6c3[_0x32bbf9(0x193)]=_0x1b18c9,_0x59a6c3['warehouse_name']=_0x33cb85,_0x59a6c3['return_product']=_0x22def0,_0x59a6c3[_0x32bbf9(0x170)]=_0x442db9,_0x59a6c3[_0x32bbf9(0x1a2)]=_0xd1d32,_0x59a6c3[_0x32bbf9(0x171)]=_0x1788ac,_0x59a6c3[_0x32bbf9(0x163)]=_0x83128c;const _0x402cbc=await _0x59a6c3[_0x32bbf9(0x168)](),_0x2d4a7e=await purchases_return[_0x32bbf9(0x1a0)]({'invoice':_0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x16c)]}),_0x233c06=await warehouse[_0x32bbf9(0x1a0)]({'name':_0x3ad437[_0x32bbf9(0x15d)]['to_warehouse_name'],'room':_0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x186)]});_0x2d4a7e['return_product'][_0x32bbf9(0x131)](_0x36cb02=>{var _0x66c795=_0x32bbf9;_0x233c06[_0x66c795(0x142)]['map'](_0x35c7a2=>{var _0x4b1415=_0x66c795;_0x35c7a2['product_name']==_0x36cb02[_0x4b1415(0x160)]&&_0x35c7a2[_0x4b1415(0x16b)]==_0x36cb02[_0x4b1415(0x16b)]&&(_0x35c7a2['product_stock']=parseInt(_0x35c7a2[_0x4b1415(0x172)])-parseInt(_0x36cb02[_0x4b1415(0x15f)]),console[_0x4b1415(0x134)](_0x4b1415(0x145),_0x36cb02[_0x4b1415(0x15f)]));});}),console['log'](_0x32bbf9(0x140),_0x233c06),await _0x233c06[_0x32bbf9(0x168)]();const _0x51e727=await s_payment_data[_0x32bbf9(0x1a0)]({'invoice':_0x3ad437[_0x32bbf9(0x15d)][_0x32bbf9(0x16c)],'reason':_0x32bbf9(0x150)});await _0x51e727['save'](),_0x3ad437[_0x32bbf9(0x148)](_0x32bbf9(0x12f),_0x32bbf9(0x17e)),_0x2a0e21[_0x32bbf9(0x13f)](_0x32bbf9(0x17a));}catch(_0x33390d){console['log'](_0x33390d),_0x2a0e21[_0x32bbf9(0x135)](0xc8)[_0x32bbf9(0x18c)]({'message':_0x33390d[_0x32bbf9(0x187)]});}}),router[a0_0x3ac5d9(0x1b3)](a0_0x3ac5d9(0x15a),auth,async(_0x1251eb,_0x102a49)=>{var _0x2f034f=a0_0x3ac5d9;try{const {username:_0x1e828f,email:_0x2c3ab4,role:_0x5aa785}=_0x1251eb[_0x2f034f(0x14d)],_0x1f1f7b=_0x1251eb['user'],_0x46362e=await profile[_0x2f034f(0x1a0)]({'email':_0x1f1f7b[_0x2f034f(0x155)]}),_0x3608d4=await master_shop[_0x2f034f(0x132)]();console['log']('master',_0x3608d4);const _0x277eec=_0x1251eb[_0x2f034f(0x1a6)]['id'],_0x53279d=await purchases_return['findById'](_0x277eec);console[_0x2f034f(0x134)](_0x53279d);const _0x3e4b7a=await suppliers[_0x2f034f(0x1a0)]({'name':_0x53279d['suppliers']});console[_0x2f034f(0x134)](_0x3e4b7a);if(_0x3608d4[0x0][_0x2f034f(0x190)]=='English\x20(US)'){var _0x2c91b0=users['English'];console[_0x2f034f(0x134)](_0x2c91b0);}else{if(_0x3608d4[0x0]['language']==_0x2f034f(0x169))var _0x2c91b0=users[_0x2f034f(0x169)];else{if(_0x3608d4[0x0]['language']==_0x2f034f(0x18f))var _0x2c91b0=users[_0x2f034f(0x18f)];else{if(_0x3608d4[0x0][_0x2f034f(0x190)]=='Spanish')var _0x2c91b0=users[_0x2f034f(0x195)];else{if(_0x3608d4[0x0][_0x2f034f(0x190)]==_0x2f034f(0x191))var _0x2c91b0=users[_0x2f034f(0x191)];else{if(_0x3608d4[0x0][_0x2f034f(0x190)]==_0x2f034f(0x179))var _0x2c91b0=users[_0x2f034f(0x1ab)];else{if(_0x3608d4[0x0][_0x2f034f(0x190)]=='Chinese')var _0x2c91b0=users[_0x2f034f(0x14e)];else{if(_0x3608d4[0x0]['language']=='Arabic\x20(ae)')var _0x2c91b0=users[_0x2f034f(0x165)];}}}}}}}_0x102a49[_0x2f034f(0x14a)](_0x2f034f(0x1b0),{'success':_0x1251eb[_0x2f034f(0x148)](_0x2f034f(0x12f)),'errors':_0x1251eb[_0x2f034f(0x148)](_0x2f034f(0x181)),'role':_0x1f1f7b,'profile':_0x46362e,'master_shop':_0x3608d4,'supplier':_0x3e4b7a,'purchase':_0x53279d,'language':_0x2c91b0});}catch(_0x19169f){console[_0x2f034f(0x134)](_0x19169f);}}),router[a0_0x3ac5d9(0x147)](a0_0x3ac5d9(0x1ac),auth,async(_0x54fc88,_0x481435)=>{var _0x34cb15=a0_0x3ac5d9;try{const _0x53ea3f=_0x54fc88[_0x34cb15(0x1a6)]['id'],{invoice:_0x5fdd6a,suppliers:_0x31ffe1,receivable_amount:_0xa9bc3b,received_amount:_0x306e58}=_0x54fc88[_0x34cb15(0x15d)],_0x598068=await purchases_return[_0x34cb15(0x130)](_0x53ea3f);console['log'](_0x598068);var _0x3448bc=_0xa9bc3b-_0x306e58;console[_0x34cb15(0x134)](_0x306e58),_0x598068[_0x34cb15(0x137)]=parseFloat(_0x306e58)+parseFloat(_0x598068['received']),_0x598068['due_amount']=_0x3448bc,console['log'](_0x598068);const _0x4116a8=await _0x598068['save'](),_0x484203=await s_payment_data[_0x34cb15(0x1a0)]({'invoice':_0x54fc88[_0x34cb15(0x15d)][_0x34cb15(0x16c)],'reason':_0x34cb15(0x150)});_0x484203[_0x34cb15(0x146)]=_0x3448bc,await _0x484203[_0x34cb15(0x168)]();let _0x373757=new Date(),_0x4b00ab=('0'+_0x373757['getDate']())[_0x34cb15(0x156)](-0x2),_0x527bb5=('0'+(_0x373757[_0x34cb15(0x1a4)]()+0x1))['slice'](-0x2),_0x559f93=_0x373757[_0x34cb15(0x138)](),_0x9fd915=_0x559f93+'-'+_0x527bb5+'-'+_0x4b00ab;const _0x4f012c=new suppliers_payment({'invoice':_0x5fdd6a,'date':_0x559f93+'-'+_0x527bb5+'-'+_0x4b00ab,'suppliers':_0x31ffe1,'reason':'Received\x20For\x20Purchase\x20Return','amount':_0x306e58}),_0x244d96=await _0x4f012c['save']();_0x54fc88[_0x34cb15(0x148)]('success',_0x34cb15(0x17b)),_0x481435['redirect'](_0x34cb15(0x17a));}catch(_0x53ea0f){console['log'](_0x53ea0f);}}),module[a0_0x3ac5d9(0x19b)]=router;