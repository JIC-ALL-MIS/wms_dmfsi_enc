var a0_0x1e07c0=a0_0x159a;(function(_0x47c930,_0x4e5280){var _0x26c9ea=a0_0x159a,_0x3fe40c=_0x47c930();while(!![]){try{var _0x28aaf8=parseInt(_0x26c9ea(0x179))/0x1+-parseInt(_0x26c9ea(0x153))/0x2+-parseInt(_0x26c9ea(0x18a))/0x3*(-parseInt(_0x26c9ea(0x1b3))/0x4)+parseInt(_0x26c9ea(0x185))/0x5+-parseInt(_0x26c9ea(0x157))/0x6*(parseInt(_0x26c9ea(0x1ab))/0x7)+-parseInt(_0x26c9ea(0x14e))/0x8*(parseInt(_0x26c9ea(0x1ac))/0x9)+-parseInt(_0x26c9ea(0x15d))/0xa*(-parseInt(_0x26c9ea(0x19c))/0xb);if(_0x28aaf8===_0x4e5280)break;else _0x3fe40c['push'](_0x3fe40c['shift']());}catch(_0x5a4bf7){_0x3fe40c['push'](_0x3fe40c['shift']());}}}(a0_0x254d,0x3b61d));function a0_0x159a(_0x2250ad,_0x39e8d1){var _0x254dc6=a0_0x254d();return a0_0x159a=function(_0x159a32,_0x1fc619){_0x159a32=_0x159a32-0x145;var _0x723fb=_0x254dc6[_0x159a32];return _0x723fb;},a0_0x159a(_0x2250ad,_0x39e8d1);}const express=require(a0_0x1e07c0(0x1a0)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x1e07c0(0x148)),auth=require(a0_0x1e07c0(0x177)),users=require(a0_0x1e07c0(0x1a4));function a0_0x254d(){var _0x3e9872=['return_product','$date','post','stocks','900672mpsccR','secondary_code_hide','product_code','Spanish','2477892CgunXo','findOne','success','json','purchases_return','Raw\x20Materials','153340uzPvbj','Arabic','$invoice','message','floorlevel','isle','foreach\x20newproduct','params','French','name','getMonth','received','body','Arabic\x20(ae)','$product_details.product_code','English','get','email','pallet','$total_amount','purchase_quantity','$discount','product_name','$product_details.primary_code','errors','room','../middleware/auth','bay','152937iPZPAn','aggregate','/purchases_return/view','to_room','types','find','English\x20(US)','suppliers','user','$product_details.product_stock','/invoice/:id','German','1632950ckSTnw','/view/:id','$note','$warehouse_name','$due_amount','5367XPfJBd','Chinese','Purchase\x20Return','purchase\x20return\x20successfully','$supplier_docs.mobile','language','level','return_purchase_edit','Hindi','$received','to_warehouse_name','old_data','payment\x20successfull','to_Room_name','forEach','Portuguese\x20(BR)','$product_details','redirect','506pSdxLS','note','bin','slice','express','$product_details.bay','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','$product_details.bin','../public/language/languages.json','$supplier_docs.address','stock_quantity','$product_details._id','log','getDate','return_qty','7UUlsiC','310041JfQpLo','product_details','$return_product.product_name','flash','exports','/view','/receive_payment/:id','364cPOTOp','final','$return_product.return_qty','primary_code_hide','$product_details.secondary_code','$product_details.storage','type','$supplier_docs.email','date','product_code_hide','Portuguese','product_stock','product_details.return_qtyproduct_details.return_qty','save','$product_details.product_name','invoice','$name','findById','$return_product.total','master','../models/all_models','Received\x20For\x20Purchase\x20Return','old_warehouse_data','map','$product_details.floorlevel','render','56xnQkOT'];a0_0x254d=function(){return _0x3e9872;};return a0_0x254d();}router['get'](a0_0x1e07c0(0x1b1),auth,async(_0x3b944c,_0x38b3ca)=>{var _0x4e1963=a0_0x1e07c0;try{const {username:_0x10f760,email:_0x14eac6,role:_0x196899}=_0x3b944c[_0x4e1963(0x181)],_0x2338d1=_0x3b944c[_0x4e1963(0x181)],_0x16fae4=await profile['findOne']({'email':_0x2338d1[_0x4e1963(0x16e)]}),_0x5c317d=await master_shop[_0x4e1963(0x17e)]();console[_0x4e1963(0x1a8)](_0x4e1963(0x147),_0x5c317d);const _0xbc3727=await purchases_return[_0x4e1963(0x17a)]([{'$lookup':{'from':_0x4e1963(0x180),'localField':_0x4e1963(0x180),'foreignField':_0x4e1963(0x166),'as':'supplier_docs'}},{'$unwind':'$return_product'},{'$unwind':'$supplier_docs'},{'$group':{'_id':'$_id','invoice':{'$first':_0x4e1963(0x15f)},'date':{'$first':_0x4e1963(0x150)},'suppliers':{'$first':'$suppliers'},'warehouse_name':{'$first':_0x4e1963(0x188)},'product_name':{'$first':_0x4e1963(0x1ae)},'return_qty':{'$first':'$return_product.return_qty'},'price':{'$first':'$return_product.price'},'total':{'$sum':_0x4e1963(0x146)},'note':{'$first':_0x4e1963(0x187)},'total_amount':{'$first':_0x4e1963(0x170)},'discount':{'$first':_0x4e1963(0x172)},'receivable':{'$first':'$receivable'},'received':{'$first':_0x4e1963(0x193)},'due_amount':{'$first':_0x4e1963(0x189)},'mobile':{'$first':_0x4e1963(0x18e)},'email':{'$first':_0x4e1963(0x1ba)},'address':{'$first':_0x4e1963(0x1a5)},'return_sum_qty':{'$sum':_0x4e1963(0x1b5)}}}]);console[_0x4e1963(0x1a8)](_0xbc3727);if(_0x5c317d[0x0][_0x4e1963(0x18f)]==_0x4e1963(0x17f)){var _0x3572df=users[_0x4e1963(0x16c)];console[_0x4e1963(0x1a8)](_0x3572df);}else{if(_0x5c317d[0x0]['language']==_0x4e1963(0x192))var _0x3572df=users[_0x4e1963(0x192)];else{if(_0x5c317d[0x0]['language']==_0x4e1963(0x184))var _0x3572df=users[_0x4e1963(0x184)];else{if(_0x5c317d[0x0][_0x4e1963(0x18f)]==_0x4e1963(0x156))var _0x3572df=users[_0x4e1963(0x156)];else{if(_0x5c317d[0x0][_0x4e1963(0x18f)]=='French')var _0x3572df=users['French'];else{if(_0x5c317d[0x0][_0x4e1963(0x18f)]==_0x4e1963(0x199))var _0x3572df=users[_0x4e1963(0x1bd)];else{if(_0x5c317d[0x0][_0x4e1963(0x18f)]==_0x4e1963(0x18b))var _0x3572df=users[_0x4e1963(0x18b)];else{if(_0x5c317d[0x0]['language']==_0x4e1963(0x16a))var _0x3572df=users[_0x4e1963(0x15e)];}}}}}}}_0x38b3ca[_0x4e1963(0x14d)](_0x4e1963(0x15b),{'success':_0x3b944c[_0x4e1963(0x1af)](_0x4e1963(0x159)),'errors':_0x3b944c[_0x4e1963(0x1af)](_0x4e1963(0x175)),'role':_0x2338d1,'profile':_0x16fae4,'master_shop':_0x5c317d,'user':_0xbc3727,'language':_0x3572df});}catch(_0x5c0da7){console[_0x4e1963(0x1a8)](_0x5c0da7);}}),router[a0_0x1e07c0(0x16d)](a0_0x1e07c0(0x186),auth,async(_0x14dac2,_0x2b52f4)=>{var _0x43569b=a0_0x1e07c0;try{const {username:_0x22cf69,email:_0x1972ac,role:_0x34f477}=_0x14dac2[_0x43569b(0x181)],_0x1b28bd=_0x14dac2[_0x43569b(0x181)],_0x21fe01=await profile[_0x43569b(0x158)]({'email':_0x1b28bd[_0x43569b(0x16e)]}),_0x4bf61e=await product[_0x43569b(0x17e)]({}),_0x28c1a9=await master_shop['find']();console[_0x43569b(0x1a8)](_0x43569b(0x147),_0x28c1a9),console[_0x43569b(0x1a8)](_0x14dac2[_0x43569b(0x169)]);const _0x4a59af=_0x14dac2[_0x43569b(0x164)]['id'],_0x42f80a=await purchases_return[_0x43569b(0x145)](_0x4a59af);console[_0x43569b(0x1a8)](_0x42f80a);const _0x59e51e=await warehouse['aggregate']([{'$match':{'name':_0x42f80a['warehouse_name'],'room':_0x42f80a[_0x43569b(0x176)]}},{'$unwind':_0x43569b(0x19a)},{'$group':{'_id':_0x43569b(0x1a7),'name':{'$first':_0x43569b(0x1c1)},'product_stock':{'$first':_0x43569b(0x182)},'bay':{'$first':_0x43569b(0x1a1)},'bin':{'$first':_0x43569b(0x1a3)},'type':{'$first':'$product_details.type'},'floorlevel':{'$first':_0x43569b(0x14c)},'primary_code':{'$first':_0x43569b(0x174)},'secondary_code':{'$first':_0x43569b(0x1b7)},'product_code':{'$first':_0x43569b(0x16b)},'storage':{'$first':_0x43569b(0x1b8)},'rack':{'$first':'$product_details.rack'}}}]);warehouse_data=await warehouse[_0x43569b(0x17a)]([{'$match':{'status':'Enabled','name':'Return\x20Goods','warehouse_category':_0x43569b(0x15c)}},{'$group':{'_id':_0x43569b(0x1c3),'name':{'$first':_0x43569b(0x1c3)}}},{'$sort':{'name':0x1}}]),console[_0x43569b(0x1a8)]('stock_data',_0x59e51e);if(_0x28c1a9[0x0][_0x43569b(0x18f)]=='English\x20(US)'){var _0x422b3c=users[_0x43569b(0x16c)];console[_0x43569b(0x1a8)](_0x422b3c);}else{if(_0x28c1a9[0x0][_0x43569b(0x18f)]==_0x43569b(0x192))var _0x422b3c=users['Hindi'];else{if(_0x28c1a9[0x0]['language']==_0x43569b(0x184))var _0x422b3c=users[_0x43569b(0x184)];else{if(_0x28c1a9[0x0][_0x43569b(0x18f)]=='Spanish')var _0x422b3c=users['Spanish'];else{if(_0x28c1a9[0x0][_0x43569b(0x18f)]=='French')var _0x422b3c=users[_0x43569b(0x165)];else{if(_0x28c1a9[0x0][_0x43569b(0x18f)]==_0x43569b(0x199))var _0x422b3c=users['Portuguese'];else{if(_0x28c1a9[0x0][_0x43569b(0x18f)]==_0x43569b(0x18b))var _0x422b3c=users[_0x43569b(0x18b)];else{if(_0x28c1a9[0x0][_0x43569b(0x18f)]==_0x43569b(0x16a))var _0x422b3c=users[_0x43569b(0x15e)];}}}}}}}_0x2b52f4[_0x43569b(0x14d)](_0x43569b(0x191),{'success':_0x14dac2[_0x43569b(0x1af)]('success'),'errors':_0x14dac2[_0x43569b(0x1af)](_0x43569b(0x175)),'role':_0x1b28bd,'master_shop':_0x28c1a9,'profile':_0x21fe01,'user':_0x42f80a,'stock':_0x59e51e,'product':_0x4bf61e,'language':_0x422b3c,'warehouse':warehouse_data});}catch(_0xf8ba94){console[_0x43569b(0x1a8)](_0xf8ba94);}}),router[a0_0x1e07c0(0x151)]('/view/:id',auth,async(_0x121a68,_0x200e05)=>{var _0x14c60b=a0_0x1e07c0;try{const _0x1e5fb3=_0x121a68[_0x14c60b(0x164)]['id'];console['log'](_0x1e5fb3);const _0x37b671=await purchases_return[_0x14c60b(0x158)]({'invoice':_0x121a68['body'][_0x14c60b(0x1c2)]});console[_0x14c60b(0x1a8)](_0x14c60b(0x195),_0x37b671);const _0x460f3a=await warehouse[_0x14c60b(0x158)]({'name':_0x37b671['to_warehouse_name'],'room':_0x37b671[_0x14c60b(0x17c)]});console['log'](_0x14c60b(0x14a),_0x460f3a);const {invoice:_0xe0a992,suppliers:_0x34e7cd,date:_0x27dd76,warehouse_name:_0x3dca0a,product_name:_0x3d383a,purchase_quantity:_0x58cb98,stocks:_0x268a19,return_qty:_0x3fcd3a,note:_0x39c368,Room_name:_0x35e877,level:_0x3b0fe5,isle:_0xa7a879,pallet:_0x162bba,to_warehouse_name:_0x4933b1,to_Room_name:_0x3076c3}=_0x121a68[_0x14c60b(0x169)];if(typeof _0x3d383a=='string')var _0x4893be=[_0x121a68[_0x14c60b(0x169)][_0x14c60b(0x173)]],_0x1cf87f=[_0x121a68['body'][_0x14c60b(0x171)]],_0x12ca70=[_0x121a68['body'][_0x14c60b(0x152)]],_0x58463c=[_0x121a68['body'][_0x14c60b(0x1aa)]],_0x4bc732=[_0x121a68[_0x14c60b(0x169)]['level']],_0x4ff041=[_0x121a68['body'][_0x14c60b(0x162)]],_0x5d9a23=[_0x121a68[_0x14c60b(0x169)][_0x14c60b(0x16f)]],_0xb013ce=[_0x121a68[_0x14c60b(0x169)][_0x14c60b(0x17d)]],_0x22ecbc=[_0x121a68[_0x14c60b(0x169)]['product_code_hide']],_0x45635b=[_0x121a68[_0x14c60b(0x169)][_0x14c60b(0x1b6)]],_0x3e8038=[_0x121a68[_0x14c60b(0x169)][_0x14c60b(0x154)]];else var _0x4893be=[..._0x121a68[_0x14c60b(0x169)]['product_name']],_0x1cf87f=[..._0x121a68[_0x14c60b(0x169)][_0x14c60b(0x171)]],_0x12ca70=[..._0x121a68[_0x14c60b(0x169)][_0x14c60b(0x152)]],_0x58463c=[..._0x121a68[_0x14c60b(0x169)][_0x14c60b(0x1aa)]],_0x4bc732=[..._0x121a68['body'][_0x14c60b(0x190)]],_0x4ff041=[..._0x121a68[_0x14c60b(0x169)][_0x14c60b(0x162)]],_0x5d9a23=[..._0x121a68[_0x14c60b(0x169)][_0x14c60b(0x16f)]],_0x22ecbc=[..._0x121a68[_0x14c60b(0x169)][_0x14c60b(0x1bc)]],_0x45635b=[..._0x121a68[_0x14c60b(0x169)]['primary_code_hide']],_0x3e8038=[..._0x121a68[_0x14c60b(0x169)][_0x14c60b(0x154)]],_0xb013ce=[..._0x121a68['body'][_0x14c60b(0x17d)]];const _0x3296e2=_0x4893be[_0x14c60b(0x14b)](_0xc95a94=>{return _0xc95a94={'product_name':_0xc95a94};});_0x1cf87f[_0x14c60b(0x198)]((_0x380572,_0x3a3f6a)=>{var _0x49278a=_0x14c60b;_0x3296e2[_0x3a3f6a][_0x49278a(0x171)]=_0x380572;}),_0x12ca70[_0x14c60b(0x198)]((_0x251c69,_0x157ebe)=>{_0x3296e2[_0x157ebe]['stock_quantity']=_0x251c69;}),_0x58463c[_0x14c60b(0x198)]((_0x5bcc51,_0x5093d4)=>{_0x3296e2[_0x5093d4]['return_qty']=_0x5bcc51;}),_0x4bc732[_0x14c60b(0x198)]((_0x246bf2,_0x1ab43f)=>{var _0x4b9891=_0x14c60b;_0x3296e2[_0x1ab43f][_0x4b9891(0x178)]=_0x246bf2;}),_0x4ff041['forEach']((_0x11265d,_0x414d06)=>{_0x3296e2[_0x414d06]['bin']=_0x11265d;}),_0x5d9a23['forEach']((_0x1f9ef4,_0x22514b)=>{var _0x45eeb7=_0x14c60b;_0x3296e2[_0x22514b][_0x45eeb7(0x161)]=_0x1f9ef4;}),_0x22ecbc['forEach']((_0x4fb6cf,_0x28c953)=>{var _0x2607a1=_0x14c60b;_0x3296e2[_0x28c953][_0x2607a1(0x155)]=_0x4fb6cf;}),_0x45635b[_0x14c60b(0x198)]((_0x4a4441,_0x43ae6c)=>{_0x3296e2[_0x43ae6c]['primary_code']=_0x4a4441;}),_0x3e8038[_0x14c60b(0x198)]((_0x4c0833,_0x188eeb)=>{_0x3296e2[_0x188eeb]['secondary_code']=_0x4c0833;}),_0xb013ce[_0x14c60b(0x198)]((_0x490758,_0x3ebc64)=>{var _0x2c44a5=_0x14c60b;_0x3296e2[_0x3ebc64][_0x2c44a5(0x1b9)]=_0x490758;});var _0x43d254=0x0;_0x3296e2['forEach'](_0x475959=>{var _0x50f3d1=_0x14c60b;console[_0x50f3d1(0x1a8)](_0x50f3d1(0x163),_0x475959),(parseInt(_0x475959[_0x50f3d1(0x171)])<parseInt(_0x475959['return_qty'])||parseInt(_0x475959[_0x50f3d1(0x1a6)])<parseInt(_0x475959[_0x50f3d1(0x1aa)])||parseInt(_0x475959[_0x50f3d1(0x1aa)])==0x0)&&_0x43d254++;});if(_0x43d254!=0x0)return _0x121a68[_0x14c60b(0x1af)]('errors',_0x14c60b(0x1a2)),_0x200e05[_0x14c60b(0x19b)]('back');_0x37b671[_0x14c60b(0x14f)][_0x14c60b(0x198)](_0x338880=>{var _0x25e5b6=_0x14c60b;const _0x23bf5d=_0x460f3a[_0x25e5b6(0x1ad)][_0x25e5b6(0x14b)](_0x5d56ca=>{var _0x1a2a0c=_0x25e5b6;_0x5d56ca[_0x1a2a0c(0x173)]==_0x338880[_0x1a2a0c(0x173)]&&_0x5d56ca[_0x1a2a0c(0x161)]==_0x338880['floorlevel']&&_0x5d56ca[_0x1a2a0c(0x1b9)]==_0x338880[_0x1a2a0c(0x1b9)]&&_0x5d56ca[_0x1a2a0c(0x19e)]==_0x338880[_0x1a2a0c(0x19e)]&&_0x5d56ca[_0x1a2a0c(0x178)]==_0x338880[_0x1a2a0c(0x178)]&&(_0x5d56ca[_0x1a2a0c(0x1be)]=parseInt(_0x5d56ca[_0x1a2a0c(0x1be)])+parseInt(_0x338880['return_qty']));});}),console[_0x14c60b(0x1a8)]('old_warehouse_data',_0x460f3a),await _0x460f3a[_0x14c60b(0x1c0)](),_0x37b671[_0x14c60b(0x1c2)]=_0xe0a992,_0x37b671[_0x14c60b(0x180)]=_0x34e7cd,_0x37b671[_0x14c60b(0x1bb)]=_0x27dd76,_0x37b671['warehouse_name']=_0x3dca0a,_0x37b671[_0x14c60b(0x14f)]=_0x3296e2,_0x37b671[_0x14c60b(0x19d)]=_0x39c368,_0x37b671['room']=_0x35e877,_0x37b671[_0x14c60b(0x194)]=_0x4933b1,_0x37b671[_0x14c60b(0x17c)]=_0x3076c3;const _0x43b543=await _0x37b671['save'](),_0x22cc49=await purchases_return[_0x14c60b(0x158)]({'invoice':_0x121a68[_0x14c60b(0x169)][_0x14c60b(0x1c2)]}),_0xe5b834=await warehouse[_0x14c60b(0x158)]({'name':_0x121a68[_0x14c60b(0x169)][_0x14c60b(0x194)],'room':_0x121a68['body'][_0x14c60b(0x197)]});_0x22cc49['return_product'][_0x14c60b(0x198)](_0x57c8f5=>{var _0x45bc65=_0x14c60b;_0xe5b834['product_details'][_0x45bc65(0x14b)](_0x566f8f=>{var _0x41451f=_0x45bc65;_0x566f8f[_0x41451f(0x173)]==_0x57c8f5[_0x41451f(0x173)]&&_0x566f8f[_0x41451f(0x16f)]==_0x57c8f5[_0x41451f(0x16f)]&&(_0x566f8f[_0x41451f(0x1be)]=parseInt(_0x566f8f[_0x41451f(0x1be)])-parseInt(_0x57c8f5[_0x41451f(0x1aa)]),console['log'](_0x41451f(0x1bf),_0x57c8f5['return_qty']));});}),console[_0x14c60b(0x1a8)](_0x14c60b(0x1b4),_0xe5b834),await _0xe5b834['save']();const _0x136acb=await s_payment_data[_0x14c60b(0x158)]({'invoice':_0x121a68['body'][_0x14c60b(0x1c2)],'reason':'Purchase\x20Return'});await _0x136acb['save'](),_0x121a68['flash'](_0x14c60b(0x159),_0x14c60b(0x18d)),_0x200e05[_0x14c60b(0x19b)](_0x14c60b(0x17b));}catch(_0x2cb6b5){console[_0x14c60b(0x1a8)](_0x2cb6b5),_0x200e05['status'](0xc8)[_0x14c60b(0x15a)]({'message':_0x2cb6b5[_0x14c60b(0x160)]});}}),router[a0_0x1e07c0(0x16d)](a0_0x1e07c0(0x183),auth,async(_0x15d8f9,_0x24c887)=>{var _0x59052b=a0_0x1e07c0;try{const {username:_0x55a033,email:_0x11b3d7,role:_0x4f2488}=_0x15d8f9['user'],_0x4df057=_0x15d8f9['user'],_0x2c6d4f=await profile[_0x59052b(0x158)]({'email':_0x4df057['email']}),_0x7b2b49=await master_shop[_0x59052b(0x17e)]();console[_0x59052b(0x1a8)](_0x59052b(0x147),_0x7b2b49);const _0x15dea7=_0x15d8f9[_0x59052b(0x164)]['id'],_0x53025c=await purchases_return[_0x59052b(0x145)](_0x15dea7);console[_0x59052b(0x1a8)](_0x53025c);const _0x2d681f=await suppliers[_0x59052b(0x158)]({'name':_0x53025c[_0x59052b(0x180)]});console['log'](_0x2d681f);if(_0x7b2b49[0x0][_0x59052b(0x18f)]==_0x59052b(0x17f)){var _0xf9ddfa=users[_0x59052b(0x16c)];console[_0x59052b(0x1a8)](_0xf9ddfa);}else{if(_0x7b2b49[0x0][_0x59052b(0x18f)]==_0x59052b(0x192))var _0xf9ddfa=users[_0x59052b(0x192)];else{if(_0x7b2b49[0x0][_0x59052b(0x18f)]==_0x59052b(0x184))var _0xf9ddfa=users['German'];else{if(_0x7b2b49[0x0][_0x59052b(0x18f)]==_0x59052b(0x156))var _0xf9ddfa=users[_0x59052b(0x156)];else{if(_0x7b2b49[0x0][_0x59052b(0x18f)]==_0x59052b(0x165))var _0xf9ddfa=users[_0x59052b(0x165)];else{if(_0x7b2b49[0x0]['language']==_0x59052b(0x199))var _0xf9ddfa=users[_0x59052b(0x1bd)];else{if(_0x7b2b49[0x0]['language']==_0x59052b(0x18b))var _0xf9ddfa=users[_0x59052b(0x18b)];else{if(_0x7b2b49[0x0]['language']==_0x59052b(0x16a))var _0xf9ddfa=users[_0x59052b(0x15e)];}}}}}}}_0x24c887[_0x59052b(0x14d)]('return_purchase_invoice',{'success':_0x15d8f9[_0x59052b(0x1af)](_0x59052b(0x159)),'errors':_0x15d8f9[_0x59052b(0x1af)](_0x59052b(0x175)),'role':_0x4df057,'profile':_0x2c6d4f,'master_shop':_0x7b2b49,'supplier':_0x2d681f,'purchase':_0x53025c,'language':_0xf9ddfa});}catch(_0x5da997){console[_0x59052b(0x1a8)](_0x5da997);}}),router[a0_0x1e07c0(0x151)](a0_0x1e07c0(0x1b2),auth,async(_0x1f05fd,_0x2d03a7)=>{var _0x290da4=a0_0x1e07c0;try{const _0x1a0982=_0x1f05fd[_0x290da4(0x164)]['id'],{invoice:_0x48f263,suppliers:_0x1b7301,receivable_amount:_0x436b28,received_amount:_0xbf1a8f}=_0x1f05fd[_0x290da4(0x169)],_0x452710=await purchases_return[_0x290da4(0x145)](_0x1a0982);console['log'](_0x452710);var _0x890c8e=_0x436b28-_0xbf1a8f;console[_0x290da4(0x1a8)](_0xbf1a8f),_0x452710[_0x290da4(0x168)]=parseFloat(_0xbf1a8f)+parseFloat(_0x452710[_0x290da4(0x168)]),_0x452710['due_amount']=_0x890c8e,console[_0x290da4(0x1a8)](_0x452710);const _0x531cfb=await _0x452710[_0x290da4(0x1c0)](),_0x253b7c=await s_payment_data[_0x290da4(0x158)]({'invoice':_0x1f05fd[_0x290da4(0x169)][_0x290da4(0x1c2)],'reason':_0x290da4(0x18c)});_0x253b7c['amount']=_0x890c8e,await _0x253b7c[_0x290da4(0x1c0)]();let _0x1994b3=new Date(),_0x46c62a=('0'+_0x1994b3[_0x290da4(0x1a9)]())[_0x290da4(0x19f)](-0x2),_0x46d39e=('0'+(_0x1994b3[_0x290da4(0x167)]()+0x1))[_0x290da4(0x19f)](-0x2),_0x5516bf=_0x1994b3['getFullYear'](),_0x5615f3=_0x5516bf+'-'+_0x46d39e+'-'+_0x46c62a;const _0xbf9006=new suppliers_payment({'invoice':_0x48f263,'date':_0x5516bf+'-'+_0x46d39e+'-'+_0x46c62a,'suppliers':_0x1b7301,'reason':_0x290da4(0x149),'amount':_0xbf1a8f}),_0x32d0d0=await _0xbf9006[_0x290da4(0x1c0)]();_0x1f05fd[_0x290da4(0x1af)](_0x290da4(0x159),_0x290da4(0x196)),_0x2d03a7[_0x290da4(0x19b)](_0x290da4(0x17b));}catch(_0x54d9fe){console[_0x290da4(0x1a8)](_0x54d9fe);}}),module[a0_0x1e07c0(0x1b0)]=router;