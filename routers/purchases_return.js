function a0_0x41b4(){var _0x188b52=['status','json','$product_details.rack','$return_product.return_qty','$supplier_docs','$supplier_docs.mobile','findOne','get','stocks','6rotpoC','../models/all_models','aggregate','room','product_name','39005720fjtTAd','find','130132zPSxRF','map','product_stock','received','$_id','return_purchase_edit','log','master','Enabled','$received','foreach\x20newproduct','Return\x20Goods','express','body','Chinese','English\x20(US)','product_code','suppliers','/view/:id','15651207MqPmIw','../middleware/auth','email','secondary_code_hide','return_product','914869PkKANy','$return_product.total','purchase\x20return\x20successfully','$product_details','success','message','flash','redirect','user','to_warehouse_name','English','Arabic','$product_details.type','slice','$name','language','81JTgCjt','findById','854ZXylno','$supplier_docs.address','purchases_return','exports','$warehouse_name','old_warehouse_data','floorlevel','params','post','getDate','level','type','Raw\x20Materials','Portuguese','final','payment\x20successfull','secondary_code','German','$return_product','stock_quantity','$due_amount','$product_details.floorlevel','errors','French','$return_product.price','Purchase\x20Return','bay','2194944QzKloY','date','due_amount','$discount','Spanish','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','getFullYear','note','$product_details.product_stock','$product_details._id','Arabic\x20(ae)','/purchases_return/view','$invoice','product_details','bin','pallet','product_code_hide','$product_details.storage','to_Room_name','invoice','supplier_docs','to_room','return_qty','4989570UpnprG','product_details.return_qtyproduct_details.return_qty','54592HWuXyG','warehouse_name','purchase_quantity','string','$product_details.product_code','forEach','primary_code','$supplier_docs.email','/invoice/:id','render','isle','save','Hindi'];a0_0x41b4=function(){return _0x188b52;};return a0_0x41b4();}var a0_0xc3c249=a0_0x1036;(function(_0x59cfa4,_0x3a7376){var _0x39f67e=a0_0x1036,_0x135174=_0x59cfa4();while(!![]){try{var _0x1254bc=parseInt(_0x39f67e(0x21e))/0x1+-parseInt(_0x39f67e(0x24b))/0x2+parseInt(_0x39f67e(0x22e))/0x3*(-parseInt(_0x39f67e(0x206))/0x4)+parseInt(_0x39f67e(0x262))/0x5*(-parseInt(_0x39f67e(0x1ff))/0x6)+parseInt(_0x39f67e(0x230))/0x7*(parseInt(_0x39f67e(0x264))/0x8)+-parseInt(_0x39f67e(0x219))/0x9+parseInt(_0x39f67e(0x204))/0xa;if(_0x1254bc===_0x3a7376)break;else _0x135174['push'](_0x135174['shift']());}catch(_0x487b6e){_0x135174['push'](_0x135174['shift']());}}}(a0_0x41b4,0xe4501));const express=require(a0_0xc3c249(0x212)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0xc3c249(0x200)),auth=require(a0_0xc3c249(0x21a)),users=require('../public/language/languages.json');function a0_0x1036(_0x59bd07,_0x2584e1){var _0x41b46f=a0_0x41b4();return a0_0x1036=function(_0x1036bc,_0x5b25ee){_0x1036bc=_0x1036bc-0x1eb;var _0x4f0287=_0x41b46f[_0x1036bc];return _0x4f0287;},a0_0x1036(_0x59bd07,_0x2584e1);}router[a0_0xc3c249(0x1fd)]('/view',auth,async(_0x17a92d,_0x5bd20c)=>{var _0x3139dd=a0_0xc3c249;try{const {username:_0x35128d,email:_0x12871f,role:_0x4001b7}=_0x17a92d['user'],_0x5af45e=_0x17a92d[_0x3139dd(0x226)],_0x57f1dc=await profile['findOne']({'email':_0x5af45e[_0x3139dd(0x21b)]}),_0x1d33b0=await master_shop[_0x3139dd(0x205)]();console['log'](_0x3139dd(0x20d),_0x1d33b0);const _0x188abc=await purchases_return['aggregate']([{'$lookup':{'from':_0x3139dd(0x217),'localField':_0x3139dd(0x217),'foreignField':'name','as':_0x3139dd(0x25f)}},{'$unwind':_0x3139dd(0x242)},{'$unwind':_0x3139dd(0x1fa)},{'$group':{'_id':_0x3139dd(0x20a),'invoice':{'$first':_0x3139dd(0x257)},'date':{'$first':'$date'},'suppliers':{'$first':'$suppliers'},'warehouse_name':{'$first':_0x3139dd(0x234)},'product_name':{'$first':'$return_product.product_name'},'return_qty':{'$first':_0x3139dd(0x1f9)},'price':{'$first':_0x3139dd(0x248)},'total':{'$sum':_0x3139dd(0x21f)},'note':{'$first':'$note'},'total_amount':{'$first':'$total_amount'},'discount':{'$first':_0x3139dd(0x24e)},'receivable':{'$first':'$receivable'},'received':{'$first':_0x3139dd(0x20f)},'due_amount':{'$first':_0x3139dd(0x244)},'mobile':{'$first':_0x3139dd(0x1fb)},'email':{'$first':_0x3139dd(0x1f0)},'address':{'$first':_0x3139dd(0x231)},'return_sum_qty':{'$sum':_0x3139dd(0x1f9)}}}]);console[_0x3139dd(0x20c)](_0x188abc);if(_0x1d33b0[0x0][_0x3139dd(0x22d)]==_0x3139dd(0x215)){var _0xd74a02=users[_0x3139dd(0x228)];console['log'](_0xd74a02);}else{if(_0x1d33b0[0x0][_0x3139dd(0x22d)]==_0x3139dd(0x1f5))var _0xd74a02=users[_0x3139dd(0x1f5)];else{if(_0x1d33b0[0x0][_0x3139dd(0x22d)]==_0x3139dd(0x241))var _0xd74a02=users[_0x3139dd(0x241)];else{if(_0x1d33b0[0x0][_0x3139dd(0x22d)]==_0x3139dd(0x24f))var _0xd74a02=users[_0x3139dd(0x24f)];else{if(_0x1d33b0[0x0]['language']=='French')var _0xd74a02=users[_0x3139dd(0x247)];else{if(_0x1d33b0[0x0][_0x3139dd(0x22d)]=='Portuguese\x20(BR)')var _0xd74a02=users[_0x3139dd(0x23d)];else{if(_0x1d33b0[0x0][_0x3139dd(0x22d)]==_0x3139dd(0x214))var _0xd74a02=users['Chinese'];else{if(_0x1d33b0[0x0][_0x3139dd(0x22d)]==_0x3139dd(0x255))var _0xd74a02=users[_0x3139dd(0x229)];}}}}}}}_0x5bd20c[_0x3139dd(0x1f2)](_0x3139dd(0x232),{'success':_0x17a92d['flash']('success'),'errors':_0x17a92d[_0x3139dd(0x224)]('errors'),'role':_0x5af45e,'profile':_0x57f1dc,'master_shop':_0x1d33b0,'user':_0x188abc,'language':_0xd74a02});}catch(_0x54bf9d){console['log'](_0x54bf9d);}}),router['get'](a0_0xc3c249(0x218),auth,async(_0x528cdb,_0x137c25)=>{var _0x1b97ae=a0_0xc3c249;try{const {username:_0x11357c,email:_0x56035f,role:_0xe21731}=_0x528cdb[_0x1b97ae(0x226)],_0x34b8ca=_0x528cdb[_0x1b97ae(0x226)],_0x5af64c=await profile['findOne']({'email':_0x34b8ca[_0x1b97ae(0x21b)]}),_0x40bedd=await product[_0x1b97ae(0x205)]({}),_0x34f136=await master_shop[_0x1b97ae(0x205)]();console[_0x1b97ae(0x20c)](_0x1b97ae(0x20d),_0x34f136),console[_0x1b97ae(0x20c)](_0x528cdb[_0x1b97ae(0x213)]);const _0x4a8b4a=_0x528cdb['params']['id'],_0x47f5d1=await purchases_return[_0x1b97ae(0x22f)](_0x4a8b4a);console['log'](_0x47f5d1);const _0x1cdd59=await warehouse['aggregate']([{'$match':{'name':_0x47f5d1[_0x1b97ae(0x265)],'room':_0x47f5d1['room']}},{'$unwind':_0x1b97ae(0x221)},{'$group':{'_id':_0x1b97ae(0x254),'name':{'$first':'$product_details.product_name'},'product_stock':{'$first':_0x1b97ae(0x253)},'bay':{'$first':'$product_details.bay'},'bin':{'$first':'$product_details.bin'},'type':{'$first':_0x1b97ae(0x22a)},'floorlevel':{'$first':_0x1b97ae(0x245)},'primary_code':{'$first':'$product_details.primary_code'},'secondary_code':{'$first':'$product_details.secondary_code'},'product_code':{'$first':_0x1b97ae(0x1ed)},'storage':{'$first':_0x1b97ae(0x25c)},'rack':{'$first':_0x1b97ae(0x1f8)}}}]);warehouse_data=await warehouse[_0x1b97ae(0x201)]([{'$match':{'status':_0x1b97ae(0x20e),'name':_0x1b97ae(0x211),'warehouse_category':_0x1b97ae(0x23c)}},{'$group':{'_id':'$name','name':{'$first':_0x1b97ae(0x22c)}}},{'$sort':{'name':0x1}}]),console['log']('stock_data',_0x1cdd59);if(_0x34f136[0x0][_0x1b97ae(0x22d)]==_0x1b97ae(0x215)){var _0x3b3aec=users['English'];console[_0x1b97ae(0x20c)](_0x3b3aec);}else{if(_0x34f136[0x0]['language']==_0x1b97ae(0x1f5))var _0x3b3aec=users[_0x1b97ae(0x1f5)];else{if(_0x34f136[0x0]['language']==_0x1b97ae(0x241))var _0x3b3aec=users['German'];else{if(_0x34f136[0x0][_0x1b97ae(0x22d)]==_0x1b97ae(0x24f))var _0x3b3aec=users[_0x1b97ae(0x24f)];else{if(_0x34f136[0x0]['language']=='French')var _0x3b3aec=users[_0x1b97ae(0x247)];else{if(_0x34f136[0x0][_0x1b97ae(0x22d)]=='Portuguese\x20(BR)')var _0x3b3aec=users['Portuguese'];else{if(_0x34f136[0x0]['language']==_0x1b97ae(0x214))var _0x3b3aec=users[_0x1b97ae(0x214)];else{if(_0x34f136[0x0][_0x1b97ae(0x22d)]==_0x1b97ae(0x255))var _0x3b3aec=users['Arabic'];}}}}}}}_0x137c25[_0x1b97ae(0x1f2)](_0x1b97ae(0x20b),{'success':_0x528cdb[_0x1b97ae(0x224)](_0x1b97ae(0x222)),'errors':_0x528cdb[_0x1b97ae(0x224)](_0x1b97ae(0x246)),'role':_0x34b8ca,'master_shop':_0x34f136,'profile':_0x5af64c,'user':_0x47f5d1,'stock':_0x1cdd59,'product':_0x40bedd,'language':_0x3b3aec,'warehouse':warehouse_data});}catch(_0x14eb13){console[_0x1b97ae(0x20c)](_0x14eb13);}}),router[a0_0xc3c249(0x238)](a0_0xc3c249(0x218),auth,async(_0x2d76ee,_0x29a26f)=>{var _0x18d3a2=a0_0xc3c249;try{const _0x1e85d1=_0x2d76ee[_0x18d3a2(0x237)]['id'];console[_0x18d3a2(0x20c)](_0x1e85d1);const _0x17fa5c=await purchases_return['findOne']({'invoice':_0x2d76ee['body'][_0x18d3a2(0x25e)]});console[_0x18d3a2(0x20c)]('old_data',_0x17fa5c);const _0x43fe85=await warehouse[_0x18d3a2(0x1fc)]({'name':_0x17fa5c[_0x18d3a2(0x227)],'room':_0x17fa5c[_0x18d3a2(0x260)]});console[_0x18d3a2(0x20c)](_0x18d3a2(0x235),_0x43fe85);const {invoice:_0x45d560,suppliers:_0x333023,date:_0x437b9e,warehouse_name:_0x44618d,product_name:_0x3966e7,purchase_quantity:_0x216996,stocks:_0xda8271,return_qty:_0x3d4269,note:_0x2c3512,Room_name:_0x179f02,level:_0x253890,isle:_0x18dd0f,pallet:_0xe872b9,to_warehouse_name:_0x265d7e,to_Room_name:_0x88c362}=_0x2d76ee[_0x18d3a2(0x213)];if(typeof _0x3966e7==_0x18d3a2(0x1ec))var _0x1e99d0=[_0x2d76ee[_0x18d3a2(0x213)][_0x18d3a2(0x203)]],_0x413768=[_0x2d76ee[_0x18d3a2(0x213)]['purchase_quantity']],_0x4e4e24=[_0x2d76ee[_0x18d3a2(0x213)][_0x18d3a2(0x1fe)]],_0x19e7bc=[_0x2d76ee['body'][_0x18d3a2(0x261)]],_0x5b9144=[_0x2d76ee[_0x18d3a2(0x213)][_0x18d3a2(0x23a)]],_0x2d170f=[_0x2d76ee[_0x18d3a2(0x213)][_0x18d3a2(0x1f3)]],_0x3b1f11=[_0x2d76ee[_0x18d3a2(0x213)][_0x18d3a2(0x25a)]],_0x12f848=[_0x2d76ee[_0x18d3a2(0x213)]['types']],_0x5bc6e5=[_0x2d76ee[_0x18d3a2(0x213)][_0x18d3a2(0x25b)]],_0x29026b=[_0x2d76ee[_0x18d3a2(0x213)]['primary_code_hide']],_0xc8f5a0=[_0x2d76ee[_0x18d3a2(0x213)][_0x18d3a2(0x21c)]];else var _0x1e99d0=[..._0x2d76ee[_0x18d3a2(0x213)][_0x18d3a2(0x203)]],_0x413768=[..._0x2d76ee['body'][_0x18d3a2(0x1eb)]],_0x4e4e24=[..._0x2d76ee[_0x18d3a2(0x213)][_0x18d3a2(0x1fe)]],_0x19e7bc=[..._0x2d76ee[_0x18d3a2(0x213)]['return_qty']],_0x5b9144=[..._0x2d76ee[_0x18d3a2(0x213)][_0x18d3a2(0x23a)]],_0x2d170f=[..._0x2d76ee[_0x18d3a2(0x213)]['isle']],_0x3b1f11=[..._0x2d76ee[_0x18d3a2(0x213)]['pallet']],_0x5bc6e5=[..._0x2d76ee[_0x18d3a2(0x213)][_0x18d3a2(0x25b)]],_0x29026b=[..._0x2d76ee['body']['primary_code_hide']],_0xc8f5a0=[..._0x2d76ee['body'][_0x18d3a2(0x21c)]],_0x12f848=[..._0x2d76ee[_0x18d3a2(0x213)]['types']];const _0x5e42b8=_0x1e99d0[_0x18d3a2(0x207)](_0x37a91c=>{return _0x37a91c={'product_name':_0x37a91c};});_0x413768[_0x18d3a2(0x1ee)]((_0x338198,_0x575ae5)=>{_0x5e42b8[_0x575ae5]['purchase_quantity']=_0x338198;}),_0x4e4e24[_0x18d3a2(0x1ee)]((_0x10401f,_0x33613a)=>{var _0x2c7c92=_0x18d3a2;_0x5e42b8[_0x33613a][_0x2c7c92(0x243)]=_0x10401f;}),_0x19e7bc[_0x18d3a2(0x1ee)]((_0x1090bf,_0x4080d0)=>{var _0x516e6d=_0x18d3a2;_0x5e42b8[_0x4080d0][_0x516e6d(0x261)]=_0x1090bf;}),_0x5b9144[_0x18d3a2(0x1ee)]((_0x272ad4,_0xf6e76a)=>{var _0x26500c=_0x18d3a2;_0x5e42b8[_0xf6e76a][_0x26500c(0x24a)]=_0x272ad4;}),_0x2d170f[_0x18d3a2(0x1ee)]((_0x4cbbca,_0xe97a9)=>{var _0x39f392=_0x18d3a2;_0x5e42b8[_0xe97a9][_0x39f392(0x259)]=_0x4cbbca;}),_0x3b1f11[_0x18d3a2(0x1ee)]((_0x227151,_0x180bfc)=>{var _0xacfa1f=_0x18d3a2;_0x5e42b8[_0x180bfc][_0xacfa1f(0x236)]=_0x227151;}),_0x5bc6e5[_0x18d3a2(0x1ee)]((_0x248a3b,_0x3dadba)=>{var _0x261156=_0x18d3a2;_0x5e42b8[_0x3dadba][_0x261156(0x216)]=_0x248a3b;}),_0x29026b[_0x18d3a2(0x1ee)]((_0x924394,_0x188b7e)=>{var _0x2544eb=_0x18d3a2;_0x5e42b8[_0x188b7e][_0x2544eb(0x1ef)]=_0x924394;}),_0xc8f5a0[_0x18d3a2(0x1ee)]((_0x4e628e,_0x4eaf21)=>{var _0x2d8fbd=_0x18d3a2;_0x5e42b8[_0x4eaf21][_0x2d8fbd(0x240)]=_0x4e628e;}),_0x12f848['forEach']((_0x5b199f,_0x3ec798)=>{var _0x3c56e8=_0x18d3a2;_0x5e42b8[_0x3ec798][_0x3c56e8(0x23b)]=_0x5b199f;});var _0x59d05d=0x0;_0x5e42b8[_0x18d3a2(0x1ee)](_0x487591=>{var _0x3269c7=_0x18d3a2;console[_0x3269c7(0x20c)](_0x3269c7(0x210),_0x487591),(parseInt(_0x487591['purchase_quantity'])<parseInt(_0x487591[_0x3269c7(0x261)])||parseInt(_0x487591['stock_quantity'])<parseInt(_0x487591[_0x3269c7(0x261)])||parseInt(_0x487591['return_qty'])==0x0)&&_0x59d05d++;});if(_0x59d05d!=0x0)return _0x2d76ee[_0x18d3a2(0x224)](_0x18d3a2(0x246),_0x18d3a2(0x250)),_0x29a26f[_0x18d3a2(0x225)]('back');_0x17fa5c[_0x18d3a2(0x21d)][_0x18d3a2(0x1ee)](_0x50eab4=>{var _0x1ee355=_0x18d3a2;const _0x2e18a8=_0x43fe85['product_details'][_0x1ee355(0x207)](_0x434e76=>{var _0x2ee1cc=_0x1ee355;_0x434e76[_0x2ee1cc(0x203)]==_0x50eab4[_0x2ee1cc(0x203)]&&_0x434e76[_0x2ee1cc(0x236)]==_0x50eab4['floorlevel']&&_0x434e76['type']==_0x50eab4['type']&&_0x434e76['bin']==_0x50eab4[_0x2ee1cc(0x259)]&&_0x434e76[_0x2ee1cc(0x24a)]==_0x50eab4['bay']&&(_0x434e76[_0x2ee1cc(0x208)]=parseInt(_0x434e76['product_stock'])+parseInt(_0x50eab4['return_qty']));});}),console[_0x18d3a2(0x20c)](_0x18d3a2(0x235),_0x43fe85),await _0x43fe85[_0x18d3a2(0x1f4)](),_0x17fa5c[_0x18d3a2(0x25e)]=_0x45d560,_0x17fa5c[_0x18d3a2(0x217)]=_0x333023,_0x17fa5c[_0x18d3a2(0x24c)]=_0x437b9e,_0x17fa5c['warehouse_name']=_0x44618d,_0x17fa5c[_0x18d3a2(0x21d)]=_0x5e42b8,_0x17fa5c[_0x18d3a2(0x252)]=_0x2c3512,_0x17fa5c[_0x18d3a2(0x202)]=_0x179f02,_0x17fa5c[_0x18d3a2(0x227)]=_0x265d7e,_0x17fa5c[_0x18d3a2(0x260)]=_0x88c362;const _0x2b20bb=await _0x17fa5c[_0x18d3a2(0x1f4)](),_0x156ae6=await purchases_return[_0x18d3a2(0x1fc)]({'invoice':_0x2d76ee['body'][_0x18d3a2(0x25e)]}),_0x21fd7f=await warehouse[_0x18d3a2(0x1fc)]({'name':_0x2d76ee[_0x18d3a2(0x213)][_0x18d3a2(0x227)],'room':_0x2d76ee[_0x18d3a2(0x213)][_0x18d3a2(0x25d)]});_0x156ae6[_0x18d3a2(0x21d)]['forEach'](_0x5ac6cc=>{var _0x3ad502=_0x18d3a2;_0x21fd7f[_0x3ad502(0x258)][_0x3ad502(0x207)](_0xf0de73=>{var _0x2ea732=_0x3ad502;_0xf0de73['product_name']==_0x5ac6cc[_0x2ea732(0x203)]&&_0xf0de73[_0x2ea732(0x25a)]==_0x5ac6cc[_0x2ea732(0x25a)]&&(_0xf0de73['product_stock']=parseInt(_0xf0de73[_0x2ea732(0x208)])-parseInt(_0x5ac6cc['return_qty']),console[_0x2ea732(0x20c)](_0x2ea732(0x263),_0x5ac6cc[_0x2ea732(0x261)]));});}),console[_0x18d3a2(0x20c)](_0x18d3a2(0x23e),_0x21fd7f),await _0x21fd7f[_0x18d3a2(0x1f4)]();const _0x111aad=await s_payment_data[_0x18d3a2(0x1fc)]({'invoice':_0x2d76ee[_0x18d3a2(0x213)]['invoice'],'reason':_0x18d3a2(0x249)});await _0x111aad[_0x18d3a2(0x1f4)](),_0x2d76ee[_0x18d3a2(0x224)](_0x18d3a2(0x222),_0x18d3a2(0x220)),_0x29a26f[_0x18d3a2(0x225)]('/purchases_return/view');}catch(_0x5d8645){console[_0x18d3a2(0x20c)](_0x5d8645),_0x29a26f[_0x18d3a2(0x1f6)](0xc8)[_0x18d3a2(0x1f7)]({'message':_0x5d8645[_0x18d3a2(0x223)]});}}),router[a0_0xc3c249(0x1fd)](a0_0xc3c249(0x1f1),auth,async(_0x63eb79,_0x14ed0d)=>{var _0x19070c=a0_0xc3c249;try{const {username:_0x145bea,email:_0x25e23f,role:_0x32a748}=_0x63eb79[_0x19070c(0x226)],_0xef51ea=_0x63eb79['user'],_0x449240=await profile['findOne']({'email':_0xef51ea[_0x19070c(0x21b)]}),_0x5aa009=await master_shop[_0x19070c(0x205)]();console[_0x19070c(0x20c)]('master',_0x5aa009);const _0x2326e0=_0x63eb79[_0x19070c(0x237)]['id'],_0x51b2f6=await purchases_return['findById'](_0x2326e0);console['log'](_0x51b2f6);const _0x5d59ce=await suppliers[_0x19070c(0x1fc)]({'name':_0x51b2f6['suppliers']});console[_0x19070c(0x20c)](_0x5d59ce);if(_0x5aa009[0x0][_0x19070c(0x22d)]==_0x19070c(0x215)){var _0xfd499e=users[_0x19070c(0x228)];console['log'](_0xfd499e);}else{if(_0x5aa009[0x0][_0x19070c(0x22d)]==_0x19070c(0x1f5))var _0xfd499e=users[_0x19070c(0x1f5)];else{if(_0x5aa009[0x0][_0x19070c(0x22d)]==_0x19070c(0x241))var _0xfd499e=users[_0x19070c(0x241)];else{if(_0x5aa009[0x0][_0x19070c(0x22d)]==_0x19070c(0x24f))var _0xfd499e=users[_0x19070c(0x24f)];else{if(_0x5aa009[0x0]['language']==_0x19070c(0x247))var _0xfd499e=users[_0x19070c(0x247)];else{if(_0x5aa009[0x0]['language']=='Portuguese\x20(BR)')var _0xfd499e=users[_0x19070c(0x23d)];else{if(_0x5aa009[0x0][_0x19070c(0x22d)]==_0x19070c(0x214))var _0xfd499e=users[_0x19070c(0x214)];else{if(_0x5aa009[0x0]['language']==_0x19070c(0x255))var _0xfd499e=users['Arabic'];}}}}}}}_0x14ed0d['render']('return_purchase_invoice',{'success':_0x63eb79[_0x19070c(0x224)](_0x19070c(0x222)),'errors':_0x63eb79[_0x19070c(0x224)](_0x19070c(0x246)),'role':_0xef51ea,'profile':_0x449240,'master_shop':_0x5aa009,'supplier':_0x5d59ce,'purchase':_0x51b2f6,'language':_0xfd499e});}catch(_0x346bbc){console[_0x19070c(0x20c)](_0x346bbc);}}),router[a0_0xc3c249(0x238)]('/receive_payment/:id',auth,async(_0x8ec403,_0x6b88e)=>{var _0x1b2590=a0_0xc3c249;try{const _0x558b55=_0x8ec403[_0x1b2590(0x237)]['id'],{invoice:_0x379f90,suppliers:_0x5d026e,receivable_amount:_0x5eafc1,received_amount:_0x578400}=_0x8ec403['body'],_0x175ec3=await purchases_return['findById'](_0x558b55);console[_0x1b2590(0x20c)](_0x175ec3);var _0x31c9ce=_0x5eafc1-_0x578400;console[_0x1b2590(0x20c)](_0x578400),_0x175ec3[_0x1b2590(0x209)]=parseFloat(_0x578400)+parseFloat(_0x175ec3[_0x1b2590(0x209)]),_0x175ec3[_0x1b2590(0x24d)]=_0x31c9ce,console[_0x1b2590(0x20c)](_0x175ec3);const _0x492ee6=await _0x175ec3[_0x1b2590(0x1f4)](),_0x3cb1c0=await s_payment_data['findOne']({'invoice':_0x8ec403[_0x1b2590(0x213)][_0x1b2590(0x25e)],'reason':'Purchase\x20Return'});_0x3cb1c0['amount']=_0x31c9ce,await _0x3cb1c0[_0x1b2590(0x1f4)]();let _0x264abb=new Date(),_0x6245ef=('0'+_0x264abb[_0x1b2590(0x239)]())['slice'](-0x2),_0x24673d=('0'+(_0x264abb['getMonth']()+0x1))[_0x1b2590(0x22b)](-0x2),_0x3be093=_0x264abb[_0x1b2590(0x251)](),_0x532198=_0x3be093+'-'+_0x24673d+'-'+_0x6245ef;const _0x24b2a4=new suppliers_payment({'invoice':_0x379f90,'date':_0x3be093+'-'+_0x24673d+'-'+_0x6245ef,'suppliers':_0x5d026e,'reason':'Received\x20For\x20Purchase\x20Return','amount':_0x578400}),_0x12fc06=await _0x24b2a4[_0x1b2590(0x1f4)]();_0x8ec403[_0x1b2590(0x224)]('success',_0x1b2590(0x23f)),_0x6b88e['redirect'](_0x1b2590(0x256));}catch(_0x25f1e5){console['log'](_0x25f1e5);}}),module[a0_0xc3c249(0x233)]=router;