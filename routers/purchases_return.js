var a0_0x4e679a=a0_0x597f;function a0_0x597f(_0x28a399,_0x1ae050){var _0x4653ec=a0_0x4653();return a0_0x597f=function(_0x597fa7,_0x571925){_0x597fa7=_0x597fa7-0xea;var _0x6f0352=_0x4653ec[_0x597fa7];return _0x6f0352;},a0_0x597f(_0x28a399,_0x1ae050);}(function(_0x7b28b9,_0x2f6d1c){var _0x2d677e=a0_0x597f,_0x25f795=_0x7b28b9();while(!![]){try{var _0x48b49e=parseInt(_0x2d677e(0x15c))/0x1+-parseInt(_0x2d677e(0x124))/0x2*(parseInt(_0x2d677e(0xf4))/0x3)+-parseInt(_0x2d677e(0x10f))/0x4+parseInt(_0x2d677e(0x120))/0x5*(-parseInt(_0x2d677e(0x137))/0x6)+-parseInt(_0x2d677e(0x165))/0x7+parseInt(_0x2d677e(0x135))/0x8+parseInt(_0x2d677e(0x161))/0x9*(parseInt(_0x2d677e(0x128))/0xa);if(_0x48b49e===_0x2f6d1c)break;else _0x25f795['push'](_0x25f795['shift']());}catch(_0xe53e08){_0x25f795['push'](_0x25f795['shift']());}}}(a0_0x4653,0xec075));function a0_0x4653(){var _0x1cb691=['purchase_quantity','$product_details.rack','errors','redirect','1435672MGTnBq','$name','to_warehouse_name','params','$warehouse_name','return_purchase_edit','post','Enabled','$product_details.storage','status','body','$invoice','log','Arabic','$product_details.bay','$discount','$total_amount','3090tHAvdh','$return_product','Portuguese','back','4gazIKb','$product_details.product_stock','return_product','to_room','37150lpYYjB','$product_details.secondary_code','Purchase\x20Return','date','floorlevel','$date','$note','findById','supplier_docs','render','product_details','string','French','12335912isQppe','purchase\x20return\x20successfully','13320KQUIic','payment\x20successfull','return_purchase_invoice','English','Return\x20Goods','message','due_amount','$product_details.bin','Portuguese\x20(BR)','$receivable','email','express','product_stock','master','Chinese','primary_code_hide','/view','foreach\x20newproduct','language','bin','/receive_payment/:id','level','get','$product_details.product_name','stock_quantity','user','find','final','pallet','German','product_name','$product_details.primary_code','slice','secondary_code_hide','room','invoice','isle','1358143DoIcjc','/view/:id','findOne','purchases_return','$supplier_docs.email','882aezqqA','flash','bay','save','2812103hjEWmC','Raw\x20Materials','warehouse_name','success','Arabic\x20(ae)','secondary_code','$suppliers','return_qty','map','$_id','$product_details.product_code','English\x20(US)','247233JWDkAt','$product_details','$product_details._id','/invoice/:id','forEach','stock_data','product_code_hide','Router','type','$return_product.total','Hindi','$supplier_docs.address','getDate','/purchases_return/view','$product_details.floorlevel','$return_product.return_qty','suppliers','$return_product.product_name','received','../public/language/languages.json','name','primary_code','Spanish'];a0_0x4653=function(){return _0x1cb691;};return a0_0x4653();}const express=require(a0_0x4e679a(0x142)),app=express(),router=express[a0_0x4e679a(0xfb)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require('../models/all_models'),auth=require('../middleware/auth'),users=require(a0_0x4e679a(0x107));router[a0_0x4e679a(0x14d)](a0_0x4e679a(0x147),auth,async(_0x5a6fff,_0x5213f5)=>{var _0x1aeb01=a0_0x4e679a;try{const {username:_0x1a175e,email:_0x342886,role:_0x165a27}=_0x5a6fff[_0x1aeb01(0x150)],_0x41967d=_0x5a6fff['user'],_0x3732ad=await profile[_0x1aeb01(0x15e)]({'email':_0x41967d[_0x1aeb01(0x141)]}),_0x3ef135=await master_shop[_0x1aeb01(0x151)]();console[_0x1aeb01(0x11b)](_0x1aeb01(0x144),_0x3ef135);const _0x50d9da=await purchases_return['aggregate']([{'$lookup':{'from':_0x1aeb01(0x104),'localField':_0x1aeb01(0x104),'foreignField':_0x1aeb01(0x108),'as':_0x1aeb01(0x130)}},{'$unwind':_0x1aeb01(0x121)},{'$unwind':'$supplier_docs'},{'$group':{'_id':_0x1aeb01(0xf1),'invoice':{'$first':_0x1aeb01(0x11a)},'date':{'$first':_0x1aeb01(0x12d)},'suppliers':{'$first':_0x1aeb01(0xee)},'warehouse_name':{'$first':_0x1aeb01(0x113)},'product_name':{'$first':_0x1aeb01(0x105)},'return_qty':{'$first':_0x1aeb01(0x103)},'price':{'$first':'$return_product.price'},'total':{'$sum':_0x1aeb01(0xfd)},'note':{'$first':_0x1aeb01(0x12e)},'total_amount':{'$first':_0x1aeb01(0x11f)},'discount':{'$first':_0x1aeb01(0x11e)},'receivable':{'$first':_0x1aeb01(0x140)},'received':{'$first':'$received'},'due_amount':{'$first':'$due_amount'},'mobile':{'$first':'$supplier_docs.mobile'},'email':{'$first':_0x1aeb01(0x160)},'address':{'$first':_0x1aeb01(0xff)},'return_sum_qty':{'$sum':_0x1aeb01(0x103)}}}]);console[_0x1aeb01(0x11b)](_0x50d9da);if(_0x3ef135[0x0][_0x1aeb01(0x149)]=='English\x20(US)'){var _0x51c41b=users[_0x1aeb01(0x13a)];console[_0x1aeb01(0x11b)](_0x51c41b);}else{if(_0x3ef135[0x0][_0x1aeb01(0x149)]==_0x1aeb01(0xfe))var _0x51c41b=users[_0x1aeb01(0xfe)];else{if(_0x3ef135[0x0][_0x1aeb01(0x149)]==_0x1aeb01(0x154))var _0x51c41b=users[_0x1aeb01(0x154)];else{if(_0x3ef135[0x0][_0x1aeb01(0x149)]==_0x1aeb01(0x10a))var _0x51c41b=users['Spanish'];else{if(_0x3ef135[0x0]['language']==_0x1aeb01(0x134))var _0x51c41b=users[_0x1aeb01(0x134)];else{if(_0x3ef135[0x0][_0x1aeb01(0x149)]==_0x1aeb01(0x13f))var _0x51c41b=users[_0x1aeb01(0x122)];else{if(_0x3ef135[0x0]['language']==_0x1aeb01(0x145))var _0x51c41b=users['Chinese'];else{if(_0x3ef135[0x0][_0x1aeb01(0x149)]==_0x1aeb01(0xec))var _0x51c41b=users[_0x1aeb01(0x11c)];}}}}}}}_0x5213f5[_0x1aeb01(0x131)](_0x1aeb01(0x15f),{'success':_0x5a6fff[_0x1aeb01(0x162)]('success'),'errors':_0x5a6fff[_0x1aeb01(0x162)](_0x1aeb01(0x10d)),'role':_0x41967d,'profile':_0x3732ad,'master_shop':_0x3ef135,'user':_0x50d9da,'language':_0x51c41b});}catch(_0x12cd37){console[_0x1aeb01(0x11b)](_0x12cd37);}}),router['get']('/view/:id',auth,async(_0x873ed8,_0x44bc39)=>{var _0x529fad=a0_0x4e679a;try{const {username:_0x6b3d5c,email:_0x149dee,role:_0x2a9283}=_0x873ed8[_0x529fad(0x150)],_0x178315=_0x873ed8[_0x529fad(0x150)],_0x5f05d6=await profile['findOne']({'email':_0x178315[_0x529fad(0x141)]}),_0x5453b4=await product[_0x529fad(0x151)]({}),_0x4eb0ec=await master_shop[_0x529fad(0x151)]();console['log'](_0x529fad(0x144),_0x4eb0ec),console[_0x529fad(0x11b)](_0x873ed8[_0x529fad(0x119)]);const _0x4e095b=_0x873ed8['params']['id'],_0x397757=await purchases_return['findById'](_0x4e095b);console[_0x529fad(0x11b)](_0x397757);const _0xa63465=await warehouse['aggregate']([{'$match':{'name':_0x397757[_0x529fad(0xea)],'room':_0x397757[_0x529fad(0x159)]}},{'$unwind':_0x529fad(0xf5)},{'$group':{'_id':_0x529fad(0xf6),'name':{'$first':_0x529fad(0x14e)},'product_stock':{'$first':_0x529fad(0x125)},'bay':{'$first':_0x529fad(0x11d)},'bin':{'$first':_0x529fad(0x13e)},'type':{'$first':'$product_details.type'},'floorlevel':{'$first':_0x529fad(0x102)},'primary_code':{'$first':_0x529fad(0x156)},'secondary_code':{'$first':_0x529fad(0x129)},'product_code':{'$first':_0x529fad(0xf2)},'storage':{'$first':_0x529fad(0x117)},'rack':{'$first':_0x529fad(0x10c)}}}]);warehouse_data=await warehouse['aggregate']([{'$match':{'status':_0x529fad(0x116),'name':_0x529fad(0x13b),'warehouse_category':_0x529fad(0x166)}},{'$group':{'_id':_0x529fad(0x110),'name':{'$first':_0x529fad(0x110)}}},{'$sort':{'name':0x1}}]),console[_0x529fad(0x11b)](_0x529fad(0xf9),_0xa63465);if(_0x4eb0ec[0x0][_0x529fad(0x149)]==_0x529fad(0xf3)){var _0xa09966=users['English'];console[_0x529fad(0x11b)](_0xa09966);}else{if(_0x4eb0ec[0x0][_0x529fad(0x149)]==_0x529fad(0xfe))var _0xa09966=users[_0x529fad(0xfe)];else{if(_0x4eb0ec[0x0][_0x529fad(0x149)]=='German')var _0xa09966=users[_0x529fad(0x154)];else{if(_0x4eb0ec[0x0][_0x529fad(0x149)]==_0x529fad(0x10a))var _0xa09966=users[_0x529fad(0x10a)];else{if(_0x4eb0ec[0x0]['language']=='French')var _0xa09966=users[_0x529fad(0x134)];else{if(_0x4eb0ec[0x0][_0x529fad(0x149)]==_0x529fad(0x13f))var _0xa09966=users[_0x529fad(0x122)];else{if(_0x4eb0ec[0x0]['language']==_0x529fad(0x145))var _0xa09966=users[_0x529fad(0x145)];else{if(_0x4eb0ec[0x0]['language']==_0x529fad(0xec))var _0xa09966=users[_0x529fad(0x11c)];}}}}}}}_0x44bc39[_0x529fad(0x131)](_0x529fad(0x114),{'success':_0x873ed8[_0x529fad(0x162)](_0x529fad(0xeb)),'errors':_0x873ed8[_0x529fad(0x162)](_0x529fad(0x10d)),'role':_0x178315,'master_shop':_0x4eb0ec,'profile':_0x5f05d6,'user':_0x397757,'stock':_0xa63465,'product':_0x5453b4,'language':_0xa09966,'warehouse':warehouse_data});}catch(_0x58df04){console[_0x529fad(0x11b)](_0x58df04);}}),router[a0_0x4e679a(0x115)](a0_0x4e679a(0x15d),auth,async(_0x3fc8dc,_0x1615f9)=>{var _0x51fb69=a0_0x4e679a;try{const _0x1fce20=_0x3fc8dc[_0x51fb69(0x112)]['id'];console[_0x51fb69(0x11b)](_0x1fce20);const _0x47a0bd=await purchases_return[_0x51fb69(0x15e)]({'invoice':_0x3fc8dc['body'][_0x51fb69(0x15a)]});console[_0x51fb69(0x11b)]('old_data',_0x47a0bd);const _0x571002=await warehouse[_0x51fb69(0x15e)]({'name':_0x47a0bd[_0x51fb69(0x111)],'room':_0x47a0bd[_0x51fb69(0x127)]});console['log']('old_warehouse_data',_0x571002);const {invoice:_0x3d85ac,suppliers:_0x30287e,date:_0xb00cb1,warehouse_name:_0x2d7775,product_name:_0x21dbc3,purchase_quantity:_0x535a74,stocks:_0x492a2d,return_qty:_0x1fbc28,note:_0x360f3d,Room_name:_0x51c6c6,level:_0x211184,isle:_0x17adf6,pallet:_0xe12f2c,to_warehouse_name:_0xee1b6d,to_Room_name:_0x3719a7}=_0x3fc8dc[_0x51fb69(0x119)];if(typeof _0x21dbc3==_0x51fb69(0x133))var _0x442387=[_0x3fc8dc[_0x51fb69(0x119)]['product_name']],_0x23f972=[_0x3fc8dc[_0x51fb69(0x119)][_0x51fb69(0x10b)]],_0x296d2b=[_0x3fc8dc['body']['stocks']],_0x373e16=[_0x3fc8dc['body']['return_qty']],_0x29531b=[_0x3fc8dc['body'][_0x51fb69(0x14c)]],_0x30c46e=[_0x3fc8dc['body'][_0x51fb69(0x15b)]],_0x57f591=[_0x3fc8dc[_0x51fb69(0x119)]['pallet']],_0x187f2d=[_0x3fc8dc[_0x51fb69(0x119)]['types']],_0x18ffa7=[_0x3fc8dc[_0x51fb69(0x119)][_0x51fb69(0xfa)]],_0x374c13=[_0x3fc8dc[_0x51fb69(0x119)][_0x51fb69(0x146)]],_0x548e57=[_0x3fc8dc[_0x51fb69(0x119)]['secondary_code_hide']];else var _0x442387=[..._0x3fc8dc['body'][_0x51fb69(0x155)]],_0x23f972=[..._0x3fc8dc['body'][_0x51fb69(0x10b)]],_0x296d2b=[..._0x3fc8dc['body']['stocks']],_0x373e16=[..._0x3fc8dc[_0x51fb69(0x119)]['return_qty']],_0x29531b=[..._0x3fc8dc[_0x51fb69(0x119)][_0x51fb69(0x14c)]],_0x30c46e=[..._0x3fc8dc[_0x51fb69(0x119)][_0x51fb69(0x15b)]],_0x57f591=[..._0x3fc8dc[_0x51fb69(0x119)]['pallet']],_0x18ffa7=[..._0x3fc8dc[_0x51fb69(0x119)]['product_code_hide']],_0x374c13=[..._0x3fc8dc[_0x51fb69(0x119)][_0x51fb69(0x146)]],_0x548e57=[..._0x3fc8dc['body'][_0x51fb69(0x158)]],_0x187f2d=[..._0x3fc8dc[_0x51fb69(0x119)]['types']];const _0x1aac6f=_0x442387[_0x51fb69(0xf0)](_0x4711a6=>{return _0x4711a6={'product_name':_0x4711a6};});_0x23f972['forEach']((_0x40a958,_0x53fef4)=>{var _0x350269=_0x51fb69;_0x1aac6f[_0x53fef4][_0x350269(0x10b)]=_0x40a958;}),_0x296d2b[_0x51fb69(0xf8)]((_0x56fc32,_0x4d5c9a)=>{var _0x436a13=_0x51fb69;_0x1aac6f[_0x4d5c9a][_0x436a13(0x14f)]=_0x56fc32;}),_0x373e16['forEach']((_0x5312fe,_0x4ec826)=>{_0x1aac6f[_0x4ec826]['return_qty']=_0x5312fe;}),_0x29531b[_0x51fb69(0xf8)]((_0x55f9f1,_0x5442e6)=>{var _0x4a807e=_0x51fb69;_0x1aac6f[_0x5442e6][_0x4a807e(0x163)]=_0x55f9f1;}),_0x30c46e[_0x51fb69(0xf8)]((_0x215cca,_0x5ca160)=>{var _0x546d96=_0x51fb69;_0x1aac6f[_0x5ca160][_0x546d96(0x14a)]=_0x215cca;}),_0x57f591['forEach']((_0x778e1e,_0x13649f)=>{var _0x384fa4=_0x51fb69;_0x1aac6f[_0x13649f][_0x384fa4(0x12c)]=_0x778e1e;}),_0x18ffa7[_0x51fb69(0xf8)]((_0x157989,_0x23a888)=>{_0x1aac6f[_0x23a888]['product_code']=_0x157989;}),_0x374c13['forEach']((_0x48a097,_0x2d49a6)=>{var _0x2483fc=_0x51fb69;_0x1aac6f[_0x2d49a6][_0x2483fc(0x109)]=_0x48a097;}),_0x548e57['forEach']((_0x42a1fe,_0x315cc2)=>{var _0x34af9f=_0x51fb69;_0x1aac6f[_0x315cc2][_0x34af9f(0xed)]=_0x42a1fe;}),_0x187f2d[_0x51fb69(0xf8)]((_0x2b2806,_0xa7f572)=>{var _0x13da41=_0x51fb69;_0x1aac6f[_0xa7f572][_0x13da41(0xfc)]=_0x2b2806;});var _0x4c3851=0x0;_0x1aac6f[_0x51fb69(0xf8)](_0x581c90=>{var _0x137712=_0x51fb69;console[_0x137712(0x11b)](_0x137712(0x148),_0x581c90),(parseInt(_0x581c90['purchase_quantity'])<parseInt(_0x581c90['return_qty'])||parseInt(_0x581c90[_0x137712(0x14f)])<parseInt(_0x581c90['return_qty'])||parseInt(_0x581c90[_0x137712(0xef)])==0x0)&&_0x4c3851++;});if(_0x4c3851!=0x0)return _0x3fc8dc['flash']('errors','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty'),_0x1615f9[_0x51fb69(0x10e)](_0x51fb69(0x123));_0x47a0bd[_0x51fb69(0x126)][_0x51fb69(0xf8)](_0x55407a=>{var _0x52f763=_0x51fb69;const _0x31a0d5=_0x571002[_0x52f763(0x132)][_0x52f763(0xf0)](_0x25a147=>{var _0x63b33=_0x52f763;_0x25a147[_0x63b33(0x155)]==_0x55407a[_0x63b33(0x155)]&&_0x25a147['floorlevel']==_0x55407a['floorlevel']&&_0x25a147[_0x63b33(0xfc)]==_0x55407a[_0x63b33(0xfc)]&&_0x25a147[_0x63b33(0x14a)]==_0x55407a[_0x63b33(0x14a)]&&_0x25a147[_0x63b33(0x163)]==_0x55407a[_0x63b33(0x163)]&&(_0x25a147[_0x63b33(0x143)]=parseInt(_0x25a147[_0x63b33(0x143)])+parseInt(_0x55407a[_0x63b33(0xef)]));});}),console[_0x51fb69(0x11b)]('old_warehouse_data',_0x571002),await _0x571002[_0x51fb69(0x164)](),_0x47a0bd[_0x51fb69(0x15a)]=_0x3d85ac,_0x47a0bd[_0x51fb69(0x104)]=_0x30287e,_0x47a0bd[_0x51fb69(0x12b)]=_0xb00cb1,_0x47a0bd[_0x51fb69(0xea)]=_0x2d7775,_0x47a0bd[_0x51fb69(0x126)]=_0x1aac6f,_0x47a0bd['note']=_0x360f3d,_0x47a0bd[_0x51fb69(0x159)]=_0x51c6c6,_0x47a0bd[_0x51fb69(0x111)]=_0xee1b6d,_0x47a0bd[_0x51fb69(0x127)]=_0x3719a7;const _0x56a23a=await _0x47a0bd['save'](),_0x537653=await purchases_return[_0x51fb69(0x15e)]({'invoice':_0x3fc8dc[_0x51fb69(0x119)][_0x51fb69(0x15a)]}),_0x234cbf=await warehouse['findOne']({'name':_0x3fc8dc[_0x51fb69(0x119)][_0x51fb69(0x111)],'room':_0x3fc8dc['body']['to_Room_name']});_0x537653[_0x51fb69(0x126)][_0x51fb69(0xf8)](_0x52c590=>{var _0x9f0bbe=_0x51fb69;_0x234cbf[_0x9f0bbe(0x132)][_0x9f0bbe(0xf0)](_0x53547f=>{var _0x5b7cc7=_0x9f0bbe;_0x53547f[_0x5b7cc7(0x155)]==_0x52c590[_0x5b7cc7(0x155)]&&_0x53547f[_0x5b7cc7(0x153)]==_0x52c590['pallet']&&(_0x53547f[_0x5b7cc7(0x143)]=parseInt(_0x53547f['product_stock'])-parseInt(_0x52c590[_0x5b7cc7(0xef)]),console['log']('product_details.return_qtyproduct_details.return_qty',_0x52c590['return_qty']));});}),console[_0x51fb69(0x11b)](_0x51fb69(0x152),_0x234cbf),await _0x234cbf[_0x51fb69(0x164)]();const _0x381580=await s_payment_data['findOne']({'invoice':_0x3fc8dc[_0x51fb69(0x119)][_0x51fb69(0x15a)],'reason':'Purchase\x20Return'});await _0x381580[_0x51fb69(0x164)](),_0x3fc8dc['flash'](_0x51fb69(0xeb),_0x51fb69(0x136)),_0x1615f9[_0x51fb69(0x10e)](_0x51fb69(0x101));}catch(_0x5deb65){console['log'](_0x5deb65),_0x1615f9[_0x51fb69(0x118)](0xc8)['json']({'message':_0x5deb65[_0x51fb69(0x13c)]});}}),router[a0_0x4e679a(0x14d)](a0_0x4e679a(0xf7),auth,async(_0x20e771,_0x128cbc)=>{var _0x3ef2cc=a0_0x4e679a;try{const {username:_0x2c5ef8,email:_0x2dd364,role:_0x1be571}=_0x20e771[_0x3ef2cc(0x150)],_0x5f24c8=_0x20e771['user'],_0x45b867=await profile['findOne']({'email':_0x5f24c8['email']}),_0x43b4d1=await master_shop['find']();console[_0x3ef2cc(0x11b)]('master',_0x43b4d1);const _0x596d04=_0x20e771[_0x3ef2cc(0x112)]['id'],_0x450ffe=await purchases_return[_0x3ef2cc(0x12f)](_0x596d04);console[_0x3ef2cc(0x11b)](_0x450ffe);const _0x38644b=await suppliers['findOne']({'name':_0x450ffe[_0x3ef2cc(0x104)]});console[_0x3ef2cc(0x11b)](_0x38644b);if(_0x43b4d1[0x0]['language']==_0x3ef2cc(0xf3)){var _0x3e7b65=users[_0x3ef2cc(0x13a)];console[_0x3ef2cc(0x11b)](_0x3e7b65);}else{if(_0x43b4d1[0x0]['language']==_0x3ef2cc(0xfe))var _0x3e7b65=users[_0x3ef2cc(0xfe)];else{if(_0x43b4d1[0x0]['language']==_0x3ef2cc(0x154))var _0x3e7b65=users[_0x3ef2cc(0x154)];else{if(_0x43b4d1[0x0]['language']==_0x3ef2cc(0x10a))var _0x3e7b65=users[_0x3ef2cc(0x10a)];else{if(_0x43b4d1[0x0][_0x3ef2cc(0x149)]=='French')var _0x3e7b65=users['French'];else{if(_0x43b4d1[0x0][_0x3ef2cc(0x149)]==_0x3ef2cc(0x13f))var _0x3e7b65=users[_0x3ef2cc(0x122)];else{if(_0x43b4d1[0x0][_0x3ef2cc(0x149)]==_0x3ef2cc(0x145))var _0x3e7b65=users[_0x3ef2cc(0x145)];else{if(_0x43b4d1[0x0][_0x3ef2cc(0x149)]==_0x3ef2cc(0xec))var _0x3e7b65=users['Arabic'];}}}}}}}_0x128cbc['render'](_0x3ef2cc(0x139),{'success':_0x20e771[_0x3ef2cc(0x162)](_0x3ef2cc(0xeb)),'errors':_0x20e771['flash'](_0x3ef2cc(0x10d)),'role':_0x5f24c8,'profile':_0x45b867,'master_shop':_0x43b4d1,'supplier':_0x38644b,'purchase':_0x450ffe,'language':_0x3e7b65});}catch(_0x163bf3){console[_0x3ef2cc(0x11b)](_0x163bf3);}}),router[a0_0x4e679a(0x115)](a0_0x4e679a(0x14b),auth,async(_0x41224a,_0x14256a)=>{var _0x16951e=a0_0x4e679a;try{const _0x24ece1=_0x41224a[_0x16951e(0x112)]['id'],{invoice:_0x3e441b,suppliers:_0x2ccad1,receivable_amount:_0x29aa22,received_amount:_0x549016}=_0x41224a['body'],_0x4d54af=await purchases_return[_0x16951e(0x12f)](_0x24ece1);console[_0x16951e(0x11b)](_0x4d54af);var _0x4e8bc2=_0x29aa22-_0x549016;console[_0x16951e(0x11b)](_0x549016),_0x4d54af[_0x16951e(0x106)]=parseFloat(_0x549016)+parseFloat(_0x4d54af[_0x16951e(0x106)]),_0x4d54af[_0x16951e(0x13d)]=_0x4e8bc2,console['log'](_0x4d54af);const _0x554722=await _0x4d54af[_0x16951e(0x164)](),_0x168ecf=await s_payment_data[_0x16951e(0x15e)]({'invoice':_0x41224a[_0x16951e(0x119)]['invoice'],'reason':_0x16951e(0x12a)});_0x168ecf['amount']=_0x4e8bc2,await _0x168ecf[_0x16951e(0x164)]();let _0x50dc61=new Date(),_0x26ac04=('0'+_0x50dc61[_0x16951e(0x100)]())[_0x16951e(0x157)](-0x2),_0x4bacab=('0'+(_0x50dc61['getMonth']()+0x1))[_0x16951e(0x157)](-0x2),_0x12756e=_0x50dc61['getFullYear'](),_0x1e4ce7=_0x12756e+'-'+_0x4bacab+'-'+_0x26ac04;const _0x5a66f4=new suppliers_payment({'invoice':_0x3e441b,'date':_0x12756e+'-'+_0x4bacab+'-'+_0x26ac04,'suppliers':_0x2ccad1,'reason':'Received\x20For\x20Purchase\x20Return','amount':_0x549016}),_0x130e83=await _0x5a66f4[_0x16951e(0x164)]();_0x41224a[_0x16951e(0x162)]('success',_0x16951e(0x138)),_0x14256a[_0x16951e(0x10e)](_0x16951e(0x101));}catch(_0xf32f1){console['log'](_0xf32f1);}}),module['exports']=router;