function a0_0x4c8b(){var _0x33b347=['product_code_hide','$received','old_warehouse_data','foreach\x20newproduct','invoice','/view/:id','log','body','$product_details.product_code','124472GHzvmf','date','$product_details','findById','type','language','Enabled','json','find','Arabic\x20(ae)','$return_product.total','pallet','bin','stock_quantity','post','$date','$product_details.bay','user','French','Raw\x20Materials','$product_details._id','express','exports','get','final','save','1955364MshGDT','Portuguese\x20(BR)','stock_data','bay','errors','$return_product','25474nfjZRp','$supplier_docs','Spanish','$total_amount','Router','return_purchase_invoice','warehouse_name','forEach','/invoice/:id','return_qty','types','status','Return\x20Goods','$return_product.product_name','room','$due_amount','Purchase\x20Return','findOne','$supplier_docs.email','/receive_payment/:id','Portuguese','$return_product.return_qty','to_room','render','flash','purchases_return','stocks','email','return_product','1385IBYdNu','$name','1089770dPLVka','note','suppliers','Received\x20For\x20Purchase\x20Return','supplier_docs','getDate','redirect','Arabic','params','German','purchase_quantity','primary_code_hide','$product_details.floorlevel','$receivable','success','payment\x20successfull','$product_details.product_stock','../models/all_models','6914727OfjLIk','Hindi','product_details','due_amount','old_data','secondary_code','product_details.return_qtyproduct_details.return_qty','primary_code','303RqQLpr','/purchases_return/view','$invoice','$product_details.product_name','English\x20(US)','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','$product_details.secondary_code','91lAfWBk','5298ERwiLx','$supplier_docs.address','purchase\x20return\x20successfully','amount','product_stock','master','name','product_name','map','product_code','getFullYear','received','message','$product_details.primary_code','Chinese','$suppliers','floorlevel','to_Room_name','slice','aggregate','level','English','to_warehouse_name','262900yoldyj','200ngJsFW','secondary_code_hide','$return_product.price'];a0_0x4c8b=function(){return _0x33b347;};return a0_0x4c8b();}function a0_0x1004(_0x5a9728,_0x3e962b){var _0x4c8bbb=a0_0x4c8b();return a0_0x1004=function(_0x10046d,_0x29ccb2){_0x10046d=_0x10046d-0x83;var _0x4228df=_0x4c8bbb[_0x10046d];return _0x4228df;},a0_0x1004(_0x5a9728,_0x3e962b);}var a0_0x24b963=a0_0x1004;(function(_0x2465e3,_0x304cfb){var _0x48e8c0=a0_0x1004,_0x284975=_0x2465e3();while(!![]){try{var _0x5aacf3=parseInt(_0x48e8c0(0x93))/0x1+parseInt(_0x48e8c0(0xc0))/0x2*(-parseInt(_0x48e8c0(0xf9))/0x3)+parseInt(_0x48e8c0(0xba))/0x4+parseInt(_0x48e8c0(0xdd))/0x5*(parseInt(_0x48e8c0(0x101))/0x6)+parseInt(_0x48e8c0(0x100))/0x7*(-parseInt(_0x48e8c0(0xa0))/0x8)+-parseInt(_0x48e8c0(0xf1))/0x9+-parseInt(_0x48e8c0(0x94))/0xa*(-parseInt(_0x48e8c0(0xdf))/0xb);if(_0x5aacf3===_0x304cfb)break;else _0x284975['push'](_0x284975['shift']());}catch(_0x19b2f9){_0x284975['push'](_0x284975['shift']());}}}(a0_0x4c8b,0xaff55));const express=require(a0_0x24b963(0xb5)),app=express(),router=express[a0_0x24b963(0xc4)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x24b963(0xf0)),auth=require('../middleware/auth'),users=require('../public/language/languages.json');router[a0_0x24b963(0xb7)]('/view',auth,async(_0x5649a7,_0x289649)=>{var _0x3e4c76=a0_0x24b963;try{const {username:_0x4cb05e,email:_0x4ac6d3,role:_0x144e86}=_0x5649a7[_0x3e4c76(0xb1)],_0x34c3e6=_0x5649a7[_0x3e4c76(0xb1)],_0x2bf445=await profile[_0x3e4c76(0xd1)]({'email':_0x34c3e6['email']}),_0x489d7b=await master_shop[_0x3e4c76(0xa8)]();console[_0x3e4c76(0x9d)](_0x3e4c76(0x106),_0x489d7b);const _0x1d5a67=await purchases_return[_0x3e4c76(0x8f)]([{'$lookup':{'from':_0x3e4c76(0xe1),'localField':_0x3e4c76(0xe1),'foreignField':_0x3e4c76(0x107),'as':_0x3e4c76(0xe3)}},{'$unwind':_0x3e4c76(0xbf)},{'$unwind':_0x3e4c76(0xc1)},{'$group':{'_id':'$_id','invoice':{'$first':_0x3e4c76(0xfb)},'date':{'$first':_0x3e4c76(0xaf)},'suppliers':{'$first':_0x3e4c76(0x8b)},'warehouse_name':{'$first':'$warehouse_name'},'product_name':{'$first':_0x3e4c76(0xcd)},'return_qty':{'$first':_0x3e4c76(0xd5)},'price':{'$first':_0x3e4c76(0x96)},'total':{'$sum':_0x3e4c76(0xaa)},'note':{'$first':'$note'},'total_amount':{'$first':_0x3e4c76(0xc3)},'discount':{'$first':'$discount'},'receivable':{'$first':_0x3e4c76(0xec)},'received':{'$first':_0x3e4c76(0x98)},'due_amount':{'$first':_0x3e4c76(0xcf)},'mobile':{'$first':'$supplier_docs.mobile'},'email':{'$first':_0x3e4c76(0xd2)},'address':{'$first':_0x3e4c76(0x102)},'return_sum_qty':{'$sum':_0x3e4c76(0xd5)}}}]);console[_0x3e4c76(0x9d)](_0x1d5a67);if(_0x489d7b[0x0][_0x3e4c76(0xa5)]=='English\x20(US)'){var _0x5682a5=users[_0x3e4c76(0x91)];console['log'](_0x5682a5);}else{if(_0x489d7b[0x0]['language']==_0x3e4c76(0xf2))var _0x5682a5=users[_0x3e4c76(0xf2)];else{if(_0x489d7b[0x0]['language']==_0x3e4c76(0xe8))var _0x5682a5=users['German'];else{if(_0x489d7b[0x0][_0x3e4c76(0xa5)]==_0x3e4c76(0xc2))var _0x5682a5=users[_0x3e4c76(0xc2)];else{if(_0x489d7b[0x0]['language']==_0x3e4c76(0xb2))var _0x5682a5=users[_0x3e4c76(0xb2)];else{if(_0x489d7b[0x0][_0x3e4c76(0xa5)]==_0x3e4c76(0xbb))var _0x5682a5=users['Portuguese'];else{if(_0x489d7b[0x0]['language']==_0x3e4c76(0x8a))var _0x5682a5=users[_0x3e4c76(0x8a)];else{if(_0x489d7b[0x0]['language']==_0x3e4c76(0xa9))var _0x5682a5=users[_0x3e4c76(0xe6)];}}}}}}}_0x289649[_0x3e4c76(0xd7)](_0x3e4c76(0xd9),{'success':_0x5649a7['flash'](_0x3e4c76(0xed)),'errors':_0x5649a7['flash'](_0x3e4c76(0xbe)),'role':_0x34c3e6,'profile':_0x2bf445,'master_shop':_0x489d7b,'user':_0x1d5a67,'language':_0x5682a5});}catch(_0x58fe27){console[_0x3e4c76(0x9d)](_0x58fe27);}}),router[a0_0x24b963(0xb7)](a0_0x24b963(0x9c),auth,async(_0x1d69d6,_0x2f8071)=>{var _0x4700bf=a0_0x24b963;try{const {username:_0x327b0b,email:_0xb912f5,role:_0x5e5b89}=_0x1d69d6[_0x4700bf(0xb1)],_0x52e0da=_0x1d69d6[_0x4700bf(0xb1)],_0x555824=await profile[_0x4700bf(0xd1)]({'email':_0x52e0da['email']}),_0x44b2b5=await product[_0x4700bf(0xa8)]({}),_0x26c7bb=await master_shop[_0x4700bf(0xa8)]();console['log'](_0x4700bf(0x106),_0x26c7bb),console[_0x4700bf(0x9d)](_0x1d69d6[_0x4700bf(0x9e)]);const _0x51d11e=_0x1d69d6['params']['id'],_0x294402=await purchases_return[_0x4700bf(0xa3)](_0x51d11e);console[_0x4700bf(0x9d)](_0x294402);const _0x5e1ce4=await warehouse['aggregate']([{'$match':{'name':_0x294402[_0x4700bf(0xc6)],'room':_0x294402['room']}},{'$unwind':_0x4700bf(0xa2)},{'$group':{'_id':_0x4700bf(0xb4),'name':{'$first':_0x4700bf(0xfc)},'product_stock':{'$first':_0x4700bf(0xef)},'bay':{'$first':_0x4700bf(0xb0)},'bin':{'$first':'$product_details.bin'},'type':{'$first':'$product_details.type'},'floorlevel':{'$first':_0x4700bf(0xeb)},'primary_code':{'$first':_0x4700bf(0x89)},'secondary_code':{'$first':_0x4700bf(0xff)},'product_code':{'$first':_0x4700bf(0x9f)},'storage':{'$first':'$product_details.storage'},'rack':{'$first':'$product_details.rack'}}}]);warehouse_data=await warehouse[_0x4700bf(0x8f)]([{'$match':{'status':_0x4700bf(0xa6),'name':_0x4700bf(0xcc),'warehouse_category':_0x4700bf(0xb3)}},{'$group':{'_id':_0x4700bf(0xde),'name':{'$first':_0x4700bf(0xde)}}},{'$sort':{'name':0x1}}]),console['log'](_0x4700bf(0xbc),_0x5e1ce4);if(_0x26c7bb[0x0][_0x4700bf(0xa5)]==_0x4700bf(0xfd)){var _0x26dcca=users['English'];console[_0x4700bf(0x9d)](_0x26dcca);}else{if(_0x26c7bb[0x0][_0x4700bf(0xa5)]==_0x4700bf(0xf2))var _0x26dcca=users[_0x4700bf(0xf2)];else{if(_0x26c7bb[0x0][_0x4700bf(0xa5)]==_0x4700bf(0xe8))var _0x26dcca=users[_0x4700bf(0xe8)];else{if(_0x26c7bb[0x0][_0x4700bf(0xa5)]==_0x4700bf(0xc2))var _0x26dcca=users['Spanish'];else{if(_0x26c7bb[0x0][_0x4700bf(0xa5)]==_0x4700bf(0xb2))var _0x26dcca=users['French'];else{if(_0x26c7bb[0x0][_0x4700bf(0xa5)]==_0x4700bf(0xbb))var _0x26dcca=users[_0x4700bf(0xd4)];else{if(_0x26c7bb[0x0][_0x4700bf(0xa5)]==_0x4700bf(0x8a))var _0x26dcca=users['Chinese'];else{if(_0x26c7bb[0x0][_0x4700bf(0xa5)]==_0x4700bf(0xa9))var _0x26dcca=users['Arabic'];}}}}}}}_0x2f8071[_0x4700bf(0xd7)]('return_purchase_edit',{'success':_0x1d69d6[_0x4700bf(0xd8)](_0x4700bf(0xed)),'errors':_0x1d69d6[_0x4700bf(0xd8)](_0x4700bf(0xbe)),'role':_0x52e0da,'master_shop':_0x26c7bb,'profile':_0x555824,'user':_0x294402,'stock':_0x5e1ce4,'product':_0x44b2b5,'language':_0x26dcca,'warehouse':warehouse_data});}catch(_0x19212a){console[_0x4700bf(0x9d)](_0x19212a);}}),router[a0_0x24b963(0xae)](a0_0x24b963(0x9c),auth,async(_0x4d013d,_0x2eddaf)=>{var _0xad346e=a0_0x24b963;try{const _0x22dc3d=_0x4d013d[_0xad346e(0xe7)]['id'];console['log'](_0x22dc3d);const _0x561d94=await purchases_return[_0xad346e(0xd1)]({'invoice':_0x4d013d[_0xad346e(0x9e)][_0xad346e(0x9b)]});console[_0xad346e(0x9d)](_0xad346e(0xf5),_0x561d94);const _0x2f5cb2=await warehouse[_0xad346e(0xd1)]({'name':_0x561d94[_0xad346e(0x92)],'room':_0x561d94[_0xad346e(0xd6)]});console[_0xad346e(0x9d)]('old_warehouse_data',_0x2f5cb2);const {invoice:_0x4e70cd,suppliers:_0x20360b,date:_0x37bd9d,warehouse_name:_0x5b02e9,product_name:_0x201fbe,purchase_quantity:_0xd06275,stocks:_0xd493b5,return_qty:_0x3e23a4,note:_0xc8ac5f,Room_name:_0x4ef7ab,level:_0x4e5d6b,isle:_0x2b7f6a,pallet:_0x441c9e,to_warehouse_name:_0x2a68fb,to_Room_name:_0x231e11}=_0x4d013d[_0xad346e(0x9e)];if(typeof _0x201fbe=='string')var _0x333c39=[_0x4d013d[_0xad346e(0x9e)]['product_name']],_0x2c4cdc=[_0x4d013d[_0xad346e(0x9e)][_0xad346e(0xe9)]],_0x52e7e2=[_0x4d013d[_0xad346e(0x9e)][_0xad346e(0xda)]],_0x19001a=[_0x4d013d['body']['return_qty']],_0x190834=[_0x4d013d[_0xad346e(0x9e)][_0xad346e(0x90)]],_0x390cf4=[_0x4d013d['body']['isle']],_0x363204=[_0x4d013d[_0xad346e(0x9e)][_0xad346e(0xab)]],_0xe7b167=[_0x4d013d[_0xad346e(0x9e)][_0xad346e(0xca)]],_0x2acccc=[_0x4d013d['body']['product_code_hide']],_0x15f008=[_0x4d013d[_0xad346e(0x9e)]['primary_code_hide']],_0x3c3ea1=[_0x4d013d[_0xad346e(0x9e)][_0xad346e(0x95)]];else var _0x333c39=[..._0x4d013d[_0xad346e(0x9e)]['product_name']],_0x2c4cdc=[..._0x4d013d['body'][_0xad346e(0xe9)]],_0x52e7e2=[..._0x4d013d[_0xad346e(0x9e)][_0xad346e(0xda)]],_0x19001a=[..._0x4d013d[_0xad346e(0x9e)][_0xad346e(0xc9)]],_0x190834=[..._0x4d013d[_0xad346e(0x9e)][_0xad346e(0x90)]],_0x390cf4=[..._0x4d013d[_0xad346e(0x9e)]['isle']],_0x363204=[..._0x4d013d['body'][_0xad346e(0xab)]],_0x2acccc=[..._0x4d013d[_0xad346e(0x9e)][_0xad346e(0x97)]],_0x15f008=[..._0x4d013d[_0xad346e(0x9e)][_0xad346e(0xea)]],_0x3c3ea1=[..._0x4d013d[_0xad346e(0x9e)][_0xad346e(0x95)]],_0xe7b167=[..._0x4d013d[_0xad346e(0x9e)]['types']];const _0xce1d01=_0x333c39['map'](_0x4b5d31=>{return _0x4b5d31={'product_name':_0x4b5d31};});_0x2c4cdc[_0xad346e(0xc7)]((_0x14c198,_0x4d6f2a)=>{var _0x354804=_0xad346e;_0xce1d01[_0x4d6f2a][_0x354804(0xe9)]=_0x14c198;}),_0x52e7e2[_0xad346e(0xc7)]((_0x4e4f13,_0x2eff8c)=>{var _0x2b075c=_0xad346e;_0xce1d01[_0x2eff8c][_0x2b075c(0xad)]=_0x4e4f13;}),_0x19001a[_0xad346e(0xc7)]((_0x62d410,_0x4059a0)=>{_0xce1d01[_0x4059a0]['return_qty']=_0x62d410;}),_0x190834['forEach']((_0x6a4a46,_0x124ff9)=>{_0xce1d01[_0x124ff9]['bay']=_0x6a4a46;}),_0x390cf4['forEach']((_0x431513,_0x3963f4)=>{var _0x2ef2f5=_0xad346e;_0xce1d01[_0x3963f4][_0x2ef2f5(0xac)]=_0x431513;}),_0x363204[_0xad346e(0xc7)]((_0x28ebcb,_0x179fd2)=>{_0xce1d01[_0x179fd2]['floorlevel']=_0x28ebcb;}),_0x2acccc[_0xad346e(0xc7)]((_0x17e71b,_0x151936)=>{var _0x2fd340=_0xad346e;_0xce1d01[_0x151936][_0x2fd340(0x85)]=_0x17e71b;}),_0x15f008[_0xad346e(0xc7)]((_0x4d6d15,_0x3375ad)=>{var _0x2fea7d=_0xad346e;_0xce1d01[_0x3375ad][_0x2fea7d(0xf8)]=_0x4d6d15;}),_0x3c3ea1[_0xad346e(0xc7)]((_0x2fbedf,_0x5672b0)=>{var _0x4bd4f2=_0xad346e;_0xce1d01[_0x5672b0][_0x4bd4f2(0xf6)]=_0x2fbedf;}),_0xe7b167[_0xad346e(0xc7)]((_0x3ce15f,_0x361319)=>{_0xce1d01[_0x361319]['type']=_0x3ce15f;});var _0xda746a=0x0;_0xce1d01['forEach'](_0x1324bf=>{var _0x198fcf=_0xad346e;console[_0x198fcf(0x9d)](_0x198fcf(0x9a),_0x1324bf),(parseInt(_0x1324bf[_0x198fcf(0xe9)])<parseInt(_0x1324bf['return_qty'])||parseInt(_0x1324bf[_0x198fcf(0xad)])<parseInt(_0x1324bf[_0x198fcf(0xc9)])||parseInt(_0x1324bf[_0x198fcf(0xc9)])==0x0)&&_0xda746a++;});if(_0xda746a!=0x0)return _0x4d013d[_0xad346e(0xd8)]('errors',_0xad346e(0xfe)),_0x2eddaf[_0xad346e(0xe5)]('back');_0x561d94[_0xad346e(0xdc)][_0xad346e(0xc7)](_0x3c71de=>{var _0x47bbc2=_0xad346e;const _0x20f0f3=_0x2f5cb2[_0x47bbc2(0xf3)][_0x47bbc2(0x84)](_0x103427=>{var _0x2a1ef4=_0x47bbc2;_0x103427[_0x2a1ef4(0x83)]==_0x3c71de[_0x2a1ef4(0x83)]&&_0x103427[_0x2a1ef4(0x8c)]==_0x3c71de[_0x2a1ef4(0x8c)]&&_0x103427[_0x2a1ef4(0xa4)]==_0x3c71de[_0x2a1ef4(0xa4)]&&_0x103427[_0x2a1ef4(0xac)]==_0x3c71de[_0x2a1ef4(0xac)]&&_0x103427[_0x2a1ef4(0xbd)]==_0x3c71de[_0x2a1ef4(0xbd)]&&(_0x103427['product_stock']=parseInt(_0x103427[_0x2a1ef4(0x105)])+parseInt(_0x3c71de[_0x2a1ef4(0xc9)]));});}),console[_0xad346e(0x9d)](_0xad346e(0x99),_0x2f5cb2),await _0x2f5cb2['save'](),_0x561d94[_0xad346e(0x9b)]=_0x4e70cd,_0x561d94[_0xad346e(0xe1)]=_0x20360b,_0x561d94[_0xad346e(0xa1)]=_0x37bd9d,_0x561d94[_0xad346e(0xc6)]=_0x5b02e9,_0x561d94['return_product']=_0xce1d01,_0x561d94[_0xad346e(0xe0)]=_0xc8ac5f,_0x561d94[_0xad346e(0xce)]=_0x4ef7ab,_0x561d94['to_warehouse_name']=_0x2a68fb,_0x561d94[_0xad346e(0xd6)]=_0x231e11;const _0x3b705f=await _0x561d94[_0xad346e(0xb9)](),_0x19f5c2=await purchases_return[_0xad346e(0xd1)]({'invoice':_0x4d013d['body'][_0xad346e(0x9b)]}),_0x188277=await warehouse[_0xad346e(0xd1)]({'name':_0x4d013d['body'][_0xad346e(0x92)],'room':_0x4d013d[_0xad346e(0x9e)][_0xad346e(0x8d)]});_0x19f5c2[_0xad346e(0xdc)]['forEach'](_0x1fe0cd=>{var _0x23923b=_0xad346e;_0x188277[_0x23923b(0xf3)][_0x23923b(0x84)](_0x48c8d8=>{var _0x539046=_0x23923b;_0x48c8d8[_0x539046(0x83)]==_0x1fe0cd[_0x539046(0x83)]&&_0x48c8d8['pallet']==_0x1fe0cd[_0x539046(0xab)]&&(_0x48c8d8[_0x539046(0x105)]=parseInt(_0x48c8d8[_0x539046(0x105)])-parseInt(_0x1fe0cd[_0x539046(0xc9)]),console[_0x539046(0x9d)](_0x539046(0xf7),_0x1fe0cd[_0x539046(0xc9)]));});}),console[_0xad346e(0x9d)](_0xad346e(0xb8),_0x188277),await _0x188277[_0xad346e(0xb9)]();const _0x728660=await s_payment_data[_0xad346e(0xd1)]({'invoice':_0x4d013d[_0xad346e(0x9e)]['invoice'],'reason':_0xad346e(0xd0)});await _0x728660[_0xad346e(0xb9)](),_0x4d013d[_0xad346e(0xd8)](_0xad346e(0xed),_0xad346e(0x103)),_0x2eddaf[_0xad346e(0xe5)]('/purchases_return/view');}catch(_0xee9ec2){console[_0xad346e(0x9d)](_0xee9ec2),_0x2eddaf[_0xad346e(0xcb)](0xc8)[_0xad346e(0xa7)]({'message':_0xee9ec2[_0xad346e(0x88)]});}}),router['get'](a0_0x24b963(0xc8),auth,async(_0x100f47,_0x1dbd91)=>{var _0x24e448=a0_0x24b963;try{const {username:_0x5c4b3d,email:_0x267f2f,role:_0x28cab2}=_0x100f47[_0x24e448(0xb1)],_0x1ce47d=_0x100f47[_0x24e448(0xb1)],_0x5ad5b7=await profile[_0x24e448(0xd1)]({'email':_0x1ce47d[_0x24e448(0xdb)]}),_0x22a256=await master_shop[_0x24e448(0xa8)]();console[_0x24e448(0x9d)](_0x24e448(0x106),_0x22a256);const _0x27bf19=_0x100f47['params']['id'],_0x97a6cb=await purchases_return['findById'](_0x27bf19);console['log'](_0x97a6cb);const _0x18e135=await suppliers[_0x24e448(0xd1)]({'name':_0x97a6cb['suppliers']});console[_0x24e448(0x9d)](_0x18e135);if(_0x22a256[0x0]['language']==_0x24e448(0xfd)){var _0x16ede4=users[_0x24e448(0x91)];console[_0x24e448(0x9d)](_0x16ede4);}else{if(_0x22a256[0x0][_0x24e448(0xa5)]=='Hindi')var _0x16ede4=users[_0x24e448(0xf2)];else{if(_0x22a256[0x0][_0x24e448(0xa5)]=='German')var _0x16ede4=users[_0x24e448(0xe8)];else{if(_0x22a256[0x0][_0x24e448(0xa5)]==_0x24e448(0xc2))var _0x16ede4=users[_0x24e448(0xc2)];else{if(_0x22a256[0x0][_0x24e448(0xa5)]=='French')var _0x16ede4=users['French'];else{if(_0x22a256[0x0]['language']==_0x24e448(0xbb))var _0x16ede4=users['Portuguese'];else{if(_0x22a256[0x0][_0x24e448(0xa5)]=='Chinese')var _0x16ede4=users[_0x24e448(0x8a)];else{if(_0x22a256[0x0][_0x24e448(0xa5)]==_0x24e448(0xa9))var _0x16ede4=users[_0x24e448(0xe6)];}}}}}}}_0x1dbd91[_0x24e448(0xd7)](_0x24e448(0xc5),{'success':_0x100f47[_0x24e448(0xd8)](_0x24e448(0xed)),'errors':_0x100f47[_0x24e448(0xd8)](_0x24e448(0xbe)),'role':_0x1ce47d,'profile':_0x5ad5b7,'master_shop':_0x22a256,'supplier':_0x18e135,'purchase':_0x97a6cb,'language':_0x16ede4});}catch(_0x4b559a){console[_0x24e448(0x9d)](_0x4b559a);}}),router[a0_0x24b963(0xae)](a0_0x24b963(0xd3),auth,async(_0x59ac8a,_0x3e5ab1)=>{var _0xb59cef=a0_0x24b963;try{const _0x1a3834=_0x59ac8a['params']['id'],{invoice:_0x1f620a,suppliers:_0x4643a3,receivable_amount:_0x1d8c15,received_amount:_0x3c1761}=_0x59ac8a[_0xb59cef(0x9e)],_0x13cd38=await purchases_return[_0xb59cef(0xa3)](_0x1a3834);console[_0xb59cef(0x9d)](_0x13cd38);var _0x24c84a=_0x1d8c15-_0x3c1761;console[_0xb59cef(0x9d)](_0x3c1761),_0x13cd38[_0xb59cef(0x87)]=parseFloat(_0x3c1761)+parseFloat(_0x13cd38['received']),_0x13cd38[_0xb59cef(0xf4)]=_0x24c84a,console['log'](_0x13cd38);const _0x5e2178=await _0x13cd38[_0xb59cef(0xb9)](),_0x5815d3=await s_payment_data[_0xb59cef(0xd1)]({'invoice':_0x59ac8a[_0xb59cef(0x9e)][_0xb59cef(0x9b)],'reason':_0xb59cef(0xd0)});_0x5815d3[_0xb59cef(0x104)]=_0x24c84a,await _0x5815d3[_0xb59cef(0xb9)]();let _0x23c7d8=new Date(),_0x528a99=('0'+_0x23c7d8[_0xb59cef(0xe4)]())[_0xb59cef(0x8e)](-0x2),_0x54a866=('0'+(_0x23c7d8['getMonth']()+0x1))[_0xb59cef(0x8e)](-0x2),_0x3b9754=_0x23c7d8[_0xb59cef(0x86)](),_0x1b5e39=_0x3b9754+'-'+_0x54a866+'-'+_0x528a99;const _0x4f57d0=new suppliers_payment({'invoice':_0x1f620a,'date':_0x3b9754+'-'+_0x54a866+'-'+_0x528a99,'suppliers':_0x4643a3,'reason':_0xb59cef(0xe2),'amount':_0x3c1761}),_0x263729=await _0x4f57d0['save']();_0x59ac8a[_0xb59cef(0xd8)]('success',_0xb59cef(0xee)),_0x3e5ab1[_0xb59cef(0xe5)](_0xb59cef(0xfa));}catch(_0x2d5742){console['log'](_0x2d5742);}}),module[a0_0x24b963(0xb6)]=router;