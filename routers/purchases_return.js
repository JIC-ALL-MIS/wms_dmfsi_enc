var a0_0x250dd5=a0_0x61ba;(function(_0x1fba81,_0x559759){var _0x2fa613=a0_0x61ba,_0x4c90c0=_0x1fba81();while(!![]){try{var _0x4f8592=parseInt(_0x2fa613(0x22c))/0x1*(-parseInt(_0x2fa613(0x223))/0x2)+parseInt(_0x2fa613(0x1df))/0x3+parseInt(_0x2fa613(0x1b6))/0x4+-parseInt(_0x2fa613(0x1d3))/0x5+-parseInt(_0x2fa613(0x21a))/0x6+parseInt(_0x2fa613(0x1e2))/0x7*(-parseInt(_0x2fa613(0x1fe))/0x8)+parseInt(_0x2fa613(0x206))/0x9;if(_0x4f8592===_0x559759)break;else _0x4c90c0['push'](_0x4c90c0['shift']());}catch(_0x3b3c96){_0x4c90c0['push'](_0x4c90c0['shift']());}}}(a0_0x3668,0x2c488));const express=require(a0_0x250dd5(0x1d7)),app=express(),router=express[a0_0x250dd5(0x1ae)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x250dd5(0x1c6)),auth=require(a0_0x250dd5(0x1ed)),users=require(a0_0x250dd5(0x1c4));function a0_0x61ba(_0x556e9d,_0x282d53){var _0x3668de=a0_0x3668();return a0_0x61ba=function(_0x61baef,_0x14c423){_0x61baef=_0x61baef-0x1aa;var _0x2ad748=_0x3668de[_0x61baef];return _0x2ad748;},a0_0x61ba(_0x556e9d,_0x282d53);}function a0_0x3668(){var _0x1424d0=['$product_details._id','$suppliers','language','note','Purchase\x20Return','json','find','/view','$product_details.primary_code','9255ZSfrRZ','get','floorlevel','Enabled','express','findOne','foreach\x20newproduct','exports','primary_code_hide','old_data','aggregate','flash','426936KOQxuq','supplier_docs','$supplier_docs.email','7UuDckz','$receivable','forEach','received','$total_amount','purchase_quantity','master','Chinese','room','due_amount','stocks','../middleware/auth','invoice','warehouse_name','getDate','$invoice','type','$return_product.product_name','types','purchase\x20return\x20successfully','product_details.return_qtyproduct_details.return_qty','user','product_stock','Hindi','body','Raw\x20Materials','Portuguese','Received\x20For\x20Purchase\x20Return','830528nqAtAA','secondary_code_hide','errors','/purchases_return/view','$return_product.price','$product_details.rack','Arabic\x20(ae)','amount','6706818FmOzMM','name','email','return_qty','return_purchase_edit','save','English','getFullYear','$note','findById','Arabic','suppliers','params','back','purchases_return','$product_details.bin','German','/view/:id','payment\x20successfull','success','1574268SSTuVp','product_details','$return_product.total','to_warehouse_name','product_name','$discount','redirect','secondary_code','$warehouse_name','5542oHuSOJ','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','Portuguese\x20(BR)','$product_details.storage','stock_quantity','/receive_payment/:id','pallet','$product_details.type','slice','129REPaxG','log','level','render','French','Router','isle','return_purchase_invoice','final','post','to_Room_name','primary_code','to_room','77496wSKHCh','$return_product.return_qty','English\x20(US)','date','product_code_hide','status','$product_details.bay','$_id','bay','$received','old_warehouse_data','product_code','getMonth','map','../public/language/languages.json','$product_details.product_name','../models/all_models','Spanish','bin','$product_details.secondary_code'];a0_0x3668=function(){return _0x1424d0;};return a0_0x3668();}router[a0_0x250dd5(0x1d4)](a0_0x250dd5(0x1d1),auth,async(_0x4996b4,_0x4b1faf)=>{var _0x538fec=a0_0x250dd5;try{const {username:_0x42ae5b,email:_0x32c50f,role:_0x5aae7d}=_0x4996b4[_0x538fec(0x1f7)],_0x3bb425=_0x4996b4[_0x538fec(0x1f7)],_0x54c0aa=await profile[_0x538fec(0x1d8)]({'email':_0x3bb425[_0x538fec(0x208)]}),_0x289d0f=await master_shop['find']();console[_0x538fec(0x1aa)](_0x538fec(0x1e8),_0x289d0f);const _0x43d79e=await purchases_return['aggregate']([{'$lookup':{'from':'suppliers','localField':_0x538fec(0x211),'foreignField':_0x538fec(0x207),'as':_0x538fec(0x1e0)}},{'$unwind':'$return_product'},{'$unwind':'$supplier_docs'},{'$group':{'_id':_0x538fec(0x1bd),'invoice':{'$first':_0x538fec(0x1f1)},'date':{'$first':'$date'},'suppliers':{'$first':_0x538fec(0x1cb)},'warehouse_name':{'$first':_0x538fec(0x222)},'product_name':{'$first':_0x538fec(0x1f3)},'return_qty':{'$first':_0x538fec(0x1b7)},'price':{'$first':_0x538fec(0x202)},'total':{'$sum':_0x538fec(0x21c)},'note':{'$first':_0x538fec(0x20e)},'total_amount':{'$first':_0x538fec(0x1e6)},'discount':{'$first':_0x538fec(0x21f)},'receivable':{'$first':_0x538fec(0x1e3)},'received':{'$first':_0x538fec(0x1bf)},'due_amount':{'$first':'$due_amount'},'mobile':{'$first':'$supplier_docs.mobile'},'email':{'$first':_0x538fec(0x1e1)},'address':{'$first':'$supplier_docs.address'},'return_sum_qty':{'$sum':_0x538fec(0x1b7)}}}]);console[_0x538fec(0x1aa)](_0x43d79e);if(_0x289d0f[0x0][_0x538fec(0x1cc)]==_0x538fec(0x1b8)){var _0x23a32b=users['English'];console[_0x538fec(0x1aa)](_0x23a32b);}else{if(_0x289d0f[0x0][_0x538fec(0x1cc)]=='Hindi')var _0x23a32b=users['Hindi'];else{if(_0x289d0f[0x0]['language']==_0x538fec(0x216))var _0x23a32b=users['German'];else{if(_0x289d0f[0x0][_0x538fec(0x1cc)]==_0x538fec(0x1c7))var _0x23a32b=users[_0x538fec(0x1c7)];else{if(_0x289d0f[0x0][_0x538fec(0x1cc)]=='French')var _0x23a32b=users[_0x538fec(0x1ad)];else{if(_0x289d0f[0x0]['language']=='Portuguese\x20(BR)')var _0x23a32b=users[_0x538fec(0x1fc)];else{if(_0x289d0f[0x0][_0x538fec(0x1cc)]==_0x538fec(0x1e9))var _0x23a32b=users[_0x538fec(0x1e9)];else{if(_0x289d0f[0x0][_0x538fec(0x1cc)]=='Arabic\x20(ae)')var _0x23a32b=users[_0x538fec(0x210)];}}}}}}}_0x4b1faf['render'](_0x538fec(0x214),{'success':_0x4996b4[_0x538fec(0x1de)](_0x538fec(0x219)),'errors':_0x4996b4[_0x538fec(0x1de)](_0x538fec(0x200)),'role':_0x3bb425,'profile':_0x54c0aa,'master_shop':_0x289d0f,'user':_0x43d79e,'language':_0x23a32b});}catch(_0x2bd2f0){console[_0x538fec(0x1aa)](_0x2bd2f0);}}),router[a0_0x250dd5(0x1d4)]('/view/:id',auth,async(_0x2a16de,_0x32258e)=>{var _0x4519f5=a0_0x250dd5;try{const {username:_0x21e0e1,email:_0x447191,role:_0x9ed657}=_0x2a16de[_0x4519f5(0x1f7)],_0x3eadac=_0x2a16de['user'],_0x5a6058=await profile[_0x4519f5(0x1d8)]({'email':_0x3eadac[_0x4519f5(0x208)]}),_0x133f35=await product['find']({}),_0xef0c4e=await master_shop[_0x4519f5(0x1d0)]();console['log'](_0x4519f5(0x1e8),_0xef0c4e),console[_0x4519f5(0x1aa)](_0x2a16de[_0x4519f5(0x1fa)]);const _0x152969=_0x2a16de['params']['id'],_0x5efc96=await purchases_return[_0x4519f5(0x20f)](_0x152969);console[_0x4519f5(0x1aa)](_0x5efc96);const _0x42823f=await warehouse['aggregate']([{'$match':{'name':_0x5efc96[_0x4519f5(0x1ef)],'room':_0x5efc96[_0x4519f5(0x1ea)]}},{'$unwind':'$product_details'},{'$group':{'_id':_0x4519f5(0x1ca),'name':{'$first':_0x4519f5(0x1c5)},'product_stock':{'$first':'$product_details.product_stock'},'bay':{'$first':_0x4519f5(0x1bc)},'bin':{'$first':_0x4519f5(0x215)},'type':{'$first':_0x4519f5(0x22a)},'floorlevel':{'$first':'$product_details.floorlevel'},'primary_code':{'$first':_0x4519f5(0x1d2)},'secondary_code':{'$first':_0x4519f5(0x1c9)},'product_code':{'$first':'$product_details.product_code'},'storage':{'$first':_0x4519f5(0x226)},'rack':{'$first':_0x4519f5(0x203)}}}]);warehouse_data=await warehouse[_0x4519f5(0x1dd)]([{'$match':{'status':_0x4519f5(0x1d6),'name':'Return\x20Goods','warehouse_category':_0x4519f5(0x1fb)}},{'$group':{'_id':'$name','name':{'$first':'$name'}}},{'$sort':{'name':0x1}}]),console[_0x4519f5(0x1aa)]('stock_data',_0x42823f);if(_0xef0c4e[0x0][_0x4519f5(0x1cc)]=='English\x20(US)'){var _0x1611ab=users[_0x4519f5(0x20c)];console[_0x4519f5(0x1aa)](_0x1611ab);}else{if(_0xef0c4e[0x0][_0x4519f5(0x1cc)]==_0x4519f5(0x1f9))var _0x1611ab=users[_0x4519f5(0x1f9)];else{if(_0xef0c4e[0x0][_0x4519f5(0x1cc)]==_0x4519f5(0x216))var _0x1611ab=users[_0x4519f5(0x216)];else{if(_0xef0c4e[0x0][_0x4519f5(0x1cc)]=='Spanish')var _0x1611ab=users[_0x4519f5(0x1c7)];else{if(_0xef0c4e[0x0][_0x4519f5(0x1cc)]=='French')var _0x1611ab=users['French'];else{if(_0xef0c4e[0x0]['language']==_0x4519f5(0x225))var _0x1611ab=users['Portuguese'];else{if(_0xef0c4e[0x0][_0x4519f5(0x1cc)]==_0x4519f5(0x1e9))var _0x1611ab=users['Chinese'];else{if(_0xef0c4e[0x0][_0x4519f5(0x1cc)]==_0x4519f5(0x204))var _0x1611ab=users[_0x4519f5(0x210)];}}}}}}}_0x32258e[_0x4519f5(0x1ac)](_0x4519f5(0x20a),{'success':_0x2a16de[_0x4519f5(0x1de)](_0x4519f5(0x219)),'errors':_0x2a16de[_0x4519f5(0x1de)](_0x4519f5(0x200)),'role':_0x3eadac,'master_shop':_0xef0c4e,'profile':_0x5a6058,'user':_0x5efc96,'stock':_0x42823f,'product':_0x133f35,'language':_0x1611ab,'warehouse':warehouse_data});}catch(_0x5921ff){console['log'](_0x5921ff);}}),router[a0_0x250dd5(0x1b2)](a0_0x250dd5(0x217),auth,async(_0x2ff7e1,_0x4712a1)=>{var _0x197614=a0_0x250dd5;try{const _0x58e6d5=_0x2ff7e1[_0x197614(0x212)]['id'];console['log'](_0x58e6d5);const _0x9889df=await purchases_return[_0x197614(0x1d8)]({'invoice':_0x2ff7e1['body'][_0x197614(0x1ee)]});console['log'](_0x197614(0x1dc),_0x9889df);const _0x2791bf=await warehouse['findOne']({'name':_0x9889df[_0x197614(0x21d)],'room':_0x9889df[_0x197614(0x1b5)]});console[_0x197614(0x1aa)]('old_warehouse_data',_0x2791bf);const {invoice:_0x2d8f58,suppliers:_0x13b9e8,date:_0x4cb0b6,warehouse_name:_0x5ba2c6,product_name:_0x507130,purchase_quantity:_0xd1d2d6,stocks:_0x4038fa,return_qty:_0x402ed0,note:_0x120cf7,Room_name:_0x54c147,level:_0x5491d7,isle:_0x43cf89,pallet:_0x49996a,to_warehouse_name:_0x37dd0d,to_Room_name:_0x2dea91}=_0x2ff7e1['body'];if(typeof _0x507130=='string')var _0x18508a=[_0x2ff7e1[_0x197614(0x1fa)]['product_name']],_0x1bc29d=[_0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x1e7)]],_0x4c623a=[_0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x1ec)]],_0x415d24=[_0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x209)]],_0x50643e=[_0x2ff7e1['body']['level']],_0x2fae36=[_0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x1af)]],_0x5a0496=[_0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x229)]],_0x6ce1fd=[_0x2ff7e1['body'][_0x197614(0x1f4)]],_0x3ad879=[_0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x1ba)]],_0x3c2401=[_0x2ff7e1[_0x197614(0x1fa)]['primary_code_hide']],_0x454d3f=[_0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x1ff)]];else var _0x18508a=[..._0x2ff7e1['body'][_0x197614(0x21e)]],_0x1bc29d=[..._0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x1e7)]],_0x4c623a=[..._0x2ff7e1[_0x197614(0x1fa)]['stocks']],_0x415d24=[..._0x2ff7e1['body']['return_qty']],_0x50643e=[..._0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x1ab)]],_0x2fae36=[..._0x2ff7e1['body'][_0x197614(0x1af)]],_0x5a0496=[..._0x2ff7e1['body']['pallet']],_0x3ad879=[..._0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x1ba)]],_0x3c2401=[..._0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x1db)]],_0x454d3f=[..._0x2ff7e1[_0x197614(0x1fa)]['secondary_code_hide']],_0x6ce1fd=[..._0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x1f4)]];const _0x55d55d=_0x18508a[_0x197614(0x1c3)](_0x5dafd9=>{return _0x5dafd9={'product_name':_0x5dafd9};});_0x1bc29d[_0x197614(0x1e4)]((_0x14702b,_0x98eacc)=>{var _0x107f32=_0x197614;_0x55d55d[_0x98eacc][_0x107f32(0x1e7)]=_0x14702b;}),_0x4c623a[_0x197614(0x1e4)]((_0x1ffa92,_0x32c215)=>{_0x55d55d[_0x32c215]['stock_quantity']=_0x1ffa92;}),_0x415d24[_0x197614(0x1e4)]((_0x396126,_0x562739)=>{var _0x2450d6=_0x197614;_0x55d55d[_0x562739][_0x2450d6(0x209)]=_0x396126;}),_0x50643e[_0x197614(0x1e4)]((_0x40af8c,_0x5a5572)=>{_0x55d55d[_0x5a5572]['bay']=_0x40af8c;}),_0x2fae36['forEach']((_0x182ff5,_0x458e84)=>{var _0x2524a8=_0x197614;_0x55d55d[_0x458e84][_0x2524a8(0x1c8)]=_0x182ff5;}),_0x5a0496[_0x197614(0x1e4)]((_0x286423,_0x8f84f1)=>{var _0x1dff36=_0x197614;_0x55d55d[_0x8f84f1][_0x1dff36(0x1d5)]=_0x286423;}),_0x3ad879[_0x197614(0x1e4)]((_0x4ab080,_0x236afb)=>{var _0x4210ef=_0x197614;_0x55d55d[_0x236afb][_0x4210ef(0x1c1)]=_0x4ab080;}),_0x3c2401[_0x197614(0x1e4)]((_0x18715c,_0x2c7307)=>{var _0x5d7b81=_0x197614;_0x55d55d[_0x2c7307][_0x5d7b81(0x1b4)]=_0x18715c;}),_0x454d3f[_0x197614(0x1e4)]((_0x345a4f,_0x36028e)=>{var _0x3efe3f=_0x197614;_0x55d55d[_0x36028e][_0x3efe3f(0x221)]=_0x345a4f;}),_0x6ce1fd[_0x197614(0x1e4)]((_0xd6ae0e,_0x50880c)=>{var _0x2652c2=_0x197614;_0x55d55d[_0x50880c][_0x2652c2(0x1f2)]=_0xd6ae0e;});var _0x456dca=0x0;_0x55d55d[_0x197614(0x1e4)](_0x46d3c3=>{var _0x5db32a=_0x197614;console[_0x5db32a(0x1aa)](_0x5db32a(0x1d9),_0x46d3c3),(parseInt(_0x46d3c3[_0x5db32a(0x1e7)])<parseInt(_0x46d3c3[_0x5db32a(0x209)])||parseInt(_0x46d3c3[_0x5db32a(0x227)])<parseInt(_0x46d3c3[_0x5db32a(0x209)])||parseInt(_0x46d3c3['return_qty'])==0x0)&&_0x456dca++;});if(_0x456dca!=0x0)return _0x2ff7e1['flash'](_0x197614(0x200),_0x197614(0x224)),_0x4712a1['redirect'](_0x197614(0x213));_0x9889df['return_product']['forEach'](_0x3330ff=>{var _0x26eefc=_0x197614;const _0x250403=_0x2791bf[_0x26eefc(0x21b)][_0x26eefc(0x1c3)](_0x4d8367=>{var _0x56a0a1=_0x26eefc;_0x4d8367[_0x56a0a1(0x21e)]==_0x3330ff[_0x56a0a1(0x21e)]&&_0x4d8367[_0x56a0a1(0x1d5)]==_0x3330ff[_0x56a0a1(0x1d5)]&&_0x4d8367[_0x56a0a1(0x1f2)]==_0x3330ff['type']&&_0x4d8367[_0x56a0a1(0x1c8)]==_0x3330ff['bin']&&_0x4d8367[_0x56a0a1(0x1be)]==_0x3330ff['bay']&&(_0x4d8367[_0x56a0a1(0x1f8)]=parseInt(_0x4d8367[_0x56a0a1(0x1f8)])+parseInt(_0x3330ff[_0x56a0a1(0x209)]));});}),console[_0x197614(0x1aa)](_0x197614(0x1c0),_0x2791bf),await _0x2791bf[_0x197614(0x20b)](),_0x9889df[_0x197614(0x1ee)]=_0x2d8f58,_0x9889df[_0x197614(0x211)]=_0x13b9e8,_0x9889df[_0x197614(0x1b9)]=_0x4cb0b6,_0x9889df[_0x197614(0x1ef)]=_0x5ba2c6,_0x9889df['return_product']=_0x55d55d,_0x9889df[_0x197614(0x1cd)]=_0x120cf7,_0x9889df[_0x197614(0x1ea)]=_0x54c147,_0x9889df[_0x197614(0x21d)]=_0x37dd0d,_0x9889df['to_room']=_0x2dea91;const _0x4711e8=await _0x9889df[_0x197614(0x20b)](),_0xf3ce2f=await purchases_return[_0x197614(0x1d8)]({'invoice':_0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x1ee)]}),_0x114d54=await warehouse['findOne']({'name':_0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x21d)],'room':_0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x1b3)]});_0xf3ce2f['return_product'][_0x197614(0x1e4)](_0x425196=>{var _0x541e13=_0x197614;_0x114d54[_0x541e13(0x21b)]['map'](_0x42aacb=>{var _0x4f4a97=_0x541e13;_0x42aacb[_0x4f4a97(0x21e)]==_0x425196[_0x4f4a97(0x21e)]&&_0x42aacb[_0x4f4a97(0x229)]==_0x425196[_0x4f4a97(0x229)]&&(_0x42aacb[_0x4f4a97(0x1f8)]=parseInt(_0x42aacb[_0x4f4a97(0x1f8)])-parseInt(_0x425196[_0x4f4a97(0x209)]),console[_0x4f4a97(0x1aa)](_0x4f4a97(0x1f6),_0x425196[_0x4f4a97(0x209)]));});}),console['log'](_0x197614(0x1b1),_0x114d54),await _0x114d54['save']();const _0xa9db25=await s_payment_data[_0x197614(0x1d8)]({'invoice':_0x2ff7e1[_0x197614(0x1fa)][_0x197614(0x1ee)],'reason':_0x197614(0x1ce)});await _0xa9db25[_0x197614(0x20b)](),_0x2ff7e1['flash'](_0x197614(0x219),_0x197614(0x1f5)),_0x4712a1['redirect'](_0x197614(0x201));}catch(_0x277970){console[_0x197614(0x1aa)](_0x277970),_0x4712a1[_0x197614(0x1bb)](0xc8)[_0x197614(0x1cf)]({'message':_0x277970['message']});}}),router['get']('/invoice/:id',auth,async(_0x1815c0,_0x4f7bb0)=>{var _0x513f30=a0_0x250dd5;try{const {username:_0x45a8d5,email:_0x3710b2,role:_0x434f95}=_0x1815c0['user'],_0x4f8201=_0x1815c0[_0x513f30(0x1f7)],_0x37967b=await profile[_0x513f30(0x1d8)]({'email':_0x4f8201[_0x513f30(0x208)]}),_0x544df4=await master_shop[_0x513f30(0x1d0)]();console[_0x513f30(0x1aa)](_0x513f30(0x1e8),_0x544df4);const _0x3607d3=_0x1815c0[_0x513f30(0x212)]['id'],_0x51f881=await purchases_return[_0x513f30(0x20f)](_0x3607d3);console[_0x513f30(0x1aa)](_0x51f881);const _0x1734cc=await suppliers[_0x513f30(0x1d8)]({'name':_0x51f881['suppliers']});console[_0x513f30(0x1aa)](_0x1734cc);if(_0x544df4[0x0][_0x513f30(0x1cc)]==_0x513f30(0x1b8)){var _0x5d92d3=users[_0x513f30(0x20c)];console[_0x513f30(0x1aa)](_0x5d92d3);}else{if(_0x544df4[0x0]['language']==_0x513f30(0x1f9))var _0x5d92d3=users[_0x513f30(0x1f9)];else{if(_0x544df4[0x0][_0x513f30(0x1cc)]=='German')var _0x5d92d3=users[_0x513f30(0x216)];else{if(_0x544df4[0x0][_0x513f30(0x1cc)]==_0x513f30(0x1c7))var _0x5d92d3=users[_0x513f30(0x1c7)];else{if(_0x544df4[0x0][_0x513f30(0x1cc)]==_0x513f30(0x1ad))var _0x5d92d3=users[_0x513f30(0x1ad)];else{if(_0x544df4[0x0]['language']==_0x513f30(0x225))var _0x5d92d3=users[_0x513f30(0x1fc)];else{if(_0x544df4[0x0]['language']=='Chinese')var _0x5d92d3=users[_0x513f30(0x1e9)];else{if(_0x544df4[0x0][_0x513f30(0x1cc)]==_0x513f30(0x204))var _0x5d92d3=users[_0x513f30(0x210)];}}}}}}}_0x4f7bb0['render'](_0x513f30(0x1b0),{'success':_0x1815c0['flash'](_0x513f30(0x219)),'errors':_0x1815c0[_0x513f30(0x1de)]('errors'),'role':_0x4f8201,'profile':_0x37967b,'master_shop':_0x544df4,'supplier':_0x1734cc,'purchase':_0x51f881,'language':_0x5d92d3});}catch(_0x4506e9){console['log'](_0x4506e9);}}),router[a0_0x250dd5(0x1b2)](a0_0x250dd5(0x228),auth,async(_0x330149,_0x3b3edb)=>{var _0x31140a=a0_0x250dd5;try{const _0x2bcb1a=_0x330149[_0x31140a(0x212)]['id'],{invoice:_0x46d0af,suppliers:_0x3a2d55,receivable_amount:_0x4ace3b,received_amount:_0x383ee6}=_0x330149[_0x31140a(0x1fa)],_0x4b3e6e=await purchases_return[_0x31140a(0x20f)](_0x2bcb1a);console[_0x31140a(0x1aa)](_0x4b3e6e);var _0x46bef1=_0x4ace3b-_0x383ee6;console[_0x31140a(0x1aa)](_0x383ee6),_0x4b3e6e[_0x31140a(0x1e5)]=parseFloat(_0x383ee6)+parseFloat(_0x4b3e6e[_0x31140a(0x1e5)]),_0x4b3e6e[_0x31140a(0x1eb)]=_0x46bef1,console[_0x31140a(0x1aa)](_0x4b3e6e);const _0x339da4=await _0x4b3e6e[_0x31140a(0x20b)](),_0x531f37=await s_payment_data[_0x31140a(0x1d8)]({'invoice':_0x330149[_0x31140a(0x1fa)][_0x31140a(0x1ee)],'reason':_0x31140a(0x1ce)});_0x531f37[_0x31140a(0x205)]=_0x46bef1,await _0x531f37[_0x31140a(0x20b)]();let _0x1f3a38=new Date(),_0x1b7e9e=('0'+_0x1f3a38[_0x31140a(0x1f0)]())[_0x31140a(0x22b)](-0x2),_0x51e74b=('0'+(_0x1f3a38[_0x31140a(0x1c2)]()+0x1))[_0x31140a(0x22b)](-0x2),_0x1ef92a=_0x1f3a38[_0x31140a(0x20d)](),_0x4436dc=_0x1ef92a+'-'+_0x51e74b+'-'+_0x1b7e9e;const _0x425c76=new suppliers_payment({'invoice':_0x46d0af,'date':_0x1ef92a+'-'+_0x51e74b+'-'+_0x1b7e9e,'suppliers':_0x3a2d55,'reason':_0x31140a(0x1fd),'amount':_0x383ee6}),_0x91d83e=await _0x425c76[_0x31140a(0x20b)]();_0x330149[_0x31140a(0x1de)](_0x31140a(0x219),_0x31140a(0x218)),_0x3b3edb[_0x31140a(0x220)](_0x31140a(0x201));}catch(_0x5924b8){console[_0x31140a(0x1aa)](_0x5924b8);}}),module[a0_0x250dd5(0x1da)]=router;