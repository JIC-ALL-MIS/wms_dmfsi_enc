var a0_0x1c8da3=a0_0x22f6;function a0_0x22f6(_0x2f80e1,_0x485545){var _0x237426=a0_0x2374();return a0_0x22f6=function(_0x22f667,_0x2f3331){_0x22f667=_0x22f667-0x12a;var _0x117570=_0x237426[_0x22f667];return _0x117570;},a0_0x22f6(_0x2f80e1,_0x485545);}(function(_0x2d9417,_0x80c276){var _0x3aca0d=a0_0x22f6,_0x1f3c9b=_0x2d9417();while(!![]){try{var _0x25ef8b=parseInt(_0x3aca0d(0x19b))/0x1*(-parseInt(_0x3aca0d(0x168))/0x2)+parseInt(_0x3aca0d(0x16a))/0x3+parseInt(_0x3aca0d(0x1a7))/0x4*(parseInt(_0x3aca0d(0x18c))/0x5)+-parseInt(_0x3aca0d(0x184))/0x6+parseInt(_0x3aca0d(0x195))/0x7*(-parseInt(_0x3aca0d(0x16e))/0x8)+-parseInt(_0x3aca0d(0x14b))/0x9*(parseInt(_0x3aca0d(0x179))/0xa)+parseInt(_0x3aca0d(0x140))/0xb;if(_0x25ef8b===_0x80c276)break;else _0x1f3c9b['push'](_0x1f3c9b['shift']());}catch(_0x23fa41){_0x1f3c9b['push'](_0x1f3c9b['shift']());}}}(a0_0x2374,0xd7e15));const express=require(a0_0x1c8da3(0x155)),app=express(),router=express[a0_0x1c8da3(0x13b)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x1c8da3(0x1a3)),auth=require(a0_0x1c8da3(0x1a8)),users=require(a0_0x1c8da3(0x13c));router[a0_0x1c8da3(0x1aa)](a0_0x1c8da3(0x166),auth,async(_0x34b1df,_0xe4b937)=>{var _0x37408b=a0_0x1c8da3;try{const {username:_0xdb1d42,email:_0x42fe86,role:_0x1fb6c4}=_0x34b1df['user'],_0x322337=_0x34b1df[_0x37408b(0x144)],_0x1006a4=await profile['findOne']({'email':_0x322337[_0x37408b(0x19d)]}),_0x291563=await master_shop[_0x37408b(0x142)]();console[_0x37408b(0x162)](_0x37408b(0x14c),_0x291563);const _0x315f76=await purchases_return[_0x37408b(0x135)]([{'$lookup':{'from':_0x37408b(0x13f),'localField':_0x37408b(0x13f),'foreignField':_0x37408b(0x157),'as':_0x37408b(0x136)}},{'$unwind':_0x37408b(0x19f)},{'$unwind':_0x37408b(0x170)},{'$group':{'_id':_0x37408b(0x171),'invoice':{'$first':_0x37408b(0x159)},'date':{'$first':'$date'},'suppliers':{'$first':_0x37408b(0x130)},'warehouse_name':{'$first':_0x37408b(0x198)},'product_name':{'$first':_0x37408b(0x12c)},'return_qty':{'$first':'$return_product.return_qty'},'price':{'$first':'$return_product.price'},'total':{'$sum':'$return_product.total'},'note':{'$first':_0x37408b(0x17a)},'total_amount':{'$first':_0x37408b(0x165)},'discount':{'$first':_0x37408b(0x17d)},'receivable':{'$first':_0x37408b(0x186)},'received':{'$first':_0x37408b(0x17b)},'due_amount':{'$first':_0x37408b(0x153)},'mobile':{'$first':'$supplier_docs.mobile'},'email':{'$first':_0x37408b(0x15c)},'address':{'$first':_0x37408b(0x18a)},'return_sum_qty':{'$sum':_0x37408b(0x149)}}}]);console[_0x37408b(0x162)](_0x315f76);if(_0x291563[0x0][_0x37408b(0x15b)]==_0x37408b(0x197)){var _0x398020=users[_0x37408b(0x147)];console[_0x37408b(0x162)](_0x398020);}else{if(_0x291563[0x0][_0x37408b(0x15b)]==_0x37408b(0x15f))var _0x398020=users[_0x37408b(0x15f)];else{if(_0x291563[0x0][_0x37408b(0x15b)]==_0x37408b(0x193))var _0x398020=users[_0x37408b(0x193)];else{if(_0x291563[0x0][_0x37408b(0x15b)]==_0x37408b(0x17c))var _0x398020=users['Spanish'];else{if(_0x291563[0x0][_0x37408b(0x15b)]==_0x37408b(0x16f))var _0x398020=users[_0x37408b(0x16f)];else{if(_0x291563[0x0][_0x37408b(0x15b)]==_0x37408b(0x14f))var _0x398020=users[_0x37408b(0x16b)];else{if(_0x291563[0x0][_0x37408b(0x15b)]==_0x37408b(0x163))var _0x398020=users[_0x37408b(0x163)];else{if(_0x291563[0x0]['language']==_0x37408b(0x191))var _0x398020=users[_0x37408b(0x161)];}}}}}}}_0xe4b937[_0x37408b(0x12a)](_0x37408b(0x131),{'success':_0x34b1df[_0x37408b(0x183)](_0x37408b(0x1a2)),'errors':_0x34b1df[_0x37408b(0x183)](_0x37408b(0x175)),'role':_0x322337,'profile':_0x1006a4,'master_shop':_0x291563,'user':_0x315f76,'language':_0x398020});}catch(_0x54c3cb){console[_0x37408b(0x162)](_0x54c3cb);}}),router[a0_0x1c8da3(0x1aa)]('/view/:id',auth,async(_0x2795c6,_0x2a7f38)=>{var _0x43aeb2=a0_0x1c8da3;try{const {username:_0x1b164f,email:_0x115642,role:_0x3990d5}=_0x2795c6['user'],_0x330a9b=_0x2795c6[_0x43aeb2(0x144)],_0x120ddf=await profile['findOne']({'email':_0x330a9b['email']}),_0x274be5=await product[_0x43aeb2(0x142)]({}),_0x4997e4=await master_shop['find']();console[_0x43aeb2(0x162)](_0x43aeb2(0x14c),_0x4997e4),console[_0x43aeb2(0x162)](_0x2795c6[_0x43aeb2(0x12b)]);const _0x156939=_0x2795c6['params']['id'],_0x395326=await purchases_return['findById'](_0x156939);console[_0x43aeb2(0x162)](_0x395326);const _0x1336cf=await warehouse['aggregate']([{'$match':{'name':_0x395326[_0x43aeb2(0x19a)],'room':_0x395326[_0x43aeb2(0x172)]}},{'$unwind':_0x43aeb2(0x1a9)},{'$group':{'_id':_0x43aeb2(0x177),'name':{'$first':_0x43aeb2(0x178)},'product_stock':{'$first':_0x43aeb2(0x1a6)},'bay':{'$first':'$product_details.bay'},'bin':{'$first':_0x43aeb2(0x12d)},'type':{'$first':'$product_details.type'},'floorlevel':{'$first':_0x43aeb2(0x199)},'primary_code':{'$first':_0x43aeb2(0x143)},'secondary_code':{'$first':'$product_details.secondary_code'},'product_code':{'$first':_0x43aeb2(0x194)},'storage':{'$first':_0x43aeb2(0x1a0)},'rack':{'$first':_0x43aeb2(0x196)}}}]);warehouse_data=await warehouse[_0x43aeb2(0x135)]([{'$match':{'status':'Enabled','name':_0x43aeb2(0x192),'warehouse_category':'Raw\x20Materials'}},{'$group':{'_id':_0x43aeb2(0x164),'name':{'$first':_0x43aeb2(0x164)}}},{'$sort':{'name':0x1}}]),console['log']('stock_data',_0x1336cf);if(_0x4997e4[0x0]['language']==_0x43aeb2(0x197)){var _0x3f9911=users[_0x43aeb2(0x147)];console[_0x43aeb2(0x162)](_0x3f9911);}else{if(_0x4997e4[0x0][_0x43aeb2(0x15b)]==_0x43aeb2(0x15f))var _0x3f9911=users['Hindi'];else{if(_0x4997e4[0x0][_0x43aeb2(0x15b)]=='German')var _0x3f9911=users[_0x43aeb2(0x193)];else{if(_0x4997e4[0x0][_0x43aeb2(0x15b)]==_0x43aeb2(0x17c))var _0x3f9911=users[_0x43aeb2(0x17c)];else{if(_0x4997e4[0x0]['language']==_0x43aeb2(0x16f))var _0x3f9911=users[_0x43aeb2(0x16f)];else{if(_0x4997e4[0x0][_0x43aeb2(0x15b)]==_0x43aeb2(0x14f))var _0x3f9911=users[_0x43aeb2(0x16b)];else{if(_0x4997e4[0x0]['language']=='Chinese')var _0x3f9911=users['Chinese'];else{if(_0x4997e4[0x0][_0x43aeb2(0x15b)]==_0x43aeb2(0x191))var _0x3f9911=users['Arabic'];}}}}}}}_0x2a7f38[_0x43aeb2(0x12a)](_0x43aeb2(0x18d),{'success':_0x2795c6[_0x43aeb2(0x183)](_0x43aeb2(0x1a2)),'errors':_0x2795c6[_0x43aeb2(0x183)](_0x43aeb2(0x175)),'role':_0x330a9b,'master_shop':_0x4997e4,'profile':_0x120ddf,'user':_0x395326,'stock':_0x1336cf,'product':_0x274be5,'language':_0x3f9911,'warehouse':warehouse_data});}catch(_0x480d13){console[_0x43aeb2(0x162)](_0x480d13);}}),router[a0_0x1c8da3(0x189)](a0_0x1c8da3(0x14d),auth,async(_0x84774e,_0x59f4f1)=>{var _0x2b3bfc=a0_0x1c8da3;try{const _0x2a19c6=_0x84774e[_0x2b3bfc(0x154)]['id'];console[_0x2b3bfc(0x162)](_0x2a19c6);const _0x21a4a8=await purchases_return[_0x2b3bfc(0x15e)]({'invoice':_0x84774e['body'][_0x2b3bfc(0x134)]});console[_0x2b3bfc(0x162)](_0x2b3bfc(0x146),_0x21a4a8);const _0x4692cb=await warehouse[_0x2b3bfc(0x15e)]({'name':_0x21a4a8[_0x2b3bfc(0x148)],'room':_0x21a4a8['to_room']});console[_0x2b3bfc(0x162)](_0x2b3bfc(0x1a1),_0x4692cb);const {invoice:_0x3f5b4e,suppliers:_0x275194,date:_0x54bb1f,warehouse_name:_0xfd4d46,product_name:_0x492656,purchase_quantity:_0x36c6c2,stocks:_0x3951b5,return_qty:_0x4a9399,note:_0x514283,Room_name:_0x3eaa68,level:_0x2dcce1,isle:_0x536cd4,pallet:_0x393555,to_warehouse_name:_0x23bae1,to_Room_name:_0x29f962}=_0x84774e[_0x2b3bfc(0x12b)];if(typeof _0x492656==_0x2b3bfc(0x132))var _0x16e0cf=[_0x84774e[_0x2b3bfc(0x12b)]['product_name']],_0x204cc=[_0x84774e[_0x2b3bfc(0x12b)]['purchase_quantity']],_0x361263=[_0x84774e[_0x2b3bfc(0x12b)]['stocks']],_0x1e2fb2=[_0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x167)]],_0x58c6f1=[_0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x17f)]],_0x3ba588=[_0x84774e[_0x2b3bfc(0x12b)]['isle']],_0x4cfef=[_0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x16d)]],_0x385911=[_0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x156)]],_0x1710f3=[_0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x173)]],_0x5acd53=[_0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x19c)]],_0x5c0658=[_0x84774e['body'][_0x2b3bfc(0x139)]];else var _0x16e0cf=[..._0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x181)]],_0x204cc=[..._0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x133)]],_0x361263=[..._0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x18f)]],_0x1e2fb2=[..._0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x167)]],_0x58c6f1=[..._0x84774e[_0x2b3bfc(0x12b)]['level']],_0x3ba588=[..._0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x15a)]],_0x4cfef=[..._0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x16d)]],_0x1710f3=[..._0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x173)]],_0x5acd53=[..._0x84774e['body'][_0x2b3bfc(0x19c)]],_0x5c0658=[..._0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x139)]],_0x385911=[..._0x84774e['body'][_0x2b3bfc(0x156)]];const _0x3e0c94=_0x16e0cf[_0x2b3bfc(0x150)](_0x9d0ffa=>{return _0x9d0ffa={'product_name':_0x9d0ffa};});_0x204cc[_0x2b3bfc(0x187)]((_0x2f447b,_0x1c6692)=>{_0x3e0c94[_0x1c6692]['purchase_quantity']=_0x2f447b;}),_0x361263[_0x2b3bfc(0x187)]((_0x2f2e65,_0x325322)=>{var _0x4b3ac0=_0x2b3bfc;_0x3e0c94[_0x325322][_0x4b3ac0(0x145)]=_0x2f2e65;}),_0x1e2fb2[_0x2b3bfc(0x187)]((_0x32d855,_0x21db2e)=>{_0x3e0c94[_0x21db2e]['return_qty']=_0x32d855;}),_0x58c6f1[_0x2b3bfc(0x187)]((_0xbfdf6d,_0x3b1ee1)=>{var _0x58aa90=_0x2b3bfc;_0x3e0c94[_0x3b1ee1][_0x58aa90(0x151)]=_0xbfdf6d;}),_0x3ba588[_0x2b3bfc(0x187)]((_0x5157c9,_0x7aa7d1)=>{var _0x65d6bb=_0x2b3bfc;_0x3e0c94[_0x7aa7d1][_0x65d6bb(0x152)]=_0x5157c9;}),_0x4cfef[_0x2b3bfc(0x187)]((_0x3dca36,_0x254d48)=>{_0x3e0c94[_0x254d48]['floorlevel']=_0x3dca36;}),_0x1710f3[_0x2b3bfc(0x187)]((_0x25ee3a,_0x4df263)=>{var _0x3bee83=_0x2b3bfc;_0x3e0c94[_0x4df263][_0x3bee83(0x16c)]=_0x25ee3a;}),_0x5acd53[_0x2b3bfc(0x187)]((_0x116341,_0x366a36)=>{_0x3e0c94[_0x366a36]['primary_code']=_0x116341;}),_0x5c0658[_0x2b3bfc(0x187)]((_0x4046a1,_0x2cec23)=>{var _0x265a85=_0x2b3bfc;_0x3e0c94[_0x2cec23][_0x265a85(0x137)]=_0x4046a1;}),_0x385911[_0x2b3bfc(0x187)]((_0x2b00bd,_0x474b10)=>{var _0x3cc27d=_0x2b3bfc;_0x3e0c94[_0x474b10][_0x3cc27d(0x18b)]=_0x2b00bd;});var _0x250356=0x0;_0x3e0c94[_0x2b3bfc(0x187)](_0x5c9760=>{var _0x1e5010=_0x2b3bfc;console['log'](_0x1e5010(0x182),_0x5c9760),(parseInt(_0x5c9760[_0x1e5010(0x133)])<parseInt(_0x5c9760[_0x1e5010(0x167)])||parseInt(_0x5c9760['stock_quantity'])<parseInt(_0x5c9760[_0x1e5010(0x167)])||parseInt(_0x5c9760[_0x1e5010(0x167)])==0x0)&&_0x250356++;});if(_0x250356!=0x0)return _0x84774e[_0x2b3bfc(0x183)](_0x2b3bfc(0x175),_0x2b3bfc(0x17e)),_0x59f4f1[_0x2b3bfc(0x13d)](_0x2b3bfc(0x1a5));_0x21a4a8[_0x2b3bfc(0x180)]['forEach'](_0x361a99=>{var _0x3e03cb=_0x2b3bfc;const _0x5d6522=_0x4692cb[_0x3e03cb(0x176)][_0x3e03cb(0x150)](_0x1f1a41=>{var _0x5ad7c5=_0x3e03cb;_0x1f1a41[_0x5ad7c5(0x181)]==_0x361a99[_0x5ad7c5(0x181)]&&_0x1f1a41[_0x5ad7c5(0x14e)]==_0x361a99[_0x5ad7c5(0x14e)]&&_0x1f1a41[_0x5ad7c5(0x18b)]==_0x361a99[_0x5ad7c5(0x18b)]&&_0x1f1a41[_0x5ad7c5(0x152)]==_0x361a99[_0x5ad7c5(0x152)]&&_0x1f1a41[_0x5ad7c5(0x151)]==_0x361a99[_0x5ad7c5(0x151)]&&(_0x1f1a41[_0x5ad7c5(0x185)]=parseInt(_0x1f1a41['product_stock'])+parseInt(_0x361a99[_0x5ad7c5(0x167)]));});}),console[_0x2b3bfc(0x162)]('old_warehouse_data',_0x4692cb),await _0x4692cb[_0x2b3bfc(0x1ab)](),_0x21a4a8['invoice']=_0x3f5b4e,_0x21a4a8['suppliers']=_0x275194,_0x21a4a8['date']=_0x54bb1f,_0x21a4a8[_0x2b3bfc(0x19a)]=_0xfd4d46,_0x21a4a8[_0x2b3bfc(0x180)]=_0x3e0c94,_0x21a4a8[_0x2b3bfc(0x158)]=_0x514283,_0x21a4a8[_0x2b3bfc(0x172)]=_0x3eaa68,_0x21a4a8['to_warehouse_name']=_0x23bae1,_0x21a4a8[_0x2b3bfc(0x188)]=_0x29f962;const _0x56fe2f=await _0x21a4a8[_0x2b3bfc(0x1ab)](),_0x9edc33=await purchases_return[_0x2b3bfc(0x15e)]({'invoice':_0x84774e[_0x2b3bfc(0x12b)]['invoice']}),_0x5b7d6d=await warehouse[_0x2b3bfc(0x15e)]({'name':_0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x148)],'room':_0x84774e[_0x2b3bfc(0x12b)][_0x2b3bfc(0x15d)]});_0x9edc33['return_product']['forEach'](_0x3e1700=>{var _0x4394e1=_0x2b3bfc;_0x5b7d6d[_0x4394e1(0x176)]['map'](_0x31fdc8=>{var _0x7ccc18=_0x4394e1;_0x31fdc8[_0x7ccc18(0x181)]==_0x3e1700[_0x7ccc18(0x181)]&&_0x31fdc8[_0x7ccc18(0x16d)]==_0x3e1700[_0x7ccc18(0x16d)]&&(_0x31fdc8[_0x7ccc18(0x185)]=parseInt(_0x31fdc8['product_stock'])-parseInt(_0x3e1700[_0x7ccc18(0x167)]),console[_0x7ccc18(0x162)]('product_details.return_qtyproduct_details.return_qty',_0x3e1700[_0x7ccc18(0x167)]));});}),console['log'](_0x2b3bfc(0x141),_0x5b7d6d),await _0x5b7d6d[_0x2b3bfc(0x1ab)]();const _0x587b7f=await s_payment_data[_0x2b3bfc(0x15e)]({'invoice':_0x84774e['body'][_0x2b3bfc(0x134)],'reason':_0x2b3bfc(0x190)});await _0x587b7f['save'](),_0x84774e[_0x2b3bfc(0x183)](_0x2b3bfc(0x1a2),_0x2b3bfc(0x160)),_0x59f4f1['redirect']('/purchases_return/view');}catch(_0xeb870b){console[_0x2b3bfc(0x162)](_0xeb870b),_0x59f4f1[_0x2b3bfc(0x18e)](0xc8)['json']({'message':_0xeb870b[_0x2b3bfc(0x19e)]});}}),router[a0_0x1c8da3(0x1aa)](a0_0x1c8da3(0x174),auth,async(_0x20197b,_0xe24ba3)=>{var _0x159828=a0_0x1c8da3;try{const {username:_0x4d5abc,email:_0x1dc66e,role:_0x55770d}=_0x20197b[_0x159828(0x144)],_0x2bb031=_0x20197b[_0x159828(0x144)],_0x2d0265=await profile[_0x159828(0x15e)]({'email':_0x2bb031[_0x159828(0x19d)]}),_0x585a56=await master_shop[_0x159828(0x142)]();console[_0x159828(0x162)]('master',_0x585a56);const _0x14574b=_0x20197b['params']['id'],_0x267cba=await purchases_return[_0x159828(0x169)](_0x14574b);console[_0x159828(0x162)](_0x267cba);const _0x25cfa9=await suppliers[_0x159828(0x15e)]({'name':_0x267cba[_0x159828(0x13f)]});console['log'](_0x25cfa9);if(_0x585a56[0x0][_0x159828(0x15b)]==_0x159828(0x197)){var _0x2339c2=users[_0x159828(0x147)];console[_0x159828(0x162)](_0x2339c2);}else{if(_0x585a56[0x0][_0x159828(0x15b)]==_0x159828(0x15f))var _0x2339c2=users['Hindi'];else{if(_0x585a56[0x0][_0x159828(0x15b)]=='German')var _0x2339c2=users['German'];else{if(_0x585a56[0x0][_0x159828(0x15b)]==_0x159828(0x17c))var _0x2339c2=users[_0x159828(0x17c)];else{if(_0x585a56[0x0][_0x159828(0x15b)]==_0x159828(0x16f))var _0x2339c2=users[_0x159828(0x16f)];else{if(_0x585a56[0x0]['language']==_0x159828(0x14f))var _0x2339c2=users['Portuguese'];else{if(_0x585a56[0x0][_0x159828(0x15b)]==_0x159828(0x163))var _0x2339c2=users[_0x159828(0x163)];else{if(_0x585a56[0x0]['language']=='Arabic\x20(ae)')var _0x2339c2=users[_0x159828(0x161)];}}}}}}}_0xe24ba3['render'](_0x159828(0x13e),{'success':_0x20197b['flash'](_0x159828(0x1a2)),'errors':_0x20197b[_0x159828(0x183)](_0x159828(0x175)),'role':_0x2bb031,'profile':_0x2d0265,'master_shop':_0x585a56,'supplier':_0x25cfa9,'purchase':_0x267cba,'language':_0x2339c2});}catch(_0x4825e5){console['log'](_0x4825e5);}}),router['post']('/receive_payment/:id',auth,async(_0x4a82df,_0x4269f9)=>{var _0x2e18d9=a0_0x1c8da3;try{const _0x55030e=_0x4a82df[_0x2e18d9(0x154)]['id'],{invoice:_0xe21480,suppliers:_0x185997,receivable_amount:_0x3ad63a,received_amount:_0x1ca88a}=_0x4a82df[_0x2e18d9(0x12b)],_0x5e120d=await purchases_return['findById'](_0x55030e);console[_0x2e18d9(0x162)](_0x5e120d);var _0x58986a=_0x3ad63a-_0x1ca88a;console[_0x2e18d9(0x162)](_0x1ca88a),_0x5e120d[_0x2e18d9(0x12e)]=parseFloat(_0x1ca88a)+parseFloat(_0x5e120d[_0x2e18d9(0x12e)]),_0x5e120d['due_amount']=_0x58986a,console[_0x2e18d9(0x162)](_0x5e120d);const _0x166e46=await _0x5e120d[_0x2e18d9(0x1ab)](),_0xbfcdad=await s_payment_data[_0x2e18d9(0x15e)]({'invoice':_0x4a82df[_0x2e18d9(0x12b)][_0x2e18d9(0x134)],'reason':_0x2e18d9(0x190)});_0xbfcdad[_0x2e18d9(0x1a4)]=_0x58986a,await _0xbfcdad[_0x2e18d9(0x1ab)]();let _0x231548=new Date(),_0x4ec500=('0'+_0x231548['getDate']())[_0x2e18d9(0x138)](-0x2),_0x280984=('0'+(_0x231548[_0x2e18d9(0x14a)]()+0x1))[_0x2e18d9(0x138)](-0x2),_0x2eac71=_0x231548[_0x2e18d9(0x13a)](),_0x23ff15=_0x2eac71+'-'+_0x280984+'-'+_0x4ec500;const _0x1f2540=new suppliers_payment({'invoice':_0xe21480,'date':_0x2eac71+'-'+_0x280984+'-'+_0x4ec500,'suppliers':_0x185997,'reason':_0x2e18d9(0x12f),'amount':_0x1ca88a}),_0x533b6d=await _0x1f2540[_0x2e18d9(0x1ab)]();_0x4a82df[_0x2e18d9(0x183)](_0x2e18d9(0x1a2),'payment\x20successfull'),_0x4269f9['redirect']('/purchases_return/view');}catch(_0x182d7c){console[_0x2e18d9(0x162)](_0x182d7c);}}),module['exports']=router;function a0_0x2374(){var _0x228b51=['errors','product_details','$product_details._id','$product_details.product_name','10bhkqad','$note','$received','Spanish','$discount','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','level','return_product','product_name','foreach\x20newproduct','flash','1977648oPlHMW','product_stock','$receivable','forEach','to_room','post','$supplier_docs.address','type','10LkalZs','return_purchase_edit','status','stocks','Purchase\x20Return','Arabic\x20(ae)','Return\x20Goods','German','$product_details.product_code','306082kAcdqx','$product_details.rack','English\x20(US)','$warehouse_name','$product_details.floorlevel','warehouse_name','11sUQriT','primary_code_hide','email','message','$return_product','$product_details.storage','old_warehouse_data','success','../models/all_models','amount','back','$product_details.product_stock','145976LSYaxu','../middleware/auth','$product_details','get','save','render','body','$return_product.product_name','$product_details.bin','received','Received\x20For\x20Purchase\x20Return','$suppliers','purchases_return','string','purchase_quantity','invoice','aggregate','supplier_docs','secondary_code','slice','secondary_code_hide','getFullYear','Router','../public/language/languages.json','redirect','return_purchase_invoice','suppliers','19652996gyXQEv','final','find','$product_details.primary_code','user','stock_quantity','old_data','English','to_warehouse_name','$return_product.return_qty','getMonth','4864302LmsOKM','master','/view/:id','floorlevel','Portuguese\x20(BR)','map','bay','bin','$due_amount','params','express','types','name','note','$invoice','isle','language','$supplier_docs.email','to_Room_name','findOne','Hindi','purchase\x20return\x20successfully','Arabic','log','Chinese','$name','$total_amount','/view','return_qty','93450mYuZlv','findById','3062538nauXqm','Portuguese','product_code','pallet','112eqNNoX','French','$supplier_docs','$_id','room','product_code_hide','/invoice/:id'];a0_0x2374=function(){return _0x228b51;};return a0_0x2374();}