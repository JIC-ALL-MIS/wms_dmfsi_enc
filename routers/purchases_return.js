var a0_0x160f36=a0_0x2ae8;function a0_0x2ae8(_0x4ede70,_0x4e875f){var _0x305303=a0_0x3053();return a0_0x2ae8=function(_0x2ae8bf,_0x248055){_0x2ae8bf=_0x2ae8bf-0x1ee;var _0x2483cc=_0x305303[_0x2ae8bf];return _0x2483cc;},a0_0x2ae8(_0x4ede70,_0x4e875f);}(function(_0xf83bfe,_0x5a3bde){var _0x1359f1=a0_0x2ae8,_0x1fd3a7=_0xf83bfe();while(!![]){try{var _0x123f43=-parseInt(_0x1359f1(0x22e))/0x1*(-parseInt(_0x1359f1(0x219))/0x2)+parseInt(_0x1359f1(0x21a))/0x3*(parseInt(_0x1359f1(0x25d))/0x4)+-parseInt(_0x1359f1(0x1f4))/0x5+-parseInt(_0x1359f1(0x249))/0x6*(parseInt(_0x1359f1(0x259))/0x7)+parseInt(_0x1359f1(0x223))/0x8+parseInt(_0x1359f1(0x23e))/0x9*(-parseInt(_0x1359f1(0x1ef))/0xa)+parseInt(_0x1359f1(0x235))/0xb;if(_0x123f43===_0x5a3bde)break;else _0x1fd3a7['push'](_0x1fd3a7['shift']());}catch(_0x2279f7){_0x1fd3a7['push'](_0x1fd3a7['shift']());}}}(a0_0x3053,0xc39a5));const express=require(a0_0x160f36(0x22f)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x160f36(0x25f)),auth=require(a0_0x160f36(0x21b)),users=require(a0_0x160f36(0x225));function a0_0x3053(){var _0x2d120e=['json','master','date','Hindi','English','product_stock','$product_details.bin','Spanish','primary_code_hide','primary_code','$supplier_docs.email','/invoice/:id','to_warehouse_name','forEach','exports','map','post','findOne','params','Portuguese\x20(BR)','redirect','$product_details.floorlevel','$date','$due_amount','Return\x20Goods','foreach\x20newproduct','user','2OHhWqA','3GpBejo','../middleware/auth','aggregate','$product_details.type','body','$discount','getFullYear','return_product','success','5664520RtgKsf','$product_details.rack','../public/language/languages.json','product_details','Portuguese','received','getMonth','slice','$product_details.secondary_code','flash','stock_quantity','1257358tAUePE','express','back','$_id','floorlevel','Chinese','Arabic\x20(ae)','16091240eFYfiz','purchase_quantity','/purchases_return/view','return_qty','$receivable','$note','pallet','note','to_Room_name','9wawUQU','/view/:id','$supplier_docs.mobile','French','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','log','type','return_purchase_invoice','$product_details.storage','$supplier_docs.address','to_room','7373502GDxQDv','$product_details','get','$return_product.return_qty','purchase\x20return\x20successfully','$suppliers','$supplier_docs','warehouse_name','isle','bin','product_name','types','English\x20(US)','email','old_warehouse_data','Arabic','7IKeHbH','product_details.return_qtyproduct_details.return_qty','/receive_payment/:id','room','572564tHLKEW','render','../models/all_models','language','level','save','payment\x20successfull','amount','old_data','$total_amount','German','supplier_docs','invoice','12086360qVVNhp','/view','secondary_code','Purchase\x20Return','errors','1663310qCchAM','product_code_hide','$return_product.price','stocks','findById','getDate','suppliers','name','$name','$product_details._id'];a0_0x3053=function(){return _0x2d120e;};return a0_0x3053();}router[a0_0x160f36(0x24b)](a0_0x160f36(0x1f0),auth,async(_0x3691e4,_0x1275c6)=>{var _0x54e030=a0_0x160f36;try{const {username:_0x1a54c2,email:_0x538b4c,role:_0x54addc}=_0x3691e4[_0x54e030(0x218)],_0x460a9d=_0x3691e4[_0x54e030(0x218)],_0x1a4080=await profile[_0x54e030(0x20f)]({'email':_0x460a9d['email']}),_0x3bddd9=await master_shop['find']();console[_0x54e030(0x243)](_0x54e030(0x1ff),_0x3bddd9);const _0x166450=await purchases_return[_0x54e030(0x21c)]([{'$lookup':{'from':'suppliers','localField':_0x54e030(0x1fa),'foreignField':_0x54e030(0x1fb),'as':_0x54e030(0x268)}},{'$unwind':'$return_product'},{'$unwind':_0x54e030(0x24f)},{'$group':{'_id':_0x54e030(0x231),'invoice':{'$first':'$invoice'},'date':{'$first':_0x54e030(0x214)},'suppliers':{'$first':_0x54e030(0x24e)},'warehouse_name':{'$first':'$warehouse_name'},'product_name':{'$first':'$return_product.product_name'},'return_qty':{'$first':_0x54e030(0x24c)},'price':{'$first':_0x54e030(0x1f6)},'total':{'$sum':'$return_product.total'},'note':{'$first':_0x54e030(0x23a)},'total_amount':{'$first':_0x54e030(0x266)},'discount':{'$first':_0x54e030(0x21f)},'receivable':{'$first':_0x54e030(0x239)},'received':{'$first':'$received'},'due_amount':{'$first':_0x54e030(0x215)},'mobile':{'$first':_0x54e030(0x240)},'email':{'$first':_0x54e030(0x208)},'address':{'$first':_0x54e030(0x247)},'return_sum_qty':{'$sum':_0x54e030(0x24c)}}}]);console[_0x54e030(0x243)](_0x166450);if(_0x3bddd9[0x0][_0x54e030(0x260)]==_0x54e030(0x255)){var _0x266a39=users[_0x54e030(0x202)];console[_0x54e030(0x243)](_0x266a39);}else{if(_0x3bddd9[0x0][_0x54e030(0x260)]=='Hindi')var _0x266a39=users[_0x54e030(0x201)];else{if(_0x3bddd9[0x0]['language']==_0x54e030(0x267))var _0x266a39=users[_0x54e030(0x267)];else{if(_0x3bddd9[0x0][_0x54e030(0x260)]==_0x54e030(0x205))var _0x266a39=users[_0x54e030(0x205)];else{if(_0x3bddd9[0x0][_0x54e030(0x260)]==_0x54e030(0x241))var _0x266a39=users[_0x54e030(0x241)];else{if(_0x3bddd9[0x0]['language']==_0x54e030(0x211))var _0x266a39=users[_0x54e030(0x227)];else{if(_0x3bddd9[0x0][_0x54e030(0x260)]==_0x54e030(0x233))var _0x266a39=users['Chinese'];else{if(_0x3bddd9[0x0][_0x54e030(0x260)]==_0x54e030(0x234))var _0x266a39=users[_0x54e030(0x258)];}}}}}}}_0x1275c6[_0x54e030(0x25e)]('purchases_return',{'success':_0x3691e4['flash'](_0x54e030(0x222)),'errors':_0x3691e4[_0x54e030(0x22c)]('errors'),'role':_0x460a9d,'profile':_0x1a4080,'master_shop':_0x3bddd9,'user':_0x166450,'language':_0x266a39});}catch(_0x12923d){console['log'](_0x12923d);}}),router[a0_0x160f36(0x24b)]('/view/:id',auth,async(_0x152105,_0x1d2736)=>{var _0xb57e14=a0_0x160f36;try{const {username:_0x3a7c91,email:_0x97544,role:_0x4ae1ca}=_0x152105[_0xb57e14(0x218)],_0x406100=_0x152105[_0xb57e14(0x218)],_0x30f46e=await profile['findOne']({'email':_0x406100['email']}),_0x8915d5=await product['find']({}),_0x4b5889=await master_shop['find']();console['log'](_0xb57e14(0x1ff),_0x4b5889),console[_0xb57e14(0x243)](_0x152105['body']);const _0x6b7d1b=_0x152105[_0xb57e14(0x210)]['id'],_0x3f2aac=await purchases_return[_0xb57e14(0x1f8)](_0x6b7d1b);console[_0xb57e14(0x243)](_0x3f2aac);const _0x397491=await warehouse[_0xb57e14(0x21c)]([{'$match':{'name':_0x3f2aac[_0xb57e14(0x250)],'room':_0x3f2aac[_0xb57e14(0x25c)]}},{'$unwind':_0xb57e14(0x24a)},{'$group':{'_id':_0xb57e14(0x1fd),'name':{'$first':'$product_details.product_name'},'product_stock':{'$first':'$product_details.product_stock'},'bay':{'$first':'$product_details.bay'},'bin':{'$first':_0xb57e14(0x204)},'type':{'$first':_0xb57e14(0x21d)},'floorlevel':{'$first':_0xb57e14(0x213)},'primary_code':{'$first':'$product_details.primary_code'},'secondary_code':{'$first':_0xb57e14(0x22b)},'product_code':{'$first':'$product_details.product_code'},'storage':{'$first':_0xb57e14(0x246)},'rack':{'$first':_0xb57e14(0x224)}}}]);warehouse_data=await warehouse[_0xb57e14(0x21c)]([{'$match':{'status':'Enabled','name':_0xb57e14(0x216),'warehouse_category':'Raw\x20Materials'}},{'$group':{'_id':_0xb57e14(0x1fc),'name':{'$first':_0xb57e14(0x1fc)}}},{'$sort':{'name':0x1}}]),console[_0xb57e14(0x243)]('stock_data',_0x397491);if(_0x4b5889[0x0][_0xb57e14(0x260)]==_0xb57e14(0x255)){var _0x4dfc4b=users[_0xb57e14(0x202)];console[_0xb57e14(0x243)](_0x4dfc4b);}else{if(_0x4b5889[0x0]['language']==_0xb57e14(0x201))var _0x4dfc4b=users[_0xb57e14(0x201)];else{if(_0x4b5889[0x0]['language']==_0xb57e14(0x267))var _0x4dfc4b=users[_0xb57e14(0x267)];else{if(_0x4b5889[0x0][_0xb57e14(0x260)]==_0xb57e14(0x205))var _0x4dfc4b=users[_0xb57e14(0x205)];else{if(_0x4b5889[0x0]['language']==_0xb57e14(0x241))var _0x4dfc4b=users[_0xb57e14(0x241)];else{if(_0x4b5889[0x0]['language']==_0xb57e14(0x211))var _0x4dfc4b=users['Portuguese'];else{if(_0x4b5889[0x0]['language']==_0xb57e14(0x233))var _0x4dfc4b=users[_0xb57e14(0x233)];else{if(_0x4b5889[0x0][_0xb57e14(0x260)]==_0xb57e14(0x234))var _0x4dfc4b=users['Arabic'];}}}}}}}_0x1d2736[_0xb57e14(0x25e)]('return_purchase_edit',{'success':_0x152105[_0xb57e14(0x22c)](_0xb57e14(0x222)),'errors':_0x152105[_0xb57e14(0x22c)](_0xb57e14(0x1f3)),'role':_0x406100,'master_shop':_0x4b5889,'profile':_0x30f46e,'user':_0x3f2aac,'stock':_0x397491,'product':_0x8915d5,'language':_0x4dfc4b,'warehouse':warehouse_data});}catch(_0x410c68){console[_0xb57e14(0x243)](_0x410c68);}}),router[a0_0x160f36(0x20e)](a0_0x160f36(0x23f),auth,async(_0x10530f,_0x2e2369)=>{var _0x4823f5=a0_0x160f36;try{const _0x7f44ad=_0x10530f[_0x4823f5(0x210)]['id'];console[_0x4823f5(0x243)](_0x7f44ad);const _0x2bf624=await purchases_return[_0x4823f5(0x20f)]({'invoice':_0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x1ee)]});console[_0x4823f5(0x243)](_0x4823f5(0x265),_0x2bf624);const _0x5be0ff=await warehouse[_0x4823f5(0x20f)]({'name':_0x2bf624[_0x4823f5(0x20a)],'room':_0x2bf624[_0x4823f5(0x248)]});console[_0x4823f5(0x243)]('old_warehouse_data',_0x5be0ff);const {invoice:_0x5cdaf6,suppliers:_0x59653d,date:_0x55d1aa,warehouse_name:_0xb3be3e,product_name:_0x235c6f,purchase_quantity:_0x2cddeb,stocks:_0x34ecb6,return_qty:_0x240e68,note:_0x4567cb,Room_name:_0x5e09f9,level:_0x20ba37,isle:_0x17f2cd,pallet:_0x1fb4ce,to_warehouse_name:_0x4f681f,to_Room_name:_0x211cf8}=_0x10530f['body'];if(typeof _0x235c6f=='string')var _0x38a76a=[_0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x253)]],_0x94b8d=[_0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x236)]],_0x4e4600=[_0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x1f7)]],_0x3be38e=[_0x10530f['body'][_0x4823f5(0x238)]],_0x5ebfa1=[_0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x261)]],_0x3b9bd6=[_0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x251)]],_0x47109e=[_0x10530f[_0x4823f5(0x21e)]['pallet']],_0x153f96=[_0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x254)]],_0xe8fe57=[_0x10530f[_0x4823f5(0x21e)]['product_code_hide']],_0x332f42=[_0x10530f['body']['primary_code_hide']],_0x4bbbbe=[_0x10530f[_0x4823f5(0x21e)]['secondary_code_hide']];else var _0x38a76a=[..._0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x253)]],_0x94b8d=[..._0x10530f[_0x4823f5(0x21e)]['purchase_quantity']],_0x4e4600=[..._0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x1f7)]],_0x3be38e=[..._0x10530f['body'][_0x4823f5(0x238)]],_0x5ebfa1=[..._0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x261)]],_0x3b9bd6=[..._0x10530f[_0x4823f5(0x21e)]['isle']],_0x47109e=[..._0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x23b)]],_0xe8fe57=[..._0x10530f['body'][_0x4823f5(0x1f5)]],_0x332f42=[..._0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x206)]],_0x4bbbbe=[..._0x10530f[_0x4823f5(0x21e)]['secondary_code_hide']],_0x153f96=[..._0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x254)]];const _0x4d4cb6=_0x38a76a[_0x4823f5(0x20d)](_0xc944f0=>{return _0xc944f0={'product_name':_0xc944f0};});_0x94b8d[_0x4823f5(0x20b)]((_0x2253c6,_0x1080d2)=>{var _0x252389=_0x4823f5;_0x4d4cb6[_0x1080d2][_0x252389(0x236)]=_0x2253c6;}),_0x4e4600[_0x4823f5(0x20b)]((_0x449d85,_0x215d79)=>{var _0x2e806a=_0x4823f5;_0x4d4cb6[_0x215d79][_0x2e806a(0x22d)]=_0x449d85;}),_0x3be38e['forEach']((_0x21e690,_0x4ecad8)=>{var _0x167041=_0x4823f5;_0x4d4cb6[_0x4ecad8][_0x167041(0x238)]=_0x21e690;}),_0x5ebfa1[_0x4823f5(0x20b)]((_0x423583,_0x23f8bf)=>{_0x4d4cb6[_0x23f8bf]['bay']=_0x423583;}),_0x3b9bd6['forEach']((_0x1398d4,_0x58264c)=>{_0x4d4cb6[_0x58264c]['bin']=_0x1398d4;}),_0x47109e[_0x4823f5(0x20b)]((_0x18706b,_0x34a31c)=>{_0x4d4cb6[_0x34a31c]['floorlevel']=_0x18706b;}),_0xe8fe57[_0x4823f5(0x20b)]((_0x8a749b,_0x2a84a4)=>{_0x4d4cb6[_0x2a84a4]['product_code']=_0x8a749b;}),_0x332f42[_0x4823f5(0x20b)]((_0x3c63c7,_0xe44627)=>{var _0x26441e=_0x4823f5;_0x4d4cb6[_0xe44627][_0x26441e(0x207)]=_0x3c63c7;}),_0x4bbbbe[_0x4823f5(0x20b)]((_0x348c9c,_0x17c7a8)=>{var _0x150822=_0x4823f5;_0x4d4cb6[_0x17c7a8][_0x150822(0x1f1)]=_0x348c9c;}),_0x153f96[_0x4823f5(0x20b)]((_0x214273,_0x1e6386)=>{var _0xd22fdd=_0x4823f5;_0x4d4cb6[_0x1e6386][_0xd22fdd(0x244)]=_0x214273;});var _0x5d16c7=0x0;_0x4d4cb6[_0x4823f5(0x20b)](_0xb46e56=>{var _0xc9aece=_0x4823f5;console[_0xc9aece(0x243)](_0xc9aece(0x217),_0xb46e56),(parseInt(_0xb46e56[_0xc9aece(0x236)])<parseInt(_0xb46e56[_0xc9aece(0x238)])||parseInt(_0xb46e56[_0xc9aece(0x22d)])<parseInt(_0xb46e56[_0xc9aece(0x238)])||parseInt(_0xb46e56[_0xc9aece(0x238)])==0x0)&&_0x5d16c7++;});if(_0x5d16c7!=0x0)return _0x10530f[_0x4823f5(0x22c)]('errors',_0x4823f5(0x242)),_0x2e2369[_0x4823f5(0x212)](_0x4823f5(0x230));_0x2bf624[_0x4823f5(0x221)][_0x4823f5(0x20b)](_0x1b014a=>{var _0xa5f3dc=_0x4823f5;const _0x35b3ba=_0x5be0ff[_0xa5f3dc(0x226)][_0xa5f3dc(0x20d)](_0x369bb5=>{var _0x411f60=_0xa5f3dc;_0x369bb5[_0x411f60(0x253)]==_0x1b014a[_0x411f60(0x253)]&&_0x369bb5[_0x411f60(0x232)]==_0x1b014a['floorlevel']&&_0x369bb5[_0x411f60(0x244)]==_0x1b014a['type']&&_0x369bb5[_0x411f60(0x252)]==_0x1b014a[_0x411f60(0x252)]&&_0x369bb5['bay']==_0x1b014a['bay']&&(_0x369bb5[_0x411f60(0x203)]=parseInt(_0x369bb5[_0x411f60(0x203)])+parseInt(_0x1b014a[_0x411f60(0x238)]));});}),console[_0x4823f5(0x243)](_0x4823f5(0x257),_0x5be0ff),await _0x5be0ff['save'](),_0x2bf624['invoice']=_0x5cdaf6,_0x2bf624['suppliers']=_0x59653d,_0x2bf624[_0x4823f5(0x200)]=_0x55d1aa,_0x2bf624[_0x4823f5(0x250)]=_0xb3be3e,_0x2bf624['return_product']=_0x4d4cb6,_0x2bf624[_0x4823f5(0x23c)]=_0x4567cb,_0x2bf624[_0x4823f5(0x25c)]=_0x5e09f9,_0x2bf624[_0x4823f5(0x20a)]=_0x4f681f,_0x2bf624['to_room']=_0x211cf8;const _0x575e3e=await _0x2bf624['save'](),_0x4f2a74=await purchases_return[_0x4823f5(0x20f)]({'invoice':_0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x1ee)]}),_0x460ba8=await warehouse[_0x4823f5(0x20f)]({'name':_0x10530f['body']['to_warehouse_name'],'room':_0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x23d)]});_0x4f2a74[_0x4823f5(0x221)][_0x4823f5(0x20b)](_0x5c6281=>{var _0x2f7782=_0x4823f5;_0x460ba8[_0x2f7782(0x226)]['map'](_0x419537=>{var _0x1ac246=_0x2f7782;_0x419537[_0x1ac246(0x253)]==_0x5c6281[_0x1ac246(0x253)]&&_0x419537[_0x1ac246(0x23b)]==_0x5c6281[_0x1ac246(0x23b)]&&(_0x419537[_0x1ac246(0x203)]=parseInt(_0x419537[_0x1ac246(0x203)])-parseInt(_0x5c6281[_0x1ac246(0x238)]),console[_0x1ac246(0x243)](_0x1ac246(0x25a),_0x5c6281[_0x1ac246(0x238)]));});}),console[_0x4823f5(0x243)]('final',_0x460ba8),await _0x460ba8[_0x4823f5(0x262)]();const _0x2fff5e=await s_payment_data[_0x4823f5(0x20f)]({'invoice':_0x10530f[_0x4823f5(0x21e)][_0x4823f5(0x1ee)],'reason':_0x4823f5(0x1f2)});await _0x2fff5e[_0x4823f5(0x262)](),_0x10530f[_0x4823f5(0x22c)](_0x4823f5(0x222),_0x4823f5(0x24d)),_0x2e2369['redirect'](_0x4823f5(0x237));}catch(_0x3ac451){console[_0x4823f5(0x243)](_0x3ac451),_0x2e2369['status'](0xc8)[_0x4823f5(0x1fe)]({'message':_0x3ac451['message']});}}),router['get'](a0_0x160f36(0x209),auth,async(_0x2b90f0,_0x14d3e0)=>{var _0x233c79=a0_0x160f36;try{const {username:_0x824425,email:_0x14d00c,role:_0x466ac4}=_0x2b90f0[_0x233c79(0x218)],_0x492f22=_0x2b90f0[_0x233c79(0x218)],_0x4ff946=await profile[_0x233c79(0x20f)]({'email':_0x492f22[_0x233c79(0x256)]}),_0x49481c=await master_shop['find']();console[_0x233c79(0x243)](_0x233c79(0x1ff),_0x49481c);const _0x36e28b=_0x2b90f0['params']['id'],_0x274149=await purchases_return['findById'](_0x36e28b);console[_0x233c79(0x243)](_0x274149);const _0x10457a=await suppliers['findOne']({'name':_0x274149[_0x233c79(0x1fa)]});console[_0x233c79(0x243)](_0x10457a);if(_0x49481c[0x0][_0x233c79(0x260)]==_0x233c79(0x255)){var _0x46c942=users[_0x233c79(0x202)];console['log'](_0x46c942);}else{if(_0x49481c[0x0][_0x233c79(0x260)]==_0x233c79(0x201))var _0x46c942=users[_0x233c79(0x201)];else{if(_0x49481c[0x0]['language']==_0x233c79(0x267))var _0x46c942=users[_0x233c79(0x267)];else{if(_0x49481c[0x0][_0x233c79(0x260)]==_0x233c79(0x205))var _0x46c942=users[_0x233c79(0x205)];else{if(_0x49481c[0x0][_0x233c79(0x260)]==_0x233c79(0x241))var _0x46c942=users['French'];else{if(_0x49481c[0x0][_0x233c79(0x260)]=='Portuguese\x20(BR)')var _0x46c942=users[_0x233c79(0x227)];else{if(_0x49481c[0x0][_0x233c79(0x260)]=='Chinese')var _0x46c942=users[_0x233c79(0x233)];else{if(_0x49481c[0x0][_0x233c79(0x260)]=='Arabic\x20(ae)')var _0x46c942=users[_0x233c79(0x258)];}}}}}}}_0x14d3e0[_0x233c79(0x25e)](_0x233c79(0x245),{'success':_0x2b90f0['flash']('success'),'errors':_0x2b90f0[_0x233c79(0x22c)](_0x233c79(0x1f3)),'role':_0x492f22,'profile':_0x4ff946,'master_shop':_0x49481c,'supplier':_0x10457a,'purchase':_0x274149,'language':_0x46c942});}catch(_0x6ba26d){console['log'](_0x6ba26d);}}),router[a0_0x160f36(0x20e)](a0_0x160f36(0x25b),auth,async(_0x118642,_0x125fcd)=>{var _0x13219b=a0_0x160f36;try{const _0x31292d=_0x118642[_0x13219b(0x210)]['id'],{invoice:_0x3aada4,suppliers:_0x2cf457,receivable_amount:_0x147826,received_amount:_0x518a33}=_0x118642[_0x13219b(0x21e)],_0x3705c0=await purchases_return[_0x13219b(0x1f8)](_0x31292d);console[_0x13219b(0x243)](_0x3705c0);var _0x27871e=_0x147826-_0x518a33;console[_0x13219b(0x243)](_0x518a33),_0x3705c0[_0x13219b(0x228)]=parseFloat(_0x518a33)+parseFloat(_0x3705c0[_0x13219b(0x228)]),_0x3705c0['due_amount']=_0x27871e,console[_0x13219b(0x243)](_0x3705c0);const _0x37a132=await _0x3705c0[_0x13219b(0x262)](),_0x419663=await s_payment_data['findOne']({'invoice':_0x118642[_0x13219b(0x21e)][_0x13219b(0x1ee)],'reason':_0x13219b(0x1f2)});_0x419663[_0x13219b(0x264)]=_0x27871e,await _0x419663[_0x13219b(0x262)]();let _0x27c50b=new Date(),_0x3c677a=('0'+_0x27c50b[_0x13219b(0x1f9)]())[_0x13219b(0x22a)](-0x2),_0x32ac2d=('0'+(_0x27c50b[_0x13219b(0x229)]()+0x1))[_0x13219b(0x22a)](-0x2),_0x3ab3fb=_0x27c50b[_0x13219b(0x220)](),_0x2fdbe1=_0x3ab3fb+'-'+_0x32ac2d+'-'+_0x3c677a;const _0x2b7dbb=new suppliers_payment({'invoice':_0x3aada4,'date':_0x3ab3fb+'-'+_0x32ac2d+'-'+_0x3c677a,'suppliers':_0x2cf457,'reason':'Received\x20For\x20Purchase\x20Return','amount':_0x518a33}),_0x3c7e8d=await _0x2b7dbb['save']();_0x118642[_0x13219b(0x22c)](_0x13219b(0x222),_0x13219b(0x263)),_0x125fcd[_0x13219b(0x212)](_0x13219b(0x237));}catch(_0xa4aaca){console[_0x13219b(0x243)](_0xa4aaca);}}),module[a0_0x160f36(0x20c)]=router;