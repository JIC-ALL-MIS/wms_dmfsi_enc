var a0_0x372885=a0_0x2dc5;function a0_0x2dc5(_0xf923f5,_0x21d7d2){var _0x289349=a0_0x2893();return a0_0x2dc5=function(_0x2dc5d2,_0x396b28){_0x2dc5d2=_0x2dc5d2-0x189;var _0x172896=_0x289349[_0x2dc5d2];return _0x172896;},a0_0x2dc5(_0xf923f5,_0x21d7d2);}function a0_0x2893(){var _0x58f056=['../middleware/auth','params','amount','French','/view/:id','../public/language/languages.json','product_stock','types','getDate','$receivable','status','stocks','warehouse_name','name','$product_details','user','$product_details.storage','json','$discount','primary_code','Arabic','2jCKCzE','forEach','/receive_payment/:id','Router','type','$product_details.bin','product_details','master','$supplier_docs.email','910SLGmXi','$date','$return_product.price','room','product_details.return_qtyproduct_details.return_qty','1587754zVaact','primary_code_hide','string','aggregate','$invoice','$supplier_docs.mobile','Received\x20For\x20Purchase\x20Return','3144DGcCPE','getMonth','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','save','/invoice/:id','to_room','post','18XauGxB','exports','note','getFullYear','../models/all_models','Arabic\x20(ae)','product_name','flash','Chinese','Return\x20Goods','$product_details.rack','2432830iAzrbN','get','English','Hindi','$total_amount','body','stock_quantity','bin','invoice','$received','suppliers','German','841290AEslPN','$product_details.product_code','supplier_docs','Enabled','foreach\x20newproduct','Purchase\x20Return','$supplier_docs','$return_product.return_qty','$note','email','return_product','return_purchase_edit','$product_details.primary_code','$product_details.product_stock','findOne','floorlevel','194536EZEbAd','/view','Spanish','English\x20(US)','$return_product.total','find','$return_product','express','79955ererFT','final','message','findById','redirect','/purchases_return/view','Portuguese\x20(BR)','to_warehouse_name','bay','old_data','return_purchase_invoice','secondary_code_hide','payment\x20successfull','return_qty','render','secondary_code','purchase\x20return\x20successfully','map','received','slice','old_warehouse_data','purchase_quantity','errors','purchases_return','language','513477qrweDh','log','$name','success','level','pallet','isle','product_code_hide','date'];a0_0x2893=function(){return _0x58f056;};return a0_0x2893();}(function(_0x58e53e,_0x337380){var _0x2813aa=a0_0x2dc5,_0x48077c=_0x58e53e();while(!![]){try{var _0x4c9fc7=-parseInt(_0x2813aa(0x1ac))/0x1*(-parseInt(_0x2813aa(0x1e3))/0x2)+-parseInt(_0x2813aa(0x1c5))/0x3+parseInt(_0x2813aa(0x1f8))/0x4*(parseInt(_0x2813aa(0x1ec))/0x5)+parseInt(_0x2813aa(0x194))/0x6+parseInt(_0x2813aa(0x1f1))/0x7+-parseInt(_0x2813aa(0x1a4))/0x8*(parseInt(_0x2813aa(0x1ff))/0x9)+-parseInt(_0x2813aa(0x20a))/0xa;if(_0x4c9fc7===_0x337380)break;else _0x48077c['push'](_0x48077c['shift']());}catch(_0x34c5d8){_0x48077c['push'](_0x48077c['shift']());}}}(a0_0x2893,0x1eff8));const express=require(a0_0x372885(0x1ab)),app=express(),router=express[a0_0x372885(0x1e6)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x372885(0x203)),auth=require(a0_0x372885(0x1ce)),users=require(a0_0x372885(0x1d3));router[a0_0x372885(0x189)](a0_0x372885(0x1a5),auth,async(_0x2fc1dd,_0x4e63fe)=>{var _0x1ba61c=a0_0x372885;try{const {username:_0x4cd921,email:_0x1657f1,role:_0x367c36}=_0x2fc1dd[_0x1ba61c(0x1dd)],_0x3b990d=_0x2fc1dd[_0x1ba61c(0x1dd)],_0x1a1de3=await profile[_0x1ba61c(0x1a2)]({'email':_0x3b990d['email']}),_0x245bcf=await master_shop[_0x1ba61c(0x1a9)]();console['log'](_0x1ba61c(0x1ea),_0x245bcf);const _0x516d15=await purchases_return['aggregate']([{'$lookup':{'from':_0x1ba61c(0x192),'localField':_0x1ba61c(0x192),'foreignField':_0x1ba61c(0x1db),'as':_0x1ba61c(0x196)}},{'$unwind':_0x1ba61c(0x1aa)},{'$unwind':_0x1ba61c(0x19a)},{'$group':{'_id':'$_id','invoice':{'$first':_0x1ba61c(0x1f5)},'date':{'$first':_0x1ba61c(0x1ed)},'suppliers':{'$first':'$suppliers'},'warehouse_name':{'$first':'$warehouse_name'},'product_name':{'$first':'$return_product.product_name'},'return_qty':{'$first':'$return_product.return_qty'},'price':{'$first':_0x1ba61c(0x1ee)},'total':{'$sum':_0x1ba61c(0x1a8)},'note':{'$first':_0x1ba61c(0x19c)},'total_amount':{'$first':_0x1ba61c(0x18c)},'discount':{'$first':_0x1ba61c(0x1e0)},'receivable':{'$first':_0x1ba61c(0x1d7)},'received':{'$first':_0x1ba61c(0x191)},'due_amount':{'$first':'$due_amount'},'mobile':{'$first':_0x1ba61c(0x1f6)},'email':{'$first':_0x1ba61c(0x1eb)},'address':{'$first':'$supplier_docs.address'},'return_sum_qty':{'$sum':_0x1ba61c(0x19b)}}}]);console[_0x1ba61c(0x1c6)](_0x516d15);if(_0x245bcf[0x0]['language']==_0x1ba61c(0x1a7)){var _0x23e058=users[_0x1ba61c(0x18a)];console[_0x1ba61c(0x1c6)](_0x23e058);}else{if(_0x245bcf[0x0]['language']==_0x1ba61c(0x18b))var _0x23e058=users[_0x1ba61c(0x18b)];else{if(_0x245bcf[0x0]['language']=='German')var _0x23e058=users[_0x1ba61c(0x193)];else{if(_0x245bcf[0x0][_0x1ba61c(0x1c4)]==_0x1ba61c(0x1a6))var _0x23e058=users[_0x1ba61c(0x1a6)];else{if(_0x245bcf[0x0]['language']==_0x1ba61c(0x1d1))var _0x23e058=users['French'];else{if(_0x245bcf[0x0][_0x1ba61c(0x1c4)]==_0x1ba61c(0x1b2))var _0x23e058=users['Portuguese'];else{if(_0x245bcf[0x0][_0x1ba61c(0x1c4)]==_0x1ba61c(0x207))var _0x23e058=users[_0x1ba61c(0x207)];else{if(_0x245bcf[0x0][_0x1ba61c(0x1c4)]==_0x1ba61c(0x204))var _0x23e058=users[_0x1ba61c(0x1e2)];}}}}}}}_0x4e63fe[_0x1ba61c(0x1ba)](_0x1ba61c(0x1c3),{'success':_0x2fc1dd[_0x1ba61c(0x206)]('success'),'errors':_0x2fc1dd[_0x1ba61c(0x206)](_0x1ba61c(0x1c2)),'role':_0x3b990d,'profile':_0x1a1de3,'master_shop':_0x245bcf,'user':_0x516d15,'language':_0x23e058});}catch(_0x2c4bd3){console[_0x1ba61c(0x1c6)](_0x2c4bd3);}}),router[a0_0x372885(0x189)]('/view/:id',auth,async(_0xf0310,_0xb6bc80)=>{var _0x345ddd=a0_0x372885;try{const {username:_0x306790,email:_0x4f17a7,role:_0xd64a2f}=_0xf0310['user'],_0x578d96=_0xf0310[_0x345ddd(0x1dd)],_0x4cc55b=await profile[_0x345ddd(0x1a2)]({'email':_0x578d96[_0x345ddd(0x19d)]}),_0x2019b7=await product[_0x345ddd(0x1a9)]({}),_0x2773f3=await master_shop[_0x345ddd(0x1a9)]();console['log']('master',_0x2773f3),console['log'](_0xf0310[_0x345ddd(0x18d)]);const _0x52ccf2=_0xf0310[_0x345ddd(0x1cf)]['id'],_0x1180b6=await purchases_return['findById'](_0x52ccf2);console[_0x345ddd(0x1c6)](_0x1180b6);const _0x20db8b=await warehouse[_0x345ddd(0x1f4)]([{'$match':{'name':_0x1180b6[_0x345ddd(0x1da)],'room':_0x1180b6[_0x345ddd(0x1ef)]}},{'$unwind':_0x345ddd(0x1dc)},{'$group':{'_id':'$product_details._id','name':{'$first':'$product_details.product_name'},'product_stock':{'$first':_0x345ddd(0x1a1)},'bay':{'$first':'$product_details.bay'},'bin':{'$first':_0x345ddd(0x1e8)},'type':{'$first':'$product_details.type'},'floorlevel':{'$first':'$product_details.floorlevel'},'primary_code':{'$first':_0x345ddd(0x1a0)},'secondary_code':{'$first':'$product_details.secondary_code'},'product_code':{'$first':_0x345ddd(0x195)},'storage':{'$first':_0x345ddd(0x1de)},'rack':{'$first':_0x345ddd(0x209)}}}]);warehouse_data=await warehouse[_0x345ddd(0x1f4)]([{'$match':{'status':_0x345ddd(0x197),'name':_0x345ddd(0x208),'warehouse_category':'Raw\x20Materials'}},{'$group':{'_id':_0x345ddd(0x1c7),'name':{'$first':_0x345ddd(0x1c7)}}},{'$sort':{'name':0x1}}]),console['log']('stock_data',_0x20db8b);if(_0x2773f3[0x0]['language']=='English\x20(US)'){var _0x146b21=users[_0x345ddd(0x18a)];console[_0x345ddd(0x1c6)](_0x146b21);}else{if(_0x2773f3[0x0][_0x345ddd(0x1c4)]=='Hindi')var _0x146b21=users[_0x345ddd(0x18b)];else{if(_0x2773f3[0x0][_0x345ddd(0x1c4)]==_0x345ddd(0x193))var _0x146b21=users[_0x345ddd(0x193)];else{if(_0x2773f3[0x0]['language']=='Spanish')var _0x146b21=users['Spanish'];else{if(_0x2773f3[0x0][_0x345ddd(0x1c4)]==_0x345ddd(0x1d1))var _0x146b21=users[_0x345ddd(0x1d1)];else{if(_0x2773f3[0x0][_0x345ddd(0x1c4)]==_0x345ddd(0x1b2))var _0x146b21=users['Portuguese'];else{if(_0x2773f3[0x0][_0x345ddd(0x1c4)]==_0x345ddd(0x207))var _0x146b21=users[_0x345ddd(0x207)];else{if(_0x2773f3[0x0]['language']=='Arabic\x20(ae)')var _0x146b21=users[_0x345ddd(0x1e2)];}}}}}}}_0xb6bc80[_0x345ddd(0x1ba)](_0x345ddd(0x19f),{'success':_0xf0310[_0x345ddd(0x206)](_0x345ddd(0x1c8)),'errors':_0xf0310[_0x345ddd(0x206)](_0x345ddd(0x1c2)),'role':_0x578d96,'master_shop':_0x2773f3,'profile':_0x4cc55b,'user':_0x1180b6,'stock':_0x20db8b,'product':_0x2019b7,'language':_0x146b21,'warehouse':warehouse_data});}catch(_0x467f6c){console['log'](_0x467f6c);}}),router[a0_0x372885(0x1fe)](a0_0x372885(0x1d2),auth,async(_0x4a1351,_0xbcc157)=>{var _0xc76140=a0_0x372885;try{const _0x5edfb6=_0x4a1351[_0xc76140(0x1cf)]['id'];console[_0xc76140(0x1c6)](_0x5edfb6);const _0x18c0d0=await purchases_return[_0xc76140(0x1a2)]({'invoice':_0x4a1351['body'][_0xc76140(0x190)]});console[_0xc76140(0x1c6)](_0xc76140(0x1b5),_0x18c0d0);const _0x2cc65d=await warehouse['findOne']({'name':_0x18c0d0['to_warehouse_name'],'room':_0x18c0d0[_0xc76140(0x1fd)]});console[_0xc76140(0x1c6)](_0xc76140(0x1c0),_0x2cc65d);const {invoice:_0x345995,suppliers:_0x5e6c24,date:_0x9a0439,warehouse_name:_0x4fc8c9,product_name:_0x57cdb5,purchase_quantity:_0x318318,stocks:_0x53570b,return_qty:_0x1c1977,note:_0x98a9be,Room_name:_0x140abb,level:_0x504b0d,isle:_0xe4d7ec,pallet:_0x3cf013,to_warehouse_name:_0x5f2ef3,to_Room_name:_0x48577f}=_0x4a1351[_0xc76140(0x18d)];if(typeof _0x57cdb5==_0xc76140(0x1f3))var _0x390175=[_0x4a1351[_0xc76140(0x18d)][_0xc76140(0x205)]],_0xe875db=[_0x4a1351['body'][_0xc76140(0x1c1)]],_0x4eb03d=[_0x4a1351['body'][_0xc76140(0x1d9)]],_0x48faec=[_0x4a1351[_0xc76140(0x18d)]['return_qty']],_0x1d0875=[_0x4a1351['body']['level']],_0xee2597=[_0x4a1351[_0xc76140(0x18d)][_0xc76140(0x1cb)]],_0x3bb6d1=[_0x4a1351['body'][_0xc76140(0x1ca)]],_0x80308e=[_0x4a1351[_0xc76140(0x18d)][_0xc76140(0x1d5)]],_0x4f8691=[_0x4a1351[_0xc76140(0x18d)][_0xc76140(0x1cc)]],_0x2dd4ab=[_0x4a1351[_0xc76140(0x18d)][_0xc76140(0x1f2)]],_0xcc7b47=[_0x4a1351[_0xc76140(0x18d)][_0xc76140(0x1b7)]];else var _0x390175=[..._0x4a1351['body'][_0xc76140(0x205)]],_0xe875db=[..._0x4a1351[_0xc76140(0x18d)][_0xc76140(0x1c1)]],_0x4eb03d=[..._0x4a1351[_0xc76140(0x18d)][_0xc76140(0x1d9)]],_0x48faec=[..._0x4a1351[_0xc76140(0x18d)][_0xc76140(0x1b9)]],_0x1d0875=[..._0x4a1351[_0xc76140(0x18d)][_0xc76140(0x1c9)]],_0xee2597=[..._0x4a1351[_0xc76140(0x18d)][_0xc76140(0x1cb)]],_0x3bb6d1=[..._0x4a1351[_0xc76140(0x18d)][_0xc76140(0x1ca)]],_0x4f8691=[..._0x4a1351[_0xc76140(0x18d)][_0xc76140(0x1cc)]],_0x2dd4ab=[..._0x4a1351[_0xc76140(0x18d)][_0xc76140(0x1f2)]],_0xcc7b47=[..._0x4a1351['body'][_0xc76140(0x1b7)]],_0x80308e=[..._0x4a1351[_0xc76140(0x18d)]['types']];const _0x5bdb18=_0x390175['map'](_0x4668ad=>{return _0x4668ad={'product_name':_0x4668ad};});_0xe875db['forEach']((_0x1293c0,_0x2bf485)=>{var _0x515398=_0xc76140;_0x5bdb18[_0x2bf485][_0x515398(0x1c1)]=_0x1293c0;}),_0x4eb03d[_0xc76140(0x1e4)]((_0x2156b6,_0x576c1f)=>{var _0x38d080=_0xc76140;_0x5bdb18[_0x576c1f][_0x38d080(0x18e)]=_0x2156b6;}),_0x48faec[_0xc76140(0x1e4)]((_0x4265f1,_0x20ef52)=>{_0x5bdb18[_0x20ef52]['return_qty']=_0x4265f1;}),_0x1d0875[_0xc76140(0x1e4)]((_0x5e068e,_0x95b79c)=>{var _0x179cef=_0xc76140;_0x5bdb18[_0x95b79c][_0x179cef(0x1b4)]=_0x5e068e;}),_0xee2597[_0xc76140(0x1e4)]((_0x297b04,_0x485aaa)=>{var _0x70ec7c=_0xc76140;_0x5bdb18[_0x485aaa][_0x70ec7c(0x18f)]=_0x297b04;}),_0x3bb6d1[_0xc76140(0x1e4)]((_0x14052b,_0x490f76)=>{var _0x2269f9=_0xc76140;_0x5bdb18[_0x490f76][_0x2269f9(0x1a3)]=_0x14052b;}),_0x4f8691[_0xc76140(0x1e4)]((_0x3995dd,_0x1637e1)=>{_0x5bdb18[_0x1637e1]['product_code']=_0x3995dd;}),_0x2dd4ab[_0xc76140(0x1e4)]((_0x5ae4fe,_0x50a8fe)=>{var _0x383e77=_0xc76140;_0x5bdb18[_0x50a8fe][_0x383e77(0x1e1)]=_0x5ae4fe;}),_0xcc7b47[_0xc76140(0x1e4)]((_0x150557,_0x281570)=>{var _0xbecb4=_0xc76140;_0x5bdb18[_0x281570][_0xbecb4(0x1bb)]=_0x150557;}),_0x80308e['forEach']((_0x4b3c56,_0x30e846)=>{_0x5bdb18[_0x30e846]['type']=_0x4b3c56;});var _0x86d16f=0x0;_0x5bdb18[_0xc76140(0x1e4)](_0x55b76f=>{var _0x41942a=_0xc76140;console[_0x41942a(0x1c6)](_0x41942a(0x198),_0x55b76f),(parseInt(_0x55b76f['purchase_quantity'])<parseInt(_0x55b76f[_0x41942a(0x1b9)])||parseInt(_0x55b76f['stock_quantity'])<parseInt(_0x55b76f[_0x41942a(0x1b9)])||parseInt(_0x55b76f['return_qty'])==0x0)&&_0x86d16f++;});if(_0x86d16f!=0x0)return _0x4a1351[_0xc76140(0x206)](_0xc76140(0x1c2),_0xc76140(0x1fa)),_0xbcc157[_0xc76140(0x1b0)]('back');_0x18c0d0[_0xc76140(0x19e)][_0xc76140(0x1e4)](_0x6928bf=>{var _0x5bffe8=_0xc76140;const _0x4ed984=_0x2cc65d[_0x5bffe8(0x1e9)][_0x5bffe8(0x1bd)](_0x17bec0=>{var _0x2d968d=_0x5bffe8;_0x17bec0[_0x2d968d(0x205)]==_0x6928bf['product_name']&&_0x17bec0[_0x2d968d(0x1a3)]==_0x6928bf[_0x2d968d(0x1a3)]&&_0x17bec0['type']==_0x6928bf[_0x2d968d(0x1e7)]&&_0x17bec0[_0x2d968d(0x18f)]==_0x6928bf[_0x2d968d(0x18f)]&&_0x17bec0[_0x2d968d(0x1b4)]==_0x6928bf['bay']&&(_0x17bec0['product_stock']=parseInt(_0x17bec0[_0x2d968d(0x1d4)])+parseInt(_0x6928bf[_0x2d968d(0x1b9)]));});}),console[_0xc76140(0x1c6)]('old_warehouse_data',_0x2cc65d),await _0x2cc65d[_0xc76140(0x1fb)](),_0x18c0d0[_0xc76140(0x190)]=_0x345995,_0x18c0d0[_0xc76140(0x192)]=_0x5e6c24,_0x18c0d0[_0xc76140(0x1cd)]=_0x9a0439,_0x18c0d0['warehouse_name']=_0x4fc8c9,_0x18c0d0[_0xc76140(0x19e)]=_0x5bdb18,_0x18c0d0[_0xc76140(0x201)]=_0x98a9be,_0x18c0d0['room']=_0x140abb,_0x18c0d0[_0xc76140(0x1b3)]=_0x5f2ef3,_0x18c0d0[_0xc76140(0x1fd)]=_0x48577f;const _0x2a7e25=await _0x18c0d0[_0xc76140(0x1fb)](),_0x26d8de=await purchases_return[_0xc76140(0x1a2)]({'invoice':_0x4a1351[_0xc76140(0x18d)][_0xc76140(0x190)]}),_0x2ca316=await warehouse[_0xc76140(0x1a2)]({'name':_0x4a1351[_0xc76140(0x18d)][_0xc76140(0x1b3)],'room':_0x4a1351['body']['to_Room_name']});_0x26d8de[_0xc76140(0x19e)]['forEach'](_0x22a6a1=>{var _0x1dc4b7=_0xc76140;_0x2ca316[_0x1dc4b7(0x1e9)]['map'](_0x347c0a=>{var _0x4bb58b=_0x1dc4b7;_0x347c0a[_0x4bb58b(0x205)]==_0x22a6a1[_0x4bb58b(0x205)]&&_0x347c0a['pallet']==_0x22a6a1[_0x4bb58b(0x1ca)]&&(_0x347c0a[_0x4bb58b(0x1d4)]=parseInt(_0x347c0a[_0x4bb58b(0x1d4)])-parseInt(_0x22a6a1[_0x4bb58b(0x1b9)]),console[_0x4bb58b(0x1c6)](_0x4bb58b(0x1f0),_0x22a6a1[_0x4bb58b(0x1b9)]));});}),console[_0xc76140(0x1c6)](_0xc76140(0x1ad),_0x2ca316),await _0x2ca316[_0xc76140(0x1fb)]();const _0x236664=await s_payment_data[_0xc76140(0x1a2)]({'invoice':_0x4a1351[_0xc76140(0x18d)][_0xc76140(0x190)],'reason':'Purchase\x20Return'});await _0x236664['save'](),_0x4a1351['flash'](_0xc76140(0x1c8),_0xc76140(0x1bc)),_0xbcc157[_0xc76140(0x1b0)](_0xc76140(0x1b1));}catch(_0x493ab9){console['log'](_0x493ab9),_0xbcc157[_0xc76140(0x1d8)](0xc8)[_0xc76140(0x1df)]({'message':_0x493ab9[_0xc76140(0x1ae)]});}}),router[a0_0x372885(0x189)](a0_0x372885(0x1fc),auth,async(_0x5c3647,_0x266b3f)=>{var _0xe1f65c=a0_0x372885;try{const {username:_0x3910c0,email:_0x45d2f6,role:_0x4bd5ea}=_0x5c3647[_0xe1f65c(0x1dd)],_0xa241c7=_0x5c3647[_0xe1f65c(0x1dd)],_0x461609=await profile[_0xe1f65c(0x1a2)]({'email':_0xa241c7[_0xe1f65c(0x19d)]}),_0x1b4b7f=await master_shop[_0xe1f65c(0x1a9)]();console[_0xe1f65c(0x1c6)](_0xe1f65c(0x1ea),_0x1b4b7f);const _0x1f926d=_0x5c3647['params']['id'],_0x52ebaf=await purchases_return[_0xe1f65c(0x1af)](_0x1f926d);console[_0xe1f65c(0x1c6)](_0x52ebaf);const _0xd67d6f=await suppliers[_0xe1f65c(0x1a2)]({'name':_0x52ebaf[_0xe1f65c(0x192)]});console[_0xe1f65c(0x1c6)](_0xd67d6f);if(_0x1b4b7f[0x0][_0xe1f65c(0x1c4)]=='English\x20(US)'){var _0x75886=users['English'];console['log'](_0x75886);}else{if(_0x1b4b7f[0x0][_0xe1f65c(0x1c4)]=='Hindi')var _0x75886=users[_0xe1f65c(0x18b)];else{if(_0x1b4b7f[0x0][_0xe1f65c(0x1c4)]==_0xe1f65c(0x193))var _0x75886=users[_0xe1f65c(0x193)];else{if(_0x1b4b7f[0x0]['language']==_0xe1f65c(0x1a6))var _0x75886=users[_0xe1f65c(0x1a6)];else{if(_0x1b4b7f[0x0][_0xe1f65c(0x1c4)]==_0xe1f65c(0x1d1))var _0x75886=users['French'];else{if(_0x1b4b7f[0x0][_0xe1f65c(0x1c4)]==_0xe1f65c(0x1b2))var _0x75886=users['Portuguese'];else{if(_0x1b4b7f[0x0][_0xe1f65c(0x1c4)]=='Chinese')var _0x75886=users[_0xe1f65c(0x207)];else{if(_0x1b4b7f[0x0][_0xe1f65c(0x1c4)]==_0xe1f65c(0x204))var _0x75886=users[_0xe1f65c(0x1e2)];}}}}}}}_0x266b3f[_0xe1f65c(0x1ba)](_0xe1f65c(0x1b6),{'success':_0x5c3647[_0xe1f65c(0x206)](_0xe1f65c(0x1c8)),'errors':_0x5c3647['flash']('errors'),'role':_0xa241c7,'profile':_0x461609,'master_shop':_0x1b4b7f,'supplier':_0xd67d6f,'purchase':_0x52ebaf,'language':_0x75886});}catch(_0x52b526){console['log'](_0x52b526);}}),router[a0_0x372885(0x1fe)](a0_0x372885(0x1e5),auth,async(_0xceaf5e,_0x4c4577)=>{var _0x27b9f4=a0_0x372885;try{const _0x5144c8=_0xceaf5e[_0x27b9f4(0x1cf)]['id'],{invoice:_0x304abb,suppliers:_0xeead0c,receivable_amount:_0x2e7a59,received_amount:_0x1ed146}=_0xceaf5e[_0x27b9f4(0x18d)],_0x4937f6=await purchases_return['findById'](_0x5144c8);console[_0x27b9f4(0x1c6)](_0x4937f6);var _0x4aabf7=_0x2e7a59-_0x1ed146;console['log'](_0x1ed146),_0x4937f6[_0x27b9f4(0x1be)]=parseFloat(_0x1ed146)+parseFloat(_0x4937f6[_0x27b9f4(0x1be)]),_0x4937f6['due_amount']=_0x4aabf7,console[_0x27b9f4(0x1c6)](_0x4937f6);const _0xbf6557=await _0x4937f6[_0x27b9f4(0x1fb)](),_0x5e2389=await s_payment_data[_0x27b9f4(0x1a2)]({'invoice':_0xceaf5e[_0x27b9f4(0x18d)][_0x27b9f4(0x190)],'reason':_0x27b9f4(0x199)});_0x5e2389[_0x27b9f4(0x1d0)]=_0x4aabf7,await _0x5e2389[_0x27b9f4(0x1fb)]();let _0x2e5b8f=new Date(),_0x5cdb45=('0'+_0x2e5b8f[_0x27b9f4(0x1d6)]())[_0x27b9f4(0x1bf)](-0x2),_0x34aa5a=('0'+(_0x2e5b8f[_0x27b9f4(0x1f9)]()+0x1))['slice'](-0x2),_0x4cf30e=_0x2e5b8f[_0x27b9f4(0x202)](),_0x11345f=_0x4cf30e+'-'+_0x34aa5a+'-'+_0x5cdb45;const _0xf31590=new suppliers_payment({'invoice':_0x304abb,'date':_0x4cf30e+'-'+_0x34aa5a+'-'+_0x5cdb45,'suppliers':_0xeead0c,'reason':_0x27b9f4(0x1f7),'amount':_0x1ed146}),_0x5356e9=await _0xf31590[_0x27b9f4(0x1fb)]();_0xceaf5e[_0x27b9f4(0x206)](_0x27b9f4(0x1c8),_0x27b9f4(0x1b8)),_0x4c4577[_0x27b9f4(0x1b0)](_0x27b9f4(0x1b1));}catch(_0x309baa){console[_0x27b9f4(0x1c6)](_0x309baa);}}),module[a0_0x372885(0x200)]=router;