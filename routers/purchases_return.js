function a0_0x3e5b(_0xb84b33,_0x29ebca){var _0x4b44aa=a0_0x4b44();return a0_0x3e5b=function(_0x3e5bf0,_0x141ab3){_0x3e5bf0=_0x3e5bf0-0x1ca;var _0x6d36b9=_0x4b44aa[_0x3e5bf0];return _0x6d36b9;},a0_0x3e5b(_0xb84b33,_0x29ebca);}function a0_0x4b44(){var _0x3aa799=['$warehouse_name','flash','express','$_id','/purchases_return/view','/view/:id','purchase\x20return\x20successfully','$supplier_docs.email','$supplier_docs.mobile','body','success','purchases_return','$return_product.price','$return_product.return_qty','product_name','secondary_code','final','product_stock','invoice','French','$product_details.bin','$product_details.floorlevel','to_warehouse_name','received','warehouse_name','75148fwMRLY','find','get','findById','secondary_code_hide','forEach','save','note','$date','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','Raw\x20Materials','$supplier_docs.address','Arabic\x20(ae)','getFullYear','$product_details.product_code','/view','stock_quantity','product_details.return_qtyproduct_details.return_qty','$product_details._id','return_purchase_invoice','German','findOne','8WlIrqf','log','386909yZOCGD','Portuguese\x20(BR)','map','old_data','../middleware/auth','$suppliers','$name','$product_details.bay','getMonth','return_product','$product_details.storage','pallet','level','Chinese','Portuguese','$note','purchase_quantity','$product_details.rack','45QMdHZT','post','old_warehouse_data','redirect','$total_amount','1903970WqJmUa','amount','Hindi','floorlevel','params','$invoice','Return\x20Goods','8940080ZkrBqx','$product_details','to_room','email','product_code_hide','Purchase\x20Return','Enabled','date','types','English\x20(US)','stocks','errors','master','bay','$received','type','exports','slice','stock_data','status','primary_code','1563338mlVfbU','../public/language/languages.json','aggregate','product_details','isle','$return_product.total','Arabic','$product_details.primary_code','return_qty','user','json','English','1105218lDXEot','$product_details.product_name','$discount','render','bin','$product_details.product_stock','suppliers','Spanish','primary_code_hide','language','$product_details.secondary_code','2083959tOxYUJ','$product_details.type','room','6RQdKQP'];a0_0x4b44=function(){return _0x3aa799;};return a0_0x4b44();}var a0_0x15cd80=a0_0x3e5b;(function(_0xaa07b4,_0x202ef0){var _0x273063=a0_0x3e5b,_0x2ee3d7=_0xaa07b4();while(!![]){try{var _0x3ffb83=-parseInt(_0x273063(0x214))/0x1+parseInt(_0x273063(0x1d4))/0x2+parseInt(_0x273063(0x226))/0x3*(-parseInt(_0x273063(0x1fc))/0x4)+parseInt(_0x273063(0x22b))/0x5*(-parseInt(_0x273063(0x1e2))/0x6)+-parseInt(_0x273063(0x247))/0x7+-parseInt(_0x273063(0x212))/0x8*(-parseInt(_0x273063(0x1df))/0x9)+parseInt(_0x273063(0x232))/0xa;if(_0x3ffb83===_0x202ef0)break;else _0x2ee3d7['push'](_0x2ee3d7['shift']());}catch(_0x55bb28){_0x2ee3d7['push'](_0x2ee3d7['shift']());}}}(a0_0x4b44,0x62f4e));const express=require(a0_0x15cd80(0x1e5)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require('../models/all_models'),auth=require(a0_0x15cd80(0x218)),users=require(a0_0x15cd80(0x248));router[a0_0x15cd80(0x1fe)](a0_0x15cd80(0x20b),auth,async(_0x2bd352,_0x3e5350)=>{var _0x4b0c79=a0_0x15cd80;try{const {username:_0x5ae0e9,email:_0xa3efdc,role:_0x41fda0}=_0x2bd352[_0x4b0c79(0x1d1)],_0x3bdf5b=_0x2bd352[_0x4b0c79(0x1d1)],_0x1a4cf0=await profile[_0x4b0c79(0x211)]({'email':_0x3bdf5b[_0x4b0c79(0x235)]}),_0x878275=await master_shop[_0x4b0c79(0x1fd)]();console[_0x4b0c79(0x213)]('master',_0x878275);const _0x4cb55a=await purchases_return[_0x4b0c79(0x1ca)]([{'$lookup':{'from':_0x4b0c79(0x1da),'localField':_0x4b0c79(0x1da),'foreignField':'name','as':'supplier_docs'}},{'$unwind':'$return_product'},{'$unwind':'$supplier_docs'},{'$group':{'_id':_0x4b0c79(0x1e6),'invoice':{'$first':_0x4b0c79(0x230)},'date':{'$first':_0x4b0c79(0x204)},'suppliers':{'$first':_0x4b0c79(0x219)},'warehouse_name':{'$first':_0x4b0c79(0x1e3)},'product_name':{'$first':'$return_product.product_name'},'return_qty':{'$first':_0x4b0c79(0x1f0)},'price':{'$first':_0x4b0c79(0x1ef)},'total':{'$sum':_0x4b0c79(0x1cd)},'note':{'$first':_0x4b0c79(0x223)},'total_amount':{'$first':_0x4b0c79(0x22a)},'discount':{'$first':_0x4b0c79(0x1d6)},'receivable':{'$first':'$receivable'},'received':{'$first':_0x4b0c79(0x240)},'due_amount':{'$first':'$due_amount'},'mobile':{'$first':_0x4b0c79(0x1eb)},'email':{'$first':_0x4b0c79(0x1ea)},'address':{'$first':_0x4b0c79(0x207)},'return_sum_qty':{'$sum':_0x4b0c79(0x1f0)}}}]);console[_0x4b0c79(0x213)](_0x4cb55a);if(_0x878275[0x0]['language']=='English\x20(US)'){var _0x3ef5c1=users[_0x4b0c79(0x1d3)];console[_0x4b0c79(0x213)](_0x3ef5c1);}else{if(_0x878275[0x0][_0x4b0c79(0x1dd)]==_0x4b0c79(0x22d))var _0x3ef5c1=users['Hindi'];else{if(_0x878275[0x0][_0x4b0c79(0x1dd)]==_0x4b0c79(0x210))var _0x3ef5c1=users[_0x4b0c79(0x210)];else{if(_0x878275[0x0][_0x4b0c79(0x1dd)]==_0x4b0c79(0x1db))var _0x3ef5c1=users[_0x4b0c79(0x1db)];else{if(_0x878275[0x0][_0x4b0c79(0x1dd)]==_0x4b0c79(0x1f6))var _0x3ef5c1=users['French'];else{if(_0x878275[0x0][_0x4b0c79(0x1dd)]=='Portuguese\x20(BR)')var _0x3ef5c1=users[_0x4b0c79(0x222)];else{if(_0x878275[0x0]['language']=='Chinese')var _0x3ef5c1=users[_0x4b0c79(0x221)];else{if(_0x878275[0x0][_0x4b0c79(0x1dd)]==_0x4b0c79(0x208))var _0x3ef5c1=users[_0x4b0c79(0x1ce)];}}}}}}}_0x3e5350[_0x4b0c79(0x1d7)](_0x4b0c79(0x1ee),{'success':_0x2bd352[_0x4b0c79(0x1e4)](_0x4b0c79(0x1ed)),'errors':_0x2bd352[_0x4b0c79(0x1e4)]('errors'),'role':_0x3bdf5b,'profile':_0x1a4cf0,'master_shop':_0x878275,'user':_0x4cb55a,'language':_0x3ef5c1});}catch(_0x2dd461){console['log'](_0x2dd461);}}),router[a0_0x15cd80(0x1fe)](a0_0x15cd80(0x1e8),auth,async(_0x10109d,_0x44bb9c)=>{var _0x1d10a9=a0_0x15cd80;try{const {username:_0x556262,email:_0x382677,role:_0x227019}=_0x10109d[_0x1d10a9(0x1d1)],_0x212de0=_0x10109d['user'],_0x2325fd=await profile[_0x1d10a9(0x211)]({'email':_0x212de0['email']}),_0x2ce91c=await product[_0x1d10a9(0x1fd)]({}),_0x2e5f04=await master_shop[_0x1d10a9(0x1fd)]();console[_0x1d10a9(0x213)]('master',_0x2e5f04),console['log'](_0x10109d[_0x1d10a9(0x1ec)]);const _0x3fb237=_0x10109d[_0x1d10a9(0x22f)]['id'],_0x144fdf=await purchases_return[_0x1d10a9(0x1ff)](_0x3fb237);console[_0x1d10a9(0x213)](_0x144fdf);const _0x21d423=await warehouse[_0x1d10a9(0x1ca)]([{'$match':{'name':_0x144fdf[_0x1d10a9(0x1fb)],'room':_0x144fdf[_0x1d10a9(0x1e1)]}},{'$unwind':_0x1d10a9(0x233)},{'$group':{'_id':_0x1d10a9(0x20e),'name':{'$first':_0x1d10a9(0x1d5)},'product_stock':{'$first':_0x1d10a9(0x1d9)},'bay':{'$first':_0x1d10a9(0x21b)},'bin':{'$first':_0x1d10a9(0x1f7)},'type':{'$first':_0x1d10a9(0x1e0)},'floorlevel':{'$first':_0x1d10a9(0x1f8)},'primary_code':{'$first':_0x1d10a9(0x1cf)},'secondary_code':{'$first':_0x1d10a9(0x1de)},'product_code':{'$first':_0x1d10a9(0x20a)},'storage':{'$first':_0x1d10a9(0x21e)},'rack':{'$first':_0x1d10a9(0x225)}}}]);warehouse_data=await warehouse[_0x1d10a9(0x1ca)]([{'$match':{'status':_0x1d10a9(0x238),'name':_0x1d10a9(0x231),'warehouse_category':_0x1d10a9(0x206)}},{'$group':{'_id':_0x1d10a9(0x21a),'name':{'$first':_0x1d10a9(0x21a)}}},{'$sort':{'name':0x1}}]),console[_0x1d10a9(0x213)](_0x1d10a9(0x244),_0x21d423);if(_0x2e5f04[0x0][_0x1d10a9(0x1dd)]==_0x1d10a9(0x23b)){var _0x2e2741=users[_0x1d10a9(0x1d3)];console[_0x1d10a9(0x213)](_0x2e2741);}else{if(_0x2e5f04[0x0]['language']==_0x1d10a9(0x22d))var _0x2e2741=users['Hindi'];else{if(_0x2e5f04[0x0]['language']==_0x1d10a9(0x210))var _0x2e2741=users[_0x1d10a9(0x210)];else{if(_0x2e5f04[0x0][_0x1d10a9(0x1dd)]=='Spanish')var _0x2e2741=users['Spanish'];else{if(_0x2e5f04[0x0][_0x1d10a9(0x1dd)]==_0x1d10a9(0x1f6))var _0x2e2741=users[_0x1d10a9(0x1f6)];else{if(_0x2e5f04[0x0][_0x1d10a9(0x1dd)]==_0x1d10a9(0x215))var _0x2e2741=users[_0x1d10a9(0x222)];else{if(_0x2e5f04[0x0][_0x1d10a9(0x1dd)]=='Chinese')var _0x2e2741=users[_0x1d10a9(0x221)];else{if(_0x2e5f04[0x0][_0x1d10a9(0x1dd)]==_0x1d10a9(0x208))var _0x2e2741=users[_0x1d10a9(0x1ce)];}}}}}}}_0x44bb9c[_0x1d10a9(0x1d7)]('return_purchase_edit',{'success':_0x10109d['flash'](_0x1d10a9(0x1ed)),'errors':_0x10109d['flash']('errors'),'role':_0x212de0,'master_shop':_0x2e5f04,'profile':_0x2325fd,'user':_0x144fdf,'stock':_0x21d423,'product':_0x2ce91c,'language':_0x2e2741,'warehouse':warehouse_data});}catch(_0x496ab9){console[_0x1d10a9(0x213)](_0x496ab9);}}),router['post'](a0_0x15cd80(0x1e8),auth,async(_0x525175,_0x1f744b)=>{var _0x3cb84a=a0_0x15cd80;try{const _0x5e6828=_0x525175[_0x3cb84a(0x22f)]['id'];console[_0x3cb84a(0x213)](_0x5e6828);const _0x3d98e0=await purchases_return[_0x3cb84a(0x211)]({'invoice':_0x525175['body']['invoice']});console[_0x3cb84a(0x213)](_0x3cb84a(0x217),_0x3d98e0);const _0x2ac05a=await warehouse['findOne']({'name':_0x3d98e0[_0x3cb84a(0x1f9)],'room':_0x3d98e0['to_room']});console[_0x3cb84a(0x213)](_0x3cb84a(0x228),_0x2ac05a);const {invoice:_0x2bbce3,suppliers:_0x20d59e,date:_0x75ce7c,warehouse_name:_0xae04c2,product_name:_0x1cd9a0,purchase_quantity:_0x36ec5e,stocks:_0x3e4324,return_qty:_0x2f80eb,note:_0x35b336,Room_name:_0x2facca,level:_0x56782c,isle:_0x3f37f1,pallet:_0x106ad8,to_warehouse_name:_0x402f40,to_Room_name:_0x382bc2}=_0x525175['body'];if(typeof _0x1cd9a0=='string')var _0x12d177=[_0x525175['body'][_0x3cb84a(0x1f1)]],_0x43794d=[_0x525175['body']['purchase_quantity']],_0x1d0150=[_0x525175[_0x3cb84a(0x1ec)][_0x3cb84a(0x23c)]],_0x3380cd=[_0x525175[_0x3cb84a(0x1ec)][_0x3cb84a(0x1d0)]],_0x15f2be=[_0x525175[_0x3cb84a(0x1ec)]['level']],_0x852083=[_0x525175['body'][_0x3cb84a(0x1cc)]],_0x4a90c2=[_0x525175[_0x3cb84a(0x1ec)]['pallet']],_0x1ca7a1=[_0x525175['body'][_0x3cb84a(0x23a)]],_0x27170b=[_0x525175[_0x3cb84a(0x1ec)]['product_code_hide']],_0x4dbe43=[_0x525175['body'][_0x3cb84a(0x1dc)]],_0x17b368=[_0x525175[_0x3cb84a(0x1ec)][_0x3cb84a(0x200)]];else var _0x12d177=[..._0x525175[_0x3cb84a(0x1ec)][_0x3cb84a(0x1f1)]],_0x43794d=[..._0x525175['body'][_0x3cb84a(0x224)]],_0x1d0150=[..._0x525175['body'][_0x3cb84a(0x23c)]],_0x3380cd=[..._0x525175[_0x3cb84a(0x1ec)][_0x3cb84a(0x1d0)]],_0x15f2be=[..._0x525175[_0x3cb84a(0x1ec)][_0x3cb84a(0x220)]],_0x852083=[..._0x525175[_0x3cb84a(0x1ec)][_0x3cb84a(0x1cc)]],_0x4a90c2=[..._0x525175[_0x3cb84a(0x1ec)][_0x3cb84a(0x21f)]],_0x27170b=[..._0x525175['body'][_0x3cb84a(0x236)]],_0x4dbe43=[..._0x525175[_0x3cb84a(0x1ec)][_0x3cb84a(0x1dc)]],_0x17b368=[..._0x525175['body'][_0x3cb84a(0x200)]],_0x1ca7a1=[..._0x525175[_0x3cb84a(0x1ec)][_0x3cb84a(0x23a)]];const _0x3f877f=_0x12d177[_0x3cb84a(0x216)](_0x1d1e61=>{return _0x1d1e61={'product_name':_0x1d1e61};});_0x43794d[_0x3cb84a(0x201)]((_0x1fd3bc,_0x4e3b34)=>{var _0x341768=_0x3cb84a;_0x3f877f[_0x4e3b34][_0x341768(0x224)]=_0x1fd3bc;}),_0x1d0150[_0x3cb84a(0x201)]((_0xf1f20d,_0xab3d61)=>{var _0x26431d=_0x3cb84a;_0x3f877f[_0xab3d61][_0x26431d(0x20c)]=_0xf1f20d;}),_0x3380cd[_0x3cb84a(0x201)]((_0x48acda,_0xb86d92)=>{var _0x43b572=_0x3cb84a;_0x3f877f[_0xb86d92][_0x43b572(0x1d0)]=_0x48acda;}),_0x15f2be[_0x3cb84a(0x201)]((_0x4e543b,_0x447c12)=>{_0x3f877f[_0x447c12]['bay']=_0x4e543b;}),_0x852083[_0x3cb84a(0x201)]((_0x1a9647,_0x2d71d5)=>{_0x3f877f[_0x2d71d5]['bin']=_0x1a9647;}),_0x4a90c2[_0x3cb84a(0x201)]((_0x174e64,_0x8bc8bf)=>{var _0x313906=_0x3cb84a;_0x3f877f[_0x8bc8bf][_0x313906(0x22e)]=_0x174e64;}),_0x27170b[_0x3cb84a(0x201)]((_0xcdda30,_0xa878e3)=>{_0x3f877f[_0xa878e3]['product_code']=_0xcdda30;}),_0x4dbe43[_0x3cb84a(0x201)]((_0x4c3e97,_0x37b686)=>{var _0x493e55=_0x3cb84a;_0x3f877f[_0x37b686][_0x493e55(0x246)]=_0x4c3e97;}),_0x17b368[_0x3cb84a(0x201)]((_0x5547b6,_0x104590)=>{var _0x12f14f=_0x3cb84a;_0x3f877f[_0x104590][_0x12f14f(0x1f2)]=_0x5547b6;}),_0x1ca7a1[_0x3cb84a(0x201)]((_0x52853b,_0xe4b2c3)=>{var _0x51d670=_0x3cb84a;_0x3f877f[_0xe4b2c3][_0x51d670(0x241)]=_0x52853b;});var _0x411dac=0x0;_0x3f877f['forEach'](_0x30919c=>{var _0x2f37b5=_0x3cb84a;console['log']('foreach\x20newproduct',_0x30919c),(parseInt(_0x30919c[_0x2f37b5(0x224)])<parseInt(_0x30919c[_0x2f37b5(0x1d0)])||parseInt(_0x30919c['stock_quantity'])<parseInt(_0x30919c[_0x2f37b5(0x1d0)])||parseInt(_0x30919c[_0x2f37b5(0x1d0)])==0x0)&&_0x411dac++;});if(_0x411dac!=0x0)return _0x525175[_0x3cb84a(0x1e4)](_0x3cb84a(0x23d),_0x3cb84a(0x205)),_0x1f744b[_0x3cb84a(0x229)]('back');_0x3d98e0['return_product']['forEach'](_0x192a16=>{var _0x300220=_0x3cb84a;const _0x53d1c0=_0x2ac05a[_0x300220(0x1cb)][_0x300220(0x216)](_0x163ae1=>{var _0x14a6fe=_0x300220;_0x163ae1[_0x14a6fe(0x1f1)]==_0x192a16[_0x14a6fe(0x1f1)]&&_0x163ae1['floorlevel']==_0x192a16[_0x14a6fe(0x22e)]&&_0x163ae1[_0x14a6fe(0x241)]==_0x192a16[_0x14a6fe(0x241)]&&_0x163ae1[_0x14a6fe(0x1d8)]==_0x192a16[_0x14a6fe(0x1d8)]&&_0x163ae1[_0x14a6fe(0x23f)]==_0x192a16[_0x14a6fe(0x23f)]&&(_0x163ae1[_0x14a6fe(0x1f4)]=parseInt(_0x163ae1[_0x14a6fe(0x1f4)])+parseInt(_0x192a16['return_qty']));});}),console[_0x3cb84a(0x213)](_0x3cb84a(0x228),_0x2ac05a),await _0x2ac05a[_0x3cb84a(0x202)](),_0x3d98e0[_0x3cb84a(0x1f5)]=_0x2bbce3,_0x3d98e0[_0x3cb84a(0x1da)]=_0x20d59e,_0x3d98e0[_0x3cb84a(0x239)]=_0x75ce7c,_0x3d98e0[_0x3cb84a(0x1fb)]=_0xae04c2,_0x3d98e0[_0x3cb84a(0x21d)]=_0x3f877f,_0x3d98e0[_0x3cb84a(0x203)]=_0x35b336,_0x3d98e0[_0x3cb84a(0x1e1)]=_0x2facca,_0x3d98e0[_0x3cb84a(0x1f9)]=_0x402f40,_0x3d98e0[_0x3cb84a(0x234)]=_0x382bc2;const _0x1a42a4=await _0x3d98e0[_0x3cb84a(0x202)](),_0x38078c=await purchases_return['findOne']({'invoice':_0x525175[_0x3cb84a(0x1ec)]['invoice']}),_0x585ccb=await warehouse[_0x3cb84a(0x211)]({'name':_0x525175['body']['to_warehouse_name'],'room':_0x525175[_0x3cb84a(0x1ec)]['to_Room_name']});_0x38078c[_0x3cb84a(0x21d)][_0x3cb84a(0x201)](_0x456c19=>{var _0xa6cde0=_0x3cb84a;_0x585ccb[_0xa6cde0(0x1cb)][_0xa6cde0(0x216)](_0x551270=>{var _0x416e67=_0xa6cde0;_0x551270['product_name']==_0x456c19[_0x416e67(0x1f1)]&&_0x551270['pallet']==_0x456c19[_0x416e67(0x21f)]&&(_0x551270[_0x416e67(0x1f4)]=parseInt(_0x551270[_0x416e67(0x1f4)])-parseInt(_0x456c19[_0x416e67(0x1d0)]),console[_0x416e67(0x213)](_0x416e67(0x20d),_0x456c19[_0x416e67(0x1d0)]));});}),console['log'](_0x3cb84a(0x1f3),_0x585ccb),await _0x585ccb[_0x3cb84a(0x202)]();const _0x2a536b=await s_payment_data['findOne']({'invoice':_0x525175['body']['invoice'],'reason':'Purchase\x20Return'});await _0x2a536b[_0x3cb84a(0x202)](),_0x525175[_0x3cb84a(0x1e4)]('success',_0x3cb84a(0x1e9)),_0x1f744b[_0x3cb84a(0x229)](_0x3cb84a(0x1e7));}catch(_0x3d96d9){console[_0x3cb84a(0x213)](_0x3d96d9),_0x1f744b[_0x3cb84a(0x245)](0xc8)[_0x3cb84a(0x1d2)]({'message':_0x3d96d9['message']});}}),router['get']('/invoice/:id',auth,async(_0x476230,_0x6c6dd3)=>{var _0x276e9e=a0_0x15cd80;try{const {username:_0x3588a5,email:_0xdc3b56,role:_0x3a6416}=_0x476230[_0x276e9e(0x1d1)],_0x2391f8=_0x476230[_0x276e9e(0x1d1)],_0x2265e0=await profile[_0x276e9e(0x211)]({'email':_0x2391f8[_0x276e9e(0x235)]}),_0x1c1c7e=await master_shop[_0x276e9e(0x1fd)]();console[_0x276e9e(0x213)](_0x276e9e(0x23e),_0x1c1c7e);const _0x5c85ae=_0x476230[_0x276e9e(0x22f)]['id'],_0x1b1654=await purchases_return['findById'](_0x5c85ae);console[_0x276e9e(0x213)](_0x1b1654);const _0x423c7f=await suppliers[_0x276e9e(0x211)]({'name':_0x1b1654[_0x276e9e(0x1da)]});console[_0x276e9e(0x213)](_0x423c7f);if(_0x1c1c7e[0x0][_0x276e9e(0x1dd)]==_0x276e9e(0x23b)){var _0x582b00=users[_0x276e9e(0x1d3)];console['log'](_0x582b00);}else{if(_0x1c1c7e[0x0][_0x276e9e(0x1dd)]=='Hindi')var _0x582b00=users[_0x276e9e(0x22d)];else{if(_0x1c1c7e[0x0][_0x276e9e(0x1dd)]=='German')var _0x582b00=users[_0x276e9e(0x210)];else{if(_0x1c1c7e[0x0]['language']=='Spanish')var _0x582b00=users['Spanish'];else{if(_0x1c1c7e[0x0][_0x276e9e(0x1dd)]=='French')var _0x582b00=users[_0x276e9e(0x1f6)];else{if(_0x1c1c7e[0x0]['language']==_0x276e9e(0x215))var _0x582b00=users[_0x276e9e(0x222)];else{if(_0x1c1c7e[0x0][_0x276e9e(0x1dd)]==_0x276e9e(0x221))var _0x582b00=users[_0x276e9e(0x221)];else{if(_0x1c1c7e[0x0][_0x276e9e(0x1dd)]==_0x276e9e(0x208))var _0x582b00=users['Arabic'];}}}}}}}_0x6c6dd3[_0x276e9e(0x1d7)](_0x276e9e(0x20f),{'success':_0x476230[_0x276e9e(0x1e4)](_0x276e9e(0x1ed)),'errors':_0x476230[_0x276e9e(0x1e4)](_0x276e9e(0x23d)),'role':_0x2391f8,'profile':_0x2265e0,'master_shop':_0x1c1c7e,'supplier':_0x423c7f,'purchase':_0x1b1654,'language':_0x582b00});}catch(_0x4a3c52){console[_0x276e9e(0x213)](_0x4a3c52);}}),router[a0_0x15cd80(0x227)]('/receive_payment/:id',auth,async(_0x223c42,_0x4243cc)=>{var _0x224423=a0_0x15cd80;try{const _0x507b80=_0x223c42['params']['id'],{invoice:_0x230b35,suppliers:_0x508287,receivable_amount:_0x2de736,received_amount:_0x5ec3da}=_0x223c42['body'],_0x3fa090=await purchases_return['findById'](_0x507b80);console[_0x224423(0x213)](_0x3fa090);var _0x57c7aa=_0x2de736-_0x5ec3da;console[_0x224423(0x213)](_0x5ec3da),_0x3fa090[_0x224423(0x1fa)]=parseFloat(_0x5ec3da)+parseFloat(_0x3fa090[_0x224423(0x1fa)]),_0x3fa090['due_amount']=_0x57c7aa,console['log'](_0x3fa090);const _0x187df0=await _0x3fa090[_0x224423(0x202)](),_0x876e3c=await s_payment_data[_0x224423(0x211)]({'invoice':_0x223c42[_0x224423(0x1ec)][_0x224423(0x1f5)],'reason':_0x224423(0x237)});_0x876e3c[_0x224423(0x22c)]=_0x57c7aa,await _0x876e3c[_0x224423(0x202)]();let _0x3942bd=new Date(),_0x1f2ad0=('0'+_0x3942bd['getDate']())[_0x224423(0x243)](-0x2),_0x476954=('0'+(_0x3942bd[_0x224423(0x21c)]()+0x1))[_0x224423(0x243)](-0x2),_0xf360cd=_0x3942bd[_0x224423(0x209)](),_0x5210dd=_0xf360cd+'-'+_0x476954+'-'+_0x1f2ad0;const _0xe2dc91=new suppliers_payment({'invoice':_0x230b35,'date':_0xf360cd+'-'+_0x476954+'-'+_0x1f2ad0,'suppliers':_0x508287,'reason':'Received\x20For\x20Purchase\x20Return','amount':_0x5ec3da}),_0x1af352=await _0xe2dc91[_0x224423(0x202)]();_0x223c42[_0x224423(0x1e4)](_0x224423(0x1ed),'payment\x20successfull'),_0x4243cc[_0x224423(0x229)](_0x224423(0x1e7));}catch(_0x3a2834){console[_0x224423(0x213)](_0x3a2834);}}),module[a0_0x15cd80(0x242)]=router;