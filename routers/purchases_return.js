function a0_0x389a(_0x26d194,_0x10a8a7){var _0x4b37e9=a0_0x4b37();return a0_0x389a=function(_0x389af2,_0xbd807f){_0x389af2=_0x389af2-0xa0;var _0x56db12=_0x4b37e9[_0x389af2];return _0x56db12;},a0_0x389a(_0x26d194,_0x10a8a7);}var a0_0x149727=a0_0x389a;function a0_0x4b37(){var _0x911842=['$product_details.secondary_code','slice','Arabic','message','type','secondary_code','language','$supplier_docs','aggregate','English\x20(US)','../public/language/languages.json','$due_amount','bin','note','foreach\x20newproduct','$receivable','stock_data','errors','$invoice','Portuguese','$_id','exports','20708sqwQSH','$product_details.primary_code','Router','room','Raw\x20Materials','/receive_payment/:id','to_warehouse_name','due_amount','2766819TCpnVO','310WpGIQg','$product_details.product_name','product_details','name','$product_details','$product_details.product_stock','find','success','string','body','/view','product_name','forEach','2HbqISz','Enabled','getMonth','getDate','$warehouse_name','express','Purchase\x20Return','stock_quantity','invoice','3539886QOdmHB','product_code','post','get','old_data','supplier_docs','German','$return_product','12NfNrex','Spanish','Chinese','$date','render','3819608MtEBpq','pallet','$product_details.type','$product_details._id','return_qty','status','$return_product.total','$product_details.bin','isle','purchase_quantity','$product_details.rack','/purchases_return/view','French','$total_amount','Return\x20Goods','redirect','return_purchase_edit','$supplier_docs.address','6131088TveSJB','log','to_room','$supplier_docs.email','$product_details.floorlevel','user','$return_product.return_qty','received','378221KWGLKy','$supplier_docs.mobile','stocks','findById','params','primary_code_hide','master','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','findOne','level','$product_details.product_code','../models/all_models','warehouse_name','Hindi','flash','$received','to_Room_name','purchase\x20return\x20successfully','secondary_code_hide','suppliers','date','product_details.return_qtyproduct_details.return_qty','../middleware/auth','email','$name','$suppliers','English','return_product','amount','floorlevel','final','/view/:id','bay','save','types','map','purchases_return','409350TveApl','product_code_hide','Portuguese\x20(BR)','payment\x20successfull','Arabic\x20(ae)','product_stock'];a0_0x4b37=function(){return _0x911842;};return a0_0x4b37();}(function(_0x4ee92b,_0x13f964){var _0x4303e6=a0_0x389a,_0xd94fe9=_0x4ee92b();while(!![]){try{var _0x532248=parseInt(_0x4303e6(0xac))/0x1+-parseInt(_0x4303e6(0x103))/0x2*(parseInt(_0x4303e6(0xf5))/0x3)+-parseInt(_0x4303e6(0xed))/0x4*(-parseInt(_0x4303e6(0xf6))/0x5)+-parseInt(_0x4303e6(0x114))/0x6*(-parseInt(_0x4303e6(0x10c))/0x7)+parseInt(_0x4303e6(0x119))/0x8+-parseInt(_0x4303e6(0xa4))/0x9+-parseInt(_0x4303e6(0xd1))/0xa;if(_0x532248===_0x13f964)break;else _0xd94fe9['push'](_0xd94fe9['shift']());}catch(_0x2a6e88){_0xd94fe9['push'](_0xd94fe9['shift']());}}}(a0_0x4b37,0x84b72));const express=require(a0_0x149727(0x108)),app=express(),router=express[a0_0x149727(0xef)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x149727(0xb7)),auth=require(a0_0x149727(0xc2)),users=require(a0_0x149727(0xe1));router[a0_0x149727(0x10f)](a0_0x149727(0x100),auth,async(_0x127d70,_0x1c2601)=>{var _0x4f0d87=a0_0x149727;try{const {username:_0x34f7d9,email:_0x562685,role:_0x38a619}=_0x127d70[_0x4f0d87(0xa9)],_0x15f255=_0x127d70[_0x4f0d87(0xa9)],_0x5832ef=await profile[_0x4f0d87(0xb4)]({'email':_0x15f255[_0x4f0d87(0xc3)]}),_0x292631=await master_shop['find']();console[_0x4f0d87(0xa5)](_0x4f0d87(0xb2),_0x292631);const _0x2172aa=await purchases_return[_0x4f0d87(0xdf)]([{'$lookup':{'from':_0x4f0d87(0xbf),'localField':'suppliers','foreignField':_0x4f0d87(0xf9),'as':_0x4f0d87(0x111)}},{'$unwind':_0x4f0d87(0x113)},{'$unwind':_0x4f0d87(0xde)},{'$group':{'_id':_0x4f0d87(0xeb),'invoice':{'$first':_0x4f0d87(0xe9)},'date':{'$first':_0x4f0d87(0x117)},'suppliers':{'$first':_0x4f0d87(0xc5)},'warehouse_name':{'$first':_0x4f0d87(0x107)},'product_name':{'$first':'$return_product.product_name'},'return_qty':{'$first':_0x4f0d87(0xaa)},'price':{'$first':'$return_product.price'},'total':{'$sum':_0x4f0d87(0x11f)},'note':{'$first':'$note'},'total_amount':{'$first':_0x4f0d87(0x126)},'discount':{'$first':'$discount'},'receivable':{'$first':_0x4f0d87(0xe6)},'received':{'$first':_0x4f0d87(0xbb)},'due_amount':{'$first':_0x4f0d87(0xe2)},'mobile':{'$first':_0x4f0d87(0xad)},'email':{'$first':_0x4f0d87(0xa7)},'address':{'$first':_0x4f0d87(0xa3)},'return_sum_qty':{'$sum':_0x4f0d87(0xaa)}}}]);console[_0x4f0d87(0xa5)](_0x2172aa);if(_0x292631[0x0][_0x4f0d87(0xdd)]==_0x4f0d87(0xe0)){var _0x4ebaf7=users['English'];console[_0x4f0d87(0xa5)](_0x4ebaf7);}else{if(_0x292631[0x0]['language']==_0x4f0d87(0xb9))var _0x4ebaf7=users[_0x4f0d87(0xb9)];else{if(_0x292631[0x0]['language']==_0x4f0d87(0x112))var _0x4ebaf7=users[_0x4f0d87(0x112)];else{if(_0x292631[0x0][_0x4f0d87(0xdd)]=='Spanish')var _0x4ebaf7=users['Spanish'];else{if(_0x292631[0x0]['language']==_0x4f0d87(0x125))var _0x4ebaf7=users[_0x4f0d87(0x125)];else{if(_0x292631[0x0]['language']==_0x4f0d87(0xd3))var _0x4ebaf7=users['Portuguese'];else{if(_0x292631[0x0][_0x4f0d87(0xdd)]==_0x4f0d87(0x116))var _0x4ebaf7=users[_0x4f0d87(0x116)];else{if(_0x292631[0x0][_0x4f0d87(0xdd)]==_0x4f0d87(0xd5))var _0x4ebaf7=users[_0x4f0d87(0xd9)];}}}}}}}_0x1c2601[_0x4f0d87(0x118)](_0x4f0d87(0xd0),{'success':_0x127d70[_0x4f0d87(0xba)](_0x4f0d87(0xfd)),'errors':_0x127d70['flash'](_0x4f0d87(0xe8)),'role':_0x15f255,'profile':_0x5832ef,'master_shop':_0x292631,'user':_0x2172aa,'language':_0x4ebaf7});}catch(_0x2fbdfb){console[_0x4f0d87(0xa5)](_0x2fbdfb);}}),router['get']('/view/:id',auth,async(_0x3eacca,_0x17cb30)=>{var _0x34e1b4=a0_0x149727;try{const {username:_0x3c6a3d,email:_0x2328de,role:_0x3a5ce1}=_0x3eacca['user'],_0x523188=_0x3eacca[_0x34e1b4(0xa9)],_0x5a090f=await profile[_0x34e1b4(0xb4)]({'email':_0x523188[_0x34e1b4(0xc3)]}),_0x411b20=await product[_0x34e1b4(0xfc)]({}),_0x1939f9=await master_shop['find']();console[_0x34e1b4(0xa5)](_0x34e1b4(0xb2),_0x1939f9),console[_0x34e1b4(0xa5)](_0x3eacca[_0x34e1b4(0xff)]);const _0x4a5dd5=_0x3eacca[_0x34e1b4(0xb0)]['id'],_0x3a62d9=await purchases_return['findById'](_0x4a5dd5);console['log'](_0x3a62d9);const _0x3d983a=await warehouse[_0x34e1b4(0xdf)]([{'$match':{'name':_0x3a62d9['warehouse_name'],'room':_0x3a62d9['room']}},{'$unwind':_0x34e1b4(0xfa)},{'$group':{'_id':_0x34e1b4(0x11c),'name':{'$first':_0x34e1b4(0xf7)},'product_stock':{'$first':_0x34e1b4(0xfb)},'bay':{'$first':'$product_details.bay'},'bin':{'$first':_0x34e1b4(0x120)},'type':{'$first':_0x34e1b4(0x11b)},'floorlevel':{'$first':_0x34e1b4(0xa8)},'primary_code':{'$first':_0x34e1b4(0xee)},'secondary_code':{'$first':_0x34e1b4(0xd7)},'product_code':{'$first':_0x34e1b4(0xb6)},'storage':{'$first':'$product_details.storage'},'rack':{'$first':_0x34e1b4(0x123)}}}]);warehouse_data=await warehouse['aggregate']([{'$match':{'status':_0x34e1b4(0x104),'name':_0x34e1b4(0xa0),'warehouse_category':_0x34e1b4(0xf1)}},{'$group':{'_id':_0x34e1b4(0xc4),'name':{'$first':_0x34e1b4(0xc4)}}},{'$sort':{'name':0x1}}]),console[_0x34e1b4(0xa5)](_0x34e1b4(0xe7),_0x3d983a);if(_0x1939f9[0x0][_0x34e1b4(0xdd)]==_0x34e1b4(0xe0)){var _0x58f593=users[_0x34e1b4(0xc6)];console['log'](_0x58f593);}else{if(_0x1939f9[0x0][_0x34e1b4(0xdd)]=='Hindi')var _0x58f593=users[_0x34e1b4(0xb9)];else{if(_0x1939f9[0x0]['language']==_0x34e1b4(0x112))var _0x58f593=users[_0x34e1b4(0x112)];else{if(_0x1939f9[0x0]['language']==_0x34e1b4(0x115))var _0x58f593=users[_0x34e1b4(0x115)];else{if(_0x1939f9[0x0]['language']=='French')var _0x58f593=users[_0x34e1b4(0x125)];else{if(_0x1939f9[0x0][_0x34e1b4(0xdd)]==_0x34e1b4(0xd3))var _0x58f593=users[_0x34e1b4(0xea)];else{if(_0x1939f9[0x0]['language']==_0x34e1b4(0x116))var _0x58f593=users[_0x34e1b4(0x116)];else{if(_0x1939f9[0x0][_0x34e1b4(0xdd)]==_0x34e1b4(0xd5))var _0x58f593=users[_0x34e1b4(0xd9)];}}}}}}}_0x17cb30[_0x34e1b4(0x118)](_0x34e1b4(0xa2),{'success':_0x3eacca[_0x34e1b4(0xba)](_0x34e1b4(0xfd)),'errors':_0x3eacca[_0x34e1b4(0xba)](_0x34e1b4(0xe8)),'role':_0x523188,'master_shop':_0x1939f9,'profile':_0x5a090f,'user':_0x3a62d9,'stock':_0x3d983a,'product':_0x411b20,'language':_0x58f593,'warehouse':warehouse_data});}catch(_0x1eb270){console['log'](_0x1eb270);}}),router['post'](a0_0x149727(0xcb),auth,async(_0xf109a3,_0x42b99b)=>{var _0x5996a3=a0_0x149727;try{const _0x30212c=_0xf109a3[_0x5996a3(0xb0)]['id'];console['log'](_0x30212c);const _0x426272=await purchases_return[_0x5996a3(0xb4)]({'invoice':_0xf109a3[_0x5996a3(0xff)][_0x5996a3(0x10b)]});console[_0x5996a3(0xa5)](_0x5996a3(0x110),_0x426272);const _0x500608=await warehouse[_0x5996a3(0xb4)]({'name':_0x426272[_0x5996a3(0xf3)],'room':_0x426272[_0x5996a3(0xa6)]});console['log']('old_warehouse_data',_0x500608);const {invoice:_0x1e89c0,suppliers:_0xa64d7d,date:_0x221990,warehouse_name:_0x239a16,product_name:_0x554c0b,purchase_quantity:_0x513363,stocks:_0x176b71,return_qty:_0x32a5b4,note:_0x27b720,Room_name:_0x2cd2f2,level:_0x179e3f,isle:_0x21d87f,pallet:_0x5cdafe,to_warehouse_name:_0x845482,to_Room_name:_0x5522b8}=_0xf109a3[_0x5996a3(0xff)];if(typeof _0x554c0b==_0x5996a3(0xfe))var _0x4fd0cb=[_0xf109a3[_0x5996a3(0xff)][_0x5996a3(0x101)]],_0x388bb4=[_0xf109a3[_0x5996a3(0xff)][_0x5996a3(0x122)]],_0x24422b=[_0xf109a3['body'][_0x5996a3(0xae)]],_0x15a700=[_0xf109a3[_0x5996a3(0xff)][_0x5996a3(0x11d)]],_0x4f1cc4=[_0xf109a3[_0x5996a3(0xff)][_0x5996a3(0xb5)]],_0x90aa12=[_0xf109a3[_0x5996a3(0xff)][_0x5996a3(0x121)]],_0x3b3e9e=[_0xf109a3['body'][_0x5996a3(0x11a)]],_0x544483=[_0xf109a3['body'][_0x5996a3(0xce)]],_0x57bde7=[_0xf109a3[_0x5996a3(0xff)][_0x5996a3(0xd2)]],_0xae0b68=[_0xf109a3[_0x5996a3(0xff)]['primary_code_hide']],_0x9e3af3=[_0xf109a3[_0x5996a3(0xff)]['secondary_code_hide']];else var _0x4fd0cb=[..._0xf109a3[_0x5996a3(0xff)][_0x5996a3(0x101)]],_0x388bb4=[..._0xf109a3[_0x5996a3(0xff)][_0x5996a3(0x122)]],_0x24422b=[..._0xf109a3['body']['stocks']],_0x15a700=[..._0xf109a3['body'][_0x5996a3(0x11d)]],_0x4f1cc4=[..._0xf109a3['body']['level']],_0x90aa12=[..._0xf109a3[_0x5996a3(0xff)]['isle']],_0x3b3e9e=[..._0xf109a3['body'][_0x5996a3(0x11a)]],_0x57bde7=[..._0xf109a3[_0x5996a3(0xff)]['product_code_hide']],_0xae0b68=[..._0xf109a3[_0x5996a3(0xff)][_0x5996a3(0xb1)]],_0x9e3af3=[..._0xf109a3['body'][_0x5996a3(0xbe)]],_0x544483=[..._0xf109a3['body']['types']];const _0x2a6983=_0x4fd0cb[_0x5996a3(0xcf)](_0x3f1e74=>{return _0x3f1e74={'product_name':_0x3f1e74};});_0x388bb4[_0x5996a3(0x102)]((_0x4bf9a0,_0x5d3789)=>{_0x2a6983[_0x5d3789]['purchase_quantity']=_0x4bf9a0;}),_0x24422b['forEach']((_0x124eb5,_0x2b0648)=>{var _0x1d5213=_0x5996a3;_0x2a6983[_0x2b0648][_0x1d5213(0x10a)]=_0x124eb5;}),_0x15a700[_0x5996a3(0x102)]((_0x3a397f,_0x29ea56)=>{var _0x19f057=_0x5996a3;_0x2a6983[_0x29ea56][_0x19f057(0x11d)]=_0x3a397f;}),_0x4f1cc4['forEach']((_0xea9899,_0x25989a)=>{var _0x1ed9f5=_0x5996a3;_0x2a6983[_0x25989a][_0x1ed9f5(0xcc)]=_0xea9899;}),_0x90aa12[_0x5996a3(0x102)]((_0x3025c0,_0x22410a)=>{var _0x1921d4=_0x5996a3;_0x2a6983[_0x22410a][_0x1921d4(0xe3)]=_0x3025c0;}),_0x3b3e9e[_0x5996a3(0x102)]((_0x1657e4,_0x2915c8)=>{var _0x1c1306=_0x5996a3;_0x2a6983[_0x2915c8][_0x1c1306(0xc9)]=_0x1657e4;}),_0x57bde7[_0x5996a3(0x102)]((_0x16eaa7,_0x5f5c2c)=>{var _0x4e0772=_0x5996a3;_0x2a6983[_0x5f5c2c][_0x4e0772(0x10d)]=_0x16eaa7;}),_0xae0b68[_0x5996a3(0x102)]((_0x108cdb,_0x19c107)=>{_0x2a6983[_0x19c107]['primary_code']=_0x108cdb;}),_0x9e3af3[_0x5996a3(0x102)]((_0x22d10b,_0x4c696f)=>{var _0x33b48c=_0x5996a3;_0x2a6983[_0x4c696f][_0x33b48c(0xdc)]=_0x22d10b;}),_0x544483['forEach']((_0x47079b,_0x1fb7c0)=>{var _0x1d1628=_0x5996a3;_0x2a6983[_0x1fb7c0][_0x1d1628(0xdb)]=_0x47079b;});var _0x15eaf6=0x0;_0x2a6983[_0x5996a3(0x102)](_0xa88e25=>{var _0xa91666=_0x5996a3;console[_0xa91666(0xa5)](_0xa91666(0xe5),_0xa88e25),(parseInt(_0xa88e25[_0xa91666(0x122)])<parseInt(_0xa88e25[_0xa91666(0x11d)])||parseInt(_0xa88e25[_0xa91666(0x10a)])<parseInt(_0xa88e25[_0xa91666(0x11d)])||parseInt(_0xa88e25['return_qty'])==0x0)&&_0x15eaf6++;});if(_0x15eaf6!=0x0)return _0xf109a3[_0x5996a3(0xba)](_0x5996a3(0xe8),_0x5996a3(0xb3)),_0x42b99b[_0x5996a3(0xa1)]('back');_0x426272[_0x5996a3(0xc7)][_0x5996a3(0x102)](_0x46c72d=>{var _0x22e5d0=_0x5996a3;const _0xdc7324=_0x500608[_0x22e5d0(0xf8)][_0x22e5d0(0xcf)](_0x175434=>{var _0x4f97e8=_0x22e5d0;_0x175434[_0x4f97e8(0x101)]==_0x46c72d['product_name']&&_0x175434[_0x4f97e8(0xc9)]==_0x46c72d[_0x4f97e8(0xc9)]&&_0x175434[_0x4f97e8(0xdb)]==_0x46c72d[_0x4f97e8(0xdb)]&&_0x175434[_0x4f97e8(0xe3)]==_0x46c72d[_0x4f97e8(0xe3)]&&_0x175434['bay']==_0x46c72d[_0x4f97e8(0xcc)]&&(_0x175434[_0x4f97e8(0xd6)]=parseInt(_0x175434[_0x4f97e8(0xd6)])+parseInt(_0x46c72d[_0x4f97e8(0x11d)]));});}),console[_0x5996a3(0xa5)]('old_warehouse_data',_0x500608),await _0x500608[_0x5996a3(0xcd)](),_0x426272[_0x5996a3(0x10b)]=_0x1e89c0,_0x426272[_0x5996a3(0xbf)]=_0xa64d7d,_0x426272[_0x5996a3(0xc0)]=_0x221990,_0x426272[_0x5996a3(0xb8)]=_0x239a16,_0x426272['return_product']=_0x2a6983,_0x426272[_0x5996a3(0xe4)]=_0x27b720,_0x426272[_0x5996a3(0xf0)]=_0x2cd2f2,_0x426272['to_warehouse_name']=_0x845482,_0x426272[_0x5996a3(0xa6)]=_0x5522b8;const _0x25faeb=await _0x426272[_0x5996a3(0xcd)](),_0x4ad20a=await purchases_return['findOne']({'invoice':_0xf109a3[_0x5996a3(0xff)][_0x5996a3(0x10b)]}),_0x2d9792=await warehouse[_0x5996a3(0xb4)]({'name':_0xf109a3[_0x5996a3(0xff)][_0x5996a3(0xf3)],'room':_0xf109a3['body'][_0x5996a3(0xbc)]});_0x4ad20a['return_product']['forEach'](_0x4cfc51=>{_0x2d9792['product_details']['map'](_0x49e548=>{var _0x188e16=a0_0x389a;_0x49e548['product_name']==_0x4cfc51[_0x188e16(0x101)]&&_0x49e548['pallet']==_0x4cfc51[_0x188e16(0x11a)]&&(_0x49e548['product_stock']=parseInt(_0x49e548[_0x188e16(0xd6)])-parseInt(_0x4cfc51[_0x188e16(0x11d)]),console[_0x188e16(0xa5)](_0x188e16(0xc1),_0x4cfc51[_0x188e16(0x11d)]));});}),console[_0x5996a3(0xa5)](_0x5996a3(0xca),_0x2d9792),await _0x2d9792[_0x5996a3(0xcd)]();const _0x6666f9=await s_payment_data[_0x5996a3(0xb4)]({'invoice':_0xf109a3[_0x5996a3(0xff)][_0x5996a3(0x10b)],'reason':_0x5996a3(0x109)});await _0x6666f9[_0x5996a3(0xcd)](),_0xf109a3[_0x5996a3(0xba)](_0x5996a3(0xfd),_0x5996a3(0xbd)),_0x42b99b[_0x5996a3(0xa1)](_0x5996a3(0x124));}catch(_0x155dfa){console[_0x5996a3(0xa5)](_0x155dfa),_0x42b99b[_0x5996a3(0x11e)](0xc8)['json']({'message':_0x155dfa[_0x5996a3(0xda)]});}}),router[a0_0x149727(0x10f)]('/invoice/:id',auth,async(_0x3cb02c,_0x44fa9d)=>{var _0x36baad=a0_0x149727;try{const {username:_0x1a5823,email:_0x29e755,role:_0x5cab4f}=_0x3cb02c[_0x36baad(0xa9)],_0x2a9163=_0x3cb02c['user'],_0x1c9e4d=await profile[_0x36baad(0xb4)]({'email':_0x2a9163[_0x36baad(0xc3)]}),_0x33b28a=await master_shop[_0x36baad(0xfc)]();console['log'](_0x36baad(0xb2),_0x33b28a);const _0x5cb081=_0x3cb02c[_0x36baad(0xb0)]['id'],_0x12637c=await purchases_return[_0x36baad(0xaf)](_0x5cb081);console['log'](_0x12637c);const _0x38fe2b=await suppliers['findOne']({'name':_0x12637c[_0x36baad(0xbf)]});console[_0x36baad(0xa5)](_0x38fe2b);if(_0x33b28a[0x0][_0x36baad(0xdd)]==_0x36baad(0xe0)){var _0x15a0f0=users['English'];console[_0x36baad(0xa5)](_0x15a0f0);}else{if(_0x33b28a[0x0][_0x36baad(0xdd)]==_0x36baad(0xb9))var _0x15a0f0=users['Hindi'];else{if(_0x33b28a[0x0][_0x36baad(0xdd)]==_0x36baad(0x112))var _0x15a0f0=users[_0x36baad(0x112)];else{if(_0x33b28a[0x0]['language']==_0x36baad(0x115))var _0x15a0f0=users[_0x36baad(0x115)];else{if(_0x33b28a[0x0]['language']==_0x36baad(0x125))var _0x15a0f0=users[_0x36baad(0x125)];else{if(_0x33b28a[0x0][_0x36baad(0xdd)]==_0x36baad(0xd3))var _0x15a0f0=users[_0x36baad(0xea)];else{if(_0x33b28a[0x0][_0x36baad(0xdd)]==_0x36baad(0x116))var _0x15a0f0=users['Chinese'];else{if(_0x33b28a[0x0][_0x36baad(0xdd)]=='Arabic\x20(ae)')var _0x15a0f0=users[_0x36baad(0xd9)];}}}}}}}_0x44fa9d[_0x36baad(0x118)]('return_purchase_invoice',{'success':_0x3cb02c[_0x36baad(0xba)](_0x36baad(0xfd)),'errors':_0x3cb02c[_0x36baad(0xba)]('errors'),'role':_0x2a9163,'profile':_0x1c9e4d,'master_shop':_0x33b28a,'supplier':_0x38fe2b,'purchase':_0x12637c,'language':_0x15a0f0});}catch(_0x4cb342){console[_0x36baad(0xa5)](_0x4cb342);}}),router[a0_0x149727(0x10e)](a0_0x149727(0xf2),auth,async(_0x8bc870,_0x268e1c)=>{var _0x3d9d62=a0_0x149727;try{const _0x154f61=_0x8bc870[_0x3d9d62(0xb0)]['id'],{invoice:_0x28eeaf,suppliers:_0x8ad85a,receivable_amount:_0x31cdf3,received_amount:_0x2cce88}=_0x8bc870[_0x3d9d62(0xff)],_0x19a08a=await purchases_return[_0x3d9d62(0xaf)](_0x154f61);console[_0x3d9d62(0xa5)](_0x19a08a);var _0x964012=_0x31cdf3-_0x2cce88;console[_0x3d9d62(0xa5)](_0x2cce88),_0x19a08a[_0x3d9d62(0xab)]=parseFloat(_0x2cce88)+parseFloat(_0x19a08a['received']),_0x19a08a[_0x3d9d62(0xf4)]=_0x964012,console['log'](_0x19a08a);const _0xc97c03=await _0x19a08a[_0x3d9d62(0xcd)](),_0x43d639=await s_payment_data['findOne']({'invoice':_0x8bc870[_0x3d9d62(0xff)][_0x3d9d62(0x10b)],'reason':_0x3d9d62(0x109)});_0x43d639[_0x3d9d62(0xc8)]=_0x964012,await _0x43d639[_0x3d9d62(0xcd)]();let _0xf49239=new Date(),_0xe7f833=('0'+_0xf49239[_0x3d9d62(0x106)]())[_0x3d9d62(0xd8)](-0x2),_0x4b8937=('0'+(_0xf49239[_0x3d9d62(0x105)]()+0x1))['slice'](-0x2),_0x59cbe8=_0xf49239['getFullYear'](),_0x97282e=_0x59cbe8+'-'+_0x4b8937+'-'+_0xe7f833;const _0x1f8f45=new suppliers_payment({'invoice':_0x28eeaf,'date':_0x59cbe8+'-'+_0x4b8937+'-'+_0xe7f833,'suppliers':_0x8ad85a,'reason':'Received\x20For\x20Purchase\x20Return','amount':_0x2cce88}),_0x2565a3=await _0x1f8f45[_0x3d9d62(0xcd)]();_0x8bc870[_0x3d9d62(0xba)](_0x3d9d62(0xfd),_0x3d9d62(0xd4)),_0x268e1c[_0x3d9d62(0xa1)](_0x3d9d62(0x124));}catch(_0x1451ec){console[_0x3d9d62(0xa5)](_0x1451ec);}}),module[a0_0x149727(0xec)]=router;