var a0_0x2ce218=a0_0x3ed2;(function(_0x30bc35,_0x49aa8b){var _0x1fb23a=a0_0x3ed2,_0x35a80d=_0x30bc35();while(!![]){try{var _0x5f506d=parseInt(_0x1fb23a(0x1c7))/0x1*(parseInt(_0x1fb23a(0x18f))/0x2)+-parseInt(_0x1fb23a(0x19a))/0x3*(parseInt(_0x1fb23a(0x1e8))/0x4)+-parseInt(_0x1fb23a(0x183))/0x5+parseInt(_0x1fb23a(0x1fb))/0x6+-parseInt(_0x1fb23a(0x1dc))/0x7*(-parseInt(_0x1fb23a(0x200))/0x8)+-parseInt(_0x1fb23a(0x185))/0x9+parseInt(_0x1fb23a(0x1c5))/0xa;if(_0x5f506d===_0x49aa8b)break;else _0x35a80d['push'](_0x35a80d['shift']());}catch(_0x1fc658){_0x35a80d['push'](_0x35a80d['shift']());}}}(a0_0x2c10,0x6bb55));function a0_0x3ed2(_0x58fec8,_0x4fadca){var _0x2c10ef=a0_0x2c10();return a0_0x3ed2=function(_0x3ed25d,_0x2084c5){_0x3ed25d=_0x3ed25d-0x177;var _0x4b6973=_0x2c10ef[_0x3ed25d];return _0x4b6973;},a0_0x3ed2(_0x58fec8,_0x4fadca);}function a0_0x2c10(){var _0x2a6e03=['$product_details.product_name','Arabic\x20(ae)','$return_product.return_qty','product_code_hide','floorlevel','88624VcwyZB','/receive_payment/:id','get','$due_amount','$name','due_amount','to_warehouse_name','flash','bin','primary_code','$supplier_docs.email','Return\x20Goods','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','render','status','Spanish','$product_details.storage','errors','find','1829478JnBURC','map','product_details','success','type','57144diruEn','$invoice','amount','string','slice','Enabled','product_stock','language','stocks','$received','$product_details.product_stock','$discount','$_id','3911965uyJoUa','save','6920577NAxois','$date','$product_details.primary_code','$product_details.rack','level','name','stock_quantity','/view/:id','types','user','1372192QGPhka','German','invoice','suppliers','json','$return_product.product_name','English\x20(US)','purchase\x20return\x20successfully','$product_details.type','purchase_quantity','findById','9VLSkOQ','Hindi','$return_product.price','$supplier_docs.mobile','received','getDate','old_warehouse_data','$product_details._id','secondary_code_hide','master','product_details.return_qtyproduct_details.return_qty','to_Room_name','$receivable','Router','final','redirect','old_data','../models/all_models','return_purchase_invoice','to_room','../public/language/languages.json','secondary_code','Chinese','return_purchase_edit','pallet','params','log','French','product_code','/invoice/:id','exports','warehouse_name','$product_details.secondary_code','Portuguese','bay','return_qty','stock_data','isle','Arabic','primary_code_hide','back','getMonth','English','3679640dmIMBZ','$product_details.bay','1nppbsY','Raw\x20Materials','findOne','Portuguese\x20(BR)','body','forEach','room','$product_details','return_product','$suppliers','$product_details.bin','post','Received\x20For\x20Purchase\x20Return','purchases_return','$warehouse_name','note','/view','email','$product_details.floorlevel','express','$supplier_docs','686kceeBz','/purchases_return/view','aggregate','product_name','$product_details.product_code','supplier_docs','Purchase\x20Return'];a0_0x2c10=function(){return _0x2a6e03;};return a0_0x2c10();}const express=require(a0_0x2ce218(0x1da)),app=express(),router=express[a0_0x2ce218(0x1a7)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x2ce218(0x1ab)),auth=require('../middleware/auth'),users=require(a0_0x2ce218(0x1ae));router['get'](a0_0x2ce218(0x1d7),auth,async(_0x57db21,_0x45a5a1)=>{var _0x29b603=a0_0x2ce218;try{const {username:_0x57b7b2,email:_0x4e5481,role:_0x283b97}=_0x57db21['user'],_0x4289ce=_0x57db21[_0x29b603(0x18e)],_0x1fa1a5=await profile[_0x29b603(0x1c9)]({'email':_0x4289ce['email']}),_0x5961a7=await master_shop['find']();console[_0x29b603(0x1b4)](_0x29b603(0x1a3),_0x5961a7);const _0x2796d3=await purchases_return[_0x29b603(0x1de)]([{'$lookup':{'from':_0x29b603(0x192),'localField':_0x29b603(0x192),'foreignField':_0x29b603(0x18a),'as':_0x29b603(0x1e1)}},{'$unwind':'$return_product'},{'$unwind':_0x29b603(0x1db)},{'$group':{'_id':_0x29b603(0x182),'invoice':{'$first':_0x29b603(0x177)},'date':{'$first':_0x29b603(0x186)},'suppliers':{'$first':_0x29b603(0x1d0)},'warehouse_name':{'$first':_0x29b603(0x1d5)},'product_name':{'$first':_0x29b603(0x194)},'return_qty':{'$first':_0x29b603(0x1e5)},'price':{'$first':_0x29b603(0x19c)},'total':{'$sum':'$return_product.total'},'note':{'$first':'$note'},'total_amount':{'$first':'$total_amount'},'discount':{'$first':_0x29b603(0x181)},'receivable':{'$first':_0x29b603(0x1a6)},'received':{'$first':_0x29b603(0x17f)},'due_amount':{'$first':_0x29b603(0x1eb)},'mobile':{'$first':_0x29b603(0x19d)},'email':{'$first':_0x29b603(0x1f2)},'address':{'$first':'$supplier_docs.address'},'return_sum_qty':{'$sum':_0x29b603(0x1e5)}}}]);console[_0x29b603(0x1b4)](_0x2796d3);if(_0x5961a7[0x0][_0x29b603(0x17d)]==_0x29b603(0x195)){var _0x543dfe=users[_0x29b603(0x1c4)];console[_0x29b603(0x1b4)](_0x543dfe);}else{if(_0x5961a7[0x0]['language']==_0x29b603(0x19b))var _0x543dfe=users[_0x29b603(0x19b)];else{if(_0x5961a7[0x0][_0x29b603(0x17d)]==_0x29b603(0x190))var _0x543dfe=users['German'];else{if(_0x5961a7[0x0][_0x29b603(0x17d)]=='Spanish')var _0x543dfe=users[_0x29b603(0x1f7)];else{if(_0x5961a7[0x0][_0x29b603(0x17d)]==_0x29b603(0x1b5))var _0x543dfe=users[_0x29b603(0x1b5)];else{if(_0x5961a7[0x0][_0x29b603(0x17d)]==_0x29b603(0x1ca))var _0x543dfe=users[_0x29b603(0x1bb)];else{if(_0x5961a7[0x0]['language']=='Chinese')var _0x543dfe=users[_0x29b603(0x1b0)];else{if(_0x5961a7[0x0][_0x29b603(0x17d)]=='Arabic\x20(ae)')var _0x543dfe=users[_0x29b603(0x1c0)];}}}}}}}_0x45a5a1['render'](_0x29b603(0x1d4),{'success':_0x57db21[_0x29b603(0x1ef)]('success'),'errors':_0x57db21[_0x29b603(0x1ef)](_0x29b603(0x1f9)),'role':_0x4289ce,'profile':_0x1fa1a5,'master_shop':_0x5961a7,'user':_0x2796d3,'language':_0x543dfe});}catch(_0x23d2d7){console[_0x29b603(0x1b4)](_0x23d2d7);}}),router[a0_0x2ce218(0x1ea)](a0_0x2ce218(0x18c),auth,async(_0x58e3ba,_0x297f59)=>{var _0x29d150=a0_0x2ce218;try{const {username:_0x31d391,email:_0x5606fb,role:_0x35e0a3}=_0x58e3ba[_0x29d150(0x18e)],_0x17c021=_0x58e3ba['user'],_0x3d8103=await profile[_0x29d150(0x1c9)]({'email':_0x17c021[_0x29d150(0x1d8)]}),_0x5d1cb5=await product[_0x29d150(0x1fa)]({}),_0x454acc=await master_shop['find']();console[_0x29d150(0x1b4)](_0x29d150(0x1a3),_0x454acc),console[_0x29d150(0x1b4)](_0x58e3ba[_0x29d150(0x1cb)]);const _0x20f7bb=_0x58e3ba[_0x29d150(0x1b3)]['id'],_0x439bc3=await purchases_return['findById'](_0x20f7bb);console[_0x29d150(0x1b4)](_0x439bc3);const _0x848e69=await warehouse['aggregate']([{'$match':{'name':_0x439bc3[_0x29d150(0x1b9)],'room':_0x439bc3[_0x29d150(0x1cd)]}},{'$unwind':_0x29d150(0x1ce)},{'$group':{'_id':_0x29d150(0x1a1),'name':{'$first':_0x29d150(0x1e3)},'product_stock':{'$first':_0x29d150(0x180)},'bay':{'$first':_0x29d150(0x1c6)},'bin':{'$first':_0x29d150(0x1d1)},'type':{'$first':_0x29d150(0x197)},'floorlevel':{'$first':_0x29d150(0x1d9)},'primary_code':{'$first':_0x29d150(0x187)},'secondary_code':{'$first':_0x29d150(0x1ba)},'product_code':{'$first':_0x29d150(0x1e0)},'storage':{'$first':_0x29d150(0x1f8)},'rack':{'$first':_0x29d150(0x188)}}}]);warehouse_data=await warehouse[_0x29d150(0x1de)]([{'$match':{'status':_0x29d150(0x17b),'name':_0x29d150(0x1f3),'warehouse_category':_0x29d150(0x1c8)}},{'$group':{'_id':_0x29d150(0x1ec),'name':{'$first':_0x29d150(0x1ec)}}},{'$sort':{'name':0x1}}]),console[_0x29d150(0x1b4)](_0x29d150(0x1be),_0x848e69);if(_0x454acc[0x0][_0x29d150(0x17d)]==_0x29d150(0x195)){var _0x274141=users[_0x29d150(0x1c4)];console[_0x29d150(0x1b4)](_0x274141);}else{if(_0x454acc[0x0][_0x29d150(0x17d)]==_0x29d150(0x19b))var _0x274141=users[_0x29d150(0x19b)];else{if(_0x454acc[0x0][_0x29d150(0x17d)]==_0x29d150(0x190))var _0x274141=users[_0x29d150(0x190)];else{if(_0x454acc[0x0][_0x29d150(0x17d)]==_0x29d150(0x1f7))var _0x274141=users['Spanish'];else{if(_0x454acc[0x0]['language']=='French')var _0x274141=users['French'];else{if(_0x454acc[0x0][_0x29d150(0x17d)]==_0x29d150(0x1ca))var _0x274141=users[_0x29d150(0x1bb)];else{if(_0x454acc[0x0][_0x29d150(0x17d)]==_0x29d150(0x1b0))var _0x274141=users['Chinese'];else{if(_0x454acc[0x0][_0x29d150(0x17d)]=='Arabic\x20(ae)')var _0x274141=users[_0x29d150(0x1c0)];}}}}}}}_0x297f59[_0x29d150(0x1f5)](_0x29d150(0x1b1),{'success':_0x58e3ba[_0x29d150(0x1ef)]('success'),'errors':_0x58e3ba[_0x29d150(0x1ef)](_0x29d150(0x1f9)),'role':_0x17c021,'master_shop':_0x454acc,'profile':_0x3d8103,'user':_0x439bc3,'stock':_0x848e69,'product':_0x5d1cb5,'language':_0x274141,'warehouse':warehouse_data});}catch(_0x4d95e1){console['log'](_0x4d95e1);}}),router[a0_0x2ce218(0x1d2)](a0_0x2ce218(0x18c),auth,async(_0x8e1a,_0x182346)=>{var _0x295b4e=a0_0x2ce218;try{const _0xcf9637=_0x8e1a[_0x295b4e(0x1b3)]['id'];console[_0x295b4e(0x1b4)](_0xcf9637);const _0x342573=await purchases_return[_0x295b4e(0x1c9)]({'invoice':_0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x191)]});console[_0x295b4e(0x1b4)](_0x295b4e(0x1aa),_0x342573);const _0x526df4=await warehouse['findOne']({'name':_0x342573[_0x295b4e(0x1ee)],'room':_0x342573['to_room']});console['log'](_0x295b4e(0x1a0),_0x526df4);const {invoice:_0x66eef6,suppliers:_0x2d0407,date:_0x5994e2,warehouse_name:_0x4fbdae,product_name:_0x4e865f,purchase_quantity:_0x4b4713,stocks:_0xd5d1f3,return_qty:_0x18be15,note:_0xc6f1d3,Room_name:_0x321f9b,level:_0x4038e0,isle:_0x3a47f0,pallet:_0x1a4372,to_warehouse_name:_0x405844,to_Room_name:_0x4320ac}=_0x8e1a[_0x295b4e(0x1cb)];if(typeof _0x4e865f==_0x295b4e(0x179))var _0x483b7a=[_0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x1df)]],_0x3871d5=[_0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x198)]],_0x2277c8=[_0x8e1a[_0x295b4e(0x1cb)]['stocks']],_0x3d7168=[_0x8e1a['body'][_0x295b4e(0x1bd)]],_0x5b5478=[_0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x189)]],_0x481491=[_0x8e1a['body']['isle']],_0x3d7011=[_0x8e1a['body']['pallet']],_0x2854fd=[_0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x18d)]],_0x57a3f1=[_0x8e1a['body'][_0x295b4e(0x1e6)]],_0x139988=[_0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x1c1)]],_0x4aaa86=[_0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x1a2)]];else var _0x483b7a=[..._0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x1df)]],_0x3871d5=[..._0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x198)]],_0x2277c8=[..._0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x17e)]],_0x3d7168=[..._0x8e1a['body']['return_qty']],_0x5b5478=[..._0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x189)]],_0x481491=[..._0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x1bf)]],_0x3d7011=[..._0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x1b2)]],_0x57a3f1=[..._0x8e1a[_0x295b4e(0x1cb)]['product_code_hide']],_0x139988=[..._0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x1c1)]],_0x4aaa86=[..._0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x1a2)]],_0x2854fd=[..._0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x18d)]];const _0x39b0ac=_0x483b7a[_0x295b4e(0x1fc)](_0x5e24d7=>{return _0x5e24d7={'product_name':_0x5e24d7};});_0x3871d5['forEach']((_0x122228,_0x57123d)=>{var _0x12cbb4=_0x295b4e;_0x39b0ac[_0x57123d][_0x12cbb4(0x198)]=_0x122228;}),_0x2277c8[_0x295b4e(0x1cc)]((_0x40ec14,_0x1374cf)=>{_0x39b0ac[_0x1374cf]['stock_quantity']=_0x40ec14;}),_0x3d7168[_0x295b4e(0x1cc)]((_0x1663d5,_0x511566)=>{var _0x4f9705=_0x295b4e;_0x39b0ac[_0x511566][_0x4f9705(0x1bd)]=_0x1663d5;}),_0x5b5478['forEach']((_0x63e5b8,_0x12f97c)=>{var _0x2c65f4=_0x295b4e;_0x39b0ac[_0x12f97c][_0x2c65f4(0x1bc)]=_0x63e5b8;}),_0x481491[_0x295b4e(0x1cc)]((_0x17325b,_0x1c1bd9)=>{var _0x2530e3=_0x295b4e;_0x39b0ac[_0x1c1bd9][_0x2530e3(0x1f0)]=_0x17325b;}),_0x3d7011['forEach']((_0x5ece69,_0x375a9e)=>{var _0x156191=_0x295b4e;_0x39b0ac[_0x375a9e][_0x156191(0x1e7)]=_0x5ece69;}),_0x57a3f1[_0x295b4e(0x1cc)]((_0x5c0d6d,_0x443d17)=>{var _0x300cf4=_0x295b4e;_0x39b0ac[_0x443d17][_0x300cf4(0x1b6)]=_0x5c0d6d;}),_0x139988[_0x295b4e(0x1cc)]((_0x158e09,_0x1d2602)=>{var _0x47c5af=_0x295b4e;_0x39b0ac[_0x1d2602][_0x47c5af(0x1f1)]=_0x158e09;}),_0x4aaa86[_0x295b4e(0x1cc)]((_0x3d2f4b,_0x260112)=>{var _0x128e9d=_0x295b4e;_0x39b0ac[_0x260112][_0x128e9d(0x1af)]=_0x3d2f4b;}),_0x2854fd[_0x295b4e(0x1cc)]((_0x483a9e,_0x55d1d1)=>{var _0x31774d=_0x295b4e;_0x39b0ac[_0x55d1d1][_0x31774d(0x1ff)]=_0x483a9e;});var _0x11dd39=0x0;_0x39b0ac[_0x295b4e(0x1cc)](_0x39a898=>{var _0x236339=_0x295b4e;console[_0x236339(0x1b4)]('foreach\x20newproduct',_0x39a898),(parseInt(_0x39a898[_0x236339(0x198)])<parseInt(_0x39a898[_0x236339(0x1bd)])||parseInt(_0x39a898[_0x236339(0x18b)])<parseInt(_0x39a898['return_qty'])||parseInt(_0x39a898[_0x236339(0x1bd)])==0x0)&&_0x11dd39++;});if(_0x11dd39!=0x0)return _0x8e1a['flash'](_0x295b4e(0x1f9),_0x295b4e(0x1f4)),_0x182346[_0x295b4e(0x1a9)](_0x295b4e(0x1c2));_0x342573[_0x295b4e(0x1cf)][_0x295b4e(0x1cc)](_0x131a1c=>{var _0x4bcf35=_0x295b4e;const _0x10ea7f=_0x526df4['product_details'][_0x4bcf35(0x1fc)](_0x531212=>{var _0x2f1d78=_0x4bcf35;_0x531212[_0x2f1d78(0x1df)]==_0x131a1c[_0x2f1d78(0x1df)]&&_0x531212[_0x2f1d78(0x1e7)]==_0x131a1c[_0x2f1d78(0x1e7)]&&_0x531212['type']==_0x131a1c[_0x2f1d78(0x1ff)]&&_0x531212[_0x2f1d78(0x1f0)]==_0x131a1c['bin']&&_0x531212['bay']==_0x131a1c[_0x2f1d78(0x1bc)]&&(_0x531212[_0x2f1d78(0x17c)]=parseInt(_0x531212['product_stock'])+parseInt(_0x131a1c['return_qty']));});}),console[_0x295b4e(0x1b4)]('old_warehouse_data',_0x526df4),await _0x526df4[_0x295b4e(0x184)](),_0x342573[_0x295b4e(0x191)]=_0x66eef6,_0x342573[_0x295b4e(0x192)]=_0x2d0407,_0x342573['date']=_0x5994e2,_0x342573['warehouse_name']=_0x4fbdae,_0x342573[_0x295b4e(0x1cf)]=_0x39b0ac,_0x342573[_0x295b4e(0x1d6)]=_0xc6f1d3,_0x342573[_0x295b4e(0x1cd)]=_0x321f9b,_0x342573[_0x295b4e(0x1ee)]=_0x405844,_0x342573[_0x295b4e(0x1ad)]=_0x4320ac;const _0x5757c1=await _0x342573[_0x295b4e(0x184)](),_0x28a5c7=await purchases_return['findOne']({'invoice':_0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x191)]}),_0x5b6785=await warehouse[_0x295b4e(0x1c9)]({'name':_0x8e1a['body']['to_warehouse_name'],'room':_0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x1a5)]});_0x28a5c7['return_product'][_0x295b4e(0x1cc)](_0x405729=>{var _0x145a5a=_0x295b4e;_0x5b6785[_0x145a5a(0x1fd)][_0x145a5a(0x1fc)](_0xf93246=>{var _0x5851db=_0x145a5a;_0xf93246[_0x5851db(0x1df)]==_0x405729[_0x5851db(0x1df)]&&_0xf93246[_0x5851db(0x1b2)]==_0x405729[_0x5851db(0x1b2)]&&(_0xf93246[_0x5851db(0x17c)]=parseInt(_0xf93246['product_stock'])-parseInt(_0x405729['return_qty']),console['log'](_0x5851db(0x1a4),_0x405729['return_qty']));});}),console['log'](_0x295b4e(0x1a8),_0x5b6785),await _0x5b6785[_0x295b4e(0x184)]();const _0x5a0f71=await s_payment_data[_0x295b4e(0x1c9)]({'invoice':_0x8e1a[_0x295b4e(0x1cb)][_0x295b4e(0x191)],'reason':'Purchase\x20Return'});await _0x5a0f71[_0x295b4e(0x184)](),_0x8e1a[_0x295b4e(0x1ef)](_0x295b4e(0x1fe),_0x295b4e(0x196)),_0x182346[_0x295b4e(0x1a9)](_0x295b4e(0x1dd));}catch(_0x17aca2){console[_0x295b4e(0x1b4)](_0x17aca2),_0x182346[_0x295b4e(0x1f6)](0xc8)[_0x295b4e(0x193)]({'message':_0x17aca2['message']});}}),router['get'](a0_0x2ce218(0x1b7),auth,async(_0x43833d,_0x536c30)=>{var _0x28fa6e=a0_0x2ce218;try{const {username:_0x197815,email:_0x13222f,role:_0x1601b1}=_0x43833d[_0x28fa6e(0x18e)],_0x2e7948=_0x43833d[_0x28fa6e(0x18e)],_0x14131b=await profile[_0x28fa6e(0x1c9)]({'email':_0x2e7948[_0x28fa6e(0x1d8)]}),_0x3ff877=await master_shop[_0x28fa6e(0x1fa)]();console['log']('master',_0x3ff877);const _0x5ac521=_0x43833d[_0x28fa6e(0x1b3)]['id'],_0x5b2a61=await purchases_return[_0x28fa6e(0x199)](_0x5ac521);console[_0x28fa6e(0x1b4)](_0x5b2a61);const _0x25384f=await suppliers['findOne']({'name':_0x5b2a61[_0x28fa6e(0x192)]});console['log'](_0x25384f);if(_0x3ff877[0x0][_0x28fa6e(0x17d)]=='English\x20(US)'){var _0xa621ff=users[_0x28fa6e(0x1c4)];console[_0x28fa6e(0x1b4)](_0xa621ff);}else{if(_0x3ff877[0x0][_0x28fa6e(0x17d)]==_0x28fa6e(0x19b))var _0xa621ff=users[_0x28fa6e(0x19b)];else{if(_0x3ff877[0x0][_0x28fa6e(0x17d)]==_0x28fa6e(0x190))var _0xa621ff=users[_0x28fa6e(0x190)];else{if(_0x3ff877[0x0][_0x28fa6e(0x17d)]==_0x28fa6e(0x1f7))var _0xa621ff=users[_0x28fa6e(0x1f7)];else{if(_0x3ff877[0x0][_0x28fa6e(0x17d)]==_0x28fa6e(0x1b5))var _0xa621ff=users[_0x28fa6e(0x1b5)];else{if(_0x3ff877[0x0][_0x28fa6e(0x17d)]=='Portuguese\x20(BR)')var _0xa621ff=users[_0x28fa6e(0x1bb)];else{if(_0x3ff877[0x0]['language']==_0x28fa6e(0x1b0))var _0xa621ff=users[_0x28fa6e(0x1b0)];else{if(_0x3ff877[0x0]['language']==_0x28fa6e(0x1e4))var _0xa621ff=users['Arabic'];}}}}}}}_0x536c30[_0x28fa6e(0x1f5)](_0x28fa6e(0x1ac),{'success':_0x43833d[_0x28fa6e(0x1ef)](_0x28fa6e(0x1fe)),'errors':_0x43833d[_0x28fa6e(0x1ef)](_0x28fa6e(0x1f9)),'role':_0x2e7948,'profile':_0x14131b,'master_shop':_0x3ff877,'supplier':_0x25384f,'purchase':_0x5b2a61,'language':_0xa621ff});}catch(_0x53f3de){console[_0x28fa6e(0x1b4)](_0x53f3de);}}),router[a0_0x2ce218(0x1d2)](a0_0x2ce218(0x1e9),auth,async(_0x1c48d1,_0x199519)=>{var _0x347481=a0_0x2ce218;try{const _0x4e6c03=_0x1c48d1[_0x347481(0x1b3)]['id'],{invoice:_0x19037c,suppliers:_0x30b7dc,receivable_amount:_0xe53ef2,received_amount:_0x253f89}=_0x1c48d1['body'],_0x3fba1c=await purchases_return[_0x347481(0x199)](_0x4e6c03);console['log'](_0x3fba1c);var _0xb7eea6=_0xe53ef2-_0x253f89;console[_0x347481(0x1b4)](_0x253f89),_0x3fba1c['received']=parseFloat(_0x253f89)+parseFloat(_0x3fba1c[_0x347481(0x19e)]),_0x3fba1c[_0x347481(0x1ed)]=_0xb7eea6,console[_0x347481(0x1b4)](_0x3fba1c);const _0x3e2ada=await _0x3fba1c[_0x347481(0x184)](),_0x4363e0=await s_payment_data[_0x347481(0x1c9)]({'invoice':_0x1c48d1[_0x347481(0x1cb)]['invoice'],'reason':_0x347481(0x1e2)});_0x4363e0[_0x347481(0x178)]=_0xb7eea6,await _0x4363e0[_0x347481(0x184)]();let _0x325670=new Date(),_0x472f3b=('0'+_0x325670[_0x347481(0x19f)]())[_0x347481(0x17a)](-0x2),_0x1430bd=('0'+(_0x325670[_0x347481(0x1c3)]()+0x1))[_0x347481(0x17a)](-0x2),_0x12fb1a=_0x325670['getFullYear'](),_0x218d5b=_0x12fb1a+'-'+_0x1430bd+'-'+_0x472f3b;const _0x1e5008=new suppliers_payment({'invoice':_0x19037c,'date':_0x12fb1a+'-'+_0x1430bd+'-'+_0x472f3b,'suppliers':_0x30b7dc,'reason':_0x347481(0x1d3),'amount':_0x253f89}),_0x4c7f02=await _0x1e5008[_0x347481(0x184)]();_0x1c48d1[_0x347481(0x1ef)]('success','payment\x20successfull'),_0x199519[_0x347481(0x1a9)](_0x347481(0x1dd));}catch(_0x5948da){console[_0x347481(0x1b4)](_0x5948da);}}),module[a0_0x2ce218(0x1b8)]=router;