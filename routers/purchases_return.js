function a0_0x4a52(_0x2b774f,_0x20e0f4){var _0x55dfce=a0_0x55df();return a0_0x4a52=function(_0x4a52e2,_0x4139dd){_0x4a52e2=_0x4a52e2-0x179;var _0x556c27=_0x55dfce[_0x4a52e2];return _0x556c27;},a0_0x4a52(_0x2b774f,_0x20e0f4);}var a0_0x28b95b=a0_0x4a52;function a0_0x55df(){var _0x58ee56=['aggregate','English\x20(US)','/purchases_return/view','return_purchase_edit','German','redirect','exports','final','1601648GKQmzJ','/invoice/:id','to_room','forEach','name','product_code','product_stock','Raw\x20Materials','primary_code','18428031DJimCq','1WDJYAv','room','Portuguese\x20(BR)','$product_details.bay','findById','product_details.return_qtyproduct_details.return_qty','241115TyATXs','/receive_payment/:id','json','Arabic\x20(ae)','$received','/view/:id','invoice','product_code_hide','purchase_quantity','return_qty','types','to_Room_name','message','floorlevel','get','stocks','warehouse_name','getDate','to_warehouse_name','../middleware/auth','English','Portuguese','foreach\x20newproduct','/view','level','$product_details.primary_code','find','note','$product_details.secondary_code','$return_product','$return_product.return_qty','Hindi','$date','$product_details.type','3225085IaQxNt','flash','render','$product_details.floorlevel','purchase\x20return\x20successfully','product_name','slice','due_amount','map','user','Arabic','293934AsDxgA','$product_details._id','old_warehouse_data','master','primary_code_hide','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','$supplier_docs','779344BbfsLx','received','114PdUpxg','$supplier_docs.mobile','bay','email','secondary_code_hide','$product_details.rack','stock_quantity','payment\x20successfull','Chinese','$suppliers','findOne','$supplier_docs.email','suppliers','Purchase\x20Return','2019696ElWqbF','return_purchase_invoice','$invoice','$product_details.product_code','Received\x20For\x20Purchase\x20Return','getMonth','express','$supplier_docs.address','date','$product_details.product_name','Router','../models/all_models','save','stock_data','body','isle','back','product_details','errors','bin','post','$note','type','$receivable','language','$name','Return\x20Goods','pallet','supplier_docs','Enabled','$product_details.product_stock','return_product','success','params','../public/language/languages.json','$product_details','$total_amount','Spanish','$return_product.product_name','string','French','log'];a0_0x55df=function(){return _0x58ee56;};return a0_0x55df();}(function(_0x3f4d39,_0x22632a){var _0x3fae4a=a0_0x4a52,_0x254973=_0x3f4d39();while(!![]){try{var _0x3fdbaf=parseInt(_0x3fae4a(0x1e6))/0x1*(parseInt(_0x3fae4a(0x193))/0x2)+parseInt(_0x3fae4a(0x1aa))/0x3+parseInt(_0x3fae4a(0x1dc))/0x4+parseInt(_0x3fae4a(0x188))/0x5+-parseInt(_0x3fae4a(0x19c))/0x6*(-parseInt(_0x3fae4a(0x1ec))/0x7)+-parseInt(_0x3fae4a(0x19a))/0x8+-parseInt(_0x3fae4a(0x1e5))/0x9;if(_0x3fdbaf===_0x22632a)break;else _0x254973['push'](_0x254973['shift']());}catch(_0x323c2d){_0x254973['push'](_0x254973['shift']());}}}(a0_0x55df,0x5b942));const express=require(a0_0x28b95b(0x1b0)),app=express(),router=express[a0_0x28b95b(0x1b4)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x28b95b(0x1b5)),auth=require(a0_0x28b95b(0x179)),users=require(a0_0x28b95b(0x1cc));router[a0_0x28b95b(0x1fa)](a0_0x28b95b(0x17d),auth,async(_0x36c7d8,_0x4ac3ff)=>{var _0x1d25f6=a0_0x28b95b;try{const {username:_0x481ab1,email:_0x548afd,role:_0x1b0ca6}=_0x36c7d8['user'],_0x3be698=_0x36c7d8[_0x1d25f6(0x191)],_0x276421=await profile[_0x1d25f6(0x1a6)]({'email':_0x3be698[_0x1d25f6(0x19f)]}),_0x29b20e=await master_shop[_0x1d25f6(0x180)]();console[_0x1d25f6(0x1d3)](_0x1d25f6(0x196),_0x29b20e);const _0x15f1b8=await purchases_return[_0x1d25f6(0x1d4)]([{'$lookup':{'from':_0x1d25f6(0x1a8),'localField':'suppliers','foreignField':_0x1d25f6(0x1e0),'as':_0x1d25f6(0x1c6)}},{'$unwind':_0x1d25f6(0x183)},{'$unwind':_0x1d25f6(0x199)},{'$group':{'_id':'$_id','invoice':{'$first':_0x1d25f6(0x1ac)},'date':{'$first':_0x1d25f6(0x186)},'suppliers':{'$first':_0x1d25f6(0x1a5)},'warehouse_name':{'$first':'$warehouse_name'},'product_name':{'$first':_0x1d25f6(0x1d0)},'return_qty':{'$first':_0x1d25f6(0x184)},'price':{'$first':'$return_product.price'},'total':{'$sum':'$return_product.total'},'note':{'$first':_0x1d25f6(0x1bf)},'total_amount':{'$first':_0x1d25f6(0x1ce)},'discount':{'$first':'$discount'},'receivable':{'$first':_0x1d25f6(0x1c1)},'received':{'$first':_0x1d25f6(0x1f0)},'due_amount':{'$first':'$due_amount'},'mobile':{'$first':_0x1d25f6(0x19d)},'email':{'$first':_0x1d25f6(0x1a7)},'address':{'$first':_0x1d25f6(0x1b1)},'return_sum_qty':{'$sum':_0x1d25f6(0x184)}}}]);console[_0x1d25f6(0x1d3)](_0x15f1b8);if(_0x29b20e[0x0][_0x1d25f6(0x1c2)]=='English\x20(US)'){var _0x114d9f=users[_0x1d25f6(0x17a)];console[_0x1d25f6(0x1d3)](_0x114d9f);}else{if(_0x29b20e[0x0][_0x1d25f6(0x1c2)]==_0x1d25f6(0x185))var _0x114d9f=users[_0x1d25f6(0x185)];else{if(_0x29b20e[0x0][_0x1d25f6(0x1c2)]=='German')var _0x114d9f=users[_0x1d25f6(0x1d8)];else{if(_0x29b20e[0x0][_0x1d25f6(0x1c2)]==_0x1d25f6(0x1cf))var _0x114d9f=users[_0x1d25f6(0x1cf)];else{if(_0x29b20e[0x0]['language']==_0x1d25f6(0x1d2))var _0x114d9f=users[_0x1d25f6(0x1d2)];else{if(_0x29b20e[0x0]['language']=='Portuguese\x20(BR)')var _0x114d9f=users[_0x1d25f6(0x17b)];else{if(_0x29b20e[0x0][_0x1d25f6(0x1c2)]==_0x1d25f6(0x1a4))var _0x114d9f=users[_0x1d25f6(0x1a4)];else{if(_0x29b20e[0x0][_0x1d25f6(0x1c2)]==_0x1d25f6(0x1ef))var _0x114d9f=users['Arabic'];}}}}}}}_0x4ac3ff['render']('purchases_return',{'success':_0x36c7d8['flash'](_0x1d25f6(0x1ca)),'errors':_0x36c7d8[_0x1d25f6(0x189)](_0x1d25f6(0x1bc)),'role':_0x3be698,'profile':_0x276421,'master_shop':_0x29b20e,'user':_0x15f1b8,'language':_0x114d9f});}catch(_0xab6079){console[_0x1d25f6(0x1d3)](_0xab6079);}}),router[a0_0x28b95b(0x1fa)](a0_0x28b95b(0x1f1),auth,async(_0x22853d,_0x2bf90d)=>{var _0x2ab17d=a0_0x28b95b;try{const {username:_0x5ba3d2,email:_0x4e4910,role:_0x2d29f5}=_0x22853d[_0x2ab17d(0x191)],_0x393178=_0x22853d[_0x2ab17d(0x191)],_0x59b6c6=await profile[_0x2ab17d(0x1a6)]({'email':_0x393178['email']}),_0x154f9f=await product[_0x2ab17d(0x180)]({}),_0x29e5d5=await master_shop[_0x2ab17d(0x180)]();console['log'](_0x2ab17d(0x196),_0x29e5d5),console[_0x2ab17d(0x1d3)](_0x22853d[_0x2ab17d(0x1b8)]);const _0x10d84b=_0x22853d[_0x2ab17d(0x1cb)]['id'],_0x94794b=await purchases_return[_0x2ab17d(0x1ea)](_0x10d84b);console['log'](_0x94794b);const _0x548522=await warehouse[_0x2ab17d(0x1d4)]([{'$match':{'name':_0x94794b[_0x2ab17d(0x1fc)],'room':_0x94794b[_0x2ab17d(0x1e7)]}},{'$unwind':_0x2ab17d(0x1cd)},{'$group':{'_id':_0x2ab17d(0x194),'name':{'$first':_0x2ab17d(0x1b3)},'product_stock':{'$first':_0x2ab17d(0x1c8)},'bay':{'$first':_0x2ab17d(0x1e9)},'bin':{'$first':'$product_details.bin'},'type':{'$first':_0x2ab17d(0x187)},'floorlevel':{'$first':_0x2ab17d(0x18b)},'primary_code':{'$first':_0x2ab17d(0x17f)},'secondary_code':{'$first':_0x2ab17d(0x182)},'product_code':{'$first':_0x2ab17d(0x1ad)},'storage':{'$first':'$product_details.storage'},'rack':{'$first':_0x2ab17d(0x1a1)}}}]);warehouse_data=await warehouse[_0x2ab17d(0x1d4)]([{'$match':{'status':_0x2ab17d(0x1c7),'name':_0x2ab17d(0x1c4),'warehouse_category':_0x2ab17d(0x1e3)}},{'$group':{'_id':_0x2ab17d(0x1c3),'name':{'$first':_0x2ab17d(0x1c3)}}},{'$sort':{'name':0x1}}]),console[_0x2ab17d(0x1d3)](_0x2ab17d(0x1b7),_0x548522);if(_0x29e5d5[0x0][_0x2ab17d(0x1c2)]==_0x2ab17d(0x1d5)){var _0x854002=users[_0x2ab17d(0x17a)];console['log'](_0x854002);}else{if(_0x29e5d5[0x0][_0x2ab17d(0x1c2)]==_0x2ab17d(0x185))var _0x854002=users[_0x2ab17d(0x185)];else{if(_0x29e5d5[0x0][_0x2ab17d(0x1c2)]==_0x2ab17d(0x1d8))var _0x854002=users[_0x2ab17d(0x1d8)];else{if(_0x29e5d5[0x0][_0x2ab17d(0x1c2)]==_0x2ab17d(0x1cf))var _0x854002=users[_0x2ab17d(0x1cf)];else{if(_0x29e5d5[0x0]['language']==_0x2ab17d(0x1d2))var _0x854002=users['French'];else{if(_0x29e5d5[0x0][_0x2ab17d(0x1c2)]==_0x2ab17d(0x1e8))var _0x854002=users[_0x2ab17d(0x17b)];else{if(_0x29e5d5[0x0][_0x2ab17d(0x1c2)]==_0x2ab17d(0x1a4))var _0x854002=users[_0x2ab17d(0x1a4)];else{if(_0x29e5d5[0x0][_0x2ab17d(0x1c2)]==_0x2ab17d(0x1ef))var _0x854002=users[_0x2ab17d(0x192)];}}}}}}}_0x2bf90d[_0x2ab17d(0x18a)](_0x2ab17d(0x1d7),{'success':_0x22853d[_0x2ab17d(0x189)](_0x2ab17d(0x1ca)),'errors':_0x22853d[_0x2ab17d(0x189)](_0x2ab17d(0x1bc)),'role':_0x393178,'master_shop':_0x29e5d5,'profile':_0x59b6c6,'user':_0x94794b,'stock':_0x548522,'product':_0x154f9f,'language':_0x854002,'warehouse':warehouse_data});}catch(_0x6bebd0){console['log'](_0x6bebd0);}}),router[a0_0x28b95b(0x1be)]('/view/:id',auth,async(_0x814c43,_0x23503e)=>{var _0x307ef1=a0_0x28b95b;try{const _0x58ff73=_0x814c43[_0x307ef1(0x1cb)]['id'];console[_0x307ef1(0x1d3)](_0x58ff73);const _0x4af679=await purchases_return[_0x307ef1(0x1a6)]({'invoice':_0x814c43[_0x307ef1(0x1b8)][_0x307ef1(0x1f2)]});console['log']('old_data',_0x4af679);const _0x521c13=await warehouse[_0x307ef1(0x1a6)]({'name':_0x4af679[_0x307ef1(0x1fe)],'room':_0x4af679[_0x307ef1(0x1de)]});console[_0x307ef1(0x1d3)]('old_warehouse_data',_0x521c13);const {invoice:_0x2dabfc,suppliers:_0xe303a4,date:_0x223f3a,warehouse_name:_0x54a165,product_name:_0x1c0aba,purchase_quantity:_0xcd3b8a,stocks:_0x47eb4a,return_qty:_0x1c2cb8,note:_0x32bfec,Room_name:_0x27ac53,level:_0x1e73c0,isle:_0x12b452,pallet:_0x2c4059,to_warehouse_name:_0x3467fe,to_Room_name:_0x3252fd}=_0x814c43[_0x307ef1(0x1b8)];if(typeof _0x1c0aba==_0x307ef1(0x1d1))var _0x2af957=[_0x814c43[_0x307ef1(0x1b8)]['product_name']],_0x18a256=[_0x814c43['body'][_0x307ef1(0x1f4)]],_0x4d6941=[_0x814c43['body'][_0x307ef1(0x1fb)]],_0x50cb73=[_0x814c43[_0x307ef1(0x1b8)][_0x307ef1(0x1f5)]],_0x44039e=[_0x814c43[_0x307ef1(0x1b8)][_0x307ef1(0x17e)]],_0x433dc2=[_0x814c43[_0x307ef1(0x1b8)][_0x307ef1(0x1b9)]],_0x33a73d=[_0x814c43['body']['pallet']],_0x17d526=[_0x814c43[_0x307ef1(0x1b8)][_0x307ef1(0x1f6)]],_0x51223e=[_0x814c43['body'][_0x307ef1(0x1f3)]],_0x25baee=[_0x814c43['body']['primary_code_hide']],_0x5d9705=[_0x814c43['body'][_0x307ef1(0x1a0)]];else var _0x2af957=[..._0x814c43['body'][_0x307ef1(0x18d)]],_0x18a256=[..._0x814c43['body'][_0x307ef1(0x1f4)]],_0x4d6941=[..._0x814c43[_0x307ef1(0x1b8)][_0x307ef1(0x1fb)]],_0x50cb73=[..._0x814c43['body'][_0x307ef1(0x1f5)]],_0x44039e=[..._0x814c43['body']['level']],_0x433dc2=[..._0x814c43[_0x307ef1(0x1b8)][_0x307ef1(0x1b9)]],_0x33a73d=[..._0x814c43[_0x307ef1(0x1b8)][_0x307ef1(0x1c5)]],_0x51223e=[..._0x814c43['body'][_0x307ef1(0x1f3)]],_0x25baee=[..._0x814c43[_0x307ef1(0x1b8)][_0x307ef1(0x197)]],_0x5d9705=[..._0x814c43[_0x307ef1(0x1b8)][_0x307ef1(0x1a0)]],_0x17d526=[..._0x814c43['body'][_0x307ef1(0x1f6)]];const _0x14ce01=_0x2af957[_0x307ef1(0x190)](_0x2355bb=>{return _0x2355bb={'product_name':_0x2355bb};});_0x18a256[_0x307ef1(0x1df)]((_0x417b8f,_0x37eb2c)=>{_0x14ce01[_0x37eb2c]['purchase_quantity']=_0x417b8f;}),_0x4d6941[_0x307ef1(0x1df)]((_0x4e6325,_0x5dee52)=>{var _0x4c07ee=_0x307ef1;_0x14ce01[_0x5dee52][_0x4c07ee(0x1a2)]=_0x4e6325;}),_0x50cb73[_0x307ef1(0x1df)]((_0x1e1fab,_0x5e70ec)=>{var _0x3fb885=_0x307ef1;_0x14ce01[_0x5e70ec][_0x3fb885(0x1f5)]=_0x1e1fab;}),_0x44039e[_0x307ef1(0x1df)]((_0x2317e9,_0x30f172)=>{var _0x4ac6b0=_0x307ef1;_0x14ce01[_0x30f172][_0x4ac6b0(0x19e)]=_0x2317e9;}),_0x433dc2[_0x307ef1(0x1df)]((_0x57c993,_0x5c8ab7)=>{var _0x10bf1f=_0x307ef1;_0x14ce01[_0x5c8ab7][_0x10bf1f(0x1bd)]=_0x57c993;}),_0x33a73d[_0x307ef1(0x1df)]((_0x5531b4,_0x3557ce)=>{_0x14ce01[_0x3557ce]['floorlevel']=_0x5531b4;}),_0x51223e[_0x307ef1(0x1df)]((_0x1ce69d,_0x54e26f)=>{var _0x18ea5d=_0x307ef1;_0x14ce01[_0x54e26f][_0x18ea5d(0x1e1)]=_0x1ce69d;}),_0x25baee['forEach']((_0x27577c,_0x2f3a53)=>{var _0x532aac=_0x307ef1;_0x14ce01[_0x2f3a53][_0x532aac(0x1e4)]=_0x27577c;}),_0x5d9705['forEach']((_0x2de2b2,_0x34ef94)=>{_0x14ce01[_0x34ef94]['secondary_code']=_0x2de2b2;}),_0x17d526[_0x307ef1(0x1df)]((_0x4c741c,_0x4e7870)=>{var _0x222765=_0x307ef1;_0x14ce01[_0x4e7870][_0x222765(0x1c0)]=_0x4c741c;});var _0x241cd0=0x0;_0x14ce01['forEach'](_0x33c030=>{var _0x1194e7=_0x307ef1;console['log'](_0x1194e7(0x17c),_0x33c030),(parseInt(_0x33c030[_0x1194e7(0x1f4)])<parseInt(_0x33c030[_0x1194e7(0x1f5)])||parseInt(_0x33c030[_0x1194e7(0x1a2)])<parseInt(_0x33c030[_0x1194e7(0x1f5)])||parseInt(_0x33c030['return_qty'])==0x0)&&_0x241cd0++;});if(_0x241cd0!=0x0)return _0x814c43[_0x307ef1(0x189)](_0x307ef1(0x1bc),_0x307ef1(0x198)),_0x23503e[_0x307ef1(0x1d9)](_0x307ef1(0x1ba));_0x4af679[_0x307ef1(0x1c9)][_0x307ef1(0x1df)](_0xc47ec2=>{var _0x53f8a9=_0x307ef1;const _0x2de332=_0x521c13[_0x53f8a9(0x1bb)][_0x53f8a9(0x190)](_0x16c93c=>{var _0x12e6ef=_0x53f8a9;_0x16c93c['product_name']==_0xc47ec2[_0x12e6ef(0x18d)]&&_0x16c93c['floorlevel']==_0xc47ec2[_0x12e6ef(0x1f9)]&&_0x16c93c[_0x12e6ef(0x1c0)]==_0xc47ec2['type']&&_0x16c93c[_0x12e6ef(0x1bd)]==_0xc47ec2[_0x12e6ef(0x1bd)]&&_0x16c93c['bay']==_0xc47ec2[_0x12e6ef(0x19e)]&&(_0x16c93c[_0x12e6ef(0x1e2)]=parseInt(_0x16c93c['product_stock'])+parseInt(_0xc47ec2[_0x12e6ef(0x1f5)]));});}),console[_0x307ef1(0x1d3)](_0x307ef1(0x195),_0x521c13),await _0x521c13[_0x307ef1(0x1b6)](),_0x4af679[_0x307ef1(0x1f2)]=_0x2dabfc,_0x4af679[_0x307ef1(0x1a8)]=_0xe303a4,_0x4af679[_0x307ef1(0x1b2)]=_0x223f3a,_0x4af679[_0x307ef1(0x1fc)]=_0x54a165,_0x4af679['return_product']=_0x14ce01,_0x4af679[_0x307ef1(0x181)]=_0x32bfec,_0x4af679[_0x307ef1(0x1e7)]=_0x27ac53,_0x4af679[_0x307ef1(0x1fe)]=_0x3467fe,_0x4af679[_0x307ef1(0x1de)]=_0x3252fd;const _0x4877be=await _0x4af679[_0x307ef1(0x1b6)](),_0x545e15=await purchases_return[_0x307ef1(0x1a6)]({'invoice':_0x814c43[_0x307ef1(0x1b8)][_0x307ef1(0x1f2)]}),_0x6ec34f=await warehouse['findOne']({'name':_0x814c43['body'][_0x307ef1(0x1fe)],'room':_0x814c43['body'][_0x307ef1(0x1f7)]});_0x545e15['return_product'][_0x307ef1(0x1df)](_0x717c70=>{var _0x46f297=_0x307ef1;_0x6ec34f[_0x46f297(0x1bb)][_0x46f297(0x190)](_0x4f86ac=>{var _0x41a077=_0x46f297;_0x4f86ac[_0x41a077(0x18d)]==_0x717c70['product_name']&&_0x4f86ac[_0x41a077(0x1c5)]==_0x717c70[_0x41a077(0x1c5)]&&(_0x4f86ac[_0x41a077(0x1e2)]=parseInt(_0x4f86ac['product_stock'])-parseInt(_0x717c70[_0x41a077(0x1f5)]),console['log'](_0x41a077(0x1eb),_0x717c70[_0x41a077(0x1f5)]));});}),console[_0x307ef1(0x1d3)](_0x307ef1(0x1db),_0x6ec34f),await _0x6ec34f[_0x307ef1(0x1b6)]();const _0x5b5ae6=await s_payment_data[_0x307ef1(0x1a6)]({'invoice':_0x814c43[_0x307ef1(0x1b8)][_0x307ef1(0x1f2)],'reason':'Purchase\x20Return'});await _0x5b5ae6[_0x307ef1(0x1b6)](),_0x814c43[_0x307ef1(0x189)]('success',_0x307ef1(0x18c)),_0x23503e[_0x307ef1(0x1d9)]('/purchases_return/view');}catch(_0x504d72){console[_0x307ef1(0x1d3)](_0x504d72),_0x23503e['status'](0xc8)[_0x307ef1(0x1ee)]({'message':_0x504d72[_0x307ef1(0x1f8)]});}}),router['get'](a0_0x28b95b(0x1dd),auth,async(_0x118296,_0x200a04)=>{var _0x2bbada=a0_0x28b95b;try{const {username:_0x37bdc0,email:_0x48b10e,role:_0x5a6523}=_0x118296[_0x2bbada(0x191)],_0x515460=_0x118296[_0x2bbada(0x191)],_0xe72550=await profile[_0x2bbada(0x1a6)]({'email':_0x515460[_0x2bbada(0x19f)]}),_0x3516e9=await master_shop[_0x2bbada(0x180)]();console[_0x2bbada(0x1d3)](_0x2bbada(0x196),_0x3516e9);const _0xaadb8=_0x118296[_0x2bbada(0x1cb)]['id'],_0x4ac2e8=await purchases_return[_0x2bbada(0x1ea)](_0xaadb8);console[_0x2bbada(0x1d3)](_0x4ac2e8);const _0x4f61d8=await suppliers[_0x2bbada(0x1a6)]({'name':_0x4ac2e8[_0x2bbada(0x1a8)]});console[_0x2bbada(0x1d3)](_0x4f61d8);if(_0x3516e9[0x0][_0x2bbada(0x1c2)]==_0x2bbada(0x1d5)){var _0x42c412=users[_0x2bbada(0x17a)];console[_0x2bbada(0x1d3)](_0x42c412);}else{if(_0x3516e9[0x0][_0x2bbada(0x1c2)]==_0x2bbada(0x185))var _0x42c412=users[_0x2bbada(0x185)];else{if(_0x3516e9[0x0][_0x2bbada(0x1c2)]=='German')var _0x42c412=users[_0x2bbada(0x1d8)];else{if(_0x3516e9[0x0][_0x2bbada(0x1c2)]==_0x2bbada(0x1cf))var _0x42c412=users['Spanish'];else{if(_0x3516e9[0x0]['language']=='French')var _0x42c412=users[_0x2bbada(0x1d2)];else{if(_0x3516e9[0x0][_0x2bbada(0x1c2)]==_0x2bbada(0x1e8))var _0x42c412=users[_0x2bbada(0x17b)];else{if(_0x3516e9[0x0][_0x2bbada(0x1c2)]==_0x2bbada(0x1a4))var _0x42c412=users[_0x2bbada(0x1a4)];else{if(_0x3516e9[0x0][_0x2bbada(0x1c2)]=='Arabic\x20(ae)')var _0x42c412=users[_0x2bbada(0x192)];}}}}}}}_0x200a04['render'](_0x2bbada(0x1ab),{'success':_0x118296[_0x2bbada(0x189)](_0x2bbada(0x1ca)),'errors':_0x118296[_0x2bbada(0x189)](_0x2bbada(0x1bc)),'role':_0x515460,'profile':_0xe72550,'master_shop':_0x3516e9,'supplier':_0x4f61d8,'purchase':_0x4ac2e8,'language':_0x42c412});}catch(_0x49e880){console[_0x2bbada(0x1d3)](_0x49e880);}}),router[a0_0x28b95b(0x1be)](a0_0x28b95b(0x1ed),auth,async(_0x1daf67,_0xc331f8)=>{var _0x1a1d72=a0_0x28b95b;try{const _0x2b77f0=_0x1daf67['params']['id'],{invoice:_0x369ee6,suppliers:_0x547e77,receivable_amount:_0x412dff,received_amount:_0x463129}=_0x1daf67[_0x1a1d72(0x1b8)],_0xadf29b=await purchases_return[_0x1a1d72(0x1ea)](_0x2b77f0);console[_0x1a1d72(0x1d3)](_0xadf29b);var _0x18bcad=_0x412dff-_0x463129;console[_0x1a1d72(0x1d3)](_0x463129),_0xadf29b[_0x1a1d72(0x19b)]=parseFloat(_0x463129)+parseFloat(_0xadf29b[_0x1a1d72(0x19b)]),_0xadf29b[_0x1a1d72(0x18f)]=_0x18bcad,console[_0x1a1d72(0x1d3)](_0xadf29b);const _0x33b997=await _0xadf29b['save'](),_0x567ffd=await s_payment_data['findOne']({'invoice':_0x1daf67[_0x1a1d72(0x1b8)][_0x1a1d72(0x1f2)],'reason':_0x1a1d72(0x1a9)});_0x567ffd['amount']=_0x18bcad,await _0x567ffd[_0x1a1d72(0x1b6)]();let _0x3d10a6=new Date(),_0x1fd1d3=('0'+_0x3d10a6[_0x1a1d72(0x1fd)]())['slice'](-0x2),_0x5efe07=('0'+(_0x3d10a6[_0x1a1d72(0x1af)]()+0x1))[_0x1a1d72(0x18e)](-0x2),_0x52b7b0=_0x3d10a6['getFullYear'](),_0xb3981b=_0x52b7b0+'-'+_0x5efe07+'-'+_0x1fd1d3;const _0x5b505a=new suppliers_payment({'invoice':_0x369ee6,'date':_0x52b7b0+'-'+_0x5efe07+'-'+_0x1fd1d3,'suppliers':_0x547e77,'reason':_0x1a1d72(0x1ae),'amount':_0x463129}),_0x54411c=await _0x5b505a['save']();_0x1daf67[_0x1a1d72(0x189)]('success',_0x1a1d72(0x1a3)),_0xc331f8['redirect'](_0x1a1d72(0x1d6));}catch(_0x449e){console[_0x1a1d72(0x1d3)](_0x449e);}}),module[a0_0x28b95b(0x1da)]=router;