function a0_0x5aa7(_0x4f3902,_0xd32c0){var _0xbebd36=a0_0xbebd();return a0_0x5aa7=function(_0x5aa7e5,_0x3ca8fd){_0x5aa7e5=_0x5aa7e5-0x126;var _0x47cf16=_0xbebd36[_0x5aa7e5];return _0x47cf16;},a0_0x5aa7(_0x4f3902,_0xd32c0);}var a0_0x42b954=a0_0x5aa7;function a0_0xbebd(){var _0x5b2a8=['secondary_code','to_Room_name','master','$product_details.product_stock','Raw\x20Materials','Chinese','purchases_return','$due_amount','bin','flash','$product_details.secondary_code','pallet','findById','18ZoKvHK','due_amount','back','/view/:id','stocks','warehouse_name','getMonth','Portuguese','Enabled','English\x20(US)','/view','953835TrRppK','primary_code_hide','primary_code','French','post','$return_product.return_qty','38778xdMnbc','level','types','secondary_code_hide','to_room','getDate','English','$supplier_docs.address','Spanish','$invoice','product_details','message','map','../public/language/languages.json','name','save','$suppliers','$product_details.storage','errors','$product_details.type','7cWuOSe','/invoice/:id','product_code','slice','type','Return\x20Goods','/purchases_return/view','$product_details._id','product_name','$received','render','Arabic\x20(ae)','$product_details.bay','findOne','exports','suppliers','purchase_quantity','$product_details.product_code','body','Router','isle','1zeCicA','old_data','return_purchase_edit','German','forEach','8949825XYUhtA','email','1653564rdDJbx','status','$supplier_docs','$supplier_docs.mobile','return_qty','user','$name','2274120ueQIjV','purchase\x20return\x20successfully','product_details.return_qtyproduct_details.return_qty','return_product','string','product_stock','aggregate','$return_product.product_name','Portuguese\x20(BR)','$product_details.product_name','log','$product_details.bin','Received\x20For\x20Purchase\x20Return','payment\x20successfull','$discount','language','Arabic','success','product_code_hide','json','return_purchase_invoice','params','invoice','received','note','$product_details.floorlevel','$receivable','bay','getFullYear','$return_product.price','stock_quantity','522808OKUVYy','Hindi','$return_product.total','../models/all_models','room','amount','to_warehouse_name','floorlevel','187408UXDzYI','70SBSdZe','find','redirect','$product_details.primary_code'];a0_0xbebd=function(){return _0x5b2a8;};return a0_0xbebd();}(function(_0x1eb570,_0x11baf1){var _0x407a06=a0_0x5aa7,_0x51ee7a=_0x1eb570();while(!![]){try{var _0x218185=parseInt(_0x407a06(0x14b))/0x1*(parseInt(_0x407a06(0x159))/0x2)+parseInt(_0x407a06(0x192))/0x3*(-parseInt(_0x407a06(0x180))/0x4)+-parseInt(_0x407a06(0x19d))/0x5+parseInt(_0x407a06(0x1a3))/0x6*(-parseInt(_0x407a06(0x136))/0x7)+-parseInt(_0x407a06(0x178))/0x8+-parseInt(_0x407a06(0x150))/0x9+-parseInt(_0x407a06(0x181))/0xa*(-parseInt(_0x407a06(0x152))/0xb);if(_0x218185===_0x11baf1)break;else _0x51ee7a['push'](_0x51ee7a['shift']());}catch(_0x917c3){_0x51ee7a['push'](_0x51ee7a['shift']());}}}(a0_0xbebd,0x9efca));const express=require('express'),app=express(),router=express[a0_0x42b954(0x149)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x42b954(0x17b)),auth=require('../middleware/auth'),users=require(a0_0x42b954(0x12f));router['get'](a0_0x42b954(0x19c),auth,async(_0xfb3af0,_0x4094e5)=>{var _0x362738=a0_0x42b954;try{const {username:_0x2497f7,email:_0x2b4c77,role:_0x3efd5b}=_0xfb3af0['user'],_0x3627c1=_0xfb3af0[_0x362738(0x157)],_0x2cbcdf=await profile['findOne']({'email':_0x3627c1['email']}),_0x4029a6=await master_shop['find']();console[_0x362738(0x163)](_0x362738(0x187),_0x4029a6);const _0x4d02d2=await purchases_return['aggregate']([{'$lookup':{'from':_0x362738(0x145),'localField':_0x362738(0x145),'foreignField':_0x362738(0x130),'as':'supplier_docs'}},{'$unwind':'$return_product'},{'$unwind':_0x362738(0x154)},{'$group':{'_id':'$_id','invoice':{'$first':_0x362738(0x12b)},'date':{'$first':'$date'},'suppliers':{'$first':_0x362738(0x132)},'warehouse_name':{'$first':'$warehouse_name'},'product_name':{'$first':_0x362738(0x160)},'return_qty':{'$first':'$return_product.return_qty'},'price':{'$first':_0x362738(0x176)},'total':{'$sum':_0x362738(0x17a)},'note':{'$first':'$note'},'total_amount':{'$first':'$total_amount'},'discount':{'$first':_0x362738(0x167)},'receivable':{'$first':_0x362738(0x173)},'received':{'$first':_0x362738(0x13f)},'due_amount':{'$first':_0x362738(0x18c)},'mobile':{'$first':_0x362738(0x155)},'email':{'$first':'$supplier_docs.email'},'address':{'$first':_0x362738(0x129)},'return_sum_qty':{'$sum':_0x362738(0x1a2)}}}]);console[_0x362738(0x163)](_0x4d02d2);if(_0x4029a6[0x0][_0x362738(0x168)]==_0x362738(0x19b)){var _0x236e10=users[_0x362738(0x128)];console['log'](_0x236e10);}else{if(_0x4029a6[0x0][_0x362738(0x168)]==_0x362738(0x179))var _0x236e10=users[_0x362738(0x179)];else{if(_0x4029a6[0x0][_0x362738(0x168)]=='German')var _0x236e10=users[_0x362738(0x14e)];else{if(_0x4029a6[0x0][_0x362738(0x168)]==_0x362738(0x12a))var _0x236e10=users[_0x362738(0x12a)];else{if(_0x4029a6[0x0][_0x362738(0x168)]==_0x362738(0x1a0))var _0x236e10=users[_0x362738(0x1a0)];else{if(_0x4029a6[0x0][_0x362738(0x168)]==_0x362738(0x161))var _0x236e10=users[_0x362738(0x199)];else{if(_0x4029a6[0x0][_0x362738(0x168)]=='Chinese')var _0x236e10=users[_0x362738(0x18a)];else{if(_0x4029a6[0x0][_0x362738(0x168)]==_0x362738(0x141))var _0x236e10=users['Arabic'];}}}}}}}_0x4094e5[_0x362738(0x140)](_0x362738(0x18b),{'success':_0xfb3af0[_0x362738(0x18e)](_0x362738(0x16a)),'errors':_0xfb3af0['flash']('errors'),'role':_0x3627c1,'profile':_0x2cbcdf,'master_shop':_0x4029a6,'user':_0x4d02d2,'language':_0x236e10});}catch(_0x2d8eb9){console['log'](_0x2d8eb9);}}),router['get'](a0_0x42b954(0x195),auth,async(_0x2a9a86,_0x436a42)=>{var _0x1aef3b=a0_0x42b954;try{const {username:_0xc3fd80,email:_0x10619a,role:_0x3585b9}=_0x2a9a86[_0x1aef3b(0x157)],_0x478cc6=_0x2a9a86[_0x1aef3b(0x157)],_0x110f4e=await profile[_0x1aef3b(0x143)]({'email':_0x478cc6[_0x1aef3b(0x151)]}),_0x401113=await product[_0x1aef3b(0x182)]({}),_0xd8f110=await master_shop[_0x1aef3b(0x182)]();console[_0x1aef3b(0x163)](_0x1aef3b(0x187),_0xd8f110),console[_0x1aef3b(0x163)](_0x2a9a86['body']);const _0x193009=_0x2a9a86['params']['id'],_0x47fcb1=await purchases_return[_0x1aef3b(0x191)](_0x193009);console[_0x1aef3b(0x163)](_0x47fcb1);const _0xe26b4f=await warehouse[_0x1aef3b(0x15f)]([{'$match':{'name':_0x47fcb1[_0x1aef3b(0x197)],'room':_0x47fcb1[_0x1aef3b(0x17c)]}},{'$unwind':'$product_details'},{'$group':{'_id':_0x1aef3b(0x13d),'name':{'$first':_0x1aef3b(0x162)},'product_stock':{'$first':_0x1aef3b(0x188)},'bay':{'$first':_0x1aef3b(0x142)},'bin':{'$first':_0x1aef3b(0x164)},'type':{'$first':_0x1aef3b(0x135)},'floorlevel':{'$first':_0x1aef3b(0x172)},'primary_code':{'$first':_0x1aef3b(0x184)},'secondary_code':{'$first':_0x1aef3b(0x18f)},'product_code':{'$first':_0x1aef3b(0x147)},'storage':{'$first':_0x1aef3b(0x133)},'rack':{'$first':'$product_details.rack'}}}]);warehouse_data=await warehouse[_0x1aef3b(0x15f)]([{'$match':{'status':_0x1aef3b(0x19a),'name':_0x1aef3b(0x13b),'warehouse_category':_0x1aef3b(0x189)}},{'$group':{'_id':_0x1aef3b(0x158),'name':{'$first':_0x1aef3b(0x158)}}},{'$sort':{'name':0x1}}]),console[_0x1aef3b(0x163)]('stock_data',_0xe26b4f);if(_0xd8f110[0x0][_0x1aef3b(0x168)]==_0x1aef3b(0x19b)){var _0x2ece92=users['English'];console[_0x1aef3b(0x163)](_0x2ece92);}else{if(_0xd8f110[0x0]['language']=='Hindi')var _0x2ece92=users[_0x1aef3b(0x179)];else{if(_0xd8f110[0x0][_0x1aef3b(0x168)]==_0x1aef3b(0x14e))var _0x2ece92=users[_0x1aef3b(0x14e)];else{if(_0xd8f110[0x0]['language']==_0x1aef3b(0x12a))var _0x2ece92=users[_0x1aef3b(0x12a)];else{if(_0xd8f110[0x0][_0x1aef3b(0x168)]==_0x1aef3b(0x1a0))var _0x2ece92=users[_0x1aef3b(0x1a0)];else{if(_0xd8f110[0x0]['language']==_0x1aef3b(0x161))var _0x2ece92=users[_0x1aef3b(0x199)];else{if(_0xd8f110[0x0][_0x1aef3b(0x168)]==_0x1aef3b(0x18a))var _0x2ece92=users['Chinese'];else{if(_0xd8f110[0x0]['language']==_0x1aef3b(0x141))var _0x2ece92=users[_0x1aef3b(0x169)];}}}}}}}_0x436a42[_0x1aef3b(0x140)](_0x1aef3b(0x14d),{'success':_0x2a9a86[_0x1aef3b(0x18e)]('success'),'errors':_0x2a9a86[_0x1aef3b(0x18e)](_0x1aef3b(0x134)),'role':_0x478cc6,'master_shop':_0xd8f110,'profile':_0x110f4e,'user':_0x47fcb1,'stock':_0xe26b4f,'product':_0x401113,'language':_0x2ece92,'warehouse':warehouse_data});}catch(_0x3531f9){console[_0x1aef3b(0x163)](_0x3531f9);}}),router[a0_0x42b954(0x1a1)](a0_0x42b954(0x195),auth,async(_0x5c1383,_0x3005ee)=>{var _0x1bb301=a0_0x42b954;try{const _0x3b396b=_0x5c1383[_0x1bb301(0x16e)]['id'];console[_0x1bb301(0x163)](_0x3b396b);const _0x50e522=await purchases_return[_0x1bb301(0x143)]({'invoice':_0x5c1383[_0x1bb301(0x148)]['invoice']});console[_0x1bb301(0x163)](_0x1bb301(0x14c),_0x50e522);const _0x35d72d=await warehouse[_0x1bb301(0x143)]({'name':_0x50e522[_0x1bb301(0x17e)],'room':_0x50e522[_0x1bb301(0x126)]});console[_0x1bb301(0x163)]('old_warehouse_data',_0x35d72d);const {invoice:_0x22db08,suppliers:_0x300825,date:_0x81173a,warehouse_name:_0x52329f,product_name:_0x14fec5,purchase_quantity:_0x417044,stocks:_0x17788d,return_qty:_0x321725,note:_0x3cf623,Room_name:_0x59a205,level:_0x2e651c,isle:_0xb3e61a,pallet:_0x29e05a,to_warehouse_name:_0x30b932,to_Room_name:_0x472e26}=_0x5c1383[_0x1bb301(0x148)];if(typeof _0x14fec5==_0x1bb301(0x15d))var _0x3d2145=[_0x5c1383[_0x1bb301(0x148)][_0x1bb301(0x13e)]],_0x37f43e=[_0x5c1383['body'][_0x1bb301(0x146)]],_0x178a06=[_0x5c1383['body'][_0x1bb301(0x196)]],_0x34fbcb=[_0x5c1383['body'][_0x1bb301(0x156)]],_0x23242a=[_0x5c1383[_0x1bb301(0x148)]['level']],_0x2c1a63=[_0x5c1383['body'][_0x1bb301(0x14a)]],_0x49618d=[_0x5c1383[_0x1bb301(0x148)][_0x1bb301(0x190)]],_0x6ebbaa=[_0x5c1383[_0x1bb301(0x148)]['types']],_0x2d87cc=[_0x5c1383[_0x1bb301(0x148)]['product_code_hide']],_0x5c3a71=[_0x5c1383[_0x1bb301(0x148)][_0x1bb301(0x19e)]],_0x4d884c=[_0x5c1383[_0x1bb301(0x148)]['secondary_code_hide']];else var _0x3d2145=[..._0x5c1383[_0x1bb301(0x148)][_0x1bb301(0x13e)]],_0x37f43e=[..._0x5c1383['body'][_0x1bb301(0x146)]],_0x178a06=[..._0x5c1383[_0x1bb301(0x148)]['stocks']],_0x34fbcb=[..._0x5c1383['body'][_0x1bb301(0x156)]],_0x23242a=[..._0x5c1383[_0x1bb301(0x148)][_0x1bb301(0x1a4)]],_0x2c1a63=[..._0x5c1383['body']['isle']],_0x49618d=[..._0x5c1383[_0x1bb301(0x148)]['pallet']],_0x2d87cc=[..._0x5c1383[_0x1bb301(0x148)][_0x1bb301(0x16b)]],_0x5c3a71=[..._0x5c1383['body'][_0x1bb301(0x19e)]],_0x4d884c=[..._0x5c1383['body'][_0x1bb301(0x1a6)]],_0x6ebbaa=[..._0x5c1383['body'][_0x1bb301(0x1a5)]];const _0x505f4b=_0x3d2145[_0x1bb301(0x12e)](_0x3d9f1a=>{return _0x3d9f1a={'product_name':_0x3d9f1a};});_0x37f43e[_0x1bb301(0x14f)]((_0x4e7762,_0x327e24)=>{var _0x2e62db=_0x1bb301;_0x505f4b[_0x327e24][_0x2e62db(0x146)]=_0x4e7762;}),_0x178a06[_0x1bb301(0x14f)]((_0x2b1b85,_0xffda99)=>{_0x505f4b[_0xffda99]['stock_quantity']=_0x2b1b85;}),_0x34fbcb[_0x1bb301(0x14f)]((_0xda7f7c,_0x1b9384)=>{var _0x3ddfc2=_0x1bb301;_0x505f4b[_0x1b9384][_0x3ddfc2(0x156)]=_0xda7f7c;}),_0x23242a[_0x1bb301(0x14f)]((_0x3b50b9,_0x2eeb80)=>{_0x505f4b[_0x2eeb80]['bay']=_0x3b50b9;}),_0x2c1a63[_0x1bb301(0x14f)]((_0x31be9d,_0x43b686)=>{_0x505f4b[_0x43b686]['bin']=_0x31be9d;}),_0x49618d[_0x1bb301(0x14f)]((_0x157efc,_0x4cf900)=>{var _0x30998a=_0x1bb301;_0x505f4b[_0x4cf900][_0x30998a(0x17f)]=_0x157efc;}),_0x2d87cc[_0x1bb301(0x14f)]((_0x2cd3c9,_0x275b46)=>{var _0x55969b=_0x1bb301;_0x505f4b[_0x275b46][_0x55969b(0x138)]=_0x2cd3c9;}),_0x5c3a71[_0x1bb301(0x14f)]((_0x1719a1,_0x56e3a5)=>{var _0x582b1c=_0x1bb301;_0x505f4b[_0x56e3a5][_0x582b1c(0x19f)]=_0x1719a1;}),_0x4d884c[_0x1bb301(0x14f)]((_0x2229c2,_0x2db089)=>{var _0xeb534b=_0x1bb301;_0x505f4b[_0x2db089][_0xeb534b(0x185)]=_0x2229c2;}),_0x6ebbaa[_0x1bb301(0x14f)]((_0x24e9cc,_0x2dc5f5)=>{var _0x17351a=_0x1bb301;_0x505f4b[_0x2dc5f5][_0x17351a(0x13a)]=_0x24e9cc;});var _0x557ce8=0x0;_0x505f4b[_0x1bb301(0x14f)](_0x8535f7=>{var _0x272512=_0x1bb301;console[_0x272512(0x163)]('foreach\x20newproduct',_0x8535f7),(parseInt(_0x8535f7[_0x272512(0x146)])<parseInt(_0x8535f7[_0x272512(0x156)])||parseInt(_0x8535f7[_0x272512(0x177)])<parseInt(_0x8535f7[_0x272512(0x156)])||parseInt(_0x8535f7['return_qty'])==0x0)&&_0x557ce8++;});if(_0x557ce8!=0x0)return _0x5c1383['flash'](_0x1bb301(0x134),'Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty'),_0x3005ee[_0x1bb301(0x183)](_0x1bb301(0x194));_0x50e522[_0x1bb301(0x15c)]['forEach'](_0x52f0f3=>{var _0x48c68e=_0x1bb301;const _0x1c1101=_0x35d72d[_0x48c68e(0x12c)]['map'](_0x58a466=>{var _0x79d06b=_0x48c68e;_0x58a466['product_name']==_0x52f0f3['product_name']&&_0x58a466[_0x79d06b(0x17f)]==_0x52f0f3[_0x79d06b(0x17f)]&&_0x58a466['type']==_0x52f0f3[_0x79d06b(0x13a)]&&_0x58a466['bin']==_0x52f0f3[_0x79d06b(0x18d)]&&_0x58a466[_0x79d06b(0x174)]==_0x52f0f3[_0x79d06b(0x174)]&&(_0x58a466[_0x79d06b(0x15e)]=parseInt(_0x58a466[_0x79d06b(0x15e)])+parseInt(_0x52f0f3['return_qty']));});}),console['log']('old_warehouse_data',_0x35d72d),await _0x35d72d[_0x1bb301(0x131)](),_0x50e522['invoice']=_0x22db08,_0x50e522[_0x1bb301(0x145)]=_0x300825,_0x50e522['date']=_0x81173a,_0x50e522[_0x1bb301(0x197)]=_0x52329f,_0x50e522['return_product']=_0x505f4b,_0x50e522[_0x1bb301(0x171)]=_0x3cf623,_0x50e522[_0x1bb301(0x17c)]=_0x59a205,_0x50e522[_0x1bb301(0x17e)]=_0x30b932,_0x50e522[_0x1bb301(0x126)]=_0x472e26;const _0x2eca19=await _0x50e522[_0x1bb301(0x131)](),_0x362895=await purchases_return[_0x1bb301(0x143)]({'invoice':_0x5c1383[_0x1bb301(0x148)][_0x1bb301(0x16f)]}),_0x59f9ef=await warehouse['findOne']({'name':_0x5c1383[_0x1bb301(0x148)]['to_warehouse_name'],'room':_0x5c1383[_0x1bb301(0x148)][_0x1bb301(0x186)]});_0x362895['return_product']['forEach'](_0x51cfd8=>{var _0x5d6b2f=_0x1bb301;_0x59f9ef[_0x5d6b2f(0x12c)]['map'](_0x34dbea=>{var _0x6b47f6=_0x5d6b2f;_0x34dbea['product_name']==_0x51cfd8[_0x6b47f6(0x13e)]&&_0x34dbea[_0x6b47f6(0x190)]==_0x51cfd8[_0x6b47f6(0x190)]&&(_0x34dbea['product_stock']=parseInt(_0x34dbea[_0x6b47f6(0x15e)])-parseInt(_0x51cfd8[_0x6b47f6(0x156)]),console[_0x6b47f6(0x163)](_0x6b47f6(0x15b),_0x51cfd8[_0x6b47f6(0x156)]));});}),console['log']('final',_0x59f9ef),await _0x59f9ef['save']();const _0x14e86a=await s_payment_data[_0x1bb301(0x143)]({'invoice':_0x5c1383[_0x1bb301(0x148)][_0x1bb301(0x16f)],'reason':'Purchase\x20Return'});await _0x14e86a[_0x1bb301(0x131)](),_0x5c1383['flash'](_0x1bb301(0x16a),_0x1bb301(0x15a)),_0x3005ee[_0x1bb301(0x183)](_0x1bb301(0x13c));}catch(_0x27f5d5){console[_0x1bb301(0x163)](_0x27f5d5),_0x3005ee[_0x1bb301(0x153)](0xc8)[_0x1bb301(0x16c)]({'message':_0x27f5d5[_0x1bb301(0x12d)]});}}),router['get'](a0_0x42b954(0x137),auth,async(_0x41f986,_0x4799c0)=>{var _0x5483a9=a0_0x42b954;try{const {username:_0x2ddae1,email:_0x2c36a9,role:_0x45bdd7}=_0x41f986['user'],_0xcf03d9=_0x41f986[_0x5483a9(0x157)],_0x53455f=await profile[_0x5483a9(0x143)]({'email':_0xcf03d9[_0x5483a9(0x151)]}),_0x2d11ea=await master_shop[_0x5483a9(0x182)]();console[_0x5483a9(0x163)](_0x5483a9(0x187),_0x2d11ea);const _0x18efb9=_0x41f986[_0x5483a9(0x16e)]['id'],_0x4c868b=await purchases_return[_0x5483a9(0x191)](_0x18efb9);console[_0x5483a9(0x163)](_0x4c868b);const _0x59b142=await suppliers[_0x5483a9(0x143)]({'name':_0x4c868b['suppliers']});console[_0x5483a9(0x163)](_0x59b142);if(_0x2d11ea[0x0][_0x5483a9(0x168)]=='English\x20(US)'){var _0x518af3=users['English'];console[_0x5483a9(0x163)](_0x518af3);}else{if(_0x2d11ea[0x0][_0x5483a9(0x168)]==_0x5483a9(0x179))var _0x518af3=users[_0x5483a9(0x179)];else{if(_0x2d11ea[0x0]['language']==_0x5483a9(0x14e))var _0x518af3=users['German'];else{if(_0x2d11ea[0x0][_0x5483a9(0x168)]==_0x5483a9(0x12a))var _0x518af3=users[_0x5483a9(0x12a)];else{if(_0x2d11ea[0x0][_0x5483a9(0x168)]==_0x5483a9(0x1a0))var _0x518af3=users[_0x5483a9(0x1a0)];else{if(_0x2d11ea[0x0][_0x5483a9(0x168)]=='Portuguese\x20(BR)')var _0x518af3=users['Portuguese'];else{if(_0x2d11ea[0x0][_0x5483a9(0x168)]=='Chinese')var _0x518af3=users[_0x5483a9(0x18a)];else{if(_0x2d11ea[0x0]['language']==_0x5483a9(0x141))var _0x518af3=users[_0x5483a9(0x169)];}}}}}}}_0x4799c0[_0x5483a9(0x140)](_0x5483a9(0x16d),{'success':_0x41f986[_0x5483a9(0x18e)](_0x5483a9(0x16a)),'errors':_0x41f986[_0x5483a9(0x18e)]('errors'),'role':_0xcf03d9,'profile':_0x53455f,'master_shop':_0x2d11ea,'supplier':_0x59b142,'purchase':_0x4c868b,'language':_0x518af3});}catch(_0x5712e5){console[_0x5483a9(0x163)](_0x5712e5);}}),router['post']('/receive_payment/:id',auth,async(_0x3664ad,_0x400aff)=>{var _0x3e0c9d=a0_0x42b954;try{const _0x3bca24=_0x3664ad['params']['id'],{invoice:_0x23b56c,suppliers:_0x7433f5,receivable_amount:_0x367b47,received_amount:_0x2cd06d}=_0x3664ad[_0x3e0c9d(0x148)],_0x57a004=await purchases_return[_0x3e0c9d(0x191)](_0x3bca24);console[_0x3e0c9d(0x163)](_0x57a004);var _0x1b66d7=_0x367b47-_0x2cd06d;console['log'](_0x2cd06d),_0x57a004[_0x3e0c9d(0x170)]=parseFloat(_0x2cd06d)+parseFloat(_0x57a004['received']),_0x57a004[_0x3e0c9d(0x193)]=_0x1b66d7,console[_0x3e0c9d(0x163)](_0x57a004);const _0x1de87b=await _0x57a004[_0x3e0c9d(0x131)](),_0x464394=await s_payment_data[_0x3e0c9d(0x143)]({'invoice':_0x3664ad['body']['invoice'],'reason':'Purchase\x20Return'});_0x464394[_0x3e0c9d(0x17d)]=_0x1b66d7,await _0x464394[_0x3e0c9d(0x131)]();let _0x47f35a=new Date(),_0x2e1c86=('0'+_0x47f35a[_0x3e0c9d(0x127)]())['slice'](-0x2),_0x515c38=('0'+(_0x47f35a[_0x3e0c9d(0x198)]()+0x1))[_0x3e0c9d(0x139)](-0x2),_0x53f4e1=_0x47f35a[_0x3e0c9d(0x175)](),_0x5e0ec2=_0x53f4e1+'-'+_0x515c38+'-'+_0x2e1c86;const _0x556b79=new suppliers_payment({'invoice':_0x23b56c,'date':_0x53f4e1+'-'+_0x515c38+'-'+_0x2e1c86,'suppliers':_0x7433f5,'reason':_0x3e0c9d(0x165),'amount':_0x2cd06d}),_0x244826=await _0x556b79[_0x3e0c9d(0x131)]();_0x3664ad['flash']('success',_0x3e0c9d(0x166)),_0x400aff[_0x3e0c9d(0x183)](_0x3e0c9d(0x13c));}catch(_0xd4773b){console[_0x3e0c9d(0x163)](_0xd4773b);}}),module[a0_0x42b954(0x144)]=router;