function a0_0x1484(){var _0x44ad1f=['$product_details.rack','string','3367HLiTeC','payment\x20successfull','158049XNzoja','level','product_code_hide','email','$supplier_docs','final','flash','forEach','Purchase\x20Return','slice','Hindi','note','floorlevel','amount','map','old_data','English\x20(US)','getDate','type','$note','save','pallet','back','isle','Enabled','due_amount','$invoice','1357150YvEsYq','French','old_warehouse_data','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','$product_details.storage','invoice','Router','269919DYRovU','../public/language/languages.json','$supplier_docs.mobile','get','German','redirect','message','findOne','$_id','user','$product_details.secondary_code','$product_details.product_stock','secondary_code_hide','return_qty','$return_product.total','stock_quantity','/view/:id','English','$supplier_docs.email','to_room','body','$discount','$receivable','Raw\x20Materials','return_product','errors','2193736gRgtGB','2FCykwb','json','Chinese','suppliers','stocks','$product_details.product_code','express','purchases_return','bay','purchase\x20return\x20successfully','$return_product.price','master','Spanish','bin','exports','room','log','359280zFfWxD','$product_details._id','Portuguese','primary_code_hide','$date','types','supplier_docs','$product_details.floorlevel','748308hgWNlq','Arabic','$due_amount','/receive_payment/:id','language','80kdOqxq','name','to_warehouse_name','secondary_code','product_code','6472VvcepH','foreach\x20newproduct','../models/all_models','Arabic\x20(ae)','$product_details','$supplier_docs.address','$product_details.primary_code','product_name','$suppliers','Portuguese\x20(BR)','render','to_Room_name','$name','/purchases_return/view','post','date','Received\x20For\x20Purchase\x20Return','primary_code','product_stock','success','received','params','purchase_quantity','find','$product_details.bin','$return_product.return_qty','product_details','findById','aggregate','$product_details.product_name'];a0_0x1484=function(){return _0x44ad1f;};return a0_0x1484();}var a0_0x50af2b=a0_0x594e;(function(_0x4be742,_0x413a2c){var _0x75dc94=a0_0x594e,_0x46376a=_0x4be742();while(!![]){try{var _0x478c69=parseInt(_0x75dc94(0xe8))/0x1+parseInt(_0x75dc94(0x103))/0x2*(-parseInt(_0x75dc94(0x114))/0x3)+parseInt(_0x75dc94(0x102))/0x4+parseInt(_0x75dc94(0x163))/0x5+-parseInt(_0x75dc94(0x11c))/0x6+-parseInt(_0x75dc94(0x146))/0x7*(parseInt(_0x75dc94(0x126))/0x8)+-parseInt(_0x75dc94(0x148))/0x9*(parseInt(_0x75dc94(0x121))/0xa);if(_0x478c69===_0x413a2c)break;else _0x46376a['push'](_0x46376a['shift']());}catch(_0x2b8baf){_0x46376a['push'](_0x46376a['shift']());}}}(a0_0x1484,0x4d128));const express=require(a0_0x50af2b(0x109)),app=express(),router=express[a0_0x50af2b(0xe7)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x50af2b(0x128)),auth=require('../middleware/auth'),users=require(a0_0x50af2b(0xe9));function a0_0x594e(_0x243ac7,_0x14c189){var _0x1484cc=a0_0x1484();return a0_0x594e=function(_0x594e1e,_0x261673){_0x594e1e=_0x594e1e-0xe2;var _0x1f7754=_0x1484cc[_0x594e1e];return _0x1f7754;},a0_0x594e(_0x243ac7,_0x14c189);}router[a0_0x50af2b(0xeb)]('/view',auth,async(_0x14f6f5,_0x242934)=>{var _0x433bf0=a0_0x50af2b;try{const {username:_0x5b8d04,email:_0x5295e0,role:_0x125b72}=_0x14f6f5['user'],_0x79b1f7=_0x14f6f5['user'],_0x32d369=await profile['findOne']({'email':_0x79b1f7[_0x433bf0(0x14b)]}),_0x2b0212=await master_shop[_0x433bf0(0x13d)]();console[_0x433bf0(0x113)](_0x433bf0(0x10e),_0x2b0212);const _0x105c30=await purchases_return['aggregate']([{'$lookup':{'from':_0x433bf0(0x106),'localField':_0x433bf0(0x106),'foreignField':_0x433bf0(0x122),'as':_0x433bf0(0x11a)}},{'$unwind':'$return_product'},{'$unwind':_0x433bf0(0x14c)},{'$group':{'_id':_0x433bf0(0xf0),'invoice':{'$first':_0x433bf0(0x162)},'date':{'$first':_0x433bf0(0x118)},'suppliers':{'$first':_0x433bf0(0x12e)},'warehouse_name':{'$first':'$warehouse_name'},'product_name':{'$first':'$return_product.product_name'},'return_qty':{'$first':_0x433bf0(0x13f)},'price':{'$first':_0x433bf0(0x10d)},'total':{'$sum':_0x433bf0(0xf6)},'note':{'$first':_0x433bf0(0x15b)},'total_amount':{'$first':'$total_amount'},'discount':{'$first':_0x433bf0(0xfd)},'receivable':{'$first':_0x433bf0(0xfe)},'received':{'$first':'$received'},'due_amount':{'$first':_0x433bf0(0x11e)},'mobile':{'$first':_0x433bf0(0xea)},'email':{'$first':_0x433bf0(0xfa)},'address':{'$first':_0x433bf0(0x12b)},'return_sum_qty':{'$sum':_0x433bf0(0x13f)}}}]);console[_0x433bf0(0x113)](_0x105c30);if(_0x2b0212[0x0]['language']==_0x433bf0(0x158)){var _0x22c46f=users[_0x433bf0(0xf9)];console[_0x433bf0(0x113)](_0x22c46f);}else{if(_0x2b0212[0x0][_0x433bf0(0x120)]==_0x433bf0(0x152))var _0x22c46f=users[_0x433bf0(0x152)];else{if(_0x2b0212[0x0][_0x433bf0(0x120)]==_0x433bf0(0xec))var _0x22c46f=users[_0x433bf0(0xec)];else{if(_0x2b0212[0x0][_0x433bf0(0x120)]=='Spanish')var _0x22c46f=users[_0x433bf0(0x10f)];else{if(_0x2b0212[0x0][_0x433bf0(0x120)]==_0x433bf0(0xe2))var _0x22c46f=users[_0x433bf0(0xe2)];else{if(_0x2b0212[0x0][_0x433bf0(0x120)]==_0x433bf0(0x12f))var _0x22c46f=users[_0x433bf0(0x116)];else{if(_0x2b0212[0x0]['language']==_0x433bf0(0x105))var _0x22c46f=users['Chinese'];else{if(_0x2b0212[0x0][_0x433bf0(0x120)]==_0x433bf0(0x129))var _0x22c46f=users[_0x433bf0(0x11d)];}}}}}}}_0x242934[_0x433bf0(0x130)](_0x433bf0(0x10a),{'success':_0x14f6f5[_0x433bf0(0x14e)](_0x433bf0(0x139)),'errors':_0x14f6f5[_0x433bf0(0x14e)]('errors'),'role':_0x79b1f7,'profile':_0x32d369,'master_shop':_0x2b0212,'user':_0x105c30,'language':_0x22c46f});}catch(_0x148f67){console[_0x433bf0(0x113)](_0x148f67);}}),router[a0_0x50af2b(0xeb)](a0_0x50af2b(0xf8),auth,async(_0x2283b5,_0x53e368)=>{var _0x36bf1f=a0_0x50af2b;try{const {username:_0x57d39b,email:_0x5a49b0,role:_0x3e3464}=_0x2283b5['user'],_0x1f8960=_0x2283b5[_0x36bf1f(0xf1)],_0x3c371f=await profile[_0x36bf1f(0xef)]({'email':_0x1f8960[_0x36bf1f(0x14b)]}),_0x447206=await product[_0x36bf1f(0x13d)]({}),_0x38ba24=await master_shop['find']();console[_0x36bf1f(0x113)](_0x36bf1f(0x10e),_0x38ba24),console['log'](_0x2283b5[_0x36bf1f(0xfc)]);const _0x3f4eb8=_0x2283b5[_0x36bf1f(0x13b)]['id'],_0x1b0819=await purchases_return[_0x36bf1f(0x141)](_0x3f4eb8);console[_0x36bf1f(0x113)](_0x1b0819);const _0x458450=await warehouse[_0x36bf1f(0x142)]([{'$match':{'name':_0x1b0819['warehouse_name'],'room':_0x1b0819[_0x36bf1f(0x112)]}},{'$unwind':_0x36bf1f(0x12a)},{'$group':{'_id':_0x36bf1f(0x115),'name':{'$first':_0x36bf1f(0x143)},'product_stock':{'$first':_0x36bf1f(0xf3)},'bay':{'$first':'$product_details.bay'},'bin':{'$first':_0x36bf1f(0x13e)},'type':{'$first':'$product_details.type'},'floorlevel':{'$first':_0x36bf1f(0x11b)},'primary_code':{'$first':_0x36bf1f(0x12c)},'secondary_code':{'$first':_0x36bf1f(0xf2)},'product_code':{'$first':_0x36bf1f(0x108)},'storage':{'$first':_0x36bf1f(0xe5)},'rack':{'$first':_0x36bf1f(0x144)}}}]);warehouse_data=await warehouse[_0x36bf1f(0x142)]([{'$match':{'status':_0x36bf1f(0x160),'name':'Return\x20Goods','warehouse_category':_0x36bf1f(0xff)}},{'$group':{'_id':'$name','name':{'$first':_0x36bf1f(0x132)}}},{'$sort':{'name':0x1}}]),console[_0x36bf1f(0x113)]('stock_data',_0x458450);if(_0x38ba24[0x0][_0x36bf1f(0x120)]==_0x36bf1f(0x158)){var _0x12ec2b=users[_0x36bf1f(0xf9)];console[_0x36bf1f(0x113)](_0x12ec2b);}else{if(_0x38ba24[0x0][_0x36bf1f(0x120)]==_0x36bf1f(0x152))var _0x12ec2b=users[_0x36bf1f(0x152)];else{if(_0x38ba24[0x0][_0x36bf1f(0x120)]=='German')var _0x12ec2b=users['German'];else{if(_0x38ba24[0x0][_0x36bf1f(0x120)]==_0x36bf1f(0x10f))var _0x12ec2b=users[_0x36bf1f(0x10f)];else{if(_0x38ba24[0x0]['language']==_0x36bf1f(0xe2))var _0x12ec2b=users[_0x36bf1f(0xe2)];else{if(_0x38ba24[0x0][_0x36bf1f(0x120)]==_0x36bf1f(0x12f))var _0x12ec2b=users[_0x36bf1f(0x116)];else{if(_0x38ba24[0x0]['language']==_0x36bf1f(0x105))var _0x12ec2b=users['Chinese'];else{if(_0x38ba24[0x0][_0x36bf1f(0x120)]==_0x36bf1f(0x129))var _0x12ec2b=users[_0x36bf1f(0x11d)];}}}}}}}_0x53e368[_0x36bf1f(0x130)]('return_purchase_edit',{'success':_0x2283b5[_0x36bf1f(0x14e)](_0x36bf1f(0x139)),'errors':_0x2283b5['flash'](_0x36bf1f(0x101)),'role':_0x1f8960,'master_shop':_0x38ba24,'profile':_0x3c371f,'user':_0x1b0819,'stock':_0x458450,'product':_0x447206,'language':_0x12ec2b,'warehouse':warehouse_data});}catch(_0x4932d0){console[_0x36bf1f(0x113)](_0x4932d0);}}),router[a0_0x50af2b(0x134)](a0_0x50af2b(0xf8),auth,async(_0x404567,_0x10577c)=>{var _0x314e5f=a0_0x50af2b;try{const _0x3f4acf=_0x404567[_0x314e5f(0x13b)]['id'];console[_0x314e5f(0x113)](_0x3f4acf);const _0x205e6b=await purchases_return[_0x314e5f(0xef)]({'invoice':_0x404567['body'][_0x314e5f(0xe6)]});console[_0x314e5f(0x113)](_0x314e5f(0x157),_0x205e6b);const _0x73c0b8=await warehouse[_0x314e5f(0xef)]({'name':_0x205e6b[_0x314e5f(0x123)],'room':_0x205e6b[_0x314e5f(0xfb)]});console[_0x314e5f(0x113)](_0x314e5f(0xe3),_0x73c0b8);const {invoice:_0x1d6837,suppliers:_0x4d7a56,date:_0x3f5d91,warehouse_name:_0x3e74a8,product_name:_0x562401,purchase_quantity:_0x67a547,stocks:_0x5b9895,return_qty:_0x42caf9,note:_0xdf81bf,Room_name:_0x3c1ea5,level:_0x12d7e9,isle:_0x33ea2d,pallet:_0x24db36,to_warehouse_name:_0x1a0969,to_Room_name:_0x48eb88}=_0x404567[_0x314e5f(0xfc)];if(typeof _0x562401==_0x314e5f(0x145))var _0x5371cd=[_0x404567['body'][_0x314e5f(0x12d)]],_0x3070a4=[_0x404567[_0x314e5f(0xfc)][_0x314e5f(0x13c)]],_0x3d4541=[_0x404567['body']['stocks']],_0x361722=[_0x404567['body'][_0x314e5f(0xf5)]],_0x46e357=[_0x404567[_0x314e5f(0xfc)][_0x314e5f(0x149)]],_0x2774ea=[_0x404567[_0x314e5f(0xfc)]['isle']],_0x26b520=[_0x404567[_0x314e5f(0xfc)][_0x314e5f(0x15d)]],_0x110b34=[_0x404567['body']['types']],_0x170b33=[_0x404567['body'][_0x314e5f(0x14a)]],_0x7f99f7=[_0x404567[_0x314e5f(0xfc)]['primary_code_hide']],_0x99fe23=[_0x404567[_0x314e5f(0xfc)][_0x314e5f(0xf4)]];else var _0x5371cd=[..._0x404567[_0x314e5f(0xfc)][_0x314e5f(0x12d)]],_0x3070a4=[..._0x404567['body'][_0x314e5f(0x13c)]],_0x3d4541=[..._0x404567[_0x314e5f(0xfc)][_0x314e5f(0x107)]],_0x361722=[..._0x404567['body'][_0x314e5f(0xf5)]],_0x46e357=[..._0x404567[_0x314e5f(0xfc)][_0x314e5f(0x149)]],_0x2774ea=[..._0x404567[_0x314e5f(0xfc)][_0x314e5f(0x15f)]],_0x26b520=[..._0x404567[_0x314e5f(0xfc)]['pallet']],_0x170b33=[..._0x404567[_0x314e5f(0xfc)][_0x314e5f(0x14a)]],_0x7f99f7=[..._0x404567[_0x314e5f(0xfc)][_0x314e5f(0x117)]],_0x99fe23=[..._0x404567[_0x314e5f(0xfc)][_0x314e5f(0xf4)]],_0x110b34=[..._0x404567[_0x314e5f(0xfc)][_0x314e5f(0x119)]];const _0x57c2a2=_0x5371cd[_0x314e5f(0x156)](_0x53a8e3=>{return _0x53a8e3={'product_name':_0x53a8e3};});_0x3070a4['forEach']((_0x4631c0,_0x3696cc)=>{_0x57c2a2[_0x3696cc]['purchase_quantity']=_0x4631c0;}),_0x3d4541[_0x314e5f(0x14f)]((_0x2c72b2,_0x13be31)=>{var _0x367724=_0x314e5f;_0x57c2a2[_0x13be31][_0x367724(0xf7)]=_0x2c72b2;}),_0x361722[_0x314e5f(0x14f)]((_0x463a0f,_0x52c34b)=>{var _0x378147=_0x314e5f;_0x57c2a2[_0x52c34b][_0x378147(0xf5)]=_0x463a0f;}),_0x46e357[_0x314e5f(0x14f)]((_0x12b717,_0x3a9138)=>{var _0x187c7d=_0x314e5f;_0x57c2a2[_0x3a9138][_0x187c7d(0x10b)]=_0x12b717;}),_0x2774ea[_0x314e5f(0x14f)]((_0x25970f,_0x24fb68)=>{_0x57c2a2[_0x24fb68]['bin']=_0x25970f;}),_0x26b520[_0x314e5f(0x14f)]((_0x402943,_0xc9484b)=>{var _0x3a5152=_0x314e5f;_0x57c2a2[_0xc9484b][_0x3a5152(0x154)]=_0x402943;}),_0x170b33['forEach']((_0x1b2621,_0x14fd37)=>{var _0x5199db=_0x314e5f;_0x57c2a2[_0x14fd37][_0x5199db(0x125)]=_0x1b2621;}),_0x7f99f7[_0x314e5f(0x14f)]((_0x94bdcc,_0x30e9e4)=>{var _0x51bafb=_0x314e5f;_0x57c2a2[_0x30e9e4][_0x51bafb(0x137)]=_0x94bdcc;}),_0x99fe23['forEach']((_0x3e8f00,_0x4b12cd)=>{var _0x574563=_0x314e5f;_0x57c2a2[_0x4b12cd][_0x574563(0x124)]=_0x3e8f00;}),_0x110b34[_0x314e5f(0x14f)]((_0x15b6fc,_0xf7a2aa)=>{var _0x21808b=_0x314e5f;_0x57c2a2[_0xf7a2aa][_0x21808b(0x15a)]=_0x15b6fc;});var _0x1dbcd1=0x0;_0x57c2a2['forEach'](_0x585220=>{var _0x38ff2d=_0x314e5f;console[_0x38ff2d(0x113)](_0x38ff2d(0x127),_0x585220),(parseInt(_0x585220['purchase_quantity'])<parseInt(_0x585220[_0x38ff2d(0xf5)])||parseInt(_0x585220[_0x38ff2d(0xf7)])<parseInt(_0x585220[_0x38ff2d(0xf5)])||parseInt(_0x585220[_0x38ff2d(0xf5)])==0x0)&&_0x1dbcd1++;});if(_0x1dbcd1!=0x0)return _0x404567[_0x314e5f(0x14e)](_0x314e5f(0x101),_0x314e5f(0xe4)),_0x10577c[_0x314e5f(0xed)](_0x314e5f(0x15e));_0x205e6b[_0x314e5f(0x100)][_0x314e5f(0x14f)](_0x5826e5=>{const _0x3a1aa7=_0x73c0b8['product_details']['map'](_0x868c94=>{var _0x3b4732=a0_0x594e;_0x868c94[_0x3b4732(0x12d)]==_0x5826e5[_0x3b4732(0x12d)]&&_0x868c94[_0x3b4732(0x154)]==_0x5826e5[_0x3b4732(0x154)]&&_0x868c94[_0x3b4732(0x15a)]==_0x5826e5['type']&&_0x868c94[_0x3b4732(0x110)]==_0x5826e5['bin']&&_0x868c94[_0x3b4732(0x10b)]==_0x5826e5[_0x3b4732(0x10b)]&&(_0x868c94[_0x3b4732(0x138)]=parseInt(_0x868c94['product_stock'])+parseInt(_0x5826e5['return_qty']));});}),console[_0x314e5f(0x113)](_0x314e5f(0xe3),_0x73c0b8),await _0x73c0b8[_0x314e5f(0x15c)](),_0x205e6b[_0x314e5f(0xe6)]=_0x1d6837,_0x205e6b['suppliers']=_0x4d7a56,_0x205e6b[_0x314e5f(0x135)]=_0x3f5d91,_0x205e6b['warehouse_name']=_0x3e74a8,_0x205e6b[_0x314e5f(0x100)]=_0x57c2a2,_0x205e6b[_0x314e5f(0x153)]=_0xdf81bf,_0x205e6b[_0x314e5f(0x112)]=_0x3c1ea5,_0x205e6b[_0x314e5f(0x123)]=_0x1a0969,_0x205e6b[_0x314e5f(0xfb)]=_0x48eb88;const _0x162c63=await _0x205e6b[_0x314e5f(0x15c)](),_0x555c82=await purchases_return['findOne']({'invoice':_0x404567[_0x314e5f(0xfc)][_0x314e5f(0xe6)]}),_0xc6ca02=await warehouse[_0x314e5f(0xef)]({'name':_0x404567['body'][_0x314e5f(0x123)],'room':_0x404567[_0x314e5f(0xfc)][_0x314e5f(0x131)]});_0x555c82[_0x314e5f(0x100)]['forEach'](_0x321da9=>{var _0xd52ba9=_0x314e5f;_0xc6ca02[_0xd52ba9(0x140)]['map'](_0x42e70e=>{var _0x2dad70=_0xd52ba9;_0x42e70e['product_name']==_0x321da9[_0x2dad70(0x12d)]&&_0x42e70e[_0x2dad70(0x15d)]==_0x321da9['pallet']&&(_0x42e70e[_0x2dad70(0x138)]=parseInt(_0x42e70e['product_stock'])-parseInt(_0x321da9[_0x2dad70(0xf5)]),console[_0x2dad70(0x113)]('product_details.return_qtyproduct_details.return_qty',_0x321da9[_0x2dad70(0xf5)]));});}),console[_0x314e5f(0x113)](_0x314e5f(0x14d),_0xc6ca02),await _0xc6ca02['save']();const _0xd94fce=await s_payment_data[_0x314e5f(0xef)]({'invoice':_0x404567[_0x314e5f(0xfc)]['invoice'],'reason':_0x314e5f(0x150)});await _0xd94fce[_0x314e5f(0x15c)](),_0x404567[_0x314e5f(0x14e)]('success',_0x314e5f(0x10c)),_0x10577c['redirect']('/purchases_return/view');}catch(_0x14ac90){console[_0x314e5f(0x113)](_0x14ac90),_0x10577c['status'](0xc8)[_0x314e5f(0x104)]({'message':_0x14ac90[_0x314e5f(0xee)]});}}),router[a0_0x50af2b(0xeb)]('/invoice/:id',auth,async(_0x4fb5dd,_0x547dd9)=>{var _0x1c6846=a0_0x50af2b;try{const {username:_0x4cedcb,email:_0x532476,role:_0x2dbeb4}=_0x4fb5dd[_0x1c6846(0xf1)],_0x31243d=_0x4fb5dd[_0x1c6846(0xf1)],_0x1de11e=await profile[_0x1c6846(0xef)]({'email':_0x31243d[_0x1c6846(0x14b)]}),_0x5ecc4b=await master_shop['find']();console[_0x1c6846(0x113)](_0x1c6846(0x10e),_0x5ecc4b);const _0x1829e1=_0x4fb5dd[_0x1c6846(0x13b)]['id'],_0x138d6c=await purchases_return[_0x1c6846(0x141)](_0x1829e1);console[_0x1c6846(0x113)](_0x138d6c);const _0xb899f0=await suppliers[_0x1c6846(0xef)]({'name':_0x138d6c[_0x1c6846(0x106)]});console[_0x1c6846(0x113)](_0xb899f0);if(_0x5ecc4b[0x0]['language']==_0x1c6846(0x158)){var _0x285042=users[_0x1c6846(0xf9)];console[_0x1c6846(0x113)](_0x285042);}else{if(_0x5ecc4b[0x0][_0x1c6846(0x120)]=='Hindi')var _0x285042=users[_0x1c6846(0x152)];else{if(_0x5ecc4b[0x0][_0x1c6846(0x120)]==_0x1c6846(0xec))var _0x285042=users[_0x1c6846(0xec)];else{if(_0x5ecc4b[0x0][_0x1c6846(0x120)]=='Spanish')var _0x285042=users[_0x1c6846(0x10f)];else{if(_0x5ecc4b[0x0]['language']==_0x1c6846(0xe2))var _0x285042=users['French'];else{if(_0x5ecc4b[0x0][_0x1c6846(0x120)]==_0x1c6846(0x12f))var _0x285042=users['Portuguese'];else{if(_0x5ecc4b[0x0][_0x1c6846(0x120)]=='Chinese')var _0x285042=users[_0x1c6846(0x105)];else{if(_0x5ecc4b[0x0][_0x1c6846(0x120)]=='Arabic\x20(ae)')var _0x285042=users['Arabic'];}}}}}}}_0x547dd9[_0x1c6846(0x130)]('return_purchase_invoice',{'success':_0x4fb5dd[_0x1c6846(0x14e)](_0x1c6846(0x139)),'errors':_0x4fb5dd[_0x1c6846(0x14e)](_0x1c6846(0x101)),'role':_0x31243d,'profile':_0x1de11e,'master_shop':_0x5ecc4b,'supplier':_0xb899f0,'purchase':_0x138d6c,'language':_0x285042});}catch(_0x36a15c){console['log'](_0x36a15c);}}),router[a0_0x50af2b(0x134)](a0_0x50af2b(0x11f),auth,async(_0x16269a,_0x2c5c53)=>{var _0x1ed807=a0_0x50af2b;try{const _0x4b85df=_0x16269a[_0x1ed807(0x13b)]['id'],{invoice:_0x59d8ed,suppliers:_0x254b24,receivable_amount:_0xa859da,received_amount:_0x48073f}=_0x16269a['body'],_0x6ac402=await purchases_return[_0x1ed807(0x141)](_0x4b85df);console[_0x1ed807(0x113)](_0x6ac402);var _0x2af581=_0xa859da-_0x48073f;console[_0x1ed807(0x113)](_0x48073f),_0x6ac402[_0x1ed807(0x13a)]=parseFloat(_0x48073f)+parseFloat(_0x6ac402[_0x1ed807(0x13a)]),_0x6ac402[_0x1ed807(0x161)]=_0x2af581,console[_0x1ed807(0x113)](_0x6ac402);const _0x306fd4=await _0x6ac402[_0x1ed807(0x15c)](),_0x5a5081=await s_payment_data[_0x1ed807(0xef)]({'invoice':_0x16269a[_0x1ed807(0xfc)][_0x1ed807(0xe6)],'reason':'Purchase\x20Return'});_0x5a5081[_0x1ed807(0x155)]=_0x2af581,await _0x5a5081['save']();let _0x5d63fc=new Date(),_0xd0c2c7=('0'+_0x5d63fc[_0x1ed807(0x159)]())[_0x1ed807(0x151)](-0x2),_0x13946d=('0'+(_0x5d63fc['getMonth']()+0x1))[_0x1ed807(0x151)](-0x2),_0x3b1546=_0x5d63fc['getFullYear'](),_0x124ba8=_0x3b1546+'-'+_0x13946d+'-'+_0xd0c2c7;const _0x41bc62=new suppliers_payment({'invoice':_0x59d8ed,'date':_0x3b1546+'-'+_0x13946d+'-'+_0xd0c2c7,'suppliers':_0x254b24,'reason':_0x1ed807(0x136),'amount':_0x48073f}),_0x472012=await _0x41bc62[_0x1ed807(0x15c)]();_0x16269a['flash']('success',_0x1ed807(0x147)),_0x2c5c53[_0x1ed807(0xed)](_0x1ed807(0x133));}catch(_0x4c5111){console[_0x1ed807(0x113)](_0x4c5111);}}),module[a0_0x50af2b(0x111)]=router;