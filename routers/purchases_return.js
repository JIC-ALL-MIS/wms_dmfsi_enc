function a0_0x3657(){var _0x1350ce=['/receive_payment/:id','$product_details.product_stock','$return_product.total','../middleware/auth','user','Portuguese','English','product_stock','$suppliers','9310939WbxbIT','Arabic\x20(ae)','slice','3066030dlNsDs','master','/view','return_qty','purchases_return','$supplier_docs.mobile','Enabled','findOne','$product_details','$product_details.rack','223154JEKcfT','1298280AStOOj','return_purchase_invoice','body','floorlevel','primary_code','getFullYear','level','942676ctsnls','return_product','Portuguese\x20(BR)','message','6ZZlIpG','$due_amount','string','supplier_docs','$return_product.return_qty','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','French','English\x20(US)','email','$product_details.bay','success','foreach\x20newproduct','flash','/invoice/:id','$name','bin','16BbjSQx','old_warehouse_data','exports','4rSaztA','redirect','$supplier_docs','map','2022507nPSLPs','getDate','get','Purchase\x20Return','pallet','payment\x20successfull','$product_details.product_name','product_details','save','German','$product_details.secondary_code','3wAIvhN','$date','warehouse_name','post','type','product_code','render','$warehouse_name','$return_product','to_warehouse_name','stocks','primary_code_hide','json','return_purchase_edit','bay','Return\x20Goods','suppliers','room','errors','$_id','Hindi','express','/purchases_return/view','Arabic','product_code_hide','find','$product_details.floorlevel','Router','due_amount','1626359PIczIv','language','name','/view/:id','secondary_code_hide','$product_details._id','product_details.return_qtyproduct_details.return_qty','note','isle','product_name','Chinese','$discount','secondary_code','aggregate','$supplier_docs.address','findById','types','forEach','invoice','../models/all_models','received','$product_details.primary_code','$return_product.price','log','date','Spanish','purchase_quantity','stock_quantity','final'];a0_0x3657=function(){return _0x1350ce;};return a0_0x3657();}function a0_0x5f3d(_0x381f1d,_0x1bc215){var _0x36572f=a0_0x3657();return a0_0x5f3d=function(_0x5f3d49,_0x3ab799){_0x5f3d49=_0x5f3d49-0xb2;var _0x5715a8=_0x36572f[_0x5f3d49];return _0x5715a8;},a0_0x5f3d(_0x381f1d,_0x1bc215);}var a0_0x391507=a0_0x5f3d;(function(_0x53bd29,_0x20a2a4){var _0x750211=a0_0x5f3d,_0x50ca49=_0x53bd29();while(!![]){try{var _0x2a4058=-parseInt(_0x750211(0xc1))/0x1*(parseInt(_0x750211(0xe0))/0x2)+-parseInt(_0x750211(0xef))/0x3*(parseInt(_0x750211(0xc9))/0x4)+-parseInt(_0x750211(0xc2))/0x5+-parseInt(_0x750211(0xcd))/0x6*(-parseInt(_0x750211(0x10c))/0x7)+parseInt(_0x750211(0xdd))/0x8*(parseInt(_0x750211(0xe4))/0x9)+-parseInt(_0x750211(0xb7))/0xa+parseInt(_0x750211(0xb4))/0xb;if(_0x2a4058===_0x20a2a4)break;else _0x50ca49['push'](_0x50ca49['shift']());}catch(_0x3cc712){_0x50ca49['push'](_0x50ca49['shift']());}}}(a0_0x3657,0x445bc));const express=require(a0_0x391507(0x104)),app=express(),router=express[a0_0x391507(0x10a)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x391507(0x11f)),auth=require(a0_0x391507(0x12c)),users=require('../public/language/languages.json');router['get'](a0_0x391507(0xb9),auth,async(_0x14213b,_0xe894e9)=>{var _0x5386a0=a0_0x391507;try{const {username:_0x3c4383,email:_0x82c8fc,role:_0x434559}=_0x14213b[_0x5386a0(0x12d)],_0x18842a=_0x14213b[_0x5386a0(0x12d)],_0x5b3924=await profile[_0x5386a0(0xbe)]({'email':_0x18842a[_0x5386a0(0xd5)]}),_0x1ed627=await master_shop[_0x5386a0(0x108)]();console[_0x5386a0(0x123)](_0x5386a0(0xb8),_0x1ed627);const _0x1e3e26=await purchases_return[_0x5386a0(0x119)]([{'$lookup':{'from':_0x5386a0(0xff),'localField':'suppliers','foreignField':_0x5386a0(0x10e),'as':_0x5386a0(0xd0)}},{'$unwind':_0x5386a0(0xf7)},{'$unwind':_0x5386a0(0xe2)},{'$group':{'_id':_0x5386a0(0x102),'invoice':{'$first':'$invoice'},'date':{'$first':_0x5386a0(0xf0)},'suppliers':{'$first':_0x5386a0(0xb3)},'warehouse_name':{'$first':_0x5386a0(0xf6)},'product_name':{'$first':'$return_product.product_name'},'return_qty':{'$first':_0x5386a0(0xd1)},'price':{'$first':_0x5386a0(0x122)},'total':{'$sum':_0x5386a0(0x12b)},'note':{'$first':'$note'},'total_amount':{'$first':'$total_amount'},'discount':{'$first':_0x5386a0(0x117)},'receivable':{'$first':'$receivable'},'received':{'$first':'$received'},'due_amount':{'$first':_0x5386a0(0xce)},'mobile':{'$first':_0x5386a0(0xbc)},'email':{'$first':'$supplier_docs.email'},'address':{'$first':_0x5386a0(0x11a)},'return_sum_qty':{'$sum':'$return_product.return_qty'}}}]);console['log'](_0x1e3e26);if(_0x1ed627[0x0][_0x5386a0(0x10d)]=='English\x20(US)'){var _0x344dca=users[_0x5386a0(0x12f)];console[_0x5386a0(0x123)](_0x344dca);}else{if(_0x1ed627[0x0]['language']==_0x5386a0(0x103))var _0x344dca=users[_0x5386a0(0x103)];else{if(_0x1ed627[0x0][_0x5386a0(0x10d)]==_0x5386a0(0xed))var _0x344dca=users['German'];else{if(_0x1ed627[0x0][_0x5386a0(0x10d)]==_0x5386a0(0x125))var _0x344dca=users[_0x5386a0(0x125)];else{if(_0x1ed627[0x0][_0x5386a0(0x10d)]==_0x5386a0(0xd3))var _0x344dca=users[_0x5386a0(0xd3)];else{if(_0x1ed627[0x0]['language']==_0x5386a0(0xcb))var _0x344dca=users[_0x5386a0(0x12e)];else{if(_0x1ed627[0x0]['language']==_0x5386a0(0x116))var _0x344dca=users[_0x5386a0(0x116)];else{if(_0x1ed627[0x0][_0x5386a0(0x10d)]==_0x5386a0(0xb5))var _0x344dca=users[_0x5386a0(0x106)];}}}}}}}_0xe894e9[_0x5386a0(0xf5)](_0x5386a0(0xbb),{'success':_0x14213b['flash'](_0x5386a0(0xd7)),'errors':_0x14213b[_0x5386a0(0xd9)](_0x5386a0(0x101)),'role':_0x18842a,'profile':_0x5b3924,'master_shop':_0x1ed627,'user':_0x1e3e26,'language':_0x344dca});}catch(_0x38a22c){console['log'](_0x38a22c);}}),router[a0_0x391507(0xe6)](a0_0x391507(0x10f),auth,async(_0x57969b,_0x8a2fec)=>{var _0x5677f4=a0_0x391507;try{const {username:_0x5bb4b2,email:_0x1a3c13,role:_0x68da3f}=_0x57969b['user'],_0x9cc962=_0x57969b[_0x5677f4(0x12d)],_0x52a3a6=await profile['findOne']({'email':_0x9cc962['email']}),_0x40f4f6=await product[_0x5677f4(0x108)]({}),_0x39e9c9=await master_shop[_0x5677f4(0x108)]();console[_0x5677f4(0x123)]('master',_0x39e9c9),console[_0x5677f4(0x123)](_0x57969b[_0x5677f4(0xc4)]);const _0x5981e3=_0x57969b['params']['id'],_0x2bb2a0=await purchases_return[_0x5677f4(0x11b)](_0x5981e3);console[_0x5677f4(0x123)](_0x2bb2a0);const _0x2ae858=await warehouse[_0x5677f4(0x119)]([{'$match':{'name':_0x2bb2a0['warehouse_name'],'room':_0x2bb2a0[_0x5677f4(0x100)]}},{'$unwind':_0x5677f4(0xbf)},{'$group':{'_id':_0x5677f4(0x111),'name':{'$first':_0x5677f4(0xea)},'product_stock':{'$first':_0x5677f4(0x12a)},'bay':{'$first':_0x5677f4(0xd6)},'bin':{'$first':'$product_details.bin'},'type':{'$first':'$product_details.type'},'floorlevel':{'$first':_0x5677f4(0x109)},'primary_code':{'$first':_0x5677f4(0x121)},'secondary_code':{'$first':_0x5677f4(0xee)},'product_code':{'$first':'$product_details.product_code'},'storage':{'$first':'$product_details.storage'},'rack':{'$first':_0x5677f4(0xc0)}}}]);warehouse_data=await warehouse[_0x5677f4(0x119)]([{'$match':{'status':_0x5677f4(0xbd),'name':_0x5677f4(0xfe),'warehouse_category':'Raw\x20Materials'}},{'$group':{'_id':_0x5677f4(0xdb),'name':{'$first':_0x5677f4(0xdb)}}},{'$sort':{'name':0x1}}]),console[_0x5677f4(0x123)]('stock_data',_0x2ae858);if(_0x39e9c9[0x0]['language']=='English\x20(US)'){var _0x1a556c=users[_0x5677f4(0x12f)];console[_0x5677f4(0x123)](_0x1a556c);}else{if(_0x39e9c9[0x0]['language']==_0x5677f4(0x103))var _0x1a556c=users[_0x5677f4(0x103)];else{if(_0x39e9c9[0x0][_0x5677f4(0x10d)]==_0x5677f4(0xed))var _0x1a556c=users[_0x5677f4(0xed)];else{if(_0x39e9c9[0x0][_0x5677f4(0x10d)]==_0x5677f4(0x125))var _0x1a556c=users['Spanish'];else{if(_0x39e9c9[0x0][_0x5677f4(0x10d)]==_0x5677f4(0xd3))var _0x1a556c=users[_0x5677f4(0xd3)];else{if(_0x39e9c9[0x0][_0x5677f4(0x10d)]==_0x5677f4(0xcb))var _0x1a556c=users['Portuguese'];else{if(_0x39e9c9[0x0][_0x5677f4(0x10d)]==_0x5677f4(0x116))var _0x1a556c=users[_0x5677f4(0x116)];else{if(_0x39e9c9[0x0]['language']==_0x5677f4(0xb5))var _0x1a556c=users[_0x5677f4(0x106)];}}}}}}}_0x8a2fec[_0x5677f4(0xf5)](_0x5677f4(0xfc),{'success':_0x57969b[_0x5677f4(0xd9)](_0x5677f4(0xd7)),'errors':_0x57969b[_0x5677f4(0xd9)](_0x5677f4(0x101)),'role':_0x9cc962,'master_shop':_0x39e9c9,'profile':_0x52a3a6,'user':_0x2bb2a0,'stock':_0x2ae858,'product':_0x40f4f6,'language':_0x1a556c,'warehouse':warehouse_data});}catch(_0x178bd0){console['log'](_0x178bd0);}}),router[a0_0x391507(0xf2)](a0_0x391507(0x10f),auth,async(_0x1ee0e7,_0x40420f)=>{var _0x30f1bf=a0_0x391507;try{const _0x55ddf3=_0x1ee0e7['params']['id'];console['log'](_0x55ddf3);const _0x4ff690=await purchases_return[_0x30f1bf(0xbe)]({'invoice':_0x1ee0e7['body'][_0x30f1bf(0x11e)]});console[_0x30f1bf(0x123)]('old_data',_0x4ff690);const _0xd03c28=await warehouse[_0x30f1bf(0xbe)]({'name':_0x4ff690[_0x30f1bf(0xf8)],'room':_0x4ff690['to_room']});console[_0x30f1bf(0x123)](_0x30f1bf(0xde),_0xd03c28);const {invoice:_0x4eb672,suppliers:_0x30b183,date:_0x1f6807,warehouse_name:_0x11debf,product_name:_0x5a53d5,purchase_quantity:_0x450f4b,stocks:_0x26b9e9,return_qty:_0x10feb2,note:_0x242927,Room_name:_0x109f70,level:_0x3970de,isle:_0x3868ed,pallet:_0x25e92d,to_warehouse_name:_0xe0a519,to_Room_name:_0xc6a5fb}=_0x1ee0e7['body'];if(typeof _0x5a53d5==_0x30f1bf(0xcf))var _0x3db2bf=[_0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0x115)]],_0x5cd6aa=[_0x1ee0e7[_0x30f1bf(0xc4)]['purchase_quantity']],_0x164b4a=[_0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0xf9)]],_0x41286e=[_0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0xba)]],_0x4037cf=[_0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0xc8)]],_0x52bae4=[_0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0x114)]],_0x3058ed=[_0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0xe8)]],_0x13e40e=[_0x1ee0e7['body']['types']],_0x5b2029=[_0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0x107)]],_0x48c63d=[_0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0xfa)]],_0x314eed=[_0x1ee0e7[_0x30f1bf(0xc4)]['secondary_code_hide']];else var _0x3db2bf=[..._0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0x115)]],_0x5cd6aa=[..._0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0x126)]],_0x164b4a=[..._0x1ee0e7['body']['stocks']],_0x41286e=[..._0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0xba)]],_0x4037cf=[..._0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0xc8)]],_0x52bae4=[..._0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0x114)]],_0x3058ed=[..._0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0xe8)]],_0x5b2029=[..._0x1ee0e7['body'][_0x30f1bf(0x107)]],_0x48c63d=[..._0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0xfa)]],_0x314eed=[..._0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0x110)]],_0x13e40e=[..._0x1ee0e7['body'][_0x30f1bf(0x11c)]];const _0x3e9b70=_0x3db2bf[_0x30f1bf(0xe3)](_0x3b6180=>{return _0x3b6180={'product_name':_0x3b6180};});_0x5cd6aa[_0x30f1bf(0x11d)]((_0x51352a,_0x3295f9)=>{_0x3e9b70[_0x3295f9]['purchase_quantity']=_0x51352a;}),_0x164b4a[_0x30f1bf(0x11d)]((_0x22d4eb,_0x3802bf)=>{_0x3e9b70[_0x3802bf]['stock_quantity']=_0x22d4eb;}),_0x41286e[_0x30f1bf(0x11d)]((_0x31e30a,_0x2553d6)=>{_0x3e9b70[_0x2553d6]['return_qty']=_0x31e30a;}),_0x4037cf[_0x30f1bf(0x11d)]((_0x32660b,_0x142a13)=>{_0x3e9b70[_0x142a13]['bay']=_0x32660b;}),_0x52bae4['forEach']((_0x501fdd,_0x1bdb23)=>{_0x3e9b70[_0x1bdb23]['bin']=_0x501fdd;}),_0x3058ed[_0x30f1bf(0x11d)]((_0x575697,_0xfdd7f3)=>{_0x3e9b70[_0xfdd7f3]['floorlevel']=_0x575697;}),_0x5b2029[_0x30f1bf(0x11d)]((_0x1e6285,_0x50e153)=>{var _0x4fb58c=_0x30f1bf;_0x3e9b70[_0x50e153][_0x4fb58c(0xf4)]=_0x1e6285;}),_0x48c63d['forEach']((_0x1e5c22,_0x1b05e4)=>{var _0x2456e=_0x30f1bf;_0x3e9b70[_0x1b05e4][_0x2456e(0xc6)]=_0x1e5c22;}),_0x314eed['forEach']((_0x168595,_0x1c9a5c)=>{var _0xaa3c30=_0x30f1bf;_0x3e9b70[_0x1c9a5c][_0xaa3c30(0x118)]=_0x168595;}),_0x13e40e[_0x30f1bf(0x11d)]((_0x4b8963,_0x48d8d4)=>{var _0x2fe137=_0x30f1bf;_0x3e9b70[_0x48d8d4][_0x2fe137(0xf3)]=_0x4b8963;});var _0x770c80=0x0;_0x3e9b70['forEach'](_0x5d9f8f=>{var _0x16d6f4=_0x30f1bf;console['log'](_0x16d6f4(0xd8),_0x5d9f8f),(parseInt(_0x5d9f8f[_0x16d6f4(0x126)])<parseInt(_0x5d9f8f[_0x16d6f4(0xba)])||parseInt(_0x5d9f8f[_0x16d6f4(0x127)])<parseInt(_0x5d9f8f[_0x16d6f4(0xba)])||parseInt(_0x5d9f8f['return_qty'])==0x0)&&_0x770c80++;});if(_0x770c80!=0x0)return _0x1ee0e7[_0x30f1bf(0xd9)](_0x30f1bf(0x101),_0x30f1bf(0xd2)),_0x40420f[_0x30f1bf(0xe1)]('back');_0x4ff690[_0x30f1bf(0xca)]['forEach'](_0x4d3dd1=>{var _0x41bfc9=_0x30f1bf;const _0x512f54=_0xd03c28[_0x41bfc9(0xeb)][_0x41bfc9(0xe3)](_0x16b971=>{var _0x424379=_0x41bfc9;_0x16b971[_0x424379(0x115)]==_0x4d3dd1[_0x424379(0x115)]&&_0x16b971[_0x424379(0xc5)]==_0x4d3dd1['floorlevel']&&_0x16b971['type']==_0x4d3dd1[_0x424379(0xf3)]&&_0x16b971[_0x424379(0xdc)]==_0x4d3dd1[_0x424379(0xdc)]&&_0x16b971['bay']==_0x4d3dd1[_0x424379(0xfd)]&&(_0x16b971[_0x424379(0xb2)]=parseInt(_0x16b971[_0x424379(0xb2)])+parseInt(_0x4d3dd1[_0x424379(0xba)]));});}),console[_0x30f1bf(0x123)](_0x30f1bf(0xde),_0xd03c28),await _0xd03c28['save'](),_0x4ff690[_0x30f1bf(0x11e)]=_0x4eb672,_0x4ff690[_0x30f1bf(0xff)]=_0x30b183,_0x4ff690[_0x30f1bf(0x124)]=_0x1f6807,_0x4ff690[_0x30f1bf(0xf1)]=_0x11debf,_0x4ff690[_0x30f1bf(0xca)]=_0x3e9b70,_0x4ff690[_0x30f1bf(0x113)]=_0x242927,_0x4ff690[_0x30f1bf(0x100)]=_0x109f70,_0x4ff690[_0x30f1bf(0xf8)]=_0xe0a519,_0x4ff690['to_room']=_0xc6a5fb;const _0x3f89f5=await _0x4ff690[_0x30f1bf(0xec)](),_0x38318a=await purchases_return[_0x30f1bf(0xbe)]({'invoice':_0x1ee0e7[_0x30f1bf(0xc4)]['invoice']}),_0x1db1e7=await warehouse[_0x30f1bf(0xbe)]({'name':_0x1ee0e7[_0x30f1bf(0xc4)][_0x30f1bf(0xf8)],'room':_0x1ee0e7[_0x30f1bf(0xc4)]['to_Room_name']});_0x38318a[_0x30f1bf(0xca)][_0x30f1bf(0x11d)](_0x396540=>{var _0x1a2291=_0x30f1bf;_0x1db1e7[_0x1a2291(0xeb)][_0x1a2291(0xe3)](_0x2b3faa=>{var _0x350ca2=_0x1a2291;_0x2b3faa['product_name']==_0x396540['product_name']&&_0x2b3faa[_0x350ca2(0xe8)]==_0x396540['pallet']&&(_0x2b3faa[_0x350ca2(0xb2)]=parseInt(_0x2b3faa['product_stock'])-parseInt(_0x396540[_0x350ca2(0xba)]),console[_0x350ca2(0x123)](_0x350ca2(0x112),_0x396540[_0x350ca2(0xba)]));});}),console[_0x30f1bf(0x123)](_0x30f1bf(0x128),_0x1db1e7),await _0x1db1e7[_0x30f1bf(0xec)]();const _0x38095d=await s_payment_data[_0x30f1bf(0xbe)]({'invoice':_0x1ee0e7[_0x30f1bf(0xc4)]['invoice'],'reason':_0x30f1bf(0xe7)});await _0x38095d[_0x30f1bf(0xec)](),_0x1ee0e7[_0x30f1bf(0xd9)](_0x30f1bf(0xd7),'purchase\x20return\x20successfully'),_0x40420f[_0x30f1bf(0xe1)](_0x30f1bf(0x105));}catch(_0x230a42){console[_0x30f1bf(0x123)](_0x230a42),_0x40420f['status'](0xc8)[_0x30f1bf(0xfb)]({'message':_0x230a42[_0x30f1bf(0xcc)]});}}),router['get'](a0_0x391507(0xda),auth,async(_0x5e0b21,_0x3a7c5e)=>{var _0x39b90a=a0_0x391507;try{const {username:_0x480f9e,email:_0x33455b,role:_0x4753b9}=_0x5e0b21[_0x39b90a(0x12d)],_0x30cbc4=_0x5e0b21[_0x39b90a(0x12d)],_0x49c3fe=await profile['findOne']({'email':_0x30cbc4[_0x39b90a(0xd5)]}),_0x5b8282=await master_shop['find']();console[_0x39b90a(0x123)]('master',_0x5b8282);const _0x2fb03f=_0x5e0b21['params']['id'],_0x517e48=await purchases_return[_0x39b90a(0x11b)](_0x2fb03f);console[_0x39b90a(0x123)](_0x517e48);const _0x73a991=await suppliers['findOne']({'name':_0x517e48[_0x39b90a(0xff)]});console[_0x39b90a(0x123)](_0x73a991);if(_0x5b8282[0x0]['language']==_0x39b90a(0xd4)){var _0x45e887=users[_0x39b90a(0x12f)];console[_0x39b90a(0x123)](_0x45e887);}else{if(_0x5b8282[0x0][_0x39b90a(0x10d)]==_0x39b90a(0x103))var _0x45e887=users[_0x39b90a(0x103)];else{if(_0x5b8282[0x0]['language']==_0x39b90a(0xed))var _0x45e887=users[_0x39b90a(0xed)];else{if(_0x5b8282[0x0]['language']==_0x39b90a(0x125))var _0x45e887=users[_0x39b90a(0x125)];else{if(_0x5b8282[0x0][_0x39b90a(0x10d)]==_0x39b90a(0xd3))var _0x45e887=users[_0x39b90a(0xd3)];else{if(_0x5b8282[0x0]['language']=='Portuguese\x20(BR)')var _0x45e887=users['Portuguese'];else{if(_0x5b8282[0x0][_0x39b90a(0x10d)]==_0x39b90a(0x116))var _0x45e887=users['Chinese'];else{if(_0x5b8282[0x0]['language']==_0x39b90a(0xb5))var _0x45e887=users[_0x39b90a(0x106)];}}}}}}}_0x3a7c5e['render'](_0x39b90a(0xc3),{'success':_0x5e0b21['flash']('success'),'errors':_0x5e0b21[_0x39b90a(0xd9)](_0x39b90a(0x101)),'role':_0x30cbc4,'profile':_0x49c3fe,'master_shop':_0x5b8282,'supplier':_0x73a991,'purchase':_0x517e48,'language':_0x45e887});}catch(_0x3d5dc1){console[_0x39b90a(0x123)](_0x3d5dc1);}}),router[a0_0x391507(0xf2)](a0_0x391507(0x129),auth,async(_0x120a57,_0xa2b577)=>{var _0x5cc3ad=a0_0x391507;try{const _0x4ee766=_0x120a57['params']['id'],{invoice:_0x14d01b,suppliers:_0x24a4bd,receivable_amount:_0x49ec34,received_amount:_0x437184}=_0x120a57['body'],_0x16a2bd=await purchases_return['findById'](_0x4ee766);console[_0x5cc3ad(0x123)](_0x16a2bd);var _0x4fb815=_0x49ec34-_0x437184;console[_0x5cc3ad(0x123)](_0x437184),_0x16a2bd[_0x5cc3ad(0x120)]=parseFloat(_0x437184)+parseFloat(_0x16a2bd[_0x5cc3ad(0x120)]),_0x16a2bd[_0x5cc3ad(0x10b)]=_0x4fb815,console[_0x5cc3ad(0x123)](_0x16a2bd);const _0xbb3ebc=await _0x16a2bd[_0x5cc3ad(0xec)](),_0xafde8a=await s_payment_data[_0x5cc3ad(0xbe)]({'invoice':_0x120a57[_0x5cc3ad(0xc4)]['invoice'],'reason':'Purchase\x20Return'});_0xafde8a['amount']=_0x4fb815,await _0xafde8a[_0x5cc3ad(0xec)]();let _0x2405e0=new Date(),_0x126f5a=('0'+_0x2405e0[_0x5cc3ad(0xe5)]())[_0x5cc3ad(0xb6)](-0x2),_0x2e1266=('0'+(_0x2405e0['getMonth']()+0x1))[_0x5cc3ad(0xb6)](-0x2),_0x1e1032=_0x2405e0[_0x5cc3ad(0xc7)](),_0x477a79=_0x1e1032+'-'+_0x2e1266+'-'+_0x126f5a;const _0x44277b=new suppliers_payment({'invoice':_0x14d01b,'date':_0x1e1032+'-'+_0x2e1266+'-'+_0x126f5a,'suppliers':_0x24a4bd,'reason':'Received\x20For\x20Purchase\x20Return','amount':_0x437184}),_0x1c348d=await _0x44277b[_0x5cc3ad(0xec)]();_0x120a57[_0x5cc3ad(0xd9)](_0x5cc3ad(0xd7),_0x5cc3ad(0xe9)),_0xa2b577['redirect'](_0x5cc3ad(0x105));}catch(_0x5e6f99){console[_0x5cc3ad(0x123)](_0x5e6f99);}}),module[a0_0x391507(0xdf)]=router;