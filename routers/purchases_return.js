var a0_0x7bdf35=a0_0x1589;function a0_0x5adf(){var _0x31b9b3=['190fLsyEV','to_room','types','return_qty','type','bay','/view','3824212ACwLui','forEach','Hindi','findOne','to_warehouse_name','purchase_quantity','warehouse_name','10vgBspy','$return_product','$product_details.type','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','slice','Router','secondary_code_hide','render','product_details','received','Arabic','find','message','bin','final','body','Portuguese','968mpIeSv','$supplier_docs','Chinese','$return_product.total','34tyxEfC','user','invoice','Enabled','room','Raw\x20Materials','log','13434ZuAQqa','due_amount','17338112OUjsGg','aggregate','floorlevel','json','email','$return_product.price','../middleware/auth','flash','7161igxxpx','4182SAlLqb','old_warehouse_data','$note','English','language','master','level','6510008tcFpEZ','/invoice/:id','redirect','$receivable','back','$_id','map','/view/:id','$product_details.product_code','/receive_payment/:id','$product_details.primary_code','return_product','old_data','$discount','post','Purchase\x20Return','/purchases_return/view','get','params','to_Room_name','Portuguese\x20(BR)','primary_code_hide','stock_quantity','secondary_code','stocks','$name','$due_amount','success','isle','getFullYear','French','date','amount','$product_details.floorlevel','save','$date','$supplier_docs.mobile','payment\x20successfull','$product_details.bin','stock_data','Return\x20Goods','Arabic\x20(ae)','1082502yBknBf','$supplier_docs.email','errors','Received\x20For\x20Purchase\x20Return','product_stock','exports','return_purchase_edit','getMonth','purchase\x20return\x20successfully','$return_product.return_qty','English\x20(US)','Spanish','$warehouse_name','$received','$return_product.product_name','findById','product_details.return_qtyproduct_details.return_qty','note','suppliers','$product_details.storage','name','express','string','$suppliers','pallet','product_name','product_code_hide','German'];a0_0x5adf=function(){return _0x31b9b3;};return a0_0x5adf();}function a0_0x1589(_0x240097,_0x1196ef){var _0x5adfa2=a0_0x5adf();return a0_0x1589=function(_0x158949,_0x1a8b04){_0x158949=_0x158949-0x17d;var _0x472076=_0x5adfa2[_0x158949];return _0x472076;},a0_0x1589(_0x240097,_0x1196ef);}(function(_0x16c714,_0x3958cf){var _0x1dc2d5=a0_0x1589,_0x2909a0=_0x16c714();while(!![]){try{var _0x302981=-parseInt(_0x1dc2d5(0x1e5))/0x1*(parseInt(_0x1dc2d5(0x1d3))/0x2)+parseInt(_0x1dc2d5(0x1e4))/0x3*(-parseInt(_0x1dc2d5(0x1cf))/0x4)+-parseInt(_0x1dc2d5(0x1b0))/0x5*(parseInt(_0x1dc2d5(0x1da))/0x6)+parseInt(_0x1dc2d5(0x1b7))/0x7+-parseInt(_0x1dc2d5(0x1ec))/0x8+parseInt(_0x1dc2d5(0x194))/0x9*(-parseInt(_0x1dc2d5(0x1be))/0xa)+parseInt(_0x1dc2d5(0x1dc))/0xb;if(_0x302981===_0x3958cf)break;else _0x2909a0['push'](_0x2909a0['shift']());}catch(_0x34b363){_0x2909a0['push'](_0x2909a0['shift']());}}}(a0_0x5adf,0x6eff9));const express=require(a0_0x7bdf35(0x1a9)),app=express(),router=express[a0_0x7bdf35(0x1c3)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require('../models/all_models'),auth=require(a0_0x7bdf35(0x1e2)),users=require('../public/language/languages.json');router['get'](a0_0x7bdf35(0x1b6),auth,async(_0x42267d,_0xfaee11)=>{var _0x30fc45=a0_0x7bdf35;try{const {username:_0xd4f588,email:_0x12d00f,role:_0x57ee9e}=_0x42267d[_0x30fc45(0x1d4)],_0x128dca=_0x42267d['user'],_0x17be37=await profile[_0x30fc45(0x1ba)]({'email':_0x128dca[_0x30fc45(0x1e0)]}),_0x370231=await master_shop['find']();console[_0x30fc45(0x1d9)](_0x30fc45(0x1ea),_0x370231);const _0x522d23=await purchases_return[_0x30fc45(0x1dd)]([{'$lookup':{'from':'suppliers','localField':_0x30fc45(0x1a6),'foreignField':_0x30fc45(0x1a8),'as':'supplier_docs'}},{'$unwind':_0x30fc45(0x1bf)},{'$unwind':_0x30fc45(0x1d0)},{'$group':{'_id':_0x30fc45(0x1f1),'invoice':{'$first':'$invoice'},'date':{'$first':_0x30fc45(0x18d)},'suppliers':{'$first':_0x30fc45(0x1ab)},'warehouse_name':{'$first':_0x30fc45(0x1a0)},'product_name':{'$first':_0x30fc45(0x1a2)},'return_qty':{'$first':'$return_product.return_qty'},'price':{'$first':_0x30fc45(0x1e1)},'total':{'$sum':_0x30fc45(0x1d2)},'note':{'$first':_0x30fc45(0x1e7)},'total_amount':{'$first':'$total_amount'},'discount':{'$first':_0x30fc45(0x1f9)},'receivable':{'$first':_0x30fc45(0x1ef)},'received':{'$first':_0x30fc45(0x1a1)},'due_amount':{'$first':_0x30fc45(0x184)},'mobile':{'$first':_0x30fc45(0x18e)},'email':{'$first':_0x30fc45(0x195)},'address':{'$first':'$supplier_docs.address'},'return_sum_qty':{'$sum':_0x30fc45(0x19d)}}}]);console[_0x30fc45(0x1d9)](_0x522d23);if(_0x370231[0x0][_0x30fc45(0x1e9)]==_0x30fc45(0x19e)){var _0x502d49=users[_0x30fc45(0x1e8)];console[_0x30fc45(0x1d9)](_0x502d49);}else{if(_0x370231[0x0][_0x30fc45(0x1e9)]==_0x30fc45(0x1b9))var _0x502d49=users['Hindi'];else{if(_0x370231[0x0][_0x30fc45(0x1e9)]==_0x30fc45(0x1af))var _0x502d49=users['German'];else{if(_0x370231[0x0][_0x30fc45(0x1e9)]==_0x30fc45(0x19f))var _0x502d49=users[_0x30fc45(0x19f)];else{if(_0x370231[0x0][_0x30fc45(0x1e9)]==_0x30fc45(0x188))var _0x502d49=users[_0x30fc45(0x188)];else{if(_0x370231[0x0][_0x30fc45(0x1e9)]=='Portuguese\x20(BR)')var _0x502d49=users[_0x30fc45(0x1ce)];else{if(_0x370231[0x0][_0x30fc45(0x1e9)]=='Chinese')var _0x502d49=users['Chinese'];else{if(_0x370231[0x0]['language']==_0x30fc45(0x193))var _0x502d49=users['Arabic'];}}}}}}}_0xfaee11[_0x30fc45(0x1c5)]('purchases_return',{'success':_0x42267d[_0x30fc45(0x1e3)]('success'),'errors':_0x42267d[_0x30fc45(0x1e3)](_0x30fc45(0x196)),'role':_0x128dca,'profile':_0x17be37,'master_shop':_0x370231,'user':_0x522d23,'language':_0x502d49});}catch(_0x19fea9){console[_0x30fc45(0x1d9)](_0x19fea9);}}),router[a0_0x7bdf35(0x1fd)]('/view/:id',auth,async(_0x54aac7,_0x17bdb1)=>{var _0x5a446c=a0_0x7bdf35;try{const {username:_0x50ba94,email:_0x8b34e7,role:_0x401561}=_0x54aac7[_0x5a446c(0x1d4)],_0x3c0ef2=_0x54aac7[_0x5a446c(0x1d4)],_0x971e1f=await profile[_0x5a446c(0x1ba)]({'email':_0x3c0ef2['email']}),_0x52b7f9=await product[_0x5a446c(0x1c9)]({}),_0x481234=await master_shop[_0x5a446c(0x1c9)]();console[_0x5a446c(0x1d9)]('master',_0x481234),console[_0x5a446c(0x1d9)](_0x54aac7[_0x5a446c(0x1cd)]);const _0x43d0a8=_0x54aac7[_0x5a446c(0x1fe)]['id'],_0x1dcab4=await purchases_return[_0x5a446c(0x1a3)](_0x43d0a8);console[_0x5a446c(0x1d9)](_0x1dcab4);const _0x2dd57c=await warehouse[_0x5a446c(0x1dd)]([{'$match':{'name':_0x1dcab4[_0x5a446c(0x1bd)],'room':_0x1dcab4[_0x5a446c(0x1d7)]}},{'$unwind':'$product_details'},{'$group':{'_id':'$product_details._id','name':{'$first':'$product_details.product_name'},'product_stock':{'$first':'$product_details.product_stock'},'bay':{'$first':'$product_details.bay'},'bin':{'$first':_0x5a446c(0x190)},'type':{'$first':_0x5a446c(0x1c0)},'floorlevel':{'$first':_0x5a446c(0x18b)},'primary_code':{'$first':_0x5a446c(0x1f6)},'secondary_code':{'$first':'$product_details.secondary_code'},'product_code':{'$first':_0x5a446c(0x1f4)},'storage':{'$first':_0x5a446c(0x1a7)},'rack':{'$first':'$product_details.rack'}}}]);warehouse_data=await warehouse[_0x5a446c(0x1dd)]([{'$match':{'status':_0x5a446c(0x1d6),'name':_0x5a446c(0x192),'warehouse_category':_0x5a446c(0x1d8)}},{'$group':{'_id':_0x5a446c(0x183),'name':{'$first':_0x5a446c(0x183)}}},{'$sort':{'name':0x1}}]),console[_0x5a446c(0x1d9)](_0x5a446c(0x191),_0x2dd57c);if(_0x481234[0x0][_0x5a446c(0x1e9)]=='English\x20(US)'){var _0x1b0dbd=users[_0x5a446c(0x1e8)];console['log'](_0x1b0dbd);}else{if(_0x481234[0x0]['language']=='Hindi')var _0x1b0dbd=users[_0x5a446c(0x1b9)];else{if(_0x481234[0x0][_0x5a446c(0x1e9)]==_0x5a446c(0x1af))var _0x1b0dbd=users[_0x5a446c(0x1af)];else{if(_0x481234[0x0]['language']==_0x5a446c(0x19f))var _0x1b0dbd=users[_0x5a446c(0x19f)];else{if(_0x481234[0x0][_0x5a446c(0x1e9)]==_0x5a446c(0x188))var _0x1b0dbd=users[_0x5a446c(0x188)];else{if(_0x481234[0x0][_0x5a446c(0x1e9)]==_0x5a446c(0x17e))var _0x1b0dbd=users[_0x5a446c(0x1ce)];else{if(_0x481234[0x0]['language']==_0x5a446c(0x1d1))var _0x1b0dbd=users['Chinese'];else{if(_0x481234[0x0][_0x5a446c(0x1e9)]==_0x5a446c(0x193))var _0x1b0dbd=users['Arabic'];}}}}}}}_0x17bdb1[_0x5a446c(0x1c5)](_0x5a446c(0x19a),{'success':_0x54aac7[_0x5a446c(0x1e3)](_0x5a446c(0x185)),'errors':_0x54aac7[_0x5a446c(0x1e3)](_0x5a446c(0x196)),'role':_0x3c0ef2,'master_shop':_0x481234,'profile':_0x971e1f,'user':_0x1dcab4,'stock':_0x2dd57c,'product':_0x52b7f9,'language':_0x1b0dbd,'warehouse':warehouse_data});}catch(_0x5b6acc){console['log'](_0x5b6acc);}}),router[a0_0x7bdf35(0x1fa)](a0_0x7bdf35(0x1f3),auth,async(_0x101706,_0x4028e9)=>{var _0x21d27a=a0_0x7bdf35;try{const _0x470f94=_0x101706[_0x21d27a(0x1fe)]['id'];console[_0x21d27a(0x1d9)](_0x470f94);const _0x167f97=await purchases_return[_0x21d27a(0x1ba)]({'invoice':_0x101706[_0x21d27a(0x1cd)]['invoice']});console[_0x21d27a(0x1d9)](_0x21d27a(0x1f8),_0x167f97);const _0x57790d=await warehouse[_0x21d27a(0x1ba)]({'name':_0x167f97[_0x21d27a(0x1bb)],'room':_0x167f97['to_room']});console[_0x21d27a(0x1d9)](_0x21d27a(0x1e6),_0x57790d);const {invoice:_0x1f8940,suppliers:_0xb12c4b,date:_0x37d1c7,warehouse_name:_0x3d590a,product_name:_0x1dca27,purchase_quantity:_0x2ee427,stocks:_0x3f4564,return_qty:_0x56a99b,note:_0x117802,Room_name:_0x20f1ac,level:_0x107905,isle:_0x3c30bf,pallet:_0x1728eb,to_warehouse_name:_0x5c6419,to_Room_name:_0x480ea8}=_0x101706['body'];if(typeof _0x1dca27==_0x21d27a(0x1aa))var _0x5b7e9d=[_0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x1ad)]],_0x36a700=[_0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x1bc)]],_0x152d28=[_0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x182)]],_0x526c56=[_0x101706['body'][_0x21d27a(0x1b3)]],_0xcbe557=[_0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x1eb)]],_0x2b5c84=[_0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x186)]],_0x2a45e4=[_0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x1ac)]],_0x5242ef=[_0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x1b2)]],_0x462191=[_0x101706['body'][_0x21d27a(0x1ae)]],_0x19d21d=[_0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x17f)]],_0x41ecd8=[_0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x1c4)]];else var _0x5b7e9d=[..._0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x1ad)]],_0x36a700=[..._0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x1bc)]],_0x152d28=[..._0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x182)]],_0x526c56=[..._0x101706[_0x21d27a(0x1cd)]['return_qty']],_0xcbe557=[..._0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x1eb)]],_0x2b5c84=[..._0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x186)]],_0x2a45e4=[..._0x101706[_0x21d27a(0x1cd)]['pallet']],_0x462191=[..._0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x1ae)]],_0x19d21d=[..._0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x17f)]],_0x41ecd8=[..._0x101706['body'][_0x21d27a(0x1c4)]],_0x5242ef=[..._0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x1b2)]];const _0xb3662a=_0x5b7e9d[_0x21d27a(0x1f2)](_0x43477d=>{return _0x43477d={'product_name':_0x43477d};});_0x36a700['forEach']((_0x776831,_0x5e086d)=>{_0xb3662a[_0x5e086d]['purchase_quantity']=_0x776831;}),_0x152d28[_0x21d27a(0x1b8)]((_0x262a22,_0x4155f1)=>{var _0x2b291b=_0x21d27a;_0xb3662a[_0x4155f1][_0x2b291b(0x180)]=_0x262a22;}),_0x526c56[_0x21d27a(0x1b8)]((_0x42004b,_0x45a521)=>{var _0x51ec9b=_0x21d27a;_0xb3662a[_0x45a521][_0x51ec9b(0x1b3)]=_0x42004b;}),_0xcbe557[_0x21d27a(0x1b8)]((_0x5b7074,_0xcb6c29)=>{var _0x5835d7=_0x21d27a;_0xb3662a[_0xcb6c29][_0x5835d7(0x1b5)]=_0x5b7074;}),_0x2b5c84[_0x21d27a(0x1b8)]((_0x2f7f27,_0x754c9f)=>{var _0x228be0=_0x21d27a;_0xb3662a[_0x754c9f][_0x228be0(0x1cb)]=_0x2f7f27;}),_0x2a45e4[_0x21d27a(0x1b8)]((_0x34b603,_0x41d1c0)=>{var _0x1a9165=_0x21d27a;_0xb3662a[_0x41d1c0][_0x1a9165(0x1de)]=_0x34b603;}),_0x462191[_0x21d27a(0x1b8)]((_0x434ea6,_0xb9e311)=>{_0xb3662a[_0xb9e311]['product_code']=_0x434ea6;}),_0x19d21d[_0x21d27a(0x1b8)]((_0x3d46c3,_0x3d2c71)=>{_0xb3662a[_0x3d2c71]['primary_code']=_0x3d46c3;}),_0x41ecd8[_0x21d27a(0x1b8)]((_0x14006e,_0x5e6121)=>{var _0x67dea3=_0x21d27a;_0xb3662a[_0x5e6121][_0x67dea3(0x181)]=_0x14006e;}),_0x5242ef[_0x21d27a(0x1b8)]((_0x5e7ce7,_0x3044a9)=>{_0xb3662a[_0x3044a9]['type']=_0x5e7ce7;});var _0x527257=0x0;_0xb3662a['forEach'](_0x55a4b7=>{var _0x4ef5d9=_0x21d27a;console[_0x4ef5d9(0x1d9)]('foreach\x20newproduct',_0x55a4b7),(parseInt(_0x55a4b7['purchase_quantity'])<parseInt(_0x55a4b7[_0x4ef5d9(0x1b3)])||parseInt(_0x55a4b7[_0x4ef5d9(0x180)])<parseInt(_0x55a4b7[_0x4ef5d9(0x1b3)])||parseInt(_0x55a4b7['return_qty'])==0x0)&&_0x527257++;});if(_0x527257!=0x0)return _0x101706[_0x21d27a(0x1e3)]('errors',_0x21d27a(0x1c1)),_0x4028e9[_0x21d27a(0x1ee)](_0x21d27a(0x1f0));_0x167f97[_0x21d27a(0x1f7)][_0x21d27a(0x1b8)](_0x4066af=>{var _0x3fedd2=_0x21d27a;const _0x588bf1=_0x57790d['product_details'][_0x3fedd2(0x1f2)](_0xbeed15=>{var _0x56afb7=_0x3fedd2;_0xbeed15[_0x56afb7(0x1ad)]==_0x4066af['product_name']&&_0xbeed15['floorlevel']==_0x4066af[_0x56afb7(0x1de)]&&_0xbeed15[_0x56afb7(0x1b4)]==_0x4066af[_0x56afb7(0x1b4)]&&_0xbeed15['bin']==_0x4066af[_0x56afb7(0x1cb)]&&_0xbeed15[_0x56afb7(0x1b5)]==_0x4066af[_0x56afb7(0x1b5)]&&(_0xbeed15[_0x56afb7(0x198)]=parseInt(_0xbeed15[_0x56afb7(0x198)])+parseInt(_0x4066af['return_qty']));});}),console[_0x21d27a(0x1d9)]('old_warehouse_data',_0x57790d),await _0x57790d[_0x21d27a(0x18c)](),_0x167f97[_0x21d27a(0x1d5)]=_0x1f8940,_0x167f97[_0x21d27a(0x1a6)]=_0xb12c4b,_0x167f97[_0x21d27a(0x189)]=_0x37d1c7,_0x167f97[_0x21d27a(0x1bd)]=_0x3d590a,_0x167f97[_0x21d27a(0x1f7)]=_0xb3662a,_0x167f97[_0x21d27a(0x1a5)]=_0x117802,_0x167f97['room']=_0x20f1ac,_0x167f97[_0x21d27a(0x1bb)]=_0x5c6419,_0x167f97[_0x21d27a(0x1b1)]=_0x480ea8;const _0x1c1fe0=await _0x167f97[_0x21d27a(0x18c)](),_0x281ccf=await purchases_return[_0x21d27a(0x1ba)]({'invoice':_0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x1d5)]}),_0x5aca0f=await warehouse[_0x21d27a(0x1ba)]({'name':_0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x1bb)],'room':_0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x17d)]});_0x281ccf['return_product'][_0x21d27a(0x1b8)](_0x2ad408=>{var _0x1e9607=_0x21d27a;_0x5aca0f[_0x1e9607(0x1c6)][_0x1e9607(0x1f2)](_0x2e6519=>{var _0x9675f6=_0x1e9607;_0x2e6519['product_name']==_0x2ad408[_0x9675f6(0x1ad)]&&_0x2e6519[_0x9675f6(0x1ac)]==_0x2ad408['pallet']&&(_0x2e6519['product_stock']=parseInt(_0x2e6519[_0x9675f6(0x198)])-parseInt(_0x2ad408[_0x9675f6(0x1b3)]),console[_0x9675f6(0x1d9)](_0x9675f6(0x1a4),_0x2ad408[_0x9675f6(0x1b3)]));});}),console[_0x21d27a(0x1d9)](_0x21d27a(0x1cc),_0x5aca0f),await _0x5aca0f[_0x21d27a(0x18c)]();const _0xbdbc35=await s_payment_data[_0x21d27a(0x1ba)]({'invoice':_0x101706[_0x21d27a(0x1cd)][_0x21d27a(0x1d5)],'reason':'Purchase\x20Return'});await _0xbdbc35[_0x21d27a(0x18c)](),_0x101706[_0x21d27a(0x1e3)](_0x21d27a(0x185),_0x21d27a(0x19c)),_0x4028e9[_0x21d27a(0x1ee)](_0x21d27a(0x1fc));}catch(_0x10c61c){console['log'](_0x10c61c),_0x4028e9['status'](0xc8)[_0x21d27a(0x1df)]({'message':_0x10c61c[_0x21d27a(0x1ca)]});}}),router['get'](a0_0x7bdf35(0x1ed),auth,async(_0x228737,_0x174ddf)=>{var _0x147d21=a0_0x7bdf35;try{const {username:_0x1cd1c2,email:_0x1244ac,role:_0x1b6fd7}=_0x228737[_0x147d21(0x1d4)],_0x3638c6=_0x228737[_0x147d21(0x1d4)],_0x4935ba=await profile[_0x147d21(0x1ba)]({'email':_0x3638c6[_0x147d21(0x1e0)]}),_0x47e303=await master_shop[_0x147d21(0x1c9)]();console[_0x147d21(0x1d9)](_0x147d21(0x1ea),_0x47e303);const _0x44ec51=_0x228737['params']['id'],_0x154404=await purchases_return[_0x147d21(0x1a3)](_0x44ec51);console['log'](_0x154404);const _0x3f104d=await suppliers[_0x147d21(0x1ba)]({'name':_0x154404[_0x147d21(0x1a6)]});console[_0x147d21(0x1d9)](_0x3f104d);if(_0x47e303[0x0]['language']==_0x147d21(0x19e)){var _0x40c800=users[_0x147d21(0x1e8)];console[_0x147d21(0x1d9)](_0x40c800);}else{if(_0x47e303[0x0][_0x147d21(0x1e9)]==_0x147d21(0x1b9))var _0x40c800=users[_0x147d21(0x1b9)];else{if(_0x47e303[0x0][_0x147d21(0x1e9)]==_0x147d21(0x1af))var _0x40c800=users[_0x147d21(0x1af)];else{if(_0x47e303[0x0][_0x147d21(0x1e9)]=='Spanish')var _0x40c800=users[_0x147d21(0x19f)];else{if(_0x47e303[0x0][_0x147d21(0x1e9)]==_0x147d21(0x188))var _0x40c800=users['French'];else{if(_0x47e303[0x0][_0x147d21(0x1e9)]==_0x147d21(0x17e))var _0x40c800=users[_0x147d21(0x1ce)];else{if(_0x47e303[0x0][_0x147d21(0x1e9)]==_0x147d21(0x1d1))var _0x40c800=users['Chinese'];else{if(_0x47e303[0x0][_0x147d21(0x1e9)]==_0x147d21(0x193))var _0x40c800=users[_0x147d21(0x1c8)];}}}}}}}_0x174ddf['render']('return_purchase_invoice',{'success':_0x228737[_0x147d21(0x1e3)](_0x147d21(0x185)),'errors':_0x228737[_0x147d21(0x1e3)](_0x147d21(0x196)),'role':_0x3638c6,'profile':_0x4935ba,'master_shop':_0x47e303,'supplier':_0x3f104d,'purchase':_0x154404,'language':_0x40c800});}catch(_0x5c31e6){console[_0x147d21(0x1d9)](_0x5c31e6);}}),router[a0_0x7bdf35(0x1fa)](a0_0x7bdf35(0x1f5),auth,async(_0x1cd139,_0x85db74)=>{var _0x503c4b=a0_0x7bdf35;try{const _0x52075a=_0x1cd139[_0x503c4b(0x1fe)]['id'],{invoice:_0x2abdb0,suppliers:_0x27b15a,receivable_amount:_0x132396,received_amount:_0x43a439}=_0x1cd139[_0x503c4b(0x1cd)],_0x5798ad=await purchases_return[_0x503c4b(0x1a3)](_0x52075a);console[_0x503c4b(0x1d9)](_0x5798ad);var _0x87ef1a=_0x132396-_0x43a439;console[_0x503c4b(0x1d9)](_0x43a439),_0x5798ad[_0x503c4b(0x1c7)]=parseFloat(_0x43a439)+parseFloat(_0x5798ad[_0x503c4b(0x1c7)]),_0x5798ad[_0x503c4b(0x1db)]=_0x87ef1a,console['log'](_0x5798ad);const _0x41e4f5=await _0x5798ad[_0x503c4b(0x18c)](),_0x9272b8=await s_payment_data[_0x503c4b(0x1ba)]({'invoice':_0x1cd139[_0x503c4b(0x1cd)][_0x503c4b(0x1d5)],'reason':_0x503c4b(0x1fb)});_0x9272b8[_0x503c4b(0x18a)]=_0x87ef1a,await _0x9272b8[_0x503c4b(0x18c)]();let _0x2a8100=new Date(),_0x4a1e6d=('0'+_0x2a8100['getDate']())[_0x503c4b(0x1c2)](-0x2),_0x7734fc=('0'+(_0x2a8100[_0x503c4b(0x19b)]()+0x1))[_0x503c4b(0x1c2)](-0x2),_0x3f7583=_0x2a8100[_0x503c4b(0x187)](),_0x4f9085=_0x3f7583+'-'+_0x7734fc+'-'+_0x4a1e6d;const _0x417806=new suppliers_payment({'invoice':_0x2abdb0,'date':_0x3f7583+'-'+_0x7734fc+'-'+_0x4a1e6d,'suppliers':_0x27b15a,'reason':_0x503c4b(0x197),'amount':_0x43a439}),_0x206bc6=await _0x417806[_0x503c4b(0x18c)]();_0x1cd139[_0x503c4b(0x1e3)](_0x503c4b(0x185),_0x503c4b(0x18f)),_0x85db74[_0x503c4b(0x1ee)](_0x503c4b(0x1fc));}catch(_0x2c8158){console[_0x503c4b(0x1d9)](_0x2c8158);}}),module[a0_0x7bdf35(0x199)]=router;