function a0_0x2db6(_0x330cd4,_0x43bf69){var _0x5471b9=a0_0x5471();return a0_0x2db6=function(_0x2db6ce,_0x4d9272){_0x2db6ce=_0x2db6ce-0x13c;var _0x210a58=_0x5471b9[_0x2db6ce];return _0x210a58;},a0_0x2db6(_0x330cd4,_0x43bf69);}function a0_0x5471(){var _0x4b82a9=['../models/all_models','old_data','$product_details.floorlevel','primary_code_hide','Purchase\x20Return','pallet','English','warehouse_name','errors','map','../middleware/auth','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','8qYacyM','Chinese','$return_product.total','$product_details.secondary_code','save','stock_quantity','10QNxRSK','findOne','product_stock','findById','Arabic','name','product_code','render','11694483UiCBju','$invoice','$product_details.type','English\x20(US)','154417WwEovr','$product_details.bin','return_purchase_edit','$total_amount','suppliers','$note','product_details.return_qtyproduct_details.return_qty','types','master','purchase_quantity','$product_details.rack','amount','$product_details.primary_code','/invoice/:id','to_warehouse_name','$due_amount','exports','isle','German','Enabled','product_name','$product_details.product_name','$supplier_docs.email','$return_product','json','purchases_return','string','note','to_room','return_qty','stock_data','/view/:id','to_Room_name','$return_product.return_qty','$supplier_docs','message','$received','Portuguese\x20(BR)','/purchases_return/view','post','purchase\x20return\x20successfully','1242834iLgiDZ','$discount','type','$product_details.storage','stocks','foreach\x20newproduct','params','Hindi','room','primary_code','payment\x20successfull','6012335JrWnZE','Arabic\x20(ae)','success','return_purchase_invoice','get','redirect','$name','$suppliers','$supplier_docs.mobile','1138874VZbmdj','214806madRRx','flash','$return_product.price','forEach','level','return_product','find','bin','log','status','email','Return\x20Goods','Spanish','date','bay','express','777352NIUxcX','French','secondary_code_hide','body','$_id','Portuguese','$return_product.product_name','$product_details.product_stock','/receive_payment/:id','old_warehouse_data','product_code_hide','slice','final','getMonth','5eSqixC','$receivable','Raw\x20Materials','invoice','$supplier_docs.address','language','user','floorlevel','supplier_docs'];a0_0x5471=function(){return _0x4b82a9;};return a0_0x5471();}var a0_0x44f5e2=a0_0x2db6;(function(_0x377e5f,_0x46f189){var _0x4d3c1a=a0_0x2db6,_0x2df710=_0x377e5f();while(!![]){try{var _0x410105=-parseInt(_0x4d3c1a(0x17e))/0x1+parseInt(_0x4d3c1a(0x1bb))/0x2+parseInt(_0x4d3c1a(0x1bc))/0x3+-parseInt(_0x4d3c1a(0x149))/0x4+-parseInt(_0x4d3c1a(0x157))/0x5*(parseInt(_0x4d3c1a(0x1a7))/0x6)+-parseInt(_0x4d3c1a(0x1b2))/0x7*(parseInt(_0x4d3c1a(0x16c))/0x8)+parseInt(_0x4d3c1a(0x17a))/0x9*(parseInt(_0x4d3c1a(0x172))/0xa);if(_0x410105===_0x46f189)break;else _0x2df710['push'](_0x2df710['shift']());}catch(_0x3dc69d){_0x2df710['push'](_0x2df710['shift']());}}}(a0_0x5471,0x8053b));const express=require(a0_0x44f5e2(0x148)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x44f5e2(0x160)),auth=require(a0_0x44f5e2(0x16a)),users=require('../public/language/languages.json');router['get']('/view',auth,async(_0x55a3ff,_0x3fdb0a)=>{var _0x5b5157=a0_0x44f5e2;try{const {username:_0x1e18a2,email:_0x12cd95,role:_0x126ed8}=_0x55a3ff[_0x5b5157(0x15d)],_0x5be215=_0x55a3ff[_0x5b5157(0x15d)],_0x14071e=await profile[_0x5b5157(0x173)]({'email':_0x5be215['email']}),_0x501534=await master_shop[_0x5b5157(0x13f)]();console[_0x5b5157(0x141)](_0x5b5157(0x186),_0x501534);const _0x35f2e7=await purchases_return['aggregate']([{'$lookup':{'from':_0x5b5157(0x182),'localField':_0x5b5157(0x182),'foreignField':_0x5b5157(0x177),'as':_0x5b5157(0x15f)}},{'$unwind':_0x5b5157(0x195)},{'$unwind':_0x5b5157(0x1a0)},{'$group':{'_id':_0x5b5157(0x14d),'invoice':{'$first':_0x5b5157(0x17b)},'date':{'$first':'$date'},'suppliers':{'$first':_0x5b5157(0x1b9)},'warehouse_name':{'$first':'$warehouse_name'},'product_name':{'$first':_0x5b5157(0x14f)},'return_qty':{'$first':'$return_product.return_qty'},'price':{'$first':_0x5b5157(0x1be)},'total':{'$sum':_0x5b5157(0x16e)},'note':{'$first':_0x5b5157(0x183)},'total_amount':{'$first':_0x5b5157(0x181)},'discount':{'$first':_0x5b5157(0x1a8)},'receivable':{'$first':_0x5b5157(0x158)},'received':{'$first':_0x5b5157(0x1a2)},'due_amount':{'$first':_0x5b5157(0x18d)},'mobile':{'$first':_0x5b5157(0x1ba)},'email':{'$first':_0x5b5157(0x194)},'address':{'$first':_0x5b5157(0x15b)},'return_sum_qty':{'$sum':_0x5b5157(0x19f)}}}]);console[_0x5b5157(0x141)](_0x35f2e7);if(_0x501534[0x0][_0x5b5157(0x15c)]==_0x5b5157(0x17d)){var _0x17248f=users['English'];console[_0x5b5157(0x141)](_0x17248f);}else{if(_0x501534[0x0][_0x5b5157(0x15c)]==_0x5b5157(0x1ae))var _0x17248f=users[_0x5b5157(0x1ae)];else{if(_0x501534[0x0][_0x5b5157(0x15c)]=='German')var _0x17248f=users[_0x5b5157(0x190)];else{if(_0x501534[0x0][_0x5b5157(0x15c)]==_0x5b5157(0x145))var _0x17248f=users[_0x5b5157(0x145)];else{if(_0x501534[0x0][_0x5b5157(0x15c)]==_0x5b5157(0x14a))var _0x17248f=users[_0x5b5157(0x14a)];else{if(_0x501534[0x0][_0x5b5157(0x15c)]=='Portuguese\x20(BR)')var _0x17248f=users[_0x5b5157(0x14e)];else{if(_0x501534[0x0]['language']=='Chinese')var _0x17248f=users[_0x5b5157(0x16d)];else{if(_0x501534[0x0][_0x5b5157(0x15c)]==_0x5b5157(0x1b3))var _0x17248f=users[_0x5b5157(0x176)];}}}}}}}_0x3fdb0a[_0x5b5157(0x179)](_0x5b5157(0x197),{'success':_0x55a3ff['flash'](_0x5b5157(0x1b4)),'errors':_0x55a3ff['flash'](_0x5b5157(0x168)),'role':_0x5be215,'profile':_0x14071e,'master_shop':_0x501534,'user':_0x35f2e7,'language':_0x17248f});}catch(_0x3dd948){console[_0x5b5157(0x141)](_0x3dd948);}}),router[a0_0x44f5e2(0x1b6)](a0_0x44f5e2(0x19d),auth,async(_0x2a4612,_0x27c078)=>{var _0x468fc7=a0_0x44f5e2;try{const {username:_0xd1eb0b,email:_0x214f34,role:_0x42c68d}=_0x2a4612[_0x468fc7(0x15d)],_0x1afcca=_0x2a4612[_0x468fc7(0x15d)],_0x53c50a=await profile[_0x468fc7(0x173)]({'email':_0x1afcca['email']}),_0x389362=await product['find']({}),_0x11c88b=await master_shop[_0x468fc7(0x13f)]();console[_0x468fc7(0x141)](_0x468fc7(0x186),_0x11c88b),console[_0x468fc7(0x141)](_0x2a4612[_0x468fc7(0x14c)]);const _0x303f69=_0x2a4612['params']['id'],_0x447423=await purchases_return[_0x468fc7(0x175)](_0x303f69);console['log'](_0x447423);const _0x4dcb23=await warehouse['aggregate']([{'$match':{'name':_0x447423[_0x468fc7(0x167)],'room':_0x447423[_0x468fc7(0x1af)]}},{'$unwind':'$product_details'},{'$group':{'_id':'$product_details._id','name':{'$first':_0x468fc7(0x193)},'product_stock':{'$first':_0x468fc7(0x150)},'bay':{'$first':'$product_details.bay'},'bin':{'$first':_0x468fc7(0x17f)},'type':{'$first':_0x468fc7(0x17c)},'floorlevel':{'$first':_0x468fc7(0x162)},'primary_code':{'$first':_0x468fc7(0x18a)},'secondary_code':{'$first':_0x468fc7(0x16f)},'product_code':{'$first':'$product_details.product_code'},'storage':{'$first':_0x468fc7(0x1aa)},'rack':{'$first':_0x468fc7(0x188)}}}]);warehouse_data=await warehouse['aggregate']([{'$match':{'status':_0x468fc7(0x191),'name':_0x468fc7(0x144),'warehouse_category':_0x468fc7(0x159)}},{'$group':{'_id':'$name','name':{'$first':_0x468fc7(0x1b8)}}},{'$sort':{'name':0x1}}]),console[_0x468fc7(0x141)](_0x468fc7(0x19c),_0x4dcb23);if(_0x11c88b[0x0][_0x468fc7(0x15c)]==_0x468fc7(0x17d)){var _0x40c9d7=users[_0x468fc7(0x166)];console[_0x468fc7(0x141)](_0x40c9d7);}else{if(_0x11c88b[0x0][_0x468fc7(0x15c)]==_0x468fc7(0x1ae))var _0x40c9d7=users[_0x468fc7(0x1ae)];else{if(_0x11c88b[0x0][_0x468fc7(0x15c)]==_0x468fc7(0x190))var _0x40c9d7=users[_0x468fc7(0x190)];else{if(_0x11c88b[0x0]['language']=='Spanish')var _0x40c9d7=users[_0x468fc7(0x145)];else{if(_0x11c88b[0x0][_0x468fc7(0x15c)]==_0x468fc7(0x14a))var _0x40c9d7=users[_0x468fc7(0x14a)];else{if(_0x11c88b[0x0][_0x468fc7(0x15c)]==_0x468fc7(0x1a3))var _0x40c9d7=users['Portuguese'];else{if(_0x11c88b[0x0][_0x468fc7(0x15c)]==_0x468fc7(0x16d))var _0x40c9d7=users[_0x468fc7(0x16d)];else{if(_0x11c88b[0x0]['language']==_0x468fc7(0x1b3))var _0x40c9d7=users['Arabic'];}}}}}}}_0x27c078[_0x468fc7(0x179)](_0x468fc7(0x180),{'success':_0x2a4612[_0x468fc7(0x1bd)](_0x468fc7(0x1b4)),'errors':_0x2a4612['flash'](_0x468fc7(0x168)),'role':_0x1afcca,'master_shop':_0x11c88b,'profile':_0x53c50a,'user':_0x447423,'stock':_0x4dcb23,'product':_0x389362,'language':_0x40c9d7,'warehouse':warehouse_data});}catch(_0x53cf02){console[_0x468fc7(0x141)](_0x53cf02);}}),router[a0_0x44f5e2(0x1a5)](a0_0x44f5e2(0x19d),auth,async(_0x21ebc8,_0x521d59)=>{var _0x5b3373=a0_0x44f5e2;try{const _0x45baaf=_0x21ebc8['params']['id'];console[_0x5b3373(0x141)](_0x45baaf);const _0x20a99a=await purchases_return[_0x5b3373(0x173)]({'invoice':_0x21ebc8[_0x5b3373(0x14c)][_0x5b3373(0x15a)]});console[_0x5b3373(0x141)](_0x5b3373(0x161),_0x20a99a);const _0x3d821=await warehouse[_0x5b3373(0x173)]({'name':_0x20a99a[_0x5b3373(0x18c)],'room':_0x20a99a[_0x5b3373(0x19a)]});console['log'](_0x5b3373(0x152),_0x3d821);const {invoice:_0x91c2ac,suppliers:_0x542f86,date:_0x30445d,warehouse_name:_0x25539c,product_name:_0x1d42f8,purchase_quantity:_0x1dc013,stocks:_0x4941e8,return_qty:_0x59179a,note:_0x2229a3,Room_name:_0x444e97,level:_0x2743b3,isle:_0x2c5f37,pallet:_0x5111eb,to_warehouse_name:_0x21796d,to_Room_name:_0x51e04d}=_0x21ebc8[_0x5b3373(0x14c)];if(typeof _0x1d42f8==_0x5b3373(0x198))var _0xf71a8a=[_0x21ebc8[_0x5b3373(0x14c)]['product_name']],_0x494885=[_0x21ebc8[_0x5b3373(0x14c)][_0x5b3373(0x187)]],_0x5ae72f=[_0x21ebc8[_0x5b3373(0x14c)][_0x5b3373(0x1ab)]],_0x157924=[_0x21ebc8['body'][_0x5b3373(0x19b)]],_0x55b0dd=[_0x21ebc8[_0x5b3373(0x14c)][_0x5b3373(0x13d)]],_0x4cb54e=[_0x21ebc8[_0x5b3373(0x14c)]['isle']],_0x4e0543=[_0x21ebc8['body'][_0x5b3373(0x165)]],_0x3a58ee=[_0x21ebc8[_0x5b3373(0x14c)][_0x5b3373(0x185)]],_0x13388d=[_0x21ebc8['body'][_0x5b3373(0x153)]],_0x186b58=[_0x21ebc8[_0x5b3373(0x14c)][_0x5b3373(0x163)]],_0x206e83=[_0x21ebc8['body'][_0x5b3373(0x14b)]];else var _0xf71a8a=[..._0x21ebc8[_0x5b3373(0x14c)][_0x5b3373(0x192)]],_0x494885=[..._0x21ebc8[_0x5b3373(0x14c)]['purchase_quantity']],_0x5ae72f=[..._0x21ebc8[_0x5b3373(0x14c)]['stocks']],_0x157924=[..._0x21ebc8['body'][_0x5b3373(0x19b)]],_0x55b0dd=[..._0x21ebc8[_0x5b3373(0x14c)][_0x5b3373(0x13d)]],_0x4cb54e=[..._0x21ebc8[_0x5b3373(0x14c)][_0x5b3373(0x18f)]],_0x4e0543=[..._0x21ebc8[_0x5b3373(0x14c)][_0x5b3373(0x165)]],_0x13388d=[..._0x21ebc8[_0x5b3373(0x14c)]['product_code_hide']],_0x186b58=[..._0x21ebc8['body'][_0x5b3373(0x163)]],_0x206e83=[..._0x21ebc8[_0x5b3373(0x14c)][_0x5b3373(0x14b)]],_0x3a58ee=[..._0x21ebc8[_0x5b3373(0x14c)]['types']];const _0x594e8c=_0xf71a8a['map'](_0xf0856e=>{return _0xf0856e={'product_name':_0xf0856e};});_0x494885[_0x5b3373(0x13c)]((_0x2b3224,_0xfbaffa)=>{var _0x32b7f0=_0x5b3373;_0x594e8c[_0xfbaffa][_0x32b7f0(0x187)]=_0x2b3224;}),_0x5ae72f[_0x5b3373(0x13c)]((_0x5dd625,_0x25e332)=>{_0x594e8c[_0x25e332]['stock_quantity']=_0x5dd625;}),_0x157924['forEach']((_0x11f2a8,_0xf15f6d)=>{var _0x3df64a=_0x5b3373;_0x594e8c[_0xf15f6d][_0x3df64a(0x19b)]=_0x11f2a8;}),_0x55b0dd[_0x5b3373(0x13c)]((_0x4e7732,_0xb2d10f)=>{var _0x5c3823=_0x5b3373;_0x594e8c[_0xb2d10f][_0x5c3823(0x147)]=_0x4e7732;}),_0x4cb54e['forEach']((_0x265351,_0x42284f)=>{_0x594e8c[_0x42284f]['bin']=_0x265351;}),_0x4e0543[_0x5b3373(0x13c)]((_0x3220a0,_0x1dabf7)=>{var _0x1fb466=_0x5b3373;_0x594e8c[_0x1dabf7][_0x1fb466(0x15e)]=_0x3220a0;}),_0x13388d['forEach']((_0x5e8ae0,_0x7fab9d)=>{var _0x145444=_0x5b3373;_0x594e8c[_0x7fab9d][_0x145444(0x178)]=_0x5e8ae0;}),_0x186b58[_0x5b3373(0x13c)]((_0x31b0b4,_0x215f54)=>{var _0x1f0777=_0x5b3373;_0x594e8c[_0x215f54][_0x1f0777(0x1b0)]=_0x31b0b4;}),_0x206e83[_0x5b3373(0x13c)]((_0x2dce43,_0x4f0d69)=>{_0x594e8c[_0x4f0d69]['secondary_code']=_0x2dce43;}),_0x3a58ee['forEach']((_0x3f5e33,_0x266862)=>{var _0x9c456e=_0x5b3373;_0x594e8c[_0x266862][_0x9c456e(0x1a9)]=_0x3f5e33;});var _0x3a5e0b=0x0;_0x594e8c[_0x5b3373(0x13c)](_0x801494=>{var _0x51c245=_0x5b3373;console[_0x51c245(0x141)](_0x51c245(0x1ac),_0x801494),(parseInt(_0x801494[_0x51c245(0x187)])<parseInt(_0x801494[_0x51c245(0x19b)])||parseInt(_0x801494[_0x51c245(0x171)])<parseInt(_0x801494[_0x51c245(0x19b)])||parseInt(_0x801494[_0x51c245(0x19b)])==0x0)&&_0x3a5e0b++;});if(_0x3a5e0b!=0x0)return _0x21ebc8[_0x5b3373(0x1bd)](_0x5b3373(0x168),_0x5b3373(0x16b)),_0x521d59[_0x5b3373(0x1b7)]('back');_0x20a99a[_0x5b3373(0x13e)][_0x5b3373(0x13c)](_0x2ca4aa=>{const _0x2895aa=_0x3d821['product_details']['map'](_0x592623=>{var _0x2934df=a0_0x2db6;_0x592623[_0x2934df(0x192)]==_0x2ca4aa['product_name']&&_0x592623[_0x2934df(0x15e)]==_0x2ca4aa[_0x2934df(0x15e)]&&_0x592623[_0x2934df(0x1a9)]==_0x2ca4aa[_0x2934df(0x1a9)]&&_0x592623[_0x2934df(0x140)]==_0x2ca4aa[_0x2934df(0x140)]&&_0x592623[_0x2934df(0x147)]==_0x2ca4aa[_0x2934df(0x147)]&&(_0x592623[_0x2934df(0x174)]=parseInt(_0x592623[_0x2934df(0x174)])+parseInt(_0x2ca4aa[_0x2934df(0x19b)]));});}),console['log'](_0x5b3373(0x152),_0x3d821),await _0x3d821[_0x5b3373(0x170)](),_0x20a99a['invoice']=_0x91c2ac,_0x20a99a['suppliers']=_0x542f86,_0x20a99a[_0x5b3373(0x146)]=_0x30445d,_0x20a99a[_0x5b3373(0x167)]=_0x25539c,_0x20a99a[_0x5b3373(0x13e)]=_0x594e8c,_0x20a99a[_0x5b3373(0x199)]=_0x2229a3,_0x20a99a[_0x5b3373(0x1af)]=_0x444e97,_0x20a99a['to_warehouse_name']=_0x21796d,_0x20a99a[_0x5b3373(0x19a)]=_0x51e04d;const _0x4b3179=await _0x20a99a[_0x5b3373(0x170)](),_0x40d0c4=await purchases_return[_0x5b3373(0x173)]({'invoice':_0x21ebc8[_0x5b3373(0x14c)]['invoice']}),_0x151d29=await warehouse[_0x5b3373(0x173)]({'name':_0x21ebc8[_0x5b3373(0x14c)][_0x5b3373(0x18c)],'room':_0x21ebc8[_0x5b3373(0x14c)][_0x5b3373(0x19e)]});_0x40d0c4[_0x5b3373(0x13e)][_0x5b3373(0x13c)](_0x3dcc11=>{var _0x32d5be=_0x5b3373;_0x151d29['product_details'][_0x32d5be(0x169)](_0x295a91=>{var _0x26e92c=_0x32d5be;_0x295a91[_0x26e92c(0x192)]==_0x3dcc11[_0x26e92c(0x192)]&&_0x295a91[_0x26e92c(0x165)]==_0x3dcc11[_0x26e92c(0x165)]&&(_0x295a91[_0x26e92c(0x174)]=parseInt(_0x295a91['product_stock'])-parseInt(_0x3dcc11[_0x26e92c(0x19b)]),console[_0x26e92c(0x141)](_0x26e92c(0x184),_0x3dcc11['return_qty']));});}),console[_0x5b3373(0x141)](_0x5b3373(0x155),_0x151d29),await _0x151d29[_0x5b3373(0x170)]();const _0x4a62e0=await s_payment_data[_0x5b3373(0x173)]({'invoice':_0x21ebc8[_0x5b3373(0x14c)][_0x5b3373(0x15a)],'reason':_0x5b3373(0x164)});await _0x4a62e0[_0x5b3373(0x170)](),_0x21ebc8[_0x5b3373(0x1bd)](_0x5b3373(0x1b4),_0x5b3373(0x1a6)),_0x521d59['redirect'](_0x5b3373(0x1a4));}catch(_0x1f3a08){console[_0x5b3373(0x141)](_0x1f3a08),_0x521d59[_0x5b3373(0x142)](0xc8)[_0x5b3373(0x196)]({'message':_0x1f3a08[_0x5b3373(0x1a1)]});}}),router[a0_0x44f5e2(0x1b6)](a0_0x44f5e2(0x18b),auth,async(_0x464c84,_0x34a714)=>{var _0x1830f7=a0_0x44f5e2;try{const {username:_0x40d57b,email:_0x40a5a6,role:_0x5c0a5b}=_0x464c84['user'],_0x24ceae=_0x464c84[_0x1830f7(0x15d)],_0x1f222e=await profile[_0x1830f7(0x173)]({'email':_0x24ceae[_0x1830f7(0x143)]}),_0x28c350=await master_shop[_0x1830f7(0x13f)]();console[_0x1830f7(0x141)](_0x1830f7(0x186),_0x28c350);const _0x1475e1=_0x464c84[_0x1830f7(0x1ad)]['id'],_0x37c4f6=await purchases_return['findById'](_0x1475e1);console['log'](_0x37c4f6);const _0x2c82c3=await suppliers[_0x1830f7(0x173)]({'name':_0x37c4f6[_0x1830f7(0x182)]});console[_0x1830f7(0x141)](_0x2c82c3);if(_0x28c350[0x0]['language']==_0x1830f7(0x17d)){var _0x1447a4=users[_0x1830f7(0x166)];console['log'](_0x1447a4);}else{if(_0x28c350[0x0][_0x1830f7(0x15c)]=='Hindi')var _0x1447a4=users[_0x1830f7(0x1ae)];else{if(_0x28c350[0x0][_0x1830f7(0x15c)]==_0x1830f7(0x190))var _0x1447a4=users[_0x1830f7(0x190)];else{if(_0x28c350[0x0]['language']==_0x1830f7(0x145))var _0x1447a4=users[_0x1830f7(0x145)];else{if(_0x28c350[0x0]['language']==_0x1830f7(0x14a))var _0x1447a4=users['French'];else{if(_0x28c350[0x0][_0x1830f7(0x15c)]==_0x1830f7(0x1a3))var _0x1447a4=users[_0x1830f7(0x14e)];else{if(_0x28c350[0x0]['language']==_0x1830f7(0x16d))var _0x1447a4=users[_0x1830f7(0x16d)];else{if(_0x28c350[0x0][_0x1830f7(0x15c)]==_0x1830f7(0x1b3))var _0x1447a4=users[_0x1830f7(0x176)];}}}}}}}_0x34a714[_0x1830f7(0x179)](_0x1830f7(0x1b5),{'success':_0x464c84['flash'](_0x1830f7(0x1b4)),'errors':_0x464c84[_0x1830f7(0x1bd)](_0x1830f7(0x168)),'role':_0x24ceae,'profile':_0x1f222e,'master_shop':_0x28c350,'supplier':_0x2c82c3,'purchase':_0x37c4f6,'language':_0x1447a4});}catch(_0x529554){console[_0x1830f7(0x141)](_0x529554);}}),router[a0_0x44f5e2(0x1a5)](a0_0x44f5e2(0x151),auth,async(_0x3d6a95,_0x1b06ed)=>{var _0x5367b7=a0_0x44f5e2;try{const _0x2a26a2=_0x3d6a95['params']['id'],{invoice:_0x351bca,suppliers:_0x35d57d,receivable_amount:_0x444396,received_amount:_0x1a0b6b}=_0x3d6a95['body'],_0x3bf47c=await purchases_return[_0x5367b7(0x175)](_0x2a26a2);console[_0x5367b7(0x141)](_0x3bf47c);var _0x4b5d80=_0x444396-_0x1a0b6b;console['log'](_0x1a0b6b),_0x3bf47c['received']=parseFloat(_0x1a0b6b)+parseFloat(_0x3bf47c['received']),_0x3bf47c['due_amount']=_0x4b5d80,console['log'](_0x3bf47c);const _0x19956a=await _0x3bf47c[_0x5367b7(0x170)](),_0x4d2bd3=await s_payment_data[_0x5367b7(0x173)]({'invoice':_0x3d6a95[_0x5367b7(0x14c)][_0x5367b7(0x15a)],'reason':_0x5367b7(0x164)});_0x4d2bd3[_0x5367b7(0x189)]=_0x4b5d80,await _0x4d2bd3['save']();let _0x5809bc=new Date(),_0x5c7e0b=('0'+_0x5809bc['getDate']())[_0x5367b7(0x154)](-0x2),_0x599ef3=('0'+(_0x5809bc[_0x5367b7(0x156)]()+0x1))[_0x5367b7(0x154)](-0x2),_0x1669d5=_0x5809bc['getFullYear'](),_0x490326=_0x1669d5+'-'+_0x599ef3+'-'+_0x5c7e0b;const _0x1466cb=new suppliers_payment({'invoice':_0x351bca,'date':_0x1669d5+'-'+_0x599ef3+'-'+_0x5c7e0b,'suppliers':_0x35d57d,'reason':'Received\x20For\x20Purchase\x20Return','amount':_0x1a0b6b}),_0x407ce2=await _0x1466cb['save']();_0x3d6a95['flash'](_0x5367b7(0x1b4),_0x5367b7(0x1b1)),_0x1b06ed[_0x5367b7(0x1b7)](_0x5367b7(0x1a4));}catch(_0x52a253){console['log'](_0x52a253);}}),module[a0_0x44f5e2(0x18e)]=router;