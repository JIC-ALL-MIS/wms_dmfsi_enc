function a0_0x13d5(_0x37f347,_0x5471b4){var _0x2ae566=a0_0x2ae5();return a0_0x13d5=function(_0x13d500,_0x5ddb5d){_0x13d500=_0x13d500-0xc9;var _0x15b3e9=_0x2ae566[_0x13d500];return _0x15b3e9;},a0_0x13d5(_0x37f347,_0x5471b4);}var a0_0x17f7c9=a0_0x13d5;function a0_0x2ae5(){var _0x13f294=['old_warehouse_data','Portuguese','return_product','product_stock','1929843ASRlzq','product_name','purchase\x20return\x20successfully','$product_details.bay','10811438INkxVz','$total_amount','primary_code','Hindi','product_details','return_qty','$product_details','date','$suppliers','getDate','map','find','Router','/purchases_return/view','11094kWUtZV','params','supplier_docs','aggregate','/view/:id','Chinese','12rdHEPD','success','back','$product_details.secondary_code','Return\x20Goods','email','message','render','Raw\x20Materials','$product_details.product_name','suppliers','secondary_code_hide','430hYLDhH','$return_product.price','bay','German','purchase_quantity','return_purchase_invoice','room','Received\x20For\x20Purchase\x20Return','to_warehouse_name','$invoice','$product_details.rack','redirect','exports','$return_product','$date','Arabic','note','5076008HMZHvn','floorlevel','$product_details.storage','level','payment\x20successfull','due_amount','$product_details.floorlevel','name','master','findById','get','forEach','flash','stocks','../models/all_models','Enabled','$supplier_docs.mobile','$name','warehouse_name','log','user','English\x20(US)','type','getFullYear','errors','3503332VJMiTL','$warehouse_name','$return_product.total','$supplier_docs.address','3857ZWTnMf','133659pJHHop','received','/invoice/:id','/view','product_details.return_qtyproduct_details.return_qty','$product_details.product_code','purchases_return','return_purchase_edit','$product_details.bin','$product_details.primary_code','Arabic\x20(ae)','$supplier_docs','pallet','/receive_payment/:id','to_room','language','bin','body','to_Room_name','Purchase\x20Return','types','secondary_code','findOne','5sCTmjX','invoice','express','old_data','47CiChVX','$receivable','$_id','json','save','Spanish','English','product_code_hide','$return_product.product_name','isle','stock_quantity','Portuguese\x20(BR)','post','French','$note','../middleware/auth','14096IztiTl','$product_details.product_stock'];a0_0x2ae5=function(){return _0x13f294;};return a0_0x2ae5();}(function(_0x467927,_0x4c1ffa){var _0x411d71=a0_0x13d5,_0x3c3292=_0x467927();while(!![]){try{var _0x198711=-parseInt(_0x411d71(0x100))/0x1*(-parseInt(_0x411d71(0x110))/0x2)+parseInt(_0x411d71(0x116))/0x3+parseInt(_0x411d71(0xe0))/0x4*(parseInt(_0x411d71(0xfc))/0x5)+-parseInt(_0x411d71(0x128))/0x6*(-parseInt(_0x411d71(0xe4))/0x7)+-parseInt(_0x411d71(0x14b))/0x8+-parseInt(_0x411d71(0xe5))/0x9*(parseInt(_0x411d71(0x13a))/0xa)+-parseInt(_0x411d71(0x11a))/0xb*(parseInt(_0x411d71(0x12e))/0xc);if(_0x198711===_0x4c1ffa)break;else _0x3c3292['push'](_0x3c3292['shift']());}catch(_0x4a8e6a){_0x3c3292['push'](_0x3c3292['shift']());}}}(a0_0x2ae5,0x95b61));const express=require(a0_0x17f7c9(0xfe)),app=express(),router=express[a0_0x17f7c9(0x126)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x17f7c9(0xd5)),auth=require(a0_0x17f7c9(0x10f)),users=require('../public/language/languages.json');router[a0_0x17f7c9(0xd1)](a0_0x17f7c9(0xe8),auth,async(_0x942309,_0x293a7f)=>{var _0x1a4cf0=a0_0x17f7c9;try{const {username:_0xe1ee86,email:_0x4c0c1f,role:_0x278883}=_0x942309['user'],_0x2c3c3b=_0x942309[_0x1a4cf0(0xdb)],_0x5c0519=await profile[_0x1a4cf0(0xfb)]({'email':_0x2c3c3b[_0x1a4cf0(0x133)]}),_0x12d7a3=await master_shop[_0x1a4cf0(0x125)]();console[_0x1a4cf0(0xda)](_0x1a4cf0(0xcf),_0x12d7a3);const _0x2c9f6c=await purchases_return[_0x1a4cf0(0x12b)]([{'$lookup':{'from':'suppliers','localField':_0x1a4cf0(0x138),'foreignField':_0x1a4cf0(0xce),'as':_0x1a4cf0(0x12a)}},{'$unwind':_0x1a4cf0(0x147)},{'$unwind':_0x1a4cf0(0xf0)},{'$group':{'_id':_0x1a4cf0(0x102),'invoice':{'$first':_0x1a4cf0(0x143)},'date':{'$first':_0x1a4cf0(0x148)},'suppliers':{'$first':_0x1a4cf0(0x122)},'warehouse_name':{'$first':_0x1a4cf0(0xe1)},'product_name':{'$first':_0x1a4cf0(0x108)},'return_qty':{'$first':'$return_product.return_qty'},'price':{'$first':_0x1a4cf0(0x13b)},'total':{'$sum':_0x1a4cf0(0xe2)},'note':{'$first':_0x1a4cf0(0x10e)},'total_amount':{'$first':_0x1a4cf0(0x11b)},'discount':{'$first':'$discount'},'receivable':{'$first':_0x1a4cf0(0x101)},'received':{'$first':'$received'},'due_amount':{'$first':'$due_amount'},'mobile':{'$first':_0x1a4cf0(0xd7)},'email':{'$first':'$supplier_docs.email'},'address':{'$first':_0x1a4cf0(0xe3)},'return_sum_qty':{'$sum':'$return_product.return_qty'}}}]);console[_0x1a4cf0(0xda)](_0x2c9f6c);if(_0x12d7a3[0x0][_0x1a4cf0(0xf4)]==_0x1a4cf0(0xdc)){var _0x5d2af1=users[_0x1a4cf0(0x106)];console[_0x1a4cf0(0xda)](_0x5d2af1);}else{if(_0x12d7a3[0x0]['language']==_0x1a4cf0(0x11d))var _0x5d2af1=users[_0x1a4cf0(0x11d)];else{if(_0x12d7a3[0x0][_0x1a4cf0(0xf4)]==_0x1a4cf0(0x13d))var _0x5d2af1=users[_0x1a4cf0(0x13d)];else{if(_0x12d7a3[0x0][_0x1a4cf0(0xf4)]==_0x1a4cf0(0x105))var _0x5d2af1=users[_0x1a4cf0(0x105)];else{if(_0x12d7a3[0x0][_0x1a4cf0(0xf4)]=='French')var _0x5d2af1=users[_0x1a4cf0(0x10d)];else{if(_0x12d7a3[0x0][_0x1a4cf0(0xf4)]=='Portuguese\x20(BR)')var _0x5d2af1=users[_0x1a4cf0(0x113)];else{if(_0x12d7a3[0x0]['language']=='Chinese')var _0x5d2af1=users[_0x1a4cf0(0x12d)];else{if(_0x12d7a3[0x0][_0x1a4cf0(0xf4)]==_0x1a4cf0(0xef))var _0x5d2af1=users[_0x1a4cf0(0x149)];}}}}}}}_0x293a7f['render'](_0x1a4cf0(0xeb),{'success':_0x942309[_0x1a4cf0(0xd3)](_0x1a4cf0(0x12f)),'errors':_0x942309[_0x1a4cf0(0xd3)](_0x1a4cf0(0xdf)),'role':_0x2c3c3b,'profile':_0x5c0519,'master_shop':_0x12d7a3,'user':_0x2c9f6c,'language':_0x5d2af1});}catch(_0x4d6a9d){console[_0x1a4cf0(0xda)](_0x4d6a9d);}}),router[a0_0x17f7c9(0xd1)](a0_0x17f7c9(0x12c),auth,async(_0x322485,_0x4b3c0a)=>{var _0x2c8f1e=a0_0x17f7c9;try{const {username:_0x3acff7,email:_0xfb0b31,role:_0x11d47b}=_0x322485[_0x2c8f1e(0xdb)],_0x29e022=_0x322485[_0x2c8f1e(0xdb)],_0x142359=await profile[_0x2c8f1e(0xfb)]({'email':_0x29e022['email']}),_0x10ed53=await product['find']({}),_0x18186d=await master_shop[_0x2c8f1e(0x125)]();console[_0x2c8f1e(0xda)]('master',_0x18186d),console[_0x2c8f1e(0xda)](_0x322485['body']);const _0x1e097c=_0x322485[_0x2c8f1e(0x129)]['id'],_0x40d583=await purchases_return['findById'](_0x1e097c);console[_0x2c8f1e(0xda)](_0x40d583);const _0x5dc5f9=await warehouse[_0x2c8f1e(0x12b)]([{'$match':{'name':_0x40d583[_0x2c8f1e(0xd9)],'room':_0x40d583['room']}},{'$unwind':_0x2c8f1e(0x120)},{'$group':{'_id':'$product_details._id','name':{'$first':_0x2c8f1e(0x137)},'product_stock':{'$first':_0x2c8f1e(0x111)},'bay':{'$first':_0x2c8f1e(0x119)},'bin':{'$first':_0x2c8f1e(0xed)},'type':{'$first':'$product_details.type'},'floorlevel':{'$first':_0x2c8f1e(0xcd)},'primary_code':{'$first':_0x2c8f1e(0xee)},'secondary_code':{'$first':_0x2c8f1e(0x131)},'product_code':{'$first':_0x2c8f1e(0xea)},'storage':{'$first':_0x2c8f1e(0xc9)},'rack':{'$first':_0x2c8f1e(0x144)}}}]);warehouse_data=await warehouse[_0x2c8f1e(0x12b)]([{'$match':{'status':_0x2c8f1e(0xd6),'name':_0x2c8f1e(0x132),'warehouse_category':_0x2c8f1e(0x136)}},{'$group':{'_id':_0x2c8f1e(0xd8),'name':{'$first':_0x2c8f1e(0xd8)}}},{'$sort':{'name':0x1}}]),console['log']('stock_data',_0x5dc5f9);if(_0x18186d[0x0]['language']==_0x2c8f1e(0xdc)){var _0x2d2f36=users['English'];console['log'](_0x2d2f36);}else{if(_0x18186d[0x0]['language']==_0x2c8f1e(0x11d))var _0x2d2f36=users[_0x2c8f1e(0x11d)];else{if(_0x18186d[0x0][_0x2c8f1e(0xf4)]=='German')var _0x2d2f36=users['German'];else{if(_0x18186d[0x0][_0x2c8f1e(0xf4)]=='Spanish')var _0x2d2f36=users['Spanish'];else{if(_0x18186d[0x0][_0x2c8f1e(0xf4)]=='French')var _0x2d2f36=users[_0x2c8f1e(0x10d)];else{if(_0x18186d[0x0][_0x2c8f1e(0xf4)]==_0x2c8f1e(0x10b))var _0x2d2f36=users['Portuguese'];else{if(_0x18186d[0x0][_0x2c8f1e(0xf4)]==_0x2c8f1e(0x12d))var _0x2d2f36=users['Chinese'];else{if(_0x18186d[0x0][_0x2c8f1e(0xf4)]==_0x2c8f1e(0xef))var _0x2d2f36=users[_0x2c8f1e(0x149)];}}}}}}}_0x4b3c0a[_0x2c8f1e(0x135)](_0x2c8f1e(0xec),{'success':_0x322485[_0x2c8f1e(0xd3)](_0x2c8f1e(0x12f)),'errors':_0x322485['flash']('errors'),'role':_0x29e022,'master_shop':_0x18186d,'profile':_0x142359,'user':_0x40d583,'stock':_0x5dc5f9,'product':_0x10ed53,'language':_0x2d2f36,'warehouse':warehouse_data});}catch(_0x4f37a3){console['log'](_0x4f37a3);}}),router[a0_0x17f7c9(0x10c)](a0_0x17f7c9(0x12c),auth,async(_0x1b3475,_0x14d5c2)=>{var _0x5c6e59=a0_0x17f7c9;try{const _0x2463ad=_0x1b3475[_0x5c6e59(0x129)]['id'];console['log'](_0x2463ad);const _0x5437e1=await purchases_return['findOne']({'invoice':_0x1b3475[_0x5c6e59(0xf6)][_0x5c6e59(0xfd)]});console['log'](_0x5c6e59(0xff),_0x5437e1);const _0x41fad3=await warehouse['findOne']({'name':_0x5437e1['to_warehouse_name'],'room':_0x5437e1[_0x5c6e59(0xf3)]});console[_0x5c6e59(0xda)](_0x5c6e59(0x112),_0x41fad3);const {invoice:_0x2be4c2,suppliers:_0x403f47,date:_0x3c20e1,warehouse_name:_0x53779f,product_name:_0x4437c4,purchase_quantity:_0xaa57b5,stocks:_0x1dfcfe,return_qty:_0x32cff0,note:_0x46a518,Room_name:_0x7ea39c,level:_0x590261,isle:_0x2394d9,pallet:_0xd3c0dc,to_warehouse_name:_0xa7e74f,to_Room_name:_0x51ea1b}=_0x1b3475['body'];if(typeof _0x4437c4=='string')var _0x5f54b4=[_0x1b3475[_0x5c6e59(0xf6)][_0x5c6e59(0x117)]],_0x1bd325=[_0x1b3475['body']['purchase_quantity']],_0x54522b=[_0x1b3475[_0x5c6e59(0xf6)][_0x5c6e59(0xd4)]],_0x3f8a0a=[_0x1b3475['body']['return_qty']],_0x490221=[_0x1b3475['body'][_0x5c6e59(0xca)]],_0x1304f5=[_0x1b3475['body'][_0x5c6e59(0x109)]],_0x3e41c7=[_0x1b3475[_0x5c6e59(0xf6)][_0x5c6e59(0xf1)]],_0x22d015=[_0x1b3475[_0x5c6e59(0xf6)][_0x5c6e59(0xf9)]],_0x43daa0=[_0x1b3475[_0x5c6e59(0xf6)][_0x5c6e59(0x107)]],_0x264734=[_0x1b3475[_0x5c6e59(0xf6)]['primary_code_hide']],_0x1c0d91=[_0x1b3475[_0x5c6e59(0xf6)]['secondary_code_hide']];else var _0x5f54b4=[..._0x1b3475[_0x5c6e59(0xf6)][_0x5c6e59(0x117)]],_0x1bd325=[..._0x1b3475[_0x5c6e59(0xf6)][_0x5c6e59(0x13e)]],_0x54522b=[..._0x1b3475[_0x5c6e59(0xf6)]['stocks']],_0x3f8a0a=[..._0x1b3475[_0x5c6e59(0xf6)]['return_qty']],_0x490221=[..._0x1b3475['body'][_0x5c6e59(0xca)]],_0x1304f5=[..._0x1b3475[_0x5c6e59(0xf6)][_0x5c6e59(0x109)]],_0x3e41c7=[..._0x1b3475['body'][_0x5c6e59(0xf1)]],_0x43daa0=[..._0x1b3475[_0x5c6e59(0xf6)]['product_code_hide']],_0x264734=[..._0x1b3475[_0x5c6e59(0xf6)]['primary_code_hide']],_0x1c0d91=[..._0x1b3475['body'][_0x5c6e59(0x139)]],_0x22d015=[..._0x1b3475[_0x5c6e59(0xf6)][_0x5c6e59(0xf9)]];const _0x4e9558=_0x5f54b4[_0x5c6e59(0x124)](_0x4f6869=>{return _0x4f6869={'product_name':_0x4f6869};});_0x1bd325['forEach']((_0x2ff895,_0x12ab58)=>{var _0x87ba53=_0x5c6e59;_0x4e9558[_0x12ab58][_0x87ba53(0x13e)]=_0x2ff895;}),_0x54522b[_0x5c6e59(0xd2)]((_0x3b3e97,_0x2c1c13)=>{var _0x3e74f4=_0x5c6e59;_0x4e9558[_0x2c1c13][_0x3e74f4(0x10a)]=_0x3b3e97;}),_0x3f8a0a[_0x5c6e59(0xd2)]((_0x5ac53d,_0x1514b9)=>{var _0x5c91cf=_0x5c6e59;_0x4e9558[_0x1514b9][_0x5c91cf(0x11f)]=_0x5ac53d;}),_0x490221[_0x5c6e59(0xd2)]((_0x47d4e0,_0x29dd1c)=>{var _0x3d1c59=_0x5c6e59;_0x4e9558[_0x29dd1c][_0x3d1c59(0x13c)]=_0x47d4e0;}),_0x1304f5[_0x5c6e59(0xd2)]((_0x302479,_0x4f0936)=>{_0x4e9558[_0x4f0936]['bin']=_0x302479;}),_0x3e41c7[_0x5c6e59(0xd2)]((_0xedb417,_0xc416cb)=>{var _0x2d02ae=_0x5c6e59;_0x4e9558[_0xc416cb][_0x2d02ae(0x14c)]=_0xedb417;}),_0x43daa0['forEach']((_0x421c76,_0x101cc8)=>{_0x4e9558[_0x101cc8]['product_code']=_0x421c76;}),_0x264734[_0x5c6e59(0xd2)]((_0xa0c61c,_0x1516d4)=>{var _0x599d42=_0x5c6e59;_0x4e9558[_0x1516d4][_0x599d42(0x11c)]=_0xa0c61c;}),_0x1c0d91['forEach']((_0x2015df,_0x2dae90)=>{var _0x1252f0=_0x5c6e59;_0x4e9558[_0x2dae90][_0x1252f0(0xfa)]=_0x2015df;}),_0x22d015[_0x5c6e59(0xd2)]((_0x2ee8b1,_0x5a2644)=>{var _0x251e7d=_0x5c6e59;_0x4e9558[_0x5a2644][_0x251e7d(0xdd)]=_0x2ee8b1;});var _0x3b30d8=0x0;_0x4e9558[_0x5c6e59(0xd2)](_0x383e47=>{var _0x2a0871=_0x5c6e59;console[_0x2a0871(0xda)]('foreach\x20newproduct',_0x383e47),(parseInt(_0x383e47[_0x2a0871(0x13e)])<parseInt(_0x383e47[_0x2a0871(0x11f)])||parseInt(_0x383e47[_0x2a0871(0x10a)])<parseInt(_0x383e47[_0x2a0871(0x11f)])||parseInt(_0x383e47['return_qty'])==0x0)&&_0x3b30d8++;});if(_0x3b30d8!=0x0)return _0x1b3475[_0x5c6e59(0xd3)](_0x5c6e59(0xdf),'Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty'),_0x14d5c2['redirect'](_0x5c6e59(0x130));_0x5437e1[_0x5c6e59(0x114)][_0x5c6e59(0xd2)](_0x7fb0b5=>{const _0x142b50=_0x41fad3['product_details']['map'](_0x3413df=>{var _0x5d3683=a0_0x13d5;_0x3413df['product_name']==_0x7fb0b5[_0x5d3683(0x117)]&&_0x3413df['floorlevel']==_0x7fb0b5['floorlevel']&&_0x3413df[_0x5d3683(0xdd)]==_0x7fb0b5[_0x5d3683(0xdd)]&&_0x3413df['bin']==_0x7fb0b5[_0x5d3683(0xf5)]&&_0x3413df[_0x5d3683(0x13c)]==_0x7fb0b5[_0x5d3683(0x13c)]&&(_0x3413df[_0x5d3683(0x115)]=parseInt(_0x3413df[_0x5d3683(0x115)])+parseInt(_0x7fb0b5[_0x5d3683(0x11f)]));});}),console[_0x5c6e59(0xda)]('old_warehouse_data',_0x41fad3),await _0x41fad3[_0x5c6e59(0x104)](),_0x5437e1[_0x5c6e59(0xfd)]=_0x2be4c2,_0x5437e1[_0x5c6e59(0x138)]=_0x403f47,_0x5437e1[_0x5c6e59(0x121)]=_0x3c20e1,_0x5437e1[_0x5c6e59(0xd9)]=_0x53779f,_0x5437e1[_0x5c6e59(0x114)]=_0x4e9558,_0x5437e1[_0x5c6e59(0x14a)]=_0x46a518,_0x5437e1[_0x5c6e59(0x140)]=_0x7ea39c,_0x5437e1[_0x5c6e59(0x142)]=_0xa7e74f,_0x5437e1[_0x5c6e59(0xf3)]=_0x51ea1b;const _0x1acdb8=await _0x5437e1['save'](),_0x524373=await purchases_return['findOne']({'invoice':_0x1b3475['body']['invoice']}),_0x2206a5=await warehouse[_0x5c6e59(0xfb)]({'name':_0x1b3475[_0x5c6e59(0xf6)][_0x5c6e59(0x142)],'room':_0x1b3475[_0x5c6e59(0xf6)][_0x5c6e59(0xf7)]});_0x524373['return_product']['forEach'](_0x521ea9=>{var _0x3d16df=_0x5c6e59;_0x2206a5[_0x3d16df(0x11e)][_0x3d16df(0x124)](_0x3a84d1=>{var _0xde8591=_0x3d16df;_0x3a84d1[_0xde8591(0x117)]==_0x521ea9[_0xde8591(0x117)]&&_0x3a84d1[_0xde8591(0xf1)]==_0x521ea9[_0xde8591(0xf1)]&&(_0x3a84d1[_0xde8591(0x115)]=parseInt(_0x3a84d1[_0xde8591(0x115)])-parseInt(_0x521ea9[_0xde8591(0x11f)]),console[_0xde8591(0xda)](_0xde8591(0xe9),_0x521ea9[_0xde8591(0x11f)]));});}),console[_0x5c6e59(0xda)]('final',_0x2206a5),await _0x2206a5[_0x5c6e59(0x104)]();const _0x2acf7e=await s_payment_data[_0x5c6e59(0xfb)]({'invoice':_0x1b3475[_0x5c6e59(0xf6)]['invoice'],'reason':_0x5c6e59(0xf8)});await _0x2acf7e[_0x5c6e59(0x104)](),_0x1b3475[_0x5c6e59(0xd3)]('success',_0x5c6e59(0x118)),_0x14d5c2[_0x5c6e59(0x145)](_0x5c6e59(0x127));}catch(_0x5e8759){console[_0x5c6e59(0xda)](_0x5e8759),_0x14d5c2['status'](0xc8)[_0x5c6e59(0x103)]({'message':_0x5e8759[_0x5c6e59(0x134)]});}}),router[a0_0x17f7c9(0xd1)](a0_0x17f7c9(0xe7),auth,async(_0x40f0b1,_0x2a6bcc)=>{var _0x5a61e7=a0_0x17f7c9;try{const {username:_0x116188,email:_0x4f25e2,role:_0x160292}=_0x40f0b1[_0x5a61e7(0xdb)],_0x5cc5db=_0x40f0b1[_0x5a61e7(0xdb)],_0x1e41ec=await profile[_0x5a61e7(0xfb)]({'email':_0x5cc5db[_0x5a61e7(0x133)]}),_0x29869c=await master_shop['find']();console[_0x5a61e7(0xda)](_0x5a61e7(0xcf),_0x29869c);const _0x3795d6=_0x40f0b1[_0x5a61e7(0x129)]['id'],_0x40bd28=await purchases_return[_0x5a61e7(0xd0)](_0x3795d6);console['log'](_0x40bd28);const _0x3972d0=await suppliers[_0x5a61e7(0xfb)]({'name':_0x40bd28[_0x5a61e7(0x138)]});console[_0x5a61e7(0xda)](_0x3972d0);if(_0x29869c[0x0][_0x5a61e7(0xf4)]==_0x5a61e7(0xdc)){var _0x57fc66=users[_0x5a61e7(0x106)];console[_0x5a61e7(0xda)](_0x57fc66);}else{if(_0x29869c[0x0][_0x5a61e7(0xf4)]==_0x5a61e7(0x11d))var _0x57fc66=users['Hindi'];else{if(_0x29869c[0x0]['language']==_0x5a61e7(0x13d))var _0x57fc66=users['German'];else{if(_0x29869c[0x0]['language']==_0x5a61e7(0x105))var _0x57fc66=users[_0x5a61e7(0x105)];else{if(_0x29869c[0x0]['language']==_0x5a61e7(0x10d))var _0x57fc66=users[_0x5a61e7(0x10d)];else{if(_0x29869c[0x0][_0x5a61e7(0xf4)]==_0x5a61e7(0x10b))var _0x57fc66=users[_0x5a61e7(0x113)];else{if(_0x29869c[0x0][_0x5a61e7(0xf4)]=='Chinese')var _0x57fc66=users[_0x5a61e7(0x12d)];else{if(_0x29869c[0x0][_0x5a61e7(0xf4)]==_0x5a61e7(0xef))var _0x57fc66=users[_0x5a61e7(0x149)];}}}}}}}_0x2a6bcc[_0x5a61e7(0x135)](_0x5a61e7(0x13f),{'success':_0x40f0b1[_0x5a61e7(0xd3)](_0x5a61e7(0x12f)),'errors':_0x40f0b1[_0x5a61e7(0xd3)](_0x5a61e7(0xdf)),'role':_0x5cc5db,'profile':_0x1e41ec,'master_shop':_0x29869c,'supplier':_0x3972d0,'purchase':_0x40bd28,'language':_0x57fc66});}catch(_0x3234ea){console[_0x5a61e7(0xda)](_0x3234ea);}}),router[a0_0x17f7c9(0x10c)](a0_0x17f7c9(0xf2),auth,async(_0x1b1853,_0x2feaa7)=>{var _0x4c0004=a0_0x17f7c9;try{const _0x527ef2=_0x1b1853[_0x4c0004(0x129)]['id'],{invoice:_0x5d993d,suppliers:_0x441368,receivable_amount:_0x4f8f0a,received_amount:_0x2891ee}=_0x1b1853['body'],_0x200270=await purchases_return[_0x4c0004(0xd0)](_0x527ef2);console['log'](_0x200270);var _0x1f2fa5=_0x4f8f0a-_0x2891ee;console[_0x4c0004(0xda)](_0x2891ee),_0x200270['received']=parseFloat(_0x2891ee)+parseFloat(_0x200270[_0x4c0004(0xe6)]),_0x200270[_0x4c0004(0xcc)]=_0x1f2fa5,console[_0x4c0004(0xda)](_0x200270);const _0x3d3032=await _0x200270['save'](),_0x3d5ddd=await s_payment_data[_0x4c0004(0xfb)]({'invoice':_0x1b1853[_0x4c0004(0xf6)][_0x4c0004(0xfd)],'reason':_0x4c0004(0xf8)});_0x3d5ddd['amount']=_0x1f2fa5,await _0x3d5ddd['save']();let _0x1c94b7=new Date(),_0x3af818=('0'+_0x1c94b7[_0x4c0004(0x123)]())['slice'](-0x2),_0x32697f=('0'+(_0x1c94b7['getMonth']()+0x1))['slice'](-0x2),_0x1fda74=_0x1c94b7[_0x4c0004(0xde)](),_0x28abb0=_0x1fda74+'-'+_0x32697f+'-'+_0x3af818;const _0x13ef02=new suppliers_payment({'invoice':_0x5d993d,'date':_0x1fda74+'-'+_0x32697f+'-'+_0x3af818,'suppliers':_0x441368,'reason':_0x4c0004(0x141),'amount':_0x2891ee}),_0x584972=await _0x13ef02['save']();_0x1b1853['flash'](_0x4c0004(0x12f),_0x4c0004(0xcb)),_0x2feaa7['redirect'](_0x4c0004(0x127));}catch(_0x4feade){console[_0x4c0004(0xda)](_0x4feade);}}),module[a0_0x17f7c9(0x146)]=router;