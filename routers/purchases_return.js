var a0_0x504ab4=a0_0x5a99;(function(_0x328d3e,_0x2bf820){var _0x979a6c=a0_0x5a99,_0x28ee7c=_0x328d3e();while(!![]){try{var _0x2aae44=-parseInt(_0x979a6c(0x1f9))/0x1+parseInt(_0x979a6c(0x1bb))/0x2+parseInt(_0x979a6c(0x1cd))/0x3*(-parseInt(_0x979a6c(0x1fd))/0x4)+-parseInt(_0x979a6c(0x219))/0x5+parseInt(_0x979a6c(0x1ac))/0x6*(-parseInt(_0x979a6c(0x1df))/0x7)+parseInt(_0x979a6c(0x1e8))/0x8+parseInt(_0x979a6c(0x1ff))/0x9;if(_0x2aae44===_0x2bf820)break;else _0x28ee7c['push'](_0x28ee7c['shift']());}catch(_0x51b4ed){_0x28ee7c['push'](_0x28ee7c['shift']());}}}(a0_0x552d,0xb06c5));function a0_0x552d(){var _0x2eb8b4=['Router','warehouse_name','express','purchases_return','stocks','$return_product.total','find','English\x20(US)','$return_product.product_name','isle','flash','log','product_details','primary_code','3389950odqDci','getFullYear','amount','findById','save','primary_code_hide','Portuguese','$warehouse_name','$total_amount','$product_details.product_stock','exports','../middleware/auth','$supplier_docs.address','user','/view/:id','6IzfuLZ','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','redirect','/receive_payment/:id','$supplier_docs.mobile','bay','English','types','final','German','French','return_purchase_edit','$product_details.bay','Hindi','message','1094278yfAZfR','$supplier_docs.email','Spanish','params','json','stock_quantity','product_code','$return_product.price','$name','status','$receivable','$product_details._id','success','getDate','aggregate','to_room','product_stock','room','3bRAeKS','get','render','received','stock_data','bin','master','to_warehouse_name','return_product','body','$return_product.return_qty','Chinese','suppliers','$received','$product_details.floorlevel','old_warehouse_data','errors','type','8842288axqcsw','../models/all_models','$invoice','slice','foreach\x20newproduct','language','purchase_quantity','floorlevel','product_code_hide','11502136KGODqi','name','level','$due_amount','Purchase\x20Return','payment\x20successfull','$date','product_details.return_qtyproduct_details.return_qty','map','$product_details.type','Portuguese\x20(BR)','$suppliers','due_amount','date','return_purchase_invoice','findOne','$supplier_docs','1130387XoaWfN','pallet','invoice','to_Room_name','5541004kcTvWY','Arabic\x20(ae)','28750815dNpvcp','secondary_code','forEach','return_qty','product_name','Arabic','email','$discount','Return\x20Goods','$note','post','secondary_code_hide'];a0_0x552d=function(){return _0x2eb8b4;};return a0_0x552d();}const express=require(a0_0x504ab4(0x20d)),app=express(),router=express[a0_0x504ab4(0x20b)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x504ab4(0x1e0)),auth=require(a0_0x504ab4(0x1a8)),users=require('../public/language/languages.json');function a0_0x5a99(_0x5607bc,_0x70fca9){var _0x552dcf=a0_0x552d();return a0_0x5a99=function(_0x5a9940,_0x4b5519){_0x5a9940=_0x5a9940-0x1a3;var _0x188be2=_0x552dcf[_0x5a9940];return _0x188be2;},a0_0x5a99(_0x5607bc,_0x70fca9);}router[a0_0x504ab4(0x1ce)]('/view',auth,async(_0x2319a4,_0x3698cd)=>{var _0x1410cb=a0_0x504ab4;try{const {username:_0x141fd2,email:_0x36661c,role:_0x2ca44c}=_0x2319a4['user'],_0x23b2e4=_0x2319a4['user'],_0x4cfce7=await profile[_0x1410cb(0x1f7)]({'email':_0x23b2e4[_0x1410cb(0x205)]}),_0x4a9467=await master_shop[_0x1410cb(0x211)]();console[_0x1410cb(0x216)](_0x1410cb(0x1d3),_0x4a9467);const _0x55bdab=await purchases_return[_0x1410cb(0x1c9)]([{'$lookup':{'from':_0x1410cb(0x1d9),'localField':_0x1410cb(0x1d9),'foreignField':_0x1410cb(0x1e9),'as':'supplier_docs'}},{'$unwind':'$return_product'},{'$unwind':_0x1410cb(0x1f8)},{'$group':{'_id':'$_id','invoice':{'$first':_0x1410cb(0x1e1)},'date':{'$first':_0x1410cb(0x1ee)},'suppliers':{'$first':_0x1410cb(0x1f3)},'warehouse_name':{'$first':_0x1410cb(0x1a4)},'product_name':{'$first':_0x1410cb(0x213)},'return_qty':{'$first':'$return_product.return_qty'},'price':{'$first':_0x1410cb(0x1c2)},'total':{'$sum':_0x1410cb(0x210)},'note':{'$first':_0x1410cb(0x208)},'total_amount':{'$first':_0x1410cb(0x1a5)},'discount':{'$first':_0x1410cb(0x206)},'receivable':{'$first':_0x1410cb(0x1c5)},'received':{'$first':_0x1410cb(0x1da)},'due_amount':{'$first':_0x1410cb(0x1eb)},'mobile':{'$first':_0x1410cb(0x1b0)},'email':{'$first':_0x1410cb(0x1bc)},'address':{'$first':_0x1410cb(0x1a9)},'return_sum_qty':{'$sum':_0x1410cb(0x1d7)}}}]);console[_0x1410cb(0x216)](_0x55bdab);if(_0x4a9467[0x0][_0x1410cb(0x1e4)]=='English\x20(US)'){var _0xbb3714=users[_0x1410cb(0x1b2)];console[_0x1410cb(0x216)](_0xbb3714);}else{if(_0x4a9467[0x0][_0x1410cb(0x1e4)]==_0x1410cb(0x1b9))var _0xbb3714=users[_0x1410cb(0x1b9)];else{if(_0x4a9467[0x0][_0x1410cb(0x1e4)]==_0x1410cb(0x1b5))var _0xbb3714=users[_0x1410cb(0x1b5)];else{if(_0x4a9467[0x0][_0x1410cb(0x1e4)]==_0x1410cb(0x1bd))var _0xbb3714=users[_0x1410cb(0x1bd)];else{if(_0x4a9467[0x0][_0x1410cb(0x1e4)]==_0x1410cb(0x1b6))var _0xbb3714=users[_0x1410cb(0x1b6)];else{if(_0x4a9467[0x0][_0x1410cb(0x1e4)]==_0x1410cb(0x1f2))var _0xbb3714=users[_0x1410cb(0x1a3)];else{if(_0x4a9467[0x0][_0x1410cb(0x1e4)]==_0x1410cb(0x1d8))var _0xbb3714=users[_0x1410cb(0x1d8)];else{if(_0x4a9467[0x0][_0x1410cb(0x1e4)]==_0x1410cb(0x1fe))var _0xbb3714=users[_0x1410cb(0x204)];}}}}}}}_0x3698cd[_0x1410cb(0x1cf)](_0x1410cb(0x20e),{'success':_0x2319a4[_0x1410cb(0x215)](_0x1410cb(0x1c7)),'errors':_0x2319a4[_0x1410cb(0x215)](_0x1410cb(0x1dd)),'role':_0x23b2e4,'profile':_0x4cfce7,'master_shop':_0x4a9467,'user':_0x55bdab,'language':_0xbb3714});}catch(_0x5ae7ac){console['log'](_0x5ae7ac);}}),router[a0_0x504ab4(0x1ce)](a0_0x504ab4(0x1ab),auth,async(_0x19e655,_0x55dc5d)=>{var _0x520542=a0_0x504ab4;try{const {username:_0x5d0d08,email:_0x500e18,role:_0xc6dbce}=_0x19e655[_0x520542(0x1aa)],_0x3d65db=_0x19e655[_0x520542(0x1aa)],_0x568062=await profile[_0x520542(0x1f7)]({'email':_0x3d65db[_0x520542(0x205)]}),_0x215e6c=await product['find']({}),_0x33c1a0=await master_shop[_0x520542(0x211)]();console[_0x520542(0x216)](_0x520542(0x1d3),_0x33c1a0),console['log'](_0x19e655['body']);const _0x571ee4=_0x19e655[_0x520542(0x1be)]['id'],_0x780f6f=await purchases_return[_0x520542(0x21c)](_0x571ee4);console[_0x520542(0x216)](_0x780f6f);const _0x1d7b53=await warehouse[_0x520542(0x1c9)]([{'$match':{'name':_0x780f6f[_0x520542(0x20c)],'room':_0x780f6f[_0x520542(0x1cc)]}},{'$unwind':'$product_details'},{'$group':{'_id':_0x520542(0x1c6),'name':{'$first':'$product_details.product_name'},'product_stock':{'$first':_0x520542(0x1a6)},'bay':{'$first':_0x520542(0x1b8)},'bin':{'$first':'$product_details.bin'},'type':{'$first':_0x520542(0x1f1)},'floorlevel':{'$first':_0x520542(0x1db)},'primary_code':{'$first':'$product_details.primary_code'},'secondary_code':{'$first':'$product_details.secondary_code'},'product_code':{'$first':'$product_details.product_code'},'storage':{'$first':'$product_details.storage'},'rack':{'$first':'$product_details.rack'}}}]);warehouse_data=await warehouse[_0x520542(0x1c9)]([{'$match':{'status':'Enabled','name':_0x520542(0x207),'warehouse_category':'Raw\x20Materials'}},{'$group':{'_id':'$name','name':{'$first':_0x520542(0x1c3)}}},{'$sort':{'name':0x1}}]),console[_0x520542(0x216)](_0x520542(0x1d1),_0x1d7b53);if(_0x33c1a0[0x0][_0x520542(0x1e4)]==_0x520542(0x212)){var _0x12630e=users[_0x520542(0x1b2)];console['log'](_0x12630e);}else{if(_0x33c1a0[0x0]['language']==_0x520542(0x1b9))var _0x12630e=users[_0x520542(0x1b9)];else{if(_0x33c1a0[0x0]['language']==_0x520542(0x1b5))var _0x12630e=users[_0x520542(0x1b5)];else{if(_0x33c1a0[0x0]['language']=='Spanish')var _0x12630e=users['Spanish'];else{if(_0x33c1a0[0x0][_0x520542(0x1e4)]==_0x520542(0x1b6))var _0x12630e=users['French'];else{if(_0x33c1a0[0x0][_0x520542(0x1e4)]==_0x520542(0x1f2))var _0x12630e=users[_0x520542(0x1a3)];else{if(_0x33c1a0[0x0][_0x520542(0x1e4)]==_0x520542(0x1d8))var _0x12630e=users[_0x520542(0x1d8)];else{if(_0x33c1a0[0x0]['language']==_0x520542(0x1fe))var _0x12630e=users[_0x520542(0x204)];}}}}}}}_0x55dc5d[_0x520542(0x1cf)](_0x520542(0x1b7),{'success':_0x19e655[_0x520542(0x215)](_0x520542(0x1c7)),'errors':_0x19e655[_0x520542(0x215)](_0x520542(0x1dd)),'role':_0x3d65db,'master_shop':_0x33c1a0,'profile':_0x568062,'user':_0x780f6f,'stock':_0x1d7b53,'product':_0x215e6c,'language':_0x12630e,'warehouse':warehouse_data});}catch(_0x413008){console[_0x520542(0x216)](_0x413008);}}),router[a0_0x504ab4(0x209)]('/view/:id',auth,async(_0x1b9ecc,_0x55d021)=>{var _0x3ff290=a0_0x504ab4;try{const _0x521dfd=_0x1b9ecc['params']['id'];console[_0x3ff290(0x216)](_0x521dfd);const _0x23adaf=await purchases_return[_0x3ff290(0x1f7)]({'invoice':_0x1b9ecc[_0x3ff290(0x1d6)][_0x3ff290(0x1fb)]});console[_0x3ff290(0x216)]('old_data',_0x23adaf);const _0x29892e=await warehouse[_0x3ff290(0x1f7)]({'name':_0x23adaf[_0x3ff290(0x1d4)],'room':_0x23adaf[_0x3ff290(0x1ca)]});console[_0x3ff290(0x216)](_0x3ff290(0x1dc),_0x29892e);const {invoice:_0x55fd52,suppliers:_0xbfe25b,date:_0xbbc35f,warehouse_name:_0x16db3f,product_name:_0x53d173,purchase_quantity:_0x54d712,stocks:_0x469096,return_qty:_0x17dd71,note:_0xcfc00c,Room_name:_0x13e158,level:_0x34736b,isle:_0x31b50e,pallet:_0x3ae007,to_warehouse_name:_0x561521,to_Room_name:_0x4b1580}=_0x1b9ecc['body'];if(typeof _0x53d173=='string')var _0x487fcc=[_0x1b9ecc[_0x3ff290(0x1d6)][_0x3ff290(0x203)]],_0xf32b93=[_0x1b9ecc[_0x3ff290(0x1d6)][_0x3ff290(0x1e5)]],_0x223bca=[_0x1b9ecc['body']['stocks']],_0x2d4b2e=[_0x1b9ecc['body'][_0x3ff290(0x202)]],_0x10847f=[_0x1b9ecc[_0x3ff290(0x1d6)][_0x3ff290(0x1ea)]],_0x3703c3=[_0x1b9ecc['body'][_0x3ff290(0x214)]],_0x154d86=[_0x1b9ecc['body'][_0x3ff290(0x1fa)]],_0x3b0e40=[_0x1b9ecc['body'][_0x3ff290(0x1b3)]],_0x5a21b3=[_0x1b9ecc[_0x3ff290(0x1d6)][_0x3ff290(0x1e7)]],_0x4d5869=[_0x1b9ecc['body'][_0x3ff290(0x21e)]],_0x42f2df=[_0x1b9ecc[_0x3ff290(0x1d6)][_0x3ff290(0x20a)]];else var _0x487fcc=[..._0x1b9ecc[_0x3ff290(0x1d6)][_0x3ff290(0x203)]],_0xf32b93=[..._0x1b9ecc[_0x3ff290(0x1d6)][_0x3ff290(0x1e5)]],_0x223bca=[..._0x1b9ecc[_0x3ff290(0x1d6)][_0x3ff290(0x20f)]],_0x2d4b2e=[..._0x1b9ecc['body'][_0x3ff290(0x202)]],_0x10847f=[..._0x1b9ecc[_0x3ff290(0x1d6)]['level']],_0x3703c3=[..._0x1b9ecc[_0x3ff290(0x1d6)][_0x3ff290(0x214)]],_0x154d86=[..._0x1b9ecc['body']['pallet']],_0x5a21b3=[..._0x1b9ecc[_0x3ff290(0x1d6)][_0x3ff290(0x1e7)]],_0x4d5869=[..._0x1b9ecc[_0x3ff290(0x1d6)][_0x3ff290(0x21e)]],_0x42f2df=[..._0x1b9ecc['body'][_0x3ff290(0x20a)]],_0x3b0e40=[..._0x1b9ecc[_0x3ff290(0x1d6)]['types']];const _0x3cc94e=_0x487fcc[_0x3ff290(0x1f0)](_0x308a5f=>{return _0x308a5f={'product_name':_0x308a5f};});_0xf32b93[_0x3ff290(0x201)]((_0x405046,_0x4ede7b)=>{var _0x52ce76=_0x3ff290;_0x3cc94e[_0x4ede7b][_0x52ce76(0x1e5)]=_0x405046;}),_0x223bca['forEach']((_0x2a2698,_0x108519)=>{_0x3cc94e[_0x108519]['stock_quantity']=_0x2a2698;}),_0x2d4b2e[_0x3ff290(0x201)]((_0x31f08d,_0x3f5afb)=>{_0x3cc94e[_0x3f5afb]['return_qty']=_0x31f08d;}),_0x10847f[_0x3ff290(0x201)]((_0x33a852,_0xccf89a)=>{var _0x55a709=_0x3ff290;_0x3cc94e[_0xccf89a][_0x55a709(0x1b1)]=_0x33a852;}),_0x3703c3[_0x3ff290(0x201)]((_0x180c7d,_0x5d5fbd)=>{var _0x4ce468=_0x3ff290;_0x3cc94e[_0x5d5fbd][_0x4ce468(0x1d2)]=_0x180c7d;}),_0x154d86[_0x3ff290(0x201)]((_0x49df02,_0x535422)=>{var _0x2511e0=_0x3ff290;_0x3cc94e[_0x535422][_0x2511e0(0x1e6)]=_0x49df02;}),_0x5a21b3[_0x3ff290(0x201)]((_0x5b8cb4,_0x51439f)=>{var _0x4d2902=_0x3ff290;_0x3cc94e[_0x51439f][_0x4d2902(0x1c1)]=_0x5b8cb4;}),_0x4d5869[_0x3ff290(0x201)]((_0xe519aa,_0x3df9eb)=>{var _0x37269d=_0x3ff290;_0x3cc94e[_0x3df9eb][_0x37269d(0x218)]=_0xe519aa;}),_0x42f2df['forEach']((_0x536273,_0x2009cd)=>{var _0x337479=_0x3ff290;_0x3cc94e[_0x2009cd][_0x337479(0x200)]=_0x536273;}),_0x3b0e40[_0x3ff290(0x201)]((_0x99c6ce,_0x3fdf91)=>{_0x3cc94e[_0x3fdf91]['type']=_0x99c6ce;});var _0xe1e03e=0x0;_0x3cc94e[_0x3ff290(0x201)](_0xdf8646=>{var _0x40a51a=_0x3ff290;console[_0x40a51a(0x216)](_0x40a51a(0x1e3),_0xdf8646),(parseInt(_0xdf8646[_0x40a51a(0x1e5)])<parseInt(_0xdf8646['return_qty'])||parseInt(_0xdf8646[_0x40a51a(0x1c0)])<parseInt(_0xdf8646[_0x40a51a(0x202)])||parseInt(_0xdf8646[_0x40a51a(0x202)])==0x0)&&_0xe1e03e++;});if(_0xe1e03e!=0x0)return _0x1b9ecc['flash'](_0x3ff290(0x1dd),_0x3ff290(0x1ad)),_0x55d021[_0x3ff290(0x1ae)]('back');_0x23adaf[_0x3ff290(0x1d5)][_0x3ff290(0x201)](_0x1cc2c6=>{var _0x2ce9ec=_0x3ff290;const _0x51605a=_0x29892e[_0x2ce9ec(0x217)][_0x2ce9ec(0x1f0)](_0x44f9f1=>{var _0x59471b=_0x2ce9ec;_0x44f9f1[_0x59471b(0x203)]==_0x1cc2c6[_0x59471b(0x203)]&&_0x44f9f1[_0x59471b(0x1e6)]==_0x1cc2c6[_0x59471b(0x1e6)]&&_0x44f9f1[_0x59471b(0x1de)]==_0x1cc2c6[_0x59471b(0x1de)]&&_0x44f9f1[_0x59471b(0x1d2)]==_0x1cc2c6[_0x59471b(0x1d2)]&&_0x44f9f1[_0x59471b(0x1b1)]==_0x1cc2c6[_0x59471b(0x1b1)]&&(_0x44f9f1[_0x59471b(0x1cb)]=parseInt(_0x44f9f1[_0x59471b(0x1cb)])+parseInt(_0x1cc2c6[_0x59471b(0x202)]));});}),console[_0x3ff290(0x216)](_0x3ff290(0x1dc),_0x29892e),await _0x29892e[_0x3ff290(0x21d)](),_0x23adaf[_0x3ff290(0x1fb)]=_0x55fd52,_0x23adaf[_0x3ff290(0x1d9)]=_0xbfe25b,_0x23adaf[_0x3ff290(0x1f5)]=_0xbbc35f,_0x23adaf[_0x3ff290(0x20c)]=_0x16db3f,_0x23adaf['return_product']=_0x3cc94e,_0x23adaf['note']=_0xcfc00c,_0x23adaf[_0x3ff290(0x1cc)]=_0x13e158,_0x23adaf[_0x3ff290(0x1d4)]=_0x561521,_0x23adaf['to_room']=_0x4b1580;const _0x5567ff=await _0x23adaf[_0x3ff290(0x21d)](),_0x2a8199=await purchases_return[_0x3ff290(0x1f7)]({'invoice':_0x1b9ecc[_0x3ff290(0x1d6)]['invoice']}),_0xee957c=await warehouse[_0x3ff290(0x1f7)]({'name':_0x1b9ecc[_0x3ff290(0x1d6)]['to_warehouse_name'],'room':_0x1b9ecc[_0x3ff290(0x1d6)][_0x3ff290(0x1fc)]});_0x2a8199[_0x3ff290(0x1d5)][_0x3ff290(0x201)](_0x11fd18=>{var _0x1e65b9=_0x3ff290;_0xee957c[_0x1e65b9(0x217)][_0x1e65b9(0x1f0)](_0x1e5b2d=>{var _0x59c2ee=_0x1e65b9;_0x1e5b2d[_0x59c2ee(0x203)]==_0x11fd18['product_name']&&_0x1e5b2d[_0x59c2ee(0x1fa)]==_0x11fd18[_0x59c2ee(0x1fa)]&&(_0x1e5b2d[_0x59c2ee(0x1cb)]=parseInt(_0x1e5b2d[_0x59c2ee(0x1cb)])-parseInt(_0x11fd18[_0x59c2ee(0x202)]),console['log'](_0x59c2ee(0x1ef),_0x11fd18['return_qty']));});}),console[_0x3ff290(0x216)](_0x3ff290(0x1b4),_0xee957c),await _0xee957c[_0x3ff290(0x21d)]();const _0x162fed=await s_payment_data[_0x3ff290(0x1f7)]({'invoice':_0x1b9ecc['body'][_0x3ff290(0x1fb)],'reason':'Purchase\x20Return'});await _0x162fed[_0x3ff290(0x21d)](),_0x1b9ecc[_0x3ff290(0x215)](_0x3ff290(0x1c7),'purchase\x20return\x20successfully'),_0x55d021[_0x3ff290(0x1ae)]('/purchases_return/view');}catch(_0xd6df01){console[_0x3ff290(0x216)](_0xd6df01),_0x55d021[_0x3ff290(0x1c4)](0xc8)[_0x3ff290(0x1bf)]({'message':_0xd6df01[_0x3ff290(0x1ba)]});}}),router[a0_0x504ab4(0x1ce)]('/invoice/:id',auth,async(_0x55f577,_0x5b710a)=>{var _0x51a69d=a0_0x504ab4;try{const {username:_0xedcf4f,email:_0xf8b80f,role:_0x384d64}=_0x55f577['user'],_0x358b23=_0x55f577[_0x51a69d(0x1aa)],_0x41b5f3=await profile[_0x51a69d(0x1f7)]({'email':_0x358b23[_0x51a69d(0x205)]}),_0x58ef27=await master_shop[_0x51a69d(0x211)]();console[_0x51a69d(0x216)]('master',_0x58ef27);const _0x394a04=_0x55f577['params']['id'],_0x551297=await purchases_return[_0x51a69d(0x21c)](_0x394a04);console[_0x51a69d(0x216)](_0x551297);const _0x35e4d8=await suppliers[_0x51a69d(0x1f7)]({'name':_0x551297[_0x51a69d(0x1d9)]});console[_0x51a69d(0x216)](_0x35e4d8);if(_0x58ef27[0x0][_0x51a69d(0x1e4)]==_0x51a69d(0x212)){var _0x2ba2ef=users[_0x51a69d(0x1b2)];console[_0x51a69d(0x216)](_0x2ba2ef);}else{if(_0x58ef27[0x0][_0x51a69d(0x1e4)]=='Hindi')var _0x2ba2ef=users[_0x51a69d(0x1b9)];else{if(_0x58ef27[0x0][_0x51a69d(0x1e4)]==_0x51a69d(0x1b5))var _0x2ba2ef=users['German'];else{if(_0x58ef27[0x0][_0x51a69d(0x1e4)]==_0x51a69d(0x1bd))var _0x2ba2ef=users[_0x51a69d(0x1bd)];else{if(_0x58ef27[0x0][_0x51a69d(0x1e4)]=='French')var _0x2ba2ef=users[_0x51a69d(0x1b6)];else{if(_0x58ef27[0x0]['language']==_0x51a69d(0x1f2))var _0x2ba2ef=users['Portuguese'];else{if(_0x58ef27[0x0][_0x51a69d(0x1e4)]==_0x51a69d(0x1d8))var _0x2ba2ef=users[_0x51a69d(0x1d8)];else{if(_0x58ef27[0x0][_0x51a69d(0x1e4)]==_0x51a69d(0x1fe))var _0x2ba2ef=users['Arabic'];}}}}}}}_0x5b710a[_0x51a69d(0x1cf)](_0x51a69d(0x1f6),{'success':_0x55f577[_0x51a69d(0x215)](_0x51a69d(0x1c7)),'errors':_0x55f577[_0x51a69d(0x215)](_0x51a69d(0x1dd)),'role':_0x358b23,'profile':_0x41b5f3,'master_shop':_0x58ef27,'supplier':_0x35e4d8,'purchase':_0x551297,'language':_0x2ba2ef});}catch(_0x313c6c){console[_0x51a69d(0x216)](_0x313c6c);}}),router[a0_0x504ab4(0x209)](a0_0x504ab4(0x1af),auth,async(_0xebaa44,_0x67b344)=>{var _0x425e30=a0_0x504ab4;try{const _0x591d0e=_0xebaa44[_0x425e30(0x1be)]['id'],{invoice:_0x557077,suppliers:_0x40d6f7,receivable_amount:_0x2febe0,received_amount:_0x3f6d69}=_0xebaa44[_0x425e30(0x1d6)],_0x4beccd=await purchases_return[_0x425e30(0x21c)](_0x591d0e);console[_0x425e30(0x216)](_0x4beccd);var _0x137c7b=_0x2febe0-_0x3f6d69;console[_0x425e30(0x216)](_0x3f6d69),_0x4beccd[_0x425e30(0x1d0)]=parseFloat(_0x3f6d69)+parseFloat(_0x4beccd[_0x425e30(0x1d0)]),_0x4beccd[_0x425e30(0x1f4)]=_0x137c7b,console['log'](_0x4beccd);const _0x5c3be3=await _0x4beccd[_0x425e30(0x21d)](),_0x346021=await s_payment_data[_0x425e30(0x1f7)]({'invoice':_0xebaa44[_0x425e30(0x1d6)]['invoice'],'reason':_0x425e30(0x1ec)});_0x346021[_0x425e30(0x21b)]=_0x137c7b,await _0x346021[_0x425e30(0x21d)]();let _0x1fcef1=new Date(),_0x1838be=('0'+_0x1fcef1[_0x425e30(0x1c8)]())['slice'](-0x2),_0x5bff93=('0'+(_0x1fcef1['getMonth']()+0x1))[_0x425e30(0x1e2)](-0x2),_0x4cdcc7=_0x1fcef1[_0x425e30(0x21a)](),_0x3ccbf8=_0x4cdcc7+'-'+_0x5bff93+'-'+_0x1838be;const _0x330398=new suppliers_payment({'invoice':_0x557077,'date':_0x4cdcc7+'-'+_0x5bff93+'-'+_0x1838be,'suppliers':_0x40d6f7,'reason':'Received\x20For\x20Purchase\x20Return','amount':_0x3f6d69}),_0x38b9df=await _0x330398[_0x425e30(0x21d)]();_0xebaa44[_0x425e30(0x215)](_0x425e30(0x1c7),_0x425e30(0x1ed)),_0x67b344['redirect']('/purchases_return/view');}catch(_0x1945e5){console[_0x425e30(0x216)](_0x1945e5);}}),module[a0_0x504ab4(0x1a7)]=router;