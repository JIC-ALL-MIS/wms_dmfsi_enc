function a0_0x2031(){var _0x5ca05b=['$receivable','225672vgYvhD','8eyQIxv','product_code_hide','success','errors','getDate','Chinese','product_details','bay','warehouse_name','product_code','product_name','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','$return_product.price','$supplier_docs.address','user','stock_quantity','save','English\x20(US)','map','Arabic','suppliers','pallet','secondary_code','1622256TipZct','primary_code_hide','due_amount','old_warehouse_data','master','to_room','note','Purchase\x20Return','return_qty','$product_details.product_code','French','stock_data','$product_details','flash','purchase_quantity','Portuguese','$product_details.bin','5646640lskqHq','$suppliers','$return_product.return_qty','invoice','$note','/purchases_return/view','$return_product.total','English','to_warehouse_name','get','email','/view/:id','room','findOne','post','$due_amount','log','Spanish','$supplier_docs.mobile','product_details.return_qtyproduct_details.return_qty','Hindi','old_data','1316480QDuCYY','types','floorlevel','slice','level','return_purchase_invoice','$product_details.product_stock','secondary_code_hide','$date','type','return_product','forEach','received','return_purchase_edit','string','find','30597cKULyW','isle','Return\x20Goods','$product_details.storage','payment\x20successfull','findById','/view','getMonth','$product_details.secondary_code','bin','body','../middleware/auth','name','German','Router','purchase\x20return\x20successfully','$discount','Received\x20For\x20Purchase\x20Return','Enabled','$product_details.floorlevel','/receive_payment/:id','language','to_Room_name','156584tBEhLQ','559958Ipobsm','aggregate','render','getFullYear','back','$product_details.rack','Portuguese\x20(BR)','$return_product.product_name','purchases_return','$total_amount','product_stock','supplier_docs','$supplier_docs','$product_details.bay','exports','stocks','params','$supplier_docs.email','redirect','$name','Arabic\x20(ae)'];a0_0x2031=function(){return _0x5ca05b;};return a0_0x2031();}var a0_0x3a6544=a0_0x51e5;function a0_0x51e5(_0x339339,_0x386df1){var _0x203175=a0_0x2031();return a0_0x51e5=function(_0x51e58f,_0x390d20){_0x51e58f=_0x51e58f-0x169;var _0x419fa1=_0x203175[_0x51e58f];return _0x419fa1;},a0_0x51e5(_0x339339,_0x386df1);}(function(_0xf133fc,_0x216bb1){var _0x58ee54=a0_0x51e5,_0x3e19f8=_0xf133fc();while(!![]){try{var _0x3de4ad=parseInt(_0x58ee54(0x16a))/0x1+-parseInt(_0x58ee54(0x181))/0x2+parseInt(_0x58ee54(0x1d0))/0x3*(parseInt(_0x58ee54(0x182))/0x4)+-parseInt(_0x58ee54(0x1c0))/0x5+-parseInt(_0x58ee54(0x199))/0x6+-parseInt(_0x58ee54(0x16b))/0x7+parseInt(_0x58ee54(0x1aa))/0x8;if(_0x3de4ad===_0x216bb1)break;else _0x3e19f8['push'](_0x3e19f8['shift']());}catch(_0x1c2a28){_0x3e19f8['push'](_0x3e19f8['shift']());}}}(a0_0x2031,0x26296));const express=require('express'),app=express(),router=express[a0_0x3a6544(0x1de)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require('../models/all_models'),auth=require(a0_0x3a6544(0x1db)),users=require('../public/language/languages.json');router[a0_0x3a6544(0x1b3)](a0_0x3a6544(0x1d6),auth,async(_0x3b93d0,_0x504ccf)=>{var _0x23c24e=a0_0x3a6544;try{const {username:_0x33439b,email:_0xfa2742,role:_0x2088d7}=_0x3b93d0[_0x23c24e(0x190)],_0x165208=_0x3b93d0[_0x23c24e(0x190)],_0x28cb21=await profile[_0x23c24e(0x1b7)]({'email':_0x165208[_0x23c24e(0x1b4)]}),_0x1e4371=await master_shop['find']();console[_0x23c24e(0x1ba)](_0x23c24e(0x19d),_0x1e4371);const _0x2dc334=await purchases_return[_0x23c24e(0x16c)]([{'$lookup':{'from':_0x23c24e(0x196),'localField':'suppliers','foreignField':_0x23c24e(0x1dc),'as':_0x23c24e(0x176)}},{'$unwind':'$return_product'},{'$unwind':_0x23c24e(0x177)},{'$group':{'_id':'$_id','invoice':{'$first':'$invoice'},'date':{'$first':_0x23c24e(0x1c8)},'suppliers':{'$first':_0x23c24e(0x1ab)},'warehouse_name':{'$first':'$warehouse_name'},'product_name':{'$first':_0x23c24e(0x172)},'return_qty':{'$first':_0x23c24e(0x1ac)},'price':{'$first':_0x23c24e(0x18e)},'total':{'$sum':_0x23c24e(0x1b0)},'note':{'$first':_0x23c24e(0x1ae)},'total_amount':{'$first':_0x23c24e(0x174)},'discount':{'$first':_0x23c24e(0x1e0)},'receivable':{'$first':_0x23c24e(0x180)},'received':{'$first':'$received'},'due_amount':{'$first':_0x23c24e(0x1b9)},'mobile':{'$first':_0x23c24e(0x1bc)},'email':{'$first':_0x23c24e(0x17c)},'address':{'$first':_0x23c24e(0x18f)},'return_sum_qty':{'$sum':_0x23c24e(0x1ac)}}}]);console['log'](_0x2dc334);if(_0x1e4371[0x0]['language']==_0x23c24e(0x193)){var _0x1f33b5=users[_0x23c24e(0x1b1)];console['log'](_0x1f33b5);}else{if(_0x1e4371[0x0]['language']==_0x23c24e(0x1be))var _0x1f33b5=users['Hindi'];else{if(_0x1e4371[0x0][_0x23c24e(0x1e5)]==_0x23c24e(0x1dd))var _0x1f33b5=users[_0x23c24e(0x1dd)];else{if(_0x1e4371[0x0][_0x23c24e(0x1e5)]=='Spanish')var _0x1f33b5=users[_0x23c24e(0x1bb)];else{if(_0x1e4371[0x0][_0x23c24e(0x1e5)]==_0x23c24e(0x1a3))var _0x1f33b5=users['French'];else{if(_0x1e4371[0x0][_0x23c24e(0x1e5)]=='Portuguese\x20(BR)')var _0x1f33b5=users[_0x23c24e(0x1a8)];else{if(_0x1e4371[0x0][_0x23c24e(0x1e5)]==_0x23c24e(0x187))var _0x1f33b5=users[_0x23c24e(0x187)];else{if(_0x1e4371[0x0][_0x23c24e(0x1e5)]==_0x23c24e(0x17f))var _0x1f33b5=users[_0x23c24e(0x195)];}}}}}}}_0x504ccf[_0x23c24e(0x16d)](_0x23c24e(0x173),{'success':_0x3b93d0[_0x23c24e(0x1a6)](_0x23c24e(0x184)),'errors':_0x3b93d0[_0x23c24e(0x1a6)](_0x23c24e(0x185)),'role':_0x165208,'profile':_0x28cb21,'master_shop':_0x1e4371,'user':_0x2dc334,'language':_0x1f33b5});}catch(_0x5a87a3){console['log'](_0x5a87a3);}}),router['get'](a0_0x3a6544(0x1b5),auth,async(_0x2e6c56,_0xf96f54)=>{var _0x4b4245=a0_0x3a6544;try{const {username:_0x40248c,email:_0x4ea0c3,role:_0xfb1f0e}=_0x2e6c56[_0x4b4245(0x190)],_0x37a700=_0x2e6c56[_0x4b4245(0x190)],_0x2648ec=await profile['findOne']({'email':_0x37a700['email']}),_0x361244=await product[_0x4b4245(0x1cf)]({}),_0x4fe306=await master_shop[_0x4b4245(0x1cf)]();console[_0x4b4245(0x1ba)]('master',_0x4fe306),console[_0x4b4245(0x1ba)](_0x2e6c56[_0x4b4245(0x1da)]);const _0x13ad47=_0x2e6c56[_0x4b4245(0x17b)]['id'],_0x3fedb7=await purchases_return['findById'](_0x13ad47);console[_0x4b4245(0x1ba)](_0x3fedb7);const _0x68be01=await warehouse[_0x4b4245(0x16c)]([{'$match':{'name':_0x3fedb7[_0x4b4245(0x18a)],'room':_0x3fedb7[_0x4b4245(0x1b6)]}},{'$unwind':_0x4b4245(0x1a5)},{'$group':{'_id':'$product_details._id','name':{'$first':'$product_details.product_name'},'product_stock':{'$first':_0x4b4245(0x1c6)},'bay':{'$first':_0x4b4245(0x178)},'bin':{'$first':_0x4b4245(0x1a9)},'type':{'$first':'$product_details.type'},'floorlevel':{'$first':_0x4b4245(0x1e3)},'primary_code':{'$first':'$product_details.primary_code'},'secondary_code':{'$first':_0x4b4245(0x1d8)},'product_code':{'$first':_0x4b4245(0x1a2)},'storage':{'$first':_0x4b4245(0x1d3)},'rack':{'$first':_0x4b4245(0x170)}}}]);warehouse_data=await warehouse[_0x4b4245(0x16c)]([{'$match':{'status':_0x4b4245(0x1e2),'name':_0x4b4245(0x1d2),'warehouse_category':'Raw\x20Materials'}},{'$group':{'_id':'$name','name':{'$first':_0x4b4245(0x17e)}}},{'$sort':{'name':0x1}}]),console['log'](_0x4b4245(0x1a4),_0x68be01);if(_0x4fe306[0x0]['language']=='English\x20(US)'){var _0x3198ba=users['English'];console[_0x4b4245(0x1ba)](_0x3198ba);}else{if(_0x4fe306[0x0][_0x4b4245(0x1e5)]==_0x4b4245(0x1be))var _0x3198ba=users[_0x4b4245(0x1be)];else{if(_0x4fe306[0x0][_0x4b4245(0x1e5)]==_0x4b4245(0x1dd))var _0x3198ba=users[_0x4b4245(0x1dd)];else{if(_0x4fe306[0x0][_0x4b4245(0x1e5)]==_0x4b4245(0x1bb))var _0x3198ba=users[_0x4b4245(0x1bb)];else{if(_0x4fe306[0x0]['language']=='French')var _0x3198ba=users[_0x4b4245(0x1a3)];else{if(_0x4fe306[0x0][_0x4b4245(0x1e5)]=='Portuguese\x20(BR)')var _0x3198ba=users[_0x4b4245(0x1a8)];else{if(_0x4fe306[0x0]['language']==_0x4b4245(0x187))var _0x3198ba=users['Chinese'];else{if(_0x4fe306[0x0][_0x4b4245(0x1e5)]==_0x4b4245(0x17f))var _0x3198ba=users['Arabic'];}}}}}}}_0xf96f54['render'](_0x4b4245(0x1cd),{'success':_0x2e6c56['flash'](_0x4b4245(0x184)),'errors':_0x2e6c56[_0x4b4245(0x1a6)](_0x4b4245(0x185)),'role':_0x37a700,'master_shop':_0x4fe306,'profile':_0x2648ec,'user':_0x3fedb7,'stock':_0x68be01,'product':_0x361244,'language':_0x3198ba,'warehouse':warehouse_data});}catch(_0x19b28b){console['log'](_0x19b28b);}}),router[a0_0x3a6544(0x1b8)](a0_0x3a6544(0x1b5),auth,async(_0x271b32,_0x54c6f5)=>{var _0xca1620=a0_0x3a6544;try{const _0x318d8c=_0x271b32[_0xca1620(0x17b)]['id'];console[_0xca1620(0x1ba)](_0x318d8c);const _0x1fd421=await purchases_return[_0xca1620(0x1b7)]({'invoice':_0x271b32[_0xca1620(0x1da)][_0xca1620(0x1ad)]});console[_0xca1620(0x1ba)](_0xca1620(0x1bf),_0x1fd421);const _0x11977d=await warehouse[_0xca1620(0x1b7)]({'name':_0x1fd421[_0xca1620(0x1b2)],'room':_0x1fd421['to_room']});console[_0xca1620(0x1ba)](_0xca1620(0x19c),_0x11977d);const {invoice:_0xe3c253,suppliers:_0x3720f4,date:_0x559913,warehouse_name:_0x85cbe,product_name:_0x12e233,purchase_quantity:_0x1967af,stocks:_0x1b5d55,return_qty:_0x878d98,note:_0x2d1955,Room_name:_0x2815ab,level:_0x5ec543,isle:_0x5df790,pallet:_0x56684e,to_warehouse_name:_0x5ca5a6,to_Room_name:_0x2e8b1a}=_0x271b32[_0xca1620(0x1da)];if(typeof _0x12e233==_0xca1620(0x1ce))var _0x5c199a=[_0x271b32[_0xca1620(0x1da)]['product_name']],_0x35aca4=[_0x271b32[_0xca1620(0x1da)][_0xca1620(0x1a7)]],_0x2a4246=[_0x271b32[_0xca1620(0x1da)]['stocks']],_0x4934ac=[_0x271b32['body'][_0xca1620(0x1a1)]],_0x28cf60=[_0x271b32['body'][_0xca1620(0x1c4)]],_0x533502=[_0x271b32['body'][_0xca1620(0x1d1)]],_0x1e2bfb=[_0x271b32[_0xca1620(0x1da)][_0xca1620(0x197)]],_0x1cf792=[_0x271b32[_0xca1620(0x1da)][_0xca1620(0x1c1)]],_0x9baa6f=[_0x271b32['body'][_0xca1620(0x183)]],_0xb303dc=[_0x271b32[_0xca1620(0x1da)][_0xca1620(0x19a)]],_0x1ca45d=[_0x271b32[_0xca1620(0x1da)][_0xca1620(0x1c7)]];else var _0x5c199a=[..._0x271b32['body'][_0xca1620(0x18c)]],_0x35aca4=[..._0x271b32[_0xca1620(0x1da)][_0xca1620(0x1a7)]],_0x2a4246=[..._0x271b32[_0xca1620(0x1da)][_0xca1620(0x17a)]],_0x4934ac=[..._0x271b32['body'][_0xca1620(0x1a1)]],_0x28cf60=[..._0x271b32['body'][_0xca1620(0x1c4)]],_0x533502=[..._0x271b32[_0xca1620(0x1da)][_0xca1620(0x1d1)]],_0x1e2bfb=[..._0x271b32[_0xca1620(0x1da)][_0xca1620(0x197)]],_0x9baa6f=[..._0x271b32['body']['product_code_hide']],_0xb303dc=[..._0x271b32[_0xca1620(0x1da)][_0xca1620(0x19a)]],_0x1ca45d=[..._0x271b32['body']['secondary_code_hide']],_0x1cf792=[..._0x271b32[_0xca1620(0x1da)][_0xca1620(0x1c1)]];const _0xbfd8ee=_0x5c199a[_0xca1620(0x194)](_0x5003b0=>{return _0x5003b0={'product_name':_0x5003b0};});_0x35aca4[_0xca1620(0x1cb)]((_0x16a32e,_0x2f7b90)=>{var _0x3bf6b5=_0xca1620;_0xbfd8ee[_0x2f7b90][_0x3bf6b5(0x1a7)]=_0x16a32e;}),_0x2a4246[_0xca1620(0x1cb)]((_0x199580,_0x2fab38)=>{var _0x3103f4=_0xca1620;_0xbfd8ee[_0x2fab38][_0x3103f4(0x191)]=_0x199580;}),_0x4934ac[_0xca1620(0x1cb)]((_0x67b7fb,_0x42cdaa)=>{var _0x53738e=_0xca1620;_0xbfd8ee[_0x42cdaa][_0x53738e(0x1a1)]=_0x67b7fb;}),_0x28cf60[_0xca1620(0x1cb)]((_0x5242be,_0x2b6a31)=>{var _0x10467f=_0xca1620;_0xbfd8ee[_0x2b6a31][_0x10467f(0x189)]=_0x5242be;}),_0x533502[_0xca1620(0x1cb)]((_0x2a116f,_0x47a573)=>{_0xbfd8ee[_0x47a573]['bin']=_0x2a116f;}),_0x1e2bfb[_0xca1620(0x1cb)]((_0x8001de,_0x2161f9)=>{var _0x36dd95=_0xca1620;_0xbfd8ee[_0x2161f9][_0x36dd95(0x1c2)]=_0x8001de;}),_0x9baa6f['forEach']((_0x118c10,_0x5ba4cb)=>{var _0x26a021=_0xca1620;_0xbfd8ee[_0x5ba4cb][_0x26a021(0x18b)]=_0x118c10;}),_0xb303dc[_0xca1620(0x1cb)]((_0x2f00d4,_0x1fcce8)=>{_0xbfd8ee[_0x1fcce8]['primary_code']=_0x2f00d4;}),_0x1ca45d[_0xca1620(0x1cb)]((_0x10cd6e,_0x6beba2)=>{var _0x5d54ca=_0xca1620;_0xbfd8ee[_0x6beba2][_0x5d54ca(0x198)]=_0x10cd6e;}),_0x1cf792[_0xca1620(0x1cb)]((_0x35e9b9,_0x2db69a)=>{var _0x56e813=_0xca1620;_0xbfd8ee[_0x2db69a][_0x56e813(0x1c9)]=_0x35e9b9;});var _0x4462f3=0x0;_0xbfd8ee['forEach'](_0xe9c5af=>{var _0x40f9e9=_0xca1620;console[_0x40f9e9(0x1ba)]('foreach\x20newproduct',_0xe9c5af),(parseInt(_0xe9c5af['purchase_quantity'])<parseInt(_0xe9c5af['return_qty'])||parseInt(_0xe9c5af[_0x40f9e9(0x191)])<parseInt(_0xe9c5af[_0x40f9e9(0x1a1)])||parseInt(_0xe9c5af[_0x40f9e9(0x1a1)])==0x0)&&_0x4462f3++;});if(_0x4462f3!=0x0)return _0x271b32[_0xca1620(0x1a6)](_0xca1620(0x185),_0xca1620(0x18d)),_0x54c6f5[_0xca1620(0x17d)](_0xca1620(0x16f));_0x1fd421[_0xca1620(0x1ca)][_0xca1620(0x1cb)](_0x13b7d7=>{var _0x5e8ccf=_0xca1620;const _0x2c9897=_0x11977d[_0x5e8ccf(0x188)][_0x5e8ccf(0x194)](_0x4d9ec1=>{var _0x1c4039=_0x5e8ccf;_0x4d9ec1[_0x1c4039(0x18c)]==_0x13b7d7[_0x1c4039(0x18c)]&&_0x4d9ec1[_0x1c4039(0x1c2)]==_0x13b7d7[_0x1c4039(0x1c2)]&&_0x4d9ec1[_0x1c4039(0x1c9)]==_0x13b7d7[_0x1c4039(0x1c9)]&&_0x4d9ec1[_0x1c4039(0x1d9)]==_0x13b7d7[_0x1c4039(0x1d9)]&&_0x4d9ec1[_0x1c4039(0x189)]==_0x13b7d7[_0x1c4039(0x189)]&&(_0x4d9ec1['product_stock']=parseInt(_0x4d9ec1[_0x1c4039(0x175)])+parseInt(_0x13b7d7[_0x1c4039(0x1a1)]));});}),console[_0xca1620(0x1ba)]('old_warehouse_data',_0x11977d),await _0x11977d[_0xca1620(0x192)](),_0x1fd421[_0xca1620(0x1ad)]=_0xe3c253,_0x1fd421[_0xca1620(0x196)]=_0x3720f4,_0x1fd421['date']=_0x559913,_0x1fd421[_0xca1620(0x18a)]=_0x85cbe,_0x1fd421[_0xca1620(0x1ca)]=_0xbfd8ee,_0x1fd421[_0xca1620(0x19f)]=_0x2d1955,_0x1fd421[_0xca1620(0x1b6)]=_0x2815ab,_0x1fd421[_0xca1620(0x1b2)]=_0x5ca5a6,_0x1fd421[_0xca1620(0x19e)]=_0x2e8b1a;const _0x131fa7=await _0x1fd421[_0xca1620(0x192)](),_0x2fa0ea=await purchases_return[_0xca1620(0x1b7)]({'invoice':_0x271b32['body'][_0xca1620(0x1ad)]}),_0x2d755e=await warehouse[_0xca1620(0x1b7)]({'name':_0x271b32[_0xca1620(0x1da)][_0xca1620(0x1b2)],'room':_0x271b32[_0xca1620(0x1da)][_0xca1620(0x169)]});_0x2fa0ea[_0xca1620(0x1ca)][_0xca1620(0x1cb)](_0x63c974=>{var _0x1eff75=_0xca1620;_0x2d755e[_0x1eff75(0x188)][_0x1eff75(0x194)](_0x4d4bf2=>{var _0x1f4b61=_0x1eff75;_0x4d4bf2[_0x1f4b61(0x18c)]==_0x63c974[_0x1f4b61(0x18c)]&&_0x4d4bf2[_0x1f4b61(0x197)]==_0x63c974[_0x1f4b61(0x197)]&&(_0x4d4bf2[_0x1f4b61(0x175)]=parseInt(_0x4d4bf2[_0x1f4b61(0x175)])-parseInt(_0x63c974['return_qty']),console['log'](_0x1f4b61(0x1bd),_0x63c974[_0x1f4b61(0x1a1)]));});}),console[_0xca1620(0x1ba)]('final',_0x2d755e),await _0x2d755e[_0xca1620(0x192)]();const _0xb6046a=await s_payment_data[_0xca1620(0x1b7)]({'invoice':_0x271b32[_0xca1620(0x1da)][_0xca1620(0x1ad)],'reason':_0xca1620(0x1a0)});await _0xb6046a[_0xca1620(0x192)](),_0x271b32[_0xca1620(0x1a6)](_0xca1620(0x184),_0xca1620(0x1df)),_0x54c6f5['redirect'](_0xca1620(0x1af));}catch(_0x1d72c5){console['log'](_0x1d72c5),_0x54c6f5['status'](0xc8)['json']({'message':_0x1d72c5['message']});}}),router[a0_0x3a6544(0x1b3)]('/invoice/:id',auth,async(_0x13256c,_0x29ea99)=>{var _0x589bf1=a0_0x3a6544;try{const {username:_0x2431de,email:_0x3bf584,role:_0x590ecb}=_0x13256c[_0x589bf1(0x190)],_0x203396=_0x13256c[_0x589bf1(0x190)],_0x38aa4b=await profile[_0x589bf1(0x1b7)]({'email':_0x203396['email']}),_0x4a4845=await master_shop[_0x589bf1(0x1cf)]();console[_0x589bf1(0x1ba)](_0x589bf1(0x19d),_0x4a4845);const _0xa7ca70=_0x13256c[_0x589bf1(0x17b)]['id'],_0x4f7460=await purchases_return[_0x589bf1(0x1d5)](_0xa7ca70);console[_0x589bf1(0x1ba)](_0x4f7460);const _0x4347f3=await suppliers[_0x589bf1(0x1b7)]({'name':_0x4f7460[_0x589bf1(0x196)]});console[_0x589bf1(0x1ba)](_0x4347f3);if(_0x4a4845[0x0][_0x589bf1(0x1e5)]==_0x589bf1(0x193)){var _0x43bfc7=users[_0x589bf1(0x1b1)];console[_0x589bf1(0x1ba)](_0x43bfc7);}else{if(_0x4a4845[0x0][_0x589bf1(0x1e5)]=='Hindi')var _0x43bfc7=users[_0x589bf1(0x1be)];else{if(_0x4a4845[0x0][_0x589bf1(0x1e5)]==_0x589bf1(0x1dd))var _0x43bfc7=users[_0x589bf1(0x1dd)];else{if(_0x4a4845[0x0][_0x589bf1(0x1e5)]==_0x589bf1(0x1bb))var _0x43bfc7=users['Spanish'];else{if(_0x4a4845[0x0][_0x589bf1(0x1e5)]==_0x589bf1(0x1a3))var _0x43bfc7=users[_0x589bf1(0x1a3)];else{if(_0x4a4845[0x0]['language']==_0x589bf1(0x171))var _0x43bfc7=users[_0x589bf1(0x1a8)];else{if(_0x4a4845[0x0][_0x589bf1(0x1e5)]==_0x589bf1(0x187))var _0x43bfc7=users[_0x589bf1(0x187)];else{if(_0x4a4845[0x0][_0x589bf1(0x1e5)]==_0x589bf1(0x17f))var _0x43bfc7=users[_0x589bf1(0x195)];}}}}}}}_0x29ea99[_0x589bf1(0x16d)](_0x589bf1(0x1c5),{'success':_0x13256c[_0x589bf1(0x1a6)](_0x589bf1(0x184)),'errors':_0x13256c[_0x589bf1(0x1a6)](_0x589bf1(0x185)),'role':_0x203396,'profile':_0x38aa4b,'master_shop':_0x4a4845,'supplier':_0x4347f3,'purchase':_0x4f7460,'language':_0x43bfc7});}catch(_0x47412c){console[_0x589bf1(0x1ba)](_0x47412c);}}),router[a0_0x3a6544(0x1b8)](a0_0x3a6544(0x1e4),auth,async(_0x3ea731,_0x15868d)=>{var _0x459333=a0_0x3a6544;try{const _0x3a8eb8=_0x3ea731[_0x459333(0x17b)]['id'],{invoice:_0x5554d3,suppliers:_0x420603,receivable_amount:_0x53296b,received_amount:_0x2014f2}=_0x3ea731[_0x459333(0x1da)],_0x37a310=await purchases_return[_0x459333(0x1d5)](_0x3a8eb8);console[_0x459333(0x1ba)](_0x37a310);var _0x126e78=_0x53296b-_0x2014f2;console[_0x459333(0x1ba)](_0x2014f2),_0x37a310[_0x459333(0x1cc)]=parseFloat(_0x2014f2)+parseFloat(_0x37a310['received']),_0x37a310[_0x459333(0x19b)]=_0x126e78,console[_0x459333(0x1ba)](_0x37a310);const _0x129881=await _0x37a310[_0x459333(0x192)](),_0x48d6a2=await s_payment_data[_0x459333(0x1b7)]({'invoice':_0x3ea731[_0x459333(0x1da)][_0x459333(0x1ad)],'reason':'Purchase\x20Return'});_0x48d6a2['amount']=_0x126e78,await _0x48d6a2[_0x459333(0x192)]();let _0x2e56dc=new Date(),_0x2393a4=('0'+_0x2e56dc[_0x459333(0x186)]())[_0x459333(0x1c3)](-0x2),_0x3dbb45=('0'+(_0x2e56dc[_0x459333(0x1d7)]()+0x1))[_0x459333(0x1c3)](-0x2),_0x51b3e2=_0x2e56dc[_0x459333(0x16e)](),_0x14bce1=_0x51b3e2+'-'+_0x3dbb45+'-'+_0x2393a4;const _0x549a04=new suppliers_payment({'invoice':_0x5554d3,'date':_0x51b3e2+'-'+_0x3dbb45+'-'+_0x2393a4,'suppliers':_0x420603,'reason':_0x459333(0x1e1),'amount':_0x2014f2}),_0x31d00d=await _0x549a04[_0x459333(0x192)]();_0x3ea731[_0x459333(0x1a6)]('success',_0x459333(0x1d4)),_0x15868d[_0x459333(0x17d)](_0x459333(0x1af));}catch(_0x522f52){console[_0x459333(0x1ba)](_0x522f52);}}),module[a0_0x3a6544(0x179)]=router;