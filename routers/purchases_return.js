var a0_0x5eee43=a0_0x1374;(function(_0x4b69a1,_0x551250){var _0x379890=a0_0x1374,_0x5b0ad4=_0x4b69a1();while(!![]){try{var _0x301b47=-parseInt(_0x379890(0x146))/0x1+-parseInt(_0x379890(0x15d))/0x2*(parseInt(_0x379890(0x140))/0x3)+-parseInt(_0x379890(0x18e))/0x4*(parseInt(_0x379890(0x17b))/0x5)+parseInt(_0x379890(0x15e))/0x6+parseInt(_0x379890(0x11e))/0x7+-parseInt(_0x379890(0x139))/0x8+parseInt(_0x379890(0x176))/0x9;if(_0x301b47===_0x551250)break;else _0x5b0ad4['push'](_0x5b0ad4['shift']());}catch(_0x34ffbb){_0x5b0ad4['push'](_0x5b0ad4['shift']());}}}(a0_0x26a0,0xba872));function a0_0x1374(_0x29faa4,_0x190047){var _0x26a064=a0_0x26a0();return a0_0x1374=function(_0x1374d8,_0xf159dd){_0x1374d8=_0x1374d8-0x10f;var _0x39d38e=_0x26a064[_0x1374d8];return _0x39d38e;},a0_0x1374(_0x29faa4,_0x190047);}function a0_0x26a0(){var _0x2f3daa=['$product_details.rack','post','map','English','product_stock','getFullYear','stock_data','final','English\x20(US)','invoice','user','8254616bkopNY','old_warehouse_data','French','Enabled','findOne','$_id','getDate','6KcMubU','product_code_hide','success','isle','$invoice','$discount','603585JMJteN','$product_details._id','room','get','/view','suppliers','$supplier_docs.mobile','$return_product.product_name','/receive_payment/:id','$due_amount','/view/:id','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','email','json','/purchases_return/view','$suppliers','old_data','message','back','$return_product','$product_details','Arabic','Portuguese','1013462OKsRHV','3459090WiOpDZ','pallet','$product_details.product_code','master','Return\x20Goods','Router','$warehouse_name','product_details','params','supplier_docs','aggregate','date','$product_details.type','floorlevel','find','secondary_code_hide','to_warehouse_name','$product_details.bin','return_purchase_invoice','types','$name','amount','$product_details.storage','due_amount','14319279rPAysS','Raw\x20Materials','express','../middleware/auth','secondary_code','145CKZrky','log','Chinese','slice','$product_details.bay','/invoice/:id','primary_code_hide','language','render','type','$supplier_docs.address','purchase_quantity','status','bin','German','$product_details.product_stock','exports','body','$product_details.secondary_code','10852MQxobc','$note','flash','stocks','name','return_qty','../public/language/languages.json','$return_product.price','string','$supplier_docs.email','received','Arabic\x20(ae)','to_room','product_details.return_qtyproduct_details.return_qty','product_code','payment\x20successfull','Spanish','product_name','Hindi','findById','purchase\x20return\x20successfully','to_Room_name','../models/all_models','9268161mvqHHf','return_product','Purchase\x20Return','$supplier_docs','redirect','Portuguese\x20(BR)','forEach','save','foreach\x20newproduct','errors','$received','$return_product.return_qty','bay','level','warehouse_name','$product_details.product_name'];a0_0x26a0=function(){return _0x2f3daa;};return a0_0x26a0();}const express=require(a0_0x5eee43(0x178)),app=express(),router=express[a0_0x5eee43(0x163)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require(a0_0x5eee43(0x11d)),auth=require(a0_0x5eee43(0x179)),users=require(a0_0x5eee43(0x194));router['get'](a0_0x5eee43(0x14a),auth,async(_0xe0475d,_0x1569b8)=>{var _0x5298c3=a0_0x5eee43;try{const {username:_0x508408,email:_0x59d444,role:_0x44fddf}=_0xe0475d['user'],_0x3f8b01=_0xe0475d['user'],_0x3059ba=await profile[_0x5298c3(0x13d)]({'email':_0x3f8b01[_0x5298c3(0x152)]}),_0x5137f9=await master_shop[_0x5298c3(0x16c)]();console['log'](_0x5298c3(0x161),_0x5137f9);const _0x80b0d5=await purchases_return[_0x5298c3(0x168)]([{'$lookup':{'from':_0x5298c3(0x14b),'localField':_0x5298c3(0x14b),'foreignField':_0x5298c3(0x192),'as':_0x5298c3(0x167)}},{'$unwind':_0x5298c3(0x159)},{'$unwind':_0x5298c3(0x121)},{'$group':{'_id':_0x5298c3(0x13e),'invoice':{'$first':_0x5298c3(0x144)},'date':{'$first':'$date'},'suppliers':{'$first':_0x5298c3(0x155)},'warehouse_name':{'$first':_0x5298c3(0x164)},'product_name':{'$first':_0x5298c3(0x14d)},'return_qty':{'$first':_0x5298c3(0x129)},'price':{'$first':_0x5298c3(0x195)},'total':{'$sum':'$return_product.total'},'note':{'$first':_0x5298c3(0x18f)},'total_amount':{'$first':'$total_amount'},'discount':{'$first':_0x5298c3(0x145)},'receivable':{'$first':'$receivable'},'received':{'$first':_0x5298c3(0x128)},'due_amount':{'$first':_0x5298c3(0x14f)},'mobile':{'$first':_0x5298c3(0x14c)},'email':{'$first':_0x5298c3(0x110)},'address':{'$first':_0x5298c3(0x185)},'return_sum_qty':{'$sum':_0x5298c3(0x129)}}}]);console[_0x5298c3(0x17c)](_0x80b0d5);if(_0x5137f9[0x0][_0x5298c3(0x182)]==_0x5298c3(0x136)){var _0x3018f8=users[_0x5298c3(0x131)];console[_0x5298c3(0x17c)](_0x3018f8);}else{if(_0x5137f9[0x0][_0x5298c3(0x182)]==_0x5298c3(0x119))var _0x3018f8=users[_0x5298c3(0x119)];else{if(_0x5137f9[0x0][_0x5298c3(0x182)]==_0x5298c3(0x189))var _0x3018f8=users['German'];else{if(_0x5137f9[0x0][_0x5298c3(0x182)]==_0x5298c3(0x117))var _0x3018f8=users[_0x5298c3(0x117)];else{if(_0x5137f9[0x0][_0x5298c3(0x182)]=='French')var _0x3018f8=users['French'];else{if(_0x5137f9[0x0][_0x5298c3(0x182)]==_0x5298c3(0x123))var _0x3018f8=users[_0x5298c3(0x15c)];else{if(_0x5137f9[0x0][_0x5298c3(0x182)]==_0x5298c3(0x17d))var _0x3018f8=users['Chinese'];else{if(_0x5137f9[0x0][_0x5298c3(0x182)]==_0x5298c3(0x112))var _0x3018f8=users[_0x5298c3(0x15b)];}}}}}}}_0x1569b8[_0x5298c3(0x183)]('purchases_return',{'success':_0xe0475d[_0x5298c3(0x190)]('success'),'errors':_0xe0475d[_0x5298c3(0x190)](_0x5298c3(0x127)),'role':_0x3f8b01,'profile':_0x3059ba,'master_shop':_0x5137f9,'user':_0x80b0d5,'language':_0x3018f8});}catch(_0xd0037a){console['log'](_0xd0037a);}}),router[a0_0x5eee43(0x149)](a0_0x5eee43(0x150),auth,async(_0x317ed9,_0x4ef0ef)=>{var _0x5f1a59=a0_0x5eee43;try{const {username:_0x45b616,email:_0x1431d9,role:_0x312aaa}=_0x317ed9[_0x5f1a59(0x138)],_0x3ed90c=_0x317ed9[_0x5f1a59(0x138)],_0x2e91a9=await profile[_0x5f1a59(0x13d)]({'email':_0x3ed90c[_0x5f1a59(0x152)]}),_0x15f874=await product['find']({}),_0x1283b6=await master_shop[_0x5f1a59(0x16c)]();console['log'](_0x5f1a59(0x161),_0x1283b6),console[_0x5f1a59(0x17c)](_0x317ed9['body']);const _0x26df5d=_0x317ed9[_0x5f1a59(0x166)]['id'],_0x3ef888=await purchases_return['findById'](_0x26df5d);console[_0x5f1a59(0x17c)](_0x3ef888);const _0x3074e6=await warehouse[_0x5f1a59(0x168)]([{'$match':{'name':_0x3ef888[_0x5f1a59(0x12c)],'room':_0x3ef888[_0x5f1a59(0x148)]}},{'$unwind':_0x5f1a59(0x15a)},{'$group':{'_id':_0x5f1a59(0x147),'name':{'$first':_0x5f1a59(0x12d)},'product_stock':{'$first':_0x5f1a59(0x18a)},'bay':{'$first':_0x5f1a59(0x17f)},'bin':{'$first':_0x5f1a59(0x16f)},'type':{'$first':_0x5f1a59(0x16a)},'floorlevel':{'$first':'$product_details.floorlevel'},'primary_code':{'$first':'$product_details.primary_code'},'secondary_code':{'$first':_0x5f1a59(0x18d)},'product_code':{'$first':_0x5f1a59(0x160)},'storage':{'$first':_0x5f1a59(0x174)},'rack':{'$first':_0x5f1a59(0x12e)}}}]);warehouse_data=await warehouse[_0x5f1a59(0x168)]([{'$match':{'status':_0x5f1a59(0x13c),'name':_0x5f1a59(0x162),'warehouse_category':_0x5f1a59(0x177)}},{'$group':{'_id':_0x5f1a59(0x172),'name':{'$first':_0x5f1a59(0x172)}}},{'$sort':{'name':0x1}}]),console[_0x5f1a59(0x17c)](_0x5f1a59(0x134),_0x3074e6);if(_0x1283b6[0x0][_0x5f1a59(0x182)]==_0x5f1a59(0x136)){var _0x1679e9=users[_0x5f1a59(0x131)];console['log'](_0x1679e9);}else{if(_0x1283b6[0x0][_0x5f1a59(0x182)]==_0x5f1a59(0x119))var _0x1679e9=users[_0x5f1a59(0x119)];else{if(_0x1283b6[0x0][_0x5f1a59(0x182)]=='German')var _0x1679e9=users[_0x5f1a59(0x189)];else{if(_0x1283b6[0x0][_0x5f1a59(0x182)]==_0x5f1a59(0x117))var _0x1679e9=users[_0x5f1a59(0x117)];else{if(_0x1283b6[0x0]['language']=='French')var _0x1679e9=users[_0x5f1a59(0x13b)];else{if(_0x1283b6[0x0][_0x5f1a59(0x182)]=='Portuguese\x20(BR)')var _0x1679e9=users[_0x5f1a59(0x15c)];else{if(_0x1283b6[0x0][_0x5f1a59(0x182)]=='Chinese')var _0x1679e9=users[_0x5f1a59(0x17d)];else{if(_0x1283b6[0x0][_0x5f1a59(0x182)]==_0x5f1a59(0x112))var _0x1679e9=users['Arabic'];}}}}}}}_0x4ef0ef[_0x5f1a59(0x183)]('return_purchase_edit',{'success':_0x317ed9['flash'](_0x5f1a59(0x142)),'errors':_0x317ed9[_0x5f1a59(0x190)](_0x5f1a59(0x127)),'role':_0x3ed90c,'master_shop':_0x1283b6,'profile':_0x2e91a9,'user':_0x3ef888,'stock':_0x3074e6,'product':_0x15f874,'language':_0x1679e9,'warehouse':warehouse_data});}catch(_0x5e65eb){console[_0x5f1a59(0x17c)](_0x5e65eb);}}),router['post'](a0_0x5eee43(0x150),auth,async(_0x2480cc,_0x16d3ff)=>{var _0x2dfd68=a0_0x5eee43;try{const _0x39b75d=_0x2480cc[_0x2dfd68(0x166)]['id'];console[_0x2dfd68(0x17c)](_0x39b75d);const _0x2489bd=await purchases_return[_0x2dfd68(0x13d)]({'invoice':_0x2480cc['body'][_0x2dfd68(0x137)]});console[_0x2dfd68(0x17c)](_0x2dfd68(0x156),_0x2489bd);const _0x2f2278=await warehouse[_0x2dfd68(0x13d)]({'name':_0x2489bd[_0x2dfd68(0x16e)],'room':_0x2489bd[_0x2dfd68(0x113)]});console[_0x2dfd68(0x17c)]('old_warehouse_data',_0x2f2278);const {invoice:_0x27eab6,suppliers:_0x384a14,date:_0x1fa40f,warehouse_name:_0xd836b8,product_name:_0x485550,purchase_quantity:_0x43af6f,stocks:_0x49b453,return_qty:_0x10604e,note:_0x264a7d,Room_name:_0x36e481,level:_0x8aa715,isle:_0x13ac9e,pallet:_0x5f4aa3,to_warehouse_name:_0x3bfba8,to_Room_name:_0x44e1c1}=_0x2480cc[_0x2dfd68(0x18c)];if(typeof _0x485550==_0x2dfd68(0x10f))var _0x189cb9=[_0x2480cc['body'][_0x2dfd68(0x118)]],_0x37bc68=[_0x2480cc[_0x2dfd68(0x18c)]['purchase_quantity']],_0x4006fb=[_0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x191)]],_0x1136f5=[_0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x193)]],_0x6d29a8=[_0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x12b)]],_0x166ee3=[_0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x143)]],_0x5368e9=[_0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x15f)]],_0x4867d5=[_0x2480cc['body'][_0x2dfd68(0x171)]],_0x790196=[_0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x141)]],_0x4cb6a2=[_0x2480cc['body']['primary_code_hide']],_0x436df8=[_0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x16d)]];else var _0x189cb9=[..._0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x118)]],_0x37bc68=[..._0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x186)]],_0x4006fb=[..._0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x191)]],_0x1136f5=[..._0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x193)]],_0x6d29a8=[..._0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x12b)]],_0x166ee3=[..._0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x143)]],_0x5368e9=[..._0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x15f)]],_0x790196=[..._0x2480cc['body']['product_code_hide']],_0x4cb6a2=[..._0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x181)]],_0x436df8=[..._0x2480cc['body'][_0x2dfd68(0x16d)]],_0x4867d5=[..._0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x171)]];const _0x5812a8=_0x189cb9[_0x2dfd68(0x130)](_0x7c096d=>{return _0x7c096d={'product_name':_0x7c096d};});_0x37bc68[_0x2dfd68(0x124)]((_0x1c014a,_0x1a8a65)=>{var _0x2ab884=_0x2dfd68;_0x5812a8[_0x1a8a65][_0x2ab884(0x186)]=_0x1c014a;}),_0x4006fb[_0x2dfd68(0x124)]((_0x42256f,_0x179821)=>{_0x5812a8[_0x179821]['stock_quantity']=_0x42256f;}),_0x1136f5[_0x2dfd68(0x124)]((_0x14b580,_0x9b9359)=>{var _0x3460ea=_0x2dfd68;_0x5812a8[_0x9b9359][_0x3460ea(0x193)]=_0x14b580;}),_0x6d29a8[_0x2dfd68(0x124)]((_0x51de73,_0x41570e)=>{var _0x5d4c23=_0x2dfd68;_0x5812a8[_0x41570e][_0x5d4c23(0x12a)]=_0x51de73;}),_0x166ee3['forEach']((_0x216ba0,_0x125181)=>{var _0x198583=_0x2dfd68;_0x5812a8[_0x125181][_0x198583(0x188)]=_0x216ba0;}),_0x5368e9[_0x2dfd68(0x124)]((_0x2e92ec,_0x3cf7d6)=>{var _0x474563=_0x2dfd68;_0x5812a8[_0x3cf7d6][_0x474563(0x16b)]=_0x2e92ec;}),_0x790196[_0x2dfd68(0x124)]((_0x4b4d9e,_0x41b4e7)=>{var _0x204433=_0x2dfd68;_0x5812a8[_0x41b4e7][_0x204433(0x115)]=_0x4b4d9e;}),_0x4cb6a2[_0x2dfd68(0x124)]((_0x4ffbdb,_0x52b4fa)=>{_0x5812a8[_0x52b4fa]['primary_code']=_0x4ffbdb;}),_0x436df8[_0x2dfd68(0x124)]((_0x182944,_0x1f669d)=>{var _0x439f0d=_0x2dfd68;_0x5812a8[_0x1f669d][_0x439f0d(0x17a)]=_0x182944;}),_0x4867d5[_0x2dfd68(0x124)]((_0x56b414,_0x42801b)=>{var _0x542860=_0x2dfd68;_0x5812a8[_0x42801b][_0x542860(0x184)]=_0x56b414;});var _0x2b94c5=0x0;_0x5812a8[_0x2dfd68(0x124)](_0xd4113d=>{var _0x4f2299=_0x2dfd68;console[_0x4f2299(0x17c)](_0x4f2299(0x126),_0xd4113d),(parseInt(_0xd4113d[_0x4f2299(0x186)])<parseInt(_0xd4113d[_0x4f2299(0x193)])||parseInt(_0xd4113d['stock_quantity'])<parseInt(_0xd4113d[_0x4f2299(0x193)])||parseInt(_0xd4113d['return_qty'])==0x0)&&_0x2b94c5++;});if(_0x2b94c5!=0x0)return _0x2480cc[_0x2dfd68(0x190)](_0x2dfd68(0x127),_0x2dfd68(0x151)),_0x16d3ff[_0x2dfd68(0x122)](_0x2dfd68(0x158));_0x2489bd[_0x2dfd68(0x11f)][_0x2dfd68(0x124)](_0x571eb9=>{var _0x2eb507=_0x2dfd68;const _0x143904=_0x2f2278[_0x2eb507(0x165)][_0x2eb507(0x130)](_0x4ff42d=>{var _0x51d6c4=_0x2eb507;_0x4ff42d[_0x51d6c4(0x118)]==_0x571eb9[_0x51d6c4(0x118)]&&_0x4ff42d['floorlevel']==_0x571eb9[_0x51d6c4(0x16b)]&&_0x4ff42d[_0x51d6c4(0x184)]==_0x571eb9[_0x51d6c4(0x184)]&&_0x4ff42d[_0x51d6c4(0x188)]==_0x571eb9['bin']&&_0x4ff42d[_0x51d6c4(0x12a)]==_0x571eb9[_0x51d6c4(0x12a)]&&(_0x4ff42d['product_stock']=parseInt(_0x4ff42d[_0x51d6c4(0x132)])+parseInt(_0x571eb9['return_qty']));});}),console['log'](_0x2dfd68(0x13a),_0x2f2278),await _0x2f2278[_0x2dfd68(0x125)](),_0x2489bd['invoice']=_0x27eab6,_0x2489bd[_0x2dfd68(0x14b)]=_0x384a14,_0x2489bd[_0x2dfd68(0x169)]=_0x1fa40f,_0x2489bd[_0x2dfd68(0x12c)]=_0xd836b8,_0x2489bd['return_product']=_0x5812a8,_0x2489bd['note']=_0x264a7d,_0x2489bd[_0x2dfd68(0x148)]=_0x36e481,_0x2489bd[_0x2dfd68(0x16e)]=_0x3bfba8,_0x2489bd[_0x2dfd68(0x113)]=_0x44e1c1;const _0x50795d=await _0x2489bd[_0x2dfd68(0x125)](),_0x19253d=await purchases_return[_0x2dfd68(0x13d)]({'invoice':_0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x137)]}),_0x15f163=await warehouse[_0x2dfd68(0x13d)]({'name':_0x2480cc['body'][_0x2dfd68(0x16e)],'room':_0x2480cc[_0x2dfd68(0x18c)][_0x2dfd68(0x11c)]});_0x19253d[_0x2dfd68(0x11f)]['forEach'](_0x2e950b=>{var _0x43c476=_0x2dfd68;_0x15f163[_0x43c476(0x165)][_0x43c476(0x130)](_0x5a3bb9=>{var _0x4ef2c9=_0x43c476;_0x5a3bb9[_0x4ef2c9(0x118)]==_0x2e950b[_0x4ef2c9(0x118)]&&_0x5a3bb9['pallet']==_0x2e950b[_0x4ef2c9(0x15f)]&&(_0x5a3bb9['product_stock']=parseInt(_0x5a3bb9[_0x4ef2c9(0x132)])-parseInt(_0x2e950b[_0x4ef2c9(0x193)]),console[_0x4ef2c9(0x17c)](_0x4ef2c9(0x114),_0x2e950b[_0x4ef2c9(0x193)]));});}),console[_0x2dfd68(0x17c)](_0x2dfd68(0x135),_0x15f163),await _0x15f163[_0x2dfd68(0x125)]();const _0x2d66c5=await s_payment_data[_0x2dfd68(0x13d)]({'invoice':_0x2480cc[_0x2dfd68(0x18c)]['invoice'],'reason':'Purchase\x20Return'});await _0x2d66c5[_0x2dfd68(0x125)](),_0x2480cc[_0x2dfd68(0x190)](_0x2dfd68(0x142),_0x2dfd68(0x11b)),_0x16d3ff['redirect'](_0x2dfd68(0x154));}catch(_0x1a590f){console[_0x2dfd68(0x17c)](_0x1a590f),_0x16d3ff[_0x2dfd68(0x187)](0xc8)[_0x2dfd68(0x153)]({'message':_0x1a590f[_0x2dfd68(0x157)]});}}),router[a0_0x5eee43(0x149)](a0_0x5eee43(0x180),auth,async(_0x2e48d1,_0x6c727c)=>{var _0x4aa4f9=a0_0x5eee43;try{const {username:_0x3735a5,email:_0x1446a7,role:_0x95a93d}=_0x2e48d1[_0x4aa4f9(0x138)],_0x4cde2b=_0x2e48d1[_0x4aa4f9(0x138)],_0x5ac3c1=await profile[_0x4aa4f9(0x13d)]({'email':_0x4cde2b[_0x4aa4f9(0x152)]}),_0x39200a=await master_shop[_0x4aa4f9(0x16c)]();console[_0x4aa4f9(0x17c)](_0x4aa4f9(0x161),_0x39200a);const _0x3bdae1=_0x2e48d1[_0x4aa4f9(0x166)]['id'],_0x2b1aaf=await purchases_return[_0x4aa4f9(0x11a)](_0x3bdae1);console[_0x4aa4f9(0x17c)](_0x2b1aaf);const _0xf3eee7=await suppliers[_0x4aa4f9(0x13d)]({'name':_0x2b1aaf[_0x4aa4f9(0x14b)]});console[_0x4aa4f9(0x17c)](_0xf3eee7);if(_0x39200a[0x0][_0x4aa4f9(0x182)]==_0x4aa4f9(0x136)){var _0xa60e8b=users['English'];console[_0x4aa4f9(0x17c)](_0xa60e8b);}else{if(_0x39200a[0x0][_0x4aa4f9(0x182)]==_0x4aa4f9(0x119))var _0xa60e8b=users[_0x4aa4f9(0x119)];else{if(_0x39200a[0x0]['language']==_0x4aa4f9(0x189))var _0xa60e8b=users[_0x4aa4f9(0x189)];else{if(_0x39200a[0x0][_0x4aa4f9(0x182)]==_0x4aa4f9(0x117))var _0xa60e8b=users[_0x4aa4f9(0x117)];else{if(_0x39200a[0x0][_0x4aa4f9(0x182)]==_0x4aa4f9(0x13b))var _0xa60e8b=users[_0x4aa4f9(0x13b)];else{if(_0x39200a[0x0][_0x4aa4f9(0x182)]=='Portuguese\x20(BR)')var _0xa60e8b=users[_0x4aa4f9(0x15c)];else{if(_0x39200a[0x0][_0x4aa4f9(0x182)]==_0x4aa4f9(0x17d))var _0xa60e8b=users[_0x4aa4f9(0x17d)];else{if(_0x39200a[0x0][_0x4aa4f9(0x182)]==_0x4aa4f9(0x112))var _0xa60e8b=users[_0x4aa4f9(0x15b)];}}}}}}}_0x6c727c[_0x4aa4f9(0x183)](_0x4aa4f9(0x170),{'success':_0x2e48d1[_0x4aa4f9(0x190)]('success'),'errors':_0x2e48d1[_0x4aa4f9(0x190)](_0x4aa4f9(0x127)),'role':_0x4cde2b,'profile':_0x5ac3c1,'master_shop':_0x39200a,'supplier':_0xf3eee7,'purchase':_0x2b1aaf,'language':_0xa60e8b});}catch(_0xf4320b){console[_0x4aa4f9(0x17c)](_0xf4320b);}}),router[a0_0x5eee43(0x12f)](a0_0x5eee43(0x14e),auth,async(_0x52ed08,_0x4f4f24)=>{var _0x87eb52=a0_0x5eee43;try{const _0x2e09b9=_0x52ed08[_0x87eb52(0x166)]['id'],{invoice:_0x2d34ad,suppliers:_0x4b9b8d,receivable_amount:_0x466c20,received_amount:_0x2f6f29}=_0x52ed08[_0x87eb52(0x18c)],_0x44408c=await purchases_return[_0x87eb52(0x11a)](_0x2e09b9);console[_0x87eb52(0x17c)](_0x44408c);var _0x3b74a7=_0x466c20-_0x2f6f29;console[_0x87eb52(0x17c)](_0x2f6f29),_0x44408c[_0x87eb52(0x111)]=parseFloat(_0x2f6f29)+parseFloat(_0x44408c[_0x87eb52(0x111)]),_0x44408c[_0x87eb52(0x175)]=_0x3b74a7,console['log'](_0x44408c);const _0x37c918=await _0x44408c[_0x87eb52(0x125)](),_0x4c2675=await s_payment_data['findOne']({'invoice':_0x52ed08[_0x87eb52(0x18c)][_0x87eb52(0x137)],'reason':_0x87eb52(0x120)});_0x4c2675[_0x87eb52(0x173)]=_0x3b74a7,await _0x4c2675[_0x87eb52(0x125)]();let _0xc55e2a=new Date(),_0x413a00=('0'+_0xc55e2a[_0x87eb52(0x13f)]())[_0x87eb52(0x17e)](-0x2),_0x12b94a=('0'+(_0xc55e2a['getMonth']()+0x1))['slice'](-0x2),_0x472d2d=_0xc55e2a[_0x87eb52(0x133)](),_0x2406a8=_0x472d2d+'-'+_0x12b94a+'-'+_0x413a00;const _0x2e7571=new suppliers_payment({'invoice':_0x2d34ad,'date':_0x472d2d+'-'+_0x12b94a+'-'+_0x413a00,'suppliers':_0x4b9b8d,'reason':'Received\x20For\x20Purchase\x20Return','amount':_0x2f6f29}),_0x3ecea1=await _0x2e7571['save']();_0x52ed08[_0x87eb52(0x190)](_0x87eb52(0x142),_0x87eb52(0x116)),_0x4f4f24['redirect'](_0x87eb52(0x154));}catch(_0x370398){console[_0x87eb52(0x17c)](_0x370398);}}),module[a0_0x5eee43(0x18b)]=router;