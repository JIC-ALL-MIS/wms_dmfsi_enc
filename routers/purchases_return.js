function a0_0x3b98(_0x45dd61,_0xde3356){var _0x48d0a3=a0_0x48d0();return a0_0x3b98=function(_0x3b9870,_0x369aa2){_0x3b9870=_0x3b9870-0x1a1;var _0x18d89f=_0x48d0a3[_0x3b9870];return _0x18d89f;},a0_0x3b98(_0x45dd61,_0xde3356);}var a0_0xac7fa2=a0_0x3b98;(function(_0x180a8d,_0x10038e){var _0x42eff6=a0_0x3b98,_0x56bba9=_0x180a8d();while(!![]){try{var _0x544dd3=parseInt(_0x42eff6(0x20a))/0x1+-parseInt(_0x42eff6(0x1f6))/0x2*(parseInt(_0x42eff6(0x207))/0x3)+-parseInt(_0x42eff6(0x1c7))/0x4+-parseInt(_0x42eff6(0x1e1))/0x5*(-parseInt(_0x42eff6(0x1b9))/0x6)+-parseInt(_0x42eff6(0x1dd))/0x7+parseInt(_0x42eff6(0x1bc))/0x8+-parseInt(_0x42eff6(0x1f8))/0x9*(-parseInt(_0x42eff6(0x1c4))/0xa);if(_0x544dd3===_0x10038e)break;else _0x56bba9['push'](_0x56bba9['shift']());}catch(_0x583b8c){_0x56bba9['push'](_0x56bba9['shift']());}}}(a0_0x48d0,0x8a70c));function a0_0x48d0(){var _0x2f954b=['Purchase\x20Return','to_warehouse_name','return_qty','84dQsNFG','$product_details.product_code','purchase_quantity','6218328iKPfhY','English\x20(US)','Received\x20For\x20Purchase\x20Return','../public/language/languages.json','Chinese','level','flash','stock_quantity','1885960dRTEBx','foreach\x20newproduct','getDate','2383388PnYHNv','express','warehouse_name','$product_details.secondary_code','redirect','payment\x20successfull','$supplier_docs.email','suppliers','../middleware/auth','stock_data','to_room','findById','findOne','$supplier_docs.mobile','/view/:id','invoice','$receivable','Arabic\x20(ae)','body','name','types','Raw\x20Materials','4946620BrfeUT','master','get','errors','377090nMIJmJ','$due_amount','Spanish','final','$product_details.floorlevel','$invoice','French','$date','secondary_code_hide','/invoice/:id','date','amount','$discount','product_stock','$product_details.bin','$return_product.price','back','$product_details','slice','return_product','$product_details.primary_code','2vFkGRD','/purchases_return/view','9bPCPrv','exports','email','to_Room_name','primary_code_hide','render','Portuguese','bay','forEach','secondary_code','due_amount','product_details','$supplier_docs.address','type','purchases_return','782574lmYQZm','$product_details.type','English','108678xwSRcP','Return\x20Goods','bin','room','log','/view','params','$_id','$return_product.product_name','$product_details.rack','return_purchase_edit','getFullYear','success','product_code_hide','$total_amount','post','product_name','$return_product.total','pallet','$warehouse_name','map','language','isle','json','old_warehouse_data','received','user','$return_product.return_qty','German','save','Enabled','$name','product_code','$product_details.storage','$return_product','stocks','/receive_payment/:id','$product_details._id','Hindi','$product_details.bay','Router','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty','Arabic','primary_code','$received','Portuguese\x20(BR)','old_data','find','note','$supplier_docs','floorlevel'];a0_0x48d0=function(){return _0x2f954b;};return a0_0x48d0();}const express=require(a0_0xac7fa2(0x1c8)),app=express(),router=express[a0_0xac7fa2(0x1ab)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data}=require('../models/all_models'),auth=require(a0_0xac7fa2(0x1cf)),users=require(a0_0xac7fa2(0x1bf));router['get'](a0_0xac7fa2(0x20f),auth,async(_0x47cbf4,_0xacb02d)=>{var _0x1ddf47=a0_0xac7fa2;try{const {username:_0x561535,email:_0x3696b6,role:_0x2530c1}=_0x47cbf4[_0x1ddf47(0x224)],_0x32dec8=_0x47cbf4['user'],_0x16cc11=await profile['findOne']({'email':_0x32dec8[_0x1ddf47(0x1fa)]}),_0x1289dc=await master_shop['find']();console[_0x1ddf47(0x20e)](_0x1ddf47(0x1de),_0x1289dc);const _0x11b376=await purchases_return['aggregate']([{'$lookup':{'from':_0x1ddf47(0x1ce),'localField':_0x1ddf47(0x1ce),'foreignField':_0x1ddf47(0x1da),'as':'supplier_docs'}},{'$unwind':_0x1ddf47(0x1a5)},{'$unwind':_0x1ddf47(0x1b4)},{'$group':{'_id':_0x1ddf47(0x211),'invoice':{'$first':_0x1ddf47(0x1e6)},'date':{'$first':_0x1ddf47(0x1e8)},'suppliers':{'$first':'$suppliers'},'warehouse_name':{'$first':_0x1ddf47(0x21d)},'product_name':{'$first':_0x1ddf47(0x212)},'return_qty':{'$first':_0x1ddf47(0x225)},'price':{'$first':_0x1ddf47(0x1f0)},'total':{'$sum':_0x1ddf47(0x21b)},'note':{'$first':'$note'},'total_amount':{'$first':_0x1ddf47(0x218)},'discount':{'$first':_0x1ddf47(0x1ed)},'receivable':{'$first':_0x1ddf47(0x1d7)},'received':{'$first':_0x1ddf47(0x1af)},'due_amount':{'$first':_0x1ddf47(0x1e2)},'mobile':{'$first':_0x1ddf47(0x1d4)},'email':{'$first':_0x1ddf47(0x1cd)},'address':{'$first':_0x1ddf47(0x204)},'return_sum_qty':{'$sum':_0x1ddf47(0x225)}}}]);console[_0x1ddf47(0x20e)](_0x11b376);if(_0x1289dc[0x0][_0x1ddf47(0x21f)]==_0x1ddf47(0x1bd)){var _0x2daf81=users['English'];console['log'](_0x2daf81);}else{if(_0x1289dc[0x0][_0x1ddf47(0x21f)]==_0x1ddf47(0x1a9))var _0x2daf81=users[_0x1ddf47(0x1a9)];else{if(_0x1289dc[0x0][_0x1ddf47(0x21f)]=='German')var _0x2daf81=users[_0x1ddf47(0x226)];else{if(_0x1289dc[0x0][_0x1ddf47(0x21f)]==_0x1ddf47(0x1e3))var _0x2daf81=users['Spanish'];else{if(_0x1289dc[0x0][_0x1ddf47(0x21f)]==_0x1ddf47(0x1e7))var _0x2daf81=users[_0x1ddf47(0x1e7)];else{if(_0x1289dc[0x0][_0x1ddf47(0x21f)]==_0x1ddf47(0x1b0))var _0x2daf81=users[_0x1ddf47(0x1fe)];else{if(_0x1289dc[0x0][_0x1ddf47(0x21f)]==_0x1ddf47(0x1c0))var _0x2daf81=users[_0x1ddf47(0x1c0)];else{if(_0x1289dc[0x0][_0x1ddf47(0x21f)]==_0x1ddf47(0x1d8))var _0x2daf81=users['Arabic'];}}}}}}}_0xacb02d[_0x1ddf47(0x1fd)](_0x1ddf47(0x206),{'success':_0x47cbf4[_0x1ddf47(0x1c2)](_0x1ddf47(0x216)),'errors':_0x47cbf4['flash'](_0x1ddf47(0x1e0)),'role':_0x32dec8,'profile':_0x16cc11,'master_shop':_0x1289dc,'user':_0x11b376,'language':_0x2daf81});}catch(_0x2918a4){console[_0x1ddf47(0x20e)](_0x2918a4);}}),router['get'](a0_0xac7fa2(0x1d5),auth,async(_0x5dee4e,_0x2a6291)=>{var _0x5f3fcd=a0_0xac7fa2;try{const {username:_0x36c36c,email:_0x3830d6,role:_0x3f7c7f}=_0x5dee4e[_0x5f3fcd(0x224)],_0x11af72=_0x5dee4e[_0x5f3fcd(0x224)],_0x198854=await profile['findOne']({'email':_0x11af72[_0x5f3fcd(0x1fa)]}),_0xb8beaa=await product[_0x5f3fcd(0x1b2)]({}),_0x207457=await master_shop[_0x5f3fcd(0x1b2)]();console['log'](_0x5f3fcd(0x1de),_0x207457),console[_0x5f3fcd(0x20e)](_0x5dee4e[_0x5f3fcd(0x1d9)]);const _0x4c0516=_0x5dee4e['params']['id'],_0xd8618d=await purchases_return[_0x5f3fcd(0x1d2)](_0x4c0516);console[_0x5f3fcd(0x20e)](_0xd8618d);const _0x40c7b9=await warehouse['aggregate']([{'$match':{'name':_0xd8618d[_0x5f3fcd(0x1c9)],'room':_0xd8618d['room']}},{'$unwind':_0x5f3fcd(0x1f2)},{'$group':{'_id':_0x5f3fcd(0x1a8),'name':{'$first':'$product_details.product_name'},'product_stock':{'$first':'$product_details.product_stock'},'bay':{'$first':_0x5f3fcd(0x1aa)},'bin':{'$first':_0x5f3fcd(0x1ef)},'type':{'$first':_0x5f3fcd(0x208)},'floorlevel':{'$first':_0x5f3fcd(0x1e5)},'primary_code':{'$first':_0x5f3fcd(0x1f5)},'secondary_code':{'$first':_0x5f3fcd(0x1ca)},'product_code':{'$first':_0x5f3fcd(0x1ba)},'storage':{'$first':_0x5f3fcd(0x1a4)},'rack':{'$first':_0x5f3fcd(0x213)}}}]);warehouse_data=await warehouse['aggregate']([{'$match':{'status':_0x5f3fcd(0x1a1),'name':_0x5f3fcd(0x20b),'warehouse_category':_0x5f3fcd(0x1dc)}},{'$group':{'_id':_0x5f3fcd(0x1a2),'name':{'$first':_0x5f3fcd(0x1a2)}}},{'$sort':{'name':0x1}}]),console[_0x5f3fcd(0x20e)](_0x5f3fcd(0x1d0),_0x40c7b9);if(_0x207457[0x0][_0x5f3fcd(0x21f)]=='English\x20(US)'){var _0x2c4a86=users[_0x5f3fcd(0x209)];console['log'](_0x2c4a86);}else{if(_0x207457[0x0][_0x5f3fcd(0x21f)]=='Hindi')var _0x2c4a86=users['Hindi'];else{if(_0x207457[0x0][_0x5f3fcd(0x21f)]==_0x5f3fcd(0x226))var _0x2c4a86=users[_0x5f3fcd(0x226)];else{if(_0x207457[0x0][_0x5f3fcd(0x21f)]==_0x5f3fcd(0x1e3))var _0x2c4a86=users[_0x5f3fcd(0x1e3)];else{if(_0x207457[0x0][_0x5f3fcd(0x21f)]==_0x5f3fcd(0x1e7))var _0x2c4a86=users[_0x5f3fcd(0x1e7)];else{if(_0x207457[0x0]['language']=='Portuguese\x20(BR)')var _0x2c4a86=users[_0x5f3fcd(0x1fe)];else{if(_0x207457[0x0][_0x5f3fcd(0x21f)]==_0x5f3fcd(0x1c0))var _0x2c4a86=users[_0x5f3fcd(0x1c0)];else{if(_0x207457[0x0][_0x5f3fcd(0x21f)]=='Arabic\x20(ae)')var _0x2c4a86=users[_0x5f3fcd(0x1ad)];}}}}}}}_0x2a6291[_0x5f3fcd(0x1fd)](_0x5f3fcd(0x214),{'success':_0x5dee4e['flash'](_0x5f3fcd(0x216)),'errors':_0x5dee4e[_0x5f3fcd(0x1c2)](_0x5f3fcd(0x1e0)),'role':_0x11af72,'master_shop':_0x207457,'profile':_0x198854,'user':_0xd8618d,'stock':_0x40c7b9,'product':_0xb8beaa,'language':_0x2c4a86,'warehouse':warehouse_data});}catch(_0x586b4e){console[_0x5f3fcd(0x20e)](_0x586b4e);}}),router[a0_0xac7fa2(0x219)](a0_0xac7fa2(0x1d5),auth,async(_0x24b989,_0x70f903)=>{var _0xfe571b=a0_0xac7fa2;try{const _0x2ee82d=_0x24b989['params']['id'];console['log'](_0x2ee82d);const _0x35c68b=await purchases_return[_0xfe571b(0x1d3)]({'invoice':_0x24b989[_0xfe571b(0x1d9)][_0xfe571b(0x1d6)]});console[_0xfe571b(0x20e)](_0xfe571b(0x1b1),_0x35c68b);const _0x108bd8=await warehouse['findOne']({'name':_0x35c68b[_0xfe571b(0x1b7)],'room':_0x35c68b[_0xfe571b(0x1d1)]});console[_0xfe571b(0x20e)](_0xfe571b(0x222),_0x108bd8);const {invoice:_0x3a0227,suppliers:_0x18e748,date:_0x3264dd,warehouse_name:_0x48d5e1,product_name:_0x72aad6,purchase_quantity:_0x834c5,stocks:_0x50d9af,return_qty:_0x257d1f,note:_0x33a9c1,Room_name:_0x251ee1,level:_0x2d566d,isle:_0xc0081,pallet:_0x44d6c0,to_warehouse_name:_0x25f7ff,to_Room_name:_0x31d567}=_0x24b989[_0xfe571b(0x1d9)];if(typeof _0x72aad6=='string')var _0x3bd850=[_0x24b989[_0xfe571b(0x1d9)][_0xfe571b(0x21a)]],_0x1d9a11=[_0x24b989[_0xfe571b(0x1d9)][_0xfe571b(0x1bb)]],_0x1ecf9b=[_0x24b989[_0xfe571b(0x1d9)][_0xfe571b(0x1a6)]],_0x37e0ee=[_0x24b989[_0xfe571b(0x1d9)]['return_qty']],_0x4f16bf=[_0x24b989['body'][_0xfe571b(0x1c1)]],_0x288f33=[_0x24b989[_0xfe571b(0x1d9)]['isle']],_0x593223=[_0x24b989['body'][_0xfe571b(0x21c)]],_0x71767b=[_0x24b989[_0xfe571b(0x1d9)]['types']],_0x57a76c=[_0x24b989[_0xfe571b(0x1d9)]['product_code_hide']],_0x4e313d=[_0x24b989[_0xfe571b(0x1d9)][_0xfe571b(0x1fc)]],_0x542cca=[_0x24b989['body'][_0xfe571b(0x1e9)]];else var _0x3bd850=[..._0x24b989[_0xfe571b(0x1d9)][_0xfe571b(0x21a)]],_0x1d9a11=[..._0x24b989[_0xfe571b(0x1d9)][_0xfe571b(0x1bb)]],_0x1ecf9b=[..._0x24b989[_0xfe571b(0x1d9)]['stocks']],_0x37e0ee=[..._0x24b989[_0xfe571b(0x1d9)][_0xfe571b(0x1b8)]],_0x4f16bf=[..._0x24b989[_0xfe571b(0x1d9)][_0xfe571b(0x1c1)]],_0x288f33=[..._0x24b989[_0xfe571b(0x1d9)][_0xfe571b(0x220)]],_0x593223=[..._0x24b989['body'][_0xfe571b(0x21c)]],_0x57a76c=[..._0x24b989[_0xfe571b(0x1d9)][_0xfe571b(0x217)]],_0x4e313d=[..._0x24b989[_0xfe571b(0x1d9)][_0xfe571b(0x1fc)]],_0x542cca=[..._0x24b989[_0xfe571b(0x1d9)]['secondary_code_hide']],_0x71767b=[..._0x24b989[_0xfe571b(0x1d9)][_0xfe571b(0x1db)]];const _0x4bc5c8=_0x3bd850['map'](_0x155392=>{return _0x155392={'product_name':_0x155392};});_0x1d9a11[_0xfe571b(0x200)]((_0x53cfa3,_0x11be50)=>{_0x4bc5c8[_0x11be50]['purchase_quantity']=_0x53cfa3;}),_0x1ecf9b[_0xfe571b(0x200)]((_0x154a66,_0x318dd3)=>{_0x4bc5c8[_0x318dd3]['stock_quantity']=_0x154a66;}),_0x37e0ee[_0xfe571b(0x200)]((_0x29d3e2,_0x424d01)=>{_0x4bc5c8[_0x424d01]['return_qty']=_0x29d3e2;}),_0x4f16bf['forEach']((_0x4fa4d0,_0x468765)=>{_0x4bc5c8[_0x468765]['bay']=_0x4fa4d0;}),_0x288f33[_0xfe571b(0x200)]((_0x598163,_0x3fafad)=>{var _0x278d61=_0xfe571b;_0x4bc5c8[_0x3fafad][_0x278d61(0x20c)]=_0x598163;}),_0x593223[_0xfe571b(0x200)]((_0x3a7936,_0x2cc8eb)=>{_0x4bc5c8[_0x2cc8eb]['floorlevel']=_0x3a7936;}),_0x57a76c[_0xfe571b(0x200)]((_0x186100,_0x21df03)=>{var _0x5c330a=_0xfe571b;_0x4bc5c8[_0x21df03][_0x5c330a(0x1a3)]=_0x186100;}),_0x4e313d[_0xfe571b(0x200)]((_0x15ba40,_0x524921)=>{var _0x506e59=_0xfe571b;_0x4bc5c8[_0x524921][_0x506e59(0x1ae)]=_0x15ba40;}),_0x542cca[_0xfe571b(0x200)]((_0x163484,_0x4906b7)=>{var _0x3f1acd=_0xfe571b;_0x4bc5c8[_0x4906b7][_0x3f1acd(0x201)]=_0x163484;}),_0x71767b[_0xfe571b(0x200)]((_0x59b5d8,_0x1c025d)=>{_0x4bc5c8[_0x1c025d]['type']=_0x59b5d8;});var _0x136b7b=0x0;_0x4bc5c8['forEach'](_0x26297e=>{var _0x32adfe=_0xfe571b;console['log'](_0x32adfe(0x1c5),_0x26297e),(parseInt(_0x26297e[_0x32adfe(0x1bb)])<parseInt(_0x26297e[_0x32adfe(0x1b8)])||parseInt(_0x26297e[_0x32adfe(0x1c3)])<parseInt(_0x26297e[_0x32adfe(0x1b8)])||parseInt(_0x26297e[_0x32adfe(0x1b8)])==0x0)&&_0x136b7b++;});if(_0x136b7b!=0x0)return _0x24b989[_0xfe571b(0x1c2)](_0xfe571b(0x1e0),_0xfe571b(0x1ac)),_0x70f903[_0xfe571b(0x1cb)](_0xfe571b(0x1f1));_0x35c68b['return_product'][_0xfe571b(0x200)](_0x5c3364=>{var _0x44cbbe=_0xfe571b;const _0x3ee81d=_0x108bd8[_0x44cbbe(0x203)]['map'](_0x4138aa=>{var _0x1d3fda=_0x44cbbe;_0x4138aa[_0x1d3fda(0x21a)]==_0x5c3364[_0x1d3fda(0x21a)]&&_0x4138aa['floorlevel']==_0x5c3364[_0x1d3fda(0x1b5)]&&_0x4138aa[_0x1d3fda(0x205)]==_0x5c3364[_0x1d3fda(0x205)]&&_0x4138aa[_0x1d3fda(0x20c)]==_0x5c3364[_0x1d3fda(0x20c)]&&_0x4138aa[_0x1d3fda(0x1ff)]==_0x5c3364[_0x1d3fda(0x1ff)]&&(_0x4138aa[_0x1d3fda(0x1ee)]=parseInt(_0x4138aa['product_stock'])+parseInt(_0x5c3364[_0x1d3fda(0x1b8)]));});}),console[_0xfe571b(0x20e)](_0xfe571b(0x222),_0x108bd8),await _0x108bd8['save'](),_0x35c68b[_0xfe571b(0x1d6)]=_0x3a0227,_0x35c68b[_0xfe571b(0x1ce)]=_0x18e748,_0x35c68b[_0xfe571b(0x1eb)]=_0x3264dd,_0x35c68b[_0xfe571b(0x1c9)]=_0x48d5e1,_0x35c68b['return_product']=_0x4bc5c8,_0x35c68b[_0xfe571b(0x1b3)]=_0x33a9c1,_0x35c68b[_0xfe571b(0x20d)]=_0x251ee1,_0x35c68b[_0xfe571b(0x1b7)]=_0x25f7ff,_0x35c68b[_0xfe571b(0x1d1)]=_0x31d567;const _0x595ebf=await _0x35c68b['save'](),_0x4e298b=await purchases_return[_0xfe571b(0x1d3)]({'invoice':_0x24b989[_0xfe571b(0x1d9)][_0xfe571b(0x1d6)]}),_0x29bcd7=await warehouse['findOne']({'name':_0x24b989['body'][_0xfe571b(0x1b7)],'room':_0x24b989['body'][_0xfe571b(0x1fb)]});_0x4e298b[_0xfe571b(0x1f4)][_0xfe571b(0x200)](_0x480695=>{var _0x2a324f=_0xfe571b;_0x29bcd7['product_details'][_0x2a324f(0x21e)](_0x2bf0a1=>{var _0xf9d293=_0x2a324f;_0x2bf0a1[_0xf9d293(0x21a)]==_0x480695[_0xf9d293(0x21a)]&&_0x2bf0a1['pallet']==_0x480695[_0xf9d293(0x21c)]&&(_0x2bf0a1[_0xf9d293(0x1ee)]=parseInt(_0x2bf0a1['product_stock'])-parseInt(_0x480695[_0xf9d293(0x1b8)]),console[_0xf9d293(0x20e)]('product_details.return_qtyproduct_details.return_qty',_0x480695[_0xf9d293(0x1b8)]));});}),console[_0xfe571b(0x20e)](_0xfe571b(0x1e4),_0x29bcd7),await _0x29bcd7[_0xfe571b(0x227)]();const _0xece9a6=await s_payment_data[_0xfe571b(0x1d3)]({'invoice':_0x24b989['body']['invoice'],'reason':_0xfe571b(0x1b6)});await _0xece9a6[_0xfe571b(0x227)](),_0x24b989[_0xfe571b(0x1c2)]('success','purchase\x20return\x20successfully'),_0x70f903[_0xfe571b(0x1cb)](_0xfe571b(0x1f7));}catch(_0x2d4f77){console[_0xfe571b(0x20e)](_0x2d4f77),_0x70f903['status'](0xc8)[_0xfe571b(0x221)]({'message':_0x2d4f77['message']});}}),router[a0_0xac7fa2(0x1df)](a0_0xac7fa2(0x1ea),auth,async(_0x83cf20,_0x18b89f)=>{var _0x4da0b9=a0_0xac7fa2;try{const {username:_0x40021e,email:_0x302256,role:_0x1976f2}=_0x83cf20[_0x4da0b9(0x224)],_0x450bb4=_0x83cf20[_0x4da0b9(0x224)],_0x28bc93=await profile[_0x4da0b9(0x1d3)]({'email':_0x450bb4[_0x4da0b9(0x1fa)]}),_0x1f7562=await master_shop[_0x4da0b9(0x1b2)]();console[_0x4da0b9(0x20e)](_0x4da0b9(0x1de),_0x1f7562);const _0x34fbf1=_0x83cf20[_0x4da0b9(0x210)]['id'],_0xee1228=await purchases_return[_0x4da0b9(0x1d2)](_0x34fbf1);console[_0x4da0b9(0x20e)](_0xee1228);const _0x38a9e4=await suppliers[_0x4da0b9(0x1d3)]({'name':_0xee1228[_0x4da0b9(0x1ce)]});console['log'](_0x38a9e4);if(_0x1f7562[0x0][_0x4da0b9(0x21f)]==_0x4da0b9(0x1bd)){var _0x23d342=users[_0x4da0b9(0x209)];console['log'](_0x23d342);}else{if(_0x1f7562[0x0]['language']=='Hindi')var _0x23d342=users[_0x4da0b9(0x1a9)];else{if(_0x1f7562[0x0][_0x4da0b9(0x21f)]==_0x4da0b9(0x226))var _0x23d342=users[_0x4da0b9(0x226)];else{if(_0x1f7562[0x0]['language']==_0x4da0b9(0x1e3))var _0x23d342=users[_0x4da0b9(0x1e3)];else{if(_0x1f7562[0x0][_0x4da0b9(0x21f)]==_0x4da0b9(0x1e7))var _0x23d342=users[_0x4da0b9(0x1e7)];else{if(_0x1f7562[0x0][_0x4da0b9(0x21f)]==_0x4da0b9(0x1b0))var _0x23d342=users['Portuguese'];else{if(_0x1f7562[0x0]['language']==_0x4da0b9(0x1c0))var _0x23d342=users[_0x4da0b9(0x1c0)];else{if(_0x1f7562[0x0][_0x4da0b9(0x21f)]==_0x4da0b9(0x1d8))var _0x23d342=users[_0x4da0b9(0x1ad)];}}}}}}}_0x18b89f[_0x4da0b9(0x1fd)]('return_purchase_invoice',{'success':_0x83cf20['flash']('success'),'errors':_0x83cf20[_0x4da0b9(0x1c2)]('errors'),'role':_0x450bb4,'profile':_0x28bc93,'master_shop':_0x1f7562,'supplier':_0x38a9e4,'purchase':_0xee1228,'language':_0x23d342});}catch(_0x502da2){console['log'](_0x502da2);}}),router[a0_0xac7fa2(0x219)](a0_0xac7fa2(0x1a7),auth,async(_0x2733fe,_0x40bf58)=>{var _0x50cf56=a0_0xac7fa2;try{const _0x25a590=_0x2733fe[_0x50cf56(0x210)]['id'],{invoice:_0x7d9f14,suppliers:_0x6d389,receivable_amount:_0x32c969,received_amount:_0x3904b5}=_0x2733fe[_0x50cf56(0x1d9)],_0x30f02a=await purchases_return[_0x50cf56(0x1d2)](_0x25a590);console[_0x50cf56(0x20e)](_0x30f02a);var _0x447d08=_0x32c969-_0x3904b5;console[_0x50cf56(0x20e)](_0x3904b5),_0x30f02a[_0x50cf56(0x223)]=parseFloat(_0x3904b5)+parseFloat(_0x30f02a['received']),_0x30f02a[_0x50cf56(0x202)]=_0x447d08,console[_0x50cf56(0x20e)](_0x30f02a);const _0x36d85b=await _0x30f02a[_0x50cf56(0x227)](),_0x59b85b=await s_payment_data[_0x50cf56(0x1d3)]({'invoice':_0x2733fe[_0x50cf56(0x1d9)][_0x50cf56(0x1d6)],'reason':_0x50cf56(0x1b6)});_0x59b85b[_0x50cf56(0x1ec)]=_0x447d08,await _0x59b85b[_0x50cf56(0x227)]();let _0xd95722=new Date(),_0x46e09b=('0'+_0xd95722[_0x50cf56(0x1c6)]())[_0x50cf56(0x1f3)](-0x2),_0x20e3fc=('0'+(_0xd95722['getMonth']()+0x1))[_0x50cf56(0x1f3)](-0x2),_0x599902=_0xd95722[_0x50cf56(0x215)](),_0x15e77c=_0x599902+'-'+_0x20e3fc+'-'+_0x46e09b;const _0x64c8c6=new suppliers_payment({'invoice':_0x7d9f14,'date':_0x599902+'-'+_0x20e3fc+'-'+_0x46e09b,'suppliers':_0x6d389,'reason':_0x50cf56(0x1be),'amount':_0x3904b5}),_0xab9142=await _0x64c8c6[_0x50cf56(0x227)]();_0x2733fe['flash']('success',_0x50cf56(0x1cc)),_0x40bf58[_0x50cf56(0x1cb)](_0x50cf56(0x1f7));}catch(_0x2b3897){console['log'](_0x2b3897);}}),module[a0_0xac7fa2(0x1f9)]=router;