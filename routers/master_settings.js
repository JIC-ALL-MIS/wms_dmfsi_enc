const a0_0x4c1f1f=a0_0x5640;(function(_0x145932,_0x58b0e0){const _0x4939c1=a0_0x5640,_0x514a60=_0x145932();while(!![]){try{const _0x5cdfc6=parseInt(_0x4939c1(0x1dd))/0x1+-parseInt(_0x4939c1(0x1d6))/0x2+-parseInt(_0x4939c1(0x1ce))/0x3+-parseInt(_0x4939c1(0x1d7))/0x4+-parseInt(_0x4939c1(0x210))/0x5*(parseInt(_0x4939c1(0x1e9))/0x6)+-parseInt(_0x4939c1(0x1d5))/0x7+-parseInt(_0x4939c1(0x211))/0x8*(-parseInt(_0x4939c1(0x218))/0x9);if(_0x5cdfc6===_0x58b0e0)break;else _0x514a60['push'](_0x514a60['shift']());}catch(_0x4a5d06){_0x514a60['push'](_0x514a60['shift']());}}}(a0_0x4712,0x23330));const express=require(a0_0x4c1f1f(0x1db)),app=express(),router=express[a0_0x4c1f1f(0x1e1)](),multer=require(a0_0x4c1f1f(0x217)),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require(a0_0x4c1f1f(0x20f));var timezones=require('timezones-list');const users=require('../public/language/languages.json'),storage=multer[a0_0x4c1f1f(0x1d2)]({'destination':(_0x321209,_0x2e3bb5,_0x430310)=>{_0x430310(null,'./public/upload');},'filename':(_0x4c5dfd,_0xc3a1f5,_0x21434a)=>{const _0x544a22=a0_0x4c1f1f;_0x21434a(null,Date[_0x544a22(0x1de)]()+_0xc3a1f5[_0x544a22(0x1d1)]);}}),upload=multer({'storage':storage});function a0_0x5640(_0x56e9d3,_0x2adc46){const _0x4712fe=a0_0x4712();return a0_0x5640=function(_0x5640b3,_0x3e6642){_0x5640b3=_0x5640b3-0x1cd;let _0x139e13=_0x4712fe[_0x5640b3];return _0x139e13;},a0_0x5640(_0x56e9d3,_0x2adc46);}router['get'](a0_0x4c1f1f(0x208),auth,async(_0x4e1a42,_0x1d7fb4)=>{const _0x46055b=a0_0x4c1f1f;try{const {username:_0x5d9686,email:_0x5a16f2,role:_0x815715}=_0x4e1a42[_0x46055b(0x1e5)],_0x2dbb1e=_0x4e1a42[_0x46055b(0x1e5)],_0x2dca5=await profile[_0x46055b(0x1d0)]({'email':_0x2dbb1e[_0x46055b(0x1fc)]}),_0x3e2ccd=await master_shop[_0x46055b(0x1e0)]();console[_0x46055b(0x1fb)](_0x46055b(0x1ee),_0x3e2ccd);const _0x215b98=new Date()[_0x46055b(0x209)](_0x46055b(0x1ea),{'timeZone':_0x3e2ccd[0x0]['timezone']});console[_0x46055b(0x1fb)]('timezone',_0x215b98);if(_0x3e2ccd[0x0][_0x46055b(0x1e8)]=='English\x20(US)'){var _0x15c097=users[_0x46055b(0x1da)];console[_0x46055b(0x1fb)](_0x15c097);}else{if(_0x3e2ccd[0x0][_0x46055b(0x1e8)]==_0x46055b(0x205))var _0x15c097=users[_0x46055b(0x205)];else{if(_0x3e2ccd[0x0][_0x46055b(0x1e8)]==_0x46055b(0x1fd))var _0x15c097=users[_0x46055b(0x1fd)];else{if(_0x3e2ccd[0x0][_0x46055b(0x1e8)]==_0x46055b(0x1fe))var _0x15c097=users['Spanish'];else{if(_0x3e2ccd[0x0][_0x46055b(0x1e8)]==_0x46055b(0x20b))var _0x15c097=users[_0x46055b(0x20b)];else{if(_0x3e2ccd[0x0][_0x46055b(0x1e8)]==_0x46055b(0x213))var _0x15c097=users['Portuguese'];else{if(_0x3e2ccd[0x0]['language']=='Chinese')var _0x15c097=users['Chinese'];else{if(_0x3e2ccd[0x0][_0x46055b(0x1e8)]=='Arabic\x20(ae)')var _0x15c097=users['Arabic'];}}}}}}}_0x1d7fb4[_0x46055b(0x1e2)]('master_settings',{'success':_0x4e1a42[_0x46055b(0x20a)](_0x46055b(0x1d8)),'errors':_0x4e1a42[_0x46055b(0x20a)]('errors'),'role':_0x2dbb1e,'profile':_0x2dca5,'master_shop':_0x3e2ccd,'timezones':timezones,'language':_0x15c097});}catch(_0x475baa){console['log'](_0x475baa);}}),router[a0_0x4c1f1f(0x1ef)](a0_0x4c1f1f(0x1dc),auth,async(_0x498b1a,_0x77c40)=>{const _0x3d28e4=a0_0x4c1f1f;try{console[_0x3d28e4(0x1fb)](_0x3d28e4(0x1e8)),console[_0x3d28e4(0x1fb)](_0x498b1a[_0x3d28e4(0x1d3)]['id']);const _0x2bac6c=await master_shop[_0x3d28e4(0x1d0)]();_0x2bac6c['language']=_0x498b1a[_0x3d28e4(0x1d3)]['id'],await _0x2bac6c[_0x3d28e4(0x1df)](),console[_0x3d28e4(0x1fb)]('master',_0x2bac6c);}catch(_0x4266f4){console[_0x3d28e4(0x1fb)](_0x4266f4);}}),router[a0_0x4c1f1f(0x1f0)](a0_0x4c1f1f(0x1e3),auth,upload[a0_0x4c1f1f(0x1f2)](a0_0x4c1f1f(0x1ed)),async(_0x320278,_0xac0457)=>{const _0x106cb6=a0_0x4c1f1f;try{const {site_title:_0x4ecd43,currency:_0x127ed2,currency_placement:_0x17eee0,timezone:_0x58a504}=_0x320278['body'];if(_0x320278[_0x106cb6(0x202)][_0x106cb6(0x1f3)]==0x0){const _0x59cd18=await master_shop['findOne']();console[_0x106cb6(0x1fb)](_0x106cb6(0x1cd),_0x59cd18);if(_0x59cd18==''){const _0x2c18e2=new master_shop({'site_title':_0x4ecd43,'image':image,'currency':_0x127ed2,'currency_placement':_0x17eee0,'timezone':_0x58a504}),_0x61b2da=await _0x2c18e2[_0x106cb6(0x1df)]();}else _0x59cd18['site_title']=_0x4ecd43,_0x59cd18[_0x106cb6(0x1ff)]=_0x127ed2,_0x59cd18['currency_placement']=_0x17eee0,_0x59cd18[_0x106cb6(0x21a)]=_0x58a504,await _0x59cd18[_0x106cb6(0x1df)]();}else{const _0x4e850a=_0x320278[_0x106cb6(0x219)][_0x106cb6(0x1d9)],_0x28bb73=await master_shop['findOne']();console[_0x106cb6(0x1fb)](_0x106cb6(0x203),_0x28bb73);if(_0x28bb73==null){console[_0x106cb6(0x1fb)]('1',_0x4ecd43);const _0x11e1ce=new master_shop({'site_title':_0x4ecd43,'image':_0x4e850a,'currency':_0x127ed2,'currency_placement':_0x17eee0,'timezone':_0x58a504}),_0x5a3aab=await _0x11e1ce[_0x106cb6(0x1df)]();}else console[_0x106cb6(0x1fb)]('2',_0x4ecd43),_0x28bb73[_0x106cb6(0x1eb)]=_0x4ecd43,_0x28bb73['image']=_0x4e850a,_0x28bb73[_0x106cb6(0x1ff)]=_0x127ed2,_0x28bb73[_0x106cb6(0x215)]=_0x17eee0,_0x28bb73[_0x106cb6(0x21a)]=_0x58a504,await _0x28bb73[_0x106cb6(0x1df)]();}_0x320278[_0x106cb6(0x20a)](_0x106cb6(0x1d8),'shop\x20setting\x20edit\x20successfully'),_0xac0457[_0x106cb6(0x1f6)](_0x106cb6(0x1f8));}catch(_0x43d2d5){console[_0x106cb6(0x1fb)](_0x43d2d5);}}),router[a0_0x4c1f1f(0x1ef)](a0_0x4c1f1f(0x1e4),auth,async(_0xb66759,_0x4fe589)=>{const _0x2d6931=a0_0x4c1f1f;try{const {username:_0x4f707c,email:_0x61c326,role:_0x3aa2bf}=_0xb66759[_0x2d6931(0x1e5)],_0x430002=_0xb66759[_0x2d6931(0x1e5)],_0x17b584=await profile[_0x2d6931(0x1d0)]({'email':_0x430002[_0x2d6931(0x1fc)]}),_0x242f64=await master_shop[_0x2d6931(0x1e0)]();console['log']('master',_0x242f64);const _0x3deef7=await email_settings[_0x2d6931(0x1d0)]();console[_0x2d6931(0x1fb)](_0x2d6931(0x1f7),_0x3deef7);if(_0x242f64[0x0][_0x2d6931(0x1e8)]=='English\x20(US)'){var _0x381808=users[_0x2d6931(0x1da)];console[_0x2d6931(0x1fb)](_0x381808);}else{if(_0x242f64[0x0]['language']=='Hindi')var _0x381808=users['Hindi'];else{if(_0x242f64[0x0][_0x2d6931(0x1e8)]==_0x2d6931(0x1fd))var _0x381808=users[_0x2d6931(0x1fd)];else{if(_0x242f64[0x0][_0x2d6931(0x1e8)]==_0x2d6931(0x1fe))var _0x381808=users['Spanish'];else{if(_0x242f64[0x0]['language']==_0x2d6931(0x20b))var _0x381808=users[_0x2d6931(0x20b)];else{if(_0x242f64[0x0][_0x2d6931(0x1e8)]==_0x2d6931(0x213))var _0x381808=users[_0x2d6931(0x20d)];else{if(_0x242f64[0x0][_0x2d6931(0x1e8)]==_0x2d6931(0x207))var _0x381808=users[_0x2d6931(0x207)];else{if(_0x242f64[0x0][_0x2d6931(0x1e8)]==_0x2d6931(0x20e))var _0x381808=users[_0x2d6931(0x216)];}}}}}}}_0x4fe589[_0x2d6931(0x1e2)](_0x2d6931(0x1e6),{'success':_0xb66759['flash'](_0x2d6931(0x1d8)),'errors':_0xb66759[_0x2d6931(0x20a)]('errors'),'role':_0x430002,'profile':_0x17b584,'master_shop':_0x242f64,'email':_0x3deef7,'language':_0x381808});}catch(_0x450157){console[_0x2d6931(0x1fb)](_0x450157);}}),router[a0_0x4c1f1f(0x1f0)](a0_0x4c1f1f(0x1fa),auth,async(_0xc67344,_0x803597)=>{const _0x3c2e42=a0_0x4c1f1f;try{const {host:_0x304333,port:_0x5c1777,email:_0x58881f,password:_0x53ee5f}=_0xc67344[_0x3c2e42(0x202)],_0xe6f593=await email_settings['findOne']();if(_0xe6f593==null){const _0x55fbac=new email_settings({'host':_0x304333,'port':_0x5c1777,'email':_0x58881f,'password':_0x53ee5f});await _0x55fbac[_0x3c2e42(0x1df)]();}else _0xe6f593[_0x3c2e42(0x1f4)]=_0x304333,_0xe6f593[_0x3c2e42(0x204)]=_0x5c1777,_0xe6f593[_0x3c2e42(0x1fc)]=_0x58881f,_0xe6f593[_0x3c2e42(0x214)]=_0x53ee5f,await _0xe6f593[_0x3c2e42(0x1df)]();_0xc67344[_0x3c2e42(0x20a)]('success',_0x3c2e42(0x20c)),_0x803597[_0x3c2e42(0x1f6)](_0x3c2e42(0x206));}catch(_0x5e0b69){console['log'](_0x5e0b69);}}),router[a0_0x4c1f1f(0x1ef)](a0_0x4c1f1f(0x1d4),auth,async(_0x5a062b,_0x2d6e05)=>{const _0x78fc27=a0_0x4c1f1f;try{const {username:_0x2c27df,email:_0x10810c,role:_0x20d394}=_0x5a062b['user'],_0x58a65a=_0x5a062b[_0x78fc27(0x1e5)],_0x50e698=await supervisor_settings[_0x78fc27(0x1e0)](),_0x325dbd=await profile[_0x78fc27(0x1d0)]({'email':_0x58a65a[_0x78fc27(0x1fc)]}),_0x396728=await master_shop['find'](),_0x48aacf=new Date()[_0x78fc27(0x209)](_0x78fc27(0x1ea),{'timeZone':_0x396728[0x0][_0x78fc27(0x21a)]});if(_0x396728[0x0]['language']==_0x78fc27(0x212)){var _0x312143=users[_0x78fc27(0x1da)];console[_0x78fc27(0x1fb)](_0x312143);}else{if(_0x396728[0x0][_0x78fc27(0x1e8)]==_0x78fc27(0x205))var _0x312143=users[_0x78fc27(0x205)];else{if(_0x396728[0x0][_0x78fc27(0x1e8)]==_0x78fc27(0x1fd))var _0x312143=users[_0x78fc27(0x1fd)];else{if(_0x396728[0x0][_0x78fc27(0x1e8)]==_0x78fc27(0x1fe))var _0x312143=users[_0x78fc27(0x1fe)];else{if(_0x396728[0x0][_0x78fc27(0x1e8)]==_0x78fc27(0x20b))var _0x312143=users[_0x78fc27(0x20b)];else{if(_0x396728[0x0][_0x78fc27(0x1e8)]==_0x78fc27(0x213))var _0x312143=users[_0x78fc27(0x20d)];else{if(_0x396728[0x0][_0x78fc27(0x1e8)]=='Chinese')var _0x312143=users['Chinese'];else{if(_0x396728[0x0]['language']==_0x78fc27(0x20e))var _0x312143=users[_0x78fc27(0x216)];}}}}}}}_0x2d6e05['render'](_0x78fc27(0x1cf),{'success':_0x5a062b[_0x78fc27(0x20a)](_0x78fc27(0x1d8)),'errors':_0x5a062b[_0x78fc27(0x20a)](_0x78fc27(0x1e7)),'role':_0x58a65a,'profile':_0x325dbd,'master_shop':_0x396728,'supervisor_data':_0x50e698[0x0],'timezones':timezones,'language':_0x312143});}catch(_0x53fab0){console[_0x78fc27(0x1fb)](_0x53fab0);}}),router[a0_0x4c1f1f(0x1f0)](a0_0x4c1f1f(0x1d4),auth,async(_0x24c0d2,_0x4afd54)=>{const _0x5d5bc7=a0_0x4c1f1f;try{const {rm_name:_0x39e5b6,fg_name:_0x56a1d5,rm_email:_0x4b9f20,fg_email:_0x623a68,rm_mobilenum:_0x476988,fg_number:_0x5b41db}=_0x24c0d2['body'],_0x5cdf77=await supervisor_settings[_0x5d5bc7(0x1d0)]();if(_0x5cdf77==null){const _0x37800e=new supervisor_settings({'RMSName':_0x39e5b6,'RMSEmail':_0x4b9f20,'RMSnumber':_0x476988,'FGSName':_0x56a1d5,'FGSEmail':_0x623a68,'FGSnumber':_0x5b41db});await _0x37800e['save']();}else _0x5cdf77[_0x5d5bc7(0x1ec)]=_0x39e5b6,_0x5cdf77['RMSEmail']=_0x4b9f20,_0x5cdf77[_0x5d5bc7(0x201)]=_0x476988,_0x5cdf77[_0x5d5bc7(0x1f1)]=_0x56a1d5,_0x5cdf77[_0x5d5bc7(0x1f9)]=_0x623a68,_0x5cdf77[_0x5d5bc7(0x200)]=_0x5b41db,await _0x5cdf77['save']();_0x24c0d2[_0x5d5bc7(0x20a)](_0x5d5bc7(0x1d8),_0x5d5bc7(0x20c)),_0x4afd54[_0x5d5bc7(0x1f6)](_0x5d5bc7(0x1f5));}catch(_0x3cc4fb){console[_0x5d5bc7(0x1fb)](_0x3cc4fb);}}),module['exports']=router;function a0_0x4712(){const _0x156945=['site_title','RMSName','image','master','get','post','FGSName','single','hidden','host','/master_shop/view/supervisors','redirect','master\x20settings\x20email_data','/master_shop/view','FGSEmail','/view/email/edit_settings','log','email','German','Spanish','currency','FGSnumber','RMSnumber','body','2nd\x20master_shop_data','port','Hindi','/master_shop/view/email','Chinese','/view','toLocaleString','flash','French','shop\x20setting\x20edit\x20successfully','Portuguese','Arabic\x20(ae)','../middleware/auth','5AmTXOP','2096iHyDGA','English\x20(US)','Portuguese\x20(BR)','password','currency_placement','Arabic','multer','30978WzPBZS','file','timezone','master_shop_data','607257POQCxY','supervisor_settings','findOne','originalname','diskStorage','params','/view/supervisors','1585759JCTmXM','305502YfWDMS','541032jmdJMv','success','filename','English','express','/:id','124968dLptGI','now','save','find','Router','render','/view/edit_settings','/view/email','user','email_settings','errors','language','993786PLDhdP','en-US'];a0_0x4712=function(){return _0x156945;};return a0_0x4712();}