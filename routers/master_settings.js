const a0_0x103702=a0_0x3db1;(function(_0x2a5eb2,_0x15d6f3){const _0x3e9603=a0_0x3db1,_0x58c480=_0x2a5eb2();while(!![]){try{const _0x474ff6=parseInt(_0x3e9603(0x16d))/0x1*(-parseInt(_0x3e9603(0x170))/0x2)+-parseInt(_0x3e9603(0x15c))/0x3*(parseInt(_0x3e9603(0x138))/0x4)+parseInt(_0x3e9603(0x14b))/0x5+parseInt(_0x3e9603(0x132))/0x6*(-parseInt(_0x3e9603(0x15e))/0x7)+parseInt(_0x3e9603(0x13e))/0x8+-parseInt(_0x3e9603(0x135))/0x9*(parseInt(_0x3e9603(0x160))/0xa)+-parseInt(_0x3e9603(0x17b))/0xb*(-parseInt(_0x3e9603(0x13c))/0xc);if(_0x474ff6===_0x15d6f3)break;else _0x58c480['push'](_0x58c480['shift']());}catch(_0x50b44e){_0x58c480['push'](_0x58c480['shift']());}}}(a0_0x4cd2,0xa3ac1));const express=require('express'),app=express(),router=express[a0_0x103702(0x16b)](),multer=require(a0_0x103702(0x167)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x103702(0x149)),auth=require(a0_0x103702(0x12f));function a0_0x3db1(_0x27c7db,_0x261fac){const _0x4cd275=a0_0x4cd2();return a0_0x3db1=function(_0x3db1eb,_0x1403ed){_0x3db1eb=_0x3db1eb-0x12d;let _0x15b74c=_0x4cd275[_0x3db1eb];return _0x15b74c;},a0_0x3db1(_0x27c7db,_0x261fac);}var timezones=require(a0_0x103702(0x151));const users=require('../public/language/languages.json'),storage=multer[a0_0x103702(0x143)]({'destination':(_0xdac801,_0x299ba7,_0x5dc037)=>{_0x5dc037(null,'./public/upload');},'filename':(_0x4a5582,_0x162b6b,_0x311ec5)=>{const _0x5c935d=a0_0x103702;_0x311ec5(null,Date[_0x5c935d(0x13f)]()+_0x162b6b[_0x5c935d(0x134)]);}}),upload=multer({'storage':storage});function a0_0x4cd2(){const _0x163ac7=['success','4516039tXOGnJ','redirect','flash','../middleware/auth','user','post','106230jZXKmK','Portuguese\x20(BR)','originalname','1476fjwxJY','site_title','French','116bJokmH','errors','master','RMSnumber','72vmLFOS','single','415792bPZAVB','now','find','log','Portuguese','diskStorage','/:id','Arabic','shop\x20setting\x20edit\x20successfully','/view','/view/edit_settings','../models/all_models','save','4854500ZkzXDK','image','/view/email','Spanish','email_settings','FGSnumber','timezones-list','params','supervisor_settings','body','/view/supervisors','toLocaleString','English','render','currency','email','exports','55071CgIWTE','German','427iEXFyO','Chinese','17260wPGBjp','English\x20(US)','file','/master_shop/view','Arabic\x20(ae)','Hindi','master\x20settings\x20email_data','multer','/master_shop/view/email','port','password','Router','get','8003AEjApA','en-US','language','230AkEgwL','master_settings','timezone','findOne','FGSName','2nd\x20master_shop_data','currency_placement','host','RMSName','/view/email/edit_settings'];a0_0x4cd2=function(){return _0x163ac7;};return a0_0x4cd2();}router[a0_0x103702(0x16c)](a0_0x103702(0x147),auth,async(_0x4c8b4e,_0x4d1ca8)=>{const _0x37fe73=a0_0x103702;try{const {username:_0x1c8e67,email:_0x2edcd8,role:_0x1895e4}=_0x4c8b4e[_0x37fe73(0x130)],_0x1b1f9b=_0x4c8b4e[_0x37fe73(0x130)],_0x8705c0=await profile['findOne']({'email':_0x1b1f9b[_0x37fe73(0x15a)]}),_0x32686d=await master_shop[_0x37fe73(0x140)]();console['log'](_0x37fe73(0x13a),_0x32686d);const _0x50edbe=new Date()['toLocaleString'](_0x37fe73(0x16e),{'timeZone':_0x32686d[0x0]['timezone']});console[_0x37fe73(0x141)](_0x37fe73(0x172),_0x50edbe);if(_0x32686d[0x0][_0x37fe73(0x16f)]==_0x37fe73(0x161)){var _0x87e19a=users[_0x37fe73(0x157)];console[_0x37fe73(0x141)](_0x87e19a);}else{if(_0x32686d[0x0][_0x37fe73(0x16f)]==_0x37fe73(0x165))var _0x87e19a=users[_0x37fe73(0x165)];else{if(_0x32686d[0x0]['language']==_0x37fe73(0x15d))var _0x87e19a=users[_0x37fe73(0x15d)];else{if(_0x32686d[0x0][_0x37fe73(0x16f)]==_0x37fe73(0x14e))var _0x87e19a=users[_0x37fe73(0x14e)];else{if(_0x32686d[0x0][_0x37fe73(0x16f)]=='French')var _0x87e19a=users[_0x37fe73(0x137)];else{if(_0x32686d[0x0][_0x37fe73(0x16f)]=='Portuguese\x20(BR)')var _0x87e19a=users[_0x37fe73(0x142)];else{if(_0x32686d[0x0][_0x37fe73(0x16f)]==_0x37fe73(0x15f))var _0x87e19a=users['Chinese'];else{if(_0x32686d[0x0]['language']==_0x37fe73(0x164))var _0x87e19a=users['Arabic'];}}}}}}}_0x4d1ca8[_0x37fe73(0x158)](_0x37fe73(0x171),{'success':_0x4c8b4e[_0x37fe73(0x12e)](_0x37fe73(0x17a)),'errors':_0x4c8b4e[_0x37fe73(0x12e)](_0x37fe73(0x139)),'role':_0x1b1f9b,'profile':_0x8705c0,'master_shop':_0x32686d,'timezones':timezones,'language':_0x87e19a});}catch(_0x183f10){console[_0x37fe73(0x141)](_0x183f10);}}),router[a0_0x103702(0x16c)](a0_0x103702(0x144),auth,async(_0xb171b2,_0x48f91b)=>{const _0x1431e2=a0_0x103702;try{console[_0x1431e2(0x141)](_0x1431e2(0x16f)),console[_0x1431e2(0x141)](_0xb171b2[_0x1431e2(0x152)]['id']);const _0x5dc9cd=await master_shop['findOne']();_0x5dc9cd[_0x1431e2(0x16f)]=_0xb171b2[_0x1431e2(0x152)]['id'],await _0x5dc9cd['save'](),console[_0x1431e2(0x141)]('master',_0x5dc9cd);}catch(_0xae59fb){console[_0x1431e2(0x141)](_0xae59fb);}}),router[a0_0x103702(0x131)](a0_0x103702(0x148),auth,upload[a0_0x103702(0x13d)](a0_0x103702(0x14c)),async(_0x2aebbf,_0x47b0ef)=>{const _0x4ef355=a0_0x103702;try{const {site_title:_0x1da368,currency:_0x4e76b8,currency_placement:_0x4247df,timezone:_0x4145f6}=_0x2aebbf['body'];if(_0x2aebbf[_0x4ef355(0x154)]['hidden']==0x0){const _0x411c3f=await master_shop[_0x4ef355(0x173)]();console['log']('master_shop_data',_0x411c3f);if(_0x411c3f==''){const _0x166065=new master_shop({'site_title':_0x1da368,'image':image,'currency':_0x4e76b8,'currency_placement':_0x4247df,'timezone':_0x4145f6}),_0x3ddc25=await _0x166065[_0x4ef355(0x14a)]();}else _0x411c3f[_0x4ef355(0x136)]=_0x1da368,_0x411c3f[_0x4ef355(0x159)]=_0x4e76b8,_0x411c3f[_0x4ef355(0x176)]=_0x4247df,_0x411c3f['timezone']=_0x4145f6,await _0x411c3f['save']();}else{const _0x2bf803=_0x2aebbf[_0x4ef355(0x162)]['filename'],_0x354098=await master_shop[_0x4ef355(0x173)]();console[_0x4ef355(0x141)](_0x4ef355(0x175),_0x354098);if(_0x354098==null){console['log']('1',_0x1da368);const _0x42526b=new master_shop({'site_title':_0x1da368,'image':_0x2bf803,'currency':_0x4e76b8,'currency_placement':_0x4247df,'timezone':_0x4145f6}),_0x1879aa=await _0x42526b['save']();}else console[_0x4ef355(0x141)]('2',_0x1da368),_0x354098[_0x4ef355(0x136)]=_0x1da368,_0x354098['image']=_0x2bf803,_0x354098['currency']=_0x4e76b8,_0x354098['currency_placement']=_0x4247df,_0x354098['timezone']=_0x4145f6,await _0x354098[_0x4ef355(0x14a)]();}_0x2aebbf[_0x4ef355(0x12e)]('success',_0x4ef355(0x146)),_0x47b0ef[_0x4ef355(0x12d)](_0x4ef355(0x163));}catch(_0x832dc3){console[_0x4ef355(0x141)](_0x832dc3);}}),router['get'](a0_0x103702(0x14d),auth,async(_0x31e669,_0x1671d6)=>{const _0x4584fc=a0_0x103702;try{const {username:_0x4f7185,email:_0x254fea,role:_0x216f7f}=_0x31e669['user'],_0x15f6ec=_0x31e669[_0x4584fc(0x130)],_0x429872=await profile['findOne']({'email':_0x15f6ec[_0x4584fc(0x15a)]}),_0x516898=await master_shop[_0x4584fc(0x140)]();console[_0x4584fc(0x141)]('master',_0x516898);const _0x4392cc=await email_settings['findOne']();console['log'](_0x4584fc(0x166),_0x4392cc);if(_0x516898[0x0][_0x4584fc(0x16f)]==_0x4584fc(0x161)){var _0x4e9ad0=users[_0x4584fc(0x157)];console[_0x4584fc(0x141)](_0x4e9ad0);}else{if(_0x516898[0x0][_0x4584fc(0x16f)]=='Hindi')var _0x4e9ad0=users['Hindi'];else{if(_0x516898[0x0][_0x4584fc(0x16f)]=='German')var _0x4e9ad0=users[_0x4584fc(0x15d)];else{if(_0x516898[0x0][_0x4584fc(0x16f)]==_0x4584fc(0x14e))var _0x4e9ad0=users[_0x4584fc(0x14e)];else{if(_0x516898[0x0][_0x4584fc(0x16f)]==_0x4584fc(0x137))var _0x4e9ad0=users[_0x4584fc(0x137)];else{if(_0x516898[0x0]['language']==_0x4584fc(0x133))var _0x4e9ad0=users[_0x4584fc(0x142)];else{if(_0x516898[0x0][_0x4584fc(0x16f)]==_0x4584fc(0x15f))var _0x4e9ad0=users[_0x4584fc(0x15f)];else{if(_0x516898[0x0][_0x4584fc(0x16f)]==_0x4584fc(0x164))var _0x4e9ad0=users[_0x4584fc(0x145)];}}}}}}}_0x1671d6['render'](_0x4584fc(0x14f),{'success':_0x31e669['flash'](_0x4584fc(0x17a)),'errors':_0x31e669[_0x4584fc(0x12e)](_0x4584fc(0x139)),'role':_0x15f6ec,'profile':_0x429872,'master_shop':_0x516898,'email':_0x4392cc,'language':_0x4e9ad0});}catch(_0x39a98b){console[_0x4584fc(0x141)](_0x39a98b);}}),router[a0_0x103702(0x131)](a0_0x103702(0x179),auth,async(_0x384102,_0x18f73c)=>{const _0x3318a5=a0_0x103702;try{const {host:_0x21a79f,port:_0xd9cd5a,email:_0x46d599,password:_0x1a680e}=_0x384102[_0x3318a5(0x154)],_0x2e9481=await email_settings[_0x3318a5(0x173)]();if(_0x2e9481==null){const _0x223a54=new email_settings({'host':_0x21a79f,'port':_0xd9cd5a,'email':_0x46d599,'password':_0x1a680e});await _0x223a54[_0x3318a5(0x14a)]();}else _0x2e9481[_0x3318a5(0x177)]=_0x21a79f,_0x2e9481[_0x3318a5(0x169)]=_0xd9cd5a,_0x2e9481[_0x3318a5(0x15a)]=_0x46d599,_0x2e9481[_0x3318a5(0x16a)]=_0x1a680e,await _0x2e9481[_0x3318a5(0x14a)]();_0x384102['flash']('success',_0x3318a5(0x146)),_0x18f73c['redirect'](_0x3318a5(0x168));}catch(_0x47f430){console['log'](_0x47f430);}}),router[a0_0x103702(0x16c)](a0_0x103702(0x155),auth,async(_0x4055f7,_0x1f1375)=>{const _0x32638f=a0_0x103702;try{const {username:_0x1cfc7f,email:_0x421be2,role:_0x2a6303}=_0x4055f7[_0x32638f(0x130)],_0xe5b995=_0x4055f7[_0x32638f(0x130)],_0x3875c8=await supervisor_settings[_0x32638f(0x140)](),_0x269717=await profile[_0x32638f(0x173)]({'email':_0xe5b995[_0x32638f(0x15a)]}),_0x98f6d5=await master_shop[_0x32638f(0x140)](),_0x9e9027=new Date()[_0x32638f(0x156)](_0x32638f(0x16e),{'timeZone':_0x98f6d5[0x0][_0x32638f(0x172)]});if(_0x98f6d5[0x0][_0x32638f(0x16f)]==_0x32638f(0x161)){var _0x10ade9=users[_0x32638f(0x157)];console[_0x32638f(0x141)](_0x10ade9);}else{if(_0x98f6d5[0x0][_0x32638f(0x16f)]=='Hindi')var _0x10ade9=users[_0x32638f(0x165)];else{if(_0x98f6d5[0x0][_0x32638f(0x16f)]==_0x32638f(0x15d))var _0x10ade9=users[_0x32638f(0x15d)];else{if(_0x98f6d5[0x0]['language']==_0x32638f(0x14e))var _0x10ade9=users[_0x32638f(0x14e)];else{if(_0x98f6d5[0x0][_0x32638f(0x16f)]==_0x32638f(0x137))var _0x10ade9=users['French'];else{if(_0x98f6d5[0x0]['language']==_0x32638f(0x133))var _0x10ade9=users[_0x32638f(0x142)];else{if(_0x98f6d5[0x0][_0x32638f(0x16f)]==_0x32638f(0x15f))var _0x10ade9=users[_0x32638f(0x15f)];else{if(_0x98f6d5[0x0]['language']=='Arabic\x20(ae)')var _0x10ade9=users[_0x32638f(0x145)];}}}}}}}_0x1f1375[_0x32638f(0x158)](_0x32638f(0x153),{'success':_0x4055f7[_0x32638f(0x12e)](_0x32638f(0x17a)),'errors':_0x4055f7[_0x32638f(0x12e)](_0x32638f(0x139)),'role':_0xe5b995,'profile':_0x269717,'master_shop':_0x98f6d5,'supervisor_data':_0x3875c8[0x0],'timezones':timezones,'language':_0x10ade9});}catch(_0xdba716){console[_0x32638f(0x141)](_0xdba716);}}),router['post']('/view/supervisors',auth,async(_0x16d6e4,_0x5a7f51)=>{const _0x16c97f=a0_0x103702;try{const {rm_name:_0x5ce4e6,fg_name:_0x33e391,rm_email:_0x20b9bd,fg_email:_0x778ce3,rm_mobilenum:_0xa4cec6,fg_number:_0x4c0dcb}=_0x16d6e4['body'],_0x48f949=await supervisor_settings['findOne']();if(_0x48f949==null){const _0xb680d2=new supervisor_settings({'RMSName':_0x5ce4e6,'RMSEmail':_0x20b9bd,'RMSnumber':_0xa4cec6,'FGSName':_0x33e391,'FGSEmail':_0x778ce3,'FGSnumber':_0x4c0dcb});await _0xb680d2[_0x16c97f(0x14a)]();}else _0x48f949[_0x16c97f(0x178)]=_0x5ce4e6,_0x48f949['RMSEmail']=_0x20b9bd,_0x48f949[_0x16c97f(0x13b)]=_0xa4cec6,_0x48f949[_0x16c97f(0x174)]=_0x33e391,_0x48f949['FGSEmail']=_0x778ce3,_0x48f949[_0x16c97f(0x150)]=_0x4c0dcb,await _0x48f949[_0x16c97f(0x14a)]();_0x16d6e4[_0x16c97f(0x12e)]('success',_0x16c97f(0x146)),_0x5a7f51['redirect']('/master_shop/view/supervisors');}catch(_0xc65ecd){console[_0x16c97f(0x141)](_0xc65ecd);}}),module[a0_0x103702(0x15b)]=router;