const a0_0x3be35a=a0_0x540a;(function(_0x42a618,_0x4e1b90){const _0xa2543b=a0_0x540a,_0x43227f=_0x42a618();while(!![]){try{const _0x5e9858=parseInt(_0xa2543b(0x13d))/0x1+parseInt(_0xa2543b(0x13f))/0x2*(-parseInt(_0xa2543b(0x105))/0x3)+-parseInt(_0xa2543b(0x131))/0x4+parseInt(_0xa2543b(0x117))/0x5+parseInt(_0xa2543b(0x103))/0x6+parseInt(_0xa2543b(0x139))/0x7*(parseInt(_0xa2543b(0x126))/0x8)+parseInt(_0xa2543b(0x12b))/0x9;if(_0x5e9858===_0x4e1b90)break;else _0x43227f['push'](_0x43227f['shift']());}catch(_0x4a9b19){_0x43227f['push'](_0x43227f['shift']());}}}(a0_0x1957,0xd895c));const express=require(a0_0x3be35a(0x12d)),app=express(),router=express['Router'](),multer=require(a0_0x3be35a(0x106)),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require(a0_0x3be35a(0x115));var timezones=require(a0_0x3be35a(0x140));function a0_0x540a(_0x54c2bb,_0xe1dd81){const _0x195786=a0_0x1957();return a0_0x540a=function(_0x540a2b,_0x808f9d){_0x540a2b=_0x540a2b-0x100;let _0x401d71=_0x195786[_0x540a2b];return _0x401d71;},a0_0x540a(_0x54c2bb,_0xe1dd81);}const users=require(a0_0x3be35a(0x101)),storage=multer['diskStorage']({'destination':(_0xb7edd3,_0x29de12,_0x33c5db)=>{const _0x2a31dd=a0_0x3be35a;_0x33c5db(null,_0x2a31dd(0x102));},'filename':(_0x109e51,_0x2e64dd,_0x1b3e9f)=>{const _0x1c1a03=a0_0x3be35a;_0x1b3e9f(null,Date[_0x1c1a03(0x130)]()+_0x2e64dd[_0x1c1a03(0x142)]);}}),upload=multer({'storage':storage});router[a0_0x3be35a(0x132)](a0_0x3be35a(0x111),auth,async(_0x5e5278,_0x5d7ea4)=>{const _0x336b3a=a0_0x3be35a;try{const {username:_0x17e28f,email:_0x87b666,role:_0x5b38fd}=_0x5e5278[_0x336b3a(0x137)],_0x11aef5=_0x5e5278['user'],_0x516e61=await profile['findOne']({'email':_0x11aef5['email']}),_0x4dfb0f=await master_shop[_0x336b3a(0x143)]();console[_0x336b3a(0x138)]('master',_0x4dfb0f);const _0x38136e=new Date()[_0x336b3a(0x145)]('en-US',{'timeZone':_0x4dfb0f[0x0][_0x336b3a(0x124)]});console[_0x336b3a(0x138)](_0x336b3a(0x124),_0x38136e);if(_0x4dfb0f[0x0][_0x336b3a(0x149)]==_0x336b3a(0x112)){var _0x497801=users['English'];console[_0x336b3a(0x138)](_0x497801);}else{if(_0x4dfb0f[0x0]['language']==_0x336b3a(0x120))var _0x497801=users[_0x336b3a(0x120)];else{if(_0x4dfb0f[0x0][_0x336b3a(0x149)]==_0x336b3a(0x134))var _0x497801=users[_0x336b3a(0x134)];else{if(_0x4dfb0f[0x0][_0x336b3a(0x149)]==_0x336b3a(0x14a))var _0x497801=users[_0x336b3a(0x14a)];else{if(_0x4dfb0f[0x0][_0x336b3a(0x149)]==_0x336b3a(0x10e))var _0x497801=users[_0x336b3a(0x10e)];else{if(_0x4dfb0f[0x0][_0x336b3a(0x149)]=='Portuguese\x20(BR)')var _0x497801=users[_0x336b3a(0x10c)];else{if(_0x4dfb0f[0x0][_0x336b3a(0x149)]==_0x336b3a(0x147))var _0x497801=users['Chinese'];else{if(_0x4dfb0f[0x0][_0x336b3a(0x149)]==_0x336b3a(0x135))var _0x497801=users[_0x336b3a(0x119)];}}}}}}}_0x5d7ea4[_0x336b3a(0x110)](_0x336b3a(0x125),{'success':_0x5e5278[_0x336b3a(0x12e)]('success'),'errors':_0x5e5278[_0x336b3a(0x12e)](_0x336b3a(0x133)),'role':_0x11aef5,'profile':_0x516e61,'master_shop':_0x4dfb0f,'timezones':timezones,'language':_0x497801});}catch(_0x1f4404){console[_0x336b3a(0x138)](_0x1f4404);}}),router['get'](a0_0x3be35a(0x127),auth,async(_0x1315e3,_0x281299)=>{const _0x5fa62c=a0_0x3be35a;try{console['log'](_0x5fa62c(0x149)),console[_0x5fa62c(0x138)](_0x1315e3[_0x5fa62c(0x11a)]['id']);const _0x4e5c71=await master_shop['findOne']();_0x4e5c71[_0x5fa62c(0x149)]=_0x1315e3[_0x5fa62c(0x11a)]['id'],await _0x4e5c71[_0x5fa62c(0x128)](),console['log']('master',_0x4e5c71);}catch(_0x3b43f1){console['log'](_0x3b43f1);}}),router['post']('/view/edit_settings',auth,upload['single'](a0_0x3be35a(0x114)),async(_0x5e86d0,_0x444e88)=>{const _0xe534b3=a0_0x3be35a;try{const {site_title:_0x5aadb2,currency:_0x1b9bf3,currency_placement:_0x3ec20e,timezone:_0x48ebbf}=_0x5e86d0['body'];if(_0x5e86d0[_0xe534b3(0x122)][_0xe534b3(0x11c)]==0x0){const _0xb1a923=await master_shop[_0xe534b3(0x11d)]();console[_0xe534b3(0x138)](_0xe534b3(0x113),_0xb1a923);if(_0xb1a923==''){const _0xe35004=new master_shop({'site_title':_0x5aadb2,'image':image,'currency':_0x1b9bf3,'currency_placement':_0x3ec20e,'timezone':_0x48ebbf}),_0x5c8862=await _0xe35004['save']();}else _0xb1a923[_0xe534b3(0x121)]=_0x5aadb2,_0xb1a923['currency']=_0x1b9bf3,_0xb1a923[_0xe534b3(0x10b)]=_0x3ec20e,_0xb1a923['timezone']=_0x48ebbf,await _0xb1a923['save']();}else{const _0x305a1c=_0x5e86d0[_0xe534b3(0x141)][_0xe534b3(0x13e)],_0x167c09=await master_shop[_0xe534b3(0x11d)]();console[_0xe534b3(0x138)](_0xe534b3(0x10d),_0x167c09);if(_0x167c09==null){console['log']('1',_0x5aadb2);const _0x20778f=new master_shop({'site_title':_0x5aadb2,'image':_0x305a1c,'currency':_0x1b9bf3,'currency_placement':_0x3ec20e,'timezone':_0x48ebbf}),_0x4d2943=await _0x20778f[_0xe534b3(0x128)]();}else console['log']('2',_0x5aadb2),_0x167c09[_0xe534b3(0x121)]=_0x5aadb2,_0x167c09['image']=_0x305a1c,_0x167c09[_0xe534b3(0x108)]=_0x1b9bf3,_0x167c09['currency_placement']=_0x3ec20e,_0x167c09['timezone']=_0x48ebbf,await _0x167c09['save']();}_0x5e86d0[_0xe534b3(0x12e)]('success','shop\x20setting\x20edit\x20successfully'),_0x444e88[_0xe534b3(0x144)](_0xe534b3(0x136));}catch(_0x5a4870){console[_0xe534b3(0x138)](_0x5a4870);}}),router[a0_0x3be35a(0x132)](a0_0x3be35a(0x13b),auth,async(_0x2fcf0c,_0x283272)=>{const _0x2d75da=a0_0x3be35a;try{const {username:_0x4698a6,email:_0x246a78,role:_0x4031b5}=_0x2fcf0c[_0x2d75da(0x137)],_0x4fc200=_0x2fcf0c['user'],_0x5c25b2=await profile[_0x2d75da(0x11d)]({'email':_0x4fc200[_0x2d75da(0x104)]}),_0x184d6b=await master_shop['find']();console[_0x2d75da(0x138)](_0x2d75da(0x12f),_0x184d6b);const _0x49af7f=await email_settings[_0x2d75da(0x11d)]();console[_0x2d75da(0x138)](_0x2d75da(0x12c),_0x49af7f);if(_0x184d6b[0x0]['language']==_0x2d75da(0x112)){var _0x1833bf=users[_0x2d75da(0x14c)];console[_0x2d75da(0x138)](_0x1833bf);}else{if(_0x184d6b[0x0]['language']==_0x2d75da(0x120))var _0x1833bf=users['Hindi'];else{if(_0x184d6b[0x0][_0x2d75da(0x149)]==_0x2d75da(0x134))var _0x1833bf=users[_0x2d75da(0x134)];else{if(_0x184d6b[0x0][_0x2d75da(0x149)]==_0x2d75da(0x14a))var _0x1833bf=users[_0x2d75da(0x14a)];else{if(_0x184d6b[0x0]['language']=='French')var _0x1833bf=users[_0x2d75da(0x10e)];else{if(_0x184d6b[0x0][_0x2d75da(0x149)]==_0x2d75da(0x12a))var _0x1833bf=users[_0x2d75da(0x10c)];else{if(_0x184d6b[0x0][_0x2d75da(0x149)]==_0x2d75da(0x147))var _0x1833bf=users[_0x2d75da(0x147)];else{if(_0x184d6b[0x0][_0x2d75da(0x149)]==_0x2d75da(0x135))var _0x1833bf=users['Arabic'];}}}}}}}_0x283272[_0x2d75da(0x110)](_0x2d75da(0x129),{'success':_0x2fcf0c[_0x2d75da(0x12e)]('success'),'errors':_0x2fcf0c[_0x2d75da(0x12e)](_0x2d75da(0x133)),'role':_0x4fc200,'profile':_0x5c25b2,'master_shop':_0x184d6b,'email':_0x49af7f,'language':_0x1833bf});}catch(_0x162b8b){console['log'](_0x162b8b);}}),router[a0_0x3be35a(0x118)](a0_0x3be35a(0x14b),auth,async(_0x9c68c0,_0x2990c8)=>{const _0x183f25=a0_0x3be35a;try{const {host:_0x97f892,port:_0x56f331,email:_0xc6f756,password:_0x2f0d13}=_0x9c68c0[_0x183f25(0x122)],_0x3c6807=await email_settings[_0x183f25(0x11d)]();if(_0x3c6807==null){const _0x14b75a=new email_settings({'host':_0x97f892,'port':_0x56f331,'email':_0xc6f756,'password':_0x2f0d13});await _0x14b75a['save']();}else _0x3c6807[_0x183f25(0x10f)]=_0x97f892,_0x3c6807[_0x183f25(0x11e)]=_0x56f331,_0x3c6807[_0x183f25(0x104)]=_0xc6f756,_0x3c6807[_0x183f25(0x148)]=_0x2f0d13,await _0x3c6807[_0x183f25(0x128)]();_0x9c68c0[_0x183f25(0x12e)](_0x183f25(0x13c),_0x183f25(0x123)),_0x2990c8[_0x183f25(0x144)](_0x183f25(0x11f));}catch(_0x3788c8){console[_0x183f25(0x138)](_0x3788c8);}}),router[a0_0x3be35a(0x132)](a0_0x3be35a(0x107),auth,async(_0x169e91,_0x10e8d5)=>{const _0x4df1b0=a0_0x3be35a;try{const {username:_0x4e54bf,email:_0x359c00,role:_0x1a572c}=_0x169e91[_0x4df1b0(0x137)],_0x492bb1=_0x169e91['user'],_0x186b3e=await supervisor_settings[_0x4df1b0(0x143)](),_0x3d4b3e=await profile[_0x4df1b0(0x11d)]({'email':_0x492bb1[_0x4df1b0(0x104)]}),_0x338dd4=await master_shop[_0x4df1b0(0x143)](),_0x8d7fd=new Date()['toLocaleString'](_0x4df1b0(0x100),{'timeZone':_0x338dd4[0x0]['timezone']});if(_0x338dd4[0x0][_0x4df1b0(0x149)]=='English\x20(US)'){var _0x481176=users[_0x4df1b0(0x14c)];console[_0x4df1b0(0x138)](_0x481176);}else{if(_0x338dd4[0x0][_0x4df1b0(0x149)]==_0x4df1b0(0x120))var _0x481176=users[_0x4df1b0(0x120)];else{if(_0x338dd4[0x0][_0x4df1b0(0x149)]==_0x4df1b0(0x134))var _0x481176=users[_0x4df1b0(0x134)];else{if(_0x338dd4[0x0][_0x4df1b0(0x149)]==_0x4df1b0(0x14a))var _0x481176=users[_0x4df1b0(0x14a)];else{if(_0x338dd4[0x0][_0x4df1b0(0x149)]==_0x4df1b0(0x10e))var _0x481176=users[_0x4df1b0(0x10e)];else{if(_0x338dd4[0x0]['language']==_0x4df1b0(0x12a))var _0x481176=users[_0x4df1b0(0x10c)];else{if(_0x338dd4[0x0]['language']==_0x4df1b0(0x147))var _0x481176=users[_0x4df1b0(0x147)];else{if(_0x338dd4[0x0][_0x4df1b0(0x149)]==_0x4df1b0(0x135))var _0x481176=users[_0x4df1b0(0x119)];}}}}}}}_0x10e8d5[_0x4df1b0(0x110)]('supervisor_settings',{'success':_0x169e91[_0x4df1b0(0x12e)](_0x4df1b0(0x13c)),'errors':_0x169e91['flash'](_0x4df1b0(0x133)),'role':_0x492bb1,'profile':_0x3d4b3e,'master_shop':_0x338dd4,'supervisor_data':_0x186b3e[0x0],'timezones':timezones,'language':_0x481176});}catch(_0x45d44b){console[_0x4df1b0(0x138)](_0x45d44b);}}),router[a0_0x3be35a(0x118)]('/view/supervisors',auth,async(_0x463fa8,_0x3cae66)=>{const _0x31c0d0=a0_0x3be35a;try{const {rm_name:_0x4fd58b,fg_name:_0x5c7359,rm_email:_0x8d7deb,fg_email:_0x421c10,rm_mobilenum:_0x3ff636,fg_number:_0x1c55c8}=_0x463fa8[_0x31c0d0(0x122)],_0x59b518=await supervisor_settings[_0x31c0d0(0x11d)]();if(_0x59b518==null){const _0x59893c=new supervisor_settings({'RMSName':_0x4fd58b,'RMSEmail':_0x8d7deb,'RMSnumber':_0x3ff636,'FGSName':_0x5c7359,'FGSEmail':_0x421c10,'FGSnumber':_0x1c55c8});await _0x59893c[_0x31c0d0(0x128)]();}else _0x59b518[_0x31c0d0(0x109)]=_0x4fd58b,_0x59b518['RMSEmail']=_0x8d7deb,_0x59b518[_0x31c0d0(0x10a)]=_0x3ff636,_0x59b518[_0x31c0d0(0x13a)]=_0x5c7359,_0x59b518[_0x31c0d0(0x14d)]=_0x421c10,_0x59b518[_0x31c0d0(0x11b)]=_0x1c55c8,await _0x59b518[_0x31c0d0(0x128)]();_0x463fa8[_0x31c0d0(0x12e)](_0x31c0d0(0x13c),_0x31c0d0(0x123)),_0x3cae66['redirect'](_0x31c0d0(0x146));}catch(_0x4a5d76){console[_0x31c0d0(0x138)](_0x4a5d76);}}),module[a0_0x3be35a(0x116)]=router;function a0_0x1957(){const _0x526590=['808EhnlUi','/:id','save','email_settings','Portuguese\x20(BR)','406485rwTSmU','master\x20settings\x20email_data','express','flash','master','now','5605212zNIgOj','get','errors','German','Arabic\x20(ae)','/master_shop/view','user','log','22547yDjQDg','FGSName','/view/email','success','1417625svySHj','filename','2KkbefS','timezones-list','file','originalname','find','redirect','toLocaleString','/master_shop/view/supervisors','Chinese','password','language','Spanish','/view/email/edit_settings','English','FGSEmail','en-US','../public/language/languages.json','./public/upload','9361788yORbJf','email','5219751HSTpQf','multer','/view/supervisors','currency','RMSName','RMSnumber','currency_placement','Portuguese','2nd\x20master_shop_data','French','host','render','/view','English\x20(US)','master_shop_data','image','../middleware/auth','exports','3399715NOcAAT','post','Arabic','params','FGSnumber','hidden','findOne','port','/master_shop/view/email','Hindi','site_title','body','shop\x20setting\x20edit\x20successfully','timezone','master_settings'];a0_0x1957=function(){return _0x526590;};return a0_0x1957();}