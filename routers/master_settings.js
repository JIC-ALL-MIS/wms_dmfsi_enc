const a0_0x38e3f6=a0_0x4ebd;function a0_0x4ebd(_0x4483aa,_0x5af4bd){const _0x49beb4=a0_0x49be();return a0_0x4ebd=function(_0x4ebd39,_0x5f0069){_0x4ebd39=_0x4ebd39-0x152;let _0x18e709=_0x49beb4[_0x4ebd39];return _0x18e709;},a0_0x4ebd(_0x4483aa,_0x5af4bd);}(function(_0x6ac286,_0x1b38d2){const _0x51cdf7=a0_0x4ebd,_0x2d77a5=_0x6ac286();while(!![]){try{const _0x12ab73=-parseInt(_0x51cdf7(0x182))/0x1*(-parseInt(_0x51cdf7(0x1a1))/0x2)+parseInt(_0x51cdf7(0x19c))/0x3*(-parseInt(_0x51cdf7(0x188))/0x4)+-parseInt(_0x51cdf7(0x199))/0x5*(parseInt(_0x51cdf7(0x180))/0x6)+parseInt(_0x51cdf7(0x16e))/0x7+-parseInt(_0x51cdf7(0x187))/0x8*(-parseInt(_0x51cdf7(0x173))/0x9)+parseInt(_0x51cdf7(0x15c))/0xa*(-parseInt(_0x51cdf7(0x198))/0xb)+parseInt(_0x51cdf7(0x15e))/0xc*(-parseInt(_0x51cdf7(0x19d))/0xd);if(_0x12ab73===_0x1b38d2)break;else _0x2d77a5['push'](_0x2d77a5['shift']());}catch(_0x4aa5a1){_0x2d77a5['push'](_0x2d77a5['shift']());}}}(a0_0x49be,0x30625));const express=require(a0_0x38e3f6(0x155)),app=express(),router=express['Router'](),multer=require(a0_0x38e3f6(0x18c)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x38e3f6(0x177)),auth=require(a0_0x38e3f6(0x183));function a0_0x49be(){const _0x4c96f6=['Spanish','host','Arabic\x20(ae)','shop\x20setting\x20edit\x20successfully','FGSnumber','Arabic','/view/email','38550mKrhBm','port','1Yhtllr','../middleware/auth','/view','file','FGSName','16pcojCH','4572XKxnwC','master_shop_data','Portuguese','Hindi','multer','timezone','errors','single','save','RMSEmail','German','exports','master_settings','French','get','language','22smIGgi','130FnUgmE','English\x20(US)','body','429otmkBQ','220415QAZXOB','user','site_title','/master_shop/view/email','660956XxAXDh','toLocaleString','image','filename','en-US','express','email','render','../public/language/languages.json','flash','master','log','1499020fdcbyu','Portuguese\x20(BR)','96ZoWHwH','currency','/view/email/edit_settings','/master_shop/view','Chinese','email_settings','redirect','FGSEmail','English','currency_placement','supervisor_settings','now','/:id','RMSnumber','RMSName','password','2142686LzKAdb','params','/view/supervisors','post','2nd\x20master_shop_data','1473966Huooyf','master\x20settings\x20email_data','findOne','success','../models/all_models','find'];a0_0x49be=function(){return _0x4c96f6;};return a0_0x49be();}var timezones=require('timezones-list');const users=require(a0_0x38e3f6(0x158)),storage=multer['diskStorage']({'destination':(_0x47bf06,_0x9d102a,_0x13c12c)=>{_0x13c12c(null,'./public/upload');},'filename':(_0x213aaf,_0x5f62b9,_0x1d39f9)=>{const _0x599221=a0_0x38e3f6;_0x1d39f9(null,Date[_0x599221(0x169)]()+_0x5f62b9['originalname']);}}),upload=multer({'storage':storage});router[a0_0x38e3f6(0x196)](a0_0x38e3f6(0x184),auth,async(_0x74b1a1,_0x1311aa)=>{const _0x4b4138=a0_0x38e3f6;try{const {username:_0x48a4a3,email:_0x1766a1,role:_0x29ae72}=_0x74b1a1[_0x4b4138(0x19e)],_0xeb6cfa=_0x74b1a1[_0x4b4138(0x19e)],_0x3acc1a=await profile['findOne']({'email':_0xeb6cfa[_0x4b4138(0x156)]}),_0x4f8c8b=await master_shop[_0x4b4138(0x178)]();console[_0x4b4138(0x15b)](_0x4b4138(0x15a),_0x4f8c8b);const _0x570f96=new Date()[_0x4b4138(0x1a2)](_0x4b4138(0x154),{'timeZone':_0x4f8c8b[0x0][_0x4b4138(0x18d)]});console[_0x4b4138(0x15b)](_0x4b4138(0x18d),_0x570f96);if(_0x4f8c8b[0x0][_0x4b4138(0x197)]==_0x4b4138(0x19a)){var _0x13bdf4=users[_0x4b4138(0x166)];console[_0x4b4138(0x15b)](_0x13bdf4);}else{if(_0x4f8c8b[0x0][_0x4b4138(0x197)]=='Hindi')var _0x13bdf4=users[_0x4b4138(0x18b)];else{if(_0x4f8c8b[0x0][_0x4b4138(0x197)]==_0x4b4138(0x192))var _0x13bdf4=users[_0x4b4138(0x192)];else{if(_0x4f8c8b[0x0][_0x4b4138(0x197)]==_0x4b4138(0x179))var _0x13bdf4=users['Spanish'];else{if(_0x4f8c8b[0x0][_0x4b4138(0x197)]==_0x4b4138(0x195))var _0x13bdf4=users['French'];else{if(_0x4f8c8b[0x0][_0x4b4138(0x197)]==_0x4b4138(0x15d))var _0x13bdf4=users[_0x4b4138(0x18a)];else{if(_0x4f8c8b[0x0][_0x4b4138(0x197)]=='Chinese')var _0x13bdf4=users['Chinese'];else{if(_0x4f8c8b[0x0][_0x4b4138(0x197)]==_0x4b4138(0x17b))var _0x13bdf4=users['Arabic'];}}}}}}}_0x1311aa[_0x4b4138(0x157)](_0x4b4138(0x194),{'success':_0x74b1a1[_0x4b4138(0x159)]('success'),'errors':_0x74b1a1['flash'](_0x4b4138(0x18e)),'role':_0xeb6cfa,'profile':_0x3acc1a,'master_shop':_0x4f8c8b,'timezones':timezones,'language':_0x13bdf4});}catch(_0x212675){console[_0x4b4138(0x15b)](_0x212675);}}),router[a0_0x38e3f6(0x196)](a0_0x38e3f6(0x16a),auth,async(_0x444b1d,_0x596b27)=>{const _0x3641e9=a0_0x38e3f6;try{console['log'](_0x3641e9(0x197)),console[_0x3641e9(0x15b)](_0x444b1d['params']['id']);const _0x164917=await master_shop[_0x3641e9(0x175)]();_0x164917[_0x3641e9(0x197)]=_0x444b1d[_0x3641e9(0x16f)]['id'],await _0x164917[_0x3641e9(0x190)](),console[_0x3641e9(0x15b)]('master',_0x164917);}catch(_0x5ed4e0){console[_0x3641e9(0x15b)](_0x5ed4e0);}}),router[a0_0x38e3f6(0x171)]('/view/edit_settings',auth,upload[a0_0x38e3f6(0x18f)](a0_0x38e3f6(0x152)),async(_0x5c0af6,_0x223f8f)=>{const _0x2e37ac=a0_0x38e3f6;try{const {site_title:_0x55b279,currency:_0x3e7831,currency_placement:_0x2b5b42,timezone:_0x2b10ec}=_0x5c0af6[_0x2e37ac(0x19b)];if(_0x5c0af6['body']['hidden']==0x0){const _0x466292=await master_shop[_0x2e37ac(0x175)]();console[_0x2e37ac(0x15b)](_0x2e37ac(0x189),_0x466292);if(_0x466292==''){const _0x314b0d=new master_shop({'site_title':_0x55b279,'image':image,'currency':_0x3e7831,'currency_placement':_0x2b5b42,'timezone':_0x2b10ec}),_0x3f0570=await _0x314b0d['save']();}else _0x466292[_0x2e37ac(0x19f)]=_0x55b279,_0x466292[_0x2e37ac(0x15f)]=_0x3e7831,_0x466292['currency_placement']=_0x2b5b42,_0x466292[_0x2e37ac(0x18d)]=_0x2b10ec,await _0x466292['save']();}else{const _0x4e20c9=_0x5c0af6[_0x2e37ac(0x185)][_0x2e37ac(0x153)],_0x19aa8b=await master_shop[_0x2e37ac(0x175)]();console[_0x2e37ac(0x15b)](_0x2e37ac(0x172),_0x19aa8b);if(_0x19aa8b==null){console[_0x2e37ac(0x15b)]('1',_0x55b279);const _0x41737c=new master_shop({'site_title':_0x55b279,'image':_0x4e20c9,'currency':_0x3e7831,'currency_placement':_0x2b5b42,'timezone':_0x2b10ec}),_0xada57e=await _0x41737c['save']();}else console['log']('2',_0x55b279),_0x19aa8b[_0x2e37ac(0x19f)]=_0x55b279,_0x19aa8b['image']=_0x4e20c9,_0x19aa8b[_0x2e37ac(0x15f)]=_0x3e7831,_0x19aa8b[_0x2e37ac(0x167)]=_0x2b5b42,_0x19aa8b['timezone']=_0x2b10ec,await _0x19aa8b[_0x2e37ac(0x190)]();}_0x5c0af6[_0x2e37ac(0x159)](_0x2e37ac(0x176),_0x2e37ac(0x17c)),_0x223f8f[_0x2e37ac(0x164)](_0x2e37ac(0x161));}catch(_0x4fba2f){console[_0x2e37ac(0x15b)](_0x4fba2f);}}),router[a0_0x38e3f6(0x196)](a0_0x38e3f6(0x17f),auth,async(_0x148b2a,_0x4323c3)=>{const _0x3668bb=a0_0x38e3f6;try{const {username:_0x5493c5,email:_0x3e491a,role:_0x19b9b4}=_0x148b2a['user'],_0x548437=_0x148b2a[_0x3668bb(0x19e)],_0x2b52e8=await profile[_0x3668bb(0x175)]({'email':_0x548437[_0x3668bb(0x156)]}),_0x5e167c=await master_shop[_0x3668bb(0x178)]();console['log'](_0x3668bb(0x15a),_0x5e167c);const _0x2fdf2f=await email_settings[_0x3668bb(0x175)]();console[_0x3668bb(0x15b)](_0x3668bb(0x174),_0x2fdf2f);if(_0x5e167c[0x0][_0x3668bb(0x197)]==_0x3668bb(0x19a)){var _0x16aa2a=users[_0x3668bb(0x166)];console[_0x3668bb(0x15b)](_0x16aa2a);}else{if(_0x5e167c[0x0]['language']==_0x3668bb(0x18b))var _0x16aa2a=users[_0x3668bb(0x18b)];else{if(_0x5e167c[0x0][_0x3668bb(0x197)]=='German')var _0x16aa2a=users['German'];else{if(_0x5e167c[0x0]['language']=='Spanish')var _0x16aa2a=users[_0x3668bb(0x179)];else{if(_0x5e167c[0x0][_0x3668bb(0x197)]==_0x3668bb(0x195))var _0x16aa2a=users[_0x3668bb(0x195)];else{if(_0x5e167c[0x0][_0x3668bb(0x197)]=='Portuguese\x20(BR)')var _0x16aa2a=users['Portuguese'];else{if(_0x5e167c[0x0][_0x3668bb(0x197)]==_0x3668bb(0x162))var _0x16aa2a=users['Chinese'];else{if(_0x5e167c[0x0]['language']==_0x3668bb(0x17b))var _0x16aa2a=users[_0x3668bb(0x17e)];}}}}}}}_0x4323c3[_0x3668bb(0x157)](_0x3668bb(0x163),{'success':_0x148b2a['flash'](_0x3668bb(0x176)),'errors':_0x148b2a[_0x3668bb(0x159)](_0x3668bb(0x18e)),'role':_0x548437,'profile':_0x2b52e8,'master_shop':_0x5e167c,'email':_0x2fdf2f,'language':_0x16aa2a});}catch(_0x26a1ff){console[_0x3668bb(0x15b)](_0x26a1ff);}}),router[a0_0x38e3f6(0x171)](a0_0x38e3f6(0x160),auth,async(_0x4330c3,_0x51feb6)=>{const _0x41a267=a0_0x38e3f6;try{const {host:_0xb509ba,port:_0x1d4225,email:_0x1b8ffc,password:_0x5b7ed7}=_0x4330c3[_0x41a267(0x19b)],_0x42b7a5=await email_settings[_0x41a267(0x175)]();if(_0x42b7a5==null){const _0xe33c2e=new email_settings({'host':_0xb509ba,'port':_0x1d4225,'email':_0x1b8ffc,'password':_0x5b7ed7});await _0xe33c2e[_0x41a267(0x190)]();}else _0x42b7a5[_0x41a267(0x17a)]=_0xb509ba,_0x42b7a5[_0x41a267(0x181)]=_0x1d4225,_0x42b7a5[_0x41a267(0x156)]=_0x1b8ffc,_0x42b7a5[_0x41a267(0x16d)]=_0x5b7ed7,await _0x42b7a5[_0x41a267(0x190)]();_0x4330c3[_0x41a267(0x159)](_0x41a267(0x176),_0x41a267(0x17c)),_0x51feb6[_0x41a267(0x164)](_0x41a267(0x1a0));}catch(_0x81a0b){console[_0x41a267(0x15b)](_0x81a0b);}}),router[a0_0x38e3f6(0x196)](a0_0x38e3f6(0x170),auth,async(_0x34cfb6,_0x4cf29c)=>{const _0xb5de81=a0_0x38e3f6;try{const {username:_0x13d7d0,email:_0x234b7,role:_0xed1e09}=_0x34cfb6[_0xb5de81(0x19e)],_0x294e37=_0x34cfb6['user'],_0x361ee7=await supervisor_settings[_0xb5de81(0x178)](),_0x32c77e=await profile[_0xb5de81(0x175)]({'email':_0x294e37['email']}),_0xb68688=await master_shop[_0xb5de81(0x178)](),_0x3c4e4c=new Date()[_0xb5de81(0x1a2)](_0xb5de81(0x154),{'timeZone':_0xb68688[0x0][_0xb5de81(0x18d)]});if(_0xb68688[0x0][_0xb5de81(0x197)]==_0xb5de81(0x19a)){var _0x87647f=users[_0xb5de81(0x166)];console[_0xb5de81(0x15b)](_0x87647f);}else{if(_0xb68688[0x0][_0xb5de81(0x197)]==_0xb5de81(0x18b))var _0x87647f=users[_0xb5de81(0x18b)];else{if(_0xb68688[0x0]['language']==_0xb5de81(0x192))var _0x87647f=users[_0xb5de81(0x192)];else{if(_0xb68688[0x0][_0xb5de81(0x197)]=='Spanish')var _0x87647f=users[_0xb5de81(0x179)];else{if(_0xb68688[0x0][_0xb5de81(0x197)]==_0xb5de81(0x195))var _0x87647f=users[_0xb5de81(0x195)];else{if(_0xb68688[0x0]['language']==_0xb5de81(0x15d))var _0x87647f=users[_0xb5de81(0x18a)];else{if(_0xb68688[0x0][_0xb5de81(0x197)]=='Chinese')var _0x87647f=users[_0xb5de81(0x162)];else{if(_0xb68688[0x0]['language']==_0xb5de81(0x17b))var _0x87647f=users[_0xb5de81(0x17e)];}}}}}}}_0x4cf29c[_0xb5de81(0x157)](_0xb5de81(0x168),{'success':_0x34cfb6[_0xb5de81(0x159)](_0xb5de81(0x176)),'errors':_0x34cfb6[_0xb5de81(0x159)](_0xb5de81(0x18e)),'role':_0x294e37,'profile':_0x32c77e,'master_shop':_0xb68688,'supervisor_data':_0x361ee7[0x0],'timezones':timezones,'language':_0x87647f});}catch(_0x452384){console[_0xb5de81(0x15b)](_0x452384);}}),router[a0_0x38e3f6(0x171)]('/view/supervisors',auth,async(_0x2f1f1e,_0x5c2e43)=>{const _0x57a9bb=a0_0x38e3f6;try{const {rm_name:_0x4f7188,fg_name:_0xf9fb64,rm_email:_0x2a1710,fg_email:_0x54ba50,rm_mobilenum:_0x35d20c,fg_number:_0x48f199}=_0x2f1f1e[_0x57a9bb(0x19b)],_0x5a1d0c=await supervisor_settings['findOne']();if(_0x5a1d0c==null){const _0x53f02f=new supervisor_settings({'RMSName':_0x4f7188,'RMSEmail':_0x2a1710,'RMSnumber':_0x35d20c,'FGSName':_0xf9fb64,'FGSEmail':_0x54ba50,'FGSnumber':_0x48f199});await _0x53f02f[_0x57a9bb(0x190)]();}else _0x5a1d0c[_0x57a9bb(0x16c)]=_0x4f7188,_0x5a1d0c[_0x57a9bb(0x191)]=_0x2a1710,_0x5a1d0c[_0x57a9bb(0x16b)]=_0x35d20c,_0x5a1d0c[_0x57a9bb(0x186)]=_0xf9fb64,_0x5a1d0c[_0x57a9bb(0x165)]=_0x54ba50,_0x5a1d0c[_0x57a9bb(0x17d)]=_0x48f199,await _0x5a1d0c[_0x57a9bb(0x190)]();_0x2f1f1e[_0x57a9bb(0x159)](_0x57a9bb(0x176),'shop\x20setting\x20edit\x20successfully'),_0x5c2e43[_0x57a9bb(0x164)]('/master_shop/view/supervisors');}catch(_0x1ce855){console['log'](_0x1ce855);}}),module[a0_0x38e3f6(0x193)]=router;