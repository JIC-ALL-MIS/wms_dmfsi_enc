const a0_0x1ae17e=a0_0x5761;(function(_0x728d52,_0x2f236f){const _0x541f0c=a0_0x5761,_0x54ed6c=_0x728d52();while(!![]){try{const _0x5ec8e1=-parseInt(_0x541f0c(0x132))/0x1+parseInt(_0x541f0c(0x15d))/0x2+-parseInt(_0x541f0c(0x159))/0x3+-parseInt(_0x541f0c(0x14e))/0x4*(-parseInt(_0x541f0c(0x148))/0x5)+-parseInt(_0x541f0c(0x135))/0x6*(parseInt(_0x541f0c(0x136))/0x7)+parseInt(_0x541f0c(0x144))/0x8+-parseInt(_0x541f0c(0x120))/0x9*(parseInt(_0x541f0c(0x145))/0xa);if(_0x5ec8e1===_0x2f236f)break;else _0x54ed6c['push'](_0x54ed6c['shift']());}catch(_0x2a7f84){_0x54ed6c['push'](_0x54ed6c['shift']());}}}(a0_0x2079,0x1c89d));const express=require('express'),app=express(),router=express[a0_0x1ae17e(0x124)](),multer=require(a0_0x1ae17e(0x14c)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x1ae17e(0x141)),auth=require('../middleware/auth');var timezones=require('timezones-list');function a0_0x5761(_0x26b47b,_0x6edb7){const _0x207946=a0_0x2079();return a0_0x5761=function(_0x57612a,_0x102a41){_0x57612a=_0x57612a-0x11e;let _0x458dbc=_0x207946[_0x57612a];return _0x458dbc;},a0_0x5761(_0x26b47b,_0x6edb7);}const users=require(a0_0x1ae17e(0x152)),storage=multer['diskStorage']({'destination':(_0x353fb8,_0x59a03d,_0x58aba6)=>{const _0x4a5fec=a0_0x1ae17e;_0x58aba6(null,_0x4a5fec(0x125));},'filename':(_0x1ce424,_0x3e22a0,_0x3ffa52)=>{const _0x2858e5=a0_0x1ae17e;_0x3ffa52(null,Date[_0x2858e5(0x15a)]()+_0x3e22a0[_0x2858e5(0x153)]);}}),upload=multer({'storage':storage});router[a0_0x1ae17e(0x146)](a0_0x1ae17e(0x11e),auth,async(_0x3486a7,_0xc1c8d)=>{const _0xa898d9=a0_0x1ae17e;try{const {username:_0x254539,email:_0x3c5b4a,role:_0x4944a4}=_0x3486a7[_0xa898d9(0x121)],_0x426455=_0x3486a7[_0xa898d9(0x121)],_0x57559b=await profile[_0xa898d9(0x143)]({'email':_0x426455[_0xa898d9(0x133)]}),_0x46c2d9=await master_shop[_0xa898d9(0x15f)]();console[_0xa898d9(0x166)]('master',_0x46c2d9);const _0x5e81d7=new Date()[_0xa898d9(0x161)]('en-US',{'timeZone':_0x46c2d9[0x0][_0xa898d9(0x15e)]});console['log']('timezone',_0x5e81d7);if(_0x46c2d9[0x0][_0xa898d9(0x163)]=='English\x20(US)'){var _0x54a464=users[_0xa898d9(0x147)];console[_0xa898d9(0x166)](_0x54a464);}else{if(_0x46c2d9[0x0][_0xa898d9(0x163)]==_0xa898d9(0x13a))var _0x54a464=users[_0xa898d9(0x13a)];else{if(_0x46c2d9[0x0][_0xa898d9(0x163)]==_0xa898d9(0x137))var _0x54a464=users[_0xa898d9(0x137)];else{if(_0x46c2d9[0x0][_0xa898d9(0x163)]==_0xa898d9(0x142))var _0x54a464=users[_0xa898d9(0x142)];else{if(_0x46c2d9[0x0][_0xa898d9(0x163)]=='French')var _0x54a464=users['French'];else{if(_0x46c2d9[0x0][_0xa898d9(0x163)]==_0xa898d9(0x151))var _0x54a464=users[_0xa898d9(0x11f)];else{if(_0x46c2d9[0x0][_0xa898d9(0x163)]==_0xa898d9(0x14b))var _0x54a464=users[_0xa898d9(0x14b)];else{if(_0x46c2d9[0x0][_0xa898d9(0x163)]==_0xa898d9(0x14a))var _0x54a464=users[_0xa898d9(0x131)];}}}}}}}_0xc1c8d['render'](_0xa898d9(0x12b),{'success':_0x3486a7[_0xa898d9(0x14d)](_0xa898d9(0x138)),'errors':_0x3486a7[_0xa898d9(0x14d)]('errors'),'role':_0x426455,'profile':_0x57559b,'master_shop':_0x46c2d9,'timezones':timezones,'language':_0x54a464});}catch(_0x177802){console['log'](_0x177802);}}),router[a0_0x1ae17e(0x146)](a0_0x1ae17e(0x13e),auth,async(_0x5f99b5,_0x3968bf)=>{const _0x5a7a9c=a0_0x1ae17e;try{console['log'](_0x5a7a9c(0x163)),console['log'](_0x5f99b5[_0x5a7a9c(0x164)]['id']);const _0x5437b5=await master_shop['findOne']();_0x5437b5[_0x5a7a9c(0x163)]=_0x5f99b5[_0x5a7a9c(0x164)]['id'],await _0x5437b5[_0x5a7a9c(0x160)](),console[_0x5a7a9c(0x166)]('master',_0x5437b5);}catch(_0x20e4b0){console[_0x5a7a9c(0x166)](_0x20e4b0);}}),router[a0_0x1ae17e(0x149)]('/view/edit_settings',auth,upload[a0_0x1ae17e(0x12f)](a0_0x1ae17e(0x13b)),async(_0x465c2c,_0x14cdcd)=>{const _0x58b196=a0_0x1ae17e;try{const {site_title:_0x1660ec,currency:_0x317532,currency_placement:_0x5ae759,timezone:_0x134007}=_0x465c2c[_0x58b196(0x13c)];if(_0x465c2c['body'][_0x58b196(0x162)]==0x0){const _0x10c452=await master_shop['findOne']();console[_0x58b196(0x166)]('master_shop_data',_0x10c452);if(_0x10c452==''){const _0x474be3=new master_shop({'site_title':_0x1660ec,'image':image,'currency':_0x317532,'currency_placement':_0x5ae759,'timezone':_0x134007}),_0xd29b83=await _0x474be3[_0x58b196(0x160)]();}else _0x10c452[_0x58b196(0x130)]=_0x1660ec,_0x10c452[_0x58b196(0x169)]=_0x317532,_0x10c452[_0x58b196(0x12e)]=_0x5ae759,_0x10c452['timezone']=_0x134007,await _0x10c452[_0x58b196(0x160)]();}else{const _0x1a49a6=_0x465c2c[_0x58b196(0x14f)][_0x58b196(0x12a)],_0xe235a4=await master_shop['findOne']();console[_0x58b196(0x166)](_0x58b196(0x126),_0xe235a4);if(_0xe235a4==null){console[_0x58b196(0x166)]('1',_0x1660ec);const _0x2aded0=new master_shop({'site_title':_0x1660ec,'image':_0x1a49a6,'currency':_0x317532,'currency_placement':_0x5ae759,'timezone':_0x134007}),_0x2f1bbb=await _0x2aded0['save']();}else console[_0x58b196(0x166)]('2',_0x1660ec),_0xe235a4[_0x58b196(0x130)]=_0x1660ec,_0xe235a4[_0x58b196(0x13b)]=_0x1a49a6,_0xe235a4['currency']=_0x317532,_0xe235a4[_0x58b196(0x12e)]=_0x5ae759,_0xe235a4[_0x58b196(0x15e)]=_0x134007,await _0xe235a4[_0x58b196(0x160)]();}_0x465c2c[_0x58b196(0x14d)]('success',_0x58b196(0x134)),_0x14cdcd[_0x58b196(0x15c)](_0x58b196(0x140));}catch(_0x16d2c5){console['log'](_0x16d2c5);}}),router[a0_0x1ae17e(0x146)](a0_0x1ae17e(0x167),auth,async(_0x32a8e4,_0x3e2069)=>{const _0x225668=a0_0x1ae17e;try{const {username:_0x2975ae,email:_0x5a29a4,role:_0x76985}=_0x32a8e4[_0x225668(0x121)],_0x5cf0a1=_0x32a8e4[_0x225668(0x121)],_0x1cc43a=await profile[_0x225668(0x143)]({'email':_0x5cf0a1[_0x225668(0x133)]}),_0x97d638=await master_shop[_0x225668(0x15f)]();console[_0x225668(0x166)](_0x225668(0x155),_0x97d638);const _0x3552bd=await email_settings[_0x225668(0x143)]();console['log'](_0x225668(0x158),_0x3552bd);if(_0x97d638[0x0][_0x225668(0x163)]=='English\x20(US)'){var _0x587ad2=users[_0x225668(0x147)];console['log'](_0x587ad2);}else{if(_0x97d638[0x0][_0x225668(0x163)]==_0x225668(0x13a))var _0x587ad2=users[_0x225668(0x13a)];else{if(_0x97d638[0x0][_0x225668(0x163)]=='German')var _0x587ad2=users[_0x225668(0x137)];else{if(_0x97d638[0x0][_0x225668(0x163)]==_0x225668(0x142))var _0x587ad2=users['Spanish'];else{if(_0x97d638[0x0]['language']==_0x225668(0x13f))var _0x587ad2=users[_0x225668(0x13f)];else{if(_0x97d638[0x0]['language']==_0x225668(0x151))var _0x587ad2=users['Portuguese'];else{if(_0x97d638[0x0][_0x225668(0x163)]==_0x225668(0x14b))var _0x587ad2=users[_0x225668(0x14b)];else{if(_0x97d638[0x0][_0x225668(0x163)]==_0x225668(0x14a))var _0x587ad2=users['Arabic'];}}}}}}}_0x3e2069['render'](_0x225668(0x165),{'success':_0x32a8e4[_0x225668(0x14d)]('success'),'errors':_0x32a8e4[_0x225668(0x14d)](_0x225668(0x12d)),'role':_0x5cf0a1,'profile':_0x1cc43a,'master_shop':_0x97d638,'email':_0x3552bd,'language':_0x587ad2});}catch(_0x6bec88){console[_0x225668(0x166)](_0x6bec88);}}),router[a0_0x1ae17e(0x149)](a0_0x1ae17e(0x13d),auth,async(_0x56c12f,_0x4be045)=>{const _0x487934=a0_0x1ae17e;try{const {host:_0xf79057,port:_0x5186ad,email:_0x11c850,password:_0xefb3b0}=_0x56c12f[_0x487934(0x13c)],_0x4485f0=await email_settings[_0x487934(0x143)]();if(_0x4485f0==null){const _0x52bf70=new email_settings({'host':_0xf79057,'port':_0x5186ad,'email':_0x11c850,'password':_0xefb3b0});await _0x52bf70[_0x487934(0x160)]();}else _0x4485f0[_0x487934(0x139)]=_0xf79057,_0x4485f0[_0x487934(0x154)]=_0x5186ad,_0x4485f0[_0x487934(0x133)]=_0x11c850,_0x4485f0['password']=_0xefb3b0,await _0x4485f0['save']();_0x56c12f[_0x487934(0x14d)]('success',_0x487934(0x134)),_0x4be045[_0x487934(0x15c)](_0x487934(0x12c));}catch(_0x477284){console[_0x487934(0x166)](_0x477284);}}),router[a0_0x1ae17e(0x146)](a0_0x1ae17e(0x150),auth,async(_0x8da46,_0xa384fa)=>{const _0x4606ff=a0_0x1ae17e;try{const {username:_0x279503,email:_0x45b3d9,role:_0xe4e407}=_0x8da46[_0x4606ff(0x121)],_0x3046fe=_0x8da46['user'],_0x668709=await supervisor_settings['find'](),_0x29e474=await profile[_0x4606ff(0x143)]({'email':_0x3046fe[_0x4606ff(0x133)]}),_0x4538b7=await master_shop[_0x4606ff(0x15f)](),_0x41a56a=new Date()[_0x4606ff(0x161)](_0x4606ff(0x123),{'timeZone':_0x4538b7[0x0][_0x4606ff(0x15e)]});if(_0x4538b7[0x0][_0x4606ff(0x163)]==_0x4606ff(0x168)){var _0x11e1df=users[_0x4606ff(0x147)];console['log'](_0x11e1df);}else{if(_0x4538b7[0x0][_0x4606ff(0x163)]==_0x4606ff(0x13a))var _0x11e1df=users[_0x4606ff(0x13a)];else{if(_0x4538b7[0x0][_0x4606ff(0x163)]==_0x4606ff(0x137))var _0x11e1df=users[_0x4606ff(0x137)];else{if(_0x4538b7[0x0][_0x4606ff(0x163)]==_0x4606ff(0x142))var _0x11e1df=users[_0x4606ff(0x142)];else{if(_0x4538b7[0x0]['language']=='French')var _0x11e1df=users['French'];else{if(_0x4538b7[0x0]['language']==_0x4606ff(0x151))var _0x11e1df=users['Portuguese'];else{if(_0x4538b7[0x0]['language']==_0x4606ff(0x14b))var _0x11e1df=users[_0x4606ff(0x14b)];else{if(_0x4538b7[0x0][_0x4606ff(0x163)]==_0x4606ff(0x14a))var _0x11e1df=users[_0x4606ff(0x131)];}}}}}}}_0xa384fa[_0x4606ff(0x122)]('supervisor_settings',{'success':_0x8da46[_0x4606ff(0x14d)](_0x4606ff(0x138)),'errors':_0x8da46[_0x4606ff(0x14d)](_0x4606ff(0x12d)),'role':_0x3046fe,'profile':_0x29e474,'master_shop':_0x4538b7,'supervisor_data':_0x668709[0x0],'timezones':timezones,'language':_0x11e1df});}catch(_0x2a9483){console[_0x4606ff(0x166)](_0x2a9483);}}),router[a0_0x1ae17e(0x149)](a0_0x1ae17e(0x150),auth,async(_0x8a879,_0x2cb84c)=>{const _0x385941=a0_0x1ae17e;try{const {rm_name:_0x21bce8,fg_name:_0x12094c,rm_email:_0x43ccce,fg_email:_0x36570b,rm_mobilenum:_0x5a253a,fg_number:_0x30e5e7}=_0x8a879['body'],_0x3aa062=await supervisor_settings[_0x385941(0x143)]();if(_0x3aa062==null){const _0x36f5ad=new supervisor_settings({'RMSName':_0x21bce8,'RMSEmail':_0x43ccce,'RMSnumber':_0x5a253a,'FGSName':_0x12094c,'FGSEmail':_0x36570b,'FGSnumber':_0x30e5e7});await _0x36f5ad[_0x385941(0x160)]();}else _0x3aa062['RMSName']=_0x21bce8,_0x3aa062[_0x385941(0x127)]=_0x43ccce,_0x3aa062[_0x385941(0x157)]=_0x5a253a,_0x3aa062[_0x385941(0x156)]=_0x12094c,_0x3aa062[_0x385941(0x129)]=_0x36570b,_0x3aa062[_0x385941(0x128)]=_0x30e5e7,await _0x3aa062[_0x385941(0x160)]();_0x8a879[_0x385941(0x14d)]('success',_0x385941(0x134)),_0x2cb84c[_0x385941(0x15c)]('/master_shop/view/supervisors');}catch(_0x549bec){console[_0x385941(0x166)](_0x549bec);}}),module[a0_0x1ae17e(0x15b)]=router;function a0_0x2079(){const _0x23fad8=['email','shop\x20setting\x20edit\x20successfully','6bzxlKa','109599jUYjUa','German','success','host','Hindi','image','body','/view/email/edit_settings','/:id','French','/master_shop/view','../models/all_models','Spanish','findOne','888872jUtwBx','668310sncZBK','get','English','15lyfrKK','post','Arabic\x20(ae)','Chinese','multer','flash','292820aWXqrV','file','/view/supervisors','Portuguese\x20(BR)','../public/language/languages.json','originalname','port','master','FGSName','RMSnumber','master\x20settings\x20email_data','537321nIiZRc','now','exports','redirect','237268CFyHbK','timezone','find','save','toLocaleString','hidden','language','params','email_settings','log','/view/email','English\x20(US)','currency','/view','Portuguese','18yEUmKC','user','render','en-US','Router','./public/upload','2nd\x20master_shop_data','RMSEmail','FGSnumber','FGSEmail','filename','master_settings','/master_shop/view/email','errors','currency_placement','single','site_title','Arabic','4039MpxFOh'];a0_0x2079=function(){return _0x23fad8;};return a0_0x2079();}