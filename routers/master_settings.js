const a0_0x5a3525=a0_0x3525;(function(_0x41f184,_0xa5d79d){const _0x3edf94=a0_0x3525,_0x3a05fe=_0x41f184();while(!![]){try{const _0x43e447=-parseInt(_0x3edf94(0xaa))/0x1*(-parseInt(_0x3edf94(0xb2))/0x2)+-parseInt(_0x3edf94(0xf7))/0x3*(parseInt(_0x3edf94(0xb4))/0x4)+parseInt(_0x3edf94(0xb6))/0x5*(-parseInt(_0x3edf94(0xb7))/0x6)+-parseInt(_0x3edf94(0xe1))/0x7*(-parseInt(_0x3edf94(0xe0))/0x8)+-parseInt(_0x3edf94(0xc3))/0x9+-parseInt(_0x3edf94(0xd5))/0xa*(-parseInt(_0x3edf94(0xd3))/0xb)+-parseInt(_0x3edf94(0xe5))/0xc*(parseInt(_0x3edf94(0xed))/0xd);if(_0x43e447===_0xa5d79d)break;else _0x3a05fe['push'](_0x3a05fe['shift']());}catch(_0x13f773){_0x3a05fe['push'](_0x3a05fe['shift']());}}}(a0_0x53be,0x612e2));const express=require('express'),app=express(),router=express[a0_0x5a3525(0xc4)](),multer=require('multer'),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require('../middleware/auth');var timezones=require(a0_0x5a3525(0xc1));function a0_0x53be(){const _0x3a04f=['exports','save','port','RMSEmail','user','errors','email','hidden','./public/upload','24AweDJX','728763tNZJwZ','/master_shop/view/supervisors','English','log','2220zgjDyh','success','master_settings','/view/supervisors','diskStorage','master\x20settings\x20email_data','redirect','language','7332cCYfQd','Arabic\x20(ae)','RMSnumber','master','/view/email','params','French','German','get','currency_placement','579zAqHki','find','100RYSbgP','Arabic','Chinese','Portuguese','English\x20(US)','FGSEmail','findOne','/view','10532VgKyeI','email_settings','14172jXmkQV','image','10vbfcHG','452532QmqYeI','Spanish','post','site_title','/view/edit_settings','../public/language/languages.json','single','2nd\x20master_shop_data','Hindi','originalname','timezones-list','toLocaleString','1293669uSDTqF','Router','currency','host','password','file','supervisor_settings','en-US','body','master_shop_data','timezone','render','flash','Portuguese\x20(BR)','RMSName','FGSnumber','2353439nCchIF','/:id','30UltyBO','shop\x20setting\x20edit\x20successfully'];a0_0x53be=function(){return _0x3a04f;};return a0_0x53be();}function a0_0x3525(_0x1a3c72,_0x29dc6a){const _0x53be1c=a0_0x53be();return a0_0x3525=function(_0x352524,_0x279eb5){_0x352524=_0x352524-0xaa;let _0xc197ee=_0x53be1c[_0x352524];return _0xc197ee;},a0_0x3525(_0x1a3c72,_0x29dc6a);}const users=require(a0_0x5a3525(0xbc)),storage=multer[a0_0x5a3525(0xe9)]({'destination':(_0x234f04,_0x126649,_0x347db8)=>{const _0xda8779=a0_0x5a3525;_0x347db8(null,_0xda8779(0xdf));},'filename':(_0x338ae8,_0x2e1df3,_0x2efebc)=>{const _0x38a8c5=a0_0x5a3525;_0x2efebc(null,Date['now']()+_0x2e1df3[_0x38a8c5(0xc0)]);}}),upload=multer({'storage':storage});router[a0_0x5a3525(0xf5)](a0_0x5a3525(0xb1),auth,async(_0x4a44b2,_0x5d6699)=>{const _0x32e186=a0_0x5a3525;try{const {username:_0x297dc8,email:_0x3e7846,role:_0x460207}=_0x4a44b2['user'],_0x2045c8=_0x4a44b2['user'],_0x320ef8=await profile[_0x32e186(0xb0)]({'email':_0x2045c8[_0x32e186(0xdd)]}),_0x14f0bb=await master_shop[_0x32e186(0xf8)]();console[_0x32e186(0xe4)]('master',_0x14f0bb);const _0x368b15=new Date()['toLocaleString'](_0x32e186(0xca),{'timeZone':_0x14f0bb[0x0][_0x32e186(0xcd)]});console[_0x32e186(0xe4)](_0x32e186(0xcd),_0x368b15);if(_0x14f0bb[0x0]['language']=='English\x20(US)'){var _0x4d0cac=users['English'];console[_0x32e186(0xe4)](_0x4d0cac);}else{if(_0x14f0bb[0x0]['language']==_0x32e186(0xbf))var _0x4d0cac=users[_0x32e186(0xbf)];else{if(_0x14f0bb[0x0][_0x32e186(0xec)]==_0x32e186(0xf4))var _0x4d0cac=users['German'];else{if(_0x14f0bb[0x0][_0x32e186(0xec)]=='Spanish')var _0x4d0cac=users[_0x32e186(0xb8)];else{if(_0x14f0bb[0x0][_0x32e186(0xec)]=='French')var _0x4d0cac=users[_0x32e186(0xf3)];else{if(_0x14f0bb[0x0]['language']=='Portuguese\x20(BR)')var _0x4d0cac=users['Portuguese'];else{if(_0x14f0bb[0x0][_0x32e186(0xec)]==_0x32e186(0xac))var _0x4d0cac=users[_0x32e186(0xac)];else{if(_0x14f0bb[0x0][_0x32e186(0xec)]==_0x32e186(0xee))var _0x4d0cac=users[_0x32e186(0xab)];}}}}}}}_0x5d6699[_0x32e186(0xce)](_0x32e186(0xe7),{'success':_0x4a44b2['flash'](_0x32e186(0xe6)),'errors':_0x4a44b2['flash']('errors'),'role':_0x2045c8,'profile':_0x320ef8,'master_shop':_0x14f0bb,'timezones':timezones,'language':_0x4d0cac});}catch(_0x1ee2db){console[_0x32e186(0xe4)](_0x1ee2db);}}),router[a0_0x5a3525(0xf5)](a0_0x5a3525(0xd4),auth,async(_0x2db43a,_0xa458cd)=>{const _0x517c0e=a0_0x5a3525;try{console[_0x517c0e(0xe4)](_0x517c0e(0xec)),console['log'](_0x2db43a['params']['id']);const _0x27f0e9=await master_shop[_0x517c0e(0xb0)]();_0x27f0e9['language']=_0x2db43a[_0x517c0e(0xf2)]['id'],await _0x27f0e9[_0x517c0e(0xd8)](),console[_0x517c0e(0xe4)](_0x517c0e(0xf0),_0x27f0e9);}catch(_0x3f0578){console[_0x517c0e(0xe4)](_0x3f0578);}}),router[a0_0x5a3525(0xb9)](a0_0x5a3525(0xbb),auth,upload[a0_0x5a3525(0xbd)](a0_0x5a3525(0xb5)),async(_0x3954f1,_0x17d7d4)=>{const _0x276553=a0_0x5a3525;try{const {site_title:_0xdec96a,currency:_0x563255,currency_placement:_0x2c2fc0,timezone:_0x31bbef}=_0x3954f1[_0x276553(0xcb)];if(_0x3954f1[_0x276553(0xcb)][_0x276553(0xde)]==0x0){const _0x3cbb6a=await master_shop['findOne']();console[_0x276553(0xe4)](_0x276553(0xcc),_0x3cbb6a);if(_0x3cbb6a==''){const _0x28b537=new master_shop({'site_title':_0xdec96a,'image':image,'currency':_0x563255,'currency_placement':_0x2c2fc0,'timezone':_0x31bbef}),_0x126d87=await _0x28b537[_0x276553(0xd8)]();}else _0x3cbb6a['site_title']=_0xdec96a,_0x3cbb6a[_0x276553(0xc5)]=_0x563255,_0x3cbb6a[_0x276553(0xf6)]=_0x2c2fc0,_0x3cbb6a['timezone']=_0x31bbef,await _0x3cbb6a['save']();}else{const _0x21627f=_0x3954f1[_0x276553(0xc8)]['filename'],_0x825a8=await master_shop[_0x276553(0xb0)]();console['log'](_0x276553(0xbe),_0x825a8);if(_0x825a8==null){console[_0x276553(0xe4)]('1',_0xdec96a);const _0x3c810a=new master_shop({'site_title':_0xdec96a,'image':_0x21627f,'currency':_0x563255,'currency_placement':_0x2c2fc0,'timezone':_0x31bbef}),_0x45ccf5=await _0x3c810a[_0x276553(0xd8)]();}else console[_0x276553(0xe4)]('2',_0xdec96a),_0x825a8[_0x276553(0xba)]=_0xdec96a,_0x825a8[_0x276553(0xb5)]=_0x21627f,_0x825a8[_0x276553(0xc5)]=_0x563255,_0x825a8[_0x276553(0xf6)]=_0x2c2fc0,_0x825a8['timezone']=_0x31bbef,await _0x825a8[_0x276553(0xd8)]();}_0x3954f1[_0x276553(0xcf)](_0x276553(0xe6),_0x276553(0xd6)),_0x17d7d4[_0x276553(0xeb)]('/master_shop/view');}catch(_0x4e3a53){console[_0x276553(0xe4)](_0x4e3a53);}}),router[a0_0x5a3525(0xf5)](a0_0x5a3525(0xf1),auth,async(_0x3b3ffc,_0x6bb5a1)=>{const _0x373df3=a0_0x5a3525;try{const {username:_0x1fd655,email:_0x5bfde7,role:_0x1f59e5}=_0x3b3ffc['user'],_0x3ebd8a=_0x3b3ffc[_0x373df3(0xdb)],_0x1025d9=await profile[_0x373df3(0xb0)]({'email':_0x3ebd8a[_0x373df3(0xdd)]}),_0x4fadf0=await master_shop[_0x373df3(0xf8)]();console[_0x373df3(0xe4)](_0x373df3(0xf0),_0x4fadf0);const _0x450c93=await email_settings[_0x373df3(0xb0)]();console[_0x373df3(0xe4)](_0x373df3(0xea),_0x450c93);if(_0x4fadf0[0x0][_0x373df3(0xec)]==_0x373df3(0xae)){var _0x1aa65f=users[_0x373df3(0xe3)];console[_0x373df3(0xe4)](_0x1aa65f);}else{if(_0x4fadf0[0x0][_0x373df3(0xec)]==_0x373df3(0xbf))var _0x1aa65f=users[_0x373df3(0xbf)];else{if(_0x4fadf0[0x0][_0x373df3(0xec)]=='German')var _0x1aa65f=users[_0x373df3(0xf4)];else{if(_0x4fadf0[0x0][_0x373df3(0xec)]==_0x373df3(0xb8))var _0x1aa65f=users[_0x373df3(0xb8)];else{if(_0x4fadf0[0x0][_0x373df3(0xec)]==_0x373df3(0xf3))var _0x1aa65f=users['French'];else{if(_0x4fadf0[0x0][_0x373df3(0xec)]=='Portuguese\x20(BR)')var _0x1aa65f=users[_0x373df3(0xad)];else{if(_0x4fadf0[0x0][_0x373df3(0xec)]==_0x373df3(0xac))var _0x1aa65f=users[_0x373df3(0xac)];else{if(_0x4fadf0[0x0][_0x373df3(0xec)]==_0x373df3(0xee))var _0x1aa65f=users[_0x373df3(0xab)];}}}}}}}_0x6bb5a1[_0x373df3(0xce)](_0x373df3(0xb3),{'success':_0x3b3ffc[_0x373df3(0xcf)](_0x373df3(0xe6)),'errors':_0x3b3ffc[_0x373df3(0xcf)]('errors'),'role':_0x3ebd8a,'profile':_0x1025d9,'master_shop':_0x4fadf0,'email':_0x450c93,'language':_0x1aa65f});}catch(_0x25c354){console[_0x373df3(0xe4)](_0x25c354);}}),router['post']('/view/email/edit_settings',auth,async(_0x270138,_0x2bcc74)=>{const _0x57f767=a0_0x5a3525;try{const {host:_0x24b031,port:_0x2b4188,email:_0x1b3eed,password:_0x287029}=_0x270138[_0x57f767(0xcb)],_0x5d4016=await email_settings['findOne']();if(_0x5d4016==null){const _0x4d690e=new email_settings({'host':_0x24b031,'port':_0x2b4188,'email':_0x1b3eed,'password':_0x287029});await _0x4d690e[_0x57f767(0xd8)]();}else _0x5d4016[_0x57f767(0xc6)]=_0x24b031,_0x5d4016[_0x57f767(0xd9)]=_0x2b4188,_0x5d4016[_0x57f767(0xdd)]=_0x1b3eed,_0x5d4016[_0x57f767(0xc7)]=_0x287029,await _0x5d4016[_0x57f767(0xd8)]();_0x270138['flash']('success',_0x57f767(0xd6)),_0x2bcc74[_0x57f767(0xeb)]('/master_shop/view/email');}catch(_0x53e107){console['log'](_0x53e107);}}),router['get'](a0_0x5a3525(0xe8),auth,async(_0x1f3596,_0x13d63c)=>{const _0x1d9b90=a0_0x5a3525;try{const {username:_0x329ebc,email:_0x3ca453,role:_0x5864db}=_0x1f3596[_0x1d9b90(0xdb)],_0x2d2a8c=_0x1f3596[_0x1d9b90(0xdb)],_0x20c9b3=await supervisor_settings['find'](),_0x4e7131=await profile[_0x1d9b90(0xb0)]({'email':_0x2d2a8c[_0x1d9b90(0xdd)]}),_0x5539ca=await master_shop['find'](),_0x2efdfb=new Date()[_0x1d9b90(0xc2)](_0x1d9b90(0xca),{'timeZone':_0x5539ca[0x0]['timezone']});if(_0x5539ca[0x0][_0x1d9b90(0xec)]=='English\x20(US)'){var _0x3abf9c=users[_0x1d9b90(0xe3)];console[_0x1d9b90(0xe4)](_0x3abf9c);}else{if(_0x5539ca[0x0][_0x1d9b90(0xec)]==_0x1d9b90(0xbf))var _0x3abf9c=users[_0x1d9b90(0xbf)];else{if(_0x5539ca[0x0][_0x1d9b90(0xec)]==_0x1d9b90(0xf4))var _0x3abf9c=users['German'];else{if(_0x5539ca[0x0][_0x1d9b90(0xec)]==_0x1d9b90(0xb8))var _0x3abf9c=users[_0x1d9b90(0xb8)];else{if(_0x5539ca[0x0][_0x1d9b90(0xec)]==_0x1d9b90(0xf3))var _0x3abf9c=users[_0x1d9b90(0xf3)];else{if(_0x5539ca[0x0][_0x1d9b90(0xec)]==_0x1d9b90(0xd0))var _0x3abf9c=users[_0x1d9b90(0xad)];else{if(_0x5539ca[0x0][_0x1d9b90(0xec)]==_0x1d9b90(0xac))var _0x3abf9c=users[_0x1d9b90(0xac)];else{if(_0x5539ca[0x0][_0x1d9b90(0xec)]==_0x1d9b90(0xee))var _0x3abf9c=users[_0x1d9b90(0xab)];}}}}}}}_0x13d63c[_0x1d9b90(0xce)](_0x1d9b90(0xc9),{'success':_0x1f3596[_0x1d9b90(0xcf)]('success'),'errors':_0x1f3596[_0x1d9b90(0xcf)](_0x1d9b90(0xdc)),'role':_0x2d2a8c,'profile':_0x4e7131,'master_shop':_0x5539ca,'supervisor_data':_0x20c9b3[0x0],'timezones':timezones,'language':_0x3abf9c});}catch(_0x1ede24){console[_0x1d9b90(0xe4)](_0x1ede24);}}),router[a0_0x5a3525(0xb9)]('/view/supervisors',auth,async(_0x668cb4,_0x281498)=>{const _0x290c7e=a0_0x5a3525;try{const {rm_name:_0x46273f,fg_name:_0x2236e2,rm_email:_0x1ea470,fg_email:_0x27d923,rm_mobilenum:_0x28b1ba,fg_number:_0x3cc76a}=_0x668cb4['body'],_0x258b3b=await supervisor_settings[_0x290c7e(0xb0)]();if(_0x258b3b==null){const _0xc2a3eb=new supervisor_settings({'RMSName':_0x46273f,'RMSEmail':_0x1ea470,'RMSnumber':_0x28b1ba,'FGSName':_0x2236e2,'FGSEmail':_0x27d923,'FGSnumber':_0x3cc76a});await _0xc2a3eb[_0x290c7e(0xd8)]();}else _0x258b3b[_0x290c7e(0xd1)]=_0x46273f,_0x258b3b[_0x290c7e(0xda)]=_0x1ea470,_0x258b3b[_0x290c7e(0xef)]=_0x28b1ba,_0x258b3b['FGSName']=_0x2236e2,_0x258b3b[_0x290c7e(0xaf)]=_0x27d923,_0x258b3b[_0x290c7e(0xd2)]=_0x3cc76a,await _0x258b3b['save']();_0x668cb4[_0x290c7e(0xcf)](_0x290c7e(0xe6),_0x290c7e(0xd6)),_0x281498['redirect'](_0x290c7e(0xe2));}catch(_0x5ed374){console[_0x290c7e(0xe4)](_0x5ed374);}}),module[a0_0x5a3525(0xd7)]=router;