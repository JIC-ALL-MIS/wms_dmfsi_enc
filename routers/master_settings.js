const a0_0x1c7a9c=a0_0x376d;function a0_0x376d(_0x364ab6,_0x2ed327){const _0x585006=a0_0x5850();return a0_0x376d=function(_0x376d18,_0x5bb330){_0x376d18=_0x376d18-0x1dd;let _0x5caea0=_0x585006[_0x376d18];return _0x5caea0;},a0_0x376d(_0x364ab6,_0x2ed327);}(function(_0xcde423,_0x53ce0f){const _0x398d7c=a0_0x376d,_0x19c5c6=_0xcde423();while(!![]){try{const _0x5f3013=-parseInt(_0x398d7c(0x1dd))/0x1+-parseInt(_0x398d7c(0x1e2))/0x2+parseInt(_0x398d7c(0x210))/0x3*(parseInt(_0x398d7c(0x1e0))/0x4)+parseInt(_0x398d7c(0x212))/0x5+-parseInt(_0x398d7c(0x1ea))/0x6+-parseInt(_0x398d7c(0x20f))/0x7*(-parseInt(_0x398d7c(0x21e))/0x8)+parseInt(_0x398d7c(0x223))/0x9*(parseInt(_0x398d7c(0x206))/0xa);if(_0x5f3013===_0x53ce0f)break;else _0x19c5c6['push'](_0x19c5c6['shift']());}catch(_0x5cbaf1){_0x19c5c6['push'](_0x19c5c6['shift']());}}}(a0_0x5850,0xe0e3a));function a0_0x5850(){const _0x47bf1b=['9585516tQYEEa','flash','image','timezone','get','master','Hindi','RMSEmail','toLocaleString','/view/edit_settings','filename','Arabic\x20(ae)','../public/language/languages.json','Spanish','render','/view/supervisors','shop\x20setting\x20edit\x20successfully','params','errors','language','/:id','supervisor_settings','save','file','post','site_title','French','master_shop_data','530ZkzZIk','German','currency_placement','../middleware/auth','Arabic','redirect','currency','findOne','host','8756118lmFxUP','18gYJzWe','multer','4847825AcPieM','originalname','body','FGSEmail','Portuguese','log','/master_shop/view/supervisors','email','en-US','./public/upload','success','master_settings','8USbcZt','email_settings','English','Portuguese\x20(BR)','find','149220SFMPoa','1376070PsEaiA','hidden','FGSnumber','1000544aMmxvt','user','1410386MREsDt','Chinese','timezones-list','/view','RMSnumber','English\x20(US)','express','now'];a0_0x5850=function(){return _0x47bf1b;};return a0_0x5850();}const express=require(a0_0x1c7a9c(0x1e8)),app=express(),router=express['Router'](),multer=require(a0_0x1c7a9c(0x211)),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require(a0_0x1c7a9c(0x209));var timezones=require(a0_0x1c7a9c(0x1e4));const users=require(a0_0x1c7a9c(0x1f6)),storage=multer['diskStorage']({'destination':(_0x5a8d9e,_0x26110c,_0x2a9503)=>{const _0x5d66bf=a0_0x1c7a9c;_0x2a9503(null,_0x5d66bf(0x21b));},'filename':(_0x251aab,_0x2b3f90,_0x38f9a2)=>{const _0x76599e=a0_0x1c7a9c;_0x38f9a2(null,Date[_0x76599e(0x1e9)]()+_0x2b3f90[_0x76599e(0x213)]);}}),upload=multer({'storage':storage});router[a0_0x1c7a9c(0x1ee)](a0_0x1c7a9c(0x1e5),auth,async(_0x1219d7,_0x38cddd)=>{const _0x53931e=a0_0x1c7a9c;try{const {username:_0x4b69a5,email:_0x30516e,role:_0x7162b1}=_0x1219d7[_0x53931e(0x1e1)],_0x299cd7=_0x1219d7[_0x53931e(0x1e1)],_0x1b786e=await profile[_0x53931e(0x20d)]({'email':_0x299cd7[_0x53931e(0x219)]}),_0x2d4d68=await master_shop[_0x53931e(0x222)]();console[_0x53931e(0x217)](_0x53931e(0x1ef),_0x2d4d68);const _0x193d5a=new Date()[_0x53931e(0x1f2)]('en-US',{'timeZone':_0x2d4d68[0x0][_0x53931e(0x1ed)]});console['log']('timezone',_0x193d5a);if(_0x2d4d68[0x0][_0x53931e(0x1fd)]==_0x53931e(0x1e7)){var _0x13834e=users[_0x53931e(0x220)];console['log'](_0x13834e);}else{if(_0x2d4d68[0x0][_0x53931e(0x1fd)]=='Hindi')var _0x13834e=users[_0x53931e(0x1f0)];else{if(_0x2d4d68[0x0][_0x53931e(0x1fd)]==_0x53931e(0x207))var _0x13834e=users['German'];else{if(_0x2d4d68[0x0][_0x53931e(0x1fd)]==_0x53931e(0x1f7))var _0x13834e=users[_0x53931e(0x1f7)];else{if(_0x2d4d68[0x0]['language']==_0x53931e(0x204))var _0x13834e=users[_0x53931e(0x204)];else{if(_0x2d4d68[0x0][_0x53931e(0x1fd)]==_0x53931e(0x221))var _0x13834e=users[_0x53931e(0x216)];else{if(_0x2d4d68[0x0][_0x53931e(0x1fd)]==_0x53931e(0x1e3))var _0x13834e=users[_0x53931e(0x1e3)];else{if(_0x2d4d68[0x0][_0x53931e(0x1fd)]==_0x53931e(0x1f5))var _0x13834e=users[_0x53931e(0x20a)];}}}}}}}_0x38cddd[_0x53931e(0x1f8)](_0x53931e(0x21d),{'success':_0x1219d7[_0x53931e(0x1eb)](_0x53931e(0x21c)),'errors':_0x1219d7['flash'](_0x53931e(0x1fc)),'role':_0x299cd7,'profile':_0x1b786e,'master_shop':_0x2d4d68,'timezones':timezones,'language':_0x13834e});}catch(_0x1f8515){console[_0x53931e(0x217)](_0x1f8515);}}),router[a0_0x1c7a9c(0x1ee)](a0_0x1c7a9c(0x1fe),auth,async(_0x70bd90,_0x312c6)=>{const _0x20879b=a0_0x1c7a9c;try{console[_0x20879b(0x217)](_0x20879b(0x1fd)),console[_0x20879b(0x217)](_0x70bd90[_0x20879b(0x1fb)]['id']);const _0x137148=await master_shop[_0x20879b(0x20d)]();_0x137148[_0x20879b(0x1fd)]=_0x70bd90[_0x20879b(0x1fb)]['id'],await _0x137148[_0x20879b(0x200)](),console[_0x20879b(0x217)](_0x20879b(0x1ef),_0x137148);}catch(_0x4e40c9){console['log'](_0x4e40c9);}}),router[a0_0x1c7a9c(0x202)](a0_0x1c7a9c(0x1f3),auth,upload['single'](a0_0x1c7a9c(0x1ec)),async(_0x359174,_0x419e8f)=>{const _0x3ca786=a0_0x1c7a9c;try{const {site_title:_0x2090a0,currency:_0x9d284d,currency_placement:_0x2a7346,timezone:_0x3a5740}=_0x359174[_0x3ca786(0x214)];if(_0x359174['body'][_0x3ca786(0x1de)]==0x0){const _0xa404e4=await master_shop[_0x3ca786(0x20d)]();console[_0x3ca786(0x217)](_0x3ca786(0x205),_0xa404e4);if(_0xa404e4==''){const _0x214b50=new master_shop({'site_title':_0x2090a0,'image':image,'currency':_0x9d284d,'currency_placement':_0x2a7346,'timezone':_0x3a5740}),_0x370c3a=await _0x214b50[_0x3ca786(0x200)]();}else _0xa404e4['site_title']=_0x2090a0,_0xa404e4[_0x3ca786(0x20c)]=_0x9d284d,_0xa404e4[_0x3ca786(0x208)]=_0x2a7346,_0xa404e4[_0x3ca786(0x1ed)]=_0x3a5740,await _0xa404e4[_0x3ca786(0x200)]();}else{const _0x3fe543=_0x359174[_0x3ca786(0x201)][_0x3ca786(0x1f4)],_0x4f35e0=await master_shop['findOne']();console[_0x3ca786(0x217)]('2nd\x20master_shop_data',_0x4f35e0);if(_0x4f35e0==null){console[_0x3ca786(0x217)]('1',_0x2090a0);const _0x553ec6=new master_shop({'site_title':_0x2090a0,'image':_0x3fe543,'currency':_0x9d284d,'currency_placement':_0x2a7346,'timezone':_0x3a5740}),_0x2aa1ce=await _0x553ec6['save']();}else console[_0x3ca786(0x217)]('2',_0x2090a0),_0x4f35e0[_0x3ca786(0x203)]=_0x2090a0,_0x4f35e0[_0x3ca786(0x1ec)]=_0x3fe543,_0x4f35e0['currency']=_0x9d284d,_0x4f35e0['currency_placement']=_0x2a7346,_0x4f35e0[_0x3ca786(0x1ed)]=_0x3a5740,await _0x4f35e0[_0x3ca786(0x200)]();}_0x359174[_0x3ca786(0x1eb)](_0x3ca786(0x21c),_0x3ca786(0x1fa)),_0x419e8f[_0x3ca786(0x20b)]('/master_shop/view');}catch(_0x5cc847){console[_0x3ca786(0x217)](_0x5cc847);}}),router[a0_0x1c7a9c(0x1ee)]('/view/email',auth,async(_0x30c15e,_0x2eafa4)=>{const _0x15bc29=a0_0x1c7a9c;try{const {username:_0x1da6ab,email:_0x18c4a8,role:_0x3fe760}=_0x30c15e['user'],_0x457811=_0x30c15e['user'],_0x4165bb=await profile[_0x15bc29(0x20d)]({'email':_0x457811['email']}),_0x1ed1c1=await master_shop[_0x15bc29(0x222)]();console['log'](_0x15bc29(0x1ef),_0x1ed1c1);const _0x1121ee=await email_settings[_0x15bc29(0x20d)]();console[_0x15bc29(0x217)]('master\x20settings\x20email_data',_0x1121ee);if(_0x1ed1c1[0x0][_0x15bc29(0x1fd)]=='English\x20(US)'){var _0x37772f=users['English'];console['log'](_0x37772f);}else{if(_0x1ed1c1[0x0][_0x15bc29(0x1fd)]==_0x15bc29(0x1f0))var _0x37772f=users['Hindi'];else{if(_0x1ed1c1[0x0][_0x15bc29(0x1fd)]=='German')var _0x37772f=users[_0x15bc29(0x207)];else{if(_0x1ed1c1[0x0][_0x15bc29(0x1fd)]==_0x15bc29(0x1f7))var _0x37772f=users[_0x15bc29(0x1f7)];else{if(_0x1ed1c1[0x0][_0x15bc29(0x1fd)]==_0x15bc29(0x204))var _0x37772f=users[_0x15bc29(0x204)];else{if(_0x1ed1c1[0x0]['language']==_0x15bc29(0x221))var _0x37772f=users['Portuguese'];else{if(_0x1ed1c1[0x0][_0x15bc29(0x1fd)]==_0x15bc29(0x1e3))var _0x37772f=users[_0x15bc29(0x1e3)];else{if(_0x1ed1c1[0x0]['language']==_0x15bc29(0x1f5))var _0x37772f=users[_0x15bc29(0x20a)];}}}}}}}_0x2eafa4['render'](_0x15bc29(0x21f),{'success':_0x30c15e['flash']('success'),'errors':_0x30c15e['flash']('errors'),'role':_0x457811,'profile':_0x4165bb,'master_shop':_0x1ed1c1,'email':_0x1121ee,'language':_0x37772f});}catch(_0x4cfc20){console[_0x15bc29(0x217)](_0x4cfc20);}}),router[a0_0x1c7a9c(0x202)]('/view/email/edit_settings',auth,async(_0x3756f1,_0xbf8bf2)=>{const _0x42b7eb=a0_0x1c7a9c;try{const {host:_0xdbfee,port:_0x114224,email:_0x2fa44b,password:_0x3bda35}=_0x3756f1[_0x42b7eb(0x214)],_0x2be968=await email_settings[_0x42b7eb(0x20d)]();if(_0x2be968==null){const _0x3aed92=new email_settings({'host':_0xdbfee,'port':_0x114224,'email':_0x2fa44b,'password':_0x3bda35});await _0x3aed92[_0x42b7eb(0x200)]();}else _0x2be968[_0x42b7eb(0x20e)]=_0xdbfee,_0x2be968['port']=_0x114224,_0x2be968[_0x42b7eb(0x219)]=_0x2fa44b,_0x2be968['password']=_0x3bda35,await _0x2be968[_0x42b7eb(0x200)]();_0x3756f1['flash']('success',_0x42b7eb(0x1fa)),_0xbf8bf2[_0x42b7eb(0x20b)]('/master_shop/view/email');}catch(_0x5b52ae){console['log'](_0x5b52ae);}}),router[a0_0x1c7a9c(0x1ee)](a0_0x1c7a9c(0x1f9),auth,async(_0x1cf04d,_0x7dacfd)=>{const _0x5a210c=a0_0x1c7a9c;try{const {username:_0x1be4c7,email:_0x1474c2,role:_0x1f1c26}=_0x1cf04d[_0x5a210c(0x1e1)],_0x2dd8d9=_0x1cf04d[_0x5a210c(0x1e1)],_0x459a81=await supervisor_settings[_0x5a210c(0x222)](),_0x28a9fc=await profile[_0x5a210c(0x20d)]({'email':_0x2dd8d9[_0x5a210c(0x219)]}),_0x55b540=await master_shop[_0x5a210c(0x222)](),_0x22a97b=new Date()[_0x5a210c(0x1f2)](_0x5a210c(0x21a),{'timeZone':_0x55b540[0x0][_0x5a210c(0x1ed)]});if(_0x55b540[0x0][_0x5a210c(0x1fd)]==_0x5a210c(0x1e7)){var _0x3fd39c=users[_0x5a210c(0x220)];console['log'](_0x3fd39c);}else{if(_0x55b540[0x0][_0x5a210c(0x1fd)]==_0x5a210c(0x1f0))var _0x3fd39c=users[_0x5a210c(0x1f0)];else{if(_0x55b540[0x0][_0x5a210c(0x1fd)]=='German')var _0x3fd39c=users['German'];else{if(_0x55b540[0x0][_0x5a210c(0x1fd)]=='Spanish')var _0x3fd39c=users['Spanish'];else{if(_0x55b540[0x0]['language']=='French')var _0x3fd39c=users[_0x5a210c(0x204)];else{if(_0x55b540[0x0][_0x5a210c(0x1fd)]=='Portuguese\x20(BR)')var _0x3fd39c=users[_0x5a210c(0x216)];else{if(_0x55b540[0x0][_0x5a210c(0x1fd)]==_0x5a210c(0x1e3))var _0x3fd39c=users['Chinese'];else{if(_0x55b540[0x0][_0x5a210c(0x1fd)]==_0x5a210c(0x1f5))var _0x3fd39c=users[_0x5a210c(0x20a)];}}}}}}}_0x7dacfd[_0x5a210c(0x1f8)](_0x5a210c(0x1ff),{'success':_0x1cf04d['flash'](_0x5a210c(0x21c)),'errors':_0x1cf04d[_0x5a210c(0x1eb)](_0x5a210c(0x1fc)),'role':_0x2dd8d9,'profile':_0x28a9fc,'master_shop':_0x55b540,'supervisor_data':_0x459a81[0x0],'timezones':timezones,'language':_0x3fd39c});}catch(_0x5cc51b){console['log'](_0x5cc51b);}}),router[a0_0x1c7a9c(0x202)](a0_0x1c7a9c(0x1f9),auth,async(_0x5d5181,_0x5a0730)=>{const _0x73053c=a0_0x1c7a9c;try{const {rm_name:_0x403d29,fg_name:_0x53ef3c,rm_email:_0x50d860,fg_email:_0xcb0a05,rm_mobilenum:_0x1686d4,fg_number:_0x66ef1e}=_0x5d5181['body'],_0x5f5aa4=await supervisor_settings[_0x73053c(0x20d)]();if(_0x5f5aa4==null){const _0x2953dd=new supervisor_settings({'RMSName':_0x403d29,'RMSEmail':_0x50d860,'RMSnumber':_0x1686d4,'FGSName':_0x53ef3c,'FGSEmail':_0xcb0a05,'FGSnumber':_0x66ef1e});await _0x2953dd[_0x73053c(0x200)]();}else _0x5f5aa4['RMSName']=_0x403d29,_0x5f5aa4[_0x73053c(0x1f1)]=_0x50d860,_0x5f5aa4[_0x73053c(0x1e6)]=_0x1686d4,_0x5f5aa4['FGSName']=_0x53ef3c,_0x5f5aa4[_0x73053c(0x215)]=_0xcb0a05,_0x5f5aa4[_0x73053c(0x1df)]=_0x66ef1e,await _0x5f5aa4[_0x73053c(0x200)]();_0x5d5181[_0x73053c(0x1eb)](_0x73053c(0x21c),'shop\x20setting\x20edit\x20successfully'),_0x5a0730[_0x73053c(0x20b)](_0x73053c(0x218));}catch(_0x50e6fc){console['log'](_0x50e6fc);}}),module['exports']=router;