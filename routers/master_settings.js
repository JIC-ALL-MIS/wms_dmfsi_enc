const a0_0x1aeee5=a0_0x3197;function a0_0x3197(_0x206a73,_0x572852){const _0x25d7d9=a0_0x25d7();return a0_0x3197=function(_0x3197e2,_0x22089b){_0x3197e2=_0x3197e2-0x10a;let _0x2a073c=_0x25d7d9[_0x3197e2];return _0x2a073c;},a0_0x3197(_0x206a73,_0x572852);}function a0_0x25d7(){const _0x457731=['file','English','success','log','find','site_title','Portuguese\x20(BR)','timezone','/:id','Arabic\x20(ae)','German','email','FGSnumber','/view/email/edit_settings','Chinese','French','flash','timezones-list','redirect','Arabic','image','body','RMSEmail','2488644lDAhcT','4667589EmBPJs','1737284MmXMmH','user','Router','toLocaleString','10LURtAZ','shop\x20setting\x20edit\x20successfully','host','RMSName','language','4480240ecQlPs','supervisor_settings','multer','get','2nd\x20master_shop_data','save','now','post','render','errors','filename','../middleware/auth','3460125MXOsTY','findOne','Portuguese','master_shop_data','11945115JXyOrO','/master_shop/view','3108692XXDpWR','../public/language/languages.json','/master_shop/view/supervisors','English\x20(US)','currency','/view/email','currency_placement','/view/edit_settings','Spanish','../models/all_models','params','diskStorage','master','/view/supervisors','master_settings','master\x20settings\x20email_data','Hindi','40ZeeKjw','./public/upload'];a0_0x25d7=function(){return _0x457731;};return a0_0x25d7();}(function(_0x209f48,_0x2ce654){const _0x28904d=a0_0x3197,_0x30c879=_0x209f48();while(!![]){try{const _0x512c97=parseInt(_0x28904d(0x13f))/0x1+parseInt(_0x28904d(0x113))/0x2+-parseInt(_0x28904d(0x10d))/0x3+-parseInt(_0x28904d(0x148))/0x4+-parseInt(_0x28904d(0x143))/0x5*(-parseInt(_0x28904d(0x13d))/0x6)+parseInt(_0x28904d(0x111))/0x7+parseInt(_0x28904d(0x124))/0x8*(-parseInt(_0x28904d(0x13e))/0x9);if(_0x512c97===_0x2ce654)break;else _0x30c879['push'](_0x30c879['shift']());}catch(_0x200115){_0x30c879['push'](_0x30c879['shift']());}}}(a0_0x25d7,0xeaa3b));const express=require('express'),app=express(),router=express[a0_0x1aeee5(0x141)](),multer=require(a0_0x1aeee5(0x14a)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x1aeee5(0x11c)),auth=require(a0_0x1aeee5(0x10c));var timezones=require(a0_0x1aeee5(0x137));const users=require(a0_0x1aeee5(0x114)),storage=multer[a0_0x1aeee5(0x11e)]({'destination':(_0x4d6727,_0x129d14,_0x44fd2e)=>{const _0x3b4b48=a0_0x1aeee5;_0x44fd2e(null,_0x3b4b48(0x125));},'filename':(_0x378234,_0x3338dd,_0x520b5d)=>{const _0x56bd6a=a0_0x1aeee5;_0x520b5d(null,Date[_0x56bd6a(0x14e)]()+_0x3338dd['originalname']);}}),upload=multer({'storage':storage});router[a0_0x1aeee5(0x14b)]('/view',auth,async(_0x4566fb,_0x2baaf9)=>{const _0x219f91=a0_0x1aeee5;try{const {username:_0x4f804f,email:_0x26e06c,role:_0xcb43aa}=_0x4566fb[_0x219f91(0x140)],_0x49cf2a=_0x4566fb['user'],_0x29ceee=await profile['findOne']({'email':_0x49cf2a[_0x219f91(0x131)]}),_0x450256=await master_shop[_0x219f91(0x12a)]();console[_0x219f91(0x129)](_0x219f91(0x11f),_0x450256);const _0x27c130=new Date()[_0x219f91(0x142)]('en-US',{'timeZone':_0x450256[0x0][_0x219f91(0x12d)]});console[_0x219f91(0x129)](_0x219f91(0x12d),_0x27c130);if(_0x450256[0x0]['language']==_0x219f91(0x116)){var _0x2e6d80=users[_0x219f91(0x127)];console[_0x219f91(0x129)](_0x2e6d80);}else{if(_0x450256[0x0][_0x219f91(0x147)]==_0x219f91(0x123))var _0x2e6d80=users[_0x219f91(0x123)];else{if(_0x450256[0x0][_0x219f91(0x147)]==_0x219f91(0x130))var _0x2e6d80=users[_0x219f91(0x130)];else{if(_0x450256[0x0][_0x219f91(0x147)]==_0x219f91(0x11b))var _0x2e6d80=users[_0x219f91(0x11b)];else{if(_0x450256[0x0][_0x219f91(0x147)]=='French')var _0x2e6d80=users['French'];else{if(_0x450256[0x0][_0x219f91(0x147)]==_0x219f91(0x12c))var _0x2e6d80=users[_0x219f91(0x10f)];else{if(_0x450256[0x0][_0x219f91(0x147)]==_0x219f91(0x134))var _0x2e6d80=users[_0x219f91(0x134)];else{if(_0x450256[0x0][_0x219f91(0x147)]==_0x219f91(0x12f))var _0x2e6d80=users[_0x219f91(0x139)];}}}}}}}_0x2baaf9[_0x219f91(0x150)](_0x219f91(0x121),{'success':_0x4566fb['flash'](_0x219f91(0x128)),'errors':_0x4566fb[_0x219f91(0x136)](_0x219f91(0x10a)),'role':_0x49cf2a,'profile':_0x29ceee,'master_shop':_0x450256,'timezones':timezones,'language':_0x2e6d80});}catch(_0xec723f){console[_0x219f91(0x129)](_0xec723f);}}),router['get'](a0_0x1aeee5(0x12e),auth,async(_0x8cfb10,_0x583029)=>{const _0x28099b=a0_0x1aeee5;try{console[_0x28099b(0x129)](_0x28099b(0x147)),console[_0x28099b(0x129)](_0x8cfb10[_0x28099b(0x11d)]['id']);const _0x2e15f7=await master_shop[_0x28099b(0x10e)]();_0x2e15f7[_0x28099b(0x147)]=_0x8cfb10[_0x28099b(0x11d)]['id'],await _0x2e15f7[_0x28099b(0x14d)](),console[_0x28099b(0x129)](_0x28099b(0x11f),_0x2e15f7);}catch(_0x53862b){console['log'](_0x53862b);}}),router[a0_0x1aeee5(0x14f)](a0_0x1aeee5(0x11a),auth,upload['single'](a0_0x1aeee5(0x13a)),async(_0x2d1836,_0xaacb90)=>{const _0xffb30c=a0_0x1aeee5;try{const {site_title:_0x1e2848,currency:_0x5604d6,currency_placement:_0x57711d,timezone:_0xe5fc7f}=_0x2d1836[_0xffb30c(0x13b)];if(_0x2d1836[_0xffb30c(0x13b)]['hidden']==0x0){const _0x45ada0=await master_shop[_0xffb30c(0x10e)]();console[_0xffb30c(0x129)](_0xffb30c(0x110),_0x45ada0);if(_0x45ada0==''){const _0x29c18c=new master_shop({'site_title':_0x1e2848,'image':image,'currency':_0x5604d6,'currency_placement':_0x57711d,'timezone':_0xe5fc7f}),_0x1e30bd=await _0x29c18c[_0xffb30c(0x14d)]();}else _0x45ada0[_0xffb30c(0x12b)]=_0x1e2848,_0x45ada0['currency']=_0x5604d6,_0x45ada0[_0xffb30c(0x119)]=_0x57711d,_0x45ada0[_0xffb30c(0x12d)]=_0xe5fc7f,await _0x45ada0['save']();}else{const _0x35d3ee=_0x2d1836[_0xffb30c(0x126)][_0xffb30c(0x10b)],_0xb19313=await master_shop[_0xffb30c(0x10e)]();console['log'](_0xffb30c(0x14c),_0xb19313);if(_0xb19313==null){console[_0xffb30c(0x129)]('1',_0x1e2848);const _0x41a49a=new master_shop({'site_title':_0x1e2848,'image':_0x35d3ee,'currency':_0x5604d6,'currency_placement':_0x57711d,'timezone':_0xe5fc7f}),_0x1e2831=await _0x41a49a[_0xffb30c(0x14d)]();}else console[_0xffb30c(0x129)]('2',_0x1e2848),_0xb19313[_0xffb30c(0x12b)]=_0x1e2848,_0xb19313[_0xffb30c(0x13a)]=_0x35d3ee,_0xb19313[_0xffb30c(0x117)]=_0x5604d6,_0xb19313['currency_placement']=_0x57711d,_0xb19313[_0xffb30c(0x12d)]=_0xe5fc7f,await _0xb19313[_0xffb30c(0x14d)]();}_0x2d1836['flash'](_0xffb30c(0x128),'shop\x20setting\x20edit\x20successfully'),_0xaacb90['redirect'](_0xffb30c(0x112));}catch(_0xe6ea7a){console[_0xffb30c(0x129)](_0xe6ea7a);}}),router[a0_0x1aeee5(0x14b)](a0_0x1aeee5(0x118),auth,async(_0x5b1550,_0x4dbbe9)=>{const _0xff2ff2=a0_0x1aeee5;try{const {username:_0x141026,email:_0xeff658,role:_0x513b27}=_0x5b1550[_0xff2ff2(0x140)],_0x4f41c9=_0x5b1550[_0xff2ff2(0x140)],_0x891895=await profile[_0xff2ff2(0x10e)]({'email':_0x4f41c9['email']}),_0x34ce06=await master_shop[_0xff2ff2(0x12a)]();console['log'](_0xff2ff2(0x11f),_0x34ce06);const _0xaf7cec=await email_settings[_0xff2ff2(0x10e)]();console['log'](_0xff2ff2(0x122),_0xaf7cec);if(_0x34ce06[0x0]['language']==_0xff2ff2(0x116)){var _0xb338f8=users[_0xff2ff2(0x127)];console[_0xff2ff2(0x129)](_0xb338f8);}else{if(_0x34ce06[0x0][_0xff2ff2(0x147)]=='Hindi')var _0xb338f8=users[_0xff2ff2(0x123)];else{if(_0x34ce06[0x0]['language']==_0xff2ff2(0x130))var _0xb338f8=users[_0xff2ff2(0x130)];else{if(_0x34ce06[0x0][_0xff2ff2(0x147)]==_0xff2ff2(0x11b))var _0xb338f8=users[_0xff2ff2(0x11b)];else{if(_0x34ce06[0x0][_0xff2ff2(0x147)]==_0xff2ff2(0x135))var _0xb338f8=users[_0xff2ff2(0x135)];else{if(_0x34ce06[0x0][_0xff2ff2(0x147)]=='Portuguese\x20(BR)')var _0xb338f8=users['Portuguese'];else{if(_0x34ce06[0x0]['language']=='Chinese')var _0xb338f8=users[_0xff2ff2(0x134)];else{if(_0x34ce06[0x0][_0xff2ff2(0x147)]==_0xff2ff2(0x12f))var _0xb338f8=users[_0xff2ff2(0x139)];}}}}}}}_0x4dbbe9['render']('email_settings',{'success':_0x5b1550[_0xff2ff2(0x136)]('success'),'errors':_0x5b1550[_0xff2ff2(0x136)](_0xff2ff2(0x10a)),'role':_0x4f41c9,'profile':_0x891895,'master_shop':_0x34ce06,'email':_0xaf7cec,'language':_0xb338f8});}catch(_0x1b068e){console[_0xff2ff2(0x129)](_0x1b068e);}}),router[a0_0x1aeee5(0x14f)](a0_0x1aeee5(0x133),auth,async(_0x675977,_0x37959c)=>{const _0xd9dbdc=a0_0x1aeee5;try{const {host:_0x3ea4d5,port:_0x1db066,email:_0x5f501d,password:_0x1ba9b2}=_0x675977[_0xd9dbdc(0x13b)],_0x5cac42=await email_settings[_0xd9dbdc(0x10e)]();if(_0x5cac42==null){const _0x5832a9=new email_settings({'host':_0x3ea4d5,'port':_0x1db066,'email':_0x5f501d,'password':_0x1ba9b2});await _0x5832a9[_0xd9dbdc(0x14d)]();}else _0x5cac42[_0xd9dbdc(0x145)]=_0x3ea4d5,_0x5cac42['port']=_0x1db066,_0x5cac42['email']=_0x5f501d,_0x5cac42['password']=_0x1ba9b2,await _0x5cac42[_0xd9dbdc(0x14d)]();_0x675977[_0xd9dbdc(0x136)](_0xd9dbdc(0x128),_0xd9dbdc(0x144)),_0x37959c['redirect']('/master_shop/view/email');}catch(_0x5e44eb){console[_0xd9dbdc(0x129)](_0x5e44eb);}}),router[a0_0x1aeee5(0x14b)](a0_0x1aeee5(0x120),auth,async(_0x371a68,_0x5bdd17)=>{const _0x500f9a=a0_0x1aeee5;try{const {username:_0x426c79,email:_0x1b0d9f,role:_0x4cae8a}=_0x371a68[_0x500f9a(0x140)],_0x23104c=_0x371a68[_0x500f9a(0x140)],_0x34a4c1=await supervisor_settings['find'](),_0x3cda04=await profile[_0x500f9a(0x10e)]({'email':_0x23104c['email']}),_0x473ec5=await master_shop[_0x500f9a(0x12a)](),_0x4ee677=new Date()[_0x500f9a(0x142)]('en-US',{'timeZone':_0x473ec5[0x0]['timezone']});if(_0x473ec5[0x0][_0x500f9a(0x147)]=='English\x20(US)'){var _0x1bdeaa=users[_0x500f9a(0x127)];console[_0x500f9a(0x129)](_0x1bdeaa);}else{if(_0x473ec5[0x0]['language']==_0x500f9a(0x123))var _0x1bdeaa=users['Hindi'];else{if(_0x473ec5[0x0]['language']==_0x500f9a(0x130))var _0x1bdeaa=users[_0x500f9a(0x130)];else{if(_0x473ec5[0x0][_0x500f9a(0x147)]==_0x500f9a(0x11b))var _0x1bdeaa=users[_0x500f9a(0x11b)];else{if(_0x473ec5[0x0][_0x500f9a(0x147)]=='French')var _0x1bdeaa=users[_0x500f9a(0x135)];else{if(_0x473ec5[0x0]['language']==_0x500f9a(0x12c))var _0x1bdeaa=users[_0x500f9a(0x10f)];else{if(_0x473ec5[0x0][_0x500f9a(0x147)]==_0x500f9a(0x134))var _0x1bdeaa=users[_0x500f9a(0x134)];else{if(_0x473ec5[0x0][_0x500f9a(0x147)]==_0x500f9a(0x12f))var _0x1bdeaa=users[_0x500f9a(0x139)];}}}}}}}_0x5bdd17[_0x500f9a(0x150)](_0x500f9a(0x149),{'success':_0x371a68[_0x500f9a(0x136)](_0x500f9a(0x128)),'errors':_0x371a68[_0x500f9a(0x136)]('errors'),'role':_0x23104c,'profile':_0x3cda04,'master_shop':_0x473ec5,'supervisor_data':_0x34a4c1[0x0],'timezones':timezones,'language':_0x1bdeaa});}catch(_0x522389){console[_0x500f9a(0x129)](_0x522389);}}),router[a0_0x1aeee5(0x14f)]('/view/supervisors',auth,async(_0x5787fc,_0x50d8e0)=>{const _0x1f779d=a0_0x1aeee5;try{const {rm_name:_0x45d683,fg_name:_0x562b34,rm_email:_0x444e3f,fg_email:_0x14ebb5,rm_mobilenum:_0x152c48,fg_number:_0xa03c7a}=_0x5787fc['body'],_0x33d2dd=await supervisor_settings[_0x1f779d(0x10e)]();if(_0x33d2dd==null){const _0xe27174=new supervisor_settings({'RMSName':_0x45d683,'RMSEmail':_0x444e3f,'RMSnumber':_0x152c48,'FGSName':_0x562b34,'FGSEmail':_0x14ebb5,'FGSnumber':_0xa03c7a});await _0xe27174[_0x1f779d(0x14d)]();}else _0x33d2dd[_0x1f779d(0x146)]=_0x45d683,_0x33d2dd[_0x1f779d(0x13c)]=_0x444e3f,_0x33d2dd['RMSnumber']=_0x152c48,_0x33d2dd['FGSName']=_0x562b34,_0x33d2dd['FGSEmail']=_0x14ebb5,_0x33d2dd[_0x1f779d(0x132)]=_0xa03c7a,await _0x33d2dd[_0x1f779d(0x14d)]();_0x5787fc[_0x1f779d(0x136)](_0x1f779d(0x128),_0x1f779d(0x144)),_0x50d8e0[_0x1f779d(0x138)](_0x1f779d(0x115));}catch(_0x1c7a19){console[_0x1f779d(0x129)](_0x1c7a19);}}),module['exports']=router;