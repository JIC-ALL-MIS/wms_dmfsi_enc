const a0_0x6ad47e=a0_0x462e;function a0_0x12ff(){const _0x33a1a6=['German','3090700lDWIzb','master_settings','508974KiTLeq','flash','body','timezone','currency','2nd\x20master_shop_data','1773635EWeuPY','toLocaleString','/master_shop/view/email','multer','FGSEmail','1340334tZhouF','319558TbyOIJ','master_shop_data','image','language','RMSnumber','success','originalname','Portuguese','Router','get','RMSEmail','redirect','file','master','render','express','14gqlSkK','FGSnumber','Spanish','save','supervisor_settings','findOne','filename','password','/master_shop/view','/:id','hidden','../middleware/auth','/master_shop/view/supervisors','Chinese','/view/email','en-US','params','timezones-list','248zmyXhy','RMSName','French','../public/language/languages.json','user','English\x20(US)','email','/view/edit_settings','English','Hindi','site_title','errors','272133iGUYPF','675944ZBsjJO','currency_placement','exports','log','/view','post','../models/all_models','Portuguese\x20(BR)','email_settings','host','Arabic\x20(ae)','shop\x20setting\x20edit\x20successfully','Arabic'];a0_0x12ff=function(){return _0x33a1a6;};return a0_0x12ff();}function a0_0x462e(_0x527bb8,_0x3aa11){const _0x12ffa4=a0_0x12ff();return a0_0x462e=function(_0x462ef6,_0x5ee603){_0x462ef6=_0x462ef6-0x170;let _0x15ee2c=_0x12ffa4[_0x462ef6];return _0x15ee2c;},a0_0x462e(_0x527bb8,_0x3aa11);}(function(_0x4f73e6,_0x7ff98b){const _0x12ccab=a0_0x462e,_0x46a234=_0x4f73e6();while(!![]){try{const _0x4b5c7a=parseInt(_0x12ccab(0x191))/0x1+-parseInt(_0x12ccab(0x175))/0x2+parseInt(_0x12ccab(0x190))/0x3+-parseInt(_0x12ccab(0x183))/0x4+-parseInt(_0x12ccab(0x18b))/0x5+parseInt(_0x12ccab(0x185))/0x6*(parseInt(_0x12ccab(0x1a1))/0x7)+parseInt(_0x12ccab(0x1b3))/0x8*(parseInt(_0x12ccab(0x174))/0x9);if(_0x4b5c7a===_0x7ff98b)break;else _0x46a234['push'](_0x46a234['shift']());}catch(_0x3fb3d7){_0x46a234['push'](_0x46a234['shift']());}}}(a0_0x12ff,0x6399f));const express=require(a0_0x6ad47e(0x1a0)),app=express(),router=express[a0_0x6ad47e(0x199)](),multer=require(a0_0x6ad47e(0x18e)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x6ad47e(0x17b)),auth=require(a0_0x6ad47e(0x1ac));var timezones=require(a0_0x6ad47e(0x1b2));const users=require(a0_0x6ad47e(0x1b6)),storage=multer['diskStorage']({'destination':(_0x46e766,_0x26644b,_0x2e4628)=>{_0x2e4628(null,'./public/upload');},'filename':(_0x1d317f,_0x11017a,_0x522cbb)=>{const _0x3a4237=a0_0x6ad47e;_0x522cbb(null,Date['now']()+_0x11017a[_0x3a4237(0x197)]);}}),upload=multer({'storage':storage});router[a0_0x6ad47e(0x19a)](a0_0x6ad47e(0x179),auth,async(_0x3dc5bf,_0x450962)=>{const _0x2400ff=a0_0x6ad47e;try{const {username:_0x4b18de,email:_0x1916dc,role:_0x39462e}=_0x3dc5bf[_0x2400ff(0x1b7)],_0xcc3bd8=_0x3dc5bf[_0x2400ff(0x1b7)],_0x33e27a=await profile[_0x2400ff(0x1a6)]({'email':_0xcc3bd8[_0x2400ff(0x1b9)]}),_0x19d6ad=await master_shop['find']();console['log'](_0x2400ff(0x19e),_0x19d6ad);const _0x5b56df=new Date()[_0x2400ff(0x18c)](_0x2400ff(0x1b0),{'timeZone':_0x19d6ad[0x0][_0x2400ff(0x188)]});console['log'](_0x2400ff(0x188),_0x5b56df);if(_0x19d6ad[0x0]['language']==_0x2400ff(0x1b8)){var _0x1d884f=users[_0x2400ff(0x170)];console[_0x2400ff(0x178)](_0x1d884f);}else{if(_0x19d6ad[0x0]['language']==_0x2400ff(0x171))var _0x1d884f=users[_0x2400ff(0x171)];else{if(_0x19d6ad[0x0][_0x2400ff(0x194)]=='German')var _0x1d884f=users[_0x2400ff(0x182)];else{if(_0x19d6ad[0x0][_0x2400ff(0x194)]==_0x2400ff(0x1a3))var _0x1d884f=users[_0x2400ff(0x1a3)];else{if(_0x19d6ad[0x0][_0x2400ff(0x194)]==_0x2400ff(0x1b5))var _0x1d884f=users['French'];else{if(_0x19d6ad[0x0][_0x2400ff(0x194)]=='Portuguese\x20(BR)')var _0x1d884f=users[_0x2400ff(0x198)];else{if(_0x19d6ad[0x0]['language']==_0x2400ff(0x1ae))var _0x1d884f=users['Chinese'];else{if(_0x19d6ad[0x0]['language']==_0x2400ff(0x17f))var _0x1d884f=users[_0x2400ff(0x181)];}}}}}}}_0x450962[_0x2400ff(0x19f)](_0x2400ff(0x184),{'success':_0x3dc5bf[_0x2400ff(0x186)](_0x2400ff(0x196)),'errors':_0x3dc5bf['flash'](_0x2400ff(0x173)),'role':_0xcc3bd8,'profile':_0x33e27a,'master_shop':_0x19d6ad,'timezones':timezones,'language':_0x1d884f});}catch(_0x39029f){console[_0x2400ff(0x178)](_0x39029f);}}),router[a0_0x6ad47e(0x19a)](a0_0x6ad47e(0x1aa),auth,async(_0x14aea1,_0x490581)=>{const _0x5aedbe=a0_0x6ad47e;try{console[_0x5aedbe(0x178)](_0x5aedbe(0x194)),console['log'](_0x14aea1[_0x5aedbe(0x1b1)]['id']);const _0x1369c3=await master_shop[_0x5aedbe(0x1a6)]();_0x1369c3[_0x5aedbe(0x194)]=_0x14aea1[_0x5aedbe(0x1b1)]['id'],await _0x1369c3['save'](),console[_0x5aedbe(0x178)](_0x5aedbe(0x19e),_0x1369c3);}catch(_0x211710){console[_0x5aedbe(0x178)](_0x211710);}}),router[a0_0x6ad47e(0x17a)](a0_0x6ad47e(0x1ba),auth,upload['single'](a0_0x6ad47e(0x193)),async(_0x33bdd1,_0x1b0fd8)=>{const _0x5705ce=a0_0x6ad47e;try{const {site_title:_0x19d461,currency:_0xa9ca6f,currency_placement:_0x52216b,timezone:_0x4e57d5}=_0x33bdd1[_0x5705ce(0x187)];if(_0x33bdd1[_0x5705ce(0x187)][_0x5705ce(0x1ab)]==0x0){const _0x3a3b3b=await master_shop[_0x5705ce(0x1a6)]();console['log'](_0x5705ce(0x192),_0x3a3b3b);if(_0x3a3b3b==''){const _0x520a98=new master_shop({'site_title':_0x19d461,'image':image,'currency':_0xa9ca6f,'currency_placement':_0x52216b,'timezone':_0x4e57d5}),_0x189791=await _0x520a98[_0x5705ce(0x1a4)]();}else _0x3a3b3b[_0x5705ce(0x172)]=_0x19d461,_0x3a3b3b[_0x5705ce(0x189)]=_0xa9ca6f,_0x3a3b3b[_0x5705ce(0x176)]=_0x52216b,_0x3a3b3b[_0x5705ce(0x188)]=_0x4e57d5,await _0x3a3b3b[_0x5705ce(0x1a4)]();}else{const _0x2eba50=_0x33bdd1[_0x5705ce(0x19d)][_0x5705ce(0x1a7)],_0x2778dc=await master_shop[_0x5705ce(0x1a6)]();console[_0x5705ce(0x178)](_0x5705ce(0x18a),_0x2778dc);if(_0x2778dc==null){console[_0x5705ce(0x178)]('1',_0x19d461);const _0x137b59=new master_shop({'site_title':_0x19d461,'image':_0x2eba50,'currency':_0xa9ca6f,'currency_placement':_0x52216b,'timezone':_0x4e57d5}),_0x1cd943=await _0x137b59[_0x5705ce(0x1a4)]();}else console[_0x5705ce(0x178)]('2',_0x19d461),_0x2778dc['site_title']=_0x19d461,_0x2778dc[_0x5705ce(0x193)]=_0x2eba50,_0x2778dc[_0x5705ce(0x189)]=_0xa9ca6f,_0x2778dc[_0x5705ce(0x176)]=_0x52216b,_0x2778dc[_0x5705ce(0x188)]=_0x4e57d5,await _0x2778dc[_0x5705ce(0x1a4)]();}_0x33bdd1['flash']('success',_0x5705ce(0x180)),_0x1b0fd8['redirect'](_0x5705ce(0x1a9));}catch(_0x25ae9a){console[_0x5705ce(0x178)](_0x25ae9a);}}),router[a0_0x6ad47e(0x19a)](a0_0x6ad47e(0x1af),auth,async(_0x368069,_0x273be0)=>{const _0x22bb99=a0_0x6ad47e;try{const {username:_0x244cc9,email:_0x56e04f,role:_0x3e4c67}=_0x368069[_0x22bb99(0x1b7)],_0x5cd2ab=_0x368069[_0x22bb99(0x1b7)],_0x375e91=await profile[_0x22bb99(0x1a6)]({'email':_0x5cd2ab[_0x22bb99(0x1b9)]}),_0x366218=await master_shop['find']();console[_0x22bb99(0x178)]('master',_0x366218);const _0x1ff1bb=await email_settings[_0x22bb99(0x1a6)]();console['log']('master\x20settings\x20email_data',_0x1ff1bb);if(_0x366218[0x0][_0x22bb99(0x194)]==_0x22bb99(0x1b8)){var _0x550da8=users['English'];console[_0x22bb99(0x178)](_0x550da8);}else{if(_0x366218[0x0][_0x22bb99(0x194)]==_0x22bb99(0x171))var _0x550da8=users['Hindi'];else{if(_0x366218[0x0][_0x22bb99(0x194)]==_0x22bb99(0x182))var _0x550da8=users[_0x22bb99(0x182)];else{if(_0x366218[0x0][_0x22bb99(0x194)]=='Spanish')var _0x550da8=users[_0x22bb99(0x1a3)];else{if(_0x366218[0x0][_0x22bb99(0x194)]==_0x22bb99(0x1b5))var _0x550da8=users['French'];else{if(_0x366218[0x0][_0x22bb99(0x194)]==_0x22bb99(0x17c))var _0x550da8=users[_0x22bb99(0x198)];else{if(_0x366218[0x0][_0x22bb99(0x194)]==_0x22bb99(0x1ae))var _0x550da8=users[_0x22bb99(0x1ae)];else{if(_0x366218[0x0][_0x22bb99(0x194)]==_0x22bb99(0x17f))var _0x550da8=users[_0x22bb99(0x181)];}}}}}}}_0x273be0[_0x22bb99(0x19f)](_0x22bb99(0x17d),{'success':_0x368069[_0x22bb99(0x186)](_0x22bb99(0x196)),'errors':_0x368069['flash'](_0x22bb99(0x173)),'role':_0x5cd2ab,'profile':_0x375e91,'master_shop':_0x366218,'email':_0x1ff1bb,'language':_0x550da8});}catch(_0x4203a1){console[_0x22bb99(0x178)](_0x4203a1);}}),router['post']('/view/email/edit_settings',auth,async(_0x53e4e7,_0x3ae4c3)=>{const _0x11198e=a0_0x6ad47e;try{const {host:_0x46da21,port:_0x39918f,email:_0x2646a2,password:_0x28edfa}=_0x53e4e7[_0x11198e(0x187)],_0xcf4126=await email_settings['findOne']();if(_0xcf4126==null){const _0x396183=new email_settings({'host':_0x46da21,'port':_0x39918f,'email':_0x2646a2,'password':_0x28edfa});await _0x396183[_0x11198e(0x1a4)]();}else _0xcf4126[_0x11198e(0x17e)]=_0x46da21,_0xcf4126['port']=_0x39918f,_0xcf4126[_0x11198e(0x1b9)]=_0x2646a2,_0xcf4126[_0x11198e(0x1a8)]=_0x28edfa,await _0xcf4126[_0x11198e(0x1a4)]();_0x53e4e7[_0x11198e(0x186)](_0x11198e(0x196),_0x11198e(0x180)),_0x3ae4c3[_0x11198e(0x19c)](_0x11198e(0x18d));}catch(_0x4b84dc){console['log'](_0x4b84dc);}}),router['get']('/view/supervisors',auth,async(_0xb0a905,_0x256553)=>{const _0x29bd97=a0_0x6ad47e;try{const {username:_0xdf690c,email:_0x4ed888,role:_0x16a7f6}=_0xb0a905['user'],_0x3465dd=_0xb0a905[_0x29bd97(0x1b7)],_0xe1899d=await supervisor_settings['find'](),_0x403db4=await profile['findOne']({'email':_0x3465dd[_0x29bd97(0x1b9)]}),_0x2bcfab=await master_shop['find'](),_0x38d1cf=new Date()[_0x29bd97(0x18c)](_0x29bd97(0x1b0),{'timeZone':_0x2bcfab[0x0][_0x29bd97(0x188)]});if(_0x2bcfab[0x0]['language']==_0x29bd97(0x1b8)){var _0x18d76c=users[_0x29bd97(0x170)];console[_0x29bd97(0x178)](_0x18d76c);}else{if(_0x2bcfab[0x0][_0x29bd97(0x194)]==_0x29bd97(0x171))var _0x18d76c=users[_0x29bd97(0x171)];else{if(_0x2bcfab[0x0]['language']=='German')var _0x18d76c=users[_0x29bd97(0x182)];else{if(_0x2bcfab[0x0][_0x29bd97(0x194)]==_0x29bd97(0x1a3))var _0x18d76c=users[_0x29bd97(0x1a3)];else{if(_0x2bcfab[0x0][_0x29bd97(0x194)]==_0x29bd97(0x1b5))var _0x18d76c=users[_0x29bd97(0x1b5)];else{if(_0x2bcfab[0x0][_0x29bd97(0x194)]==_0x29bd97(0x17c))var _0x18d76c=users['Portuguese'];else{if(_0x2bcfab[0x0][_0x29bd97(0x194)]==_0x29bd97(0x1ae))var _0x18d76c=users[_0x29bd97(0x1ae)];else{if(_0x2bcfab[0x0][_0x29bd97(0x194)]==_0x29bd97(0x17f))var _0x18d76c=users[_0x29bd97(0x181)];}}}}}}}_0x256553[_0x29bd97(0x19f)](_0x29bd97(0x1a5),{'success':_0xb0a905[_0x29bd97(0x186)]('success'),'errors':_0xb0a905[_0x29bd97(0x186)](_0x29bd97(0x173)),'role':_0x3465dd,'profile':_0x403db4,'master_shop':_0x2bcfab,'supervisor_data':_0xe1899d[0x0],'timezones':timezones,'language':_0x18d76c});}catch(_0x405876){console[_0x29bd97(0x178)](_0x405876);}}),router[a0_0x6ad47e(0x17a)]('/view/supervisors',auth,async(_0x5c2967,_0xcc5ac6)=>{const _0xd099ca=a0_0x6ad47e;try{const {rm_name:_0x343ce1,fg_name:_0x2b4313,rm_email:_0x3d8ef8,fg_email:_0x1a8959,rm_mobilenum:_0x7ebd1f,fg_number:_0x539c31}=_0x5c2967[_0xd099ca(0x187)],_0x277ad5=await supervisor_settings[_0xd099ca(0x1a6)]();if(_0x277ad5==null){const _0x5d5169=new supervisor_settings({'RMSName':_0x343ce1,'RMSEmail':_0x3d8ef8,'RMSnumber':_0x7ebd1f,'FGSName':_0x2b4313,'FGSEmail':_0x1a8959,'FGSnumber':_0x539c31});await _0x5d5169[_0xd099ca(0x1a4)]();}else _0x277ad5[_0xd099ca(0x1b4)]=_0x343ce1,_0x277ad5[_0xd099ca(0x19b)]=_0x3d8ef8,_0x277ad5[_0xd099ca(0x195)]=_0x7ebd1f,_0x277ad5['FGSName']=_0x2b4313,_0x277ad5[_0xd099ca(0x18f)]=_0x1a8959,_0x277ad5[_0xd099ca(0x1a2)]=_0x539c31,await _0x277ad5['save']();_0x5c2967[_0xd099ca(0x186)](_0xd099ca(0x196),_0xd099ca(0x180)),_0xcc5ac6[_0xd099ca(0x19c)](_0xd099ca(0x1ad));}catch(_0x1aa371){console['log'](_0x1aa371);}}),module[a0_0x6ad47e(0x177)]=router;