const a0_0x5ba1da=a0_0x4d63;(function(_0x3f6032,_0x15c0ac){const _0x5d5221=a0_0x4d63,_0x35e76e=_0x3f6032();while(!![]){try{const _0x21d111=parseInt(_0x5d5221(0xf3))/0x1+-parseInt(_0x5d5221(0x109))/0x2*(-parseInt(_0x5d5221(0xf1))/0x3)+-parseInt(_0x5d5221(0x111))/0x4+-parseInt(_0x5d5221(0xfd))/0x5*(parseInt(_0x5d5221(0xf5))/0x6)+-parseInt(_0x5d5221(0x10a))/0x7*(-parseInt(_0x5d5221(0x136))/0x8)+parseInt(_0x5d5221(0x10c))/0x9*(-parseInt(_0x5d5221(0xf2))/0xa)+parseInt(_0x5d5221(0xf8))/0xb*(-parseInt(_0x5d5221(0x108))/0xc);if(_0x21d111===_0x15c0ac)break;else _0x35e76e['push'](_0x35e76e['shift']());}catch(_0x4d1fd8){_0x35e76e['push'](_0x35e76e['shift']());}}}(a0_0x36ee,0x4d6e0));function a0_0x36ee(){const _0x7b8898=['supervisor_settings','FGSEmail','Chinese','FGSnumber','../models/all_models','log','/view/supervisors','email','currency_placement','originalname','../middleware/auth','image','findOne','errors','now','host','./public/upload','/master_shop/view/email','render','currency','get','site_title','88baOdrB','/view','body','timezone','success','params','post','3sijkSn','350oddSOz','564932ZHMopn','filename','426vXMkSH','Arabic\x20(ae)','Hindi','52547qdiiHd','RMSEmail','/view/email','/:id','FGSName','12685xfElBp','shop\x20setting\x20edit\x20successfully','toLocaleString','user','timezones-list','Arabic','2nd\x20master_shop_data','redirect','Portuguese','language','email_settings','1284UglnTs','1030158MIvnTd','151522utdOQp','master','8190txrtbL','find','Spanish','diskStorage','/view/email/edit_settings','1111396GBmVoy','flash','French','German','RMSnumber','/master_shop/view','en-US','Portuguese\x20(BR)','master_shop_data','English\x20(US)','save','English','multer','Router','port'];a0_0x36ee=function(){return _0x7b8898;};return a0_0x36ee();}const express=require('express'),app=express(),router=express[a0_0x5ba1da(0x11e)](),multer=require(a0_0x5ba1da(0x11d)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x5ba1da(0x124)),auth=require(a0_0x5ba1da(0x12a));var timezones=require(a0_0x5ba1da(0x101));const users=require('../public/language/languages.json'),storage=multer[a0_0x5ba1da(0x10f)]({'destination':(_0x507811,_0x25f97f,_0x84cdf1)=>{const _0x4668c4=a0_0x5ba1da;_0x84cdf1(null,_0x4668c4(0x130));},'filename':(_0x25b1a3,_0x581640,_0x9f5ff6)=>{const _0x483311=a0_0x5ba1da;_0x9f5ff6(null,Date[_0x483311(0x12e)]()+_0x581640[_0x483311(0x129)]);}}),upload=multer({'storage':storage});function a0_0x4d63(_0x4c0c00,_0x74f07e){const _0x36ee81=a0_0x36ee();return a0_0x4d63=function(_0x4d6313,_0x331981){_0x4d6313=_0x4d6313-0xf0;let _0x32cadc=_0x36ee81[_0x4d6313];return _0x32cadc;},a0_0x4d63(_0x4c0c00,_0x74f07e);}router[a0_0x5ba1da(0x134)](a0_0x5ba1da(0x137),auth,async(_0x56e315,_0x4d87b8)=>{const _0x338e27=a0_0x5ba1da;try{const {username:_0xadd8f7,email:_0x4c8acb,role:_0x2c67f4}=_0x56e315['user'],_0x4b3498=_0x56e315['user'],_0x2179fc=await profile[_0x338e27(0x12c)]({'email':_0x4b3498[_0x338e27(0x127)]}),_0x1f68c6=await master_shop[_0x338e27(0x10d)]();console[_0x338e27(0x125)](_0x338e27(0x10b),_0x1f68c6);const _0xba5a51=new Date()[_0x338e27(0xff)](_0x338e27(0x117),{'timeZone':_0x1f68c6[0x0][_0x338e27(0x139)]});console[_0x338e27(0x125)](_0x338e27(0x139),_0xba5a51);if(_0x1f68c6[0x0]['language']==_0x338e27(0x11a)){var _0x252291=users[_0x338e27(0x11c)];console['log'](_0x252291);}else{if(_0x1f68c6[0x0][_0x338e27(0x106)]==_0x338e27(0xf7))var _0x252291=users[_0x338e27(0xf7)];else{if(_0x1f68c6[0x0][_0x338e27(0x106)]==_0x338e27(0x114))var _0x252291=users[_0x338e27(0x114)];else{if(_0x1f68c6[0x0][_0x338e27(0x106)]==_0x338e27(0x10e))var _0x252291=users['Spanish'];else{if(_0x1f68c6[0x0]['language']=='French')var _0x252291=users[_0x338e27(0x113)];else{if(_0x1f68c6[0x0][_0x338e27(0x106)]==_0x338e27(0x118))var _0x252291=users[_0x338e27(0x105)];else{if(_0x1f68c6[0x0][_0x338e27(0x106)]==_0x338e27(0x122))var _0x252291=users[_0x338e27(0x122)];else{if(_0x1f68c6[0x0]['language']==_0x338e27(0xf6))var _0x252291=users[_0x338e27(0x102)];}}}}}}}_0x4d87b8[_0x338e27(0x132)]('master_settings',{'success':_0x56e315[_0x338e27(0x112)]('success'),'errors':_0x56e315[_0x338e27(0x112)](_0x338e27(0x12d)),'role':_0x4b3498,'profile':_0x2179fc,'master_shop':_0x1f68c6,'timezones':timezones,'language':_0x252291});}catch(_0x3a76dd){console[_0x338e27(0x125)](_0x3a76dd);}}),router[a0_0x5ba1da(0x134)](a0_0x5ba1da(0xfb),auth,async(_0x303f4d,_0x17cd20)=>{const _0x3c83f0=a0_0x5ba1da;try{console['log'](_0x3c83f0(0x106)),console[_0x3c83f0(0x125)](_0x303f4d[_0x3c83f0(0x13b)]['id']);const _0x157271=await master_shop[_0x3c83f0(0x12c)]();_0x157271['language']=_0x303f4d[_0x3c83f0(0x13b)]['id'],await _0x157271[_0x3c83f0(0x11b)](),console['log'](_0x3c83f0(0x10b),_0x157271);}catch(_0x46cb5f){console[_0x3c83f0(0x125)](_0x46cb5f);}}),router[a0_0x5ba1da(0xf0)]('/view/edit_settings',auth,upload['single']('image'),async(_0x266de8,_0x350f7c)=>{const _0x5aa405=a0_0x5ba1da;try{const {site_title:_0x38906e,currency:_0x42f0e0,currency_placement:_0xf2cf5,timezone:_0xa44e79}=_0x266de8[_0x5aa405(0x138)];if(_0x266de8['body']['hidden']==0x0){const _0x2062c2=await master_shop[_0x5aa405(0x12c)]();console[_0x5aa405(0x125)](_0x5aa405(0x119),_0x2062c2);if(_0x2062c2==''){const _0x55a9fa=new master_shop({'site_title':_0x38906e,'image':image,'currency':_0x42f0e0,'currency_placement':_0xf2cf5,'timezone':_0xa44e79}),_0x16ed70=await _0x55a9fa['save']();}else _0x2062c2[_0x5aa405(0x135)]=_0x38906e,_0x2062c2[_0x5aa405(0x133)]=_0x42f0e0,_0x2062c2['currency_placement']=_0xf2cf5,_0x2062c2[_0x5aa405(0x139)]=_0xa44e79,await _0x2062c2[_0x5aa405(0x11b)]();}else{const _0x337388=_0x266de8['file'][_0x5aa405(0xf4)],_0x482288=await master_shop[_0x5aa405(0x12c)]();console['log'](_0x5aa405(0x103),_0x482288);if(_0x482288==null){console[_0x5aa405(0x125)]('1',_0x38906e);const _0xdb8bc8=new master_shop({'site_title':_0x38906e,'image':_0x337388,'currency':_0x42f0e0,'currency_placement':_0xf2cf5,'timezone':_0xa44e79}),_0x24a381=await _0xdb8bc8[_0x5aa405(0x11b)]();}else console[_0x5aa405(0x125)]('2',_0x38906e),_0x482288['site_title']=_0x38906e,_0x482288[_0x5aa405(0x12b)]=_0x337388,_0x482288[_0x5aa405(0x133)]=_0x42f0e0,_0x482288[_0x5aa405(0x128)]=_0xf2cf5,_0x482288['timezone']=_0xa44e79,await _0x482288[_0x5aa405(0x11b)]();}_0x266de8[_0x5aa405(0x112)](_0x5aa405(0x13a),_0x5aa405(0xfe)),_0x350f7c[_0x5aa405(0x104)](_0x5aa405(0x116));}catch(_0x5e8a30){console['log'](_0x5e8a30);}}),router[a0_0x5ba1da(0x134)](a0_0x5ba1da(0xfa),auth,async(_0x2285db,_0x316b5f)=>{const _0x368505=a0_0x5ba1da;try{const {username:_0x13483f,email:_0x284b35,role:_0x334d51}=_0x2285db[_0x368505(0x100)],_0x5b44ea=_0x2285db[_0x368505(0x100)],_0x18ed6a=await profile[_0x368505(0x12c)]({'email':_0x5b44ea[_0x368505(0x127)]}),_0x25b952=await master_shop[_0x368505(0x10d)]();console[_0x368505(0x125)](_0x368505(0x10b),_0x25b952);const _0x495328=await email_settings['findOne']();console[_0x368505(0x125)]('master\x20settings\x20email_data',_0x495328);if(_0x25b952[0x0][_0x368505(0x106)]=='English\x20(US)'){var _0x552f2d=users[_0x368505(0x11c)];console[_0x368505(0x125)](_0x552f2d);}else{if(_0x25b952[0x0]['language']==_0x368505(0xf7))var _0x552f2d=users[_0x368505(0xf7)];else{if(_0x25b952[0x0][_0x368505(0x106)]==_0x368505(0x114))var _0x552f2d=users[_0x368505(0x114)];else{if(_0x25b952[0x0][_0x368505(0x106)]==_0x368505(0x10e))var _0x552f2d=users['Spanish'];else{if(_0x25b952[0x0]['language']=='French')var _0x552f2d=users[_0x368505(0x113)];else{if(_0x25b952[0x0][_0x368505(0x106)]==_0x368505(0x118))var _0x552f2d=users['Portuguese'];else{if(_0x25b952[0x0]['language']==_0x368505(0x122))var _0x552f2d=users[_0x368505(0x122)];else{if(_0x25b952[0x0][_0x368505(0x106)]==_0x368505(0xf6))var _0x552f2d=users['Arabic'];}}}}}}}_0x316b5f[_0x368505(0x132)](_0x368505(0x107),{'success':_0x2285db[_0x368505(0x112)]('success'),'errors':_0x2285db['flash'](_0x368505(0x12d)),'role':_0x5b44ea,'profile':_0x18ed6a,'master_shop':_0x25b952,'email':_0x495328,'language':_0x552f2d});}catch(_0x4999d6){console[_0x368505(0x125)](_0x4999d6);}}),router[a0_0x5ba1da(0xf0)](a0_0x5ba1da(0x110),auth,async(_0x1ce0a9,_0x342054)=>{const _0x33be4a=a0_0x5ba1da;try{const {host:_0x58c494,port:_0x46fc55,email:_0x45853d,password:_0x24a65a}=_0x1ce0a9[_0x33be4a(0x138)],_0x549dc1=await email_settings[_0x33be4a(0x12c)]();if(_0x549dc1==null){const _0x195086=new email_settings({'host':_0x58c494,'port':_0x46fc55,'email':_0x45853d,'password':_0x24a65a});await _0x195086[_0x33be4a(0x11b)]();}else _0x549dc1[_0x33be4a(0x12f)]=_0x58c494,_0x549dc1[_0x33be4a(0x11f)]=_0x46fc55,_0x549dc1['email']=_0x45853d,_0x549dc1['password']=_0x24a65a,await _0x549dc1[_0x33be4a(0x11b)]();_0x1ce0a9['flash'](_0x33be4a(0x13a),_0x33be4a(0xfe)),_0x342054[_0x33be4a(0x104)](_0x33be4a(0x131));}catch(_0x507346){console[_0x33be4a(0x125)](_0x507346);}}),router['get'](a0_0x5ba1da(0x126),auth,async(_0x2dce36,_0x395605)=>{const _0x5ac9c7=a0_0x5ba1da;try{const {username:_0x28fb6d,email:_0x2569e7,role:_0x514728}=_0x2dce36[_0x5ac9c7(0x100)],_0xa0be2a=_0x2dce36[_0x5ac9c7(0x100)],_0x20b5ca=await supervisor_settings[_0x5ac9c7(0x10d)](),_0x353af4=await profile['findOne']({'email':_0xa0be2a[_0x5ac9c7(0x127)]}),_0x59710a=await master_shop[_0x5ac9c7(0x10d)](),_0x6f51bd=new Date()[_0x5ac9c7(0xff)](_0x5ac9c7(0x117),{'timeZone':_0x59710a[0x0][_0x5ac9c7(0x139)]});if(_0x59710a[0x0]['language']==_0x5ac9c7(0x11a)){var _0x39e0a5=users[_0x5ac9c7(0x11c)];console[_0x5ac9c7(0x125)](_0x39e0a5);}else{if(_0x59710a[0x0]['language']==_0x5ac9c7(0xf7))var _0x39e0a5=users['Hindi'];else{if(_0x59710a[0x0][_0x5ac9c7(0x106)]==_0x5ac9c7(0x114))var _0x39e0a5=users[_0x5ac9c7(0x114)];else{if(_0x59710a[0x0][_0x5ac9c7(0x106)]==_0x5ac9c7(0x10e))var _0x39e0a5=users[_0x5ac9c7(0x10e)];else{if(_0x59710a[0x0][_0x5ac9c7(0x106)]==_0x5ac9c7(0x113))var _0x39e0a5=users[_0x5ac9c7(0x113)];else{if(_0x59710a[0x0]['language']==_0x5ac9c7(0x118))var _0x39e0a5=users[_0x5ac9c7(0x105)];else{if(_0x59710a[0x0]['language']=='Chinese')var _0x39e0a5=users[_0x5ac9c7(0x122)];else{if(_0x59710a[0x0][_0x5ac9c7(0x106)]==_0x5ac9c7(0xf6))var _0x39e0a5=users['Arabic'];}}}}}}}_0x395605[_0x5ac9c7(0x132)](_0x5ac9c7(0x120),{'success':_0x2dce36[_0x5ac9c7(0x112)]('success'),'errors':_0x2dce36['flash'](_0x5ac9c7(0x12d)),'role':_0xa0be2a,'profile':_0x353af4,'master_shop':_0x59710a,'supervisor_data':_0x20b5ca[0x0],'timezones':timezones,'language':_0x39e0a5});}catch(_0x150bd5){console[_0x5ac9c7(0x125)](_0x150bd5);}}),router[a0_0x5ba1da(0xf0)](a0_0x5ba1da(0x126),auth,async(_0x3a4970,_0x4e1f26)=>{const _0x4023a0=a0_0x5ba1da;try{const {rm_name:_0x44b64c,fg_name:_0x6983c8,rm_email:_0x57195c,fg_email:_0x9d4a,rm_mobilenum:_0x49e3c6,fg_number:_0x1fa593}=_0x3a4970[_0x4023a0(0x138)],_0x3abcda=await supervisor_settings[_0x4023a0(0x12c)]();if(_0x3abcda==null){const _0xd0645e=new supervisor_settings({'RMSName':_0x44b64c,'RMSEmail':_0x57195c,'RMSnumber':_0x49e3c6,'FGSName':_0x6983c8,'FGSEmail':_0x9d4a,'FGSnumber':_0x1fa593});await _0xd0645e[_0x4023a0(0x11b)]();}else _0x3abcda['RMSName']=_0x44b64c,_0x3abcda[_0x4023a0(0xf9)]=_0x57195c,_0x3abcda[_0x4023a0(0x115)]=_0x49e3c6,_0x3abcda[_0x4023a0(0xfc)]=_0x6983c8,_0x3abcda[_0x4023a0(0x121)]=_0x9d4a,_0x3abcda[_0x4023a0(0x123)]=_0x1fa593,await _0x3abcda[_0x4023a0(0x11b)]();_0x3a4970[_0x4023a0(0x112)](_0x4023a0(0x13a),_0x4023a0(0xfe)),_0x4e1f26[_0x4023a0(0x104)]('/master_shop/view/supervisors');}catch(_0x169ff5){console[_0x4023a0(0x125)](_0x169ff5);}}),module['exports']=router;