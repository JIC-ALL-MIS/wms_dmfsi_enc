const a0_0x56c387=a0_0x3b80;(function(_0x235b10,_0x165eb1){const _0x87c27e=a0_0x3b80,_0x21f268=_0x235b10();while(!![]){try{const _0x1116c1=parseInt(_0x87c27e(0x138))/0x1*(-parseInt(_0x87c27e(0x101))/0x2)+-parseInt(_0x87c27e(0x135))/0x3+-parseInt(_0x87c27e(0x105))/0x4*(-parseInt(_0x87c27e(0x137))/0x5)+-parseInt(_0x87c27e(0x121))/0x6+parseInt(_0x87c27e(0x10e))/0x7+-parseInt(_0x87c27e(0x100))/0x8+parseInt(_0x87c27e(0x108))/0x9;if(_0x1116c1===_0x165eb1)break;else _0x21f268['push'](_0x21f268['shift']());}catch(_0x25dbd8){_0x21f268['push'](_0x21f268['shift']());}}}(a0_0x19ab,0x55d6f));function a0_0x3b80(_0x24c75c,_0x554f04){const _0x19ab61=a0_0x19ab();return a0_0x3b80=function(_0x3b8077,_0x2309b9){_0x3b8077=_0x3b8077-0xf4;let _0x3dc54e=_0x19ab61[_0x3b8077];return _0x3dc54e;},a0_0x3b80(_0x24c75c,_0x554f04);}const express=require(a0_0x56c387(0x116)),app=express(),router=express['Router'](),multer=require(a0_0x56c387(0x12a)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x56c387(0x132)),auth=require(a0_0x56c387(0xfd));function a0_0x19ab(){const _0x51998a=['currency_placement','/view/email/edit_settings','errors','express','diskStorage','FGSnumber','English','Spanish','./public/upload','Arabic','English\x20(US)','FGSName','/master_shop/view','post','2795820uziRFe','originalname','/view/supervisors','/view/email','Portuguese\x20(BR)','password','shop\x20setting\x20edit\x20successfully','timezones-list','toLocaleString','multer','Hindi','/:id','Arabic\x20(ae)','site_title','host','/master_shop/view/supervisors','en-US','../models/all_models','master','get','215124qnweRB','email','414910lZwRXm','380626SQwYCx','master\x20settings\x20email_data','RMSName','exports','timezone','flash','email_settings','user','2nd\x20master_shop_data','findOne','Portuguese','find','/view/edit_settings','Chinese','filename','FGSEmail','log','supervisor_settings','../middleware/auth','now','/view','5076384dgRbja','2RWIvMv','body','French','image','16SipNwz','file','language','13020021TGbfuX','render','RMSEmail','master_shop_data','save','redirect','880978DqEHAy','params','German','single','success'];a0_0x19ab=function(){return _0x51998a;};return a0_0x19ab();}var timezones=require(a0_0x56c387(0x128));const users=require('../public/language/languages.json'),storage=multer[a0_0x56c387(0x117)]({'destination':(_0x158bca,_0x379506,_0x34ae8a)=>{const _0x47a013=a0_0x56c387;_0x34ae8a(null,_0x47a013(0x11b));},'filename':(_0x54cef1,_0x5d8749,_0x74d128)=>{const _0x412b53=a0_0x56c387;_0x74d128(null,Date[_0x412b53(0xfe)]()+_0x5d8749[_0x412b53(0x122)]);}}),upload=multer({'storage':storage});router[a0_0x56c387(0x134)](a0_0x56c387(0xff),auth,async(_0x1fb3ae,_0x8be1c1)=>{const _0x327b32=a0_0x56c387;try{const {username:_0x523e98,email:_0x3ac859,role:_0x34c4ae}=_0x1fb3ae[_0x327b32(0x13f)],_0x2f0f65=_0x1fb3ae[_0x327b32(0x13f)],_0xb8b4b6=await profile['findOne']({'email':_0x2f0f65[_0x327b32(0x136)]}),_0x1d55c2=await master_shop[_0x327b32(0xf6)]();console[_0x327b32(0xfb)](_0x327b32(0x133),_0x1d55c2);const _0x1ba0dc=new Date()[_0x327b32(0x129)]('en-US',{'timeZone':_0x1d55c2[0x0]['timezone']});console[_0x327b32(0xfb)](_0x327b32(0x13c),_0x1ba0dc);if(_0x1d55c2[0x0][_0x327b32(0x107)]==_0x327b32(0x11d)){var _0xb99ad5=users[_0x327b32(0x119)];console[_0x327b32(0xfb)](_0xb99ad5);}else{if(_0x1d55c2[0x0][_0x327b32(0x107)]==_0x327b32(0x12b))var _0xb99ad5=users['Hindi'];else{if(_0x1d55c2[0x0]['language']==_0x327b32(0x110))var _0xb99ad5=users[_0x327b32(0x110)];else{if(_0x1d55c2[0x0]['language']=='Spanish')var _0xb99ad5=users[_0x327b32(0x11a)];else{if(_0x1d55c2[0x0][_0x327b32(0x107)]==_0x327b32(0x103))var _0xb99ad5=users[_0x327b32(0x103)];else{if(_0x1d55c2[0x0]['language']==_0x327b32(0x125))var _0xb99ad5=users[_0x327b32(0xf5)];else{if(_0x1d55c2[0x0]['language']=='Chinese')var _0xb99ad5=users['Chinese'];else{if(_0x1d55c2[0x0][_0x327b32(0x107)]=='Arabic\x20(ae)')var _0xb99ad5=users['Arabic'];}}}}}}}_0x8be1c1[_0x327b32(0x109)]('master_settings',{'success':_0x1fb3ae[_0x327b32(0x13d)]('success'),'errors':_0x1fb3ae[_0x327b32(0x13d)](_0x327b32(0x115)),'role':_0x2f0f65,'profile':_0xb8b4b6,'master_shop':_0x1d55c2,'timezones':timezones,'language':_0xb99ad5});}catch(_0x48334a){console['log'](_0x48334a);}}),router[a0_0x56c387(0x134)](a0_0x56c387(0x12c),auth,async(_0xb50658,_0x568932)=>{const _0x5e354e=a0_0x56c387;try{console[_0x5e354e(0xfb)]('language'),console[_0x5e354e(0xfb)](_0xb50658['params']['id']);const _0x3bf305=await master_shop[_0x5e354e(0xf4)]();_0x3bf305['language']=_0xb50658[_0x5e354e(0x10f)]['id'],await _0x3bf305['save'](),console[_0x5e354e(0xfb)](_0x5e354e(0x133),_0x3bf305);}catch(_0x55d0b3){console[_0x5e354e(0xfb)](_0x55d0b3);}}),router[a0_0x56c387(0x120)](a0_0x56c387(0xf7),auth,upload[a0_0x56c387(0x111)]('image'),async(_0x3b45a9,_0x3fc0b2)=>{const _0x371ec=a0_0x56c387;try{const {site_title:_0xed9e75,currency:_0x232ab8,currency_placement:_0x533a32,timezone:_0x3c5d89}=_0x3b45a9[_0x371ec(0x102)];if(_0x3b45a9[_0x371ec(0x102)]['hidden']==0x0){const _0x52b8c7=await master_shop[_0x371ec(0xf4)]();console['log'](_0x371ec(0x10b),_0x52b8c7);if(_0x52b8c7==''){const _0x345d3a=new master_shop({'site_title':_0xed9e75,'image':image,'currency':_0x232ab8,'currency_placement':_0x533a32,'timezone':_0x3c5d89}),_0xbf8e17=await _0x345d3a[_0x371ec(0x10c)]();}else _0x52b8c7[_0x371ec(0x12e)]=_0xed9e75,_0x52b8c7['currency']=_0x232ab8,_0x52b8c7[_0x371ec(0x113)]=_0x533a32,_0x52b8c7[_0x371ec(0x13c)]=_0x3c5d89,await _0x52b8c7[_0x371ec(0x10c)]();}else{const _0x3ed664=_0x3b45a9[_0x371ec(0x106)][_0x371ec(0xf9)],_0x5bbd79=await master_shop['findOne']();console[_0x371ec(0xfb)](_0x371ec(0x140),_0x5bbd79);if(_0x5bbd79==null){console[_0x371ec(0xfb)]('1',_0xed9e75);const _0x4ed311=new master_shop({'site_title':_0xed9e75,'image':_0x3ed664,'currency':_0x232ab8,'currency_placement':_0x533a32,'timezone':_0x3c5d89}),_0x200895=await _0x4ed311[_0x371ec(0x10c)]();}else console[_0x371ec(0xfb)]('2',_0xed9e75),_0x5bbd79['site_title']=_0xed9e75,_0x5bbd79[_0x371ec(0x104)]=_0x3ed664,_0x5bbd79['currency']=_0x232ab8,_0x5bbd79[_0x371ec(0x113)]=_0x533a32,_0x5bbd79[_0x371ec(0x13c)]=_0x3c5d89,await _0x5bbd79['save']();}_0x3b45a9[_0x371ec(0x13d)](_0x371ec(0x112),_0x371ec(0x127)),_0x3fc0b2[_0x371ec(0x10d)](_0x371ec(0x11f));}catch(_0x54083b){console[_0x371ec(0xfb)](_0x54083b);}}),router[a0_0x56c387(0x134)](a0_0x56c387(0x124),auth,async(_0x5b1e34,_0x2bec94)=>{const _0x54661e=a0_0x56c387;try{const {username:_0x45697b,email:_0x1d7f8c,role:_0x4bf5ae}=_0x5b1e34['user'],_0x1d196e=_0x5b1e34[_0x54661e(0x13f)],_0x12425a=await profile[_0x54661e(0xf4)]({'email':_0x1d196e['email']}),_0x5419d2=await master_shop['find']();console[_0x54661e(0xfb)](_0x54661e(0x133),_0x5419d2);const _0x39c5af=await email_settings['findOne']();console[_0x54661e(0xfb)](_0x54661e(0x139),_0x39c5af);if(_0x5419d2[0x0][_0x54661e(0x107)]==_0x54661e(0x11d)){var _0x375808=users[_0x54661e(0x119)];console[_0x54661e(0xfb)](_0x375808);}else{if(_0x5419d2[0x0][_0x54661e(0x107)]==_0x54661e(0x12b))var _0x375808=users[_0x54661e(0x12b)];else{if(_0x5419d2[0x0][_0x54661e(0x107)]==_0x54661e(0x110))var _0x375808=users['German'];else{if(_0x5419d2[0x0][_0x54661e(0x107)]==_0x54661e(0x11a))var _0x375808=users[_0x54661e(0x11a)];else{if(_0x5419d2[0x0][_0x54661e(0x107)]==_0x54661e(0x103))var _0x375808=users[_0x54661e(0x103)];else{if(_0x5419d2[0x0]['language']==_0x54661e(0x125))var _0x375808=users[_0x54661e(0xf5)];else{if(_0x5419d2[0x0][_0x54661e(0x107)]=='Chinese')var _0x375808=users[_0x54661e(0xf8)];else{if(_0x5419d2[0x0]['language']==_0x54661e(0x12d))var _0x375808=users[_0x54661e(0x11c)];}}}}}}}_0x2bec94[_0x54661e(0x109)](_0x54661e(0x13e),{'success':_0x5b1e34[_0x54661e(0x13d)](_0x54661e(0x112)),'errors':_0x5b1e34['flash'](_0x54661e(0x115)),'role':_0x1d196e,'profile':_0x12425a,'master_shop':_0x5419d2,'email':_0x39c5af,'language':_0x375808});}catch(_0x52b48d){console[_0x54661e(0xfb)](_0x52b48d);}}),router['post'](a0_0x56c387(0x114),auth,async(_0x45568f,_0x570e30)=>{const _0x204794=a0_0x56c387;try{const {host:_0x119ddf,port:_0x32e5a5,email:_0x662646,password:_0xaa8ab7}=_0x45568f[_0x204794(0x102)],_0x1727d1=await email_settings[_0x204794(0xf4)]();if(_0x1727d1==null){const _0x395dc3=new email_settings({'host':_0x119ddf,'port':_0x32e5a5,'email':_0x662646,'password':_0xaa8ab7});await _0x395dc3[_0x204794(0x10c)]();}else _0x1727d1[_0x204794(0x12f)]=_0x119ddf,_0x1727d1['port']=_0x32e5a5,_0x1727d1[_0x204794(0x136)]=_0x662646,_0x1727d1[_0x204794(0x126)]=_0xaa8ab7,await _0x1727d1[_0x204794(0x10c)]();_0x45568f[_0x204794(0x13d)](_0x204794(0x112),_0x204794(0x127)),_0x570e30[_0x204794(0x10d)]('/master_shop/view/email');}catch(_0x5b78ff){console[_0x204794(0xfb)](_0x5b78ff);}}),router[a0_0x56c387(0x134)](a0_0x56c387(0x123),auth,async(_0x161ede,_0x2b71e8)=>{const _0x43d189=a0_0x56c387;try{const {username:_0x1a4a8,email:_0x5d7e4e,role:_0x4cb075}=_0x161ede['user'],_0x36b526=_0x161ede['user'],_0x5524ee=await supervisor_settings[_0x43d189(0xf6)](),_0x3ecd08=await profile[_0x43d189(0xf4)]({'email':_0x36b526['email']}),_0x3c323a=await master_shop[_0x43d189(0xf6)](),_0x376180=new Date()['toLocaleString'](_0x43d189(0x131),{'timeZone':_0x3c323a[0x0][_0x43d189(0x13c)]});if(_0x3c323a[0x0][_0x43d189(0x107)]==_0x43d189(0x11d)){var _0x3d49fb=users[_0x43d189(0x119)];console[_0x43d189(0xfb)](_0x3d49fb);}else{if(_0x3c323a[0x0][_0x43d189(0x107)]==_0x43d189(0x12b))var _0x3d49fb=users['Hindi'];else{if(_0x3c323a[0x0]['language']=='German')var _0x3d49fb=users[_0x43d189(0x110)];else{if(_0x3c323a[0x0][_0x43d189(0x107)]==_0x43d189(0x11a))var _0x3d49fb=users[_0x43d189(0x11a)];else{if(_0x3c323a[0x0][_0x43d189(0x107)]==_0x43d189(0x103))var _0x3d49fb=users['French'];else{if(_0x3c323a[0x0]['language']=='Portuguese\x20(BR)')var _0x3d49fb=users[_0x43d189(0xf5)];else{if(_0x3c323a[0x0][_0x43d189(0x107)]==_0x43d189(0xf8))var _0x3d49fb=users['Chinese'];else{if(_0x3c323a[0x0]['language']==_0x43d189(0x12d))var _0x3d49fb=users[_0x43d189(0x11c)];}}}}}}}_0x2b71e8['render'](_0x43d189(0xfc),{'success':_0x161ede[_0x43d189(0x13d)](_0x43d189(0x112)),'errors':_0x161ede[_0x43d189(0x13d)](_0x43d189(0x115)),'role':_0x36b526,'profile':_0x3ecd08,'master_shop':_0x3c323a,'supervisor_data':_0x5524ee[0x0],'timezones':timezones,'language':_0x3d49fb});}catch(_0x52ff50){console[_0x43d189(0xfb)](_0x52ff50);}}),router['post'](a0_0x56c387(0x123),auth,async(_0x1514cf,_0x386462)=>{const _0x5bfa90=a0_0x56c387;try{const {rm_name:_0x3bac55,fg_name:_0x4bd13e,rm_email:_0x1c376d,fg_email:_0x4803c7,rm_mobilenum:_0x1d7f18,fg_number:_0x4a5bdc}=_0x1514cf[_0x5bfa90(0x102)],_0x5afcaf=await supervisor_settings[_0x5bfa90(0xf4)]();if(_0x5afcaf==null){const _0x5213c3=new supervisor_settings({'RMSName':_0x3bac55,'RMSEmail':_0x1c376d,'RMSnumber':_0x1d7f18,'FGSName':_0x4bd13e,'FGSEmail':_0x4803c7,'FGSnumber':_0x4a5bdc});await _0x5213c3[_0x5bfa90(0x10c)]();}else _0x5afcaf[_0x5bfa90(0x13a)]=_0x3bac55,_0x5afcaf[_0x5bfa90(0x10a)]=_0x1c376d,_0x5afcaf['RMSnumber']=_0x1d7f18,_0x5afcaf[_0x5bfa90(0x11e)]=_0x4bd13e,_0x5afcaf[_0x5bfa90(0xfa)]=_0x4803c7,_0x5afcaf[_0x5bfa90(0x118)]=_0x4a5bdc,await _0x5afcaf[_0x5bfa90(0x10c)]();_0x1514cf['flash'](_0x5bfa90(0x112),_0x5bfa90(0x127)),_0x386462[_0x5bfa90(0x10d)](_0x5bfa90(0x130));}catch(_0x173ab6){console[_0x5bfa90(0xfb)](_0x173ab6);}}),module[a0_0x56c387(0x13b)]=router;