const a0_0x118427=a0_0xd557;(function(_0x28ca45,_0x971567){const _0x7a98d1=a0_0xd557,_0x182ad6=_0x28ca45();while(!![]){try{const _0x6efb60=parseInt(_0x7a98d1(0x1dd))/0x1*(parseInt(_0x7a98d1(0x226))/0x2)+-parseInt(_0x7a98d1(0x20e))/0x3+parseInt(_0x7a98d1(0x228))/0x4*(parseInt(_0x7a98d1(0x221))/0x5)+parseInt(_0x7a98d1(0x229))/0x6*(-parseInt(_0x7a98d1(0x1de))/0x7)+parseInt(_0x7a98d1(0x201))/0x8*(parseInt(_0x7a98d1(0x223))/0x9)+parseInt(_0x7a98d1(0x20d))/0xa*(parseInt(_0x7a98d1(0x1eb))/0xb)+parseInt(_0x7a98d1(0x1ff))/0xc*(-parseInt(_0x7a98d1(0x1f8))/0xd);if(_0x6efb60===_0x971567)break;else _0x182ad6['push'](_0x182ad6['shift']());}catch(_0x7ee329){_0x182ad6['push'](_0x182ad6['shift']());}}}(a0_0x38de,0x3241a));function a0_0x38de(){const _0x8834ba=['file','site_title','shop\x20setting\x20edit\x20successfully','Portuguese','Chinese','RMSEmail','en-US','hidden','image','33860rucOOr','96267AicxGZ','timezones-list','language','save','FGSnumber','French','currency','master\x20settings\x20email_data','success','originalname','post','port','Portuguese\x20(BR)','email','/view/supervisors','/view/email','/view/email/edit_settings','Arabic','../models/all_models','684845SIbcRN','multer','1899oipHyl','params','German','11414RSYPXj','RMSnumber','8PrgSGX','43482wqfWjr','exports','currency_placement','8rirsLP','336FlSqRn','2nd\x20master_shop_data','Spanish','/view/edit_settings','find','RMSName','log','/master_shop/view','master','diskStorage','errors','/:id','flash','396QlJgbc','timezone','render','/master_shop/view/email','Arabic\x20(ae)','get','/view','host','filename','master_settings','redirect','findOne','English\x20(US)','1416883pvOoEg','password','user','now','body','English','Hindi','24TXiZvO','./public/upload','13736mcPRzx','master_shop_data','toLocaleString'];a0_0x38de=function(){return _0x8834ba;};return a0_0x38de();}const express=require('express'),app=express(),router=express['Router'](),multer=require(a0_0x118427(0x222)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x118427(0x220)),auth=require('../middleware/auth');var timezones=require(a0_0x118427(0x20f));const users=require('../public/language/languages.json'),storage=multer[a0_0x118427(0x1e7)]({'destination':(_0x4e2f00,_0x11c2be,_0x32996d)=>{const _0x3b2d8d=a0_0x118427;_0x32996d(null,_0x3b2d8d(0x200));},'filename':(_0x32a304,_0x122ecd,_0x5c668e)=>{const _0xde35b3=a0_0x118427;_0x5c668e(null,Date[_0xde35b3(0x1fb)]()+_0x122ecd[_0xde35b3(0x217)]);}}),upload=multer({'storage':storage});function a0_0xd557(_0x3f0b1e,_0x47a027){const _0x38de7f=a0_0x38de();return a0_0xd557=function(_0xd55788,_0x4e33db){_0xd55788=_0xd55788-0x1dd;let _0x149e54=_0x38de7f[_0xd55788];return _0x149e54;},a0_0xd557(_0x3f0b1e,_0x47a027);}router['get'](a0_0x118427(0x1f1),auth,async(_0x23f740,_0xdc2466)=>{const _0x1d2113=a0_0x118427;try{const {username:_0x23bda5,email:_0x24f192,role:_0x4e4506}=_0x23f740[_0x1d2113(0x1fa)],_0x320f07=_0x23f740[_0x1d2113(0x1fa)],_0x49b07b=await profile[_0x1d2113(0x1f6)]({'email':_0x320f07[_0x1d2113(0x21b)]}),_0x788976=await master_shop[_0x1d2113(0x1e2)]();console[_0x1d2113(0x1e4)](_0x1d2113(0x1e6),_0x788976);const _0xbce365=new Date()[_0x1d2113(0x203)](_0x1d2113(0x20a),{'timeZone':_0x788976[0x0][_0x1d2113(0x1ec)]});console[_0x1d2113(0x1e4)](_0x1d2113(0x1ec),_0xbce365);if(_0x788976[0x0][_0x1d2113(0x210)]==_0x1d2113(0x1f7)){var _0x339f85=users['English'];console[_0x1d2113(0x1e4)](_0x339f85);}else{if(_0x788976[0x0][_0x1d2113(0x210)]==_0x1d2113(0x1fe))var _0x339f85=users['Hindi'];else{if(_0x788976[0x0][_0x1d2113(0x210)]==_0x1d2113(0x225))var _0x339f85=users[_0x1d2113(0x225)];else{if(_0x788976[0x0][_0x1d2113(0x210)]==_0x1d2113(0x1e0))var _0x339f85=users[_0x1d2113(0x1e0)];else{if(_0x788976[0x0][_0x1d2113(0x210)]==_0x1d2113(0x213))var _0x339f85=users[_0x1d2113(0x213)];else{if(_0x788976[0x0][_0x1d2113(0x210)]==_0x1d2113(0x21a))var _0x339f85=users['Portuguese'];else{if(_0x788976[0x0][_0x1d2113(0x210)]==_0x1d2113(0x208))var _0x339f85=users[_0x1d2113(0x208)];else{if(_0x788976[0x0][_0x1d2113(0x210)]==_0x1d2113(0x1ef))var _0x339f85=users[_0x1d2113(0x21f)];}}}}}}}_0xdc2466[_0x1d2113(0x1ed)](_0x1d2113(0x1f4),{'success':_0x23f740[_0x1d2113(0x1ea)](_0x1d2113(0x216)),'errors':_0x23f740[_0x1d2113(0x1ea)](_0x1d2113(0x1e8)),'role':_0x320f07,'profile':_0x49b07b,'master_shop':_0x788976,'timezones':timezones,'language':_0x339f85});}catch(_0x428923){console['log'](_0x428923);}}),router[a0_0x118427(0x1f0)](a0_0x118427(0x1e9),auth,async(_0x58833b,_0x29560b)=>{const _0x16c54b=a0_0x118427;try{console['log']('language'),console[_0x16c54b(0x1e4)](_0x58833b['params']['id']);const _0x2af707=await master_shop[_0x16c54b(0x1f6)]();_0x2af707[_0x16c54b(0x210)]=_0x58833b[_0x16c54b(0x224)]['id'],await _0x2af707['save'](),console[_0x16c54b(0x1e4)](_0x16c54b(0x1e6),_0x2af707);}catch(_0x2e9b43){console[_0x16c54b(0x1e4)](_0x2e9b43);}}),router[a0_0x118427(0x218)](a0_0x118427(0x1e1),auth,upload['single']('image'),async(_0xfe8fb9,_0x33f822)=>{const _0x3c37a8=a0_0x118427;try{const {site_title:_0x2d164c,currency:_0x91a31a,currency_placement:_0x145ecf,timezone:_0xa82210}=_0xfe8fb9[_0x3c37a8(0x1fc)];if(_0xfe8fb9[_0x3c37a8(0x1fc)][_0x3c37a8(0x20b)]==0x0){const _0x2da6be=await master_shop[_0x3c37a8(0x1f6)]();console['log'](_0x3c37a8(0x202),_0x2da6be);if(_0x2da6be==''){const _0x551fed=new master_shop({'site_title':_0x2d164c,'image':image,'currency':_0x91a31a,'currency_placement':_0x145ecf,'timezone':_0xa82210}),_0x585820=await _0x551fed['save']();}else _0x2da6be['site_title']=_0x2d164c,_0x2da6be[_0x3c37a8(0x214)]=_0x91a31a,_0x2da6be[_0x3c37a8(0x22b)]=_0x145ecf,_0x2da6be[_0x3c37a8(0x1ec)]=_0xa82210,await _0x2da6be[_0x3c37a8(0x211)]();}else{const _0x34aca6=_0xfe8fb9[_0x3c37a8(0x204)][_0x3c37a8(0x1f3)],_0x5b5ee4=await master_shop[_0x3c37a8(0x1f6)]();console[_0x3c37a8(0x1e4)](_0x3c37a8(0x1df),_0x5b5ee4);if(_0x5b5ee4==null){console[_0x3c37a8(0x1e4)]('1',_0x2d164c);const _0x2214b4=new master_shop({'site_title':_0x2d164c,'image':_0x34aca6,'currency':_0x91a31a,'currency_placement':_0x145ecf,'timezone':_0xa82210}),_0x3fac76=await _0x2214b4['save']();}else console[_0x3c37a8(0x1e4)]('2',_0x2d164c),_0x5b5ee4[_0x3c37a8(0x205)]=_0x2d164c,_0x5b5ee4[_0x3c37a8(0x20c)]=_0x34aca6,_0x5b5ee4['currency']=_0x91a31a,_0x5b5ee4[_0x3c37a8(0x22b)]=_0x145ecf,_0x5b5ee4[_0x3c37a8(0x1ec)]=_0xa82210,await _0x5b5ee4[_0x3c37a8(0x211)]();}_0xfe8fb9[_0x3c37a8(0x1ea)]('success',_0x3c37a8(0x206)),_0x33f822[_0x3c37a8(0x1f5)](_0x3c37a8(0x1e5));}catch(_0x25d884){console[_0x3c37a8(0x1e4)](_0x25d884);}}),router[a0_0x118427(0x1f0)](a0_0x118427(0x21d),auth,async(_0x234afe,_0x470ae6)=>{const _0x5e414f=a0_0x118427;try{const {username:_0x27fa1d,email:_0x5c8242,role:_0x50545c}=_0x234afe['user'],_0x54be32=_0x234afe[_0x5e414f(0x1fa)],_0x48d89b=await profile[_0x5e414f(0x1f6)]({'email':_0x54be32[_0x5e414f(0x21b)]}),_0x5ec00b=await master_shop['find']();console[_0x5e414f(0x1e4)]('master',_0x5ec00b);const _0x2550ee=await email_settings['findOne']();console[_0x5e414f(0x1e4)](_0x5e414f(0x215),_0x2550ee);if(_0x5ec00b[0x0][_0x5e414f(0x210)]==_0x5e414f(0x1f7)){var _0x59a3e9=users[_0x5e414f(0x1fd)];console[_0x5e414f(0x1e4)](_0x59a3e9);}else{if(_0x5ec00b[0x0][_0x5e414f(0x210)]=='Hindi')var _0x59a3e9=users[_0x5e414f(0x1fe)];else{if(_0x5ec00b[0x0][_0x5e414f(0x210)]=='German')var _0x59a3e9=users['German'];else{if(_0x5ec00b[0x0]['language']==_0x5e414f(0x1e0))var _0x59a3e9=users[_0x5e414f(0x1e0)];else{if(_0x5ec00b[0x0][_0x5e414f(0x210)]==_0x5e414f(0x213))var _0x59a3e9=users[_0x5e414f(0x213)];else{if(_0x5ec00b[0x0][_0x5e414f(0x210)]==_0x5e414f(0x21a))var _0x59a3e9=users[_0x5e414f(0x207)];else{if(_0x5ec00b[0x0][_0x5e414f(0x210)]=='Chinese')var _0x59a3e9=users[_0x5e414f(0x208)];else{if(_0x5ec00b[0x0][_0x5e414f(0x210)]==_0x5e414f(0x1ef))var _0x59a3e9=users[_0x5e414f(0x21f)];}}}}}}}_0x470ae6[_0x5e414f(0x1ed)]('email_settings',{'success':_0x234afe['flash'](_0x5e414f(0x216)),'errors':_0x234afe[_0x5e414f(0x1ea)](_0x5e414f(0x1e8)),'role':_0x54be32,'profile':_0x48d89b,'master_shop':_0x5ec00b,'email':_0x2550ee,'language':_0x59a3e9});}catch(_0xf59cfe){console['log'](_0xf59cfe);}}),router[a0_0x118427(0x218)](a0_0x118427(0x21e),auth,async(_0xced0c6,_0x5216e7)=>{const _0x326580=a0_0x118427;try{const {host:_0x1acc2f,port:_0x1afc35,email:_0x3d8d03,password:_0x56a1c0}=_0xced0c6[_0x326580(0x1fc)],_0x3f3efa=await email_settings['findOne']();if(_0x3f3efa==null){const _0x4596c9=new email_settings({'host':_0x1acc2f,'port':_0x1afc35,'email':_0x3d8d03,'password':_0x56a1c0});await _0x4596c9[_0x326580(0x211)]();}else _0x3f3efa[_0x326580(0x1f2)]=_0x1acc2f,_0x3f3efa[_0x326580(0x219)]=_0x1afc35,_0x3f3efa['email']=_0x3d8d03,_0x3f3efa[_0x326580(0x1f9)]=_0x56a1c0,await _0x3f3efa[_0x326580(0x211)]();_0xced0c6[_0x326580(0x1ea)](_0x326580(0x216),_0x326580(0x206)),_0x5216e7[_0x326580(0x1f5)](_0x326580(0x1ee));}catch(_0x4a2d97){console[_0x326580(0x1e4)](_0x4a2d97);}}),router[a0_0x118427(0x1f0)](a0_0x118427(0x21c),auth,async(_0x3718df,_0x159f8f)=>{const _0x521efa=a0_0x118427;try{const {username:_0x56dc47,email:_0x570dc1,role:_0x423cf7}=_0x3718df[_0x521efa(0x1fa)],_0x2aec52=_0x3718df[_0x521efa(0x1fa)],_0x3ec2f6=await supervisor_settings['find'](),_0xf90576=await profile[_0x521efa(0x1f6)]({'email':_0x2aec52['email']}),_0x551045=await master_shop[_0x521efa(0x1e2)](),_0x2343f6=new Date()['toLocaleString'](_0x521efa(0x20a),{'timeZone':_0x551045[0x0][_0x521efa(0x1ec)]});if(_0x551045[0x0][_0x521efa(0x210)]==_0x521efa(0x1f7)){var _0x3eeac1=users[_0x521efa(0x1fd)];console[_0x521efa(0x1e4)](_0x3eeac1);}else{if(_0x551045[0x0][_0x521efa(0x210)]==_0x521efa(0x1fe))var _0x3eeac1=users[_0x521efa(0x1fe)];else{if(_0x551045[0x0][_0x521efa(0x210)]==_0x521efa(0x225))var _0x3eeac1=users['German'];else{if(_0x551045[0x0]['language']==_0x521efa(0x1e0))var _0x3eeac1=users['Spanish'];else{if(_0x551045[0x0][_0x521efa(0x210)]==_0x521efa(0x213))var _0x3eeac1=users[_0x521efa(0x213)];else{if(_0x551045[0x0][_0x521efa(0x210)]==_0x521efa(0x21a))var _0x3eeac1=users['Portuguese'];else{if(_0x551045[0x0][_0x521efa(0x210)]==_0x521efa(0x208))var _0x3eeac1=users[_0x521efa(0x208)];else{if(_0x551045[0x0][_0x521efa(0x210)]==_0x521efa(0x1ef))var _0x3eeac1=users[_0x521efa(0x21f)];}}}}}}}_0x159f8f['render']('supervisor_settings',{'success':_0x3718df[_0x521efa(0x1ea)](_0x521efa(0x216)),'errors':_0x3718df[_0x521efa(0x1ea)](_0x521efa(0x1e8)),'role':_0x2aec52,'profile':_0xf90576,'master_shop':_0x551045,'supervisor_data':_0x3ec2f6[0x0],'timezones':timezones,'language':_0x3eeac1});}catch(_0xd98912){console[_0x521efa(0x1e4)](_0xd98912);}}),router['post'](a0_0x118427(0x21c),auth,async(_0x1e4588,_0x49db98)=>{const _0x552517=a0_0x118427;try{const {rm_name:_0x509552,fg_name:_0x3dd49e,rm_email:_0x58cbb,fg_email:_0x314788,rm_mobilenum:_0x1f3527,fg_number:_0x2c5488}=_0x1e4588['body'],_0x18dd08=await supervisor_settings[_0x552517(0x1f6)]();if(_0x18dd08==null){const _0x52bf5b=new supervisor_settings({'RMSName':_0x509552,'RMSEmail':_0x58cbb,'RMSnumber':_0x1f3527,'FGSName':_0x3dd49e,'FGSEmail':_0x314788,'FGSnumber':_0x2c5488});await _0x52bf5b[_0x552517(0x211)]();}else _0x18dd08[_0x552517(0x1e3)]=_0x509552,_0x18dd08[_0x552517(0x209)]=_0x58cbb,_0x18dd08[_0x552517(0x227)]=_0x1f3527,_0x18dd08['FGSName']=_0x3dd49e,_0x18dd08['FGSEmail']=_0x314788,_0x18dd08[_0x552517(0x212)]=_0x2c5488,await _0x18dd08[_0x552517(0x211)]();_0x1e4588[_0x552517(0x1ea)]('success',_0x552517(0x206)),_0x49db98[_0x552517(0x1f5)]('/master_shop/view/supervisors');}catch(_0x36245f){console['log'](_0x36245f);}}),module[a0_0x118427(0x22a)]=router;