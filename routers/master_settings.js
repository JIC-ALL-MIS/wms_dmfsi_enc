const a0_0x44c5db=a0_0x45cd;function a0_0x2742(){const _0x1b8c12=['French','file','RMSName','hidden','redirect','password','now','post','Portuguese','3RYtPlW','RMSEmail','3425454tvCzZb','master_shop_data','shop\x20setting\x20edit\x20successfully','/view/supervisors','11yQuIhG','email','Chinese','exports','16062cUnoUT','English','toLocaleString','4865014fWjSwC','/view/email/edit_settings','success','user','master\x20settings\x20email_data','908668ZCdUGD','../public/language/languages.json','/view/edit_settings','errors','params','Hindi','site_title','host','render','master_settings','currency','2fvNdJT','findOne','master','filename','FGSEmail','timezone','save','find','English\x20(US)','1245otgmer','./public/upload','Arabic','Spanish','timezones-list','Arabic\x20(ae)','13362010ZXAFev','/:id','/view','currency_placement','Portuguese\x20(BR)','/master_shop/view','language','5136176LNAVqv','body','2nd\x20master_shop_data','FGSnumber','port','log','multer','en-US','flash','../middleware/auth','diskStorage','406261NFnIMX','German','supervisor_settings'];a0_0x2742=function(){return _0x1b8c12;};return a0_0x2742();}(function(_0x5463f5,_0x448d03){const _0x4eb1c9=a0_0x45cd,_0x4041bd=_0x5463f5();while(!![]){try{const _0x433df7=-parseInt(_0x4eb1c9(0x1ac))/0x1*(-parseInt(_0x4eb1c9(0x18b))/0x2)+-parseInt(_0x4eb1c9(0x1b8))/0x3*(-parseInt(_0x4eb1c9(0x180))/0x4)+-parseInt(_0x4eb1c9(0x194))/0x5*(parseInt(_0x4eb1c9(0x178))/0x6)+parseInt(_0x4eb1c9(0x17b))/0x7+parseInt(_0x4eb1c9(0x1a1))/0x8+parseInt(_0x4eb1c9(0x1ba))/0x9+parseInt(_0x4eb1c9(0x19a))/0xa*(-parseInt(_0x4eb1c9(0x1be))/0xb);if(_0x433df7===_0x448d03)break;else _0x4041bd['push'](_0x4041bd['shift']());}catch(_0x77bb41){_0x4041bd['push'](_0x4041bd['shift']());}}}(a0_0x2742,0x5507c));const express=require('express'),app=express(),router=express['Router'](),multer=require(a0_0x44c5db(0x1a7)),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require(a0_0x44c5db(0x1aa));var timezones=require(a0_0x44c5db(0x198));function a0_0x45cd(_0x21c40e,_0x2c8137){const _0x274246=a0_0x2742();return a0_0x45cd=function(_0x45cdc6,_0x4c0470){_0x45cdc6=_0x45cdc6-0x176;let _0x5a9b9b=_0x274246[_0x45cdc6];return _0x5a9b9b;},a0_0x45cd(_0x21c40e,_0x2c8137);}const users=require(a0_0x44c5db(0x181)),storage=multer[a0_0x44c5db(0x1ab)]({'destination':(_0x3921e7,_0x28d723,_0x4f6539)=>{const _0x467052=a0_0x44c5db;_0x4f6539(null,_0x467052(0x195));},'filename':(_0x27b0df,_0x4cf354,_0x34d3e9)=>{const _0x5d8bf0=a0_0x44c5db;_0x34d3e9(null,Date[_0x5d8bf0(0x1b5)]()+_0x4cf354['originalname']);}}),upload=multer({'storage':storage});router['get'](a0_0x44c5db(0x19c),auth,async(_0x285270,_0x39d0c8)=>{const _0xfd033a=a0_0x44c5db;try{const {username:_0x291728,email:_0x372b59,role:_0x43fae7}=_0x285270[_0xfd033a(0x17e)],_0x35f4e1=_0x285270[_0xfd033a(0x17e)],_0x5ce52c=await profile['findOne']({'email':_0x35f4e1[_0xfd033a(0x1bf)]}),_0x5d357e=await master_shop[_0xfd033a(0x192)]();console[_0xfd033a(0x1a6)](_0xfd033a(0x18d),_0x5d357e);const _0x5d6068=new Date()[_0xfd033a(0x17a)](_0xfd033a(0x1a8),{'timeZone':_0x5d357e[0x0][_0xfd033a(0x190)]});console[_0xfd033a(0x1a6)]('timezone',_0x5d6068);if(_0x5d357e[0x0][_0xfd033a(0x1a0)]==_0xfd033a(0x193)){var _0x1b1b4e=users[_0xfd033a(0x179)];console['log'](_0x1b1b4e);}else{if(_0x5d357e[0x0]['language']=='Hindi')var _0x1b1b4e=users[_0xfd033a(0x185)];else{if(_0x5d357e[0x0][_0xfd033a(0x1a0)]=='German')var _0x1b1b4e=users[_0xfd033a(0x1ad)];else{if(_0x5d357e[0x0]['language']==_0xfd033a(0x197))var _0x1b1b4e=users[_0xfd033a(0x197)];else{if(_0x5d357e[0x0][_0xfd033a(0x1a0)]==_0xfd033a(0x1af))var _0x1b1b4e=users[_0xfd033a(0x1af)];else{if(_0x5d357e[0x0][_0xfd033a(0x1a0)]==_0xfd033a(0x19e))var _0x1b1b4e=users['Portuguese'];else{if(_0x5d357e[0x0][_0xfd033a(0x1a0)]==_0xfd033a(0x176))var _0x1b1b4e=users['Chinese'];else{if(_0x5d357e[0x0][_0xfd033a(0x1a0)]==_0xfd033a(0x199))var _0x1b1b4e=users['Arabic'];}}}}}}}_0x39d0c8[_0xfd033a(0x188)](_0xfd033a(0x189),{'success':_0x285270['flash'](_0xfd033a(0x17d)),'errors':_0x285270[_0xfd033a(0x1a9)](_0xfd033a(0x183)),'role':_0x35f4e1,'profile':_0x5ce52c,'master_shop':_0x5d357e,'timezones':timezones,'language':_0x1b1b4e});}catch(_0x27eb8a){console['log'](_0x27eb8a);}}),router['get'](a0_0x44c5db(0x19b),auth,async(_0x38a5b5,_0x9266da)=>{const _0x2d0302=a0_0x44c5db;try{console[_0x2d0302(0x1a6)](_0x2d0302(0x1a0)),console[_0x2d0302(0x1a6)](_0x38a5b5[_0x2d0302(0x184)]['id']);const _0xe841ff=await master_shop['findOne']();_0xe841ff[_0x2d0302(0x1a0)]=_0x38a5b5[_0x2d0302(0x184)]['id'],await _0xe841ff[_0x2d0302(0x191)](),console[_0x2d0302(0x1a6)](_0x2d0302(0x18d),_0xe841ff);}catch(_0x32cb9d){console[_0x2d0302(0x1a6)](_0x32cb9d);}}),router[a0_0x44c5db(0x1b6)](a0_0x44c5db(0x182),auth,upload['single']('image'),async(_0x58683b,_0x382a96)=>{const _0x1bdd66=a0_0x44c5db;try{const {site_title:_0x48eb07,currency:_0x5a5b22,currency_placement:_0x103b99,timezone:_0xe4f78}=_0x58683b[_0x1bdd66(0x1a2)];if(_0x58683b[_0x1bdd66(0x1a2)][_0x1bdd66(0x1b2)]==0x0){const _0x31dd5e=await master_shop[_0x1bdd66(0x18c)]();console[_0x1bdd66(0x1a6)](_0x1bdd66(0x1bb),_0x31dd5e);if(_0x31dd5e==''){const _0x38c3c5=new master_shop({'site_title':_0x48eb07,'image':image,'currency':_0x5a5b22,'currency_placement':_0x103b99,'timezone':_0xe4f78}),_0xba32a8=await _0x38c3c5[_0x1bdd66(0x191)]();}else _0x31dd5e[_0x1bdd66(0x186)]=_0x48eb07,_0x31dd5e['currency']=_0x5a5b22,_0x31dd5e[_0x1bdd66(0x19d)]=_0x103b99,_0x31dd5e[_0x1bdd66(0x190)]=_0xe4f78,await _0x31dd5e[_0x1bdd66(0x191)]();}else{const _0x5a0ab7=_0x58683b[_0x1bdd66(0x1b0)][_0x1bdd66(0x18e)],_0x4d6e69=await master_shop[_0x1bdd66(0x18c)]();console[_0x1bdd66(0x1a6)](_0x1bdd66(0x1a3),_0x4d6e69);if(_0x4d6e69==null){console['log']('1',_0x48eb07);const _0x56d697=new master_shop({'site_title':_0x48eb07,'image':_0x5a0ab7,'currency':_0x5a5b22,'currency_placement':_0x103b99,'timezone':_0xe4f78}),_0x2c1e14=await _0x56d697[_0x1bdd66(0x191)]();}else console[_0x1bdd66(0x1a6)]('2',_0x48eb07),_0x4d6e69[_0x1bdd66(0x186)]=_0x48eb07,_0x4d6e69['image']=_0x5a0ab7,_0x4d6e69[_0x1bdd66(0x18a)]=_0x5a5b22,_0x4d6e69[_0x1bdd66(0x19d)]=_0x103b99,_0x4d6e69[_0x1bdd66(0x190)]=_0xe4f78,await _0x4d6e69[_0x1bdd66(0x191)]();}_0x58683b['flash'](_0x1bdd66(0x17d),_0x1bdd66(0x1bc)),_0x382a96[_0x1bdd66(0x1b3)](_0x1bdd66(0x19f));}catch(_0xe550a0){console['log'](_0xe550a0);}}),router['get']('/view/email',auth,async(_0x49c283,_0x5be727)=>{const _0xc7ee78=a0_0x44c5db;try{const {username:_0x23a53c,email:_0x49cb9d,role:_0x2cd081}=_0x49c283[_0xc7ee78(0x17e)],_0x2568e5=_0x49c283[_0xc7ee78(0x17e)],_0x42195e=await profile[_0xc7ee78(0x18c)]({'email':_0x2568e5[_0xc7ee78(0x1bf)]}),_0xc1f67c=await master_shop[_0xc7ee78(0x192)]();console[_0xc7ee78(0x1a6)](_0xc7ee78(0x18d),_0xc1f67c);const _0x18ef48=await email_settings[_0xc7ee78(0x18c)]();console[_0xc7ee78(0x1a6)](_0xc7ee78(0x17f),_0x18ef48);if(_0xc1f67c[0x0][_0xc7ee78(0x1a0)]==_0xc7ee78(0x193)){var _0x118106=users[_0xc7ee78(0x179)];console[_0xc7ee78(0x1a6)](_0x118106);}else{if(_0xc1f67c[0x0][_0xc7ee78(0x1a0)]==_0xc7ee78(0x185))var _0x118106=users[_0xc7ee78(0x185)];else{if(_0xc1f67c[0x0][_0xc7ee78(0x1a0)]=='German')var _0x118106=users[_0xc7ee78(0x1ad)];else{if(_0xc1f67c[0x0][_0xc7ee78(0x1a0)]==_0xc7ee78(0x197))var _0x118106=users[_0xc7ee78(0x197)];else{if(_0xc1f67c[0x0][_0xc7ee78(0x1a0)]=='French')var _0x118106=users['French'];else{if(_0xc1f67c[0x0][_0xc7ee78(0x1a0)]=='Portuguese\x20(BR)')var _0x118106=users['Portuguese'];else{if(_0xc1f67c[0x0][_0xc7ee78(0x1a0)]==_0xc7ee78(0x176))var _0x118106=users['Chinese'];else{if(_0xc1f67c[0x0][_0xc7ee78(0x1a0)]==_0xc7ee78(0x199))var _0x118106=users[_0xc7ee78(0x196)];}}}}}}}_0x5be727['render']('email_settings',{'success':_0x49c283[_0xc7ee78(0x1a9)](_0xc7ee78(0x17d)),'errors':_0x49c283[_0xc7ee78(0x1a9)]('errors'),'role':_0x2568e5,'profile':_0x42195e,'master_shop':_0xc1f67c,'email':_0x18ef48,'language':_0x118106});}catch(_0x287a6b){console[_0xc7ee78(0x1a6)](_0x287a6b);}}),router['post'](a0_0x44c5db(0x17c),auth,async(_0x5f37ed,_0x16110b)=>{const _0x5de7f7=a0_0x44c5db;try{const {host:_0x4d14e6,port:_0x5c16b9,email:_0x4df247,password:_0x542b25}=_0x5f37ed[_0x5de7f7(0x1a2)],_0x4c712c=await email_settings['findOne']();if(_0x4c712c==null){const _0x1c747f=new email_settings({'host':_0x4d14e6,'port':_0x5c16b9,'email':_0x4df247,'password':_0x542b25});await _0x1c747f[_0x5de7f7(0x191)]();}else _0x4c712c[_0x5de7f7(0x187)]=_0x4d14e6,_0x4c712c[_0x5de7f7(0x1a5)]=_0x5c16b9,_0x4c712c[_0x5de7f7(0x1bf)]=_0x4df247,_0x4c712c[_0x5de7f7(0x1b4)]=_0x542b25,await _0x4c712c[_0x5de7f7(0x191)]();_0x5f37ed[_0x5de7f7(0x1a9)]('success',_0x5de7f7(0x1bc)),_0x16110b[_0x5de7f7(0x1b3)]('/master_shop/view/email');}catch(_0x4f5989){console[_0x5de7f7(0x1a6)](_0x4f5989);}}),router['get']('/view/supervisors',auth,async(_0x574197,_0x9cb6a5)=>{const _0x983549=a0_0x44c5db;try{const {username:_0x119f76,email:_0x120ae5,role:_0x2e112c}=_0x574197[_0x983549(0x17e)],_0x153d37=_0x574197['user'],_0x596ffb=await supervisor_settings['find'](),_0x5cf522=await profile[_0x983549(0x18c)]({'email':_0x153d37[_0x983549(0x1bf)]}),_0xe20d6b=await master_shop[_0x983549(0x192)](),_0x2cf9ab=new Date()[_0x983549(0x17a)]('en-US',{'timeZone':_0xe20d6b[0x0][_0x983549(0x190)]});if(_0xe20d6b[0x0]['language']==_0x983549(0x193)){var _0x52f930=users[_0x983549(0x179)];console[_0x983549(0x1a6)](_0x52f930);}else{if(_0xe20d6b[0x0]['language']==_0x983549(0x185))var _0x52f930=users[_0x983549(0x185)];else{if(_0xe20d6b[0x0]['language']==_0x983549(0x1ad))var _0x52f930=users[_0x983549(0x1ad)];else{if(_0xe20d6b[0x0][_0x983549(0x1a0)]==_0x983549(0x197))var _0x52f930=users[_0x983549(0x197)];else{if(_0xe20d6b[0x0][_0x983549(0x1a0)]==_0x983549(0x1af))var _0x52f930=users['French'];else{if(_0xe20d6b[0x0][_0x983549(0x1a0)]==_0x983549(0x19e))var _0x52f930=users[_0x983549(0x1b7)];else{if(_0xe20d6b[0x0][_0x983549(0x1a0)]==_0x983549(0x176))var _0x52f930=users[_0x983549(0x176)];else{if(_0xe20d6b[0x0][_0x983549(0x1a0)]=='Arabic\x20(ae)')var _0x52f930=users[_0x983549(0x196)];}}}}}}}_0x9cb6a5['render'](_0x983549(0x1ae),{'success':_0x574197[_0x983549(0x1a9)](_0x983549(0x17d)),'errors':_0x574197[_0x983549(0x1a9)]('errors'),'role':_0x153d37,'profile':_0x5cf522,'master_shop':_0xe20d6b,'supervisor_data':_0x596ffb[0x0],'timezones':timezones,'language':_0x52f930});}catch(_0x329303){console[_0x983549(0x1a6)](_0x329303);}}),router['post'](a0_0x44c5db(0x1bd),auth,async(_0x4ff8bc,_0x5be3e3)=>{const _0x22c53d=a0_0x44c5db;try{const {rm_name:_0x205fb3,fg_name:_0x6ca887,rm_email:_0x11fd69,fg_email:_0x4de755,rm_mobilenum:_0x5b829c,fg_number:_0x58e87d}=_0x4ff8bc[_0x22c53d(0x1a2)],_0xadbe47=await supervisor_settings[_0x22c53d(0x18c)]();if(_0xadbe47==null){const _0x54760f=new supervisor_settings({'RMSName':_0x205fb3,'RMSEmail':_0x11fd69,'RMSnumber':_0x5b829c,'FGSName':_0x6ca887,'FGSEmail':_0x4de755,'FGSnumber':_0x58e87d});await _0x54760f[_0x22c53d(0x191)]();}else _0xadbe47[_0x22c53d(0x1b1)]=_0x205fb3,_0xadbe47[_0x22c53d(0x1b9)]=_0x11fd69,_0xadbe47['RMSnumber']=_0x5b829c,_0xadbe47['FGSName']=_0x6ca887,_0xadbe47[_0x22c53d(0x18f)]=_0x4de755,_0xadbe47[_0x22c53d(0x1a4)]=_0x58e87d,await _0xadbe47[_0x22c53d(0x191)]();_0x4ff8bc[_0x22c53d(0x1a9)](_0x22c53d(0x17d),'shop\x20setting\x20edit\x20successfully'),_0x5be3e3['redirect']('/master_shop/view/supervisors');}catch(_0x34a196){console[_0x22c53d(0x1a6)](_0x34a196);}}),module[a0_0x44c5db(0x177)]=router;