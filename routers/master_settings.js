const a0_0x2152ba=a0_0x53b8;function a0_0x53b8(_0x3f91c5,_0x43aab3){const _0x659a3b=a0_0x659a();return a0_0x53b8=function(_0x53b8bf,_0x29bf8a){_0x53b8bf=_0x53b8bf-0x18a;let _0x544b4b=_0x659a3b[_0x53b8bf];return _0x544b4b;},a0_0x53b8(_0x3f91c5,_0x43aab3);}(function(_0x52d42d,_0x34cc58){const _0x27f93d=a0_0x53b8,_0x50f9a0=_0x52d42d();while(!![]){try{const _0x218d31=-parseInt(_0x27f93d(0x1bb))/0x1+parseInt(_0x27f93d(0x1a5))/0x2+-parseInt(_0x27f93d(0x1b2))/0x3*(-parseInt(_0x27f93d(0x1b9))/0x4)+-parseInt(_0x27f93d(0x1a8))/0x5*(parseInt(_0x27f93d(0x198))/0x6)+-parseInt(_0x27f93d(0x1a9))/0x7+-parseInt(_0x27f93d(0x191))/0x8*(-parseInt(_0x27f93d(0x1b4))/0x9)+parseInt(_0x27f93d(0x1b1))/0xa*(parseInt(_0x27f93d(0x1c3))/0xb);if(_0x218d31===_0x34cc58)break;else _0x50f9a0['push'](_0x50f9a0['shift']());}catch(_0x377b3f){_0x50f9a0['push'](_0x50f9a0['shift']());}}}(a0_0x659a,0x50106));const express=require('express'),app=express(),router=express['Router'](),multer=require(a0_0x2152ba(0x18f)),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require('../middleware/auth');var timezones=require(a0_0x2152ba(0x1a4));const users=require(a0_0x2152ba(0x1af)),storage=multer['diskStorage']({'destination':(_0x1236d2,_0x50fa58,_0x38444a)=>{const _0x22d6c2=a0_0x2152ba;_0x38444a(null,_0x22d6c2(0x1d1));},'filename':(_0x11860b,_0x56ab3a,_0x4c8b17)=>{const _0x21e471=a0_0x2152ba;_0x4c8b17(null,Date['now']()+_0x56ab3a[_0x21e471(0x1a3)]);}}),upload=multer({'storage':storage});function a0_0x659a(){const _0x1426ea=['685196iixGBc','Arabic\x20(ae)','167973BMurCh','post','single','/view','currency_placement','currency','German','hidden','63107cvlCec','shop\x20setting\x20edit\x20successfully','master','Hindi','master_shop_data','body','language','find','FGSnumber','toLocaleString','site_title','redirect','/master_shop/view/email','/master_shop/view','./public/upload','RMSnumber','user','English','/master_shop/view/supervisors','en-US','multer','Portuguese','56WTObNJ','French','flash','/:id','RMSEmail','password','Arabic','6Wywnoz','errors','render','Portuguese\x20(BR)','/view/email','log','get','/view/supervisors','RMSName','host','image','originalname','timezones-list','456714TTmLLN','master_settings','params','1024440mrnMzs','3196487IYUPov','timezone','save','FGSName','filename','English\x20(US)','../public/language/languages.json','success','830TGmXso','3lMeLNJ','email_settings','362079oHkCfL','Chinese','Spanish','email','findOne'];a0_0x659a=function(){return _0x1426ea;};return a0_0x659a();}router[a0_0x2152ba(0x19e)](a0_0x2152ba(0x1be),auth,async(_0x2ef565,_0x4aff97)=>{const _0x8596aa=a0_0x2152ba;try{const {username:_0x5cf651,email:_0x3c3452,role:_0x2b9ad8}=_0x2ef565[_0x8596aa(0x18b)],_0x3e1e16=_0x2ef565[_0x8596aa(0x18b)],_0x35a1b4=await profile[_0x8596aa(0x1b8)]({'email':_0x3e1e16[_0x8596aa(0x1b7)]}),_0x46d05a=await master_shop['find']();console[_0x8596aa(0x19d)](_0x8596aa(0x1c5),_0x46d05a);const _0x25449e=new Date()['toLocaleString'](_0x8596aa(0x18e),{'timeZone':_0x46d05a[0x0][_0x8596aa(0x1aa)]});console['log'](_0x8596aa(0x1aa),_0x25449e);if(_0x46d05a[0x0]['language']==_0x8596aa(0x1ae)){var _0x2ec555=users[_0x8596aa(0x18c)];console[_0x8596aa(0x19d)](_0x2ec555);}else{if(_0x46d05a[0x0][_0x8596aa(0x1c9)]=='Hindi')var _0x2ec555=users[_0x8596aa(0x1c6)];else{if(_0x46d05a[0x0]['language']==_0x8596aa(0x1c1))var _0x2ec555=users[_0x8596aa(0x1c1)];else{if(_0x46d05a[0x0][_0x8596aa(0x1c9)]=='Spanish')var _0x2ec555=users[_0x8596aa(0x1b6)];else{if(_0x46d05a[0x0][_0x8596aa(0x1c9)]==_0x8596aa(0x192))var _0x2ec555=users[_0x8596aa(0x192)];else{if(_0x46d05a[0x0]['language']==_0x8596aa(0x19b))var _0x2ec555=users[_0x8596aa(0x190)];else{if(_0x46d05a[0x0][_0x8596aa(0x1c9)]==_0x8596aa(0x1b5))var _0x2ec555=users[_0x8596aa(0x1b5)];else{if(_0x46d05a[0x0][_0x8596aa(0x1c9)]=='Arabic\x20(ae)')var _0x2ec555=users[_0x8596aa(0x197)];}}}}}}}_0x4aff97[_0x8596aa(0x19a)](_0x8596aa(0x1a6),{'success':_0x2ef565[_0x8596aa(0x193)](_0x8596aa(0x1b0)),'errors':_0x2ef565[_0x8596aa(0x193)](_0x8596aa(0x199)),'role':_0x3e1e16,'profile':_0x35a1b4,'master_shop':_0x46d05a,'timezones':timezones,'language':_0x2ec555});}catch(_0x19db11){console[_0x8596aa(0x19d)](_0x19db11);}}),router['get'](a0_0x2152ba(0x194),auth,async(_0x3014ad,_0x1c5a50)=>{const _0x4f677e=a0_0x2152ba;try{console[_0x4f677e(0x19d)]('language'),console[_0x4f677e(0x19d)](_0x3014ad['params']['id']);const _0x5db8c1=await master_shop[_0x4f677e(0x1b8)]();_0x5db8c1[_0x4f677e(0x1c9)]=_0x3014ad[_0x4f677e(0x1a7)]['id'],await _0x5db8c1[_0x4f677e(0x1ab)](),console[_0x4f677e(0x19d)](_0x4f677e(0x1c5),_0x5db8c1);}catch(_0x33f0e3){console['log'](_0x33f0e3);}}),router[a0_0x2152ba(0x1bc)]('/view/edit_settings',auth,upload[a0_0x2152ba(0x1bd)](a0_0x2152ba(0x1a2)),async(_0x2adada,_0x3d50cc)=>{const _0x397cb8=a0_0x2152ba;try{const {site_title:_0x130f9f,currency:_0x3b5fec,currency_placement:_0x4906f9,timezone:_0x445317}=_0x2adada[_0x397cb8(0x1c8)];if(_0x2adada[_0x397cb8(0x1c8)][_0x397cb8(0x1c2)]==0x0){const _0x533127=await master_shop[_0x397cb8(0x1b8)]();console[_0x397cb8(0x19d)](_0x397cb8(0x1c7),_0x533127);if(_0x533127==''){const _0x350870=new master_shop({'site_title':_0x130f9f,'image':image,'currency':_0x3b5fec,'currency_placement':_0x4906f9,'timezone':_0x445317}),_0x587ef8=await _0x350870[_0x397cb8(0x1ab)]();}else _0x533127[_0x397cb8(0x1cd)]=_0x130f9f,_0x533127[_0x397cb8(0x1c0)]=_0x3b5fec,_0x533127[_0x397cb8(0x1bf)]=_0x4906f9,_0x533127[_0x397cb8(0x1aa)]=_0x445317,await _0x533127[_0x397cb8(0x1ab)]();}else{const _0x463c63=_0x2adada['file'][_0x397cb8(0x1ad)],_0x18ea91=await master_shop[_0x397cb8(0x1b8)]();console['log']('2nd\x20master_shop_data',_0x18ea91);if(_0x18ea91==null){console[_0x397cb8(0x19d)]('1',_0x130f9f);const _0xc458ab=new master_shop({'site_title':_0x130f9f,'image':_0x463c63,'currency':_0x3b5fec,'currency_placement':_0x4906f9,'timezone':_0x445317}),_0x5eeab2=await _0xc458ab[_0x397cb8(0x1ab)]();}else console[_0x397cb8(0x19d)]('2',_0x130f9f),_0x18ea91[_0x397cb8(0x1cd)]=_0x130f9f,_0x18ea91[_0x397cb8(0x1a2)]=_0x463c63,_0x18ea91[_0x397cb8(0x1c0)]=_0x3b5fec,_0x18ea91[_0x397cb8(0x1bf)]=_0x4906f9,_0x18ea91[_0x397cb8(0x1aa)]=_0x445317,await _0x18ea91[_0x397cb8(0x1ab)]();}_0x2adada[_0x397cb8(0x193)](_0x397cb8(0x1b0),'shop\x20setting\x20edit\x20successfully'),_0x3d50cc[_0x397cb8(0x1ce)](_0x397cb8(0x1d0));}catch(_0x32ec1d){console[_0x397cb8(0x19d)](_0x32ec1d);}}),router[a0_0x2152ba(0x19e)](a0_0x2152ba(0x19c),auth,async(_0x2f1e5d,_0x243b3b)=>{const _0x51acbe=a0_0x2152ba;try{const {username:_0x318951,email:_0x4b0677,role:_0x53e6b1}=_0x2f1e5d[_0x51acbe(0x18b)],_0x29caf3=_0x2f1e5d['user'],_0x22575d=await profile[_0x51acbe(0x1b8)]({'email':_0x29caf3[_0x51acbe(0x1b7)]}),_0xbb2615=await master_shop[_0x51acbe(0x1ca)]();console[_0x51acbe(0x19d)]('master',_0xbb2615);const _0x141a76=await email_settings[_0x51acbe(0x1b8)]();console[_0x51acbe(0x19d)]('master\x20settings\x20email_data',_0x141a76);if(_0xbb2615[0x0][_0x51acbe(0x1c9)]==_0x51acbe(0x1ae)){var _0x2d93f9=users['English'];console[_0x51acbe(0x19d)](_0x2d93f9);}else{if(_0xbb2615[0x0]['language']==_0x51acbe(0x1c6))var _0x2d93f9=users[_0x51acbe(0x1c6)];else{if(_0xbb2615[0x0][_0x51acbe(0x1c9)]==_0x51acbe(0x1c1))var _0x2d93f9=users[_0x51acbe(0x1c1)];else{if(_0xbb2615[0x0]['language']=='Spanish')var _0x2d93f9=users[_0x51acbe(0x1b6)];else{if(_0xbb2615[0x0][_0x51acbe(0x1c9)]==_0x51acbe(0x192))var _0x2d93f9=users[_0x51acbe(0x192)];else{if(_0xbb2615[0x0][_0x51acbe(0x1c9)]==_0x51acbe(0x19b))var _0x2d93f9=users[_0x51acbe(0x190)];else{if(_0xbb2615[0x0][_0x51acbe(0x1c9)]==_0x51acbe(0x1b5))var _0x2d93f9=users['Chinese'];else{if(_0xbb2615[0x0][_0x51acbe(0x1c9)]==_0x51acbe(0x1ba))var _0x2d93f9=users[_0x51acbe(0x197)];}}}}}}}_0x243b3b[_0x51acbe(0x19a)](_0x51acbe(0x1b3),{'success':_0x2f1e5d[_0x51acbe(0x193)]('success'),'errors':_0x2f1e5d[_0x51acbe(0x193)](_0x51acbe(0x199)),'role':_0x29caf3,'profile':_0x22575d,'master_shop':_0xbb2615,'email':_0x141a76,'language':_0x2d93f9});}catch(_0x256fd1){console['log'](_0x256fd1);}}),router['post']('/view/email/edit_settings',auth,async(_0x1bec9b,_0x15b056)=>{const _0x3224a2=a0_0x2152ba;try{const {host:_0x3b37bb,port:_0x17ae99,email:_0x59707c,password:_0x8aef7}=_0x1bec9b[_0x3224a2(0x1c8)],_0x259cbc=await email_settings[_0x3224a2(0x1b8)]();if(_0x259cbc==null){const _0x17ece1=new email_settings({'host':_0x3b37bb,'port':_0x17ae99,'email':_0x59707c,'password':_0x8aef7});await _0x17ece1['save']();}else _0x259cbc[_0x3224a2(0x1a1)]=_0x3b37bb,_0x259cbc['port']=_0x17ae99,_0x259cbc[_0x3224a2(0x1b7)]=_0x59707c,_0x259cbc[_0x3224a2(0x196)]=_0x8aef7,await _0x259cbc[_0x3224a2(0x1ab)]();_0x1bec9b[_0x3224a2(0x193)](_0x3224a2(0x1b0),'shop\x20setting\x20edit\x20successfully'),_0x15b056[_0x3224a2(0x1ce)](_0x3224a2(0x1cf));}catch(_0x1b3076){console[_0x3224a2(0x19d)](_0x1b3076);}}),router[a0_0x2152ba(0x19e)](a0_0x2152ba(0x19f),auth,async(_0xe5f2cb,_0x46f823)=>{const _0xc18729=a0_0x2152ba;try{const {username:_0x58796c,email:_0x1e6205,role:_0x456b6b}=_0xe5f2cb[_0xc18729(0x18b)],_0xfe0f29=_0xe5f2cb[_0xc18729(0x18b)],_0x5c5b40=await supervisor_settings[_0xc18729(0x1ca)](),_0x26b4b5=await profile['findOne']({'email':_0xfe0f29[_0xc18729(0x1b7)]}),_0x2bb986=await master_shop[_0xc18729(0x1ca)](),_0x16f7ac=new Date()[_0xc18729(0x1cc)](_0xc18729(0x18e),{'timeZone':_0x2bb986[0x0][_0xc18729(0x1aa)]});if(_0x2bb986[0x0]['language']=='English\x20(US)'){var _0xf9ef96=users[_0xc18729(0x18c)];console[_0xc18729(0x19d)](_0xf9ef96);}else{if(_0x2bb986[0x0][_0xc18729(0x1c9)]=='Hindi')var _0xf9ef96=users[_0xc18729(0x1c6)];else{if(_0x2bb986[0x0][_0xc18729(0x1c9)]==_0xc18729(0x1c1))var _0xf9ef96=users[_0xc18729(0x1c1)];else{if(_0x2bb986[0x0]['language']==_0xc18729(0x1b6))var _0xf9ef96=users[_0xc18729(0x1b6)];else{if(_0x2bb986[0x0][_0xc18729(0x1c9)]==_0xc18729(0x192))var _0xf9ef96=users[_0xc18729(0x192)];else{if(_0x2bb986[0x0][_0xc18729(0x1c9)]==_0xc18729(0x19b))var _0xf9ef96=users['Portuguese'];else{if(_0x2bb986[0x0][_0xc18729(0x1c9)]=='Chinese')var _0xf9ef96=users[_0xc18729(0x1b5)];else{if(_0x2bb986[0x0][_0xc18729(0x1c9)]==_0xc18729(0x1ba))var _0xf9ef96=users['Arabic'];}}}}}}}_0x46f823['render']('supervisor_settings',{'success':_0xe5f2cb[_0xc18729(0x193)](_0xc18729(0x1b0)),'errors':_0xe5f2cb['flash']('errors'),'role':_0xfe0f29,'profile':_0x26b4b5,'master_shop':_0x2bb986,'supervisor_data':_0x5c5b40[0x0],'timezones':timezones,'language':_0xf9ef96});}catch(_0x142348){console[_0xc18729(0x19d)](_0x142348);}}),router[a0_0x2152ba(0x1bc)](a0_0x2152ba(0x19f),auth,async(_0x277fde,_0x4bd1e5)=>{const _0x2b3da6=a0_0x2152ba;try{const {rm_name:_0x58e144,fg_name:_0xb08d0b,rm_email:_0x1c5b64,fg_email:_0x12a820,rm_mobilenum:_0x4ff890,fg_number:_0x497061}=_0x277fde[_0x2b3da6(0x1c8)],_0x2e7551=await supervisor_settings[_0x2b3da6(0x1b8)]();if(_0x2e7551==null){const _0x4bb779=new supervisor_settings({'RMSName':_0x58e144,'RMSEmail':_0x1c5b64,'RMSnumber':_0x4ff890,'FGSName':_0xb08d0b,'FGSEmail':_0x12a820,'FGSnumber':_0x497061});await _0x4bb779[_0x2b3da6(0x1ab)]();}else _0x2e7551[_0x2b3da6(0x1a0)]=_0x58e144,_0x2e7551[_0x2b3da6(0x195)]=_0x1c5b64,_0x2e7551[_0x2b3da6(0x18a)]=_0x4ff890,_0x2e7551[_0x2b3da6(0x1ac)]=_0xb08d0b,_0x2e7551['FGSEmail']=_0x12a820,_0x2e7551[_0x2b3da6(0x1cb)]=_0x497061,await _0x2e7551[_0x2b3da6(0x1ab)]();_0x277fde[_0x2b3da6(0x193)](_0x2b3da6(0x1b0),_0x2b3da6(0x1c4)),_0x4bd1e5[_0x2b3da6(0x1ce)](_0x2b3da6(0x18d));}catch(_0x267bb5){console[_0x2b3da6(0x19d)](_0x267bb5);}}),module['exports']=router;