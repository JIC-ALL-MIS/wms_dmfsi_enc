const a0_0xcde24e=a0_0x4569;(function(_0x4957d8,_0x2b0004){const _0x29b0d7=a0_0x4569,_0x148422=_0x4957d8();while(!![]){try{const _0x7b9481=-parseInt(_0x29b0d7(0x139))/0x1+parseInt(_0x29b0d7(0x15f))/0x2+-parseInt(_0x29b0d7(0x168))/0x3+-parseInt(_0x29b0d7(0x146))/0x4*(-parseInt(_0x29b0d7(0x14a))/0x5)+parseInt(_0x29b0d7(0x140))/0x6+-parseInt(_0x29b0d7(0x135))/0x7*(parseInt(_0x29b0d7(0x14b))/0x8)+parseInt(_0x29b0d7(0x133))/0x9*(parseInt(_0x29b0d7(0x148))/0xa);if(_0x7b9481===_0x2b0004)break;else _0x148422['push'](_0x148422['shift']());}catch(_0x141ff4){_0x148422['push'](_0x148422['shift']());}}}(a0_0x5a83,0xba906));const express=require('express'),app=express(),router=express[a0_0xcde24e(0x129)](),multer=require(a0_0xcde24e(0x126)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0xcde24e(0x138)),auth=require(a0_0xcde24e(0x142));function a0_0x5a83(){const _0xea9c3e=['site_title','master\x20settings\x20email_data','single','get','diskStorage','/master_shop/view/email','findOne','currency_placement','3744189dLAIhA','Hindi','English','now','user','multer','email','Arabic','Router','originalname','RMSName','port','Chinese','Portuguese\x20(BR)','master_settings','timezone','/view','master_shop_data','5283ZxzkAE','master','11018CcSEtD','params','body','../models/all_models','401480rhyYCy','filename','../public/language/languages.json','FGSEmail','language','toLocaleString','FGSnumber','201132gYWhgt','host','../middleware/auth','errors','success','shop\x20setting\x20edit\x20successfully','5225036pkbUld','flash','19870EKIOav','log','5aNjHwE','6824xMRtRx','find','Portuguese','render','French','password','supervisor_settings','en-US','/:id','redirect','image','Spanish','English\x20(US)','currency','/master_shop/view','post','German','Arabic\x20(ae)','save','/master_shop/view/supervisors','2500362psWKTZ'];a0_0x5a83=function(){return _0xea9c3e;};return a0_0x5a83();}var timezones=require('timezones-list');function a0_0x4569(_0x9aadb,_0x283ccb){const _0x5a83ee=a0_0x5a83();return a0_0x4569=function(_0x456945,_0x43f8dc){_0x456945=_0x456945-0x126;let _0xd76d38=_0x5a83ee[_0x456945];return _0xd76d38;},a0_0x4569(_0x9aadb,_0x283ccb);}const users=require(a0_0xcde24e(0x13b)),storage=multer[a0_0xcde24e(0x164)]({'destination':(_0x2e0806,_0x1a0e40,_0x2f4fe)=>{_0x2f4fe(null,'./public/upload');},'filename':(_0x5ec090,_0x31f342,_0x54c898)=>{const _0x5059db=a0_0xcde24e;_0x54c898(null,Date[_0x5059db(0x16b)]()+_0x31f342[_0x5059db(0x12a)]);}}),upload=multer({'storage':storage});router[a0_0xcde24e(0x163)](a0_0xcde24e(0x131),auth,async(_0x28e75a,_0x351f0e)=>{const _0x466400=a0_0xcde24e;try{const {username:_0x3657c0,email:_0xf33f44,role:_0x18f6a}=_0x28e75a[_0x466400(0x16c)],_0x2d5f26=_0x28e75a['user'],_0x4c6e33=await profile['findOne']({'email':_0x2d5f26['email']}),_0x421ae4=await master_shop[_0x466400(0x14c)]();console[_0x466400(0x149)](_0x466400(0x134),_0x421ae4);const _0x304eaa=new Date()[_0x466400(0x13e)](_0x466400(0x152),{'timeZone':_0x421ae4[0x0][_0x466400(0x130)]});console[_0x466400(0x149)](_0x466400(0x130),_0x304eaa);if(_0x421ae4[0x0][_0x466400(0x13d)]==_0x466400(0x157)){var _0x3b943b=users[_0x466400(0x16a)];console[_0x466400(0x149)](_0x3b943b);}else{if(_0x421ae4[0x0]['language']==_0x466400(0x169))var _0x3b943b=users['Hindi'];else{if(_0x421ae4[0x0][_0x466400(0x13d)]=='German')var _0x3b943b=users[_0x466400(0x15b)];else{if(_0x421ae4[0x0][_0x466400(0x13d)]=='Spanish')var _0x3b943b=users[_0x466400(0x156)];else{if(_0x421ae4[0x0]['language']==_0x466400(0x14f))var _0x3b943b=users[_0x466400(0x14f)];else{if(_0x421ae4[0x0][_0x466400(0x13d)]==_0x466400(0x12e))var _0x3b943b=users[_0x466400(0x14d)];else{if(_0x421ae4[0x0][_0x466400(0x13d)]==_0x466400(0x12d))var _0x3b943b=users[_0x466400(0x12d)];else{if(_0x421ae4[0x0][_0x466400(0x13d)]==_0x466400(0x15c))var _0x3b943b=users[_0x466400(0x128)];}}}}}}}_0x351f0e[_0x466400(0x14e)](_0x466400(0x12f),{'success':_0x28e75a['flash']('success'),'errors':_0x28e75a[_0x466400(0x147)](_0x466400(0x143)),'role':_0x2d5f26,'profile':_0x4c6e33,'master_shop':_0x421ae4,'timezones':timezones,'language':_0x3b943b});}catch(_0x1751da){console[_0x466400(0x149)](_0x1751da);}}),router[a0_0xcde24e(0x163)](a0_0xcde24e(0x153),auth,async(_0xb94734,_0x328e2d)=>{const _0x12782e=a0_0xcde24e;try{console[_0x12782e(0x149)](_0x12782e(0x13d)),console[_0x12782e(0x149)](_0xb94734[_0x12782e(0x136)]['id']);const _0x3f3546=await master_shop[_0x12782e(0x166)]();_0x3f3546[_0x12782e(0x13d)]=_0xb94734[_0x12782e(0x136)]['id'],await _0x3f3546[_0x12782e(0x15d)](),console[_0x12782e(0x149)]('master',_0x3f3546);}catch(_0x140089){console[_0x12782e(0x149)](_0x140089);}}),router[a0_0xcde24e(0x15a)]('/view/edit_settings',auth,upload[a0_0xcde24e(0x162)](a0_0xcde24e(0x155)),async(_0x2fce84,_0x28b7cf)=>{const _0x36d3f2=a0_0xcde24e;try{const {site_title:_0x1262d9,currency:_0x5faf88,currency_placement:_0x1c0131,timezone:_0x4bf3e4}=_0x2fce84[_0x36d3f2(0x137)];if(_0x2fce84[_0x36d3f2(0x137)]['hidden']==0x0){const _0x54fd56=await master_shop['findOne']();console[_0x36d3f2(0x149)](_0x36d3f2(0x132),_0x54fd56);if(_0x54fd56==''){const _0x539ba8=new master_shop({'site_title':_0x1262d9,'image':image,'currency':_0x5faf88,'currency_placement':_0x1c0131,'timezone':_0x4bf3e4}),_0x47a938=await _0x539ba8['save']();}else _0x54fd56['site_title']=_0x1262d9,_0x54fd56[_0x36d3f2(0x158)]=_0x5faf88,_0x54fd56[_0x36d3f2(0x167)]=_0x1c0131,_0x54fd56[_0x36d3f2(0x130)]=_0x4bf3e4,await _0x54fd56[_0x36d3f2(0x15d)]();}else{const _0x575ccb=_0x2fce84['file'][_0x36d3f2(0x13a)],_0x50d683=await master_shop[_0x36d3f2(0x166)]();console[_0x36d3f2(0x149)]('2nd\x20master_shop_data',_0x50d683);if(_0x50d683==null){console[_0x36d3f2(0x149)]('1',_0x1262d9);const _0x39bca9=new master_shop({'site_title':_0x1262d9,'image':_0x575ccb,'currency':_0x5faf88,'currency_placement':_0x1c0131,'timezone':_0x4bf3e4}),_0x3d0687=await _0x39bca9['save']();}else console['log']('2',_0x1262d9),_0x50d683[_0x36d3f2(0x160)]=_0x1262d9,_0x50d683[_0x36d3f2(0x155)]=_0x575ccb,_0x50d683[_0x36d3f2(0x158)]=_0x5faf88,_0x50d683['currency_placement']=_0x1c0131,_0x50d683[_0x36d3f2(0x130)]=_0x4bf3e4,await _0x50d683[_0x36d3f2(0x15d)]();}_0x2fce84[_0x36d3f2(0x147)]('success',_0x36d3f2(0x145)),_0x28b7cf[_0x36d3f2(0x154)](_0x36d3f2(0x159));}catch(_0xb965c6){console['log'](_0xb965c6);}}),router[a0_0xcde24e(0x163)]('/view/email',auth,async(_0x28af87,_0x13699f)=>{const _0xd97243=a0_0xcde24e;try{const {username:_0xcea84c,email:_0x48058c,role:_0xa72fab}=_0x28af87['user'],_0x3ddd35=_0x28af87[_0xd97243(0x16c)],_0x2833a6=await profile[_0xd97243(0x166)]({'email':_0x3ddd35[_0xd97243(0x127)]}),_0x292342=await master_shop[_0xd97243(0x14c)]();console['log'](_0xd97243(0x134),_0x292342);const _0x33bb66=await email_settings[_0xd97243(0x166)]();console[_0xd97243(0x149)](_0xd97243(0x161),_0x33bb66);if(_0x292342[0x0][_0xd97243(0x13d)]==_0xd97243(0x157)){var _0x31d6e9=users['English'];console[_0xd97243(0x149)](_0x31d6e9);}else{if(_0x292342[0x0]['language']==_0xd97243(0x169))var _0x31d6e9=users[_0xd97243(0x169)];else{if(_0x292342[0x0][_0xd97243(0x13d)]==_0xd97243(0x15b))var _0x31d6e9=users[_0xd97243(0x15b)];else{if(_0x292342[0x0][_0xd97243(0x13d)]==_0xd97243(0x156))var _0x31d6e9=users[_0xd97243(0x156)];else{if(_0x292342[0x0][_0xd97243(0x13d)]=='French')var _0x31d6e9=users[_0xd97243(0x14f)];else{if(_0x292342[0x0][_0xd97243(0x13d)]=='Portuguese\x20(BR)')var _0x31d6e9=users[_0xd97243(0x14d)];else{if(_0x292342[0x0][_0xd97243(0x13d)]==_0xd97243(0x12d))var _0x31d6e9=users[_0xd97243(0x12d)];else{if(_0x292342[0x0][_0xd97243(0x13d)]=='Arabic\x20(ae)')var _0x31d6e9=users[_0xd97243(0x128)];}}}}}}}_0x13699f['render']('email_settings',{'success':_0x28af87[_0xd97243(0x147)](_0xd97243(0x144)),'errors':_0x28af87['flash']('errors'),'role':_0x3ddd35,'profile':_0x2833a6,'master_shop':_0x292342,'email':_0x33bb66,'language':_0x31d6e9});}catch(_0x40e15b){console[_0xd97243(0x149)](_0x40e15b);}}),router[a0_0xcde24e(0x15a)]('/view/email/edit_settings',auth,async(_0x410ce9,_0x51c37a)=>{const _0x393b48=a0_0xcde24e;try{const {host:_0x2ddfc1,port:_0x46ec2f,email:_0x35aaec,password:_0x5fa29b}=_0x410ce9[_0x393b48(0x137)],_0x1e0c0c=await email_settings['findOne']();if(_0x1e0c0c==null){const _0x5093d1=new email_settings({'host':_0x2ddfc1,'port':_0x46ec2f,'email':_0x35aaec,'password':_0x5fa29b});await _0x5093d1['save']();}else _0x1e0c0c[_0x393b48(0x141)]=_0x2ddfc1,_0x1e0c0c[_0x393b48(0x12c)]=_0x46ec2f,_0x1e0c0c[_0x393b48(0x127)]=_0x35aaec,_0x1e0c0c[_0x393b48(0x150)]=_0x5fa29b,await _0x1e0c0c['save']();_0x410ce9[_0x393b48(0x147)](_0x393b48(0x144),'shop\x20setting\x20edit\x20successfully'),_0x51c37a[_0x393b48(0x154)](_0x393b48(0x165));}catch(_0xb7a078){console[_0x393b48(0x149)](_0xb7a078);}}),router[a0_0xcde24e(0x163)]('/view/supervisors',auth,async(_0x51275d,_0x319446)=>{const _0x57636c=a0_0xcde24e;try{const {username:_0x340353,email:_0x3583d3,role:_0x4acc18}=_0x51275d[_0x57636c(0x16c)],_0xd955e2=_0x51275d[_0x57636c(0x16c)],_0x347153=await supervisor_settings[_0x57636c(0x14c)](),_0x42c293=await profile[_0x57636c(0x166)]({'email':_0xd955e2[_0x57636c(0x127)]}),_0x125843=await master_shop['find'](),_0x2268a0=new Date()['toLocaleString']('en-US',{'timeZone':_0x125843[0x0][_0x57636c(0x130)]});if(_0x125843[0x0][_0x57636c(0x13d)]==_0x57636c(0x157)){var _0x2d41d7=users[_0x57636c(0x16a)];console['log'](_0x2d41d7);}else{if(_0x125843[0x0][_0x57636c(0x13d)]==_0x57636c(0x169))var _0x2d41d7=users[_0x57636c(0x169)];else{if(_0x125843[0x0][_0x57636c(0x13d)]==_0x57636c(0x15b))var _0x2d41d7=users[_0x57636c(0x15b)];else{if(_0x125843[0x0][_0x57636c(0x13d)]=='Spanish')var _0x2d41d7=users['Spanish'];else{if(_0x125843[0x0][_0x57636c(0x13d)]==_0x57636c(0x14f))var _0x2d41d7=users[_0x57636c(0x14f)];else{if(_0x125843[0x0][_0x57636c(0x13d)]==_0x57636c(0x12e))var _0x2d41d7=users[_0x57636c(0x14d)];else{if(_0x125843[0x0]['language']==_0x57636c(0x12d))var _0x2d41d7=users[_0x57636c(0x12d)];else{if(_0x125843[0x0][_0x57636c(0x13d)]==_0x57636c(0x15c))var _0x2d41d7=users[_0x57636c(0x128)];}}}}}}}_0x319446[_0x57636c(0x14e)](_0x57636c(0x151),{'success':_0x51275d[_0x57636c(0x147)](_0x57636c(0x144)),'errors':_0x51275d[_0x57636c(0x147)](_0x57636c(0x143)),'role':_0xd955e2,'profile':_0x42c293,'master_shop':_0x125843,'supervisor_data':_0x347153[0x0],'timezones':timezones,'language':_0x2d41d7});}catch(_0x51c821){console['log'](_0x51c821);}}),router[a0_0xcde24e(0x15a)]('/view/supervisors',auth,async(_0x45b697,_0x39abb5)=>{const _0xe6fcde=a0_0xcde24e;try{const {rm_name:_0xb4124d,fg_name:_0x2ab78f,rm_email:_0x601be9,fg_email:_0x42d87d,rm_mobilenum:_0x572998,fg_number:_0x3aca30}=_0x45b697['body'],_0x1e5914=await supervisor_settings[_0xe6fcde(0x166)]();if(_0x1e5914==null){const _0x543cba=new supervisor_settings({'RMSName':_0xb4124d,'RMSEmail':_0x601be9,'RMSnumber':_0x572998,'FGSName':_0x2ab78f,'FGSEmail':_0x42d87d,'FGSnumber':_0x3aca30});await _0x543cba[_0xe6fcde(0x15d)]();}else _0x1e5914[_0xe6fcde(0x12b)]=_0xb4124d,_0x1e5914['RMSEmail']=_0x601be9,_0x1e5914['RMSnumber']=_0x572998,_0x1e5914['FGSName']=_0x2ab78f,_0x1e5914[_0xe6fcde(0x13c)]=_0x42d87d,_0x1e5914[_0xe6fcde(0x13f)]=_0x3aca30,await _0x1e5914[_0xe6fcde(0x15d)]();_0x45b697[_0xe6fcde(0x147)](_0xe6fcde(0x144),'shop\x20setting\x20edit\x20successfully'),_0x39abb5[_0xe6fcde(0x154)](_0xe6fcde(0x15e));}catch(_0x422763){console[_0xe6fcde(0x149)](_0x422763);}}),module['exports']=router;