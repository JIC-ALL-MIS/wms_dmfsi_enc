const a0_0x354f42=a0_0x1be7;(function(_0x4f5b59,_0x33e153){const _0x391361=a0_0x1be7,_0x13eda9=_0x4f5b59();while(!![]){try{const _0x46e6f7=parseInt(_0x391361(0x1f1))/0x1*(parseInt(_0x391361(0x20d))/0x2)+parseInt(_0x391361(0x20a))/0x3*(parseInt(_0x391361(0x219))/0x4)+-parseInt(_0x391361(0x1eb))/0x5*(parseInt(_0x391361(0x1d8))/0x6)+parseInt(_0x391361(0x1ee))/0x7*(-parseInt(_0x391361(0x1e4))/0x8)+parseInt(_0x391361(0x200))/0x9+-parseInt(_0x391361(0x208))/0xa*(parseInt(_0x391361(0x21d))/0xb)+-parseInt(_0x391361(0x21a))/0xc;if(_0x46e6f7===_0x33e153)break;else _0x13eda9['push'](_0x13eda9['shift']());}catch(_0xb13be7){_0x13eda9['push'](_0x13eda9['shift']());}}}(a0_0x59e3,0x74d98));const express=require(a0_0x354f42(0x1dc)),app=express(),router=express[a0_0x354f42(0x1ea)](),multer=require('multer'),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require(a0_0x354f42(0x210));var timezones=require(a0_0x354f42(0x20e));const users=require(a0_0x354f42(0x21c)),storage=multer[a0_0x354f42(0x1e5)]({'destination':(_0x31d4ae,_0x132ce9,_0x38380c)=>{_0x38380c(null,'./public/upload');},'filename':(_0x35449a,_0x52dc52,_0x5034a1)=>{const _0x5b831b=a0_0x354f42;_0x5034a1(null,Date['now']()+_0x52dc52[_0x5b831b(0x1e9)]);}}),upload=multer({'storage':storage});function a0_0x1be7(_0x2f9934,_0x1291e2){const _0x59e34b=a0_0x59e3();return a0_0x1be7=function(_0x1be7b0,_0x23fa0c){_0x1be7b0=_0x1be7b0-0x1d3;let _0x1bd060=_0x59e34b[_0x1be7b0];return _0x1bd060;},a0_0x1be7(_0x2f9934,_0x1291e2);}function a0_0x59e3(){const _0x343625=['858SrejEZ','/view/supervisors','Arabic','hidden','shop\x20setting\x20edit\x20successfully','German','2nd\x20master_shop_data','master_shop_data','7818NnSRqL','save','post','email','express','/master_shop/view','en-US','master_settings','French','redirect','/view/email','language','8IbwOxp','diskStorage','currency_placement','English\x20(US)','log','originalname','Router','1860WnhqPY','errors','FGSEmail','1448258spTgJb','params','host','822775NIpEkX','Portuguese\x20(BR)','Arabic\x20(ae)','get','body','English','image','findOne','Hindi','email_settings','RMSName','RMSnumber','supervisor_settings','timezone','site_title','5550894rePfyf','render','master','Portuguese','/view/email/edit_settings','find','FGSName','toLocaleString','14670gHZZpJ','Chinese','6SOLtJw','master\x20settings\x20email_data','success','2SoLVnx','timezones-list','exports','../middleware/auth','currency','/view','/:id','user','filename','FGSnumber','flash','Spanish','115068ZqOFgw','2549076jSVPGa','file','../public/language/languages.json'];a0_0x59e3=function(){return _0x343625;};return a0_0x59e3();}router[a0_0x354f42(0x1f4)](a0_0x354f42(0x212),auth,async(_0x5df376,_0x3eac96)=>{const _0x3a2bef=a0_0x354f42;try{const {username:_0xf19d1e,email:_0x4eef99,role:_0x1af5a7}=_0x5df376[_0x3a2bef(0x214)],_0x982183=_0x5df376[_0x3a2bef(0x214)],_0x5ab493=await profile[_0x3a2bef(0x1f8)]({'email':_0x982183[_0x3a2bef(0x1db)]}),_0x47947c=await master_shop['find']();console[_0x3a2bef(0x1e8)](_0x3a2bef(0x202),_0x47947c);const _0x139ad7=new Date()[_0x3a2bef(0x207)]('en-US',{'timeZone':_0x47947c[0x0][_0x3a2bef(0x1fe)]});console['log'](_0x3a2bef(0x1fe),_0x139ad7);if(_0x47947c[0x0][_0x3a2bef(0x1e3)]==_0x3a2bef(0x1e7)){var _0x50e1b4=users[_0x3a2bef(0x1f6)];console[_0x3a2bef(0x1e8)](_0x50e1b4);}else{if(_0x47947c[0x0][_0x3a2bef(0x1e3)]==_0x3a2bef(0x1f9))var _0x50e1b4=users[_0x3a2bef(0x1f9)];else{if(_0x47947c[0x0][_0x3a2bef(0x1e3)]==_0x3a2bef(0x1d5))var _0x50e1b4=users['German'];else{if(_0x47947c[0x0][_0x3a2bef(0x1e3)]=='Spanish')var _0x50e1b4=users['Spanish'];else{if(_0x47947c[0x0][_0x3a2bef(0x1e3)]==_0x3a2bef(0x1e0))var _0x50e1b4=users[_0x3a2bef(0x1e0)];else{if(_0x47947c[0x0][_0x3a2bef(0x1e3)]=='Portuguese\x20(BR)')var _0x50e1b4=users['Portuguese'];else{if(_0x47947c[0x0][_0x3a2bef(0x1e3)]==_0x3a2bef(0x209))var _0x50e1b4=users[_0x3a2bef(0x209)];else{if(_0x47947c[0x0][_0x3a2bef(0x1e3)]=='Arabic\x20(ae)')var _0x50e1b4=users['Arabic'];}}}}}}}_0x3eac96['render'](_0x3a2bef(0x1df),{'success':_0x5df376[_0x3a2bef(0x217)](_0x3a2bef(0x20c)),'errors':_0x5df376[_0x3a2bef(0x217)](_0x3a2bef(0x1ec)),'role':_0x982183,'profile':_0x5ab493,'master_shop':_0x47947c,'timezones':timezones,'language':_0x50e1b4});}catch(_0x398402){console[_0x3a2bef(0x1e8)](_0x398402);}}),router[a0_0x354f42(0x1f4)](a0_0x354f42(0x213),auth,async(_0x749e10,_0x17a3bc)=>{const _0x1df1e6=a0_0x354f42;try{console[_0x1df1e6(0x1e8)](_0x1df1e6(0x1e3)),console['log'](_0x749e10[_0x1df1e6(0x1ef)]['id']);const _0x4b9bd3=await master_shop[_0x1df1e6(0x1f8)]();_0x4b9bd3[_0x1df1e6(0x1e3)]=_0x749e10['params']['id'],await _0x4b9bd3[_0x1df1e6(0x1d9)](),console[_0x1df1e6(0x1e8)]('master',_0x4b9bd3);}catch(_0x1fe527){console[_0x1df1e6(0x1e8)](_0x1fe527);}}),router[a0_0x354f42(0x1da)]('/view/edit_settings',auth,upload['single']('image'),async(_0x4c7898,_0x3fe73c)=>{const _0x101096=a0_0x354f42;try{const {site_title:_0xda99fe,currency:_0x545cf7,currency_placement:_0x310145,timezone:_0x4beb19}=_0x4c7898[_0x101096(0x1f5)];if(_0x4c7898[_0x101096(0x1f5)][_0x101096(0x1d3)]==0x0){const _0x326636=await master_shop[_0x101096(0x1f8)]();console[_0x101096(0x1e8)](_0x101096(0x1d7),_0x326636);if(_0x326636==''){const _0x43f549=new master_shop({'site_title':_0xda99fe,'image':image,'currency':_0x545cf7,'currency_placement':_0x310145,'timezone':_0x4beb19}),_0xa4b06d=await _0x43f549['save']();}else _0x326636[_0x101096(0x1ff)]=_0xda99fe,_0x326636[_0x101096(0x211)]=_0x545cf7,_0x326636[_0x101096(0x1e6)]=_0x310145,_0x326636[_0x101096(0x1fe)]=_0x4beb19,await _0x326636[_0x101096(0x1d9)]();}else{const _0x534dcf=_0x4c7898[_0x101096(0x21b)][_0x101096(0x215)],_0x38e0bc=await master_shop[_0x101096(0x1f8)]();console[_0x101096(0x1e8)](_0x101096(0x1d6),_0x38e0bc);if(_0x38e0bc==null){console[_0x101096(0x1e8)]('1',_0xda99fe);const _0xa6fbc1=new master_shop({'site_title':_0xda99fe,'image':_0x534dcf,'currency':_0x545cf7,'currency_placement':_0x310145,'timezone':_0x4beb19}),_0x5ff6dc=await _0xa6fbc1['save']();}else console[_0x101096(0x1e8)]('2',_0xda99fe),_0x38e0bc[_0x101096(0x1ff)]=_0xda99fe,_0x38e0bc[_0x101096(0x1f7)]=_0x534dcf,_0x38e0bc[_0x101096(0x211)]=_0x545cf7,_0x38e0bc[_0x101096(0x1e6)]=_0x310145,_0x38e0bc['timezone']=_0x4beb19,await _0x38e0bc['save']();}_0x4c7898['flash'](_0x101096(0x20c),_0x101096(0x1d4)),_0x3fe73c[_0x101096(0x1e1)](_0x101096(0x1dd));}catch(_0x3b30bd){console['log'](_0x3b30bd);}}),router[a0_0x354f42(0x1f4)](a0_0x354f42(0x1e2),auth,async(_0x467a08,_0x453ad6)=>{const _0x3056b8=a0_0x354f42;try{const {username:_0x27b210,email:_0x457c56,role:_0x517014}=_0x467a08[_0x3056b8(0x214)],_0x5b6273=_0x467a08[_0x3056b8(0x214)],_0x22b3e2=await profile['findOne']({'email':_0x5b6273[_0x3056b8(0x1db)]}),_0x33022d=await master_shop[_0x3056b8(0x205)]();console[_0x3056b8(0x1e8)]('master',_0x33022d);const _0x25db46=await email_settings['findOne']();console['log'](_0x3056b8(0x20b),_0x25db46);if(_0x33022d[0x0]['language']=='English\x20(US)'){var _0x32d748=users[_0x3056b8(0x1f6)];console[_0x3056b8(0x1e8)](_0x32d748);}else{if(_0x33022d[0x0][_0x3056b8(0x1e3)]=='Hindi')var _0x32d748=users[_0x3056b8(0x1f9)];else{if(_0x33022d[0x0][_0x3056b8(0x1e3)]==_0x3056b8(0x1d5))var _0x32d748=users[_0x3056b8(0x1d5)];else{if(_0x33022d[0x0]['language']=='Spanish')var _0x32d748=users[_0x3056b8(0x218)];else{if(_0x33022d[0x0][_0x3056b8(0x1e3)]==_0x3056b8(0x1e0))var _0x32d748=users[_0x3056b8(0x1e0)];else{if(_0x33022d[0x0][_0x3056b8(0x1e3)]==_0x3056b8(0x1f2))var _0x32d748=users[_0x3056b8(0x203)];else{if(_0x33022d[0x0][_0x3056b8(0x1e3)]=='Chinese')var _0x32d748=users[_0x3056b8(0x209)];else{if(_0x33022d[0x0][_0x3056b8(0x1e3)]==_0x3056b8(0x1f3))var _0x32d748=users['Arabic'];}}}}}}}_0x453ad6[_0x3056b8(0x201)](_0x3056b8(0x1fa),{'success':_0x467a08[_0x3056b8(0x217)](_0x3056b8(0x20c)),'errors':_0x467a08[_0x3056b8(0x217)]('errors'),'role':_0x5b6273,'profile':_0x22b3e2,'master_shop':_0x33022d,'email':_0x25db46,'language':_0x32d748});}catch(_0xd694da){console[_0x3056b8(0x1e8)](_0xd694da);}}),router['post'](a0_0x354f42(0x204),auth,async(_0x57d9fe,_0x9adedd)=>{const _0xfcfb31=a0_0x354f42;try{const {host:_0x42bdbf,port:_0x3771d7,email:_0x2b7b59,password:_0x319843}=_0x57d9fe[_0xfcfb31(0x1f5)],_0x400413=await email_settings[_0xfcfb31(0x1f8)]();if(_0x400413==null){const _0x59c652=new email_settings({'host':_0x42bdbf,'port':_0x3771d7,'email':_0x2b7b59,'password':_0x319843});await _0x59c652[_0xfcfb31(0x1d9)]();}else _0x400413[_0xfcfb31(0x1f0)]=_0x42bdbf,_0x400413['port']=_0x3771d7,_0x400413['email']=_0x2b7b59,_0x400413['password']=_0x319843,await _0x400413['save']();_0x57d9fe['flash'](_0xfcfb31(0x20c),_0xfcfb31(0x1d4)),_0x9adedd[_0xfcfb31(0x1e1)]('/master_shop/view/email');}catch(_0x1d4a8b){console[_0xfcfb31(0x1e8)](_0x1d4a8b);}}),router['get'](a0_0x354f42(0x21e),auth,async(_0x17343d,_0x56691d)=>{const _0xc73a42=a0_0x354f42;try{const {username:_0x269b62,email:_0x2b9370,role:_0x3c4d54}=_0x17343d[_0xc73a42(0x214)],_0x3c86aa=_0x17343d[_0xc73a42(0x214)],_0x2fbd11=await supervisor_settings[_0xc73a42(0x205)](),_0x2333f0=await profile['findOne']({'email':_0x3c86aa['email']}),_0x44fb9f=await master_shop[_0xc73a42(0x205)](),_0x40a3e4=new Date()[_0xc73a42(0x207)](_0xc73a42(0x1de),{'timeZone':_0x44fb9f[0x0]['timezone']});if(_0x44fb9f[0x0][_0xc73a42(0x1e3)]==_0xc73a42(0x1e7)){var _0x2d4eb4=users[_0xc73a42(0x1f6)];console[_0xc73a42(0x1e8)](_0x2d4eb4);}else{if(_0x44fb9f[0x0]['language']==_0xc73a42(0x1f9))var _0x2d4eb4=users[_0xc73a42(0x1f9)];else{if(_0x44fb9f[0x0]['language']==_0xc73a42(0x1d5))var _0x2d4eb4=users[_0xc73a42(0x1d5)];else{if(_0x44fb9f[0x0][_0xc73a42(0x1e3)]==_0xc73a42(0x218))var _0x2d4eb4=users[_0xc73a42(0x218)];else{if(_0x44fb9f[0x0][_0xc73a42(0x1e3)]==_0xc73a42(0x1e0))var _0x2d4eb4=users['French'];else{if(_0x44fb9f[0x0]['language']==_0xc73a42(0x1f2))var _0x2d4eb4=users[_0xc73a42(0x203)];else{if(_0x44fb9f[0x0][_0xc73a42(0x1e3)]==_0xc73a42(0x209))var _0x2d4eb4=users[_0xc73a42(0x209)];else{if(_0x44fb9f[0x0]['language']==_0xc73a42(0x1f3))var _0x2d4eb4=users[_0xc73a42(0x21f)];}}}}}}}_0x56691d[_0xc73a42(0x201)](_0xc73a42(0x1fd),{'success':_0x17343d[_0xc73a42(0x217)]('success'),'errors':_0x17343d['flash'](_0xc73a42(0x1ec)),'role':_0x3c86aa,'profile':_0x2333f0,'master_shop':_0x44fb9f,'supervisor_data':_0x2fbd11[0x0],'timezones':timezones,'language':_0x2d4eb4});}catch(_0xeb9bc1){console[_0xc73a42(0x1e8)](_0xeb9bc1);}}),router[a0_0x354f42(0x1da)](a0_0x354f42(0x21e),auth,async(_0x3823e9,_0x389dbb)=>{const _0x1e74b5=a0_0x354f42;try{const {rm_name:_0x2055d6,fg_name:_0x486fde,rm_email:_0x23a127,fg_email:_0x2555aa,rm_mobilenum:_0x56f0ae,fg_number:_0x31c368}=_0x3823e9[_0x1e74b5(0x1f5)],_0x21917c=await supervisor_settings[_0x1e74b5(0x1f8)]();if(_0x21917c==null){const _0x1c6fe5=new supervisor_settings({'RMSName':_0x2055d6,'RMSEmail':_0x23a127,'RMSnumber':_0x56f0ae,'FGSName':_0x486fde,'FGSEmail':_0x2555aa,'FGSnumber':_0x31c368});await _0x1c6fe5[_0x1e74b5(0x1d9)]();}else _0x21917c[_0x1e74b5(0x1fb)]=_0x2055d6,_0x21917c['RMSEmail']=_0x23a127,_0x21917c[_0x1e74b5(0x1fc)]=_0x56f0ae,_0x21917c[_0x1e74b5(0x206)]=_0x486fde,_0x21917c[_0x1e74b5(0x1ed)]=_0x2555aa,_0x21917c[_0x1e74b5(0x216)]=_0x31c368,await _0x21917c[_0x1e74b5(0x1d9)]();_0x3823e9['flash'](_0x1e74b5(0x20c),_0x1e74b5(0x1d4)),_0x389dbb['redirect']('/master_shop/view/supervisors');}catch(_0x3a72c2){console['log'](_0x3a72c2);}}),module[a0_0x354f42(0x20f)]=router;