const a0_0x36cb76=a0_0x1a8d;(function(_0x199a6b,_0x2b985b){const _0x104775=a0_0x1a8d,_0xfc7caa=_0x199a6b();while(!![]){try{const _0x494d41=-parseInt(_0x104775(0x135))/0x1+-parseInt(_0x104775(0x109))/0x2*(-parseInt(_0x104775(0x115))/0x3)+-parseInt(_0x104775(0x10d))/0x4+parseInt(_0x104775(0x12a))/0x5*(parseInt(_0x104775(0x137))/0x6)+-parseInt(_0x104775(0x143))/0x7*(-parseInt(_0x104775(0x10f))/0x8)+parseInt(_0x104775(0x11e))/0x9*(-parseInt(_0x104775(0x119))/0xa)+-parseInt(_0x104775(0x104))/0xb;if(_0x494d41===_0x2b985b)break;else _0xfc7caa['push'](_0xfc7caa['shift']());}catch(_0xf11758){_0xfc7caa['push'](_0xfc7caa['shift']());}}}(a0_0x26e7,0xad9bb));function a0_0x26e7(){const _0x985664=['FGSName','Hindi','currency','63TgmmNF','Chinese','./public/upload','save','file','success','Arabic\x20(ae)','user','shop\x20setting\x20edit\x20successfully','body','site_title','email','65rVyKjJ','params','express','Router','now','host','currency_placement','log','originalname','FGSEmail','toLocaleString','862425JVfAAJ','find','192846eGCfaA','findOne','redirect','supervisor_settings','render','password','port','RMSEmail','Arabic','/master_shop/view/email','Spanish','hidden','14jGbGZY','email_settings','/master_shop/view/supervisors','RMSnumber','/view/email','master_settings','timezone','../public/language/languages.json','image','flash','English','single','1897896dkKgKF','diskStorage','master','multer','errors','64StMvBX','German','English\x20(US)','/:id','3000520wtJJAq','French','4575224ZJYzvs','en-US','/view/supervisors','language','Portuguese','get','116562fZKwIO','post','/view/edit_settings','Portuguese\x20(BR)','441110wvmoGy','FGSnumber'];a0_0x26e7=function(){return _0x985664;};return a0_0x26e7();}const express=require(a0_0x36cb76(0x12c)),app=express(),router=express[a0_0x36cb76(0x12d)](),multer=require(a0_0x36cb76(0x107)),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require('../middleware/auth');function a0_0x1a8d(_0x31fd5e,_0x25594e){const _0x26e7f0=a0_0x26e7();return a0_0x1a8d=function(_0x1a8d98,_0x40ee73){_0x1a8d98=_0x1a8d98-0xff;let _0x27e26b=_0x26e7f0[_0x1a8d98];return _0x27e26b;},a0_0x1a8d(_0x31fd5e,_0x25594e);}var timezones=require('timezones-list');const users=require(a0_0x36cb76(0xff)),storage=multer[a0_0x36cb76(0x105)]({'destination':(_0x394fab,_0x5b1ab7,_0x1d823c)=>{const _0x2612a=a0_0x36cb76;_0x1d823c(null,_0x2612a(0x120));},'filename':(_0x489137,_0x38fd98,_0x15bd6b)=>{const _0x55345a=a0_0x36cb76;_0x15bd6b(null,Date[_0x55345a(0x12e)]()+_0x38fd98[_0x55345a(0x132)]);}}),upload=multer({'storage':storage});router['get']('/view',auth,async(_0x83f868,_0x4fa392)=>{const _0x42aaf0=a0_0x36cb76;try{const {username:_0x4fc1f6,email:_0x4b461b,role:_0xbb9cfd}=_0x83f868[_0x42aaf0(0x125)],_0x1c312a=_0x83f868[_0x42aaf0(0x125)],_0x146a30=await profile[_0x42aaf0(0x138)]({'email':_0x1c312a['email']}),_0x5d98b8=await master_shop[_0x42aaf0(0x136)]();console['log'](_0x42aaf0(0x106),_0x5d98b8);const _0x5b5df3=new Date()[_0x42aaf0(0x134)](_0x42aaf0(0x110),{'timeZone':_0x5d98b8[0x0][_0x42aaf0(0x149)]});console[_0x42aaf0(0x131)]('timezone',_0x5b5df3);if(_0x5d98b8[0x0][_0x42aaf0(0x112)]=='English\x20(US)'){var _0x1bdeb2=users['English'];console['log'](_0x1bdeb2);}else{if(_0x5d98b8[0x0][_0x42aaf0(0x112)]=='Hindi')var _0x1bdeb2=users['Hindi'];else{if(_0x5d98b8[0x0][_0x42aaf0(0x112)]==_0x42aaf0(0x10a))var _0x1bdeb2=users[_0x42aaf0(0x10a)];else{if(_0x5d98b8[0x0]['language']==_0x42aaf0(0x141))var _0x1bdeb2=users[_0x42aaf0(0x141)];else{if(_0x5d98b8[0x0][_0x42aaf0(0x112)]=='French')var _0x1bdeb2=users[_0x42aaf0(0x10e)];else{if(_0x5d98b8[0x0][_0x42aaf0(0x112)]==_0x42aaf0(0x118))var _0x1bdeb2=users[_0x42aaf0(0x113)];else{if(_0x5d98b8[0x0][_0x42aaf0(0x112)]==_0x42aaf0(0x11f))var _0x1bdeb2=users[_0x42aaf0(0x11f)];else{if(_0x5d98b8[0x0]['language']==_0x42aaf0(0x124))var _0x1bdeb2=users['Arabic'];}}}}}}}_0x4fa392[_0x42aaf0(0x13b)](_0x42aaf0(0x148),{'success':_0x83f868['flash'](_0x42aaf0(0x123)),'errors':_0x83f868['flash'](_0x42aaf0(0x108)),'role':_0x1c312a,'profile':_0x146a30,'master_shop':_0x5d98b8,'timezones':timezones,'language':_0x1bdeb2});}catch(_0xdb7cd3){console[_0x42aaf0(0x131)](_0xdb7cd3);}}),router[a0_0x36cb76(0x114)](a0_0x36cb76(0x10c),auth,async(_0x3b0d9e,_0x12feef)=>{const _0x1e554b=a0_0x36cb76;try{console[_0x1e554b(0x131)](_0x1e554b(0x112)),console[_0x1e554b(0x131)](_0x3b0d9e[_0x1e554b(0x12b)]['id']);const _0x1b7ed3=await master_shop['findOne']();_0x1b7ed3['language']=_0x3b0d9e[_0x1e554b(0x12b)]['id'],await _0x1b7ed3[_0x1e554b(0x121)](),console['log'](_0x1e554b(0x106),_0x1b7ed3);}catch(_0x3108dc){console[_0x1e554b(0x131)](_0x3108dc);}}),router[a0_0x36cb76(0x116)](a0_0x36cb76(0x117),auth,upload[a0_0x36cb76(0x103)](a0_0x36cb76(0x100)),async(_0x7109c4,_0x4a8b92)=>{const _0x4837e5=a0_0x36cb76;try{const {site_title:_0x3b549a,currency:_0xce8c74,currency_placement:_0x40cf0c,timezone:_0x48fb3c}=_0x7109c4[_0x4837e5(0x127)];if(_0x7109c4[_0x4837e5(0x127)][_0x4837e5(0x142)]==0x0){const _0x31d3aa=await master_shop['findOne']();console[_0x4837e5(0x131)]('master_shop_data',_0x31d3aa);if(_0x31d3aa==''){const _0x5461c3=new master_shop({'site_title':_0x3b549a,'image':image,'currency':_0xce8c74,'currency_placement':_0x40cf0c,'timezone':_0x48fb3c}),_0x5159f4=await _0x5461c3[_0x4837e5(0x121)]();}else _0x31d3aa[_0x4837e5(0x128)]=_0x3b549a,_0x31d3aa[_0x4837e5(0x11d)]=_0xce8c74,_0x31d3aa[_0x4837e5(0x130)]=_0x40cf0c,_0x31d3aa[_0x4837e5(0x149)]=_0x48fb3c,await _0x31d3aa[_0x4837e5(0x121)]();}else{const _0x32bd9e=_0x7109c4[_0x4837e5(0x122)]['filename'],_0x9251bb=await master_shop[_0x4837e5(0x138)]();console['log']('2nd\x20master_shop_data',_0x9251bb);if(_0x9251bb==null){console['log']('1',_0x3b549a);const _0x3ec880=new master_shop({'site_title':_0x3b549a,'image':_0x32bd9e,'currency':_0xce8c74,'currency_placement':_0x40cf0c,'timezone':_0x48fb3c}),_0x45ae1d=await _0x3ec880[_0x4837e5(0x121)]();}else console[_0x4837e5(0x131)]('2',_0x3b549a),_0x9251bb[_0x4837e5(0x128)]=_0x3b549a,_0x9251bb[_0x4837e5(0x100)]=_0x32bd9e,_0x9251bb[_0x4837e5(0x11d)]=_0xce8c74,_0x9251bb[_0x4837e5(0x130)]=_0x40cf0c,_0x9251bb[_0x4837e5(0x149)]=_0x48fb3c,await _0x9251bb[_0x4837e5(0x121)]();}_0x7109c4['flash'](_0x4837e5(0x123),_0x4837e5(0x126)),_0x4a8b92[_0x4837e5(0x139)]('/master_shop/view');}catch(_0x58ade8){console['log'](_0x58ade8);}}),router[a0_0x36cb76(0x114)](a0_0x36cb76(0x147),auth,async(_0x428b1d,_0x3f8669)=>{const _0x3509cc=a0_0x36cb76;try{const {username:_0x7ad40a,email:_0x47389d,role:_0x271209}=_0x428b1d[_0x3509cc(0x125)],_0x1179b9=_0x428b1d[_0x3509cc(0x125)],_0x26313d=await profile['findOne']({'email':_0x1179b9[_0x3509cc(0x129)]}),_0x3b1d58=await master_shop[_0x3509cc(0x136)]();console[_0x3509cc(0x131)](_0x3509cc(0x106),_0x3b1d58);const _0x3c8bbf=await email_settings[_0x3509cc(0x138)]();console[_0x3509cc(0x131)]('master\x20settings\x20email_data',_0x3c8bbf);if(_0x3b1d58[0x0][_0x3509cc(0x112)]==_0x3509cc(0x10b)){var _0x78eb9f=users[_0x3509cc(0x102)];console[_0x3509cc(0x131)](_0x78eb9f);}else{if(_0x3b1d58[0x0]['language']=='Hindi')var _0x78eb9f=users[_0x3509cc(0x11c)];else{if(_0x3b1d58[0x0][_0x3509cc(0x112)]==_0x3509cc(0x10a))var _0x78eb9f=users[_0x3509cc(0x10a)];else{if(_0x3b1d58[0x0][_0x3509cc(0x112)]==_0x3509cc(0x141))var _0x78eb9f=users[_0x3509cc(0x141)];else{if(_0x3b1d58[0x0][_0x3509cc(0x112)]=='French')var _0x78eb9f=users[_0x3509cc(0x10e)];else{if(_0x3b1d58[0x0][_0x3509cc(0x112)]==_0x3509cc(0x118))var _0x78eb9f=users[_0x3509cc(0x113)];else{if(_0x3b1d58[0x0][_0x3509cc(0x112)]==_0x3509cc(0x11f))var _0x78eb9f=users['Chinese'];else{if(_0x3b1d58[0x0][_0x3509cc(0x112)]=='Arabic\x20(ae)')var _0x78eb9f=users[_0x3509cc(0x13f)];}}}}}}}_0x3f8669[_0x3509cc(0x13b)](_0x3509cc(0x144),{'success':_0x428b1d[_0x3509cc(0x101)]('success'),'errors':_0x428b1d['flash'](_0x3509cc(0x108)),'role':_0x1179b9,'profile':_0x26313d,'master_shop':_0x3b1d58,'email':_0x3c8bbf,'language':_0x78eb9f});}catch(_0x489da1){console[_0x3509cc(0x131)](_0x489da1);}}),router['post']('/view/email/edit_settings',auth,async(_0x403be4,_0x3597a4)=>{const _0x2838e8=a0_0x36cb76;try{const {host:_0x20565e,port:_0x5cc6b7,email:_0x28ecae,password:_0x2233ca}=_0x403be4[_0x2838e8(0x127)],_0x1cf64b=await email_settings[_0x2838e8(0x138)]();if(_0x1cf64b==null){const _0x328294=new email_settings({'host':_0x20565e,'port':_0x5cc6b7,'email':_0x28ecae,'password':_0x2233ca});await _0x328294[_0x2838e8(0x121)]();}else _0x1cf64b[_0x2838e8(0x12f)]=_0x20565e,_0x1cf64b[_0x2838e8(0x13d)]=_0x5cc6b7,_0x1cf64b[_0x2838e8(0x129)]=_0x28ecae,_0x1cf64b[_0x2838e8(0x13c)]=_0x2233ca,await _0x1cf64b[_0x2838e8(0x121)]();_0x403be4[_0x2838e8(0x101)]('success',_0x2838e8(0x126)),_0x3597a4['redirect'](_0x2838e8(0x140));}catch(_0x5a7791){console[_0x2838e8(0x131)](_0x5a7791);}}),router[a0_0x36cb76(0x114)]('/view/supervisors',auth,async(_0x4778a7,_0x316c93)=>{const _0x28c8a3=a0_0x36cb76;try{const {username:_0x32b7e6,email:_0x164e23,role:_0x1252b2}=_0x4778a7[_0x28c8a3(0x125)],_0x12eaff=_0x4778a7[_0x28c8a3(0x125)],_0x35cb9a=await supervisor_settings[_0x28c8a3(0x136)](),_0x2e18e0=await profile[_0x28c8a3(0x138)]({'email':_0x12eaff[_0x28c8a3(0x129)]}),_0x505319=await master_shop[_0x28c8a3(0x136)](),_0x43fdf4=new Date()[_0x28c8a3(0x134)](_0x28c8a3(0x110),{'timeZone':_0x505319[0x0][_0x28c8a3(0x149)]});if(_0x505319[0x0]['language']==_0x28c8a3(0x10b)){var _0x33dac6=users[_0x28c8a3(0x102)];console[_0x28c8a3(0x131)](_0x33dac6);}else{if(_0x505319[0x0]['language']==_0x28c8a3(0x11c))var _0x33dac6=users[_0x28c8a3(0x11c)];else{if(_0x505319[0x0][_0x28c8a3(0x112)]==_0x28c8a3(0x10a))var _0x33dac6=users[_0x28c8a3(0x10a)];else{if(_0x505319[0x0][_0x28c8a3(0x112)]==_0x28c8a3(0x141))var _0x33dac6=users[_0x28c8a3(0x141)];else{if(_0x505319[0x0]['language']==_0x28c8a3(0x10e))var _0x33dac6=users['French'];else{if(_0x505319[0x0][_0x28c8a3(0x112)]==_0x28c8a3(0x118))var _0x33dac6=users['Portuguese'];else{if(_0x505319[0x0][_0x28c8a3(0x112)]==_0x28c8a3(0x11f))var _0x33dac6=users[_0x28c8a3(0x11f)];else{if(_0x505319[0x0][_0x28c8a3(0x112)]==_0x28c8a3(0x124))var _0x33dac6=users[_0x28c8a3(0x13f)];}}}}}}}_0x316c93[_0x28c8a3(0x13b)](_0x28c8a3(0x13a),{'success':_0x4778a7[_0x28c8a3(0x101)](_0x28c8a3(0x123)),'errors':_0x4778a7[_0x28c8a3(0x101)](_0x28c8a3(0x108)),'role':_0x12eaff,'profile':_0x2e18e0,'master_shop':_0x505319,'supervisor_data':_0x35cb9a[0x0],'timezones':timezones,'language':_0x33dac6});}catch(_0x3a0b75){console['log'](_0x3a0b75);}}),router['post'](a0_0x36cb76(0x111),auth,async(_0x283763,_0x5c0e01)=>{const _0x3f221a=a0_0x36cb76;try{const {rm_name:_0x2df77f,fg_name:_0x1cf038,rm_email:_0x2d932e,fg_email:_0x27ca4d,rm_mobilenum:_0x559854,fg_number:_0x3811b6}=_0x283763['body'],_0x26b5d8=await supervisor_settings[_0x3f221a(0x138)]();if(_0x26b5d8==null){const _0xd2ea09=new supervisor_settings({'RMSName':_0x2df77f,'RMSEmail':_0x2d932e,'RMSnumber':_0x559854,'FGSName':_0x1cf038,'FGSEmail':_0x27ca4d,'FGSnumber':_0x3811b6});await _0xd2ea09[_0x3f221a(0x121)]();}else _0x26b5d8['RMSName']=_0x2df77f,_0x26b5d8[_0x3f221a(0x13e)]=_0x2d932e,_0x26b5d8[_0x3f221a(0x146)]=_0x559854,_0x26b5d8[_0x3f221a(0x11b)]=_0x1cf038,_0x26b5d8[_0x3f221a(0x133)]=_0x27ca4d,_0x26b5d8[_0x3f221a(0x11a)]=_0x3811b6,await _0x26b5d8[_0x3f221a(0x121)]();_0x283763[_0x3f221a(0x101)](_0x3f221a(0x123),_0x3f221a(0x126)),_0x5c0e01['redirect'](_0x3f221a(0x145));}catch(_0x5a9f78){console[_0x3f221a(0x131)](_0x5a9f78);}}),module['exports']=router;