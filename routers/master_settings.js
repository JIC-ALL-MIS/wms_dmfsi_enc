const a0_0xe7b39f=a0_0x5cd1;(function(_0xa48ec,_0x5e16a3){const _0x477ee6=a0_0x5cd1,_0x46c221=_0xa48ec();while(!![]){try{const _0x3d1856=parseInt(_0x477ee6(0x227))/0x1*(parseInt(_0x477ee6(0x20a))/0x2)+-parseInt(_0x477ee6(0x20f))/0x3+parseInt(_0x477ee6(0x220))/0x4+-parseInt(_0x477ee6(0x229))/0x5*(parseInt(_0x477ee6(0x23f))/0x6)+parseInt(_0x477ee6(0x209))/0x7*(parseInt(_0x477ee6(0x1fe))/0x8)+parseInt(_0x477ee6(0x233))/0x9+-parseInt(_0x477ee6(0x21f))/0xa;if(_0x3d1856===_0x5e16a3)break;else _0x46c221['push'](_0x46c221['shift']());}catch(_0x4fc370){_0x46c221['push'](_0x46c221['shift']());}}}(a0_0x4337,0x32641));function a0_0x5cd1(_0x1b7330,_0x1464f8){const _0x4337b6=a0_0x4337();return a0_0x5cd1=function(_0x5cd17f,_0xffd46){_0x5cd17f=_0x5cd17f-0x1f4;let _0x447c7c=_0x4337b6[_0x5cd17f];return _0x447c7c;},a0_0x5cd1(_0x1b7330,_0x1464f8);}const express=require('express'),app=express(),router=express[a0_0xe7b39f(0x1f8)](),multer=require(a0_0xe7b39f(0x21a)),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require(a0_0xe7b39f(0x225));var timezones=require(a0_0xe7b39f(0x226));const users=require(a0_0xe7b39f(0x21b)),storage=multer[a0_0xe7b39f(0x208)]({'destination':(_0x3fe0b8,_0x5bfdfd,_0x4d12ed)=>{const _0x5a16ef=a0_0xe7b39f;_0x4d12ed(null,_0x5a16ef(0x211));},'filename':(_0xdada46,_0x3534e0,_0x3e54a1)=>{const _0x2a50c4=a0_0xe7b39f;_0x3e54a1(null,Date[_0x2a50c4(0x23a)]()+_0x3534e0[_0x2a50c4(0x223)]);}}),upload=multer({'storage':storage});router[a0_0xe7b39f(0x219)](a0_0xe7b39f(0x202),auth,async(_0x257215,_0x3ff8b4)=>{const _0x1a3656=a0_0xe7b39f;try{const {username:_0x40c05c,email:_0x7d1cd3,role:_0x39119a}=_0x257215[_0x1a3656(0x205)],_0x19baf3=_0x257215[_0x1a3656(0x205)],_0x3204fe=await profile['findOne']({'email':_0x19baf3[_0x1a3656(0x212)]}),_0x4b7473=await master_shop[_0x1a3656(0x22f)]();console[_0x1a3656(0x23e)]('master',_0x4b7473);const _0x5dad50=new Date()[_0x1a3656(0x237)](_0x1a3656(0x20b),{'timeZone':_0x4b7473[0x0][_0x1a3656(0x1fb)]});console['log'](_0x1a3656(0x1fb),_0x5dad50);if(_0x4b7473[0x0]['language']==_0x1a3656(0x238)){var _0x47153c=users[_0x1a3656(0x222)];console[_0x1a3656(0x23e)](_0x47153c);}else{if(_0x4b7473[0x0][_0x1a3656(0x20d)]==_0x1a3656(0x22c))var _0x47153c=users[_0x1a3656(0x22c)];else{if(_0x4b7473[0x0][_0x1a3656(0x20d)]==_0x1a3656(0x1fc))var _0x47153c=users['German'];else{if(_0x4b7473[0x0][_0x1a3656(0x20d)]==_0x1a3656(0x201))var _0x47153c=users[_0x1a3656(0x201)];else{if(_0x4b7473[0x0][_0x1a3656(0x20d)]==_0x1a3656(0x235))var _0x47153c=users[_0x1a3656(0x235)];else{if(_0x4b7473[0x0][_0x1a3656(0x20d)]=='Portuguese\x20(BR)')var _0x47153c=users['Portuguese'];else{if(_0x4b7473[0x0][_0x1a3656(0x20d)]==_0x1a3656(0x1ff))var _0x47153c=users[_0x1a3656(0x1ff)];else{if(_0x4b7473[0x0][_0x1a3656(0x20d)]==_0x1a3656(0x232))var _0x47153c=users['Arabic'];}}}}}}}_0x3ff8b4[_0x1a3656(0x213)](_0x1a3656(0x22b),{'success':_0x257215[_0x1a3656(0x239)](_0x1a3656(0x1fd)),'errors':_0x257215[_0x1a3656(0x239)](_0x1a3656(0x230)),'role':_0x19baf3,'profile':_0x3204fe,'master_shop':_0x4b7473,'timezones':timezones,'language':_0x47153c});}catch(_0x46d424){console[_0x1a3656(0x23e)](_0x46d424);}}),router[a0_0xe7b39f(0x219)](a0_0xe7b39f(0x21c),auth,async(_0x5a2dd3,_0x4b69ac)=>{const _0x425c35=a0_0xe7b39f;try{console[_0x425c35(0x23e)](_0x425c35(0x20d)),console[_0x425c35(0x23e)](_0x5a2dd3[_0x425c35(0x218)]['id']);const _0x5a4e4d=await master_shop[_0x425c35(0x215)]();_0x5a4e4d['language']=_0x5a2dd3[_0x425c35(0x218)]['id'],await _0x5a4e4d[_0x425c35(0x221)](),console[_0x425c35(0x23e)](_0x425c35(0x23b),_0x5a4e4d);}catch(_0x59fd93){console['log'](_0x59fd93);}}),router['post'](a0_0xe7b39f(0x1f4),auth,upload[a0_0xe7b39f(0x1f6)](a0_0xe7b39f(0x20e)),async(_0x2c2a46,_0x44541c)=>{const _0x6547d=a0_0xe7b39f;try{const {site_title:_0xb84c77,currency:_0x256344,currency_placement:_0xc8ff16,timezone:_0x31f159}=_0x2c2a46['body'];if(_0x2c2a46[_0x6547d(0x206)][_0x6547d(0x22d)]==0x0){const _0x1356f8=await master_shop[_0x6547d(0x215)]();console[_0x6547d(0x23e)](_0x6547d(0x1f7),_0x1356f8);if(_0x1356f8==''){const _0x5cf1f5=new master_shop({'site_title':_0xb84c77,'image':image,'currency':_0x256344,'currency_placement':_0xc8ff16,'timezone':_0x31f159}),_0x4ece49=await _0x5cf1f5[_0x6547d(0x221)]();}else _0x1356f8[_0x6547d(0x224)]=_0xb84c77,_0x1356f8['currency']=_0x256344,_0x1356f8[_0x6547d(0x1f9)]=_0xc8ff16,_0x1356f8['timezone']=_0x31f159,await _0x1356f8[_0x6547d(0x221)]();}else{const _0x26628c=_0x2c2a46[_0x6547d(0x216)][_0x6547d(0x21d)],_0x27b3bf=await master_shop[_0x6547d(0x215)]();console[_0x6547d(0x23e)]('2nd\x20master_shop_data',_0x27b3bf);if(_0x27b3bf==null){console[_0x6547d(0x23e)]('1',_0xb84c77);const _0x22feb1=new master_shop({'site_title':_0xb84c77,'image':_0x26628c,'currency':_0x256344,'currency_placement':_0xc8ff16,'timezone':_0x31f159}),_0x15e491=await _0x22feb1[_0x6547d(0x221)]();}else console[_0x6547d(0x23e)]('2',_0xb84c77),_0x27b3bf[_0x6547d(0x224)]=_0xb84c77,_0x27b3bf['image']=_0x26628c,_0x27b3bf[_0x6547d(0x203)]=_0x256344,_0x27b3bf['currency_placement']=_0xc8ff16,_0x27b3bf['timezone']=_0x31f159,await _0x27b3bf[_0x6547d(0x221)]();}_0x2c2a46['flash'](_0x6547d(0x1fd),'shop\x20setting\x20edit\x20successfully'),_0x44541c[_0x6547d(0x234)]('/master_shop/view');}catch(_0xa55cb8){console[_0x6547d(0x23e)](_0xa55cb8);}}),router[a0_0xe7b39f(0x219)]('/view/email',auth,async(_0x37a875,_0x291f3a)=>{const _0x31b595=a0_0xe7b39f;try{const {username:_0x5e7bb6,email:_0x4dc83e,role:_0x34e926}=_0x37a875[_0x31b595(0x205)],_0x391154=_0x37a875[_0x31b595(0x205)],_0x1b3445=await profile[_0x31b595(0x215)]({'email':_0x391154[_0x31b595(0x212)]}),_0x55eba4=await master_shop[_0x31b595(0x22f)]();console[_0x31b595(0x23e)](_0x31b595(0x23b),_0x55eba4);const _0x16082f=await email_settings[_0x31b595(0x215)]();console[_0x31b595(0x23e)]('master\x20settings\x20email_data',_0x16082f);if(_0x55eba4[0x0][_0x31b595(0x20d)]=='English\x20(US)'){var _0x503aca=users[_0x31b595(0x222)];console[_0x31b595(0x23e)](_0x503aca);}else{if(_0x55eba4[0x0][_0x31b595(0x20d)]==_0x31b595(0x22c))var _0x503aca=users[_0x31b595(0x22c)];else{if(_0x55eba4[0x0][_0x31b595(0x20d)]==_0x31b595(0x1fc))var _0x503aca=users[_0x31b595(0x1fc)];else{if(_0x55eba4[0x0][_0x31b595(0x20d)]==_0x31b595(0x201))var _0x503aca=users[_0x31b595(0x201)];else{if(_0x55eba4[0x0][_0x31b595(0x20d)]==_0x31b595(0x235))var _0x503aca=users[_0x31b595(0x235)];else{if(_0x55eba4[0x0][_0x31b595(0x20d)]==_0x31b595(0x22a))var _0x503aca=users['Portuguese'];else{if(_0x55eba4[0x0]['language']==_0x31b595(0x1ff))var _0x503aca=users[_0x31b595(0x1ff)];else{if(_0x55eba4[0x0]['language']==_0x31b595(0x232))var _0x503aca=users[_0x31b595(0x23c)];}}}}}}}_0x291f3a[_0x31b595(0x213)](_0x31b595(0x1fa),{'success':_0x37a875['flash'](_0x31b595(0x1fd)),'errors':_0x37a875[_0x31b595(0x239)]('errors'),'role':_0x391154,'profile':_0x1b3445,'master_shop':_0x55eba4,'email':_0x16082f,'language':_0x503aca});}catch(_0x3a961e){console[_0x31b595(0x23e)](_0x3a961e);}}),router[a0_0xe7b39f(0x207)](a0_0xe7b39f(0x214),auth,async(_0x1c0b6a,_0x36d0eb)=>{const _0x2f567d=a0_0xe7b39f;try{const {host:_0x3359fa,port:_0x37575c,email:_0x45b998,password:_0x5109ce}=_0x1c0b6a[_0x2f567d(0x206)],_0x553f49=await email_settings[_0x2f567d(0x215)]();if(_0x553f49==null){const _0xcfd01d=new email_settings({'host':_0x3359fa,'port':_0x37575c,'email':_0x45b998,'password':_0x5109ce});await _0xcfd01d[_0x2f567d(0x221)]();}else _0x553f49[_0x2f567d(0x204)]=_0x3359fa,_0x553f49[_0x2f567d(0x231)]=_0x37575c,_0x553f49[_0x2f567d(0x212)]=_0x45b998,_0x553f49['password']=_0x5109ce,await _0x553f49['save']();_0x1c0b6a[_0x2f567d(0x239)]('success',_0x2f567d(0x210)),_0x36d0eb[_0x2f567d(0x234)](_0x2f567d(0x1f5));}catch(_0x3d43ac){console['log'](_0x3d43ac);}}),router[a0_0xe7b39f(0x219)](a0_0xe7b39f(0x200),auth,async(_0x3acd38,_0x1c6bee)=>{const _0x1afa36=a0_0xe7b39f;try{const {username:_0x37fa52,email:_0xe10bd5,role:_0x5605eb}=_0x3acd38[_0x1afa36(0x205)],_0x3e3783=_0x3acd38['user'],_0x300bab=await supervisor_settings[_0x1afa36(0x22f)](),_0x3a6724=await profile['findOne']({'email':_0x3e3783[_0x1afa36(0x212)]}),_0x169ae1=await master_shop['find'](),_0x5a0cb4=new Date()[_0x1afa36(0x237)](_0x1afa36(0x20b),{'timeZone':_0x169ae1[0x0][_0x1afa36(0x1fb)]});if(_0x169ae1[0x0]['language']==_0x1afa36(0x238)){var _0x2d49c7=users[_0x1afa36(0x222)];console[_0x1afa36(0x23e)](_0x2d49c7);}else{if(_0x169ae1[0x0][_0x1afa36(0x20d)]==_0x1afa36(0x22c))var _0x2d49c7=users[_0x1afa36(0x22c)];else{if(_0x169ae1[0x0][_0x1afa36(0x20d)]==_0x1afa36(0x1fc))var _0x2d49c7=users[_0x1afa36(0x1fc)];else{if(_0x169ae1[0x0]['language']==_0x1afa36(0x201))var _0x2d49c7=users[_0x1afa36(0x201)];else{if(_0x169ae1[0x0][_0x1afa36(0x20d)]==_0x1afa36(0x235))var _0x2d49c7=users[_0x1afa36(0x235)];else{if(_0x169ae1[0x0][_0x1afa36(0x20d)]==_0x1afa36(0x22a))var _0x2d49c7=users[_0x1afa36(0x23d)];else{if(_0x169ae1[0x0][_0x1afa36(0x20d)]=='Chinese')var _0x2d49c7=users[_0x1afa36(0x1ff)];else{if(_0x169ae1[0x0]['language']==_0x1afa36(0x232))var _0x2d49c7=users['Arabic'];}}}}}}}_0x1c6bee['render'](_0x1afa36(0x20c),{'success':_0x3acd38[_0x1afa36(0x239)](_0x1afa36(0x1fd)),'errors':_0x3acd38[_0x1afa36(0x239)](_0x1afa36(0x230)),'role':_0x3e3783,'profile':_0x3a6724,'master_shop':_0x169ae1,'supervisor_data':_0x300bab[0x0],'timezones':timezones,'language':_0x2d49c7});}catch(_0x125d97){console[_0x1afa36(0x23e)](_0x125d97);}}),router[a0_0xe7b39f(0x207)](a0_0xe7b39f(0x200),auth,async(_0x28290d,_0x53d9b6)=>{const _0x3ed24f=a0_0xe7b39f;try{const {rm_name:_0x100268,fg_name:_0x27ea0e,rm_email:_0x2713ed,fg_email:_0xceaa97,rm_mobilenum:_0x5d7bf8,fg_number:_0x1b0822}=_0x28290d[_0x3ed24f(0x206)],_0x8f6140=await supervisor_settings[_0x3ed24f(0x215)]();if(_0x8f6140==null){const _0x4e08f4=new supervisor_settings({'RMSName':_0x100268,'RMSEmail':_0x2713ed,'RMSnumber':_0x5d7bf8,'FGSName':_0x27ea0e,'FGSEmail':_0xceaa97,'FGSnumber':_0x1b0822});await _0x4e08f4[_0x3ed24f(0x221)]();}else _0x8f6140[_0x3ed24f(0x236)]=_0x100268,_0x8f6140['RMSEmail']=_0x2713ed,_0x8f6140[_0x3ed24f(0x228)]=_0x5d7bf8,_0x8f6140['FGSName']=_0x27ea0e,_0x8f6140['FGSEmail']=_0xceaa97,_0x8f6140[_0x3ed24f(0x21e)]=_0x1b0822,await _0x8f6140[_0x3ed24f(0x221)]();_0x28290d[_0x3ed24f(0x239)]('success',_0x3ed24f(0x210)),_0x53d9b6[_0x3ed24f(0x234)](_0x3ed24f(0x22e));}catch(_0xdac6ee){console[_0x3ed24f(0x23e)](_0xdac6ee);}}),module[a0_0xe7b39f(0x217)]=router;function a0_0x4337(){const _0x42f9d0=['Hindi','hidden','/master_shop/view/supervisors','find','errors','port','Arabic\x20(ae)','2102526EWMdKM','redirect','French','RMSName','toLocaleString','English\x20(US)','flash','now','master','Arabic','Portuguese','log','384jomdfp','/view/edit_settings','/master_shop/view/email','single','master_shop_data','Router','currency_placement','email_settings','timezone','German','success','57992QpJPgA','Chinese','/view/supervisors','Spanish','/view','currency','host','user','body','post','diskStorage','119Qrgtnm','48nxjjhc','en-US','supervisor_settings','language','image','1136895oikshw','shop\x20setting\x20edit\x20successfully','./public/upload','email','render','/view/email/edit_settings','findOne','file','exports','params','get','multer','../public/language/languages.json','/:id','filename','FGSnumber','3481270QZfAlO','783096UEAEyh','save','English','originalname','site_title','../middleware/auth','timezones-list','16451dibCtd','RMSnumber','1090qpZaaY','Portuguese\x20(BR)','master_settings'];a0_0x4337=function(){return _0x42f9d0;};return a0_0x4337();}