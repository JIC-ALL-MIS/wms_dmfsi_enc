const a0_0x3666bb=a0_0x4e9a;(function(_0x35ae32,_0x3bd575){const _0x136392=a0_0x4e9a,_0x8610d7=_0x35ae32();while(!![]){try{const _0x3af519=parseInt(_0x136392(0x15e))/0x1*(-parseInt(_0x136392(0x194))/0x2)+parseInt(_0x136392(0x199))/0x3+-parseInt(_0x136392(0x198))/0x4+-parseInt(_0x136392(0x175))/0x5*(parseInt(_0x136392(0x163))/0x6)+-parseInt(_0x136392(0x193))/0x7+-parseInt(_0x136392(0x15a))/0x8*(parseInt(_0x136392(0x16b))/0x9)+parseInt(_0x136392(0x15b))/0xa*(parseInt(_0x136392(0x165))/0xb);if(_0x3af519===_0x3bd575)break;else _0x8610d7['push'](_0x8610d7['shift']());}catch(_0x444ba4){_0x8610d7['push'](_0x8610d7['shift']());}}}(a0_0x3bce,0x48a0e));const express=require(a0_0x3666bb(0x186)),app=express(),router=express[a0_0x3666bb(0x177)](),multer=require(a0_0x3666bb(0x16a)),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require(a0_0x3666bb(0x19d));function a0_0x4e9a(_0x241e13,_0x132613){const _0x3bce22=a0_0x3bce();return a0_0x4e9a=function(_0x4e9a07,_0x36a290){_0x4e9a07=_0x4e9a07-0x150;let _0x19720b=_0x3bce22[_0x4e9a07];return _0x19720b;},a0_0x4e9a(_0x241e13,_0x132613);}var timezones=require(a0_0x3666bb(0x17a));const users=require(a0_0x3666bb(0x180)),storage=multer[a0_0x3666bb(0x19c)]({'destination':(_0x29018e,_0x2d1ac4,_0x58f509)=>{const _0x280d7f=a0_0x3666bb;_0x58f509(null,_0x280d7f(0x18d));},'filename':(_0x3c86c3,_0xeb0ff5,_0x438404)=>{const _0xbea88=a0_0x3666bb;_0x438404(null,Date[_0xbea88(0x19b)]()+_0xeb0ff5['originalname']);}}),upload=multer({'storage':storage});function a0_0x3bce(){const _0x1031a8=['/:id','/master_shop/view','exports','/view/email','master','express','RMSEmail','filename','render','FGSEmail','/view/email/edit_settings','errors','./public/upload','hidden','port','master\x20settings\x20email_data','Arabic','single','4079579tbnxnx','898YXVagt','en-US','Hindi','supervisor_settings','615352kSackc','1691256vYZrMQ','params','now','diskStorage','../middleware/auth','master_shop_data','body','email','master_settings','redirect','findOne','flash','/master_shop/view/email','post','get','8RiYgyG','4330tSMtFN','/view/supervisors','image','198sJLhtE','host','Portuguese','log','timezone','26238JsrPOS','English\x20(US)','21989lLsZQQ','French','email_settings','currency','English','multer','1615311QqsdLA','/view/edit_settings','success','toLocaleString','site_title','Spanish','Chinese','shop\x20setting\x20edit\x20successfully','find','German','145SBLXxr','user','Router','Arabic\x20(ae)','Portuguese\x20(BR)','timezones-list','RMSName','currency_placement','/master_shop/view/supervisors','language','save','../public/language/languages.json'];a0_0x3bce=function(){return _0x1031a8;};return a0_0x3bce();}router[a0_0x3666bb(0x159)]('/view',auth,async(_0x501311,_0x55d8e1)=>{const _0x9340d7=a0_0x3666bb;try{const {username:_0x39af64,email:_0x488eba,role:_0x1263dd}=_0x501311[_0x9340d7(0x176)],_0x7c961b=_0x501311[_0x9340d7(0x176)],_0x2ed3bb=await profile[_0x9340d7(0x155)]({'email':_0x7c961b[_0x9340d7(0x152)]}),_0x483710=await master_shop[_0x9340d7(0x173)]();console[_0x9340d7(0x161)](_0x9340d7(0x185),_0x483710);const _0x223077=new Date()['toLocaleString']('en-US',{'timeZone':_0x483710[0x0]['timezone']});console[_0x9340d7(0x161)](_0x9340d7(0x162),_0x223077);if(_0x483710[0x0][_0x9340d7(0x17e)]==_0x9340d7(0x164)){var _0x5d0135=users[_0x9340d7(0x169)];console[_0x9340d7(0x161)](_0x5d0135);}else{if(_0x483710[0x0]['language']==_0x9340d7(0x196))var _0x5d0135=users[_0x9340d7(0x196)];else{if(_0x483710[0x0][_0x9340d7(0x17e)]==_0x9340d7(0x174))var _0x5d0135=users['German'];else{if(_0x483710[0x0][_0x9340d7(0x17e)]==_0x9340d7(0x170))var _0x5d0135=users[_0x9340d7(0x170)];else{if(_0x483710[0x0]['language']==_0x9340d7(0x166))var _0x5d0135=users[_0x9340d7(0x166)];else{if(_0x483710[0x0][_0x9340d7(0x17e)]=='Portuguese\x20(BR)')var _0x5d0135=users[_0x9340d7(0x160)];else{if(_0x483710[0x0][_0x9340d7(0x17e)]==_0x9340d7(0x171))var _0x5d0135=users['Chinese'];else{if(_0x483710[0x0][_0x9340d7(0x17e)]==_0x9340d7(0x178))var _0x5d0135=users['Arabic'];}}}}}}}_0x55d8e1[_0x9340d7(0x189)](_0x9340d7(0x153),{'success':_0x501311['flash'](_0x9340d7(0x16d)),'errors':_0x501311[_0x9340d7(0x156)](_0x9340d7(0x18c)),'role':_0x7c961b,'profile':_0x2ed3bb,'master_shop':_0x483710,'timezones':timezones,'language':_0x5d0135});}catch(_0x2f112d){console[_0x9340d7(0x161)](_0x2f112d);}}),router[a0_0x3666bb(0x159)](a0_0x3666bb(0x181),auth,async(_0x39f315,_0x351e42)=>{const _0x38e475=a0_0x3666bb;try{console[_0x38e475(0x161)](_0x38e475(0x17e)),console[_0x38e475(0x161)](_0x39f315[_0x38e475(0x19a)]['id']);const _0x44229d=await master_shop[_0x38e475(0x155)]();_0x44229d['language']=_0x39f315[_0x38e475(0x19a)]['id'],await _0x44229d[_0x38e475(0x17f)](),console['log']('master',_0x44229d);}catch(_0x2a24a7){console['log'](_0x2a24a7);}}),router[a0_0x3666bb(0x158)](a0_0x3666bb(0x16c),auth,upload[a0_0x3666bb(0x192)](a0_0x3666bb(0x15d)),async(_0x530688,_0x457e3d)=>{const _0x27b76c=a0_0x3666bb;try{const {site_title:_0x68286f,currency:_0x475f78,currency_placement:_0x1ed5b1,timezone:_0x2a744b}=_0x530688[_0x27b76c(0x151)];if(_0x530688[_0x27b76c(0x151)][_0x27b76c(0x18e)]==0x0){const _0x227897=await master_shop[_0x27b76c(0x155)]();console[_0x27b76c(0x161)](_0x27b76c(0x150),_0x227897);if(_0x227897==''){const _0x1bc8da=new master_shop({'site_title':_0x68286f,'image':image,'currency':_0x475f78,'currency_placement':_0x1ed5b1,'timezone':_0x2a744b}),_0x4d26e5=await _0x1bc8da['save']();}else _0x227897['site_title']=_0x68286f,_0x227897['currency']=_0x475f78,_0x227897[_0x27b76c(0x17c)]=_0x1ed5b1,_0x227897['timezone']=_0x2a744b,await _0x227897[_0x27b76c(0x17f)]();}else{const _0x4aa5e4=_0x530688['file'][_0x27b76c(0x188)],_0x40d958=await master_shop['findOne']();console[_0x27b76c(0x161)]('2nd\x20master_shop_data',_0x40d958);if(_0x40d958==null){console[_0x27b76c(0x161)]('1',_0x68286f);const _0x24d007=new master_shop({'site_title':_0x68286f,'image':_0x4aa5e4,'currency':_0x475f78,'currency_placement':_0x1ed5b1,'timezone':_0x2a744b}),_0x19c708=await _0x24d007[_0x27b76c(0x17f)]();}else console['log']('2',_0x68286f),_0x40d958[_0x27b76c(0x16f)]=_0x68286f,_0x40d958[_0x27b76c(0x15d)]=_0x4aa5e4,_0x40d958[_0x27b76c(0x168)]=_0x475f78,_0x40d958['currency_placement']=_0x1ed5b1,_0x40d958[_0x27b76c(0x162)]=_0x2a744b,await _0x40d958['save']();}_0x530688[_0x27b76c(0x156)](_0x27b76c(0x16d),_0x27b76c(0x172)),_0x457e3d[_0x27b76c(0x154)](_0x27b76c(0x182));}catch(_0x32db7e){console[_0x27b76c(0x161)](_0x32db7e);}}),router['get'](a0_0x3666bb(0x184),auth,async(_0x3cc4df,_0x173cd2)=>{const _0x4142c1=a0_0x3666bb;try{const {username:_0x46b478,email:_0x2b7b57,role:_0x45d360}=_0x3cc4df[_0x4142c1(0x176)],_0x75ade6=_0x3cc4df[_0x4142c1(0x176)],_0x3d45e1=await profile[_0x4142c1(0x155)]({'email':_0x75ade6['email']}),_0x227cd4=await master_shop['find']();console['log']('master',_0x227cd4);const _0x1fa524=await email_settings[_0x4142c1(0x155)]();console[_0x4142c1(0x161)](_0x4142c1(0x190),_0x1fa524);if(_0x227cd4[0x0][_0x4142c1(0x17e)]==_0x4142c1(0x164)){var _0x530d38=users[_0x4142c1(0x169)];console[_0x4142c1(0x161)](_0x530d38);}else{if(_0x227cd4[0x0]['language']==_0x4142c1(0x196))var _0x530d38=users[_0x4142c1(0x196)];else{if(_0x227cd4[0x0][_0x4142c1(0x17e)]=='German')var _0x530d38=users['German'];else{if(_0x227cd4[0x0][_0x4142c1(0x17e)]==_0x4142c1(0x170))var _0x530d38=users['Spanish'];else{if(_0x227cd4[0x0]['language']=='French')var _0x530d38=users['French'];else{if(_0x227cd4[0x0][_0x4142c1(0x17e)]==_0x4142c1(0x179))var _0x530d38=users[_0x4142c1(0x160)];else{if(_0x227cd4[0x0][_0x4142c1(0x17e)]==_0x4142c1(0x171))var _0x530d38=users[_0x4142c1(0x171)];else{if(_0x227cd4[0x0]['language']==_0x4142c1(0x178))var _0x530d38=users['Arabic'];}}}}}}}_0x173cd2[_0x4142c1(0x189)](_0x4142c1(0x167),{'success':_0x3cc4df[_0x4142c1(0x156)]('success'),'errors':_0x3cc4df['flash']('errors'),'role':_0x75ade6,'profile':_0x3d45e1,'master_shop':_0x227cd4,'email':_0x1fa524,'language':_0x530d38});}catch(_0xd718ce){console['log'](_0xd718ce);}}),router['post'](a0_0x3666bb(0x18b),auth,async(_0x3eb82c,_0x1c9214)=>{const _0x4df0bd=a0_0x3666bb;try{const {host:_0xceb11a,port:_0x13a1ea,email:_0x340507,password:_0x1f9d5b}=_0x3eb82c['body'],_0x55118f=await email_settings[_0x4df0bd(0x155)]();if(_0x55118f==null){const _0x3607bd=new email_settings({'host':_0xceb11a,'port':_0x13a1ea,'email':_0x340507,'password':_0x1f9d5b});await _0x3607bd[_0x4df0bd(0x17f)]();}else _0x55118f[_0x4df0bd(0x15f)]=_0xceb11a,_0x55118f[_0x4df0bd(0x18f)]=_0x13a1ea,_0x55118f[_0x4df0bd(0x152)]=_0x340507,_0x55118f['password']=_0x1f9d5b,await _0x55118f['save']();_0x3eb82c[_0x4df0bd(0x156)](_0x4df0bd(0x16d),'shop\x20setting\x20edit\x20successfully'),_0x1c9214[_0x4df0bd(0x154)](_0x4df0bd(0x157));}catch(_0x4bc010){console[_0x4df0bd(0x161)](_0x4bc010);}}),router[a0_0x3666bb(0x159)](a0_0x3666bb(0x15c),auth,async(_0xa707d4,_0x196802)=>{const _0x50b840=a0_0x3666bb;try{const {username:_0x45b8fc,email:_0x4a0f39,role:_0x19fe29}=_0xa707d4['user'],_0x51beca=_0xa707d4[_0x50b840(0x176)],_0x15ede7=await supervisor_settings[_0x50b840(0x173)](),_0x2096e8=await profile[_0x50b840(0x155)]({'email':_0x51beca['email']}),_0x6bb5a3=await master_shop[_0x50b840(0x173)](),_0xb20bad=new Date()[_0x50b840(0x16e)](_0x50b840(0x195),{'timeZone':_0x6bb5a3[0x0][_0x50b840(0x162)]});if(_0x6bb5a3[0x0][_0x50b840(0x17e)]==_0x50b840(0x164)){var _0x1071ff=users[_0x50b840(0x169)];console[_0x50b840(0x161)](_0x1071ff);}else{if(_0x6bb5a3[0x0][_0x50b840(0x17e)]=='Hindi')var _0x1071ff=users[_0x50b840(0x196)];else{if(_0x6bb5a3[0x0]['language']==_0x50b840(0x174))var _0x1071ff=users[_0x50b840(0x174)];else{if(_0x6bb5a3[0x0][_0x50b840(0x17e)]==_0x50b840(0x170))var _0x1071ff=users[_0x50b840(0x170)];else{if(_0x6bb5a3[0x0][_0x50b840(0x17e)]==_0x50b840(0x166))var _0x1071ff=users['French'];else{if(_0x6bb5a3[0x0][_0x50b840(0x17e)]==_0x50b840(0x179))var _0x1071ff=users['Portuguese'];else{if(_0x6bb5a3[0x0]['language']==_0x50b840(0x171))var _0x1071ff=users['Chinese'];else{if(_0x6bb5a3[0x0]['language']==_0x50b840(0x178))var _0x1071ff=users[_0x50b840(0x191)];}}}}}}}_0x196802[_0x50b840(0x189)](_0x50b840(0x197),{'success':_0xa707d4[_0x50b840(0x156)](_0x50b840(0x16d)),'errors':_0xa707d4[_0x50b840(0x156)]('errors'),'role':_0x51beca,'profile':_0x2096e8,'master_shop':_0x6bb5a3,'supervisor_data':_0x15ede7[0x0],'timezones':timezones,'language':_0x1071ff});}catch(_0x498395){console['log'](_0x498395);}}),router['post'](a0_0x3666bb(0x15c),auth,async(_0x4412ad,_0x28cf63)=>{const _0x40e149=a0_0x3666bb;try{const {rm_name:_0x3f944f,fg_name:_0x3647f2,rm_email:_0x2dd8f4,fg_email:_0x3d77a0,rm_mobilenum:_0x5161ce,fg_number:_0xb37274}=_0x4412ad[_0x40e149(0x151)],_0x4716ef=await supervisor_settings[_0x40e149(0x155)]();if(_0x4716ef==null){const _0x5a2edc=new supervisor_settings({'RMSName':_0x3f944f,'RMSEmail':_0x2dd8f4,'RMSnumber':_0x5161ce,'FGSName':_0x3647f2,'FGSEmail':_0x3d77a0,'FGSnumber':_0xb37274});await _0x5a2edc[_0x40e149(0x17f)]();}else _0x4716ef[_0x40e149(0x17b)]=_0x3f944f,_0x4716ef[_0x40e149(0x187)]=_0x2dd8f4,_0x4716ef['RMSnumber']=_0x5161ce,_0x4716ef['FGSName']=_0x3647f2,_0x4716ef[_0x40e149(0x18a)]=_0x3d77a0,_0x4716ef['FGSnumber']=_0xb37274,await _0x4716ef[_0x40e149(0x17f)]();_0x4412ad[_0x40e149(0x156)](_0x40e149(0x16d),'shop\x20setting\x20edit\x20successfully'),_0x28cf63[_0x40e149(0x154)](_0x40e149(0x17d));}catch(_0x209a80){console[_0x40e149(0x161)](_0x209a80);}}),module[a0_0x3666bb(0x183)]=router;