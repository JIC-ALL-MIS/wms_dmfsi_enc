const a0_0x5b1b94=a0_0xde4d;(function(_0x71fd33,_0x10f307){const _0x1709db=a0_0xde4d,_0x4d40a6=_0x71fd33();while(!![]){try{const _0x455a12=parseInt(_0x1709db(0x193))/0x1+-parseInt(_0x1709db(0x18c))/0x2+-parseInt(_0x1709db(0x1c1))/0x3*(-parseInt(_0x1709db(0x1c3))/0x4)+parseInt(_0x1709db(0x19c))/0x5+parseInt(_0x1709db(0x1ae))/0x6+-parseInt(_0x1709db(0x1bb))/0x7*(-parseInt(_0x1709db(0x1cb))/0x8)+-parseInt(_0x1709db(0x1b9))/0x9;if(_0x455a12===_0x10f307)break;else _0x4d40a6['push'](_0x4d40a6['shift']());}catch(_0x3c0117){_0x4d40a6['push'](_0x4d40a6['shift']());}}}(a0_0xedc9,0xef21f));function a0_0xde4d(_0x960cb5,_0x3cf20e){const _0xedc91=a0_0xedc9();return a0_0xde4d=function(_0xde4d9,_0x1ea489){_0xde4d9=_0xde4d9-0x186;let _0x43620c=_0xedc91[_0xde4d9];return _0x43620c;},a0_0xde4d(_0x960cb5,_0x3cf20e);}const express=require(a0_0x5b1b94(0x18e)),app=express(),router=express[a0_0x5b1b94(0x1a5)](),multer=require(a0_0x5b1b94(0x19a)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x5b1b94(0x1c2)),auth=require(a0_0x5b1b94(0x1a7));var timezones=require(a0_0x5b1b94(0x1be));const users=require(a0_0x5b1b94(0x196)),storage=multer[a0_0x5b1b94(0x1af)]({'destination':(_0x1bfb01,_0x2ae156,_0x18bc49)=>{_0x18bc49(null,'./public/upload');},'filename':(_0x17e405,_0x1303cf,_0x460d2b)=>{const _0x19c08a=a0_0x5b1b94;_0x460d2b(null,Date[_0x19c08a(0x198)]()+_0x1303cf[_0x19c08a(0x19d)]);}}),upload=multer({'storage':storage});router['get']('/view',auth,async(_0xf82c2f,_0x574dff)=>{const _0x46e2ed=a0_0x5b1b94;try{const {username:_0x4c1398,email:_0x34710b,role:_0x29cce0}=_0xf82c2f[_0x46e2ed(0x1ca)],_0x1594e8=_0xf82c2f[_0x46e2ed(0x1ca)],_0x38b335=await profile['findOne']({'email':_0x1594e8[_0x46e2ed(0x1b3)]}),_0x8d34cb=await master_shop[_0x46e2ed(0x194)]();console[_0x46e2ed(0x1ba)](_0x46e2ed(0x1a1),_0x8d34cb);const _0xfc814e=new Date()[_0x46e2ed(0x19e)]('en-US',{'timeZone':_0x8d34cb[0x0][_0x46e2ed(0x1a8)]});console[_0x46e2ed(0x1ba)](_0x46e2ed(0x1a8),_0xfc814e);if(_0x8d34cb[0x0]['language']==_0x46e2ed(0x1a2)){var _0x413d27=users[_0x46e2ed(0x1c4)];console[_0x46e2ed(0x1ba)](_0x413d27);}else{if(_0x8d34cb[0x0][_0x46e2ed(0x1cf)]=='Hindi')var _0x413d27=users[_0x46e2ed(0x197)];else{if(_0x8d34cb[0x0][_0x46e2ed(0x1cf)]==_0x46e2ed(0x1ac))var _0x413d27=users[_0x46e2ed(0x1ac)];else{if(_0x8d34cb[0x0][_0x46e2ed(0x1cf)]==_0x46e2ed(0x1b4))var _0x413d27=users[_0x46e2ed(0x1b4)];else{if(_0x8d34cb[0x0]['language']=='French')var _0x413d27=users[_0x46e2ed(0x195)];else{if(_0x8d34cb[0x0][_0x46e2ed(0x1cf)]==_0x46e2ed(0x1c7))var _0x413d27=users[_0x46e2ed(0x1d0)];else{if(_0x8d34cb[0x0][_0x46e2ed(0x1cf)]==_0x46e2ed(0x1c5))var _0x413d27=users[_0x46e2ed(0x1c5)];else{if(_0x8d34cb[0x0][_0x46e2ed(0x1cf)]==_0x46e2ed(0x18a))var _0x413d27=users['Arabic'];}}}}}}}_0x574dff[_0x46e2ed(0x1c8)](_0x46e2ed(0x1ce),{'success':_0xf82c2f[_0x46e2ed(0x1b1)](_0x46e2ed(0x192)),'errors':_0xf82c2f[_0x46e2ed(0x1b1)](_0x46e2ed(0x186)),'role':_0x1594e8,'profile':_0x38b335,'master_shop':_0x8d34cb,'timezones':timezones,'language':_0x413d27});}catch(_0x46ea78){console['log'](_0x46ea78);}}),router['get'](a0_0x5b1b94(0x199),auth,async(_0x1e7e08,_0x10506c)=>{const _0x9632e9=a0_0x5b1b94;try{console[_0x9632e9(0x1ba)](_0x9632e9(0x1cf)),console[_0x9632e9(0x1ba)](_0x1e7e08[_0x9632e9(0x1b5)]['id']);const _0x4fc774=await master_shop[_0x9632e9(0x19b)]();_0x4fc774[_0x9632e9(0x1cf)]=_0x1e7e08[_0x9632e9(0x1b5)]['id'],await _0x4fc774[_0x9632e9(0x18b)](),console['log']('master',_0x4fc774);}catch(_0x355aa9){console[_0x9632e9(0x1ba)](_0x355aa9);}}),router[a0_0x5b1b94(0x191)](a0_0x5b1b94(0x1cc),auth,upload['single'](a0_0x5b1b94(0x1a6)),async(_0x3e2eac,_0x3ae447)=>{const _0x518145=a0_0x5b1b94;try{const {site_title:_0x4f3e08,currency:_0x65f6ef,currency_placement:_0x24dbf1,timezone:_0x35bd59}=_0x3e2eac['body'];if(_0x3e2eac['body'][_0x518145(0x1a3)]==0x0){const _0x1a2782=await master_shop[_0x518145(0x19b)]();console[_0x518145(0x1ba)](_0x518145(0x18d),_0x1a2782);if(_0x1a2782==''){const _0x4fae6c=new master_shop({'site_title':_0x4f3e08,'image':image,'currency':_0x65f6ef,'currency_placement':_0x24dbf1,'timezone':_0x35bd59}),_0x3e6f82=await _0x4fae6c[_0x518145(0x18b)]();}else _0x1a2782[_0x518145(0x1cd)]=_0x4f3e08,_0x1a2782[_0x518145(0x1b7)]=_0x65f6ef,_0x1a2782[_0x518145(0x1a0)]=_0x24dbf1,_0x1a2782[_0x518145(0x1a8)]=_0x35bd59,await _0x1a2782[_0x518145(0x18b)]();}else{const _0xec9ce5=_0x3e2eac['file']['filename'],_0x5b5b2d=await master_shop[_0x518145(0x19b)]();console[_0x518145(0x1ba)](_0x518145(0x1b6),_0x5b5b2d);if(_0x5b5b2d==null){console[_0x518145(0x1ba)]('1',_0x4f3e08);const _0x496ec6=new master_shop({'site_title':_0x4f3e08,'image':_0xec9ce5,'currency':_0x65f6ef,'currency_placement':_0x24dbf1,'timezone':_0x35bd59}),_0x2a73f9=await _0x496ec6[_0x518145(0x18b)]();}else console['log']('2',_0x4f3e08),_0x5b5b2d[_0x518145(0x1cd)]=_0x4f3e08,_0x5b5b2d[_0x518145(0x1a6)]=_0xec9ce5,_0x5b5b2d[_0x518145(0x1b7)]=_0x65f6ef,_0x5b5b2d[_0x518145(0x1a0)]=_0x24dbf1,_0x5b5b2d[_0x518145(0x1a8)]=_0x35bd59,await _0x5b5b2d[_0x518145(0x18b)]();}_0x3e2eac[_0x518145(0x1b1)](_0x518145(0x192),_0x518145(0x1c9)),_0x3ae447['redirect'](_0x518145(0x1a9));}catch(_0x18e748){console[_0x518145(0x1ba)](_0x18e748);}}),router[a0_0x5b1b94(0x18f)](a0_0x5b1b94(0x190),auth,async(_0x2512fb,_0x13fb53)=>{const _0x2bbdb9=a0_0x5b1b94;try{const {username:_0x121307,email:_0x5461b0,role:_0x3f5d9f}=_0x2512fb[_0x2bbdb9(0x1ca)],_0x3db717=_0x2512fb[_0x2bbdb9(0x1ca)],_0x599d9a=await profile[_0x2bbdb9(0x19b)]({'email':_0x3db717[_0x2bbdb9(0x1b3)]}),_0x3551a9=await master_shop['find']();console[_0x2bbdb9(0x1ba)](_0x2bbdb9(0x1a1),_0x3551a9);const _0x254571=await email_settings[_0x2bbdb9(0x19b)]();console['log'](_0x2bbdb9(0x1b2),_0x254571);if(_0x3551a9[0x0][_0x2bbdb9(0x1cf)]==_0x2bbdb9(0x1a2)){var _0x2d5de9=users[_0x2bbdb9(0x1c4)];console['log'](_0x2d5de9);}else{if(_0x3551a9[0x0][_0x2bbdb9(0x1cf)]==_0x2bbdb9(0x197))var _0x2d5de9=users['Hindi'];else{if(_0x3551a9[0x0][_0x2bbdb9(0x1cf)]=='German')var _0x2d5de9=users['German'];else{if(_0x3551a9[0x0][_0x2bbdb9(0x1cf)]=='Spanish')var _0x2d5de9=users[_0x2bbdb9(0x1b4)];else{if(_0x3551a9[0x0][_0x2bbdb9(0x1cf)]==_0x2bbdb9(0x195))var _0x2d5de9=users[_0x2bbdb9(0x195)];else{if(_0x3551a9[0x0][_0x2bbdb9(0x1cf)]==_0x2bbdb9(0x1c7))var _0x2d5de9=users[_0x2bbdb9(0x1d0)];else{if(_0x3551a9[0x0][_0x2bbdb9(0x1cf)]==_0x2bbdb9(0x1c5))var _0x2d5de9=users[_0x2bbdb9(0x1c5)];else{if(_0x3551a9[0x0][_0x2bbdb9(0x1cf)]=='Arabic\x20(ae)')var _0x2d5de9=users[_0x2bbdb9(0x1c6)];}}}}}}}_0x13fb53[_0x2bbdb9(0x1c8)](_0x2bbdb9(0x1c0),{'success':_0x2512fb[_0x2bbdb9(0x1b1)](_0x2bbdb9(0x192)),'errors':_0x2512fb['flash'](_0x2bbdb9(0x186)),'role':_0x3db717,'profile':_0x599d9a,'master_shop':_0x3551a9,'email':_0x254571,'language':_0x2d5de9});}catch(_0xafe927){console[_0x2bbdb9(0x1ba)](_0xafe927);}}),router['post'](a0_0x5b1b94(0x189),auth,async(_0x3946b4,_0x36c6b1)=>{const _0x42f8e0=a0_0x5b1b94;try{const {host:_0x46395a,port:_0x404418,email:_0x55dca9,password:_0x3165c9}=_0x3946b4[_0x42f8e0(0x1bc)],_0xc94970=await email_settings[_0x42f8e0(0x19b)]();if(_0xc94970==null){const _0x32139c=new email_settings({'host':_0x46395a,'port':_0x404418,'email':_0x55dca9,'password':_0x3165c9});await _0x32139c[_0x42f8e0(0x18b)]();}else _0xc94970['host']=_0x46395a,_0xc94970[_0x42f8e0(0x187)]=_0x404418,_0xc94970[_0x42f8e0(0x1b3)]=_0x55dca9,_0xc94970['password']=_0x3165c9,await _0xc94970[_0x42f8e0(0x18b)]();_0x3946b4[_0x42f8e0(0x1b1)](_0x42f8e0(0x192),_0x42f8e0(0x1c9)),_0x36c6b1[_0x42f8e0(0x1a4)](_0x42f8e0(0x1ad));}catch(_0x446617){console[_0x42f8e0(0x1ba)](_0x446617);}}),router['get'](a0_0x5b1b94(0x1aa),auth,async(_0x234b1b,_0x462a98)=>{const _0x4a4991=a0_0x5b1b94;try{const {username:_0x3631bf,email:_0x2d7b8e,role:_0x2b738c}=_0x234b1b[_0x4a4991(0x1ca)],_0x2840f9=_0x234b1b[_0x4a4991(0x1ca)],_0x3dc2e0=await supervisor_settings[_0x4a4991(0x194)](),_0x5491d5=await profile[_0x4a4991(0x19b)]({'email':_0x2840f9[_0x4a4991(0x1b3)]}),_0xe6166c=await master_shop[_0x4a4991(0x194)](),_0x878f07=new Date()['toLocaleString'](_0x4a4991(0x188),{'timeZone':_0xe6166c[0x0][_0x4a4991(0x1a8)]});if(_0xe6166c[0x0]['language']==_0x4a4991(0x1a2)){var _0x466e05=users[_0x4a4991(0x1c4)];console['log'](_0x466e05);}else{if(_0xe6166c[0x0][_0x4a4991(0x1cf)]==_0x4a4991(0x197))var _0x466e05=users[_0x4a4991(0x197)];else{if(_0xe6166c[0x0][_0x4a4991(0x1cf)]==_0x4a4991(0x1ac))var _0x466e05=users[_0x4a4991(0x1ac)];else{if(_0xe6166c[0x0]['language']=='Spanish')var _0x466e05=users[_0x4a4991(0x1b4)];else{if(_0xe6166c[0x0][_0x4a4991(0x1cf)]==_0x4a4991(0x195))var _0x466e05=users[_0x4a4991(0x195)];else{if(_0xe6166c[0x0][_0x4a4991(0x1cf)]==_0x4a4991(0x1c7))var _0x466e05=users['Portuguese'];else{if(_0xe6166c[0x0][_0x4a4991(0x1cf)]==_0x4a4991(0x1c5))var _0x466e05=users[_0x4a4991(0x1c5)];else{if(_0xe6166c[0x0]['language']==_0x4a4991(0x18a))var _0x466e05=users['Arabic'];}}}}}}}_0x462a98[_0x4a4991(0x1c8)]('supervisor_settings',{'success':_0x234b1b[_0x4a4991(0x1b1)](_0x4a4991(0x192)),'errors':_0x234b1b[_0x4a4991(0x1b1)](_0x4a4991(0x186)),'role':_0x2840f9,'profile':_0x5491d5,'master_shop':_0xe6166c,'supervisor_data':_0x3dc2e0[0x0],'timezones':timezones,'language':_0x466e05});}catch(_0xe7eea2){console[_0x4a4991(0x1ba)](_0xe7eea2);}}),router[a0_0x5b1b94(0x191)](a0_0x5b1b94(0x1aa),auth,async(_0x3ad43e,_0x22fc76)=>{const _0xce03be=a0_0x5b1b94;try{const {rm_name:_0x50a59c,fg_name:_0x5b7d65,rm_email:_0x208de5,fg_email:_0x2efc71,rm_mobilenum:_0x188027,fg_number:_0x1db7b9}=_0x3ad43e[_0xce03be(0x1bc)],_0x6e08d3=await supervisor_settings[_0xce03be(0x19b)]();if(_0x6e08d3==null){const _0x1e9ad4=new supervisor_settings({'RMSName':_0x50a59c,'RMSEmail':_0x208de5,'RMSnumber':_0x188027,'FGSName':_0x5b7d65,'FGSEmail':_0x2efc71,'FGSnumber':_0x1db7b9});await _0x1e9ad4[_0xce03be(0x18b)]();}else _0x6e08d3[_0xce03be(0x1bd)]=_0x50a59c,_0x6e08d3[_0xce03be(0x1b0)]=_0x208de5,_0x6e08d3[_0xce03be(0x19f)]=_0x188027,_0x6e08d3[_0xce03be(0x1b8)]=_0x5b7d65,_0x6e08d3[_0xce03be(0x1bf)]=_0x2efc71,_0x6e08d3[_0xce03be(0x1ab)]=_0x1db7b9,await _0x6e08d3[_0xce03be(0x18b)]();_0x3ad43e[_0xce03be(0x1b1)]('success','shop\x20setting\x20edit\x20successfully'),_0x22fc76['redirect']('/master_shop/view/supervisors');}catch(_0x372382){console[_0xce03be(0x1ba)](_0x372382);}}),module['exports']=router;function a0_0xedc9(){const _0x5a858d=['errors','port','en-US','/view/email/edit_settings','Arabic\x20(ae)','save','908070nkdehQ','master_shop_data','express','get','/view/email','post','success','1151124qDvrvY','find','French','../public/language/languages.json','Hindi','now','/:id','multer','findOne','4568215gdGNmD','originalname','toLocaleString','RMSnumber','currency_placement','master','English\x20(US)','hidden','redirect','Router','image','../middleware/auth','timezone','/master_shop/view','/view/supervisors','FGSnumber','German','/master_shop/view/email','7456692CoGdAR','diskStorage','RMSEmail','flash','master\x20settings\x20email_data','email','Spanish','params','2nd\x20master_shop_data','currency','FGSName','36232425GvfdsG','log','10158827XiJpAN','body','RMSName','timezones-list','FGSEmail','email_settings','3qmhoCh','../models/all_models','2802148hoOvKb','English','Chinese','Arabic','Portuguese\x20(BR)','render','shop\x20setting\x20edit\x20successfully','user','8SwNqTB','/view/edit_settings','site_title','master_settings','language','Portuguese'];a0_0xedc9=function(){return _0x5a858d;};return a0_0xedc9();}