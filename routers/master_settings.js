const a0_0x136efd=a0_0x372b;function a0_0x26cd(){const _0x14e7d8=['9786792FwbgHw','FGSName','hidden','shop\x20setting\x20edit\x20successfully','1190428hsdyvr','timezones-list','/master_shop/view/supervisors','/view/edit_settings','originalname','/master_shop/view','725076TQdIqs','findOne','/master_shop/view/email','en-US','password','English','master\x20settings\x20email_data','find','params','master_shop_data','get','1771955TghfRa','log','filename','image','save','Arabic','post','file','./public/upload','1008429bWxVQQ','FGSnumber','body','Spanish','render','371thzDRr','language','FGSEmail','redirect','/view/supervisors','Portuguese\x20(BR)','port','master','RMSName','errors','French','currency_placement','user','/view','exports','../public/language/languages.json','express','toLocaleString','Hindi','flash','RMSnumber','currency','Chinese','now','4650JMTPVw','success','291222AfYxod','Portuguese','/view/email/edit_settings','Arabic\x20(ae)','German','2nd\x20master_shop_data','timezone','single','RMSEmail','English\x20(US)','diskStorage','email'];a0_0x26cd=function(){return _0x14e7d8;};return a0_0x26cd();}(function(_0x214470,_0xa5f406){const _0x58cfc7=a0_0x372b,_0x300138=_0x214470();while(!![]){try{const _0x46ff0=-parseInt(_0x58cfc7(0xbc))/0x1+-parseInt(_0x58cfc7(0xd2))/0x2+-parseInt(_0x58cfc7(0xe6))/0x3+parseInt(_0x58cfc7(0xcc))/0x4+-parseInt(_0x58cfc7(0xdd))/0x5+-parseInt(_0x58cfc7(0x103))/0x6*(-parseInt(_0x58cfc7(0xeb))/0x7)+parseInt(_0x58cfc7(0xc8))/0x8;if(_0x46ff0===_0xa5f406)break;else _0x300138['push'](_0x300138['shift']());}catch(_0x39ad7e){_0x300138['push'](_0x300138['shift']());}}}(a0_0x26cd,0x35289));const express=require(a0_0x136efd(0xfb)),app=express(),router=express['Router'](),multer=require('multer'),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require('../middleware/auth');var timezones=require(a0_0x136efd(0xcd));const users=require(a0_0x136efd(0xfa)),storage=multer[a0_0x136efd(0xc6)]({'destination':(_0x2d4392,_0x5ef389,_0x50f007)=>{const _0x2df684=a0_0x136efd;_0x50f007(null,_0x2df684(0xe5));},'filename':(_0x46d68e,_0x5189e7,_0x448a15)=>{const _0x3451cb=a0_0x136efd;_0x448a15(null,Date[_0x3451cb(0x102)]()+_0x5189e7[_0x3451cb(0xd0)]);}}),upload=multer({'storage':storage});function a0_0x372b(_0x171d81,_0x499ffa){const _0x26cd49=a0_0x26cd();return a0_0x372b=function(_0x372b51,_0x22ce0f){_0x372b51=_0x372b51-0xbb;let _0x27ddd3=_0x26cd49[_0x372b51];return _0x27ddd3;},a0_0x372b(_0x171d81,_0x499ffa);}router['get'](a0_0x136efd(0xf8),auth,async(_0x25af4f,_0x5adf31)=>{const _0x50e605=a0_0x136efd;try{const {username:_0x48fbcc,email:_0x4e57cf,role:_0x52342a}=_0x25af4f[_0x50e605(0xf7)],_0x32a468=_0x25af4f['user'],_0x145bfe=await profile['findOne']({'email':_0x32a468[_0x50e605(0xc7)]}),_0x5c9345=await master_shop[_0x50e605(0xd9)]();console[_0x50e605(0xde)](_0x50e605(0xf2),_0x5c9345);const _0x5eaf9c=new Date()[_0x50e605(0xfc)](_0x50e605(0xd5),{'timeZone':_0x5c9345[0x0][_0x50e605(0xc2)]});console['log'](_0x50e605(0xc2),_0x5eaf9c);if(_0x5c9345[0x0][_0x50e605(0xec)]==_0x50e605(0xc5)){var _0xc29512=users['English'];console[_0x50e605(0xde)](_0xc29512);}else{if(_0x5c9345[0x0][_0x50e605(0xec)]=='Hindi')var _0xc29512=users['Hindi'];else{if(_0x5c9345[0x0][_0x50e605(0xec)]==_0x50e605(0xc0))var _0xc29512=users[_0x50e605(0xc0)];else{if(_0x5c9345[0x0]['language']==_0x50e605(0xe9))var _0xc29512=users['Spanish'];else{if(_0x5c9345[0x0]['language']=='French')var _0xc29512=users[_0x50e605(0xf5)];else{if(_0x5c9345[0x0][_0x50e605(0xec)]=='Portuguese\x20(BR)')var _0xc29512=users[_0x50e605(0xbd)];else{if(_0x5c9345[0x0][_0x50e605(0xec)]==_0x50e605(0x101))var _0xc29512=users[_0x50e605(0x101)];else{if(_0x5c9345[0x0][_0x50e605(0xec)]==_0x50e605(0xbf))var _0xc29512=users[_0x50e605(0xe2)];}}}}}}}_0x5adf31[_0x50e605(0xea)]('master_settings',{'success':_0x25af4f[_0x50e605(0xfe)]('success'),'errors':_0x25af4f[_0x50e605(0xfe)](_0x50e605(0xf4)),'role':_0x32a468,'profile':_0x145bfe,'master_shop':_0x5c9345,'timezones':timezones,'language':_0xc29512});}catch(_0x268a64){console['log'](_0x268a64);}}),router['get']('/:id',auth,async(_0x22b785,_0x434593)=>{const _0x2c7caf=a0_0x136efd;try{console[_0x2c7caf(0xde)](_0x2c7caf(0xec)),console[_0x2c7caf(0xde)](_0x22b785[_0x2c7caf(0xda)]['id']);const _0x28521e=await master_shop[_0x2c7caf(0xd3)]();_0x28521e[_0x2c7caf(0xec)]=_0x22b785['params']['id'],await _0x28521e[_0x2c7caf(0xe1)](),console[_0x2c7caf(0xde)](_0x2c7caf(0xf2),_0x28521e);}catch(_0x2be680){console['log'](_0x2be680);}}),router[a0_0x136efd(0xe3)](a0_0x136efd(0xcf),auth,upload[a0_0x136efd(0xc3)](a0_0x136efd(0xe0)),async(_0x2ea52b,_0x318c94)=>{const _0x1f2d3e=a0_0x136efd;try{const {site_title:_0xb1e836,currency:_0x3fd0b1,currency_placement:_0x151a6b,timezone:_0x90161d}=_0x2ea52b[_0x1f2d3e(0xe8)];if(_0x2ea52b[_0x1f2d3e(0xe8)][_0x1f2d3e(0xca)]==0x0){const _0x4e665b=await master_shop[_0x1f2d3e(0xd3)]();console['log'](_0x1f2d3e(0xdb),_0x4e665b);if(_0x4e665b==''){const _0x54380a=new master_shop({'site_title':_0xb1e836,'image':image,'currency':_0x3fd0b1,'currency_placement':_0x151a6b,'timezone':_0x90161d}),_0x31ae83=await _0x54380a[_0x1f2d3e(0xe1)]();}else _0x4e665b['site_title']=_0xb1e836,_0x4e665b[_0x1f2d3e(0x100)]=_0x3fd0b1,_0x4e665b[_0x1f2d3e(0xf6)]=_0x151a6b,_0x4e665b[_0x1f2d3e(0xc2)]=_0x90161d,await _0x4e665b[_0x1f2d3e(0xe1)]();}else{const _0x153b86=_0x2ea52b[_0x1f2d3e(0xe4)][_0x1f2d3e(0xdf)],_0x17bbef=await master_shop['findOne']();console['log'](_0x1f2d3e(0xc1),_0x17bbef);if(_0x17bbef==null){console['log']('1',_0xb1e836);const _0x6307b0=new master_shop({'site_title':_0xb1e836,'image':_0x153b86,'currency':_0x3fd0b1,'currency_placement':_0x151a6b,'timezone':_0x90161d}),_0x42687c=await _0x6307b0[_0x1f2d3e(0xe1)]();}else console[_0x1f2d3e(0xde)]('2',_0xb1e836),_0x17bbef['site_title']=_0xb1e836,_0x17bbef['image']=_0x153b86,_0x17bbef[_0x1f2d3e(0x100)]=_0x3fd0b1,_0x17bbef[_0x1f2d3e(0xf6)]=_0x151a6b,_0x17bbef[_0x1f2d3e(0xc2)]=_0x90161d,await _0x17bbef[_0x1f2d3e(0xe1)]();}_0x2ea52b[_0x1f2d3e(0xfe)](_0x1f2d3e(0xbb),_0x1f2d3e(0xcb)),_0x318c94[_0x1f2d3e(0xee)](_0x1f2d3e(0xd1));}catch(_0x243dbb){console[_0x1f2d3e(0xde)](_0x243dbb);}}),router[a0_0x136efd(0xdc)]('/view/email',auth,async(_0x4f77d2,_0x54cccf)=>{const _0x56afc1=a0_0x136efd;try{const {username:_0x5508f0,email:_0x2a06c8,role:_0x56dc67}=_0x4f77d2[_0x56afc1(0xf7)],_0x58f251=_0x4f77d2['user'],_0x56ef40=await profile['findOne']({'email':_0x58f251[_0x56afc1(0xc7)]}),_0x17b39e=await master_shop[_0x56afc1(0xd9)]();console[_0x56afc1(0xde)](_0x56afc1(0xf2),_0x17b39e);const _0x38e9fa=await email_settings[_0x56afc1(0xd3)]();console[_0x56afc1(0xde)](_0x56afc1(0xd8),_0x38e9fa);if(_0x17b39e[0x0][_0x56afc1(0xec)]=='English\x20(US)'){var _0x5e346a=users[_0x56afc1(0xd7)];console[_0x56afc1(0xde)](_0x5e346a);}else{if(_0x17b39e[0x0][_0x56afc1(0xec)]==_0x56afc1(0xfd))var _0x5e346a=users[_0x56afc1(0xfd)];else{if(_0x17b39e[0x0][_0x56afc1(0xec)]=='German')var _0x5e346a=users[_0x56afc1(0xc0)];else{if(_0x17b39e[0x0][_0x56afc1(0xec)]==_0x56afc1(0xe9))var _0x5e346a=users[_0x56afc1(0xe9)];else{if(_0x17b39e[0x0][_0x56afc1(0xec)]==_0x56afc1(0xf5))var _0x5e346a=users[_0x56afc1(0xf5)];else{if(_0x17b39e[0x0][_0x56afc1(0xec)]==_0x56afc1(0xf0))var _0x5e346a=users[_0x56afc1(0xbd)];else{if(_0x17b39e[0x0][_0x56afc1(0xec)]=='Chinese')var _0x5e346a=users[_0x56afc1(0x101)];else{if(_0x17b39e[0x0]['language']=='Arabic\x20(ae)')var _0x5e346a=users[_0x56afc1(0xe2)];}}}}}}}_0x54cccf['render']('email_settings',{'success':_0x4f77d2['flash'](_0x56afc1(0xbb)),'errors':_0x4f77d2[_0x56afc1(0xfe)](_0x56afc1(0xf4)),'role':_0x58f251,'profile':_0x56ef40,'master_shop':_0x17b39e,'email':_0x38e9fa,'language':_0x5e346a});}catch(_0x40441f){console[_0x56afc1(0xde)](_0x40441f);}}),router['post'](a0_0x136efd(0xbe),auth,async(_0x5198ff,_0x494d35)=>{const _0x58c0da=a0_0x136efd;try{const {host:_0x1c30a1,port:_0x341167,email:_0x3dfffe,password:_0x34583c}=_0x5198ff[_0x58c0da(0xe8)],_0xc071c4=await email_settings['findOne']();if(_0xc071c4==null){const _0x46f899=new email_settings({'host':_0x1c30a1,'port':_0x341167,'email':_0x3dfffe,'password':_0x34583c});await _0x46f899[_0x58c0da(0xe1)]();}else _0xc071c4['host']=_0x1c30a1,_0xc071c4[_0x58c0da(0xf1)]=_0x341167,_0xc071c4[_0x58c0da(0xc7)]=_0x3dfffe,_0xc071c4[_0x58c0da(0xd6)]=_0x34583c,await _0xc071c4[_0x58c0da(0xe1)]();_0x5198ff['flash'](_0x58c0da(0xbb),_0x58c0da(0xcb)),_0x494d35[_0x58c0da(0xee)](_0x58c0da(0xd4));}catch(_0x486ee5){console[_0x58c0da(0xde)](_0x486ee5);}}),router[a0_0x136efd(0xdc)](a0_0x136efd(0xef),auth,async(_0x1e6678,_0x2f83b2)=>{const _0x41867e=a0_0x136efd;try{const {username:_0x21c22c,email:_0x6a7588,role:_0xacf755}=_0x1e6678['user'],_0x4e6e27=_0x1e6678[_0x41867e(0xf7)],_0xb229f1=await supervisor_settings[_0x41867e(0xd9)](),_0x1b39f8=await profile[_0x41867e(0xd3)]({'email':_0x4e6e27['email']}),_0x43b04d=await master_shop[_0x41867e(0xd9)](),_0x54be43=new Date()[_0x41867e(0xfc)](_0x41867e(0xd5),{'timeZone':_0x43b04d[0x0]['timezone']});if(_0x43b04d[0x0][_0x41867e(0xec)]==_0x41867e(0xc5)){var _0x3e9363=users[_0x41867e(0xd7)];console[_0x41867e(0xde)](_0x3e9363);}else{if(_0x43b04d[0x0][_0x41867e(0xec)]==_0x41867e(0xfd))var _0x3e9363=users[_0x41867e(0xfd)];else{if(_0x43b04d[0x0][_0x41867e(0xec)]==_0x41867e(0xc0))var _0x3e9363=users[_0x41867e(0xc0)];else{if(_0x43b04d[0x0]['language']==_0x41867e(0xe9))var _0x3e9363=users['Spanish'];else{if(_0x43b04d[0x0][_0x41867e(0xec)]==_0x41867e(0xf5))var _0x3e9363=users['French'];else{if(_0x43b04d[0x0][_0x41867e(0xec)]==_0x41867e(0xf0))var _0x3e9363=users[_0x41867e(0xbd)];else{if(_0x43b04d[0x0]['language']=='Chinese')var _0x3e9363=users['Chinese'];else{if(_0x43b04d[0x0][_0x41867e(0xec)]==_0x41867e(0xbf))var _0x3e9363=users['Arabic'];}}}}}}}_0x2f83b2[_0x41867e(0xea)]('supervisor_settings',{'success':_0x1e6678[_0x41867e(0xfe)](_0x41867e(0xbb)),'errors':_0x1e6678['flash'](_0x41867e(0xf4)),'role':_0x4e6e27,'profile':_0x1b39f8,'master_shop':_0x43b04d,'supervisor_data':_0xb229f1[0x0],'timezones':timezones,'language':_0x3e9363});}catch(_0x499f0b){console[_0x41867e(0xde)](_0x499f0b);}}),router[a0_0x136efd(0xe3)]('/view/supervisors',auth,async(_0x1c0cc1,_0x46c5e7)=>{const _0x2846aa=a0_0x136efd;try{const {rm_name:_0x673e2c,fg_name:_0x796ee1,rm_email:_0x100eb5,fg_email:_0x11081c,rm_mobilenum:_0x5a215e,fg_number:_0x13d9db}=_0x1c0cc1[_0x2846aa(0xe8)],_0x17bb6e=await supervisor_settings[_0x2846aa(0xd3)]();if(_0x17bb6e==null){const _0x3f5b93=new supervisor_settings({'RMSName':_0x673e2c,'RMSEmail':_0x100eb5,'RMSnumber':_0x5a215e,'FGSName':_0x796ee1,'FGSEmail':_0x11081c,'FGSnumber':_0x13d9db});await _0x3f5b93['save']();}else _0x17bb6e[_0x2846aa(0xf3)]=_0x673e2c,_0x17bb6e[_0x2846aa(0xc4)]=_0x100eb5,_0x17bb6e[_0x2846aa(0xff)]=_0x5a215e,_0x17bb6e[_0x2846aa(0xc9)]=_0x796ee1,_0x17bb6e[_0x2846aa(0xed)]=_0x11081c,_0x17bb6e[_0x2846aa(0xe7)]=_0x13d9db,await _0x17bb6e['save']();_0x1c0cc1['flash'](_0x2846aa(0xbb),_0x2846aa(0xcb)),_0x46c5e7[_0x2846aa(0xee)](_0x2846aa(0xce));}catch(_0x256e38){console[_0x2846aa(0xde)](_0x256e38);}}),module[a0_0x136efd(0xf9)]=router;