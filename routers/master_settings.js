const a0_0x5e6022=a0_0x30de;(function(_0x23e514,_0x195056){const _0x1d1698=a0_0x30de,_0x34a73c=_0x23e514();while(!![]){try{const _0x1e06c5=parseInt(_0x1d1698(0xc3))/0x1+-parseInt(_0x1d1698(0xc5))/0x2+-parseInt(_0x1d1698(0xab))/0x3*(-parseInt(_0x1d1698(0xef))/0x4)+-parseInt(_0x1d1698(0xd1))/0x5+-parseInt(_0x1d1698(0xd3))/0x6*(parseInt(_0x1d1698(0xba))/0x7)+parseInt(_0x1d1698(0xbf))/0x8*(-parseInt(_0x1d1698(0xf1))/0x9)+parseInt(_0x1d1698(0xe4))/0xa*(parseInt(_0x1d1698(0xa8))/0xb);if(_0x1e06c5===_0x195056)break;else _0x34a73c['push'](_0x34a73c['shift']());}catch(_0x5a4119){_0x34a73c['push'](_0x34a73c['shift']());}}}(a0_0x3caa,0x3a4e9));function a0_0x30de(_0x1e364a,_0x38c2e0){const _0x3caa6d=a0_0x3caa();return a0_0x30de=function(_0x30de7c,_0x40e814){_0x30de7c=_0x30de7c-0xa8;let _0x3a15ec=_0x3caa6d[_0x30de7c];return _0x3a15ec;},a0_0x30de(_0x1e364a,_0x38c2e0);}const express=require(a0_0x5e6022(0xe7)),app=express(),router=express[a0_0x5e6022(0xc9)](),multer=require('multer'),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x5e6022(0xd4)),auth=require(a0_0x5e6022(0xe3));var timezones=require(a0_0x5e6022(0xdf));const users=require(a0_0x5e6022(0xad)),storage=multer[a0_0x5e6022(0xc4)]({'destination':(_0x1da45d,_0x4aff30,_0x2720bc)=>{const _0x36c6ff=a0_0x5e6022;_0x2720bc(null,_0x36c6ff(0xe1));},'filename':(_0x426d31,_0x5956f5,_0x4b6e51)=>{const _0x2ad59a=a0_0x5e6022;_0x4b6e51(null,Date['now']()+_0x5956f5[_0x2ad59a(0xb0)]);}}),upload=multer({'storage':storage});function a0_0x3caa(){const _0x4f354f=['findOne','Hindi','181109pNemnv','diskStorage','360450JGWAcq','email_settings','image','English','Router','master_shop_data','body','/master_shop/view','site_title','FGSName','RMSEmail','English\x20(US)','264125kPelGY','2nd\x20master_shop_data','2038668WJDarK','../models/all_models','save','port','success','/view/supervisors','currency_placement','Portuguese','single','file','master','render','timezones-list','/master_shop/view/email','./public/upload','redirect','../middleware/auth','10LFDrfk','post','shop\x20setting\x20edit\x20successfully','express','master_settings','host','supervisor_settings','user','filename','/view/email','/view/edit_settings','4632hnYIQZ','currency','653517Wkffjs','Arabic','email','2677741iqOiZp','language','Arabic\x20(ae)','1191EKmfMw','Spanish','../public/language/languages.json','Chinese','FGSEmail','originalname','find','log','master\x20settings\x20email_data','French','exports','flash','RMSName','Portuguese\x20(BR)','errors','7TrWCgs','timezone','hidden','German','get','8fQlfUG','params'];a0_0x3caa=function(){return _0x4f354f;};return a0_0x3caa();}router['get']('/view',auth,async(_0x4e133c,_0x2a04f9)=>{const _0x56fcc9=a0_0x5e6022;try{const {username:_0x519dd2,email:_0x145a94,role:_0x190640}=_0x4e133c[_0x56fcc9(0xeb)],_0x8d597c=_0x4e133c['user'],_0x5aabf1=await profile['findOne']({'email':_0x8d597c['email']}),_0x44ac88=await master_shop[_0x56fcc9(0xb1)]();console[_0x56fcc9(0xb2)](_0x56fcc9(0xdd),_0x44ac88);const _0x266513=new Date()['toLocaleString']('en-US',{'timeZone':_0x44ac88[0x0][_0x56fcc9(0xbb)]});console['log'](_0x56fcc9(0xbb),_0x266513);if(_0x44ac88[0x0][_0x56fcc9(0xa9)]==_0x56fcc9(0xd0)){var _0x45cdfb=users[_0x56fcc9(0xc8)];console[_0x56fcc9(0xb2)](_0x45cdfb);}else{if(_0x44ac88[0x0]['language']==_0x56fcc9(0xc2))var _0x45cdfb=users[_0x56fcc9(0xc2)];else{if(_0x44ac88[0x0]['language']==_0x56fcc9(0xbd))var _0x45cdfb=users[_0x56fcc9(0xbd)];else{if(_0x44ac88[0x0][_0x56fcc9(0xa9)]==_0x56fcc9(0xac))var _0x45cdfb=users[_0x56fcc9(0xac)];else{if(_0x44ac88[0x0][_0x56fcc9(0xa9)]==_0x56fcc9(0xb4))var _0x45cdfb=users[_0x56fcc9(0xb4)];else{if(_0x44ac88[0x0][_0x56fcc9(0xa9)]==_0x56fcc9(0xb8))var _0x45cdfb=users[_0x56fcc9(0xda)];else{if(_0x44ac88[0x0][_0x56fcc9(0xa9)]=='Chinese')var _0x45cdfb=users['Chinese'];else{if(_0x44ac88[0x0]['language']==_0x56fcc9(0xaa))var _0x45cdfb=users[_0x56fcc9(0xf2)];}}}}}}}_0x2a04f9[_0x56fcc9(0xde)](_0x56fcc9(0xe8),{'success':_0x4e133c[_0x56fcc9(0xb6)](_0x56fcc9(0xd7)),'errors':_0x4e133c['flash'](_0x56fcc9(0xb9)),'role':_0x8d597c,'profile':_0x5aabf1,'master_shop':_0x44ac88,'timezones':timezones,'language':_0x45cdfb});}catch(_0x2cad6b){console[_0x56fcc9(0xb2)](_0x2cad6b);}}),router[a0_0x5e6022(0xbe)]('/:id',auth,async(_0x54716d,_0x57be1f)=>{const _0x2fcc7a=a0_0x5e6022;try{console[_0x2fcc7a(0xb2)](_0x2fcc7a(0xa9)),console['log'](_0x54716d[_0x2fcc7a(0xc0)]['id']);const _0x5f27f4=await master_shop[_0x2fcc7a(0xc1)]();_0x5f27f4[_0x2fcc7a(0xa9)]=_0x54716d['params']['id'],await _0x5f27f4[_0x2fcc7a(0xd5)](),console[_0x2fcc7a(0xb2)]('master',_0x5f27f4);}catch(_0x5d726d){console[_0x2fcc7a(0xb2)](_0x5d726d);}}),router['post'](a0_0x5e6022(0xee),auth,upload[a0_0x5e6022(0xdb)](a0_0x5e6022(0xc7)),async(_0x12ce06,_0x51be84)=>{const _0x5c04b3=a0_0x5e6022;try{const {site_title:_0xa3d73e,currency:_0x3e62ba,currency_placement:_0x5c9d73,timezone:_0x553e94}=_0x12ce06[_0x5c04b3(0xcb)];if(_0x12ce06[_0x5c04b3(0xcb)][_0x5c04b3(0xbc)]==0x0){const _0x295af1=await master_shop[_0x5c04b3(0xc1)]();console[_0x5c04b3(0xb2)](_0x5c04b3(0xca),_0x295af1);if(_0x295af1==''){const _0x710c99=new master_shop({'site_title':_0xa3d73e,'image':image,'currency':_0x3e62ba,'currency_placement':_0x5c9d73,'timezone':_0x553e94}),_0x3e2710=await _0x710c99[_0x5c04b3(0xd5)]();}else _0x295af1[_0x5c04b3(0xcd)]=_0xa3d73e,_0x295af1[_0x5c04b3(0xf0)]=_0x3e62ba,_0x295af1[_0x5c04b3(0xd9)]=_0x5c9d73,_0x295af1[_0x5c04b3(0xbb)]=_0x553e94,await _0x295af1[_0x5c04b3(0xd5)]();}else{const _0x31d0a0=_0x12ce06[_0x5c04b3(0xdc)][_0x5c04b3(0xec)],_0x5995af=await master_shop[_0x5c04b3(0xc1)]();console[_0x5c04b3(0xb2)](_0x5c04b3(0xd2),_0x5995af);if(_0x5995af==null){console[_0x5c04b3(0xb2)]('1',_0xa3d73e);const _0x40d41a=new master_shop({'site_title':_0xa3d73e,'image':_0x31d0a0,'currency':_0x3e62ba,'currency_placement':_0x5c9d73,'timezone':_0x553e94}),_0x380995=await _0x40d41a[_0x5c04b3(0xd5)]();}else console[_0x5c04b3(0xb2)]('2',_0xa3d73e),_0x5995af['site_title']=_0xa3d73e,_0x5995af[_0x5c04b3(0xc7)]=_0x31d0a0,_0x5995af[_0x5c04b3(0xf0)]=_0x3e62ba,_0x5995af[_0x5c04b3(0xd9)]=_0x5c9d73,_0x5995af['timezone']=_0x553e94,await _0x5995af[_0x5c04b3(0xd5)]();}_0x12ce06[_0x5c04b3(0xb6)]('success',_0x5c04b3(0xe6)),_0x51be84[_0x5c04b3(0xe2)](_0x5c04b3(0xcc));}catch(_0x65dd){console[_0x5c04b3(0xb2)](_0x65dd);}}),router['get'](a0_0x5e6022(0xed),auth,async(_0x43e8a8,_0x3814ce)=>{const _0x1cc52b=a0_0x5e6022;try{const {username:_0x2c4554,email:_0x25bc3e,role:_0x2612c8}=_0x43e8a8['user'],_0x42398e=_0x43e8a8[_0x1cc52b(0xeb)],_0x1b6a8e=await profile[_0x1cc52b(0xc1)]({'email':_0x42398e[_0x1cc52b(0xf3)]}),_0x3c3497=await master_shop[_0x1cc52b(0xb1)]();console['log'](_0x1cc52b(0xdd),_0x3c3497);const _0x7a6db=await email_settings[_0x1cc52b(0xc1)]();console[_0x1cc52b(0xb2)](_0x1cc52b(0xb3),_0x7a6db);if(_0x3c3497[0x0]['language']==_0x1cc52b(0xd0)){var _0x1bc5d2=users[_0x1cc52b(0xc8)];console[_0x1cc52b(0xb2)](_0x1bc5d2);}else{if(_0x3c3497[0x0]['language']==_0x1cc52b(0xc2))var _0x1bc5d2=users['Hindi'];else{if(_0x3c3497[0x0]['language']==_0x1cc52b(0xbd))var _0x1bc5d2=users[_0x1cc52b(0xbd)];else{if(_0x3c3497[0x0]['language']==_0x1cc52b(0xac))var _0x1bc5d2=users[_0x1cc52b(0xac)];else{if(_0x3c3497[0x0][_0x1cc52b(0xa9)]==_0x1cc52b(0xb4))var _0x1bc5d2=users[_0x1cc52b(0xb4)];else{if(_0x3c3497[0x0][_0x1cc52b(0xa9)]=='Portuguese\x20(BR)')var _0x1bc5d2=users[_0x1cc52b(0xda)];else{if(_0x3c3497[0x0]['language']=='Chinese')var _0x1bc5d2=users[_0x1cc52b(0xae)];else{if(_0x3c3497[0x0][_0x1cc52b(0xa9)]=='Arabic\x20(ae)')var _0x1bc5d2=users[_0x1cc52b(0xf2)];}}}}}}}_0x3814ce[_0x1cc52b(0xde)](_0x1cc52b(0xc6),{'success':_0x43e8a8[_0x1cc52b(0xb6)](_0x1cc52b(0xd7)),'errors':_0x43e8a8['flash'](_0x1cc52b(0xb9)),'role':_0x42398e,'profile':_0x1b6a8e,'master_shop':_0x3c3497,'email':_0x7a6db,'language':_0x1bc5d2});}catch(_0x4fa6da){console['log'](_0x4fa6da);}}),router[a0_0x5e6022(0xe5)]('/view/email/edit_settings',auth,async(_0x928729,_0x361d86)=>{const _0x1187cb=a0_0x5e6022;try{const {host:_0x5adec3,port:_0x4277a6,email:_0x1c8e97,password:_0x18122e}=_0x928729[_0x1187cb(0xcb)],_0x2b4be0=await email_settings[_0x1187cb(0xc1)]();if(_0x2b4be0==null){const _0x9f6acc=new email_settings({'host':_0x5adec3,'port':_0x4277a6,'email':_0x1c8e97,'password':_0x18122e});await _0x9f6acc[_0x1187cb(0xd5)]();}else _0x2b4be0[_0x1187cb(0xe9)]=_0x5adec3,_0x2b4be0[_0x1187cb(0xd6)]=_0x4277a6,_0x2b4be0[_0x1187cb(0xf3)]=_0x1c8e97,_0x2b4be0['password']=_0x18122e,await _0x2b4be0['save']();_0x928729['flash'](_0x1187cb(0xd7),_0x1187cb(0xe6)),_0x361d86[_0x1187cb(0xe2)](_0x1187cb(0xe0));}catch(_0x5b4644){console[_0x1187cb(0xb2)](_0x5b4644);}}),router['get'](a0_0x5e6022(0xd8),auth,async(_0x3ba2c5,_0xb7f686)=>{const _0x55091f=a0_0x5e6022;try{const {username:_0x5921ff,email:_0x2bd905,role:_0x19f401}=_0x3ba2c5[_0x55091f(0xeb)],_0x5ad9c1=_0x3ba2c5[_0x55091f(0xeb)],_0x452b7a=await supervisor_settings[_0x55091f(0xb1)](),_0x451f=await profile[_0x55091f(0xc1)]({'email':_0x5ad9c1[_0x55091f(0xf3)]}),_0x1adafe=await master_shop['find'](),_0xe7d93c=new Date()['toLocaleString']('en-US',{'timeZone':_0x1adafe[0x0][_0x55091f(0xbb)]});if(_0x1adafe[0x0][_0x55091f(0xa9)]==_0x55091f(0xd0)){var _0x2a9f85=users[_0x55091f(0xc8)];console['log'](_0x2a9f85);}else{if(_0x1adafe[0x0]['language']==_0x55091f(0xc2))var _0x2a9f85=users[_0x55091f(0xc2)];else{if(_0x1adafe[0x0][_0x55091f(0xa9)]=='German')var _0x2a9f85=users[_0x55091f(0xbd)];else{if(_0x1adafe[0x0][_0x55091f(0xa9)]==_0x55091f(0xac))var _0x2a9f85=users[_0x55091f(0xac)];else{if(_0x1adafe[0x0][_0x55091f(0xa9)]==_0x55091f(0xb4))var _0x2a9f85=users[_0x55091f(0xb4)];else{if(_0x1adafe[0x0][_0x55091f(0xa9)]==_0x55091f(0xb8))var _0x2a9f85=users[_0x55091f(0xda)];else{if(_0x1adafe[0x0][_0x55091f(0xa9)]==_0x55091f(0xae))var _0x2a9f85=users[_0x55091f(0xae)];else{if(_0x1adafe[0x0]['language']=='Arabic\x20(ae)')var _0x2a9f85=users['Arabic'];}}}}}}}_0xb7f686[_0x55091f(0xde)](_0x55091f(0xea),{'success':_0x3ba2c5['flash'](_0x55091f(0xd7)),'errors':_0x3ba2c5['flash'](_0x55091f(0xb9)),'role':_0x5ad9c1,'profile':_0x451f,'master_shop':_0x1adafe,'supervisor_data':_0x452b7a[0x0],'timezones':timezones,'language':_0x2a9f85});}catch(_0x247c82){console[_0x55091f(0xb2)](_0x247c82);}}),router[a0_0x5e6022(0xe5)](a0_0x5e6022(0xd8),auth,async(_0x2a052c,_0x3872eb)=>{const _0x5b9300=a0_0x5e6022;try{const {rm_name:_0x541462,fg_name:_0x3456cf,rm_email:_0x13cfda,fg_email:_0xa5dba1,rm_mobilenum:_0x21080b,fg_number:_0x59fb25}=_0x2a052c[_0x5b9300(0xcb)],_0x34ffde=await supervisor_settings[_0x5b9300(0xc1)]();if(_0x34ffde==null){const _0x365ee4=new supervisor_settings({'RMSName':_0x541462,'RMSEmail':_0x13cfda,'RMSnumber':_0x21080b,'FGSName':_0x3456cf,'FGSEmail':_0xa5dba1,'FGSnumber':_0x59fb25});await _0x365ee4[_0x5b9300(0xd5)]();}else _0x34ffde[_0x5b9300(0xb7)]=_0x541462,_0x34ffde[_0x5b9300(0xcf)]=_0x13cfda,_0x34ffde['RMSnumber']=_0x21080b,_0x34ffde[_0x5b9300(0xce)]=_0x3456cf,_0x34ffde[_0x5b9300(0xaf)]=_0xa5dba1,_0x34ffde['FGSnumber']=_0x59fb25,await _0x34ffde['save']();_0x2a052c[_0x5b9300(0xb6)](_0x5b9300(0xd7),_0x5b9300(0xe6)),_0x3872eb[_0x5b9300(0xe2)]('/master_shop/view/supervisors');}catch(_0x53b136){console[_0x5b9300(0xb2)](_0x53b136);}}),module[a0_0x5e6022(0xb5)]=router;