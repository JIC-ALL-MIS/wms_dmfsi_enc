const a0_0x5e7859=a0_0x2884;(function(_0x558198,_0x4d7dc1){const _0x1cb116=a0_0x2884,_0x1bbf28=_0x558198();while(!![]){try{const _0x52108b=-parseInt(_0x1cb116(0x1ad))/0x1+parseInt(_0x1cb116(0x1aa))/0x2*(parseInt(_0x1cb116(0x17c))/0x3)+-parseInt(_0x1cb116(0x173))/0x4+-parseInt(_0x1cb116(0x1b2))/0x5*(-parseInt(_0x1cb116(0x19a))/0x6)+parseInt(_0x1cb116(0x1a6))/0x7+-parseInt(_0x1cb116(0x183))/0x8*(-parseInt(_0x1cb116(0x1a3))/0x9)+-parseInt(_0x1cb116(0x190))/0xa;if(_0x52108b===_0x4d7dc1)break;else _0x1bbf28['push'](_0x1bbf28['shift']());}catch(_0x6c1043){_0x1bbf28['push'](_0x1bbf28['shift']());}}}(a0_0x530c,0x18d36));const express=require(a0_0x5e7859(0x1ac)),app=express(),router=express['Router'](),multer=require(a0_0x5e7859(0x17f)),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require(a0_0x5e7859(0x196));function a0_0x530c(){const _0x2fdb46=['master','Arabic','image','RMSnumber','log','Arabic\x20(ae)','master\x20settings\x20email_data','Chinese','German','452640LfhfTC','save','FGSnumber','/view/email','email_settings','redirect','single','Hindi','errors','5886zRNOLe','/view','port','multer','supervisor_settings','post','get','384712oJnmIL','user','find','toLocaleString','RMSEmail','FGSEmail','file','Portuguese','currency_placement','Spanish','master_shop_data','/:id','now','608450YNjFTc','/master_shop/view/supervisors','exports','FGSName','Portuguese\x20(BR)','email','../middleware/auth','/view/edit_settings','English','en-US','1368lCGkQy','currency','2nd\x20master_shop_data','timezone','shop\x20setting\x20edit\x20successfully','filename','body','flash','findOne','27IFjonN','hidden','success','743071abqhPZ','/master_shop/view','password','params','50cgixyn','host','express','94459UclwPT','language','French','master_settings','site_title','1550Ystjbq','English\x20(US)'];a0_0x530c=function(){return _0x2fdb46;};return a0_0x530c();}var timezones=require('timezones-list');const users=require('../public/language/languages.json'),storage=multer['diskStorage']({'destination':(_0x26b03a,_0x135559,_0x5268f6)=>{_0x5268f6(null,'./public/upload');},'filename':(_0x29b419,_0xf1a8a9,_0x356255)=>{const _0x54390b=a0_0x5e7859;_0x356255(null,Date[_0x54390b(0x18f)]()+_0xf1a8a9['originalname']);}}),upload=multer({'storage':storage});function a0_0x2884(_0x5eb1fc,_0x217597){const _0x530c41=a0_0x530c();return a0_0x2884=function(_0x288436,_0x2710d6){_0x288436=_0x288436-0x16c;let _0x23ca06=_0x530c41[_0x288436];return _0x23ca06;},a0_0x2884(_0x5eb1fc,_0x217597);}router[a0_0x5e7859(0x182)](a0_0x5e7859(0x17d),auth,async(_0x2cd08e,_0x5a9a52)=>{const _0x328da1=a0_0x5e7859;try{const {username:_0x239e9e,email:_0xd4dd1d,role:_0x312cd0}=_0x2cd08e['user'],_0xf28b17=_0x2cd08e[_0x328da1(0x184)],_0x390c60=await profile[_0x328da1(0x1a2)]({'email':_0xf28b17[_0x328da1(0x195)]}),_0x300c6c=await master_shop[_0x328da1(0x185)]();console['log'](_0x328da1(0x1b4),_0x300c6c);const _0x115439=new Date()[_0x328da1(0x186)](_0x328da1(0x199),{'timeZone':_0x300c6c[0x0]['timezone']});console[_0x328da1(0x16e)](_0x328da1(0x19d),_0x115439);if(_0x300c6c[0x0][_0x328da1(0x1ae)]==_0x328da1(0x1b3)){var _0x2ae8f4=users[_0x328da1(0x198)];console[_0x328da1(0x16e)](_0x2ae8f4);}else{if(_0x300c6c[0x0]['language']=='Hindi')var _0x2ae8f4=users[_0x328da1(0x17a)];else{if(_0x300c6c[0x0][_0x328da1(0x1ae)]=='German')var _0x2ae8f4=users[_0x328da1(0x172)];else{if(_0x300c6c[0x0][_0x328da1(0x1ae)]=='Spanish')var _0x2ae8f4=users['Spanish'];else{if(_0x300c6c[0x0][_0x328da1(0x1ae)]=='French')var _0x2ae8f4=users['French'];else{if(_0x300c6c[0x0][_0x328da1(0x1ae)]==_0x328da1(0x194))var _0x2ae8f4=users[_0x328da1(0x18a)];else{if(_0x300c6c[0x0][_0x328da1(0x1ae)]==_0x328da1(0x171))var _0x2ae8f4=users['Chinese'];else{if(_0x300c6c[0x0][_0x328da1(0x1ae)]==_0x328da1(0x16f))var _0x2ae8f4=users['Arabic'];}}}}}}}_0x5a9a52['render'](_0x328da1(0x1b0),{'success':_0x2cd08e[_0x328da1(0x1a1)](_0x328da1(0x1a5)),'errors':_0x2cd08e[_0x328da1(0x1a1)](_0x328da1(0x17b)),'role':_0xf28b17,'profile':_0x390c60,'master_shop':_0x300c6c,'timezones':timezones,'language':_0x2ae8f4});}catch(_0x27b2ab){console[_0x328da1(0x16e)](_0x27b2ab);}}),router['get'](a0_0x5e7859(0x18e),auth,async(_0x33cef7,_0x329002)=>{const _0x199c4d=a0_0x5e7859;try{console['log'](_0x199c4d(0x1ae)),console[_0x199c4d(0x16e)](_0x33cef7[_0x199c4d(0x1a9)]['id']);const _0x5b74fe=await master_shop[_0x199c4d(0x1a2)]();_0x5b74fe[_0x199c4d(0x1ae)]=_0x33cef7[_0x199c4d(0x1a9)]['id'],await _0x5b74fe[_0x199c4d(0x174)](),console['log']('master',_0x5b74fe);}catch(_0x4e5ed6){console[_0x199c4d(0x16e)](_0x4e5ed6);}}),router[a0_0x5e7859(0x181)](a0_0x5e7859(0x197),auth,upload[a0_0x5e7859(0x179)](a0_0x5e7859(0x16c)),async(_0x3012f7,_0x50a1c8)=>{const _0x14ac75=a0_0x5e7859;try{const {site_title:_0x280b37,currency:_0x3ccffe,currency_placement:_0x5458f2,timezone:_0x5d4bd0}=_0x3012f7[_0x14ac75(0x1a0)];if(_0x3012f7['body'][_0x14ac75(0x1a4)]==0x0){const _0x5aad8e=await master_shop[_0x14ac75(0x1a2)]();console[_0x14ac75(0x16e)](_0x14ac75(0x18d),_0x5aad8e);if(_0x5aad8e==''){const _0x578517=new master_shop({'site_title':_0x280b37,'image':image,'currency':_0x3ccffe,'currency_placement':_0x5458f2,'timezone':_0x5d4bd0}),_0x25de20=await _0x578517[_0x14ac75(0x174)]();}else _0x5aad8e[_0x14ac75(0x1b1)]=_0x280b37,_0x5aad8e['currency']=_0x3ccffe,_0x5aad8e[_0x14ac75(0x18b)]=_0x5458f2,_0x5aad8e['timezone']=_0x5d4bd0,await _0x5aad8e['save']();}else{const _0x1d20c6=_0x3012f7[_0x14ac75(0x189)][_0x14ac75(0x19f)],_0x4f0f88=await master_shop[_0x14ac75(0x1a2)]();console[_0x14ac75(0x16e)](_0x14ac75(0x19c),_0x4f0f88);if(_0x4f0f88==null){console[_0x14ac75(0x16e)]('1',_0x280b37);const _0x30f1fd=new master_shop({'site_title':_0x280b37,'image':_0x1d20c6,'currency':_0x3ccffe,'currency_placement':_0x5458f2,'timezone':_0x5d4bd0}),_0x4fcbae=await _0x30f1fd['save']();}else console[_0x14ac75(0x16e)]('2',_0x280b37),_0x4f0f88[_0x14ac75(0x1b1)]=_0x280b37,_0x4f0f88[_0x14ac75(0x16c)]=_0x1d20c6,_0x4f0f88[_0x14ac75(0x19b)]=_0x3ccffe,_0x4f0f88[_0x14ac75(0x18b)]=_0x5458f2,_0x4f0f88[_0x14ac75(0x19d)]=_0x5d4bd0,await _0x4f0f88['save']();}_0x3012f7['flash'](_0x14ac75(0x1a5),'shop\x20setting\x20edit\x20successfully'),_0x50a1c8['redirect'](_0x14ac75(0x1a7));}catch(_0x2028f4){console[_0x14ac75(0x16e)](_0x2028f4);}}),router[a0_0x5e7859(0x182)](a0_0x5e7859(0x176),auth,async(_0x5794e3,_0x189274)=>{const _0x1c6d70=a0_0x5e7859;try{const {username:_0x132656,email:_0x38c2b6,role:_0x1afe4f}=_0x5794e3['user'],_0x38c482=_0x5794e3[_0x1c6d70(0x184)],_0x16e053=await profile[_0x1c6d70(0x1a2)]({'email':_0x38c482[_0x1c6d70(0x195)]}),_0x30d73b=await master_shop[_0x1c6d70(0x185)]();console[_0x1c6d70(0x16e)]('master',_0x30d73b);const _0x347eca=await email_settings[_0x1c6d70(0x1a2)]();console['log'](_0x1c6d70(0x170),_0x347eca);if(_0x30d73b[0x0]['language']==_0x1c6d70(0x1b3)){var _0x32018f=users[_0x1c6d70(0x198)];console['log'](_0x32018f);}else{if(_0x30d73b[0x0][_0x1c6d70(0x1ae)]==_0x1c6d70(0x17a))var _0x32018f=users[_0x1c6d70(0x17a)];else{if(_0x30d73b[0x0][_0x1c6d70(0x1ae)]==_0x1c6d70(0x172))var _0x32018f=users['German'];else{if(_0x30d73b[0x0]['language']==_0x1c6d70(0x18c))var _0x32018f=users[_0x1c6d70(0x18c)];else{if(_0x30d73b[0x0][_0x1c6d70(0x1ae)]==_0x1c6d70(0x1af))var _0x32018f=users['French'];else{if(_0x30d73b[0x0][_0x1c6d70(0x1ae)]=='Portuguese\x20(BR)')var _0x32018f=users[_0x1c6d70(0x18a)];else{if(_0x30d73b[0x0][_0x1c6d70(0x1ae)]==_0x1c6d70(0x171))var _0x32018f=users['Chinese'];else{if(_0x30d73b[0x0][_0x1c6d70(0x1ae)]==_0x1c6d70(0x16f))var _0x32018f=users[_0x1c6d70(0x1b5)];}}}}}}}_0x189274['render'](_0x1c6d70(0x177),{'success':_0x5794e3[_0x1c6d70(0x1a1)](_0x1c6d70(0x1a5)),'errors':_0x5794e3['flash'](_0x1c6d70(0x17b)),'role':_0x38c482,'profile':_0x16e053,'master_shop':_0x30d73b,'email':_0x347eca,'language':_0x32018f});}catch(_0x2844bc){console['log'](_0x2844bc);}}),router[a0_0x5e7859(0x181)]('/view/email/edit_settings',auth,async(_0x263d8a,_0x47def3)=>{const _0x4cf92f=a0_0x5e7859;try{const {host:_0x146502,port:_0x139d94,email:_0x36f919,password:_0x89b80c}=_0x263d8a[_0x4cf92f(0x1a0)],_0x2027cf=await email_settings['findOne']();if(_0x2027cf==null){const _0x22a21f=new email_settings({'host':_0x146502,'port':_0x139d94,'email':_0x36f919,'password':_0x89b80c});await _0x22a21f[_0x4cf92f(0x174)]();}else _0x2027cf[_0x4cf92f(0x1ab)]=_0x146502,_0x2027cf[_0x4cf92f(0x17e)]=_0x139d94,_0x2027cf[_0x4cf92f(0x195)]=_0x36f919,_0x2027cf[_0x4cf92f(0x1a8)]=_0x89b80c,await _0x2027cf[_0x4cf92f(0x174)]();_0x263d8a['flash'](_0x4cf92f(0x1a5),'shop\x20setting\x20edit\x20successfully'),_0x47def3[_0x4cf92f(0x178)]('/master_shop/view/email');}catch(_0x29858f){console[_0x4cf92f(0x16e)](_0x29858f);}}),router[a0_0x5e7859(0x182)]('/view/supervisors',auth,async(_0x3e90d1,_0x5d45fc)=>{const _0x1e7f65=a0_0x5e7859;try{const {username:_0x50e532,email:_0x23524a,role:_0x2556ae}=_0x3e90d1[_0x1e7f65(0x184)],_0x5d910b=_0x3e90d1['user'],_0x3cfe75=await supervisor_settings[_0x1e7f65(0x185)](),_0x3ebca2=await profile[_0x1e7f65(0x1a2)]({'email':_0x5d910b[_0x1e7f65(0x195)]}),_0x244bbc=await master_shop[_0x1e7f65(0x185)](),_0x2c8a3f=new Date()[_0x1e7f65(0x186)]('en-US',{'timeZone':_0x244bbc[0x0][_0x1e7f65(0x19d)]});if(_0x244bbc[0x0][_0x1e7f65(0x1ae)]==_0x1e7f65(0x1b3)){var _0x57699b=users[_0x1e7f65(0x198)];console[_0x1e7f65(0x16e)](_0x57699b);}else{if(_0x244bbc[0x0]['language']==_0x1e7f65(0x17a))var _0x57699b=users[_0x1e7f65(0x17a)];else{if(_0x244bbc[0x0][_0x1e7f65(0x1ae)]==_0x1e7f65(0x172))var _0x57699b=users['German'];else{if(_0x244bbc[0x0]['language']==_0x1e7f65(0x18c))var _0x57699b=users[_0x1e7f65(0x18c)];else{if(_0x244bbc[0x0][_0x1e7f65(0x1ae)]==_0x1e7f65(0x1af))var _0x57699b=users[_0x1e7f65(0x1af)];else{if(_0x244bbc[0x0]['language']=='Portuguese\x20(BR)')var _0x57699b=users[_0x1e7f65(0x18a)];else{if(_0x244bbc[0x0]['language']==_0x1e7f65(0x171))var _0x57699b=users[_0x1e7f65(0x171)];else{if(_0x244bbc[0x0]['language']==_0x1e7f65(0x16f))var _0x57699b=users[_0x1e7f65(0x1b5)];}}}}}}}_0x5d45fc['render'](_0x1e7f65(0x180),{'success':_0x3e90d1[_0x1e7f65(0x1a1)](_0x1e7f65(0x1a5)),'errors':_0x3e90d1['flash']('errors'),'role':_0x5d910b,'profile':_0x3ebca2,'master_shop':_0x244bbc,'supervisor_data':_0x3cfe75[0x0],'timezones':timezones,'language':_0x57699b});}catch(_0x3e05fa){console[_0x1e7f65(0x16e)](_0x3e05fa);}}),router[a0_0x5e7859(0x181)]('/view/supervisors',auth,async(_0x287589,_0x4c8926)=>{const _0x3caaa0=a0_0x5e7859;try{const {rm_name:_0x356901,fg_name:_0x1c28ff,rm_email:_0x13d611,fg_email:_0x1df044,rm_mobilenum:_0x2165db,fg_number:_0x40f122}=_0x287589[_0x3caaa0(0x1a0)],_0x11f5c3=await supervisor_settings[_0x3caaa0(0x1a2)]();if(_0x11f5c3==null){const _0x1c37a5=new supervisor_settings({'RMSName':_0x356901,'RMSEmail':_0x13d611,'RMSnumber':_0x2165db,'FGSName':_0x1c28ff,'FGSEmail':_0x1df044,'FGSnumber':_0x40f122});await _0x1c37a5[_0x3caaa0(0x174)]();}else _0x11f5c3['RMSName']=_0x356901,_0x11f5c3[_0x3caaa0(0x187)]=_0x13d611,_0x11f5c3[_0x3caaa0(0x16d)]=_0x2165db,_0x11f5c3[_0x3caaa0(0x193)]=_0x1c28ff,_0x11f5c3[_0x3caaa0(0x188)]=_0x1df044,_0x11f5c3[_0x3caaa0(0x175)]=_0x40f122,await _0x11f5c3[_0x3caaa0(0x174)]();_0x287589[_0x3caaa0(0x1a1)](_0x3caaa0(0x1a5),_0x3caaa0(0x19e)),_0x4c8926[_0x3caaa0(0x178)](_0x3caaa0(0x191));}catch(_0x5af5a8){console[_0x3caaa0(0x16e)](_0x5af5a8);}}),module[a0_0x5e7859(0x192)]=router;