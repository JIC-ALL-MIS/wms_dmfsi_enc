const a0_0x3a7cd1=a0_0x3b41;function a0_0x418c(){const _0x3e9e66=['German','image','254122oeJlxo','master_settings','email_settings','save','master','redirect','findOne','3315570bcpohj','email','master_shop_data','success','/view/email','FGSName','RMSEmail','1060812JUmFtU','../public/language/languages.json','/view/supervisors','body','RMSName','timezone','4522520buOoBv','user','flash','11buXrJQ','../models/all_models','2061468cMRfIs','find','post','get','host','originalname','currency_placement','FGSEmail','currency','FGSnumber','Chinese','shop\x20setting\x20edit\x20successfully','744jrgXJQ','English','5KlYxGv','60fDmtNy','../middleware/auth','exports','Portuguese\x20(BR)','render','now','filename','Portuguese','Spanish','en-US','express','Hindi','params','password','/view/email/edit_settings','log','errors','port','161986OYUbpc','2nd\x20master_shop_data','toLocaleString','English\x20(US)','language','/master_shop/view/email','French','diskStorage','/view/edit_settings','7fNBNOU','/master_shop/view/supervisors','file','/:id','timezones-list','4978749OhvIwV','./public/upload','master\x20settings\x20email_data','multer','RMSnumber','Arabic','Arabic\x20(ae)','site_title'];a0_0x418c=function(){return _0x3e9e66;};return a0_0x418c();}(function(_0x1cb85d,_0x59e4e1){const _0x5255a0=a0_0x3b41,_0x3b816f=_0x1cb85d();while(!![]){try{const _0x2bd330=-parseInt(_0x5255a0(0x73))/0x1*(parseInt(_0x5255a0(0xae))/0x2)+parseInt(_0x5255a0(0xa4))/0x3+parseInt(_0x5255a0(0x75))/0x4*(parseInt(_0x5255a0(0x83))/0x5)+-parseInt(_0x5255a0(0xb5))/0x6+parseInt(_0x5255a0(0x9f))/0x7*(parseInt(_0x5255a0(0xc2))/0x8)+-parseInt(_0x5255a0(0xbc))/0x9*(parseInt(_0x5255a0(0x84))/0xa)+parseInt(_0x5255a0(0x96))/0xb*(parseInt(_0x5255a0(0x81))/0xc);if(_0x2bd330===_0x59e4e1)break;else _0x3b816f['push'](_0x3b816f['shift']());}catch(_0x23d8ef){_0x3b816f['push'](_0x3b816f['shift']());}}}(a0_0x418c,0xf31db));const express=require(a0_0x3a7cd1(0x8e)),app=express(),router=express['Router'](),multer=require(a0_0x3a7cd1(0xa7)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x3a7cd1(0x74)),auth=require(a0_0x3a7cd1(0x85));var timezones=require(a0_0x3a7cd1(0xa3));function a0_0x3b41(_0x48d8f5,_0x1341e1){const _0x418c38=a0_0x418c();return a0_0x3b41=function(_0x3b4198,_0x8f4e05){_0x3b4198=_0x3b4198-0x72;let _0x39ed18=_0x418c38[_0x3b4198];return _0x39ed18;},a0_0x3b41(_0x48d8f5,_0x1341e1);}const users=require(a0_0x3a7cd1(0xbd)),storage=multer[a0_0x3a7cd1(0x9d)]({'destination':(_0x57f1c6,_0x47dbb6,_0xbcc915)=>{const _0xde9ebd=a0_0x3a7cd1;_0xbcc915(null,_0xde9ebd(0xa5));},'filename':(_0x108206,_0x5bbcf4,_0x5ee6e9)=>{const _0x160dff=a0_0x3a7cd1;_0x5ee6e9(null,Date[_0x160dff(0x89)]()+_0x5bbcf4[_0x160dff(0x7a)]);}}),upload=multer({'storage':storage});router[a0_0x3a7cd1(0x78)]('/view',auth,async(_0x1ccf7a,_0x5ea36a)=>{const _0x1f269f=a0_0x3a7cd1;try{const {username:_0xc5f91b,email:_0x5f0194,role:_0x2cd566}=_0x1ccf7a[_0x1f269f(0xc3)],_0x12a49d=_0x1ccf7a['user'],_0x277c06=await profile[_0x1f269f(0xb4)]({'email':_0x12a49d['email']}),_0xe6a116=await master_shop['find']();console[_0x1f269f(0x93)](_0x1f269f(0xb2),_0xe6a116);const _0x4cdb55=new Date()[_0x1f269f(0x98)](_0x1f269f(0x8d),{'timeZone':_0xe6a116[0x0][_0x1f269f(0xc1)]});console[_0x1f269f(0x93)](_0x1f269f(0xc1),_0x4cdb55);if(_0xe6a116[0x0][_0x1f269f(0x9a)]=='English\x20(US)'){var _0x1d51a8=users[_0x1f269f(0x82)];console[_0x1f269f(0x93)](_0x1d51a8);}else{if(_0xe6a116[0x0][_0x1f269f(0x9a)]==_0x1f269f(0x8f))var _0x1d51a8=users['Hindi'];else{if(_0xe6a116[0x0][_0x1f269f(0x9a)]==_0x1f269f(0xac))var _0x1d51a8=users[_0x1f269f(0xac)];else{if(_0xe6a116[0x0][_0x1f269f(0x9a)]=='Spanish')var _0x1d51a8=users[_0x1f269f(0x8c)];else{if(_0xe6a116[0x0][_0x1f269f(0x9a)]=='French')var _0x1d51a8=users['French'];else{if(_0xe6a116[0x0]['language']==_0x1f269f(0x87))var _0x1d51a8=users['Portuguese'];else{if(_0xe6a116[0x0][_0x1f269f(0x9a)]==_0x1f269f(0x7f))var _0x1d51a8=users['Chinese'];else{if(_0xe6a116[0x0][_0x1f269f(0x9a)]=='Arabic\x20(ae)')var _0x1d51a8=users[_0x1f269f(0xa9)];}}}}}}}_0x5ea36a[_0x1f269f(0x88)](_0x1f269f(0xaf),{'success':_0x1ccf7a[_0x1f269f(0x72)](_0x1f269f(0xb8)),'errors':_0x1ccf7a['flash']('errors'),'role':_0x12a49d,'profile':_0x277c06,'master_shop':_0xe6a116,'timezones':timezones,'language':_0x1d51a8});}catch(_0x5df9e6){console[_0x1f269f(0x93)](_0x5df9e6);}}),router[a0_0x3a7cd1(0x78)](a0_0x3a7cd1(0xa2),auth,async(_0x534190,_0x2b7e6f)=>{const _0x26c80d=a0_0x3a7cd1;try{console[_0x26c80d(0x93)](_0x26c80d(0x9a)),console[_0x26c80d(0x93)](_0x534190[_0x26c80d(0x90)]['id']);const _0x3a6138=await master_shop[_0x26c80d(0xb4)]();_0x3a6138[_0x26c80d(0x9a)]=_0x534190['params']['id'],await _0x3a6138[_0x26c80d(0xb1)](),console[_0x26c80d(0x93)](_0x26c80d(0xb2),_0x3a6138);}catch(_0x3fe4a0){console['log'](_0x3fe4a0);}}),router[a0_0x3a7cd1(0x77)](a0_0x3a7cd1(0x9e),auth,upload['single'](a0_0x3a7cd1(0xad)),async(_0x24731e,_0x4ec467)=>{const _0x1d6a98=a0_0x3a7cd1;try{const {site_title:_0x2d4ace,currency:_0x56221f,currency_placement:_0x3022e9,timezone:_0x4f3c59}=_0x24731e['body'];if(_0x24731e[_0x1d6a98(0xbf)]['hidden']==0x0){const _0x5adc16=await master_shop[_0x1d6a98(0xb4)]();console['log'](_0x1d6a98(0xb7),_0x5adc16);if(_0x5adc16==''){const _0x4821b5=new master_shop({'site_title':_0x2d4ace,'image':image,'currency':_0x56221f,'currency_placement':_0x3022e9,'timezone':_0x4f3c59}),_0x88a27a=await _0x4821b5['save']();}else _0x5adc16[_0x1d6a98(0xab)]=_0x2d4ace,_0x5adc16[_0x1d6a98(0x7d)]=_0x56221f,_0x5adc16[_0x1d6a98(0x7b)]=_0x3022e9,_0x5adc16['timezone']=_0x4f3c59,await _0x5adc16['save']();}else{const _0x20a17e=_0x24731e[_0x1d6a98(0xa1)][_0x1d6a98(0x8a)],_0x2da640=await master_shop['findOne']();console[_0x1d6a98(0x93)](_0x1d6a98(0x97),_0x2da640);if(_0x2da640==null){console['log']('1',_0x2d4ace);const _0xcd8a21=new master_shop({'site_title':_0x2d4ace,'image':_0x20a17e,'currency':_0x56221f,'currency_placement':_0x3022e9,'timezone':_0x4f3c59}),_0x4cc40c=await _0xcd8a21[_0x1d6a98(0xb1)]();}else console[_0x1d6a98(0x93)]('2',_0x2d4ace),_0x2da640['site_title']=_0x2d4ace,_0x2da640['image']=_0x20a17e,_0x2da640['currency']=_0x56221f,_0x2da640[_0x1d6a98(0x7b)]=_0x3022e9,_0x2da640[_0x1d6a98(0xc1)]=_0x4f3c59,await _0x2da640[_0x1d6a98(0xb1)]();}_0x24731e['flash'](_0x1d6a98(0xb8),_0x1d6a98(0x80)),_0x4ec467[_0x1d6a98(0xb3)]('/master_shop/view');}catch(_0x24d13c){console[_0x1d6a98(0x93)](_0x24d13c);}}),router[a0_0x3a7cd1(0x78)](a0_0x3a7cd1(0xb9),auth,async(_0x431941,_0x2ee31d)=>{const _0x2ee403=a0_0x3a7cd1;try{const {username:_0x19ff02,email:_0xa543ae,role:_0x91591d}=_0x431941['user'],_0x8104d3=_0x431941[_0x2ee403(0xc3)],_0x3d5b74=await profile[_0x2ee403(0xb4)]({'email':_0x8104d3[_0x2ee403(0xb6)]}),_0x2441a3=await master_shop['find']();console[_0x2ee403(0x93)]('master',_0x2441a3);const _0x4905ef=await email_settings['findOne']();console[_0x2ee403(0x93)](_0x2ee403(0xa6),_0x4905ef);if(_0x2441a3[0x0][_0x2ee403(0x9a)]==_0x2ee403(0x99)){var _0x5a3079=users[_0x2ee403(0x82)];console[_0x2ee403(0x93)](_0x5a3079);}else{if(_0x2441a3[0x0][_0x2ee403(0x9a)]==_0x2ee403(0x8f))var _0x5a3079=users['Hindi'];else{if(_0x2441a3[0x0][_0x2ee403(0x9a)]==_0x2ee403(0xac))var _0x5a3079=users[_0x2ee403(0xac)];else{if(_0x2441a3[0x0]['language']==_0x2ee403(0x8c))var _0x5a3079=users['Spanish'];else{if(_0x2441a3[0x0][_0x2ee403(0x9a)]==_0x2ee403(0x9c))var _0x5a3079=users['French'];else{if(_0x2441a3[0x0][_0x2ee403(0x9a)]==_0x2ee403(0x87))var _0x5a3079=users['Portuguese'];else{if(_0x2441a3[0x0][_0x2ee403(0x9a)]==_0x2ee403(0x7f))var _0x5a3079=users['Chinese'];else{if(_0x2441a3[0x0][_0x2ee403(0x9a)]==_0x2ee403(0xaa))var _0x5a3079=users['Arabic'];}}}}}}}_0x2ee31d[_0x2ee403(0x88)](_0x2ee403(0xb0),{'success':_0x431941['flash'](_0x2ee403(0xb8)),'errors':_0x431941[_0x2ee403(0x72)](_0x2ee403(0x94)),'role':_0x8104d3,'profile':_0x3d5b74,'master_shop':_0x2441a3,'email':_0x4905ef,'language':_0x5a3079});}catch(_0x1a02f3){console[_0x2ee403(0x93)](_0x1a02f3);}}),router[a0_0x3a7cd1(0x77)](a0_0x3a7cd1(0x92),auth,async(_0x910cd8,_0x577257)=>{const _0x10d42f=a0_0x3a7cd1;try{const {host:_0x1ec7a2,port:_0x2ff41c,email:_0x15537a,password:_0x5b87c0}=_0x910cd8['body'],_0x120834=await email_settings[_0x10d42f(0xb4)]();if(_0x120834==null){const _0x1b1ace=new email_settings({'host':_0x1ec7a2,'port':_0x2ff41c,'email':_0x15537a,'password':_0x5b87c0});await _0x1b1ace[_0x10d42f(0xb1)]();}else _0x120834[_0x10d42f(0x79)]=_0x1ec7a2,_0x120834[_0x10d42f(0x95)]=_0x2ff41c,_0x120834[_0x10d42f(0xb6)]=_0x15537a,_0x120834[_0x10d42f(0x91)]=_0x5b87c0,await _0x120834[_0x10d42f(0xb1)]();_0x910cd8['flash'](_0x10d42f(0xb8),_0x10d42f(0x80)),_0x577257[_0x10d42f(0xb3)](_0x10d42f(0x9b));}catch(_0x2fa68a){console['log'](_0x2fa68a);}}),router[a0_0x3a7cd1(0x78)](a0_0x3a7cd1(0xbe),auth,async(_0x355179,_0x5abe3d)=>{const _0x1ba6f7=a0_0x3a7cd1;try{const {username:_0x1b72d8,email:_0x18a881,role:_0x119120}=_0x355179[_0x1ba6f7(0xc3)],_0x464825=_0x355179[_0x1ba6f7(0xc3)],_0x27df0e=await supervisor_settings[_0x1ba6f7(0x76)](),_0x94738a=await profile[_0x1ba6f7(0xb4)]({'email':_0x464825[_0x1ba6f7(0xb6)]}),_0x26ea13=await master_shop['find'](),_0x534f96=new Date()['toLocaleString'](_0x1ba6f7(0x8d),{'timeZone':_0x26ea13[0x0][_0x1ba6f7(0xc1)]});if(_0x26ea13[0x0]['language']=='English\x20(US)'){var _0x46f5c1=users[_0x1ba6f7(0x82)];console[_0x1ba6f7(0x93)](_0x46f5c1);}else{if(_0x26ea13[0x0][_0x1ba6f7(0x9a)]==_0x1ba6f7(0x8f))var _0x46f5c1=users[_0x1ba6f7(0x8f)];else{if(_0x26ea13[0x0][_0x1ba6f7(0x9a)]=='German')var _0x46f5c1=users['German'];else{if(_0x26ea13[0x0][_0x1ba6f7(0x9a)]==_0x1ba6f7(0x8c))var _0x46f5c1=users[_0x1ba6f7(0x8c)];else{if(_0x26ea13[0x0][_0x1ba6f7(0x9a)]==_0x1ba6f7(0x9c))var _0x46f5c1=users[_0x1ba6f7(0x9c)];else{if(_0x26ea13[0x0]['language']==_0x1ba6f7(0x87))var _0x46f5c1=users[_0x1ba6f7(0x8b)];else{if(_0x26ea13[0x0][_0x1ba6f7(0x9a)]==_0x1ba6f7(0x7f))var _0x46f5c1=users[_0x1ba6f7(0x7f)];else{if(_0x26ea13[0x0]['language']=='Arabic\x20(ae)')var _0x46f5c1=users['Arabic'];}}}}}}}_0x5abe3d[_0x1ba6f7(0x88)]('supervisor_settings',{'success':_0x355179[_0x1ba6f7(0x72)](_0x1ba6f7(0xb8)),'errors':_0x355179[_0x1ba6f7(0x72)](_0x1ba6f7(0x94)),'role':_0x464825,'profile':_0x94738a,'master_shop':_0x26ea13,'supervisor_data':_0x27df0e[0x0],'timezones':timezones,'language':_0x46f5c1});}catch(_0x4ee3e9){console['log'](_0x4ee3e9);}}),router[a0_0x3a7cd1(0x77)]('/view/supervisors',auth,async(_0x27389b,_0x3a730e)=>{const _0x5ab1c9=a0_0x3a7cd1;try{const {rm_name:_0x5c7f9d,fg_name:_0x16dd34,rm_email:_0x2a5470,fg_email:_0x521765,rm_mobilenum:_0x462685,fg_number:_0x446e86}=_0x27389b[_0x5ab1c9(0xbf)],_0x308de7=await supervisor_settings[_0x5ab1c9(0xb4)]();if(_0x308de7==null){const _0x4f5bd4=new supervisor_settings({'RMSName':_0x5c7f9d,'RMSEmail':_0x2a5470,'RMSnumber':_0x462685,'FGSName':_0x16dd34,'FGSEmail':_0x521765,'FGSnumber':_0x446e86});await _0x4f5bd4['save']();}else _0x308de7[_0x5ab1c9(0xc0)]=_0x5c7f9d,_0x308de7[_0x5ab1c9(0xbb)]=_0x2a5470,_0x308de7[_0x5ab1c9(0xa8)]=_0x462685,_0x308de7[_0x5ab1c9(0xba)]=_0x16dd34,_0x308de7[_0x5ab1c9(0x7c)]=_0x521765,_0x308de7[_0x5ab1c9(0x7e)]=_0x446e86,await _0x308de7['save']();_0x27389b['flash'](_0x5ab1c9(0xb8),_0x5ab1c9(0x80)),_0x3a730e[_0x5ab1c9(0xb3)](_0x5ab1c9(0xa0));}catch(_0x240fef){console[_0x5ab1c9(0x93)](_0x240fef);}}),module[a0_0x3a7cd1(0x86)]=router;