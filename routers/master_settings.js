const a0_0x114c22=a0_0x6098;(function(_0xb30f76,_0x53654d){const _0x3a6b9c=a0_0x6098,_0xa1ec2c=_0xb30f76();while(!![]){try{const _0xd79ee8=parseInt(_0x3a6b9c(0x13a))/0x1*(parseInt(_0x3a6b9c(0x111))/0x2)+parseInt(_0x3a6b9c(0x11d))/0x3*(-parseInt(_0x3a6b9c(0x14d))/0x4)+-parseInt(_0x3a6b9c(0x139))/0x5+-parseInt(_0x3a6b9c(0x124))/0x6+parseInt(_0x3a6b9c(0x12f))/0x7+parseInt(_0x3a6b9c(0x11e))/0x8*(-parseInt(_0x3a6b9c(0x10b))/0x9)+parseInt(_0x3a6b9c(0x13f))/0xa;if(_0xd79ee8===_0x53654d)break;else _0xa1ec2c['push'](_0xa1ec2c['shift']());}catch(_0x3d364c){_0xa1ec2c['push'](_0xa1ec2c['shift']());}}}(a0_0x2e47,0xe18ac));const express=require(a0_0x114c22(0x13e)),app=express(),router=express[a0_0x114c22(0x12e)](),multer=require('multer'),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x114c22(0x133)),auth=require('../middleware/auth');function a0_0x2e47(){const _0x12c8ea=['port','RMSEmail','now','findOne','/master_shop/view/email','master','get','user','timezone','Router','11360930ZhpvCv','Arabic','params','body','../models/all_models','/view/email','currency_placement','supervisor_settings','master_shop_data','file','301950Qxbdwp','7kWKUsf','FGSName','redirect','2nd\x20master_shop_data','express','20004880WZCNPQ','German','flash','single','English\x20(US)','/master_shop/view/supervisors','email','../public/language/languages.json','French','image','Portuguese\x20(BR)','success','diskStorage','./public/upload','4881872GOQxgT','originalname','FGSEmail','find','en-US','post','/master_shop/view','3366qZbnkH','language','shop\x20setting\x20edit\x20successfully','Hindi','errors','password','88212OVHRUI','English','site_title','Arabic\x20(ae)','/view/supervisors','host','Chinese','master\x20settings\x20email_data','filename','log','save','Spanish','3hPJpPF','3704hXFPsJ','/view','timezones-list','/:id','Portuguese','toLocaleString','9326280VwSiBw'];a0_0x2e47=function(){return _0x12c8ea;};return a0_0x2e47();}var timezones=require(a0_0x114c22(0x120));const users=require(a0_0x114c22(0x146)),storage=multer[a0_0x114c22(0x14b)]({'destination':(_0x4ed771,_0x176a29,_0x3ac0bf)=>{const _0x3ebcb8=a0_0x114c22;_0x3ac0bf(null,_0x3ebcb8(0x14c));},'filename':(_0x339458,_0x491e93,_0x1a6fb4)=>{const _0x3dfd70=a0_0x114c22;_0x1a6fb4(null,Date[_0x3dfd70(0x127)]()+_0x491e93[_0x3dfd70(0x14e)]);}}),upload=multer({'storage':storage});function a0_0x6098(_0x354f6e,_0x3c17a4){const _0x2e4793=a0_0x2e47();return a0_0x6098=function(_0x609811,_0xab84dc){_0x609811=_0x609811-0x10b;let _0x2051cc=_0x2e4793[_0x609811];return _0x2051cc;},a0_0x6098(_0x354f6e,_0x3c17a4);}router['get'](a0_0x114c22(0x11f),auth,async(_0x439457,_0x56f7b1)=>{const _0x315f95=a0_0x114c22;try{const {username:_0x2ab077,email:_0x1c6080,role:_0x10322f}=_0x439457['user'],_0x4b87a3=_0x439457[_0x315f95(0x12c)],_0x24cab2=await profile[_0x315f95(0x128)]({'email':_0x4b87a3['email']}),_0x485fa3=await master_shop[_0x315f95(0x150)]();console[_0x315f95(0x11a)](_0x315f95(0x12a),_0x485fa3);const _0x5aae86=new Date()[_0x315f95(0x123)](_0x315f95(0x151),{'timeZone':_0x485fa3[0x0]['timezone']});console['log'](_0x315f95(0x12d),_0x5aae86);if(_0x485fa3[0x0][_0x315f95(0x10c)]=='English\x20(US)'){var _0x1b7ec8=users['English'];console[_0x315f95(0x11a)](_0x1b7ec8);}else{if(_0x485fa3[0x0][_0x315f95(0x10c)]==_0x315f95(0x10e))var _0x1b7ec8=users[_0x315f95(0x10e)];else{if(_0x485fa3[0x0][_0x315f95(0x10c)]==_0x315f95(0x140))var _0x1b7ec8=users[_0x315f95(0x140)];else{if(_0x485fa3[0x0][_0x315f95(0x10c)]==_0x315f95(0x11c))var _0x1b7ec8=users[_0x315f95(0x11c)];else{if(_0x485fa3[0x0][_0x315f95(0x10c)]==_0x315f95(0x147))var _0x1b7ec8=users['French'];else{if(_0x485fa3[0x0][_0x315f95(0x10c)]==_0x315f95(0x149))var _0x1b7ec8=users[_0x315f95(0x122)];else{if(_0x485fa3[0x0]['language']==_0x315f95(0x117))var _0x1b7ec8=users[_0x315f95(0x117)];else{if(_0x485fa3[0x0][_0x315f95(0x10c)]==_0x315f95(0x114))var _0x1b7ec8=users[_0x315f95(0x130)];}}}}}}}_0x56f7b1['render']('master_settings',{'success':_0x439457[_0x315f95(0x141)](_0x315f95(0x14a)),'errors':_0x439457['flash'](_0x315f95(0x10f)),'role':_0x4b87a3,'profile':_0x24cab2,'master_shop':_0x485fa3,'timezones':timezones,'language':_0x1b7ec8});}catch(_0x536ddb){console[_0x315f95(0x11a)](_0x536ddb);}}),router[a0_0x114c22(0x12b)](a0_0x114c22(0x121),auth,async(_0x31ae24,_0x26be0f)=>{const _0x50032b=a0_0x114c22;try{console['log'](_0x50032b(0x10c)),console[_0x50032b(0x11a)](_0x31ae24['params']['id']);const _0x33d7bb=await master_shop['findOne']();_0x33d7bb[_0x50032b(0x10c)]=_0x31ae24[_0x50032b(0x131)]['id'],await _0x33d7bb['save'](),console[_0x50032b(0x11a)](_0x50032b(0x12a),_0x33d7bb);}catch(_0x2e3710){console[_0x50032b(0x11a)](_0x2e3710);}}),router['post']('/view/edit_settings',auth,upload[a0_0x114c22(0x142)](a0_0x114c22(0x148)),async(_0x1c2b79,_0x52048b)=>{const _0x2e19e2=a0_0x114c22;try{const {site_title:_0x158b5b,currency:_0x227717,currency_placement:_0xda327a,timezone:_0x4d5ec5}=_0x1c2b79[_0x2e19e2(0x132)];if(_0x1c2b79['body']['hidden']==0x0){const _0x4f5e8d=await master_shop['findOne']();console['log'](_0x2e19e2(0x137),_0x4f5e8d);if(_0x4f5e8d==''){const _0x2b75c6=new master_shop({'site_title':_0x158b5b,'image':image,'currency':_0x227717,'currency_placement':_0xda327a,'timezone':_0x4d5ec5}),_0x339984=await _0x2b75c6[_0x2e19e2(0x11b)]();}else _0x4f5e8d['site_title']=_0x158b5b,_0x4f5e8d['currency']=_0x227717,_0x4f5e8d['currency_placement']=_0xda327a,_0x4f5e8d[_0x2e19e2(0x12d)]=_0x4d5ec5,await _0x4f5e8d[_0x2e19e2(0x11b)]();}else{const _0x5623ea=_0x1c2b79[_0x2e19e2(0x138)][_0x2e19e2(0x119)],_0x3e9626=await master_shop[_0x2e19e2(0x128)]();console[_0x2e19e2(0x11a)](_0x2e19e2(0x13d),_0x3e9626);if(_0x3e9626==null){console[_0x2e19e2(0x11a)]('1',_0x158b5b);const _0x118d7f=new master_shop({'site_title':_0x158b5b,'image':_0x5623ea,'currency':_0x227717,'currency_placement':_0xda327a,'timezone':_0x4d5ec5}),_0x72cb7c=await _0x118d7f[_0x2e19e2(0x11b)]();}else console['log']('2',_0x158b5b),_0x3e9626[_0x2e19e2(0x113)]=_0x158b5b,_0x3e9626[_0x2e19e2(0x148)]=_0x5623ea,_0x3e9626['currency']=_0x227717,_0x3e9626[_0x2e19e2(0x135)]=_0xda327a,_0x3e9626['timezone']=_0x4d5ec5,await _0x3e9626['save']();}_0x1c2b79[_0x2e19e2(0x141)](_0x2e19e2(0x14a),'shop\x20setting\x20edit\x20successfully'),_0x52048b[_0x2e19e2(0x13c)](_0x2e19e2(0x153));}catch(_0x287bee){console[_0x2e19e2(0x11a)](_0x287bee);}}),router[a0_0x114c22(0x12b)](a0_0x114c22(0x134),auth,async(_0x155ab0,_0xb034f5)=>{const _0x338982=a0_0x114c22;try{const {username:_0x15ebfe,email:_0x409762,role:_0x253f47}=_0x155ab0[_0x338982(0x12c)],_0x42fa92=_0x155ab0[_0x338982(0x12c)],_0x1c64e2=await profile[_0x338982(0x128)]({'email':_0x42fa92[_0x338982(0x145)]}),_0x166441=await master_shop[_0x338982(0x150)]();console[_0x338982(0x11a)](_0x338982(0x12a),_0x166441);const _0x2c4730=await email_settings[_0x338982(0x128)]();console[_0x338982(0x11a)](_0x338982(0x118),_0x2c4730);if(_0x166441[0x0][_0x338982(0x10c)]==_0x338982(0x143)){var _0x45d261=users[_0x338982(0x112)];console[_0x338982(0x11a)](_0x45d261);}else{if(_0x166441[0x0][_0x338982(0x10c)]==_0x338982(0x10e))var _0x45d261=users['Hindi'];else{if(_0x166441[0x0]['language']==_0x338982(0x140))var _0x45d261=users[_0x338982(0x140)];else{if(_0x166441[0x0]['language']==_0x338982(0x11c))var _0x45d261=users['Spanish'];else{if(_0x166441[0x0][_0x338982(0x10c)]==_0x338982(0x147))var _0x45d261=users[_0x338982(0x147)];else{if(_0x166441[0x0][_0x338982(0x10c)]==_0x338982(0x149))var _0x45d261=users['Portuguese'];else{if(_0x166441[0x0][_0x338982(0x10c)]==_0x338982(0x117))var _0x45d261=users[_0x338982(0x117)];else{if(_0x166441[0x0][_0x338982(0x10c)]==_0x338982(0x114))var _0x45d261=users[_0x338982(0x130)];}}}}}}}_0xb034f5['render']('email_settings',{'success':_0x155ab0[_0x338982(0x141)]('success'),'errors':_0x155ab0[_0x338982(0x141)]('errors'),'role':_0x42fa92,'profile':_0x1c64e2,'master_shop':_0x166441,'email':_0x2c4730,'language':_0x45d261});}catch(_0x1bc629){console['log'](_0x1bc629);}}),router[a0_0x114c22(0x152)]('/view/email/edit_settings',auth,async(_0x30a2b5,_0xb7cb21)=>{const _0x5e4bb6=a0_0x114c22;try{const {host:_0x2370a7,port:_0x42d109,email:_0x54f907,password:_0x33c1a0}=_0x30a2b5[_0x5e4bb6(0x132)],_0x1eeb5a=await email_settings[_0x5e4bb6(0x128)]();if(_0x1eeb5a==null){const _0x1fa9fb=new email_settings({'host':_0x2370a7,'port':_0x42d109,'email':_0x54f907,'password':_0x33c1a0});await _0x1fa9fb['save']();}else _0x1eeb5a[_0x5e4bb6(0x116)]=_0x2370a7,_0x1eeb5a[_0x5e4bb6(0x125)]=_0x42d109,_0x1eeb5a[_0x5e4bb6(0x145)]=_0x54f907,_0x1eeb5a[_0x5e4bb6(0x110)]=_0x33c1a0,await _0x1eeb5a[_0x5e4bb6(0x11b)]();_0x30a2b5[_0x5e4bb6(0x141)]('success',_0x5e4bb6(0x10d)),_0xb7cb21[_0x5e4bb6(0x13c)](_0x5e4bb6(0x129));}catch(_0x2d82c6){console[_0x5e4bb6(0x11a)](_0x2d82c6);}}),router[a0_0x114c22(0x12b)](a0_0x114c22(0x115),auth,async(_0x19a0ac,_0x4f58b3)=>{const _0x30e4f5=a0_0x114c22;try{const {username:_0x364435,email:_0x1e6ef5,role:_0x4db9a2}=_0x19a0ac['user'],_0x72d2d9=_0x19a0ac[_0x30e4f5(0x12c)],_0x23388c=await supervisor_settings[_0x30e4f5(0x150)](),_0x350f90=await profile[_0x30e4f5(0x128)]({'email':_0x72d2d9['email']}),_0x171027=await master_shop[_0x30e4f5(0x150)](),_0x42bf2f=new Date()[_0x30e4f5(0x123)]('en-US',{'timeZone':_0x171027[0x0][_0x30e4f5(0x12d)]});if(_0x171027[0x0]['language']==_0x30e4f5(0x143)){var _0x1a7e0a=users[_0x30e4f5(0x112)];console[_0x30e4f5(0x11a)](_0x1a7e0a);}else{if(_0x171027[0x0][_0x30e4f5(0x10c)]==_0x30e4f5(0x10e))var _0x1a7e0a=users['Hindi'];else{if(_0x171027[0x0][_0x30e4f5(0x10c)]==_0x30e4f5(0x140))var _0x1a7e0a=users[_0x30e4f5(0x140)];else{if(_0x171027[0x0][_0x30e4f5(0x10c)]=='Spanish')var _0x1a7e0a=users[_0x30e4f5(0x11c)];else{if(_0x171027[0x0][_0x30e4f5(0x10c)]==_0x30e4f5(0x147))var _0x1a7e0a=users['French'];else{if(_0x171027[0x0][_0x30e4f5(0x10c)]==_0x30e4f5(0x149))var _0x1a7e0a=users[_0x30e4f5(0x122)];else{if(_0x171027[0x0]['language']=='Chinese')var _0x1a7e0a=users[_0x30e4f5(0x117)];else{if(_0x171027[0x0]['language']=='Arabic\x20(ae)')var _0x1a7e0a=users[_0x30e4f5(0x130)];}}}}}}}_0x4f58b3['render'](_0x30e4f5(0x136),{'success':_0x19a0ac[_0x30e4f5(0x141)]('success'),'errors':_0x19a0ac[_0x30e4f5(0x141)](_0x30e4f5(0x10f)),'role':_0x72d2d9,'profile':_0x350f90,'master_shop':_0x171027,'supervisor_data':_0x23388c[0x0],'timezones':timezones,'language':_0x1a7e0a});}catch(_0x239780){console['log'](_0x239780);}}),router[a0_0x114c22(0x152)](a0_0x114c22(0x115),auth,async(_0x1eab3a,_0x2d6f8a)=>{const _0x43f76c=a0_0x114c22;try{const {rm_name:_0x4e16eb,fg_name:_0x48e792,rm_email:_0x3d6c82,fg_email:_0xdadff8,rm_mobilenum:_0x44661d,fg_number:_0x6500b6}=_0x1eab3a[_0x43f76c(0x132)],_0x91ba9b=await supervisor_settings[_0x43f76c(0x128)]();if(_0x91ba9b==null){const _0x105543=new supervisor_settings({'RMSName':_0x4e16eb,'RMSEmail':_0x3d6c82,'RMSnumber':_0x44661d,'FGSName':_0x48e792,'FGSEmail':_0xdadff8,'FGSnumber':_0x6500b6});await _0x105543[_0x43f76c(0x11b)]();}else _0x91ba9b['RMSName']=_0x4e16eb,_0x91ba9b[_0x43f76c(0x126)]=_0x3d6c82,_0x91ba9b['RMSnumber']=_0x44661d,_0x91ba9b[_0x43f76c(0x13b)]=_0x48e792,_0x91ba9b[_0x43f76c(0x14f)]=_0xdadff8,_0x91ba9b['FGSnumber']=_0x6500b6,await _0x91ba9b[_0x43f76c(0x11b)]();_0x1eab3a[_0x43f76c(0x141)](_0x43f76c(0x14a),_0x43f76c(0x10d)),_0x2d6f8a['redirect'](_0x43f76c(0x144));}catch(_0x42031a){console['log'](_0x42031a);}}),module['exports']=router;