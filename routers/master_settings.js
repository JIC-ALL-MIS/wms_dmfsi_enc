const a0_0x4cde45=a0_0x4610;(function(_0x17f295,_0x1dc63b){const _0x1e8f35=a0_0x4610,_0x3d7405=_0x17f295();while(!![]){try{const _0x510e28=-parseInt(_0x1e8f35(0x1a7))/0x1*(-parseInt(_0x1e8f35(0x1ec))/0x2)+parseInt(_0x1e8f35(0x1cb))/0x3*(-parseInt(_0x1e8f35(0x1b8))/0x4)+-parseInt(_0x1e8f35(0x1d4))/0x5*(parseInt(_0x1e8f35(0x1c0))/0x6)+parseInt(_0x1e8f35(0x1c7))/0x7*(-parseInt(_0x1e8f35(0x1d1))/0x8)+parseInt(_0x1e8f35(0x1b9))/0x9+parseInt(_0x1e8f35(0x1e2))/0xa+parseInt(_0x1e8f35(0x1ee))/0xb*(parseInt(_0x1e8f35(0x1cd))/0xc);if(_0x510e28===_0x1dc63b)break;else _0x3d7405['push'](_0x3d7405['shift']());}catch(_0x198103){_0x3d7405['push'](_0x3d7405['shift']());}}}(a0_0x4977,0x50d66));const express=require(a0_0x4cde45(0x1c2)),app=express(),router=express[a0_0x4cde45(0x1bc)](),multer=require(a0_0x4cde45(0x1e6)),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require(a0_0x4cde45(0x1cc));var timezones=require(a0_0x4cde45(0x1c5));function a0_0x4977(){const _0x58ec02=['/master_shop/view','image','save','RMSName','find','/view','Arabic\x20(ae)','port','now','2474536qGgeNh','5451633huQDzP','email_settings','RMSEmail','Router','2nd\x20master_shop_data','email','master_shop_data','84PlCPUA','master_settings','express','Portuguese\x20(BR)','flash','timezones-list','get','7QvtLUN','/view/email/edit_settings','currency','/:id','3HwukQb','../middleware/auth','1164108GWyeGs','redirect','success','toLocaleString','2799704nJDVGy','single','French','109445NZodCl','English\x20(US)','en-US','render','supervisor_settings','findOne','Portuguese','user','site_title','RMSnumber','hidden','master','shop\x20setting\x20edit\x20successfully','body','4232500IRJJsu','Arabic','English','file','multer','FGSName','Hindi','timezone','post','language','378260IWGDWn','originalname','44MHmFPX','/view/email','Chinese','host','/master_shop/view/supervisors','/view/supervisors','diskStorage','1rDcLwi','log','FGSEmail','Spanish','./public/upload','German','errors','currency_placement'];a0_0x4977=function(){return _0x58ec02;};return a0_0x4977();}const users=require('../public/language/languages.json'),storage=multer[a0_0x4cde45(0x1a6)]({'destination':(_0x11392d,_0x33a4d2,_0x5af78d)=>{const _0x2ee091=a0_0x4cde45;_0x5af78d(null,_0x2ee091(0x1ab));},'filename':(_0x57162e,_0x9e2c65,_0x227b41)=>{const _0x1264d9=a0_0x4cde45;_0x227b41(null,Date[_0x1264d9(0x1b7)]()+_0x9e2c65[_0x1264d9(0x1ed)]);}}),upload=multer({'storage':storage});function a0_0x4610(_0x3f0a23,_0x4caefd){const _0x497794=a0_0x4977();return a0_0x4610=function(_0x461020,_0x4117ae){_0x461020=_0x461020-0x1a3;let _0xf75306=_0x497794[_0x461020];return _0xf75306;},a0_0x4610(_0x3f0a23,_0x4caefd);}router['get'](a0_0x4cde45(0x1b4),auth,async(_0x36280e,_0x4db17c)=>{const _0x33f9d5=a0_0x4cde45;try{const {username:_0x2f85a0,email:_0x489eb2,role:_0x1f17b9}=_0x36280e['user'],_0x36b3bb=_0x36280e[_0x33f9d5(0x1db)],_0x527356=await profile[_0x33f9d5(0x1d9)]({'email':_0x36b3bb['email']}),_0x447e70=await master_shop[_0x33f9d5(0x1b3)]();console[_0x33f9d5(0x1a8)](_0x33f9d5(0x1df),_0x447e70);const _0x52f986=new Date()[_0x33f9d5(0x1d0)](_0x33f9d5(0x1d6),{'timeZone':_0x447e70[0x0][_0x33f9d5(0x1e9)]});console[_0x33f9d5(0x1a8)](_0x33f9d5(0x1e9),_0x52f986);if(_0x447e70[0x0][_0x33f9d5(0x1eb)]==_0x33f9d5(0x1d5)){var _0x24d9fb=users['English'];console[_0x33f9d5(0x1a8)](_0x24d9fb);}else{if(_0x447e70[0x0][_0x33f9d5(0x1eb)]=='Hindi')var _0x24d9fb=users['Hindi'];else{if(_0x447e70[0x0][_0x33f9d5(0x1eb)]==_0x33f9d5(0x1ac))var _0x24d9fb=users[_0x33f9d5(0x1ac)];else{if(_0x447e70[0x0][_0x33f9d5(0x1eb)]==_0x33f9d5(0x1aa))var _0x24d9fb=users[_0x33f9d5(0x1aa)];else{if(_0x447e70[0x0][_0x33f9d5(0x1eb)]=='French')var _0x24d9fb=users['French'];else{if(_0x447e70[0x0][_0x33f9d5(0x1eb)]=='Portuguese\x20(BR)')var _0x24d9fb=users[_0x33f9d5(0x1da)];else{if(_0x447e70[0x0][_0x33f9d5(0x1eb)]==_0x33f9d5(0x1f0))var _0x24d9fb=users[_0x33f9d5(0x1f0)];else{if(_0x447e70[0x0][_0x33f9d5(0x1eb)]==_0x33f9d5(0x1b5))var _0x24d9fb=users[_0x33f9d5(0x1e3)];}}}}}}}_0x4db17c['render'](_0x33f9d5(0x1c1),{'success':_0x36280e[_0x33f9d5(0x1c4)](_0x33f9d5(0x1cf)),'errors':_0x36280e[_0x33f9d5(0x1c4)]('errors'),'role':_0x36b3bb,'profile':_0x527356,'master_shop':_0x447e70,'timezones':timezones,'language':_0x24d9fb});}catch(_0x1bb17d){console[_0x33f9d5(0x1a8)](_0x1bb17d);}}),router['get'](a0_0x4cde45(0x1ca),auth,async(_0x331f0c,_0x61dd97)=>{const _0x3a6682=a0_0x4cde45;try{console[_0x3a6682(0x1a8)](_0x3a6682(0x1eb)),console['log'](_0x331f0c['params']['id']);const _0x38e0e6=await master_shop[_0x3a6682(0x1d9)]();_0x38e0e6[_0x3a6682(0x1eb)]=_0x331f0c['params']['id'],await _0x38e0e6[_0x3a6682(0x1b1)](),console[_0x3a6682(0x1a8)](_0x3a6682(0x1df),_0x38e0e6);}catch(_0x47b19e){console[_0x3a6682(0x1a8)](_0x47b19e);}}),router[a0_0x4cde45(0x1ea)]('/view/edit_settings',auth,upload[a0_0x4cde45(0x1d2)](a0_0x4cde45(0x1b0)),async(_0x182c13,_0xb56acf)=>{const _0x4e01c7=a0_0x4cde45;try{const {site_title:_0x1cabdc,currency:_0x31f5e5,currency_placement:_0x44d11f,timezone:_0x33fbdb}=_0x182c13[_0x4e01c7(0x1e1)];if(_0x182c13[_0x4e01c7(0x1e1)][_0x4e01c7(0x1de)]==0x0){const _0x55103a=await master_shop[_0x4e01c7(0x1d9)]();console[_0x4e01c7(0x1a8)](_0x4e01c7(0x1bf),_0x55103a);if(_0x55103a==''){const _0x342eeb=new master_shop({'site_title':_0x1cabdc,'image':image,'currency':_0x31f5e5,'currency_placement':_0x44d11f,'timezone':_0x33fbdb}),_0x3797fc=await _0x342eeb['save']();}else _0x55103a[_0x4e01c7(0x1dc)]=_0x1cabdc,_0x55103a[_0x4e01c7(0x1c9)]=_0x31f5e5,_0x55103a[_0x4e01c7(0x1ae)]=_0x44d11f,_0x55103a[_0x4e01c7(0x1e9)]=_0x33fbdb,await _0x55103a[_0x4e01c7(0x1b1)]();}else{const _0x55e25f=_0x182c13[_0x4e01c7(0x1e5)]['filename'],_0x44edc9=await master_shop[_0x4e01c7(0x1d9)]();console['log'](_0x4e01c7(0x1bd),_0x44edc9);if(_0x44edc9==null){console[_0x4e01c7(0x1a8)]('1',_0x1cabdc);const _0x47b3dc=new master_shop({'site_title':_0x1cabdc,'image':_0x55e25f,'currency':_0x31f5e5,'currency_placement':_0x44d11f,'timezone':_0x33fbdb}),_0x5f4ee1=await _0x47b3dc['save']();}else console[_0x4e01c7(0x1a8)]('2',_0x1cabdc),_0x44edc9['site_title']=_0x1cabdc,_0x44edc9[_0x4e01c7(0x1b0)]=_0x55e25f,_0x44edc9[_0x4e01c7(0x1c9)]=_0x31f5e5,_0x44edc9[_0x4e01c7(0x1ae)]=_0x44d11f,_0x44edc9['timezone']=_0x33fbdb,await _0x44edc9['save']();}_0x182c13['flash'](_0x4e01c7(0x1cf),_0x4e01c7(0x1e0)),_0xb56acf['redirect'](_0x4e01c7(0x1af));}catch(_0x2ba02c){console[_0x4e01c7(0x1a8)](_0x2ba02c);}}),router[a0_0x4cde45(0x1c6)](a0_0x4cde45(0x1ef),auth,async(_0x4a2bfd,_0x6373dc)=>{const _0x29658a=a0_0x4cde45;try{const {username:_0x266659,email:_0xd7d17b,role:_0x2c8ef4}=_0x4a2bfd[_0x29658a(0x1db)],_0x5becde=_0x4a2bfd[_0x29658a(0x1db)],_0x330fe4=await profile[_0x29658a(0x1d9)]({'email':_0x5becde[_0x29658a(0x1be)]}),_0x38cad3=await master_shop[_0x29658a(0x1b3)]();console[_0x29658a(0x1a8)](_0x29658a(0x1df),_0x38cad3);const _0x5a7185=await email_settings[_0x29658a(0x1d9)]();console['log']('master\x20settings\x20email_data',_0x5a7185);if(_0x38cad3[0x0][_0x29658a(0x1eb)]==_0x29658a(0x1d5)){var _0x5278ce=users[_0x29658a(0x1e4)];console[_0x29658a(0x1a8)](_0x5278ce);}else{if(_0x38cad3[0x0][_0x29658a(0x1eb)]==_0x29658a(0x1e8))var _0x5278ce=users[_0x29658a(0x1e8)];else{if(_0x38cad3[0x0]['language']==_0x29658a(0x1ac))var _0x5278ce=users[_0x29658a(0x1ac)];else{if(_0x38cad3[0x0][_0x29658a(0x1eb)]==_0x29658a(0x1aa))var _0x5278ce=users[_0x29658a(0x1aa)];else{if(_0x38cad3[0x0][_0x29658a(0x1eb)]==_0x29658a(0x1d3))var _0x5278ce=users[_0x29658a(0x1d3)];else{if(_0x38cad3[0x0][_0x29658a(0x1eb)]==_0x29658a(0x1c3))var _0x5278ce=users[_0x29658a(0x1da)];else{if(_0x38cad3[0x0][_0x29658a(0x1eb)]==_0x29658a(0x1f0))var _0x5278ce=users[_0x29658a(0x1f0)];else{if(_0x38cad3[0x0][_0x29658a(0x1eb)]=='Arabic\x20(ae)')var _0x5278ce=users[_0x29658a(0x1e3)];}}}}}}}_0x6373dc[_0x29658a(0x1d7)](_0x29658a(0x1ba),{'success':_0x4a2bfd[_0x29658a(0x1c4)](_0x29658a(0x1cf)),'errors':_0x4a2bfd[_0x29658a(0x1c4)](_0x29658a(0x1ad)),'role':_0x5becde,'profile':_0x330fe4,'master_shop':_0x38cad3,'email':_0x5a7185,'language':_0x5278ce});}catch(_0x13d292){console[_0x29658a(0x1a8)](_0x13d292);}}),router[a0_0x4cde45(0x1ea)](a0_0x4cde45(0x1c8),auth,async(_0x463971,_0x1ecc81)=>{const _0x30b0f2=a0_0x4cde45;try{const {host:_0x3e2447,port:_0xaec17f,email:_0x4def1a,password:_0x23be03}=_0x463971[_0x30b0f2(0x1e1)],_0x126814=await email_settings['findOne']();if(_0x126814==null){const _0x33cf50=new email_settings({'host':_0x3e2447,'port':_0xaec17f,'email':_0x4def1a,'password':_0x23be03});await _0x33cf50[_0x30b0f2(0x1b1)]();}else _0x126814[_0x30b0f2(0x1a3)]=_0x3e2447,_0x126814[_0x30b0f2(0x1b6)]=_0xaec17f,_0x126814[_0x30b0f2(0x1be)]=_0x4def1a,_0x126814['password']=_0x23be03,await _0x126814[_0x30b0f2(0x1b1)]();_0x463971[_0x30b0f2(0x1c4)](_0x30b0f2(0x1cf),'shop\x20setting\x20edit\x20successfully'),_0x1ecc81[_0x30b0f2(0x1ce)]('/master_shop/view/email');}catch(_0x2336eb){console['log'](_0x2336eb);}}),router[a0_0x4cde45(0x1c6)](a0_0x4cde45(0x1a5),auth,async(_0x2bb848,_0x2bece2)=>{const _0x87169=a0_0x4cde45;try{const {username:_0x20680a,email:_0x36c503,role:_0x27334f}=_0x2bb848[_0x87169(0x1db)],_0x40f54a=_0x2bb848[_0x87169(0x1db)],_0x3be924=await supervisor_settings[_0x87169(0x1b3)](),_0x50ffcf=await profile['findOne']({'email':_0x40f54a['email']}),_0x38d73d=await master_shop[_0x87169(0x1b3)](),_0x41ada6=new Date()['toLocaleString'](_0x87169(0x1d6),{'timeZone':_0x38d73d[0x0][_0x87169(0x1e9)]});if(_0x38d73d[0x0][_0x87169(0x1eb)]==_0x87169(0x1d5)){var _0x239df3=users[_0x87169(0x1e4)];console[_0x87169(0x1a8)](_0x239df3);}else{if(_0x38d73d[0x0][_0x87169(0x1eb)]==_0x87169(0x1e8))var _0x239df3=users[_0x87169(0x1e8)];else{if(_0x38d73d[0x0][_0x87169(0x1eb)]==_0x87169(0x1ac))var _0x239df3=users[_0x87169(0x1ac)];else{if(_0x38d73d[0x0][_0x87169(0x1eb)]==_0x87169(0x1aa))var _0x239df3=users[_0x87169(0x1aa)];else{if(_0x38d73d[0x0][_0x87169(0x1eb)]==_0x87169(0x1d3))var _0x239df3=users[_0x87169(0x1d3)];else{if(_0x38d73d[0x0][_0x87169(0x1eb)]==_0x87169(0x1c3))var _0x239df3=users[_0x87169(0x1da)];else{if(_0x38d73d[0x0]['language']=='Chinese')var _0x239df3=users[_0x87169(0x1f0)];else{if(_0x38d73d[0x0][_0x87169(0x1eb)]==_0x87169(0x1b5))var _0x239df3=users[_0x87169(0x1e3)];}}}}}}}_0x2bece2[_0x87169(0x1d7)](_0x87169(0x1d8),{'success':_0x2bb848['flash'](_0x87169(0x1cf)),'errors':_0x2bb848['flash'](_0x87169(0x1ad)),'role':_0x40f54a,'profile':_0x50ffcf,'master_shop':_0x38d73d,'supervisor_data':_0x3be924[0x0],'timezones':timezones,'language':_0x239df3});}catch(_0x58305f){console[_0x87169(0x1a8)](_0x58305f);}}),router[a0_0x4cde45(0x1ea)]('/view/supervisors',auth,async(_0x20c785,_0x1dfda0)=>{const _0x33b987=a0_0x4cde45;try{const {rm_name:_0x451045,fg_name:_0x6bd24b,rm_email:_0x416a35,fg_email:_0x8cb7e2,rm_mobilenum:_0x594d8a,fg_number:_0x3e08c8}=_0x20c785[_0x33b987(0x1e1)],_0x125c1b=await supervisor_settings[_0x33b987(0x1d9)]();if(_0x125c1b==null){const _0x3a486e=new supervisor_settings({'RMSName':_0x451045,'RMSEmail':_0x416a35,'RMSnumber':_0x594d8a,'FGSName':_0x6bd24b,'FGSEmail':_0x8cb7e2,'FGSnumber':_0x3e08c8});await _0x3a486e[_0x33b987(0x1b1)]();}else _0x125c1b[_0x33b987(0x1b2)]=_0x451045,_0x125c1b[_0x33b987(0x1bb)]=_0x416a35,_0x125c1b[_0x33b987(0x1dd)]=_0x594d8a,_0x125c1b[_0x33b987(0x1e7)]=_0x6bd24b,_0x125c1b[_0x33b987(0x1a9)]=_0x8cb7e2,_0x125c1b['FGSnumber']=_0x3e08c8,await _0x125c1b['save']();_0x20c785[_0x33b987(0x1c4)](_0x33b987(0x1cf),_0x33b987(0x1e0)),_0x1dfda0[_0x33b987(0x1ce)](_0x33b987(0x1a4));}catch(_0x3db370){console['log'](_0x3db370);}}),module['exports']=router;