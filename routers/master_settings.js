function a0_0x27b7(){const _0x29e321=['render','find','image','Hindi','RMSEmail','Portuguese\x20(BR)','originalname','English','timezones-list','4762751qyIHnK','Spanish','email','/master_shop/view/supervisors','save','/view/email/edit_settings','Chinese','/view/supervisors','/view/edit_settings','./public/upload','../public/language/languages.json','/master_shop/view','644540EfUYme','Portuguese','user','/view','file','French','toLocaleString','single','findOne','host','235347jRjfUN','German','currency_placement','hidden','flash','English\x20(US)','RMSName','get','post','146195MwpHZw','553720TkQTzs','success','master','now','redirect','log','2095140CaxxAv','port','params','language','password','express','master_shop_data','shop\x20setting\x20edit\x20successfully','master\x20settings\x20email_data','currency','timezone','Arabic','errors','FGSName','/master_shop/view/email','en-US','2nd\x20master_shop_data','../middleware/auth','506294POqKvM','multer','site_title','../models/all_models','body','FGSnumber','/view/email','Arabic\x20(ae)'];a0_0x27b7=function(){return _0x29e321;};return a0_0x27b7();}const a0_0x36a731=a0_0x5aec;(function(_0x2f7bc4,_0x26ea45){const _0x539eaf=a0_0x5aec,_0x48488d=_0x2f7bc4();while(!![]){try{const _0x15a641=parseInt(_0x539eaf(0x1ae))/0x1+parseInt(_0x539eaf(0x17e))/0x2+parseInt(_0x539eaf(0x1a5))/0x3+parseInt(_0x539eaf(0x19b))/0x4+-parseInt(_0x539eaf(0x1af))/0x5+parseInt(_0x539eaf(0x1b5))/0x6+-parseInt(_0x539eaf(0x18f))/0x7;if(_0x15a641===_0x26ea45)break;else _0x48488d['push'](_0x48488d['shift']());}catch(_0xb48118){_0x48488d['push'](_0x48488d['shift']());}}}(a0_0x27b7,0x30173));const express=require(a0_0x36a731(0x1ba)),app=express(),router=express['Router'](),multer=require(a0_0x36a731(0x17f)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x36a731(0x181)),auth=require(a0_0x36a731(0x17d));var timezones=require(a0_0x36a731(0x18e));function a0_0x5aec(_0x2f5e17,_0x5f58eb){const _0x27b736=a0_0x27b7();return a0_0x5aec=function(_0x5aeccf,_0x2dcff4){_0x5aeccf=_0x5aeccf-0x17b;let _0x5591d1=_0x27b736[_0x5aeccf];return _0x5591d1;},a0_0x5aec(_0x2f5e17,_0x5f58eb);}const users=require(a0_0x36a731(0x199)),storage=multer['diskStorage']({'destination':(_0x455a81,_0x261a46,_0x4903f8)=>{const _0x22626e=a0_0x36a731;_0x4903f8(null,_0x22626e(0x198));},'filename':(_0x36eec2,_0x5831ae,_0x4fbbdd)=>{const _0x27782a=a0_0x36a731;_0x4fbbdd(null,Date[_0x27782a(0x1b2)]()+_0x5831ae[_0x27782a(0x18c)]);}}),upload=multer({'storage':storage});router['get'](a0_0x36a731(0x19e),auth,async(_0x2ec1eb,_0x337fbd)=>{const _0x57eb6c=a0_0x36a731;try{const {username:_0x3c7829,email:_0x5354f0,role:_0x2d040d}=_0x2ec1eb[_0x57eb6c(0x19d)],_0x35148b=_0x2ec1eb[_0x57eb6c(0x19d)],_0x1672bf=await profile['findOne']({'email':_0x35148b[_0x57eb6c(0x191)]}),_0x1e1b79=await master_shop['find']();console[_0x57eb6c(0x1b4)](_0x57eb6c(0x1b1),_0x1e1b79);const _0x4e91a1=new Date()['toLocaleString']('en-US',{'timeZone':_0x1e1b79[0x0][_0x57eb6c(0x1bf)]});console[_0x57eb6c(0x1b4)](_0x57eb6c(0x1bf),_0x4e91a1);if(_0x1e1b79[0x0]['language']==_0x57eb6c(0x1aa)){var _0x382f27=users[_0x57eb6c(0x18d)];console[_0x57eb6c(0x1b4)](_0x382f27);}else{if(_0x1e1b79[0x0][_0x57eb6c(0x1b8)]==_0x57eb6c(0x189))var _0x382f27=users[_0x57eb6c(0x189)];else{if(_0x1e1b79[0x0][_0x57eb6c(0x1b8)]==_0x57eb6c(0x1a6))var _0x382f27=users[_0x57eb6c(0x1a6)];else{if(_0x1e1b79[0x0][_0x57eb6c(0x1b8)]==_0x57eb6c(0x190))var _0x382f27=users[_0x57eb6c(0x190)];else{if(_0x1e1b79[0x0][_0x57eb6c(0x1b8)]==_0x57eb6c(0x1a0))var _0x382f27=users[_0x57eb6c(0x1a0)];else{if(_0x1e1b79[0x0][_0x57eb6c(0x1b8)]==_0x57eb6c(0x18b))var _0x382f27=users[_0x57eb6c(0x19c)];else{if(_0x1e1b79[0x0][_0x57eb6c(0x1b8)]==_0x57eb6c(0x195))var _0x382f27=users[_0x57eb6c(0x195)];else{if(_0x1e1b79[0x0][_0x57eb6c(0x1b8)]==_0x57eb6c(0x185))var _0x382f27=users[_0x57eb6c(0x1c0)];}}}}}}}_0x337fbd[_0x57eb6c(0x186)]('master_settings',{'success':_0x2ec1eb[_0x57eb6c(0x1a9)]('success'),'errors':_0x2ec1eb[_0x57eb6c(0x1a9)](_0x57eb6c(0x1c1)),'role':_0x35148b,'profile':_0x1672bf,'master_shop':_0x1e1b79,'timezones':timezones,'language':_0x382f27});}catch(_0x503f45){console[_0x57eb6c(0x1b4)](_0x503f45);}}),router[a0_0x36a731(0x1ac)]('/:id',auth,async(_0x1b8eba,_0x561bfb)=>{const _0x53cc1c=a0_0x36a731;try{console[_0x53cc1c(0x1b4)](_0x53cc1c(0x1b8)),console['log'](_0x1b8eba['params']['id']);const _0xfb9824=await master_shop[_0x53cc1c(0x1a3)]();_0xfb9824[_0x53cc1c(0x1b8)]=_0x1b8eba[_0x53cc1c(0x1b7)]['id'],await _0xfb9824[_0x53cc1c(0x193)](),console[_0x53cc1c(0x1b4)](_0x53cc1c(0x1b1),_0xfb9824);}catch(_0xc4d8f7){console[_0x53cc1c(0x1b4)](_0xc4d8f7);}}),router['post'](a0_0x36a731(0x197),auth,upload[a0_0x36a731(0x1a2)](a0_0x36a731(0x188)),async(_0x537b12,_0x120692)=>{const _0x287cf1=a0_0x36a731;try{const {site_title:_0x1b3fbd,currency:_0xeafadf,currency_placement:_0x1f91ba,timezone:_0x326e2c}=_0x537b12[_0x287cf1(0x182)];if(_0x537b12[_0x287cf1(0x182)][_0x287cf1(0x1a8)]==0x0){const _0x31fd95=await master_shop[_0x287cf1(0x1a3)]();console[_0x287cf1(0x1b4)](_0x287cf1(0x1bb),_0x31fd95);if(_0x31fd95==''){const _0x4b1c69=new master_shop({'site_title':_0x1b3fbd,'image':image,'currency':_0xeafadf,'currency_placement':_0x1f91ba,'timezone':_0x326e2c}),_0x22ffe9=await _0x4b1c69[_0x287cf1(0x193)]();}else _0x31fd95['site_title']=_0x1b3fbd,_0x31fd95[_0x287cf1(0x1be)]=_0xeafadf,_0x31fd95[_0x287cf1(0x1a7)]=_0x1f91ba,_0x31fd95[_0x287cf1(0x1bf)]=_0x326e2c,await _0x31fd95[_0x287cf1(0x193)]();}else{const _0x2c1974=_0x537b12[_0x287cf1(0x19f)]['filename'],_0x4b2114=await master_shop[_0x287cf1(0x1a3)]();console['log'](_0x287cf1(0x17c),_0x4b2114);if(_0x4b2114==null){console['log']('1',_0x1b3fbd);const _0x18892b=new master_shop({'site_title':_0x1b3fbd,'image':_0x2c1974,'currency':_0xeafadf,'currency_placement':_0x1f91ba,'timezone':_0x326e2c}),_0x263b5a=await _0x18892b[_0x287cf1(0x193)]();}else console[_0x287cf1(0x1b4)]('2',_0x1b3fbd),_0x4b2114[_0x287cf1(0x180)]=_0x1b3fbd,_0x4b2114[_0x287cf1(0x188)]=_0x2c1974,_0x4b2114[_0x287cf1(0x1be)]=_0xeafadf,_0x4b2114[_0x287cf1(0x1a7)]=_0x1f91ba,_0x4b2114['timezone']=_0x326e2c,await _0x4b2114[_0x287cf1(0x193)]();}_0x537b12['flash'](_0x287cf1(0x1b0),_0x287cf1(0x1bc)),_0x120692[_0x287cf1(0x1b3)](_0x287cf1(0x19a));}catch(_0x2a8033){console[_0x287cf1(0x1b4)](_0x2a8033);}}),router[a0_0x36a731(0x1ac)](a0_0x36a731(0x184),auth,async(_0x25e320,_0xf03117)=>{const _0x1bd71c=a0_0x36a731;try{const {username:_0x1ca83d,email:_0xd49d2e,role:_0x170ec4}=_0x25e320[_0x1bd71c(0x19d)],_0x580cb0=_0x25e320[_0x1bd71c(0x19d)],_0x52c1c5=await profile[_0x1bd71c(0x1a3)]({'email':_0x580cb0['email']}),_0x404da2=await master_shop['find']();console[_0x1bd71c(0x1b4)](_0x1bd71c(0x1b1),_0x404da2);const _0x8884d3=await email_settings[_0x1bd71c(0x1a3)]();console[_0x1bd71c(0x1b4)](_0x1bd71c(0x1bd),_0x8884d3);if(_0x404da2[0x0]['language']==_0x1bd71c(0x1aa)){var _0x1bbbee=users[_0x1bd71c(0x18d)];console[_0x1bd71c(0x1b4)](_0x1bbbee);}else{if(_0x404da2[0x0][_0x1bd71c(0x1b8)]==_0x1bd71c(0x189))var _0x1bbbee=users[_0x1bd71c(0x189)];else{if(_0x404da2[0x0][_0x1bd71c(0x1b8)]==_0x1bd71c(0x1a6))var _0x1bbbee=users['German'];else{if(_0x404da2[0x0][_0x1bd71c(0x1b8)]==_0x1bd71c(0x190))var _0x1bbbee=users['Spanish'];else{if(_0x404da2[0x0][_0x1bd71c(0x1b8)]==_0x1bd71c(0x1a0))var _0x1bbbee=users['French'];else{if(_0x404da2[0x0][_0x1bd71c(0x1b8)]=='Portuguese\x20(BR)')var _0x1bbbee=users[_0x1bd71c(0x19c)];else{if(_0x404da2[0x0][_0x1bd71c(0x1b8)]=='Chinese')var _0x1bbbee=users[_0x1bd71c(0x195)];else{if(_0x404da2[0x0][_0x1bd71c(0x1b8)]=='Arabic\x20(ae)')var _0x1bbbee=users[_0x1bd71c(0x1c0)];}}}}}}}_0xf03117[_0x1bd71c(0x186)]('email_settings',{'success':_0x25e320['flash']('success'),'errors':_0x25e320[_0x1bd71c(0x1a9)](_0x1bd71c(0x1c1)),'role':_0x580cb0,'profile':_0x52c1c5,'master_shop':_0x404da2,'email':_0x8884d3,'language':_0x1bbbee});}catch(_0x43c437){console[_0x1bd71c(0x1b4)](_0x43c437);}}),router[a0_0x36a731(0x1ad)](a0_0x36a731(0x194),auth,async(_0x1ea6db,_0xc03ddc)=>{const _0x46bb5f=a0_0x36a731;try{const {host:_0x3e2e87,port:_0x1f6a4c,email:_0x418976,password:_0x4d2119}=_0x1ea6db[_0x46bb5f(0x182)],_0x1adddf=await email_settings[_0x46bb5f(0x1a3)]();if(_0x1adddf==null){const _0x1335ab=new email_settings({'host':_0x3e2e87,'port':_0x1f6a4c,'email':_0x418976,'password':_0x4d2119});await _0x1335ab[_0x46bb5f(0x193)]();}else _0x1adddf[_0x46bb5f(0x1a4)]=_0x3e2e87,_0x1adddf[_0x46bb5f(0x1b6)]=_0x1f6a4c,_0x1adddf[_0x46bb5f(0x191)]=_0x418976,_0x1adddf[_0x46bb5f(0x1b9)]=_0x4d2119,await _0x1adddf['save']();_0x1ea6db['flash'](_0x46bb5f(0x1b0),_0x46bb5f(0x1bc)),_0xc03ddc[_0x46bb5f(0x1b3)](_0x46bb5f(0x1c3));}catch(_0x5b528d){console[_0x46bb5f(0x1b4)](_0x5b528d);}}),router['get']('/view/supervisors',auth,async(_0x229d4e,_0x1c2eef)=>{const _0x495886=a0_0x36a731;try{const {username:_0x123399,email:_0x1b4d60,role:_0x1b923e}=_0x229d4e[_0x495886(0x19d)],_0x3ad1a5=_0x229d4e[_0x495886(0x19d)],_0x534505=await supervisor_settings[_0x495886(0x187)](),_0x3981c3=await profile[_0x495886(0x1a3)]({'email':_0x3ad1a5[_0x495886(0x191)]}),_0x21b915=await master_shop[_0x495886(0x187)](),_0x226f9b=new Date()[_0x495886(0x1a1)](_0x495886(0x17b),{'timeZone':_0x21b915[0x0][_0x495886(0x1bf)]});if(_0x21b915[0x0]['language']==_0x495886(0x1aa)){var _0x94d166=users['English'];console['log'](_0x94d166);}else{if(_0x21b915[0x0][_0x495886(0x1b8)]==_0x495886(0x189))var _0x94d166=users[_0x495886(0x189)];else{if(_0x21b915[0x0][_0x495886(0x1b8)]==_0x495886(0x1a6))var _0x94d166=users[_0x495886(0x1a6)];else{if(_0x21b915[0x0][_0x495886(0x1b8)]==_0x495886(0x190))var _0x94d166=users[_0x495886(0x190)];else{if(_0x21b915[0x0][_0x495886(0x1b8)]=='French')var _0x94d166=users['French'];else{if(_0x21b915[0x0][_0x495886(0x1b8)]==_0x495886(0x18b))var _0x94d166=users[_0x495886(0x19c)];else{if(_0x21b915[0x0][_0x495886(0x1b8)]==_0x495886(0x195))var _0x94d166=users[_0x495886(0x195)];else{if(_0x21b915[0x0][_0x495886(0x1b8)]==_0x495886(0x185))var _0x94d166=users[_0x495886(0x1c0)];}}}}}}}_0x1c2eef[_0x495886(0x186)]('supervisor_settings',{'success':_0x229d4e['flash'](_0x495886(0x1b0)),'errors':_0x229d4e[_0x495886(0x1a9)]('errors'),'role':_0x3ad1a5,'profile':_0x3981c3,'master_shop':_0x21b915,'supervisor_data':_0x534505[0x0],'timezones':timezones,'language':_0x94d166});}catch(_0x15f6e2){console[_0x495886(0x1b4)](_0x15f6e2);}}),router[a0_0x36a731(0x1ad)](a0_0x36a731(0x196),auth,async(_0x2dc6cb,_0xceea18)=>{const _0x3c4698=a0_0x36a731;try{const {rm_name:_0x50742f,fg_name:_0x367397,rm_email:_0x41bf13,fg_email:_0x38e9f5,rm_mobilenum:_0x1277eb,fg_number:_0x2840e3}=_0x2dc6cb['body'],_0x3b0943=await supervisor_settings[_0x3c4698(0x1a3)]();if(_0x3b0943==null){const _0x4584f4=new supervisor_settings({'RMSName':_0x50742f,'RMSEmail':_0x41bf13,'RMSnumber':_0x1277eb,'FGSName':_0x367397,'FGSEmail':_0x38e9f5,'FGSnumber':_0x2840e3});await _0x4584f4[_0x3c4698(0x193)]();}else _0x3b0943[_0x3c4698(0x1ab)]=_0x50742f,_0x3b0943[_0x3c4698(0x18a)]=_0x41bf13,_0x3b0943['RMSnumber']=_0x1277eb,_0x3b0943[_0x3c4698(0x1c2)]=_0x367397,_0x3b0943['FGSEmail']=_0x38e9f5,_0x3b0943[_0x3c4698(0x183)]=_0x2840e3,await _0x3b0943[_0x3c4698(0x193)]();_0x2dc6cb[_0x3c4698(0x1a9)](_0x3c4698(0x1b0),_0x3c4698(0x1bc)),_0xceea18['redirect'](_0x3c4698(0x192));}catch(_0x5daddf){console['log'](_0x5daddf);}}),module['exports']=router;