const a0_0x27b94a=a0_0x3e0a;function a0_0x47fe(){const _0x185c7d=['user','FGSnumber','8yKuwqW','email_settings','master','site_title','1368858JbVUSR','2nd\x20master_shop_data','German','master_settings','2WURKiy','get','master_shop_data','port','email','shop\x20setting\x20edit\x20successfully','../models/all_models','RMSName','/view/email','body','image','currency_placement','651787zblXjx','../public/language/languages.json','/view/supervisors','express','/view/edit_settings','Arabic','params','flash','/master_shop/view/supervisors','find','exports','Hindi','multer','post','5145007lmgdEW','/view','en-US','Arabic\x20(ae)','English','Chinese','log','originalname','success','Portuguese','7506eGMGTU','master\x20settings\x20email_data','file','9614010GmdLym','Portuguese\x20(BR)','save','5mVFmlD','currency','now','single','findOne','/master_shop/view','Spanish','diskStorage','timezone','7859286thppLF','French','English\x20(US)','errors','5106460KRQefy','render','language','timezones-list','Router'];a0_0x47fe=function(){return _0x185c7d;};return a0_0x47fe();}(function(_0x32c607,_0x2e581c){const _0x3bf142=a0_0x3e0a,_0x4f3a56=_0x32c607();while(!![]){try{const _0x9a07f0=parseInt(_0x3bf142(0x101))/0x1+parseInt(_0x3bf142(0x13b))/0x2*(parseInt(_0x3bf142(0x137))/0x3)+-parseInt(_0x3bf142(0x12c))/0x4+-parseInt(_0x3bf142(0x11f))/0x5*(-parseInt(_0x3bf142(0x119))/0x6)+-parseInt(_0x3bf142(0x10f))/0x7*(-parseInt(_0x3bf142(0x133))/0x8)+-parseInt(_0x3bf142(0x128))/0x9+parseInt(_0x3bf142(0x11c))/0xa;if(_0x9a07f0===_0x2e581c)break;else _0x4f3a56['push'](_0x4f3a56['shift']());}catch(_0x5e4802){_0x4f3a56['push'](_0x4f3a56['shift']());}}}(a0_0x47fe,0xa01f1));const express=require(a0_0x27b94a(0x104)),app=express(),router=express[a0_0x27b94a(0x130)](),multer=require(a0_0x27b94a(0x10d)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x27b94a(0x141)),auth=require('../middleware/auth');var timezones=require(a0_0x27b94a(0x12f));function a0_0x3e0a(_0x1a8006,_0x27e445){const _0x47feea=a0_0x47fe();return a0_0x3e0a=function(_0x3e0ad0,_0x5cb695){_0x3e0ad0=_0x3e0ad0-0xfd;let _0x2c86bd=_0x47feea[_0x3e0ad0];return _0x2c86bd;},a0_0x3e0a(_0x1a8006,_0x27e445);}const users=require(a0_0x27b94a(0x102)),storage=multer[a0_0x27b94a(0x126)]({'destination':(_0x4e169d,_0x63e761,_0x3776f3)=>{_0x3776f3(null,'./public/upload');},'filename':(_0x326905,_0x1d167,_0x1bbf57)=>{const _0x3f782f=a0_0x27b94a;_0x1bbf57(null,Date[_0x3f782f(0x121)]()+_0x1d167[_0x3f782f(0x116)]);}}),upload=multer({'storage':storage});router['get'](a0_0x27b94a(0x110),auth,async(_0x2bf551,_0x54e925)=>{const _0x3826e1=a0_0x27b94a;try{const {username:_0x1da4b9,email:_0xa8acd1,role:_0x4c3fc3}=_0x2bf551[_0x3826e1(0x131)],_0x40f58a=_0x2bf551[_0x3826e1(0x131)],_0x16139f=await profile['findOne']({'email':_0x40f58a[_0x3826e1(0x13f)]}),_0x4cf54c=await master_shop[_0x3826e1(0x10a)]();console[_0x3826e1(0x115)](_0x3826e1(0x135),_0x4cf54c);const _0x5a48b7=new Date()['toLocaleString'](_0x3826e1(0x111),{'timeZone':_0x4cf54c[0x0][_0x3826e1(0x127)]});console['log'](_0x3826e1(0x127),_0x5a48b7);if(_0x4cf54c[0x0]['language']==_0x3826e1(0x12a)){var _0x10db1f=users[_0x3826e1(0x113)];console[_0x3826e1(0x115)](_0x10db1f);}else{if(_0x4cf54c[0x0]['language']==_0x3826e1(0x10c))var _0x10db1f=users[_0x3826e1(0x10c)];else{if(_0x4cf54c[0x0][_0x3826e1(0x12e)]=='German')var _0x10db1f=users[_0x3826e1(0x139)];else{if(_0x4cf54c[0x0][_0x3826e1(0x12e)]=='Spanish')var _0x10db1f=users[_0x3826e1(0x125)];else{if(_0x4cf54c[0x0][_0x3826e1(0x12e)]==_0x3826e1(0x129))var _0x10db1f=users[_0x3826e1(0x129)];else{if(_0x4cf54c[0x0][_0x3826e1(0x12e)]=='Portuguese\x20(BR)')var _0x10db1f=users[_0x3826e1(0x118)];else{if(_0x4cf54c[0x0][_0x3826e1(0x12e)]=='Chinese')var _0x10db1f=users[_0x3826e1(0x114)];else{if(_0x4cf54c[0x0][_0x3826e1(0x12e)]==_0x3826e1(0x112))var _0x10db1f=users['Arabic'];}}}}}}}_0x54e925[_0x3826e1(0x12d)](_0x3826e1(0x13a),{'success':_0x2bf551['flash'](_0x3826e1(0x117)),'errors':_0x2bf551[_0x3826e1(0x108)]('errors'),'role':_0x40f58a,'profile':_0x16139f,'master_shop':_0x4cf54c,'timezones':timezones,'language':_0x10db1f});}catch(_0x33b467){console[_0x3826e1(0x115)](_0x33b467);}}),router['get']('/:id',auth,async(_0x503268,_0x2e34d5)=>{const _0x251122=a0_0x27b94a;try{console[_0x251122(0x115)]('language'),console[_0x251122(0x115)](_0x503268[_0x251122(0x107)]['id']);const _0x2053d0=await master_shop[_0x251122(0x123)]();_0x2053d0[_0x251122(0x12e)]=_0x503268[_0x251122(0x107)]['id'],await _0x2053d0[_0x251122(0x11e)](),console[_0x251122(0x115)](_0x251122(0x135),_0x2053d0);}catch(_0x3b40ca){console['log'](_0x3b40ca);}}),router[a0_0x27b94a(0x10e)](a0_0x27b94a(0x105),auth,upload[a0_0x27b94a(0x122)](a0_0x27b94a(0xff)),async(_0x76ca76,_0xbf9f5)=>{const _0x4ab2c4=a0_0x27b94a;try{const {site_title:_0x195f1e,currency:_0x314582,currency_placement:_0x263c3c,timezone:_0x1f7cd2}=_0x76ca76[_0x4ab2c4(0xfe)];if(_0x76ca76['body']['hidden']==0x0){const _0x12ec5d=await master_shop[_0x4ab2c4(0x123)]();console[_0x4ab2c4(0x115)](_0x4ab2c4(0x13d),_0x12ec5d);if(_0x12ec5d==''){const _0x166efa=new master_shop({'site_title':_0x195f1e,'image':image,'currency':_0x314582,'currency_placement':_0x263c3c,'timezone':_0x1f7cd2}),_0x1b313f=await _0x166efa[_0x4ab2c4(0x11e)]();}else _0x12ec5d[_0x4ab2c4(0x136)]=_0x195f1e,_0x12ec5d[_0x4ab2c4(0x120)]=_0x314582,_0x12ec5d[_0x4ab2c4(0x100)]=_0x263c3c,_0x12ec5d[_0x4ab2c4(0x127)]=_0x1f7cd2,await _0x12ec5d[_0x4ab2c4(0x11e)]();}else{const _0x5898c5=_0x76ca76[_0x4ab2c4(0x11b)]['filename'],_0x5be13d=await master_shop['findOne']();console[_0x4ab2c4(0x115)](_0x4ab2c4(0x138),_0x5be13d);if(_0x5be13d==null){console[_0x4ab2c4(0x115)]('1',_0x195f1e);const _0x1fa460=new master_shop({'site_title':_0x195f1e,'image':_0x5898c5,'currency':_0x314582,'currency_placement':_0x263c3c,'timezone':_0x1f7cd2}),_0x2af162=await _0x1fa460[_0x4ab2c4(0x11e)]();}else console[_0x4ab2c4(0x115)]('2',_0x195f1e),_0x5be13d[_0x4ab2c4(0x136)]=_0x195f1e,_0x5be13d[_0x4ab2c4(0xff)]=_0x5898c5,_0x5be13d['currency']=_0x314582,_0x5be13d['currency_placement']=_0x263c3c,_0x5be13d[_0x4ab2c4(0x127)]=_0x1f7cd2,await _0x5be13d['save']();}_0x76ca76[_0x4ab2c4(0x108)](_0x4ab2c4(0x117),_0x4ab2c4(0x140)),_0xbf9f5['redirect'](_0x4ab2c4(0x124));}catch(_0x343896){console[_0x4ab2c4(0x115)](_0x343896);}}),router['get'](a0_0x27b94a(0xfd),auth,async(_0x489871,_0xf89d4d)=>{const _0x3463de=a0_0x27b94a;try{const {username:_0x391166,email:_0x7f1e64,role:_0x1e9737}=_0x489871[_0x3463de(0x131)],_0x44f5b6=_0x489871[_0x3463de(0x131)],_0x328f8f=await profile[_0x3463de(0x123)]({'email':_0x44f5b6[_0x3463de(0x13f)]}),_0x3fba40=await master_shop[_0x3463de(0x10a)]();console[_0x3463de(0x115)](_0x3463de(0x135),_0x3fba40);const _0x10a994=await email_settings[_0x3463de(0x123)]();console[_0x3463de(0x115)](_0x3463de(0x11a),_0x10a994);if(_0x3fba40[0x0]['language']=='English\x20(US)'){var _0x595cbb=users['English'];console[_0x3463de(0x115)](_0x595cbb);}else{if(_0x3fba40[0x0][_0x3463de(0x12e)]==_0x3463de(0x10c))var _0x595cbb=users[_0x3463de(0x10c)];else{if(_0x3fba40[0x0][_0x3463de(0x12e)]==_0x3463de(0x139))var _0x595cbb=users['German'];else{if(_0x3fba40[0x0][_0x3463de(0x12e)]==_0x3463de(0x125))var _0x595cbb=users[_0x3463de(0x125)];else{if(_0x3fba40[0x0][_0x3463de(0x12e)]=='French')var _0x595cbb=users['French'];else{if(_0x3fba40[0x0][_0x3463de(0x12e)]=='Portuguese\x20(BR)')var _0x595cbb=users[_0x3463de(0x118)];else{if(_0x3fba40[0x0][_0x3463de(0x12e)]==_0x3463de(0x114))var _0x595cbb=users[_0x3463de(0x114)];else{if(_0x3fba40[0x0][_0x3463de(0x12e)]==_0x3463de(0x112))var _0x595cbb=users['Arabic'];}}}}}}}_0xf89d4d[_0x3463de(0x12d)](_0x3463de(0x134),{'success':_0x489871['flash'](_0x3463de(0x117)),'errors':_0x489871['flash'](_0x3463de(0x12b)),'role':_0x44f5b6,'profile':_0x328f8f,'master_shop':_0x3fba40,'email':_0x10a994,'language':_0x595cbb});}catch(_0x338734){console['log'](_0x338734);}}),router[a0_0x27b94a(0x10e)]('/view/email/edit_settings',auth,async(_0xf95e3c,_0xfa71b2)=>{const _0x341b47=a0_0x27b94a;try{const {host:_0x5954ef,port:_0x3f2296,email:_0x5b68d9,password:_0x311d62}=_0xf95e3c['body'],_0x3f4cf7=await email_settings[_0x341b47(0x123)]();if(_0x3f4cf7==null){const _0x5ce98f=new email_settings({'host':_0x5954ef,'port':_0x3f2296,'email':_0x5b68d9,'password':_0x311d62});await _0x5ce98f[_0x341b47(0x11e)]();}else _0x3f4cf7['host']=_0x5954ef,_0x3f4cf7[_0x341b47(0x13e)]=_0x3f2296,_0x3f4cf7['email']=_0x5b68d9,_0x3f4cf7['password']=_0x311d62,await _0x3f4cf7['save']();_0xf95e3c[_0x341b47(0x108)](_0x341b47(0x117),_0x341b47(0x140)),_0xfa71b2['redirect']('/master_shop/view/email');}catch(_0x5cef64){console['log'](_0x5cef64);}}),router[a0_0x27b94a(0x13c)](a0_0x27b94a(0x103),auth,async(_0x1e7c89,_0x2f9919)=>{const _0x1d8405=a0_0x27b94a;try{const {username:_0x49301c,email:_0x363b16,role:_0x3810f4}=_0x1e7c89[_0x1d8405(0x131)],_0x477d0e=_0x1e7c89[_0x1d8405(0x131)],_0x41736a=await supervisor_settings['find'](),_0xc95407=await profile[_0x1d8405(0x123)]({'email':_0x477d0e[_0x1d8405(0x13f)]}),_0x4897fc=await master_shop['find'](),_0x5ef701=new Date()['toLocaleString'](_0x1d8405(0x111),{'timeZone':_0x4897fc[0x0][_0x1d8405(0x127)]});if(_0x4897fc[0x0][_0x1d8405(0x12e)]==_0x1d8405(0x12a)){var _0x3c9fe5=users[_0x1d8405(0x113)];console['log'](_0x3c9fe5);}else{if(_0x4897fc[0x0][_0x1d8405(0x12e)]=='Hindi')var _0x3c9fe5=users[_0x1d8405(0x10c)];else{if(_0x4897fc[0x0]['language']==_0x1d8405(0x139))var _0x3c9fe5=users['German'];else{if(_0x4897fc[0x0][_0x1d8405(0x12e)]==_0x1d8405(0x125))var _0x3c9fe5=users[_0x1d8405(0x125)];else{if(_0x4897fc[0x0][_0x1d8405(0x12e)]==_0x1d8405(0x129))var _0x3c9fe5=users[_0x1d8405(0x129)];else{if(_0x4897fc[0x0][_0x1d8405(0x12e)]==_0x1d8405(0x11d))var _0x3c9fe5=users['Portuguese'];else{if(_0x4897fc[0x0][_0x1d8405(0x12e)]==_0x1d8405(0x114))var _0x3c9fe5=users[_0x1d8405(0x114)];else{if(_0x4897fc[0x0][_0x1d8405(0x12e)]==_0x1d8405(0x112))var _0x3c9fe5=users[_0x1d8405(0x106)];}}}}}}}_0x2f9919['render']('supervisor_settings',{'success':_0x1e7c89['flash']('success'),'errors':_0x1e7c89['flash']('errors'),'role':_0x477d0e,'profile':_0xc95407,'master_shop':_0x4897fc,'supervisor_data':_0x41736a[0x0],'timezones':timezones,'language':_0x3c9fe5});}catch(_0x30d348){console[_0x1d8405(0x115)](_0x30d348);}}),router[a0_0x27b94a(0x10e)](a0_0x27b94a(0x103),auth,async(_0x41f434,_0x43027c)=>{const _0x3e075a=a0_0x27b94a;try{const {rm_name:_0x451ac8,fg_name:_0x7d6ec,rm_email:_0xc105f,fg_email:_0x459715,rm_mobilenum:_0x5a6708,fg_number:_0x2ca91b}=_0x41f434[_0x3e075a(0xfe)],_0xf35d82=await supervisor_settings[_0x3e075a(0x123)]();if(_0xf35d82==null){const _0x48c560=new supervisor_settings({'RMSName':_0x451ac8,'RMSEmail':_0xc105f,'RMSnumber':_0x5a6708,'FGSName':_0x7d6ec,'FGSEmail':_0x459715,'FGSnumber':_0x2ca91b});await _0x48c560[_0x3e075a(0x11e)]();}else _0xf35d82[_0x3e075a(0x142)]=_0x451ac8,_0xf35d82['RMSEmail']=_0xc105f,_0xf35d82['RMSnumber']=_0x5a6708,_0xf35d82['FGSName']=_0x7d6ec,_0xf35d82['FGSEmail']=_0x459715,_0xf35d82[_0x3e075a(0x132)]=_0x2ca91b,await _0xf35d82['save']();_0x41f434[_0x3e075a(0x108)]('success',_0x3e075a(0x140)),_0x43027c['redirect'](_0x3e075a(0x109));}catch(_0x5e9c75){console[_0x3e075a(0x115)](_0x5e9c75);}}),module[a0_0x27b94a(0x10b)]=router;