const a0_0x78b110=a0_0x592e;function a0_0x2e91(){const _0x1c5019=['email_settings','FGSnumber','729002jZLdLz','5097240nbPDkj','Chinese','file','multer','Router','../public/language/languages.json','originalname','../middleware/auth','10reMVRm','FGSEmail','timezones-list','../models/all_models','Portuguese\x20(BR)','RMSnumber','/master_shop/view/email','toLocaleString','flash','hidden','render','RMSName','/view/supervisors','/view/edit_settings','master','Arabic\x20(ae)','email','supervisor_settings','language','Arabic','save','/view','English','RMSEmail','399NRWFLa','Spanish','./public/upload','findOne','errors','/view/email','Hindi','/:id','params','user','timezone','redirect','1vVZlpi','success','diskStorage','7779656YSJDsA','image','/master_shop/view/supervisors','now','German','find','site_title','express','French','post','English\x20(US)','master\x20settings\x20email_data','master_settings','25782939cjiiEz','body','shop\x20setting\x20edit\x20successfully','get','log','1062152aaBhHv','filename','en-US','418650JFVpGk','single','master_shop_data','/view/email/edit_settings','24484STKLma','Portuguese','password'];a0_0x2e91=function(){return _0x1c5019;};return a0_0x2e91();}function a0_0x592e(_0x3ebd7d,_0x2fc250){const _0x2e91c7=a0_0x2e91();return a0_0x592e=function(_0x592e2b,_0x331f82){_0x592e2b=_0x592e2b-0xf7;let _0x2fc24f=_0x2e91c7[_0x592e2b];return _0x2fc24f;},a0_0x592e(_0x3ebd7d,_0x2fc250);}(function(_0x577295,_0x234c7c){const _0x12f95d=a0_0x592e,_0xc91d0e=_0x577295();while(!![]){try{const _0x5763f5=parseInt(_0x12f95d(0x134))/0x1*(parseInt(_0x12f95d(0x107))/0x2)+-parseInt(_0x12f95d(0x128))/0x3*(parseInt(_0x12f95d(0x102))/0x4)+parseInt(_0x12f95d(0xfe))/0x5+-parseInt(_0x12f95d(0x108))/0x6+-parseInt(_0x12f95d(0xfb))/0x7+-parseInt(_0x12f95d(0x137))/0x8+-parseInt(_0x12f95d(0x144))/0x9*(-parseInt(_0x12f95d(0x110))/0xa);if(_0x5763f5===_0x234c7c)break;else _0xc91d0e['push'](_0xc91d0e['shift']());}catch(_0x5979db){_0xc91d0e['push'](_0xc91d0e['shift']());}}}(a0_0x2e91,0x80378));const express=require(a0_0x78b110(0x13e)),app=express(),router=express[a0_0x78b110(0x10c)](),multer=require(a0_0x78b110(0x10b)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x78b110(0x113)),auth=require(a0_0x78b110(0x10f));var timezones=require(a0_0x78b110(0x112));const users=require(a0_0x78b110(0x10d)),storage=multer[a0_0x78b110(0x136)]({'destination':(_0x140bde,_0x449d6f,_0x402cfb)=>{const _0x1b2715=a0_0x78b110;_0x402cfb(null,_0x1b2715(0x12a));},'filename':(_0x401e55,_0x530012,_0x353509)=>{const _0x175a48=a0_0x78b110;_0x353509(null,Date[_0x175a48(0x13a)]()+_0x530012[_0x175a48(0x10e)]);}}),upload=multer({'storage':storage});router[a0_0x78b110(0xf9)](a0_0x78b110(0x125),auth,async(_0x4aaf57,_0x41b973)=>{const _0x5372eb=a0_0x78b110;try{const {username:_0x5069e8,email:_0x4d400e,role:_0x5f545b}=_0x4aaf57[_0x5372eb(0x131)],_0x9581bc=_0x4aaf57[_0x5372eb(0x131)],_0x2c9300=await profile[_0x5372eb(0x12b)]({'email':_0x9581bc[_0x5372eb(0x120)]}),_0x2962bc=await master_shop[_0x5372eb(0x13c)]();console[_0x5372eb(0xfa)](_0x5372eb(0x11e),_0x2962bc);const _0x421abb=new Date()[_0x5372eb(0x117)](_0x5372eb(0xfd),{'timeZone':_0x2962bc[0x0]['timezone']});console[_0x5372eb(0xfa)](_0x5372eb(0x132),_0x421abb);if(_0x2962bc[0x0][_0x5372eb(0x122)]==_0x5372eb(0x141)){var _0x4d4ff0=users[_0x5372eb(0x126)];console[_0x5372eb(0xfa)](_0x4d4ff0);}else{if(_0x2962bc[0x0]['language']==_0x5372eb(0x12e))var _0x4d4ff0=users[_0x5372eb(0x12e)];else{if(_0x2962bc[0x0]['language']==_0x5372eb(0x13b))var _0x4d4ff0=users[_0x5372eb(0x13b)];else{if(_0x2962bc[0x0]['language']==_0x5372eb(0x129))var _0x4d4ff0=users[_0x5372eb(0x129)];else{if(_0x2962bc[0x0][_0x5372eb(0x122)]==_0x5372eb(0x13f))var _0x4d4ff0=users['French'];else{if(_0x2962bc[0x0]['language']==_0x5372eb(0x114))var _0x4d4ff0=users[_0x5372eb(0x103)];else{if(_0x2962bc[0x0][_0x5372eb(0x122)]==_0x5372eb(0x109))var _0x4d4ff0=users['Chinese'];else{if(_0x2962bc[0x0][_0x5372eb(0x122)]==_0x5372eb(0x11f))var _0x4d4ff0=users['Arabic'];}}}}}}}_0x41b973[_0x5372eb(0x11a)](_0x5372eb(0x143),{'success':_0x4aaf57[_0x5372eb(0x118)]('success'),'errors':_0x4aaf57['flash'](_0x5372eb(0x12c)),'role':_0x9581bc,'profile':_0x2c9300,'master_shop':_0x2962bc,'timezones':timezones,'language':_0x4d4ff0});}catch(_0x494dbd){console[_0x5372eb(0xfa)](_0x494dbd);}}),router[a0_0x78b110(0xf9)](a0_0x78b110(0x12f),auth,async(_0x340a3e,_0x116111)=>{const _0x55d553=a0_0x78b110;try{console[_0x55d553(0xfa)](_0x55d553(0x122)),console[_0x55d553(0xfa)](_0x340a3e[_0x55d553(0x130)]['id']);const _0x1487c6=await master_shop[_0x55d553(0x12b)]();_0x1487c6[_0x55d553(0x122)]=_0x340a3e[_0x55d553(0x130)]['id'],await _0x1487c6[_0x55d553(0x124)](),console[_0x55d553(0xfa)](_0x55d553(0x11e),_0x1487c6);}catch(_0x111388){console[_0x55d553(0xfa)](_0x111388);}}),router[a0_0x78b110(0x140)](a0_0x78b110(0x11d),auth,upload[a0_0x78b110(0xff)](a0_0x78b110(0x138)),async(_0x3dbc55,_0x42841a)=>{const _0x5a3ff3=a0_0x78b110;try{const {site_title:_0x2712be,currency:_0x1c5ffc,currency_placement:_0x5bd904,timezone:_0x8ac891}=_0x3dbc55['body'];if(_0x3dbc55[_0x5a3ff3(0xf7)][_0x5a3ff3(0x119)]==0x0){const _0x263ce9=await master_shop[_0x5a3ff3(0x12b)]();console[_0x5a3ff3(0xfa)](_0x5a3ff3(0x100),_0x263ce9);if(_0x263ce9==''){const _0x1b6100=new master_shop({'site_title':_0x2712be,'image':image,'currency':_0x1c5ffc,'currency_placement':_0x5bd904,'timezone':_0x8ac891}),_0x4f39d3=await _0x1b6100[_0x5a3ff3(0x124)]();}else _0x263ce9[_0x5a3ff3(0x13d)]=_0x2712be,_0x263ce9['currency']=_0x1c5ffc,_0x263ce9['currency_placement']=_0x5bd904,_0x263ce9[_0x5a3ff3(0x132)]=_0x8ac891,await _0x263ce9[_0x5a3ff3(0x124)]();}else{const _0x243ef3=_0x3dbc55[_0x5a3ff3(0x10a)][_0x5a3ff3(0xfc)],_0x3facfc=await master_shop[_0x5a3ff3(0x12b)]();console[_0x5a3ff3(0xfa)]('2nd\x20master_shop_data',_0x3facfc);if(_0x3facfc==null){console[_0x5a3ff3(0xfa)]('1',_0x2712be);const _0x576606=new master_shop({'site_title':_0x2712be,'image':_0x243ef3,'currency':_0x1c5ffc,'currency_placement':_0x5bd904,'timezone':_0x8ac891}),_0x3dd932=await _0x576606['save']();}else console[_0x5a3ff3(0xfa)]('2',_0x2712be),_0x3facfc[_0x5a3ff3(0x13d)]=_0x2712be,_0x3facfc[_0x5a3ff3(0x138)]=_0x243ef3,_0x3facfc['currency']=_0x1c5ffc,_0x3facfc['currency_placement']=_0x5bd904,_0x3facfc['timezone']=_0x8ac891,await _0x3facfc[_0x5a3ff3(0x124)]();}_0x3dbc55[_0x5a3ff3(0x118)](_0x5a3ff3(0x135),_0x5a3ff3(0xf8)),_0x42841a[_0x5a3ff3(0x133)]('/master_shop/view');}catch(_0x4777f2){console[_0x5a3ff3(0xfa)](_0x4777f2);}}),router[a0_0x78b110(0xf9)](a0_0x78b110(0x12d),auth,async(_0x100ca7,_0x589063)=>{const _0x2dbcf7=a0_0x78b110;try{const {username:_0x4b9ae1,email:_0x412144,role:_0x3e0f1f}=_0x100ca7[_0x2dbcf7(0x131)],_0x3848c4=_0x100ca7[_0x2dbcf7(0x131)],_0x7df408=await profile[_0x2dbcf7(0x12b)]({'email':_0x3848c4['email']}),_0x1b0f9d=await master_shop[_0x2dbcf7(0x13c)]();console[_0x2dbcf7(0xfa)](_0x2dbcf7(0x11e),_0x1b0f9d);const _0x675f90=await email_settings[_0x2dbcf7(0x12b)]();console['log'](_0x2dbcf7(0x142),_0x675f90);if(_0x1b0f9d[0x0][_0x2dbcf7(0x122)]==_0x2dbcf7(0x141)){var _0x3c3d33=users[_0x2dbcf7(0x126)];console[_0x2dbcf7(0xfa)](_0x3c3d33);}else{if(_0x1b0f9d[0x0][_0x2dbcf7(0x122)]==_0x2dbcf7(0x12e))var _0x3c3d33=users[_0x2dbcf7(0x12e)];else{if(_0x1b0f9d[0x0][_0x2dbcf7(0x122)]==_0x2dbcf7(0x13b))var _0x3c3d33=users[_0x2dbcf7(0x13b)];else{if(_0x1b0f9d[0x0][_0x2dbcf7(0x122)]=='Spanish')var _0x3c3d33=users['Spanish'];else{if(_0x1b0f9d[0x0]['language']==_0x2dbcf7(0x13f))var _0x3c3d33=users[_0x2dbcf7(0x13f)];else{if(_0x1b0f9d[0x0][_0x2dbcf7(0x122)]==_0x2dbcf7(0x114))var _0x3c3d33=users['Portuguese'];else{if(_0x1b0f9d[0x0]['language']=='Chinese')var _0x3c3d33=users[_0x2dbcf7(0x109)];else{if(_0x1b0f9d[0x0][_0x2dbcf7(0x122)]==_0x2dbcf7(0x11f))var _0x3c3d33=users[_0x2dbcf7(0x123)];}}}}}}}_0x589063['render'](_0x2dbcf7(0x105),{'success':_0x100ca7[_0x2dbcf7(0x118)](_0x2dbcf7(0x135)),'errors':_0x100ca7['flash'](_0x2dbcf7(0x12c)),'role':_0x3848c4,'profile':_0x7df408,'master_shop':_0x1b0f9d,'email':_0x675f90,'language':_0x3c3d33});}catch(_0x4a1fdb){console[_0x2dbcf7(0xfa)](_0x4a1fdb);}}),router[a0_0x78b110(0x140)](a0_0x78b110(0x101),auth,async(_0x456e93,_0x48332c)=>{const _0x470945=a0_0x78b110;try{const {host:_0x5e3956,port:_0xbb5422,email:_0x1b335c,password:_0x551b6f}=_0x456e93[_0x470945(0xf7)],_0x3b6a04=await email_settings[_0x470945(0x12b)]();if(_0x3b6a04==null){const _0x153309=new email_settings({'host':_0x5e3956,'port':_0xbb5422,'email':_0x1b335c,'password':_0x551b6f});await _0x153309[_0x470945(0x124)]();}else _0x3b6a04['host']=_0x5e3956,_0x3b6a04['port']=_0xbb5422,_0x3b6a04[_0x470945(0x120)]=_0x1b335c,_0x3b6a04[_0x470945(0x104)]=_0x551b6f,await _0x3b6a04[_0x470945(0x124)]();_0x456e93[_0x470945(0x118)](_0x470945(0x135),'shop\x20setting\x20edit\x20successfully'),_0x48332c[_0x470945(0x133)](_0x470945(0x116));}catch(_0x98580f){console['log'](_0x98580f);}}),router[a0_0x78b110(0xf9)]('/view/supervisors',auth,async(_0xbb2d80,_0x50f921)=>{const _0x39ca52=a0_0x78b110;try{const {username:_0xa7c48f,email:_0x4da675,role:_0x24ff0a}=_0xbb2d80[_0x39ca52(0x131)],_0x3c995c=_0xbb2d80['user'],_0x204041=await supervisor_settings['find'](),_0x392585=await profile[_0x39ca52(0x12b)]({'email':_0x3c995c[_0x39ca52(0x120)]}),_0x4e98aa=await master_shop[_0x39ca52(0x13c)](),_0x4a8769=new Date()[_0x39ca52(0x117)]('en-US',{'timeZone':_0x4e98aa[0x0]['timezone']});if(_0x4e98aa[0x0][_0x39ca52(0x122)]==_0x39ca52(0x141)){var _0x35924c=users['English'];console['log'](_0x35924c);}else{if(_0x4e98aa[0x0]['language']==_0x39ca52(0x12e))var _0x35924c=users['Hindi'];else{if(_0x4e98aa[0x0]['language']==_0x39ca52(0x13b))var _0x35924c=users['German'];else{if(_0x4e98aa[0x0][_0x39ca52(0x122)]==_0x39ca52(0x129))var _0x35924c=users[_0x39ca52(0x129)];else{if(_0x4e98aa[0x0][_0x39ca52(0x122)]==_0x39ca52(0x13f))var _0x35924c=users['French'];else{if(_0x4e98aa[0x0]['language']=='Portuguese\x20(BR)')var _0x35924c=users['Portuguese'];else{if(_0x4e98aa[0x0]['language']==_0x39ca52(0x109))var _0x35924c=users[_0x39ca52(0x109)];else{if(_0x4e98aa[0x0][_0x39ca52(0x122)]==_0x39ca52(0x11f))var _0x35924c=users[_0x39ca52(0x123)];}}}}}}}_0x50f921[_0x39ca52(0x11a)](_0x39ca52(0x121),{'success':_0xbb2d80[_0x39ca52(0x118)](_0x39ca52(0x135)),'errors':_0xbb2d80[_0x39ca52(0x118)](_0x39ca52(0x12c)),'role':_0x3c995c,'profile':_0x392585,'master_shop':_0x4e98aa,'supervisor_data':_0x204041[0x0],'timezones':timezones,'language':_0x35924c});}catch(_0x3394f4){console[_0x39ca52(0xfa)](_0x3394f4);}}),router[a0_0x78b110(0x140)](a0_0x78b110(0x11c),auth,async(_0x48b324,_0x577ec2)=>{const _0x24d61f=a0_0x78b110;try{const {rm_name:_0x1fe9c2,fg_name:_0x134139,rm_email:_0xe4f78b,fg_email:_0x27dd88,rm_mobilenum:_0xe8b46d,fg_number:_0xaf1fbf}=_0x48b324['body'],_0x2cf480=await supervisor_settings[_0x24d61f(0x12b)]();if(_0x2cf480==null){const _0x317515=new supervisor_settings({'RMSName':_0x1fe9c2,'RMSEmail':_0xe4f78b,'RMSnumber':_0xe8b46d,'FGSName':_0x134139,'FGSEmail':_0x27dd88,'FGSnumber':_0xaf1fbf});await _0x317515[_0x24d61f(0x124)]();}else _0x2cf480[_0x24d61f(0x11b)]=_0x1fe9c2,_0x2cf480[_0x24d61f(0x127)]=_0xe4f78b,_0x2cf480[_0x24d61f(0x115)]=_0xe8b46d,_0x2cf480['FGSName']=_0x134139,_0x2cf480[_0x24d61f(0x111)]=_0x27dd88,_0x2cf480[_0x24d61f(0x106)]=_0xaf1fbf,await _0x2cf480['save']();_0x48b324[_0x24d61f(0x118)](_0x24d61f(0x135),_0x24d61f(0xf8)),_0x577ec2[_0x24d61f(0x133)](_0x24d61f(0x139));}catch(_0xceed24){console[_0x24d61f(0xfa)](_0xceed24);}}),module['exports']=router;