function a0_0x5d72(){const _0x584975=['/master_shop/view/supervisors','/master_shop/view/email','express','master_settings','supervisor_settings','currency','log','FGSEmail','Arabic','save','site_title','timezones-list','port','German','redirect','errors','post','RMSnumber','2139255YfthpD','toLocaleString','multer','flash','French','/view/edit_settings','311703xAkJKA','1987505ZlfNno','1248292apdMQU','params','FGSName','language','hidden','./public/upload','Hindi','file','232gBGFjd','Portuguese','1666632byrjuk','Chinese','password','Router','timezone','Spanish','2nd\x20master_shop_data','RMSEmail','/view/supervisors','email','668832QuCHdR','shop\x20setting\x20edit\x20successfully','../models/all_models','/view/email','/:id','FGSnumber','findOne','find','exports','currency_placement','success','English','../public/language/languages.json','Portuguese\x20(BR)','body','RMSName','now','/view','image','render','561303AZkKAt','diskStorage','English\x20(US)','user','email_settings','single','master','get'];a0_0x5d72=function(){return _0x584975;};return a0_0x5d72();}const a0_0x60cd93=a0_0x5a9a;(function(_0x1efb67,_0xbc6815){const _0x39f19d=a0_0x5a9a,_0x56bbe3=_0x1efb67();while(!![]){try{const _0x1263d2=parseInt(_0x39f19d(0xb5))/0x1+-parseInt(_0x39f19d(0xd7))/0x2+-parseInt(_0x39f19d(0xcf))/0x3+-parseInt(_0x39f19d(0xe1))/0x4+parseInt(_0x39f19d(0xd6))/0x5+-parseInt(_0x39f19d(0xeb))/0x6+parseInt(_0x39f19d(0xd5))/0x7*(parseInt(_0x39f19d(0xdf))/0x8);if(_0x1263d2===_0xbc6815)break;else _0x56bbe3['push'](_0x56bbe3['shift']());}catch(_0x81a65e){_0x56bbe3['push'](_0x56bbe3['shift']());}}}(a0_0x5d72,0x5df10));const express=require(a0_0x60cd93(0xbf)),app=express(),router=express[a0_0x60cd93(0xe4)](),multer=require(a0_0x60cd93(0xd1)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x60cd93(0xed)),auth=require('../middleware/auth');var timezones=require(a0_0x60cd93(0xc8));const users=require(a0_0x60cd93(0xad)),storage=multer[a0_0x60cd93(0xb6)]({'destination':(_0x1a2017,_0x494516,_0xdb9276)=>{const _0x5cbf2f=a0_0x60cd93;_0xdb9276(null,_0x5cbf2f(0xdc));},'filename':(_0x12f1fa,_0x1ea04a,_0x1ac842)=>{const _0x1fee1c=a0_0x60cd93;_0x1ac842(null,Date[_0x1fee1c(0xb1)]()+_0x1ea04a['originalname']);}}),upload=multer({'storage':storage});function a0_0x5a9a(_0x8b19fa,_0x4e613c){const _0x5d72e7=a0_0x5d72();return a0_0x5a9a=function(_0x5a9a43,_0x2e54a7){_0x5a9a43=_0x5a9a43-0xa7;let _0x43263a=_0x5d72e7[_0x5a9a43];return _0x43263a;},a0_0x5a9a(_0x8b19fa,_0x4e613c);}router[a0_0x60cd93(0xbc)](a0_0x60cd93(0xb2),auth,async(_0x34f2cd,_0x330914)=>{const _0x152b27=a0_0x60cd93;try{const {username:_0x303b70,email:_0xd1bbb,role:_0x1b64b0}=_0x34f2cd[_0x152b27(0xb8)],_0x394a56=_0x34f2cd[_0x152b27(0xb8)],_0x2961bc=await profile[_0x152b27(0xa7)]({'email':_0x394a56['email']}),_0x32a063=await master_shop[_0x152b27(0xa8)]();console['log'](_0x152b27(0xbb),_0x32a063);const _0x1eee82=new Date()[_0x152b27(0xd0)]('en-US',{'timeZone':_0x32a063[0x0][_0x152b27(0xe5)]});console['log']('timezone',_0x1eee82);if(_0x32a063[0x0][_0x152b27(0xda)]==_0x152b27(0xb7)){var _0x152d1f=users[_0x152b27(0xac)];console['log'](_0x152d1f);}else{if(_0x32a063[0x0][_0x152b27(0xda)]==_0x152b27(0xdd))var _0x152d1f=users[_0x152b27(0xdd)];else{if(_0x32a063[0x0]['language']=='German')var _0x152d1f=users[_0x152b27(0xca)];else{if(_0x32a063[0x0][_0x152b27(0xda)]==_0x152b27(0xe6))var _0x152d1f=users[_0x152b27(0xe6)];else{if(_0x32a063[0x0][_0x152b27(0xda)]=='French')var _0x152d1f=users[_0x152b27(0xd3)];else{if(_0x32a063[0x0][_0x152b27(0xda)]=='Portuguese\x20(BR)')var _0x152d1f=users['Portuguese'];else{if(_0x32a063[0x0][_0x152b27(0xda)]==_0x152b27(0xe2))var _0x152d1f=users[_0x152b27(0xe2)];else{if(_0x32a063[0x0]['language']=='Arabic\x20(ae)')var _0x152d1f=users[_0x152b27(0xc5)];}}}}}}}_0x330914[_0x152b27(0xb4)](_0x152b27(0xc0),{'success':_0x34f2cd[_0x152b27(0xd2)]('success'),'errors':_0x34f2cd[_0x152b27(0xd2)](_0x152b27(0xcc)),'role':_0x394a56,'profile':_0x2961bc,'master_shop':_0x32a063,'timezones':timezones,'language':_0x152d1f});}catch(_0x4d7dad){console[_0x152b27(0xc3)](_0x4d7dad);}}),router[a0_0x60cd93(0xbc)](a0_0x60cd93(0xef),auth,async(_0x303824,_0x1d43cb)=>{const _0x5833a0=a0_0x60cd93;try{console[_0x5833a0(0xc3)](_0x5833a0(0xda)),console['log'](_0x303824[_0x5833a0(0xd8)]['id']);const _0x329ff5=await master_shop[_0x5833a0(0xa7)]();_0x329ff5[_0x5833a0(0xda)]=_0x303824[_0x5833a0(0xd8)]['id'],await _0x329ff5[_0x5833a0(0xc6)](),console[_0x5833a0(0xc3)](_0x5833a0(0xbb),_0x329ff5);}catch(_0x113db5){console['log'](_0x113db5);}}),router[a0_0x60cd93(0xcd)](a0_0x60cd93(0xd4),auth,upload[a0_0x60cd93(0xba)](a0_0x60cd93(0xb3)),async(_0x12fc29,_0x4309a6)=>{const _0x16086d=a0_0x60cd93;try{const {site_title:_0x5df3db,currency:_0x215456,currency_placement:_0x2bad9f,timezone:_0xdf2f89}=_0x12fc29[_0x16086d(0xaf)];if(_0x12fc29[_0x16086d(0xaf)][_0x16086d(0xdb)]==0x0){const _0x3c1b93=await master_shop['findOne']();console['log']('master_shop_data',_0x3c1b93);if(_0x3c1b93==''){const _0x3d8594=new master_shop({'site_title':_0x5df3db,'image':image,'currency':_0x215456,'currency_placement':_0x2bad9f,'timezone':_0xdf2f89}),_0x4d4a33=await _0x3d8594[_0x16086d(0xc6)]();}else _0x3c1b93[_0x16086d(0xc7)]=_0x5df3db,_0x3c1b93[_0x16086d(0xc2)]=_0x215456,_0x3c1b93[_0x16086d(0xaa)]=_0x2bad9f,_0x3c1b93[_0x16086d(0xe5)]=_0xdf2f89,await _0x3c1b93[_0x16086d(0xc6)]();}else{const _0x2038e6=_0x12fc29[_0x16086d(0xde)]['filename'],_0x4e82d5=await master_shop[_0x16086d(0xa7)]();console[_0x16086d(0xc3)](_0x16086d(0xe7),_0x4e82d5);if(_0x4e82d5==null){console['log']('1',_0x5df3db);const _0x41674c=new master_shop({'site_title':_0x5df3db,'image':_0x2038e6,'currency':_0x215456,'currency_placement':_0x2bad9f,'timezone':_0xdf2f89}),_0x2a2da2=await _0x41674c[_0x16086d(0xc6)]();}else console[_0x16086d(0xc3)]('2',_0x5df3db),_0x4e82d5[_0x16086d(0xc7)]=_0x5df3db,_0x4e82d5['image']=_0x2038e6,_0x4e82d5[_0x16086d(0xc2)]=_0x215456,_0x4e82d5['currency_placement']=_0x2bad9f,_0x4e82d5[_0x16086d(0xe5)]=_0xdf2f89,await _0x4e82d5[_0x16086d(0xc6)]();}_0x12fc29[_0x16086d(0xd2)](_0x16086d(0xab),_0x16086d(0xec)),_0x4309a6['redirect']('/master_shop/view');}catch(_0x5809c1){console[_0x16086d(0xc3)](_0x5809c1);}}),router['get'](a0_0x60cd93(0xee),auth,async(_0x5b441a,_0x346fc9)=>{const _0x55e799=a0_0x60cd93;try{const {username:_0x4d4cce,email:_0x4aec22,role:_0x21d6ef}=_0x5b441a[_0x55e799(0xb8)],_0x225711=_0x5b441a[_0x55e799(0xb8)],_0x2be4b9=await profile[_0x55e799(0xa7)]({'email':_0x225711['email']}),_0x3be8bf=await master_shop['find']();console['log'](_0x55e799(0xbb),_0x3be8bf);const _0x5791c2=await email_settings['findOne']();console[_0x55e799(0xc3)]('master\x20settings\x20email_data',_0x5791c2);if(_0x3be8bf[0x0][_0x55e799(0xda)]==_0x55e799(0xb7)){var _0xaa99d9=users[_0x55e799(0xac)];console[_0x55e799(0xc3)](_0xaa99d9);}else{if(_0x3be8bf[0x0]['language']==_0x55e799(0xdd))var _0xaa99d9=users[_0x55e799(0xdd)];else{if(_0x3be8bf[0x0][_0x55e799(0xda)]==_0x55e799(0xca))var _0xaa99d9=users['German'];else{if(_0x3be8bf[0x0][_0x55e799(0xda)]==_0x55e799(0xe6))var _0xaa99d9=users['Spanish'];else{if(_0x3be8bf[0x0][_0x55e799(0xda)]==_0x55e799(0xd3))var _0xaa99d9=users[_0x55e799(0xd3)];else{if(_0x3be8bf[0x0][_0x55e799(0xda)]==_0x55e799(0xae))var _0xaa99d9=users[_0x55e799(0xe0)];else{if(_0x3be8bf[0x0][_0x55e799(0xda)]=='Chinese')var _0xaa99d9=users[_0x55e799(0xe2)];else{if(_0x3be8bf[0x0][_0x55e799(0xda)]=='Arabic\x20(ae)')var _0xaa99d9=users[_0x55e799(0xc5)];}}}}}}}_0x346fc9['render'](_0x55e799(0xb9),{'success':_0x5b441a[_0x55e799(0xd2)](_0x55e799(0xab)),'errors':_0x5b441a[_0x55e799(0xd2)](_0x55e799(0xcc)),'role':_0x225711,'profile':_0x2be4b9,'master_shop':_0x3be8bf,'email':_0x5791c2,'language':_0xaa99d9});}catch(_0x59f938){console[_0x55e799(0xc3)](_0x59f938);}}),router[a0_0x60cd93(0xcd)]('/view/email/edit_settings',auth,async(_0x3dde3c,_0x9e68d8)=>{const _0x4987d8=a0_0x60cd93;try{const {host:_0x3e2409,port:_0x5c4b27,email:_0x2e9ac6,password:_0x2d2a22}=_0x3dde3c['body'],_0x12c790=await email_settings['findOne']();if(_0x12c790==null){const _0x28cdc4=new email_settings({'host':_0x3e2409,'port':_0x5c4b27,'email':_0x2e9ac6,'password':_0x2d2a22});await _0x28cdc4[_0x4987d8(0xc6)]();}else _0x12c790['host']=_0x3e2409,_0x12c790[_0x4987d8(0xc9)]=_0x5c4b27,_0x12c790[_0x4987d8(0xea)]=_0x2e9ac6,_0x12c790[_0x4987d8(0xe3)]=_0x2d2a22,await _0x12c790[_0x4987d8(0xc6)]();_0x3dde3c[_0x4987d8(0xd2)](_0x4987d8(0xab),_0x4987d8(0xec)),_0x9e68d8['redirect'](_0x4987d8(0xbe));}catch(_0x5d5393){console[_0x4987d8(0xc3)](_0x5d5393);}}),router[a0_0x60cd93(0xbc)](a0_0x60cd93(0xe9),auth,async(_0x5d2bf6,_0xcaef3b)=>{const _0x54145a=a0_0x60cd93;try{const {username:_0x17c2d7,email:_0x2c4d01,role:_0x130af1}=_0x5d2bf6['user'],_0x5af543=_0x5d2bf6[_0x54145a(0xb8)],_0xf9e45a=await supervisor_settings[_0x54145a(0xa8)](),_0x5760e8=await profile['findOne']({'email':_0x5af543[_0x54145a(0xea)]}),_0x3b3a7d=await master_shop[_0x54145a(0xa8)](),_0x39ff17=new Date()[_0x54145a(0xd0)]('en-US',{'timeZone':_0x3b3a7d[0x0][_0x54145a(0xe5)]});if(_0x3b3a7d[0x0][_0x54145a(0xda)]==_0x54145a(0xb7)){var _0x11b166=users['English'];console[_0x54145a(0xc3)](_0x11b166);}else{if(_0x3b3a7d[0x0][_0x54145a(0xda)]==_0x54145a(0xdd))var _0x11b166=users[_0x54145a(0xdd)];else{if(_0x3b3a7d[0x0]['language']==_0x54145a(0xca))var _0x11b166=users[_0x54145a(0xca)];else{if(_0x3b3a7d[0x0][_0x54145a(0xda)]==_0x54145a(0xe6))var _0x11b166=users[_0x54145a(0xe6)];else{if(_0x3b3a7d[0x0][_0x54145a(0xda)]==_0x54145a(0xd3))var _0x11b166=users[_0x54145a(0xd3)];else{if(_0x3b3a7d[0x0][_0x54145a(0xda)]=='Portuguese\x20(BR)')var _0x11b166=users[_0x54145a(0xe0)];else{if(_0x3b3a7d[0x0][_0x54145a(0xda)]=='Chinese')var _0x11b166=users[_0x54145a(0xe2)];else{if(_0x3b3a7d[0x0]['language']=='Arabic\x20(ae)')var _0x11b166=users[_0x54145a(0xc5)];}}}}}}}_0xcaef3b[_0x54145a(0xb4)](_0x54145a(0xc1),{'success':_0x5d2bf6[_0x54145a(0xd2)](_0x54145a(0xab)),'errors':_0x5d2bf6[_0x54145a(0xd2)](_0x54145a(0xcc)),'role':_0x5af543,'profile':_0x5760e8,'master_shop':_0x3b3a7d,'supervisor_data':_0xf9e45a[0x0],'timezones':timezones,'language':_0x11b166});}catch(_0x5a2401){console['log'](_0x5a2401);}}),router['post'](a0_0x60cd93(0xe9),auth,async(_0x23c6b2,_0x24f06b)=>{const _0x11187d=a0_0x60cd93;try{const {rm_name:_0x12ea2f,fg_name:_0x21bcf2,rm_email:_0xd1e9a9,fg_email:_0x260088,rm_mobilenum:_0x332efe,fg_number:_0x2126c7}=_0x23c6b2['body'],_0x4ae458=await supervisor_settings[_0x11187d(0xa7)]();if(_0x4ae458==null){const _0x55c4b3=new supervisor_settings({'RMSName':_0x12ea2f,'RMSEmail':_0xd1e9a9,'RMSnumber':_0x332efe,'FGSName':_0x21bcf2,'FGSEmail':_0x260088,'FGSnumber':_0x2126c7});await _0x55c4b3['save']();}else _0x4ae458[_0x11187d(0xb0)]=_0x12ea2f,_0x4ae458[_0x11187d(0xe8)]=_0xd1e9a9,_0x4ae458[_0x11187d(0xce)]=_0x332efe,_0x4ae458[_0x11187d(0xd9)]=_0x21bcf2,_0x4ae458[_0x11187d(0xc4)]=_0x260088,_0x4ae458[_0x11187d(0xf0)]=_0x2126c7,await _0x4ae458[_0x11187d(0xc6)]();_0x23c6b2[_0x11187d(0xd2)](_0x11187d(0xab),'shop\x20setting\x20edit\x20successfully'),_0x24f06b[_0x11187d(0xcb)](_0x11187d(0xbd));}catch(_0x3e147d){console[_0x11187d(0xc3)](_0x3e147d);}}),module[a0_0x60cd93(0xa9)]=router;