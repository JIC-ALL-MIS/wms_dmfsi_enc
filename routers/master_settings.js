const a0_0x55e18b=a0_0x5543;function a0_0x8bfb(){const _0x1fff32=['exports','/master_shop/view/supervisors','German','post','site_title','FGSnumber','FGSName','7qeYzCN','/view/supervisors','../models/all_models','timezones-list','../public/language/languages.json','body','/view/edit_settings','Hindi','password','RMSEmail','email_settings','findOne','master','master_shop_data','get','email','/master_shop/view','Portuguese','shop\x20setting\x20edit\x20successfully','295650wurXJE','3801352tcybXK','122437qRopFI','port','timezone','currency_placement','errors','user','log','/view','hidden','language','host','187458mhzylJ','2nd\x20master_shop_data','image','toLocaleString','Router','find','RMSnumber','English\x20(US)','flash','../middleware/auth','16kASLte','originalname','params','multer','1910385yaipeI','Arabic\x20(ae)','redirect','Spanish','master_settings','supervisor_settings','now','Arabic','success','793846aZxosT','save','French','English','/view/email/edit_settings','en-US','currency','diskStorage','Chinese','/master_shop/view/email','Portuguese\x20(BR)','596875XixCxj','render','master\x20settings\x20email_data','30BhwMdI'];a0_0x8bfb=function(){return _0x1fff32;};return a0_0x8bfb();}(function(_0x4d63b0,_0x42eaf0){const _0x139279=a0_0x5543,_0x1f4b42=_0x4d63b0();while(!![]){try{const _0xc499d=parseInt(_0x139279(0xe3))/0x1+-parseInt(_0x139279(0xb8))/0x2+-parseInt(_0x139279(0xee))/0x3*(parseInt(_0x139279(0xab))/0x4)+-parseInt(_0x139279(0xc3))/0x5*(-parseInt(_0x139279(0xc6))/0x6)+parseInt(_0x139279(0xce))/0x7*(parseInt(_0x139279(0xe2))/0x8)+-parseInt(_0x139279(0xaf))/0x9+parseInt(_0x139279(0xe1))/0xa;if(_0xc499d===_0x42eaf0)break;else _0x1f4b42['push'](_0x1f4b42['shift']());}catch(_0x578dfb){_0x1f4b42['push'](_0x1f4b42['shift']());}}}(a0_0x8bfb,0x59172));const express=require('express'),app=express(),router=express[a0_0x55e18b(0xf2)](),multer=require(a0_0x55e18b(0xae)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x55e18b(0xd0)),auth=require(a0_0x55e18b(0xaa));function a0_0x5543(_0x528dbd,_0x5c91bc){const _0x8bfbbc=a0_0x8bfb();return a0_0x5543=function(_0x554365,_0x16db76){_0x554365=_0x554365-0xa9;let _0x47648d=_0x8bfbbc[_0x554365];return _0x47648d;},a0_0x5543(_0x528dbd,_0x5c91bc);}var timezones=require(a0_0x55e18b(0xd1));const users=require(a0_0x55e18b(0xd2)),storage=multer[a0_0x55e18b(0xbf)]({'destination':(_0x31cf25,_0x49f0c4,_0x301afd)=>{_0x301afd(null,'./public/upload');},'filename':(_0x10d146,_0x1e0ee4,_0x234287)=>{const _0x2008cb=a0_0x55e18b;_0x234287(null,Date[_0x2008cb(0xb5)]()+_0x1e0ee4[_0x2008cb(0xac)]);}}),upload=multer({'storage':storage});router[a0_0x55e18b(0xdc)](a0_0x55e18b(0xea),auth,async(_0x34fbff,_0x26c329)=>{const _0x4954de=a0_0x55e18b;try{const {username:_0x4c61ef,email:_0x503a68,role:_0x35b3b9}=_0x34fbff['user'],_0x3b6e0b=_0x34fbff[_0x4954de(0xe8)],_0x2e59ec=await profile[_0x4954de(0xd9)]({'email':_0x3b6e0b[_0x4954de(0xdd)]}),_0x3f1e6c=await master_shop[_0x4954de(0xf3)]();console['log'](_0x4954de(0xda),_0x3f1e6c);const _0x41e56e=new Date()[_0x4954de(0xf1)](_0x4954de(0xbd),{'timeZone':_0x3f1e6c[0x0][_0x4954de(0xe5)]});console[_0x4954de(0xe9)](_0x4954de(0xe5),_0x41e56e);if(_0x3f1e6c[0x0]['language']==_0x4954de(0xf5)){var _0x123f65=users[_0x4954de(0xbb)];console[_0x4954de(0xe9)](_0x123f65);}else{if(_0x3f1e6c[0x0][_0x4954de(0xec)]==_0x4954de(0xd5))var _0x123f65=users[_0x4954de(0xd5)];else{if(_0x3f1e6c[0x0]['language']=='German')var _0x123f65=users[_0x4954de(0xc9)];else{if(_0x3f1e6c[0x0][_0x4954de(0xec)]==_0x4954de(0xb2))var _0x123f65=users['Spanish'];else{if(_0x3f1e6c[0x0][_0x4954de(0xec)]=='French')var _0x123f65=users[_0x4954de(0xba)];else{if(_0x3f1e6c[0x0][_0x4954de(0xec)]=='Portuguese\x20(BR)')var _0x123f65=users[_0x4954de(0xdf)];else{if(_0x3f1e6c[0x0][_0x4954de(0xec)]==_0x4954de(0xc0))var _0x123f65=users['Chinese'];else{if(_0x3f1e6c[0x0][_0x4954de(0xec)]==_0x4954de(0xb0))var _0x123f65=users['Arabic'];}}}}}}}_0x26c329['render'](_0x4954de(0xb3),{'success':_0x34fbff[_0x4954de(0xa9)](_0x4954de(0xb7)),'errors':_0x34fbff[_0x4954de(0xa9)](_0x4954de(0xe7)),'role':_0x3b6e0b,'profile':_0x2e59ec,'master_shop':_0x3f1e6c,'timezones':timezones,'language':_0x123f65});}catch(_0x2bec6f){console[_0x4954de(0xe9)](_0x2bec6f);}}),router[a0_0x55e18b(0xdc)]('/:id',auth,async(_0x58eafc,_0x3b996b)=>{const _0x37fd36=a0_0x55e18b;try{console[_0x37fd36(0xe9)](_0x37fd36(0xec)),console['log'](_0x58eafc['params']['id']);const _0x378836=await master_shop[_0x37fd36(0xd9)]();_0x378836['language']=_0x58eafc[_0x37fd36(0xad)]['id'],await _0x378836[_0x37fd36(0xb9)](),console['log'](_0x37fd36(0xda),_0x378836);}catch(_0x4bd2b7){console[_0x37fd36(0xe9)](_0x4bd2b7);}}),router[a0_0x55e18b(0xca)](a0_0x55e18b(0xd4),auth,upload['single'](a0_0x55e18b(0xf0)),async(_0x3c5a19,_0x51e255)=>{const _0x325885=a0_0x55e18b;try{const {site_title:_0x405737,currency:_0x1cc8fe,currency_placement:_0x39d0df,timezone:_0xf55264}=_0x3c5a19['body'];if(_0x3c5a19['body'][_0x325885(0xeb)]==0x0){const _0x568571=await master_shop[_0x325885(0xd9)]();console[_0x325885(0xe9)](_0x325885(0xdb),_0x568571);if(_0x568571==''){const _0x542788=new master_shop({'site_title':_0x405737,'image':image,'currency':_0x1cc8fe,'currency_placement':_0x39d0df,'timezone':_0xf55264}),_0x3bf382=await _0x542788['save']();}else _0x568571[_0x325885(0xcb)]=_0x405737,_0x568571[_0x325885(0xbe)]=_0x1cc8fe,_0x568571[_0x325885(0xe6)]=_0x39d0df,_0x568571['timezone']=_0xf55264,await _0x568571[_0x325885(0xb9)]();}else{const _0x1aa27d=_0x3c5a19['file']['filename'],_0x41e51f=await master_shop['findOne']();console[_0x325885(0xe9)](_0x325885(0xef),_0x41e51f);if(_0x41e51f==null){console[_0x325885(0xe9)]('1',_0x405737);const _0x3af32a=new master_shop({'site_title':_0x405737,'image':_0x1aa27d,'currency':_0x1cc8fe,'currency_placement':_0x39d0df,'timezone':_0xf55264}),_0x10c3a6=await _0x3af32a['save']();}else console[_0x325885(0xe9)]('2',_0x405737),_0x41e51f[_0x325885(0xcb)]=_0x405737,_0x41e51f[_0x325885(0xf0)]=_0x1aa27d,_0x41e51f['currency']=_0x1cc8fe,_0x41e51f[_0x325885(0xe6)]=_0x39d0df,_0x41e51f[_0x325885(0xe5)]=_0xf55264,await _0x41e51f[_0x325885(0xb9)]();}_0x3c5a19[_0x325885(0xa9)](_0x325885(0xb7),_0x325885(0xe0)),_0x51e255['redirect'](_0x325885(0xde));}catch(_0x369c5a){console[_0x325885(0xe9)](_0x369c5a);}}),router[a0_0x55e18b(0xdc)]('/view/email',auth,async(_0x5beab8,_0x5de87a)=>{const _0x27c716=a0_0x55e18b;try{const {username:_0x402509,email:_0x1d84d1,role:_0x1cfb58}=_0x5beab8[_0x27c716(0xe8)],_0x326ea9=_0x5beab8['user'],_0x6085dc=await profile[_0x27c716(0xd9)]({'email':_0x326ea9[_0x27c716(0xdd)]}),_0x216add=await master_shop[_0x27c716(0xf3)]();console[_0x27c716(0xe9)](_0x27c716(0xda),_0x216add);const _0x569c57=await email_settings[_0x27c716(0xd9)]();console[_0x27c716(0xe9)](_0x27c716(0xc5),_0x569c57);if(_0x216add[0x0][_0x27c716(0xec)]==_0x27c716(0xf5)){var _0x96ed2d=users[_0x27c716(0xbb)];console[_0x27c716(0xe9)](_0x96ed2d);}else{if(_0x216add[0x0][_0x27c716(0xec)]==_0x27c716(0xd5))var _0x96ed2d=users[_0x27c716(0xd5)];else{if(_0x216add[0x0][_0x27c716(0xec)]==_0x27c716(0xc9))var _0x96ed2d=users[_0x27c716(0xc9)];else{if(_0x216add[0x0]['language']==_0x27c716(0xb2))var _0x96ed2d=users[_0x27c716(0xb2)];else{if(_0x216add[0x0][_0x27c716(0xec)]=='French')var _0x96ed2d=users['French'];else{if(_0x216add[0x0]['language']==_0x27c716(0xc2))var _0x96ed2d=users[_0x27c716(0xdf)];else{if(_0x216add[0x0][_0x27c716(0xec)]==_0x27c716(0xc0))var _0x96ed2d=users[_0x27c716(0xc0)];else{if(_0x216add[0x0][_0x27c716(0xec)]==_0x27c716(0xb0))var _0x96ed2d=users['Arabic'];}}}}}}}_0x5de87a[_0x27c716(0xc4)](_0x27c716(0xd8),{'success':_0x5beab8['flash']('success'),'errors':_0x5beab8[_0x27c716(0xa9)](_0x27c716(0xe7)),'role':_0x326ea9,'profile':_0x6085dc,'master_shop':_0x216add,'email':_0x569c57,'language':_0x96ed2d});}catch(_0x225c4c){console[_0x27c716(0xe9)](_0x225c4c);}}),router['post'](a0_0x55e18b(0xbc),auth,async(_0x28e47a,_0x56f59a)=>{const _0x2bc4e0=a0_0x55e18b;try{const {host:_0x23188e,port:_0xb52ef0,email:_0x4cca86,password:_0x18a32e}=_0x28e47a['body'],_0x561fd4=await email_settings[_0x2bc4e0(0xd9)]();if(_0x561fd4==null){const _0x57d3e5=new email_settings({'host':_0x23188e,'port':_0xb52ef0,'email':_0x4cca86,'password':_0x18a32e});await _0x57d3e5[_0x2bc4e0(0xb9)]();}else _0x561fd4[_0x2bc4e0(0xed)]=_0x23188e,_0x561fd4[_0x2bc4e0(0xe4)]=_0xb52ef0,_0x561fd4[_0x2bc4e0(0xdd)]=_0x4cca86,_0x561fd4[_0x2bc4e0(0xd6)]=_0x18a32e,await _0x561fd4[_0x2bc4e0(0xb9)]();_0x28e47a[_0x2bc4e0(0xa9)](_0x2bc4e0(0xb7),'shop\x20setting\x20edit\x20successfully'),_0x56f59a[_0x2bc4e0(0xb1)](_0x2bc4e0(0xc1));}catch(_0x41bd30){console[_0x2bc4e0(0xe9)](_0x41bd30);}}),router[a0_0x55e18b(0xdc)](a0_0x55e18b(0xcf),auth,async(_0x4439f1,_0x20ee47)=>{const _0x5b8079=a0_0x55e18b;try{const {username:_0xbb2cb0,email:_0x32fdc5,role:_0x5d3a2a}=_0x4439f1[_0x5b8079(0xe8)],_0x4013ee=_0x4439f1['user'],_0xbe62df=await supervisor_settings[_0x5b8079(0xf3)](),_0x25ddd6=await profile[_0x5b8079(0xd9)]({'email':_0x4013ee[_0x5b8079(0xdd)]}),_0x39baaf=await master_shop[_0x5b8079(0xf3)](),_0x1017df=new Date()['toLocaleString'](_0x5b8079(0xbd),{'timeZone':_0x39baaf[0x0][_0x5b8079(0xe5)]});if(_0x39baaf[0x0][_0x5b8079(0xec)]=='English\x20(US)'){var _0x37d81b=users['English'];console[_0x5b8079(0xe9)](_0x37d81b);}else{if(_0x39baaf[0x0][_0x5b8079(0xec)]==_0x5b8079(0xd5))var _0x37d81b=users[_0x5b8079(0xd5)];else{if(_0x39baaf[0x0][_0x5b8079(0xec)]==_0x5b8079(0xc9))var _0x37d81b=users[_0x5b8079(0xc9)];else{if(_0x39baaf[0x0][_0x5b8079(0xec)]==_0x5b8079(0xb2))var _0x37d81b=users['Spanish'];else{if(_0x39baaf[0x0][_0x5b8079(0xec)]=='French')var _0x37d81b=users[_0x5b8079(0xba)];else{if(_0x39baaf[0x0]['language']==_0x5b8079(0xc2))var _0x37d81b=users[_0x5b8079(0xdf)];else{if(_0x39baaf[0x0][_0x5b8079(0xec)]==_0x5b8079(0xc0))var _0x37d81b=users[_0x5b8079(0xc0)];else{if(_0x39baaf[0x0][_0x5b8079(0xec)]=='Arabic\x20(ae)')var _0x37d81b=users[_0x5b8079(0xb6)];}}}}}}}_0x20ee47[_0x5b8079(0xc4)](_0x5b8079(0xb4),{'success':_0x4439f1['flash'](_0x5b8079(0xb7)),'errors':_0x4439f1['flash'](_0x5b8079(0xe7)),'role':_0x4013ee,'profile':_0x25ddd6,'master_shop':_0x39baaf,'supervisor_data':_0xbe62df[0x0],'timezones':timezones,'language':_0x37d81b});}catch(_0x2df8fc){console[_0x5b8079(0xe9)](_0x2df8fc);}}),router[a0_0x55e18b(0xca)](a0_0x55e18b(0xcf),auth,async(_0x13039f,_0x4faab6)=>{const _0x353a24=a0_0x55e18b;try{const {rm_name:_0x1f79e7,fg_name:_0x4ac2c8,rm_email:_0x8445b4,fg_email:_0x5e4845,rm_mobilenum:_0x2c05c9,fg_number:_0x43367e}=_0x13039f[_0x353a24(0xd3)],_0x1a69ba=await supervisor_settings[_0x353a24(0xd9)]();if(_0x1a69ba==null){const _0x24700b=new supervisor_settings({'RMSName':_0x1f79e7,'RMSEmail':_0x8445b4,'RMSnumber':_0x2c05c9,'FGSName':_0x4ac2c8,'FGSEmail':_0x5e4845,'FGSnumber':_0x43367e});await _0x24700b[_0x353a24(0xb9)]();}else _0x1a69ba['RMSName']=_0x1f79e7,_0x1a69ba[_0x353a24(0xd7)]=_0x8445b4,_0x1a69ba[_0x353a24(0xf4)]=_0x2c05c9,_0x1a69ba[_0x353a24(0xcd)]=_0x4ac2c8,_0x1a69ba['FGSEmail']=_0x5e4845,_0x1a69ba[_0x353a24(0xcc)]=_0x43367e,await _0x1a69ba[_0x353a24(0xb9)]();_0x13039f[_0x353a24(0xa9)]('success',_0x353a24(0xe0)),_0x4faab6[_0x353a24(0xb1)](_0x353a24(0xc8));}catch(_0x5015ba){console['log'](_0x5015ba);}}),module[a0_0x55e18b(0xc7)]=router;