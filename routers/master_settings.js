const a0_0x57f061=a0_0x43d3;(function(_0x5959bd,_0x82cda6){const _0xc646d2=a0_0x43d3,_0x59309a=_0x5959bd();while(!![]){try{const _0x4f263f=-parseInt(_0xc646d2(0xad))/0x1*(-parseInt(_0xc646d2(0xab))/0x2)+-parseInt(_0xc646d2(0xb9))/0x3*(parseInt(_0xc646d2(0xa3))/0x4)+-parseInt(_0xc646d2(0xc7))/0x5*(-parseInt(_0xc646d2(0x9f))/0x6)+parseInt(_0xc646d2(0xcb))/0x7*(-parseInt(_0xc646d2(0xb6))/0x8)+parseInt(_0xc646d2(0x9a))/0x9+parseInt(_0xc646d2(0x90))/0xa*(-parseInt(_0xc646d2(0xa7))/0xb)+parseInt(_0xc646d2(0x92))/0xc*(parseInt(_0xc646d2(0xd3))/0xd);if(_0x4f263f===_0x82cda6)break;else _0x59309a['push'](_0x59309a['shift']());}catch(_0x52e1df){_0x59309a['push'](_0x59309a['shift']());}}}(a0_0x37fa,0x9f9ca));function a0_0x37fa(){const _0xb01708=['French','Hindi','express','Arabic','FGSnumber','447456WmtzUn','findOne','email_settings','3dywvpA','Portuguese','params','Chinese','Portuguese\x20(BR)','port','post','/view/email','success','originalname','English','/view','shop\x20setting\x20edit\x20successfully','user','815GXWRwy','email','render','body','161cLsuKB','Arabic\x20(ae)','image','single','./public/upload','master\x20settings\x20email_data','redirect','log','26EOLGPh','/master_shop/view/supervisors','/:id','/view/supervisors','70EgAyJH','get','17498832QbomFv','currency','../middleware/auth','German','FGSName','save','/view/email/edit_settings','hidden','399555tgLcrI','site_title','RMSName','toLocaleString','host','66OyjQXe','find','Spanish','timezone','4900868hLOLIm','RMSEmail','flash','language','829620vTPFGt','English\x20(US)','../models/all_models','Router','2iHwcos','password','730703CkexNc','errors','timezones-list','2nd\x20master_shop_data'];a0_0x37fa=function(){return _0xb01708;};return a0_0x37fa();}const express=require(a0_0x57f061(0xb3)),app=express(),router=express[a0_0x57f061(0xaa)](),multer=require('multer'),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x57f061(0xa9)),auth=require(a0_0x57f061(0x94));var timezones=require(a0_0x57f061(0xaf));const users=require('../public/language/languages.json'),storage=multer['diskStorage']({'destination':(_0x14e0d5,_0x3a4139,_0x1302d6)=>{const _0x4c08df=a0_0x57f061;_0x1302d6(null,_0x4c08df(0xcf));},'filename':(_0x220a06,_0x51eecc,_0x31b11d)=>{const _0x2d7131=a0_0x57f061;_0x31b11d(null,Date['now']()+_0x51eecc[_0x2d7131(0xc2)]);}}),upload=multer({'storage':storage});function a0_0x43d3(_0x40e11e,_0x129c78){const _0x37fa0d=a0_0x37fa();return a0_0x43d3=function(_0x43d3e9,_0x4cf48a){_0x43d3e9=_0x43d3e9-0x8f;let _0x2a9710=_0x37fa0d[_0x43d3e9];return _0x2a9710;},a0_0x43d3(_0x40e11e,_0x129c78);}router[a0_0x57f061(0x91)](a0_0x57f061(0xc4),auth,async(_0x1b6dd5,_0x244f9f)=>{const _0xc5a8cf=a0_0x57f061;try{const {username:_0x6cf9c4,email:_0x1d67d4,role:_0x240b2f}=_0x1b6dd5[_0xc5a8cf(0xc6)],_0x22120d=_0x1b6dd5[_0xc5a8cf(0xc6)],_0x1ebc3b=await profile[_0xc5a8cf(0xb7)]({'email':_0x22120d[_0xc5a8cf(0xc8)]}),_0xdef597=await master_shop['find']();console[_0xc5a8cf(0xd2)]('master',_0xdef597);const _0x3574f1=new Date()[_0xc5a8cf(0x9d)]('en-US',{'timeZone':_0xdef597[0x0][_0xc5a8cf(0xa2)]});console[_0xc5a8cf(0xd2)]('timezone',_0x3574f1);if(_0xdef597[0x0][_0xc5a8cf(0xa6)]==_0xc5a8cf(0xa8)){var _0x39ec36=users[_0xc5a8cf(0xc3)];console['log'](_0x39ec36);}else{if(_0xdef597[0x0]['language']==_0xc5a8cf(0xb2))var _0x39ec36=users[_0xc5a8cf(0xb2)];else{if(_0xdef597[0x0]['language']==_0xc5a8cf(0x95))var _0x39ec36=users[_0xc5a8cf(0x95)];else{if(_0xdef597[0x0][_0xc5a8cf(0xa6)]==_0xc5a8cf(0xa1))var _0x39ec36=users['Spanish'];else{if(_0xdef597[0x0][_0xc5a8cf(0xa6)]==_0xc5a8cf(0xb1))var _0x39ec36=users[_0xc5a8cf(0xb1)];else{if(_0xdef597[0x0][_0xc5a8cf(0xa6)]==_0xc5a8cf(0xbd))var _0x39ec36=users[_0xc5a8cf(0xba)];else{if(_0xdef597[0x0][_0xc5a8cf(0xa6)]==_0xc5a8cf(0xbc))var _0x39ec36=users[_0xc5a8cf(0xbc)];else{if(_0xdef597[0x0][_0xc5a8cf(0xa6)]==_0xc5a8cf(0xcc))var _0x39ec36=users['Arabic'];}}}}}}}_0x244f9f[_0xc5a8cf(0xc9)]('master_settings',{'success':_0x1b6dd5[_0xc5a8cf(0xa5)](_0xc5a8cf(0xc1)),'errors':_0x1b6dd5['flash']('errors'),'role':_0x22120d,'profile':_0x1ebc3b,'master_shop':_0xdef597,'timezones':timezones,'language':_0x39ec36});}catch(_0x35f935){console[_0xc5a8cf(0xd2)](_0x35f935);}}),router[a0_0x57f061(0x91)](a0_0x57f061(0xd5),auth,async(_0x200478,_0x3e579a)=>{const _0x16ce4e=a0_0x57f061;try{console[_0x16ce4e(0xd2)](_0x16ce4e(0xa6)),console['log'](_0x200478[_0x16ce4e(0xbb)]['id']);const _0x2e51ef=await master_shop[_0x16ce4e(0xb7)]();_0x2e51ef['language']=_0x200478[_0x16ce4e(0xbb)]['id'],await _0x2e51ef['save'](),console[_0x16ce4e(0xd2)]('master',_0x2e51ef);}catch(_0x254b8b){console[_0x16ce4e(0xd2)](_0x254b8b);}}),router[a0_0x57f061(0xbf)]('/view/edit_settings',auth,upload[a0_0x57f061(0xce)](a0_0x57f061(0xcd)),async(_0x881fc9,_0xb47905)=>{const _0x1a58f0=a0_0x57f061;try{const {site_title:_0x64b04f,currency:_0x7f0bba,currency_placement:_0x3ef1e9,timezone:_0x6af878}=_0x881fc9['body'];if(_0x881fc9[_0x1a58f0(0xca)][_0x1a58f0(0x99)]==0x0){const _0x30b189=await master_shop['findOne']();console[_0x1a58f0(0xd2)]('master_shop_data',_0x30b189);if(_0x30b189==''){const _0x1d0609=new master_shop({'site_title':_0x64b04f,'image':image,'currency':_0x7f0bba,'currency_placement':_0x3ef1e9,'timezone':_0x6af878}),_0x1cc9bb=await _0x1d0609['save']();}else _0x30b189[_0x1a58f0(0x9b)]=_0x64b04f,_0x30b189[_0x1a58f0(0x93)]=_0x7f0bba,_0x30b189['currency_placement']=_0x3ef1e9,_0x30b189['timezone']=_0x6af878,await _0x30b189['save']();}else{const _0x20da17=_0x881fc9['file']['filename'],_0x2ca9e8=await master_shop['findOne']();console[_0x1a58f0(0xd2)](_0x1a58f0(0xb0),_0x2ca9e8);if(_0x2ca9e8==null){console['log']('1',_0x64b04f);const _0x1b41cf=new master_shop({'site_title':_0x64b04f,'image':_0x20da17,'currency':_0x7f0bba,'currency_placement':_0x3ef1e9,'timezone':_0x6af878}),_0x41042b=await _0x1b41cf[_0x1a58f0(0x97)]();}else console['log']('2',_0x64b04f),_0x2ca9e8[_0x1a58f0(0x9b)]=_0x64b04f,_0x2ca9e8['image']=_0x20da17,_0x2ca9e8[_0x1a58f0(0x93)]=_0x7f0bba,_0x2ca9e8['currency_placement']=_0x3ef1e9,_0x2ca9e8[_0x1a58f0(0xa2)]=_0x6af878,await _0x2ca9e8[_0x1a58f0(0x97)]();}_0x881fc9[_0x1a58f0(0xa5)](_0x1a58f0(0xc1),'shop\x20setting\x20edit\x20successfully'),_0xb47905[_0x1a58f0(0xd1)]('/master_shop/view');}catch(_0xe807c9){console[_0x1a58f0(0xd2)](_0xe807c9);}}),router[a0_0x57f061(0x91)](a0_0x57f061(0xc0),auth,async(_0x17857d,_0x1f1381)=>{const _0x2686cf=a0_0x57f061;try{const {username:_0x1c0468,email:_0x389b95,role:_0x4c4ddf}=_0x17857d[_0x2686cf(0xc6)],_0x198c30=_0x17857d[_0x2686cf(0xc6)],_0x349437=await profile['findOne']({'email':_0x198c30['email']}),_0x58fdab=await master_shop[_0x2686cf(0xa0)]();console[_0x2686cf(0xd2)]('master',_0x58fdab);const _0x4ceca6=await email_settings[_0x2686cf(0xb7)]();console[_0x2686cf(0xd2)](_0x2686cf(0xd0),_0x4ceca6);if(_0x58fdab[0x0]['language']==_0x2686cf(0xa8)){var _0x32fbba=users[_0x2686cf(0xc3)];console[_0x2686cf(0xd2)](_0x32fbba);}else{if(_0x58fdab[0x0][_0x2686cf(0xa6)]==_0x2686cf(0xb2))var _0x32fbba=users['Hindi'];else{if(_0x58fdab[0x0]['language']==_0x2686cf(0x95))var _0x32fbba=users['German'];else{if(_0x58fdab[0x0][_0x2686cf(0xa6)]==_0x2686cf(0xa1))var _0x32fbba=users[_0x2686cf(0xa1)];else{if(_0x58fdab[0x0][_0x2686cf(0xa6)]==_0x2686cf(0xb1))var _0x32fbba=users['French'];else{if(_0x58fdab[0x0][_0x2686cf(0xa6)]==_0x2686cf(0xbd))var _0x32fbba=users[_0x2686cf(0xba)];else{if(_0x58fdab[0x0][_0x2686cf(0xa6)]==_0x2686cf(0xbc))var _0x32fbba=users[_0x2686cf(0xbc)];else{if(_0x58fdab[0x0][_0x2686cf(0xa6)]=='Arabic\x20(ae)')var _0x32fbba=users[_0x2686cf(0xb4)];}}}}}}}_0x1f1381[_0x2686cf(0xc9)](_0x2686cf(0xb8),{'success':_0x17857d[_0x2686cf(0xa5)]('success'),'errors':_0x17857d[_0x2686cf(0xa5)](_0x2686cf(0xae)),'role':_0x198c30,'profile':_0x349437,'master_shop':_0x58fdab,'email':_0x4ceca6,'language':_0x32fbba});}catch(_0x5edaf1){console['log'](_0x5edaf1);}}),router[a0_0x57f061(0xbf)](a0_0x57f061(0x98),auth,async(_0x2a5269,_0xd3da59)=>{const _0x115c5a=a0_0x57f061;try{const {host:_0x3fff29,port:_0x5b7fdb,email:_0x3f6284,password:_0x5338dd}=_0x2a5269[_0x115c5a(0xca)],_0x5f0dfd=await email_settings[_0x115c5a(0xb7)]();if(_0x5f0dfd==null){const _0x3acc3e=new email_settings({'host':_0x3fff29,'port':_0x5b7fdb,'email':_0x3f6284,'password':_0x5338dd});await _0x3acc3e[_0x115c5a(0x97)]();}else _0x5f0dfd[_0x115c5a(0x9e)]=_0x3fff29,_0x5f0dfd[_0x115c5a(0xbe)]=_0x5b7fdb,_0x5f0dfd['email']=_0x3f6284,_0x5f0dfd[_0x115c5a(0xac)]=_0x5338dd,await _0x5f0dfd[_0x115c5a(0x97)]();_0x2a5269[_0x115c5a(0xa5)](_0x115c5a(0xc1),_0x115c5a(0xc5)),_0xd3da59['redirect']('/master_shop/view/email');}catch(_0x7c6a66){console[_0x115c5a(0xd2)](_0x7c6a66);}}),router[a0_0x57f061(0x91)](a0_0x57f061(0x8f),auth,async(_0xd8ebfb,_0x3ae661)=>{const _0x2d9526=a0_0x57f061;try{const {username:_0x36f644,email:_0xaf70aa,role:_0xe2c2d8}=_0xd8ebfb['user'],_0x1b53d5=_0xd8ebfb['user'],_0xfb21b4=await supervisor_settings['find'](),_0x20d09e=await profile[_0x2d9526(0xb7)]({'email':_0x1b53d5[_0x2d9526(0xc8)]}),_0x1361ea=await master_shop['find'](),_0x2bdc14=new Date()[_0x2d9526(0x9d)]('en-US',{'timeZone':_0x1361ea[0x0][_0x2d9526(0xa2)]});if(_0x1361ea[0x0][_0x2d9526(0xa6)]==_0x2d9526(0xa8)){var _0x814086=users[_0x2d9526(0xc3)];console[_0x2d9526(0xd2)](_0x814086);}else{if(_0x1361ea[0x0][_0x2d9526(0xa6)]==_0x2d9526(0xb2))var _0x814086=users['Hindi'];else{if(_0x1361ea[0x0][_0x2d9526(0xa6)]==_0x2d9526(0x95))var _0x814086=users['German'];else{if(_0x1361ea[0x0][_0x2d9526(0xa6)]==_0x2d9526(0xa1))var _0x814086=users['Spanish'];else{if(_0x1361ea[0x0][_0x2d9526(0xa6)]==_0x2d9526(0xb1))var _0x814086=users[_0x2d9526(0xb1)];else{if(_0x1361ea[0x0][_0x2d9526(0xa6)]==_0x2d9526(0xbd))var _0x814086=users['Portuguese'];else{if(_0x1361ea[0x0][_0x2d9526(0xa6)]==_0x2d9526(0xbc))var _0x814086=users[_0x2d9526(0xbc)];else{if(_0x1361ea[0x0][_0x2d9526(0xa6)]==_0x2d9526(0xcc))var _0x814086=users[_0x2d9526(0xb4)];}}}}}}}_0x3ae661[_0x2d9526(0xc9)]('supervisor_settings',{'success':_0xd8ebfb[_0x2d9526(0xa5)](_0x2d9526(0xc1)),'errors':_0xd8ebfb[_0x2d9526(0xa5)](_0x2d9526(0xae)),'role':_0x1b53d5,'profile':_0x20d09e,'master_shop':_0x1361ea,'supervisor_data':_0xfb21b4[0x0],'timezones':timezones,'language':_0x814086});}catch(_0x110b83){console[_0x2d9526(0xd2)](_0x110b83);}}),router[a0_0x57f061(0xbf)](a0_0x57f061(0x8f),auth,async(_0x4e69ba,_0x28aeef)=>{const _0x378f10=a0_0x57f061;try{const {rm_name:_0x1350d9,fg_name:_0x41599f,rm_email:_0x225299,fg_email:_0x598884,rm_mobilenum:_0x404e61,fg_number:_0x2c0214}=_0x4e69ba['body'],_0x1cd8b9=await supervisor_settings[_0x378f10(0xb7)]();if(_0x1cd8b9==null){const _0x2059c3=new supervisor_settings({'RMSName':_0x1350d9,'RMSEmail':_0x225299,'RMSnumber':_0x404e61,'FGSName':_0x41599f,'FGSEmail':_0x598884,'FGSnumber':_0x2c0214});await _0x2059c3[_0x378f10(0x97)]();}else _0x1cd8b9[_0x378f10(0x9c)]=_0x1350d9,_0x1cd8b9[_0x378f10(0xa4)]=_0x225299,_0x1cd8b9['RMSnumber']=_0x404e61,_0x1cd8b9[_0x378f10(0x96)]=_0x41599f,_0x1cd8b9['FGSEmail']=_0x598884,_0x1cd8b9[_0x378f10(0xb5)]=_0x2c0214,await _0x1cd8b9['save']();_0x4e69ba['flash'](_0x378f10(0xc1),'shop\x20setting\x20edit\x20successfully'),_0x28aeef[_0x378f10(0xd1)](_0x378f10(0xd4));}catch(_0x10f5b5){console['log'](_0x10f5b5);}}),module['exports']=router;