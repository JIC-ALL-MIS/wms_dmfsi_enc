const a0_0x1e10a6=a0_0x52d7;function a0_0x52d7(_0x5bf3a9,_0x261b48){const _0x1e4dfc=a0_0x1e4d();return a0_0x52d7=function(_0x52d76f,_0x1e27a2){_0x52d76f=_0x52d76f-0xca;let _0x1d95b0=_0x1e4dfc[_0x52d76f];return _0x1d95b0;},a0_0x52d7(_0x5bf3a9,_0x261b48);}(function(_0x5d5028,_0x1d13e4){const _0x1ede1c=a0_0x52d7,_0x5d40bf=_0x5d5028();while(!![]){try{const _0x3626a7=-parseInt(_0x1ede1c(0x108))/0x1*(-parseInt(_0x1ede1c(0xfe))/0x2)+parseInt(_0x1ede1c(0xe4))/0x3*(parseInt(_0x1ede1c(0x112))/0x4)+parseInt(_0x1ede1c(0xfc))/0x5*(parseInt(_0x1ede1c(0xdd))/0x6)+parseInt(_0x1ede1c(0x105))/0x7*(-parseInt(_0x1ede1c(0xd7))/0x8)+-parseInt(_0x1ede1c(0x117))/0x9*(-parseInt(_0x1ede1c(0xe1))/0xa)+parseInt(_0x1ede1c(0x10e))/0xb+-parseInt(_0x1ede1c(0x106))/0xc*(parseInt(_0x1ede1c(0x10a))/0xd);if(_0x3626a7===_0x1d13e4)break;else _0x5d40bf['push'](_0x5d40bf['shift']());}catch(_0x9405a9){_0x5d40bf['push'](_0x5d40bf['shift']());}}}(a0_0x1e4d,0xf2cad));function a0_0x1e4d(){const _0x2c9358=['/master_shop/view','master_settings','multer','findOne','/view/edit_settings','RMSnumber','782632USttun','./public/upload','/view/supervisors','get','English','host','858xiWGKf','Spanish','/view/email/edit_settings','timezones-list','16146070dAjmuE','save','diskStorage','4638423zDVEMz','master\x20settings\x20email_data','language','now','toLocaleString','currency','originalname','success','image','master_shop_data','exports','filename','redirect','2nd\x20master_shop_data','Hindi','shop\x20setting\x20edit\x20successfully','single','master','email','French','en-US','render','Arabic\x20(ae)','params','53435JyNZeb','/master_shop/view/supervisors','95162AZbXfc','supervisor_settings','currency_placement','port','/view','post','user','140YKSFvg','12ygsFwO','find','2JMCMvK','flash','33629336KuyebL','English\x20(US)','body','../public/language/languages.json','8291558DlRoLL','German','log','/view/email','4wIwYuE','timezone','Chinese','errors','/master_shop/view/email','9KdzOsz','file','Portuguese','password','RMSEmail','Portuguese\x20(BR)','Arabic','site_title'];a0_0x1e4d=function(){return _0x2c9358;};return a0_0x1e4d();}const express=require('express'),app=express(),router=express['Router'](),multer=require(a0_0x1e10a6(0xd3)),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require('../middleware/auth');var timezones=require(a0_0x1e10a6(0xe0));const users=require(a0_0x1e10a6(0x10d)),storage=multer[a0_0x1e10a6(0xe3)]({'destination':(_0x2d7dec,_0x5715fe,_0xf8c553)=>{const _0x6fde39=a0_0x1e10a6;_0xf8c553(null,_0x6fde39(0xd8));},'filename':(_0x275823,_0x444ff1,_0x5a6b67)=>{const _0x4574e1=a0_0x1e10a6;_0x5a6b67(null,Date[_0x4574e1(0xe7)]()+_0x444ff1[_0x4574e1(0xea)]);}}),upload=multer({'storage':storage});router[a0_0x1e10a6(0xda)](a0_0x1e10a6(0x102),auth,async(_0x2e3f28,_0x3eaccc)=>{const _0x237025=a0_0x1e10a6;try{const {username:_0x1dfaa7,email:_0x11fe84,role:_0x485853}=_0x2e3f28[_0x237025(0x104)],_0x57e308=_0x2e3f28[_0x237025(0x104)],_0x26b734=await profile['findOne']({'email':_0x57e308[_0x237025(0xf6)]}),_0x5de1e5=await master_shop[_0x237025(0x107)]();console['log']('master',_0x5de1e5);const _0x53f5a2=new Date()[_0x237025(0xe8)](_0x237025(0xf8),{'timeZone':_0x5de1e5[0x0][_0x237025(0x113)]});console[_0x237025(0x110)](_0x237025(0x113),_0x53f5a2);if(_0x5de1e5[0x0][_0x237025(0xe6)]==_0x237025(0x10b)){var _0x55db3a=users['English'];console[_0x237025(0x110)](_0x55db3a);}else{if(_0x5de1e5[0x0][_0x237025(0xe6)]==_0x237025(0xf2))var _0x55db3a=users['Hindi'];else{if(_0x5de1e5[0x0][_0x237025(0xe6)]=='German')var _0x55db3a=users['German'];else{if(_0x5de1e5[0x0][_0x237025(0xe6)]==_0x237025(0xde))var _0x55db3a=users[_0x237025(0xde)];else{if(_0x5de1e5[0x0][_0x237025(0xe6)]==_0x237025(0xf7))var _0x55db3a=users['French'];else{if(_0x5de1e5[0x0][_0x237025(0xe6)]==_0x237025(0xce))var _0x55db3a=users[_0x237025(0xcb)];else{if(_0x5de1e5[0x0]['language']==_0x237025(0x114))var _0x55db3a=users[_0x237025(0x114)];else{if(_0x5de1e5[0x0][_0x237025(0xe6)]==_0x237025(0xfa))var _0x55db3a=users[_0x237025(0xcf)];}}}}}}}_0x3eaccc['render'](_0x237025(0xd2),{'success':_0x2e3f28[_0x237025(0x109)]('success'),'errors':_0x2e3f28[_0x237025(0x109)](_0x237025(0x115)),'role':_0x57e308,'profile':_0x26b734,'master_shop':_0x5de1e5,'timezones':timezones,'language':_0x55db3a});}catch(_0x36be5b){console[_0x237025(0x110)](_0x36be5b);}}),router['get']('/:id',auth,async(_0x529610,_0x595bbe)=>{const _0x96b9a3=a0_0x1e10a6;try{console[_0x96b9a3(0x110)](_0x96b9a3(0xe6)),console[_0x96b9a3(0x110)](_0x529610[_0x96b9a3(0xfb)]['id']);const _0x3691b2=await master_shop[_0x96b9a3(0xd4)]();_0x3691b2['language']=_0x529610['params']['id'],await _0x3691b2[_0x96b9a3(0xe2)](),console[_0x96b9a3(0x110)](_0x96b9a3(0xf5),_0x3691b2);}catch(_0x142391){console['log'](_0x142391);}}),router[a0_0x1e10a6(0x103)](a0_0x1e10a6(0xd5),auth,upload[a0_0x1e10a6(0xf4)](a0_0x1e10a6(0xec)),async(_0x13a1d3,_0x8f4452)=>{const _0xa3f71d=a0_0x1e10a6;try{const {site_title:_0x475ca6,currency:_0x2f19c5,currency_placement:_0x44dc5a,timezone:_0x2f74ff}=_0x13a1d3[_0xa3f71d(0x10c)];if(_0x13a1d3[_0xa3f71d(0x10c)]['hidden']==0x0){const _0x12a5fd=await master_shop[_0xa3f71d(0xd4)]();console[_0xa3f71d(0x110)](_0xa3f71d(0xed),_0x12a5fd);if(_0x12a5fd==''){const _0x4a9fc0=new master_shop({'site_title':_0x475ca6,'image':image,'currency':_0x2f19c5,'currency_placement':_0x44dc5a,'timezone':_0x2f74ff}),_0x1a205b=await _0x4a9fc0[_0xa3f71d(0xe2)]();}else _0x12a5fd['site_title']=_0x475ca6,_0x12a5fd[_0xa3f71d(0xe9)]=_0x2f19c5,_0x12a5fd[_0xa3f71d(0x100)]=_0x44dc5a,_0x12a5fd[_0xa3f71d(0x113)]=_0x2f74ff,await _0x12a5fd[_0xa3f71d(0xe2)]();}else{const _0x4507d8=_0x13a1d3[_0xa3f71d(0xca)][_0xa3f71d(0xef)],_0x352317=await master_shop[_0xa3f71d(0xd4)]();console[_0xa3f71d(0x110)](_0xa3f71d(0xf1),_0x352317);if(_0x352317==null){console[_0xa3f71d(0x110)]('1',_0x475ca6);const _0x400550=new master_shop({'site_title':_0x475ca6,'image':_0x4507d8,'currency':_0x2f19c5,'currency_placement':_0x44dc5a,'timezone':_0x2f74ff}),_0x344b97=await _0x400550[_0xa3f71d(0xe2)]();}else console[_0xa3f71d(0x110)]('2',_0x475ca6),_0x352317[_0xa3f71d(0xd0)]=_0x475ca6,_0x352317['image']=_0x4507d8,_0x352317[_0xa3f71d(0xe9)]=_0x2f19c5,_0x352317[_0xa3f71d(0x100)]=_0x44dc5a,_0x352317[_0xa3f71d(0x113)]=_0x2f74ff,await _0x352317['save']();}_0x13a1d3[_0xa3f71d(0x109)](_0xa3f71d(0xeb),_0xa3f71d(0xf3)),_0x8f4452[_0xa3f71d(0xf0)](_0xa3f71d(0xd1));}catch(_0x207819){console['log'](_0x207819);}}),router[a0_0x1e10a6(0xda)](a0_0x1e10a6(0x111),auth,async(_0x4b0e,_0x382303)=>{const _0x2d02d9=a0_0x1e10a6;try{const {username:_0x1a430b,email:_0xae5244,role:_0x6eb94c}=_0x4b0e['user'],_0x2a982f=_0x4b0e[_0x2d02d9(0x104)],_0x476336=await profile[_0x2d02d9(0xd4)]({'email':_0x2a982f[_0x2d02d9(0xf6)]}),_0x429677=await master_shop[_0x2d02d9(0x107)]();console[_0x2d02d9(0x110)]('master',_0x429677);const _0x26f7dd=await email_settings[_0x2d02d9(0xd4)]();console[_0x2d02d9(0x110)](_0x2d02d9(0xe5),_0x26f7dd);if(_0x429677[0x0][_0x2d02d9(0xe6)]==_0x2d02d9(0x10b)){var _0x5c56fa=users[_0x2d02d9(0xdb)];console['log'](_0x5c56fa);}else{if(_0x429677[0x0]['language']==_0x2d02d9(0xf2))var _0x5c56fa=users['Hindi'];else{if(_0x429677[0x0]['language']=='German')var _0x5c56fa=users[_0x2d02d9(0x10f)];else{if(_0x429677[0x0][_0x2d02d9(0xe6)]==_0x2d02d9(0xde))var _0x5c56fa=users[_0x2d02d9(0xde)];else{if(_0x429677[0x0]['language']==_0x2d02d9(0xf7))var _0x5c56fa=users['French'];else{if(_0x429677[0x0]['language']==_0x2d02d9(0xce))var _0x5c56fa=users[_0x2d02d9(0xcb)];else{if(_0x429677[0x0][_0x2d02d9(0xe6)]==_0x2d02d9(0x114))var _0x5c56fa=users[_0x2d02d9(0x114)];else{if(_0x429677[0x0][_0x2d02d9(0xe6)]==_0x2d02d9(0xfa))var _0x5c56fa=users[_0x2d02d9(0xcf)];}}}}}}}_0x382303[_0x2d02d9(0xf9)]('email_settings',{'success':_0x4b0e['flash'](_0x2d02d9(0xeb)),'errors':_0x4b0e[_0x2d02d9(0x109)](_0x2d02d9(0x115)),'role':_0x2a982f,'profile':_0x476336,'master_shop':_0x429677,'email':_0x26f7dd,'language':_0x5c56fa});}catch(_0x5dd3e2){console[_0x2d02d9(0x110)](_0x5dd3e2);}}),router['post'](a0_0x1e10a6(0xdf),auth,async(_0x40e2fc,_0x263069)=>{const _0x18e1dc=a0_0x1e10a6;try{const {host:_0x517aab,port:_0x4aded9,email:_0x928afc,password:_0x5bcb90}=_0x40e2fc[_0x18e1dc(0x10c)],_0x4b06e1=await email_settings[_0x18e1dc(0xd4)]();if(_0x4b06e1==null){const _0x5b70e3=new email_settings({'host':_0x517aab,'port':_0x4aded9,'email':_0x928afc,'password':_0x5bcb90});await _0x5b70e3[_0x18e1dc(0xe2)]();}else _0x4b06e1[_0x18e1dc(0xdc)]=_0x517aab,_0x4b06e1[_0x18e1dc(0x101)]=_0x4aded9,_0x4b06e1[_0x18e1dc(0xf6)]=_0x928afc,_0x4b06e1[_0x18e1dc(0xcc)]=_0x5bcb90,await _0x4b06e1['save']();_0x40e2fc[_0x18e1dc(0x109)](_0x18e1dc(0xeb),_0x18e1dc(0xf3)),_0x263069[_0x18e1dc(0xf0)](_0x18e1dc(0x116));}catch(_0xa248cf){console[_0x18e1dc(0x110)](_0xa248cf);}}),router[a0_0x1e10a6(0xda)](a0_0x1e10a6(0xd9),auth,async(_0x5d007b,_0x5af970)=>{const _0x2979b2=a0_0x1e10a6;try{const {username:_0x27296e,email:_0x258155,role:_0x568fed}=_0x5d007b['user'],_0x5a221a=_0x5d007b[_0x2979b2(0x104)],_0x47856c=await supervisor_settings['find'](),_0x2446ac=await profile['findOne']({'email':_0x5a221a[_0x2979b2(0xf6)]}),_0xc7f3eb=await master_shop[_0x2979b2(0x107)](),_0xd332d7=new Date()[_0x2979b2(0xe8)](_0x2979b2(0xf8),{'timeZone':_0xc7f3eb[0x0]['timezone']});if(_0xc7f3eb[0x0][_0x2979b2(0xe6)]==_0x2979b2(0x10b)){var _0x2fc559=users['English'];console[_0x2979b2(0x110)](_0x2fc559);}else{if(_0xc7f3eb[0x0][_0x2979b2(0xe6)]==_0x2979b2(0xf2))var _0x2fc559=users[_0x2979b2(0xf2)];else{if(_0xc7f3eb[0x0][_0x2979b2(0xe6)]=='German')var _0x2fc559=users['German'];else{if(_0xc7f3eb[0x0][_0x2979b2(0xe6)]==_0x2979b2(0xde))var _0x2fc559=users[_0x2979b2(0xde)];else{if(_0xc7f3eb[0x0]['language']=='French')var _0x2fc559=users[_0x2979b2(0xf7)];else{if(_0xc7f3eb[0x0][_0x2979b2(0xe6)]==_0x2979b2(0xce))var _0x2fc559=users[_0x2979b2(0xcb)];else{if(_0xc7f3eb[0x0][_0x2979b2(0xe6)]==_0x2979b2(0x114))var _0x2fc559=users[_0x2979b2(0x114)];else{if(_0xc7f3eb[0x0][_0x2979b2(0xe6)]==_0x2979b2(0xfa))var _0x2fc559=users[_0x2979b2(0xcf)];}}}}}}}_0x5af970[_0x2979b2(0xf9)](_0x2979b2(0xff),{'success':_0x5d007b['flash'](_0x2979b2(0xeb)),'errors':_0x5d007b['flash']('errors'),'role':_0x5a221a,'profile':_0x2446ac,'master_shop':_0xc7f3eb,'supervisor_data':_0x47856c[0x0],'timezones':timezones,'language':_0x2fc559});}catch(_0x190d36){console[_0x2979b2(0x110)](_0x190d36);}}),router[a0_0x1e10a6(0x103)](a0_0x1e10a6(0xd9),auth,async(_0x321ed6,_0x3e4f36)=>{const _0x5ba378=a0_0x1e10a6;try{const {rm_name:_0x50092c,fg_name:_0x415032,rm_email:_0x3b0bd9,fg_email:_0x5b4fb2,rm_mobilenum:_0x58c562,fg_number:_0x1f2047}=_0x321ed6[_0x5ba378(0x10c)],_0x5d6c11=await supervisor_settings['findOne']();if(_0x5d6c11==null){const _0x4eaf8c=new supervisor_settings({'RMSName':_0x50092c,'RMSEmail':_0x3b0bd9,'RMSnumber':_0x58c562,'FGSName':_0x415032,'FGSEmail':_0x5b4fb2,'FGSnumber':_0x1f2047});await _0x4eaf8c[_0x5ba378(0xe2)]();}else _0x5d6c11['RMSName']=_0x50092c,_0x5d6c11[_0x5ba378(0xcd)]=_0x3b0bd9,_0x5d6c11[_0x5ba378(0xd6)]=_0x58c562,_0x5d6c11['FGSName']=_0x415032,_0x5d6c11['FGSEmail']=_0x5b4fb2,_0x5d6c11['FGSnumber']=_0x1f2047,await _0x5d6c11[_0x5ba378(0xe2)]();_0x321ed6['flash'](_0x5ba378(0xeb),_0x5ba378(0xf3)),_0x3e4f36[_0x5ba378(0xf0)](_0x5ba378(0xfd));}catch(_0x1bd617){console[_0x5ba378(0x110)](_0x1bd617);}}),module[a0_0x1e10a6(0xee)]=router;