const a0_0x43aa19=a0_0x5779;(function(_0xf6f29b,_0xaa243c){const _0x329e46=a0_0x5779,_0x309865=_0xf6f29b();while(!![]){try{const _0x4ca64c=parseInt(_0x329e46(0x17a))/0x1+parseInt(_0x329e46(0x16e))/0x2*(-parseInt(_0x329e46(0x18f))/0x3)+-parseInt(_0x329e46(0x17f))/0x4+parseInt(_0x329e46(0x15a))/0x5+parseInt(_0x329e46(0x160))/0x6*(parseInt(_0x329e46(0x190))/0x7)+-parseInt(_0x329e46(0x196))/0x8*(parseInt(_0x329e46(0x153))/0x9)+parseInt(_0x329e46(0x182))/0xa;if(_0x4ca64c===_0xaa243c)break;else _0x309865['push'](_0x309865['shift']());}catch(_0x4c34f8){_0x309865['push'](_0x309865['shift']());}}}(a0_0x4128,0x79e1d));const express=require(a0_0x43aa19(0x181)),app=express(),router=express[a0_0x43aa19(0x150)](),multer=require(a0_0x43aa19(0x186)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x43aa19(0x16a)),auth=require(a0_0x43aa19(0x185));function a0_0x4128(){const _0x3ef0cd=['site_title','master\x20settings\x20email_data','password','body','/view/supervisors','French','German','Arabic\x20(ae)','master_shop_data','flash','Router','/view/edit_settings','Chinese','7758huFBvY','master_settings','port','RMSName','errors','findOne','language','4956325dAdjVN','FGSnumber','currency','log','single','success','606bPFexb','render','params','/view/email/edit_settings','../public/language/languages.json','post','email','English','user','shop\x20setting\x20edit\x20successfully','../models/all_models','Portuguese','timezone','Portuguese\x20(BR)','1294SkMSZr','hidden','Hindi','timezones-list','redirect','Arabic','originalname','en-US','currency_placement','save','supervisor_settings','English\x20(US)','482184lIFOvg','get','find','/view','toLocaleString','2987828jPuDCi','file','express','9081250bvnCVm','RMSnumber','host','../middleware/auth','multer','/view/email','diskStorage','FGSEmail','/master_shop/view/supervisors','FGSName','master','filename','Spanish','2109XknEqc','2121WVclXs','image','2nd\x20master_shop_data','/master_shop/view/email','now','./public/upload','6600OXLieY'];a0_0x4128=function(){return _0x3ef0cd;};return a0_0x4128();}var timezones=require(a0_0x43aa19(0x171));function a0_0x5779(_0x343c56,_0x479a5e){const _0x412894=a0_0x4128();return a0_0x5779=function(_0x57794a,_0xaa7817){_0x57794a=_0x57794a-0x146;let _0x51cfee=_0x412894[_0x57794a];return _0x51cfee;},a0_0x5779(_0x343c56,_0x479a5e);}const users=require(a0_0x43aa19(0x164)),storage=multer[a0_0x43aa19(0x188)]({'destination':(_0x3c0b13,_0x5ef5c9,_0x4399f0)=>{const _0xc1884c=a0_0x43aa19;_0x4399f0(null,_0xc1884c(0x195));},'filename':(_0x3fbcb2,_0x13a03c,_0x563c87)=>{const _0x4b3279=a0_0x43aa19;_0x563c87(null,Date[_0x4b3279(0x194)]()+_0x13a03c[_0x4b3279(0x174)]);}}),upload=multer({'storage':storage});router[a0_0x43aa19(0x17b)](a0_0x43aa19(0x17d),auth,async(_0x12d55d,_0x5b2407)=>{const _0x4ab880=a0_0x43aa19;try{const {username:_0x251cc2,email:_0xc3907,role:_0x58d78b}=_0x12d55d['user'],_0x5e7642=_0x12d55d[_0x4ab880(0x168)],_0x1b39ad=await profile[_0x4ab880(0x158)]({'email':_0x5e7642['email']}),_0x321984=await master_shop['find']();console[_0x4ab880(0x15d)](_0x4ab880(0x18c),_0x321984);const _0x3ee223=new Date()[_0x4ab880(0x17e)](_0x4ab880(0x175),{'timeZone':_0x321984[0x0]['timezone']});console[_0x4ab880(0x15d)](_0x4ab880(0x16c),_0x3ee223);if(_0x321984[0x0][_0x4ab880(0x159)]==_0x4ab880(0x179)){var _0x598f31=users[_0x4ab880(0x167)];console['log'](_0x598f31);}else{if(_0x321984[0x0]['language']==_0x4ab880(0x170))var _0x598f31=users[_0x4ab880(0x170)];else{if(_0x321984[0x0][_0x4ab880(0x159)]=='German')var _0x598f31=users['German'];else{if(_0x321984[0x0][_0x4ab880(0x159)]==_0x4ab880(0x18e))var _0x598f31=users[_0x4ab880(0x18e)];else{if(_0x321984[0x0][_0x4ab880(0x159)]==_0x4ab880(0x14b))var _0x598f31=users[_0x4ab880(0x14b)];else{if(_0x321984[0x0]['language']==_0x4ab880(0x16d))var _0x598f31=users[_0x4ab880(0x16b)];else{if(_0x321984[0x0][_0x4ab880(0x159)]==_0x4ab880(0x152))var _0x598f31=users['Chinese'];else{if(_0x321984[0x0][_0x4ab880(0x159)]=='Arabic\x20(ae)')var _0x598f31=users['Arabic'];}}}}}}}_0x5b2407[_0x4ab880(0x161)](_0x4ab880(0x154),{'success':_0x12d55d[_0x4ab880(0x14f)](_0x4ab880(0x15f)),'errors':_0x12d55d[_0x4ab880(0x14f)](_0x4ab880(0x157)),'role':_0x5e7642,'profile':_0x1b39ad,'master_shop':_0x321984,'timezones':timezones,'language':_0x598f31});}catch(_0x42767a){console[_0x4ab880(0x15d)](_0x42767a);}}),router['get']('/:id',auth,async(_0x16067b,_0xc05310)=>{const _0x44df2d=a0_0x43aa19;try{console['log'](_0x44df2d(0x159)),console[_0x44df2d(0x15d)](_0x16067b['params']['id']);const _0x46190c=await master_shop[_0x44df2d(0x158)]();_0x46190c['language']=_0x16067b[_0x44df2d(0x162)]['id'],await _0x46190c[_0x44df2d(0x177)](),console['log'](_0x44df2d(0x18c),_0x46190c);}catch(_0x58fbc7){console[_0x44df2d(0x15d)](_0x58fbc7);}}),router[a0_0x43aa19(0x165)](a0_0x43aa19(0x151),auth,upload[a0_0x43aa19(0x15e)](a0_0x43aa19(0x191)),async(_0x1c3cf1,_0x54c8cf)=>{const _0x5cfb52=a0_0x43aa19;try{const {site_title:_0x204f1e,currency:_0x31eea8,currency_placement:_0x4fa85e,timezone:_0x26f7c1}=_0x1c3cf1['body'];if(_0x1c3cf1['body'][_0x5cfb52(0x16f)]==0x0){const _0x363234=await master_shop[_0x5cfb52(0x158)]();console[_0x5cfb52(0x15d)](_0x5cfb52(0x14e),_0x363234);if(_0x363234==''){const _0x570f57=new master_shop({'site_title':_0x204f1e,'image':image,'currency':_0x31eea8,'currency_placement':_0x4fa85e,'timezone':_0x26f7c1}),_0x50e701=await _0x570f57['save']();}else _0x363234['site_title']=_0x204f1e,_0x363234[_0x5cfb52(0x15c)]=_0x31eea8,_0x363234[_0x5cfb52(0x176)]=_0x4fa85e,_0x363234['timezone']=_0x26f7c1,await _0x363234[_0x5cfb52(0x177)]();}else{const _0x27356e=_0x1c3cf1[_0x5cfb52(0x180)][_0x5cfb52(0x18d)],_0x12d81b=await master_shop[_0x5cfb52(0x158)]();console[_0x5cfb52(0x15d)](_0x5cfb52(0x192),_0x12d81b);if(_0x12d81b==null){console[_0x5cfb52(0x15d)]('1',_0x204f1e);const _0x3ad020=new master_shop({'site_title':_0x204f1e,'image':_0x27356e,'currency':_0x31eea8,'currency_placement':_0x4fa85e,'timezone':_0x26f7c1}),_0x15a134=await _0x3ad020[_0x5cfb52(0x177)]();}else console[_0x5cfb52(0x15d)]('2',_0x204f1e),_0x12d81b[_0x5cfb52(0x146)]=_0x204f1e,_0x12d81b[_0x5cfb52(0x191)]=_0x27356e,_0x12d81b[_0x5cfb52(0x15c)]=_0x31eea8,_0x12d81b[_0x5cfb52(0x176)]=_0x4fa85e,_0x12d81b[_0x5cfb52(0x16c)]=_0x26f7c1,await _0x12d81b['save']();}_0x1c3cf1[_0x5cfb52(0x14f)](_0x5cfb52(0x15f),_0x5cfb52(0x169)),_0x54c8cf[_0x5cfb52(0x172)]('/master_shop/view');}catch(_0x7cc818){console[_0x5cfb52(0x15d)](_0x7cc818);}}),router[a0_0x43aa19(0x17b)](a0_0x43aa19(0x187),auth,async(_0x32c95f,_0xc85e74)=>{const _0x4eddc1=a0_0x43aa19;try{const {username:_0x13d805,email:_0x2ff742,role:_0x64669f}=_0x32c95f[_0x4eddc1(0x168)],_0xea847e=_0x32c95f[_0x4eddc1(0x168)],_0x1b8e5c=await profile[_0x4eddc1(0x158)]({'email':_0xea847e[_0x4eddc1(0x166)]}),_0xdaa7c9=await master_shop[_0x4eddc1(0x17c)]();console['log']('master',_0xdaa7c9);const _0x53cfea=await email_settings[_0x4eddc1(0x158)]();console[_0x4eddc1(0x15d)](_0x4eddc1(0x147),_0x53cfea);if(_0xdaa7c9[0x0][_0x4eddc1(0x159)]==_0x4eddc1(0x179)){var _0x4af289=users[_0x4eddc1(0x167)];console['log'](_0x4af289);}else{if(_0xdaa7c9[0x0][_0x4eddc1(0x159)]==_0x4eddc1(0x170))var _0x4af289=users[_0x4eddc1(0x170)];else{if(_0xdaa7c9[0x0][_0x4eddc1(0x159)]==_0x4eddc1(0x14c))var _0x4af289=users['German'];else{if(_0xdaa7c9[0x0][_0x4eddc1(0x159)]==_0x4eddc1(0x18e))var _0x4af289=users[_0x4eddc1(0x18e)];else{if(_0xdaa7c9[0x0][_0x4eddc1(0x159)]=='French')var _0x4af289=users[_0x4eddc1(0x14b)];else{if(_0xdaa7c9[0x0][_0x4eddc1(0x159)]==_0x4eddc1(0x16d))var _0x4af289=users[_0x4eddc1(0x16b)];else{if(_0xdaa7c9[0x0][_0x4eddc1(0x159)]==_0x4eddc1(0x152))var _0x4af289=users[_0x4eddc1(0x152)];else{if(_0xdaa7c9[0x0][_0x4eddc1(0x159)]==_0x4eddc1(0x14d))var _0x4af289=users[_0x4eddc1(0x173)];}}}}}}}_0xc85e74[_0x4eddc1(0x161)]('email_settings',{'success':_0x32c95f[_0x4eddc1(0x14f)]('success'),'errors':_0x32c95f[_0x4eddc1(0x14f)](_0x4eddc1(0x157)),'role':_0xea847e,'profile':_0x1b8e5c,'master_shop':_0xdaa7c9,'email':_0x53cfea,'language':_0x4af289});}catch(_0x18e52d){console[_0x4eddc1(0x15d)](_0x18e52d);}}),router[a0_0x43aa19(0x165)](a0_0x43aa19(0x163),auth,async(_0x19369d,_0x358cee)=>{const _0x245e03=a0_0x43aa19;try{const {host:_0x264796,port:_0x449788,email:_0xf4ce34,password:_0x49811c}=_0x19369d[_0x245e03(0x149)],_0x4de403=await email_settings[_0x245e03(0x158)]();if(_0x4de403==null){const _0x497bbc=new email_settings({'host':_0x264796,'port':_0x449788,'email':_0xf4ce34,'password':_0x49811c});await _0x497bbc['save']();}else _0x4de403[_0x245e03(0x184)]=_0x264796,_0x4de403[_0x245e03(0x155)]=_0x449788,_0x4de403[_0x245e03(0x166)]=_0xf4ce34,_0x4de403[_0x245e03(0x148)]=_0x49811c,await _0x4de403[_0x245e03(0x177)]();_0x19369d[_0x245e03(0x14f)](_0x245e03(0x15f),_0x245e03(0x169)),_0x358cee[_0x245e03(0x172)](_0x245e03(0x193));}catch(_0x2cc3e7){console['log'](_0x2cc3e7);}}),router['get'](a0_0x43aa19(0x14a),auth,async(_0x3b4360,_0x88b99d)=>{const _0x26567a=a0_0x43aa19;try{const {username:_0x2bc77b,email:_0x90c267,role:_0x5090d7}=_0x3b4360[_0x26567a(0x168)],_0x174219=_0x3b4360[_0x26567a(0x168)],_0x160bc5=await supervisor_settings[_0x26567a(0x17c)](),_0x16ece6=await profile[_0x26567a(0x158)]({'email':_0x174219['email']}),_0x32b725=await master_shop[_0x26567a(0x17c)](),_0x3bc6c4=new Date()[_0x26567a(0x17e)]('en-US',{'timeZone':_0x32b725[0x0][_0x26567a(0x16c)]});if(_0x32b725[0x0]['language']==_0x26567a(0x179)){var _0xdd93e2=users[_0x26567a(0x167)];console[_0x26567a(0x15d)](_0xdd93e2);}else{if(_0x32b725[0x0][_0x26567a(0x159)]==_0x26567a(0x170))var _0xdd93e2=users[_0x26567a(0x170)];else{if(_0x32b725[0x0]['language']==_0x26567a(0x14c))var _0xdd93e2=users[_0x26567a(0x14c)];else{if(_0x32b725[0x0][_0x26567a(0x159)]=='Spanish')var _0xdd93e2=users[_0x26567a(0x18e)];else{if(_0x32b725[0x0][_0x26567a(0x159)]==_0x26567a(0x14b))var _0xdd93e2=users[_0x26567a(0x14b)];else{if(_0x32b725[0x0]['language']==_0x26567a(0x16d))var _0xdd93e2=users[_0x26567a(0x16b)];else{if(_0x32b725[0x0]['language']==_0x26567a(0x152))var _0xdd93e2=users[_0x26567a(0x152)];else{if(_0x32b725[0x0]['language']==_0x26567a(0x14d))var _0xdd93e2=users[_0x26567a(0x173)];}}}}}}}_0x88b99d[_0x26567a(0x161)](_0x26567a(0x178),{'success':_0x3b4360[_0x26567a(0x14f)](_0x26567a(0x15f)),'errors':_0x3b4360['flash']('errors'),'role':_0x174219,'profile':_0x16ece6,'master_shop':_0x32b725,'supervisor_data':_0x160bc5[0x0],'timezones':timezones,'language':_0xdd93e2});}catch(_0x5e2ccf){console[_0x26567a(0x15d)](_0x5e2ccf);}}),router[a0_0x43aa19(0x165)](a0_0x43aa19(0x14a),auth,async(_0x42c645,_0x4b2940)=>{const _0x57993e=a0_0x43aa19;try{const {rm_name:_0x2bbc16,fg_name:_0x607f6,rm_email:_0x9af01,fg_email:_0xa3f99f,rm_mobilenum:_0xbcf7d6,fg_number:_0x24ed17}=_0x42c645['body'],_0x2ccda2=await supervisor_settings[_0x57993e(0x158)]();if(_0x2ccda2==null){const _0x11cbfb=new supervisor_settings({'RMSName':_0x2bbc16,'RMSEmail':_0x9af01,'RMSnumber':_0xbcf7d6,'FGSName':_0x607f6,'FGSEmail':_0xa3f99f,'FGSnumber':_0x24ed17});await _0x11cbfb[_0x57993e(0x177)]();}else _0x2ccda2[_0x57993e(0x156)]=_0x2bbc16,_0x2ccda2['RMSEmail']=_0x9af01,_0x2ccda2[_0x57993e(0x183)]=_0xbcf7d6,_0x2ccda2[_0x57993e(0x18b)]=_0x607f6,_0x2ccda2[_0x57993e(0x189)]=_0xa3f99f,_0x2ccda2[_0x57993e(0x15b)]=_0x24ed17,await _0x2ccda2[_0x57993e(0x177)]();_0x42c645[_0x57993e(0x14f)]('success',_0x57993e(0x169)),_0x4b2940['redirect'](_0x57993e(0x18a));}catch(_0x412601){console[_0x57993e(0x15d)](_0x412601);}}),module['exports']=router;