const a0_0x35e320=a0_0x83fd;function a0_0x5b36(){const _0x24177a=['user','English','6972AwxtcI','body','/view','Portuguese','master','originalname','master\x20settings\x20email_data','currency','English\x20(US)','7656HaRgPP','Chinese','multer','./public/upload','exports','en-US','save','shop\x20setting\x20edit\x20successfully','Spanish','RMSnumber','../middleware/auth','/view/email/edit_settings','Arabic\x20(ae)','email_settings','Router','find','../public/language/languages.json','1128898VFnAUS','301938IgHloy','FGSEmail','post','errors','express','RMSName','redirect','currency_placement','email','RMSEmail','master_shop_data','Portuguese\x20(BR)','timezones-list','supervisor_settings','single','French','image','language','master_settings','timezone','toLocaleString','9779930WUWZdx','Hindi','findOne','password','file','success','German','/:id','FGSnumber','port','FGSName','21865XBwimZ','../models/all_models','/view/email','render','site_title','log','3788116CdJYDQ','/master_shop/view/supervisors','/view/supervisors','2boPlAb','Arabic','get','flash','726rLnAsz','params','10807848uBScCG','/master_shop/view'];a0_0x5b36=function(){return _0x24177a;};return a0_0x5b36();}(function(_0x19e8ee,_0x41e30b){const _0x216c66=a0_0x83fd,_0x38d08a=_0x19e8ee();while(!![]){try{const _0x121bb8=-parseInt(_0x216c66(0x91))/0x1*(parseInt(_0x216c66(0xb5))/0x2)+parseInt(_0x216c66(0xb6))/0x3+parseInt(_0x216c66(0x8e))/0x4+parseInt(_0x216c66(0x88))/0x5*(-parseInt(_0x216c66(0x95))/0x6)+-parseInt(_0x216c66(0x9b))/0x7*(parseInt(_0x216c66(0xa4))/0x8)+parseInt(_0x216c66(0x97))/0x9+parseInt(_0x216c66(0xcb))/0xa;if(_0x121bb8===_0x41e30b)break;else _0x38d08a['push'](_0x38d08a['shift']());}catch(_0x53dbba){_0x38d08a['push'](_0x38d08a['shift']());}}}(a0_0x5b36,0x963a9));const express=require(a0_0x35e320(0xba)),app=express(),router=express[a0_0x35e320(0xb2)](),multer=require(a0_0x35e320(0xa6)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x35e320(0x89)),auth=require(a0_0x35e320(0xae));function a0_0x83fd(_0x51b394,_0x257626){const _0x5b3606=a0_0x5b36();return a0_0x83fd=function(_0x83fd1c,_0x45938a){_0x83fd1c=_0x83fd1c-0x84;let _0x25c25f=_0x5b3606[_0x83fd1c];return _0x25c25f;},a0_0x83fd(_0x51b394,_0x257626);}var timezones=require(a0_0x35e320(0xc2));const users=require(a0_0x35e320(0xb4)),storage=multer['diskStorage']({'destination':(_0x485cd5,_0x2dd733,_0x4261e0)=>{const _0x1280cd=a0_0x35e320;_0x4261e0(null,_0x1280cd(0xa7));},'filename':(_0x26af53,_0x4758ae,_0x1c10eb)=>{const _0x3863b9=a0_0x35e320;_0x1c10eb(null,Date['now']()+_0x4758ae[_0x3863b9(0xa0)]);}}),upload=multer({'storage':storage});router[a0_0x35e320(0x93)](a0_0x35e320(0x9d),auth,async(_0x4d2580,_0x1acdaa)=>{const _0xefb693=a0_0x35e320;try{const {username:_0x17f792,email:_0x4b511d,role:_0x52054a}=_0x4d2580[_0xefb693(0x99)],_0x1aecf5=_0x4d2580[_0xefb693(0x99)],_0x2e0d3e=await profile[_0xefb693(0xcd)]({'email':_0x1aecf5[_0xefb693(0xbe)]}),_0x483328=await master_shop[_0xefb693(0xb3)]();console[_0xefb693(0x8d)](_0xefb693(0x9f),_0x483328);const _0x36f07b=new Date()[_0xefb693(0xca)](_0xefb693(0xa9),{'timeZone':_0x483328[0x0][_0xefb693(0xc9)]});console[_0xefb693(0x8d)](_0xefb693(0xc9),_0x36f07b);if(_0x483328[0x0]['language']==_0xefb693(0xa3)){var _0xfe93f9=users['English'];console[_0xefb693(0x8d)](_0xfe93f9);}else{if(_0x483328[0x0][_0xefb693(0xc7)]==_0xefb693(0xcc))var _0xfe93f9=users[_0xefb693(0xcc)];else{if(_0x483328[0x0]['language']=='German')var _0xfe93f9=users[_0xefb693(0xd1)];else{if(_0x483328[0x0][_0xefb693(0xc7)]==_0xefb693(0xac))var _0xfe93f9=users[_0xefb693(0xac)];else{if(_0x483328[0x0][_0xefb693(0xc7)]=='French')var _0xfe93f9=users[_0xefb693(0xc5)];else{if(_0x483328[0x0][_0xefb693(0xc7)]==_0xefb693(0xc1))var _0xfe93f9=users[_0xefb693(0x9e)];else{if(_0x483328[0x0][_0xefb693(0xc7)]=='Chinese')var _0xfe93f9=users[_0xefb693(0xa5)];else{if(_0x483328[0x0][_0xefb693(0xc7)]==_0xefb693(0xb0))var _0xfe93f9=users[_0xefb693(0x92)];}}}}}}}_0x1acdaa[_0xefb693(0x8b)](_0xefb693(0xc8),{'success':_0x4d2580[_0xefb693(0x94)](_0xefb693(0xd0)),'errors':_0x4d2580['flash'](_0xefb693(0xb9)),'role':_0x1aecf5,'profile':_0x2e0d3e,'master_shop':_0x483328,'timezones':timezones,'language':_0xfe93f9});}catch(_0x535821){console[_0xefb693(0x8d)](_0x535821);}}),router[a0_0x35e320(0x93)](a0_0x35e320(0x84),auth,async(_0x898b45,_0x319bfc)=>{const _0x593d11=a0_0x35e320;try{console[_0x593d11(0x8d)](_0x593d11(0xc7)),console['log'](_0x898b45[_0x593d11(0x96)]['id']);const _0x17d496=await master_shop[_0x593d11(0xcd)]();_0x17d496[_0x593d11(0xc7)]=_0x898b45[_0x593d11(0x96)]['id'],await _0x17d496[_0x593d11(0xaa)](),console['log']('master',_0x17d496);}catch(_0x2619a2){console['log'](_0x2619a2);}}),router[a0_0x35e320(0xb8)]('/view/edit_settings',auth,upload[a0_0x35e320(0xc4)]('image'),async(_0x19ae2f,_0x42a69f)=>{const _0xc2e59c=a0_0x35e320;try{const {site_title:_0x5aacec,currency:_0x907f7,currency_placement:_0xda8f19,timezone:_0xa54652}=_0x19ae2f['body'];if(_0x19ae2f[_0xc2e59c(0x9c)]['hidden']==0x0){const _0x40f762=await master_shop[_0xc2e59c(0xcd)]();console[_0xc2e59c(0x8d)](_0xc2e59c(0xc0),_0x40f762);if(_0x40f762==''){const _0x6e98df=new master_shop({'site_title':_0x5aacec,'image':image,'currency':_0x907f7,'currency_placement':_0xda8f19,'timezone':_0xa54652}),_0xa32533=await _0x6e98df[_0xc2e59c(0xaa)]();}else _0x40f762[_0xc2e59c(0x8c)]=_0x5aacec,_0x40f762['currency']=_0x907f7,_0x40f762[_0xc2e59c(0xbd)]=_0xda8f19,_0x40f762[_0xc2e59c(0xc9)]=_0xa54652,await _0x40f762[_0xc2e59c(0xaa)]();}else{const _0xba7ba5=_0x19ae2f[_0xc2e59c(0xcf)]['filename'],_0x10f870=await master_shop[_0xc2e59c(0xcd)]();console[_0xc2e59c(0x8d)]('2nd\x20master_shop_data',_0x10f870);if(_0x10f870==null){console[_0xc2e59c(0x8d)]('1',_0x5aacec);const _0x57cb60=new master_shop({'site_title':_0x5aacec,'image':_0xba7ba5,'currency':_0x907f7,'currency_placement':_0xda8f19,'timezone':_0xa54652}),_0x5706e0=await _0x57cb60[_0xc2e59c(0xaa)]();}else console[_0xc2e59c(0x8d)]('2',_0x5aacec),_0x10f870[_0xc2e59c(0x8c)]=_0x5aacec,_0x10f870[_0xc2e59c(0xc6)]=_0xba7ba5,_0x10f870[_0xc2e59c(0xa2)]=_0x907f7,_0x10f870['currency_placement']=_0xda8f19,_0x10f870[_0xc2e59c(0xc9)]=_0xa54652,await _0x10f870['save']();}_0x19ae2f['flash'](_0xc2e59c(0xd0),'shop\x20setting\x20edit\x20successfully'),_0x42a69f[_0xc2e59c(0xbc)](_0xc2e59c(0x98));}catch(_0x261070){console[_0xc2e59c(0x8d)](_0x261070);}}),router['get'](a0_0x35e320(0x8a),auth,async(_0x2d6513,_0x4076bc)=>{const _0x1fe2bb=a0_0x35e320;try{const {username:_0x5a1e3e,email:_0xeefd81,role:_0xb26d5d}=_0x2d6513[_0x1fe2bb(0x99)],_0x182c9e=_0x2d6513[_0x1fe2bb(0x99)],_0x5a1491=await profile[_0x1fe2bb(0xcd)]({'email':_0x182c9e[_0x1fe2bb(0xbe)]}),_0x1c3a8a=await master_shop[_0x1fe2bb(0xb3)]();console[_0x1fe2bb(0x8d)](_0x1fe2bb(0x9f),_0x1c3a8a);const _0xa6ff0f=await email_settings[_0x1fe2bb(0xcd)]();console['log'](_0x1fe2bb(0xa1),_0xa6ff0f);if(_0x1c3a8a[0x0][_0x1fe2bb(0xc7)]==_0x1fe2bb(0xa3)){var _0x4f64ce=users[_0x1fe2bb(0x9a)];console['log'](_0x4f64ce);}else{if(_0x1c3a8a[0x0][_0x1fe2bb(0xc7)]==_0x1fe2bb(0xcc))var _0x4f64ce=users[_0x1fe2bb(0xcc)];else{if(_0x1c3a8a[0x0][_0x1fe2bb(0xc7)]==_0x1fe2bb(0xd1))var _0x4f64ce=users[_0x1fe2bb(0xd1)];else{if(_0x1c3a8a[0x0]['language']==_0x1fe2bb(0xac))var _0x4f64ce=users[_0x1fe2bb(0xac)];else{if(_0x1c3a8a[0x0][_0x1fe2bb(0xc7)]==_0x1fe2bb(0xc5))var _0x4f64ce=users[_0x1fe2bb(0xc5)];else{if(_0x1c3a8a[0x0][_0x1fe2bb(0xc7)]=='Portuguese\x20(BR)')var _0x4f64ce=users[_0x1fe2bb(0x9e)];else{if(_0x1c3a8a[0x0]['language']==_0x1fe2bb(0xa5))var _0x4f64ce=users[_0x1fe2bb(0xa5)];else{if(_0x1c3a8a[0x0]['language']==_0x1fe2bb(0xb0))var _0x4f64ce=users[_0x1fe2bb(0x92)];}}}}}}}_0x4076bc['render'](_0x1fe2bb(0xb1),{'success':_0x2d6513[_0x1fe2bb(0x94)](_0x1fe2bb(0xd0)),'errors':_0x2d6513[_0x1fe2bb(0x94)](_0x1fe2bb(0xb9)),'role':_0x182c9e,'profile':_0x5a1491,'master_shop':_0x1c3a8a,'email':_0xa6ff0f,'language':_0x4f64ce});}catch(_0x1dd9e9){console[_0x1fe2bb(0x8d)](_0x1dd9e9);}}),router[a0_0x35e320(0xb8)](a0_0x35e320(0xaf),auth,async(_0xc63a00,_0x243fbd)=>{const _0x2af3ae=a0_0x35e320;try{const {host:_0x2309c8,port:_0x5e2080,email:_0x50de77,password:_0x5396cd}=_0xc63a00[_0x2af3ae(0x9c)],_0x468ff8=await email_settings[_0x2af3ae(0xcd)]();if(_0x468ff8==null){const _0x3ff804=new email_settings({'host':_0x2309c8,'port':_0x5e2080,'email':_0x50de77,'password':_0x5396cd});await _0x3ff804['save']();}else _0x468ff8['host']=_0x2309c8,_0x468ff8[_0x2af3ae(0x86)]=_0x5e2080,_0x468ff8[_0x2af3ae(0xbe)]=_0x50de77,_0x468ff8[_0x2af3ae(0xce)]=_0x5396cd,await _0x468ff8['save']();_0xc63a00[_0x2af3ae(0x94)]('success',_0x2af3ae(0xab)),_0x243fbd['redirect']('/master_shop/view/email');}catch(_0xd3c71){console[_0x2af3ae(0x8d)](_0xd3c71);}}),router[a0_0x35e320(0x93)](a0_0x35e320(0x90),auth,async(_0x178486,_0x200e55)=>{const _0x40be79=a0_0x35e320;try{const {username:_0x758965,email:_0x2fb509,role:_0x3c9995}=_0x178486[_0x40be79(0x99)],_0x1c917e=_0x178486['user'],_0x5a8950=await supervisor_settings[_0x40be79(0xb3)](),_0x215380=await profile[_0x40be79(0xcd)]({'email':_0x1c917e[_0x40be79(0xbe)]}),_0x12c7c7=await master_shop[_0x40be79(0xb3)](),_0x2371a4=new Date()['toLocaleString'](_0x40be79(0xa9),{'timeZone':_0x12c7c7[0x0][_0x40be79(0xc9)]});if(_0x12c7c7[0x0][_0x40be79(0xc7)]=='English\x20(US)'){var _0x43e0f7=users[_0x40be79(0x9a)];console[_0x40be79(0x8d)](_0x43e0f7);}else{if(_0x12c7c7[0x0]['language']==_0x40be79(0xcc))var _0x43e0f7=users[_0x40be79(0xcc)];else{if(_0x12c7c7[0x0]['language']=='German')var _0x43e0f7=users['German'];else{if(_0x12c7c7[0x0][_0x40be79(0xc7)]==_0x40be79(0xac))var _0x43e0f7=users[_0x40be79(0xac)];else{if(_0x12c7c7[0x0][_0x40be79(0xc7)]==_0x40be79(0xc5))var _0x43e0f7=users[_0x40be79(0xc5)];else{if(_0x12c7c7[0x0][_0x40be79(0xc7)]=='Portuguese\x20(BR)')var _0x43e0f7=users[_0x40be79(0x9e)];else{if(_0x12c7c7[0x0][_0x40be79(0xc7)]==_0x40be79(0xa5))var _0x43e0f7=users[_0x40be79(0xa5)];else{if(_0x12c7c7[0x0][_0x40be79(0xc7)]=='Arabic\x20(ae)')var _0x43e0f7=users[_0x40be79(0x92)];}}}}}}}_0x200e55[_0x40be79(0x8b)](_0x40be79(0xc3),{'success':_0x178486[_0x40be79(0x94)](_0x40be79(0xd0)),'errors':_0x178486['flash'](_0x40be79(0xb9)),'role':_0x1c917e,'profile':_0x215380,'master_shop':_0x12c7c7,'supervisor_data':_0x5a8950[0x0],'timezones':timezones,'language':_0x43e0f7});}catch(_0x370927){console['log'](_0x370927);}}),router[a0_0x35e320(0xb8)](a0_0x35e320(0x90),auth,async(_0x4088a5,_0x51e82e)=>{const _0x2c544a=a0_0x35e320;try{const {rm_name:_0x4d9ea5,fg_name:_0x391bef,rm_email:_0x44f789,fg_email:_0x2a1c7d,rm_mobilenum:_0x2f610f,fg_number:_0x2fb573}=_0x4088a5[_0x2c544a(0x9c)],_0xbaa56a=await supervisor_settings[_0x2c544a(0xcd)]();if(_0xbaa56a==null){const _0x531f78=new supervisor_settings({'RMSName':_0x4d9ea5,'RMSEmail':_0x44f789,'RMSnumber':_0x2f610f,'FGSName':_0x391bef,'FGSEmail':_0x2a1c7d,'FGSnumber':_0x2fb573});await _0x531f78['save']();}else _0xbaa56a[_0x2c544a(0xbb)]=_0x4d9ea5,_0xbaa56a[_0x2c544a(0xbf)]=_0x44f789,_0xbaa56a[_0x2c544a(0xad)]=_0x2f610f,_0xbaa56a[_0x2c544a(0x87)]=_0x391bef,_0xbaa56a[_0x2c544a(0xb7)]=_0x2a1c7d,_0xbaa56a[_0x2c544a(0x85)]=_0x2fb573,await _0xbaa56a[_0x2c544a(0xaa)]();_0x4088a5['flash'](_0x2c544a(0xd0),_0x2c544a(0xab)),_0x51e82e[_0x2c544a(0xbc)](_0x2c544a(0x8f));}catch(_0x4584a8){console['log'](_0x4584a8);}}),module[a0_0x35e320(0xa8)]=router;