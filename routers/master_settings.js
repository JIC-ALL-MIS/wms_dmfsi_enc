const a0_0x401d7f=a0_0x2471;(function(_0x230a9a,_0x3af788){const _0x3830db=a0_0x2471,_0x517238=_0x230a9a();while(!![]){try{const _0xeb88f5=-parseInt(_0x3830db(0xca))/0x1+parseInt(_0x3830db(0xa9))/0x2*(-parseInt(_0x3830db(0xcf))/0x3)+parseInt(_0x3830db(0x9b))/0x4+-parseInt(_0x3830db(0xc1))/0x5*(-parseInt(_0x3830db(0xd4))/0x6)+parseInt(_0x3830db(0xc7))/0x7+parseInt(_0x3830db(0x8e))/0x8+-parseInt(_0x3830db(0xa5))/0x9;if(_0xeb88f5===_0x3af788)break;else _0x517238['push'](_0x517238['shift']());}catch(_0x1ac7cb){_0x517238['push'](_0x517238['shift']());}}}(a0_0x241a,0x47fcd));const express=require(a0_0x401d7f(0xa1)),app=express(),router=express[a0_0x401d7f(0xa3)](),multer=require(a0_0x401d7f(0xb9)),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require(a0_0x401d7f(0xc9));function a0_0x2471(_0x34fb39,_0x2fdb77){const _0x241ae6=a0_0x241a();return a0_0x2471=function(_0x2471be,_0x4814ed){_0x2471be=_0x2471be-0x8c;let _0x4eae37=_0x241ae6[_0x2471be];return _0x4eae37;},a0_0x2471(_0x34fb39,_0x2fdb77);}var timezones=require(a0_0x401d7f(0xb2));const users=require('../public/language/languages.json'),storage=multer['diskStorage']({'destination':(_0x293d3f,_0x3734d0,_0x1e85af)=>{const _0x3c6539=a0_0x401d7f;_0x1e85af(null,_0x3c6539(0xaa));},'filename':(_0x4909f3,_0x3fc484,_0xfc5fcd)=>{const _0x5034e4=a0_0x401d7f;_0xfc5fcd(null,Date[_0x5034e4(0x99)]()+_0x3fc484['originalname']);}}),upload=multer({'storage':storage});function a0_0x241a(){const _0x592d4a=['host','port','Chinese','/master_shop/view','exports','site_title','now','save','950012qYbeCP','master\x20settings\x20email_data','timezone','params','/master_shop/view/email','RMSEmail','express','redirect','Router','FGSnumber','1680003HcAEeB','/view/email/edit_settings','find','en-US','199028oFhWUP','./public/upload','email','/view/email','single','English','Spanish','findOne','/master_shop/view/supervisors','timezones-list','success','RMSName','/view','/view/supervisors','master','master_shop_data','multer','Hindi','French','flash','Portuguese\x20(BR)','German','body','render','5cdAmIT','hidden','post','shop\x20setting\x20edit\x20successfully','currency','user','1243193SbHTYa','image','../middleware/auth','135795CpFvoL','toLocaleString','Arabic\x20(ae)','Portuguese','English\x20(US)','15fNfLmt','FGSEmail','get','RMSnumber','Arabic','3278316PAbfRG','/view/edit_settings','errors','master_settings','filename','email_settings','/:id','1227240asblhx','currency_placement','FGSName','language','log'];a0_0x241a=function(){return _0x592d4a;};return a0_0x241a();}router['get'](a0_0x401d7f(0xb5),auth,async(_0x400785,_0x2bec2e)=>{const _0x12e136=a0_0x401d7f;try{const {username:_0x3e5f76,email:_0x2214cc,role:_0x8cc2a4}=_0x400785[_0x12e136(0xc6)],_0x1cf7b4=_0x400785[_0x12e136(0xc6)],_0x9fe433=await profile[_0x12e136(0xb0)]({'email':_0x1cf7b4[_0x12e136(0xab)]}),_0x46b46e=await master_shop[_0x12e136(0xa7)]();console[_0x12e136(0x92)](_0x12e136(0xb7),_0x46b46e);const _0x5dfc03=new Date()[_0x12e136(0xcb)]('en-US',{'timeZone':_0x46b46e[0x0][_0x12e136(0x9d)]});console[_0x12e136(0x92)](_0x12e136(0x9d),_0x5dfc03);if(_0x46b46e[0x0][_0x12e136(0x91)]==_0x12e136(0xce)){var _0x47fcfb=users['English'];console[_0x12e136(0x92)](_0x47fcfb);}else{if(_0x46b46e[0x0][_0x12e136(0x91)]==_0x12e136(0xba))var _0x47fcfb=users[_0x12e136(0xba)];else{if(_0x46b46e[0x0][_0x12e136(0x91)]==_0x12e136(0xbe))var _0x47fcfb=users[_0x12e136(0xbe)];else{if(_0x46b46e[0x0]['language']=='Spanish')var _0x47fcfb=users['Spanish'];else{if(_0x46b46e[0x0]['language']==_0x12e136(0xbb))var _0x47fcfb=users[_0x12e136(0xbb)];else{if(_0x46b46e[0x0][_0x12e136(0x91)]==_0x12e136(0xbd))var _0x47fcfb=users[_0x12e136(0xcd)];else{if(_0x46b46e[0x0][_0x12e136(0x91)]==_0x12e136(0x95))var _0x47fcfb=users[_0x12e136(0x95)];else{if(_0x46b46e[0x0]['language']==_0x12e136(0xcc))var _0x47fcfb=users[_0x12e136(0xd3)];}}}}}}}_0x2bec2e[_0x12e136(0xc0)](_0x12e136(0xd7),{'success':_0x400785['flash'](_0x12e136(0xb3)),'errors':_0x400785[_0x12e136(0xbc)]('errors'),'role':_0x1cf7b4,'profile':_0x9fe433,'master_shop':_0x46b46e,'timezones':timezones,'language':_0x47fcfb});}catch(_0x44b512){console[_0x12e136(0x92)](_0x44b512);}}),router[a0_0x401d7f(0xd1)](a0_0x401d7f(0x8d),auth,async(_0x335d04,_0x5d8b47)=>{const _0x24fb1b=a0_0x401d7f;try{console[_0x24fb1b(0x92)]('language'),console[_0x24fb1b(0x92)](_0x335d04[_0x24fb1b(0x9e)]['id']);const _0x31253c=await master_shop[_0x24fb1b(0xb0)]();_0x31253c['language']=_0x335d04['params']['id'],await _0x31253c['save'](),console[_0x24fb1b(0x92)](_0x24fb1b(0xb7),_0x31253c);}catch(_0x5186d8){console[_0x24fb1b(0x92)](_0x5186d8);}}),router[a0_0x401d7f(0xc3)](a0_0x401d7f(0xd5),auth,upload[a0_0x401d7f(0xad)](a0_0x401d7f(0xc8)),async(_0x3daf46,_0x292427)=>{const _0x286a90=a0_0x401d7f;try{const {site_title:_0x5f18a7,currency:_0x20779,currency_placement:_0x2b29db,timezone:_0x4b0ce9}=_0x3daf46[_0x286a90(0xbf)];if(_0x3daf46['body'][_0x286a90(0xc2)]==0x0){const _0x3db2fa=await master_shop[_0x286a90(0xb0)]();console[_0x286a90(0x92)](_0x286a90(0xb8),_0x3db2fa);if(_0x3db2fa==''){const _0x209f6a=new master_shop({'site_title':_0x5f18a7,'image':image,'currency':_0x20779,'currency_placement':_0x2b29db,'timezone':_0x4b0ce9}),_0x2252ee=await _0x209f6a['save']();}else _0x3db2fa['site_title']=_0x5f18a7,_0x3db2fa[_0x286a90(0xc5)]=_0x20779,_0x3db2fa[_0x286a90(0x8f)]=_0x2b29db,_0x3db2fa[_0x286a90(0x9d)]=_0x4b0ce9,await _0x3db2fa[_0x286a90(0x9a)]();}else{const _0x429b34=_0x3daf46['file'][_0x286a90(0xd8)],_0x3270f8=await master_shop[_0x286a90(0xb0)]();console[_0x286a90(0x92)]('2nd\x20master_shop_data',_0x3270f8);if(_0x3270f8==null){console[_0x286a90(0x92)]('1',_0x5f18a7);const _0x1041fc=new master_shop({'site_title':_0x5f18a7,'image':_0x429b34,'currency':_0x20779,'currency_placement':_0x2b29db,'timezone':_0x4b0ce9}),_0x264c3b=await _0x1041fc[_0x286a90(0x9a)]();}else console['log']('2',_0x5f18a7),_0x3270f8[_0x286a90(0x98)]=_0x5f18a7,_0x3270f8[_0x286a90(0xc8)]=_0x429b34,_0x3270f8[_0x286a90(0xc5)]=_0x20779,_0x3270f8[_0x286a90(0x8f)]=_0x2b29db,_0x3270f8[_0x286a90(0x9d)]=_0x4b0ce9,await _0x3270f8[_0x286a90(0x9a)]();}_0x3daf46[_0x286a90(0xbc)](_0x286a90(0xb3),'shop\x20setting\x20edit\x20successfully'),_0x292427[_0x286a90(0xa2)](_0x286a90(0x96));}catch(_0x51734a){console[_0x286a90(0x92)](_0x51734a);}}),router[a0_0x401d7f(0xd1)](a0_0x401d7f(0xac),auth,async(_0x5f3591,_0x4239bf)=>{const _0x16918d=a0_0x401d7f;try{const {username:_0x62ccb2,email:_0x3226dc,role:_0x1b2569}=_0x5f3591['user'],_0x3f8c44=_0x5f3591[_0x16918d(0xc6)],_0x2aaa5d=await profile[_0x16918d(0xb0)]({'email':_0x3f8c44[_0x16918d(0xab)]}),_0x19dbbe=await master_shop[_0x16918d(0xa7)]();console['log']('master',_0x19dbbe);const _0x5ceef4=await email_settings[_0x16918d(0xb0)]();console[_0x16918d(0x92)](_0x16918d(0x9c),_0x5ceef4);if(_0x19dbbe[0x0][_0x16918d(0x91)]==_0x16918d(0xce)){var _0x4e06bd=users[_0x16918d(0xae)];console['log'](_0x4e06bd);}else{if(_0x19dbbe[0x0][_0x16918d(0x91)]==_0x16918d(0xba))var _0x4e06bd=users[_0x16918d(0xba)];else{if(_0x19dbbe[0x0]['language']==_0x16918d(0xbe))var _0x4e06bd=users[_0x16918d(0xbe)];else{if(_0x19dbbe[0x0][_0x16918d(0x91)]==_0x16918d(0xaf))var _0x4e06bd=users[_0x16918d(0xaf)];else{if(_0x19dbbe[0x0]['language']==_0x16918d(0xbb))var _0x4e06bd=users['French'];else{if(_0x19dbbe[0x0]['language']==_0x16918d(0xbd))var _0x4e06bd=users[_0x16918d(0xcd)];else{if(_0x19dbbe[0x0][_0x16918d(0x91)]==_0x16918d(0x95))var _0x4e06bd=users['Chinese'];else{if(_0x19dbbe[0x0]['language']==_0x16918d(0xcc))var _0x4e06bd=users[_0x16918d(0xd3)];}}}}}}}_0x4239bf[_0x16918d(0xc0)](_0x16918d(0x8c),{'success':_0x5f3591[_0x16918d(0xbc)]('success'),'errors':_0x5f3591['flash'](_0x16918d(0xd6)),'role':_0x3f8c44,'profile':_0x2aaa5d,'master_shop':_0x19dbbe,'email':_0x5ceef4,'language':_0x4e06bd});}catch(_0x4c3182){console['log'](_0x4c3182);}}),router['post'](a0_0x401d7f(0xa6),auth,async(_0x1ef7fb,_0x4ac9f7)=>{const _0x3c1820=a0_0x401d7f;try{const {host:_0x5c5229,port:_0x66aaeb,email:_0x2d4408,password:_0x29d5ea}=_0x1ef7fb[_0x3c1820(0xbf)],_0x150e3b=await email_settings[_0x3c1820(0xb0)]();if(_0x150e3b==null){const _0x26aae7=new email_settings({'host':_0x5c5229,'port':_0x66aaeb,'email':_0x2d4408,'password':_0x29d5ea});await _0x26aae7[_0x3c1820(0x9a)]();}else _0x150e3b[_0x3c1820(0x93)]=_0x5c5229,_0x150e3b[_0x3c1820(0x94)]=_0x66aaeb,_0x150e3b[_0x3c1820(0xab)]=_0x2d4408,_0x150e3b['password']=_0x29d5ea,await _0x150e3b[_0x3c1820(0x9a)]();_0x1ef7fb['flash']('success',_0x3c1820(0xc4)),_0x4ac9f7[_0x3c1820(0xa2)](_0x3c1820(0x9f));}catch(_0x30f253){console[_0x3c1820(0x92)](_0x30f253);}}),router['get'](a0_0x401d7f(0xb6),auth,async(_0x2ddd7b,_0x1975de)=>{const _0x5bb3c9=a0_0x401d7f;try{const {username:_0x5c90c3,email:_0x2fa3e4,role:_0xee592}=_0x2ddd7b[_0x5bb3c9(0xc6)],_0x5a8fe8=_0x2ddd7b[_0x5bb3c9(0xc6)],_0x160631=await supervisor_settings['find'](),_0x308620=await profile['findOne']({'email':_0x5a8fe8[_0x5bb3c9(0xab)]}),_0x591dbd=await master_shop['find'](),_0x433922=new Date()[_0x5bb3c9(0xcb)](_0x5bb3c9(0xa8),{'timeZone':_0x591dbd[0x0][_0x5bb3c9(0x9d)]});if(_0x591dbd[0x0]['language']==_0x5bb3c9(0xce)){var _0x23124e=users[_0x5bb3c9(0xae)];console[_0x5bb3c9(0x92)](_0x23124e);}else{if(_0x591dbd[0x0]['language']=='Hindi')var _0x23124e=users[_0x5bb3c9(0xba)];else{if(_0x591dbd[0x0][_0x5bb3c9(0x91)]==_0x5bb3c9(0xbe))var _0x23124e=users['German'];else{if(_0x591dbd[0x0][_0x5bb3c9(0x91)]=='Spanish')var _0x23124e=users[_0x5bb3c9(0xaf)];else{if(_0x591dbd[0x0]['language']==_0x5bb3c9(0xbb))var _0x23124e=users[_0x5bb3c9(0xbb)];else{if(_0x591dbd[0x0]['language']=='Portuguese\x20(BR)')var _0x23124e=users[_0x5bb3c9(0xcd)];else{if(_0x591dbd[0x0][_0x5bb3c9(0x91)]=='Chinese')var _0x23124e=users[_0x5bb3c9(0x95)];else{if(_0x591dbd[0x0]['language']==_0x5bb3c9(0xcc))var _0x23124e=users['Arabic'];}}}}}}}_0x1975de['render']('supervisor_settings',{'success':_0x2ddd7b['flash'](_0x5bb3c9(0xb3)),'errors':_0x2ddd7b['flash'](_0x5bb3c9(0xd6)),'role':_0x5a8fe8,'profile':_0x308620,'master_shop':_0x591dbd,'supervisor_data':_0x160631[0x0],'timezones':timezones,'language':_0x23124e});}catch(_0x505e28){console['log'](_0x505e28);}}),router[a0_0x401d7f(0xc3)](a0_0x401d7f(0xb6),auth,async(_0x3b9b31,_0x5000aa)=>{const _0x4e4063=a0_0x401d7f;try{const {rm_name:_0x25006f,fg_name:_0x34b1b9,rm_email:_0x5dc783,fg_email:_0x4afaef,rm_mobilenum:_0x140a8f,fg_number:_0x5ca5dd}=_0x3b9b31[_0x4e4063(0xbf)],_0x3482a2=await supervisor_settings[_0x4e4063(0xb0)]();if(_0x3482a2==null){const _0x3e1051=new supervisor_settings({'RMSName':_0x25006f,'RMSEmail':_0x5dc783,'RMSnumber':_0x140a8f,'FGSName':_0x34b1b9,'FGSEmail':_0x4afaef,'FGSnumber':_0x5ca5dd});await _0x3e1051[_0x4e4063(0x9a)]();}else _0x3482a2[_0x4e4063(0xb4)]=_0x25006f,_0x3482a2[_0x4e4063(0xa0)]=_0x5dc783,_0x3482a2[_0x4e4063(0xd2)]=_0x140a8f,_0x3482a2[_0x4e4063(0x90)]=_0x34b1b9,_0x3482a2[_0x4e4063(0xd0)]=_0x4afaef,_0x3482a2[_0x4e4063(0xa4)]=_0x5ca5dd,await _0x3482a2[_0x4e4063(0x9a)]();_0x3b9b31[_0x4e4063(0xbc)](_0x4e4063(0xb3),_0x4e4063(0xc4)),_0x5000aa[_0x4e4063(0xa2)](_0x4e4063(0xb1));}catch(_0x43db2d){console['log'](_0x43db2d);}}),module[a0_0x401d7f(0x97)]=router;