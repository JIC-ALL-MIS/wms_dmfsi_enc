const a0_0x51a92d=a0_0x5db7;function a0_0x3837(){const _0xeb7477=['/view/supervisors','Chinese','../public/language/languages.json','/view/email/edit_settings','get','exports','body','master','log','259864FLgeuZ','errors','flash','supervisor_settings','/master_shop/view','redirect','/view','182nvTvoi','English\x20(US)','file','express','shop\x20setting\x20edit\x20successfully','/view/edit_settings','French','67112YdLXYV','params','findOne','755315yXjLjn','en-US','multer','German','4185056lCjkWI','RMSEmail','find','FGSnumber','language','master_settings','Portuguese','currency_placement','10HiINuv','Arabic\x20(ae)','72GtKhcj','Arabic','email_settings','/:id','../models/all_models','currency','/master_shop/view/supervisors','316179dzZNio','toLocaleString','2nd\x20master_shop_data','render','originalname','25425621OOsumj','Portuguese\x20(BR)','diskStorage','Router','success','site_title','Spanish','Hindi','/view/email','image','RMSName','post','user','email','save','288250VeQjsf','timezone','English','host'];a0_0x3837=function(){return _0xeb7477;};return a0_0x3837();}(function(_0x546f68,_0x5c8973){const _0x2c14a4=a0_0x5db7,_0x401af4=_0x546f68();while(!![]){try{const _0x4fd3c0=-parseInt(_0x2c14a4(0x16f))/0x1+parseInt(_0x2c14a4(0x15e))/0x2+parseInt(_0x2c14a4(0x184))/0x3+-parseInt(_0x2c14a4(0x173))/0x4+parseInt(_0x2c14a4(0x198))/0x5*(-parseInt(_0x2c14a4(0x17d))/0x6)+parseInt(_0x2c14a4(0x165))/0x7*(parseInt(_0x2c14a4(0x16c))/0x8)+-parseInt(_0x2c14a4(0x189))/0x9*(-parseInt(_0x2c14a4(0x17b))/0xa);if(_0x4fd3c0===_0x5c8973)break;else _0x401af4['push'](_0x401af4['shift']());}catch(_0x556067){_0x401af4['push'](_0x401af4['shift']());}}}(a0_0x3837,0xbfae9));const express=require(a0_0x51a92d(0x168)),app=express(),router=express[a0_0x51a92d(0x18c)](),multer=require(a0_0x51a92d(0x171)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x51a92d(0x181)),auth=require('../middleware/auth');var timezones=require('timezones-list');function a0_0x5db7(_0x2ea6af,_0x3da0f5){const _0x3837ee=a0_0x3837();return a0_0x5db7=function(_0x5db7eb,_0x1db58f){_0x5db7eb=_0x5db7eb-0x15d;let _0x3a34a4=_0x3837ee[_0x5db7eb];return _0x3a34a4;},a0_0x5db7(_0x2ea6af,_0x3da0f5);}const users=require(a0_0x51a92d(0x19e)),storage=multer[a0_0x51a92d(0x18b)]({'destination':(_0x2cd986,_0x5ed291,_0x4a8ea6)=>{_0x4a8ea6(null,'./public/upload');},'filename':(_0x20aab6,_0x2f33f2,_0x486413)=>{const _0xf7943c=a0_0x51a92d;_0x486413(null,Date['now']()+_0x2f33f2[_0xf7943c(0x188)]);}}),upload=multer({'storage':storage});router[a0_0x51a92d(0x1a0)](a0_0x51a92d(0x164),auth,async(_0x2b4ca7,_0x3d2b7b)=>{const _0x326369=a0_0x51a92d;try{const {username:_0x148545,email:_0x15aae6,role:_0x5c7eda}=_0x2b4ca7[_0x326369(0x195)],_0x3ca2d0=_0x2b4ca7[_0x326369(0x195)],_0x2fa71d=await profile[_0x326369(0x16e)]({'email':_0x3ca2d0[_0x326369(0x196)]}),_0x4686dc=await master_shop[_0x326369(0x175)]();console[_0x326369(0x15d)]('master',_0x4686dc);const _0x32988d=new Date()[_0x326369(0x185)](_0x326369(0x170),{'timeZone':_0x4686dc[0x0][_0x326369(0x199)]});console[_0x326369(0x15d)](_0x326369(0x199),_0x32988d);if(_0x4686dc[0x0][_0x326369(0x177)]==_0x326369(0x166)){var _0xe01430=users[_0x326369(0x19a)];console[_0x326369(0x15d)](_0xe01430);}else{if(_0x4686dc[0x0][_0x326369(0x177)]==_0x326369(0x190))var _0xe01430=users[_0x326369(0x190)];else{if(_0x4686dc[0x0]['language']=='German')var _0xe01430=users[_0x326369(0x172)];else{if(_0x4686dc[0x0][_0x326369(0x177)]=='Spanish')var _0xe01430=users[_0x326369(0x18f)];else{if(_0x4686dc[0x0][_0x326369(0x177)]==_0x326369(0x16b))var _0xe01430=users[_0x326369(0x16b)];else{if(_0x4686dc[0x0]['language']=='Portuguese\x20(BR)')var _0xe01430=users[_0x326369(0x179)];else{if(_0x4686dc[0x0]['language']==_0x326369(0x19d))var _0xe01430=users[_0x326369(0x19d)];else{if(_0x4686dc[0x0][_0x326369(0x177)]==_0x326369(0x17c))var _0xe01430=users['Arabic'];}}}}}}}_0x3d2b7b[_0x326369(0x187)](_0x326369(0x178),{'success':_0x2b4ca7[_0x326369(0x160)](_0x326369(0x18d)),'errors':_0x2b4ca7[_0x326369(0x160)](_0x326369(0x15f)),'role':_0x3ca2d0,'profile':_0x2fa71d,'master_shop':_0x4686dc,'timezones':timezones,'language':_0xe01430});}catch(_0x5de2f7){console[_0x326369(0x15d)](_0x5de2f7);}}),router[a0_0x51a92d(0x1a0)](a0_0x51a92d(0x180),auth,async(_0x37f466,_0x34820d)=>{const _0xe4d382=a0_0x51a92d;try{console[_0xe4d382(0x15d)](_0xe4d382(0x177)),console[_0xe4d382(0x15d)](_0x37f466[_0xe4d382(0x16d)]['id']);const _0x596c5f=await master_shop[_0xe4d382(0x16e)]();_0x596c5f[_0xe4d382(0x177)]=_0x37f466[_0xe4d382(0x16d)]['id'],await _0x596c5f[_0xe4d382(0x197)](),console['log'](_0xe4d382(0x1a3),_0x596c5f);}catch(_0x259b49){console[_0xe4d382(0x15d)](_0x259b49);}}),router[a0_0x51a92d(0x194)](a0_0x51a92d(0x16a),auth,upload['single'](a0_0x51a92d(0x192)),async(_0x36085d,_0x14e63b)=>{const _0x4f2dbe=a0_0x51a92d;try{const {site_title:_0x1a9211,currency:_0x709e0e,currency_placement:_0x3d788c,timezone:_0x108474}=_0x36085d['body'];if(_0x36085d[_0x4f2dbe(0x1a2)]['hidden']==0x0){const _0x4e8af3=await master_shop[_0x4f2dbe(0x16e)]();console['log']('master_shop_data',_0x4e8af3);if(_0x4e8af3==''){const _0x1b23ff=new master_shop({'site_title':_0x1a9211,'image':image,'currency':_0x709e0e,'currency_placement':_0x3d788c,'timezone':_0x108474}),_0x4c7a9c=await _0x1b23ff[_0x4f2dbe(0x197)]();}else _0x4e8af3[_0x4f2dbe(0x18e)]=_0x1a9211,_0x4e8af3[_0x4f2dbe(0x182)]=_0x709e0e,_0x4e8af3[_0x4f2dbe(0x17a)]=_0x3d788c,_0x4e8af3['timezone']=_0x108474,await _0x4e8af3[_0x4f2dbe(0x197)]();}else{const _0x5d0189=_0x36085d[_0x4f2dbe(0x167)]['filename'],_0x5cbda2=await master_shop[_0x4f2dbe(0x16e)]();console[_0x4f2dbe(0x15d)](_0x4f2dbe(0x186),_0x5cbda2);if(_0x5cbda2==null){console['log']('1',_0x1a9211);const _0xa8dfe5=new master_shop({'site_title':_0x1a9211,'image':_0x5d0189,'currency':_0x709e0e,'currency_placement':_0x3d788c,'timezone':_0x108474}),_0x2de210=await _0xa8dfe5['save']();}else console[_0x4f2dbe(0x15d)]('2',_0x1a9211),_0x5cbda2[_0x4f2dbe(0x18e)]=_0x1a9211,_0x5cbda2[_0x4f2dbe(0x192)]=_0x5d0189,_0x5cbda2[_0x4f2dbe(0x182)]=_0x709e0e,_0x5cbda2[_0x4f2dbe(0x17a)]=_0x3d788c,_0x5cbda2[_0x4f2dbe(0x199)]=_0x108474,await _0x5cbda2['save']();}_0x36085d[_0x4f2dbe(0x160)](_0x4f2dbe(0x18d),'shop\x20setting\x20edit\x20successfully'),_0x14e63b[_0x4f2dbe(0x163)](_0x4f2dbe(0x162));}catch(_0x24ca70){console[_0x4f2dbe(0x15d)](_0x24ca70);}}),router['get'](a0_0x51a92d(0x191),auth,async(_0x291fe5,_0x5742cb)=>{const _0x554e33=a0_0x51a92d;try{const {username:_0x4e881d,email:_0x597caa,role:_0x119bab}=_0x291fe5[_0x554e33(0x195)],_0x2c1573=_0x291fe5[_0x554e33(0x195)],_0x539d53=await profile[_0x554e33(0x16e)]({'email':_0x2c1573[_0x554e33(0x196)]}),_0xa0db41=await master_shop[_0x554e33(0x175)]();console[_0x554e33(0x15d)](_0x554e33(0x1a3),_0xa0db41);const _0x32b6db=await email_settings['findOne']();console[_0x554e33(0x15d)]('master\x20settings\x20email_data',_0x32b6db);if(_0xa0db41[0x0][_0x554e33(0x177)]==_0x554e33(0x166)){var _0x56b253=users[_0x554e33(0x19a)];console[_0x554e33(0x15d)](_0x56b253);}else{if(_0xa0db41[0x0][_0x554e33(0x177)]==_0x554e33(0x190))var _0x56b253=users[_0x554e33(0x190)];else{if(_0xa0db41[0x0][_0x554e33(0x177)]==_0x554e33(0x172))var _0x56b253=users['German'];else{if(_0xa0db41[0x0]['language']=='Spanish')var _0x56b253=users[_0x554e33(0x18f)];else{if(_0xa0db41[0x0]['language']==_0x554e33(0x16b))var _0x56b253=users[_0x554e33(0x16b)];else{if(_0xa0db41[0x0][_0x554e33(0x177)]==_0x554e33(0x18a))var _0x56b253=users[_0x554e33(0x179)];else{if(_0xa0db41[0x0][_0x554e33(0x177)]==_0x554e33(0x19d))var _0x56b253=users[_0x554e33(0x19d)];else{if(_0xa0db41[0x0][_0x554e33(0x177)]==_0x554e33(0x17c))var _0x56b253=users[_0x554e33(0x17e)];}}}}}}}_0x5742cb[_0x554e33(0x187)](_0x554e33(0x17f),{'success':_0x291fe5[_0x554e33(0x160)](_0x554e33(0x18d)),'errors':_0x291fe5[_0x554e33(0x160)](_0x554e33(0x15f)),'role':_0x2c1573,'profile':_0x539d53,'master_shop':_0xa0db41,'email':_0x32b6db,'language':_0x56b253});}catch(_0x454ea2){console[_0x554e33(0x15d)](_0x454ea2);}}),router[a0_0x51a92d(0x194)](a0_0x51a92d(0x19f),auth,async(_0x42aabe,_0x2ef075)=>{const _0x594627=a0_0x51a92d;try{const {host:_0x46df37,port:_0x59c14a,email:_0x48040f,password:_0x2b3764}=_0x42aabe[_0x594627(0x1a2)],_0x4bc24a=await email_settings['findOne']();if(_0x4bc24a==null){const _0x51d9b1=new email_settings({'host':_0x46df37,'port':_0x59c14a,'email':_0x48040f,'password':_0x2b3764});await _0x51d9b1['save']();}else _0x4bc24a[_0x594627(0x19b)]=_0x46df37,_0x4bc24a['port']=_0x59c14a,_0x4bc24a[_0x594627(0x196)]=_0x48040f,_0x4bc24a['password']=_0x2b3764,await _0x4bc24a[_0x594627(0x197)]();_0x42aabe[_0x594627(0x160)](_0x594627(0x18d),_0x594627(0x169)),_0x2ef075[_0x594627(0x163)]('/master_shop/view/email');}catch(_0x4abb7a){console[_0x594627(0x15d)](_0x4abb7a);}}),router['get'](a0_0x51a92d(0x19c),auth,async(_0x27eccc,_0x5c425a)=>{const _0x2b7f8b=a0_0x51a92d;try{const {username:_0x51ca9a,email:_0x508ba3,role:_0x33088a}=_0x27eccc[_0x2b7f8b(0x195)],_0x3b9bfe=_0x27eccc[_0x2b7f8b(0x195)],_0x5e2280=await supervisor_settings['find'](),_0x2031fc=await profile['findOne']({'email':_0x3b9bfe[_0x2b7f8b(0x196)]}),_0x217021=await master_shop[_0x2b7f8b(0x175)](),_0x128bcd=new Date()[_0x2b7f8b(0x185)]('en-US',{'timeZone':_0x217021[0x0]['timezone']});if(_0x217021[0x0][_0x2b7f8b(0x177)]==_0x2b7f8b(0x166)){var _0x326055=users[_0x2b7f8b(0x19a)];console[_0x2b7f8b(0x15d)](_0x326055);}else{if(_0x217021[0x0][_0x2b7f8b(0x177)]==_0x2b7f8b(0x190))var _0x326055=users[_0x2b7f8b(0x190)];else{if(_0x217021[0x0][_0x2b7f8b(0x177)]==_0x2b7f8b(0x172))var _0x326055=users[_0x2b7f8b(0x172)];else{if(_0x217021[0x0][_0x2b7f8b(0x177)]==_0x2b7f8b(0x18f))var _0x326055=users[_0x2b7f8b(0x18f)];else{if(_0x217021[0x0][_0x2b7f8b(0x177)]==_0x2b7f8b(0x16b))var _0x326055=users[_0x2b7f8b(0x16b)];else{if(_0x217021[0x0][_0x2b7f8b(0x177)]=='Portuguese\x20(BR)')var _0x326055=users['Portuguese'];else{if(_0x217021[0x0]['language']==_0x2b7f8b(0x19d))var _0x326055=users[_0x2b7f8b(0x19d)];else{if(_0x217021[0x0][_0x2b7f8b(0x177)]==_0x2b7f8b(0x17c))var _0x326055=users['Arabic'];}}}}}}}_0x5c425a[_0x2b7f8b(0x187)](_0x2b7f8b(0x161),{'success':_0x27eccc[_0x2b7f8b(0x160)](_0x2b7f8b(0x18d)),'errors':_0x27eccc[_0x2b7f8b(0x160)]('errors'),'role':_0x3b9bfe,'profile':_0x2031fc,'master_shop':_0x217021,'supervisor_data':_0x5e2280[0x0],'timezones':timezones,'language':_0x326055});}catch(_0x2b73ba){console[_0x2b7f8b(0x15d)](_0x2b73ba);}}),router[a0_0x51a92d(0x194)](a0_0x51a92d(0x19c),auth,async(_0x2ed0b7,_0x3bcd31)=>{const _0x4504bb=a0_0x51a92d;try{const {rm_name:_0x97189e,fg_name:_0x4b9ea8,rm_email:_0x2fa223,fg_email:_0x29193f,rm_mobilenum:_0xb0bce6,fg_number:_0x369aff}=_0x2ed0b7[_0x4504bb(0x1a2)],_0x2360cc=await supervisor_settings[_0x4504bb(0x16e)]();if(_0x2360cc==null){const _0x2d0f70=new supervisor_settings({'RMSName':_0x97189e,'RMSEmail':_0x2fa223,'RMSnumber':_0xb0bce6,'FGSName':_0x4b9ea8,'FGSEmail':_0x29193f,'FGSnumber':_0x369aff});await _0x2d0f70[_0x4504bb(0x197)]();}else _0x2360cc[_0x4504bb(0x193)]=_0x97189e,_0x2360cc[_0x4504bb(0x174)]=_0x2fa223,_0x2360cc['RMSnumber']=_0xb0bce6,_0x2360cc['FGSName']=_0x4b9ea8,_0x2360cc['FGSEmail']=_0x29193f,_0x2360cc[_0x4504bb(0x176)]=_0x369aff,await _0x2360cc['save']();_0x2ed0b7[_0x4504bb(0x160)](_0x4504bb(0x18d),_0x4504bb(0x169)),_0x3bcd31['redirect'](_0x4504bb(0x183));}catch(_0x442c5c){console[_0x4504bb(0x15d)](_0x442c5c);}}),module[a0_0x51a92d(0x1a1)]=router;