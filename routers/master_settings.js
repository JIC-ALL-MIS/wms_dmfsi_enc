const a0_0x45e91f=a0_0x49a0;(function(_0x55fa1c,_0x1da174){const _0x559f1d=a0_0x49a0,_0x319be0=_0x55fa1c();while(!![]){try{const _0x35831d=parseInt(_0x559f1d(0x15d))/0x1*(parseInt(_0x559f1d(0x141))/0x2)+parseInt(_0x559f1d(0x15b))/0x3+parseInt(_0x559f1d(0x14e))/0x4+-parseInt(_0x559f1d(0x174))/0x5+parseInt(_0x559f1d(0x143))/0x6+parseInt(_0x559f1d(0x175))/0x7*(-parseInt(_0x559f1d(0x15e))/0x8)+-parseInt(_0x559f1d(0x139))/0x9*(parseInt(_0x559f1d(0x16b))/0xa);if(_0x35831d===_0x1da174)break;else _0x319be0['push'](_0x319be0['shift']());}catch(_0x430676){_0x319be0['push'](_0x319be0['shift']());}}}(a0_0x2426,0x98cc0));const express=require(a0_0x45e91f(0x163)),app=express(),router=express['Router'](),multer=require(a0_0x45e91f(0x137)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x45e91f(0x152)),auth=require(a0_0x45e91f(0x17d));var timezones=require('timezones-list');const users=require(a0_0x45e91f(0x14c)),storage=multer[a0_0x45e91f(0x169)]({'destination':(_0x45989a,_0x1a9f72,_0x31015b)=>{const _0x1c8962=a0_0x45e91f;_0x31015b(null,_0x1c8962(0x14d));},'filename':(_0x3f49b8,_0x2a3651,_0x3d2dd1)=>{const _0xa4bf0c=a0_0x45e91f;_0x3d2dd1(null,Date['now']()+_0x2a3651[_0xa4bf0c(0x162)]);}}),upload=multer({'storage':storage});function a0_0x49a0(_0x28a0f6,_0x31f94a){const _0x242601=a0_0x2426();return a0_0x49a0=function(_0x49a041,_0xdc6a96){_0x49a041=_0x49a041-0x134;let _0x9cb059=_0x242601[_0x49a041];return _0x9cb059;},a0_0x49a0(_0x28a0f6,_0x31f94a);}router[a0_0x45e91f(0x158)](a0_0x45e91f(0x151),auth,async(_0x555f01,_0x567cc6)=>{const _0x289c1a=a0_0x45e91f;try{const {username:_0x4b8f84,email:_0x24f5f1,role:_0x58fd63}=_0x555f01[_0x289c1a(0x145)],_0x1d8eeb=_0x555f01[_0x289c1a(0x145)],_0x2bff8f=await profile['findOne']({'email':_0x1d8eeb[_0x289c1a(0x13b)]}),_0x138861=await master_shop['find']();console[_0x289c1a(0x13f)](_0x289c1a(0x159),_0x138861);const _0x2be39d=new Date()[_0x289c1a(0x17f)]('en-US',{'timeZone':_0x138861[0x0][_0x289c1a(0x160)]});console['log'](_0x289c1a(0x160),_0x2be39d);if(_0x138861[0x0][_0x289c1a(0x17c)]==_0x289c1a(0x16e)){var _0x2a4b2b=users[_0x289c1a(0x144)];console[_0x289c1a(0x13f)](_0x2a4b2b);}else{if(_0x138861[0x0][_0x289c1a(0x17c)]==_0x289c1a(0x13d))var _0x2a4b2b=users[_0x289c1a(0x13d)];else{if(_0x138861[0x0]['language']==_0x289c1a(0x142))var _0x2a4b2b=users[_0x289c1a(0x142)];else{if(_0x138861[0x0][_0x289c1a(0x17c)]==_0x289c1a(0x134))var _0x2a4b2b=users[_0x289c1a(0x134)];else{if(_0x138861[0x0][_0x289c1a(0x17c)]=='French')var _0x2a4b2b=users[_0x289c1a(0x14f)];else{if(_0x138861[0x0]['language']==_0x289c1a(0x13c))var _0x2a4b2b=users[_0x289c1a(0x136)];else{if(_0x138861[0x0][_0x289c1a(0x17c)]==_0x289c1a(0x16d))var _0x2a4b2b=users['Chinese'];else{if(_0x138861[0x0][_0x289c1a(0x17c)]==_0x289c1a(0x178))var _0x2a4b2b=users['Arabic'];}}}}}}}_0x567cc6[_0x289c1a(0x165)](_0x289c1a(0x15c),{'success':_0x555f01[_0x289c1a(0x135)](_0x289c1a(0x171)),'errors':_0x555f01[_0x289c1a(0x135)](_0x289c1a(0x17e)),'role':_0x1d8eeb,'profile':_0x2bff8f,'master_shop':_0x138861,'timezones':timezones,'language':_0x2a4b2b});}catch(_0x5bd3e3){console[_0x289c1a(0x13f)](_0x5bd3e3);}}),router[a0_0x45e91f(0x158)](a0_0x45e91f(0x176),auth,async(_0x5d8c25,_0x199e0f)=>{const _0x515b98=a0_0x45e91f;try{console[_0x515b98(0x13f)](_0x515b98(0x17c)),console[_0x515b98(0x13f)](_0x5d8c25[_0x515b98(0x14a)]['id']);const _0x2b17de=await master_shop['findOne']();_0x2b17de[_0x515b98(0x17c)]=_0x5d8c25[_0x515b98(0x14a)]['id'],await _0x2b17de[_0x515b98(0x14b)](),console['log'](_0x515b98(0x159),_0x2b17de);}catch(_0x3051a2){console[_0x515b98(0x13f)](_0x3051a2);}}),router[a0_0x45e91f(0x150)](a0_0x45e91f(0x138),auth,upload[a0_0x45e91f(0x154)](a0_0x45e91f(0x157)),async(_0x2482d5,_0x325e25)=>{const _0x4bab05=a0_0x45e91f;try{const {site_title:_0x470f78,currency:_0x3bf46d,currency_placement:_0x2eef30,timezone:_0x5c28d6}=_0x2482d5[_0x4bab05(0x17a)];if(_0x2482d5['body'][_0x4bab05(0x140)]==0x0){const _0x245b74=await master_shop[_0x4bab05(0x161)]();console[_0x4bab05(0x13f)](_0x4bab05(0x15a),_0x245b74);if(_0x245b74==''){const _0x201735=new master_shop({'site_title':_0x470f78,'image':image,'currency':_0x3bf46d,'currency_placement':_0x2eef30,'timezone':_0x5c28d6}),_0x1b2553=await _0x201735[_0x4bab05(0x14b)]();}else _0x245b74[_0x4bab05(0x13a)]=_0x470f78,_0x245b74[_0x4bab05(0x16c)]=_0x3bf46d,_0x245b74[_0x4bab05(0x155)]=_0x2eef30,_0x245b74[_0x4bab05(0x160)]=_0x5c28d6,await _0x245b74['save']();}else{const _0xb22ad4=_0x2482d5['file'][_0x4bab05(0x15f)],_0x474f6e=await master_shop[_0x4bab05(0x161)]();console['log'](_0x4bab05(0x149),_0x474f6e);if(_0x474f6e==null){console[_0x4bab05(0x13f)]('1',_0x470f78);const _0x8b3d72=new master_shop({'site_title':_0x470f78,'image':_0xb22ad4,'currency':_0x3bf46d,'currency_placement':_0x2eef30,'timezone':_0x5c28d6}),_0x2502a2=await _0x8b3d72[_0x4bab05(0x14b)]();}else console[_0x4bab05(0x13f)]('2',_0x470f78),_0x474f6e[_0x4bab05(0x13a)]=_0x470f78,_0x474f6e[_0x4bab05(0x157)]=_0xb22ad4,_0x474f6e['currency']=_0x3bf46d,_0x474f6e[_0x4bab05(0x155)]=_0x2eef30,_0x474f6e[_0x4bab05(0x160)]=_0x5c28d6,await _0x474f6e['save']();}_0x2482d5[_0x4bab05(0x135)](_0x4bab05(0x171),_0x4bab05(0x153)),_0x325e25[_0x4bab05(0x16a)]('/master_shop/view');}catch(_0x24e849){console[_0x4bab05(0x13f)](_0x24e849);}}),router['get']('/view/email',auth,async(_0x5afc7d,_0x267347)=>{const _0x507a70=a0_0x45e91f;try{const {username:_0x1eb054,email:_0x28d115,role:_0x4a125e}=_0x5afc7d['user'],_0x5e8708=_0x5afc7d['user'],_0x12a965=await profile[_0x507a70(0x161)]({'email':_0x5e8708['email']}),_0x1d53ce=await master_shop['find']();console['log']('master',_0x1d53ce);const _0x31f444=await email_settings['findOne']();console['log'](_0x507a70(0x148),_0x31f444);if(_0x1d53ce[0x0][_0x507a70(0x17c)]==_0x507a70(0x16e)){var _0x3bd2dd=users['English'];console[_0x507a70(0x13f)](_0x3bd2dd);}else{if(_0x1d53ce[0x0][_0x507a70(0x17c)]=='Hindi')var _0x3bd2dd=users['Hindi'];else{if(_0x1d53ce[0x0][_0x507a70(0x17c)]==_0x507a70(0x142))var _0x3bd2dd=users[_0x507a70(0x142)];else{if(_0x1d53ce[0x0]['language']==_0x507a70(0x134))var _0x3bd2dd=users[_0x507a70(0x134)];else{if(_0x1d53ce[0x0][_0x507a70(0x17c)]==_0x507a70(0x14f))var _0x3bd2dd=users[_0x507a70(0x14f)];else{if(_0x1d53ce[0x0][_0x507a70(0x17c)]==_0x507a70(0x13c))var _0x3bd2dd=users[_0x507a70(0x136)];else{if(_0x1d53ce[0x0][_0x507a70(0x17c)]==_0x507a70(0x16d))var _0x3bd2dd=users['Chinese'];else{if(_0x1d53ce[0x0][_0x507a70(0x17c)]=='Arabic\x20(ae)')var _0x3bd2dd=users[_0x507a70(0x156)];}}}}}}}_0x267347[_0x507a70(0x165)]('email_settings',{'success':_0x5afc7d[_0x507a70(0x135)](_0x507a70(0x171)),'errors':_0x5afc7d[_0x507a70(0x135)]('errors'),'role':_0x5e8708,'profile':_0x12a965,'master_shop':_0x1d53ce,'email':_0x31f444,'language':_0x3bd2dd});}catch(_0x5ebc8a){console[_0x507a70(0x13f)](_0x5ebc8a);}}),router[a0_0x45e91f(0x150)](a0_0x45e91f(0x146),auth,async(_0x5a70b7,_0xc20b0b)=>{const _0x53897c=a0_0x45e91f;try{const {host:_0x41abbe,port:_0x443cc4,email:_0x34a6f0,password:_0x2637c1}=_0x5a70b7[_0x53897c(0x17a)],_0x2d1092=await email_settings[_0x53897c(0x161)]();if(_0x2d1092==null){const _0x1a8654=new email_settings({'host':_0x41abbe,'port':_0x443cc4,'email':_0x34a6f0,'password':_0x2637c1});await _0x1a8654['save']();}else _0x2d1092[_0x53897c(0x16f)]=_0x41abbe,_0x2d1092[_0x53897c(0x17b)]=_0x443cc4,_0x2d1092[_0x53897c(0x13b)]=_0x34a6f0,_0x2d1092[_0x53897c(0x166)]=_0x2637c1,await _0x2d1092['save']();_0x5a70b7[_0x53897c(0x135)](_0x53897c(0x171),_0x53897c(0x153)),_0xc20b0b[_0x53897c(0x16a)](_0x53897c(0x179));}catch(_0x5c2904){console[_0x53897c(0x13f)](_0x5c2904);}}),router[a0_0x45e91f(0x158)]('/view/supervisors',auth,async(_0x488fb0,_0x5bb806)=>{const _0x529199=a0_0x45e91f;try{const {username:_0x22803e,email:_0x4f82ea,role:_0x28e424}=_0x488fb0[_0x529199(0x145)],_0xdb4623=_0x488fb0[_0x529199(0x145)],_0x4472ad=await supervisor_settings[_0x529199(0x167)](),_0x23483f=await profile[_0x529199(0x161)]({'email':_0xdb4623[_0x529199(0x13b)]}),_0x3d9ad0=await master_shop['find'](),_0x46c6e7=new Date()[_0x529199(0x17f)](_0x529199(0x164),{'timeZone':_0x3d9ad0[0x0][_0x529199(0x160)]});if(_0x3d9ad0[0x0][_0x529199(0x17c)]==_0x529199(0x16e)){var _0x12bbc5=users[_0x529199(0x144)];console['log'](_0x12bbc5);}else{if(_0x3d9ad0[0x0]['language']==_0x529199(0x13d))var _0x12bbc5=users[_0x529199(0x13d)];else{if(_0x3d9ad0[0x0][_0x529199(0x17c)]==_0x529199(0x142))var _0x12bbc5=users[_0x529199(0x142)];else{if(_0x3d9ad0[0x0][_0x529199(0x17c)]=='Spanish')var _0x12bbc5=users[_0x529199(0x134)];else{if(_0x3d9ad0[0x0]['language']==_0x529199(0x14f))var _0x12bbc5=users['French'];else{if(_0x3d9ad0[0x0][_0x529199(0x17c)]==_0x529199(0x13c))var _0x12bbc5=users[_0x529199(0x136)];else{if(_0x3d9ad0[0x0][_0x529199(0x17c)]==_0x529199(0x16d))var _0x12bbc5=users['Chinese'];else{if(_0x3d9ad0[0x0]['language']==_0x529199(0x178))var _0x12bbc5=users[_0x529199(0x156)];}}}}}}}_0x5bb806[_0x529199(0x165)](_0x529199(0x170),{'success':_0x488fb0[_0x529199(0x135)]('success'),'errors':_0x488fb0[_0x529199(0x135)](_0x529199(0x17e)),'role':_0xdb4623,'profile':_0x23483f,'master_shop':_0x3d9ad0,'supervisor_data':_0x4472ad[0x0],'timezones':timezones,'language':_0x12bbc5});}catch(_0x537672){console[_0x529199(0x13f)](_0x537672);}}),router[a0_0x45e91f(0x150)](a0_0x45e91f(0x13e),auth,async(_0x315eba,_0x60fb0e)=>{const _0x4d48ac=a0_0x45e91f;try{const {rm_name:_0x1a8e03,fg_name:_0x589c69,rm_email:_0x284086,fg_email:_0x53d0ac,rm_mobilenum:_0x5ccce5,fg_number:_0x5e898d}=_0x315eba[_0x4d48ac(0x17a)],_0x449990=await supervisor_settings[_0x4d48ac(0x161)]();if(_0x449990==null){const _0x249b48=new supervisor_settings({'RMSName':_0x1a8e03,'RMSEmail':_0x284086,'RMSnumber':_0x5ccce5,'FGSName':_0x589c69,'FGSEmail':_0x53d0ac,'FGSnumber':_0x5e898d});await _0x249b48[_0x4d48ac(0x14b)]();}else _0x449990[_0x4d48ac(0x172)]=_0x1a8e03,_0x449990['RMSEmail']=_0x284086,_0x449990[_0x4d48ac(0x173)]=_0x5ccce5,_0x449990[_0x4d48ac(0x147)]=_0x589c69,_0x449990['FGSEmail']=_0x53d0ac,_0x449990['FGSnumber']=_0x5e898d,await _0x449990[_0x4d48ac(0x14b)]();_0x315eba[_0x4d48ac(0x135)](_0x4d48ac(0x171),_0x4d48ac(0x153)),_0x60fb0e['redirect'](_0x4d48ac(0x177));}catch(_0x4b5bc1){console[_0x4d48ac(0x13f)](_0x4b5bc1);}}),module[a0_0x45e91f(0x168)]=router;function a0_0x2426(){const _0x94c6cf=['French','post','/view','../models/all_models','shop\x20setting\x20edit\x20successfully','single','currency_placement','Arabic','image','get','master','master_shop_data','3119292mtjZSA','master_settings','1KNzZMI','3624HnViBF','filename','timezone','findOne','originalname','express','en-US','render','password','find','exports','diskStorage','redirect','10AObUYI','currency','Chinese','English\x20(US)','host','supervisor_settings','success','RMSName','RMSnumber','4284500HMJHcp','10549mfDXho','/:id','/master_shop/view/supervisors','Arabic\x20(ae)','/master_shop/view/email','body','port','language','../middleware/auth','errors','toLocaleString','Spanish','flash','Portuguese','multer','/view/edit_settings','11207610kIEFca','site_title','email','Portuguese\x20(BR)','Hindi','/view/supervisors','log','hidden','89066kQcmhV','German','7149306ImOfAc','English','user','/view/email/edit_settings','FGSName','master\x20settings\x20email_data','2nd\x20master_shop_data','params','save','../public/language/languages.json','./public/upload','4539476sZyOou'];a0_0x2426=function(){return _0x94c6cf;};return a0_0x2426();}