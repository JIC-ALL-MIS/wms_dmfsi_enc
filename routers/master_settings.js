function a0_0x21a9(){const _0x4ca3dd=['single','Spanish','../middleware/auth','/view/email','Portuguese','findOne','redirect','params','diskStorage','2230170BwJBXq','toLocaleString','save','7yyxiCh','find','FGSnumber','errors','site_title','177zIacZv','FGSEmail','/master_shop/view/email','RMSName','/view/supervisors','FGSName','RMSEmail','originalname','timezone','language','supervisor_settings','Chinese','master','../public/language/languages.json','1738530dbXgwl','express','2764795yXToNb','Portuguese\x20(BR)','exports','shop\x20setting\x20edit\x20successfully','render','German','host','English\x20(US)','filename','timezones-list','22732RmoJoO','hidden','13428lPGUWq','get','success','8767644kfrhgz','currency','log','file','Hindi','736gMEzCr','English','email_settings','/master_shop/view','en-US','user','multer','currency_placement','2223476xiCNTh','now','post','body','./public/upload','image','2nd\x20master_shop_data','Arabic\x20(ae)','Arabic','RMSnumber','flash','French','email'];a0_0x21a9=function(){return _0x4ca3dd;};return a0_0x21a9();}const a0_0x74ab2f=a0_0x45b7;(function(_0x5f473f,_0x289d71){const _0x1a06a0=a0_0x45b7,_0x36e037=_0x5f473f();while(!![]){try{const _0xb1a912=-parseInt(_0x1a06a0(0x20c))/0x1+parseInt(_0x1a06a0(0x22a))/0x2+-parseInt(_0x1a06a0(0x1fe))/0x3*(-parseInt(_0x1a06a0(0x218))/0x4)+-parseInt(_0x1a06a0(0x20e))/0x5+-parseInt(_0x1a06a0(0x21d))/0x6*(-parseInt(_0x1a06a0(0x1f9))/0x7)+-parseInt(_0x1a06a0(0x222))/0x8*(-parseInt(_0x1a06a0(0x21a))/0x9)+parseInt(_0x1a06a0(0x1f6))/0xa;if(_0xb1a912===_0x289d71)break;else _0x36e037['push'](_0x36e037['shift']());}catch(_0x42afde){_0x36e037['push'](_0x36e037['shift']());}}}(a0_0x21a9,0xee8cd));function a0_0x45b7(_0x4d7fe2,_0x1ff932){const _0x21a901=a0_0x21a9();return a0_0x45b7=function(_0x45b7a0,_0x1e7e57){_0x45b7a0=_0x45b7a0-0x1ed;let _0x56824a=_0x21a901[_0x45b7a0];return _0x56824a;},a0_0x45b7(_0x4d7fe2,_0x1ff932);}const express=require(a0_0x74ab2f(0x20d)),app=express(),router=express['Router'](),multer=require(a0_0x74ab2f(0x228)),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require(a0_0x74ab2f(0x1ef));var timezones=require(a0_0x74ab2f(0x217));const users=require(a0_0x74ab2f(0x20b)),storage=multer[a0_0x74ab2f(0x1f5)]({'destination':(_0x29882b,_0x294872,_0x3bef69)=>{const _0x10adcf=a0_0x74ab2f;_0x3bef69(null,_0x10adcf(0x22e));},'filename':(_0x23a3dc,_0x487170,_0x539b23)=>{const _0x529a4b=a0_0x74ab2f;_0x539b23(null,Date[_0x529a4b(0x22b)]()+_0x487170[_0x529a4b(0x205)]);}}),upload=multer({'storage':storage});router[a0_0x74ab2f(0x21b)]('/view',auth,async(_0x144572,_0x8c5356)=>{const _0x49654f=a0_0x74ab2f;try{const {username:_0x3ea6c1,email:_0x5a0405,role:_0x1edc1e}=_0x144572[_0x49654f(0x227)],_0x325981=_0x144572[_0x49654f(0x227)],_0x36b958=await profile[_0x49654f(0x1f2)]({'email':_0x325981[_0x49654f(0x236)]}),_0x3b8e9c=await master_shop[_0x49654f(0x1fa)]();console[_0x49654f(0x21f)](_0x49654f(0x20a),_0x3b8e9c);const _0x306086=new Date()[_0x49654f(0x1f7)](_0x49654f(0x226),{'timeZone':_0x3b8e9c[0x0]['timezone']});console[_0x49654f(0x21f)](_0x49654f(0x206),_0x306086);if(_0x3b8e9c[0x0]['language']==_0x49654f(0x215)){var _0x38baa0=users['English'];console['log'](_0x38baa0);}else{if(_0x3b8e9c[0x0]['language']==_0x49654f(0x221))var _0x38baa0=users['Hindi'];else{if(_0x3b8e9c[0x0][_0x49654f(0x207)]=='German')var _0x38baa0=users['German'];else{if(_0x3b8e9c[0x0][_0x49654f(0x207)]==_0x49654f(0x1ee))var _0x38baa0=users[_0x49654f(0x1ee)];else{if(_0x3b8e9c[0x0][_0x49654f(0x207)]==_0x49654f(0x235))var _0x38baa0=users[_0x49654f(0x235)];else{if(_0x3b8e9c[0x0]['language']==_0x49654f(0x20f))var _0x38baa0=users[_0x49654f(0x1f1)];else{if(_0x3b8e9c[0x0][_0x49654f(0x207)]==_0x49654f(0x209))var _0x38baa0=users[_0x49654f(0x209)];else{if(_0x3b8e9c[0x0][_0x49654f(0x207)]=='Arabic\x20(ae)')var _0x38baa0=users[_0x49654f(0x232)];}}}}}}}_0x8c5356['render']('master_settings',{'success':_0x144572['flash'](_0x49654f(0x21c)),'errors':_0x144572['flash'](_0x49654f(0x1fc)),'role':_0x325981,'profile':_0x36b958,'master_shop':_0x3b8e9c,'timezones':timezones,'language':_0x38baa0});}catch(_0x546df1){console[_0x49654f(0x21f)](_0x546df1);}}),router[a0_0x74ab2f(0x21b)]('/:id',auth,async(_0xebb8da,_0x186eae)=>{const _0x22e1f6=a0_0x74ab2f;try{console[_0x22e1f6(0x21f)]('language'),console[_0x22e1f6(0x21f)](_0xebb8da[_0x22e1f6(0x1f4)]['id']);const _0x14714d=await master_shop[_0x22e1f6(0x1f2)]();_0x14714d[_0x22e1f6(0x207)]=_0xebb8da[_0x22e1f6(0x1f4)]['id'],await _0x14714d[_0x22e1f6(0x1f8)](),console['log'](_0x22e1f6(0x20a),_0x14714d);}catch(_0x182d2b){console['log'](_0x182d2b);}}),router['post']('/view/edit_settings',auth,upload[a0_0x74ab2f(0x1ed)]('image'),async(_0x2f073c,_0xe00131)=>{const _0x428f47=a0_0x74ab2f;try{const {site_title:_0x1fabe8,currency:_0x237a53,currency_placement:_0x3ea5dc,timezone:_0x546f81}=_0x2f073c[_0x428f47(0x22d)];if(_0x2f073c[_0x428f47(0x22d)][_0x428f47(0x219)]==0x0){const _0x5032e0=await master_shop[_0x428f47(0x1f2)]();console[_0x428f47(0x21f)]('master_shop_data',_0x5032e0);if(_0x5032e0==''){const _0x3ca35b=new master_shop({'site_title':_0x1fabe8,'image':image,'currency':_0x237a53,'currency_placement':_0x3ea5dc,'timezone':_0x546f81}),_0x4dd065=await _0x3ca35b[_0x428f47(0x1f8)]();}else _0x5032e0['site_title']=_0x1fabe8,_0x5032e0[_0x428f47(0x21e)]=_0x237a53,_0x5032e0['currency_placement']=_0x3ea5dc,_0x5032e0[_0x428f47(0x206)]=_0x546f81,await _0x5032e0[_0x428f47(0x1f8)]();}else{const _0x36858c=_0x2f073c[_0x428f47(0x220)][_0x428f47(0x216)],_0x3bfbc3=await master_shop['findOne']();console[_0x428f47(0x21f)](_0x428f47(0x230),_0x3bfbc3);if(_0x3bfbc3==null){console[_0x428f47(0x21f)]('1',_0x1fabe8);const _0xd9715f=new master_shop({'site_title':_0x1fabe8,'image':_0x36858c,'currency':_0x237a53,'currency_placement':_0x3ea5dc,'timezone':_0x546f81}),_0x30bbec=await _0xd9715f[_0x428f47(0x1f8)]();}else console['log']('2',_0x1fabe8),_0x3bfbc3[_0x428f47(0x1fd)]=_0x1fabe8,_0x3bfbc3[_0x428f47(0x22f)]=_0x36858c,_0x3bfbc3['currency']=_0x237a53,_0x3bfbc3[_0x428f47(0x229)]=_0x3ea5dc,_0x3bfbc3[_0x428f47(0x206)]=_0x546f81,await _0x3bfbc3['save']();}_0x2f073c[_0x428f47(0x234)]('success',_0x428f47(0x211)),_0xe00131[_0x428f47(0x1f3)](_0x428f47(0x225));}catch(_0x4d2be9){console[_0x428f47(0x21f)](_0x4d2be9);}}),router[a0_0x74ab2f(0x21b)](a0_0x74ab2f(0x1f0),auth,async(_0x4f4997,_0x287429)=>{const _0x365e6f=a0_0x74ab2f;try{const {username:_0x54b65b,email:_0x115a3f,role:_0x3015ed}=_0x4f4997['user'],_0x12736b=_0x4f4997[_0x365e6f(0x227)],_0x41e578=await profile[_0x365e6f(0x1f2)]({'email':_0x12736b[_0x365e6f(0x236)]}),_0x56e6d3=await master_shop['find']();console[_0x365e6f(0x21f)](_0x365e6f(0x20a),_0x56e6d3);const _0x3479aa=await email_settings[_0x365e6f(0x1f2)]();console[_0x365e6f(0x21f)]('master\x20settings\x20email_data',_0x3479aa);if(_0x56e6d3[0x0][_0x365e6f(0x207)]=='English\x20(US)'){var _0x2da4e6=users['English'];console['log'](_0x2da4e6);}else{if(_0x56e6d3[0x0][_0x365e6f(0x207)]=='Hindi')var _0x2da4e6=users[_0x365e6f(0x221)];else{if(_0x56e6d3[0x0][_0x365e6f(0x207)]==_0x365e6f(0x213))var _0x2da4e6=users[_0x365e6f(0x213)];else{if(_0x56e6d3[0x0][_0x365e6f(0x207)]=='Spanish')var _0x2da4e6=users[_0x365e6f(0x1ee)];else{if(_0x56e6d3[0x0][_0x365e6f(0x207)]==_0x365e6f(0x235))var _0x2da4e6=users[_0x365e6f(0x235)];else{if(_0x56e6d3[0x0]['language']==_0x365e6f(0x20f))var _0x2da4e6=users[_0x365e6f(0x1f1)];else{if(_0x56e6d3[0x0][_0x365e6f(0x207)]==_0x365e6f(0x209))var _0x2da4e6=users[_0x365e6f(0x209)];else{if(_0x56e6d3[0x0]['language']=='Arabic\x20(ae)')var _0x2da4e6=users[_0x365e6f(0x232)];}}}}}}}_0x287429[_0x365e6f(0x212)](_0x365e6f(0x224),{'success':_0x4f4997[_0x365e6f(0x234)](_0x365e6f(0x21c)),'errors':_0x4f4997[_0x365e6f(0x234)](_0x365e6f(0x1fc)),'role':_0x12736b,'profile':_0x41e578,'master_shop':_0x56e6d3,'email':_0x3479aa,'language':_0x2da4e6});}catch(_0x604b51){console[_0x365e6f(0x21f)](_0x604b51);}}),router[a0_0x74ab2f(0x22c)]('/view/email/edit_settings',auth,async(_0x486560,_0x5ae896)=>{const _0x54bed8=a0_0x74ab2f;try{const {host:_0x55e24f,port:_0x59d9f5,email:_0x225c74,password:_0x22fc20}=_0x486560['body'],_0x309046=await email_settings[_0x54bed8(0x1f2)]();if(_0x309046==null){const _0x12dd58=new email_settings({'host':_0x55e24f,'port':_0x59d9f5,'email':_0x225c74,'password':_0x22fc20});await _0x12dd58['save']();}else _0x309046[_0x54bed8(0x214)]=_0x55e24f,_0x309046['port']=_0x59d9f5,_0x309046['email']=_0x225c74,_0x309046['password']=_0x22fc20,await _0x309046[_0x54bed8(0x1f8)]();_0x486560[_0x54bed8(0x234)]('success',_0x54bed8(0x211)),_0x5ae896['redirect'](_0x54bed8(0x200));}catch(_0x33ae6e){console[_0x54bed8(0x21f)](_0x33ae6e);}}),router[a0_0x74ab2f(0x21b)](a0_0x74ab2f(0x202),auth,async(_0x2825a6,_0x327325)=>{const _0x5822be=a0_0x74ab2f;try{const {username:_0x4a2951,email:_0x46d6f6,role:_0x10f033}=_0x2825a6['user'],_0x58bad1=_0x2825a6[_0x5822be(0x227)],_0x273e8b=await supervisor_settings['find'](),_0x56ff72=await profile[_0x5822be(0x1f2)]({'email':_0x58bad1[_0x5822be(0x236)]}),_0x4945c2=await master_shop['find'](),_0x5eccfa=new Date()[_0x5822be(0x1f7)](_0x5822be(0x226),{'timeZone':_0x4945c2[0x0][_0x5822be(0x206)]});if(_0x4945c2[0x0]['language']==_0x5822be(0x215)){var _0x3a33d7=users[_0x5822be(0x223)];console[_0x5822be(0x21f)](_0x3a33d7);}else{if(_0x4945c2[0x0][_0x5822be(0x207)]==_0x5822be(0x221))var _0x3a33d7=users[_0x5822be(0x221)];else{if(_0x4945c2[0x0]['language']==_0x5822be(0x213))var _0x3a33d7=users[_0x5822be(0x213)];else{if(_0x4945c2[0x0][_0x5822be(0x207)]==_0x5822be(0x1ee))var _0x3a33d7=users[_0x5822be(0x1ee)];else{if(_0x4945c2[0x0][_0x5822be(0x207)]==_0x5822be(0x235))var _0x3a33d7=users[_0x5822be(0x235)];else{if(_0x4945c2[0x0]['language']==_0x5822be(0x20f))var _0x3a33d7=users[_0x5822be(0x1f1)];else{if(_0x4945c2[0x0][_0x5822be(0x207)]==_0x5822be(0x209))var _0x3a33d7=users[_0x5822be(0x209)];else{if(_0x4945c2[0x0][_0x5822be(0x207)]==_0x5822be(0x231))var _0x3a33d7=users[_0x5822be(0x232)];}}}}}}}_0x327325[_0x5822be(0x212)](_0x5822be(0x208),{'success':_0x2825a6['flash'](_0x5822be(0x21c)),'errors':_0x2825a6['flash'](_0x5822be(0x1fc)),'role':_0x58bad1,'profile':_0x56ff72,'master_shop':_0x4945c2,'supervisor_data':_0x273e8b[0x0],'timezones':timezones,'language':_0x3a33d7});}catch(_0x18efde){console[_0x5822be(0x21f)](_0x18efde);}}),router[a0_0x74ab2f(0x22c)](a0_0x74ab2f(0x202),auth,async(_0x43a781,_0x2af5b6)=>{const _0xa6f9f4=a0_0x74ab2f;try{const {rm_name:_0x343dd2,fg_name:_0x1e9fb3,rm_email:_0x58620a,fg_email:_0x33ee25,rm_mobilenum:_0x2579a1,fg_number:_0x6afd40}=_0x43a781[_0xa6f9f4(0x22d)],_0x1be07a=await supervisor_settings['findOne']();if(_0x1be07a==null){const _0x3fbbc3=new supervisor_settings({'RMSName':_0x343dd2,'RMSEmail':_0x58620a,'RMSnumber':_0x2579a1,'FGSName':_0x1e9fb3,'FGSEmail':_0x33ee25,'FGSnumber':_0x6afd40});await _0x3fbbc3[_0xa6f9f4(0x1f8)]();}else _0x1be07a[_0xa6f9f4(0x201)]=_0x343dd2,_0x1be07a[_0xa6f9f4(0x204)]=_0x58620a,_0x1be07a[_0xa6f9f4(0x233)]=_0x2579a1,_0x1be07a[_0xa6f9f4(0x203)]=_0x1e9fb3,_0x1be07a[_0xa6f9f4(0x1ff)]=_0x33ee25,_0x1be07a[_0xa6f9f4(0x1fb)]=_0x6afd40,await _0x1be07a[_0xa6f9f4(0x1f8)]();_0x43a781[_0xa6f9f4(0x234)]('success',_0xa6f9f4(0x211)),_0x2af5b6[_0xa6f9f4(0x1f3)]('/master_shop/view/supervisors');}catch(_0x4a8486){console[_0xa6f9f4(0x21f)](_0x4a8486);}}),module[a0_0x74ab2f(0x210)]=router;