const a0_0x4adb0b=a0_0x18be;function a0_0x2d4a(){const _0x245103=['user','/view','single','get','redirect','shop\x20setting\x20edit\x20successfully','file','10458098mwBmOY','multer','RMSnumber','../middleware/auth','31098672mPtfrY','FGSName','email','render','filename','/view/supervisors','Arabic','site_title','master\x20settings\x20email_data','currency','/master_shop/view/supervisors','image','save','/view/edit_settings','master','/master_shop/view','Hindi','timezones-list','find','findOne','Portuguese\x20(BR)','36LnEgYe','/master_shop/view/email','5901096RVAhVS','./public/upload','host','now','German','English\x20(US)','/view/email/edit_settings','originalname','/view/email','post','Router','Portuguese','log','212435BxyGkq','en-US','body','1489770MjFUCW','170028aXOWPl','flash','errors','202592uBaHXd','Arabic\x20(ae)','password','/:id','supervisor_settings','language','port','params','Chinese','RMSEmail','express','timezone','English','FGSEmail','success','toLocaleString','Spanish','French'];a0_0x2d4a=function(){return _0x245103;};return a0_0x2d4a();}(function(_0x518e68,_0x3b3097){const _0x8f17a2=a0_0x18be,_0x16b714=_0x518e68();while(!![]){try{const _0x522d3c=parseInt(_0x8f17a2(0x170))/0x1+parseInt(_0x8f17a2(0x12c))/0x2+parseInt(_0x8f17a2(0x171))/0x3+parseInt(_0x8f17a2(0x160))/0x4+parseInt(_0x8f17a2(0x16d))/0x5*(parseInt(_0x8f17a2(0x15e))/0x6)+parseInt(_0x8f17a2(0x145))/0x7+-parseInt(_0x8f17a2(0x149))/0x8;if(_0x522d3c===_0x3b3097)break;else _0x16b714['push'](_0x16b714['shift']());}catch(_0x2ba787){_0x16b714['push'](_0x16b714['shift']());}}}(a0_0x2d4a,0xf062a));const express=require(a0_0x4adb0b(0x136)),app=express(),router=express[a0_0x4adb0b(0x16a)](),multer=require(a0_0x4adb0b(0x146)),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require(a0_0x4adb0b(0x148));var timezones=require(a0_0x4adb0b(0x15a));const users=require('../public/language/languages.json'),storage=multer['diskStorage']({'destination':(_0x414e65,_0x12d95d,_0x359494)=>{const _0x4733c7=a0_0x4adb0b;_0x359494(null,_0x4733c7(0x161));},'filename':(_0x4796c0,_0x50b548,_0xae5a91)=>{const _0x42cd98=a0_0x4adb0b;_0xae5a91(null,Date[_0x42cd98(0x163)]()+_0x50b548[_0x42cd98(0x167)]);}}),upload=multer({'storage':storage});function a0_0x18be(_0x25ab00,_0x31c72e){const _0x2d4ad4=a0_0x2d4a();return a0_0x18be=function(_0x18be9a,_0x12025c){_0x18be9a=_0x18be9a-0x12c;let _0x5f3017=_0x2d4ad4[_0x18be9a];return _0x5f3017;},a0_0x18be(_0x25ab00,_0x31c72e);}router[a0_0x4adb0b(0x141)](a0_0x4adb0b(0x13f),auth,async(_0x53f273,_0x3bd9b5)=>{const _0x1c3d0a=a0_0x4adb0b;try{const {username:_0x272681,email:_0x33ca62,role:_0x3d5189}=_0x53f273['user'],_0x5b603c=_0x53f273['user'],_0x1bd9a2=await profile[_0x1c3d0a(0x15c)]({'email':_0x5b603c['email']}),_0x175eb0=await master_shop[_0x1c3d0a(0x15b)]();console[_0x1c3d0a(0x16c)]('master',_0x175eb0);const _0x211f2f=new Date()[_0x1c3d0a(0x13b)]('en-US',{'timeZone':_0x175eb0[0x0][_0x1c3d0a(0x137)]});console['log'](_0x1c3d0a(0x137),_0x211f2f);if(_0x175eb0[0x0][_0x1c3d0a(0x131)]=='English\x20(US)'){var _0x603702=users[_0x1c3d0a(0x138)];console['log'](_0x603702);}else{if(_0x175eb0[0x0][_0x1c3d0a(0x131)]==_0x1c3d0a(0x159))var _0x603702=users[_0x1c3d0a(0x159)];else{if(_0x175eb0[0x0][_0x1c3d0a(0x131)]==_0x1c3d0a(0x164))var _0x603702=users[_0x1c3d0a(0x164)];else{if(_0x175eb0[0x0][_0x1c3d0a(0x131)]=='Spanish')var _0x603702=users[_0x1c3d0a(0x13c)];else{if(_0x175eb0[0x0]['language']=='French')var _0x603702=users[_0x1c3d0a(0x13d)];else{if(_0x175eb0[0x0][_0x1c3d0a(0x131)]=='Portuguese\x20(BR)')var _0x603702=users['Portuguese'];else{if(_0x175eb0[0x0][_0x1c3d0a(0x131)]==_0x1c3d0a(0x134))var _0x603702=users[_0x1c3d0a(0x134)];else{if(_0x175eb0[0x0][_0x1c3d0a(0x131)]==_0x1c3d0a(0x12d))var _0x603702=users['Arabic'];}}}}}}}_0x3bd9b5[_0x1c3d0a(0x14c)]('master_settings',{'success':_0x53f273[_0x1c3d0a(0x172)](_0x1c3d0a(0x13a)),'errors':_0x53f273[_0x1c3d0a(0x172)]('errors'),'role':_0x5b603c,'profile':_0x1bd9a2,'master_shop':_0x175eb0,'timezones':timezones,'language':_0x603702});}catch(_0x56f3aa){console[_0x1c3d0a(0x16c)](_0x56f3aa);}}),router[a0_0x4adb0b(0x141)](a0_0x4adb0b(0x12f),auth,async(_0x425d0e,_0x7f628b)=>{const _0x36c453=a0_0x4adb0b;try{console[_0x36c453(0x16c)]('language'),console[_0x36c453(0x16c)](_0x425d0e[_0x36c453(0x133)]['id']);const _0x3894a9=await master_shop[_0x36c453(0x15c)]();_0x3894a9['language']=_0x425d0e[_0x36c453(0x133)]['id'],await _0x3894a9[_0x36c453(0x155)](),console[_0x36c453(0x16c)]('master',_0x3894a9);}catch(_0x4a5729){console['log'](_0x4a5729);}}),router[a0_0x4adb0b(0x169)](a0_0x4adb0b(0x156),auth,upload[a0_0x4adb0b(0x140)](a0_0x4adb0b(0x154)),async(_0x2f8789,_0x5f0970)=>{const _0x111ff9=a0_0x4adb0b;try{const {site_title:_0xc3c413,currency:_0x3a798c,currency_placement:_0x5e6d84,timezone:_0x563367}=_0x2f8789[_0x111ff9(0x16f)];if(_0x2f8789[_0x111ff9(0x16f)]['hidden']==0x0){const _0x2ef776=await master_shop[_0x111ff9(0x15c)]();console[_0x111ff9(0x16c)]('master_shop_data',_0x2ef776);if(_0x2ef776==''){const _0x539dc6=new master_shop({'site_title':_0xc3c413,'image':image,'currency':_0x3a798c,'currency_placement':_0x5e6d84,'timezone':_0x563367}),_0x4aaf49=await _0x539dc6[_0x111ff9(0x155)]();}else _0x2ef776[_0x111ff9(0x150)]=_0xc3c413,_0x2ef776['currency']=_0x3a798c,_0x2ef776['currency_placement']=_0x5e6d84,_0x2ef776[_0x111ff9(0x137)]=_0x563367,await _0x2ef776[_0x111ff9(0x155)]();}else{const _0x462839=_0x2f8789[_0x111ff9(0x144)][_0x111ff9(0x14d)],_0x231d5e=await master_shop[_0x111ff9(0x15c)]();console[_0x111ff9(0x16c)]('2nd\x20master_shop_data',_0x231d5e);if(_0x231d5e==null){console[_0x111ff9(0x16c)]('1',_0xc3c413);const _0x5814c3=new master_shop({'site_title':_0xc3c413,'image':_0x462839,'currency':_0x3a798c,'currency_placement':_0x5e6d84,'timezone':_0x563367}),_0x4ec3a7=await _0x5814c3[_0x111ff9(0x155)]();}else console['log']('2',_0xc3c413),_0x231d5e[_0x111ff9(0x150)]=_0xc3c413,_0x231d5e[_0x111ff9(0x154)]=_0x462839,_0x231d5e[_0x111ff9(0x152)]=_0x3a798c,_0x231d5e['currency_placement']=_0x5e6d84,_0x231d5e[_0x111ff9(0x137)]=_0x563367,await _0x231d5e['save']();}_0x2f8789['flash'](_0x111ff9(0x13a),_0x111ff9(0x143)),_0x5f0970[_0x111ff9(0x142)](_0x111ff9(0x158));}catch(_0x4ac920){console[_0x111ff9(0x16c)](_0x4ac920);}}),router[a0_0x4adb0b(0x141)](a0_0x4adb0b(0x168),auth,async(_0x3cbbcb,_0x30e8c6)=>{const _0x491fb3=a0_0x4adb0b;try{const {username:_0x14b4ed,email:_0x2b7e29,role:_0x1a3926}=_0x3cbbcb['user'],_0x2860cf=_0x3cbbcb['user'],_0x22fe3=await profile[_0x491fb3(0x15c)]({'email':_0x2860cf[_0x491fb3(0x14b)]}),_0x231406=await master_shop[_0x491fb3(0x15b)]();console['log'](_0x491fb3(0x157),_0x231406);const _0x48d3a0=await email_settings['findOne']();console[_0x491fb3(0x16c)](_0x491fb3(0x151),_0x48d3a0);if(_0x231406[0x0][_0x491fb3(0x131)]=='English\x20(US)'){var _0x38c774=users[_0x491fb3(0x138)];console[_0x491fb3(0x16c)](_0x38c774);}else{if(_0x231406[0x0]['language']==_0x491fb3(0x159))var _0x38c774=users['Hindi'];else{if(_0x231406[0x0][_0x491fb3(0x131)]=='German')var _0x38c774=users[_0x491fb3(0x164)];else{if(_0x231406[0x0][_0x491fb3(0x131)]==_0x491fb3(0x13c))var _0x38c774=users[_0x491fb3(0x13c)];else{if(_0x231406[0x0][_0x491fb3(0x131)]==_0x491fb3(0x13d))var _0x38c774=users[_0x491fb3(0x13d)];else{if(_0x231406[0x0][_0x491fb3(0x131)]==_0x491fb3(0x15d))var _0x38c774=users[_0x491fb3(0x16b)];else{if(_0x231406[0x0][_0x491fb3(0x131)]==_0x491fb3(0x134))var _0x38c774=users[_0x491fb3(0x134)];else{if(_0x231406[0x0][_0x491fb3(0x131)]==_0x491fb3(0x12d))var _0x38c774=users[_0x491fb3(0x14f)];}}}}}}}_0x30e8c6[_0x491fb3(0x14c)]('email_settings',{'success':_0x3cbbcb[_0x491fb3(0x172)](_0x491fb3(0x13a)),'errors':_0x3cbbcb[_0x491fb3(0x172)](_0x491fb3(0x173)),'role':_0x2860cf,'profile':_0x22fe3,'master_shop':_0x231406,'email':_0x48d3a0,'language':_0x38c774});}catch(_0x1c275b){console['log'](_0x1c275b);}}),router['post'](a0_0x4adb0b(0x166),auth,async(_0x2b1a71,_0x398672)=>{const _0x1a69d8=a0_0x4adb0b;try{const {host:_0x1ef7a0,port:_0x1eac72,email:_0x486035,password:_0x5f30b0}=_0x2b1a71[_0x1a69d8(0x16f)],_0x468e9c=await email_settings[_0x1a69d8(0x15c)]();if(_0x468e9c==null){const _0x6431fe=new email_settings({'host':_0x1ef7a0,'port':_0x1eac72,'email':_0x486035,'password':_0x5f30b0});await _0x6431fe['save']();}else _0x468e9c[_0x1a69d8(0x162)]=_0x1ef7a0,_0x468e9c[_0x1a69d8(0x132)]=_0x1eac72,_0x468e9c['email']=_0x486035,_0x468e9c[_0x1a69d8(0x12e)]=_0x5f30b0,await _0x468e9c[_0x1a69d8(0x155)]();_0x2b1a71[_0x1a69d8(0x172)](_0x1a69d8(0x13a),'shop\x20setting\x20edit\x20successfully'),_0x398672['redirect'](_0x1a69d8(0x15f));}catch(_0x5e7459){console[_0x1a69d8(0x16c)](_0x5e7459);}}),router[a0_0x4adb0b(0x141)](a0_0x4adb0b(0x14e),auth,async(_0x55ea38,_0x1fdda6)=>{const _0x86b045=a0_0x4adb0b;try{const {username:_0x332c93,email:_0x4f1eb4,role:_0x5d7d35}=_0x55ea38[_0x86b045(0x13e)],_0xc43715=_0x55ea38['user'],_0x37eeb3=await supervisor_settings[_0x86b045(0x15b)](),_0x58dc89=await profile[_0x86b045(0x15c)]({'email':_0xc43715['email']}),_0x1d65fd=await master_shop[_0x86b045(0x15b)](),_0x37d35a=new Date()[_0x86b045(0x13b)](_0x86b045(0x16e),{'timeZone':_0x1d65fd[0x0][_0x86b045(0x137)]});if(_0x1d65fd[0x0][_0x86b045(0x131)]==_0x86b045(0x165)){var _0x22eb91=users[_0x86b045(0x138)];console[_0x86b045(0x16c)](_0x22eb91);}else{if(_0x1d65fd[0x0][_0x86b045(0x131)]==_0x86b045(0x159))var _0x22eb91=users[_0x86b045(0x159)];else{if(_0x1d65fd[0x0][_0x86b045(0x131)]==_0x86b045(0x164))var _0x22eb91=users['German'];else{if(_0x1d65fd[0x0][_0x86b045(0x131)]==_0x86b045(0x13c))var _0x22eb91=users['Spanish'];else{if(_0x1d65fd[0x0][_0x86b045(0x131)]==_0x86b045(0x13d))var _0x22eb91=users[_0x86b045(0x13d)];else{if(_0x1d65fd[0x0]['language']=='Portuguese\x20(BR)')var _0x22eb91=users[_0x86b045(0x16b)];else{if(_0x1d65fd[0x0][_0x86b045(0x131)]==_0x86b045(0x134))var _0x22eb91=users[_0x86b045(0x134)];else{if(_0x1d65fd[0x0]['language']==_0x86b045(0x12d))var _0x22eb91=users[_0x86b045(0x14f)];}}}}}}}_0x1fdda6[_0x86b045(0x14c)](_0x86b045(0x130),{'success':_0x55ea38['flash']('success'),'errors':_0x55ea38[_0x86b045(0x172)](_0x86b045(0x173)),'role':_0xc43715,'profile':_0x58dc89,'master_shop':_0x1d65fd,'supervisor_data':_0x37eeb3[0x0],'timezones':timezones,'language':_0x22eb91});}catch(_0x292c54){console[_0x86b045(0x16c)](_0x292c54);}}),router[a0_0x4adb0b(0x169)]('/view/supervisors',auth,async(_0x286257,_0x121b79)=>{const _0x53b168=a0_0x4adb0b;try{const {rm_name:_0x2d036f,fg_name:_0xb51763,rm_email:_0x2e2da2,fg_email:_0x45a608,rm_mobilenum:_0xbe9b1d,fg_number:_0x25a028}=_0x286257[_0x53b168(0x16f)],_0x3c796c=await supervisor_settings['findOne']();if(_0x3c796c==null){const _0x216e33=new supervisor_settings({'RMSName':_0x2d036f,'RMSEmail':_0x2e2da2,'RMSnumber':_0xbe9b1d,'FGSName':_0xb51763,'FGSEmail':_0x45a608,'FGSnumber':_0x25a028});await _0x216e33['save']();}else _0x3c796c['RMSName']=_0x2d036f,_0x3c796c[_0x53b168(0x135)]=_0x2e2da2,_0x3c796c[_0x53b168(0x147)]=_0xbe9b1d,_0x3c796c[_0x53b168(0x14a)]=_0xb51763,_0x3c796c[_0x53b168(0x139)]=_0x45a608,_0x3c796c['FGSnumber']=_0x25a028,await _0x3c796c[_0x53b168(0x155)]();_0x286257[_0x53b168(0x172)]('success',_0x53b168(0x143)),_0x121b79[_0x53b168(0x142)](_0x53b168(0x153));}catch(_0x113de9){console[_0x53b168(0x16c)](_0x113de9);}}),module['exports']=router;