function a0_0x4316(){const _0x11bd23=['save','2122317WPJCdm','master_shop_data','../middleware/auth','errors','params','currency','timezones-list','3888570xjGoLr','/view/supervisors','FGSName','hidden','log','en-US','/master_shop/view/email','English','10PyDmlm','find','2120fTIEjO','master_settings','RMSEmail','body','Chinese','master\x20settings\x20email_data','toLocaleString','FGSEmail','get','../models/all_models','post','timezone','image','flash','5018905qcPJMY','file','341GJCoLm','German','12497DMAUdD','password','14798ASEUiY','master','Portuguese','Hindi','Spanish','RMSnumber','host','Portuguese\x20(BR)','/master_shop/view','express','currency_placement','Arabic','now','findOne','success','user','language','4748HOtLRW','202fTbkBt','FGSnumber','site_title','French','/view/email','email','/view','Arabic\x20(ae)','2859PRJheu','render','./public/upload','1437888VQlVZH','/view/email/edit_settings','shop\x20setting\x20edit\x20successfully','originalname','English\x20(US)','redirect','/master_shop/view/supervisors'];a0_0x4316=function(){return _0x11bd23;};return a0_0x4316();}const a0_0x1739a9=a0_0x3444;(function(_0x52a8ec,_0x5969a6){const _0x451b8a=a0_0x3444,_0x4d6139=_0x52a8ec();while(!![]){try{const _0x2a1810=-parseInt(_0x451b8a(0x10c))/0x1*(parseInt(_0x451b8a(0x120))/0x2)+parseInt(_0x451b8a(0x128))/0x3*(-parseInt(_0x451b8a(0x11f))/0x4)+-parseInt(_0x451b8a(0x152))/0x5+parseInt(_0x451b8a(0x13a))/0x6+-parseInt(_0x451b8a(0x10e))/0x7*(parseInt(_0x451b8a(0x144))/0x8)+parseInt(_0x451b8a(0x133))/0x9*(parseInt(_0x451b8a(0x142))/0xa)+-parseInt(_0x451b8a(0x10a))/0xb*(-parseInt(_0x451b8a(0x12b))/0xc);if(_0x2a1810===_0x5969a6)break;else _0x4d6139['push'](_0x4d6139['shift']());}catch(_0x8920e4){_0x4d6139['push'](_0x4d6139['shift']());}}}(a0_0x4316,0x9c81d));const express=require(a0_0x1739a9(0x117)),app=express(),router=express['Router'](),multer=require('multer'),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x1739a9(0x14d)),auth=require(a0_0x1739a9(0x135));var timezones=require(a0_0x1739a9(0x139));function a0_0x3444(_0x100048,_0x1c46d2){const _0x4316c6=a0_0x4316();return a0_0x3444=function(_0x344443,_0x1f184d){_0x344443=_0x344443-0x109;let _0x3b1eab=_0x4316c6[_0x344443];return _0x3b1eab;},a0_0x3444(_0x100048,_0x1c46d2);}const users=require('../public/language/languages.json'),storage=multer['diskStorage']({'destination':(_0x33c2b2,_0x3f0d3f,_0x541cde)=>{const _0x1a45e7=a0_0x1739a9;_0x541cde(null,_0x1a45e7(0x12a));},'filename':(_0x1fdb63,_0x266163,_0x20158b)=>{const _0x41d163=a0_0x1739a9;_0x20158b(null,Date[_0x41d163(0x11a)]()+_0x266163[_0x41d163(0x12e)]);}}),upload=multer({'storage':storage});router[a0_0x1739a9(0x14c)](a0_0x1739a9(0x126),auth,async(_0x880add,_0x55eda1)=>{const _0x297d1b=a0_0x1739a9;try{const {username:_0x4fda83,email:_0x58fa1f,role:_0xf4d968}=_0x880add['user'],_0x244ea9=_0x880add[_0x297d1b(0x11d)],_0x5b552b=await profile['findOne']({'email':_0x244ea9[_0x297d1b(0x125)]}),_0x10c001=await master_shop[_0x297d1b(0x143)]();console['log'](_0x297d1b(0x10f),_0x10c001);const _0xa9b809=new Date()[_0x297d1b(0x14a)](_0x297d1b(0x13f),{'timeZone':_0x10c001[0x0][_0x297d1b(0x14f)]});console[_0x297d1b(0x13e)](_0x297d1b(0x14f),_0xa9b809);if(_0x10c001[0x0][_0x297d1b(0x11e)]==_0x297d1b(0x12f)){var _0x446bc5=users[_0x297d1b(0x141)];console[_0x297d1b(0x13e)](_0x446bc5);}else{if(_0x10c001[0x0][_0x297d1b(0x11e)]=='Hindi')var _0x446bc5=users[_0x297d1b(0x111)];else{if(_0x10c001[0x0][_0x297d1b(0x11e)]==_0x297d1b(0x10b))var _0x446bc5=users['German'];else{if(_0x10c001[0x0]['language']==_0x297d1b(0x112))var _0x446bc5=users[_0x297d1b(0x112)];else{if(_0x10c001[0x0][_0x297d1b(0x11e)]==_0x297d1b(0x123))var _0x446bc5=users[_0x297d1b(0x123)];else{if(_0x10c001[0x0]['language']==_0x297d1b(0x115))var _0x446bc5=users[_0x297d1b(0x110)];else{if(_0x10c001[0x0][_0x297d1b(0x11e)]==_0x297d1b(0x148))var _0x446bc5=users['Chinese'];else{if(_0x10c001[0x0][_0x297d1b(0x11e)]==_0x297d1b(0x127))var _0x446bc5=users[_0x297d1b(0x119)];}}}}}}}_0x55eda1[_0x297d1b(0x129)](_0x297d1b(0x145),{'success':_0x880add[_0x297d1b(0x151)]('success'),'errors':_0x880add['flash'](_0x297d1b(0x136)),'role':_0x244ea9,'profile':_0x5b552b,'master_shop':_0x10c001,'timezones':timezones,'language':_0x446bc5});}catch(_0x47eb7){console['log'](_0x47eb7);}}),router[a0_0x1739a9(0x14c)]('/:id',auth,async(_0x40b3b2,_0x3f5421)=>{const _0x17bb0a=a0_0x1739a9;try{console['log']('language'),console[_0x17bb0a(0x13e)](_0x40b3b2['params']['id']);const _0xde4438=await master_shop['findOne']();_0xde4438[_0x17bb0a(0x11e)]=_0x40b3b2[_0x17bb0a(0x137)]['id'],await _0xde4438[_0x17bb0a(0x132)](),console['log'](_0x17bb0a(0x10f),_0xde4438);}catch(_0x6f3e3b){console[_0x17bb0a(0x13e)](_0x6f3e3b);}}),router[a0_0x1739a9(0x14e)]('/view/edit_settings',auth,upload['single'](a0_0x1739a9(0x150)),async(_0x57a9e8,_0x3c763a)=>{const _0xd59c45=a0_0x1739a9;try{const {site_title:_0x7f62a0,currency:_0x2a066a,currency_placement:_0x2ba8e6,timezone:_0xfa5ff0}=_0x57a9e8[_0xd59c45(0x147)];if(_0x57a9e8[_0xd59c45(0x147)][_0xd59c45(0x13d)]==0x0){const _0x3901f9=await master_shop['findOne']();console[_0xd59c45(0x13e)](_0xd59c45(0x134),_0x3901f9);if(_0x3901f9==''){const _0x31e737=new master_shop({'site_title':_0x7f62a0,'image':image,'currency':_0x2a066a,'currency_placement':_0x2ba8e6,'timezone':_0xfa5ff0}),_0x1ad6c3=await _0x31e737[_0xd59c45(0x132)]();}else _0x3901f9[_0xd59c45(0x122)]=_0x7f62a0,_0x3901f9['currency']=_0x2a066a,_0x3901f9[_0xd59c45(0x118)]=_0x2ba8e6,_0x3901f9['timezone']=_0xfa5ff0,await _0x3901f9[_0xd59c45(0x132)]();}else{const _0xd15f9b=_0x57a9e8[_0xd59c45(0x109)]['filename'],_0x2bdca3=await master_shop['findOne']();console[_0xd59c45(0x13e)]('2nd\x20master_shop_data',_0x2bdca3);if(_0x2bdca3==null){console[_0xd59c45(0x13e)]('1',_0x7f62a0);const _0x3e319f=new master_shop({'site_title':_0x7f62a0,'image':_0xd15f9b,'currency':_0x2a066a,'currency_placement':_0x2ba8e6,'timezone':_0xfa5ff0}),_0x83f2a2=await _0x3e319f[_0xd59c45(0x132)]();}else console[_0xd59c45(0x13e)]('2',_0x7f62a0),_0x2bdca3[_0xd59c45(0x122)]=_0x7f62a0,_0x2bdca3[_0xd59c45(0x150)]=_0xd15f9b,_0x2bdca3[_0xd59c45(0x138)]=_0x2a066a,_0x2bdca3['currency_placement']=_0x2ba8e6,_0x2bdca3['timezone']=_0xfa5ff0,await _0x2bdca3['save']();}_0x57a9e8[_0xd59c45(0x151)](_0xd59c45(0x11c),_0xd59c45(0x12d)),_0x3c763a[_0xd59c45(0x130)](_0xd59c45(0x116));}catch(_0x5cf835){console[_0xd59c45(0x13e)](_0x5cf835);}}),router[a0_0x1739a9(0x14c)](a0_0x1739a9(0x124),auth,async(_0x5009fa,_0x4b3b81)=>{const _0x22776a=a0_0x1739a9;try{const {username:_0x4e5928,email:_0x245217,role:_0x478d7c}=_0x5009fa[_0x22776a(0x11d)],_0x2f0ef9=_0x5009fa[_0x22776a(0x11d)],_0x42bcfc=await profile[_0x22776a(0x11b)]({'email':_0x2f0ef9[_0x22776a(0x125)]}),_0x33edb5=await master_shop[_0x22776a(0x143)]();console[_0x22776a(0x13e)](_0x22776a(0x10f),_0x33edb5);const _0x145c32=await email_settings[_0x22776a(0x11b)]();console[_0x22776a(0x13e)](_0x22776a(0x149),_0x145c32);if(_0x33edb5[0x0]['language']==_0x22776a(0x12f)){var _0x12ac1c=users[_0x22776a(0x141)];console[_0x22776a(0x13e)](_0x12ac1c);}else{if(_0x33edb5[0x0]['language']==_0x22776a(0x111))var _0x12ac1c=users[_0x22776a(0x111)];else{if(_0x33edb5[0x0][_0x22776a(0x11e)]==_0x22776a(0x10b))var _0x12ac1c=users['German'];else{if(_0x33edb5[0x0]['language']=='Spanish')var _0x12ac1c=users['Spanish'];else{if(_0x33edb5[0x0][_0x22776a(0x11e)]==_0x22776a(0x123))var _0x12ac1c=users[_0x22776a(0x123)];else{if(_0x33edb5[0x0]['language']=='Portuguese\x20(BR)')var _0x12ac1c=users[_0x22776a(0x110)];else{if(_0x33edb5[0x0][_0x22776a(0x11e)]==_0x22776a(0x148))var _0x12ac1c=users[_0x22776a(0x148)];else{if(_0x33edb5[0x0][_0x22776a(0x11e)]==_0x22776a(0x127))var _0x12ac1c=users[_0x22776a(0x119)];}}}}}}}_0x4b3b81[_0x22776a(0x129)]('email_settings',{'success':_0x5009fa[_0x22776a(0x151)](_0x22776a(0x11c)),'errors':_0x5009fa[_0x22776a(0x151)]('errors'),'role':_0x2f0ef9,'profile':_0x42bcfc,'master_shop':_0x33edb5,'email':_0x145c32,'language':_0x12ac1c});}catch(_0x23216e){console[_0x22776a(0x13e)](_0x23216e);}}),router[a0_0x1739a9(0x14e)](a0_0x1739a9(0x12c),auth,async(_0x2abb2d,_0x34fa95)=>{const _0x160c0d=a0_0x1739a9;try{const {host:_0x4d13d5,port:_0x159a5b,email:_0x215115,password:_0x433a19}=_0x2abb2d[_0x160c0d(0x147)],_0x30df79=await email_settings[_0x160c0d(0x11b)]();if(_0x30df79==null){const _0x55656d=new email_settings({'host':_0x4d13d5,'port':_0x159a5b,'email':_0x215115,'password':_0x433a19});await _0x55656d[_0x160c0d(0x132)]();}else _0x30df79[_0x160c0d(0x114)]=_0x4d13d5,_0x30df79['port']=_0x159a5b,_0x30df79[_0x160c0d(0x125)]=_0x215115,_0x30df79[_0x160c0d(0x10d)]=_0x433a19,await _0x30df79['save']();_0x2abb2d[_0x160c0d(0x151)](_0x160c0d(0x11c),_0x160c0d(0x12d)),_0x34fa95['redirect'](_0x160c0d(0x140));}catch(_0x5ceadf){console[_0x160c0d(0x13e)](_0x5ceadf);}}),router[a0_0x1739a9(0x14c)](a0_0x1739a9(0x13b),auth,async(_0x716e2b,_0x4083be)=>{const _0x7fe1db=a0_0x1739a9;try{const {username:_0x4d9732,email:_0x3be7d2,role:_0x49788e}=_0x716e2b[_0x7fe1db(0x11d)],_0x1529a8=_0x716e2b['user'],_0x28a1ea=await supervisor_settings[_0x7fe1db(0x143)](),_0x2536da=await profile[_0x7fe1db(0x11b)]({'email':_0x1529a8[_0x7fe1db(0x125)]}),_0x3ae58f=await master_shop[_0x7fe1db(0x143)](),_0x46b283=new Date()[_0x7fe1db(0x14a)](_0x7fe1db(0x13f),{'timeZone':_0x3ae58f[0x0]['timezone']});if(_0x3ae58f[0x0][_0x7fe1db(0x11e)]==_0x7fe1db(0x12f)){var _0xd53c25=users[_0x7fe1db(0x141)];console['log'](_0xd53c25);}else{if(_0x3ae58f[0x0]['language']==_0x7fe1db(0x111))var _0xd53c25=users[_0x7fe1db(0x111)];else{if(_0x3ae58f[0x0][_0x7fe1db(0x11e)]==_0x7fe1db(0x10b))var _0xd53c25=users['German'];else{if(_0x3ae58f[0x0][_0x7fe1db(0x11e)]==_0x7fe1db(0x112))var _0xd53c25=users[_0x7fe1db(0x112)];else{if(_0x3ae58f[0x0][_0x7fe1db(0x11e)]==_0x7fe1db(0x123))var _0xd53c25=users[_0x7fe1db(0x123)];else{if(_0x3ae58f[0x0]['language']==_0x7fe1db(0x115))var _0xd53c25=users[_0x7fe1db(0x110)];else{if(_0x3ae58f[0x0]['language']==_0x7fe1db(0x148))var _0xd53c25=users[_0x7fe1db(0x148)];else{if(_0x3ae58f[0x0][_0x7fe1db(0x11e)]=='Arabic\x20(ae)')var _0xd53c25=users['Arabic'];}}}}}}}_0x4083be['render']('supervisor_settings',{'success':_0x716e2b['flash'](_0x7fe1db(0x11c)),'errors':_0x716e2b[_0x7fe1db(0x151)]('errors'),'role':_0x1529a8,'profile':_0x2536da,'master_shop':_0x3ae58f,'supervisor_data':_0x28a1ea[0x0],'timezones':timezones,'language':_0xd53c25});}catch(_0x28b591){console[_0x7fe1db(0x13e)](_0x28b591);}}),router['post'](a0_0x1739a9(0x13b),auth,async(_0x5bd5d9,_0x5f069a)=>{const _0x38b2ee=a0_0x1739a9;try{const {rm_name:_0x1944c8,fg_name:_0x1bc038,rm_email:_0x200e96,fg_email:_0x208c38,rm_mobilenum:_0x1c611c,fg_number:_0x2a3541}=_0x5bd5d9[_0x38b2ee(0x147)],_0x4b0805=await supervisor_settings['findOne']();if(_0x4b0805==null){const _0x28e572=new supervisor_settings({'RMSName':_0x1944c8,'RMSEmail':_0x200e96,'RMSnumber':_0x1c611c,'FGSName':_0x1bc038,'FGSEmail':_0x208c38,'FGSnumber':_0x2a3541});await _0x28e572[_0x38b2ee(0x132)]();}else _0x4b0805['RMSName']=_0x1944c8,_0x4b0805[_0x38b2ee(0x146)]=_0x200e96,_0x4b0805[_0x38b2ee(0x113)]=_0x1c611c,_0x4b0805[_0x38b2ee(0x13c)]=_0x1bc038,_0x4b0805[_0x38b2ee(0x14b)]=_0x208c38,_0x4b0805[_0x38b2ee(0x121)]=_0x2a3541,await _0x4b0805['save']();_0x5bd5d9[_0x38b2ee(0x151)]('success',_0x38b2ee(0x12d)),_0x5f069a[_0x38b2ee(0x130)](_0x38b2ee(0x131));}catch(_0x3d004f){console['log'](_0x3d004f);}}),module['exports']=router;