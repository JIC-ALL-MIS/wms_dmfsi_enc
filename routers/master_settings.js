const a0_0x3099c8=a0_0x10db;(function(_0x54abdc,_0x4287a1){const _0x4daf83=a0_0x10db,_0x2f6288=_0x54abdc();while(!![]){try{const _0x2ecb3f=-parseInt(_0x4daf83(0x137))/0x1*(-parseInt(_0x4daf83(0x158))/0x2)+-parseInt(_0x4daf83(0x157))/0x3*(-parseInt(_0x4daf83(0x16a))/0x4)+parseInt(_0x4daf83(0x129))/0x5*(-parseInt(_0x4daf83(0x162))/0x6)+parseInt(_0x4daf83(0x12b))/0x7*(parseInt(_0x4daf83(0x153))/0x8)+-parseInt(_0x4daf83(0x139))/0x9+parseInt(_0x4daf83(0x15f))/0xa+parseInt(_0x4daf83(0x152))/0xb*(-parseInt(_0x4daf83(0x168))/0xc);if(_0x2ecb3f===_0x4287a1)break;else _0x2f6288['push'](_0x2f6288['shift']());}catch(_0x4c8130){_0x2f6288['push'](_0x2f6288['shift']());}}}(a0_0x2458,0x48588));function a0_0x2458(){const _0x4f46b8=['port','3iwlLxG','39230ZThpZr','log','RMSName','email','render','master_shop_data','errors','5869730SuBWjG','Portuguese\x20(BR)','express','12OqGRvV','/view/email','English','now','master','flash','12xSnmOl','timezone','2032132bfffbY','Chinese','master_settings','Router','/master_shop/view','Portuguese','image','German','user','Spanish','751270zfFJHl','body','7pZKxBj','find','multer','RMSEmail','save','../middleware/auth','/:id','email_settings','currency','language','toLocaleString','supervisor_settings','15tnsvQl','success','2848356DnBZTi','RMSnumber','en-US','currency_placement','/master_shop/view/supervisors','host','2nd\x20master_shop_data','get','Hindi','/view/edit_settings','shop\x20setting\x20edit\x20successfully','hidden','/view','post','params','French','redirect','Arabic','findOne','password','/master_shop/view/email','FGSnumber','Arabic\x20(ae)','FGSName','English\x20(US)','5511792sljZGK','201288xvbCaE','single','../public/language/languages.json'];a0_0x2458=function(){return _0x4f46b8;};return a0_0x2458();}const express=require(a0_0x3099c8(0x161)),app=express(),router=express[a0_0x3099c8(0x16d)](),multer=require(a0_0x3099c8(0x12d)),{profile,master_shop,email_settings,supervisor_settings}=require('../models/all_models'),auth=require(a0_0x3099c8(0x130));function a0_0x10db(_0x2e10e6,_0x10dcf2){const _0x24582d=a0_0x2458();return a0_0x10db=function(_0x10db2e,_0x3c92cf){_0x10db2e=_0x10db2e-0x128;let _0x3c8c9f=_0x24582d[_0x10db2e];return _0x3c8c9f;},a0_0x10db(_0x2e10e6,_0x10dcf2);}var timezones=require('timezones-list');const users=require(a0_0x3099c8(0x155)),storage=multer['diskStorage']({'destination':(_0x1e2263,_0x518c14,_0x3ce69a)=>{_0x3ce69a(null,'./public/upload');},'filename':(_0x1959bd,_0x5741f6,_0x320a53)=>{const _0x8794c9=a0_0x3099c8;_0x320a53(null,Date[_0x8794c9(0x165)]()+_0x5741f6['originalname']);}}),upload=multer({'storage':storage});router[a0_0x3099c8(0x140)](a0_0x3099c8(0x145),auth,async(_0x49e0c8,_0x5356d8)=>{const _0x1c08ff=a0_0x3099c8;try{const {username:_0x452c17,email:_0x1ca42a,role:_0x2fcf44}=_0x49e0c8[_0x1c08ff(0x172)],_0x18ed7d=_0x49e0c8[_0x1c08ff(0x172)],_0x134b8c=await profile[_0x1c08ff(0x14b)]({'email':_0x18ed7d[_0x1c08ff(0x15b)]}),_0x196d0c=await master_shop[_0x1c08ff(0x12c)]();console['log']('master',_0x196d0c);const _0x2d1264=new Date()[_0x1c08ff(0x135)](_0x1c08ff(0x13b),{'timeZone':_0x196d0c[0x0][_0x1c08ff(0x169)]});console['log'](_0x1c08ff(0x169),_0x2d1264);if(_0x196d0c[0x0][_0x1c08ff(0x134)]==_0x1c08ff(0x151)){var _0x1c7e02=users[_0x1c08ff(0x164)];console[_0x1c08ff(0x159)](_0x1c7e02);}else{if(_0x196d0c[0x0]['language']==_0x1c08ff(0x141))var _0x1c7e02=users[_0x1c08ff(0x141)];else{if(_0x196d0c[0x0][_0x1c08ff(0x134)]==_0x1c08ff(0x171))var _0x1c7e02=users[_0x1c08ff(0x171)];else{if(_0x196d0c[0x0][_0x1c08ff(0x134)]==_0x1c08ff(0x128))var _0x1c7e02=users[_0x1c08ff(0x128)];else{if(_0x196d0c[0x0]['language']==_0x1c08ff(0x148))var _0x1c7e02=users[_0x1c08ff(0x148)];else{if(_0x196d0c[0x0][_0x1c08ff(0x134)]==_0x1c08ff(0x160))var _0x1c7e02=users[_0x1c08ff(0x16f)];else{if(_0x196d0c[0x0]['language']==_0x1c08ff(0x16b))var _0x1c7e02=users['Chinese'];else{if(_0x196d0c[0x0]['language']=='Arabic\x20(ae)')var _0x1c7e02=users[_0x1c08ff(0x14a)];}}}}}}}_0x5356d8[_0x1c08ff(0x15c)](_0x1c08ff(0x16c),{'success':_0x49e0c8[_0x1c08ff(0x167)]('success'),'errors':_0x49e0c8[_0x1c08ff(0x167)]('errors'),'role':_0x18ed7d,'profile':_0x134b8c,'master_shop':_0x196d0c,'timezones':timezones,'language':_0x1c7e02});}catch(_0x23bb18){console[_0x1c08ff(0x159)](_0x23bb18);}}),router[a0_0x3099c8(0x140)](a0_0x3099c8(0x131),auth,async(_0x1b348d,_0x317dee)=>{const _0x48ceb5=a0_0x3099c8;try{console[_0x48ceb5(0x159)]('language'),console[_0x48ceb5(0x159)](_0x1b348d['params']['id']);const _0x535ea4=await master_shop['findOne']();_0x535ea4['language']=_0x1b348d[_0x48ceb5(0x147)]['id'],await _0x535ea4[_0x48ceb5(0x12f)](),console[_0x48ceb5(0x159)](_0x48ceb5(0x166),_0x535ea4);}catch(_0x58e0c1){console[_0x48ceb5(0x159)](_0x58e0c1);}}),router[a0_0x3099c8(0x146)](a0_0x3099c8(0x142),auth,upload[a0_0x3099c8(0x154)](a0_0x3099c8(0x170)),async(_0x347d6b,_0x3567a1)=>{const _0x4b817e=a0_0x3099c8;try{const {site_title:_0x255eda,currency:_0x29fea3,currency_placement:_0x5bc06b,timezone:_0x5b58b1}=_0x347d6b['body'];if(_0x347d6b[_0x4b817e(0x12a)][_0x4b817e(0x144)]==0x0){const _0xfca07b=await master_shop['findOne']();console[_0x4b817e(0x159)](_0x4b817e(0x15d),_0xfca07b);if(_0xfca07b==''){const _0x9ad18f=new master_shop({'site_title':_0x255eda,'image':image,'currency':_0x29fea3,'currency_placement':_0x5bc06b,'timezone':_0x5b58b1}),_0x276fa5=await _0x9ad18f[_0x4b817e(0x12f)]();}else _0xfca07b['site_title']=_0x255eda,_0xfca07b['currency']=_0x29fea3,_0xfca07b[_0x4b817e(0x13c)]=_0x5bc06b,_0xfca07b['timezone']=_0x5b58b1,await _0xfca07b['save']();}else{const _0x25c5bd=_0x347d6b['file']['filename'],_0xfb50f6=await master_shop[_0x4b817e(0x14b)]();console[_0x4b817e(0x159)](_0x4b817e(0x13f),_0xfb50f6);if(_0xfb50f6==null){console[_0x4b817e(0x159)]('1',_0x255eda);const _0x195045=new master_shop({'site_title':_0x255eda,'image':_0x25c5bd,'currency':_0x29fea3,'currency_placement':_0x5bc06b,'timezone':_0x5b58b1}),_0x19fa30=await _0x195045[_0x4b817e(0x12f)]();}else console[_0x4b817e(0x159)]('2',_0x255eda),_0xfb50f6['site_title']=_0x255eda,_0xfb50f6[_0x4b817e(0x170)]=_0x25c5bd,_0xfb50f6[_0x4b817e(0x133)]=_0x29fea3,_0xfb50f6[_0x4b817e(0x13c)]=_0x5bc06b,_0xfb50f6[_0x4b817e(0x169)]=_0x5b58b1,await _0xfb50f6[_0x4b817e(0x12f)]();}_0x347d6b[_0x4b817e(0x167)]('success',_0x4b817e(0x143)),_0x3567a1[_0x4b817e(0x149)](_0x4b817e(0x16e));}catch(_0x486e03){console[_0x4b817e(0x159)](_0x486e03);}}),router[a0_0x3099c8(0x140)](a0_0x3099c8(0x163),auth,async(_0x49bf16,_0x1ec070)=>{const _0x31e95f=a0_0x3099c8;try{const {username:_0x5e607a,email:_0x41b26f,role:_0x363c2e}=_0x49bf16[_0x31e95f(0x172)],_0x3efe72=_0x49bf16[_0x31e95f(0x172)],_0x229578=await profile[_0x31e95f(0x14b)]({'email':_0x3efe72['email']}),_0x2bae99=await master_shop[_0x31e95f(0x12c)]();console[_0x31e95f(0x159)]('master',_0x2bae99);const _0x41e273=await email_settings[_0x31e95f(0x14b)]();console[_0x31e95f(0x159)]('master\x20settings\x20email_data',_0x41e273);if(_0x2bae99[0x0][_0x31e95f(0x134)]==_0x31e95f(0x151)){var _0x3d428e=users['English'];console[_0x31e95f(0x159)](_0x3d428e);}else{if(_0x2bae99[0x0][_0x31e95f(0x134)]==_0x31e95f(0x141))var _0x3d428e=users[_0x31e95f(0x141)];else{if(_0x2bae99[0x0][_0x31e95f(0x134)]==_0x31e95f(0x171))var _0x3d428e=users[_0x31e95f(0x171)];else{if(_0x2bae99[0x0][_0x31e95f(0x134)]==_0x31e95f(0x128))var _0x3d428e=users[_0x31e95f(0x128)];else{if(_0x2bae99[0x0][_0x31e95f(0x134)]==_0x31e95f(0x148))var _0x3d428e=users[_0x31e95f(0x148)];else{if(_0x2bae99[0x0][_0x31e95f(0x134)]==_0x31e95f(0x160))var _0x3d428e=users[_0x31e95f(0x16f)];else{if(_0x2bae99[0x0][_0x31e95f(0x134)]=='Chinese')var _0x3d428e=users[_0x31e95f(0x16b)];else{if(_0x2bae99[0x0][_0x31e95f(0x134)]==_0x31e95f(0x14f))var _0x3d428e=users['Arabic'];}}}}}}}_0x1ec070[_0x31e95f(0x15c)](_0x31e95f(0x132),{'success':_0x49bf16[_0x31e95f(0x167)]('success'),'errors':_0x49bf16[_0x31e95f(0x167)](_0x31e95f(0x15e)),'role':_0x3efe72,'profile':_0x229578,'master_shop':_0x2bae99,'email':_0x41e273,'language':_0x3d428e});}catch(_0x366713){console[_0x31e95f(0x159)](_0x366713);}}),router[a0_0x3099c8(0x146)]('/view/email/edit_settings',auth,async(_0x7cf0ac,_0x170309)=>{const _0x2d9932=a0_0x3099c8;try{const {host:_0x2808e2,port:_0x410e54,email:_0x1f5d96,password:_0x23fe7a}=_0x7cf0ac[_0x2d9932(0x12a)],_0x20639d=await email_settings[_0x2d9932(0x14b)]();if(_0x20639d==null){const _0x47286d=new email_settings({'host':_0x2808e2,'port':_0x410e54,'email':_0x1f5d96,'password':_0x23fe7a});await _0x47286d[_0x2d9932(0x12f)]();}else _0x20639d[_0x2d9932(0x13e)]=_0x2808e2,_0x20639d[_0x2d9932(0x156)]=_0x410e54,_0x20639d['email']=_0x1f5d96,_0x20639d[_0x2d9932(0x14c)]=_0x23fe7a,await _0x20639d[_0x2d9932(0x12f)]();_0x7cf0ac[_0x2d9932(0x167)](_0x2d9932(0x138),_0x2d9932(0x143)),_0x170309['redirect'](_0x2d9932(0x14d));}catch(_0xf46952){console[_0x2d9932(0x159)](_0xf46952);}}),router[a0_0x3099c8(0x140)]('/view/supervisors',auth,async(_0x2efadc,_0x122e07)=>{const _0x2f6c41=a0_0x3099c8;try{const {username:_0x465a46,email:_0x3eea9d,role:_0x377e05}=_0x2efadc[_0x2f6c41(0x172)],_0x4f060c=_0x2efadc[_0x2f6c41(0x172)],_0x3175f3=await supervisor_settings[_0x2f6c41(0x12c)](),_0x38d264=await profile['findOne']({'email':_0x4f060c['email']}),_0x1fe2d7=await master_shop[_0x2f6c41(0x12c)](),_0x289eda=new Date()[_0x2f6c41(0x135)](_0x2f6c41(0x13b),{'timeZone':_0x1fe2d7[0x0][_0x2f6c41(0x169)]});if(_0x1fe2d7[0x0][_0x2f6c41(0x134)]==_0x2f6c41(0x151)){var _0x324d3b=users[_0x2f6c41(0x164)];console[_0x2f6c41(0x159)](_0x324d3b);}else{if(_0x1fe2d7[0x0][_0x2f6c41(0x134)]==_0x2f6c41(0x141))var _0x324d3b=users['Hindi'];else{if(_0x1fe2d7[0x0][_0x2f6c41(0x134)]==_0x2f6c41(0x171))var _0x324d3b=users['German'];else{if(_0x1fe2d7[0x0][_0x2f6c41(0x134)]=='Spanish')var _0x324d3b=users[_0x2f6c41(0x128)];else{if(_0x1fe2d7[0x0][_0x2f6c41(0x134)]==_0x2f6c41(0x148))var _0x324d3b=users[_0x2f6c41(0x148)];else{if(_0x1fe2d7[0x0][_0x2f6c41(0x134)]==_0x2f6c41(0x160))var _0x324d3b=users[_0x2f6c41(0x16f)];else{if(_0x1fe2d7[0x0][_0x2f6c41(0x134)]=='Chinese')var _0x324d3b=users[_0x2f6c41(0x16b)];else{if(_0x1fe2d7[0x0][_0x2f6c41(0x134)]==_0x2f6c41(0x14f))var _0x324d3b=users['Arabic'];}}}}}}}_0x122e07[_0x2f6c41(0x15c)](_0x2f6c41(0x136),{'success':_0x2efadc['flash'](_0x2f6c41(0x138)),'errors':_0x2efadc[_0x2f6c41(0x167)](_0x2f6c41(0x15e)),'role':_0x4f060c,'profile':_0x38d264,'master_shop':_0x1fe2d7,'supervisor_data':_0x3175f3[0x0],'timezones':timezones,'language':_0x324d3b});}catch(_0x3b9d1a){console['log'](_0x3b9d1a);}}),router[a0_0x3099c8(0x146)]('/view/supervisors',auth,async(_0x1c32c3,_0xc0073)=>{const _0x32945e=a0_0x3099c8;try{const {rm_name:_0x123eff,fg_name:_0x18f18b,rm_email:_0x1c0d9d,fg_email:_0x450a6b,rm_mobilenum:_0xa4cd9c,fg_number:_0x24c113}=_0x1c32c3[_0x32945e(0x12a)],_0x44c6f1=await supervisor_settings['findOne']();if(_0x44c6f1==null){const _0x3f7f35=new supervisor_settings({'RMSName':_0x123eff,'RMSEmail':_0x1c0d9d,'RMSnumber':_0xa4cd9c,'FGSName':_0x18f18b,'FGSEmail':_0x450a6b,'FGSnumber':_0x24c113});await _0x3f7f35[_0x32945e(0x12f)]();}else _0x44c6f1[_0x32945e(0x15a)]=_0x123eff,_0x44c6f1[_0x32945e(0x12e)]=_0x1c0d9d,_0x44c6f1[_0x32945e(0x13a)]=_0xa4cd9c,_0x44c6f1[_0x32945e(0x150)]=_0x18f18b,_0x44c6f1['FGSEmail']=_0x450a6b,_0x44c6f1[_0x32945e(0x14e)]=_0x24c113,await _0x44c6f1['save']();_0x1c32c3[_0x32945e(0x167)](_0x32945e(0x138),'shop\x20setting\x20edit\x20successfully'),_0xc0073[_0x32945e(0x149)](_0x32945e(0x13d));}catch(_0x4e894c){console[_0x32945e(0x159)](_0x4e894c);}}),module['exports']=router;