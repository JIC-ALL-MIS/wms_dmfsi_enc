const a0_0x25f2ca=a0_0x48fa;(function(_0x5d5ac6,_0x33471c){const _0xcfd255=a0_0x48fa,_0x4e0ab6=_0x5d5ac6();while(!![]){try{const _0x3502fb=-parseInt(_0xcfd255(0xc1))/0x1*(-parseInt(_0xcfd255(0x9d))/0x2)+-parseInt(_0xcfd255(0x7d))/0x3+-parseInt(_0xcfd255(0xa6))/0x4+parseInt(_0xcfd255(0x8e))/0x5+parseInt(_0xcfd255(0xa9))/0x6+parseInt(_0xcfd255(0xbe))/0x7*(parseInt(_0xcfd255(0xb7))/0x8)+parseInt(_0xcfd255(0xab))/0x9*(-parseInt(_0xcfd255(0xa3))/0xa);if(_0x3502fb===_0x33471c)break;else _0x4e0ab6['push'](_0x4e0ab6['shift']());}catch(_0x224512){_0x4e0ab6['push'](_0x4e0ab6['shift']());}}}(a0_0x5629,0x1f223));function a0_0x48fa(_0x3c7240,_0x4996b8){const _0x5629e3=a0_0x5629();return a0_0x48fa=function(_0x48faa7,_0x19eaa6){_0x48faa7=_0x48faa7-0x78;let _0xcacab9=_0x5629e3[_0x48faa7];return _0xcacab9;},a0_0x48fa(_0x3c7240,_0x4996b8);}const express=require(a0_0x25f2ca(0xb1)),app=express(),router=express[a0_0x25f2ca(0x78)](),multer=require('multer'),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x25f2ca(0x7f)),auth=require('../middleware/auth');var timezones=require('timezones-list');const users=require(a0_0x25f2ca(0xb3)),storage=multer[a0_0x25f2ca(0xb9)]({'destination':(_0x1893fd,_0x1b25d0,_0x476228)=>{const _0x1ad236=a0_0x25f2ca;_0x476228(null,_0x1ad236(0x87));},'filename':(_0xba201d,_0x335410,_0x297166)=>{const _0xd92842=a0_0x25f2ca;_0x297166(null,Date[_0xd92842(0x91)]()+_0x335410['originalname']);}}),upload=multer({'storage':storage});function a0_0x5629(){const _0x32556a=['user','email','FGSEmail','Hindi','password','timezone','en-US','save','master_settings','658JoYPUP','toLocaleString','English','currency_placement','params','/master_shop/view/email','1930HIHSKP','email_settings','shop\x20setting\x20edit\x20successfully','826748VcsmqV','findOne','German','1331772tLhYTL','Portuguese','9306XQBKEn','Arabic\x20(ae)','language','success','Portuguese\x20(BR)','image','express','flash','../public/language/languages.json','FGSName','Spanish','2nd\x20master_shop_data','2176TnCUyO','English\x20(US)','diskStorage','body','exports','render','post','413EKLhlE','find','port','485JvqNvq','Router','currency','/view/supervisors','log','French','342216yLGEMn','RMSName','../models/all_models','master','/master_shop/view','filename','/view/email/edit_settings','Arabic','file','redirect','./public/upload','/view/edit_settings','/:id','Chinese','get','FGSnumber','site_title','1251345LPIDgK','master_shop_data','/master_shop/view/supervisors','now','errors','/view'];a0_0x5629=function(){return _0x32556a;};return a0_0x5629();}router[a0_0x25f2ca(0x8b)](a0_0x25f2ca(0x93),auth,async(_0x231ff1,_0x1297b1)=>{const _0x1e7aba=a0_0x25f2ca;try{const {username:_0x3c4717,email:_0x93762d,role:_0x34b4ee}=_0x231ff1[_0x1e7aba(0x94)],_0x209677=_0x231ff1[_0x1e7aba(0x94)],_0x928ed9=await profile[_0x1e7aba(0xa7)]({'email':_0x209677[_0x1e7aba(0x95)]}),_0x34e788=await master_shop[_0x1e7aba(0xbf)]();console[_0x1e7aba(0x7b)]('master',_0x34e788);const _0x51e8bf=new Date()[_0x1e7aba(0x9e)](_0x1e7aba(0x9a),{'timeZone':_0x34e788[0x0]['timezone']});console[_0x1e7aba(0x7b)](_0x1e7aba(0x99),_0x51e8bf);if(_0x34e788[0x0]['language']==_0x1e7aba(0xb8)){var _0xe9e794=users[_0x1e7aba(0x9f)];console['log'](_0xe9e794);}else{if(_0x34e788[0x0]['language']==_0x1e7aba(0x97))var _0xe9e794=users[_0x1e7aba(0x97)];else{if(_0x34e788[0x0][_0x1e7aba(0xad)]=='German')var _0xe9e794=users[_0x1e7aba(0xa8)];else{if(_0x34e788[0x0][_0x1e7aba(0xad)]==_0x1e7aba(0xb5))var _0xe9e794=users[_0x1e7aba(0xb5)];else{if(_0x34e788[0x0][_0x1e7aba(0xad)]==_0x1e7aba(0x7c))var _0xe9e794=users[_0x1e7aba(0x7c)];else{if(_0x34e788[0x0][_0x1e7aba(0xad)]==_0x1e7aba(0xaf))var _0xe9e794=users['Portuguese'];else{if(_0x34e788[0x0][_0x1e7aba(0xad)]==_0x1e7aba(0x8a))var _0xe9e794=users[_0x1e7aba(0x8a)];else{if(_0x34e788[0x0][_0x1e7aba(0xad)]==_0x1e7aba(0xac))var _0xe9e794=users[_0x1e7aba(0x84)];}}}}}}}_0x1297b1['render'](_0x1e7aba(0x9c),{'success':_0x231ff1[_0x1e7aba(0xb2)](_0x1e7aba(0xae)),'errors':_0x231ff1[_0x1e7aba(0xb2)](_0x1e7aba(0x92)),'role':_0x209677,'profile':_0x928ed9,'master_shop':_0x34e788,'timezones':timezones,'language':_0xe9e794});}catch(_0x4618b1){console[_0x1e7aba(0x7b)](_0x4618b1);}}),router[a0_0x25f2ca(0x8b)](a0_0x25f2ca(0x89),auth,async(_0x1abb4e,_0x260f2c)=>{const _0xaf580a=a0_0x25f2ca;try{console[_0xaf580a(0x7b)](_0xaf580a(0xad)),console['log'](_0x1abb4e[_0xaf580a(0xa1)]['id']);const _0x138b18=await master_shop[_0xaf580a(0xa7)]();_0x138b18[_0xaf580a(0xad)]=_0x1abb4e[_0xaf580a(0xa1)]['id'],await _0x138b18[_0xaf580a(0x9b)](),console[_0xaf580a(0x7b)](_0xaf580a(0x80),_0x138b18);}catch(_0x17058e){console[_0xaf580a(0x7b)](_0x17058e);}}),router[a0_0x25f2ca(0xbd)](a0_0x25f2ca(0x88),auth,upload['single'](a0_0x25f2ca(0xb0)),async(_0x135278,_0x23c6eb)=>{const _0x41d0cb=a0_0x25f2ca;try{const {site_title:_0x59a041,currency:_0x3763a7,currency_placement:_0x58ba19,timezone:_0x4bb48a}=_0x135278['body'];if(_0x135278[_0x41d0cb(0xba)]['hidden']==0x0){const _0x4b8c1c=await master_shop[_0x41d0cb(0xa7)]();console[_0x41d0cb(0x7b)](_0x41d0cb(0x8f),_0x4b8c1c);if(_0x4b8c1c==''){const _0x4ae22e=new master_shop({'site_title':_0x59a041,'image':image,'currency':_0x3763a7,'currency_placement':_0x58ba19,'timezone':_0x4bb48a}),_0x7f58df=await _0x4ae22e[_0x41d0cb(0x9b)]();}else _0x4b8c1c[_0x41d0cb(0x8d)]=_0x59a041,_0x4b8c1c[_0x41d0cb(0x79)]=_0x3763a7,_0x4b8c1c[_0x41d0cb(0xa0)]=_0x58ba19,_0x4b8c1c[_0x41d0cb(0x99)]=_0x4bb48a,await _0x4b8c1c[_0x41d0cb(0x9b)]();}else{const _0x449efd=_0x135278[_0x41d0cb(0x85)][_0x41d0cb(0x82)],_0x3fd379=await master_shop[_0x41d0cb(0xa7)]();console[_0x41d0cb(0x7b)](_0x41d0cb(0xb6),_0x3fd379);if(_0x3fd379==null){console['log']('1',_0x59a041);const _0x362881=new master_shop({'site_title':_0x59a041,'image':_0x449efd,'currency':_0x3763a7,'currency_placement':_0x58ba19,'timezone':_0x4bb48a}),_0x6b348b=await _0x362881[_0x41d0cb(0x9b)]();}else console[_0x41d0cb(0x7b)]('2',_0x59a041),_0x3fd379[_0x41d0cb(0x8d)]=_0x59a041,_0x3fd379[_0x41d0cb(0xb0)]=_0x449efd,_0x3fd379[_0x41d0cb(0x79)]=_0x3763a7,_0x3fd379[_0x41d0cb(0xa0)]=_0x58ba19,_0x3fd379[_0x41d0cb(0x99)]=_0x4bb48a,await _0x3fd379[_0x41d0cb(0x9b)]();}_0x135278[_0x41d0cb(0xb2)](_0x41d0cb(0xae),_0x41d0cb(0xa5)),_0x23c6eb[_0x41d0cb(0x86)](_0x41d0cb(0x81));}catch(_0x2404fb){console['log'](_0x2404fb);}}),router['get']('/view/email',auth,async(_0x2d6390,_0x20c89e)=>{const _0x16b5f0=a0_0x25f2ca;try{const {username:_0x451a3d,email:_0x61946b,role:_0xb23549}=_0x2d6390[_0x16b5f0(0x94)],_0x485a24=_0x2d6390['user'],_0x56d5d9=await profile[_0x16b5f0(0xa7)]({'email':_0x485a24['email']}),_0x31123f=await master_shop[_0x16b5f0(0xbf)]();console[_0x16b5f0(0x7b)](_0x16b5f0(0x80),_0x31123f);const _0x544cd7=await email_settings[_0x16b5f0(0xa7)]();console[_0x16b5f0(0x7b)]('master\x20settings\x20email_data',_0x544cd7);if(_0x31123f[0x0][_0x16b5f0(0xad)]==_0x16b5f0(0xb8)){var _0x1946f7=users[_0x16b5f0(0x9f)];console[_0x16b5f0(0x7b)](_0x1946f7);}else{if(_0x31123f[0x0][_0x16b5f0(0xad)]=='Hindi')var _0x1946f7=users['Hindi'];else{if(_0x31123f[0x0][_0x16b5f0(0xad)]==_0x16b5f0(0xa8))var _0x1946f7=users[_0x16b5f0(0xa8)];else{if(_0x31123f[0x0][_0x16b5f0(0xad)]==_0x16b5f0(0xb5))var _0x1946f7=users[_0x16b5f0(0xb5)];else{if(_0x31123f[0x0][_0x16b5f0(0xad)]==_0x16b5f0(0x7c))var _0x1946f7=users[_0x16b5f0(0x7c)];else{if(_0x31123f[0x0]['language']==_0x16b5f0(0xaf))var _0x1946f7=users['Portuguese'];else{if(_0x31123f[0x0][_0x16b5f0(0xad)]=='Chinese')var _0x1946f7=users[_0x16b5f0(0x8a)];else{if(_0x31123f[0x0][_0x16b5f0(0xad)]==_0x16b5f0(0xac))var _0x1946f7=users['Arabic'];}}}}}}}_0x20c89e[_0x16b5f0(0xbc)](_0x16b5f0(0xa4),{'success':_0x2d6390[_0x16b5f0(0xb2)](_0x16b5f0(0xae)),'errors':_0x2d6390[_0x16b5f0(0xb2)](_0x16b5f0(0x92)),'role':_0x485a24,'profile':_0x56d5d9,'master_shop':_0x31123f,'email':_0x544cd7,'language':_0x1946f7});}catch(_0x5387fa){console['log'](_0x5387fa);}}),router['post'](a0_0x25f2ca(0x83),auth,async(_0x1c3af5,_0x460715)=>{const _0x1de702=a0_0x25f2ca;try{const {host:_0x30c1b2,port:_0x565269,email:_0x19f6e8,password:_0x1c07e0}=_0x1c3af5[_0x1de702(0xba)],_0x30bef4=await email_settings[_0x1de702(0xa7)]();if(_0x30bef4==null){const _0x2227ca=new email_settings({'host':_0x30c1b2,'port':_0x565269,'email':_0x19f6e8,'password':_0x1c07e0});await _0x2227ca[_0x1de702(0x9b)]();}else _0x30bef4['host']=_0x30c1b2,_0x30bef4[_0x1de702(0xc0)]=_0x565269,_0x30bef4[_0x1de702(0x95)]=_0x19f6e8,_0x30bef4[_0x1de702(0x98)]=_0x1c07e0,await _0x30bef4[_0x1de702(0x9b)]();_0x1c3af5[_0x1de702(0xb2)]('success',_0x1de702(0xa5)),_0x460715[_0x1de702(0x86)](_0x1de702(0xa2));}catch(_0x4ad43a){console[_0x1de702(0x7b)](_0x4ad43a);}}),router[a0_0x25f2ca(0x8b)](a0_0x25f2ca(0x7a),auth,async(_0x16a08c,_0xc8d79)=>{const _0x3b568b=a0_0x25f2ca;try{const {username:_0xd09e20,email:_0x2f1b08,role:_0x19982e}=_0x16a08c['user'],_0x13b8f5=_0x16a08c['user'],_0x11900b=await supervisor_settings[_0x3b568b(0xbf)](),_0x40ba6d=await profile[_0x3b568b(0xa7)]({'email':_0x13b8f5[_0x3b568b(0x95)]}),_0x3bbae6=await master_shop[_0x3b568b(0xbf)](),_0x3ff68b=new Date()[_0x3b568b(0x9e)](_0x3b568b(0x9a),{'timeZone':_0x3bbae6[0x0]['timezone']});if(_0x3bbae6[0x0][_0x3b568b(0xad)]==_0x3b568b(0xb8)){var _0xf3672d=users[_0x3b568b(0x9f)];console[_0x3b568b(0x7b)](_0xf3672d);}else{if(_0x3bbae6[0x0]['language']=='Hindi')var _0xf3672d=users['Hindi'];else{if(_0x3bbae6[0x0][_0x3b568b(0xad)]=='German')var _0xf3672d=users[_0x3b568b(0xa8)];else{if(_0x3bbae6[0x0][_0x3b568b(0xad)]==_0x3b568b(0xb5))var _0xf3672d=users[_0x3b568b(0xb5)];else{if(_0x3bbae6[0x0]['language']==_0x3b568b(0x7c))var _0xf3672d=users[_0x3b568b(0x7c)];else{if(_0x3bbae6[0x0][_0x3b568b(0xad)]==_0x3b568b(0xaf))var _0xf3672d=users[_0x3b568b(0xaa)];else{if(_0x3bbae6[0x0][_0x3b568b(0xad)]==_0x3b568b(0x8a))var _0xf3672d=users[_0x3b568b(0x8a)];else{if(_0x3bbae6[0x0][_0x3b568b(0xad)]==_0x3b568b(0xac))var _0xf3672d=users['Arabic'];}}}}}}}_0xc8d79[_0x3b568b(0xbc)]('supervisor_settings',{'success':_0x16a08c[_0x3b568b(0xb2)](_0x3b568b(0xae)),'errors':_0x16a08c[_0x3b568b(0xb2)](_0x3b568b(0x92)),'role':_0x13b8f5,'profile':_0x40ba6d,'master_shop':_0x3bbae6,'supervisor_data':_0x11900b[0x0],'timezones':timezones,'language':_0xf3672d});}catch(_0x350f53){console['log'](_0x350f53);}}),router['post'](a0_0x25f2ca(0x7a),auth,async(_0x255021,_0x2592a5)=>{const _0x49e5d9=a0_0x25f2ca;try{const {rm_name:_0x4ac7fa,fg_name:_0x256cb8,rm_email:_0xcfbbce,fg_email:_0x1ed6ca,rm_mobilenum:_0x4cb789,fg_number:_0x2190e7}=_0x255021[_0x49e5d9(0xba)],_0x525614=await supervisor_settings[_0x49e5d9(0xa7)]();if(_0x525614==null){const _0x25b1ea=new supervisor_settings({'RMSName':_0x4ac7fa,'RMSEmail':_0xcfbbce,'RMSnumber':_0x4cb789,'FGSName':_0x256cb8,'FGSEmail':_0x1ed6ca,'FGSnumber':_0x2190e7});await _0x25b1ea[_0x49e5d9(0x9b)]();}else _0x525614[_0x49e5d9(0x7e)]=_0x4ac7fa,_0x525614['RMSEmail']=_0xcfbbce,_0x525614['RMSnumber']=_0x4cb789,_0x525614[_0x49e5d9(0xb4)]=_0x256cb8,_0x525614[_0x49e5d9(0x96)]=_0x1ed6ca,_0x525614[_0x49e5d9(0x8c)]=_0x2190e7,await _0x525614[_0x49e5d9(0x9b)]();_0x255021[_0x49e5d9(0xb2)](_0x49e5d9(0xae),_0x49e5d9(0xa5)),_0x2592a5['redirect'](_0x49e5d9(0x90));}catch(_0x147cf3){console[_0x49e5d9(0x7b)](_0x147cf3);}}),module[a0_0x25f2ca(0xbb)]=router;