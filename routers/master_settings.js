const a0_0x52870b=a0_0x296e;(function(_0x58d70a,_0x27f304){const _0x4c4669=a0_0x296e,_0x59a456=_0x58d70a();while(!![]){try{const _0x55d801=parseInt(_0x4c4669(0x107))/0x1*(-parseInt(_0x4c4669(0x136))/0x2)+-parseInt(_0x4c4669(0x116))/0x3*(parseInt(_0x4c4669(0x10d))/0x4)+parseInt(_0x4c4669(0x122))/0x5+-parseInt(_0x4c4669(0x147))/0x6+-parseInt(_0x4c4669(0x133))/0x7*(-parseInt(_0x4c4669(0x118))/0x8)+parseInt(_0x4c4669(0x123))/0x9*(-parseInt(_0x4c4669(0x13f))/0xa)+parseInt(_0x4c4669(0x10b))/0xb;if(_0x55d801===_0x27f304)break;else _0x59a456['push'](_0x59a456['shift']());}catch(_0x357bd3){_0x59a456['push'](_0x59a456['shift']());}}}(a0_0x4791,0x7ae67));const express=require(a0_0x52870b(0x109)),app=express(),router=express[a0_0x52870b(0x139)](),multer=require(a0_0x52870b(0x142)),{profile,master_shop,email_settings,supervisor_settings}=require(a0_0x52870b(0x137)),auth=require(a0_0x52870b(0x145));function a0_0x296e(_0x2a0a79,_0x150d5a){const _0x479122=a0_0x4791();return a0_0x296e=function(_0x296e71,_0x1915fc){_0x296e71=_0x296e71-0x104;let _0x19ca68=_0x479122[_0x296e71];return _0x19ca68;},a0_0x296e(_0x2a0a79,_0x150d5a);}function a0_0x4791(){const _0x24ec0e=['shop\x20setting\x20edit\x20successfully','64HlBmZH','../models/all_models','/master_shop/view/email','Router','body','email','/view/supervisors','image','FGSName','10AiEOPk','redirect','params','multer','master','save','../middleware/auth','findOne','3288342WVGzvH','RMSName','supervisor_settings','render','get','Arabic\x20(ae)','Portuguese\x20(BR)','master_shop_data','Arabic','single','/view/email/edit_settings','1621UPiZQS','RMSnumber','express','exports','19467294vkXokW','originalname','4mPxrtl','find','user','2nd\x20master_shop_data','toLocaleString','English','/view/email','success','log','2398149Imuppq','currency_placement','8392laUgUL','German','FGSEmail','file','currency','Chinese','/view','./public/upload','Hindi','post','1300520QaODkh','4222089wxsYCN','French','language','../public/language/languages.json','timezone','/view/edit_settings','flash','en-US','/master_shop/view','RMSEmail','/master_shop/view/supervisors','port','errors','host','Spanish','English\x20(US)','2282MYnUUu','Portuguese'];a0_0x4791=function(){return _0x24ec0e;};return a0_0x4791();}var timezones=require('timezones-list');const users=require(a0_0x52870b(0x126)),storage=multer['diskStorage']({'destination':(_0x424ae6,_0x24b40e,_0x3593f0)=>{const _0x526752=a0_0x52870b;_0x3593f0(null,_0x526752(0x11f));},'filename':(_0xf10d59,_0x37cd13,_0x4249a9)=>{const _0x27a547=a0_0x52870b;_0x4249a9(null,Date['now']()+_0x37cd13[_0x27a547(0x10c)]);}}),upload=multer({'storage':storage});router[a0_0x52870b(0x14b)](a0_0x52870b(0x11e),auth,async(_0x3626d5,_0x39f195)=>{const _0x13bf9f=a0_0x52870b;try{const {username:_0x1e886,email:_0x580372,role:_0x96d1f0}=_0x3626d5[_0x13bf9f(0x10f)],_0x4991be=_0x3626d5[_0x13bf9f(0x10f)],_0x8bd438=await profile['findOne']({'email':_0x4991be[_0x13bf9f(0x13b)]}),_0x1a2596=await master_shop[_0x13bf9f(0x10e)]();console['log'](_0x13bf9f(0x143),_0x1a2596);const _0x2404a7=new Date()[_0x13bf9f(0x111)](_0x13bf9f(0x12a),{'timeZone':_0x1a2596[0x0][_0x13bf9f(0x127)]});console[_0x13bf9f(0x115)](_0x13bf9f(0x127),_0x2404a7);if(_0x1a2596[0x0][_0x13bf9f(0x125)]=='English\x20(US)'){var _0x233189=users[_0x13bf9f(0x112)];console['log'](_0x233189);}else{if(_0x1a2596[0x0]['language']=='Hindi')var _0x233189=users[_0x13bf9f(0x120)];else{if(_0x1a2596[0x0][_0x13bf9f(0x125)]==_0x13bf9f(0x119))var _0x233189=users['German'];else{if(_0x1a2596[0x0]['language']==_0x13bf9f(0x131))var _0x233189=users[_0x13bf9f(0x131)];else{if(_0x1a2596[0x0]['language']==_0x13bf9f(0x124))var _0x233189=users[_0x13bf9f(0x124)];else{if(_0x1a2596[0x0][_0x13bf9f(0x125)]=='Portuguese\x20(BR)')var _0x233189=users['Portuguese'];else{if(_0x1a2596[0x0][_0x13bf9f(0x125)]==_0x13bf9f(0x11d))var _0x233189=users[_0x13bf9f(0x11d)];else{if(_0x1a2596[0x0][_0x13bf9f(0x125)]==_0x13bf9f(0x14c))var _0x233189=users[_0x13bf9f(0x104)];}}}}}}}_0x39f195[_0x13bf9f(0x14a)]('master_settings',{'success':_0x3626d5[_0x13bf9f(0x129)](_0x13bf9f(0x114)),'errors':_0x3626d5[_0x13bf9f(0x129)]('errors'),'role':_0x4991be,'profile':_0x8bd438,'master_shop':_0x1a2596,'timezones':timezones,'language':_0x233189});}catch(_0x3f0804){console[_0x13bf9f(0x115)](_0x3f0804);}}),router[a0_0x52870b(0x14b)]('/:id',auth,async(_0x7ca461,_0x20ad56)=>{const _0x32b460=a0_0x52870b;try{console['log'](_0x32b460(0x125)),console[_0x32b460(0x115)](_0x7ca461[_0x32b460(0x141)]['id']);const _0x3de3ef=await master_shop[_0x32b460(0x146)]();_0x3de3ef[_0x32b460(0x125)]=_0x7ca461[_0x32b460(0x141)]['id'],await _0x3de3ef['save'](),console[_0x32b460(0x115)](_0x32b460(0x143),_0x3de3ef);}catch(_0x54488f){console[_0x32b460(0x115)](_0x54488f);}}),router['post'](a0_0x52870b(0x128),auth,upload[a0_0x52870b(0x105)](a0_0x52870b(0x13d)),async(_0x98dd40,_0xd257f5)=>{const _0x3e43df=a0_0x52870b;try{const {site_title:_0x141651,currency:_0x11625,currency_placement:_0x1a4cb9,timezone:_0x2f573a}=_0x98dd40[_0x3e43df(0x13a)];if(_0x98dd40['body']['hidden']==0x0){const _0x521da1=await master_shop['findOne']();console[_0x3e43df(0x115)](_0x3e43df(0x14e),_0x521da1);if(_0x521da1==''){const _0x181c9d=new master_shop({'site_title':_0x141651,'image':image,'currency':_0x11625,'currency_placement':_0x1a4cb9,'timezone':_0x2f573a}),_0x311a27=await _0x181c9d[_0x3e43df(0x144)]();}else _0x521da1['site_title']=_0x141651,_0x521da1[_0x3e43df(0x11c)]=_0x11625,_0x521da1[_0x3e43df(0x117)]=_0x1a4cb9,_0x521da1[_0x3e43df(0x127)]=_0x2f573a,await _0x521da1[_0x3e43df(0x144)]();}else{const _0x873a21=_0x98dd40[_0x3e43df(0x11b)]['filename'],_0x44b62a=await master_shop['findOne']();console['log'](_0x3e43df(0x110),_0x44b62a);if(_0x44b62a==null){console[_0x3e43df(0x115)]('1',_0x141651);const _0x47c8ea=new master_shop({'site_title':_0x141651,'image':_0x873a21,'currency':_0x11625,'currency_placement':_0x1a4cb9,'timezone':_0x2f573a}),_0x3b7608=await _0x47c8ea[_0x3e43df(0x144)]();}else console[_0x3e43df(0x115)]('2',_0x141651),_0x44b62a['site_title']=_0x141651,_0x44b62a[_0x3e43df(0x13d)]=_0x873a21,_0x44b62a[_0x3e43df(0x11c)]=_0x11625,_0x44b62a[_0x3e43df(0x117)]=_0x1a4cb9,_0x44b62a[_0x3e43df(0x127)]=_0x2f573a,await _0x44b62a['save']();}_0x98dd40[_0x3e43df(0x129)](_0x3e43df(0x114),_0x3e43df(0x135)),_0xd257f5[_0x3e43df(0x140)](_0x3e43df(0x12b));}catch(_0x4ad28c){console[_0x3e43df(0x115)](_0x4ad28c);}}),router[a0_0x52870b(0x14b)](a0_0x52870b(0x113),auth,async(_0x421ba3,_0x51ff73)=>{const _0x15c6ad=a0_0x52870b;try{const {username:_0xaedbda,email:_0x120147,role:_0x1f7fc4}=_0x421ba3[_0x15c6ad(0x10f)],_0x3ec038=_0x421ba3['user'],_0x585ef7=await profile[_0x15c6ad(0x146)]({'email':_0x3ec038[_0x15c6ad(0x13b)]}),_0x4ab694=await master_shop[_0x15c6ad(0x10e)]();console[_0x15c6ad(0x115)]('master',_0x4ab694);const _0x37e316=await email_settings[_0x15c6ad(0x146)]();console[_0x15c6ad(0x115)]('master\x20settings\x20email_data',_0x37e316);if(_0x4ab694[0x0]['language']=='English\x20(US)'){var _0x3b113b=users['English'];console[_0x15c6ad(0x115)](_0x3b113b);}else{if(_0x4ab694[0x0][_0x15c6ad(0x125)]=='Hindi')var _0x3b113b=users['Hindi'];else{if(_0x4ab694[0x0][_0x15c6ad(0x125)]==_0x15c6ad(0x119))var _0x3b113b=users[_0x15c6ad(0x119)];else{if(_0x4ab694[0x0][_0x15c6ad(0x125)]==_0x15c6ad(0x131))var _0x3b113b=users['Spanish'];else{if(_0x4ab694[0x0][_0x15c6ad(0x125)]=='French')var _0x3b113b=users[_0x15c6ad(0x124)];else{if(_0x4ab694[0x0][_0x15c6ad(0x125)]=='Portuguese\x20(BR)')var _0x3b113b=users[_0x15c6ad(0x134)];else{if(_0x4ab694[0x0]['language']==_0x15c6ad(0x11d))var _0x3b113b=users[_0x15c6ad(0x11d)];else{if(_0x4ab694[0x0][_0x15c6ad(0x125)]==_0x15c6ad(0x14c))var _0x3b113b=users[_0x15c6ad(0x104)];}}}}}}}_0x51ff73[_0x15c6ad(0x14a)]('email_settings',{'success':_0x421ba3['flash'](_0x15c6ad(0x114)),'errors':_0x421ba3['flash'](_0x15c6ad(0x12f)),'role':_0x3ec038,'profile':_0x585ef7,'master_shop':_0x4ab694,'email':_0x37e316,'language':_0x3b113b});}catch(_0x31edc5){console['log'](_0x31edc5);}}),router['post'](a0_0x52870b(0x106),auth,async(_0x29a0bb,_0x2e034e)=>{const _0x1c4df1=a0_0x52870b;try{const {host:_0x418638,port:_0x5a4362,email:_0x3351a9,password:_0x41e5e4}=_0x29a0bb[_0x1c4df1(0x13a)],_0x2b3c57=await email_settings[_0x1c4df1(0x146)]();if(_0x2b3c57==null){const _0x4efdac=new email_settings({'host':_0x418638,'port':_0x5a4362,'email':_0x3351a9,'password':_0x41e5e4});await _0x4efdac[_0x1c4df1(0x144)]();}else _0x2b3c57[_0x1c4df1(0x130)]=_0x418638,_0x2b3c57[_0x1c4df1(0x12e)]=_0x5a4362,_0x2b3c57['email']=_0x3351a9,_0x2b3c57['password']=_0x41e5e4,await _0x2b3c57['save']();_0x29a0bb[_0x1c4df1(0x129)]('success',_0x1c4df1(0x135)),_0x2e034e[_0x1c4df1(0x140)](_0x1c4df1(0x138));}catch(_0x3ad6f7){console[_0x1c4df1(0x115)](_0x3ad6f7);}}),router[a0_0x52870b(0x14b)](a0_0x52870b(0x13c),auth,async(_0x34892a,_0xd3458c)=>{const _0x1a9c1b=a0_0x52870b;try{const {username:_0x2a62b4,email:_0x5d766e,role:_0x5efd07}=_0x34892a['user'],_0x1235d1=_0x34892a[_0x1a9c1b(0x10f)],_0x1c5279=await supervisor_settings[_0x1a9c1b(0x10e)](),_0x2805d2=await profile[_0x1a9c1b(0x146)]({'email':_0x1235d1['email']}),_0x50180c=await master_shop[_0x1a9c1b(0x10e)](),_0x40781c=new Date()[_0x1a9c1b(0x111)](_0x1a9c1b(0x12a),{'timeZone':_0x50180c[0x0][_0x1a9c1b(0x127)]});if(_0x50180c[0x0][_0x1a9c1b(0x125)]==_0x1a9c1b(0x132)){var _0x3eb3ac=users['English'];console[_0x1a9c1b(0x115)](_0x3eb3ac);}else{if(_0x50180c[0x0][_0x1a9c1b(0x125)]=='Hindi')var _0x3eb3ac=users['Hindi'];else{if(_0x50180c[0x0]['language']=='German')var _0x3eb3ac=users[_0x1a9c1b(0x119)];else{if(_0x50180c[0x0][_0x1a9c1b(0x125)]==_0x1a9c1b(0x131))var _0x3eb3ac=users[_0x1a9c1b(0x131)];else{if(_0x50180c[0x0][_0x1a9c1b(0x125)]==_0x1a9c1b(0x124))var _0x3eb3ac=users[_0x1a9c1b(0x124)];else{if(_0x50180c[0x0][_0x1a9c1b(0x125)]==_0x1a9c1b(0x14d))var _0x3eb3ac=users[_0x1a9c1b(0x134)];else{if(_0x50180c[0x0][_0x1a9c1b(0x125)]==_0x1a9c1b(0x11d))var _0x3eb3ac=users['Chinese'];else{if(_0x50180c[0x0][_0x1a9c1b(0x125)]=='Arabic\x20(ae)')var _0x3eb3ac=users['Arabic'];}}}}}}}_0xd3458c['render'](_0x1a9c1b(0x149),{'success':_0x34892a[_0x1a9c1b(0x129)](_0x1a9c1b(0x114)),'errors':_0x34892a['flash']('errors'),'role':_0x1235d1,'profile':_0x2805d2,'master_shop':_0x50180c,'supervisor_data':_0x1c5279[0x0],'timezones':timezones,'language':_0x3eb3ac});}catch(_0x9f8a5d){console['log'](_0x9f8a5d);}}),router[a0_0x52870b(0x121)](a0_0x52870b(0x13c),auth,async(_0x11d4ae,_0x11650b)=>{const _0x1a5ef1=a0_0x52870b;try{const {rm_name:_0x47c63b,fg_name:_0x1a9282,rm_email:_0x2f27d0,fg_email:_0x4fee34,rm_mobilenum:_0x348eef,fg_number:_0x5f16d4}=_0x11d4ae[_0x1a5ef1(0x13a)],_0x532ae8=await supervisor_settings[_0x1a5ef1(0x146)]();if(_0x532ae8==null){const _0x538f93=new supervisor_settings({'RMSName':_0x47c63b,'RMSEmail':_0x2f27d0,'RMSnumber':_0x348eef,'FGSName':_0x1a9282,'FGSEmail':_0x4fee34,'FGSnumber':_0x5f16d4});await _0x538f93[_0x1a5ef1(0x144)]();}else _0x532ae8[_0x1a5ef1(0x148)]=_0x47c63b,_0x532ae8[_0x1a5ef1(0x12c)]=_0x2f27d0,_0x532ae8[_0x1a5ef1(0x108)]=_0x348eef,_0x532ae8[_0x1a5ef1(0x13e)]=_0x1a9282,_0x532ae8[_0x1a5ef1(0x11a)]=_0x4fee34,_0x532ae8['FGSnumber']=_0x5f16d4,await _0x532ae8[_0x1a5ef1(0x144)]();_0x11d4ae['flash'](_0x1a5ef1(0x114),_0x1a5ef1(0x135)),_0x11650b[_0x1a5ef1(0x140)](_0x1a5ef1(0x12d));}catch(_0x441d22){console[_0x1a5ef1(0x115)](_0x441d22);}}),module[a0_0x52870b(0x10a)]=router;