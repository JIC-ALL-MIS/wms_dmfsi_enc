const a0_0x310272=a0_0x39ef;(function(_0x25b4fb,_0x1dfcb0){const _0x3e342b=a0_0x39ef,_0x4ed456=_0x25b4fb();while(!![]){try{const _0x4d7e23=parseInt(_0x3e342b(0x122))/0x1*(parseInt(_0x3e342b(0x119))/0x2)+parseInt(_0x3e342b(0x11b))/0x3+parseInt(_0x3e342b(0x116))/0x4*(parseInt(_0x3e342b(0x151))/0x5)+-parseInt(_0x3e342b(0x149))/0x6+parseInt(_0x3e342b(0x135))/0x7+parseInt(_0x3e342b(0x16d))/0x8+-parseInt(_0x3e342b(0x166))/0x9*(parseInt(_0x3e342b(0x147))/0xa);if(_0x4d7e23===_0x1dfcb0)break;else _0x4ed456['push'](_0x4ed456['shift']());}catch(_0x36f2ef){_0x4ed456['push'](_0x4ed456['shift']());}}}(a0_0xfcfc,0x82bb4));const express=require(a0_0x310272(0x17d)),app=express(),router=express[a0_0x310272(0x13d)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,purchases_return_finished}=require(a0_0x310272(0x13e)),auth=require(a0_0x310272(0x12c)),users=require(a0_0x310272(0x174));function a0_0xfcfc(){const _0x5ed547=['stocks','Hindi','string','aggregate','amount','purchases_return_finished','3521357eekZyg','render','$date','$receivable','/receive_payment/:id','$note','errors','$received','Router','../models/all_models','success','to_warehouse_name','Spanish','$product_details.product_name','find','back','$product_details.storage','$name','10cLXlQO','get','382836MVsmDA','getMonth','English\x20(US)','Received\x20For\x20Purchase\x20Return','$product_details._id','$product_details.type','$return_product.return_qty','English','5TyYWSV','product_name','slice','$product_details.floorlevel','product_code','return_qty','$product_details','exports','primary_code_hide','/view/:id','Portuguese','Finished\x20Goods','log','map','email','payment\x20successfull','invoice','suppliers','purchase_quantity','Arabic\x20(ae)','redirect','17706519kxSMaM','stock_quantity','French','forEach','body','primary_code','$product_details.product_code','5352352kDlbOF','return_purchase_edit_finished','secondary_code_hide','product_code_hide','$return_product','Purchase\x20Return','findOne','../public/language/languages.json','user','level','Chinese','date','$supplier_docs.mobile','German','json','Arabic','express','$product_details.rack','bay','$_id','$invoice','master','flash','$return_product.product_name','language','$supplier_docs.email','/view','secondary_code','/purchases_return_finished/view','room','return_product','Portuguese\x20(BR)','received','$product_details.secondary_code','/purchases_return/view','4187756hISOev','to_Room_name','params','57434soLeCY','findById','9105lIBUKW','$product_details.bin','product_details','to_room','$discount','/invoice/:id','note','12OrESFU','$warehouse_name','purchase\x20return\x20successfully','getDate','$suppliers','save','warehouse_name','$supplier_docs','return_purchase_invoice','product_stock','../middleware/auth','$due_amount','post'];a0_0xfcfc=function(){return _0x5ed547;};return a0_0xfcfc();}function a0_0x39ef(_0x1ecead,_0x4b124a){const _0xfcfc1e=a0_0xfcfc();return a0_0x39ef=function(_0x39ef60,_0x56da39){_0x39ef60=_0x39ef60-0x10a;let _0x5939dc=_0xfcfc1e[_0x39ef60];return _0x5939dc;},a0_0x39ef(_0x1ecead,_0x4b124a);}router[a0_0x310272(0x148)](a0_0x310272(0x10d),auth,async(_0x4e563e,_0xeb536a)=>{const _0xf379e2=a0_0x310272;try{const {username:_0x3be2a4,email:_0x49d2bb,role:_0x457956}=_0x4e563e[_0xf379e2(0x175)],_0x2da332=_0x4e563e['user'],_0x8a91d2=await profile['findOne']({'email':_0x2da332[_0xf379e2(0x15f)]}),_0x4faad0=await master_shop[_0xf379e2(0x143)]();console['log'](_0xf379e2(0x182),_0x4faad0);const _0x7e5292=await purchases_return_finished['aggregate']([{'$lookup':{'from':_0xf379e2(0x162),'localField':_0xf379e2(0x162),'foreignField':'name','as':'supplier_docs'}},{'$unwind':_0xf379e2(0x171)},{'$unwind':_0xf379e2(0x129)},{'$group':{'_id':_0xf379e2(0x180),'invoice':{'$first':_0xf379e2(0x181)},'date':{'$first':_0xf379e2(0x137)},'suppliers':{'$first':_0xf379e2(0x126)},'warehouse_name':{'$first':_0xf379e2(0x123)},'product_name':{'$first':_0xf379e2(0x10a)},'return_qty':{'$first':_0xf379e2(0x14f)},'price':{'$first':'$return_product.price'},'total':{'$sum':'$return_product.total'},'note':{'$first':_0xf379e2(0x13a)},'total_amount':{'$first':'$total_amount'},'discount':{'$first':_0xf379e2(0x11f)},'receivable':{'$first':_0xf379e2(0x138)},'received':{'$first':_0xf379e2(0x13c)},'due_amount':{'$first':_0xf379e2(0x12d)},'mobile':{'$first':_0xf379e2(0x179)},'email':{'$first':_0xf379e2(0x10c)},'address':{'$first':'$supplier_docs.address'},'return_sum_qty':{'$sum':_0xf379e2(0x14f)}}}]);console[_0xf379e2(0x15d)](_0x7e5292);if(_0x4faad0[0x0][_0xf379e2(0x10b)]=='English\x20(US)'){var _0x385053=users['English'];console[_0xf379e2(0x15d)](_0x385053);}else{if(_0x4faad0[0x0][_0xf379e2(0x10b)]==_0xf379e2(0x130))var _0x385053=users[_0xf379e2(0x130)];else{if(_0x4faad0[0x0][_0xf379e2(0x10b)]==_0xf379e2(0x17a))var _0x385053=users[_0xf379e2(0x17a)];else{if(_0x4faad0[0x0][_0xf379e2(0x10b)]==_0xf379e2(0x141))var _0x385053=users[_0xf379e2(0x141)];else{if(_0x4faad0[0x0][_0xf379e2(0x10b)]==_0xf379e2(0x168))var _0x385053=users[_0xf379e2(0x168)];else{if(_0x4faad0[0x0]['language']=='Portuguese\x20(BR)')var _0x385053=users[_0xf379e2(0x15b)];else{if(_0x4faad0[0x0][_0xf379e2(0x10b)]==_0xf379e2(0x177))var _0x385053=users[_0xf379e2(0x177)];else{if(_0x4faad0[0x0][_0xf379e2(0x10b)]==_0xf379e2(0x164))var _0x385053=users['Arabic'];}}}}}}}_0xeb536a['render'](_0xf379e2(0x134),{'success':_0x4e563e['flash']('success'),'errors':_0x4e563e[_0xf379e2(0x183)]('errors'),'role':_0x2da332,'profile':_0x8a91d2,'master_shop':_0x4faad0,'user':_0x7e5292,'language':_0x385053});}catch(_0x11c6ae){console[_0xf379e2(0x15d)](_0x11c6ae);}}),router[a0_0x310272(0x148)](a0_0x310272(0x15a),auth,async(_0x181f86,_0x5b0e78)=>{const _0x5e6dcf=a0_0x310272;try{const {username:_0xe4ffac,email:_0x1d7fd8,role:_0x4123e8}=_0x181f86[_0x5e6dcf(0x175)],_0x4aac9d=_0x181f86['user'],_0x27f3eb=await profile[_0x5e6dcf(0x173)]({'email':_0x4aac9d[_0x5e6dcf(0x15f)]}),_0x2c2857=await product['find']({}),_0x592e8f=await master_shop[_0x5e6dcf(0x143)](),_0x3a83e9=_0x181f86['params']['id'],_0x49a9cc=await purchases_return_finished['findById'](_0x3a83e9),_0x57498c=await warehouse[_0x5e6dcf(0x132)]([{'$match':{'name':_0x49a9cc[_0x5e6dcf(0x128)],'room':_0x49a9cc[_0x5e6dcf(0x110)],'warehouse_category':_0x5e6dcf(0x15c)}},{'$unwind':_0x5e6dcf(0x157)},{'$group':{'_id':_0x5e6dcf(0x14d),'name':{'$first':_0x5e6dcf(0x142)},'product_stock':{'$first':'$product_details.product_stock'},'bay':{'$first':'$product_details.bay'},'bin':{'$first':_0x5e6dcf(0x11c)},'type':{'$first':_0x5e6dcf(0x14e)},'floorlevel':{'$first':_0x5e6dcf(0x154)},'primary_code':{'$first':'$product_details.primary_code'},'secondary_code':{'$first':_0x5e6dcf(0x114)},'product_code':{'$first':_0x5e6dcf(0x16c)},'storage':{'$first':_0x5e6dcf(0x145)},'rack':{'$first':_0x5e6dcf(0x17e)}}}]);warehouse_data=await warehouse[_0x5e6dcf(0x132)]([{'$match':{'status':'Enabled','name':'Return\x20Goods','warehouse_category':'Finished\x20Goods'}},{'$group':{'_id':_0x5e6dcf(0x146),'name':{'$first':_0x5e6dcf(0x146)}}},{'$sort':{'name':0x1}}]),console[_0x5e6dcf(0x15d)]('stock_data',_0x57498c);if(_0x592e8f[0x0]['language']==_0x5e6dcf(0x14b)){var _0x59cda9=users['English'];console[_0x5e6dcf(0x15d)](_0x59cda9);}else{if(_0x592e8f[0x0][_0x5e6dcf(0x10b)]==_0x5e6dcf(0x130))var _0x59cda9=users['Hindi'];else{if(_0x592e8f[0x0][_0x5e6dcf(0x10b)]==_0x5e6dcf(0x17a))var _0x59cda9=users[_0x5e6dcf(0x17a)];else{if(_0x592e8f[0x0][_0x5e6dcf(0x10b)]=='Spanish')var _0x59cda9=users[_0x5e6dcf(0x141)];else{if(_0x592e8f[0x0][_0x5e6dcf(0x10b)]==_0x5e6dcf(0x168))var _0x59cda9=users[_0x5e6dcf(0x168)];else{if(_0x592e8f[0x0]['language']==_0x5e6dcf(0x112))var _0x59cda9=users[_0x5e6dcf(0x15b)];else{if(_0x592e8f[0x0]['language']==_0x5e6dcf(0x177))var _0x59cda9=users[_0x5e6dcf(0x177)];else{if(_0x592e8f[0x0][_0x5e6dcf(0x10b)]==_0x5e6dcf(0x164))var _0x59cda9=users[_0x5e6dcf(0x17c)];}}}}}}}_0x5b0e78['render'](_0x5e6dcf(0x16e),{'success':_0x181f86[_0x5e6dcf(0x183)](_0x5e6dcf(0x13f)),'errors':_0x181f86[_0x5e6dcf(0x183)](_0x5e6dcf(0x13b)),'role':_0x4aac9d,'master_shop':_0x592e8f,'profile':_0x27f3eb,'user':_0x49a9cc,'stock':_0x57498c,'product':_0x2c2857,'language':_0x59cda9,'warehouse':warehouse_data});}catch(_0x109747){console[_0x5e6dcf(0x15d)](_0x109747);}}),router[a0_0x310272(0x12e)](a0_0x310272(0x15a),auth,async(_0x22c987,_0x5008c7)=>{const _0xff4cca=a0_0x310272;try{const _0x201e76=_0x22c987['params']['id'],_0x147370=await purchases_return_finished[_0xff4cca(0x173)]({'invoice':_0x22c987[_0xff4cca(0x16a)][_0xff4cca(0x161)]}),_0x52f554=await warehouse[_0xff4cca(0x173)]({'name':_0x147370[_0xff4cca(0x140)],'room':_0x147370[_0xff4cca(0x11e)],'warehouse_category':_0xff4cca(0x15c)}),{invoice:_0x1826fc,suppliers:_0x502c3d,date:_0x1695ff,warehouse_name:_0x2e57f7,product_name:_0x288388,purchase_quantity:_0x3b4472,stocks:_0x171eba,return_qty:_0x4284db,note:_0x3936c4,Room_name:_0x1480d8,level:_0x5297f0,isle:_0x548f47,pallet:_0xbb1aed,to_warehouse_name:_0x534dc1,to_Room_name:_0x2d5c84}=_0x22c987[_0xff4cca(0x16a)];if(typeof _0x288388==_0xff4cca(0x131))var _0x397b4c=[_0x22c987[_0xff4cca(0x16a)]['product_name']],_0x3ca16a=[_0x22c987[_0xff4cca(0x16a)]['purchase_quantity']],_0x14c163=[_0x22c987[_0xff4cca(0x16a)]['stocks']],_0x5271b7=[_0x22c987[_0xff4cca(0x16a)][_0xff4cca(0x156)]],_0x456336=[_0x22c987['body'][_0xff4cca(0x176)]],_0x28c652=[_0x22c987[_0xff4cca(0x16a)][_0xff4cca(0x170)]],_0x117e9c=[_0x22c987[_0xff4cca(0x16a)][_0xff4cca(0x159)]],_0x56b012=[_0x22c987[_0xff4cca(0x16a)][_0xff4cca(0x16f)]];else var _0x397b4c=[..._0x22c987['body'][_0xff4cca(0x152)]],_0x3ca16a=[..._0x22c987[_0xff4cca(0x16a)][_0xff4cca(0x163)]],_0x14c163=[..._0x22c987[_0xff4cca(0x16a)][_0xff4cca(0x12f)]],_0x5271b7=[..._0x22c987['body'][_0xff4cca(0x156)]],_0x456336=[..._0x22c987[_0xff4cca(0x16a)][_0xff4cca(0x176)]],_0x28c652=[..._0x22c987[_0xff4cca(0x16a)][_0xff4cca(0x170)]],_0x117e9c=[..._0x22c987['body'][_0xff4cca(0x159)]],_0x56b012=[..._0x22c987[_0xff4cca(0x16a)][_0xff4cca(0x16f)]];const _0x2c635d=_0x397b4c['map'](_0x3b98fe=>{return _0x3b98fe={'product_name':_0x3b98fe};});_0x3ca16a[_0xff4cca(0x169)]((_0x1d1915,_0x2223ff)=>{const _0x488272=_0xff4cca;_0x2c635d[_0x2223ff][_0x488272(0x163)]=_0x1d1915;}),_0x14c163[_0xff4cca(0x169)]((_0x4af067,_0x326632)=>{const _0x2d3192=_0xff4cca;_0x2c635d[_0x326632][_0x2d3192(0x167)]=_0x4af067;}),_0x5271b7[_0xff4cca(0x169)]((_0x268d9c,_0x280535)=>{_0x2c635d[_0x280535]['return_qty']=_0x268d9c;}),_0x456336[_0xff4cca(0x169)]((_0x507648,_0x2485d9)=>{_0x2c635d[_0x2485d9]['bay']=_0x507648;}),_0x28c652[_0xff4cca(0x169)]((_0x441ef2,_0x4ef87f)=>{const _0x16822e=_0xff4cca;_0x2c635d[_0x4ef87f][_0x16822e(0x155)]=_0x441ef2;}),_0x117e9c[_0xff4cca(0x169)]((_0x4aa9a9,_0xe8ba43)=>{const _0x1a306b=_0xff4cca;_0x2c635d[_0xe8ba43][_0x1a306b(0x16b)]=_0x4aa9a9;}),_0x56b012[_0xff4cca(0x169)]((_0x5c8943,_0x2b01af)=>{const _0x155f01=_0xff4cca;_0x2c635d[_0x2b01af][_0x155f01(0x10e)]=_0x5c8943;});var _0x43f62b=0x0;_0x2c635d['forEach'](_0x57ac29=>{const _0x2c46a8=_0xff4cca;(parseInt(_0x57ac29[_0x2c46a8(0x163)])<parseInt(_0x57ac29[_0x2c46a8(0x156)])||parseInt(_0x57ac29[_0x2c46a8(0x167)])<parseInt(_0x57ac29[_0x2c46a8(0x156)]))&&_0x43f62b++;});if(_0x43f62b!=0x0)return _0x22c987[_0xff4cca(0x183)]('errors','Must\x20not\x20be\x20greater\x20than\x20Purchase/Stock\x20Qty'),_0x5008c7[_0xff4cca(0x165)](_0xff4cca(0x144));_0x147370['return_product'][_0xff4cca(0x169)](_0x574bfe=>{const _0x27c4a7=_0xff4cca;if(_0x574bfe[_0x27c4a7(0x156)]>0x0){const _0x309f60=_0x52f554[_0x27c4a7(0x11d)][_0x27c4a7(0x15e)](_0x146de0=>{const _0x4f7a41=_0x27c4a7;_0x146de0['product_name']==_0x574bfe[_0x4f7a41(0x152)]&&_0x146de0[_0x4f7a41(0x17f)]==_0x574bfe[_0x4f7a41(0x17f)]&&(_0x146de0[_0x4f7a41(0x12b)]=parseInt(_0x146de0[_0x4f7a41(0x12b)])+parseInt(_0x574bfe[_0x4f7a41(0x156)]));});}}),await _0x52f554[_0xff4cca(0x127)](),_0x147370[_0xff4cca(0x161)]=_0x1826fc,_0x147370[_0xff4cca(0x162)]=_0x502c3d,_0x147370[_0xff4cca(0x178)]=_0x1695ff,_0x147370[_0xff4cca(0x128)]=_0x2e57f7,_0x147370[_0xff4cca(0x111)]=_0x2c635d,_0x147370[_0xff4cca(0x121)]=_0x3936c4,_0x147370['room']=_0x1480d8,_0x147370[_0xff4cca(0x140)]=_0x534dc1,_0x147370[_0xff4cca(0x11e)]=_0x2d5c84;const _0x487948=await _0x147370[_0xff4cca(0x127)](),_0x53c7ad=await purchases_return_finished[_0xff4cca(0x173)]({'invoice':_0x22c987[_0xff4cca(0x16a)][_0xff4cca(0x161)]}),_0x493db8=await warehouse[_0xff4cca(0x173)]({'name':_0x22c987['body'][_0xff4cca(0x140)],'room':_0x22c987['body'][_0xff4cca(0x117)],'warehouse_category':_0xff4cca(0x15c)});_0x53c7ad[_0xff4cca(0x111)][_0xff4cca(0x169)](_0x2513fb=>{const _0x19ffb2=_0xff4cca;_0x493db8[_0x19ffb2(0x11d)]['map'](_0x21b0f6=>{const _0xf2334f=_0x19ffb2;_0x21b0f6['product_name']==_0x2513fb['product_name']&&_0x21b0f6[_0xf2334f(0x17f)]==_0x2513fb['bay']&&(_0x21b0f6[_0xf2334f(0x12b)]=parseInt(_0x21b0f6[_0xf2334f(0x12b)])-parseInt(_0x2513fb['return_qty']));});}),await _0x493db8['save']();const _0x36941c=await s_payment_data[_0xff4cca(0x173)]({'invoice':_0x22c987[_0xff4cca(0x16a)][_0xff4cca(0x161)],'reason':_0xff4cca(0x172)});await _0x36941c['save'](),_0x22c987[_0xff4cca(0x183)](_0xff4cca(0x13f),_0xff4cca(0x124)),_0x5008c7[_0xff4cca(0x165)](_0xff4cca(0x10f));}catch(_0x2030a3){console[_0xff4cca(0x15d)](_0x2030a3),_0x5008c7['status'](0xc8)[_0xff4cca(0x17b)]({'message':_0x2030a3['message']});}}),router[a0_0x310272(0x148)](a0_0x310272(0x120),auth,async(_0x11e8f3,_0x367b41)=>{const _0x45f458=a0_0x310272;try{const {username:_0x59a96,email:_0x3994d6,role:_0xe3785b}=_0x11e8f3[_0x45f458(0x175)],_0x26fd29=_0x11e8f3[_0x45f458(0x175)],_0x35b6ad=await profile[_0x45f458(0x173)]({'email':_0x26fd29['email']}),_0xb853c8=await master_shop[_0x45f458(0x143)]();console['log'](_0x45f458(0x182),_0xb853c8);const _0x348092=_0x11e8f3['params']['id'],_0x2eed43=await purchases_return[_0x45f458(0x11a)](_0x348092);console['log'](_0x2eed43);const _0xdf4430=await suppliers[_0x45f458(0x173)]({'name':_0x2eed43['suppliers']});console[_0x45f458(0x15d)](_0xdf4430);if(_0xb853c8[0x0][_0x45f458(0x10b)]==_0x45f458(0x14b)){var _0x5c4b24=users[_0x45f458(0x150)];console['log'](_0x5c4b24);}else{if(_0xb853c8[0x0][_0x45f458(0x10b)]==_0x45f458(0x130))var _0x5c4b24=users['Hindi'];else{if(_0xb853c8[0x0][_0x45f458(0x10b)]=='German')var _0x5c4b24=users[_0x45f458(0x17a)];else{if(_0xb853c8[0x0][_0x45f458(0x10b)]==_0x45f458(0x141))var _0x5c4b24=users[_0x45f458(0x141)];else{if(_0xb853c8[0x0]['language']==_0x45f458(0x168))var _0x5c4b24=users[_0x45f458(0x168)];else{if(_0xb853c8[0x0][_0x45f458(0x10b)]==_0x45f458(0x112))var _0x5c4b24=users[_0x45f458(0x15b)];else{if(_0xb853c8[0x0][_0x45f458(0x10b)]==_0x45f458(0x177))var _0x5c4b24=users[_0x45f458(0x177)];else{if(_0xb853c8[0x0][_0x45f458(0x10b)]==_0x45f458(0x164))var _0x5c4b24=users[_0x45f458(0x17c)];}}}}}}}_0x367b41[_0x45f458(0x136)](_0x45f458(0x12a),{'success':_0x11e8f3['flash'](_0x45f458(0x13f)),'errors':_0x11e8f3[_0x45f458(0x183)]('errors'),'role':_0x26fd29,'profile':_0x35b6ad,'master_shop':_0xb853c8,'supplier':_0xdf4430,'purchase':_0x2eed43,'language':_0x5c4b24});}catch(_0x4d7067){console[_0x45f458(0x15d)](_0x4d7067);}}),router['post'](a0_0x310272(0x139),auth,async(_0x4f0fa7,_0x2fffe3)=>{const _0x880731=a0_0x310272;try{const _0x304745=_0x4f0fa7[_0x880731(0x118)]['id'],{invoice:_0x330914,suppliers:_0x9f5c1f,receivable_amount:_0x1122b8,received_amount:_0x2ff5fb}=_0x4f0fa7[_0x880731(0x16a)],_0x547d14=await purchases_return[_0x880731(0x11a)](_0x304745);console[_0x880731(0x15d)](_0x547d14);var _0x14c6ac=_0x1122b8-_0x2ff5fb;console['log'](_0x2ff5fb),_0x547d14[_0x880731(0x113)]=parseFloat(_0x2ff5fb)+parseFloat(_0x547d14[_0x880731(0x113)]),_0x547d14['due_amount']=_0x14c6ac,console[_0x880731(0x15d)](_0x547d14);const _0x46e4f1=await _0x547d14[_0x880731(0x127)](),_0xbc5d1a=await s_payment_data[_0x880731(0x173)]({'invoice':_0x4f0fa7[_0x880731(0x16a)][_0x880731(0x161)],'reason':_0x880731(0x172)});_0xbc5d1a[_0x880731(0x133)]=_0x14c6ac,await _0xbc5d1a[_0x880731(0x127)]();let _0x268567=new Date(),_0x33c510=('0'+_0x268567[_0x880731(0x125)]())[_0x880731(0x153)](-0x2),_0x2beedb=('0'+(_0x268567[_0x880731(0x14a)]()+0x1))[_0x880731(0x153)](-0x2),_0x28b6b8=_0x268567['getFullYear'](),_0xee38b5=_0x28b6b8+'-'+_0x2beedb+'-'+_0x33c510;const _0x1f2707=new suppliers_payment({'invoice':_0x330914,'date':_0x28b6b8+'-'+_0x2beedb+'-'+_0x33c510,'suppliers':_0x9f5c1f,'reason':_0x880731(0x14c),'amount':_0x2ff5fb}),_0x99ee6f=await _0x1f2707['save']();_0x4f0fa7[_0x880731(0x183)]('success',_0x880731(0x160)),_0x2fffe3[_0x880731(0x165)](_0x880731(0x115));}catch(_0x53b887){console[_0x880731(0x15d)](_0x53b887);}}),module[a0_0x310272(0x158)]=router;