function a0_0x2ee3(_0x3884f9,_0x3b9018){const _0x198c2e=a0_0x198c();return a0_0x2ee3=function(_0x2ee3cb,_0x4a9801){_0x2ee3cb=_0x2ee3cb-0x1c8;let _0x3b7719=_0x198c2e[_0x2ee3cb];return _0x3b7719;},a0_0x2ee3(_0x3884f9,_0x3b9018);}const a0_0x225ff6=a0_0x2ee3;(function(_0x46adb3,_0x57df14){const _0x3a2f18=a0_0x2ee3,_0x4ae3e4=_0x46adb3();while(!![]){try{const _0x52bd44=parseInt(_0x3a2f18(0x1c8))/0x1+parseInt(_0x3a2f18(0x1d0))/0x2*(parseInt(_0x3a2f18(0x1e8))/0x3)+parseInt(_0x3a2f18(0x1d8))/0x4+parseInt(_0x3a2f18(0x1ca))/0x5+parseInt(_0x3a2f18(0x1d9))/0x6*(-parseInt(_0x3a2f18(0x1d5))/0x7)+-parseInt(_0x3a2f18(0x1c9))/0x8*(-parseInt(_0x3a2f18(0x1e3))/0x9)+parseInt(_0x3a2f18(0x1df))/0xa*(-parseInt(_0x3a2f18(0x1da))/0xb);if(_0x52bd44===_0x57df14)break;else _0x4ae3e4['push'](_0x4ae3e4['shift']());}catch(_0x17bc79){_0x4ae3e4['push'](_0x4ae3e4['shift']());}}}(a0_0x198c,0x90e2f));function a0_0x198c(){const _0x464a48=['secret_key','your\x20email\x20is\x20not\x20register','250957IMmiGi','redirect','json','2499244wDOBtS','18rhXcCq','2354XoOwcP','password','status','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','login\x20successfully.','160760PAZnWp','body','jwt','../models/all_models','35676ZHYTiM','role','express','Disabled','env','27vhWEQQ','warehouse_category','staff','log','bcryptjs','959734arbYRy','1352NdNpxu','5848050VFReaK','compare','../middleware/auth','email','cookie','findOne','159378MPpLfI','clearCookie','post'];a0_0x198c=function(){return _0x464a48;};return a0_0x198c();}const express=require(a0_0x225ff6(0x1e5)),app=express(),router=express['Router'](),{sing_up,staff,profile,master_shop}=require(a0_0x225ff6(0x1e2)),bcrypt=require(a0_0x225ff6(0x1ec)),jwt=require('jsonwebtoken'),auth=require(a0_0x225ff6(0x1cc));router[a0_0x225ff6(0x1d2)]('/login',auth,async(_0xad0fe,_0x2be61f)=>{const _0x3dc1b2=a0_0x225ff6;try{const _0x14b591=_0xad0fe[_0x3dc1b2(0x1e0)][_0x3dc1b2(0x1cd)],_0x3c345b=await sing_up[_0x3dc1b2(0x1cf)]({'email':_0x14b591});!_0x3c345b&&_0x2be61f['json']({'msgbox':_0x3dc1b2(0x1d4)});const _0x171064=await staff[_0x3dc1b2(0x1cf)]({'email':_0x3c345b[_0x3dc1b2(0x1cd)]});var _0x3d0255=_0x171064[_0x3dc1b2(0x1e9)];if(_0x3c345b['role']==_0x3dc1b2(0x1ea)){const _0x2c066e=await staff[_0x3dc1b2(0x1cf)]({'email':_0x3c345b[_0x3dc1b2(0x1cd)]});_0x2c066e[_0x3dc1b2(0x1dc)]==_0x3dc1b2(0x1e6)&&_0x2be61f[_0x3dc1b2(0x1d7)]({'msgbox':_0x3dc1b2(0x1dd),'data':_0x171064}),_0x3d0255=_0x2c066e['warehouse_category'];}const _0x2ad65e=_0xad0fe[_0x3dc1b2(0x1e0)][_0x3dc1b2(0x1db)],_0x5f3785=await bcrypt[_0x3dc1b2(0x1cb)](_0x2ad65e,_0x3c345b[_0x3dc1b2(0x1db)]);_0x5f3785==![]&&_0x2be61f[_0x3dc1b2(0x1d7)]({'msgbox':'login\x20failed.','token':null,'isValid':_0x5f3785,'data':null});const _0x5cc7cb=jwt['sign']({'username':_0x3c345b['username'],'email':_0x3c345b[_0x3dc1b2(0x1cd)],'role':_0x3c345b[_0x3dc1b2(0x1e4)],'warehouse_category':_0x3d0255},process[_0x3dc1b2(0x1e7)][_0x3dc1b2(0x1d3)]);_0x2be61f[_0x3dc1b2(0x1ce)](_0x3dc1b2(0x1e1),_0x5cc7cb,{'expires':new Date(0xe677d213a700)}),_0x2be61f['json']({'msgbox':_0x3dc1b2(0x1de),'token':_0x5cc7cb,'isValid':_0x5f3785,'data':_0x171064});}catch(_0x5969c5){console[_0x3dc1b2(0x1eb)](_0x5969c5);}}),router['get']('/logout',(_0x36e2a6,_0x32dc8b)=>{const _0x1ef7a3=a0_0x225ff6;_0x32dc8b[_0x1ef7a3(0x1d1)]('jwt'),_0x32dc8b[_0x1ef7a3(0x1d6)]('/login');}),module['exports']=router;