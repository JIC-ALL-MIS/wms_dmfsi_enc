const a0_0x4cea22=a0_0x7a60;function a0_0x1dba(){const _0x116b18=['502345mIBzME','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','../models/all_models','4aaAOuu','login\x20successfully.','7PcSDPI','password','exports','secret_key','bcryptjs','Router','sign','get','body','4633680HwuAys','clearCookie','540clVuVs','3578430JylCEQ','/login','13820576XtltVF','email','warehouse_category','6928550LURFuP','findOne','/logout','env','role','json','263949dqmrwI','105832phhKHI','redirect','jsonwebtoken','Disabled','log','jwt','14gwYeMH','status','../middleware/auth'];a0_0x1dba=function(){return _0x116b18;};return a0_0x1dba();}(function(_0x4de244,_0x74b5de){const _0x1369ce=a0_0x7a60,_0x3e054a=_0x4de244();while(!![]){try{const _0x44d043=parseInt(_0x1369ce(0x132))/0x1+-parseInt(_0x1369ce(0x12f))/0x2*(-parseInt(_0x1369ce(0x128))/0x3)+parseInt(_0x1369ce(0x10f))/0x4*(-parseInt(_0x1369ce(0x122))/0x5)+-parseInt(_0x1369ce(0x11d))/0x6*(parseInt(_0x1369ce(0x111))/0x7)+parseInt(_0x1369ce(0x129))/0x8*(parseInt(_0x1369ce(0x11c))/0x9)+-parseInt(_0x1369ce(0x11a))/0xa+parseInt(_0x1369ce(0x11f))/0xb;if(_0x44d043===_0x74b5de)break;else _0x3e054a['push'](_0x3e054a['shift']());}catch(_0x4e8b13){_0x3e054a['push'](_0x3e054a['shift']());}}}(a0_0x1dba,0xb07d3));const express=require('express'),app=express(),router=express[a0_0x4cea22(0x116)](),{sing_up,staff,profile,master_shop}=require(a0_0x4cea22(0x134)),bcrypt=require(a0_0x4cea22(0x115)),jwt=require(a0_0x4cea22(0x12b)),auth=require(a0_0x4cea22(0x131));function a0_0x7a60(_0x19ff69,_0x4cdb9f){const _0x1dbaa6=a0_0x1dba();return a0_0x7a60=function(_0x7a60bf,_0xfbf88d){_0x7a60bf=_0x7a60bf-0x10f;let _0x1d77c9=_0x1dbaa6[_0x7a60bf];return _0x1d77c9;},a0_0x7a60(_0x19ff69,_0x4cdb9f);}router['post'](a0_0x4cea22(0x11e),async(_0x541926,_0x81fc0e)=>{const _0x499979=a0_0x4cea22;try{const _0x529632=_0x541926[_0x499979(0x119)][_0x499979(0x120)],_0x496d04=await sing_up[_0x499979(0x123)]({'email':_0x529632});!_0x496d04&&_0x81fc0e['json']({'msgbox':'your\x20email\x20is\x20not\x20register'});const _0x26919f=await staff[_0x499979(0x123)]({'email':_0x496d04[_0x499979(0x120)]});var _0x201cf8=_0x26919f[_0x499979(0x121)];if(_0x496d04[_0x499979(0x126)]=='staff'){const _0x121d7a=await staff[_0x499979(0x123)]({'email':_0x496d04[_0x499979(0x120)]});_0x121d7a[_0x499979(0x130)]==_0x499979(0x12c)&&_0x81fc0e[_0x499979(0x127)]({'msgbox':_0x499979(0x133),'data':_0x26919f}),_0x201cf8=_0x121d7a[_0x499979(0x121)];}const _0x330d69=_0x541926['body'][_0x499979(0x112)],_0x24ddfd=await bcrypt['compare'](_0x330d69,_0x496d04[_0x499979(0x112)]);_0x24ddfd==![]&&_0x81fc0e[_0x499979(0x127)]({'msgbox':'login\x20failed.','token':null,'isValid':_0x24ddfd,'data':null});const _0x7a6790=jwt[_0x499979(0x117)]({'username':_0x496d04['username'],'email':_0x496d04[_0x499979(0x120)],'role':_0x496d04[_0x499979(0x126)],'warehouse_category':_0x201cf8},process[_0x499979(0x125)][_0x499979(0x114)]);_0x81fc0e['cookie'](_0x499979(0x12e),_0x7a6790,{'expires':new Date(0xe677d213a700)}),_0x81fc0e['json']({'msgbox':_0x499979(0x110),'token':_0x7a6790,'isValid':_0x24ddfd,'data':_0x26919f});}catch(_0x1d6750){console[_0x499979(0x12d)](_0x1d6750);}}),router[a0_0x4cea22(0x118)](a0_0x4cea22(0x124),(_0x263b4d,_0x1df8ae)=>{const _0x473ab8=a0_0x4cea22;_0x1df8ae[_0x473ab8(0x11b)](_0x473ab8(0x12e)),_0x1df8ae[_0x473ab8(0x12a)](_0x473ab8(0x11e));}),module[a0_0x4cea22(0x113)]=router;