const a0_0x1f749a=a0_0x5511;function a0_0x37bf(){const _0x2a4ea3=['81346CTVzFk','../models/all_models','password','jwt','8yAwSYN','warehouse_category','post','role','303163DQCghd','redirect','clearCookie','exports','634315QvXJzt','log','Router','/logout','/login','2123415MhQmNE','436GJPWyW','findOne','status','email','../middleware/auth','bcryptjs','153LGOKmm','username','env','json','secret_key','229464aNezgm','jsonwebtoken','Disabled','body','345452cJPycQ','get','cookie'];a0_0x37bf=function(){return _0x2a4ea3;};return a0_0x37bf();}(function(_0x39518e,_0x69e369){const _0x2fe0b7=a0_0x5511,_0x3a5ff0=_0x39518e();while(!![]){try{const _0x201605=-parseInt(_0x2fe0b7(0x171))/0x1+parseInt(_0x2fe0b7(0x183))/0x2*(-parseInt(_0x2fe0b7(0x189))/0x3)+parseInt(_0x2fe0b7(0x16e))/0x4+-parseInt(_0x2fe0b7(0x17d))/0x5+-parseInt(_0x2fe0b7(0x18e))/0x6+parseInt(_0x2fe0b7(0x179))/0x7*(parseInt(_0x2fe0b7(0x175))/0x8)+parseInt(_0x2fe0b7(0x182))/0x9;if(_0x201605===_0x69e369)break;else _0x3a5ff0['push'](_0x3a5ff0['shift']());}catch(_0x34da3b){_0x3a5ff0['push'](_0x3a5ff0['shift']());}}}(a0_0x37bf,0x1a604));const express=require('express'),app=express(),router=express[a0_0x1f749a(0x17f)](),{sing_up,staff,profile,master_shop}=require(a0_0x1f749a(0x172)),bcrypt=require(a0_0x1f749a(0x188)),jwt=require(a0_0x1f749a(0x18f)),auth=require(a0_0x1f749a(0x187));function a0_0x5511(_0x461181,_0x1ecf82){const _0x37bfed=a0_0x37bf();return a0_0x5511=function(_0x5511b5,_0x1c408f){_0x5511b5=_0x5511b5-0x16d;let _0x132409=_0x37bfed[_0x5511b5];return _0x132409;},a0_0x5511(_0x461181,_0x1ecf82);}router[a0_0x1f749a(0x177)](a0_0x1f749a(0x181),async(_0x79b44c,_0x11e396)=>{const _0x37f9c6=a0_0x1f749a;try{const _0x3d11f4=_0x79b44c[_0x37f9c6(0x16d)][_0x37f9c6(0x186)],_0x3c8e0f=await sing_up[_0x37f9c6(0x184)]({'email':_0x3d11f4});!_0x3c8e0f&&_0x11e396[_0x37f9c6(0x18c)]({'msgbox':'your\x20email\x20is\x20not\x20register'});const _0xc55a42=await staff[_0x37f9c6(0x184)]({'email':_0x3c8e0f[_0x37f9c6(0x186)]});var _0xf49876=_0xc55a42[_0x37f9c6(0x176)];if(_0x3c8e0f[_0x37f9c6(0x178)]=='staff'){const _0x377817=await staff['findOne']({'email':_0x3c8e0f[_0x37f9c6(0x186)]});_0x377817[_0x37f9c6(0x185)]==_0x37f9c6(0x190)&&_0x11e396[_0x37f9c6(0x18c)]({'msgbox':'Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','data':_0xc55a42}),_0xf49876=_0x377817['warehouse_category'];}const _0x373c43=_0x79b44c[_0x37f9c6(0x16d)][_0x37f9c6(0x173)],_0x30e859=await bcrypt['compare'](_0x373c43,_0x3c8e0f['password']);_0x30e859==![]&&_0x11e396[_0x37f9c6(0x18c)]({'msgbox':'login\x20failed.','token':null,'isValid':_0x30e859,'data':null});const _0x49ed1a=jwt['sign']({'username':_0x3c8e0f[_0x37f9c6(0x18a)],'email':_0x3c8e0f['email'],'role':_0x3c8e0f[_0x37f9c6(0x178)],'warehouse_category':_0xf49876},process[_0x37f9c6(0x18b)][_0x37f9c6(0x18d)]);_0x11e396[_0x37f9c6(0x170)](_0x37f9c6(0x174),_0x49ed1a,{'expires':new Date(0xe677d213a700)}),_0x11e396[_0x37f9c6(0x18c)]({'msgbox':'login\x20successfully.','token':_0x49ed1a,'isValid':_0x30e859,'data':_0xc55a42});}catch(_0x384bd9){console[_0x37f9c6(0x17e)](_0x384bd9);}}),router[a0_0x1f749a(0x16f)](a0_0x1f749a(0x180),(_0x14ee24,_0x5b996b)=>{const _0xe85f88=a0_0x1f749a;_0x5b996b[_0xe85f88(0x17b)](_0xe85f88(0x174)),_0x5b996b[_0xe85f88(0x17a)](_0xe85f88(0x181));}),module[a0_0x1f749a(0x17c)]=router;