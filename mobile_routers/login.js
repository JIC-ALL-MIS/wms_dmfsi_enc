const a0_0xd65fdd=a0_0x1df4;function a0_0x1df4(_0x275d08,_0x2e0acd){const _0x4f45a8=a0_0x4f45();return a0_0x1df4=function(_0x1df44b,_0x27dbe0){_0x1df44b=_0x1df44b-0x129;let _0x3331dd=_0x4f45a8[_0x1df44b];return _0x3331dd;},a0_0x1df4(_0x275d08,_0x2e0acd);}(function(_0x5c7833,_0x168df9){const _0x264b61=a0_0x1df4,_0x325231=_0x5c7833();while(!![]){try{const _0x1cab46=-parseInt(_0x264b61(0x130))/0x1*(-parseInt(_0x264b61(0x145))/0x2)+-parseInt(_0x264b61(0x133))/0x3+-parseInt(_0x264b61(0x13c))/0x4*(-parseInt(_0x264b61(0x13e))/0x5)+parseInt(_0x264b61(0x129))/0x6+parseInt(_0x264b61(0x146))/0x7*(-parseInt(_0x264b61(0x142))/0x8)+-parseInt(_0x264b61(0x143))/0x9+parseInt(_0x264b61(0x137))/0xa;if(_0x1cab46===_0x168df9)break;else _0x325231['push'](_0x325231['shift']());}catch(_0x179329){_0x325231['push'](_0x325231['shift']());}}}(a0_0x4f45,0xda6fe));const express=require(a0_0xd65fdd(0x138)),app=express(),router=express[a0_0xd65fdd(0x135)](),{sing_up,staff,profile,master_shop}=require('../models/all_models'),bcrypt=require(a0_0xd65fdd(0x14b)),jwt=require(a0_0xd65fdd(0x14a)),auth=require('../middleware/auth');function a0_0x4f45(){const _0x214971=['staff','jsonwebtoken','bcryptjs','role','status','secret_key','json','redirect','10712406fWbASX','body','sign','email','/login','post','username','7cTrnsk','cookie','password','5249490iMjLvQ','login\x20failed.','Router','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','10513870wbaTQs','express','jwt','clearCookie','login\x20successfully.','12UCpoVJ','compare','2331130BfOFud','warehouse_category','env','log','7810408SbtDGF','14725836jaCEym','findOne','291882vlUTVt','7CAHTfd','Disabled','exports'];a0_0x4f45=function(){return _0x214971;};return a0_0x4f45();}router[a0_0xd65fdd(0x12e)](a0_0xd65fdd(0x12d),async(_0x32ea53,_0x1434f6)=>{const _0x1c640f=a0_0xd65fdd;try{const _0x11545b=_0x32ea53[_0x1c640f(0x12a)]['email'],_0x1d74ee=await sing_up[_0x1c640f(0x144)]({'email':_0x11545b});!_0x1d74ee&&_0x1434f6[_0x1c640f(0x14f)]({'msgbox':'your\x20email\x20is\x20not\x20register'});const _0x187f23=await staff[_0x1c640f(0x144)]({'email':_0x1d74ee['email']});var _0x908b14=_0x187f23['warehouse_category'];if(_0x1d74ee[_0x1c640f(0x14c)]==_0x1c640f(0x149)){const _0x58b336=await staff['findOne']({'email':_0x1d74ee[_0x1c640f(0x12c)]});_0x58b336[_0x1c640f(0x14d)]==_0x1c640f(0x147)&&_0x1434f6[_0x1c640f(0x14f)]({'msgbox':_0x1c640f(0x136),'data':_0x187f23}),_0x908b14=_0x58b336[_0x1c640f(0x13f)];}const _0x85b8a4=_0x32ea53['body'][_0x1c640f(0x132)],_0x5f48cb=await bcrypt[_0x1c640f(0x13d)](_0x85b8a4,_0x1d74ee[_0x1c640f(0x132)]);_0x5f48cb==![]&&_0x1434f6[_0x1c640f(0x14f)]({'msgbox':_0x1c640f(0x134),'token':null,'isValid':_0x5f48cb,'data':null});const _0x17af25=jwt[_0x1c640f(0x12b)]({'username':_0x1d74ee[_0x1c640f(0x12f)],'email':_0x1d74ee[_0x1c640f(0x12c)],'role':_0x1d74ee[_0x1c640f(0x14c)],'warehouse_category':_0x908b14},process[_0x1c640f(0x140)][_0x1c640f(0x14e)]);_0x1434f6[_0x1c640f(0x131)](_0x1c640f(0x139),_0x17af25,{'expires':new Date(0xe677d213a700)}),_0x1434f6[_0x1c640f(0x14f)]({'msgbox':_0x1c640f(0x13b),'token':_0x17af25,'isValid':_0x5f48cb,'data':_0x187f23});}catch(_0x2866e5){console[_0x1c640f(0x141)](_0x2866e5);}}),router['get']('/logout',(_0x11719c,_0x495b2d)=>{const _0x2a12b7=a0_0xd65fdd;_0x495b2d[_0x2a12b7(0x13a)]('jwt'),_0x495b2d[_0x2a12b7(0x150)](_0x2a12b7(0x12d));}),module[a0_0xd65fdd(0x148)]=router;