const a0_0x1bba2d=a0_0x1220;(function(_0x14d997,_0x386028){const _0x194448=a0_0x1220,_0x30686a=_0x14d997();while(!![]){try{const _0x9b4220=-parseInt(_0x194448(0xcf))/0x1*(-parseInt(_0x194448(0xec))/0x2)+-parseInt(_0x194448(0xdd))/0x3+-parseInt(_0x194448(0xf1))/0x4*(-parseInt(_0x194448(0xf5))/0x5)+-parseInt(_0x194448(0xe3))/0x6*(parseInt(_0x194448(0xd1))/0x7)+parseInt(_0x194448(0xe6))/0x8+parseInt(_0x194448(0xf3))/0x9+-parseInt(_0x194448(0xdb))/0xa;if(_0x9b4220===_0x386028)break;else _0x30686a['push'](_0x30686a['shift']());}catch(_0x5bca92){_0x30686a['push'](_0x30686a['shift']());}}}(a0_0x2ffd,0x1d402));const express=require(a0_0x1bba2d(0xdf)),app=express(),router=express[a0_0x1bba2d(0xe0)](),{sing_up,staff,profile,master_shop}=require('../models/all_models'),bcrypt=require('bcryptjs'),jwt=require(a0_0x1bba2d(0xd3)),auth=require(a0_0x1bba2d(0xd8));function a0_0x1220(_0x5919f9,_0x52a208){const _0x2ffd47=a0_0x2ffd();return a0_0x1220=function(_0x122041,_0x1aa83f){_0x122041=_0x122041-0xce;let _0x57e503=_0x2ffd47[_0x122041];return _0x57e503;},a0_0x1220(_0x5919f9,_0x52a208);}function a0_0x2ffd(){const _0x21fbda=['login\x20successfully.','warehouse_category','1893990vkrcGN','staff','90249LiQSNJ','json','express','Router','username','env','6vbOjPz','role','redirect','1553768jRaJzA','post','compare','clearCookie','Your\x20account\x20is\x20currently\x20disabled\x20by\x20the\x20Admin.','Disabled','2BFLMtI','findOne','/logout','body','login\x20failed.','340PAFyxJ','password','1570536yqLqeN','secret_key','2215UUwzpO','log','73093EXdGuQ','get','981267YBehvn','exports','jsonwebtoken','email','cookie','/login','sign','../middleware/auth'];a0_0x2ffd=function(){return _0x21fbda;};return a0_0x2ffd();}router[a0_0x1bba2d(0xe7)](a0_0x1bba2d(0xd6),async(_0x2887fe,_0x2a1eef)=>{const _0x5de3cc=a0_0x1bba2d;try{const _0x4cb44f=_0x2887fe[_0x5de3cc(0xef)][_0x5de3cc(0xd4)],_0x3cbf78=await sing_up['findOne']({'email':_0x4cb44f});!_0x3cbf78&&_0x2a1eef[_0x5de3cc(0xde)]({'msgbox':'your\x20email\x20is\x20not\x20register'});const _0x419a25=await staff[_0x5de3cc(0xed)]({'email':_0x3cbf78['email']});var _0x3db3ce=_0x419a25[_0x5de3cc(0xda)];if(_0x3cbf78[_0x5de3cc(0xe4)]==_0x5de3cc(0xdc)){const _0x34238e=await staff[_0x5de3cc(0xed)]({'email':_0x3cbf78[_0x5de3cc(0xd4)]});_0x34238e['status']==_0x5de3cc(0xeb)&&_0x2a1eef[_0x5de3cc(0xde)]({'msgbox':_0x5de3cc(0xea),'data':_0x419a25}),_0x3db3ce=_0x34238e['warehouse_category'];}const _0x2078b0=_0x2887fe[_0x5de3cc(0xef)][_0x5de3cc(0xf2)],_0x10e077=await bcrypt[_0x5de3cc(0xe8)](_0x2078b0,_0x3cbf78[_0x5de3cc(0xf2)]);_0x10e077==![]&&_0x2a1eef['json']({'msgbox':_0x5de3cc(0xf0),'token':null,'isValid':_0x10e077,'data':null});const _0x4a8ee0=jwt[_0x5de3cc(0xd7)]({'username':_0x3cbf78[_0x5de3cc(0xe1)],'email':_0x3cbf78[_0x5de3cc(0xd4)],'role':_0x3cbf78[_0x5de3cc(0xe4)],'warehouse_category':_0x3db3ce},process[_0x5de3cc(0xe2)][_0x5de3cc(0xf4)]);_0x2a1eef[_0x5de3cc(0xd5)]('jwt',_0x4a8ee0,{'expires':new Date(0xe677d213a700)}),_0x2a1eef[_0x5de3cc(0xde)]({'msgbox':_0x5de3cc(0xd9),'token':_0x4a8ee0,'isValid':_0x10e077,'data':_0x419a25});}catch(_0x4ca40d){console[_0x5de3cc(0xce)](_0x4ca40d);}}),router[a0_0x1bba2d(0xd0)](a0_0x1bba2d(0xee),(_0x47617b,_0x3ffbb8)=>{const _0x1581b4=a0_0x1bba2d;_0x3ffbb8[_0x1581b4(0xe9)]('jwt'),_0x3ffbb8[_0x1581b4(0xe5)](_0x1581b4(0xd6));}),module[a0_0x1bba2d(0xd2)]=router;