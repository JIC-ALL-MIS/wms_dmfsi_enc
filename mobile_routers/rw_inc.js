function a0_0x4d2f(_0x441676,_0x2a2614){const _0x53c317=a0_0x53c3();return a0_0x4d2f=function(_0x4d2f70,_0x4f1087){_0x4d2f70=_0x4d2f70-0x1ef;let _0x3d49e8=_0x53c317[_0x4d2f70];return _0x3d49e8;},a0_0x4d2f(_0x441676,_0x2a2614);}const a0_0x9cfb69=a0_0x4d2f;(function(_0x4661db,_0x2d4137){const _0x302146=a0_0x4d2f,_0x51fa39=_0x4661db();while(!![]){try{const _0x518810=-parseInt(_0x302146(0x1f2))/0x1+parseInt(_0x302146(0x1f5))/0x2+-parseInt(_0x302146(0x200))/0x3*(parseInt(_0x302146(0x210))/0x4)+parseInt(_0x302146(0x1fa))/0x5*(-parseInt(_0x302146(0x20e))/0x6)+-parseInt(_0x302146(0x1fe))/0x7*(-parseInt(_0x302146(0x216))/0x8)+-parseInt(_0x302146(0x20f))/0x9*(-parseInt(_0x302146(0x1fd))/0xa)+parseInt(_0x302146(0x202))/0xb;if(_0x518810===_0x2d4137)break;else _0x51fa39['push'](_0x51fa39['shift']());}catch(_0x2b2b87){_0x51fa39['push'](_0x51fa39['shift']());}}}(a0_0x53c3,0x2e77d));const express=require(a0_0x9cfb69(0x212)),app=express(),router=express[a0_0x9cfb69(0x20a)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require('../models/all_models'),auth=require(a0_0x9cfb69(0x1f8)),nodemailer=require(a0_0x9cfb69(0x206));var ejs=require(a0_0x9cfb69(0x204));const path=require(a0_0x9cfb69(0x1f0)),users=require('../public/language/languages.json');router[a0_0x9cfb69(0x20b)]('/view',async(_0x22dc93,_0x9a0b15)=>{const _0x29039=a0_0x9cfb69;try{const _0xab656f=parseInt(_0x22dc93[_0x29039(0x207)][_0x29039(0x1fc)])||0x0,_0x297c1f=parseInt(_0x22dc93[_0x29039(0x207)]['end'])||0xa;let _0x5de0e1;_0x5de0e1=await purchases[_0x29039(0x20c)]([{'$lookup':{'from':'suppliers','localField':'suppliers','foreignField':_0x29039(0x215),'as':_0x29039(0x203)}},{'$unwind':'$suppliers_docs'},{'$unwind':_0x29039(0x1fb)},{'$group':{'_id':_0x29039(0x1f6),'invoice':{'$first':'$invoice'},'suppliers':{'$first':_0x29039(0x1f9)},'date':{'$first':_0x29039(0x209)},'warehouse_name':{'$first':'$warehouse_name'},'room':{'$addToSet':_0x29039(0x214)},'product':{'$push':_0x29039(0x1fb)},'note':{'$first':_0x29039(0x201)},'paid_amount':{'$first':_0x29039(0x1f1)},'due_amount':{'$first':'$due_amount'},'return_data':{'$first':_0x29039(0x1ff)},'batch_code':{'$first':_0x29039(0x205)},'expiry_date':{'$first':'$expiry_date'},'suppliers_docs':{'$first':_0x29039(0x1f4)},'total_product_quantity':{'$sum':'$product.quantity'},'level':{'$addToSet':'$product.bay'},'isle':{'$addToSet':_0x29039(0x208)},'type':{'$addToSet':'$product.type'},'floorlevel':{'$addToSet':_0x29039(0x20d)},'finalize':{'$first':'$finalize'}}},{'$sort':{'_id':0x1}},{'$project':{'_id':0x1,'invoice':0x1,'suppliers':0x1,'date':0x1,'warehouse_name':0x1,'room':0x1,'product':0x1,'note':0x1,'paid_amount':0x1,'due_amount':0x1,'return_data':0x1,'batch_code':0x1,'expiry_date':0x1,'suppliers_docs':0x1,'total_product_quantity':0x1,'level':0x1,'isle':0x1,'type':0x1,'floorlevel':0x1,'finalize':0x1}},{'$skip':_0xab656f},{'$limit':_0x297c1f-_0xab656f}]),_0x9a0b15[_0x29039(0x1f7)](_0x5de0e1);}catch(_0x5c5001){console['log'](_0x29039(0x1ef),_0x5c5001),_0x9a0b15[_0x29039(0x1f3)](0xc8)[_0x29039(0x1f7)]({'message':_0x5c5001[_0x29039(0x213)]});}}),module[a0_0x9cfb69(0x211)]=router;function a0_0x53c3(){const _0x30fcc5=['path','$paid_amount','173037qpSOMP','status','$suppliers_docs','224302GmQUBC','$_id','json','../middleware/auth','$suppliers','384085ReYXWW','$product','start','20QYkVHj','7kNxZzw','$return_data','663oWLhbo','$note','2283446nvfXwN','suppliers_docs','ejs','$batch_code','nodemailer','query','$product.bin','$date','Router','get','aggregate','$product.floorlevel','18BBUBcr','642456uWyWza','2920KjqFKY','exports','express','message','$product.room_name','name','2341168GxHtZh','table\x20page'];a0_0x53c3=function(){return _0x30fcc5;};return a0_0x53c3();}