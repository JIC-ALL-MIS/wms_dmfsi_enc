function a0_0x4d1b(_0x21086f,_0x372455){const _0x1b685b=a0_0x1b68();return a0_0x4d1b=function(_0x4d1bb8,_0xae5838){_0x4d1bb8=_0x4d1bb8-0x1ee;let _0x43e345=_0x1b685b[_0x4d1bb8];return _0x43e345;},a0_0x4d1b(_0x21086f,_0x372455);}const a0_0x19abe1=a0_0x4d1b;(function(_0x1d7e82,_0x5a05c2){const _0x4769ca=a0_0x4d1b,_0x4adac4=_0x1d7e82();while(!![]){try{const _0x1d679b=parseInt(_0x4769ca(0x1f5))/0x1*(-parseInt(_0x4769ca(0x20c))/0x2)+-parseInt(_0x4769ca(0x1f2))/0x3*(parseInt(_0x4769ca(0x214))/0x4)+parseInt(_0x4769ca(0x1f1))/0x5*(parseInt(_0x4769ca(0x1f6))/0x6)+parseInt(_0x4769ca(0x211))/0x7*(-parseInt(_0x4769ca(0x1f7))/0x8)+parseInt(_0x4769ca(0x1ff))/0x9+parseInt(_0x4769ca(0x207))/0xa*(-parseInt(_0x4769ca(0x20a))/0xb)+-parseInt(_0x4769ca(0x208))/0xc*(-parseInt(_0x4769ca(0x215))/0xd);if(_0x1d679b===_0x5a05c2)break;else _0x4adac4['push'](_0x4adac4['shift']());}catch(_0x37212c){_0x4adac4['push'](_0x4adac4['shift']());}}}(a0_0x1b68,0x77595));function a0_0x1b68(){const _0x758580=['body','nodemailer','1682513eVtCeY','aggregate','message','1314408uvAoDI','21126157JVanIn','INC-','post','status','Raw\x20Materials','/room','5gEQrYj','3qFUxGC','Enabled','Router','1FByVAM','3915858amUuge','32MZLFRV','find','path','../models/all_models','table\x20page','express','floor','length','8627211nVIKEF','Return\x20Goods','log','$name','$_id','/invoice','findOne','../middleware/auth','510YAsJPd','12MNEaUh','/view','157091ACCGrC','json','1458178ZohaVh','/supplier','../public/language/languages.json'];a0_0x1b68=function(){return _0x758580;};return a0_0x1b68();}const express=require(a0_0x19abe1(0x1fc)),app=express(),router=express[a0_0x19abe1(0x1f4)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x19abe1(0x1fa)),auth=require(a0_0x19abe1(0x206)),nodemailer=require(a0_0x19abe1(0x210));var ejs=require('ejs');const path=require(a0_0x19abe1(0x1f9)),users=require(a0_0x19abe1(0x20e));router[a0_0x19abe1(0x217)](a0_0x19abe1(0x209),async(_0x399375,_0x3968f1)=>{const _0x1e59d0=a0_0x19abe1;try{const {warehouse_category:_0x193559}=_0x399375['body'];if(_0x193559=='RM'){const _0x1ce45d=await warehouse[_0x1e59d0(0x212)]([{'$match':{'status':'Enabled','warehouse_category':_0x1e59d0(0x1ef),'name':{'$ne':_0x1e59d0(0x200)}}},{'$group':{'_id':_0x1e59d0(0x202),'name':{'$first':_0x1e59d0(0x202)}}}]);_0x3968f1[_0x1e59d0(0x20b)](_0x1ce45d);}else{const _0x3bb422=await warehouse['aggregate']([{'$match':{'status':_0x1e59d0(0x1f3),'warehouse_category':'Finished\x20Goods','name':{'$ne':_0x1e59d0(0x200)}}},{'$group':{'_id':_0x1e59d0(0x202),'name':{'$first':_0x1e59d0(0x202)}}}]);_0x3968f1['json'](_0x3bb422);}}catch(_0x466a5f){console[_0x1e59d0(0x201)](_0x1e59d0(0x1fb),_0x466a5f),_0x3968f1[_0x1e59d0(0x1ee)](0xc8)[_0x1e59d0(0x20b)]({'message':_0x466a5f[_0x1e59d0(0x213)]});}}),router[a0_0x19abe1(0x217)](a0_0x19abe1(0x20d),async(_0x516e39,_0x21c3ff)=>{const _0x51dca4=a0_0x19abe1;try{const _0x22ff91=await suppliers[_0x51dca4(0x1f8)]({});_0x21c3ff[_0x51dca4(0x1ee)](0xc8)[_0x51dca4(0x20b)](_0x22ff91);}catch(_0x1348f2){console[_0x51dca4(0x201)](_0x51dca4(0x1fb),_0x1348f2),_0x21c3ff[_0x51dca4(0x1ee)](0xc8)[_0x51dca4(0x20b)]({'message':_0x1348f2[_0x51dca4(0x213)]});}}),router[a0_0x19abe1(0x217)](a0_0x19abe1(0x1f0),async(_0x90b2f0,_0x4d106b)=>{const _0x45df5f=a0_0x19abe1;try{const {wahouse_data:_0x359c24}=_0x90b2f0[_0x45df5f(0x20f)],_0x3a47de=[{'$match':{'name':_0x359c24,'status':'Enabled'}},{'$group':{'_id':_0x45df5f(0x203),'room_name':{'$first':'$room'}}},{'$sort':{'room_name':0x1}}],_0x521825=await warehouse[_0x45df5f(0x212)](_0x3a47de);_0x4d106b[_0x45df5f(0x1ee)](0xc8)[_0x45df5f(0x20b)](_0x521825);}catch(_0x9d90a8){console[_0x45df5f(0x201)](_0x45df5f(0x1fb),_0x9d90a8),_0x4d106b['status'](0xc8)['json']({'message':_0x9d90a8[_0x45df5f(0x213)]});}}),router[a0_0x19abe1(0x217)](a0_0x19abe1(0x204),async(_0x316f61,_0x6b3fac)=>{const _0x56f764=a0_0x19abe1;try{const _0x541876=0x989680,_0xb2bd54=0x5f5e0ff,_0x488db2=Math[_0x56f764(0x1fd)](Math['random']()*(_0xb2bd54-_0x541876+0x1))+_0x541876;var _0x5eef58;const _0x350361=await purchases[_0x56f764(0x205)]({'invoice':_0x56f764(0x216)+_0x488db2});return _0x350361&&_0x350361[_0x56f764(0x1fe)]>0x0?_0x5eef58='INC-'+_0x488db2:_0x5eef58='INC-'+_0x488db2,_0x6b3fac[_0x56f764(0x20b)]({'incoming_invoice':_0x5eef58}),_0x5eef58;}catch(_0xcd342c){console[_0x56f764(0x201)](_0x56f764(0x1fb),_0xcd342c),_0x6b3fac[_0x56f764(0x1ee)](0xc8)['json']({'message':_0xcd342c[_0x56f764(0x213)]});}}),module['exports']=router;