function a0_0x15c7(){const _0x2115c7=['../middleware/auth','../public/language/languages.json','$name','11058FMKaOg','15353052LYddKQ','8210EaYGcD','post','floor','Enabled','express','aggregate','245757SdsqvW','Raw\x20Materials','findOne','2695BClIAi','log','INC-','/supplier','3247917sIrphZ','/invoice','Return\x20Goods','table\x20page','1960tnaoYX','32229nUJWaJ','628IcrhFJ','9749100xEfxuH','$room','exports','/room','status','json','message','body','length','$_id','2nGjAqp','ejs'];a0_0x15c7=function(){return _0x2115c7;};return a0_0x15c7();}const a0_0x3c9872=a0_0x4c9f;(function(_0x15fed3,_0x3f7ba4){const _0x15f668=a0_0x4c9f,_0x9e31ab=_0x15fed3();while(!![]){try{const _0x43d067=parseInt(_0x15f668(0x18f))/0x1+parseInt(_0x15f668(0x182))/0x2*(parseInt(_0x15f668(0x171))/0x3)+parseInt(_0x15f668(0x177))/0x4*(-parseInt(_0x15f668(0x189))/0x5)+parseInt(_0x15f668(0x187))/0x6*(-parseInt(_0x15f668(0x192))/0x7)+-parseInt(_0x15f668(0x175))/0x8*(-parseInt(_0x15f668(0x176))/0x9)+parseInt(_0x15f668(0x178))/0xa+-parseInt(_0x15f668(0x188))/0xb;if(_0x43d067===_0x3f7ba4)break;else _0x9e31ab['push'](_0x9e31ab['shift']());}catch(_0x4f6b87){_0x9e31ab['push'](_0x9e31ab['shift']());}}}(a0_0x15c7,0xc79a2));const express=require(a0_0x3c9872(0x18d)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require('../models/all_models'),auth=require(a0_0x3c9872(0x184)),nodemailer=require('nodemailer');var ejs=require(a0_0x3c9872(0x183));function a0_0x4c9f(_0x1304ec,_0x391bd0){const _0x15c7b8=a0_0x15c7();return a0_0x4c9f=function(_0x4c9fee,_0x5d4714){_0x4c9fee=_0x4c9fee-0x170;let _0x2fb72d=_0x15c7b8[_0x4c9fee];return _0x2fb72d;},a0_0x4c9f(_0x1304ec,_0x391bd0);}const path=require('path'),users=require(a0_0x3c9872(0x185));router[a0_0x3c9872(0x18a)]('/view',async(_0x38078f,_0x32747e)=>{const _0x2bf2a0=a0_0x3c9872;try{const {warehouse_category:_0x4eafe2}=_0x38078f[_0x2bf2a0(0x17f)];if(_0x4eafe2=='RM'){const _0x1b3917=await warehouse[_0x2bf2a0(0x18e)]([{'$match':{'status':_0x2bf2a0(0x18c),'warehouse_category':_0x2bf2a0(0x190),'name':{'$ne':_0x2bf2a0(0x173)}}},{'$group':{'_id':_0x2bf2a0(0x186),'name':{'$first':_0x2bf2a0(0x186)}}}]);_0x32747e[_0x2bf2a0(0x17d)](_0x1b3917);}else{const _0x18e885=await warehouse[_0x2bf2a0(0x18e)]([{'$match':{'status':_0x2bf2a0(0x18c),'warehouse_category':'Finished\x20Goods','name':{'$ne':_0x2bf2a0(0x173)}}},{'$group':{'_id':_0x2bf2a0(0x186),'name':{'$first':_0x2bf2a0(0x186)}}}]);_0x32747e[_0x2bf2a0(0x17d)](_0x18e885);}}catch(_0x38e250){console[_0x2bf2a0(0x193)](_0x2bf2a0(0x174),_0x38e250),_0x32747e['status'](0xc8)[_0x2bf2a0(0x17d)]({'message':_0x38e250[_0x2bf2a0(0x17e)]});}}),router[a0_0x3c9872(0x18a)](a0_0x3c9872(0x170),async(_0x1b9f5f,_0x24c9dc)=>{const _0x2693bb=a0_0x3c9872;try{const _0x4e9754=await suppliers['find']({});_0x24c9dc[_0x2693bb(0x17c)](0xc8)[_0x2693bb(0x17d)](_0x4e9754);}catch(_0x57aff2){console[_0x2693bb(0x193)](_0x2693bb(0x174),_0x57aff2),_0x24c9dc[_0x2693bb(0x17c)](0xc8)[_0x2693bb(0x17d)]({'message':_0x57aff2['message']});}}),router[a0_0x3c9872(0x18a)](a0_0x3c9872(0x17b),async(_0x23f7b6,_0x37a35f)=>{const _0x11a62c=a0_0x3c9872;try{const {wahouse_data:_0x3dd70c}=_0x23f7b6[_0x11a62c(0x17f)],_0x49e999=[{'$match':{'name':_0x3dd70c,'status':_0x11a62c(0x18c)}},{'$group':{'_id':_0x11a62c(0x181),'room_name':{'$first':_0x11a62c(0x179)}}},{'$sort':{'room_name':0x1}}],_0x1c8534=await warehouse[_0x11a62c(0x18e)](_0x49e999);_0x37a35f[_0x11a62c(0x17c)](0xc8)[_0x11a62c(0x17d)](_0x1c8534);}catch(_0x5bd2e7){console['log'](_0x11a62c(0x174),_0x5bd2e7),_0x37a35f[_0x11a62c(0x17c)](0xc8)[_0x11a62c(0x17d)]({'message':_0x5bd2e7[_0x11a62c(0x17e)]});}}),router[a0_0x3c9872(0x18a)](a0_0x3c9872(0x172),async(_0x8d4dbd,_0x1b7f0c)=>{const _0x4d7250=a0_0x3c9872;try{const _0x53dd93=0x989680,_0x156c87=0x5f5e0ff,_0x261511=Math[_0x4d7250(0x18b)](Math['random']()*(_0x156c87-_0x53dd93+0x1))+_0x53dd93;var _0x266b26;const _0x4fd231=await purchases[_0x4d7250(0x191)]({'invoice':_0x4d7250(0x194)+_0x261511});return _0x4fd231&&_0x4fd231[_0x4d7250(0x180)]>0x0?_0x266b26=_0x4d7250(0x194)+_0x261511:_0x266b26=_0x4d7250(0x194)+_0x261511,_0x1b7f0c['json']({'incoming_invoice':_0x266b26}),_0x266b26;}catch(_0xaf9cc7){console['log'](_0x4d7250(0x174),_0xaf9cc7),_0x1b7f0c[_0x4d7250(0x17c)](0xc8)[_0x4d7250(0x17d)]({'message':_0xaf9cc7['message']});}}),module[a0_0x3c9872(0x17a)]=router;