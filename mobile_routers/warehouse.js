const a0_0xe1b40e=a0_0x5dd3;(function(_0x3dc7b9,_0x3a0bcc){const _0x3e0b0c=a0_0x5dd3,_0x2928d2=_0x3dc7b9();while(!![]){try{const _0x45b74b=-parseInt(_0x3e0b0c(0x1eb))/0x1+parseInt(_0x3e0b0c(0x1f5))/0x2+parseInt(_0x3e0b0c(0x204))/0x3+-parseInt(_0x3e0b0c(0x20d))/0x4+parseInt(_0x3e0b0c(0x1ed))/0x5*(parseInt(_0x3e0b0c(0x1f7))/0x6)+-parseInt(_0x3e0b0c(0x1f8))/0x7*(-parseInt(_0x3e0b0c(0x1fe))/0x8)+parseInt(_0x3e0b0c(0x207))/0x9*(-parseInt(_0x3e0b0c(0x20e))/0xa);if(_0x45b74b===_0x3a0bcc)break;else _0x2928d2['push'](_0x2928d2['shift']());}catch(_0x242448){_0x2928d2['push'](_0x2928d2['shift']());}}}(a0_0x4376,0x8b838));function a0_0x4376(){const _0x128f8d=['post','/supplier','2322645PwSVwf','aggregate','$name','126648XFElxR','nodemailer','log','../models/all_models','message','Enabled','3506972DQWoCO','40kiGAea','../public/language/languages.json','find','/view','express','639758adWbkU','INC-','25qifDLR','random','ejs','Finished\x20Goods','json','$room','table\x20page','Return\x20Goods','309764UXpKTJ','Raw\x20Materials','101406kfbvHr','25949NWMaZr','floor','path','body','length','$_id','2440pYqpGY','findOne','status','/invoice'];a0_0x4376=function(){return _0x128f8d;};return a0_0x4376();}const express=require(a0_0xe1b40e(0x1ea)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0xe1b40e(0x20a)),auth=require('../middleware/auth'),nodemailer=require(a0_0xe1b40e(0x208));function a0_0x5dd3(_0x2b529e,_0x45a0ef){const _0x4376f0=a0_0x4376();return a0_0x5dd3=function(_0x5dd369,_0x32210d){_0x5dd369=_0x5dd369-0x1ea;let _0x59e945=_0x4376f0[_0x5dd369];return _0x59e945;},a0_0x5dd3(_0x2b529e,_0x45a0ef);}var ejs=require(a0_0xe1b40e(0x1ef));const path=require(a0_0xe1b40e(0x1fa)),users=require(a0_0xe1b40e(0x20f));router[a0_0xe1b40e(0x202)](a0_0xe1b40e(0x211),async(_0x103949,_0x32abc6)=>{const _0x2fd68f=a0_0xe1b40e;try{const {warehouse_category:_0x3dbdbb}=_0x103949[_0x2fd68f(0x1fb)];if(_0x3dbdbb=='RM'){const _0x1c86be=await warehouse[_0x2fd68f(0x205)]([{'$match':{'status':_0x2fd68f(0x20c),'warehouse_category':_0x2fd68f(0x1f6),'name':{'$ne':_0x2fd68f(0x1f4)}}},{'$group':{'_id':'$name','name':{'$first':'$name'}}}]);_0x32abc6['json'](_0x1c86be);}else{const _0x542311=await warehouse['aggregate']([{'$match':{'status':'Enabled','warehouse_category':_0x2fd68f(0x1f0),'name':{'$ne':_0x2fd68f(0x1f4)}}},{'$group':{'_id':_0x2fd68f(0x206),'name':{'$first':_0x2fd68f(0x206)}}}]);_0x32abc6[_0x2fd68f(0x1f1)](_0x542311);}}catch(_0x5e6326){console[_0x2fd68f(0x209)](_0x2fd68f(0x1f3),_0x5e6326),_0x32abc6['status'](0xc8)['json']({'message':_0x5e6326[_0x2fd68f(0x20b)]});}}),router['post'](a0_0xe1b40e(0x203),async(_0x53191d,_0x1f95f2)=>{const _0x24c24a=a0_0xe1b40e;try{const _0x3a96f4=await suppliers[_0x24c24a(0x210)]({});_0x1f95f2[_0x24c24a(0x200)](0xc8)[_0x24c24a(0x1f1)](_0x3a96f4);}catch(_0x358990){console[_0x24c24a(0x209)]('table\x20page',_0x358990),_0x1f95f2[_0x24c24a(0x200)](0xc8)['json']({'message':_0x358990[_0x24c24a(0x20b)]});}}),router['post']('/room',async(_0x4cf83e,_0x544065)=>{const _0x807677=a0_0xe1b40e;try{const {wahouse_data:_0xc2b207}=_0x4cf83e[_0x807677(0x1fb)],_0x5e27bd=[{'$match':{'name':_0xc2b207,'status':_0x807677(0x20c)}},{'$group':{'_id':_0x807677(0x1fd),'room_name':{'$first':_0x807677(0x1f2)}}},{'$sort':{'room_name':0x1}}],_0x5aa755=await warehouse[_0x807677(0x205)](_0x5e27bd);_0x544065[_0x807677(0x200)](0xc8)[_0x807677(0x1f1)](_0x5aa755);}catch(_0x4f6fb0){console[_0x807677(0x209)]('table\x20page',_0x4f6fb0),_0x544065[_0x807677(0x200)](0xc8)[_0x807677(0x1f1)]({'message':_0x4f6fb0[_0x807677(0x20b)]});}}),router[a0_0xe1b40e(0x202)](a0_0xe1b40e(0x201),async(_0x392383,_0x2fe306)=>{const _0x2901a5=a0_0xe1b40e;try{const _0x2706f6=0x989680,_0x30a251=0x5f5e0ff,_0x1de1b0=Math[_0x2901a5(0x1f9)](Math[_0x2901a5(0x1ee)]()*(_0x30a251-_0x2706f6+0x1))+_0x2706f6;var _0x409bcd;const _0x1df679=await purchases[_0x2901a5(0x1ff)]({'invoice':_0x2901a5(0x1ec)+_0x1de1b0});return _0x1df679&&_0x1df679[_0x2901a5(0x1fc)]>0x0?_0x409bcd=_0x2901a5(0x1ec)+_0x1de1b0:_0x409bcd=_0x2901a5(0x1ec)+_0x1de1b0,_0x2fe306[_0x2901a5(0x1f1)]({'incoming_invoice':_0x409bcd}),_0x409bcd;}catch(_0x59229b){console[_0x2901a5(0x209)]('table\x20page',_0x59229b),_0x2fe306[_0x2901a5(0x200)](0xc8)[_0x2901a5(0x1f1)]({'message':_0x59229b['message']});}}),module['exports']=router;