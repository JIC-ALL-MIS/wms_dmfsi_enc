const a0_0x37d844=a0_0x1647;(function(_0x4ceadf,_0x1123c5){const _0xe1204=a0_0x1647,_0x4e84b4=_0x4ceadf();while(!![]){try{const _0x18a4a5=-parseInt(_0xe1204(0x98))/0x1+parseInt(_0xe1204(0x8d))/0x2*(-parseInt(_0xe1204(0x87))/0x3)+-parseInt(_0xe1204(0xa0))/0x4+parseInt(_0xe1204(0x95))/0x5*(-parseInt(_0xe1204(0x8e))/0x6)+parseInt(_0xe1204(0xa4))/0x7*(parseInt(_0xe1204(0xa3))/0x8)+-parseInt(_0xe1204(0x89))/0x9*(parseInt(_0xe1204(0xa1))/0xa)+-parseInt(_0xe1204(0x90))/0xb*(-parseInt(_0xe1204(0x9d))/0xc);if(_0x18a4a5===_0x1123c5)break;else _0x4e84b4['push'](_0x4e84b4['shift']());}catch(_0x2b2647){_0x4e84b4['push'](_0x4e84b4['shift']());}}}(a0_0x2f7d,0xa92c7));const express=require(a0_0x37d844(0x99)),app=express(),router=express[a0_0x37d844(0x84)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x37d844(0x96)),auth=require(a0_0x37d844(0x97)),nodemailer=require(a0_0x37d844(0x94));function a0_0x1647(_0x1648a8,_0x6677a2){const _0x2f7dff=a0_0x2f7d();return a0_0x1647=function(_0x16470f,_0xdc9fac){_0x16470f=_0x16470f-0x7e;let _0x1ffb58=_0x2f7dff[_0x16470f];return _0x1ffb58;},a0_0x1647(_0x1648a8,_0x6677a2);}function a0_0x2f7d(){const _0x14e0ce=['1147824JPeQwz','ejs','34906553tkibRs','findOne','Return\x20Goods','$_id','nodemailer','15aucJsZ','../models/all_models','../middleware/auth','634417DFAwkh','express','$room','floor','INC-','12fAFwrL','$name','json','1008644pkbizm','82510Trxrdb','table\x20page','40XOlBFq','703101LEoyAV','message','status','Enabled','/supplier','body','length','exports','find','Router','post','/invoice','3IpkTjs','aggregate','738FsVsFT','Finished\x20Goods','log','random','1691062qcCKco'];a0_0x2f7d=function(){return _0x14e0ce;};return a0_0x2f7d();}var ejs=require(a0_0x37d844(0x8f));const path=require('path'),users=require('../public/language/languages.json');router[a0_0x37d844(0x85)]('/view',async(_0x2fa6eb,_0x319868)=>{const _0x51a9ca=a0_0x37d844;try{const {warehouse_category:_0x2ddda3}=_0x2fa6eb[_0x51a9ca(0x80)];if(_0x2ddda3=='RM'){const _0x1d3a6a=await warehouse['aggregate']([{'$match':{'status':'Enabled','warehouse_category':'Raw\x20Materials','name':{'$ne':_0x51a9ca(0x92)}}},{'$group':{'_id':_0x51a9ca(0x9e),'name':{'$first':_0x51a9ca(0x9e)}}}]);_0x319868[_0x51a9ca(0x9f)](_0x1d3a6a);}else{const _0x4abd3e=await warehouse[_0x51a9ca(0x88)]([{'$match':{'status':_0x51a9ca(0x7e),'warehouse_category':_0x51a9ca(0x8a),'name':{'$ne':_0x51a9ca(0x92)}}},{'$group':{'_id':_0x51a9ca(0x9e),'name':{'$first':_0x51a9ca(0x9e)}}}]);_0x319868[_0x51a9ca(0x9f)](_0x4abd3e);}}catch(_0x50a8cf){console[_0x51a9ca(0x8b)](_0x51a9ca(0xa2),_0x50a8cf),_0x319868['status'](0xc8)[_0x51a9ca(0x9f)]({'message':_0x50a8cf[_0x51a9ca(0xa5)]});}}),router['post'](a0_0x37d844(0x7f),async(_0x2dcefd,_0x3e15f9)=>{const _0x1b329c=a0_0x37d844;try{const _0xee56a6=await suppliers[_0x1b329c(0x83)]({});_0x3e15f9[_0x1b329c(0xa6)](0xc8)['json'](_0xee56a6);}catch(_0x1e0cde){console['log'](_0x1b329c(0xa2),_0x1e0cde),_0x3e15f9[_0x1b329c(0xa6)](0xc8)[_0x1b329c(0x9f)]({'message':_0x1e0cde[_0x1b329c(0xa5)]});}}),router[a0_0x37d844(0x85)]('/room',async(_0x1bbc8e,_0x454ca5)=>{const _0x5a3b46=a0_0x37d844;try{const {wahouse_data:_0x29ff75}=_0x1bbc8e[_0x5a3b46(0x80)],_0x1c8e68=[{'$match':{'name':_0x29ff75,'status':_0x5a3b46(0x7e)}},{'$group':{'_id':_0x5a3b46(0x93),'room_name':{'$first':_0x5a3b46(0x9a)}}},{'$sort':{'room_name':0x1}}],_0x43fc8e=await warehouse[_0x5a3b46(0x88)](_0x1c8e68);_0x454ca5[_0x5a3b46(0xa6)](0xc8)[_0x5a3b46(0x9f)](_0x43fc8e);}catch(_0x80579e){console[_0x5a3b46(0x8b)](_0x5a3b46(0xa2),_0x80579e),_0x454ca5['status'](0xc8)[_0x5a3b46(0x9f)]({'message':_0x80579e[_0x5a3b46(0xa5)]});}}),router[a0_0x37d844(0x85)](a0_0x37d844(0x86),async(_0x3cf78c,_0x362120)=>{const _0x1c2f04=a0_0x37d844;try{const _0xc674b6=0x989680,_0x11b15c=0x5f5e0ff,_0x358adc=Math[_0x1c2f04(0x9b)](Math[_0x1c2f04(0x8c)]()*(_0x11b15c-_0xc674b6+0x1))+_0xc674b6;var _0x11613e;const _0x245031=await purchases[_0x1c2f04(0x91)]({'invoice':'INC-'+_0x358adc});return _0x245031&&_0x245031[_0x1c2f04(0x81)]>0x0?_0x11613e=_0x1c2f04(0x9c)+_0x358adc:_0x11613e=_0x1c2f04(0x9c)+_0x358adc,_0x362120[_0x1c2f04(0x9f)]({'incoming_invoice':_0x11613e}),_0x11613e;}catch(_0x9e742a){console[_0x1c2f04(0x8b)]('table\x20page',_0x9e742a),_0x362120[_0x1c2f04(0xa6)](0xc8)[_0x1c2f04(0x9f)]({'message':_0x9e742a[_0x1c2f04(0xa5)]});}}),module[a0_0x37d844(0x82)]=router;