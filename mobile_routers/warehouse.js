function a0_0x229b(){const _0x1972ce=['../models/all_models','nodemailer','INC-','/room','$name','Return\x20Goods','12fFwpQy','message','aggregate','3420545lkiNKz','random','ejs','4xEfEeC','20Knelgl','2460456jdlTHP','post','$room','json','status','/supplier','log','1009955RcGroN','2JCzYYq','body','express','/view','1567379ncmsts','table\x20page','4220163jDrxdY','Finished\x20Goods','path','../public/language/languages.json','exports','2171958EyRzHv','178759kfBUYS','length','Enabled'];a0_0x229b=function(){return _0x1972ce;};return a0_0x229b();}const a0_0x24d287=a0_0x3dc9;(function(_0x5544fd,_0x344c21){const _0x23f7f5=a0_0x3dc9,_0x447744=_0x5544fd();while(!![]){try{const _0x15f1df=parseInt(_0x23f7f5(0x1f4))/0x1*(parseInt(_0x23f7f5(0x1f5))/0x2)+parseInt(_0x23f7f5(0x200))/0x3+-parseInt(_0x23f7f5(0x1eb))/0x4*(parseInt(_0x23f7f5(0x1e8))/0x5)+parseInt(_0x23f7f5(0x20a))/0x6*(-parseInt(_0x23f7f5(0x201))/0x7)+parseInt(_0x23f7f5(0x1ed))/0x8+-parseInt(_0x23f7f5(0x1fb))/0x9*(parseInt(_0x23f7f5(0x1ec))/0xa)+parseInt(_0x23f7f5(0x1f9))/0xb;if(_0x15f1df===_0x344c21)break;else _0x447744['push'](_0x447744['shift']());}catch(_0x47034d){_0x447744['push'](_0x447744['shift']());}}}(a0_0x229b,0x7cc0e));const express=require(a0_0x24d287(0x1f7)),app=express(),router=express['Router'](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x24d287(0x204)),auth=require('../middleware/auth'),nodemailer=require(a0_0x24d287(0x205));var ejs=require(a0_0x24d287(0x1ea));const path=require(a0_0x24d287(0x1fd)),users=require(a0_0x24d287(0x1fe));function a0_0x3dc9(_0x559388,_0x529e14){const _0x229b40=a0_0x229b();return a0_0x3dc9=function(_0x3dc942,_0x594bf0){_0x3dc942=_0x3dc942-0x1e6;let _0x38bb7b=_0x229b40[_0x3dc942];return _0x38bb7b;},a0_0x3dc9(_0x559388,_0x529e14);}router[a0_0x24d287(0x1ee)](a0_0x24d287(0x1f8),async(_0xffdf84,_0x1bd407)=>{const _0x3aa4ac=a0_0x24d287;try{const {warehouse_category:_0x44d167}=_0xffdf84[_0x3aa4ac(0x1f6)];if(_0x44d167=='RM'){const _0x5c4892=await warehouse[_0x3aa4ac(0x1e7)]([{'$match':{'status':_0x3aa4ac(0x203),'warehouse_category':'Raw\x20Materials','name':{'$ne':_0x3aa4ac(0x209)}}},{'$group':{'_id':_0x3aa4ac(0x208),'name':{'$first':_0x3aa4ac(0x208)}}}]);_0x1bd407[_0x3aa4ac(0x1f0)](_0x5c4892);}else{const _0x926bb4=await warehouse[_0x3aa4ac(0x1e7)]([{'$match':{'status':_0x3aa4ac(0x203),'warehouse_category':_0x3aa4ac(0x1fc),'name':{'$ne':_0x3aa4ac(0x209)}}},{'$group':{'_id':_0x3aa4ac(0x208),'name':{'$first':_0x3aa4ac(0x208)}}}]);_0x1bd407[_0x3aa4ac(0x1f0)](_0x926bb4);}}catch(_0x4addd5){console[_0x3aa4ac(0x1f3)](_0x3aa4ac(0x1fa),_0x4addd5),_0x1bd407['status'](0xc8)['json']({'message':_0x4addd5[_0x3aa4ac(0x1e6)]});}}),router[a0_0x24d287(0x1ee)](a0_0x24d287(0x1f2),async(_0x455764,_0x3aca46)=>{const _0x175a3c=a0_0x24d287;try{const _0x3dd388=await suppliers['find']({});_0x3aca46[_0x175a3c(0x1f1)](0xc8)[_0x175a3c(0x1f0)](_0x3dd388);}catch(_0x19487d){console[_0x175a3c(0x1f3)](_0x175a3c(0x1fa),_0x19487d),_0x3aca46[_0x175a3c(0x1f1)](0xc8)['json']({'message':_0x19487d['message']});}}),router[a0_0x24d287(0x1ee)](a0_0x24d287(0x207),async(_0x4d1e15,_0x1d3766)=>{const _0x55ee18=a0_0x24d287;try{const {wahouse_data:_0x4d8bdf}=_0x4d1e15['body'],_0x31c941=[{'$match':{'name':_0x4d8bdf,'status':_0x55ee18(0x203)}},{'$group':{'_id':'$_id','room_name':{'$first':_0x55ee18(0x1ef)}}},{'$sort':{'room_name':0x1}}],_0x30389a=await warehouse[_0x55ee18(0x1e7)](_0x31c941);_0x1d3766['status'](0xc8)[_0x55ee18(0x1f0)](_0x30389a);}catch(_0x29e3bb){console[_0x55ee18(0x1f3)](_0x55ee18(0x1fa),_0x29e3bb),_0x1d3766[_0x55ee18(0x1f1)](0xc8)[_0x55ee18(0x1f0)]({'message':_0x29e3bb[_0x55ee18(0x1e6)]});}}),router[a0_0x24d287(0x1ee)]('/invoice',async(_0x5a50fd,_0x368be1)=>{const _0x187ae7=a0_0x24d287;try{const _0x220d9c=0x989680,_0x1fe8dd=0x5f5e0ff,_0x40d71e=Math['floor'](Math[_0x187ae7(0x1e9)]()*(_0x1fe8dd-_0x220d9c+0x1))+_0x220d9c;var _0x2e6728;const _0x3e3970=await purchases['findOne']({'invoice':_0x187ae7(0x206)+_0x40d71e});return _0x3e3970&&_0x3e3970[_0x187ae7(0x202)]>0x0?_0x2e6728='INC-'+_0x40d71e:_0x2e6728='INC-'+_0x40d71e,_0x368be1[_0x187ae7(0x1f0)]({'incoming_invoice':_0x2e6728}),_0x2e6728;}catch(_0x35cb61){console['log'](_0x187ae7(0x1fa),_0x35cb61),_0x368be1['status'](0xc8)[_0x187ae7(0x1f0)]({'message':_0x35cb61['message']});}}),module[a0_0x24d287(0x1ff)]=router;