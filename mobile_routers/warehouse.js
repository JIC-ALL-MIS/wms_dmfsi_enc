function a0_0x283c(){const _0x32e663=['6252988tVLEHU','Enabled','2122194nuPJXt','/supplier','json','Router','86744MzKpkh','length','random','exports','table\x20page','$name','express','1032358ldmNAH','nodemailer','5UIaiLy','floor','INC-','../models/all_models','$room','33KLAimd','log','/view','476osluLx','body','3134313WutktA','21079230xIvuiK','find','Raw\x20Materials','post','aggregate','message','findOne','75406bWwJTg','status','../middleware/auth'];a0_0x283c=function(){return _0x32e663;};return a0_0x283c();}function a0_0x52c1(_0x1891e2,_0x30fe6d){const _0x283c59=a0_0x283c();return a0_0x52c1=function(_0x52c1c9,_0x1b8c8b){_0x52c1c9=_0x52c1c9-0x1d9;let _0x291702=_0x283c59[_0x52c1c9];return _0x291702;},a0_0x52c1(_0x1891e2,_0x30fe6d);}const a0_0x5ad4b3=a0_0x52c1;(function(_0x3ca279,_0x2db9ae){const _0x2553ce=a0_0x52c1,_0x1d52ee=_0x3ca279();while(!![]){try{const _0x152684=-parseInt(_0x2553ce(0x1dc))/0x1+parseInt(_0x2553ce(0x1f0))/0x2*(-parseInt(_0x2553ce(0x1e3))/0x3)+parseInt(_0x2553ce(0x1f3))/0x4+-parseInt(_0x2553ce(0x1de))/0x5*(parseInt(_0x2553ce(0x1f5))/0x6)+-parseInt(_0x2553ce(0x1e6))/0x7*(parseInt(_0x2553ce(0x1f9))/0x8)+-parseInt(_0x2553ce(0x1e8))/0x9+parseInt(_0x2553ce(0x1e9))/0xa;if(_0x152684===_0x2db9ae)break;else _0x1d52ee['push'](_0x1d52ee['shift']());}catch(_0x428a8f){_0x1d52ee['push'](_0x1d52ee['shift']());}}}(a0_0x283c,0xbf99f));const express=require(a0_0x5ad4b3(0x1db)),app=express(),router=express[a0_0x5ad4b3(0x1f8)](),{profile,master_shop,categories,brands,units,product,warehouse,staff,customer,suppliers,purchases,purchases_return,suppliers_payment,s_payment_data,email_settings,supervisor_settings}=require(a0_0x5ad4b3(0x1e1)),auth=require(a0_0x5ad4b3(0x1f2)),nodemailer=require(a0_0x5ad4b3(0x1dd));var ejs=require('ejs');const path=require('path'),users=require('../public/language/languages.json');router[a0_0x5ad4b3(0x1ec)](a0_0x5ad4b3(0x1e5),async(_0x1f2703,_0x1c2252)=>{const _0x4d3850=a0_0x5ad4b3;try{const {warehouse_category:_0x3cd18c}=_0x1f2703[_0x4d3850(0x1e7)];if(_0x3cd18c=='RM'){const _0x20438b=await warehouse[_0x4d3850(0x1ed)]([{'$match':{'status':_0x4d3850(0x1f4),'warehouse_category':_0x4d3850(0x1eb),'name':{'$ne':'Return\x20Goods'}}},{'$group':{'_id':_0x4d3850(0x1da),'name':{'$first':_0x4d3850(0x1da)}}}]);_0x1c2252[_0x4d3850(0x1f7)](_0x20438b);}else{const _0x279dba=await warehouse[_0x4d3850(0x1ed)]([{'$match':{'status':_0x4d3850(0x1f4),'warehouse_category':'Finished\x20Goods','name':{'$ne':'Return\x20Goods'}}},{'$group':{'_id':_0x4d3850(0x1da),'name':{'$first':_0x4d3850(0x1da)}}}]);_0x1c2252[_0x4d3850(0x1f7)](_0x279dba);}}catch(_0x196c39){console[_0x4d3850(0x1e4)](_0x4d3850(0x1d9),_0x196c39),_0x1c2252[_0x4d3850(0x1f1)](0xc8)['json']({'message':_0x196c39[_0x4d3850(0x1ee)]});}}),router[a0_0x5ad4b3(0x1ec)](a0_0x5ad4b3(0x1f6),async(_0x462dd9,_0x102e6e)=>{const _0x50c8e2=a0_0x5ad4b3;try{const _0x1eaae0=await suppliers[_0x50c8e2(0x1ea)]({});_0x102e6e[_0x50c8e2(0x1f1)](0xc8)[_0x50c8e2(0x1f7)](_0x1eaae0);}catch(_0xcdfa6){console['log'](_0x50c8e2(0x1d9),_0xcdfa6),_0x102e6e[_0x50c8e2(0x1f1)](0xc8)[_0x50c8e2(0x1f7)]({'message':_0xcdfa6[_0x50c8e2(0x1ee)]});}}),router[a0_0x5ad4b3(0x1ec)]('/room',async(_0x37d8e2,_0xe47a0d)=>{const _0x4bb4ef=a0_0x5ad4b3;try{const {wahouse_data:_0x195816}=_0x37d8e2['body'],_0x42e705=[{'$match':{'name':_0x195816,'status':_0x4bb4ef(0x1f4)}},{'$group':{'_id':'$_id','room_name':{'$first':_0x4bb4ef(0x1e2)}}},{'$sort':{'room_name':0x1}}],_0x234a31=await warehouse[_0x4bb4ef(0x1ed)](_0x42e705);_0xe47a0d[_0x4bb4ef(0x1f1)](0xc8)['json'](_0x234a31);}catch(_0xcf2162){console[_0x4bb4ef(0x1e4)]('table\x20page',_0xcf2162),_0xe47a0d['status'](0xc8)[_0x4bb4ef(0x1f7)]({'message':_0xcf2162[_0x4bb4ef(0x1ee)]});}}),router[a0_0x5ad4b3(0x1ec)]('/invoice',async(_0x1a76ef,_0x174bbd)=>{const _0x5f4695=a0_0x5ad4b3;try{const _0x4460c5=0x989680,_0x3a7a65=0x5f5e0ff,_0x3b0420=Math[_0x5f4695(0x1df)](Math[_0x5f4695(0x1fb)]()*(_0x3a7a65-_0x4460c5+0x1))+_0x4460c5;var _0x4e7631;const _0x3ef34c=await purchases[_0x5f4695(0x1ef)]({'invoice':_0x5f4695(0x1e0)+_0x3b0420});return _0x3ef34c&&_0x3ef34c[_0x5f4695(0x1fa)]>0x0?_0x4e7631=_0x5f4695(0x1e0)+_0x3b0420:_0x4e7631=_0x5f4695(0x1e0)+_0x3b0420,_0x174bbd[_0x5f4695(0x1f7)]({'incoming_invoice':_0x4e7631}),_0x4e7631;}catch(_0xb78430){console[_0x5f4695(0x1e4)](_0x5f4695(0x1d9),_0xb78430),_0x174bbd[_0x5f4695(0x1f1)](0xc8)['json']({'message':_0xb78430[_0x5f4695(0x1ee)]});}}),module[a0_0x5ad4b3(0x1fc)]=router;